var tq=Object.defineProperty;var i_=e=>{throw TypeError(e)};var nq=(e,t,n)=>t in e?tq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var gt=(e,t,n)=>nq(e,typeof t!="symbol"?t+"":t,n),x2=(e,t,n)=>t.has(e)||i_("Cannot "+n);var Ye=(e,t,n)=>(x2(e,t,"read from private field"),n?n.call(e):t.get(e)),qn=(e,t,n)=>t.has(e)?i_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),jn=(e,t,n,s)=>(x2(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),Zs=(e,t,n)=>(x2(e,t,"access private method"),n);var H0=(e,t,n,s)=>({set _(i){jn(e,t,i,n)},get _(){return Ye(e,t,s)}});function rq(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var ln=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jI={exports:{}},hw={},CI={exports:{}},In={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg=Symbol.for("react.element"),sq=Symbol.for("react.portal"),iq=Symbol.for("react.fragment"),aq=Symbol.for("react.strict_mode"),oq=Symbol.for("react.profiler"),lq=Symbol.for("react.provider"),cq=Symbol.for("react.context"),uq=Symbol.for("react.forward_ref"),dq=Symbol.for("react.suspense"),hq=Symbol.for("react.memo"),fq=Symbol.for("react.lazy"),a_=Symbol.iterator;function mq(e){return e===null||typeof e!="object"?null:(e=a_&&e[a_]||e["@@iterator"],typeof e=="function"?e:null)}var NI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},SI=Object.assign,TI={};function ym(e,t,n){this.props=e,this.context=t,this.refs=TI,this.updater=n||NI}ym.prototype.isReactComponent={};ym.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ym.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function kI(){}kI.prototype=ym.prototype;function S3(e,t,n){this.props=e,this.context=t,this.refs=TI,this.updater=n||NI}var T3=S3.prototype=new kI;T3.constructor=S3;SI(T3,ym.prototype);T3.isPureReactComponent=!0;var o_=Array.isArray,_I=Object.prototype.hasOwnProperty,k3={current:null},BI={key:!0,ref:!0,__self:!0,__source:!0};function EI(e,t,n){var s,i={},a=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)_I.call(t,s)&&!BI.hasOwnProperty(s)&&(i[s]=t[s]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(s in c=e.defaultProps,c)i[s]===void 0&&(i[s]=c[s]);return{$$typeof:Kg,type:e,key:a,ref:o,props:i,_owner:k3.current}}function pq(e,t){return{$$typeof:Kg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _3(e){return typeof e=="object"&&e!==null&&e.$$typeof===Kg}function Aq(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var l_=/\/+/g;function b2(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Aq(""+e.key):t.toString(36)}function Cb(e,t,n,s,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Kg:case sq:o=!0}}if(o)return o=e,i=i(o),e=s===""?"."+b2(o,0):s,o_(i)?(n="",e!=null&&(n=e.replace(l_,"$&/")+"/"),Cb(i,t,n,"",function(u){return u})):i!=null&&(_3(i)&&(i=pq(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(l_,"$&/")+"/")+e)),t.push(i)),1;if(o=0,s=s===""?".":s+":",o_(e))for(var c=0;c<e.length;c++){a=e[c];var l=s+b2(a,c);o+=Cb(a,t,n,l,i)}else if(l=mq(e),typeof l=="function")for(e=l.call(e),c=0;!(a=e.next()).done;)a=a.value,l=s+b2(a,c++),o+=Cb(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function $0(e,t,n){if(e==null)return e;var s=[],i=0;return Cb(e,s,"","",function(a){return t.call(n,a,i++)}),s}function gq(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _i={current:null},Nb={transition:null},xq={ReactCurrentDispatcher:_i,ReactCurrentBatchConfig:Nb,ReactCurrentOwner:k3};function PI(){throw Error("act(...) is not supported in production builds of React.")}In.Children={map:$0,forEach:function(e,t,n){$0(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return $0(e,function(){t++}),t},toArray:function(e){return $0(e,function(t){return t})||[]},only:function(e){if(!_3(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};In.Component=ym;In.Fragment=iq;In.Profiler=oq;In.PureComponent=S3;In.StrictMode=aq;In.Suspense=dq;In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xq;In.act=PI;In.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=SI({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=k3.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)_I.call(t,l)&&!BI.hasOwnProperty(l)&&(s[l]=t[l]===void 0&&c!==void 0?c[l]:t[l])}var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}return{$$typeof:Kg,type:e.type,key:i,ref:a,props:s,_owner:o}};In.createContext=function(e){return e={$$typeof:cq,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:lq,_context:e},e.Consumer=e};In.createElement=EI;In.createFactory=function(e){var t=EI.bind(null,e);return t.type=e,t};In.createRef=function(){return{current:null}};In.forwardRef=function(e){return{$$typeof:uq,render:e}};In.isValidElement=_3;In.lazy=function(e){return{$$typeof:fq,_payload:{_status:-1,_result:e},_init:gq}};In.memo=function(e,t){return{$$typeof:hq,type:e,compare:t===void 0?null:t}};In.startTransition=function(e){var t=Nb.transition;Nb.transition={};try{e()}finally{Nb.transition=t}};In.unstable_act=PI;In.useCallback=function(e,t){return _i.current.useCallback(e,t)};In.useContext=function(e){return _i.current.useContext(e)};In.useDebugValue=function(){};In.useDeferredValue=function(e){return _i.current.useDeferredValue(e)};In.useEffect=function(e,t){return _i.current.useEffect(e,t)};In.useId=function(){return _i.current.useId()};In.useImperativeHandle=function(e,t,n){return _i.current.useImperativeHandle(e,t,n)};In.useInsertionEffect=function(e,t){return _i.current.useInsertionEffect(e,t)};In.useLayoutEffect=function(e,t){return _i.current.useLayoutEffect(e,t)};In.useMemo=function(e,t){return _i.current.useMemo(e,t)};In.useReducer=function(e,t,n){return _i.current.useReducer(e,t,n)};In.useRef=function(e){return _i.current.useRef(e)};In.useState=function(e){return _i.current.useState(e)};In.useSyncExternalStore=function(e,t,n){return _i.current.useSyncExternalStore(e,t,n)};In.useTransition=function(){return _i.current.useTransition()};In.version="18.3.1";CI.exports=In;var B=CI.exports;const je=mc(B),RA=rq({__proto__:null,default:je},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bq=B,vq=Symbol.for("react.element"),yq=Symbol.for("react.fragment"),wq=Object.prototype.hasOwnProperty,jq=bq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cq={key:!0,ref:!0,__self:!0,__source:!0};function MI(e,t,n){var s,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)wq.call(t,s)&&!Cq.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)i[s]===void 0&&(i[s]=t[s]);return{$$typeof:vq,type:e,key:a,ref:o,props:i,_owner:jq.current}}hw.Fragment=yq;hw.jsx=MI;hw.jsxs=MI;jI.exports=hw;var r=jI.exports,GC={},DI={exports:{}},ja={},II={exports:{}},OI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,S){var I=j.length;j.push(S);e:for(;0<I;){var R=I-1>>>1,U=j[R];if(0<i(U,S))j[R]=S,j[I]=U,I=R;else break e}}function n(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var S=j[0],I=j.pop();if(I!==S){j[0]=I;e:for(var R=0,U=j.length,z=U>>>1;R<z;){var V=2*(R+1)-1,X=j[V],$=V+1,W=j[$];if(0>i(X,I))$<U&&0>i(W,X)?(j[R]=W,j[$]=I,R=$):(j[R]=X,j[V]=I,R=V);else if($<U&&0>i(W,I))j[R]=W,j[$]=I,R=$;else break e}}return S}function i(j,S){var I=j.sortIndex-S.sortIndex;return I!==0?I:j.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var l=[],u=[],d=1,f=null,h=3,m=!1,A=!1,g=!1,p=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(j){for(var S=n(u);S!==null;){if(S.callback===null)s(u);else if(S.startTime<=j)s(u),S.sortIndex=S.expirationTime,t(l,S);else break;S=n(u)}}function y(j){if(g=!1,v(j),!A)if(n(l)!==null)A=!0,w(N);else{var S=n(u);S!==null&&C(y,S.startTime-j)}}function N(j,S){A=!1,g&&(g=!1,b(k),k=-1),m=!0;var I=h;try{for(v(S),f=n(l);f!==null&&(!(f.expirationTime>S)||j&&!L());){var R=f.callback;if(typeof R=="function"){f.callback=null,h=f.priorityLevel;var U=R(f.expirationTime<=S);S=e.unstable_now(),typeof U=="function"?f.callback=U:f===n(l)&&s(l),v(S)}else s(l);f=n(l)}if(f!==null)var z=!0;else{var V=n(u);V!==null&&C(y,V.startTime-S),z=!1}return z}finally{f=null,h=I,m=!1}}var P=!1,M=null,k=-1,D=5,O=-1;function L(){return!(e.unstable_now()-O<D)}function F(){if(M!==null){var j=e.unstable_now();O=j;var S=!0;try{S=M(!0,j)}finally{S?_():(P=!1,M=null)}}else P=!1}var _;if(typeof x=="function")_=function(){x(F)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,T=E.port2;E.port1.onmessage=F,_=function(){T.postMessage(null)}}else _=function(){p(F,0)};function w(j){M=j,P||(P=!0,_())}function C(j,S){k=p(function(){j(e.unstable_now())},S)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){A||m||(A=!0,w(N))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(j){switch(h){case 1:case 2:case 3:var S=3;break;default:S=h}var I=h;h=S;try{return j()}finally{h=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,S){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var I=h;h=j;try{return S()}finally{h=I}},e.unstable_scheduleCallback=function(j,S,I){var R=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?R+I:R):I=R,j){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=I+U,j={id:d++,callback:S,priorityLevel:j,startTime:I,expirationTime:U,sortIndex:-1},I>R?(j.sortIndex=I,t(u,j),n(l)===null&&j===n(u)&&(g?(b(k),k=-1):g=!0,C(y,I-R))):(j.sortIndex=U,t(l,j),A||m||(A=!0,w(N))),j},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(j){var S=h;return function(){var I=h;h=S;try{return j.apply(this,arguments)}finally{h=I}}}})(OI);II.exports=OI;var Nq=II.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sq=B,xa=Nq;function lt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var LI=new Set,UA={};function yh(e,t){Wf(e,t),Wf(e+"Capture",t)}function Wf(e,t){for(UA[e]=t,e=0;e<t.length;e++)LI.add(t[e])}var tc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),WC=Object.prototype.hasOwnProperty,Tq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c_={},u_={};function kq(e){return WC.call(u_,e)?!0:WC.call(c_,e)?!1:Tq.test(e)?u_[e]=!0:(c_[e]=!0,!1)}function _q(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Bq(e,t,n,s){if(t===null||typeof t>"u"||_q(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Bi(e,t,n,s,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Ws={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ws[e]=new Bi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ws[t]=new Bi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ws[e]=new Bi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ws[e]=new Bi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ws[e]=new Bi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ws[e]=new Bi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ws[e]=new Bi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ws[e]=new Bi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ws[e]=new Bi(e,5,!1,e.toLowerCase(),null,!1,!1)});var B3=/[\-:]([a-z])/g;function E3(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(B3,E3);Ws[t]=new Bi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(B3,E3);Ws[t]=new Bi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(B3,E3);Ws[t]=new Bi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ws[e]=new Bi(e,1,!1,e.toLowerCase(),null,!1,!1)});Ws.xlinkHref=new Bi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ws[e]=new Bi(e,1,!1,e.toLowerCase(),null,!0,!0)});function P3(e,t,n,s){var i=Ws.hasOwnProperty(t)?Ws[t]:null;(i!==null?i.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Bq(t,n,i,s)&&(n=null),s||i===null?kq(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,s=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var pc=Sq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q0=Symbol.for("react.element"),af=Symbol.for("react.portal"),of=Symbol.for("react.fragment"),M3=Symbol.for("react.strict_mode"),qC=Symbol.for("react.profiler"),FI=Symbol.for("react.provider"),RI=Symbol.for("react.context"),D3=Symbol.for("react.forward_ref"),XC=Symbol.for("react.suspense"),YC=Symbol.for("react.suspense_list"),I3=Symbol.for("react.memo"),Oc=Symbol.for("react.lazy"),UI=Symbol.for("react.offscreen"),d_=Symbol.iterator;function ep(e){return e===null||typeof e!="object"?null:(e=d_&&e[d_]||e["@@iterator"],typeof e=="function"?e:null)}var qr=Object.assign,v2;function Qp(e){if(v2===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);v2=t&&t[1]||""}return`
`+v2+e}var y2=!1;function w2(e,t){if(!e||y2)return"";y2=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=s.stack.split(`
`),o=i.length-1,c=a.length-1;1<=o&&0<=c&&i[o]!==a[c];)c--;for(;1<=o&&0<=c;o--,c--)if(i[o]!==a[c]){if(o!==1||c!==1)do if(o--,c--,0>c||i[o]!==a[c]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=c);break}}}finally{y2=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Qp(e):""}function Eq(e){switch(e.tag){case 5:return Qp(e.type);case 16:return Qp("Lazy");case 13:return Qp("Suspense");case 19:return Qp("SuspenseList");case 0:case 2:case 15:return e=w2(e.type,!1),e;case 11:return e=w2(e.type.render,!1),e;case 1:return e=w2(e.type,!0),e;default:return""}}function ZC(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case of:return"Fragment";case af:return"Portal";case qC:return"Profiler";case M3:return"StrictMode";case XC:return"Suspense";case YC:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case RI:return(e.displayName||"Context")+".Consumer";case FI:return(e._context.displayName||"Context")+".Provider";case D3:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I3:return t=e.displayName||null,t!==null?t:ZC(e.type)||"Memo";case Oc:t=e._payload,e=e._init;try{return ZC(e(t))}catch{}}return null}function Pq(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ZC(t);case 8:return t===M3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function HI(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Mq(e){var t=HI(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function z0(e){e._valueTracker||(e._valueTracker=Mq(e))}function $I(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=HI(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function mv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function JC(e,t){var n=t.checked;return qr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function h_(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Nu(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function QI(e,t){t=t.checked,t!=null&&P3(e,"checked",t,!1)}function eN(e,t){QI(e,t);var n=Nu(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?tN(e,t.type,n):t.hasOwnProperty("defaultValue")&&tN(e,t.type,Nu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function f_(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function tN(e,t,n){(t!=="number"||mv(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var zp=Array.isArray;function vf(e,t,n,s){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Nu(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,s&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function nN(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(lt(91));return qr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function m_(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(lt(92));if(zp(n)){if(1<n.length)throw Error(lt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Nu(n)}}function zI(e,t){var n=Nu(t.value),s=Nu(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function p_(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function VI(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rN(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?VI(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var V0,KI=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(V0=V0||document.createElement("div"),V0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=V0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function HA(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var hA={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dq=["Webkit","ms","Moz","O"];Object.keys(hA).forEach(function(e){Dq.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hA[t]=hA[e]})});function GI(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||hA.hasOwnProperty(e)&&hA[e]?(""+t).trim():t+"px"}function WI(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=GI(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,i):e[n]=i}}var Iq=qr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sN(e,t){if(t){if(Iq[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(lt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(lt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(lt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(lt(62))}}function iN(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aN=null;function O3(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var oN=null,yf=null,wf=null;function A_(e){if(e=qg(e)){if(typeof oN!="function")throw Error(lt(280));var t=e.stateNode;t&&(t=gw(t),oN(e.stateNode,e.type,t))}}function qI(e){yf?wf?wf.push(e):wf=[e]:yf=e}function XI(){if(yf){var e=yf,t=wf;if(wf=yf=null,A_(e),t)for(e=0;e<t.length;e++)A_(t[e])}}function YI(e,t){return e(t)}function ZI(){}var j2=!1;function JI(e,t,n){if(j2)return e(t,n);j2=!0;try{return YI(e,t,n)}finally{j2=!1,(yf!==null||wf!==null)&&(ZI(),XI())}}function $A(e,t){var n=e.stateNode;if(n===null)return null;var s=gw(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(lt(231,t,typeof n));return n}var lN=!1;if(tc)try{var tp={};Object.defineProperty(tp,"passive",{get:function(){lN=!0}}),window.addEventListener("test",tp,tp),window.removeEventListener("test",tp,tp)}catch{lN=!1}function Oq(e,t,n,s,i,a,o,c,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var fA=!1,pv=null,Av=!1,cN=null,Lq={onError:function(e){fA=!0,pv=e}};function Fq(e,t,n,s,i,a,o,c,l){fA=!1,pv=null,Oq.apply(Lq,arguments)}function Rq(e,t,n,s,i,a,o,c,l){if(Fq.apply(this,arguments),fA){if(fA){var u=pv;fA=!1,pv=null}else throw Error(lt(198));Av||(Av=!0,cN=u)}}function wh(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function eO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g_(e){if(wh(e)!==e)throw Error(lt(188))}function Uq(e){var t=e.alternate;if(!t){if(t=wh(e),t===null)throw Error(lt(188));return t!==e?null:e}for(var n=e,s=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return g_(i),e;if(a===s)return g_(i),t;a=a.sibling}throw Error(lt(188))}if(n.return!==s.return)n=i,s=a;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,s=a;break}if(c===s){o=!0,s=i,n=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===n){o=!0,n=a,s=i;break}if(c===s){o=!0,s=a,n=i;break}c=c.sibling}if(!o)throw Error(lt(189))}}if(n.alternate!==s)throw Error(lt(190))}if(n.tag!==3)throw Error(lt(188));return n.stateNode.current===n?e:t}function tO(e){return e=Uq(e),e!==null?nO(e):null}function nO(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nO(e);if(t!==null)return t;e=e.sibling}return null}var rO=xa.unstable_scheduleCallback,x_=xa.unstable_cancelCallback,Hq=xa.unstable_shouldYield,$q=xa.unstable_requestPaint,cs=xa.unstable_now,Qq=xa.unstable_getCurrentPriorityLevel,L3=xa.unstable_ImmediatePriority,sO=xa.unstable_UserBlockingPriority,gv=xa.unstable_NormalPriority,zq=xa.unstable_LowPriority,iO=xa.unstable_IdlePriority,fw=null,el=null;function Vq(e){if(el&&typeof el.onCommitFiberRoot=="function")try{el.onCommitFiberRoot(fw,e,void 0,(e.current.flags&128)===128)}catch{}}var mo=Math.clz32?Math.clz32:Wq,Kq=Math.log,Gq=Math.LN2;function Wq(e){return e>>>=0,e===0?32:31-(Kq(e)/Gq|0)|0}var K0=64,G0=4194304;function Vp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xv(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var c=o&~i;c!==0?s=Vp(c):(a&=o,a!==0&&(s=Vp(a)))}else o=n&~i,o!==0?s=Vp(o):a!==0&&(s=Vp(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&i)&&(i=s&-s,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-mo(t),i=1<<n,s|=e[n],t&=~i;return s}function qq(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xq(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-mo(a),c=1<<o,l=i[o];l===-1?(!(c&n)||c&s)&&(i[o]=qq(c,t)):l<=t&&(e.expiredLanes|=c),a&=~c}}function uN(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function aO(){var e=K0;return K0<<=1,!(K0&4194240)&&(K0=64),e}function C2(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gg(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mo(t),e[t]=n}function Yq(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-mo(n),a=1<<i;t[i]=0,s[i]=-1,e[i]=-1,n&=~a}}function F3(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-mo(n),i=1<<s;i&t|e[s]&t&&(e[s]|=t),n&=~i}}var cr=0;function oO(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lO,R3,cO,uO,dO,dN=!1,W0=[],uu=null,du=null,hu=null,QA=new Map,zA=new Map,Uc=[],Zq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function b_(e,t){switch(e){case"focusin":case"focusout":uu=null;break;case"dragenter":case"dragleave":du=null;break;case"mouseover":case"mouseout":hu=null;break;case"pointerover":case"pointerout":QA.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zA.delete(t.pointerId)}}function np(e,t,n,s,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[i]},t!==null&&(t=qg(t),t!==null&&R3(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Jq(e,t,n,s,i){switch(t){case"focusin":return uu=np(uu,e,t,n,s,i),!0;case"dragenter":return du=np(du,e,t,n,s,i),!0;case"mouseover":return hu=np(hu,e,t,n,s,i),!0;case"pointerover":var a=i.pointerId;return QA.set(a,np(QA.get(a)||null,e,t,n,s,i)),!0;case"gotpointercapture":return a=i.pointerId,zA.set(a,np(zA.get(a)||null,e,t,n,s,i)),!0}return!1}function hO(e){var t=yd(e.target);if(t!==null){var n=wh(t);if(n!==null){if(t=n.tag,t===13){if(t=eO(n),t!==null){e.blockedOn=t,dO(e.priority,function(){cO(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sb(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=hN(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);aN=s,n.target.dispatchEvent(s),aN=null}else return t=qg(n),t!==null&&R3(t),e.blockedOn=n,!1;t.shift()}return!0}function v_(e,t,n){Sb(e)&&n.delete(t)}function eX(){dN=!1,uu!==null&&Sb(uu)&&(uu=null),du!==null&&Sb(du)&&(du=null),hu!==null&&Sb(hu)&&(hu=null),QA.forEach(v_),zA.forEach(v_)}function rp(e,t){e.blockedOn===t&&(e.blockedOn=null,dN||(dN=!0,xa.unstable_scheduleCallback(xa.unstable_NormalPriority,eX)))}function VA(e){function t(i){return rp(i,e)}if(0<W0.length){rp(W0[0],e);for(var n=1;n<W0.length;n++){var s=W0[n];s.blockedOn===e&&(s.blockedOn=null)}}for(uu!==null&&rp(uu,e),du!==null&&rp(du,e),hu!==null&&rp(hu,e),QA.forEach(t),zA.forEach(t),n=0;n<Uc.length;n++)s=Uc[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Uc.length&&(n=Uc[0],n.blockedOn===null);)hO(n),n.blockedOn===null&&Uc.shift()}var jf=pc.ReactCurrentBatchConfig,bv=!0;function tX(e,t,n,s){var i=cr,a=jf.transition;jf.transition=null;try{cr=1,U3(e,t,n,s)}finally{cr=i,jf.transition=a}}function nX(e,t,n,s){var i=cr,a=jf.transition;jf.transition=null;try{cr=4,U3(e,t,n,s)}finally{cr=i,jf.transition=a}}function U3(e,t,n,s){if(bv){var i=hN(e,t,n,s);if(i===null)D2(e,t,s,vv,n),b_(e,s);else if(Jq(i,e,t,n,s))s.stopPropagation();else if(b_(e,s),t&4&&-1<Zq.indexOf(e)){for(;i!==null;){var a=qg(i);if(a!==null&&lO(a),a=hN(e,t,n,s),a===null&&D2(e,t,s,vv,n),a===i)break;i=a}i!==null&&s.stopPropagation()}else D2(e,t,s,null,n)}}var vv=null;function hN(e,t,n,s){if(vv=null,e=O3(s),e=yd(e),e!==null)if(t=wh(e),t===null)e=null;else if(n=t.tag,n===13){if(e=eO(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vv=e,null}function fO(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qq()){case L3:return 1;case sO:return 4;case gv:case zq:return 16;case iO:return 536870912;default:return 16}default:return 16}}var Wc=null,H3=null,Tb=null;function mO(){if(Tb)return Tb;var e,t=H3,n=t.length,s,i="value"in Wc?Wc.value:Wc.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===i[a-s];s++);return Tb=i.slice(e,1<s?1-s:void 0)}function kb(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function q0(){return!0}function y_(){return!1}function Ca(e){function t(n,s,i,a,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?q0:y_,this.isPropagationStopped=y_,this}return qr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=q0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=q0)},persist:function(){},isPersistent:q0}),t}var wm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$3=Ca(wm),Wg=qr({},wm,{view:0,detail:0}),rX=Ca(Wg),N2,S2,sp,mw=qr({},Wg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Q3,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sp&&(sp&&e.type==="mousemove"?(N2=e.screenX-sp.screenX,S2=e.screenY-sp.screenY):S2=N2=0,sp=e),N2)},movementY:function(e){return"movementY"in e?e.movementY:S2}}),w_=Ca(mw),sX=qr({},mw,{dataTransfer:0}),iX=Ca(sX),aX=qr({},Wg,{relatedTarget:0}),T2=Ca(aX),oX=qr({},wm,{animationName:0,elapsedTime:0,pseudoElement:0}),lX=Ca(oX),cX=qr({},wm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uX=Ca(cX),dX=qr({},wm,{data:0}),j_=Ca(dX),hX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pX(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mX[e])?!!t[e]:!1}function Q3(){return pX}var AX=qr({},Wg,{key:function(e){if(e.key){var t=hX[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=kb(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fX[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Q3,charCode:function(e){return e.type==="keypress"?kb(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kb(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gX=Ca(AX),xX=qr({},mw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C_=Ca(xX),bX=qr({},Wg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Q3}),vX=Ca(bX),yX=qr({},wm,{propertyName:0,elapsedTime:0,pseudoElement:0}),wX=Ca(yX),jX=qr({},mw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),CX=Ca(jX),NX=[9,13,27,32],z3=tc&&"CompositionEvent"in window,mA=null;tc&&"documentMode"in document&&(mA=document.documentMode);var SX=tc&&"TextEvent"in window&&!mA,pO=tc&&(!z3||mA&&8<mA&&11>=mA),N_=" ",S_=!1;function AO(e,t){switch(e){case"keyup":return NX.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var lf=!1;function TX(e,t){switch(e){case"compositionend":return gO(t);case"keypress":return t.which!==32?null:(S_=!0,N_);case"textInput":return e=t.data,e===N_&&S_?null:e;default:return null}}function kX(e,t){if(lf)return e==="compositionend"||!z3&&AO(e,t)?(e=mO(),Tb=H3=Wc=null,lf=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pO&&t.locale!=="ko"?null:t.data;default:return null}}var _X={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_X[e.type]:t==="textarea"}function xO(e,t,n,s){qI(s),t=yv(t,"onChange"),0<t.length&&(n=new $3("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var pA=null,KA=null;function BX(e){_O(e,0)}function pw(e){var t=df(e);if($I(t))return e}function EX(e,t){if(e==="change")return t}var bO=!1;if(tc){var k2;if(tc){var _2="oninput"in document;if(!_2){var k_=document.createElement("div");k_.setAttribute("oninput","return;"),_2=typeof k_.oninput=="function"}k2=_2}else k2=!1;bO=k2&&(!document.documentMode||9<document.documentMode)}function __(){pA&&(pA.detachEvent("onpropertychange",vO),KA=pA=null)}function vO(e){if(e.propertyName==="value"&&pw(KA)){var t=[];xO(t,KA,e,O3(e)),JI(BX,t)}}function PX(e,t,n){e==="focusin"?(__(),pA=t,KA=n,pA.attachEvent("onpropertychange",vO)):e==="focusout"&&__()}function MX(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pw(KA)}function DX(e,t){if(e==="click")return pw(t)}function IX(e,t){if(e==="input"||e==="change")return pw(t)}function OX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xo=typeof Object.is=="function"?Object.is:OX;function GA(e,t){if(xo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!WC.call(t,i)||!xo(e[i],t[i]))return!1}return!0}function B_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function E_(e,t){var n=B_(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=B_(n)}}function yO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wO(){for(var e=window,t=mv();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mv(e.document)}return t}function V3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function LX(e){var t=wO(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&yO(n.ownerDocument.documentElement,n)){if(s!==null&&V3(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(s.start,i);s=s.end===void 0?a:Math.min(s.end,i),!e.extend&&a>s&&(i=s,s=a,a=i),i=E_(n,a);var o=E_(n,s);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var FX=tc&&"documentMode"in document&&11>=document.documentMode,cf=null,fN=null,AA=null,mN=!1;function P_(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mN||cf==null||cf!==mv(s)||(s=cf,"selectionStart"in s&&V3(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),AA&&GA(AA,s)||(AA=s,s=yv(fN,"onSelect"),0<s.length&&(t=new $3("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=cf)))}function X0(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var uf={animationend:X0("Animation","AnimationEnd"),animationiteration:X0("Animation","AnimationIteration"),animationstart:X0("Animation","AnimationStart"),transitionend:X0("Transition","TransitionEnd")},B2={},jO={};tc&&(jO=document.createElement("div").style,"AnimationEvent"in window||(delete uf.animationend.animation,delete uf.animationiteration.animation,delete uf.animationstart.animation),"TransitionEvent"in window||delete uf.transitionend.transition);function Aw(e){if(B2[e])return B2[e];if(!uf[e])return e;var t=uf[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jO)return B2[e]=t[n];return e}var CO=Aw("animationend"),NO=Aw("animationiteration"),SO=Aw("animationstart"),TO=Aw("transitionend"),kO=new Map,M_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lu(e,t){kO.set(e,t),yh(t,[e])}for(var E2=0;E2<M_.length;E2++){var P2=M_[E2],RX=P2.toLowerCase(),UX=P2[0].toUpperCase()+P2.slice(1);Lu(RX,"on"+UX)}Lu(CO,"onAnimationEnd");Lu(NO,"onAnimationIteration");Lu(SO,"onAnimationStart");Lu("dblclick","onDoubleClick");Lu("focusin","onFocus");Lu("focusout","onBlur");Lu(TO,"onTransitionEnd");Wf("onMouseEnter",["mouseout","mouseover"]);Wf("onMouseLeave",["mouseout","mouseover"]);Wf("onPointerEnter",["pointerout","pointerover"]);Wf("onPointerLeave",["pointerout","pointerover"]);yh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yh("onBeforeInput",["compositionend","keypress","textInput","paste"]);yh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HX=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kp));function D_(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Rq(s,t,void 0,e),e.currentTarget=null}function _O(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],i=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var o=s.length-1;0<=o;o--){var c=s[o],l=c.instance,u=c.currentTarget;if(c=c.listener,l!==a&&i.isPropagationStopped())break e;D_(i,c,u),a=l}else for(o=0;o<s.length;o++){if(c=s[o],l=c.instance,u=c.currentTarget,c=c.listener,l!==a&&i.isPropagationStopped())break e;D_(i,c,u),a=l}}}if(Av)throw e=cN,Av=!1,cN=null,e}function _r(e,t){var n=t[bN];n===void 0&&(n=t[bN]=new Set);var s=e+"__bubble";n.has(s)||(BO(t,e,2,!1),n.add(s))}function M2(e,t,n){var s=0;t&&(s|=4),BO(n,e,s,t)}var Y0="_reactListening"+Math.random().toString(36).slice(2);function WA(e){if(!e[Y0]){e[Y0]=!0,LI.forEach(function(n){n!=="selectionchange"&&(HX.has(n)||M2(n,!1,e),M2(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Y0]||(t[Y0]=!0,M2("selectionchange",!1,t))}}function BO(e,t,n,s){switch(fO(t)){case 1:var i=tX;break;case 4:i=nX;break;default:i=U3}n=i.bind(null,t,n,e),i=void 0,!lN||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),s?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function D2(e,t,n,s,i){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var c=s.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;c!==null;){if(o=yd(c),o===null)return;if(l=o.tag,l===5||l===6){s=a=o;continue e}c=c.parentNode}}s=s.return}JI(function(){var u=a,d=O3(n),f=[];e:{var h=kO.get(e);if(h!==void 0){var m=$3,A=e;switch(e){case"keypress":if(kb(n)===0)break e;case"keydown":case"keyup":m=gX;break;case"focusin":A="focus",m=T2;break;case"focusout":A="blur",m=T2;break;case"beforeblur":case"afterblur":m=T2;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=w_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=iX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=vX;break;case CO:case NO:case SO:m=lX;break;case TO:m=wX;break;case"scroll":m=rX;break;case"wheel":m=CX;break;case"copy":case"cut":case"paste":m=uX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=C_}var g=(t&4)!==0,p=!g&&e==="scroll",b=g?h!==null?h+"Capture":null:h;g=[];for(var x=u,v;x!==null;){v=x;var y=v.stateNode;if(v.tag===5&&y!==null&&(v=y,b!==null&&(y=$A(x,b),y!=null&&g.push(qA(x,y,v)))),p)break;x=x.return}0<g.length&&(h=new m(h,A,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==aN&&(A=n.relatedTarget||n.fromElement)&&(yd(A)||A[nc]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(A=n.relatedTarget||n.toElement,m=u,A=A?yd(A):null,A!==null&&(p=wh(A),A!==p||A.tag!==5&&A.tag!==6)&&(A=null)):(m=null,A=u),m!==A)){if(g=w_,y="onMouseLeave",b="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=C_,y="onPointerLeave",b="onPointerEnter",x="pointer"),p=m==null?h:df(m),v=A==null?h:df(A),h=new g(y,x+"leave",m,n,d),h.target=p,h.relatedTarget=v,y=null,yd(d)===u&&(g=new g(b,x+"enter",A,n,d),g.target=v,g.relatedTarget=p,y=g),p=y,m&&A)t:{for(g=m,b=A,x=0,v=g;v;v=Ih(v))x++;for(v=0,y=b;y;y=Ih(y))v++;for(;0<x-v;)g=Ih(g),x--;for(;0<v-x;)b=Ih(b),v--;for(;x--;){if(g===b||b!==null&&g===b.alternate)break t;g=Ih(g),b=Ih(b)}g=null}else g=null;m!==null&&I_(f,h,m,g,!1),A!==null&&p!==null&&I_(f,p,A,g,!0)}}e:{if(h=u?df(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var N=EX;else if(T_(h))if(bO)N=IX;else{N=MX;var P=PX}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=DX);if(N&&(N=N(e,u))){xO(f,N,n,d);break e}P&&P(e,h,u),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&tN(h,"number",h.value)}switch(P=u?df(u):window,e){case"focusin":(T_(P)||P.contentEditable==="true")&&(cf=P,fN=u,AA=null);break;case"focusout":AA=fN=cf=null;break;case"mousedown":mN=!0;break;case"contextmenu":case"mouseup":case"dragend":mN=!1,P_(f,n,d);break;case"selectionchange":if(FX)break;case"keydown":case"keyup":P_(f,n,d)}var M;if(z3)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else lf?AO(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(pO&&n.locale!=="ko"&&(lf||k!=="onCompositionStart"?k==="onCompositionEnd"&&lf&&(M=mO()):(Wc=d,H3="value"in Wc?Wc.value:Wc.textContent,lf=!0)),P=yv(u,k),0<P.length&&(k=new j_(k,e,null,n,d),f.push({event:k,listeners:P}),M?k.data=M:(M=gO(n),M!==null&&(k.data=M)))),(M=SX?TX(e,n):kX(e,n))&&(u=yv(u,"onBeforeInput"),0<u.length&&(d=new j_("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=M))}_O(f,t)})}function qA(e,t,n){return{instance:e,listener:t,currentTarget:n}}function yv(e,t){for(var n=t+"Capture",s=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=$A(e,n),a!=null&&s.unshift(qA(e,a,i)),a=$A(e,t),a!=null&&s.push(qA(e,a,i))),e=e.return}return s}function Ih(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function I_(e,t,n,s,i){for(var a=t._reactName,o=[];n!==null&&n!==s;){var c=n,l=c.alternate,u=c.stateNode;if(l!==null&&l===s)break;c.tag===5&&u!==null&&(c=u,i?(l=$A(n,a),l!=null&&o.unshift(qA(n,l,c))):i||(l=$A(n,a),l!=null&&o.push(qA(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var $X=/\r\n?/g,QX=/\u0000|\uFFFD/g;function O_(e){return(typeof e=="string"?e:""+e).replace($X,`
`).replace(QX,"")}function Z0(e,t,n){if(t=O_(t),O_(e)!==t&&n)throw Error(lt(425))}function wv(){}var pN=null,AN=null;function gN(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xN=typeof setTimeout=="function"?setTimeout:void 0,zX=typeof clearTimeout=="function"?clearTimeout:void 0,L_=typeof Promise=="function"?Promise:void 0,VX=typeof queueMicrotask=="function"?queueMicrotask:typeof L_<"u"?function(e){return L_.resolve(null).then(e).catch(KX)}:xN;function KX(e){setTimeout(function(){throw e})}function I2(e,t){var n=t,s=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){e.removeChild(i),VA(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);VA(t)}function fu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function F_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var jm=Math.random().toString(36).slice(2),zo="__reactFiber$"+jm,XA="__reactProps$"+jm,nc="__reactContainer$"+jm,bN="__reactEvents$"+jm,GX="__reactListeners$"+jm,WX="__reactHandles$"+jm;function yd(e){var t=e[zo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[nc]||n[zo]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=F_(e);e!==null;){if(n=e[zo])return n;e=F_(e)}return t}e=n,n=e.parentNode}return null}function qg(e){return e=e[zo]||e[nc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function df(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(lt(33))}function gw(e){return e[XA]||null}var vN=[],hf=-1;function Fu(e){return{current:e}}function Er(e){0>hf||(e.current=vN[hf],vN[hf]=null,hf--)}function vr(e,t){hf++,vN[hf]=e.current,e.current=t}var Su={},ui=Fu(Su),Gi=Fu(!1),Vd=Su;function qf(e,t){var n=e.type.contextTypes;if(!n)return Su;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Wi(e){return e=e.childContextTypes,e!=null}function jv(){Er(Gi),Er(ui)}function R_(e,t,n){if(ui.current!==Su)throw Error(lt(168));vr(ui,t),vr(Gi,n)}function EO(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in t))throw Error(lt(108,Pq(e)||"Unknown",i));return qr({},n,s)}function Cv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Su,Vd=ui.current,vr(ui,e),vr(Gi,Gi.current),!0}function U_(e,t,n){var s=e.stateNode;if(!s)throw Error(lt(169));n?(e=EO(e,t,Vd),s.__reactInternalMemoizedMergedChildContext=e,Er(Gi),Er(ui),vr(ui,e)):Er(Gi),vr(Gi,n)}var Fl=null,xw=!1,O2=!1;function PO(e){Fl===null?Fl=[e]:Fl.push(e)}function qX(e){xw=!0,PO(e)}function Ru(){if(!O2&&Fl!==null){O2=!0;var e=0,t=cr;try{var n=Fl;for(cr=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Fl=null,xw=!1}catch(i){throw Fl!==null&&(Fl=Fl.slice(e+1)),rO(L3,Ru),i}finally{cr=t,O2=!1}}return null}var ff=[],mf=0,Nv=null,Sv=0,Ea=[],Pa=0,Kd=null,$l=1,Ql="";function fd(e,t){ff[mf++]=Sv,ff[mf++]=Nv,Nv=e,Sv=t}function MO(e,t,n){Ea[Pa++]=$l,Ea[Pa++]=Ql,Ea[Pa++]=Kd,Kd=e;var s=$l;e=Ql;var i=32-mo(s)-1;s&=~(1<<i),n+=1;var a=32-mo(t)+i;if(30<a){var o=i-i%5;a=(s&(1<<o)-1).toString(32),s>>=o,i-=o,$l=1<<32-mo(t)+i|n<<i|s,Ql=a+e}else $l=1<<a|n<<i|s,Ql=e}function K3(e){e.return!==null&&(fd(e,1),MO(e,1,0))}function G3(e){for(;e===Nv;)Nv=ff[--mf],ff[mf]=null,Sv=ff[--mf],ff[mf]=null;for(;e===Kd;)Kd=Ea[--Pa],Ea[Pa]=null,Ql=Ea[--Pa],Ea[Pa]=null,$l=Ea[--Pa],Ea[Pa]=null}var ma=null,fa=null,Ir=!1,oo=null;function DO(e,t){var n=Ia(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function H_(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ma=e,fa=fu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ma=e,fa=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Kd!==null?{id:$l,overflow:Ql}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ia(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ma=e,fa=null,!0):!1;default:return!1}}function yN(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wN(e){if(Ir){var t=fa;if(t){var n=t;if(!H_(e,t)){if(yN(e))throw Error(lt(418));t=fu(n.nextSibling);var s=ma;t&&H_(e,t)?DO(s,n):(e.flags=e.flags&-4097|2,Ir=!1,ma=e)}}else{if(yN(e))throw Error(lt(418));e.flags=e.flags&-4097|2,Ir=!1,ma=e}}}function $_(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ma=e}function J0(e){if(e!==ma)return!1;if(!Ir)return $_(e),Ir=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gN(e.type,e.memoizedProps)),t&&(t=fa)){if(yN(e))throw IO(),Error(lt(418));for(;t;)DO(e,t),t=fu(t.nextSibling)}if($_(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(lt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){fa=fu(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}fa=null}}else fa=ma?fu(e.stateNode.nextSibling):null;return!0}function IO(){for(var e=fa;e;)e=fu(e.nextSibling)}function Xf(){fa=ma=null,Ir=!1}function W3(e){oo===null?oo=[e]:oo.push(e)}var XX=pc.ReactCurrentBatchConfig;function ip(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(lt(309));var s=n.stateNode}if(!s)throw Error(lt(147,e));var i=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var c=i.refs;o===null?delete c[a]:c[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(lt(284));if(!n._owner)throw Error(lt(290,e))}return e}function ex(e,t){throw e=Object.prototype.toString.call(t),Error(lt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Q_(e){var t=e._init;return t(e._payload)}function OO(e){function t(b,x){if(e){var v=b.deletions;v===null?(b.deletions=[x],b.flags|=16):v.push(x)}}function n(b,x){if(!e)return null;for(;x!==null;)t(b,x),x=x.sibling;return null}function s(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function i(b,x){return b=gu(b,x),b.index=0,b.sibling=null,b}function a(b,x,v){return b.index=v,e?(v=b.alternate,v!==null?(v=v.index,v<x?(b.flags|=2,x):v):(b.flags|=2,x)):(b.flags|=1048576,x)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function c(b,x,v,y){return x===null||x.tag!==6?(x=Q2(v,b.mode,y),x.return=b,x):(x=i(x,v),x.return=b,x)}function l(b,x,v,y){var N=v.type;return N===of?d(b,x,v.props.children,y,v.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Oc&&Q_(N)===x.type)?(y=i(x,v.props),y.ref=ip(b,x,v),y.return=b,y):(y=Ib(v.type,v.key,v.props,null,b.mode,y),y.ref=ip(b,x,v),y.return=b,y)}function u(b,x,v,y){return x===null||x.tag!==4||x.stateNode.containerInfo!==v.containerInfo||x.stateNode.implementation!==v.implementation?(x=z2(v,b.mode,y),x.return=b,x):(x=i(x,v.children||[]),x.return=b,x)}function d(b,x,v,y,N){return x===null||x.tag!==7?(x=Dd(v,b.mode,y,N),x.return=b,x):(x=i(x,v),x.return=b,x)}function f(b,x,v){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Q2(""+x,b.mode,v),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Q0:return v=Ib(x.type,x.key,x.props,null,b.mode,v),v.ref=ip(b,null,x),v.return=b,v;case af:return x=z2(x,b.mode,v),x.return=b,x;case Oc:var y=x._init;return f(b,y(x._payload),v)}if(zp(x)||ep(x))return x=Dd(x,b.mode,v,null),x.return=b,x;ex(b,x)}return null}function h(b,x,v,y){var N=x!==null?x.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return N!==null?null:c(b,x,""+v,y);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Q0:return v.key===N?l(b,x,v,y):null;case af:return v.key===N?u(b,x,v,y):null;case Oc:return N=v._init,h(b,x,N(v._payload),y)}if(zp(v)||ep(v))return N!==null?null:d(b,x,v,y,null);ex(b,v)}return null}function m(b,x,v,y,N){if(typeof y=="string"&&y!==""||typeof y=="number")return b=b.get(v)||null,c(x,b,""+y,N);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Q0:return b=b.get(y.key===null?v:y.key)||null,l(x,b,y,N);case af:return b=b.get(y.key===null?v:y.key)||null,u(x,b,y,N);case Oc:var P=y._init;return m(b,x,v,P(y._payload),N)}if(zp(y)||ep(y))return b=b.get(v)||null,d(x,b,y,N,null);ex(x,y)}return null}function A(b,x,v,y){for(var N=null,P=null,M=x,k=x=0,D=null;M!==null&&k<v.length;k++){M.index>k?(D=M,M=null):D=M.sibling;var O=h(b,M,v[k],y);if(O===null){M===null&&(M=D);break}e&&M&&O.alternate===null&&t(b,M),x=a(O,x,k),P===null?N=O:P.sibling=O,P=O,M=D}if(k===v.length)return n(b,M),Ir&&fd(b,k),N;if(M===null){for(;k<v.length;k++)M=f(b,v[k],y),M!==null&&(x=a(M,x,k),P===null?N=M:P.sibling=M,P=M);return Ir&&fd(b,k),N}for(M=s(b,M);k<v.length;k++)D=m(M,b,k,v[k],y),D!==null&&(e&&D.alternate!==null&&M.delete(D.key===null?k:D.key),x=a(D,x,k),P===null?N=D:P.sibling=D,P=D);return e&&M.forEach(function(L){return t(b,L)}),Ir&&fd(b,k),N}function g(b,x,v,y){var N=ep(v);if(typeof N!="function")throw Error(lt(150));if(v=N.call(v),v==null)throw Error(lt(151));for(var P=N=null,M=x,k=x=0,D=null,O=v.next();M!==null&&!O.done;k++,O=v.next()){M.index>k?(D=M,M=null):D=M.sibling;var L=h(b,M,O.value,y);if(L===null){M===null&&(M=D);break}e&&M&&L.alternate===null&&t(b,M),x=a(L,x,k),P===null?N=L:P.sibling=L,P=L,M=D}if(O.done)return n(b,M),Ir&&fd(b,k),N;if(M===null){for(;!O.done;k++,O=v.next())O=f(b,O.value,y),O!==null&&(x=a(O,x,k),P===null?N=O:P.sibling=O,P=O);return Ir&&fd(b,k),N}for(M=s(b,M);!O.done;k++,O=v.next())O=m(M,b,k,O.value,y),O!==null&&(e&&O.alternate!==null&&M.delete(O.key===null?k:O.key),x=a(O,x,k),P===null?N=O:P.sibling=O,P=O);return e&&M.forEach(function(F){return t(b,F)}),Ir&&fd(b,k),N}function p(b,x,v,y){if(typeof v=="object"&&v!==null&&v.type===of&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Q0:e:{for(var N=v.key,P=x;P!==null;){if(P.key===N){if(N=v.type,N===of){if(P.tag===7){n(b,P.sibling),x=i(P,v.props.children),x.return=b,b=x;break e}}else if(P.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Oc&&Q_(N)===P.type){n(b,P.sibling),x=i(P,v.props),x.ref=ip(b,P,v),x.return=b,b=x;break e}n(b,P);break}else t(b,P);P=P.sibling}v.type===of?(x=Dd(v.props.children,b.mode,y,v.key),x.return=b,b=x):(y=Ib(v.type,v.key,v.props,null,b.mode,y),y.ref=ip(b,x,v),y.return=b,b=y)}return o(b);case af:e:{for(P=v.key;x!==null;){if(x.key===P)if(x.tag===4&&x.stateNode.containerInfo===v.containerInfo&&x.stateNode.implementation===v.implementation){n(b,x.sibling),x=i(x,v.children||[]),x.return=b,b=x;break e}else{n(b,x);break}else t(b,x);x=x.sibling}x=z2(v,b.mode,y),x.return=b,b=x}return o(b);case Oc:return P=v._init,p(b,x,P(v._payload),y)}if(zp(v))return A(b,x,v,y);if(ep(v))return g(b,x,v,y);ex(b,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,x!==null&&x.tag===6?(n(b,x.sibling),x=i(x,v),x.return=b,b=x):(n(b,x),x=Q2(v,b.mode,y),x.return=b,b=x),o(b)):n(b,x)}return p}var Yf=OO(!0),LO=OO(!1),Tv=Fu(null),kv=null,pf=null,q3=null;function X3(){q3=pf=kv=null}function Y3(e){var t=Tv.current;Er(Tv),e._currentValue=t}function jN(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Cf(e,t){kv=e,q3=pf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zi=!0),e.firstContext=null)}function $a(e){var t=e._currentValue;if(q3!==e)if(e={context:e,memoizedValue:t,next:null},pf===null){if(kv===null)throw Error(lt(308));pf=e,kv.dependencies={lanes:0,firstContext:e}}else pf=pf.next=e;return t}var wd=null;function Z3(e){wd===null?wd=[e]:wd.push(e)}function FO(e,t,n,s){var i=t.interleaved;return i===null?(n.next=n,Z3(t)):(n.next=i.next,i.next=n),t.interleaved=n,rc(e,s)}function rc(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Lc=!1;function J3(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mu(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Qn&2){var i=s.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),s.pending=t,rc(e,n)}return i=s.interleaved,i===null?(t.next=t,Z3(s)):(t.next=i.next,i.next=t),s.interleaved=t,rc(e,n)}function _b(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,F3(e,n)}}function z_(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function _v(e,t,n,s){var i=e.updateQueue;Lc=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var l=c,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,c=d.lastBaseUpdate,c!==o&&(c===null?d.firstBaseUpdate=u:c.next=u,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,d=u=l=null,c=a;do{var h=c.lane,m=c.eventTime;if((s&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var A=e,g=c;switch(h=t,m=n,g.tag){case 1:if(A=g.payload,typeof A=="function"){f=A.call(m,f,h);break e}f=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=g.payload,h=typeof A=="function"?A.call(m,f,h):A,h==null)break e;f=qr({},f,h);break e;case 2:Lc=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[c]:h.push(c))}else m={eventTime:m,lane:h,tag:c.tag,payload:c.payload,callback:c.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,o|=h;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;h=c,c=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Wd|=o,e.lanes=o,e.memoizedState=f}}function V_(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(lt(191,i));i.call(s)}}}var Xg={},tl=Fu(Xg),YA=Fu(Xg),ZA=Fu(Xg);function jd(e){if(e===Xg)throw Error(lt(174));return e}function eT(e,t){switch(vr(ZA,t),vr(YA,e),vr(tl,Xg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:rN(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=rN(t,e)}Er(tl),vr(tl,t)}function Zf(){Er(tl),Er(YA),Er(ZA)}function UO(e){jd(ZA.current);var t=jd(tl.current),n=rN(t,e.type);t!==n&&(vr(YA,e),vr(tl,n))}function tT(e){YA.current===e&&(Er(tl),Er(YA))}var zr=Fu(0);function Bv(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var L2=[];function nT(){for(var e=0;e<L2.length;e++)L2[e]._workInProgressVersionPrimary=null;L2.length=0}var Bb=pc.ReactCurrentDispatcher,F2=pc.ReactCurrentBatchConfig,Gd=0,Gr=null,Cs=null,Os=null,Ev=!1,gA=!1,JA=0,YX=0;function Js(){throw Error(lt(321))}function rT(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xo(e[n],t[n]))return!1;return!0}function sT(e,t,n,s,i,a){if(Gd=a,Gr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bb.current=e===null||e.memoizedState===null?tY:nY,e=n(s,i),gA){a=0;do{if(gA=!1,JA=0,25<=a)throw Error(lt(301));a+=1,Os=Cs=null,t.updateQueue=null,Bb.current=rY,e=n(s,i)}while(gA)}if(Bb.current=Pv,t=Cs!==null&&Cs.next!==null,Gd=0,Os=Cs=Gr=null,Ev=!1,t)throw Error(lt(300));return e}function iT(){var e=JA!==0;return JA=0,e}function Oo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Os===null?Gr.memoizedState=Os=e:Os=Os.next=e,Os}function Qa(){if(Cs===null){var e=Gr.alternate;e=e!==null?e.memoizedState:null}else e=Cs.next;var t=Os===null?Gr.memoizedState:Os.next;if(t!==null)Os=t,Cs=e;else{if(e===null)throw Error(lt(310));Cs=e,e={memoizedState:Cs.memoizedState,baseState:Cs.baseState,baseQueue:Cs.baseQueue,queue:Cs.queue,next:null},Os===null?Gr.memoizedState=Os=e:Os=Os.next=e}return Os}function eg(e,t){return typeof t=="function"?t(e):t}function R2(e){var t=Qa(),n=t.queue;if(n===null)throw Error(lt(311));n.lastRenderedReducer=e;var s=Cs,i=s.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}s.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,s=s.baseState;var c=o=null,l=null,u=a;do{var d=u.lane;if((Gd&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(c=l=f,o=s):l=l.next=f,Gr.lanes|=d,Wd|=d}u=u.next}while(u!==null&&u!==a);l===null?o=s:l.next=c,xo(s,t.memoizedState)||(zi=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=l,n.lastRenderedState=s}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Gr.lanes|=a,Wd|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function U2(e){var t=Qa(),n=t.queue;if(n===null)throw Error(lt(311));n.lastRenderedReducer=e;var s=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);xo(a,t.memoizedState)||(zi=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function HO(){}function $O(e,t){var n=Gr,s=Qa(),i=t(),a=!xo(s.memoizedState,i);if(a&&(s.memoizedState=i,zi=!0),s=s.queue,aT(VO.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||Os!==null&&Os.memoizedState.tag&1){if(n.flags|=2048,tg(9,zO.bind(null,n,s,i,t),void 0,null),Fs===null)throw Error(lt(349));Gd&30||QO(n,t,i)}return i}function QO(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Gr.updateQueue,t===null?(t={lastEffect:null,stores:null},Gr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zO(e,t,n,s){t.value=n,t.getSnapshot=s,KO(t)&&GO(e)}function VO(e,t,n){return n(function(){KO(t)&&GO(e)})}function KO(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xo(e,n)}catch{return!0}}function GO(e){var t=rc(e,1);t!==null&&po(t,e,1,-1)}function K_(e){var t=Oo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eg,lastRenderedState:e},t.queue=e,e=e.dispatch=eY.bind(null,Gr,e),[t.memoizedState,e]}function tg(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Gr.updateQueue,t===null?(t={lastEffect:null,stores:null},Gr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function WO(){return Qa().memoizedState}function Eb(e,t,n,s){var i=Oo();Gr.flags|=e,i.memoizedState=tg(1|t,n,void 0,s===void 0?null:s)}function bw(e,t,n,s){var i=Qa();s=s===void 0?null:s;var a=void 0;if(Cs!==null){var o=Cs.memoizedState;if(a=o.destroy,s!==null&&rT(s,o.deps)){i.memoizedState=tg(t,n,a,s);return}}Gr.flags|=e,i.memoizedState=tg(1|t,n,a,s)}function G_(e,t){return Eb(8390656,8,e,t)}function aT(e,t){return bw(2048,8,e,t)}function qO(e,t){return bw(4,2,e,t)}function XO(e,t){return bw(4,4,e,t)}function YO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ZO(e,t,n){return n=n!=null?n.concat([e]):null,bw(4,4,YO.bind(null,t,e),n)}function oT(){}function JO(e,t){var n=Qa();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&rT(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function e7(e,t){var n=Qa();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&rT(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function t7(e,t,n){return Gd&21?(xo(n,t)||(n=aO(),Gr.lanes|=n,Wd|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zi=!0),e.memoizedState=n)}function ZX(e,t){var n=cr;cr=n!==0&&4>n?n:4,e(!0);var s=F2.transition;F2.transition={};try{e(!1),t()}finally{cr=n,F2.transition=s}}function n7(){return Qa().memoizedState}function JX(e,t,n){var s=Au(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},r7(e))s7(t,n);else if(n=FO(e,t,n,s),n!==null){var i=Ni();po(n,e,s,i),i7(n,t,s)}}function eY(e,t,n){var s=Au(e),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(r7(e))s7(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,c=a(o,n);if(i.hasEagerState=!0,i.eagerState=c,xo(c,o)){var l=t.interleaved;l===null?(i.next=i,Z3(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=FO(e,t,i,s),n!==null&&(i=Ni(),po(n,e,s,i),i7(n,t,s))}}function r7(e){var t=e.alternate;return e===Gr||t!==null&&t===Gr}function s7(e,t){gA=Ev=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function i7(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,F3(e,n)}}var Pv={readContext:$a,useCallback:Js,useContext:Js,useEffect:Js,useImperativeHandle:Js,useInsertionEffect:Js,useLayoutEffect:Js,useMemo:Js,useReducer:Js,useRef:Js,useState:Js,useDebugValue:Js,useDeferredValue:Js,useTransition:Js,useMutableSource:Js,useSyncExternalStore:Js,useId:Js,unstable_isNewReconciler:!1},tY={readContext:$a,useCallback:function(e,t){return Oo().memoizedState=[e,t===void 0?null:t],e},useContext:$a,useEffect:G_,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Eb(4194308,4,YO.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Eb(4194308,4,e,t)},useInsertionEffect:function(e,t){return Eb(4,2,e,t)},useMemo:function(e,t){var n=Oo();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Oo();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=JX.bind(null,Gr,e),[s.memoizedState,e]},useRef:function(e){var t=Oo();return e={current:e},t.memoizedState=e},useState:K_,useDebugValue:oT,useDeferredValue:function(e){return Oo().memoizedState=e},useTransition:function(){var e=K_(!1),t=e[0];return e=ZX.bind(null,e[1]),Oo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Gr,i=Oo();if(Ir){if(n===void 0)throw Error(lt(407));n=n()}else{if(n=t(),Fs===null)throw Error(lt(349));Gd&30||QO(s,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,G_(VO.bind(null,s,a,e),[e]),s.flags|=2048,tg(9,zO.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=Oo(),t=Fs.identifierPrefix;if(Ir){var n=Ql,s=$l;n=(s&~(1<<32-mo(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=JA++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=YX++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nY={readContext:$a,useCallback:JO,useContext:$a,useEffect:aT,useImperativeHandle:ZO,useInsertionEffect:qO,useLayoutEffect:XO,useMemo:e7,useReducer:R2,useRef:WO,useState:function(){return R2(eg)},useDebugValue:oT,useDeferredValue:function(e){var t=Qa();return t7(t,Cs.memoizedState,e)},useTransition:function(){var e=R2(eg)[0],t=Qa().memoizedState;return[e,t]},useMutableSource:HO,useSyncExternalStore:$O,useId:n7,unstable_isNewReconciler:!1},rY={readContext:$a,useCallback:JO,useContext:$a,useEffect:aT,useImperativeHandle:ZO,useInsertionEffect:qO,useLayoutEffect:XO,useMemo:e7,useReducer:U2,useRef:WO,useState:function(){return U2(eg)},useDebugValue:oT,useDeferredValue:function(e){var t=Qa();return Cs===null?t.memoizedState=e:t7(t,Cs.memoizedState,e)},useTransition:function(){var e=U2(eg)[0],t=Qa().memoizedState;return[e,t]},useMutableSource:HO,useSyncExternalStore:$O,useId:n7,unstable_isNewReconciler:!1};function no(e,t){if(e&&e.defaultProps){t=qr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function CN(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:qr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var vw={isMounted:function(e){return(e=e._reactInternals)?wh(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Ni(),i=Au(e),a=Gl(s,i);a.payload=t,n!=null&&(a.callback=n),t=mu(e,a,i),t!==null&&(po(t,e,i,s),_b(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Ni(),i=Au(e),a=Gl(s,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=mu(e,a,i),t!==null&&(po(t,e,i,s),_b(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ni(),s=Au(e),i=Gl(n,s);i.tag=2,t!=null&&(i.callback=t),t=mu(e,i,s),t!==null&&(po(t,e,s,n),_b(t,e,s))}};function W_(e,t,n,s,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,o):t.prototype&&t.prototype.isPureReactComponent?!GA(n,s)||!GA(i,a):!0}function a7(e,t,n){var s=!1,i=Su,a=t.contextType;return typeof a=="object"&&a!==null?a=$a(a):(i=Wi(t)?Vd:ui.current,s=t.contextTypes,a=(s=s!=null)?qf(e,i):Su),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vw,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function q_(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&vw.enqueueReplaceState(t,t.state,null)}function NN(e,t,n,s){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},J3(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=$a(a):(a=Wi(t)?Vd:ui.current,i.context=qf(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(CN(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&vw.enqueueReplaceState(i,i.state,null),_v(e,n,i,s),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Jf(e,t){try{var n="",s=t;do n+=Eq(s),s=s.return;while(s);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function H2(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function SN(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var sY=typeof WeakMap=="function"?WeakMap:Map;function o7(e,t,n){n=Gl(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Dv||(Dv=!0,ON=s),SN(e,t)},n}function l7(e,t,n){n=Gl(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var i=t.value;n.payload=function(){return s(i)},n.callback=function(){SN(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){SN(e,t),typeof s!="function"&&(pu===null?pu=new Set([this]):pu.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function X_(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new sY;var i=new Set;s.set(t,i)}else i=s.get(t),i===void 0&&(i=new Set,s.set(t,i));i.has(n)||(i.add(n),e=xY.bind(null,e,t,n),t.then(e,e))}function Y_(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Z_(e,t,n,s,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Gl(-1,1),t.tag=2,mu(n,t,1))),n.lanes|=1),e)}var iY=pc.ReactCurrentOwner,zi=!1;function bi(e,t,n,s){t.child=e===null?LO(t,null,n,s):Yf(t,e.child,n,s)}function J_(e,t,n,s,i){n=n.render;var a=t.ref;return Cf(t,i),s=sT(e,t,n,s,a,i),n=iT(),e!==null&&!zi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,sc(e,t,i)):(Ir&&n&&K3(t),t.flags|=1,bi(e,t,s,i),t.child)}function e6(e,t,n,s,i){if(e===null){var a=n.type;return typeof a=="function"&&!pT(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,c7(e,t,a,s,i)):(e=Ib(n.type,null,s,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:GA,n(o,s)&&e.ref===t.ref)return sc(e,t,i)}return t.flags|=1,e=gu(a,s),e.ref=t.ref,e.return=t,t.child=e}function c7(e,t,n,s,i){if(e!==null){var a=e.memoizedProps;if(GA(a,s)&&e.ref===t.ref)if(zi=!1,t.pendingProps=s=a,(e.lanes&i)!==0)e.flags&131072&&(zi=!0);else return t.lanes=e.lanes,sc(e,t,i)}return TN(e,t,n,s,i)}function u7(e,t,n){var s=t.pendingProps,i=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},vr(gf,la),la|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,vr(gf,la),la|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,vr(gf,la),la|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,vr(gf,la),la|=s;return bi(e,t,i,n),t.child}function d7(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function TN(e,t,n,s,i){var a=Wi(n)?Vd:ui.current;return a=qf(t,a),Cf(t,i),n=sT(e,t,n,s,a,i),s=iT(),e!==null&&!zi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,sc(e,t,i)):(Ir&&s&&K3(t),t.flags|=1,bi(e,t,n,i),t.child)}function t6(e,t,n,s,i){if(Wi(n)){var a=!0;Cv(t)}else a=!1;if(Cf(t,i),t.stateNode===null)Pb(e,t),a7(t,n,s),NN(t,n,s,i),s=!0;else if(e===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=$a(u):(u=Wi(n)?Vd:ui.current,u=qf(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==s||l!==u)&&q_(t,o,s,u),Lc=!1;var h=t.memoizedState;o.state=h,_v(t,s,o,i),l=t.memoizedState,c!==s||h!==l||Gi.current||Lc?(typeof d=="function"&&(CN(t,n,d,s),l=t.memoizedState),(c=Lc||W_(t,n,c,s,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=l),o.props=s,o.state=l,o.context=u,s=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,RO(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:no(t.type,c),o.props=u,f=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=$a(l):(l=Wi(n)?Vd:ui.current,l=qf(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==f||h!==l)&&q_(t,o,s,l),Lc=!1,h=t.memoizedState,o.state=h,_v(t,s,o,i);var A=t.memoizedState;c!==f||h!==A||Gi.current||Lc?(typeof m=="function"&&(CN(t,n,m,s),A=t.memoizedState),(u=Lc||W_(t,n,u,s,h,A,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,A,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,A,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=A),o.props=s,o.state=A,o.context=l,s=u):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return kN(e,t,n,s,a,i)}function kN(e,t,n,s,i,a){d7(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return i&&U_(t,n,!1),sc(e,t,a);s=t.stateNode,iY.current=t;var c=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Yf(t,e.child,null,a),t.child=Yf(t,null,c,a)):bi(e,t,c,a),t.memoizedState=s.state,i&&U_(t,n,!0),t.child}function h7(e){var t=e.stateNode;t.pendingContext?R_(e,t.pendingContext,t.pendingContext!==t.context):t.context&&R_(e,t.context,!1),eT(e,t.containerInfo)}function n6(e,t,n,s,i){return Xf(),W3(i),t.flags|=256,bi(e,t,n,s),t.child}var _N={dehydrated:null,treeContext:null,retryLane:0};function BN(e){return{baseLanes:e,cachePool:null,transitions:null}}function f7(e,t,n){var s=t.pendingProps,i=zr.current,a=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(i&2)!==0),c?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),vr(zr,i&1),e===null)return wN(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,a?(s=t.mode,a=t.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=jw(o,s,0,null),e=Dd(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=BN(n),t.memoizedState=_N,e):lT(t,o));if(i=e.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return aY(e,t,o,s,c,i,n);if(a){a=s.fallback,o=t.mode,i=e.child,c=i.sibling;var l={mode:"hidden",children:s.children};return!(o&1)&&t.child!==i?(s=t.child,s.childLanes=0,s.pendingProps=l,t.deletions=null):(s=gu(i,l),s.subtreeFlags=i.subtreeFlags&14680064),c!==null?a=gu(c,a):(a=Dd(a,o,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,o=e.child.memoizedState,o=o===null?BN(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=_N,s}return a=e.child,e=a.sibling,s=gu(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function lT(e,t){return t=jw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function tx(e,t,n,s){return s!==null&&W3(s),Yf(t,e.child,null,n),e=lT(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function aY(e,t,n,s,i,a,o){if(n)return t.flags&256?(t.flags&=-257,s=H2(Error(lt(422))),tx(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,i=t.mode,s=jw({mode:"visible",children:s.children},i,0,null),a=Dd(a,i,o,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&Yf(t,e.child,null,o),t.child.memoizedState=BN(o),t.memoizedState=_N,a);if(!(t.mode&1))return tx(e,t,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var c=s.dgst;return s=c,a=Error(lt(419)),s=H2(a,s,void 0),tx(e,t,o,s)}if(c=(o&e.childLanes)!==0,zi||c){if(s=Fs,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,rc(e,i),po(s,e,i,-1))}return mT(),s=H2(Error(lt(421))),tx(e,t,o,s)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=bY.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,fa=fu(i.nextSibling),ma=t,Ir=!0,oo=null,e!==null&&(Ea[Pa++]=$l,Ea[Pa++]=Ql,Ea[Pa++]=Kd,$l=e.id,Ql=e.overflow,Kd=t),t=lT(t,s.children),t.flags|=4096,t)}function r6(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),jN(e.return,t,n)}function $2(e,t,n,s,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=i)}function m7(e,t,n){var s=t.pendingProps,i=s.revealOrder,a=s.tail;if(bi(e,t,s.children,n),s=zr.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&r6(e,n,t);else if(e.tag===19)r6(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(vr(zr,s),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Bv(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),$2(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Bv(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}$2(t,!0,n,null,a);break;case"together":$2(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pb(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wd|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(lt(153));if(t.child!==null){for(e=t.child,n=gu(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gu(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function oY(e,t,n){switch(t.tag){case 3:h7(t),Xf();break;case 5:UO(t);break;case 1:Wi(t.type)&&Cv(t);break;case 4:eT(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,i=t.memoizedProps.value;vr(Tv,s._currentValue),s._currentValue=i;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(vr(zr,zr.current&1),t.flags|=128,null):n&t.child.childLanes?f7(e,t,n):(vr(zr,zr.current&1),e=sc(e,t,n),e!==null?e.sibling:null);vr(zr,zr.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return m7(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),vr(zr,zr.current),s)break;return null;case 22:case 23:return t.lanes=0,u7(e,t,n)}return sc(e,t,n)}var p7,EN,A7,g7;p7=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};EN=function(){};A7=function(e,t,n,s){var i=e.memoizedProps;if(i!==s){e=t.stateNode,jd(tl.current);var a=null;switch(n){case"input":i=JC(e,i),s=JC(e,s),a=[];break;case"select":i=qr({},i,{value:void 0}),s=qr({},s,{value:void 0}),a=[];break;case"textarea":i=nN(e,i),s=nN(e,s),a=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=wv)}sN(n,s);var o;n=null;for(u in i)if(!s.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var c=i[u];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(UA.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var l=s[u];if(c=i!=null?i[u]:void 0,s.hasOwnProperty(u)&&l!==c&&(l!=null||c!=null))if(u==="style")if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,c=c?c.__html:void 0,l!=null&&c!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(UA.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&_r("scroll",e),a||c===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};g7=function(e,t,n,s){n!==s&&(t.flags|=4)};function ap(e,t){if(!Ir)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ei(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function lY(e,t,n){var s=t.pendingProps;switch(G3(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ei(t),null;case 1:return Wi(t.type)&&jv(),ei(t),null;case 3:return s=t.stateNode,Zf(),Er(Gi),Er(ui),nT(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(J0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,oo!==null&&(RN(oo),oo=null))),EN(e,t),ei(t),null;case 5:tT(t);var i=jd(ZA.current);if(n=t.type,e!==null&&t.stateNode!=null)A7(e,t,n,s,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(lt(166));return ei(t),null}if(e=jd(tl.current),J0(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[zo]=t,s[XA]=a,e=(t.mode&1)!==0,n){case"dialog":_r("cancel",s),_r("close",s);break;case"iframe":case"object":case"embed":_r("load",s);break;case"video":case"audio":for(i=0;i<Kp.length;i++)_r(Kp[i],s);break;case"source":_r("error",s);break;case"img":case"image":case"link":_r("error",s),_r("load",s);break;case"details":_r("toggle",s);break;case"input":h_(s,a),_r("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},_r("invalid",s);break;case"textarea":m_(s,a),_r("invalid",s)}sN(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="children"?typeof c=="string"?s.textContent!==c&&(a.suppressHydrationWarning!==!0&&Z0(s.textContent,c,e),i=["children",c]):typeof c=="number"&&s.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&Z0(s.textContent,c,e),i=["children",""+c]):UA.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&_r("scroll",s)}switch(n){case"input":z0(s),f_(s,a,!0);break;case"textarea":z0(s),p_(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=wv)}s=i,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=VI(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[zo]=t,e[XA]=s,p7(e,t,!1,!1),t.stateNode=e;e:{switch(o=iN(n,s),n){case"dialog":_r("cancel",e),_r("close",e),i=s;break;case"iframe":case"object":case"embed":_r("load",e),i=s;break;case"video":case"audio":for(i=0;i<Kp.length;i++)_r(Kp[i],e);i=s;break;case"source":_r("error",e),i=s;break;case"img":case"image":case"link":_r("error",e),_r("load",e),i=s;break;case"details":_r("toggle",e),i=s;break;case"input":h_(e,s),i=JC(e,s),_r("invalid",e);break;case"option":i=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},i=qr({},s,{value:void 0}),_r("invalid",e);break;case"textarea":m_(e,s),i=nN(e,s),_r("invalid",e);break;default:i=s}sN(n,i),c=i;for(a in c)if(c.hasOwnProperty(a)){var l=c[a];a==="style"?WI(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&KI(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&HA(e,l):typeof l=="number"&&HA(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(UA.hasOwnProperty(a)?l!=null&&a==="onScroll"&&_r("scroll",e):l!=null&&P3(e,a,l,o))}switch(n){case"input":z0(e),f_(e,s,!1);break;case"textarea":z0(e),p_(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Nu(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?vf(e,!!s.multiple,a,!1):s.defaultValue!=null&&vf(e,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=wv)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ei(t),null;case 6:if(e&&t.stateNode!=null)g7(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(lt(166));if(n=jd(ZA.current),jd(tl.current),J0(t)){if(s=t.stateNode,n=t.memoizedProps,s[zo]=t,(a=s.nodeValue!==n)&&(e=ma,e!==null))switch(e.tag){case 3:Z0(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Z0(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[zo]=t,t.stateNode=s}return ei(t),null;case 13:if(Er(zr),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ir&&fa!==null&&t.mode&1&&!(t.flags&128))IO(),Xf(),t.flags|=98560,a=!1;else if(a=J0(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(lt(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(lt(317));a[zo]=t}else Xf(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ei(t),a=!1}else oo!==null&&(RN(oo),oo=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||zr.current&1?Ss===0&&(Ss=3):mT())),t.updateQueue!==null&&(t.flags|=4),ei(t),null);case 4:return Zf(),EN(e,t),e===null&&WA(t.stateNode.containerInfo),ei(t),null;case 10:return Y3(t.type._context),ei(t),null;case 17:return Wi(t.type)&&jv(),ei(t),null;case 19:if(Er(zr),a=t.memoizedState,a===null)return ei(t),null;if(s=(t.flags&128)!==0,o=a.rendering,o===null)if(s)ap(a,!1);else{if(Ss!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Bv(e),o!==null){for(t.flags|=128,ap(a,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return vr(zr,zr.current&1|2),t.child}e=e.sibling}a.tail!==null&&cs()>em&&(t.flags|=128,s=!0,ap(a,!1),t.lanes=4194304)}else{if(!s)if(e=Bv(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ap(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ir)return ei(t),null}else 2*cs()-a.renderingStartTime>em&&n!==1073741824&&(t.flags|=128,s=!0,ap(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=cs(),t.sibling=null,n=zr.current,vr(zr,s?n&1|2:n&1),t):(ei(t),null);case 22:case 23:return fT(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?la&1073741824&&(ei(t),t.subtreeFlags&6&&(t.flags|=8192)):ei(t),null;case 24:return null;case 25:return null}throw Error(lt(156,t.tag))}function cY(e,t){switch(G3(t),t.tag){case 1:return Wi(t.type)&&jv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zf(),Er(Gi),Er(ui),nT(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tT(t),null;case 13:if(Er(zr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(lt(340));Xf()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Er(zr),null;case 4:return Zf(),null;case 10:return Y3(t.type._context),null;case 22:case 23:return fT(),null;case 24:return null;default:return null}}var nx=!1,ai=!1,uY=typeof WeakSet=="function"?WeakSet:Set,Et=null;function Af(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Jr(e,t,s)}else n.current=null}function PN(e,t,n){try{n()}catch(s){Jr(e,t,s)}}var s6=!1;function dY(e,t){if(pN=bv,e=wO(),V3(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,c=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(c=o+i),f!==a||s!==0&&f.nodeType!==3||(l=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===i&&(c=o),h===a&&++d===s&&(l=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(AN={focusedElem:e,selectionRange:n},bv=!1,Et=t;Et!==null;)if(t=Et,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Et=e;else for(;Et!==null;){t=Et;try{var A=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var g=A.memoizedProps,p=A.memoizedState,b=t.stateNode,x=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:no(t.type,g),p);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(lt(163))}}catch(y){Jr(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,Et=e;break}Et=t.return}return A=s6,s6=!1,A}function xA(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&PN(t,n,a)}i=i.next}while(i!==s)}}function yw(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function MN(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function x7(e){var t=e.alternate;t!==null&&(e.alternate=null,x7(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zo],delete t[XA],delete t[bN],delete t[GX],delete t[WX])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function b7(e){return e.tag===5||e.tag===3||e.tag===4}function i6(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||b7(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function DN(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=wv));else if(s!==4&&(e=e.child,e!==null))for(DN(e,t,n),e=e.sibling;e!==null;)DN(e,t,n),e=e.sibling}function IN(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(IN(e,t,n),e=e.sibling;e!==null;)IN(e,t,n),e=e.sibling}var $s=null,ao=!1;function Nc(e,t,n){for(n=n.child;n!==null;)v7(e,t,n),n=n.sibling}function v7(e,t,n){if(el&&typeof el.onCommitFiberUnmount=="function")try{el.onCommitFiberUnmount(fw,n)}catch{}switch(n.tag){case 5:ai||Af(n,t);case 6:var s=$s,i=ao;$s=null,Nc(e,t,n),$s=s,ao=i,$s!==null&&(ao?(e=$s,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$s.removeChild(n.stateNode));break;case 18:$s!==null&&(ao?(e=$s,n=n.stateNode,e.nodeType===8?I2(e.parentNode,n):e.nodeType===1&&I2(e,n),VA(e)):I2($s,n.stateNode));break;case 4:s=$s,i=ao,$s=n.stateNode.containerInfo,ao=!0,Nc(e,t,n),$s=s,ao=i;break;case 0:case 11:case 14:case 15:if(!ai&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&PN(n,t,o),i=i.next}while(i!==s)}Nc(e,t,n);break;case 1:if(!ai&&(Af(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(c){Jr(n,t,c)}Nc(e,t,n);break;case 21:Nc(e,t,n);break;case 22:n.mode&1?(ai=(s=ai)||n.memoizedState!==null,Nc(e,t,n),ai=s):Nc(e,t,n);break;default:Nc(e,t,n)}}function a6(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new uY),t.forEach(function(s){var i=vY.bind(null,e,s);n.has(s)||(n.add(s),s.then(i,i))})}}function Xa(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var a=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 5:$s=c.stateNode,ao=!1;break e;case 3:$s=c.stateNode.containerInfo,ao=!0;break e;case 4:$s=c.stateNode.containerInfo,ao=!0;break e}c=c.return}if($s===null)throw Error(lt(160));v7(a,o,i),$s=null,ao=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Jr(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)y7(t,e),t=t.sibling}function y7(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xa(t,e),Eo(e),s&4){try{xA(3,e,e.return),yw(3,e)}catch(g){Jr(e,e.return,g)}try{xA(5,e,e.return)}catch(g){Jr(e,e.return,g)}}break;case 1:Xa(t,e),Eo(e),s&512&&n!==null&&Af(n,n.return);break;case 5:if(Xa(t,e),Eo(e),s&512&&n!==null&&Af(n,n.return),e.flags&32){var i=e.stateNode;try{HA(i,"")}catch(g){Jr(e,e.return,g)}}if(s&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,c=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&QI(i,a),iN(c,o);var u=iN(c,a);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?WI(i,f):d==="dangerouslySetInnerHTML"?KI(i,f):d==="children"?HA(i,f):P3(i,d,f,u)}switch(c){case"input":eN(i,a);break;case"textarea":zI(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?vf(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?vf(i,!!a.multiple,a.defaultValue,!0):vf(i,!!a.multiple,a.multiple?[]:"",!1))}i[XA]=a}catch(g){Jr(e,e.return,g)}}break;case 6:if(Xa(t,e),Eo(e),s&4){if(e.stateNode===null)throw Error(lt(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Jr(e,e.return,g)}}break;case 3:if(Xa(t,e),Eo(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{VA(t.containerInfo)}catch(g){Jr(e,e.return,g)}break;case 4:Xa(t,e),Eo(e);break;case 13:Xa(t,e),Eo(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(dT=cs())),s&4&&a6(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ai=(u=ai)||d,Xa(t,e),ai=u):Xa(t,e),Eo(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Et=e,d=e.child;d!==null;){for(f=Et=d;Et!==null;){switch(h=Et,m=h.child,h.tag){case 0:case 11:case 14:case 15:xA(4,h,h.return);break;case 1:Af(h,h.return);var A=h.stateNode;if(typeof A.componentWillUnmount=="function"){s=h,n=h.return;try{t=s,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(g){Jr(s,n,g)}}break;case 5:Af(h,h.return);break;case 22:if(h.memoizedState!==null){l6(f);continue}}m!==null?(m.return=h,Et=m):l6(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,c.style.display=GI("display",o))}catch(g){Jr(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Jr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Xa(t,e),Eo(e),s&4&&a6(e);break;case 21:break;default:Xa(t,e),Eo(e)}}function Eo(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(b7(n)){var s=n;break e}n=n.return}throw Error(lt(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(HA(i,""),s.flags&=-33);var a=i6(e);IN(e,a,i);break;case 3:case 4:var o=s.stateNode.containerInfo,c=i6(e);DN(e,c,o);break;default:throw Error(lt(161))}}catch(l){Jr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hY(e,t,n){Et=e,w7(e)}function w7(e,t,n){for(var s=(e.mode&1)!==0;Et!==null;){var i=Et,a=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||nx;if(!o){var c=i.alternate,l=c!==null&&c.memoizedState!==null||ai;c=nx;var u=ai;if(nx=o,(ai=l)&&!u)for(Et=i;Et!==null;)o=Et,l=o.child,o.tag===22&&o.memoizedState!==null?c6(i):l!==null?(l.return=o,Et=l):c6(i);for(;a!==null;)Et=a,w7(a),a=a.sibling;Et=i,nx=c,ai=u}o6(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Et=a):o6(e)}}function o6(e){for(;Et!==null;){var t=Et;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ai||yw(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!ai)if(n===null)s.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:no(t.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&V_(t,a,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}V_(t,o,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&VA(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(lt(163))}ai||t.flags&512&&MN(t)}catch(h){Jr(t,t.return,h)}}if(t===e){Et=null;break}if(n=t.sibling,n!==null){n.return=t.return,Et=n;break}Et=t.return}}function l6(e){for(;Et!==null;){var t=Et;if(t===e){Et=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Et=n;break}Et=t.return}}function c6(e){for(;Et!==null;){var t=Et;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{yw(4,t)}catch(l){Jr(t,n,l)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var i=t.return;try{s.componentDidMount()}catch(l){Jr(t,i,l)}}var a=t.return;try{MN(t)}catch(l){Jr(t,a,l)}break;case 5:var o=t.return;try{MN(t)}catch(l){Jr(t,o,l)}}}catch(l){Jr(t,t.return,l)}if(t===e){Et=null;break}var c=t.sibling;if(c!==null){c.return=t.return,Et=c;break}Et=t.return}}var fY=Math.ceil,Mv=pc.ReactCurrentDispatcher,cT=pc.ReactCurrentOwner,Ra=pc.ReactCurrentBatchConfig,Qn=0,Fs=null,vs=null,Gs=0,la=0,gf=Fu(0),Ss=0,ng=null,Wd=0,ww=0,uT=0,bA=null,$i=null,dT=0,em=1/0,Ll=null,Dv=!1,ON=null,pu=null,rx=!1,qc=null,Iv=0,vA=0,LN=null,Mb=-1,Db=0;function Ni(){return Qn&6?cs():Mb!==-1?Mb:Mb=cs()}function Au(e){return e.mode&1?Qn&2&&Gs!==0?Gs&-Gs:XX.transition!==null?(Db===0&&(Db=aO()),Db):(e=cr,e!==0||(e=window.event,e=e===void 0?16:fO(e.type)),e):1}function po(e,t,n,s){if(50<vA)throw vA=0,LN=null,Error(lt(185));Gg(e,n,s),(!(Qn&2)||e!==Fs)&&(e===Fs&&(!(Qn&2)&&(ww|=n),Ss===4&&Hc(e,Gs)),qi(e,s),n===1&&Qn===0&&!(t.mode&1)&&(em=cs()+500,xw&&Ru()))}function qi(e,t){var n=e.callbackNode;Xq(e,t);var s=xv(e,e===Fs?Gs:0);if(s===0)n!==null&&x_(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&x_(n),t===1)e.tag===0?qX(u6.bind(null,e)):PO(u6.bind(null,e)),VX(function(){!(Qn&6)&&Ru()}),n=null;else{switch(oO(s)){case 1:n=L3;break;case 4:n=sO;break;case 16:n=gv;break;case 536870912:n=iO;break;default:n=gv}n=B7(n,j7.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function j7(e,t){if(Mb=-1,Db=0,Qn&6)throw Error(lt(327));var n=e.callbackNode;if(Nf()&&e.callbackNode!==n)return null;var s=xv(e,e===Fs?Gs:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Ov(e,s);else{t=s;var i=Qn;Qn|=2;var a=N7();(Fs!==e||Gs!==t)&&(Ll=null,em=cs()+500,Md(e,t));do try{AY();break}catch(c){C7(e,c)}while(!0);X3(),Mv.current=a,Qn=i,vs!==null?t=0:(Fs=null,Gs=0,t=Ss)}if(t!==0){if(t===2&&(i=uN(e),i!==0&&(s=i,t=FN(e,i))),t===1)throw n=ng,Md(e,0),Hc(e,s),qi(e,cs()),n;if(t===6)Hc(e,s);else{if(i=e.current.alternate,!(s&30)&&!mY(i)&&(t=Ov(e,s),t===2&&(a=uN(e),a!==0&&(s=a,t=FN(e,a))),t===1))throw n=ng,Md(e,0),Hc(e,s),qi(e,cs()),n;switch(e.finishedWork=i,e.finishedLanes=s,t){case 0:case 1:throw Error(lt(345));case 2:md(e,$i,Ll);break;case 3:if(Hc(e,s),(s&130023424)===s&&(t=dT+500-cs(),10<t)){if(xv(e,0)!==0)break;if(i=e.suspendedLanes,(i&s)!==s){Ni(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=xN(md.bind(null,e,$i,Ll),t);break}md(e,$i,Ll);break;case 4:if(Hc(e,s),(s&4194240)===s)break;for(t=e.eventTimes,i=-1;0<s;){var o=31-mo(s);a=1<<o,o=t[o],o>i&&(i=o),s&=~a}if(s=i,s=cs()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*fY(s/1960))-s,10<s){e.timeoutHandle=xN(md.bind(null,e,$i,Ll),s);break}md(e,$i,Ll);break;case 5:md(e,$i,Ll);break;default:throw Error(lt(329))}}}return qi(e,cs()),e.callbackNode===n?j7.bind(null,e):null}function FN(e,t){var n=bA;return e.current.memoizedState.isDehydrated&&(Md(e,t).flags|=256),e=Ov(e,t),e!==2&&(t=$i,$i=n,t!==null&&RN(t)),e}function RN(e){$i===null?$i=e:$i.push.apply($i,e)}function mY(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],a=i.getSnapshot;i=i.value;try{if(!xo(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hc(e,t){for(t&=~uT,t&=~ww,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mo(t),s=1<<n;e[n]=-1,t&=~s}}function u6(e){if(Qn&6)throw Error(lt(327));Nf();var t=xv(e,0);if(!(t&1))return qi(e,cs()),null;var n=Ov(e,t);if(e.tag!==0&&n===2){var s=uN(e);s!==0&&(t=s,n=FN(e,s))}if(n===1)throw n=ng,Md(e,0),Hc(e,t),qi(e,cs()),n;if(n===6)throw Error(lt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,md(e,$i,Ll),qi(e,cs()),null}function hT(e,t){var n=Qn;Qn|=1;try{return e(t)}finally{Qn=n,Qn===0&&(em=cs()+500,xw&&Ru())}}function qd(e){qc!==null&&qc.tag===0&&!(Qn&6)&&Nf();var t=Qn;Qn|=1;var n=Ra.transition,s=cr;try{if(Ra.transition=null,cr=1,e)return e()}finally{cr=s,Ra.transition=n,Qn=t,!(Qn&6)&&Ru()}}function fT(){la=gf.current,Er(gf)}function Md(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,zX(n)),vs!==null)for(n=vs.return;n!==null;){var s=n;switch(G3(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&jv();break;case 3:Zf(),Er(Gi),Er(ui),nT();break;case 5:tT(s);break;case 4:Zf();break;case 13:Er(zr);break;case 19:Er(zr);break;case 10:Y3(s.type._context);break;case 22:case 23:fT()}n=n.return}if(Fs=e,vs=e=gu(e.current,null),Gs=la=t,Ss=0,ng=null,uT=ww=Wd=0,$i=bA=null,wd!==null){for(t=0;t<wd.length;t++)if(n=wd[t],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,s.next=o}n.pending=s}wd=null}return e}function C7(e,t){do{var n=vs;try{if(X3(),Bb.current=Pv,Ev){for(var s=Gr.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Ev=!1}if(Gd=0,Os=Cs=Gr=null,gA=!1,JA=0,cT.current=null,n===null||n.return===null){Ss=1,ng=t,vs=null;break}e:{var a=e,o=n.return,c=n,l=t;if(t=Gs,c.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=c,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Y_(o);if(m!==null){m.flags&=-257,Z_(m,o,c,a,t),m.mode&1&&X_(a,u,t),t=m,l=u;var A=t.updateQueue;if(A===null){var g=new Set;g.add(l),t.updateQueue=g}else A.add(l);break e}else{if(!(t&1)){X_(a,u,t),mT();break e}l=Error(lt(426))}}else if(Ir&&c.mode&1){var p=Y_(o);if(p!==null){!(p.flags&65536)&&(p.flags|=256),Z_(p,o,c,a,t),W3(Jf(l,c));break e}}a=l=Jf(l,c),Ss!==4&&(Ss=2),bA===null?bA=[a]:bA.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=o7(a,l,t);z_(a,b);break e;case 1:c=l;var x=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(pu===null||!pu.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t;var y=l7(a,c,t);z_(a,y);break e}}a=a.return}while(a!==null)}T7(n)}catch(N){t=N,vs===n&&n!==null&&(vs=n=n.return);continue}break}while(!0)}function N7(){var e=Mv.current;return Mv.current=Pv,e===null?Pv:e}function mT(){(Ss===0||Ss===3||Ss===2)&&(Ss=4),Fs===null||!(Wd&268435455)&&!(ww&268435455)||Hc(Fs,Gs)}function Ov(e,t){var n=Qn;Qn|=2;var s=N7();(Fs!==e||Gs!==t)&&(Ll=null,Md(e,t));do try{pY();break}catch(i){C7(e,i)}while(!0);if(X3(),Qn=n,Mv.current=s,vs!==null)throw Error(lt(261));return Fs=null,Gs=0,Ss}function pY(){for(;vs!==null;)S7(vs)}function AY(){for(;vs!==null&&!Hq();)S7(vs)}function S7(e){var t=_7(e.alternate,e,la);e.memoizedProps=e.pendingProps,t===null?T7(e):vs=t,cT.current=null}function T7(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=cY(n,t),n!==null){n.flags&=32767,vs=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ss=6,vs=null;return}}else if(n=lY(n,t,la),n!==null){vs=n;return}if(t=t.sibling,t!==null){vs=t;return}vs=t=e}while(t!==null);Ss===0&&(Ss=5)}function md(e,t,n){var s=cr,i=Ra.transition;try{Ra.transition=null,cr=1,gY(e,t,n,s)}finally{Ra.transition=i,cr=s}return null}function gY(e,t,n,s){do Nf();while(qc!==null);if(Qn&6)throw Error(lt(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(lt(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Yq(e,a),e===Fs&&(vs=Fs=null,Gs=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rx||(rx=!0,B7(gv,function(){return Nf(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ra.transition,Ra.transition=null;var o=cr;cr=1;var c=Qn;Qn|=4,cT.current=null,dY(e,n),y7(n,e),LX(AN),bv=!!pN,AN=pN=null,e.current=n,hY(n),$q(),Qn=c,cr=o,Ra.transition=a}else e.current=n;if(rx&&(rx=!1,qc=e,Iv=i),a=e.pendingLanes,a===0&&(pu=null),Vq(n.stateNode),qi(e,cs()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(Dv)throw Dv=!1,e=ON,ON=null,e;return Iv&1&&e.tag!==0&&Nf(),a=e.pendingLanes,a&1?e===LN?vA++:(vA=0,LN=e):vA=0,Ru(),null}function Nf(){if(qc!==null){var e=oO(Iv),t=Ra.transition,n=cr;try{if(Ra.transition=null,cr=16>e?16:e,qc===null)var s=!1;else{if(e=qc,qc=null,Iv=0,Qn&6)throw Error(lt(331));var i=Qn;for(Qn|=4,Et=e.current;Et!==null;){var a=Et,o=a.child;if(Et.flags&16){var c=a.deletions;if(c!==null){for(var l=0;l<c.length;l++){var u=c[l];for(Et=u;Et!==null;){var d=Et;switch(d.tag){case 0:case 11:case 15:xA(8,d,a)}var f=d.child;if(f!==null)f.return=d,Et=f;else for(;Et!==null;){d=Et;var h=d.sibling,m=d.return;if(x7(d),d===u){Et=null;break}if(h!==null){h.return=m,Et=h;break}Et=m}}}var A=a.alternate;if(A!==null){var g=A.child;if(g!==null){A.child=null;do{var p=g.sibling;g.sibling=null,g=p}while(g!==null)}}Et=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Et=o;else e:for(;Et!==null;){if(a=Et,a.flags&2048)switch(a.tag){case 0:case 11:case 15:xA(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,Et=b;break e}Et=a.return}}var x=e.current;for(Et=x;Et!==null;){o=Et;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Et=v;else e:for(o=x;Et!==null;){if(c=Et,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:yw(9,c)}}catch(N){Jr(c,c.return,N)}if(c===o){Et=null;break e}var y=c.sibling;if(y!==null){y.return=c.return,Et=y;break e}Et=c.return}}if(Qn=i,Ru(),el&&typeof el.onPostCommitFiberRoot=="function")try{el.onPostCommitFiberRoot(fw,e)}catch{}s=!0}return s}finally{cr=n,Ra.transition=t}}return!1}function d6(e,t,n){t=Jf(n,t),t=o7(e,t,1),e=mu(e,t,1),t=Ni(),e!==null&&(Gg(e,1,t),qi(e,t))}function Jr(e,t,n){if(e.tag===3)d6(e,e,n);else for(;t!==null;){if(t.tag===3){d6(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(pu===null||!pu.has(s))){e=Jf(n,e),e=l7(t,e,1),t=mu(t,e,1),e=Ni(),t!==null&&(Gg(t,1,e),qi(t,e));break}}t=t.return}}function xY(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Ni(),e.pingedLanes|=e.suspendedLanes&n,Fs===e&&(Gs&n)===n&&(Ss===4||Ss===3&&(Gs&130023424)===Gs&&500>cs()-dT?Md(e,0):uT|=n),qi(e,t)}function k7(e,t){t===0&&(e.mode&1?(t=G0,G0<<=1,!(G0&130023424)&&(G0=4194304)):t=1);var n=Ni();e=rc(e,t),e!==null&&(Gg(e,t,n),qi(e,n))}function bY(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),k7(e,n)}function vY(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(lt(314))}s!==null&&s.delete(t),k7(e,n)}var _7;_7=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gi.current)zi=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return zi=!1,oY(e,t,n);zi=!!(e.flags&131072)}else zi=!1,Ir&&t.flags&1048576&&MO(t,Sv,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Pb(e,t),e=t.pendingProps;var i=qf(t,ui.current);Cf(t,n),i=sT(null,t,s,e,i,n);var a=iT();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wi(s)?(a=!0,Cv(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,J3(t),i.updater=vw,t.stateNode=i,i._reactInternals=t,NN(t,s,e,n),t=kN(null,t,s,!0,a,n)):(t.tag=0,Ir&&a&&K3(t),bi(null,t,i,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Pb(e,t),e=t.pendingProps,i=s._init,s=i(s._payload),t.type=s,i=t.tag=wY(s),e=no(s,e),i){case 0:t=TN(null,t,s,e,n);break e;case 1:t=t6(null,t,s,e,n);break e;case 11:t=J_(null,t,s,e,n);break e;case 14:t=e6(null,t,s,no(s.type,e),n);break e}throw Error(lt(306,s,""))}return t;case 0:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:no(s,i),TN(e,t,s,i,n);case 1:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:no(s,i),t6(e,t,s,i,n);case 3:e:{if(h7(t),e===null)throw Error(lt(387));s=t.pendingProps,a=t.memoizedState,i=a.element,RO(e,t),_v(t,s,null,n);var o=t.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Jf(Error(lt(423)),t),t=n6(e,t,s,n,i);break e}else if(s!==i){i=Jf(Error(lt(424)),t),t=n6(e,t,s,n,i);break e}else for(fa=fu(t.stateNode.containerInfo.firstChild),ma=t,Ir=!0,oo=null,n=LO(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xf(),s===i){t=sc(e,t,n);break e}bi(e,t,s,n)}t=t.child}return t;case 5:return UO(t),e===null&&wN(t),s=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,gN(s,i)?o=null:a!==null&&gN(s,a)&&(t.flags|=32),d7(e,t),bi(e,t,o,n),t.child;case 6:return e===null&&wN(t),null;case 13:return f7(e,t,n);case 4:return eT(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Yf(t,null,s,n):bi(e,t,s,n),t.child;case 11:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:no(s,i),J_(e,t,s,i,n);case 7:return bi(e,t,t.pendingProps,n),t.child;case 8:return bi(e,t,t.pendingProps.children,n),t.child;case 12:return bi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,vr(Tv,s._currentValue),s._currentValue=o,a!==null)if(xo(a.value,o)){if(a.children===i.children&&!Gi.current){t=sc(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var c=a.dependencies;if(c!==null){o=a.child;for(var l=c.firstContext;l!==null;){if(l.context===s){if(a.tag===1){l=Gl(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),jN(a.return,n,t),c.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(lt(341));o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),jN(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}bi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps.children,Cf(t,n),i=$a(i),s=s(i),t.flags|=1,bi(e,t,s,n),t.child;case 14:return s=t.type,i=no(s,t.pendingProps),i=no(s.type,i),e6(e,t,s,i,n);case 15:return c7(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:no(s,i),Pb(e,t),t.tag=1,Wi(s)?(e=!0,Cv(t)):e=!1,Cf(t,n),a7(t,s,i),NN(t,s,i,n),kN(null,t,s,!0,e,n);case 19:return m7(e,t,n);case 22:return u7(e,t,n)}throw Error(lt(156,t.tag))};function B7(e,t){return rO(e,t)}function yY(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ia(e,t,n,s){return new yY(e,t,n,s)}function pT(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wY(e){if(typeof e=="function")return pT(e)?1:0;if(e!=null){if(e=e.$$typeof,e===D3)return 11;if(e===I3)return 14}return 2}function gu(e,t){var n=e.alternate;return n===null?(n=Ia(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ib(e,t,n,s,i,a){var o=2;if(s=e,typeof e=="function")pT(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case of:return Dd(n.children,i,a,t);case M3:o=8,i|=8;break;case qC:return e=Ia(12,n,t,i|2),e.elementType=qC,e.lanes=a,e;case XC:return e=Ia(13,n,t,i),e.elementType=XC,e.lanes=a,e;case YC:return e=Ia(19,n,t,i),e.elementType=YC,e.lanes=a,e;case UI:return jw(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case FI:o=10;break e;case RI:o=9;break e;case D3:o=11;break e;case I3:o=14;break e;case Oc:o=16,s=null;break e}throw Error(lt(130,e==null?e:typeof e,""))}return t=Ia(o,n,t,i),t.elementType=e,t.type=s,t.lanes=a,t}function Dd(e,t,n,s){return e=Ia(7,e,s,t),e.lanes=n,e}function jw(e,t,n,s){return e=Ia(22,e,s,t),e.elementType=UI,e.lanes=n,e.stateNode={isHidden:!1},e}function Q2(e,t,n){return e=Ia(6,e,null,t),e.lanes=n,e}function z2(e,t,n){return t=Ia(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jY(e,t,n,s,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=C2(0),this.expirationTimes=C2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=C2(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function AT(e,t,n,s,i,a,o,c,l){return e=new jY(e,t,n,c,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ia(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},J3(a),e}function CY(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:af,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function E7(e){if(!e)return Su;e=e._reactInternals;e:{if(wh(e)!==e||e.tag!==1)throw Error(lt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(lt(171))}if(e.tag===1){var n=e.type;if(Wi(n))return EO(e,n,t)}return t}function P7(e,t,n,s,i,a,o,c,l){return e=AT(n,s,!0,e,i,a,o,c,l),e.context=E7(null),n=e.current,s=Ni(),i=Au(n),a=Gl(s,i),a.callback=t??null,mu(n,a,i),e.current.lanes=i,Gg(e,i,s),qi(e,s),e}function Cw(e,t,n,s){var i=t.current,a=Ni(),o=Au(i);return n=E7(n),t.context===null?t.context=n:t.pendingContext=n,t=Gl(a,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=mu(i,t,o),e!==null&&(po(e,i,o,a),_b(e,i,o)),o}function Lv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function h6(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function gT(e,t){h6(e,t),(e=e.alternate)&&h6(e,t)}function NY(){return null}var M7=typeof reportError=="function"?reportError:function(e){console.error(e)};function xT(e){this._internalRoot=e}Nw.prototype.render=xT.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(lt(409));Cw(e,t,null,null)};Nw.prototype.unmount=xT.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qd(function(){Cw(null,e,null,null)}),t[nc]=null}};function Nw(e){this._internalRoot=e}Nw.prototype.unstable_scheduleHydration=function(e){if(e){var t=uO();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Uc.length&&t!==0&&t<Uc[n].priority;n++);Uc.splice(n,0,e),n===0&&hO(e)}};function bT(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function f6(){}function SY(e,t,n,s,i){if(i){if(typeof s=="function"){var a=s;s=function(){var u=Lv(o);a.call(u)}}var o=P7(t,s,e,0,null,!1,!1,"",f6);return e._reactRootContainer=o,e[nc]=o.current,WA(e.nodeType===8?e.parentNode:e),qd(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof s=="function"){var c=s;s=function(){var u=Lv(l);c.call(u)}}var l=AT(e,0,!1,null,null,!1,!1,"",f6);return e._reactRootContainer=l,e[nc]=l.current,WA(e.nodeType===8?e.parentNode:e),qd(function(){Cw(t,l,n,s)}),l}function Tw(e,t,n,s,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var c=i;i=function(){var l=Lv(o);c.call(l)}}Cw(t,o,e,i)}else o=SY(n,t,e,i,s);return Lv(o)}lO=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Vp(t.pendingLanes);n!==0&&(F3(t,n|1),qi(t,cs()),!(Qn&6)&&(em=cs()+500,Ru()))}break;case 13:qd(function(){var s=rc(e,1);if(s!==null){var i=Ni();po(s,e,1,i)}}),gT(e,1)}};R3=function(e){if(e.tag===13){var t=rc(e,134217728);if(t!==null){var n=Ni();po(t,e,134217728,n)}gT(e,134217728)}};cO=function(e){if(e.tag===13){var t=Au(e),n=rc(e,t);if(n!==null){var s=Ni();po(n,e,t,s)}gT(e,t)}};uO=function(){return cr};dO=function(e,t){var n=cr;try{return cr=e,t()}finally{cr=n}};oN=function(e,t,n){switch(t){case"input":if(eN(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var i=gw(s);if(!i)throw Error(lt(90));$I(s),eN(s,i)}}}break;case"textarea":zI(e,n);break;case"select":t=n.value,t!=null&&vf(e,!!n.multiple,t,!1)}};YI=hT;ZI=qd;var TY={usingClientEntryPoint:!1,Events:[qg,df,gw,qI,XI,hT]},op={findFiberByHostInstance:yd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kY={bundleType:op.bundleType,version:op.version,rendererPackageName:op.rendererPackageName,rendererConfig:op.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tO(e),e===null?null:e.stateNode},findFiberByHostInstance:op.findFiberByHostInstance||NY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sx.isDisabled&&sx.supportsFiber)try{fw=sx.inject(kY),el=sx}catch{}}ja.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TY;ja.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bT(t))throw Error(lt(200));return CY(e,t,null,n)};ja.createRoot=function(e,t){if(!bT(e))throw Error(lt(299));var n=!1,s="",i=M7;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=AT(e,1,!1,null,null,n,!1,s,i),e[nc]=t.current,WA(e.nodeType===8?e.parentNode:e),new xT(t)};ja.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(lt(188)):(e=Object.keys(e).join(","),Error(lt(268,e)));return e=tO(t),e=e===null?null:e.stateNode,e};ja.flushSync=function(e){return qd(e)};ja.hydrate=function(e,t,n){if(!Sw(t))throw Error(lt(200));return Tw(null,e,t,!0,n)};ja.hydrateRoot=function(e,t,n){if(!bT(e))throw Error(lt(405));var s=n!=null&&n.hydratedSources||null,i=!1,a="",o=M7;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=P7(t,null,e,1,n??null,i,!1,a,o),e[nc]=t.current,WA(e),s)for(e=0;e<s.length;e++)n=s[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Nw(t)};ja.render=function(e,t,n){if(!Sw(t))throw Error(lt(200));return Tw(null,e,t,!1,n)};ja.unmountComponentAtNode=function(e){if(!Sw(e))throw Error(lt(40));return e._reactRootContainer?(qd(function(){Tw(null,null,e,!1,function(){e._reactRootContainer=null,e[nc]=null})}),!0):!1};ja.unstable_batchedUpdates=hT;ja.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Sw(n))throw Error(lt(200));if(e==null||e._reactInternals===void 0)throw Error(lt(38));return Tw(e,t,n,!1,s)};ja.version="18.3.1-next-f1338f8080-20240426";function D7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(D7)}catch(e){console.error(e)}}D7(),DI.exports=ja;var bo=DI.exports;const vT=mc(bo);var I7,m6=bo;I7=GC.createRoot=m6.createRoot,GC.hydrateRoot=m6.hydrateRoot;const _Y=3,BY=5e3;let V2=0;function EY(){return V2=(V2+1)%Number.MAX_SAFE_INTEGER,V2.toString()}const K2=new Map,p6=e=>{if(K2.has(e))return;const t=setTimeout(()=>{K2.delete(e),yA({type:"REMOVE_TOAST",toastId:e})},BY);K2.set(e,t)},PY=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,_Y)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?p6(n):e.toasts.forEach(s=>{p6(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Ob=[];let Lb={toasts:[]};function yA(e){Lb=PY(Lb,e),Ob.forEach(t=>{t(Lb)})}function ir({...e}){const t=EY(),n=i=>yA({type:"UPDATE_TOAST",toast:{...i,id:t}}),s=()=>yA({type:"DISMISS_TOAST",toastId:t});return yA({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||s()}}}),{id:t,dismiss:s,update:n}}ir.success=e=>ir({variant:"default",title:e,className:"bg-green-50 border-green-200 text-green-800"});ir.error=e=>ir({variant:"destructive",title:e,className:"bg-red-50 border-red-200 text-red-800"});ir.warning=e=>ir({variant:"default",title:e,className:"bg-yellow-50 border-yellow-200 text-yellow-800"});ir.info=e=>ir({variant:"default",title:e,className:"bg-blue-50 border-blue-200 text-blue-800"});function Uu(){const[e,t]=B.useState(Lb);return B.useEffect(()=>(Ob.push(t),()=>{const n=Ob.indexOf(t);n>-1&&Ob.splice(n,1)}),[e]),{...e,toast:ir,dismiss:n=>yA({type:"DISMISS_TOAST",toastId:n})}}function et(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function A6(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Yg(...e){return t=>{let n=!1;const s=e.map(i=>{const a=A6(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():A6(e[i],null)}}}}function dn(...e){return B.useCallback(Yg(...e),e)}function MY(e,t){const n=B.createContext(t),s=a=>{const{children:o,...c}=a,l=B.useMemo(()=>c,Object.values(c));return r.jsx(n.Provider,{value:l,children:o})};s.displayName=e+"Provider";function i(a){const o=B.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[s,i]}function qs(e,t=[]){let n=[];function s(a,o){const c=B.createContext(o),l=n.length;n=[...n,o];const u=f=>{var b;const{scope:h,children:m,...A}=f,g=((b=h==null?void 0:h[e])==null?void 0:b[l])||c,p=B.useMemo(()=>A,Object.values(A));return r.jsx(g.Provider,{value:p,children:m})};u.displayName=a+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[e])==null?void 0:g[l])||c,A=B.useContext(m);if(A)return A;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=n.map(o=>B.createContext(o));return function(c){const l=(c==null?void 0:c[e])||a;return B.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return i.scopeName=e,[s,DY(i,...t)]}function DY(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=s.reduce((c,{useScope:l,scopeName:u})=>{const f=l(a)[`__scope${u}`];return{...c,...f}},{});return B.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Tu(e){const t=IY(e),n=B.forwardRef((s,i)=>{const{children:a,...o}=s,c=B.Children.toArray(a),l=c.find(LY);if(l){const u=l.props.children,d=c.map(f=>f===l?B.Children.count(u)>1?B.Children.only(null):B.isValidElement(u)?u.props.children:null:f);return r.jsx(t,{...o,ref:i,children:B.isValidElement(u)?B.cloneElement(u,void 0,d):null})}return r.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var jh=Tu("Slot");function IY(e){const t=B.forwardRef((n,s)=>{const{children:i,...a}=n;if(B.isValidElement(i)){const o=RY(i),c=FY(a,i.props);return i.type!==B.Fragment&&(c.ref=s?Yg(s,o):o),B.cloneElement(i,c)}return B.Children.count(i)>1?B.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var O7=Symbol("radix.slottable");function OY(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=O7,t}function LY(e){return B.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===O7}function FY(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...c)=>{const l=a(...c);return i(...c),l}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function RY(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ch(e){const t=e+"CollectionProvider",[n,s]=qs(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:p,children:b}=g,x=je.useRef(null),v=je.useRef(new Map).current;return r.jsx(i,{scope:p,itemMap:v,collectionRef:x,children:b})};o.displayName=t;const c=e+"CollectionSlot",l=Tu(c),u=je.forwardRef((g,p)=>{const{scope:b,children:x}=g,v=a(c,b),y=dn(p,v.collectionRef);return r.jsx(l,{ref:y,children:x})});u.displayName=c;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Tu(d),m=je.forwardRef((g,p)=>{const{scope:b,children:x,...v}=g,y=je.useRef(null),N=dn(p,y),P=a(d,b);return je.useEffect(()=>(P.itemMap.set(y,{ref:y,...v}),()=>void P.itemMap.delete(y))),r.jsx(h,{[f]:"",ref:N,children:x})});m.displayName=d;function A(g){const p=a(e+"CollectionConsumer",g);return je.useCallback(()=>{const x=p.collectionRef.current;if(!x)return[];const v=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(p.itemMap.values()).sort((P,M)=>v.indexOf(P.ref.current)-v.indexOf(M.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},A,s]}var UY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ct=UY.reduce((e,t)=>{const n=Tu(`Primitive.${t}`),s=B.forwardRef((i,a)=>{const{asChild:o,...c}=i,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(l,{...c,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function rg(e,t){e&&bo.flushSync(()=>e.dispatchEvent(t))}function es(e){const t=B.useRef(e);return B.useEffect(()=>{t.current=e}),B.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function HY(e,t=globalThis==null?void 0:globalThis.document){const n=es(e);B.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var $Y="DismissableLayer",UN="dismissableLayer.update",QY="dismissableLayer.pointerDownOutside",zY="dismissableLayer.focusOutside",g6,L7=B.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Hu=B.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:c,...l}=e,u=B.useContext(L7),[d,f]=B.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=B.useState({}),A=dn(t,M=>f(M)),g=Array.from(u.layers),[p]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(p),x=d?g.indexOf(d):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,y=x>=b,N=KY(M=>{const k=M.target,D=[...u.branches].some(O=>O.contains(k));!y||D||(i==null||i(M),o==null||o(M),M.defaultPrevented||c==null||c())},h),P=GY(M=>{const k=M.target;[...u.branches].some(O=>O.contains(k))||(a==null||a(M),o==null||o(M),M.defaultPrevented||c==null||c())},h);return HY(M=>{x===u.layers.size-1&&(s==null||s(M),!M.defaultPrevented&&c&&(M.preventDefault(),c()))},h),B.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(g6=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),x6(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=g6)}},[d,h,n,u]),B.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),x6())},[d,u]),B.useEffect(()=>{const M=()=>m({});return document.addEventListener(UN,M),()=>document.removeEventListener(UN,M)},[]),r.jsx(Ct.div,{...l,ref:A,style:{pointerEvents:v?y?"auto":"none":void 0,...e.style},onFocusCapture:et(e.onFocusCapture,P.onFocusCapture),onBlurCapture:et(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:et(e.onPointerDownCapture,N.onPointerDownCapture)})});Hu.displayName=$Y;var VY="DismissableLayerBranch",F7=B.forwardRef((e,t)=>{const n=B.useContext(L7),s=B.useRef(null),i=dn(t,s);return B.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),r.jsx(Ct.div,{...e,ref:i})});F7.displayName=VY;function KY(e,t=globalThis==null?void 0:globalThis.document){const n=es(e),s=B.useRef(!1),i=B.useRef(()=>{});return B.useEffect(()=>{const a=c=>{if(c.target&&!s.current){let l=function(){R7(QY,n,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function GY(e,t=globalThis==null?void 0:globalThis.document){const n=es(e),s=B.useRef(!1);return B.useEffect(()=>{const i=a=>{a.target&&!s.current&&R7(zY,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function x6(){const e=new CustomEvent(UN);document.dispatchEvent(e)}function R7(e,t,n,{discrete:s}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?rg(i,a):i.dispatchEvent(a)}var WY=Hu,qY=F7,Xr=globalThis!=null&&globalThis.document?B.useLayoutEffect:()=>{},XY="Portal",Cm=B.forwardRef((e,t)=>{var c;const{container:n,...s}=e,[i,a]=B.useState(!1);Xr(()=>a(!0),[]);const o=n||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?vT.createPortal(r.jsx(Ct.div,{...s,ref:t}),o):null});Cm.displayName=XY;function YY(e,t){return B.useReducer((n,s)=>t[n][s]??n,e)}var _s=e=>{const{present:t,children:n}=e,s=ZY(t),i=typeof n=="function"?n({present:s.isPresent}):B.Children.only(n),a=dn(s.ref,JY(i));return typeof n=="function"||s.isPresent?B.cloneElement(i,{ref:a}):null};_s.displayName="Presence";function ZY(e){const[t,n]=B.useState(),s=B.useRef(null),i=B.useRef(e),a=B.useRef("none"),o=e?"mounted":"unmounted",[c,l]=YY(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return B.useEffect(()=>{const u=ix(s.current);a.current=c==="mounted"?u:"none"},[c]),Xr(()=>{const u=s.current,d=i.current;if(d!==e){const h=a.current,m=ix(u);e?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Xr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const g=ix(s.current).includes(CSS.escape(m.animationName));if(m.target===t&&g&&(l("ANIMATION_END"),!i.current)){const p=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=p)})}},h=m=>{m.target===t&&(a.current=ix(s.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:B.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function ix(e){return(e==null?void 0:e.animationName)||"none"}function JY(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var eZ=RA[" useInsertionEffect ".trim().toString()]||Xr;function na({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[i,a,o]=tZ({defaultProp:t,onChange:n}),c=e!==void 0,l=c?e:i;{const d=B.useRef(e!==void 0);B.useEffect(()=>{const f=d.current;f!==c&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=c},[c,s])}const u=B.useCallback(d=>{var f;if(c){const h=nZ(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else a(d)},[c,e,a,o]);return[l,u]}function tZ({defaultProp:e,onChange:t}){const[n,s]=B.useState(e),i=B.useRef(n),a=B.useRef(t);return eZ(()=>{a.current=t},[t]),B.useEffect(()=>{var o;i.current!==n&&((o=a.current)==null||o.call(a,n),i.current=n)},[n,i]),[n,s,a]}function nZ(e){return typeof e=="function"}var U7=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),rZ="VisuallyHidden",kw=B.forwardRef((e,t)=>r.jsx(Ct.span,{...e,ref:t,style:{...U7,...e.style}}));kw.displayName=rZ;var H7=kw,yT="ToastProvider",[wT,sZ,iZ]=Ch("Toast"),[$7,LRe]=qs("Toast",[iZ]),[aZ,_w]=$7(yT),Q7=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[c,l]=B.useState(null),[u,d]=B.useState(0),f=B.useRef(!1),h=B.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${yT}\`. Expected non-empty \`string\`.`),r.jsx(wT.Provider,{scope:t,children:r.jsx(aZ,{scope:t,label:n,duration:s,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:c,onViewportChange:l,onToastAdd:B.useCallback(()=>d(m=>m+1),[]),onToastRemove:B.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};Q7.displayName=yT;var z7="ToastViewport",oZ=["F8"],HN="toast.viewportPause",$N="toast.viewportResume",V7=B.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=oZ,label:i="Notifications ({hotkey})",...a}=e,o=_w(z7,n),c=sZ(n),l=B.useRef(null),u=B.useRef(null),d=B.useRef(null),f=B.useRef(null),h=dn(t,f,o.onViewportChange),m=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=o.toastCount>0;B.useEffect(()=>{const p=b=>{var v;s.length!==0&&s.every(y=>b[y]||b.code===y)&&((v=f.current)==null||v.focus())};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[s]),B.useEffect(()=>{const p=l.current,b=f.current;if(A&&p&&b){const x=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(HN);b.dispatchEvent(P),o.isClosePausedRef.current=!0}},v=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent($N);b.dispatchEvent(P),o.isClosePausedRef.current=!1}},y=P=>{!p.contains(P.relatedTarget)&&v()},N=()=>{p.contains(document.activeElement)||v()};return p.addEventListener("focusin",x),p.addEventListener("focusout",y),p.addEventListener("pointermove",x),p.addEventListener("pointerleave",N),window.addEventListener("blur",x),window.addEventListener("focus",v),()=>{p.removeEventListener("focusin",x),p.removeEventListener("focusout",y),p.removeEventListener("pointermove",x),p.removeEventListener("pointerleave",N),window.removeEventListener("blur",x),window.removeEventListener("focus",v)}}},[A,o.isClosePausedRef]);const g=B.useCallback(({tabbingDirection:p})=>{const x=c().map(v=>{const y=v.ref.current,N=[y,...vZ(y)];return p==="forwards"?N:N.reverse()});return(p==="forwards"?x.reverse():x).flat()},[c]);return B.useEffect(()=>{const p=f.current;if(p){const b=x=>{var N,P,M;const v=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!v){const k=document.activeElement,D=x.shiftKey;if(x.target===p&&D){(N=u.current)==null||N.focus();return}const F=g({tabbingDirection:D?"backwards":"forwards"}),_=F.findIndex(E=>E===k);G2(F.slice(_+1))?x.preventDefault():D?(P=u.current)==null||P.focus():(M=d.current)==null||M.focus()}};return p.addEventListener("keydown",b),()=>p.removeEventListener("keydown",b)}},[c,g]),r.jsxs(qY,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:A?void 0:"none"},children:[A&&r.jsx(QN,{ref:u,onFocusFromOutsideViewport:()=>{const p=g({tabbingDirection:"forwards"});G2(p)}}),r.jsx(wT.Slot,{scope:n,children:r.jsx(Ct.ol,{tabIndex:-1,...a,ref:h})}),A&&r.jsx(QN,{ref:d,onFocusFromOutsideViewport:()=>{const p=g({tabbingDirection:"backwards"});G2(p)}})]})});V7.displayName=z7;var K7="ToastFocusProxy",QN=B.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...i}=e,a=_w(K7,n);return r.jsx(kw,{tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const c=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(c))&&s()}})});QN.displayName=K7;var Zg="Toast",lZ="toast.swipeStart",cZ="toast.swipeMove",uZ="toast.swipeCancel",dZ="toast.swipeEnd",G7=B.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:i,onOpenChange:a,...o}=e,[c,l]=na({prop:s,defaultProp:i??!0,onChange:a,caller:Zg});return r.jsx(_s,{present:n||c,children:r.jsx(mZ,{open:c,...o,ref:t,onClose:()=>l(!1),onPause:es(e.onPause),onResume:es(e.onResume),onSwipeStart:et(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:et(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:et(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:et(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});G7.displayName=Zg;var[hZ,fZ]=$7(Zg,{onClose(){}}),mZ=B.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:c,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...A}=e,g=_w(Zg,n),[p,b]=B.useState(null),x=dn(t,E=>b(E)),v=B.useRef(null),y=B.useRef(null),N=i||g.duration,P=B.useRef(0),M=B.useRef(N),k=B.useRef(0),{onToastAdd:D,onToastRemove:O}=g,L=es(()=>{var T;(p==null?void 0:p.contains(document.activeElement))&&((T=g.viewport)==null||T.focus()),o()}),F=B.useCallback(E=>{!E||E===1/0||(window.clearTimeout(k.current),P.current=new Date().getTime(),k.current=window.setTimeout(L,E))},[L]);B.useEffect(()=>{const E=g.viewport;if(E){const T=()=>{F(M.current),u==null||u()},w=()=>{const C=new Date().getTime()-P.current;M.current=M.current-C,window.clearTimeout(k.current),l==null||l()};return E.addEventListener(HN,w),E.addEventListener($N,T),()=>{E.removeEventListener(HN,w),E.removeEventListener($N,T)}}},[g.viewport,N,l,u,F]),B.useEffect(()=>{a&&!g.isClosePausedRef.current&&F(N)},[a,N,g.isClosePausedRef,F]),B.useEffect(()=>(D(),()=>O()),[D,O]);const _=B.useMemo(()=>p?eL(p):null,[p]);return g.viewport?r.jsxs(r.Fragment,{children:[_&&r.jsx(pZ,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite",children:_}),r.jsx(hZ,{scope:n,onClose:L,children:bo.createPortal(r.jsx(wT.ItemSlot,{scope:n,children:r.jsx(WY,{asChild:!0,onEscapeKeyDown:et(c,()=>{g.isFocusedToastEscapeKeyDownRef.current||L(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(Ct.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...A,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:et(e.onKeyDown,E=>{E.key==="Escape"&&(c==null||c(E.nativeEvent),E.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:et(e.onPointerDown,E=>{E.button===0&&(v.current={x:E.clientX,y:E.clientY})}),onPointerMove:et(e.onPointerMove,E=>{if(!v.current)return;const T=E.clientX-v.current.x,w=E.clientY-v.current.y,C=!!y.current,j=["left","right"].includes(g.swipeDirection),S=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,I=j?S(0,T):0,R=j?0:S(0,w),U=E.pointerType==="touch"?10:2,z={x:I,y:R},V={originalEvent:E,delta:z};C?(y.current=z,ax(cZ,f,V,{discrete:!1})):b6(z,g.swipeDirection,U)?(y.current=z,ax(lZ,d,V,{discrete:!1}),E.target.setPointerCapture(E.pointerId)):(Math.abs(T)>U||Math.abs(w)>U)&&(v.current=null)}),onPointerUp:et(e.onPointerUp,E=>{const T=y.current,w=E.target;if(w.hasPointerCapture(E.pointerId)&&w.releasePointerCapture(E.pointerId),y.current=null,v.current=null,T){const C=E.currentTarget,j={originalEvent:E,delta:T};b6(T,g.swipeDirection,g.swipeThreshold)?ax(dZ,m,j,{discrete:!0}):ax(uZ,h,j,{discrete:!0}),C.addEventListener("click",S=>S.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),pZ=e=>{const{__scopeToast:t,children:n,...s}=e,i=_w(Zg,t),[a,o]=B.useState(!1),[c,l]=B.useState(!1);return xZ(()=>o(!0)),B.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),c?null:r.jsx(Cm,{asChild:!0,children:r.jsx(kw,{...s,children:a&&r.jsxs(r.Fragment,{children:[i.label," ",n]})})})},AZ="ToastTitle",W7=B.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(Ct.div,{...s,ref:t})});W7.displayName=AZ;var gZ="ToastDescription",q7=B.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(Ct.div,{...s,ref:t})});q7.displayName=gZ;var X7="ToastAction",Y7=B.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?r.jsx(J7,{altText:n,asChild:!0,children:r.jsx(jT,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${X7}\`. Expected non-empty \`string\`.`),null)});Y7.displayName=X7;var Z7="ToastClose",jT=B.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,i=fZ(Z7,n);return r.jsx(J7,{asChild:!0,children:r.jsx(Ct.button,{type:"button",...s,ref:t,onClick:et(e.onClick,i.onClose)})})});jT.displayName=Z7;var J7=B.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...i}=e;return r.jsx(Ct.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...i,ref:t})});function eL(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),bZ(s)){const i=s.ariaHidden||s.hidden||s.style.display==="none",a=s.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...eL(s))}}),t}function ax(e,t,n,{discrete:s}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?rg(i,a):i.dispatchEvent(a)}var b6=(e,t,n=0)=>{const s=Math.abs(e.x),i=Math.abs(e.y),a=s>i;return t==="left"||t==="right"?a&&s>n:!a&&i>n};function xZ(e=()=>{}){const t=es(e);Xr(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function bZ(e){return e.nodeType===e.ELEMENT_NODE}function vZ(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function G2(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var yZ=Q7,tL=V7,nL=G7,rL=W7,sL=q7,iL=Y7,aL=jT;function oL(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=oL(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function Wl(){for(var e,t,n=0,s="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=oL(e))&&(s&&(s+=" "),s+=t);return s}const v6=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,y6=Wl,$u=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return y6(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=a==null?void 0:a[u];if(d===null)return null;const h=v6(d)||v6(f);return i[u][h]}),c=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(A=>{let[g,p]=A;return Array.isArray(p)?p.includes({...a,...c}[g]):{...a,...c}[g]===p})?[...u,f,h]:u},[]);return y6(e,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jZ=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),w6=e=>{const t=jZ(e);return t.charAt(0).toUpperCase()+t.slice(1)},lL=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),CZ=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var NZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SZ=B.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:a,iconNode:o,...c},l)=>B.createElement("svg",{ref:l,...NZ,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:lL("lucide",i),...!a&&!CZ(c)&&{"aria-hidden":"true"},...c},[...o.map(([u,d])=>B.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=(e,t)=>{const n=B.forwardRef(({className:s,...i},a)=>B.createElement(SZ,{ref:a,iconNode:t,className:lL(`lucide-${wZ(w6(e))}`,`lucide-${e}`,s),...i}));return n.displayName=w6(e),n};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TZ=[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],cL=Xe("align-center",TZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kZ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Nm=Xe("arrow-left",kZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Z=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],uL=Xe("arrow-right",_Z);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BZ=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],dL=Xe("arrow-up-down",BZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EZ=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],PZ=Xe("arrow-up",EZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MZ=[["path",{d:"M12 6v12",key:"1vza4d"}],["path",{d:"M17.196 9 6.804 15",key:"1ah31z"}],["path",{d:"m6.804 9 10.392 6",key:"1b6pxd"}]],j6=Xe("asterisk",MZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZ=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],W2=Xe("award",DZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IZ=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],hL=Xe("bold",IZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OZ=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],LZ=Xe("bot",OZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FZ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],RZ=Xe("calendar-days",FZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UZ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ts=Xe("calendar",UZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HZ=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],zN=Xe("camera",HZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],fL=Xe("chart-no-axes-column-increasing",$Z);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QZ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Sm=Xe("check",QZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zZ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ml=Xe("chevron-down",zZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ss=Xe("chevron-left",VZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KZ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],jr=Xe("chevron-right",KZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GZ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Tm=Xe("chevron-up",GZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],qZ=Xe("circle-alert",WZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XZ=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ra=Xe("circle-check-big",XZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ZZ=Xe("circle-check",YZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],mL=Xe("circle-help",JZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],q2=Xe("circle-user",eJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Xd=Xe("circle-x",tJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pL=Xe("circle",nJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rJ=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Fb=Xe("clipboard-list",rJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],xu=Xe("clock",sJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iJ=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],aJ=Xe("coins",iJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oJ=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],lJ=Xe("copy",oJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cJ=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Yd=Xe("credit-card",cJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uJ=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],dJ=Xe("dollar-sign",uJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hJ=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],li=Xe("ellipsis-vertical",hJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fJ=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],mJ=Xe("ellipsis",fJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pJ=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],nl=Xe("eye-off",pJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AJ=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dr=Xe("eye",AJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gJ=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],VN=Xe("facebook",gJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xJ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],CT=Xe("file-text",xJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bJ=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],vJ=Xe("flame",bJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yJ=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Zd=Xe("funnel",yJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wJ=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Go=Xe("gift",wJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],AL=Xe("globe",jJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CJ=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 12h18",key:"1i2n21"}],["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}]],NT=Xe("grid-2x2",CJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NJ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],gL=Xe("grid-3x3",NJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SJ=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],di=Xe("heart",SJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TJ=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],KN=Xe("house",TJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kJ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],tm=Xe("image",kJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _J=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ST=Xe("info",_J);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJ=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],C6=Xe("instagram",BJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EJ=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],xL=Xe("italic",EJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PJ=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],bL=Xe("key",PJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MJ=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],vL=Xe("layers",MJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Fv=Xe("layout-grid",DJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IJ=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Jg=Xe("list",IJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],As=Xe("loader-circle",OJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LJ=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],N6=Xe("loader",LJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Vi=Xe("lock",FJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RJ=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],yL=Xe("log-in",RJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],sg=Xe("log-out",UJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Xi=Xe("mail",HJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ku=Xe("map-pin",$J);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],wL=Xe("maximize-2",QJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],jL=Xe("menu",zJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],ql=Xe("message-circle",VJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Jd=Xe("message-square",KJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],WJ=Xe("minimize-2",GJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=[["path",{d:"M5 12h14",key:"1ays0h"}]],Bw=Xe("minus",qJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],CL=Xe("moon",XJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],Rv=Xe("newspaper",YJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],hr=Xe("package",ZJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],GN=Xe("palette",JJ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eee=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],tee=Xe("panel-left",eee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nee=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],ree=Xe("paperclip",nee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const see=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],iee=Xe("pause",see);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aee=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Ew=Xe("percent",aee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oee=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],_u=Xe("phone",oee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lee=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],cee=Xe("pin",lee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uee=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],dee=Xe("play",uee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hee=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mr=Xe("plus",hee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fee=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Xc=Xe("refresh-cw",fee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mee=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Xl=Xe("rotate-ccw",mee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],WN=Xe("ruler",pee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aee=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],e0=Xe("save",Aee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gee=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Un=Xe("search",gee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xee=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Sf=Xe("send",xee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bee=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],ul=Xe("settings-2",bee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vee=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],TT=Xe("settings",vee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yee=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],wee=Xe("share-2",yee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jee=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Cee=Xe("shield-check",jee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nee=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],See=Xe("shield",Nee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tee=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],qN=Xe("shopping-bag",Tee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kee=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Rs=Xe("shopping-cart",kee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ee=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],kT=Xe("sliders-horizontal",_ee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Eee=Xe("smile",Bee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pee=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],ha=Xe("sparkles",Pee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mee=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],S6=Xe("square-check-big",Mee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dee=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],nm=Xe("square-pen",Dee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iee=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Oee=Xe("square",Iee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lee=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Lr=Xe("star",Lee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fee=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],NL=Xe("sun",Fee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ree=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Vr=Xe("tag",Ree);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Hee=Xe("target",Uee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ee=[["path",{d:"M2 9a3 3 0 1 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 1 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"1l48ns"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]],SL=Xe("ticket-percent",$ee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qee=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],zee=Xe("ticket",Qee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vee=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Kee=Xe("timer",Vee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gee=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],za=Xe("trash-2",Gee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wee=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],uo=Xe("trash",Wee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qee=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Xee=Xe("trending-down",qee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yee=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Id=Xe("trending-up",Yee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zee=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_T=Xe("triangle-alert",Zee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jee=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],BT=Xe("truck",Jee);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ete=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],T6=Xe("twitter",ete);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tte=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],TL=Xe("underline",tte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nte=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Wr=Xe("upload",nte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rte=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],kL=Xe("user-plus",rte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ste=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],ite=Xe("user-x",ste);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ate=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$n=Xe("user",ate);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ote=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ET=Xe("users",ote);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lte=[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]],cte=Xe("weight",lte);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ute=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],st=Xe("x",ute);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dte=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],_L=Xe("zap",dte),PT="-",hte=e=>{const t=mte(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const c=o.split(PT);return c[0]===""&&c.length!==1&&c.shift(),BL(c,t)||fte(o)},getConflictingClassGroupIds:(o,c)=>{const l=n[o]||[];return c&&s[o]?[...l,...s[o]]:l}}},BL=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),i=s?BL(e.slice(1),s):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(PT);return(o=t.validators.find(({validator:c})=>c(a)))==null?void 0:o.classGroupId},k6=/^\[(.+)\]$/,fte=e=>{if(k6.test(e)){const t=k6.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},mte=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return Ate(Object.entries(e.classGroups),n).forEach(([a,o])=>{XN(o,s,a,t)}),s},XN=(e,t,n,s)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:_6(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(pte(i)){XN(i(s),t,n,s);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{XN(o,_6(t,a),n,s)})})},_6=(e,t)=>{let n=e;return t.split(PT).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},pte=e=>e.isThemeGetter,Ate=(e,t)=>t?e.map(([n,s])=>{const i=s.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,c])=>[t+o,c])):a);return[n,i]}):e,gte=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const i=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,s=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=s.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},EL="!",xte=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,i=t[0],a=t.length,o=c=>{const l=[];let u=0,d=0,f;for(let p=0;p<c.length;p++){let b=c[p];if(u===0){if(b===i&&(s||c.slice(p,p+a)===t)){l.push(c.slice(d,p)),d=p+a;continue}if(b==="/"){f=p;continue}}b==="["?u++:b==="]"&&u--}const h=l.length===0?c:c.substring(d),m=h.startsWith(EL),A=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:A,maybePostfixModifierPosition:g}};return n?c=>n({className:c,parseClassName:o}):o},bte=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},vte=e=>({cache:gte(e.cacheSize),parseClassName:xte(e),...hte(e)}),yte=/\s+/,wte=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(yte);let c="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(u);let A=!!m,g=s(A?h.substring(0,m):h);if(!g){if(!A){c=u+(c.length>0?" "+c:c);continue}if(g=s(h),!g){c=u+(c.length>0?" "+c:c);continue}A=!1}const p=bte(d).join(":"),b=f?p+EL:p,x=b+g;if(a.includes(x))continue;a.push(x);const v=i(g,A);for(let y=0;y<v.length;++y){const N=v[y];a.push(b+N)}c=u+(c.length>0?" "+c:c)}return c};function jte(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=PL(t))&&(s&&(s+=" "),s+=n);return s}const PL=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=PL(e[s]))&&(n&&(n+=" "),n+=t);return n};function Cte(e,...t){let n,s,i,a=o;function o(l){const u=t.reduce((d,f)=>f(d),e());return n=vte(u),s=n.cache.get,i=n.cache.set,a=c,c(l)}function c(l){const u=s(l);if(u)return u;const d=wte(l,n);return i(l,d),d}return function(){return a(jte.apply(null,arguments))}}const kr=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},ML=/^\[(?:([a-z-]+):)?(.+)\]$/i,Nte=/^\d+\/\d+$/,Ste=new Set(["px","full","screen"]),Tte=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,kte=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_te=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Bte=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ete=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wl=e=>Tf(e)||Ste.has(e)||Nte.test(e),Sc=e=>km(e,"length",Rte),Tf=e=>!!e&&!Number.isNaN(Number(e)),X2=e=>km(e,"number",Tf),lp=e=>!!e&&Number.isInteger(Number(e)),Pte=e=>e.endsWith("%")&&Tf(e.slice(0,-1)),Tn=e=>ML.test(e),Tc=e=>Tte.test(e),Mte=new Set(["length","size","percentage"]),Dte=e=>km(e,Mte,DL),Ite=e=>km(e,"position",DL),Ote=new Set(["image","url"]),Lte=e=>km(e,Ote,Hte),Fte=e=>km(e,"",Ute),cp=()=>!0,km=(e,t,n)=>{const s=ML.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},Rte=e=>kte.test(e)&&!_te.test(e),DL=()=>!1,Ute=e=>Bte.test(e),Hte=e=>Ete.test(e),$te=()=>{const e=kr("colors"),t=kr("spacing"),n=kr("blur"),s=kr("brightness"),i=kr("borderColor"),a=kr("borderRadius"),o=kr("borderSpacing"),c=kr("borderWidth"),l=kr("contrast"),u=kr("grayscale"),d=kr("hueRotate"),f=kr("invert"),h=kr("gap"),m=kr("gradientColorStops"),A=kr("gradientColorStopPositions"),g=kr("inset"),p=kr("margin"),b=kr("opacity"),x=kr("padding"),v=kr("saturate"),y=kr("scale"),N=kr("sepia"),P=kr("skew"),M=kr("space"),k=kr("translate"),D=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",Tn,t],F=()=>[Tn,t],_=()=>["",wl,Sc],E=()=>["auto",Tf,Tn],T=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],w=()=>["solid","dashed","dotted","double","none"],C=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],S=()=>["","0",Tn],I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>[Tf,Tn];return{cacheSize:500,separator:":",theme:{colors:[cp],spacing:[wl,Sc],blur:["none","",Tc,Tn],brightness:R(),borderColor:[e],borderRadius:["none","","full",Tc,Tn],borderSpacing:F(),borderWidth:_(),contrast:R(),grayscale:S(),hueRotate:R(),invert:S(),gap:F(),gradientColorStops:[e],gradientColorStopPositions:[Pte,Sc],inset:L(),margin:L(),opacity:R(),padding:F(),saturate:R(),scale:R(),sepia:S(),skew:R(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",Tn]}],container:["container"],columns:[{columns:[Tc]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...T(),Tn]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",lp,Tn]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Tn]}],grow:[{grow:S()}],shrink:[{shrink:S()}],order:[{order:["first","last","none",lp,Tn]}],"grid-cols":[{"grid-cols":[cp]}],"col-start-end":[{col:["auto",{span:["full",lp,Tn]},Tn]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[cp]}],"row-start-end":[{row:["auto",{span:[lp,Tn]},Tn]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Tn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Tn]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[p]}],mx:[{mx:[p]}],my:[{my:[p]}],ms:[{ms:[p]}],me:[{me:[p]}],mt:[{mt:[p]}],mr:[{mr:[p]}],mb:[{mb:[p]}],ml:[{ml:[p]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Tn,t]}],"min-w":[{"min-w":[Tn,t,"min","max","fit"]}],"max-w":[{"max-w":[Tn,t,"none","full","min","max","fit","prose",{screen:[Tc]},Tc]}],h:[{h:[Tn,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Tn,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Tn,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Tn,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Tc,Sc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",X2]}],"font-family":[{font:[cp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Tn]}],"line-clamp":[{"line-clamp":["none",Tf,X2]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",wl,Tn]}],"list-image":[{"list-image":["none",Tn]}],"list-style-type":[{list:["none","disc","decimal",Tn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...w(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",wl,Sc]}],"underline-offset":[{"underline-offset":["auto",wl,Tn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Tn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Tn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...T(),Ite]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Dte]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Lte]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[A]}],"gradient-via-pos":[{via:[A]}],"gradient-to-pos":[{to:[A]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...w(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:w()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...w()]}],"outline-offset":[{"outline-offset":[wl,Tn]}],"outline-w":[{outline:[wl,Sc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:_()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[wl,Sc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Tc,Fte]}],"shadow-color":[{shadow:[cp]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...C(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":C()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Tc,Tn]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Tn]}],duration:[{duration:R()}],ease:[{ease:["linear","in","out","in-out",Tn]}],delay:[{delay:R()}],animate:[{animate:["none","spin","ping","pulse","bounce",Tn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[y]}],"scale-x":[{"scale-x":[y]}],"scale-y":[{"scale-y":[y]}],rotate:[{rotate:[lp,Tn]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Tn]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Tn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Tn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[wl,Sc,X2]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Qte=Cte($te);function Fe(...e){return Qte(Wl(e))}const zte=yZ,IL=B.forwardRef(({className:e,...t},n)=>r.jsx(tL,{ref:n,className:Fe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));IL.displayName=tL.displayName;const Vte=$u("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground",success:"border-green-500 bg-green-50 text-green-800",warning:"border-yellow-500 bg-yellow-50 text-yellow-800",info:"border-blue-500 bg-blue-50 text-blue-800"}},defaultVariants:{variant:"default"}}),OL=B.forwardRef(({className:e,variant:t,...n},s)=>r.jsx(nL,{ref:s,className:Fe(Vte({variant:t}),e),...n}));OL.displayName=nL.displayName;const Kte=B.forwardRef(({className:e,...t},n)=>r.jsx(iL,{ref:n,className:Fe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Kte.displayName=iL.displayName;const LL=B.forwardRef(({className:e,...t},n)=>r.jsx(aL,{ref:n,className:Fe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(st,{className:"h-4 w-4"})}));LL.displayName=aL.displayName;const FL=B.forwardRef(({className:e,...t},n)=>r.jsx(rL,{ref:n,className:Fe("text-sm font-semibold",e),...t}));FL.displayName=rL.displayName;const RL=B.forwardRef(({className:e,...t},n)=>r.jsx(sL,{ref:n,className:Fe("text-sm opacity-90",e),...t}));RL.displayName=sL.displayName;function UL(){const{toasts:e}=Uu();return r.jsxs(zte,{children:[e.map(function({id:t,title:n,description:s,action:i,...a}){return r.jsxs(OL,{...a,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(FL,{children:n}),s&&r.jsx(RL,{children:s})]}),i,r.jsx(LL,{})]},t)}),r.jsx(IL,{})]})}var Uv=["light","dark"],MT="(prefers-color-scheme: dark)",Gte=typeof window>"u",DT=B.createContext(void 0),Wte={setTheme:e=>{},themes:[]},HL=()=>{var e;return(e=B.useContext(DT))!=null?e:Wte},qte=e=>B.useContext(DT)?e.children:B.createElement(Yte,{...e}),Xte=["light","dark"],Yte=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:s=!0,storageKey:i="theme",themes:a=Xte,defaultTheme:o=n?"system":"light",attribute:c="data-theme",value:l,children:u,nonce:d})=>{let[f,h]=B.useState(()=>B6(i,o)),[m,A]=B.useState(()=>B6(i)),g=l?Object.values(l):a,p=B.useCallback(y=>{let N=y;if(!N)return;y==="system"&&n&&(N=E6());let P=l?l[N]:N,M=t?Jte():null,k=document.documentElement;if(c==="class"?(k.classList.remove(...g),P&&k.classList.add(P)):P?k.setAttribute(c,P):k.removeAttribute(c),s){let D=Uv.includes(o)?o:null,O=Uv.includes(N)?N:D;k.style.colorScheme=O}M==null||M()},[]),b=B.useCallback(y=>{let N=typeof y=="function"?y(y):y;h(N);try{localStorage.setItem(i,N)}catch{}},[e]),x=B.useCallback(y=>{let N=E6(y);A(N),f==="system"&&n&&!e&&p("system")},[f,e]);B.useEffect(()=>{let y=window.matchMedia(MT);return y.addListener(x),x(y),()=>y.removeListener(x)},[x]),B.useEffect(()=>{let y=N=>{if(N.key!==i)return;let P=N.newValue||o;b(P)};return window.addEventListener("storage",y),()=>window.removeEventListener("storage",y)},[b]),B.useEffect(()=>{p(e??f)},[e,f]);let v=B.useMemo(()=>({theme:f,setTheme:b,forcedTheme:e,resolvedTheme:f==="system"?m:f,themes:n?[...a,"system"]:a,systemTheme:n?m:void 0}),[f,b,e,m,n,a]);return B.createElement(DT.Provider,{value:v},B.createElement(Zte,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:s,storageKey:i,themes:a,defaultTheme:o,attribute:c,value:l,children:u,attrs:g,nonce:d}),u)},Zte=B.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:i,defaultTheme:a,value:o,attrs:c,nonce:l})=>{let u=a==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(A=>`'${A}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?Uv.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(A,g=!1,p=!0)=>{let b=o?o[A]:A,x=g?A+"|| ''":`'${b}'`,v="";return i&&p&&!g&&Uv.includes(A)&&(v+=`d.style.colorScheme = '${A}';`),n==="class"?g||b?v+=`c.add(${x})`:v+="null":b&&(v+=`d[s](n,${x})`),v},m=e?`!function(){${d}${h(e)}}()`:s?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${MT}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return B.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})}),B6=(e,t)=>{if(Gte)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},Jte=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},E6=e=>(e||(e=window.matchMedia(MT)),e.matches?"dark":"light"),ene=e=>{switch(e){case"success":return rne;case"info":return ine;case"warning":return sne;case"error":return ane;default:return null}},tne=Array(12).fill(0),nne=({visible:e,className:t})=>je.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},je.createElement("div",{className:"sonner-spinner"},tne.map((n,s)=>je.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),rne=je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},je.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),sne=je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},je.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ine=je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},je.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ane=je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},je.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),one=je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},je.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),je.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),lne=()=>{let[e,t]=je.useState(document.hidden);return je.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},YN=1,cne=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;let{message:s,...i}=t,a=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:YN++,o=this.toasts.find(l=>l.id===a),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...t,id:a,title:s}),{...l,...t,id:a,dismissible:c,title:s}):l):this.addToast({title:s,...i,dismissible:c,id:a}),a},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:t,dismiss:!0})),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=t instanceof Promise?t:t(),a=s!==void 0,o,c=i.then(async u=>{if(o=["resolve",u],je.isValidElement(u))a=!1,this.create({id:s,type:"default",message:u});else if(dne(u)&&!u.ok){a=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:s,type:"error",message:d,description:f})}else if(n.success!==void 0){a=!1;let d=typeof n.success=="function"?await n.success(u):n.success,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:s,type:"success",message:d,description:f})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){a=!1;let d=typeof n.error=="function"?await n.error(u):n.error,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:s,type:"error",message:d,description:f})}}).finally(()=>{var u;a&&(this.dismiss(s),s=void 0),(u=n.finally)==null||u.call(n)}),l=()=>new Promise((u,d)=>c.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof s!="string"&&typeof s!="number"?{unwrap:l}:Object.assign(s,{unwrap:l})},this.custom=(t,n)=>{let s=(n==null?void 0:n.id)||YN++;return this.create({jsx:t(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ui=new cne,une=(e,t)=>{let n=(t==null?void 0:t.id)||YN++;return Ui.addToast({title:e,...t,id:n}),n},dne=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",hne=une,fne=()=>Ui.toasts,mne=()=>Ui.getActiveToasts(),At=Object.assign(hne,{success:Ui.success,info:Ui.info,warning:Ui.warning,error:Ui.error,custom:Ui.custom,message:Ui.message,promise:Ui.promise,dismiss:Ui.dismiss,loading:Ui.loading},{getHistory:fne,getToasts:mne});function pne(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}pne(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ox(e){return e.label!==void 0}var Ane=3,gne="32px",xne="16px",P6=4e3,bne=356,vne=14,yne=20,wne=200;function Ya(...e){return e.filter(Boolean).join(" ")}function jne(e){let[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}var Cne=e=>{var t,n,s,i,a,o,c,l,u,d,f;let{invert:h,toast:m,unstyled:A,interacting:g,setHeights:p,visibleToasts:b,heights:x,index:v,toasts:y,expanded:N,removeToast:P,defaultRichColors:M,closeButton:k,style:D,cancelButtonStyle:O,actionButtonStyle:L,className:F="",descriptionClassName:_="",duration:E,position:T,gap:w,loadingIcon:C,expandByDefault:j,classNames:S,icons:I,closeButtonAriaLabel:R="Close toast",pauseWhenPageIsHidden:U}=e,[z,V]=je.useState(null),[X,$]=je.useState(null),[W,H]=je.useState(!1),[Q,G]=je.useState(!1),[J,ee]=je.useState(!1),[K,ne]=je.useState(!1),[ue,se]=je.useState(!1),[ie,q]=je.useState(0),[Z,te]=je.useState(0),re=je.useRef(m.duration||E||P6),Y=je.useRef(null),oe=je.useRef(null),ae=v===0,ce=v+1<=b,de=m.type,pe=m.dismissible!==!1,Ae=m.className||"",le=m.descriptionClassName||"",he=je.useMemo(()=>x.findIndex(Re=>Re.toastId===m.id)||0,[x,m.id]),me=je.useMemo(()=>{var Re;return(Re=m.closeButton)!=null?Re:k},[m.closeButton,k]),ve=je.useMemo(()=>m.duration||E||P6,[m.duration,E]),_e=je.useRef(0),Te=je.useRef(0),Ue=je.useRef(0),Ee=je.useRef(null),[Me,Ie]=T.split("-"),Ce=je.useMemo(()=>x.reduce((Re,Ve,rt)=>rt>=he?Re:Re+Ve.height,0),[x,he]),Pe=lne(),ge=m.invert||h,Ne=de==="loading";Te.current=je.useMemo(()=>he*w+Ce,[he,Ce]),je.useEffect(()=>{re.current=ve},[ve]),je.useEffect(()=>{H(!0)},[]),je.useEffect(()=>{let Re=oe.current;if(Re){let Ve=Re.getBoundingClientRect().height;return te(Ve),p(rt=>[{toastId:m.id,height:Ve,position:m.position},...rt]),()=>p(rt=>rt.filter(Dt=>Dt.toastId!==m.id))}},[p,m.id]),je.useLayoutEffect(()=>{if(!W)return;let Re=oe.current,Ve=Re.style.height;Re.style.height="auto";let rt=Re.getBoundingClientRect().height;Re.style.height=Ve,te(rt),p(Dt=>Dt.find(xt=>xt.toastId===m.id)?Dt.map(xt=>xt.toastId===m.id?{...xt,height:rt}:xt):[{toastId:m.id,height:rt,position:m.position},...Dt])},[W,m.title,m.description,p,m.id]);let ke=je.useCallback(()=>{G(!0),q(Te.current),p(Re=>Re.filter(Ve=>Ve.toastId!==m.id)),setTimeout(()=>{P(m)},wne)},[m,P,p,Te]);je.useEffect(()=>{if(m.promise&&de==="loading"||m.duration===1/0||m.type==="loading")return;let Re;return N||g||U&&Pe?(()=>{if(Ue.current<_e.current){let Ve=new Date().getTime()-_e.current;re.current=re.current-Ve}Ue.current=new Date().getTime()})():re.current!==1/0&&(_e.current=new Date().getTime(),Re=setTimeout(()=>{var Ve;(Ve=m.onAutoClose)==null||Ve.call(m,m),ke()},re.current)),()=>clearTimeout(Re)},[N,g,m,de,U,Pe,ke]),je.useEffect(()=>{m.delete&&ke()},[ke,m.delete]);function ze(){var Re,Ve,rt;return I!=null&&I.loading?je.createElement("div",{className:Ya(S==null?void 0:S.loader,(Re=m==null?void 0:m.classNames)==null?void 0:Re.loader,"sonner-loader"),"data-visible":de==="loading"},I.loading):C?je.createElement("div",{className:Ya(S==null?void 0:S.loader,(Ve=m==null?void 0:m.classNames)==null?void 0:Ve.loader,"sonner-loader"),"data-visible":de==="loading"},C):je.createElement(nne,{className:Ya(S==null?void 0:S.loader,(rt=m==null?void 0:m.classNames)==null?void 0:rt.loader),visible:de==="loading"})}return je.createElement("li",{tabIndex:0,ref:oe,className:Ya(F,Ae,S==null?void 0:S.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,S==null?void 0:S.default,S==null?void 0:S[de],(n=m==null?void 0:m.classNames)==null?void 0:n[de]),"data-sonner-toast":"","data-rich-colors":(s=m.richColors)!=null?s:M,"data-styled":!(m.jsx||m.unstyled||A),"data-mounted":W,"data-promise":!!m.promise,"data-swiped":ue,"data-removed":Q,"data-visible":ce,"data-y-position":Me,"data-x-position":Ie,"data-index":v,"data-front":ae,"data-swiping":J,"data-dismissible":pe,"data-type":de,"data-invert":ge,"data-swipe-out":K,"data-swipe-direction":X,"data-expanded":!!(N||j&&W),style:{"--index":v,"--toasts-before":v,"--z-index":y.length-v,"--offset":`${Q?ie:Te.current}px`,"--initial-height":j?"auto":`${Z}px`,...D,...m.style},onDragEnd:()=>{ee(!1),V(null),Ee.current=null},onPointerDown:Re=>{Ne||!pe||(Y.current=new Date,q(Te.current),Re.target.setPointerCapture(Re.pointerId),Re.target.tagName!=="BUTTON"&&(ee(!0),Ee.current={x:Re.clientX,y:Re.clientY}))},onPointerUp:()=>{var Re,Ve,rt,Dt;if(K||!pe)return;Ee.current=null;let xt=Number(((Re=oe.current)==null?void 0:Re.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Qt=Number(((Ve=oe.current)==null?void 0:Ve.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),bt=new Date().getTime()-((rt=Y.current)==null?void 0:rt.getTime()),Bt=z==="x"?xt:Qt,Se=Math.abs(Bt)/bt;if(Math.abs(Bt)>=yne||Se>.11){q(Te.current),(Dt=m.onDismiss)==null||Dt.call(m,m),$(z==="x"?xt>0?"right":"left":Qt>0?"down":"up"),ke(),ne(!0),se(!1);return}ee(!1),V(null)},onPointerMove:Re=>{var Ve,rt,Dt,xt;if(!Ee.current||!pe||((Ve=window.getSelection())==null?void 0:Ve.toString().length)>0)return;let Qt=Re.clientY-Ee.current.y,bt=Re.clientX-Ee.current.x,Bt=(rt=e.swipeDirections)!=null?rt:jne(T);!z&&(Math.abs(bt)>1||Math.abs(Qt)>1)&&V(Math.abs(bt)>Math.abs(Qt)?"x":"y");let Se={x:0,y:0};z==="y"?(Bt.includes("top")||Bt.includes("bottom"))&&(Bt.includes("top")&&Qt<0||Bt.includes("bottom")&&Qt>0)&&(Se.y=Qt):z==="x"&&(Bt.includes("left")||Bt.includes("right"))&&(Bt.includes("left")&&bt<0||Bt.includes("right")&&bt>0)&&(Se.x=bt),(Math.abs(Se.x)>0||Math.abs(Se.y)>0)&&se(!0),(Dt=oe.current)==null||Dt.style.setProperty("--swipe-amount-x",`${Se.x}px`),(xt=oe.current)==null||xt.style.setProperty("--swipe-amount-y",`${Se.y}px`)}},me&&!m.jsx?je.createElement("button",{"aria-label":R,"data-disabled":Ne,"data-close-button":!0,onClick:Ne||!pe?()=>{}:()=>{var Re;ke(),(Re=m.onDismiss)==null||Re.call(m,m)},className:Ya(S==null?void 0:S.closeButton,(i=m==null?void 0:m.classNames)==null?void 0:i.closeButton)},(a=I==null?void 0:I.close)!=null?a:one):null,m.jsx||B.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:je.createElement(je.Fragment,null,de||m.icon||m.promise?je.createElement("div",{"data-icon":"",className:Ya(S==null?void 0:S.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||ze():null,m.type!=="loading"?m.icon||(I==null?void 0:I[de])||ene(de):null):null,je.createElement("div",{"data-content":"",className:Ya(S==null?void 0:S.content,(c=m==null?void 0:m.classNames)==null?void 0:c.content)},je.createElement("div",{"data-title":"",className:Ya(S==null?void 0:S.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?je.createElement("div",{"data-description":"",className:Ya(_,le,S==null?void 0:S.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),B.isValidElement(m.cancel)?m.cancel:m.cancel&&ox(m.cancel)?je.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||O,onClick:Re=>{var Ve,rt;ox(m.cancel)&&pe&&((rt=(Ve=m.cancel).onClick)==null||rt.call(Ve,Re),ke())},className:Ya(S==null?void 0:S.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,B.isValidElement(m.action)?m.action:m.action&&ox(m.action)?je.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||L,onClick:Re=>{var Ve,rt;ox(m.action)&&((rt=(Ve=m.action).onClick)==null||rt.call(Ve,Re),!Re.defaultPrevented&&ke())},className:Ya(S==null?void 0:S.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function M6(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Nne(e,t){let n={};return[e,t].forEach((s,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",c=a?xne:gne;function l(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof s=="number"||typeof s=="string"?l(s):typeof s=="object"?["top","right","bottom","left"].forEach(u=>{s[u]===void 0?n[`${o}-${u}`]=c:n[`${o}-${u}`]=typeof s[u]=="number"?`${s[u]}px`:s[u]}):l(c)}),n}var Sne=B.forwardRef(function(e,t){let{invert:n,position:s="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:c,offset:l,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:A=Ane,toastOptions:g,dir:p=M6(),gap:b=vne,loadingIcon:x,icons:v,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:N}=e,[P,M]=je.useState([]),k=je.useMemo(()=>Array.from(new Set([s].concat(P.filter(U=>U.position).map(U=>U.position)))),[P,s]),[D,O]=je.useState([]),[L,F]=je.useState(!1),[_,E]=je.useState(!1),[T,w]=je.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),C=je.useRef(null),j=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=je.useRef(null),I=je.useRef(!1),R=je.useCallback(U=>{M(z=>{var V;return(V=z.find(X=>X.id===U.id))!=null&&V.delete||Ui.dismiss(U.id),z.filter(({id:X})=>X!==U.id)})},[]);return je.useEffect(()=>Ui.subscribe(U=>{if(U.dismiss){M(z=>z.map(V=>V.id===U.id?{...V,delete:!0}:V));return}setTimeout(()=>{vT.flushSync(()=>{M(z=>{let V=z.findIndex(X=>X.id===U.id);return V!==-1?[...z.slice(0,V),{...z[V],...U},...z.slice(V+1)]:[U,...z]})})})}),[]),je.useEffect(()=>{if(d!=="system"){w(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?w("dark"):w("light")),typeof window>"u")return;let U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:z})=>{w(z?"dark":"light")})}catch{U.addListener(({matches:V})=>{try{w(V?"dark":"light")}catch(X){console.error(X)}})}},[d]),je.useEffect(()=>{P.length<=1&&F(!1)},[P]),je.useEffect(()=>{let U=z=>{var V,X;i.every($=>z[$]||z.code===$)&&(F(!0),(V=C.current)==null||V.focus()),z.code==="Escape"&&(document.activeElement===C.current||(X=C.current)!=null&&X.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[i]),je.useEffect(()=>{if(C.current)return()=>{S.current&&(S.current.focus({preventScroll:!0}),S.current=null,I.current=!1)}},[C.current]),je.createElement("section",{ref:t,"aria-label":`${y} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((U,z)=>{var V;let[X,$]=U.split("-");return P.length?je.createElement("ol",{key:U,dir:p==="auto"?M6():p,tabIndex:-1,ref:C,className:c,"data-sonner-toaster":!0,"data-theme":T,"data-y-position":X,"data-lifted":L&&P.length>1&&!a,"data-x-position":$,style:{"--front-toast-height":`${((V=D[0])==null?void 0:V.height)||0}px`,"--width":`${bne}px`,"--gap":`${b}px`,...m,...Nne(l,u)},onBlur:W=>{I.current&&!W.currentTarget.contains(W.relatedTarget)&&(I.current=!1,S.current&&(S.current.focus({preventScroll:!0}),S.current=null))},onFocus:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||I.current||(I.current=!0,S.current=W.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{_||F(!1)},onDragEnd:()=>F(!1),onPointerDown:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||E(!0)},onPointerUp:()=>E(!1)},P.filter(W=>!W.position&&z===0||W.position===U).map((W,H)=>{var Q,G;return je.createElement(Cne,{key:W.id,icons:v,index:H,toast:W,defaultRichColors:f,duration:(Q=g==null?void 0:g.duration)!=null?Q:h,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:A,closeButton:(G=g==null?void 0:g.closeButton)!=null?G:o,interacting:_,position:U,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:R,toasts:P.filter(J=>J.position==W.position),heights:D.filter(J=>J.position==W.position),setHeights:O,expandByDefault:a,gap:b,loadingIcon:x,expanded:L,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const Tne=({...e})=>{const{theme:t="system"}=HL();return r.jsx(Sne,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var kne=RA[" useId ".trim().toString()]||(()=>{}),_ne=0;function Yi(e){const[t,n]=B.useState(kne());return Xr(()=>{n(s=>s??String(_ne++))},[e]),e||(t?`radix-${t}`:"")}const Bne=["top","right","bottom","left"],Bu=Math.min,da=Math.max,Hv=Math.round,lx=Math.floor,rl=e=>({x:e,y:e}),Ene={left:"right",right:"left",bottom:"top",top:"bottom"},Pne={start:"end",end:"start"};function ZN(e,t,n){return da(e,Bu(t,n))}function ic(e,t){return typeof e=="function"?e(t):e}function ac(e){return e.split("-")[0]}function _m(e){return e.split("-")[1]}function IT(e){return e==="x"?"y":"x"}function OT(e){return e==="y"?"height":"width"}const Mne=new Set(["top","bottom"]);function Wo(e){return Mne.has(ac(e))?"y":"x"}function LT(e){return IT(Wo(e))}function Dne(e,t,n){n===void 0&&(n=!1);const s=_m(e),i=LT(e),a=OT(i);let o=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=$v(o)),[o,$v(o)]}function Ine(e){const t=$v(e);return[JN(e),t,JN(t)]}function JN(e){return e.replace(/start|end/g,t=>Pne[t])}const D6=["left","right"],I6=["right","left"],One=["top","bottom"],Lne=["bottom","top"];function Fne(e,t,n){switch(e){case"top":case"bottom":return n?t?I6:D6:t?D6:I6;case"left":case"right":return t?One:Lne;default:return[]}}function Rne(e,t,n,s){const i=_m(e);let a=Fne(ac(e),n==="start",s);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(JN)))),a}function $v(e){return e.replace(/left|right|bottom|top/g,t=>Ene[t])}function Une(e){return{top:0,right:0,bottom:0,left:0,...e}}function $L(e){return typeof e!="number"?Une(e):{top:e,right:e,bottom:e,left:e}}function Qv(e){const{x:t,y:n,width:s,height:i}=e;return{width:s,height:i,top:n,left:t,right:t+s,bottom:n+i,x:t,y:n}}function O6(e,t,n){let{reference:s,floating:i}=e;const a=Wo(t),o=LT(t),c=OT(o),l=ac(t),u=a==="y",d=s.x+s.width/2-i.width/2,f=s.y+s.height/2-i.height/2,h=s[c]/2-i[c]/2;let m;switch(l){case"top":m={x:d,y:s.y-i.height};break;case"bottom":m={x:d,y:s.y+s.height};break;case"right":m={x:s.x+s.width,y:f};break;case"left":m={x:s.x-i.width,y:f};break;default:m={x:s.x,y:s.y}}switch(_m(t)){case"start":m[o]-=h*(n&&u?-1:1);break;case"end":m[o]+=h*(n&&u?-1:1);break}return m}const Hne=async(e,t,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,c=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=O6(u,s,l),h=s,m={},A=0;for(let g=0;g<c.length;g++){const{name:p,fn:b}=c[g],{x,y:v,data:y,reset:N}=await b({x:d,y:f,initialPlacement:s,placement:h,strategy:i,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=x??d,f=v??f,m={...m,[p]:{...m[p],...y}},N&&A<=50&&(A++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):N.rects),{x:d,y:f}=O6(u,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:m}};async function ig(e,t){var n;t===void 0&&(t={});const{x:s,y:i,platform:a,rects:o,elements:c,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=ic(t,e),A=$L(m),p=c[h?f==="floating"?"reference":"floating":f],b=Qv(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(p)))==null||n?p:p.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:u,rootBoundary:d,strategy:l})),x=f==="floating"?{x:s,y:i,width:o.floating.width,height:o.floating.height}:o.reference,v=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),y=await(a.isElement==null?void 0:a.isElement(v))?await(a.getScale==null?void 0:a.getScale(v))||{x:1,y:1}:{x:1,y:1},N=Qv(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:x,offsetParent:v,strategy:l}):x);return{top:(b.top-N.top+A.top)/y.y,bottom:(N.bottom-b.bottom+A.bottom)/y.y,left:(b.left-N.left+A.left)/y.x,right:(N.right-b.right+A.right)/y.x}}const $ne=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:i,rects:a,platform:o,elements:c,middlewareData:l}=t,{element:u,padding:d=0}=ic(e,t)||{};if(u==null)return{};const f=$L(d),h={x:n,y:s},m=LT(i),A=OT(m),g=await o.getDimensions(u),p=m==="y",b=p?"top":"left",x=p?"bottom":"right",v=p?"clientHeight":"clientWidth",y=a.reference[A]+a.reference[m]-h[m]-a.floating[A],N=h[m]-a.reference[m],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let M=P?P[v]:0;(!M||!await(o.isElement==null?void 0:o.isElement(P)))&&(M=c.floating[v]||a.floating[A]);const k=y/2-N/2,D=M/2-g[A]/2-1,O=Bu(f[b],D),L=Bu(f[x],D),F=O,_=M-g[A]-L,E=M/2-g[A]/2+k,T=ZN(F,E,_),w=!l.arrow&&_m(i)!=null&&E!==T&&a.reference[A]/2-(E<F?O:L)-g[A]/2<0,C=w?E<F?E-F:E-_:0;return{[m]:h[m]+C,data:{[m]:T,centerOffset:E-T-C,...w&&{alignmentOffset:C}},reset:w}}}),Qne=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:i,middlewareData:a,rects:o,initialPlacement:c,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:g=!0,...p}=ic(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const b=ac(i),x=Wo(c),v=ac(c)===c,y=await(l.isRTL==null?void 0:l.isRTL(u.floating)),N=h||(v||!g?[$v(c)]:Ine(c)),P=A!=="none";!h&&P&&N.push(...Rne(c,g,A,y));const M=[c,...N],k=await ig(t,p),D=[];let O=((s=a.flip)==null?void 0:s.overflows)||[];if(d&&D.push(k[b]),f){const E=Dne(i,o,y);D.push(k[E[0]],k[E[1]])}if(O=[...O,{placement:i,overflows:D}],!D.every(E=>E<=0)){var L,F;const E=(((L=a.flip)==null?void 0:L.index)||0)+1,T=M[E];if(T&&(!(f==="alignment"?x!==Wo(T):!1)||O.every(j=>Wo(j.placement)===x?j.overflows[0]>0:!0)))return{data:{index:E,overflows:O},reset:{placement:T}};let w=(F=O.filter(C=>C.overflows[0]<=0).sort((C,j)=>C.overflows[1]-j.overflows[1])[0])==null?void 0:F.placement;if(!w)switch(m){case"bestFit":{var _;const C=(_=O.filter(j=>{if(P){const S=Wo(j.placement);return S===x||S==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(S=>S>0).reduce((S,I)=>S+I,0)]).sort((j,S)=>j[1]-S[1])[0])==null?void 0:_[0];C&&(w=C);break}case"initialPlacement":w=c;break}if(i!==w)return{reset:{placement:w}}}return{}}}};function L6(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function F6(e){return Bne.some(t=>e[t]>=0)}const zne=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...i}=ic(e,t);switch(s){case"referenceHidden":{const a=await ig(t,{...i,elementContext:"reference"}),o=L6(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:F6(o)}}}case"escaped":{const a=await ig(t,{...i,altBoundary:!0}),o=L6(a,n.floating);return{data:{escapedOffsets:o,escaped:F6(o)}}}default:return{}}}}},QL=new Set(["left","top"]);async function Vne(e,t){const{placement:n,platform:s,elements:i}=e,a=await(s.isRTL==null?void 0:s.isRTL(i.floating)),o=ac(n),c=_m(n),l=Wo(n)==="y",u=QL.has(o)?-1:1,d=a&&l?-1:1,f=ic(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:A}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof A=="number"&&(m=c==="end"?A*-1:A),l?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const Kne=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:i,y:a,placement:o,middlewareData:c}=t,l=await Vne(t,e);return o===((n=c.offset)==null?void 0:n.placement)&&(s=c.arrow)!=null&&s.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},Gne=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:c={fn:p=>{let{x:b,y:x}=p;return{x:b,y:x}}},...l}=ic(e,t),u={x:n,y:s},d=await ig(t,l),f=Wo(ac(i)),h=IT(f);let m=u[h],A=u[f];if(a){const p=h==="y"?"top":"left",b=h==="y"?"bottom":"right",x=m+d[p],v=m-d[b];m=ZN(x,m,v)}if(o){const p=f==="y"?"top":"left",b=f==="y"?"bottom":"right",x=A+d[p],v=A-d[b];A=ZN(x,A,v)}const g=c.fn({...t,[h]:m,[f]:A});return{...g,data:{x:g.x-n,y:g.y-s,enabled:{[h]:a,[f]:o}}}}}},Wne=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:i,rects:a,middlewareData:o}=t,{offset:c=0,mainAxis:l=!0,crossAxis:u=!0}=ic(e,t),d={x:n,y:s},f=Wo(i),h=IT(f);let m=d[h],A=d[f];const g=ic(c,t),p=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const v=h==="y"?"height":"width",y=a.reference[h]-a.floating[v]+p.mainAxis,N=a.reference[h]+a.reference[v]-p.mainAxis;m<y?m=y:m>N&&(m=N)}if(u){var b,x;const v=h==="y"?"width":"height",y=QL.has(ac(i)),N=a.reference[f]-a.floating[v]+(y&&((b=o.offset)==null?void 0:b[f])||0)+(y?0:p.crossAxis),P=a.reference[f]+a.reference[v]+(y?0:((x=o.offset)==null?void 0:x[f])||0)-(y?p.crossAxis:0);A<N?A=N:A>P&&(A=P)}return{[h]:m,[f]:A}}}},qne=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:i,rects:a,platform:o,elements:c}=t,{apply:l=()=>{},...u}=ic(e,t),d=await ig(t,u),f=ac(i),h=_m(i),m=Wo(i)==="y",{width:A,height:g}=a.floating;let p,b;f==="top"||f==="bottom"?(p=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(b=f,p=h==="end"?"top":"bottom");const x=g-d.top-d.bottom,v=A-d.left-d.right,y=Bu(g-d[p],x),N=Bu(A-d[b],v),P=!t.middlewareData.shift;let M=y,k=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=v),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(M=x),P&&!h){const O=da(d.left,0),L=da(d.right,0),F=da(d.top,0),_=da(d.bottom,0);m?k=A-2*(O!==0||L!==0?O+L:da(d.left,d.right)):M=g-2*(F!==0||_!==0?F+_:da(d.top,d.bottom))}await l({...t,availableWidth:k,availableHeight:M});const D=await o.getDimensions(c.floating);return A!==D.width||g!==D.height?{reset:{rects:!0}}:{}}}};function Pw(){return typeof window<"u"}function Bm(e){return zL(e)?(e.nodeName||"").toLowerCase():"#document"}function pa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function pl(e){var t;return(t=(zL(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function zL(e){return Pw()?e instanceof Node||e instanceof pa(e).Node:!1}function vo(e){return Pw()?e instanceof Element||e instanceof pa(e).Element:!1}function dl(e){return Pw()?e instanceof HTMLElement||e instanceof pa(e).HTMLElement:!1}function R6(e){return!Pw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof pa(e).ShadowRoot}const Xne=new Set(["inline","contents"]);function t0(e){const{overflow:t,overflowX:n,overflowY:s,display:i}=yo(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!Xne.has(i)}const Yne=new Set(["table","td","th"]);function Zne(e){return Yne.has(Bm(e))}const Jne=[":popover-open",":modal"];function Mw(e){return Jne.some(t=>{try{return e.matches(t)}catch{return!1}})}const ere=["transform","translate","scale","rotate","perspective"],tre=["transform","translate","scale","rotate","perspective","filter"],nre=["paint","layout","strict","content"];function FT(e){const t=RT(),n=vo(e)?yo(e):e;return ere.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||tre.some(s=>(n.willChange||"").includes(s))||nre.some(s=>(n.contain||"").includes(s))}function rre(e){let t=Eu(e);for(;dl(t)&&!rm(t);){if(FT(t))return t;if(Mw(t))return null;t=Eu(t)}return null}function RT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const sre=new Set(["html","body","#document"]);function rm(e){return sre.has(Bm(e))}function yo(e){return pa(e).getComputedStyle(e)}function Dw(e){return vo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Eu(e){if(Bm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||R6(e)&&e.host||pl(e);return R6(t)?t.host:t}function VL(e){const t=Eu(e);return rm(t)?e.ownerDocument?e.ownerDocument.body:e.body:dl(t)&&t0(t)?t:VL(t)}function ag(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=VL(e),a=i===((s=e.ownerDocument)==null?void 0:s.body),o=pa(i);if(a){const c=e4(o);return t.concat(o,o.visualViewport||[],t0(i)?i:[],c&&n?ag(c):[])}return t.concat(i,ag(i,[],n))}function e4(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function KL(e){const t=yo(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const i=dl(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:s,c=Hv(n)!==a||Hv(s)!==o;return c&&(n=a,s=o),{width:n,height:s,$:c}}function UT(e){return vo(e)?e:e.contextElement}function kf(e){const t=UT(e);if(!dl(t))return rl(1);const n=t.getBoundingClientRect(),{width:s,height:i,$:a}=KL(t);let o=(a?Hv(n.width):n.width)/s,c=(a?Hv(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const ire=rl(0);function GL(e){const t=pa(e);return!RT()||!t.visualViewport?ire:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function are(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==pa(e)?!1:t}function eh(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=UT(e);let o=rl(1);t&&(s?vo(s)&&(o=kf(s)):o=kf(e));const c=are(a,n,s)?GL(a):rl(0);let l=(i.left+c.x)/o.x,u=(i.top+c.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(a){const h=pa(a),m=s&&vo(s)?pa(s):s;let A=h,g=e4(A);for(;g&&s&&m!==A;){const p=kf(g),b=g.getBoundingClientRect(),x=yo(g),v=b.left+(g.clientLeft+parseFloat(x.paddingLeft))*p.x,y=b.top+(g.clientTop+parseFloat(x.paddingTop))*p.y;l*=p.x,u*=p.y,d*=p.x,f*=p.y,l+=v,u+=y,A=pa(g),g=e4(A)}}return Qv({width:d,height:f,x:l,y:u})}function HT(e,t){const n=Dw(e).scrollLeft;return t?t.left+n:eh(pl(e)).left+n}function WL(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=s.left+t.scrollLeft-(n?0:HT(e,s)),a=s.top+t.scrollTop;return{x:i,y:a}}function ore(e){let{elements:t,rect:n,offsetParent:s,strategy:i}=e;const a=i==="fixed",o=pl(s),c=t?Mw(t.floating):!1;if(s===o||c&&a)return n;let l={scrollLeft:0,scrollTop:0},u=rl(1);const d=rl(0),f=dl(s);if((f||!f&&!a)&&((Bm(s)!=="body"||t0(o))&&(l=Dw(s)),dl(s))){const m=eh(s);u=kf(s),d.x=m.x+s.clientLeft,d.y=m.y+s.clientTop}const h=o&&!f&&!a?WL(o,l,!0):rl(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-l.scrollTop*u.y+d.y+h.y}}function lre(e){return Array.from(e.getClientRects())}function cre(e){const t=pl(e),n=Dw(e),s=e.ownerDocument.body,i=da(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=da(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+HT(e);const c=-n.scrollTop;return yo(s).direction==="rtl"&&(o+=da(t.clientWidth,s.clientWidth)-i),{width:i,height:a,x:o,y:c}}function ure(e,t){const n=pa(e),s=pl(e),i=n.visualViewport;let a=s.clientWidth,o=s.clientHeight,c=0,l=0;if(i){a=i.width,o=i.height;const u=RT();(!u||u&&t==="fixed")&&(c=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:c,y:l}}const dre=new Set(["absolute","fixed"]);function hre(e,t){const n=eh(e,!0,t==="fixed"),s=n.top+e.clientTop,i=n.left+e.clientLeft,a=dl(e)?kf(e):rl(1),o=e.clientWidth*a.x,c=e.clientHeight*a.y,l=i*a.x,u=s*a.y;return{width:o,height:c,x:l,y:u}}function U6(e,t,n){let s;if(t==="viewport")s=ure(e,n);else if(t==="document")s=cre(pl(e));else if(vo(t))s=hre(t,n);else{const i=GL(e);s={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Qv(s)}function qL(e,t){const n=Eu(e);return n===t||!vo(n)||rm(n)?!1:yo(n).position==="fixed"||qL(n,t)}function fre(e,t){const n=t.get(e);if(n)return n;let s=ag(e,[],!1).filter(c=>vo(c)&&Bm(c)!=="body"),i=null;const a=yo(e).position==="fixed";let o=a?Eu(e):e;for(;vo(o)&&!rm(o);){const c=yo(o),l=FT(o);!l&&c.position==="fixed"&&(i=null),(a?!l&&!i:!l&&c.position==="static"&&!!i&&dre.has(i.position)||t0(o)&&!l&&qL(e,o))?s=s.filter(d=>d!==o):i=c,o=Eu(o)}return t.set(e,s),s}function mre(e){let{element:t,boundary:n,rootBoundary:s,strategy:i}=e;const o=[...n==="clippingAncestors"?Mw(t)?[]:fre(t,this._c):[].concat(n),s],c=o[0],l=o.reduce((u,d)=>{const f=U6(t,d,i);return u.top=da(f.top,u.top),u.right=Bu(f.right,u.right),u.bottom=Bu(f.bottom,u.bottom),u.left=da(f.left,u.left),u},U6(t,c,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function pre(e){const{width:t,height:n}=KL(e);return{width:t,height:n}}function Are(e,t,n){const s=dl(t),i=pl(t),a=n==="fixed",o=eh(e,!0,a,t);let c={scrollLeft:0,scrollTop:0};const l=rl(0);function u(){l.x=HT(i)}if(s||!s&&!a)if((Bm(t)!=="body"||t0(i))&&(c=Dw(t)),s){const m=eh(t,!0,a,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else i&&u();a&&!s&&i&&u();const d=i&&!s&&!a?WL(i,c):rl(0),f=o.left+c.scrollLeft-l.x-d.x,h=o.top+c.scrollTop-l.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Y2(e){return yo(e).position==="static"}function H6(e,t){if(!dl(e)||yo(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return pl(e)===n&&(n=n.ownerDocument.body),n}function XL(e,t){const n=pa(e);if(Mw(e))return n;if(!dl(e)){let i=Eu(e);for(;i&&!rm(i);){if(vo(i)&&!Y2(i))return i;i=Eu(i)}return n}let s=H6(e,t);for(;s&&Zne(s)&&Y2(s);)s=H6(s,t);return s&&rm(s)&&Y2(s)&&!FT(s)?n:s||rre(e)||n}const gre=async function(e){const t=this.getOffsetParent||XL,n=this.getDimensions,s=await n(e.floating);return{reference:Are(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function xre(e){return yo(e).direction==="rtl"}const bre={convertOffsetParentRelativeRectToViewportRelativeRect:ore,getDocumentElement:pl,getClippingRect:mre,getOffsetParent:XL,getElementRects:gre,getClientRects:lre,getDimensions:pre,getScale:kf,isElement:vo,isRTL:xre};function YL(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function vre(e,t){let n=null,s;const i=pl(e);function a(){var c;clearTimeout(s),(c=n)==null||c.disconnect(),n=null}function o(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(c||t(),!h||!m)return;const A=lx(f),g=lx(i.clientWidth-(d+h)),p=lx(i.clientHeight-(f+m)),b=lx(d),v={rootMargin:-A+"px "+-g+"px "+-p+"px "+-b+"px",threshold:da(0,Bu(1,l))||1};let y=!0;function N(P){const M=P[0].intersectionRatio;if(M!==l){if(!y)return o();M?o(!1,M):s=setTimeout(()=>{o(!1,1e-7)},1e3)}M===1&&!YL(u,e.getBoundingClientRect())&&o(),y=!1}try{n=new IntersectionObserver(N,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(N,v)}n.observe(e)}return o(!0),a}function ZL(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=s,u=UT(e),d=i||a?[...u?ag(u):[],...ag(t)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),a&&b.addEventListener("resize",n)});const f=u&&c?vre(u,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(b=>{let[x]=b;x&&x.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var v;(v=m)==null||v.observe(t)})),n()}),u&&!l&&m.observe(u),m.observe(t));let A,g=l?eh(e):null;l&&p();function p(){const b=eh(e);g&&!YL(g,b)&&n(),g=b,A=requestAnimationFrame(p)}return n(),()=>{var b;d.forEach(x=>{i&&x.removeEventListener("scroll",n),a&&x.removeEventListener("resize",n)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,l&&cancelAnimationFrame(A)}}const yre=Kne,wre=Gne,jre=Qne,Cre=qne,Nre=zne,$6=$ne,Sre=Wne,Tre=(e,t,n)=>{const s=new Map,i={platform:bre,...n},a={...i.platform,_c:s};return Hne(e,t,{...i,platform:a})};var kre=typeof document<"u",_re=function(){},Rb=kre?B.useLayoutEffect:_re;function zv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!zv(e[s],t[s]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,i[s]))return!1;for(s=n;s--!==0;){const a=i[s];if(!(a==="_owner"&&e.$$typeof)&&!zv(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function JL(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Q6(e,t){const n=JL(e);return Math.round(t*n)/n}function Z2(e){const t=B.useRef(e);return Rb(()=>{t.current=e}),t}function Bre(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:a,floating:o}={},transform:c=!0,whileElementsMounted:l,open:u}=e,[d,f]=B.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=B.useState(s);zv(h,s)||m(s);const[A,g]=B.useState(null),[p,b]=B.useState(null),x=B.useCallback(j=>{j!==P.current&&(P.current=j,g(j))},[]),v=B.useCallback(j=>{j!==M.current&&(M.current=j,b(j))},[]),y=a||A,N=o||p,P=B.useRef(null),M=B.useRef(null),k=B.useRef(d),D=l!=null,O=Z2(l),L=Z2(i),F=Z2(u),_=B.useCallback(()=>{if(!P.current||!M.current)return;const j={placement:t,strategy:n,middleware:h};L.current&&(j.platform=L.current),Tre(P.current,M.current,j).then(S=>{const I={...S,isPositioned:F.current!==!1};E.current&&!zv(k.current,I)&&(k.current=I,bo.flushSync(()=>{f(I)}))})},[h,t,n,L,F]);Rb(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[u]);const E=B.useRef(!1);Rb(()=>(E.current=!0,()=>{E.current=!1}),[]),Rb(()=>{if(y&&(P.current=y),N&&(M.current=N),y&&N){if(O.current)return O.current(y,N,_);_()}},[y,N,_,O,D]);const T=B.useMemo(()=>({reference:P,floating:M,setReference:x,setFloating:v}),[x,v]),w=B.useMemo(()=>({reference:y,floating:N}),[y,N]),C=B.useMemo(()=>{const j={position:n,left:0,top:0};if(!w.floating)return j;const S=Q6(w.floating,d.x),I=Q6(w.floating,d.y);return c?{...j,transform:"translate("+S+"px, "+I+"px)",...JL(w.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:S,top:I}},[n,c,w.floating,d.x,d.y]);return B.useMemo(()=>({...d,update:_,refs:T,elements:w,floatingStyles:C}),[d,_,T,w,C])}const Ere=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:i}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?$6({element:s.current,padding:i}).fn(n):{}:s?$6({element:s,padding:i}).fn(n):{}}}},Pre=(e,t)=>({...yre(e),options:[e,t]}),Mre=(e,t)=>({...wre(e),options:[e,t]}),Dre=(e,t)=>({...Sre(e),options:[e,t]}),Ire=(e,t)=>({...jre(e),options:[e,t]}),Ore=(e,t)=>({...Cre(e),options:[e,t]}),Lre=(e,t)=>({...Nre(e),options:[e,t]}),Fre=(e,t)=>({...Ere(e),options:[e,t]});var Rre="Arrow",eF=B.forwardRef((e,t)=>{const{children:n,width:s=10,height:i=5,...a}=e;return r.jsx(Ct.svg,{...a,ref:t,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});eF.displayName=Rre;var Ure=eF;function Iw(e){const[t,n]=B.useState(void 0);return Xr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,c;if("borderBoxSize"in a){const l=a.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,c=u.blockSize}else o=e.offsetWidth,c=e.offsetHeight;n({width:o,height:c})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var $T="Popper",[tF,Qu]=qs($T),[Hre,nF]=tF($T),rF=e=>{const{__scopePopper:t,children:n}=e,[s,i]=B.useState(null);return r.jsx(Hre,{scope:t,anchor:s,onAnchorChange:i,children:n})};rF.displayName=$T;var sF="PopperAnchor",iF=B.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...i}=e,a=nF(sF,n),o=B.useRef(null),c=dn(t,o),l=B.useRef(null);return B.useEffect(()=>{const u=l.current;l.current=(s==null?void 0:s.current)||o.current,u!==l.current&&a.onAnchorChange(l.current)}),s?null:r.jsx(Ct.div,{...i,ref:c})});iF.displayName=sF;var QT="PopperContent",[$re,Qre]=tF(QT),aF=B.forwardRef((e,t)=>{var W,H,Q,G,J,ee;const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:A,...g}=e,p=nF(QT,n),[b,x]=B.useState(null),v=dn(t,K=>x(K)),[y,N]=B.useState(null),P=Iw(y),M=(P==null?void 0:P.width)??0,k=(P==null?void 0:P.height)??0,D=s+(a!=="center"?"-"+a:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(u)?u:[u],F=L.length>0,_={padding:O,boundary:L.filter(Vre),altBoundary:F},{refs:E,floatingStyles:T,placement:w,isPositioned:C,middlewareData:j}=Bre({strategy:"fixed",placement:D,whileElementsMounted:(...K)=>ZL(...K,{animationFrame:m==="always"}),elements:{reference:p.anchor},middleware:[Pre({mainAxis:i+k,alignmentAxis:o}),l&&Mre({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Dre():void 0,..._}),l&&Ire({..._}),Ore({..._,apply:({elements:K,rects:ne,availableWidth:ue,availableHeight:se})=>{const{width:ie,height:q}=ne.reference,Z=K.floating.style;Z.setProperty("--radix-popper-available-width",`${ue}px`),Z.setProperty("--radix-popper-available-height",`${se}px`),Z.setProperty("--radix-popper-anchor-width",`${ie}px`),Z.setProperty("--radix-popper-anchor-height",`${q}px`)}}),y&&Fre({element:y,padding:c}),Kre({arrowWidth:M,arrowHeight:k}),h&&Lre({strategy:"referenceHidden",..._})]}),[S,I]=cF(w),R=es(A);Xr(()=>{C&&(R==null||R())},[C,R]);const U=(W=j.arrow)==null?void 0:W.x,z=(H=j.arrow)==null?void 0:H.y,V=((Q=j.arrow)==null?void 0:Q.centerOffset)!==0,[X,$]=B.useState();return Xr(()=>{b&&$(window.getComputedStyle(b).zIndex)},[b]),r.jsx("div",{ref:E.setFloating,"data-radix-popper-content-wrapper":"",style:{...T,transform:C?T.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[(G=j.transformOrigin)==null?void 0:G.x,(J=j.transformOrigin)==null?void 0:J.y].join(" "),...((ee=j.hide)==null?void 0:ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx($re,{scope:n,placedSide:S,onArrowChange:N,arrowX:U,arrowY:z,shouldHideArrow:V,children:r.jsx(Ct.div,{"data-side":S,"data-align":I,...g,ref:v,style:{...g.style,animation:C?void 0:"none"}})})})});aF.displayName=QT;var oF="PopperArrow",zre={top:"bottom",right:"left",bottom:"top",left:"right"},lF=B.forwardRef(function(t,n){const{__scopePopper:s,...i}=t,a=Qre(oF,s),o=zre[a.placedSide];return r.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:r.jsx(Ure,{...i,ref:n,style:{...i.style,display:"block"}})})});lF.displayName=oF;function Vre(e){return e!==null}var Kre=e=>({name:"transformOrigin",options:e,fn(t){var p,b,x;const{placement:n,rects:s,middlewareData:i}=t,o=((p=i.arrow)==null?void 0:p.centerOffset)!==0,c=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[u,d]=cF(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=i.arrow)==null?void 0:b.x)??0)+c/2,m=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let A="",g="";return u==="bottom"?(A=o?f:`${h}px`,g=`${-l}px`):u==="top"?(A=o?f:`${h}px`,g=`${s.floating.height+l}px`):u==="right"?(A=`${-l}px`,g=o?f:`${m}px`):u==="left"&&(A=`${s.floating.width+l}px`,g=o?f:`${m}px`),{data:{x:A,y:g}}}});function cF(e){const[t,n="center"]=e.split("-");return[t,n]}var Ow=rF,n0=iF,Lw=aF,Fw=lF,[Rw,RRe]=qs("Tooltip",[Qu]),Uw=Qu(),uF="TooltipProvider",Gre=700,t4="tooltip.open",[Wre,zT]=Rw(uF),dF=e=>{const{__scopeTooltip:t,delayDuration:n=Gre,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:a}=e,o=B.useRef(!0),c=B.useRef(!1),l=B.useRef(0);return B.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),r.jsx(Wre,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:B.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:B.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:c,onPointerInTransitChange:B.useCallback(u=>{c.current=u},[]),disableHoverableContent:i,children:a})};dF.displayName=uF;var og="Tooltip",[qre,Hw]=Rw(og),hF=e=>{const{__scopeTooltip:t,children:n,open:s,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:c}=e,l=zT(og,e.__scopeTooltip),u=Uw(t),[d,f]=B.useState(null),h=Yi(),m=B.useRef(0),A=o??l.disableHoverableContent,g=c??l.delayDuration,p=B.useRef(!1),[b,x]=na({prop:s,defaultProp:i??!1,onChange:M=>{M?(l.onOpen(),document.dispatchEvent(new CustomEvent(t4))):l.onClose(),a==null||a(M)},caller:og}),v=B.useMemo(()=>b?p.current?"delayed-open":"instant-open":"closed",[b]),y=B.useCallback(()=>{window.clearTimeout(m.current),m.current=0,p.current=!1,x(!0)},[x]),N=B.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x(!1)},[x]),P=B.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{p.current=!0,x(!0),m.current=0},g)},[g,x]);return B.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),r.jsx(Ow,{...u,children:r.jsx(qre,{scope:t,contentId:h,open:b,stateAttribute:v,trigger:d,onTriggerChange:f,onTriggerEnter:B.useCallback(()=>{l.isOpenDelayedRef.current?P():y()},[l.isOpenDelayedRef,P,y]),onTriggerLeave:B.useCallback(()=>{A?N():(window.clearTimeout(m.current),m.current=0)},[N,A]),onOpen:y,onClose:N,disableHoverableContent:A,children:n})})};hF.displayName=og;var n4="TooltipTrigger",fF=B.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=Hw(n4,n),a=zT(n4,n),o=Uw(n),c=B.useRef(null),l=dn(t,c,i.onTriggerChange),u=B.useRef(!1),d=B.useRef(!1),f=B.useCallback(()=>u.current=!1,[]);return B.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),r.jsx(n0,{asChild:!0,...o,children:r.jsx(Ct.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:l,onPointerMove:et(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:et(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:et(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:et(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:et(e.onBlur,i.onClose),onClick:et(e.onClick,i.onClose)})})});fF.displayName=n4;var Xre="TooltipPortal",[URe,Yre]=Rw(Xre,{forceMount:void 0}),sm="TooltipContent",mF=B.forwardRef((e,t)=>{const n=Yre(sm,e.__scopeTooltip),{forceMount:s=n.forceMount,side:i="top",...a}=e,o=Hw(sm,e.__scopeTooltip);return r.jsx(_s,{present:s||o.open,children:o.disableHoverableContent?r.jsx(pF,{side:i,...a,ref:t}):r.jsx(Zre,{side:i,...a,ref:t})})}),Zre=B.forwardRef((e,t)=>{const n=Hw(sm,e.__scopeTooltip),s=zT(sm,e.__scopeTooltip),i=B.useRef(null),a=dn(t,i),[o,c]=B.useState(null),{trigger:l,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=s,h=B.useCallback(()=>{c(null),f(!1)},[f]),m=B.useCallback((A,g)=>{const p=A.currentTarget,b={x:A.clientX,y:A.clientY},x=rse(b,p.getBoundingClientRect()),v=sse(b,x),y=ise(g.getBoundingClientRect()),N=ose([...v,...y]);c(N),f(!0)},[f]);return B.useEffect(()=>()=>h(),[h]),B.useEffect(()=>{if(l&&d){const A=p=>m(p,d),g=p=>m(p,l);return l.addEventListener("pointerleave",A),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",A),d.removeEventListener("pointerleave",g)}}},[l,d,m,h]),B.useEffect(()=>{if(o){const A=g=>{const p=g.target,b={x:g.clientX,y:g.clientY},x=(l==null?void 0:l.contains(p))||(d==null?void 0:d.contains(p)),v=!ase(b,o);x?h():v&&(h(),u())};return document.addEventListener("pointermove",A),()=>document.removeEventListener("pointermove",A)}},[l,d,o,u,h]),r.jsx(pF,{...e,ref:a})}),[Jre,ese]=Rw(og,{isInside:!1}),tse=OY("TooltipContent"),pF=B.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...c}=e,l=Hw(sm,n),u=Uw(n),{onClose:d}=l;return B.useEffect(()=>(document.addEventListener(t4,d),()=>document.removeEventListener(t4,d)),[d]),B.useEffect(()=>{if(l.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),r.jsx(Hu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:r.jsxs(Lw,{"data-state":l.stateAttribute,...u,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(tse,{children:s}),r.jsx(Jre,{scope:n,isInside:!0,children:r.jsx(H7,{id:l.contentId,role:"tooltip",children:i||s})})]})})});mF.displayName=sm;var AF="TooltipArrow",nse=B.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=Uw(n);return ese(AF,n).isInside?null:r.jsx(Fw,{...i,...s,ref:t})});nse.displayName=AF;function rse(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,s,i,a)){case a:return"left";case i:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function sse(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function ise(e){const{top:t,right:n,bottom:s,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:s},{x:i,y:s}]}function ase(e,t){const{x:n,y:s}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const c=t[a],l=t[o],u=c.x,d=c.y,f=l.x,h=l.y;d>s!=h>s&&n<(f-u)*(s-d)/(h-d)+u&&(i=!i)}return i}function ose(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),lse(t)}function lse(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const i=e[s];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const i=e[s];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var cse=dF,use=hF,dse=fF,gF=mF;const xF=({children:e,...t})=>r.jsx(cse,{...t,children:e}),Vv=use,Kv=dse,lg=B.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(gF,{ref:s,sideOffset:t,className:Fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));lg.displayName=gF.displayName;var $w=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qw=typeof window>"u"||"Deno"in globalThis;function ro(){}function hse(e,t){return typeof e=="function"?e(t):e}function fse(e){return typeof e=="number"&&e>=0&&e!==1/0}function mse(e,t){return Math.max(e+(t||0)-Date.now(),0)}function r4(e,t){return typeof e=="function"?e(t):e}function pse(e,t){return typeof e=="function"?e(t):e}function z6(e,t){const{type:n="all",exact:s,fetchStatus:i,predicate:a,queryKey:o,stale:c}=e;if(o){if(s){if(t.queryHash!==VT(o,t.options))return!1}else if(!ug(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||i&&i!==t.state.fetchStatus||a&&!a(t))}function V6(e,t){const{exact:n,status:s,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(cg(t.options.mutationKey)!==cg(a))return!1}else if(!ug(t.options.mutationKey,a))return!1}return!(s&&t.state.status!==s||i&&!i(t))}function VT(e,t){return((t==null?void 0:t.queryKeyHashFn)||cg)(e)}function cg(e){return JSON.stringify(e,(t,n)=>s4(n)?Object.keys(n).sort().reduce((s,i)=>(s[i]=n[i],s),{}):n)}function ug(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>ug(e[n],t[n])):!1}function bF(e,t){if(e===t)return e;const n=K6(e)&&K6(t);if(n||s4(e)&&s4(t)){const s=n?e:Object.keys(e),i=s.length,a=n?t:Object.keys(t),o=a.length,c=n?[]:{},l=new Set(s);let u=0;for(let d=0;d<o;d++){const f=n?d:a[d];(!n&&l.has(f)||n)&&e[f]===void 0&&t[f]===void 0?(c[f]=void 0,u++):(c[f]=bF(e[f],t[f]),c[f]===e[f]&&e[f]!==void 0&&u++)}return i===o&&u===i?e:c}return t}function K6(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function s4(e){if(!G6(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!G6(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function G6(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ase(e){return new Promise(t=>{setTimeout(t,e)})}function gse(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?bF(e,t):t}function xse(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function bse(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var KT=Symbol();function vF(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===KT?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var kd,Qc,Rf,pI,vse=(pI=class extends $w{constructor(){super();qn(this,kd);qn(this,Qc);qn(this,Rf);jn(this,Rf,t=>{if(!Qw&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Ye(this,Qc)||this.setEventListener(Ye(this,Rf))}onUnsubscribe(){var t;this.hasListeners()||((t=Ye(this,Qc))==null||t.call(this),jn(this,Qc,void 0))}setEventListener(t){var n;jn(this,Rf,t),(n=Ye(this,Qc))==null||n.call(this),jn(this,Qc,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){Ye(this,kd)!==t&&(jn(this,kd,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof Ye(this,kd)=="boolean"?Ye(this,kd):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},kd=new WeakMap,Qc=new WeakMap,Rf=new WeakMap,pI),yF=new vse,Uf,zc,Hf,AI,yse=(AI=class extends $w{constructor(){super();qn(this,Uf,!0);qn(this,zc);qn(this,Hf);jn(this,Hf,t=>{if(!Qw&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){Ye(this,zc)||this.setEventListener(Ye(this,Hf))}onUnsubscribe(){var t;this.hasListeners()||((t=Ye(this,zc))==null||t.call(this),jn(this,zc,void 0))}setEventListener(t){var n;jn(this,Hf,t),(n=Ye(this,zc))==null||n.call(this),jn(this,zc,t(this.setOnline.bind(this)))}setOnline(t){Ye(this,Uf)!==t&&(jn(this,Uf,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return Ye(this,Uf)}},Uf=new WeakMap,zc=new WeakMap,Hf=new WeakMap,AI),Gv=new yse;function wse(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function s(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{s({status:"fulfilled",value:i}),e(i)},n.reject=i=>{s({status:"rejected",reason:i}),t(i)},n}function jse(e){return Math.min(1e3*2**e,3e4)}function wF(e){return(e??"online")==="online"?Gv.isOnline():!0}var jF=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function CF(e){let t=!1,n=0,s;const i=wse(),a=()=>i.status!=="pending",o=g=>{var p;a()||(h(new jF(g)),(p=e.abort)==null||p.call(e))},c=()=>{t=!0},l=()=>{t=!1},u=()=>yF.isFocused()&&(e.networkMode==="always"||Gv.isOnline())&&e.canRun(),d=()=>wF(e.networkMode)&&e.canRun(),f=g=>{a()||(s==null||s(),i.resolve(g))},h=g=>{a()||(s==null||s(),i.reject(g))},m=()=>new Promise(g=>{var p;s=b=>{(a()||u())&&g(b)},(p=e.onPause)==null||p.call(e)}).then(()=>{var g;s=void 0,a()||(g=e.onContinue)==null||g.call(e)}),A=()=>{if(a())return;let g;const p=n===0?e.initialPromise:void 0;try{g=p??e.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(f).catch(b=>{var P;if(a())return;const x=e.retry??(Qw?0:3),v=e.retryDelay??jse,y=typeof v=="function"?v(n,b):v,N=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,b);if(t||!N){h(b);return}n++,(P=e.onFail)==null||P.call(e,n,b),Ase(y).then(()=>u()?void 0:m()).then(()=>{t?h(b):A()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:c,continueRetry:l,canStart:d,start:()=>(d()?A():m().then(A),i)}}var Cse=e=>setTimeout(e,0);function Nse(){let e=[],t=0,n=c=>{c()},s=c=>{c()},i=Cse;const a=c=>{t?e.push(c):i(()=>{n(c)})},o=()=>{const c=e;e=[],c.length&&i(()=>{s(()=>{c.forEach(l=>{n(l)})})})};return{batch:c=>{let l;t++;try{l=c()}finally{t--,t||o()}return l},batchCalls:c=>(...l)=>{a(()=>{c(...l)})},schedule:a,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{s=c},setScheduler:c=>{i=c}}}var wi=Nse(),_d,gI,NF=(gI=class{constructor(){qn(this,_d)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fse(this.gcTime)&&jn(this,_d,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Qw?1/0:5*60*1e3))}clearGcTimeout(){Ye(this,_d)&&(clearTimeout(Ye(this,_d)),jn(this,_d,void 0))}},_d=new WeakMap,gI),$f,Qf,Ba,Bd,Ds,zg,Ed,so,El,xI,Sse=(xI=class extends NF{constructor(t){super();qn(this,so);qn(this,$f);qn(this,Qf);qn(this,Ba);qn(this,Bd);qn(this,Ds);qn(this,zg);qn(this,Ed);jn(this,Ed,!1),jn(this,zg,t.defaultOptions),this.setOptions(t.options),this.observers=[],jn(this,Bd,t.client),jn(this,Ba,Ye(this,Bd).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,jn(this,$f,kse(this.options)),this.state=t.state??Ye(this,$f),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Ye(this,Ds))==null?void 0:t.promise}setOptions(t){this.options={...Ye(this,zg),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ye(this,Ba).remove(this)}setData(t,n){const s=gse(this.state.data,t,this.options);return Zs(this,so,El).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){Zs(this,so,El).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,i;const n=(s=Ye(this,Ds))==null?void 0:s.promise;return(i=Ye(this,Ds))==null||i.cancel(t),n?n.then(ro).catch(ro):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ye(this,$f))}isActive(){return this.observers.some(t=>pse(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===KT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>r4(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!mse(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=Ye(this,Ds))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=Ye(this,Ds))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Ye(this,Ba).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(Ye(this,Ds)&&(Ye(this,Ed)?Ye(this,Ds).cancel({revert:!0}):Ye(this,Ds).cancelRetry()),this.scheduleGc()),Ye(this,Ba).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Zs(this,so,El).call(this,{type:"invalidate"})}async fetch(t,n){var l,u,d,f,h,m,A,g,p,b,x,v;if(this.state.fetchStatus!=="idle"&&((l=Ye(this,Ds))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Ye(this,Ds))return Ye(this,Ds).continueRetry(),Ye(this,Ds).promise}if(t&&this.setOptions(t),!this.options.queryFn){const y=this.observers.find(N=>N.options.queryFn);y&&this.setOptions(y.options)}const s=new AbortController,i=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(jn(this,Ed,!0),s.signal)})},a=()=>{const y=vF(this.options,n),P=(()=>{const M={client:Ye(this,Bd),queryKey:this.queryKey,meta:this.meta};return i(M),M})();return jn(this,Ed,!1),this.options.persister?this.options.persister(y,P,this):y(P)},c=(()=>{const y={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Ye(this,Bd),state:this.state,fetchFn:a};return i(y),y})();(u=this.options.behavior)==null||u.onFetch(c,this),jn(this,Qf,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=c.fetchOptions)==null?void 0:d.meta))&&Zs(this,so,El).call(this,{type:"fetch",meta:(f=c.fetchOptions)==null?void 0:f.meta}),jn(this,Ds,CF({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onFail:(y,N)=>{Zs(this,so,El).call(this,{type:"failed",failureCount:y,error:N})},onPause:()=>{Zs(this,so,El).call(this,{type:"pause"})},onContinue:()=>{Zs(this,so,El).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const y=await Ye(this,Ds).start();if(y===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(y),(m=(h=Ye(this,Ba).config).onSuccess)==null||m.call(h,y,this),(g=(A=Ye(this,Ba).config).onSettled)==null||g.call(A,y,this.state.error,this),y}catch(y){if(y instanceof jF){if(y.silent)return Ye(this,Ds).promise;if(y.revert)return this.setState({...Ye(this,Qf),fetchStatus:"idle"}),this.state.data}throw Zs(this,so,El).call(this,{type:"error",error:y}),(b=(p=Ye(this,Ba).config).onError)==null||b.call(p,y,this),(v=(x=Ye(this,Ba).config).onSettled)==null||v.call(x,this.state.data,y,this),y}finally{this.scheduleGc()}}},$f=new WeakMap,Qf=new WeakMap,Ba=new WeakMap,Bd=new WeakMap,Ds=new WeakMap,zg=new WeakMap,Ed=new WeakMap,so=new WeakSet,El=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Tse(s.data,this.options),fetchMeta:t.meta??null};case"success":const i={...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return jn(this,Qf,t.manual?i:void 0),i;case"error":const a=t.error;return{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),wi.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),Ye(this,Ba).notify({query:this,type:"updated",action:t})})},xI);function Tse(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wF(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function kse(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ro,bI,_se=(bI=class extends $w{constructor(t={}){super();qn(this,Ro);this.config=t,jn(this,Ro,new Map)}build(t,n,s){const i=n.queryKey,a=n.queryHash??VT(i,n);let o=this.get(a);return o||(o=new Sse({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){Ye(this,Ro).has(t.queryHash)||(Ye(this,Ro).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=Ye(this,Ro).get(t.queryHash);n&&(t.destroy(),n===t&&Ye(this,Ro).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){wi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Ye(this,Ro).get(t)}getAll(){return[...Ye(this,Ro).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>z6(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>z6(t,s)):n}notify(t){wi.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){wi.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){wi.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ro=new WeakMap,bI),Uo,gi,Pd,Ho,Pc,vI,Bse=(vI=class extends NF{constructor(t){super();qn(this,Ho);qn(this,Uo);qn(this,gi);qn(this,Pd);this.mutationId=t.mutationId,jn(this,gi,t.mutationCache),jn(this,Uo,[]),this.state=t.state||Ese(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Ye(this,Uo).includes(t)||(Ye(this,Uo).push(t),this.clearGcTimeout(),Ye(this,gi).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){jn(this,Uo,Ye(this,Uo).filter(n=>n!==t)),this.scheduleGc(),Ye(this,gi).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Ye(this,Uo).length||(this.state.status==="pending"?this.scheduleGc():Ye(this,gi).remove(this))}continue(){var t;return((t=Ye(this,Pd))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,c,l,u,d,f,h,m,A,g,p,b,x,v,y,N,P,M,k;const n=()=>{Zs(this,Ho,Pc).call(this,{type:"continue"})};jn(this,Pd,CF({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(D,O)=>{Zs(this,Ho,Pc).call(this,{type:"failed",failureCount:D,error:O})},onPause:()=>{Zs(this,Ho,Pc).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ye(this,gi).canRun(this)}));const s=this.state.status==="pending",i=!Ye(this,Pd).canStart();try{if(s)n();else{Zs(this,Ho,Pc).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(a=Ye(this,gi).config).onMutate)==null?void 0:o.call(a,t,this));const O=await((l=(c=this.options).onMutate)==null?void 0:l.call(c,t));O!==this.state.context&&Zs(this,Ho,Pc).call(this,{type:"pending",context:O,variables:t,isPaused:i})}const D=await Ye(this,Pd).start();return await((d=(u=Ye(this,gi).config).onSuccess)==null?void 0:d.call(u,D,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,D,t,this.state.context)),await((A=(m=Ye(this,gi).config).onSettled)==null?void 0:A.call(m,D,null,this.state.variables,this.state.context,this)),await((p=(g=this.options).onSettled)==null?void 0:p.call(g,D,null,t,this.state.context)),Zs(this,Ho,Pc).call(this,{type:"success",data:D}),D}catch(D){try{throw await((x=(b=Ye(this,gi).config).onError)==null?void 0:x.call(b,D,t,this.state.context,this)),await((y=(v=this.options).onError)==null?void 0:y.call(v,D,t,this.state.context)),await((P=(N=Ye(this,gi).config).onSettled)==null?void 0:P.call(N,void 0,D,this.state.variables,this.state.context,this)),await((k=(M=this.options).onSettled)==null?void 0:k.call(M,void 0,D,t,this.state.context)),D}finally{Zs(this,Ho,Pc).call(this,{type:"error",error:D})}}finally{Ye(this,gi).runNext(this)}}},Uo=new WeakMap,gi=new WeakMap,Pd=new WeakMap,Ho=new WeakSet,Pc=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),wi.batch(()=>{Ye(this,Uo).forEach(s=>{s.onMutationUpdate(t)}),Ye(this,gi).notify({mutation:this,type:"updated",action:t})})},vI);function Ese(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ul,io,Vg,yI,Pse=(yI=class extends $w{constructor(t={}){super();qn(this,Ul);qn(this,io);qn(this,Vg);this.config=t,jn(this,Ul,new Set),jn(this,io,new Map),jn(this,Vg,0)}build(t,n,s){const i=new Bse({mutationCache:this,mutationId:++H0(this,Vg)._,options:t.defaultMutationOptions(n),state:s});return this.add(i),i}add(t){Ye(this,Ul).add(t);const n=cx(t);if(typeof n=="string"){const s=Ye(this,io).get(n);s?s.push(t):Ye(this,io).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Ye(this,Ul).delete(t)){const n=cx(t);if(typeof n=="string"){const s=Ye(this,io).get(n);if(s)if(s.length>1){const i=s.indexOf(t);i!==-1&&s.splice(i,1)}else s[0]===t&&Ye(this,io).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=cx(t);if(typeof n=="string"){const s=Ye(this,io).get(n),i=s==null?void 0:s.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var s;const n=cx(t);if(typeof n=="string"){const i=(s=Ye(this,io).get(n))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){wi.batch(()=>{Ye(this,Ul).forEach(t=>{this.notify({type:"removed",mutation:t})}),Ye(this,Ul).clear(),Ye(this,io).clear()})}getAll(){return Array.from(Ye(this,Ul))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>V6(n,s))}findAll(t={}){return this.getAll().filter(n=>V6(t,n))}notify(t){wi.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return wi.batch(()=>Promise.all(t.map(n=>n.continue().catch(ro))))}},Ul=new WeakMap,io=new WeakMap,Vg=new WeakMap,yI);function cx(e){var t;return(t=e.options.scope)==null?void 0:t.id}function W6(e){return{onFetch:(t,n)=>{var d,f,h,m,A;const s=t.options,i=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((m=t.state.data)==null?void 0:m.pages)||[],o=((A=t.state.data)==null?void 0:A.pageParams)||[];let c={pages:[],pageParams:[]},l=0;const u=async()=>{let g=!1;const p=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},b=vF(t.options,t.fetchOptions),x=async(v,y,N)=>{if(g)return Promise.reject();if(y==null&&v.pages.length)return Promise.resolve(v);const M=(()=>{const L={client:t.client,queryKey:t.queryKey,pageParam:y,direction:N?"backward":"forward",meta:t.options.meta};return p(L),L})(),k=await b(M),{maxPages:D}=t.options,O=N?bse:xse;return{pages:O(v.pages,k,D),pageParams:O(v.pageParams,y,D)}};if(i&&a.length){const v=i==="backward",y=v?Mse:q6,N={pages:a,pageParams:o},P=y(s,N);c=await x(N,P,v)}else{const v=e??a.length;do{const y=l===0?o[0]??s.initialPageParam:q6(s,c);if(l>0&&y==null)break;c=await x(c,y),l++}while(l<v)}return c};t.options.persister?t.fetchFn=()=>{var g,p;return(p=(g=t.options).persister)==null?void 0:p.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function q6(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function Mse(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var Zr,Vc,Kc,zf,Vf,Gc,Kf,Gf,wI,Dse=(wI=class{constructor(e={}){qn(this,Zr);qn(this,Vc);qn(this,Kc);qn(this,zf);qn(this,Vf);qn(this,Gc);qn(this,Kf);qn(this,Gf);jn(this,Zr,e.queryCache||new _se),jn(this,Vc,e.mutationCache||new Pse),jn(this,Kc,e.defaultOptions||{}),jn(this,zf,new Map),jn(this,Vf,new Map),jn(this,Gc,0)}mount(){H0(this,Gc)._++,Ye(this,Gc)===1&&(jn(this,Kf,yF.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ye(this,Zr).onFocus())})),jn(this,Gf,Gv.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ye(this,Zr).onOnline())})))}unmount(){var e,t;H0(this,Gc)._--,Ye(this,Gc)===0&&((e=Ye(this,Kf))==null||e.call(this),jn(this,Kf,void 0),(t=Ye(this,Gf))==null||t.call(this),jn(this,Gf,void 0))}isFetching(e){return Ye(this,Zr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Ye(this,Vc).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Ye(this,Zr).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=Ye(this,Zr).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(r4(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return Ye(this,Zr).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),i=Ye(this,Zr).get(s.queryHash),a=i==null?void 0:i.state.data,o=hse(t,a);if(o!==void 0)return Ye(this,Zr).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return wi.batch(()=>Ye(this,Zr).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Ye(this,Zr).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=Ye(this,Zr);wi.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=Ye(this,Zr);return wi.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=wi.batch(()=>Ye(this,Zr).findAll(e).map(i=>i.cancel(n)));return Promise.all(s).then(ro).catch(ro)}invalidateQueries(e,t={}){return wi.batch(()=>(Ye(this,Zr).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=wi.batch(()=>Ye(this,Zr).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(ro)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(ro)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=Ye(this,Zr).build(this,t);return n.isStaleByTime(r4(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ro).catch(ro)}fetchInfiniteQuery(e){return e.behavior=W6(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ro).catch(ro)}ensureInfiniteQueryData(e){return e.behavior=W6(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Gv.isOnline()?Ye(this,Vc).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ye(this,Zr)}getMutationCache(){return Ye(this,Vc)}getDefaultOptions(){return Ye(this,Kc)}setDefaultOptions(e){jn(this,Kc,e)}setQueryDefaults(e,t){Ye(this,zf).set(cg(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Ye(this,zf).values()],n={};return t.forEach(s=>{ug(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){Ye(this,Vf).set(cg(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Ye(this,Vf).values()],n={};return t.forEach(s=>{ug(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Ye(this,Kc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=VT(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===KT&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Ye(this,Kc).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Ye(this,Zr).clear(),Ye(this,Vc).clear()}},Zr=new WeakMap,Vc=new WeakMap,Kc=new WeakMap,zf=new WeakMap,Vf=new WeakMap,Gc=new WeakMap,Kf=new WeakMap,Gf=new WeakMap,wI),Ise=B.createContext(void 0),Ose=({client:e,children:t})=>(B.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(Ise.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dg(){return dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dg.apply(this,arguments)}var Yc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Yc||(Yc={}));const X6="popstate";function Lse(e){e===void 0&&(e={});function t(s,i){let{pathname:a,search:o,hash:c}=s.location;return i4("",{pathname:a,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:Wv(i)}return Rse(t,n,null,e)}function ds(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function SF(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Fse(){return Math.random().toString(36).substr(2,8)}function Y6(e,t){return{usr:e.state,key:e.key,idx:t}}function i4(e,t,n,s){return n===void 0&&(n=null),dg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Em(t):t,{state:n,key:t&&t.key||s||Fse()})}function Wv(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Em(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Rse(e,t,n,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,o=i.history,c=Yc.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(dg({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){c=Yc.Pop;let p=d(),b=p==null?null:p-u;u=p,l&&l({action:c,location:g.location,delta:b})}function h(p,b){c=Yc.Push;let x=i4(g.location,p,b);u=d()+1;let v=Y6(x,u),y=g.createHref(x);try{o.pushState(v,"",y)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(y)}a&&l&&l({action:c,location:g.location,delta:1})}function m(p,b){c=Yc.Replace;let x=i4(g.location,p,b);u=d();let v=Y6(x,u),y=g.createHref(x);o.replaceState(v,"",y),a&&l&&l({action:c,location:g.location,delta:0})}function A(p){let b=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof p=="string"?p:Wv(p);return x=x.replace(/ $/,"%20"),ds(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let g={get action(){return c},get location(){return e(i,o)},listen(p){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(X6,f),l=p,()=>{i.removeEventListener(X6,f),l=null}},createHref(p){return t(i,p)},createURL:A,encodeLocation(p){let b=A(p);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(p){return o.go(p)}};return g}var Z6;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Z6||(Z6={}));function Use(e,t,n){return n===void 0&&(n="/"),Hse(e,t,n)}function Hse(e,t,n,s){let i=typeof t=="string"?Em(t):t,a=GT(i.pathname||"/",n);if(a==null)return null;let o=TF(e);$se(o);let c=null;for(let l=0;c==null&&l<o.length;++l){let u=eie(a);c=Yse(o[l],u)}return c}function TF(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let i=(a,o,c)=>{let l={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(ds(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let u=bu([s,l.relativePath]),d=n.concat(l);a.children&&a.children.length>0&&(ds(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),TF(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:qse(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,o);else for(let l of kF(a.path))i(a,o,l)}),t}function kF(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let o=kF(s.join("/")),c=[];return c.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&c.push(...o),c.map(l=>e.startsWith("/")&&l===""?"/":l)}function $se(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Xse(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const Qse=/^:[\w-]+$/,zse=3,Vse=2,Kse=1,Gse=10,Wse=-2,J6=e=>e==="*";function qse(e,t){let n=e.split("/"),s=n.length;return n.some(J6)&&(s+=Wse),t&&(s+=Vse),n.filter(i=>!J6(i)).reduce((i,a)=>i+(Qse.test(a)?zse:a===""?Kse:Gse),s)}function Xse(e,t){return e.length===t.length&&e.slice(0,-1).every((s,i)=>s===t[i])?e[e.length-1]-t[t.length-1]:0}function Yse(e,t,n){let{routesMeta:s}=e,i={},a="/",o=[];for(let c=0;c<s.length;++c){let l=s[c],u=c===s.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=Zse({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:bu([a,f.pathname]),pathnameBase:sie(bu([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=bu([a,f.pathnameBase]))}return o}function Zse(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=Jse(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:s.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let g=c[f]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const A=c[f];return m&&!A?u[h]=void 0:u[h]=(A||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function Jse(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),SF(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,l)=>(s.push({paramName:c,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function eie(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return SF(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function GT(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function tie(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:i=""}=typeof e=="string"?Em(e):e;return{pathname:n?n.startsWith("/")?n:nie(n,t):t,search:iie(s),hash:aie(i)}}function nie(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function J2(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rie(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function WT(e,t){let n=rie(e);return t?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function qT(e,t,n,s){s===void 0&&(s=!1);let i;typeof e=="string"?i=Em(e):(i=dg({},e),ds(!i.pathname||!i.pathname.includes("?"),J2("?","pathname","search",i)),ds(!i.pathname||!i.pathname.includes("#"),J2("#","pathname","hash",i)),ds(!i.search||!i.search.includes("#"),J2("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,c;if(o==null)c=n;else{let f=t.length-1;if(!s&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}c=f>=0?t[f]:"/"}let l=tie(i,c),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const bu=e=>e.join("/").replace(/\/\/+/g,"/"),sie=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),iie=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,aie=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function oie(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const _F=["post","put","patch","delete"];new Set(_F);const lie=["get",..._F];new Set(lie);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hg(){return hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hg.apply(this,arguments)}const XT=B.createContext(null),cie=B.createContext(null),zu=B.createContext(null),zw=B.createContext(null),Al=B.createContext({outlet:null,matches:[],isDataRoute:!1}),BF=B.createContext(null);function uie(e,t){let{relative:n}=t===void 0?{}:t;Pm()||ds(!1);let{basename:s,navigator:i}=B.useContext(zu),{hash:a,pathname:o,search:c}=PF(e,{relative:n}),l=o;return s!=="/"&&(l=o==="/"?s:bu([s,o])),i.createHref({pathname:l,search:c,hash:a})}function Pm(){return B.useContext(zw)!=null}function Bs(){return Pm()||ds(!1),B.useContext(zw).location}function EF(e){B.useContext(zu).static||B.useLayoutEffect(e)}function gr(){let{isDataRoute:e}=B.useContext(Al);return e?Nie():die()}function die(){Pm()||ds(!1);let e=B.useContext(XT),{basename:t,future:n,navigator:s}=B.useContext(zu),{matches:i}=B.useContext(Al),{pathname:a}=Bs(),o=JSON.stringify(WT(i,n.v7_relativeSplatPath)),c=B.useRef(!1);return EF(()=>{c.current=!0}),B.useCallback(function(u,d){if(d===void 0&&(d={}),!c.current)return;if(typeof u=="number"){s.go(u);return}let f=qT(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:bu([t,f.pathname])),(d.replace?s.replace:s.push)(f,d.state,d)},[t,s,o,a,e])}const hie=B.createContext(null);function fie(e){let t=B.useContext(Al).outlet;return t&&B.createElement(hie.Provider,{value:e},t)}function Mm(){let{matches:e}=B.useContext(Al),t=e[e.length-1];return t?t.params:{}}function PF(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=B.useContext(zu),{matches:i}=B.useContext(Al),{pathname:a}=Bs(),o=JSON.stringify(WT(i,s.v7_relativeSplatPath));return B.useMemo(()=>qT(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function mie(e,t){return pie(e,t)}function pie(e,t,n,s){Pm()||ds(!1);let{navigator:i}=B.useContext(zu),{matches:a}=B.useContext(Al),o=a[a.length-1],c=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Bs(),d;if(t){var f;let p=typeof t=="string"?Em(t):t;l==="/"||(f=p.pathname)!=null&&f.startsWith(l)||ds(!1),d=p}else d=u;let h=d.pathname||"/",m=h;if(l!=="/"){let p=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(p.length).join("/")}let A=Use(e,{pathname:m}),g=vie(A&&A.map(p=>Object.assign({},p,{params:Object.assign({},c,p.params),pathname:bu([l,i.encodeLocation?i.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?l:bu([l,i.encodeLocation?i.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),a,n,s);return t&&g?B.createElement(zw.Provider,{value:{location:hg({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Yc.Pop}},g):g}function Aie(){let e=Cie(),t=oie(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),n?B.createElement("pre",{style:i},n):null,null)}const gie=B.createElement(Aie,null);class xie extends B.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?B.createElement(Al.Provider,{value:this.props.routeContext},B.createElement(BF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bie(e){let{routeContext:t,match:n,children:s}=e,i=B.useContext(XT);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),B.createElement(Al.Provider,{value:t},s)}function vie(e,t,n,s){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,c=(i=n)==null?void 0:i.errors;if(c!=null){let d=o.findIndex(f=>f.route.id&&(c==null?void 0:c[f.route.id])!==void 0);d>=0||ds(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=n,A=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||A){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,A=!1,g=null,p=null;n&&(m=c&&f.route.id?c[f.route.id]:void 0,g=f.route.errorElement||gie,l&&(u<0&&h===0?(Sie("route-fallback"),A=!0,p=null):u===h&&(A=!0,p=f.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,h+1)),x=()=>{let v;return m?v=g:A?v=p:f.route.Component?v=B.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,B.createElement(bie,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?B.createElement(xie,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}var MF=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(MF||{}),DF=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(DF||{});function yie(e){let t=B.useContext(XT);return t||ds(!1),t}function wie(e){let t=B.useContext(cie);return t||ds(!1),t}function jie(e){let t=B.useContext(Al);return t||ds(!1),t}function IF(e){let t=jie(),n=t.matches[t.matches.length-1];return n.route.id||ds(!1),n.route.id}function Cie(){var e;let t=B.useContext(BF),n=wie(),s=IF();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function Nie(){let{router:e}=yie(MF.UseNavigateStable),t=IF(DF.UseNavigateStable),n=B.useRef(!1);return EF(()=>{n.current=!0}),B.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,hg({fromRouteId:t},a)))},[e,t])}const eB={};function Sie(e,t,n){eB[e]||(eB[e]=!0)}function Tie(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function tB(e){let{to:t,replace:n,state:s,relative:i}=e;Pm()||ds(!1);let{future:a,static:o}=B.useContext(zu),{matches:c}=B.useContext(Al),{pathname:l}=Bs(),u=gr(),d=qT(t,WT(c,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return B.useEffect(()=>u(JSON.parse(f),{replace:n,state:s,relative:i}),[u,f,i,n,s]),null}function OF(e){return fie(e.context)}function ht(e){ds(!1)}function kie(e){let{basename:t="/",children:n=null,location:s,navigationType:i=Yc.Pop,navigator:a,static:o=!1,future:c}=e;Pm()&&ds(!1);let l=t.replace(/^\/*/,"/"),u=B.useMemo(()=>({basename:l,navigator:a,static:o,future:hg({v7_relativeSplatPath:!1},c)}),[l,c,a,o]);typeof s=="string"&&(s=Em(s));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:A="default"}=s,g=B.useMemo(()=>{let p=GT(d,l);return p==null?null:{location:{pathname:p,search:f,hash:h,state:m,key:A},navigationType:i}},[l,d,f,h,m,A,i]);return g==null?null:B.createElement(zu.Provider,{value:u},B.createElement(zw.Provider,{children:n,value:g}))}function _ie(e){let{children:t,location:n}=e;return mie(a4(t),n)}new Promise(()=>{});function a4(e,t){t===void 0&&(t=[]);let n=[];return B.Children.forEach(e,(s,i)=>{if(!B.isValidElement(s))return;let a=[...t,i];if(s.type===B.Fragment){n.push.apply(n,a4(s.props.children,a));return}s.type!==ht&&ds(!1),!s.props.index||!s.props.children||ds(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=a4(s.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function o4(){return o4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o4.apply(this,arguments)}function Bie(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Eie(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Pie(e,t){return e.button===0&&(!t||t==="_self")&&!Eie(e)}function l4(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(i=>[n,i]):[[n,s]])},[]))}function Mie(e,t){let n=l4(e);return t&&t.forEach((s,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}const Die=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Iie="6";try{window.__reactRouterVersion=Iie}catch{}const Oie="startTransition",nB=RA[Oie];function Lie(e){let{basename:t,children:n,future:s,window:i}=e,a=B.useRef();a.current==null&&(a.current=Lse({window:i,v5Compat:!0}));let o=a.current,[c,l]=B.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=B.useCallback(f=>{u&&nB?nB(()=>l(f)):l(f)},[l,u]);return B.useLayoutEffect(()=>o.listen(d),[o,d]),B.useEffect(()=>Tie(s),[s]),B.createElement(kie,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:o,future:s})}const Fie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Rie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ct=B.forwardRef(function(t,n){let{onClick:s,relative:i,reloadDocument:a,replace:o,state:c,target:l,to:u,preventScrollReset:d,viewTransition:f}=t,h=Bie(t,Die),{basename:m}=B.useContext(zu),A,g=!1;if(typeof u=="string"&&Rie.test(u)&&(A=u,Fie))try{let v=new URL(window.location.href),y=u.startsWith("//")?new URL(v.protocol+u):new URL(u),N=GT(y.pathname,m);y.origin===v.origin&&N!=null?u=N+y.search+y.hash:g=!0}catch{}let p=uie(u,{relative:i}),b=Uie(u,{replace:o,state:c,target:l,preventScrollReset:d,relative:i,viewTransition:f});function x(v){s&&s(v),v.defaultPrevented||b(v)}return B.createElement("a",o4({},h,{href:A||p,onClick:g||a?s:x,ref:n,target:l}))});var rB;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(rB||(rB={}));var sB;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(sB||(sB={}));function Uie(e,t){let{target:n,replace:s,state:i,preventScrollReset:a,relative:o,viewTransition:c}=t===void 0?{}:t,l=gr(),u=Bs(),d=PF(e,{relative:o});return B.useCallback(f=>{if(Pie(f,n)){f.preventDefault();let h=s!==void 0?s:Wv(u)===Wv(d);l(e,{replace:h,state:i,preventScrollReset:a,relative:o,viewTransition:c})}},[u,l,d,s,i,n,e,a,o,c])}function Hie(e){let t=B.useRef(l4(e)),n=B.useRef(!1),s=Bs(),i=B.useMemo(()=>Mie(s.search,n.current?null:t.current),[s.search]),a=gr(),o=B.useCallback((c,l)=>{const u=l4(typeof c=="function"?c(i):c);n.current=!0,a("?"+u,l)},[a,i]);return[i,o]}const $ie={mobile:768,tablet:1024,desktop:1280};function wo(e="mobile"){const[t,n]=B.useState(void 0);return B.useEffect(()=>{const s=window.matchMedia(`(max-width: ${$ie[e]-1}px)`),i=()=>{n(s.matches)};return s.addEventListener("change",i),n(s.matches),()=>s.removeEventListener("change",i)},[e]),!!t}function Dm(){return wo("mobile")}const c4=$u("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),fe=B.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...i},a)=>{const o=s?jh:"button";return r.jsx(o,{className:Fe(c4({variant:t,size:n,className:e})),ref:a,...i})});fe.displayName="Button";const ye=B.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:Fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));ye.displayName="Input";var Qie="Separator",iB="horizontal",zie=["horizontal","vertical"],LF=B.forwardRef((e,t)=>{const{decorative:n,orientation:s=iB,...i}=e,a=Vie(s)?s:iB,c=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return r.jsx(Ct.div,{"data-orientation":a,...c,...i,ref:t})});LF.displayName=Qie;function Vie(e){return zie.includes(e)}var FF=LF;const ji=B.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},i)=>r.jsx(FF,{ref:i,decorative:n,orientation:t,className:Fe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));ji.displayName=FF.displayName;var ej="focusScope.autoFocusOnMount",tj="focusScope.autoFocusOnUnmount",aB={bubbles:!1,cancelable:!0},Kie="FocusScope",r0=B.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[c,l]=B.useState(null),u=es(i),d=es(a),f=B.useRef(null),h=dn(t,g=>l(g)),m=B.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;B.useEffect(()=>{if(s){let g=function(v){if(m.paused||!c)return;const y=v.target;c.contains(y)?f.current=y:Mc(f.current,{select:!0})},p=function(v){if(m.paused||!c)return;const y=v.relatedTarget;y!==null&&(c.contains(y)||Mc(f.current,{select:!0}))},b=function(v){if(document.activeElement===document.body)for(const N of v)N.removedNodes.length>0&&Mc(c)};document.addEventListener("focusin",g),document.addEventListener("focusout",p);const x=new MutationObserver(b);return c&&x.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",p),x.disconnect()}}},[s,c,m.paused]),B.useEffect(()=>{if(c){lB.add(m);const g=document.activeElement;if(!c.contains(g)){const b=new CustomEvent(ej,aB);c.addEventListener(ej,u),c.dispatchEvent(b),b.defaultPrevented||(Gie(Zie(RF(c)),{select:!0}),document.activeElement===g&&Mc(c))}return()=>{c.removeEventListener(ej,u),setTimeout(()=>{const b=new CustomEvent(tj,aB);c.addEventListener(tj,d),c.dispatchEvent(b),b.defaultPrevented||Mc(g??document.body,{select:!0}),c.removeEventListener(tj,d),lB.remove(m)},0)}}},[c,u,d,m]);const A=B.useCallback(g=>{if(!n&&!s||m.paused)return;const p=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(p&&b){const x=g.currentTarget,[v,y]=Wie(x);v&&y?!g.shiftKey&&b===y?(g.preventDefault(),n&&Mc(v,{select:!0})):g.shiftKey&&b===v&&(g.preventDefault(),n&&Mc(y,{select:!0})):b===x&&g.preventDefault()}},[n,s,m.paused]);return r.jsx(Ct.div,{tabIndex:-1,...o,ref:h,onKeyDown:A})});r0.displayName=Kie;function Gie(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Mc(s,{select:t}),document.activeElement!==n)return}function Wie(e){const t=RF(e),n=oB(t,e),s=oB(t.reverse(),e);return[n,s]}function RF(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function oB(e,t){for(const n of e)if(!qie(n,{upTo:t}))return n}function qie(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Xie(e){return e instanceof HTMLInputElement&&"select"in e}function Mc(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Xie(e)&&t&&e.select()}}var lB=Yie();function Yie(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=cB(e,t),e.unshift(t)},remove(t){var n;e=cB(e,t),(n=e[0])==null||n.resume()}}}function cB(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function Zie(e){return e.filter(t=>t.tagName!=="A")}var nj=0;function Vw(){B.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??uB()),document.body.insertAdjacentElement("beforeend",e[1]??uB()),nj++,()=>{nj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),nj--}},[])}function uB(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Vo=function(){return Vo=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Vo.apply(this,arguments)};function UF(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function Jie(e,t,n){if(n||arguments.length===2)for(var s=0,i=t.length,a;s<i;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}var Ub="right-scroll-bar-position",Hb="width-before-scroll-bar",eae="with-scroll-bars-hidden",tae="--removed-body-scroll-bar-size";function rj(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function nae(e,t){var n=B.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=t,n.facade}var rae=typeof window<"u"?B.useLayoutEffect:B.useEffect,dB=new WeakMap;function sae(e,t){var n=nae(null,function(s){return e.forEach(function(i){return rj(i,s)})});return rae(function(){var s=dB.get(n);if(s){var i=new Set(s),a=new Set(e),o=n.current;i.forEach(function(c){a.has(c)||rj(c,null)}),a.forEach(function(c){i.has(c)||rj(c,o)})}dB.set(n,e)},[e]),n}function iae(e){return e}function aae(e,t){t===void 0&&(t=iae);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,s);return n.push(o),function(){n=n.filter(function(c){return c!==o})}},assignSyncMedium:function(a){for(s=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(c){return a(c)},filter:function(){return n}}},assignMedium:function(a){s=!0;var o=[];if(n.length){var c=n;n=[],c.forEach(a),o=n}var l=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function oae(e){e===void 0&&(e={});var t=aae(null);return t.options=Vo({async:!0,ssr:!1},e),t}var HF=function(e){var t=e.sideCar,n=UF(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return B.createElement(s,Vo({},n))};HF.isSideCarExport=!0;function lae(e,t){return e.useMedium(t),HF}var $F=oae(),sj=function(){},Kw=B.forwardRef(function(e,t){var n=B.useRef(null),s=B.useState({onScrollCapture:sj,onWheelCapture:sj,onTouchMoveCapture:sj}),i=s[0],a=s[1],o=e.forwardProps,c=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,A=e.noIsolation,g=e.inert,p=e.allowPinchZoom,b=e.as,x=b===void 0?"div":b,v=e.gapMode,y=UF(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,P=sae([n,t]),M=Vo(Vo({},y),i);return B.createElement(B.Fragment,null,d&&B.createElement(N,{sideCar:$F,removeScrollBar:u,shards:f,noRelative:m,noIsolation:A,inert:g,setCallbacks:a,allowPinchZoom:!!p,lockRef:n,gapMode:v}),o?B.cloneElement(B.Children.only(c),Vo(Vo({},M),{ref:P})):B.createElement(x,Vo({},M,{className:l,ref:P}),c))});Kw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Kw.classNames={fullWidth:Hb,zeroRight:Ub};var cae=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function uae(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=cae();return t&&e.setAttribute("nonce",t),e}function dae(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function hae(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var fae=function(){var e=0,t=null;return{add:function(n){e==0&&(t=uae())&&(dae(t,n),hae(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},mae=function(){var e=fae();return function(t,n){B.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},QF=function(){var e=mae(),t=function(n){var s=n.styles,i=n.dynamic;return e(s,i),null};return t},pae={left:0,top:0,right:0,gap:0},ij=function(e){return parseInt(e||"",10)||0},Aae=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[ij(n),ij(s),ij(i)]},gae=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return pae;var t=Aae(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},xae=QF(),_f="data-scroll-locked",bae=function(e,t,n,s){var i=e.left,a=e.top,o=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(eae,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(c,"px ").concat(s,`;
  }
  body[`).concat(_f,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ub,` {
    right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(Hb,` {
    margin-right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(Ub," .").concat(Ub,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Hb," .").concat(Hb,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(_f,`] {
    `).concat(tae,": ").concat(c,`px;
  }
`)},hB=function(){var e=parseInt(document.body.getAttribute(_f)||"0",10);return isFinite(e)?e:0},vae=function(){B.useEffect(function(){return document.body.setAttribute(_f,(hB()+1).toString()),function(){var e=hB()-1;e<=0?document.body.removeAttribute(_f):document.body.setAttribute(_f,e.toString())}},[])},yae=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,i=s===void 0?"margin":s;vae();var a=B.useMemo(function(){return gae(i)},[i]);return B.createElement(xae,{styles:bae(a,!t,i,n?"":"!important")})},u4=!1;if(typeof window<"u")try{var ux=Object.defineProperty({},"passive",{get:function(){return u4=!0,!0}});window.addEventListener("test",ux,ux),window.removeEventListener("test",ux,ux)}catch{u4=!1}var Oh=u4?{passive:!1}:!1,wae=function(e){return e.tagName==="TEXTAREA"},zF=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!wae(e)&&n[t]==="visible")},jae=function(e){return zF(e,"overflowY")},Cae=function(e){return zF(e,"overflowX")},fB=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=VF(e,s);if(i){var a=KF(e,s),o=a[1],c=a[2];if(o>c)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},Nae=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},Sae=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},VF=function(e,t){return e==="v"?jae(t):Cae(t)},KF=function(e,t){return e==="v"?Nae(t):Sae(t)},Tae=function(e,t){return e==="h"&&t==="rtl"?-1:1},kae=function(e,t,n,s,i){var a=Tae(e,window.getComputedStyle(t).direction),o=a*s,c=n.target,l=t.contains(c),u=!1,d=o>0,f=0,h=0;do{if(!c)break;var m=KF(e,c),A=m[0],g=m[1],p=m[2],b=g-p-a*A;(A||b)&&VF(e,c)&&(f+=b,h+=A);var x=c.parentNode;c=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!l&&c!==document.body||l&&(t.contains(c)||t===c));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},dx=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},mB=function(e){return[e.deltaX,e.deltaY]},pB=function(e){return e&&"current"in e?e.current:e},_ae=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Bae=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Eae=0,Lh=[];function Pae(e){var t=B.useRef([]),n=B.useRef([0,0]),s=B.useRef(),i=B.useState(Eae++)[0],a=B.useState(QF)[0],o=B.useRef(e);B.useEffect(function(){o.current=e},[e]),B.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=Jie([e.lockRef.current],(e.shards||[]).map(pB),!0).filter(Boolean);return g.forEach(function(p){return p.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(p){return p.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var c=B.useCallback(function(g,p){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=dx(g),x=n.current,v="deltaX"in g?g.deltaX:x[0]-b[0],y="deltaY"in g?g.deltaY:x[1]-b[1],N,P=g.target,M=Math.abs(v)>Math.abs(y)?"h":"v";if("touches"in g&&M==="h"&&P.type==="range")return!1;var k=fB(M,P);if(!k)return!0;if(k?N=M:(N=M==="v"?"h":"v",k=fB(M,P)),!k)return!1;if(!s.current&&"changedTouches"in g&&(v||y)&&(s.current=N),!N)return!0;var D=s.current||N;return kae(D,p,g,D==="h"?v:y)},[]),l=B.useCallback(function(g){var p=g;if(!(!Lh.length||Lh[Lh.length-1]!==a)){var b="deltaY"in p?mB(p):dx(p),x=t.current.filter(function(N){return N.name===p.type&&(N.target===p.target||p.target===N.shadowParent)&&_ae(N.delta,b)})[0];if(x&&x.should){p.cancelable&&p.preventDefault();return}if(!x){var v=(o.current.shards||[]).map(pB).filter(Boolean).filter(function(N){return N.contains(p.target)}),y=v.length>0?c(p,v[0]):!o.current.noIsolation;y&&p.cancelable&&p.preventDefault()}}},[]),u=B.useCallback(function(g,p,b,x){var v={name:g,delta:p,target:b,should:x,shadowParent:Mae(b)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(y){return y!==v})},1)},[]),d=B.useCallback(function(g){n.current=dx(g),s.current=void 0},[]),f=B.useCallback(function(g){u(g.type,mB(g),g.target,c(g,e.lockRef.current))},[]),h=B.useCallback(function(g){u(g.type,dx(g),g.target,c(g,e.lockRef.current))},[]);B.useEffect(function(){return Lh.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Oh),document.addEventListener("touchmove",l,Oh),document.addEventListener("touchstart",d,Oh),function(){Lh=Lh.filter(function(g){return g!==a}),document.removeEventListener("wheel",l,Oh),document.removeEventListener("touchmove",l,Oh),document.removeEventListener("touchstart",d,Oh)}},[]);var m=e.removeScrollBar,A=e.inert;return B.createElement(B.Fragment,null,A?B.createElement(a,{styles:Bae(i)}):null,m?B.createElement(yae,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Mae(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Dae=lae($F,Pae);var s0=B.forwardRef(function(e,t){return B.createElement(Kw,Vo({},e,{ref:t,sideCar:Dae}))});s0.classNames=Kw.classNames;var Iae=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Fh=new WeakMap,hx=new WeakMap,fx={},aj=0,GF=function(e){return e&&(e.host||GF(e.parentNode))},Oae=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=GF(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Lae=function(e,t,n,s){var i=Oae(t,Array.isArray(e)?e:[e]);fx[n]||(fx[n]=new WeakMap);var a=fx[n],o=[],c=new Set,l=new Set(i),u=function(f){!f||c.has(f)||(c.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(c.has(h))d(h);else try{var m=h.getAttribute(s),A=m!==null&&m!=="false",g=(Fh.get(h)||0)+1,p=(a.get(h)||0)+1;Fh.set(h,g),a.set(h,p),o.push(h),g===1&&A&&hx.set(h,!0),p===1&&h.setAttribute(n,"true"),A||h.setAttribute(s,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),c.clear(),aj++,function(){o.forEach(function(f){var h=Fh.get(f)-1,m=a.get(f)-1;Fh.set(f,h),a.set(f,m),h||(hx.has(f)||f.removeAttribute(s),hx.delete(f)),m||f.removeAttribute(n)}),aj--,aj||(Fh=new WeakMap,Fh=new WeakMap,hx=new WeakMap,fx={})}},Gw=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),i=Iae(e);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),Lae(s,i,n,"aria-hidden")):function(){return null}},Ww="Dialog",[WF,HRe]=qs(Ww),[Fae,No]=WF(Ww),qF=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,c=B.useRef(null),l=B.useRef(null),[u,d]=na({prop:s,defaultProp:i??!1,onChange:a,caller:Ww});return r.jsx(Fae,{scope:t,triggerRef:c,contentRef:l,contentId:Yi(),titleId:Yi(),descriptionId:Yi(),open:u,onOpenChange:d,onOpenToggle:B.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};qF.displayName=Ww;var XF="DialogTrigger",YF=B.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=No(XF,n),a=dn(t,i.triggerRef);return r.jsx(Ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":JT(i.open),...s,ref:a,onClick:et(e.onClick,i.onOpenToggle)})});YF.displayName=XF;var YT="DialogPortal",[Rae,ZF]=WF(YT,{forceMount:void 0}),JF=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:i}=e,a=No(YT,t);return r.jsx(Rae,{scope:t,forceMount:n,children:B.Children.map(s,o=>r.jsx(_s,{present:n||a.open,children:r.jsx(Cm,{asChild:!0,container:i,children:o})}))})};JF.displayName=YT;var qv="DialogOverlay",e9=B.forwardRef((e,t)=>{const n=ZF(qv,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,a=No(qv,e.__scopeDialog);return a.modal?r.jsx(_s,{present:s||a.open,children:r.jsx(Hae,{...i,ref:t})}):null});e9.displayName=qv;var Uae=Tu("DialogOverlay.RemoveScroll"),Hae=B.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=No(qv,n);return r.jsx(s0,{as:Uae,allowPinchZoom:!0,shards:[i.contentRef],children:r.jsx(Ct.div,{"data-state":JT(i.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),th="DialogContent",t9=B.forwardRef((e,t)=>{const n=ZF(th,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,a=No(th,e.__scopeDialog);return r.jsx(_s,{present:s||a.open,children:a.modal?r.jsx($ae,{...i,ref:t}):r.jsx(Qae,{...i,ref:t})})});t9.displayName=th;var $ae=B.forwardRef((e,t)=>{const n=No(th,e.__scopeDialog),s=B.useRef(null),i=dn(t,n.contentRef,s);return B.useEffect(()=>{const a=s.current;if(a)return Gw(a)},[]),r.jsx(n9,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:et(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:et(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&a.preventDefault()}),onFocusOutside:et(e.onFocusOutside,a=>a.preventDefault())})}),Qae=B.forwardRef((e,t)=>{const n=No(th,e.__scopeDialog),s=B.useRef(!1),i=B.useRef(!1);return r.jsx(n9,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,c;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(s.current||(c=n.triggerRef.current)==null||c.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),n9=B.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,c=No(th,n),l=B.useRef(null),u=dn(t,l);return Vw(),r.jsxs(r.Fragment,{children:[r.jsx(r0,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:r.jsx(Hu,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":JT(c.open),...o,ref:u,onDismiss:()=>c.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(zae,{titleId:c.titleId}),r.jsx(Kae,{contentRef:l,descriptionId:c.descriptionId})]})]})}),ZT="DialogTitle",r9=B.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=No(ZT,n);return r.jsx(Ct.h2,{id:i.titleId,...s,ref:t})});r9.displayName=ZT;var s9="DialogDescription",i9=B.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=No(s9,n);return r.jsx(Ct.p,{id:i.descriptionId,...s,ref:t})});i9.displayName=s9;var a9="DialogClose",o9=B.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=No(a9,n);return r.jsx(Ct.button,{type:"button",...s,ref:t,onClick:et(e.onClick,()=>i.onOpenChange(!1))})});o9.displayName=a9;function JT(e){return e?"open":"closed"}var l9="DialogTitleWarning",[$Re,c9]=MY(l9,{contentName:th,titleName:ZT,docsSlug:"dialog"}),zae=({titleId:e})=>{const t=c9(l9),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return B.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Vae="DialogDescriptionWarning",Kae=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${c9(Vae).contentName}}.`;return B.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},nh=qF,u9=YF,rh=JF,oc=e9,lc=t9,i0=r9,a0=i9,qw=o9;const Gae=nh,Wae=rh,d9=B.forwardRef(({className:e,...t},n)=>r.jsx(oc,{className:Fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));d9.displayName=oc.displayName;const qae=$u("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),h9=B.forwardRef(({side:e="right",className:t,children:n,...s},i)=>r.jsxs(Wae,{children:[r.jsx(d9,{}),r.jsxs(lc,{ref:i,className:Fe(qae({side:e}),t),...s,children:[n,r.jsxs(qw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[r.jsx(st,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));h9.displayName=lc.displayName;const Xae=B.forwardRef(({className:e,...t},n)=>r.jsx(i0,{ref:n,className:Fe("text-lg font-semibold text-foreground",e),...t}));Xae.displayName=i0.displayName;const Yae=B.forwardRef(({className:e,...t},n)=>r.jsx(a0,{ref:n,className:Fe("text-sm text-muted-foreground",e),...t}));Yae.displayName=a0.displayName;function Xv({className:e,...t}){return r.jsx("div",{className:Fe("animate-pulse rounded-md bg-muted",e),...t})}const Zae="sidebar:state",Jae=60*60*24*7,eoe="16rem",toe="18rem",noe="3rem",roe="b",f9=B.createContext(null);function Xw(){const e=B.useContext(f9);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const m9=B.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:n,className:s,style:i,children:a,...o},c)=>{const l=Dm(),[u,d]=B.useState(!1),[f,h]=B.useState(e),m=t??f,A=B.useCallback(x=>{const v=typeof x=="function"?x(m):x;n?n(v):h(v),document.cookie=`${Zae}=${v}; path=/; max-age=${Jae}`},[n,m]),g=B.useCallback(()=>l?d(x=>!x):A(x=>!x),[l,A,d]);B.useEffect(()=>{const x=v=>{v.key===roe&&(v.metaKey||v.ctrlKey)&&(v.preventDefault(),g())};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[g]);const p=m?"expanded":"collapsed",b=B.useMemo(()=>({state:p,open:m,setOpen:A,isMobile:l,openMobile:u,setOpenMobile:d,toggleSidebar:g}),[p,m,A,l,u,d,g]);return r.jsx(f9.Provider,{value:b,children:r.jsx(xF,{delayDuration:0,children:r.jsx("div",{style:{"--sidebar-width":eoe,"--sidebar-width-icon":noe,...i},className:Fe("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",s),ref:c,...o,children:a})})})});m9.displayName="SidebarProvider";const soe=B.forwardRef(({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:s,children:i,...a},o)=>{const{isMobile:c,state:l,openMobile:u,setOpenMobile:d}=Xw();return n==="none"?r.jsx("div",{className:Fe("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",s),ref:o,...a,children:i}):c?r.jsx(Gae,{open:u,onOpenChange:d,...a,children:r.jsx(h9,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":toe},side:e,children:r.jsx("div",{className:"flex h-full w-full flex-col",children:i})})}):r.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":l,"data-collapsible":l==="collapsed"?n:"","data-variant":t,"data-side":e,children:[r.jsx("div",{className:Fe("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),r.jsx("div",{className:Fe("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",s),...a,children:r.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i})})]})});soe.displayName="Sidebar";const ioe=B.forwardRef(({className:e,onClick:t,...n},s)=>{const{toggleSidebar:i}=Xw();return r.jsxs(fe,{ref:s,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Fe("h-7 w-7",e),onClick:a=>{t==null||t(a),i()},...n,children:[r.jsx(tee,{}),r.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});ioe.displayName="SidebarTrigger";const aoe=B.forwardRef(({className:e,...t},n)=>{const{toggleSidebar:s}=Xw();return r.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:s,title:"Toggle Sidebar",className:Fe("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});aoe.displayName="SidebarRail";const ooe=B.forwardRef(({className:e,...t},n)=>r.jsx("main",{ref:n,className:Fe("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));ooe.displayName="SidebarInset";const loe=B.forwardRef(({className:e,...t},n)=>r.jsx(ye,{ref:n,"data-sidebar":"input",className:Fe("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));loe.displayName="SidebarInput";const p9=B.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,"data-sidebar":"header",className:Fe("flex flex-col gap-2 p-2",e),...t}));p9.displayName="SidebarHeader";const A9=B.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,"data-sidebar":"footer",className:Fe("flex flex-col gap-2 p-2",e),...t}));A9.displayName="SidebarFooter";const coe=B.forwardRef(({className:e,...t},n)=>r.jsx(ji,{ref:n,"data-sidebar":"separator",className:Fe("mx-2 w-auto bg-sidebar-border",e),...t}));coe.displayName="SidebarSeparator";const uoe=B.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,"data-sidebar":"content",className:Fe("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));uoe.displayName="SidebarContent";const $b=B.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,"data-sidebar":"group",className:Fe("relative flex w-full min-w-0 flex-col p-2",e),...t}));$b.displayName="SidebarGroup";const d4=B.forwardRef(({className:e,asChild:t=!1,...n},s)=>{const i=t?jh:"div";return r.jsx(i,{ref:s,"data-sidebar":"group-label",className:Fe("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})});d4.displayName="SidebarGroupLabel";const doe=B.forwardRef(({className:e,asChild:t=!1,...n},s)=>{const i=t?jh:"button";return r.jsx(i,{ref:s,"data-sidebar":"group-action",className:Fe("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...n})});doe.displayName="SidebarGroupAction";const hoe=B.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,"data-sidebar":"group-content",className:Fe("w-full text-sm",e),...t}));hoe.displayName="SidebarGroupContent";const wA=B.forwardRef(({className:e,...t},n)=>r.jsx("ul",{ref:n,"data-sidebar":"menu",className:Fe("flex w-full min-w-0 flex-col gap-1",e),...t}));wA.displayName="SidebarMenu";const Qb=B.forwardRef(({className:e,...t},n)=>r.jsx("li",{ref:n,"data-sidebar":"menu-item",className:Fe("group/menu-item relative",e),...t}));Qb.displayName="SidebarMenuItem";const foe=$u("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),zb=B.forwardRef(({asChild:e=!1,isActive:t=!1,variant:n="default",size:s="default",tooltip:i,className:a,...o},c)=>{const l=e?jh:"button",{isMobile:u,state:d}=Xw(),f=r.jsx(l,{ref:c,"data-sidebar":"menu-button","data-size":s,"data-active":t,className:Fe(foe({variant:n,size:s}),a),...o});return i?(typeof i=="string"&&(i={children:i}),r.jsxs(Vv,{children:[r.jsx(Kv,{asChild:!0,children:f}),r.jsx(lg,{side:"right",align:"center",hidden:d!=="collapsed"||u,...i})]})):f});zb.displayName="SidebarMenuButton";const moe=B.forwardRef(({className:e,asChild:t=!1,showOnHover:n=!1,...s},i)=>{const a=t?jh:"button";return r.jsx(a,{ref:i,"data-sidebar":"menu-action",className:Fe("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...s})});moe.displayName="SidebarMenuAction";const poe=B.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:Fe("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));poe.displayName="SidebarMenuBadge";const Aoe=B.forwardRef(({className:e,showIcon:t=!1,...n},s)=>{const i=B.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return r.jsxs("div",{ref:s,"data-sidebar":"menu-skeleton",className:Fe("rounded-md h-8 flex gap-2 px-2 items-center",e),...n,children:[t&&r.jsx(Xv,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),r.jsx(Xv,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});Aoe.displayName="SidebarMenuSkeleton";const goe=B.forwardRef(({className:e,...t},n)=>r.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:Fe("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));goe.displayName="SidebarMenuSub";const xoe=B.forwardRef(({...e},t)=>r.jsx("li",{ref:t,...e}));xoe.displayName="SidebarMenuSubItem";const boe=B.forwardRef(({asChild:e=!1,size:t="md",isActive:n,className:s,...i},a)=>{const o=e?jh:"a";return r.jsx(o,{ref:a,"data-sidebar":"menu-sub-button","data-size":t,"data-active":n,className:Fe("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",s),...i})});boe.displayName="SidebarMenuSubButton";const voe=({children:e})=>r.jsx(m9,{children:r.jsx("div",{className:"min-h-screen flex flex-col w-full",children:e})}),yoe=({role:e,collapsed:t,toggleCollapse:n,className:s})=>{const i=wo("mobile"),a=wo("tablet"),o=!t||t&&(i||a);return r.jsx(p9,{className:Fe("p-3 flex items-center",s),children:r.jsxs("div",{className:Fe("flex items-center w-full",t&&!o?"justify-center":"justify-between"),children:[r.jsx(ct,{to:e==="admin"?"/admin":"/staff",className:"flex items-center gap-2",children:o&&r.jsx("div",{className:"flex flex-col h-10 items-center justify-center",children:r.jsx("img",{src:"/logo.gif",alt:"FashionHub",className:"h-32 w-auto max-w-[300px]"})})}),r.jsx(fe,{variant:"ghost",size:"icon",onClick:n,className:"text-gray-500 hover:text-crocus-600 hover:bg-crocus-50",children:t?r.jsx(jr,{size:18}):r.jsx(ss,{size:18})})]})})},woe=({role:e,collapsed:t})=>{const n=wo("mobile"),s=wo("tablet"),i=!t||t&&(n||s);return r.jsx(A9,{className:"mt-auto border-t border-gray-100 pt-2",children:r.jsx(wA,{children:r.jsx("div",{className:Fe("flex",t&&!i?"flex-col items-center gap-2":"items-center justify-between px-3 py-2"),children:t&&!i?r.jsxs(r.Fragment,{children:[r.jsxs(Vv,{children:[r.jsx(Kv,{asChild:!0,children:r.jsx(ct,{to:`/${e}/settings`,className:"p-2 rounded-md hover:bg-purple-50 text-gray-500 hover:text-purple-600",children:r.jsx(TT,{size:18,className:"text-blue-600"})})}),r.jsx(lg,{side:"right",children:"Cài đặt"})]}),r.jsxs(Vv,{children:[r.jsx(Kv,{asChild:!0,children:r.jsx(ct,{to:"/auth/login",className:"p-2 rounded-md hover:bg-purple-50 text-gray-500 hover:text-purple-600",children:r.jsx(sg,{size:18,className:"text-red-600"})})}),r.jsx(lg,{side:"right",children:"Đăng xuất"})]})]}):r.jsx(r.Fragment,{children:r.jsxs(ct,{to:"/auth/login",className:"flex items-center gap-2 text-gray-500 hover:text-purple-600",children:[r.jsx(sg,{size:18,className:"text-red-600"}),r.jsx("span",{className:"text-sm",children:"Đăng xuất"})]})})})})})},oj=({title:e,icon:t,path:n,badge:s,collapsed:i,color:a})=>{const o=Bs(),c=o.pathname===n||o.pathname.startsWith(`${n}/`),l=wo("mobile"),u=wo("tablet"),d=!i||i&&(l||u),f=r.jsxs(ct,{to:n,className:Fe("flex items-center gap-3 px-3 py-2.5 rounded-md cursor-pointer transition-colors",c?"bg-crocus-100 text-crocus-600 font-medium":"text-gray-600 hover:bg-crocus-50 hover:text-crocus-600"),children:[r.jsxs("div",{className:Fe("relative flex items-center justify-center",i&&!d?"w-full":"w-auto"),children:[r.jsx(t,{className:Fe("flex-shrink-0 h-5 w-5",c?"text-crocus-600":a||"text-gray-500")}),s&&i&&!d&&r.jsx("span",{className:"absolute -top-2 -right-2 bg-crocus-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:s})]}),d&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-sm truncate",children:e}),s&&r.jsx("span",{className:"ml-auto bg-crocus-100 text-crocus-600 text-xs rounded-full px-2 py-0.5 flex items-center justify-center",children:s})]})]});return i&&!l&&!u?r.jsxs(Vv,{children:[r.jsx(Kv,{asChild:!0,children:r.jsx("div",{className:"relative",children:f})}),r.jsx(lg,{side:"right",className:"z-50 bg-white border border-gray-100 shadow-md",children:e})]}):f},joe=[{title:"Thống kê",icon:fL,path:"/admin/statistics",color:"text-blue-600"},{title:"Đơn hàng",icon:Rs,path:"/admin/orders",color:"text-orange-600"},{title:"Mua offline",icon:Yd,path:"/admin/buy",color:"text-red-600"},{title:"Sản phẩm",icon:hr,path:"/admin/products",color:"text-green-600"},{title:"Combo",icon:vL,path:"/admin/combos",color:"text-teal-600"},{title:"Thương hiệu",icon:Vr,path:"/admin/thuonghieu",color:"text-indigo-600"},{title:"Khuyến Mại",icon:SL,path:"/admin/events",color:"text-gray-600"},{title:"Loại sản phẩm",icon:Fv,path:"/admin/loaisanpham",color:"text-teal-600"},{title:"HashTag",icon:AL,path:"/admin/hashtag",color:"text-teal-600"},{title:"Tài khoản",icon:ET,path:"/admin/users",color:"text-red-600"},{title:"Bình luận",icon:ql,path:"/admin/inventory",color:"text-cyan-600"},{title:"Voucher",icon:Vr,path:"/admin/invoices",color:"text-gray-600"},{title:"Blog",icon:Rv,path:"/admin/blog",color:"text-blue-600"},{title:"Hỗ trợ",icon:Jd,path:"/admin/messages",color:"text-blue-600"},{title:"Liên hệ",icon:mL,path:"/admin/contact",color:"text-blue-600"},{title:"Cài đặt",icon:TT,path:"/admin/settings",color:"text-gray-600"}],Coe=[{title:"Đơn hàng",icon:Rs,path:"/staff/orders",color:"text-orange-600"},{title:"Mua offline",icon:Yd,path:"/staff/buy",color:"text-red-600"},{title:"Sản phẩm",icon:hr,path:"/staff/products",color:"text-green-600"},{title:"Combo",icon:vL,path:"/staff/combos",color:"text-teal-600"},{title:"Khuyến Mại",icon:SL,path:"/staff/events",color:"text-gray-600"},{title:"Thương hiệu",icon:Vr,path:"/staff/thuonghieu",color:"text-indigo-600"},{title:"Loại sản phẩm",icon:Fv,path:"/staff/loaisanpham",color:"text-teal-600"},{title:"HashTag",icon:AL,path:"/staff/hashtag",color:"text-teal-600"},{title:"Bình luận",icon:ql,path:"/staff/inventory",color:"text-cyan-600"},{title:"Voucher",icon:Vr,path:"/staff/invoices",color:"text-gray-600"},{title:"Blog",icon:Rv,path:"/staff/blog",color:"text-blue-600"},{title:"Hỗ trợ",icon:Jd,path:"/staff/messages",color:"text-blue-600"},{title:"Liên hệ",icon:mL,path:"/staff/contact",color:"text-blue-600"}],Noe=[],Soe=[],Toe=({role:e})=>{const[t,n]=B.useState(!1),s=()=>{n(!t)},i=e==="staff"?Coe:joe,a=e==="admin"?Noe:[],o=e==="admin"?Soe:[];return r.jsxs("aside",{className:Fe("h-screen bg-white sticky top-0 left-0 z-30 flex flex-col border-r border-gray-200 transition-all duration-300 ease-in-out",t?"w-[70px]":"w-[240px]"),children:[r.jsx(yoe,{role:e,collapsed:t,toggleCollapse:s,className:"p-3 flex items-center border-b border-gray-200"}),r.jsxs("nav",{className:"flex-1 py-4 px-2 space-y-1 overflow-y-auto",children:[r.jsx($b,{className:Fe("mt-4",t?"px-1":"px-2"),children:r.jsx(wA,{children:i.map(c=>r.jsx(Qb,{className:Fe(t?"px-0 w-full flex justify-center":""),children:r.jsx(zb,{asChild:!0,tooltip:t?c.title:void 0,className:Fe("my-1 transition-all rounded-md",t?"w-full":""),children:r.jsx(oj,{title:c.title,icon:c.icon,path:c.path,badge:c.badge,collapsed:t,color:c.color})})},c.path))})}),a.length>0&&r.jsxs($b,{className:Fe("mt-4",t?"px-1":"px-2"),children:[!t&&r.jsx(d4,{className:"text-gray-500 font-medium px-3 py-2 text-xs uppercase",children:"Quản lý"}),r.jsx(wA,{children:a.map(c=>r.jsx(Qb,{className:Fe(t?"px-0 w-full flex justify-center":""),children:r.jsx(zb,{asChild:!0,tooltip:t?c.title:void 0,className:Fe("my-1 transition-all rounded-md",t?"w-full":""),children:r.jsx(oj,{title:c.title,icon:c.icon,path:c.path,badge:c.badge,collapsed:t,color:c.color})})},c.path))})]}),o.length>0&&r.jsxs($b,{className:Fe("mt-4",t?"px-1":"px-2"),children:[!t&&r.jsx(d4,{className:"text-gray-500 font-medium px-3 py-2 text-xs uppercase",children:"Hỗ trợ"}),r.jsx(wA,{children:o.map(c=>r.jsx(Qb,{className:Fe(t?"px-0 w-full flex justify-center":""),children:r.jsx(zb,{asChild:!0,tooltip:t?c.title:void 0,className:Fe("my-1 transition-all rounded-md",t?"w-full":""),children:r.jsx(oj,{title:c.title,icon:c.icon,path:c.path,badge:c.badge,collapsed:t,color:c.color})})},c.path))})]})]}),r.jsx(woe,{role:e,collapsed:t})]})};var koe=B.createContext(void 0);function Nh(e){const t=B.useContext(koe);return e||t||"ltr"}var lj="rovingFocusGroup.onEntryFocus",_oe={bubbles:!1,cancelable:!0},o0="RovingFocusGroup",[h4,g9,Boe]=Ch(o0),[Eoe,Im]=qs(o0,[Boe]),[Poe,Moe]=Eoe(o0),x9=B.forwardRef((e,t)=>r.jsx(h4.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(h4.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Doe,{...e,ref:t})})}));x9.displayName=o0;var Doe=B.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=B.useRef(null),m=dn(t,h),A=Nh(a),[g,p]=na({prop:o,defaultProp:c??null,onChange:l,caller:o0}),[b,x]=B.useState(!1),v=es(u),y=g9(n),N=B.useRef(!1),[P,M]=B.useState(0);return B.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(lj,v),()=>k.removeEventListener(lj,v)},[v]),r.jsx(Poe,{scope:n,orientation:s,dir:A,loop:i,currentTabStopId:g,onItemFocus:B.useCallback(k=>p(k),[p]),onItemShiftTab:B.useCallback(()=>x(!0),[]),onFocusableItemAdd:B.useCallback(()=>M(k=>k+1),[]),onFocusableItemRemove:B.useCallback(()=>M(k=>k-1),[]),children:r.jsx(Ct.div,{tabIndex:b||P===0?-1:0,"data-orientation":s,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:et(e.onMouseDown,()=>{N.current=!0}),onFocus:et(e.onFocus,k=>{const D=!N.current;if(k.target===k.currentTarget&&D&&!b){const O=new CustomEvent(lj,_oe);if(k.currentTarget.dispatchEvent(O),!O.defaultPrevented){const L=y().filter(w=>w.focusable),F=L.find(w=>w.active),_=L.find(w=>w.id===g),T=[F,_,...L].filter(Boolean).map(w=>w.ref.current);y9(T,d)}}N.current=!1}),onBlur:et(e.onBlur,()=>x(!1))})})}),b9="RovingFocusGroupItem",v9=B.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:a,children:o,...c}=e,l=Yi(),u=a||l,d=Moe(b9,n),f=d.currentTabStopId===u,h=g9(n),{onFocusableItemAdd:m,onFocusableItemRemove:A,currentTabStopId:g}=d;return B.useEffect(()=>{if(s)return m(),()=>A()},[s,m,A]),r.jsx(h4.ItemSlot,{scope:n,id:u,focusable:s,active:i,children:r.jsx(Ct.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...c,ref:t,onMouseDown:et(e.onMouseDown,p=>{s?d.onItemFocus(u):p.preventDefault()}),onFocus:et(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:et(e.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){d.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const b=Loe(p,d.orientation,d.dir);if(b!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let v=h().filter(y=>y.focusable).map(y=>y.ref.current);if(b==="last")v.reverse();else if(b==="prev"||b==="next"){b==="prev"&&v.reverse();const y=v.indexOf(p.currentTarget);v=d.loop?Foe(v,y+1):v.slice(y+1)}setTimeout(()=>y9(v))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});v9.displayName=b9;var Ioe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ooe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Loe(e,t,n){const s=Ooe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return Ioe[s]}function y9(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function Foe(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var e5=x9,t5=v9,f4=["Enter"," "],Roe=["ArrowDown","PageUp","Home"],w9=["ArrowUp","PageDown","End"],Uoe=[...Roe,...w9],Hoe={ltr:[...f4,"ArrowRight"],rtl:[...f4,"ArrowLeft"]},$oe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},l0="Menu",[fg,Qoe,zoe]=Ch(l0),[Sh,j9]=qs(l0,[zoe,Qu,Im]),Yw=Qu(),C9=Im(),[Voe,Th]=Sh(l0),[Koe,c0]=Sh(l0),N9=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:i,onOpenChange:a,modal:o=!0}=e,c=Yw(t),[l,u]=B.useState(null),d=B.useRef(!1),f=es(a),h=Nh(i);return B.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",A,{capture:!0,once:!0}),document.addEventListener("pointermove",A,{capture:!0,once:!0})},A=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",A,{capture:!0}),document.removeEventListener("pointermove",A,{capture:!0})}},[]),r.jsx(Ow,{...c,children:r.jsx(Voe,{scope:t,open:n,onOpenChange:f,content:l,onContentChange:u,children:r.jsx(Koe,{scope:t,onClose:B.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:s})})})};N9.displayName=l0;var Goe="MenuAnchor",n5=B.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,i=Yw(n);return r.jsx(n0,{...i,...s,ref:t})});n5.displayName=Goe;var r5="MenuPortal",[Woe,S9]=Sh(r5,{forceMount:void 0}),T9=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:i}=e,a=Th(r5,t);return r.jsx(Woe,{scope:t,forceMount:n,children:r.jsx(_s,{present:n||a.open,children:r.jsx(Cm,{asChild:!0,container:i,children:s})})})};T9.displayName=r5;var Ua="MenuContent",[qoe,s5]=Sh(Ua),k9=B.forwardRef((e,t)=>{const n=S9(Ua,e.__scopeMenu),{forceMount:s=n.forceMount,...i}=e,a=Th(Ua,e.__scopeMenu),o=c0(Ua,e.__scopeMenu);return r.jsx(fg.Provider,{scope:e.__scopeMenu,children:r.jsx(_s,{present:s||a.open,children:r.jsx(fg.Slot,{scope:e.__scopeMenu,children:o.modal?r.jsx(Xoe,{...i,ref:t}):r.jsx(Yoe,{...i,ref:t})})})})}),Xoe=B.forwardRef((e,t)=>{const n=Th(Ua,e.__scopeMenu),s=B.useRef(null),i=dn(t,s);return B.useEffect(()=>{const a=s.current;if(a)return Gw(a)},[]),r.jsx(i5,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:et(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Yoe=B.forwardRef((e,t)=>{const n=Th(Ua,e.__scopeMenu);return r.jsx(i5,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Zoe=Tu("MenuContent.ScrollLock"),i5=B.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:A,...g}=e,p=Th(Ua,n),b=c0(Ua,n),x=Yw(n),v=C9(n),y=Qoe(n),[N,P]=B.useState(null),M=B.useRef(null),k=dn(t,M,p.onContentChange),D=B.useRef(0),O=B.useRef(""),L=B.useRef(0),F=B.useRef(null),_=B.useRef("right"),E=B.useRef(0),T=A?s0:B.Fragment,w=A?{as:Zoe,allowPinchZoom:!0}:void 0,C=S=>{var W,H;const I=O.current+S,R=y().filter(Q=>!Q.disabled),U=document.activeElement,z=(W=R.find(Q=>Q.ref.current===U))==null?void 0:W.textValue,V=R.map(Q=>Q.textValue),X=ule(V,I,z),$=(H=R.find(Q=>Q.textValue===X))==null?void 0:H.ref.current;(function Q(G){O.current=G,window.clearTimeout(D.current),G!==""&&(D.current=window.setTimeout(()=>Q(""),1e3))})(I),$&&setTimeout(()=>$.focus())};B.useEffect(()=>()=>window.clearTimeout(D.current),[]),Vw();const j=B.useCallback(S=>{var R,U;return _.current===((R=F.current)==null?void 0:R.side)&&hle(S,(U=F.current)==null?void 0:U.area)},[]);return r.jsx(qoe,{scope:n,searchRef:O,onItemEnter:B.useCallback(S=>{j(S)&&S.preventDefault()},[j]),onItemLeave:B.useCallback(S=>{var I;j(S)||((I=M.current)==null||I.focus(),P(null))},[j]),onTriggerLeave:B.useCallback(S=>{j(S)&&S.preventDefault()},[j]),pointerGraceTimerRef:L,onPointerGraceIntentChange:B.useCallback(S=>{F.current=S},[]),children:r.jsx(T,{...w,children:r.jsx(r0,{asChild:!0,trapped:i,onMountAutoFocus:et(a,S=>{var I;S.preventDefault(),(I=M.current)==null||I.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:r.jsx(Hu,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:r.jsx(e5,{asChild:!0,...v,dir:b.dir,orientation:"vertical",loop:s,currentTabStopId:N,onCurrentTabStopIdChange:P,onEntryFocus:et(l,S=>{b.isUsingKeyboardRef.current||S.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(Lw,{role:"menu","aria-orientation":"vertical","data-state":z9(p.open),"data-radix-menu-content":"",dir:b.dir,...x,...g,ref:k,style:{outline:"none",...g.style},onKeyDown:et(g.onKeyDown,S=>{const R=S.target.closest("[data-radix-menu-content]")===S.currentTarget,U=S.ctrlKey||S.altKey||S.metaKey,z=S.key.length===1;R&&(S.key==="Tab"&&S.preventDefault(),!U&&z&&C(S.key));const V=M.current;if(S.target!==V||!Uoe.includes(S.key))return;S.preventDefault();const $=y().filter(W=>!W.disabled).map(W=>W.ref.current);w9.includes(S.key)&&$.reverse(),lle($)}),onBlur:et(e.onBlur,S=>{S.currentTarget.contains(S.target)||(window.clearTimeout(D.current),O.current="")}),onPointerMove:et(e.onPointerMove,mg(S=>{const I=S.target,R=E.current!==S.clientX;if(S.currentTarget.contains(I)&&R){const U=S.clientX>E.current?"right":"left";_.current=U,E.current=S.clientX}}))})})})})})})});k9.displayName=Ua;var Joe="MenuGroup",a5=B.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(Ct.div,{role:"group",...s,ref:t})});a5.displayName=Joe;var ele="MenuLabel",_9=B.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(Ct.div,{...s,ref:t})});_9.displayName=ele;var Yv="MenuItem",AB="menu.itemSelect",Zw=B.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...i}=e,a=B.useRef(null),o=c0(Yv,e.__scopeMenu),c=s5(Yv,e.__scopeMenu),l=dn(t,a),u=B.useRef(!1),d=()=>{const f=a.current;if(!n&&f){const h=new CustomEvent(AB,{bubbles:!0,cancelable:!0});f.addEventListener(AB,m=>s==null?void 0:s(m),{once:!0}),rg(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return r.jsx(B9,{...i,ref:l,disabled:n,onClick:et(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:et(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:et(e.onKeyDown,f=>{const h=c.searchRef.current!=="";n||h&&f.key===" "||f4.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Zw.displayName=Yv;var B9=B.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:i,...a}=e,o=s5(Yv,n),c=C9(n),l=B.useRef(null),u=dn(t,l),[d,f]=B.useState(!1),[h,m]=B.useState("");return B.useEffect(()=>{const A=l.current;A&&m((A.textContent??"").trim())},[a.children]),r.jsx(fg.ItemSlot,{scope:n,disabled:s,textValue:i??h,children:r.jsx(t5,{asChild:!0,...c,focusable:!s,children:r.jsx(Ct.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...a,ref:u,onPointerMove:et(e.onPointerMove,mg(A=>{s?o.onItemLeave(A):(o.onItemEnter(A),A.defaultPrevented||A.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:et(e.onPointerLeave,mg(A=>o.onItemLeave(A))),onFocus:et(e.onFocus,()=>f(!0)),onBlur:et(e.onBlur,()=>f(!1))})})})}),tle="MenuCheckboxItem",E9=B.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...i}=e;return r.jsx(O9,{scope:e.__scopeMenu,checked:n,children:r.jsx(Zw,{role:"menuitemcheckbox","aria-checked":Zv(n)?"mixed":n,...i,ref:t,"data-state":l5(n),onSelect:et(i.onSelect,()=>s==null?void 0:s(Zv(n)?!0:!n),{checkForDefaultPrevented:!1})})})});E9.displayName=tle;var P9="MenuRadioGroup",[nle,rle]=Sh(P9,{value:void 0,onValueChange:()=>{}}),M9=B.forwardRef((e,t)=>{const{value:n,onValueChange:s,...i}=e,a=es(s);return r.jsx(nle,{scope:e.__scopeMenu,value:n,onValueChange:a,children:r.jsx(a5,{...i,ref:t})})});M9.displayName=P9;var D9="MenuRadioItem",I9=B.forwardRef((e,t)=>{const{value:n,...s}=e,i=rle(D9,e.__scopeMenu),a=n===i.value;return r.jsx(O9,{scope:e.__scopeMenu,checked:a,children:r.jsx(Zw,{role:"menuitemradio","aria-checked":a,...s,ref:t,"data-state":l5(a),onSelect:et(s.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});I9.displayName=D9;var o5="MenuItemIndicator",[O9,sle]=Sh(o5,{checked:!1}),L9=B.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...i}=e,a=sle(o5,n);return r.jsx(_s,{present:s||Zv(a.checked)||a.checked===!0,children:r.jsx(Ct.span,{...i,ref:t,"data-state":l5(a.checked)})})});L9.displayName=o5;var ile="MenuSeparator",F9=B.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(Ct.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});F9.displayName=ile;var ale="MenuArrow",R9=B.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,i=Yw(n);return r.jsx(Fw,{...i,...s,ref:t})});R9.displayName=ale;var ole="MenuSub",[QRe,U9]=Sh(ole),Gp="MenuSubTrigger",H9=B.forwardRef((e,t)=>{const n=Th(Gp,e.__scopeMenu),s=c0(Gp,e.__scopeMenu),i=U9(Gp,e.__scopeMenu),a=s5(Gp,e.__scopeMenu),o=B.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:l}=a,u={__scopeMenu:e.__scopeMenu},d=B.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return B.useEffect(()=>d,[d]),B.useEffect(()=>{const f=c.current;return()=>{window.clearTimeout(f),l(null)}},[c,l]),r.jsx(n5,{asChild:!0,...u,children:r.jsx(B9,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":z9(n.open),...e,ref:Yg(t,i.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:et(e.onPointerMove,mg(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:et(e.onPointerLeave,mg(f=>{var m,A;d();const h=(m=n.content)==null?void 0:m.getBoundingClientRect();if(h){const g=(A=n.content)==null?void 0:A.dataset.side,p=g==="right",b=p?-5:5,x=h[p?"left":"right"],v=h[p?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x,y:h.top},{x:v,y:h.top},{x:v,y:h.bottom},{x,y:h.bottom}],side:g}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:et(e.onKeyDown,f=>{var m;const h=a.searchRef.current!=="";e.disabled||h&&f.key===" "||Hoe[s.dir].includes(f.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),f.preventDefault())})})})});H9.displayName=Gp;var $9="MenuSubContent",Q9=B.forwardRef((e,t)=>{const n=S9(Ua,e.__scopeMenu),{forceMount:s=n.forceMount,...i}=e,a=Th(Ua,e.__scopeMenu),o=c0(Ua,e.__scopeMenu),c=U9($9,e.__scopeMenu),l=B.useRef(null),u=dn(t,l);return r.jsx(fg.Provider,{scope:e.__scopeMenu,children:r.jsx(_s,{present:s||a.open,children:r.jsx(fg.Slot,{scope:e.__scopeMenu,children:r.jsx(i5,{id:c.contentId,"aria-labelledby":c.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:et(e.onFocusOutside,d=>{d.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:et(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:et(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=$oe[o.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(m=c.trigger)==null||m.focus(),d.preventDefault())})})})})})});Q9.displayName=$9;function z9(e){return e?"open":"closed"}function Zv(e){return e==="indeterminate"}function l5(e){return Zv(e)?"indeterminate":e?"checked":"unchecked"}function lle(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function cle(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function ule(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=cle(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function dle(e,t){const{x:n,y:s}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const c=t[a],l=t[o],u=c.x,d=c.y,f=l.x,h=l.y;d>s!=h>s&&n<(f-u)*(s-d)/(h-d)+u&&(i=!i)}return i}function hle(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return dle(n,t)}function mg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var fle=N9,mle=n5,ple=T9,Ale=k9,gle=a5,xle=_9,ble=Zw,vle=E9,yle=M9,wle=I9,jle=L9,Cle=F9,Nle=R9,Sle=H9,Tle=Q9,Jw="DropdownMenu",[kle,zRe]=qs(Jw,[j9]),Ei=j9(),[_le,V9]=kle(Jw),K9=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:i,defaultOpen:a,onOpenChange:o,modal:c=!0}=e,l=Ei(t),u=B.useRef(null),[d,f]=na({prop:i,defaultProp:a??!1,onChange:o,caller:Jw});return r.jsx(_le,{scope:t,triggerId:Yi(),triggerRef:u,contentId:Yi(),open:d,onOpenChange:f,onOpenToggle:B.useCallback(()=>f(h=>!h),[f]),modal:c,children:r.jsx(fle,{...l,open:d,onOpenChange:f,dir:s,modal:c,children:n})})};K9.displayName=Jw;var G9="DropdownMenuTrigger",W9=B.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...i}=e,a=V9(G9,n),o=Ei(n);return r.jsx(mle,{asChild:!0,...o,children:r.jsx(Ct.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...i,ref:Yg(t,a.triggerRef),onPointerDown:et(e.onPointerDown,c=>{!s&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:et(e.onKeyDown,c=>{s||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});W9.displayName=G9;var Ble="DropdownMenuPortal",q9=e=>{const{__scopeDropdownMenu:t,...n}=e,s=Ei(t);return r.jsx(ple,{...s,...n})};q9.displayName=Ble;var X9="DropdownMenuContent",Y9=B.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=V9(X9,n),a=Ei(n),o=B.useRef(!1);return r.jsx(Ale,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...s,ref:t,onCloseAutoFocus:et(e.onCloseAutoFocus,c=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:et(e.onInteractOutside,c=>{const l=c.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Y9.displayName=X9;var Ele="DropdownMenuGroup",Ple=B.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Ei(n);return r.jsx(gle,{...i,...s,ref:t})});Ple.displayName=Ele;var Mle="DropdownMenuLabel",Z9=B.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Ei(n);return r.jsx(xle,{...i,...s,ref:t})});Z9.displayName=Mle;var Dle="DropdownMenuItem",J9=B.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Ei(n);return r.jsx(ble,{...i,...s,ref:t})});J9.displayName=Dle;var Ile="DropdownMenuCheckboxItem",eR=B.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Ei(n);return r.jsx(vle,{...i,...s,ref:t})});eR.displayName=Ile;var Ole="DropdownMenuRadioGroup",Lle=B.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Ei(n);return r.jsx(yle,{...i,...s,ref:t})});Lle.displayName=Ole;var Fle="DropdownMenuRadioItem",tR=B.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Ei(n);return r.jsx(wle,{...i,...s,ref:t})});tR.displayName=Fle;var Rle="DropdownMenuItemIndicator",nR=B.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Ei(n);return r.jsx(jle,{...i,...s,ref:t})});nR.displayName=Rle;var Ule="DropdownMenuSeparator",rR=B.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Ei(n);return r.jsx(Cle,{...i,...s,ref:t})});rR.displayName=Ule;var Hle="DropdownMenuArrow",$le=B.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Ei(n);return r.jsx(Nle,{...i,...s,ref:t})});$le.displayName=Hle;var Qle="DropdownMenuSubTrigger",sR=B.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Ei(n);return r.jsx(Sle,{...i,...s,ref:t})});sR.displayName=Qle;var zle="DropdownMenuSubContent",iR=B.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Ei(n);return r.jsx(Tle,{...i,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});iR.displayName=zle;var Vle=K9,Kle=W9,Gle=q9,aR=Y9,oR=Z9,lR=J9,cR=eR,uR=tR,dR=nR,hR=rR,fR=sR,mR=iR;const yr=Vle,wr=Kle,Wle=B.forwardRef(({className:e,inset:t,children:n,...s},i)=>r.jsxs(fR,{ref:i,className:Fe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[n,r.jsx(jr,{className:"ml-auto h-4 w-4"})]}));Wle.displayName=fR.displayName;const qle=B.forwardRef(({className:e,...t},n)=>r.jsx(mR,{ref:n,className:Fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));qle.displayName=mR.displayName;const Ar=B.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(Gle,{children:r.jsx(aR,{ref:s,sideOffset:t,className:Fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Ar.displayName=aR.displayName;const ut=B.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(lR,{ref:s,className:Fe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));ut.displayName=lR.displayName;const Xle=B.forwardRef(({className:e,children:t,checked:n,...s},i)=>r.jsxs(cR,{ref:i,className:Fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(dR,{children:r.jsx(Sm,{className:"h-4 w-4"})})}),t]}));Xle.displayName=cR.displayName;const Yle=B.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(uR,{ref:s,className:Fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(dR,{children:r.jsx(pL,{className:"h-2 w-2 fill-current"})})}),t]}));Yle.displayName=uR.displayName;const pR=B.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(oR,{ref:s,className:Fe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));pR.displayName=oR.displayName;const m4=B.forwardRef(({className:e,...t},n)=>r.jsx(hR,{ref:n,className:Fe("-mx-1 my-1 h-px bg-muted",e),...t}));m4.displayName=hR.displayName;function AR(e,t){return function(){return e.apply(t,arguments)}}const{toString:Zle}=Object.prototype,{getPrototypeOf:c5}=Object,{iterator:e1,toStringTag:gR}=Symbol,t1=(e=>t=>{const n=Zle.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),So=e=>(e=e.toLowerCase(),t=>t1(t)===e),n1=e=>t=>typeof t===e,{isArray:Om}=Array,pg=n1("undefined");function u0(e){return e!==null&&!pg(e)&&e.constructor!==null&&!pg(e.constructor)&&Zi(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const xR=So("ArrayBuffer");function Jle(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&xR(e.buffer),t}const ece=n1("string"),Zi=n1("function"),bR=n1("number"),d0=e=>e!==null&&typeof e=="object",tce=e=>e===!0||e===!1,Vb=e=>{if(t1(e)!=="object")return!1;const t=c5(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(gR in e)&&!(e1 in e)},nce=e=>{if(!d0(e)||u0(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},rce=So("Date"),sce=So("File"),ice=So("Blob"),ace=So("FileList"),oce=e=>d0(e)&&Zi(e.pipe),lce=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Zi(e.append)&&((t=t1(e))==="formdata"||t==="object"&&Zi(e.toString)&&e.toString()==="[object FormData]"))},cce=So("URLSearchParams"),[uce,dce,hce,fce]=["ReadableStream","Request","Response","Headers"].map(So),mce=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function h0(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,i;if(typeof e!="object"&&(e=[e]),Om(e))for(s=0,i=e.length;s<i;s++)t.call(null,e[s],s,e);else{if(u0(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let c;for(s=0;s<o;s++)c=a[s],t.call(null,e[c],c,e)}}function vR(e,t){if(u0(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,i;for(;s-- >0;)if(i=n[s],t===i.toLowerCase())return i;return null}const Cd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,yR=e=>!pg(e)&&e!==Cd;function p4(){const{caseless:e}=yR(this)&&this||{},t={},n=(s,i)=>{const a=e&&vR(t,i)||i;Vb(t[a])&&Vb(s)?t[a]=p4(t[a],s):Vb(s)?t[a]=p4({},s):Om(s)?t[a]=s.slice():t[a]=s};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&h0(arguments[s],n);return t}const pce=(e,t,n,{allOwnKeys:s}={})=>(h0(t,(i,a)=>{n&&Zi(i)?e[a]=AR(i,n):e[a]=i},{allOwnKeys:s}),e),Ace=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),gce=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},xce=(e,t,n,s)=>{let i,a,o;const c={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!s||s(o,e,t))&&!c[o]&&(t[o]=e[o],c[o]=!0);e=n!==!1&&c5(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},bce=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},vce=e=>{if(!e)return null;if(Om(e))return e;let t=e.length;if(!bR(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},yce=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&c5(Uint8Array)),wce=(e,t)=>{const s=(e&&e[e1]).call(e);let i;for(;(i=s.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},jce=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},Cce=So("HTMLFormElement"),Nce=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,i){return s.toUpperCase()+i}),gB=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Sce=So("RegExp"),wR=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};h0(n,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(s[a]=o||i)}),Object.defineProperties(e,s)},Tce=e=>{wR(e,(t,n)=>{if(Zi(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(Zi(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},kce=(e,t)=>{const n={},s=i=>{i.forEach(a=>{n[a]=!0})};return Om(e)?s(e):s(String(e).split(t)),n},_ce=()=>{},Bce=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Ece(e){return!!(e&&Zi(e.append)&&e[gR]==="FormData"&&e[e1])}const Pce=e=>{const t=new Array(10),n=(s,i)=>{if(d0(s)){if(t.indexOf(s)>=0)return;if(u0(s))return s;if(!("toJSON"in s)){t[i]=s;const a=Om(s)?[]:{};return h0(s,(o,c)=>{const l=n(o,i+1);!pg(l)&&(a[c]=l)}),t[i]=void 0,a}}return s};return n(e,0)},Mce=So("AsyncFunction"),Dce=e=>e&&(d0(e)||Zi(e))&&Zi(e.then)&&Zi(e.catch),jR=((e,t)=>e?setImmediate:t?((n,s)=>(Cd.addEventListener("message",({source:i,data:a})=>{i===Cd&&a===n&&s.length&&s.shift()()},!1),i=>{s.push(i),Cd.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Zi(Cd.postMessage)),Ice=typeof queueMicrotask<"u"?queueMicrotask.bind(Cd):typeof process<"u"&&process.nextTick||jR,Oce=e=>e!=null&&Zi(e[e1]),Ke={isArray:Om,isArrayBuffer:xR,isBuffer:u0,isFormData:lce,isArrayBufferView:Jle,isString:ece,isNumber:bR,isBoolean:tce,isObject:d0,isPlainObject:Vb,isEmptyObject:nce,isReadableStream:uce,isRequest:dce,isResponse:hce,isHeaders:fce,isUndefined:pg,isDate:rce,isFile:sce,isBlob:ice,isRegExp:Sce,isFunction:Zi,isStream:oce,isURLSearchParams:cce,isTypedArray:yce,isFileList:ace,forEach:h0,merge:p4,extend:pce,trim:mce,stripBOM:Ace,inherits:gce,toFlatObject:xce,kindOf:t1,kindOfTest:So,endsWith:bce,toArray:vce,forEachEntry:wce,matchAll:jce,isHTMLForm:Cce,hasOwnProperty:gB,hasOwnProp:gB,reduceDescriptors:wR,freezeMethods:Tce,toObjectSet:kce,toCamelCase:Nce,noop:_ce,toFiniteNumber:Bce,findKey:vR,global:Cd,isContextDefined:yR,isSpecCompliantForm:Ece,toJSONObject:Pce,isAsyncFn:Mce,isThenable:Dce,setImmediate:jR,asap:Ice,isIterable:Oce};function Nn(e,t,n,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}Ke.inherits(Nn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ke.toJSONObject(this.config),code:this.code,status:this.status}}});const CR=Nn.prototype,NR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{NR[e]={value:e}});Object.defineProperties(Nn,NR);Object.defineProperty(CR,"isAxiosError",{value:!0});Nn.from=(e,t,n,s,i,a)=>{const o=Object.create(CR);return Ke.toFlatObject(e,o,function(l){return l!==Error.prototype},c=>c!=="isAxiosError"),Nn.call(o,e.message,t,n,s,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};const Lce=null;function A4(e){return Ke.isPlainObject(e)||Ke.isArray(e)}function SR(e){return Ke.endsWith(e,"[]")?e.slice(0,-2):e}function xB(e,t,n){return e?e.concat(t).map(function(i,a){return i=SR(i),!n&&a?"["+i+"]":i}).join(n?".":""):t}function Fce(e){return Ke.isArray(e)&&!e.some(A4)}const Rce=Ke.toFlatObject(Ke,{},null,function(t){return/^is[A-Z]/.test(t)});function r1(e,t,n){if(!Ke.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Ke.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,p){return!Ke.isUndefined(p[g])});const s=n.metaTokens,i=n.visitor||d,a=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Ke.isSpecCompliantForm(t);if(!Ke.isFunction(i))throw new TypeError("visitor must be a function");function u(A){if(A===null)return"";if(Ke.isDate(A))return A.toISOString();if(Ke.isBoolean(A))return A.toString();if(!l&&Ke.isBlob(A))throw new Nn("Blob is not supported. Use a Buffer instead.");return Ke.isArrayBuffer(A)||Ke.isTypedArray(A)?l&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function d(A,g,p){let b=A;if(A&&!p&&typeof A=="object"){if(Ke.endsWith(g,"{}"))g=s?g:g.slice(0,-2),A=JSON.stringify(A);else if(Ke.isArray(A)&&Fce(A)||(Ke.isFileList(A)||Ke.endsWith(g,"[]"))&&(b=Ke.toArray(A)))return g=SR(g),b.forEach(function(v,y){!(Ke.isUndefined(v)||v===null)&&t.append(o===!0?xB([g],y,a):o===null?g:g+"[]",u(v))}),!1}return A4(A)?!0:(t.append(xB(p,g,a),u(A)),!1)}const f=[],h=Object.assign(Rce,{defaultVisitor:d,convertValue:u,isVisitable:A4});function m(A,g){if(!Ke.isUndefined(A)){if(f.indexOf(A)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(A),Ke.forEach(A,function(b,x){(!(Ke.isUndefined(b)||b===null)&&i.call(t,b,Ke.isString(x)?x.trim():x,g,h))===!0&&m(b,g?g.concat(x):[x])}),f.pop()}}if(!Ke.isObject(e))throw new TypeError("data must be an object");return m(e),t}function bB(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function u5(e,t){this._pairs=[],e&&r1(e,this,t)}const TR=u5.prototype;TR.append=function(t,n){this._pairs.push([t,n])};TR.toString=function(t){const n=t?function(s){return t.call(this,s,bB)}:bB;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Uce(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function kR(e,t,n){if(!t)return e;const s=n&&n.encode||Uce;Ke.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(t,n):a=Ke.isURLSearchParams(t)?t.toString():new u5(t,n).toString(s),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class vB{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ke.forEach(this.handlers,function(s){s!==null&&t(s)})}}const _R={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Hce=typeof URLSearchParams<"u"?URLSearchParams:u5,$ce=typeof FormData<"u"?FormData:null,Qce=typeof Blob<"u"?Blob:null,zce={isBrowser:!0,classes:{URLSearchParams:Hce,FormData:$ce,Blob:Qce},protocols:["http","https","file","blob","url","data"]},d5=typeof window<"u"&&typeof document<"u",g4=typeof navigator=="object"&&navigator||void 0,Vce=d5&&(!g4||["ReactNative","NativeScript","NS"].indexOf(g4.product)<0),Kce=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Gce=d5&&window.location.href||"http://localhost",Wce=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:d5,hasStandardBrowserEnv:Vce,hasStandardBrowserWebWorkerEnv:Kce,navigator:g4,origin:Gce},Symbol.toStringTag,{value:"Module"})),oi={...Wce,...zce};function qce(e,t){return r1(e,new oi.classes.URLSearchParams,{visitor:function(n,s,i,a){return oi.isNode&&Ke.isBuffer(n)?(this.append(s,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function Xce(e){return Ke.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Yce(e){const t={},n=Object.keys(e);let s;const i=n.length;let a;for(s=0;s<i;s++)a=n[s],t[a]=e[a];return t}function BR(e){function t(n,s,i,a){let o=n[a++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),l=a>=n.length;return o=!o&&Ke.isArray(i)?i.length:o,l?(Ke.hasOwnProp(i,o)?i[o]=[i[o],s]:i[o]=s,!c):((!i[o]||!Ke.isObject(i[o]))&&(i[o]=[]),t(n,s,i[o],a)&&Ke.isArray(i[o])&&(i[o]=Yce(i[o])),!c)}if(Ke.isFormData(e)&&Ke.isFunction(e.entries)){const n={};return Ke.forEachEntry(e,(s,i)=>{t(Xce(s),i,n,0)}),n}return null}function Zce(e,t,n){if(Ke.isString(e))try{return(t||JSON.parse)(e),Ke.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const f0={transitional:_R,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",i=s.indexOf("application/json")>-1,a=Ke.isObject(t);if(a&&Ke.isHTMLForm(t)&&(t=new FormData(t)),Ke.isFormData(t))return i?JSON.stringify(BR(t)):t;if(Ke.isArrayBuffer(t)||Ke.isBuffer(t)||Ke.isStream(t)||Ke.isFile(t)||Ke.isBlob(t)||Ke.isReadableStream(t))return t;if(Ke.isArrayBufferView(t))return t.buffer;if(Ke.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return qce(t,this.formSerializer).toString();if((c=Ke.isFileList(t))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return r1(c?{"files[]":t}:t,l&&new l,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),Zce(t)):t}],transformResponse:[function(t){const n=this.transitional||f0.transitional,s=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Ke.isResponse(t)||Ke.isReadableStream(t))return t;if(t&&Ke.isString(t)&&(s&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(c){if(o)throw c.name==="SyntaxError"?Nn.from(c,Nn.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:oi.classes.FormData,Blob:oi.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ke.forEach(["delete","get","head","post","put","patch"],e=>{f0.headers[e]={}});const Jce=Ke.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),eue=e=>{const t={};let n,s,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),s=o.substring(i+1).trim(),!(!n||t[n]&&Jce[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},yB=Symbol("internals");function up(e){return e&&String(e).trim().toLowerCase()}function Kb(e){return e===!1||e==null?e:Ke.isArray(e)?e.map(Kb):String(e)}function tue(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const nue=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function cj(e,t,n,s,i){if(Ke.isFunction(s))return s.call(this,t,n);if(i&&(t=n),!!Ke.isString(t)){if(Ke.isString(s))return t.indexOf(s)!==-1;if(Ke.isRegExp(s))return s.test(t)}}function rue(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function sue(e,t){const n=Ke.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(i,a,o){return this[s].call(this,t,i,a,o)},configurable:!0})})}let Ji=class{constructor(t){t&&this.set(t)}set(t,n,s){const i=this;function a(c,l,u){const d=up(l);if(!d)throw new Error("header name must be a non-empty string");const f=Ke.findKey(i,d);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=Kb(c))}const o=(c,l)=>Ke.forEach(c,(u,d)=>a(u,d,l));if(Ke.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(Ke.isString(t)&&(t=t.trim())&&!nue(t))o(eue(t),n);else if(Ke.isObject(t)&&Ke.isIterable(t)){let c={},l,u;for(const d of t){if(!Ke.isArray(d))throw TypeError("Object iterator must return a key-value pair");c[u=d[0]]=(l=c[u])?Ke.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(c,n)}else t!=null&&a(n,t,s);return this}get(t,n){if(t=up(t),t){const s=Ke.findKey(this,t);if(s){const i=this[s];if(!n)return i;if(n===!0)return tue(i);if(Ke.isFunction(n))return n.call(this,i,s);if(Ke.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=up(t),t){const s=Ke.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||cj(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let i=!1;function a(o){if(o=up(o),o){const c=Ke.findKey(s,o);c&&(!n||cj(s,s[c],c,n))&&(delete s[c],i=!0)}}return Ke.isArray(t)?t.forEach(a):a(t),i}clear(t){const n=Object.keys(this);let s=n.length,i=!1;for(;s--;){const a=n[s];(!t||cj(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const n=this,s={};return Ke.forEach(this,(i,a)=>{const o=Ke.findKey(s,a);if(o){n[o]=Kb(i),delete n[a];return}const c=t?rue(a):String(a).trim();c!==a&&delete n[a],n[c]=Kb(i),s[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Ke.forEach(this,(s,i)=>{s!=null&&s!==!1&&(n[i]=t&&Ke.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(i=>s.set(i)),s}static accessor(t){const s=(this[yB]=this[yB]={accessors:{}}).accessors,i=this.prototype;function a(o){const c=up(o);s[c]||(sue(i,o),s[c]=!0)}return Ke.isArray(t)?t.forEach(a):a(t),this}};Ji.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ke.reduceDescriptors(Ji.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});Ke.freezeMethods(Ji);function uj(e,t){const n=this||f0,s=t||n,i=Ji.from(s.headers);let a=s.data;return Ke.forEach(e,function(c){a=c.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function ER(e){return!!(e&&e.__CANCEL__)}function Lm(e,t,n){Nn.call(this,e??"canceled",Nn.ERR_CANCELED,t,n),this.name="CanceledError"}Ke.inherits(Lm,Nn,{__CANCEL__:!0});function PR(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new Nn("Request failed with status code "+n.status,[Nn.ERR_BAD_REQUEST,Nn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function iue(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function aue(e,t){e=e||10;const n=new Array(e),s=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),d=s[a];o||(o=u),n[i]=l,s[i]=u;let f=a,h=0;for(;f!==i;)h+=n[f++],f=f%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),u-o<t)return;const m=d&&u-d;return m?Math.round(h*1e3/m):void 0}}function oue(e,t){let n=0,s=1e3/t,i,a;const o=(u,d=Date.now())=>{n=d,i=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=s?o(u,d):(i=u,a||(a=setTimeout(()=>{a=null,o(i)},s-f)))},()=>i&&o(i)]}const Jv=(e,t,n=3)=>{let s=0;const i=aue(50,250);return oue(a=>{const o=a.loaded,c=a.lengthComputable?a.total:void 0,l=o-s,u=i(l),d=o<=c;s=o;const f={loaded:o,total:c,progress:c?o/c:void 0,bytes:l,rate:u||void 0,estimated:u&&c&&d?(c-o)/u:void 0,event:a,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(f)},n)},wB=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},jB=e=>(...t)=>Ke.asap(()=>e(...t)),lue=oi.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,oi.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(oi.origin),oi.navigator&&/(msie|trident)/i.test(oi.navigator.userAgent)):()=>!0,cue=oi.hasStandardBrowserEnv?{write(e,t,n,s,i,a){const o=[e+"="+encodeURIComponent(t)];Ke.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ke.isString(s)&&o.push("path="+s),Ke.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function uue(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function due(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function MR(e,t,n){let s=!uue(t);return e&&(s||n==!1)?due(e,t):t}const CB=e=>e instanceof Ji?{...e}:e;function sh(e,t){t=t||{};const n={};function s(u,d,f,h){return Ke.isPlainObject(u)&&Ke.isPlainObject(d)?Ke.merge.call({caseless:h},u,d):Ke.isPlainObject(d)?Ke.merge({},d):Ke.isArray(d)?d.slice():d}function i(u,d,f,h){if(Ke.isUndefined(d)){if(!Ke.isUndefined(u))return s(void 0,u,f,h)}else return s(u,d,f,h)}function a(u,d){if(!Ke.isUndefined(d))return s(void 0,d)}function o(u,d){if(Ke.isUndefined(d)){if(!Ke.isUndefined(u))return s(void 0,u)}else return s(void 0,d)}function c(u,d,f){if(f in t)return s(u,d);if(f in e)return s(void 0,u)}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(u,d,f)=>i(CB(u),CB(d),f,!0)};return Ke.forEach(Object.keys({...e,...t}),function(d){const f=l[d]||i,h=f(e[d],t[d],d);Ke.isUndefined(h)&&f!==c||(n[d]=h)}),n}const DR=e=>{const t=sh({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:c}=t;t.headers=o=Ji.from(o),t.url=kR(MR(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let l;if(Ke.isFormData(n)){if(oi.hasStandardBrowserEnv||oi.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...d]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(oi.hasStandardBrowserEnv&&(s&&Ke.isFunction(s)&&(s=s(t)),s||s!==!1&&lue(t.url))){const u=i&&a&&cue.read(a);u&&o.set(i,u)}return t},hue=typeof XMLHttpRequest<"u",fue=hue&&function(e){return new Promise(function(n,s){const i=DR(e);let a=i.data;const o=Ji.from(i.headers).normalize();let{responseType:c,onUploadProgress:l,onDownloadProgress:u}=i,d,f,h,m,A;function g(){m&&m(),A&&A(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let p=new XMLHttpRequest;p.open(i.method.toUpperCase(),i.url,!0),p.timeout=i.timeout;function b(){if(!p)return;const v=Ji.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),N={data:!c||c==="text"||c==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:v,config:e,request:p};PR(function(M){n(M),g()},function(M){s(M),g()},N),p=null}"onloadend"in p?p.onloadend=b:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(b)},p.onabort=function(){p&&(s(new Nn("Request aborted",Nn.ECONNABORTED,e,p)),p=null)},p.onerror=function(){s(new Nn("Network Error",Nn.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let y=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const N=i.transitional||_R;i.timeoutErrorMessage&&(y=i.timeoutErrorMessage),s(new Nn(y,N.clarifyTimeoutError?Nn.ETIMEDOUT:Nn.ECONNABORTED,e,p)),p=null},a===void 0&&o.setContentType(null),"setRequestHeader"in p&&Ke.forEach(o.toJSON(),function(y,N){p.setRequestHeader(N,y)}),Ke.isUndefined(i.withCredentials)||(p.withCredentials=!!i.withCredentials),c&&c!=="json"&&(p.responseType=i.responseType),u&&([h,A]=Jv(u,!0),p.addEventListener("progress",h)),l&&p.upload&&([f,m]=Jv(l),p.upload.addEventListener("progress",f),p.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(d=v=>{p&&(s(!v||v.type?new Lm(null,e,p):v),p.abort(),p=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const x=iue(i.url);if(x&&oi.protocols.indexOf(x)===-1){s(new Nn("Unsupported protocol "+x+":",Nn.ERR_BAD_REQUEST,e));return}p.send(a||null)})},mue=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,i;const a=function(u){if(!i){i=!0,c();const d=u instanceof Error?u:this.reason;s.abort(d instanceof Nn?d:new Lm(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,a(new Nn(`timeout ${t} of ms exceeded`,Nn.ETIMEDOUT))},t);const c=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:l}=s;return l.unsubscribe=()=>Ke.asap(c),l}},pue=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let s=0,i;for(;s<n;)i=s+t,yield e.slice(s,i),s=i},Aue=async function*(e,t){for await(const n of gue(e))yield*pue(n,t)},gue=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},NB=(e,t,n,s)=>{const i=Aue(e,t);let a=0,o,c=l=>{o||(o=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await i.next();if(u){c(),l.close();return}let f=d.byteLength;if(n){let h=a+=f;n(h)}l.enqueue(new Uint8Array(d))}catch(u){throw c(u),u}},cancel(l){return c(l),i.return()}},{highWaterMark:2})},s1=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",IR=s1&&typeof ReadableStream=="function",xue=s1&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),OR=(e,...t)=>{try{return!!e(...t)}catch{return!1}},bue=IR&&OR(()=>{let e=!1;const t=new Request(oi.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),SB=64*1024,x4=IR&&OR(()=>Ke.isReadableStream(new Response("").body)),ey={stream:x4&&(e=>e.body)};s1&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ey[t]&&(ey[t]=Ke.isFunction(e[t])?n=>n[t]():(n,s)=>{throw new Nn(`Response type '${t}' is not supported`,Nn.ERR_NOT_SUPPORT,s)})})})(new Response);const vue=async e=>{if(e==null)return 0;if(Ke.isBlob(e))return e.size;if(Ke.isSpecCompliantForm(e))return(await new Request(oi.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Ke.isArrayBufferView(e)||Ke.isArrayBuffer(e))return e.byteLength;if(Ke.isURLSearchParams(e)&&(e=e+""),Ke.isString(e))return(await xue(e)).byteLength},yue=async(e,t)=>{const n=Ke.toFiniteNumber(e.getContentLength());return n??vue(t)},wue=s1&&(async e=>{let{url:t,method:n,data:s,signal:i,cancelToken:a,timeout:o,onDownloadProgress:c,onUploadProgress:l,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:h}=DR(e);u=u?(u+"").toLowerCase():"text";let m=mue([i,a&&a.toAbortSignal()],o),A;const g=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let p;try{if(l&&bue&&n!=="get"&&n!=="head"&&(p=await yue(d,s))!==0){let N=new Request(t,{method:"POST",body:s,duplex:"half"}),P;if(Ke.isFormData(s)&&(P=N.headers.get("content-type"))&&d.setContentType(P),N.body){const[M,k]=wB(p,Jv(jB(l)));s=NB(N.body,SB,M,k)}}Ke.isString(f)||(f=f?"include":"omit");const b="credentials"in Request.prototype;A=new Request(t,{...h,signal:m,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:s,duplex:"half",credentials:b?f:void 0});let x=await fetch(A,h);const v=x4&&(u==="stream"||u==="response");if(x4&&(c||v&&g)){const N={};["status","statusText","headers"].forEach(D=>{N[D]=x[D]});const P=Ke.toFiniteNumber(x.headers.get("content-length")),[M,k]=c&&wB(P,Jv(jB(c),!0))||[];x=new Response(NB(x.body,SB,M,()=>{k&&k(),g&&g()}),N)}u=u||"text";let y=await ey[Ke.findKey(ey,u)||"text"](x,e);return!v&&g&&g(),await new Promise((N,P)=>{PR(N,P,{data:y,headers:Ji.from(x.headers),status:x.status,statusText:x.statusText,config:e,request:A})})}catch(b){throw g&&g(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new Nn("Network Error",Nn.ERR_NETWORK,e,A),{cause:b.cause||b}):Nn.from(b,b&&b.code,e,A)}}),b4={http:Lce,xhr:fue,fetch:wue};Ke.forEach(b4,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const TB=e=>`- ${e}`,jue=e=>Ke.isFunction(e)||e===null||e===!1,LR={getAdapter:e=>{e=Ke.isArray(e)?e:[e];const{length:t}=e;let n,s;const i={};for(let a=0;a<t;a++){n=e[a];let o;if(s=n,!jue(n)&&(s=b4[(o=String(n)).toLowerCase()],s===void 0))throw new Nn(`Unknown adapter '${o}'`);if(s)break;i[o||"#"+a]=s}if(!s){const a=Object.entries(i).map(([c,l])=>`adapter ${c} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?a.length>1?`since :
`+a.map(TB).join(`
`):" "+TB(a[0]):"as no adapter specified";throw new Nn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:b4};function dj(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Lm(null,e)}function kB(e){return dj(e),e.headers=Ji.from(e.headers),e.data=uj.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),LR.getAdapter(e.adapter||f0.adapter)(e).then(function(s){return dj(e),s.data=uj.call(e,e.transformResponse,s),s.headers=Ji.from(s.headers),s},function(s){return ER(s)||(dj(e),s&&s.response&&(s.response.data=uj.call(e,e.transformResponse,s.response),s.response.headers=Ji.from(s.response.headers))),Promise.reject(s)})}const FR="1.11.0",i1={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{i1[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const _B={};i1.transitional=function(t,n,s){function i(a,o){return"[Axios v"+FR+"] Transitional option '"+a+"'"+o+(s?". "+s:"")}return(a,o,c)=>{if(t===!1)throw new Nn(i(o," has been removed"+(n?" in "+n:"")),Nn.ERR_DEPRECATED);return n&&!_B[o]&&(_B[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,o,c):!0}};i1.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Cue(e,t,n){if(typeof e!="object")throw new Nn("options must be an object",Nn.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let i=s.length;for(;i-- >0;){const a=s[i],o=t[a];if(o){const c=e[a],l=c===void 0||o(c,a,e);if(l!==!0)throw new Nn("option "+a+" must be "+l,Nn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Nn("Unknown option "+a,Nn.ERR_BAD_OPTION)}}const Gb={assertOptions:Cue,validators:i1},Po=Gb.validators;let Od=class{constructor(t){this.defaults=t||{},this.interceptors={request:new vB,response:new vB}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=sh(this.defaults,n);const{transitional:s,paramsSerializer:i,headers:a}=n;s!==void 0&&Gb.assertOptions(s,{silentJSONParsing:Po.transitional(Po.boolean),forcedJSONParsing:Po.transitional(Po.boolean),clarifyTimeoutError:Po.transitional(Po.boolean)},!1),i!=null&&(Ke.isFunction(i)?n.paramsSerializer={serialize:i}:Gb.assertOptions(i,{encode:Po.function,serialize:Po.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Gb.assertOptions(n,{baseUrl:Po.spelling("baseURL"),withXsrfToken:Po.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&Ke.merge(a.common,a[n.method]);a&&Ke.forEach(["delete","get","head","post","put","patch","common"],A=>{delete a[A]}),n.headers=Ji.concat(o,a);const c=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,c.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,f=0,h;if(!l){const A=[kB.bind(this),void 0];for(A.unshift(...c),A.push(...u),h=A.length,d=Promise.resolve(n);f<h;)d=d.then(A[f++],A[f++]);return d}h=c.length;let m=n;for(f=0;f<h;){const A=c[f++],g=c[f++];try{m=A(m)}catch(p){g.call(this,p);break}}try{d=kB.call(this,m)}catch(A){return Promise.reject(A)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=sh(this.defaults,t);const n=MR(t.baseURL,t.url,t.allowAbsoluteUrls);return kR(n,t.params,t.paramsSerializer)}};Ke.forEach(["delete","get","head","options"],function(t){Od.prototype[t]=function(n,s){return this.request(sh(s||{},{method:t,url:n,data:(s||{}).data}))}});Ke.forEach(["post","put","patch"],function(t){function n(s){return function(a,o,c){return this.request(sh(c||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Od.prototype[t]=n(),Od.prototype[t+"Form"]=n(!0)});let Nue=class RR{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const s=this;this.promise.then(i=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](i);s._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(c=>{s.subscribe(c),a=c}).then(i);return o.cancel=function(){s.unsubscribe(a)},o},t(function(a,o,c){s.reason||(s.reason=new Lm(a,o,c),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new RR(function(i){t=i}),cancel:t}}};function Sue(e){return function(n){return e.apply(null,n)}}function Tue(e){return Ke.isObject(e)&&e.isAxiosError===!0}const v4={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(v4).forEach(([e,t])=>{v4[t]=e});function UR(e){const t=new Od(e),n=AR(Od.prototype.request,t);return Ke.extend(n,Od.prototype,t,{allOwnKeys:!0}),Ke.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return UR(sh(e,i))},n}const Nt=UR(f0);Nt.Axios=Od;Nt.CanceledError=Lm;Nt.CancelToken=Nue;Nt.isCancel=ER;Nt.VERSION=FR;Nt.toFormData=r1;Nt.AxiosError=Nn;Nt.Cancel=Nt.CanceledError;Nt.all=function(t){return Promise.all(t)};Nt.spread=Sue;Nt.isAxiosError=Tue;Nt.mergeConfig=sh;Nt.AxiosHeaders=Ji;Nt.formToJSON=e=>BR(Ke.isHTMLForm(e)?new FormData(e):e);Nt.getAdapter=LR.getAdapter;Nt.HttpStatusCode=v4;Nt.default=Nt;const{Axios:GRe,AxiosError:WRe,CanceledError:qRe,isCancel:XRe,CancelToken:YRe,VERSION:ZRe,all:JRe,Cancel:eUe,isAxiosError:tUe,spread:nUe,toFormData:rUe,AxiosHeaders:sUe,HttpStatusCode:iUe,formToJSON:aUe,getAdapter:oUe,mergeConfig:lUe}=Nt,HR=B.createContext(void 0),kue=({children:e})=>{const[t,n]=B.useState(()=>localStorage.getItem("token")),[s,i]=B.useState(()=>{const u=localStorage.getItem("user");return u?JSON.parse(u):null}),a=(u,d)=>{n(u),i(d),u?localStorage.setItem("token",u):localStorage.removeItem("token"),d?(localStorage.setItem("user",JSON.stringify(d)),localStorage.setItem("userId",d.maNguoiDung)):(localStorage.removeItem("user"),localStorage.removeItem("userId"))},o=async()=>{var u,d;try{await Nt.post("https://bicacuatho.azurewebsites.net/api/XacThuc/DangXuat",{},{headers:{Authorization:`Bearer ${t}`}})}catch(f){console.error("Logout error:",((d=(u=f.response)==null?void 0:u.data)==null?void 0:d.message)||f.message)}a(null,null)},c=!!t,l=(s==null?void 0:s.fullName)||"";return r.jsx(HR.Provider,{value:{isLoggedIn:c,user:s,userName:l,setAuth:a,logout:o},children:e})},a1=()=>{const e=B.useContext(HR);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},_ue=({title:e})=>{const t=gr(),{isLoggedIn:n,userName:s,user:i,logout:a}=a1(),{toast:o}=Uu(),c=async()=>{try{await a(),o({title:"Đăng xuất thành công 🎉",description:"Bạn đã đăng xuất khỏi tài khoản.",duration:3e3,className:"bg-green-500 text-white border border-green-700 shadow-lg",action:r.jsx(fe,{variant:"outline",className:"bg-white text-green-500 hover:bg-green-100 border-green-500",children:"Đóng"})}),t("/auth/login?logout=true")}catch{o.error("Đăng xuất thất bại")}},l=(i==null?void 0:i.role)==="admin"?"/admin/profile":(i==null?void 0:i.role)==="staff"?"/staff/profile":"/profile";return r.jsxs("header",{className:"h-16 border-b border-gray-200 flex items-center justify-between px-6 sticky top-0 bg-white/80 backdrop-blur-sm z-20",children:[r.jsx("h1",{className:"text-xl font-semibold"}),r.jsxs("div",{className:"flex items-center gap-4",children:[n&&r.jsxs("span",{className:"text-sm text-gray-700",children:["Xin chào: ",s]}),r.jsxs(yr,{children:[r.jsx(wr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"rounded-full",children:r.jsx($n,{className:"h-5 w-5"})})}),r.jsxs(Ar,{align:"end",className:"w-56",children:[r.jsx(pR,{className:"font-normal",children:r.jsx("div",{className:"flex flex-col space-y-1",children:r.jsx("p",{className:"text-base font-medium",children:"Tài khoản của tôi"})})}),r.jsx(m4,{}),n&&r.jsxs(r.Fragment,{children:[r.jsx(ut,{asChild:!0,children:r.jsxs(ct,{to:l,className:"flex items-center w-full",children:[r.jsx($n,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Hồ sơ"})]})}),r.jsx(ut,{children:r.jsxs(ct,{to:l,className:"flex items-center w-full",children:[r.jsx(TT,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Cài đặt"})]})}),r.jsx(m4,{}),r.jsxs(ut,{className:"text-red-600",onClick:c,children:[r.jsx(sg,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Đăng xuất"})]})]})]})]})]})]})};class Wp extends Error{}Wp.prototype.name="InvalidTokenError";function Bue(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,n)=>{let s=n.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}function Eue(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Bue(t)}catch{return atob(t)}}function Pue(e,t){if(typeof e!="string")throw new Wp("Invalid token specified: must be a string");t||(t={});const n=t.header===!0?0:1,s=e.split(".")[n];if(typeof s!="string")throw new Wp(`Invalid token specified: missing part #${n+1}`);let i;try{i=Eue(s)}catch(a){throw new Wp(`Invalid token specified: invalid base64 for part #${n+1} (${a.message})`)}try{return JSON.parse(i)}catch(a){throw new Wp(`Invalid token specified: invalid json for part #${n+1} (${a.message})`)}}const BB=e=>{const n=e.split("/")[2]||"Statistics";return{dashboard:"Bảng điều khiển",orders:"Đơn hàng",products:"Sản phẩm",inventory:"Kho hàng",users:"Người dùng",staff:"Nhân viên",settings:"Cài đặt",invoices:"Hóa đơn",form:"Form"}[n]||n.charAt(0).toUpperCase()+n.slice(1)},EB=({role:e})=>{var l;const t=Bs(),[n,s]=B.useState(BB(t.pathname)),[i,a]=B.useState(!0),o=localStorage.getItem("token");console.log("Token from localStorage:",o);let c="";if(o)try{const u=Pue(o);console.log("Decoded Token:",u),c=((l=u["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"])==null?void 0:l.toLowerCase())||""}catch(u){console.error("Error decoding token:",u)}return console.log("User Role:",c,"Expected Role:",e.toLowerCase()),!c||c!==e.toLowerCase()?r.jsx(tB,{to:"/notfound",replace:!0}):c==="staff"&&(t.pathname.includes("/statistics")||t.pathname.includes("/users")||t.pathname.includes("/settings"))?r.jsx(tB,{to:"/notfound",replace:!0}):(B.useEffect(()=>{s(BB(t.pathname)),a(!0);const u=setTimeout(()=>a(!1),300);return()=>clearTimeout(u)},[t.pathname]),r.jsxs("div",{className:"flex min-h-screen w-full",children:[r.jsx(Toe,{role:e}),r.jsxs("main",{className:"flex-1 flex flex-col",children:[r.jsx(_ue,{title:n}),r.jsx("div",{className:"flex-1 p-6",children:i?r.jsx("div",{className:"h-full w-full flex items-center justify-center",children:r.jsx("div",{className:"h-8 w-8 rounded-full border-4 border-t-crocus-500 border-crocus-200 animate-spin"})}):r.jsx("div",{className:"animate-fade-in",children:r.jsx(OF,{})})})]})]}))},Ac=B.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:Fe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Ac.displayName="Textarea";const Mue=()=>{const[e,t]=B.useState(!1),[n,s]=B.useState(!1),[i,a]=B.useState(""),[o,c]=B.useState({IDSanPham:"",MauSac:"",KichThuoc:"",SoLuong:"",IDNguoiDung:""}),[l,u]=B.useState([]),[d,f]=B.useState(!1),[h,m]=B.useState(!1),[A,g]=B.useState("ai"),[p,b]=B.useState(!1),[x,v]=B.useState(!1),[y,N]=B.useState(!1),[P,M]=B.useState({x:0,y:0}),[k,D]=B.useState({x:window.innerWidth-384-16,y:64}),[O,L]=B.useState({width:384,height:600}),[F]=B.useState({width:384,height:600}),[_,E]=B.useState({mouse:{x:0,y:0},size:{width:384,height:600}}),T=B.useRef(null),w=B.useRef(null),C=B.useRef(null),j=B.useRef(null),S=B.useRef(null),I=localStorage.getItem("token"),R=!!I,z=JSON.parse(localStorage.getItem("user")||"{}").maNguoiDung||"",V=[{id:"ai",name:"Trả lời AI",icon:r.jsx(LZ,{className:"w-4 h-4"}),color:"text-blue-600"},{id:"search",name:"Tìm kiếm sản phẩm",icon:r.jsx(Un,{className:"w-4 h-4"}),color:"text-green-600"},...R?[{id:"cart",name:"Thêm vào giỏ hàng",icon:r.jsx(Rs,{className:"w-4 h-4"}),color:"text-orange-600"}]:[]],X=V.find(ue=>ue.id===A)||V[0];B.useEffect(()=>{const ue=localStorage.getItem("supportChatHistory");ue&&u(JSON.parse(ue)),R&&c(se=>({...se,IDNguoiDung:z}))},[R,z]),B.useEffect(()=>{localStorage.setItem("supportChatHistory",JSON.stringify(l)),w.current&&w.current.scrollIntoView({behavior:"smooth",block:"end"})},[l]),B.useEffect(()=>{const ue=se=>{S.current&&!S.current.contains(se.target)&&m(!1)};return document.addEventListener("mousedown",ue),()=>document.removeEventListener("mousedown",ue)},[]);const $=B.useCallback(ue=>{(ue.target===ue.currentTarget||ue.target.classList.contains("drag-handle"))&&(v(!0),M({x:ue.clientX-k.x,y:ue.clientY-k.y}))},[k]),W=B.useCallback(ue=>{if(x&&!p){const se=Math.max(0,Math.min(window.innerWidth-O.width,ue.clientX-P.x)),ie=Math.max(0,Math.min(window.innerHeight-O.height,ue.clientY-P.y));D({x:se,y:ie})}if(y&&!p){const se=ue.clientX-_.mouse.x,ie=ue.clientY-_.mouse.y,q=Math.max(300,Math.min(window.innerWidth-k.x,_.size.width+se)),Z=Math.max(400,Math.min(window.innerHeight-k.y,_.size.height+ie));L({width:q,height:Z})}},[x,y,P,_,k,p,O.width,O.height]),H=B.useCallback(()=>{v(!1),N(!1)},[]),Q=B.useCallback(ue=>{p||(ue.preventDefault(),ue.stopPropagation(),N(!0),E({mouse:{x:ue.clientX,y:ue.clientY},size:{width:O.width,height:O.height}}))},[O,p]);B.useEffect(()=>{if(x||y)return document.addEventListener("mousemove",W),document.addEventListener("mouseup",H),()=>{document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",H)}},[x,y,W,H]);const G=async ue=>{if(ue.preventDefault(),d)return;let se=i,ie={textPrompt:i};if(A==="cart"){const{IDSanPham:q,MauSac:Z,KichThuoc:te,SoLuong:re,IDNguoiDung:Y}=o;if(!q||!Z||!te||!re){u(ae=>[...ae,{question:se||"Thêm vào giỏ hàng",result:"Lỗi: Vui lòng điền đầy đủ tất cả các trường.",mode:A}]);return}const oe=parseInt(re,10);if(isNaN(oe)||oe<=0){u(ae=>[...ae,{question:se||"Thêm vào giỏ hàng",result:"Lỗi: Số lượng phải là một số nguyên dương.",mode:A}]);return}if(Y!==z){u(ae=>[...ae,{question:se||"Thêm vào giỏ hàng",result:"Lỗi: Mã người dùng không khớp với tài khoản đăng nhập.",mode:A}]);return}se=`Thêm sản phẩm ${q}, màu ${Z}, kích thước ${te}, số lượng ${re}, khách hàng ${Y}`,ie={textPrompt:se,IDSanPham:q,MauSac:Z,KichThuoc:te,SoLuong:oe,IDNguoiDung:Y}}else if(!i.trim()){u(q=>[...q,{question:se||"Câu hỏi",result:"Lỗi: Vui lòng nhập câu hỏi hoặc thông tin sản phẩm.",mode:A}]);return}f(!0);try{let q="";switch(A){case"ai":q="generate-text";break;case"search":q="search-products";break;case"cart":q="add-to-cart";break;default:throw new Error("Chế độ không hợp lệ")}const te=(await Nt.post(`https://bicacuatho.azurewebsites.net/api/GoogleApis/${q}`,ie,{headers:{...A==="cart"?{Authorization:`Bearer ${I}`}:{},"Content-Type":"application/json"}})).data;if(A==="cart"?te.success:te.generatedText){const re=A==="cart"?te.message:te.generatedText,Y={question:se,result:A==="cart"?"Thành công: Đã thêm sản phẩm vào giỏ hàng!":re,mode:A},oe=[...l,Y];u(oe),a(""),A==="cart"&&c({IDSanPham:"",MauSac:"",KichThuoc:"",SoLuong:"",IDNguoiDung:z})}else u(re=>[...re,{question:se,result:`${te.message||"Không nhận được câu trả lời từ server."}`,mode:A}])}catch(q){u(Z=>{var te,re;return[...Z,{question:se,result:`Lỗi kết nối: ${((re=(te=q.response)==null?void 0:te.data)==null?void 0:re.message)||q.message||"Không thể kết nối đến server."}`,mode:A}]})}finally{f(!1)}},J=()=>{s(!n),n&&t(!1)},ee=ue=>{g(ue),m(!1),a(""),ue==="cart"&&c(se=>({...se,IDNguoiDung:z}))},K=()=>{p?(L(F),D({x:window.innerWidth-F.width-16,y:64})):(L({width:window.innerWidth-32,height:window.innerHeight-96}),D({x:16,y:64})),b(!p)};B.useEffect(()=>{const ue=j.current;ue&&(ue.style.height="auto",ue.style.height=`${Math.min(ue.scrollHeight,120)}px`)},[i]);const ne=ue=>{ue.key==="Enter"&&!ue.shiftKey&&(ue.preventDefault(),G(ue))};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{ref:T,className:"fixed bottom-4 right-4 z-50 flex flex-col items-end gap-2",children:[r.jsx("button",{onClick:J,className:"bg-[#c083fc] hover:bg-[#b36bf7] text-white rounded-full p-3 shadow-lg transition-colors duration-200","aria-label":n?"Đóng menu hỗ trợ":"Mở menu hỗ trợ",children:n?r.jsx(st,{className:"w-6 h-6"}):r.jsx(jL,{className:"w-6 h-6"})}),n&&r.jsxs("div",{className:"flex flex-col gap-2 animate-in slide-in-from-bottom duration-300",children:[r.jsxs("a",{href:"tel:+84383777823",className:"flex items-center gap-2 bg-[#4CAF50] hover:bg-[#45a049] text-white rounded-full px-4 py-2 shadow-lg transition-colors duration-200","aria-label":"Gọi điện hỗ trợ",children:[r.jsx("span",{children:"Gọi điện"}),r.jsx(_u,{className:"w-5 h-5"})]}),r.jsxs("a",{href:"https://zalo.me/383777823",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-[#0088FF] hover:bg-[#0077dd] text-white rounded-full px-4 py-2 shadow-lg transition-colors duration-200","aria-label":"Liên hệ qua Zalo",children:[r.jsx("span",{children:"Zalo"}),r.jsx(Jd,{className:"w-5 h-5"})]}),r.jsxs("a",{href:"https://facebook.com/Thien2k5",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-[#1877F2] hover:bg-[#166fe5] text-white rounded-full px-4 py-2 shadow-lg transition-colors duration-200","aria-label":"Liên hệ qua Facebook",children:[r.jsx("span",{children:"Facebook"}),r.jsx(VN,{className:"w-5 h-5"})]}),r.jsxs("a",{href:"https://t.me/miyaru2k5",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-[#0088CC] hover:bg-[#0077bb] text-white rounded-full px-4 py-2 shadow-lg transition-colors duration-200","aria-label":"Liên hệ qua Telegram",children:[r.jsx("span",{children:"Telegram"}),r.jsx(Sf,{className:"w-5 h-5"})]}),r.jsxs("button",{onClick:()=>t(!e),className:"flex items-center gap-2 bg-[#c083fc] hover:bg-[#b36bf7] text-white rounded-full px-4 py-2 shadow-lg transition-colors duration-200","aria-label":e?"Đóng chat hỗ trợ":"Mở chat hỗ trợ",children:[r.jsx("span",{children:"Chat"}),r.jsx(ql,{className:"w-5 h-5"})]}),r.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 bg-gray-500 hover:bg-gray-600 text-white rounded-full px-4 py-2 shadow-lg transition-colors duration-200","aria-label":"Cuộn lên đầu trang",children:[r.jsx("span",{children:"Lên đầu"}),r.jsx(PZ,{className:"w-5 h-5"})]})]})]}),e&&r.jsxs("div",{ref:C,className:Fe("fixed z-50","bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-[#c083fc]","flex flex-col overflow-hidden",x&&!p&&"cursor-move",y&&!p&&"cursor-nw-resize"),style:{left:`${k.x}px`,top:`${k.y}px`,width:`${O.width}px`,height:`${O.height}px`,minWidth:"300px",minHeight:"400px"},children:[r.jsxs("div",{className:"p-3 bg-[#c083fc] text-white rounded-t-lg flex items-center justify-between cursor-move drag-handle",onMouseDown:$,"aria-label":"Kéo để di chuyển cửa sổ chat",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"font-semibold",children:"FashionHub"}),r.jsxs("span",{className:"text-xs opacity-80",children:["- ",X.name]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(fe,{variant:"ghost",size:"icon",className:"text-white hover:bg-[#b36bf7] h-6 w-6",onClick:K,"aria-label":p?"Thu nhỏ cửa sổ chat":"Phóng to cửa sổ chat",children:p?r.jsx(WJ,{className:"h-4 w-4"}):r.jsx(wL,{className:"h-4 w-4"})}),r.jsx(fe,{variant:"ghost",size:"icon",className:"text-white hover:bg-[#b36bf7] h-6 w-6",onClick:()=>t(!1),"aria-label":"Đóng cửa sổ chat",children:r.jsx(st,{className:"h-4 w-4"})})]})]}),r.jsx("div",{className:"flex-1 p-4 overflow-y-auto space-y-4 bg-white dark:bg-gray-800",children:l.length===0?r.jsxs("div",{className:"text-center text-muted-foreground p-4",children:[r.jsxs("div",{className:Fe("inline-flex items-center gap-2 mb-2",X.color),children:[X.icon,r.jsxs("span",{className:"font-medium",children:["Chế độ: ",X.name]})]}),r.jsx("p",{children:"Chưa có tin nhắn nào. Hãy đặt câu hỏi hoặc thêm sản phẩm!"})]}):r.jsxs("div",{children:[l.map((ue,se)=>{const ie=V.find(q=>q.id===ue.mode)||V[0];return r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"flex justify-end",children:r.jsx("div",{className:"bg-[#c083fc] text-white p-2 rounded-lg max-w-[70%]",children:r.jsx("p",{className:"text-sm",children:ue.question})})}),r.jsx("div",{className:"flex justify-start",children:r.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 p-2 rounded-lg max-w-[70%]",children:[r.jsxs("div",{className:"flex items-center gap-1 mb-1 opacity-80",children:[ie.icon,r.jsx("span",{className:"text-xs",children:ie.name})]}),r.jsx("div",{className:"text-sm prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:ue.result.replace(/\n/g,"<br />")}})]})})]},se)}),r.jsx("div",{ref:w})]})}),r.jsxs("form",{className:"p-3 border-t bg-white dark:bg-gray-800",onSubmit:G,children:[A==="cart"?r.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[r.jsx(ye,{value:o.IDSanPham,onChange:ue=>c({...o,IDSanPham:ue.target.value}),placeholder:"Mã sản phẩm",className:"dark:bg-gray-700 dark:text-white",disabled:d,"aria-label":"Mã sản phẩm"}),r.jsx(ye,{value:o.MauSac,onChange:ue=>c({...o,MauSac:ue.target.value}),placeholder:"Mã màu",className:"dark:bg-gray-700 dark:text-white",disabled:d,"aria-label":"Mã màu"}),r.jsx(ye,{value:o.KichThuoc,onChange:ue=>c({...o,KichThuoc:ue.target.value}),placeholder:"Kích thước",className:"dark:bg-gray-700 dark:text-white",disabled:d,"aria-label":"Kích thước"}),r.jsx(ye,{type:"number",value:o.SoLuong,onChange:ue=>c({...o,SoLuong:ue.target.value}),placeholder:"Số lượng",className:"dark:bg-gray-700 dark:text-white",disabled:d,"aria-label":"Số lượng"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"relative",ref:S,children:[r.jsx(fe,{type:"button",variant:"outline",size:"icon",className:Fe("h-10 w-10 flex-shrink-0",X.color),onClick:()=>m(!h),"aria-label":"Chọn chế độ chat",children:X.icon}),h&&r.jsx("div",{className:"absolute bottom-12 left-0 bg-white dark:bg-gray-800 border rounded-lg shadow-lg py-1 z-10 min-w-[180px]",children:V.map(ue=>r.jsxs("button",{type:"button",className:Fe("w-full px-3 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",A===ue.id&&"bg-gray-100 dark:bg-gray-700",ue.color),onClick:()=>ee(ue.id),"aria-label":`Chọn chế độ ${ue.name}`,children:[ue.icon,r.jsx("span",{className:"text-sm",children:ue.name})]},ue.id))})]}),r.jsx(Ac,{ref:j,value:i,onChange:ue=>a(ue.target.value),onKeyDown:ne,placeholder:A==="ai"?"Nhập câu hỏi của bạn":"Nhập sản phẩm cần tìm (VD: áo sơ mi xanh size M)",className:"dark:bg-gray-700 dark:text-white flex-1 resize-none min-h-[40px] max-h-[120px]",disabled:d,"aria-label":"Nhập nội dung chat"}),r.jsx(fe,{type:"submit",className:"bg-[#c083fc] text-white hover:bg-[#b36bf7] flex-shrink-0 h-10 w-10",disabled:d,"aria-label":"Gửi tin nhắn",children:d?r.jsx(As,{className:"h-5 w-5 animate-spin"}):r.jsx(Sf,{className:"h-5 w-5"})})]}),A==="cart"&&r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsxs("div",{className:"relative",ref:S,children:[r.jsx(fe,{type:"button",variant:"outline",size:"icon",className:Fe("h-10 w-10 flex-shrink-0",X.color),onClick:()=>m(!h),"aria-label":"Chọn chế độ chat",children:X.icon}),h&&r.jsx("div",{className:"absolute bottom-12 left-0 bg-white dark:bg-gray-800 border rounded-lg shadow-lg py-1 z-10 min-w-[180px]",children:V.map(ue=>r.jsxs("button",{type:"button",className:Fe("w-full px-3 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",A===ue.id&&"bg-gray-100 dark:bg-gray-700",ue.color),onClick:()=>ee(ue.id),"aria-label":`Chọn chế độ ${ue.name}`,children:[ue.icon,r.jsx("span",{className:"text-sm",children:ue.name})]},ue.id))})]}),r.jsx(fe,{type:"submit",className:"bg-[#c083fc] text-white hover:bg-[#b36bf7] flex-shrink-0 h-10 w-10",disabled:d,"aria-label":"Gửi tin nhắn",children:d?r.jsx(As,{className:"h-5 w-5 animate-spin"}):r.jsx(Sf,{className:"h-5 w-5"})})]})]}),!p&&r.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 cursor-nw-resize opacity-50 hover:opacity-100",onMouseDown:Q,"aria-label":"Thay đổi kích thước cửa sổ chat",children:r.jsx("div",{className:"absolute bottom-1 right-1 w-0 h-0 border-l-4 border-b-4 border-gray-400"})})]})]})},Due=()=>(B.useEffect(()=>{if(window.googleTranslateElementInit=()=>{var s,i;(i=(s=window.google)==null?void 0:s.translate)!=null&&i.TranslateElement&&new window.google.translate.TranslateElement({pageLanguage:"vi",autoDisplay:!1,layout:1},"google_translate_element")},!document.getElementById("google-translate-script")){const s=document.createElement("script");s.id="google-translate-script",s.src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit",s.async=!0,document.body.appendChild(s)}const e=()=>{const s=document.querySelector(".goog-te-combo");s&&(s.style.display="block",s.style.visibility="visible",s.style.color="black",s.style.opacity="1",s.style.fontSize="16px",s.style.padding="8px 12px",s.style.borderRadius="6px",s.style.minWidth="180px",s.style.backgroundColor="white",s.style.border="1px solid #ccc",s.style.cursor="pointer",s.style.pointerEvents="auto",s.style.zIndex="99999",s.style.position="relative");const i=document.getElementById("google_translate_element");i&&(i.style.display="block",i.style.visibility="visible",i.style.opacity="1",i.style.position="relative",i.style.zIndex="99999");const a=document.querySelector(".goog-te-gadget");a&&(a.style.display="block",a.style.visibility="visible",a.style.opacity="1",a.style.position="relative",a.style.zIndex="99999",Array.from(a.childNodes).filter(p=>p.nodeType===Node.TEXT_NODE).forEach(p=>{p.textContent&&p.textContent.trim()&&(p.style="display: none")}),a.querySelectorAll("span").forEach(p=>{p.querySelector(".goog-te-combo")||(p.style.display="none")}));const o=document.querySelector("body.VIpgJd-ZVi9od-ORHb");o&&o.remove();const c=document.querySelectorAll('iframe[src*="translate.googleapis.com"]'),l=document.querySelector("iframe.goog-te-banner-frame");c.forEach(A=>{A.remove()}),l&&l.remove(),[".VIpgJd-ZVi9od-ORHb",".VIpgJd-ZVi9od-ORHb-bN97Pc",".VIpgJd-ZVi9od-LgbsSe",".VIpgJd-ZVi9od-xl07Ob-lTBxed",".VIpgJd-ZVi9od-TvD9Pc-hSRGPd",".VIpgJd-ZVi9od-l4eHX-hSRGPd",".VIpgJd-ZVi9od-ORHb-KE6vqe"].forEach(A=>{document.querySelectorAll(A).forEach(p=>{p.remove()})}),['[id$=".finishSection"]','[id$=".progressSection"]','[id$=".promptSection"]','[id$=".errorSection"]'].forEach(A=>{document.querySelectorAll(A).forEach(p=>{p.remove()})}),[".goog-logo-link",".goog-te-banner-frame",".goog-te-banner-frame.skiptranslate","#goog-gt-tt",".goog-te-balloon-frame",".goog-te-spinner-pos",".goog-te-ftab-frame",".goog-tooltip",".goog-te-menu-frame"].forEach(A=>{document.querySelectorAll(A).forEach(p=>{p.remove()})}),document.querySelectorAll('table[border="0"][cellspacing="0"][cellpadding="0"][height="100%"]').forEach(A=>{A.remove()}),document.querySelectorAll('[id^="goog-gt"]').forEach(A=>{A.id!=="google_translate_element"&&A.remove()}),document.body&&(document.body.style.top="0px",document.body.style.position="static",document.body.style.marginTop="0px",document.body.style.transform="none"),document.documentElement&&(document.documentElement.style.top="0px",document.documentElement.style.position="static",document.documentElement.style.marginTop="0px",document.documentElement.style.transform="none")},t=setInterval(e,100),n=new MutationObserver(s=>{let i=!1;s.forEach(a=>{a.type==="childList"&&a.addedNodes.length>0&&(i=!0),a.type==="attributes"&&(a.attributeName==="class"||a.attributeName==="style")&&(i=!0)}),i&&setTimeout(e,10)});return n.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class","style"]}),()=>{clearInterval(t),n.disconnect()}},[]),r.jsxs("div",{children:[r.jsx("div",{id:"google_translate_element",style:{marginLeft:1,zIndex:99999,position:"relative",display:"block",visibility:"visible",opacity:1}}),r.jsx("style",{children:`
          /* Đảm bảo container luôn hiển thị */
          #google_translate_element {
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
            position: relative !important;
            z-index: 99999 !important;
          }

          /* Đảm bảo gadget hiển thị */
          .goog-te-gadget {
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
            position: relative !important;
            z-index: 99999 !important;
            color: transparent !important;
            font-size: 0 !important;
            line-height: 0 !important;
          }

          /* Style cho combobox - ưu tiên cao nhất */
          .goog-te-combo {
            font-size: 16px !important;
            padding: 8px 12px !important;
            height: auto !important;
            border-radius: 6px !important;
            min-width: 180px !important;
            color: black !important;
            background-color: white !important;
            border: 1px solid #ccc !important;
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
            cursor: pointer !important;
            pointer-events: auto !important;
            position: relative !important;
            z-index: 99999 !important;
            top: auto !important;
            left: auto !important;
            width: auto !important;
            margin: 0 !important;
            transform: none !important;
          }

          .goog-te-combo:hover {
            border-color: #999 !important;
          }

          .goog-te-combo:focus {
            outline: none !important;
            border-color: #4285f4 !important;
            box-shadow: 0 0 0 2px rgba(66, 133, 244, 0.2) !important;
          }

          /* Style cho option */
          .goog-te-combo option {
            color: black !important;
            background-color: white !important;
            padding: 5px !important;
            display: block !important;
            visibility: visible !important;
          }

          /* Ẩn span text trong gadget nhưng giữ combobox */
          .goog-te-gadget span:not(:has(.goog-te-combo)) {
            display: none !important;
          }

          /* Ẩn hoàn toàn tất cả UI Google Translate không mong muốn */
          .goog-logo-link,
          #goog-gt-tt,
          .goog-te-balloon-frame,
          .goog-te-banner-frame,
          .goog-te-banner-frame.skiptranslate,
          .goog-te-spinner-pos,
          .goog-te-ftab-frame,
          .goog-tooltip,
          .goog-te-menu-frame,
          .VIpgJd-ZVi9od-ORHb,
          .VIpgJd-ZVi9od-ORHb-bN97Pc,
          .VIpgJd-ZVi9od-LgbsSe,
          .VIpgJd-ZVi9od-xl07Ob-lTBxed,
          .VIpgJd-ZVi9od-TvD9Pc-hSRGPd,
          .VIpgJd-ZVi9od-l4eHX-hSRGPd,
          .VIpgJd-ZVi9od-ORHb-KE6vqe,
          [id$=".finishSection"],
          [id$=".progressSection"],
          [id$=".promptSection"],
          [id$=".errorSection"],
          [id^="goog-gt-"]:not(#google_translate_element),
          table[border="0"][cellspacing="0"][cellpadding="0"][height="100%"],
          iframe.goog-te-banner-frame,
          iframe[src*="translate.googleapis.com"],
          body.VIpgJd-ZVi9od-ORHb {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            width: 0 !important;
            height: 0 !important;
            position: absolute !important;
            top: -9999px !important;
            left: -9999px !important;
            pointer-events: none !important;
          }

          /* Khôi phục vị trí body và html bình thường */
          body, html {
            top: 0px !important;
            position: static !important;
            margin-top: 0px !important;
            transform: none !important;
          }

          /* Đảm bảo không có phần tử nào có thể hiển thị overlay */
          body > iframe[src*="translate.googleapis.com"] {
            display: none !important;
          }

          /* Ẩn tất cả các phần tử có thể xuất hiện sau khi dịch */
          [class*="VIpgJd"]:not(.goog-te-combo):not(#google_translate_element):not(.goog-te-gadget) {
            display: none !important;
          }

          /* Ẩn tất cả goog-te elements trừ combobox */
          [class*="goog-te"]:not(.goog-te-combo):not(.goog-te-gadget):not(#google_translate_element) {
            display: none !important;
          }

          /* Đảm bảo combobox luôn ở trên cùng */
          .goog-te-gadget .goog-te-combo {
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
            position: relative !important;
            z-index: 99999 !important;
          }
        `})]})),it=B.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Fe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));it.displayName="Card";const yt=B.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Fe("flex flex-col space-y-1.5 p-6",e),...t}));yt.displayName="CardHeader";const jt=B.forwardRef(({className:e,...t},n)=>r.jsx("h3",{ref:n,className:Fe("text-2xl font-semibold leading-none tracking-tight",e),...t}));jt.displayName="CardTitle";const ks=B.forwardRef(({className:e,...t},n)=>r.jsx("p",{ref:n,className:Fe("text-sm text-muted-foreground",e),...t}));ks.displayName="CardDescription";const dt=B.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Fe("p-6 pt-0",e),...t}));dt.displayName="CardContent";const Ld=B.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Fe("flex items-center p-6 pt-0",e),...t}));Ld.displayName="CardFooter";const Iue=$u("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Kt({className:e,variant:t,...n}){return r.jsx("div",{className:Fe(Iue({variant:t}),e),...n})}const hj="https://bicacuatho.azurewebsites.net",Oue=e=>e.map(t=>({id:t.id,name:t.name,imageSrc:t.hinh[0]?`data:image/jpeg;base64,${t.hinh[0]}`:null,price:Math.round(t.donGia*(1-(t.khuyenMaiMax||0)/100)),discountPercent:t.khuyenMaiMax||0,type:"product",thuongHieu:t.thuongHieu||"Không xác định",chatLieu:t.chatLieu||"Không xác định",soLuongDaBan:t.soLuongDaBan||0})),Lue=e=>e.map(t=>{const n=t.sanPhams.reduce((o,c)=>o+c.donGia*(c.soLuong||1),0),s=Math.round(t.gia*(1-(t.khuyenMaiMax||0)/100)),i=n-s,a=Math.round((n-t.gia)/n*100);return{id:t.maCombo,name:t.name,imageSrc:t.hinhAnh?`data:image/jpeg;base64,${t.hinhAnh}`:null,price:s,originalPrice:n,discountPercent:t.khuyenMaiMax||0,savings:i,savingsPercentageComparedToRetail:a,type:"combo",productCount:t.sanPhams.length}}),Fue=e=>e.filter(t=>t.isPublished).map(t=>({id:t.maBlog,name:t.tieuDe,imageSrc:t.hinhAnh?`data:image/jpeg;base64,${t.hinhAnh}`:null,price:null,discountPercent:0,type:"blog",slug:t.slug})),$R=()=>{const[e,t]=B.useState(!1),[n,s]=B.useState(""),[i,a]=B.useState([]),[o,c]=B.useState([]),[l,u]=B.useState([]),[d,f]=B.useState([]),[h,m]=B.useState(!1),[A,g]=B.useState(null),p=B.useRef(null);return B.useEffect(()=>{(async()=>{m(!0);try{const[x,v,y]=await Promise.all([Nt.get(`${hj}/api/SanPham/ListSanPham`),Nt.get(`${hj}/api/Combo/ComboSanPhamView`),Nt.get(`${hj}/api/Blog`)]);c(x.data),u(v.data),f(y.data)}catch(x){g("Không thể tải dữ liệu. Vui lòng kiểm tra kết nối hoặc thử lại sau."),console.error("Lỗi khi lấy dữ liệu:",x)}finally{m(!1)}})()},[]),B.useEffect(()=>{const b=x=>{p.current&&!p.current.contains(x.target)&&(t(!1),s(""),a([]))};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]),B.useEffect(()=>{const b=setTimeout(()=>{if(e&&n.trim()){const x=n.toLowerCase().trim(),v=Oue(o.filter(M=>M.name.toLowerCase().includes(x))),y=Lue(l.filter(M=>M.name.toLowerCase().includes(x))),N=Fue(d.filter(M=>M.tieuDe.toLowerCase().includes(x)||M.noiDung.toLowerCase().includes(x)||M.tags&&M.tags.some(k=>k.toLowerCase().includes(x)))),P=[...v,...y,...N].slice(0,5);a(P)}else a([])},300);return()=>clearTimeout(b)},[n,e,o,l,d]),r.jsxs("div",{className:"relative",ref:p,children:[r.jsxs(fe,{variant:"ghost",onClick:()=>t(!e),"aria-label":e?"Đóng tìm kiếm":"Mở tìm kiếm",className:Fe("flex items-center space-x-2 px-4 py-2 rounded-[5px]",e&&"bg-accent text-accent-foreground"),children:[r.jsx(Un,{className:Fe("h-5 w-5",e?"text-crocus-600":"text-gray-600")}),r.jsx("span",{className:"text-sm font-medium",children:"TÌM KIẾM"})]}),e&&r.jsxs("div",{className:"absolute right-0 mt-2 w-[640px] bg-white shadow-lg rounded-lg z-50 border border-gray-100",children:[r.jsxs("div",{className:"p-4 flex items-center gap-2",children:[r.jsx(ye,{type:"text",placeholder:"Nhập từ khóa tìm kiếm",value:n,onChange:b=>s(b.target.value),className:"w-full border-gray-300 focus:ring-crocus-500","aria-label":"Nhập từ khóa tìm kiếm"}),n&&r.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>{s(""),a([])},className:"text-gray-500 hover:text-gray-700","aria-label":"Xóa từ khóa tìm kiếm",children:r.jsx(st,{className:"h-4 w-4"})})]}),A&&r.jsx("div",{className:"p-4 text-center text-red-500 text-sm font-medium",children:A}),h?r.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"Đang tải dữ liệu..."}):i.length>0?r.jsx("div",{className:"max-h-96 overflow-y-auto px-2 pb-2",children:i.map(b=>{var x,v;return r.jsx(ct,{to:b.type==="blog"&&b.slug?`/blogs/${b.slug}`:`/${b.type}s/${b.id}`,"aria-label":`Xem chi tiết ${b.type==="blog"?"bài viết":b.type==="product"?"sản phẩm":"combo"} ${b.name}`,onClick:()=>{t(!1),s(""),a([])},children:r.jsx(it,{className:"m-2 hover:bg-gray-50 transition-colors rounded-md",children:r.jsxs(dt,{className:"flex items-center p-3 gap-3",children:[b.imageSrc&&r.jsx("img",{src:b.imageSrc,alt:b.name,className:"w-16 h-16 object-cover rounded-md"}),r.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("div",{className:"text-sm font-semibold text-gray-800 line-clamp-1",children:b.name}),r.jsx("span",{className:"text-xs text-gray-500 capitalize",children:b.type==="blog"?"Bài viết":b.type==="product"?"Sản phẩm":"Combo"})]}),b.type!=="blog"&&b.price&&r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsxs("div",{className:"flex items-baseline gap-2",children:[r.jsxs("span",{className:"text-sm font-bold text-red-600",children:[b.price.toLocaleString("vi-VN",{maximumFractionDigits:0})," VND"]}),b.discountPercent>0&&r.jsxs("span",{className:"text-xs text-gray-500 line-through",children:[b.type==="product"?(b.price/(1-b.discountPercent/100)).toLocaleString("vi-VN",{maximumFractionDigits:0}):(x=b.originalPrice)==null?void 0:x.toLocaleString("vi-VN",{maximumFractionDigits:0})," VND"]})]}),b.discountPercent>0&&r.jsx("div",{className:"flex gap-2 items-center",children:r.jsxs(Kt,{className:"text-xs text-green-700 bg-green-50 px-2 py-0.5",children:["Tiết kiệm"," ",b.type==="product"?Math.round(b.price/(1-b.discountPercent/100)*(b.discountPercent/100)).toLocaleString("vi-VN"):(v=b.savings)==null?void 0:v.toLocaleString("vi-VN")," VND"]})}),b.type==="combo"&&b.savingsPercentageComparedToRetail?r.jsxs(Kt,{className:"text-xs bg-blue-500 text-white px-2 py-0.5",children:["Đã giảm ",b.savingsPercentageComparedToRetail,"%"]}):null,b.type==="product"&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Kt,{variant:"outline",className:"text-xs px-2 py-0.5 bg-blue-50 border-blue-200 text-blue-700",children:["🏷️ ",b.thuongHieu]}),r.jsxs(Kt,{variant:"outline",className:"text-xs px-2 py-0.5 bg-green-50 border-green-200 text-green-700",children:["🧵 ",b.chatLieu]})]}),b.type==="combo"&&b.productCount&&r.jsxs(Kt,{className:"text-xs bg-crocus-500 text-white px-2 py-0.5",children:["📦 ",b.productCount," sản phẩm"]})]})]})]})})},`${b.type}-${b.id}`)})}):n?r.jsxs("div",{className:"p-4 text-center text-gray-500 text-sm",children:['Không tìm thấy kết quả cho "',n,'"']}):r.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"Vui lòng nhập từ khóa để tìm kiếm"})]})]})};function m0(e){const t=B.useRef({value:e,previous:e});return B.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var kh="NavigationMenu",[h5,QR,Rue]=Ch(kh),[y4,Uue,Hue]=Ch(kh),[f5,cUe]=qs(kh,[Rue,Hue]),[$ue,Wa]=f5(kh),[Que,zue]=f5(kh),zR=B.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,value:s,onValueChange:i,defaultValue:a,delayDuration:o=200,skipDelayDuration:c=300,orientation:l="horizontal",dir:u,...d}=e,[f,h]=B.useState(null),m=dn(t,D=>h(D)),A=Nh(u),g=B.useRef(0),p=B.useRef(0),b=B.useRef(0),[x,v]=B.useState(!0),[y,N]=na({prop:s,onChange:D=>{const O=D!=="",L=c>0;O?(window.clearTimeout(b.current),L&&v(!1)):(window.clearTimeout(b.current),b.current=window.setTimeout(()=>v(!0),c)),i==null||i(D)},defaultProp:a??"",caller:kh}),P=B.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>N(""),150)},[N]),M=B.useCallback(D=>{window.clearTimeout(p.current),N(D)},[N]),k=B.useCallback(D=>{y===D?window.clearTimeout(p.current):g.current=window.setTimeout(()=>{window.clearTimeout(p.current),N(D)},o)},[y,N,o]);return B.useEffect(()=>()=>{window.clearTimeout(g.current),window.clearTimeout(p.current),window.clearTimeout(b.current)},[]),r.jsx(VR,{scope:n,isRootMenu:!0,value:y,dir:A,orientation:l,rootNavigationMenu:f,onTriggerEnter:D=>{window.clearTimeout(g.current),x?k(D):M(D)},onTriggerLeave:()=>{window.clearTimeout(g.current),P()},onContentEnter:()=>window.clearTimeout(p.current),onContentLeave:P,onItemSelect:D=>{N(O=>O===D?"":D)},onItemDismiss:()=>N(""),children:r.jsx(Ct.nav,{"aria-label":"Main","data-orientation":l,dir:A,...d,ref:m})})});zR.displayName=kh;var w4="NavigationMenuSub",Vue=B.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,value:s,onValueChange:i,defaultValue:a,orientation:o="horizontal",...c}=e,l=Wa(w4,n),[u,d]=na({prop:s,onChange:i,defaultProp:a??"",caller:w4});return r.jsx(VR,{scope:n,isRootMenu:!1,value:u,dir:l.dir,orientation:o,rootNavigationMenu:l.rootNavigationMenu,onTriggerEnter:f=>d(f),onItemSelect:f=>d(f),onItemDismiss:()=>d(""),children:r.jsx(Ct.div,{"data-orientation":o,...c,ref:t})})});Vue.displayName=w4;var VR=e=>{const{scope:t,isRootMenu:n,rootNavigationMenu:s,dir:i,orientation:a,children:o,value:c,onItemSelect:l,onItemDismiss:u,onTriggerEnter:d,onTriggerLeave:f,onContentEnter:h,onContentLeave:m}=e,[A,g]=B.useState(null),[p,b]=B.useState(new Map),[x,v]=B.useState(null);return r.jsx($ue,{scope:t,isRootMenu:n,rootNavigationMenu:s,value:c,previousValue:m0(c),baseId:Yi(),dir:i,orientation:a,viewport:A,onViewportChange:g,indicatorTrack:x,onIndicatorTrackChange:v,onTriggerEnter:es(d),onTriggerLeave:es(f),onContentEnter:es(h),onContentLeave:es(m),onItemSelect:es(l),onItemDismiss:es(u),onViewportContentChange:B.useCallback((y,N)=>{b(P=>(P.set(y,N),new Map(P)))},[]),onViewportContentRemove:B.useCallback(y=>{b(N=>N.has(y)?(N.delete(y),new Map(N)):N)},[]),children:r.jsx(h5.Provider,{scope:t,children:r.jsx(Que,{scope:t,items:p,children:o})})})},KR="NavigationMenuList",GR=B.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,...s}=e,i=Wa(KR,n),a=r.jsx(Ct.ul,{"data-orientation":i.orientation,...s,ref:t});return r.jsx(Ct.div,{style:{position:"relative"},ref:i.onIndicatorTrackChange,children:r.jsx(h5.Slot,{scope:n,children:i.isRootMenu?r.jsx(rU,{asChild:!0,children:a}):a})})});GR.displayName=KR;var WR="NavigationMenuItem",[Kue,qR]=f5(WR),XR=B.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,value:s,...i}=e,a=Yi(),o=s||a||"LEGACY_REACT_AUTO_VALUE",c=B.useRef(null),l=B.useRef(null),u=B.useRef(null),d=B.useRef(()=>{}),f=B.useRef(!1),h=B.useCallback((A="start")=>{if(c.current){d.current();const g=C4(c.current);g.length&&A5(A==="start"?g:g.reverse())}},[]),m=B.useCallback(()=>{if(c.current){const A=C4(c.current);A.length&&(d.current=Jue(A))}},[]);return r.jsx(Kue,{scope:n,value:o,triggerRef:l,contentRef:c,focusProxyRef:u,wasEscapeCloseRef:f,onEntryKeyDown:h,onFocusProxyEnter:h,onRootContentClose:m,onContentFocusOutside:m,children:r.jsx(Ct.li,{...i,ref:t})})});XR.displayName=WR;var j4="NavigationMenuTrigger",YR=B.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,disabled:s,...i}=e,a=Wa(j4,e.__scopeNavigationMenu),o=qR(j4,e.__scopeNavigationMenu),c=B.useRef(null),l=dn(c,o.triggerRef,t),u=iU(a.baseId,o.value),d=aU(a.baseId,o.value),f=B.useRef(!1),h=B.useRef(!1),m=o.value===a.value;return r.jsxs(r.Fragment,{children:[r.jsx(h5.ItemSlot,{scope:n,value:o.value,children:r.jsx(sU,{asChild:!0,children:r.jsx(Ct.button,{id:u,disabled:s,"data-disabled":s?"":void 0,"data-state":g5(m),"aria-expanded":m,"aria-controls":d,...i,ref:l,onPointerEnter:et(e.onPointerEnter,()=>{h.current=!1,o.wasEscapeCloseRef.current=!1}),onPointerMove:et(e.onPointerMove,ty(()=>{s||h.current||o.wasEscapeCloseRef.current||f.current||(a.onTriggerEnter(o.value),f.current=!0)})),onPointerLeave:et(e.onPointerLeave,ty(()=>{s||(a.onTriggerLeave(),f.current=!1)})),onClick:et(e.onClick,()=>{a.onItemSelect(o.value),h.current=m}),onKeyDown:et(e.onKeyDown,A=>{const p={horizontal:"ArrowDown",vertical:a.dir==="rtl"?"ArrowLeft":"ArrowRight"}[a.orientation];m&&A.key===p&&(o.onEntryKeyDown(),A.preventDefault())})})})}),m&&r.jsxs(r.Fragment,{children:[r.jsx(H7,{"aria-hidden":!0,tabIndex:0,ref:o.focusProxyRef,onFocus:A=>{const g=o.contentRef.current,p=A.relatedTarget,b=p===c.current,x=g==null?void 0:g.contains(p);(b||!x)&&o.onFocusProxyEnter(b?"start":"end")}}),a.viewport&&r.jsx("span",{"aria-owns":d})]})]})});YR.displayName=j4;var Gue="NavigationMenuLink",PB="navigationMenu.linkSelect",ZR=B.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,active:s,onSelect:i,...a}=e;return r.jsx(sU,{asChild:!0,children:r.jsx(Ct.a,{"data-active":s?"":void 0,"aria-current":s?"page":void 0,...a,ref:t,onClick:et(e.onClick,o=>{const c=o.target,l=new CustomEvent(PB,{bubbles:!0,cancelable:!0});if(c.addEventListener(PB,u=>i==null?void 0:i(u),{once:!0}),rg(c,l),!l.defaultPrevented&&!o.metaKey){const u=new CustomEvent(Wb,{bubbles:!0,cancelable:!0});rg(c,u)}},{checkForDefaultPrevented:!1})})})});ZR.displayName=Gue;var m5="NavigationMenuIndicator",JR=B.forwardRef((e,t)=>{const{forceMount:n,...s}=e,i=Wa(m5,e.__scopeNavigationMenu),a=!!i.value;return i.indicatorTrack?vT.createPortal(r.jsx(_s,{present:n||a,children:r.jsx(Wue,{...s,ref:t})}),i.indicatorTrack):null});JR.displayName=m5;var Wue=B.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,...s}=e,i=Wa(m5,n),a=QR(n),[o,c]=B.useState(null),[l,u]=B.useState(null),d=i.orientation==="horizontal",f=!!i.value;B.useEffect(()=>{var g;const A=(g=a().find(p=>p.value===i.value))==null?void 0:g.ref.current;A&&c(A)},[a,i.value]);const h=()=>{o&&u({size:d?o.offsetWidth:o.offsetHeight,offset:d?o.offsetLeft:o.offsetTop})};return N4(o,h),N4(i.indicatorTrack,h),l?r.jsx(Ct.div,{"aria-hidden":!0,"data-state":f?"visible":"hidden","data-orientation":i.orientation,...s,ref:t,style:{position:"absolute",...d?{left:0,width:l.size+"px",transform:`translateX(${l.offset}px)`}:{top:0,height:l.size+"px",transform:`translateY(${l.offset}px)`},...s.style}}):null}),im="NavigationMenuContent",eU=B.forwardRef((e,t)=>{const{forceMount:n,...s}=e,i=Wa(im,e.__scopeNavigationMenu),a=qR(im,e.__scopeNavigationMenu),o=dn(a.contentRef,t),c=a.value===i.value,l={value:a.value,triggerRef:a.triggerRef,focusProxyRef:a.focusProxyRef,wasEscapeCloseRef:a.wasEscapeCloseRef,onContentFocusOutside:a.onContentFocusOutside,onRootContentClose:a.onRootContentClose,...s};return i.viewport?r.jsx(que,{forceMount:n,...l,ref:o}):r.jsx(_s,{present:n||c,children:r.jsx(tU,{"data-state":g5(c),...l,ref:o,onPointerEnter:et(e.onPointerEnter,i.onContentEnter),onPointerLeave:et(e.onPointerLeave,ty(i.onContentLeave)),style:{pointerEvents:!c&&i.isRootMenu?"none":void 0,...l.style}})})});eU.displayName=im;var que=B.forwardRef((e,t)=>{const n=Wa(im,e.__scopeNavigationMenu),{onViewportContentChange:s,onViewportContentRemove:i}=n;return Xr(()=>{s(e.value,{ref:t,...e})},[e,t,s]),Xr(()=>()=>i(e.value),[e.value,i]),null}),Wb="navigationMenu.rootContentDismiss",tU=B.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,value:s,triggerRef:i,focusProxyRef:a,wasEscapeCloseRef:o,onRootContentClose:c,onContentFocusOutside:l,...u}=e,d=Wa(im,n),f=B.useRef(null),h=dn(f,t),m=iU(d.baseId,s),A=aU(d.baseId,s),g=QR(n),p=B.useRef(null),{onItemDismiss:b}=d;B.useEffect(()=>{const v=f.current;if(d.isRootMenu&&v){const y=()=>{var N;b(),c(),v.contains(document.activeElement)&&((N=i.current)==null||N.focus())};return v.addEventListener(Wb,y),()=>v.removeEventListener(Wb,y)}},[d.isRootMenu,e.value,i,b,c]);const x=B.useMemo(()=>{const y=g().map(O=>O.value);d.dir==="rtl"&&y.reverse();const N=y.indexOf(d.value),P=y.indexOf(d.previousValue),M=s===d.value,k=P===y.indexOf(s);if(!M&&!k)return p.current;const D=(()=>{if(N!==P){if(M&&P!==-1)return N>P?"from-end":"from-start";if(k&&N!==-1)return N>P?"to-start":"to-end"}return null})();return p.current=D,D},[d.previousValue,d.value,d.dir,g,s]);return r.jsx(rU,{asChild:!0,children:r.jsx(Hu,{id:A,"aria-labelledby":m,"data-motion":x,"data-orientation":d.orientation,...u,ref:h,disableOutsidePointerEvents:!1,onDismiss:()=>{var y;const v=new Event(Wb,{bubbles:!0,cancelable:!0});(y=f.current)==null||y.dispatchEvent(v)},onFocusOutside:et(e.onFocusOutside,v=>{var N;l();const y=v.target;(N=d.rootNavigationMenu)!=null&&N.contains(y)&&v.preventDefault()}),onPointerDownOutside:et(e.onPointerDownOutside,v=>{var M;const y=v.target,N=g().some(k=>{var D;return(D=k.ref.current)==null?void 0:D.contains(y)}),P=d.isRootMenu&&((M=d.viewport)==null?void 0:M.contains(y));(N||P||!d.isRootMenu)&&v.preventDefault()}),onKeyDown:et(e.onKeyDown,v=>{var P;const y=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!y){const M=C4(v.currentTarget),k=document.activeElement,D=M.findIndex(F=>F===k),L=v.shiftKey?M.slice(0,D).reverse():M.slice(D+1,M.length);A5(L)?v.preventDefault():(P=a.current)==null||P.focus()}}),onEscapeKeyDown:et(e.onEscapeKeyDown,v=>{o.current=!0})})})}),p5="NavigationMenuViewport",nU=B.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=!!Wa(p5,e.__scopeNavigationMenu).value;return r.jsx(_s,{present:n||a,children:r.jsx(Xue,{...s,ref:t})})});nU.displayName=p5;var Xue=B.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,children:s,...i}=e,a=Wa(p5,n),o=dn(t,a.onViewportChange),c=zue(im,e.__scopeNavigationMenu),[l,u]=B.useState(null),[d,f]=B.useState(null),h=l?(l==null?void 0:l.width)+"px":void 0,m=l?(l==null?void 0:l.height)+"px":void 0,A=!!a.value,g=A?a.value:a.previousValue;return N4(d,()=>{d&&u({width:d.offsetWidth,height:d.offsetHeight})}),r.jsx(Ct.div,{"data-state":g5(A),"data-orientation":a.orientation,...i,ref:o,style:{pointerEvents:!A&&a.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":h,"--radix-navigation-menu-viewport-height":m,...i.style},onPointerEnter:et(e.onPointerEnter,a.onContentEnter),onPointerLeave:et(e.onPointerLeave,ty(a.onContentLeave)),children:Array.from(c.items).map(([b,{ref:x,forceMount:v,...y}])=>{const N=g===b;return r.jsx(_s,{present:v||N,children:r.jsx(tU,{...y,ref:Yg(x,P=>{N&&P&&f(P)})})},b)})})}),Yue="FocusGroup",rU=B.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,...s}=e,i=Wa(Yue,n);return r.jsx(y4.Provider,{scope:n,children:r.jsx(y4.Slot,{scope:n,children:r.jsx(Ct.div,{dir:i.dir,...s,ref:t})})})}),MB=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],Zue="FocusGroupItem",sU=B.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,...s}=e,i=Uue(n),a=Wa(Zue,n);return r.jsx(y4.ItemSlot,{scope:n,children:r.jsx(Ct.button,{...s,ref:t,onKeyDown:et(e.onKeyDown,o=>{if(["Home","End",...MB].includes(o.key)){let l=i().map(f=>f.ref.current);if([a.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(o.key)&&l.reverse(),MB.includes(o.key)){const f=l.indexOf(o.currentTarget);l=l.slice(f+1)}setTimeout(()=>A5(l)),o.preventDefault()}})})})});function C4(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function A5(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}function Jue(e){return e.forEach(t=>{t.dataset.tabindex=t.getAttribute("tabindex")||"",t.setAttribute("tabindex","-1")}),()=>{e.forEach(t=>{const n=t.dataset.tabindex;t.setAttribute("tabindex",n)})}}function N4(e,t){const n=es(t);Xr(()=>{let s=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(s),i.unobserve(e)}}},[e,n])}function g5(e){return e?"open":"closed"}function iU(e,t){return`${e}-trigger-${t}`}function aU(e,t){return`${e}-content-${t}`}function ty(e){return t=>t.pointerType==="mouse"?e(t):void 0}var oU=zR,lU=GR,ede=XR,cU=YR,tde=ZR,uU=JR,dU=eU,hU=nU;const fU=B.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(oU,{ref:s,className:Fe("relative z-10 flex max-w-max flex-1 items-center justify-center",e),...n,children:[t,r.jsx(AU,{})]}));fU.displayName=oU.displayName;const mU=B.forwardRef(({className:e,...t},n)=>r.jsx(lU,{ref:n,className:Fe("group flex flex-1 list-none items-center justify-center space-x-1",e),...t}));mU.displayName=lU.displayName;const nde=ede,pU=$u("group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"),rde=B.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(cU,{ref:s,className:Fe(pU(),"group",e),...n,children:[t," ",r.jsx(ml,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180","aria-hidden":"true"})]}));rde.displayName=cU.displayName;const sde=B.forwardRef(({className:e,...t},n)=>r.jsx(dU,{ref:n,className:Fe("left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ",e),...t}));sde.displayName=dU.displayName;const ide=tde,AU=B.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:Fe("absolute left-0 top-full flex justify-center"),children:r.jsx(hU,{className:Fe("origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",e),ref:n,...t})}));AU.displayName=hU.displayName;const ade=B.forwardRef(({className:e,...t},n)=>r.jsx(uU,{ref:n,className:Fe("top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",e),...t,children:r.jsx("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md"})}));ade.displayName=uU.displayName;function ode(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const gU=je.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),p0=()=>{const e=je.useContext(gU);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};ode(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const lde=24,cde=typeof window<"u"?B.useLayoutEffect:B.useEffect;function DB(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}function ude(){return x5(/^Mac/)}function dde(){return x5(/^iPhone/)}function IB(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function hde(){return x5(/^iPad/)||ude()&&navigator.maxTouchPoints>1}function xU(){return dde()||hde()}function x5(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const fj=typeof document<"u"&&window.visualViewport;function OB(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function bU(e){for(OB(e)&&(e=e.parentElement);e&&!OB(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const fde=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let mx=0,mj;function mde(e={}){let{isDisabled:t}=e;cde(()=>{if(!t)return mx++,mx===1&&xU()&&(mj=pde()),()=>{mx--,mx===0&&(mj==null||mj())}},[t])}function pde(){let e,t=0,n=f=>{e=bU(f.target),!(e===document.documentElement&&e===document.body)&&(t=f.changedTouches[0].pageY)},s=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let h=f.changedTouches[0].pageY,m=e.scrollTop,A=e.scrollHeight-e.clientHeight;A!==0&&((m<=0&&h>t||m>=A&&h<t)&&f.preventDefault(),t=h)},i=f=>{let h=f.target;S4(h)&&h!==document.activeElement&&(f.preventDefault(),h.style.transform="translateY(-2000px)",h.focus(),requestAnimationFrame(()=>{h.style.transform=""}))},a=f=>{let h=f.target;S4(h)&&(h.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{h.style.transform="",fj&&(fj.height<window.innerHeight?requestAnimationFrame(()=>{LB(h)}):fj.addEventListener("resize",()=>LB(h),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},c=window.pageXOffset,l=window.pageYOffset,u=DB(Ade(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let d=DB(dp(document,"touchstart",n,{passive:!1,capture:!0}),dp(document,"touchmove",s,{passive:!1,capture:!0}),dp(document,"touchend",i,{passive:!1,capture:!0}),dp(document,"focus",a,!0),dp(window,"scroll",o));return()=>{u(),d(),window.scrollTo(c,l)}}function Ade(e,t,n){let s=e.style[t];return e.style[t]=n,()=>{e.style[t]=s}}function dp(e,t,n,s){return e.addEventListener(t,n,s),()=>{e.removeEventListener(t,n,s)}}function LB(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=bU(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let s=n.getBoundingClientRect().top,i=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom;const o=n.getBoundingClientRect().bottom+lde;a>o&&(n.scrollTop+=i-s)}e=n.parentElement}}function S4(e){return e instanceof HTMLInputElement&&!fde.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function gde(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function xde(...e){return t=>e.forEach(n=>gde(n,t))}function vU(...e){return B.useCallback(xde(...e),e)}const yU=new WeakMap;function ws(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let s={};Object.entries(t).forEach(([i,a])=>{if(i.startsWith("--")){e.style.setProperty(i,a);return}s[i]=e.style[i],e.style[i]=a}),!n&&yU.set(e,s)}function bde(e,t){if(!e||!(e instanceof HTMLElement))return;let n=yU.get(e);n&&(e.style[t]=n[t])}const js=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function px(e,t){if(!e)return null;const n=window.getComputedStyle(e),s=n.transform||n.webkitTransform||n.mozTransform;let i=s.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[js(t)?13:12]):(i=s.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[js(t)?5:4]):null)}function vde(e){return 8*(Math.log(e+1)-2)}function pj(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function yde(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const Qr={DURATION:.5,EASE:[.32,.72,0,1]},wU=.4,wde=.25,jde=100,jU=8,nd=16,T4=26,Aj="vaul-dragging";function CU(e){const t=je.useRef(e);return je.useEffect(()=>{t.current=e}),je.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function Cde({defaultProp:e,onChange:t}){const n=je.useState(e),[s]=n,i=je.useRef(s),a=CU(t);return je.useEffect(()=>{i.current!==s&&(a(s),i.current=s)},[s,i,a]),n}function NU({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,i]=Cde({defaultProp:t,onChange:n}),a=e!==void 0,o=a?e:s,c=CU(n),l=je.useCallback(u=>{if(a){const f=typeof u=="function"?u(e):u;f!==e&&c(f)}else i(u)},[a,e,i,c]);return[o,l]}function Nde({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:s,overlayRef:i,fadeFromIndex:a,onSnapPointChange:o,direction:c="bottom",container:l,snapToSequentialPoint:u}){const[d,f]=NU({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[h,m]=je.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);je.useEffect(()=>{function M(){m({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]);const A=je.useMemo(()=>d===(n==null?void 0:n[n.length-1])||null,[n,d]),g=je.useMemo(()=>n==null?void 0:n.findIndex(M=>M===d),[n,d]),p=n&&n.length>0&&(a||a===0)&&!Number.isNaN(a)&&n[a]===d||!n,b=je.useMemo(()=>{const M=l?{width:l.getBoundingClientRect().width,height:l.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var k;return(k=n==null?void 0:n.map(D=>{const O=typeof D=="string";let L=0;if(O&&(L=parseInt(D,10)),js(c)){const _=O?L:h?D*M.height:0;return h?c==="bottom"?M.height-_:-M.height+_:_}const F=O?L:h?D*M.width:0;return h?c==="right"?M.width-F:-M.width+F:F}))!=null?k:[]},[n,h,l]),x=je.useMemo(()=>g!==null?b==null?void 0:b[g]:null,[b,g]),v=je.useCallback(M=>{var k;const D=(k=b==null?void 0:b.findIndex(O=>O===M))!=null?k:null;o(D),ws(s.current,{transition:`transform ${Qr.DURATION}s cubic-bezier(${Qr.EASE.join(",")})`,transform:js(c)?`translate3d(0, ${M}px, 0)`:`translate3d(${M}px, 0, 0)`}),b&&D!==b.length-1&&D!==a&&D<a?ws(i.current,{transition:`opacity ${Qr.DURATION}s cubic-bezier(${Qr.EASE.join(",")})`,opacity:"0"}):ws(i.current,{transition:`opacity ${Qr.DURATION}s cubic-bezier(${Qr.EASE.join(",")})`,opacity:"1"}),f(n==null?void 0:n[Math.max(D,0)])},[s.current,n,b,a,i,f]);je.useEffect(()=>{if(d||e){var M;const k=(M=n==null?void 0:n.findIndex(D=>D===e||D===d))!=null?M:-1;b&&k!==-1&&typeof b[k]=="number"&&v(b[k])}},[d,e,n,b,v]);function y({draggedDistance:M,closeDrawer:k,velocity:D,dismissible:O}){if(a===void 0)return;const L=c==="bottom"||c==="right"?(x??0)-M:(x??0)+M,F=g===a-1,_=g===0,E=M>0;if(F&&ws(i.current,{transition:`opacity ${Qr.DURATION}s cubic-bezier(${Qr.EASE.join(",")})`}),!u&&D>2&&!E){O?k():v(b[0]);return}if(!u&&D>2&&E&&b&&n){v(b[n.length-1]);return}const T=b==null?void 0:b.reduce((C,j)=>typeof C!="number"||typeof j!="number"?C:Math.abs(j-L)<Math.abs(C-L)?j:C),w=js(c)?window.innerHeight:window.innerWidth;if(D>wU&&Math.abs(M)<w*.4){const C=E?1:-1;if(C>0&&A){v(b[n.length-1]);return}if(_&&C<0&&O&&k(),g===null)return;v(b[g+C]);return}v(T)}function N({draggedDistance:M}){if(x===null)return;const k=c==="bottom"||c==="right"?x-M:x+M;(c==="bottom"||c==="right")&&k<b[b.length-1]||(c==="top"||c==="left")&&k>b[b.length-1]||ws(s.current,{transform:js(c)?`translate3d(0, ${k}px, 0)`:`translate3d(${k}px, 0, 0)`})}function P(M,k){if(!n||typeof g!="number"||!b||a===void 0)return null;const D=g===a-1;if(g>=a&&k)return 0;if(D&&!k)return 1;if(!p&&!D)return null;const L=D?g+1:g-1,F=D?b[L]-b[L-1]:b[L+1]-b[L],_=M/Math.abs(F);return D?1-_:_}return{isLastSnapPoint:A,activeSnapPoint:d,shouldFade:p,getPercentageDragged:P,setActiveSnapPoint:f,activeSnapPointIndex:g,onRelease:y,onDrag:N,snapPointsOffset:b}}const Sde=()=>()=>{};function Tde(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:s,noBodyStyles:i}=p0(),a=je.useRef(null),o=B.useMemo(()=>document.body.style.backgroundColor,[]);function c(){return(window.innerWidth-T4)/window.innerWidth}je.useEffect(()=>{if(t&&n){a.current&&clearTimeout(a.current);const l=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!l)return;yde(s&&!i?pj(document.body,{background:"black"}):Sde,pj(l,{transformOrigin:js(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Qr.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Qr.EASE.join(",")})`}));const u=pj(l,{borderRadius:`${jU}px`,overflow:"hidden",...js(e)?{transform:`scale(${c()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${c()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),a.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},Qr.DURATION*1e3)}}},[t,n,o])}let hp=null;function kde({isOpen:e,modal:t,nested:n,hasBeenOpened:s,preventScrollRestoration:i,noBodyStyles:a}){const[o,c]=je.useState(()=>typeof window<"u"?window.location.href:""),l=je.useRef(0),u=je.useCallback(()=>{if(IB()&&hp===null&&e&&!a){hp={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:h}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-l.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const m=h-window.innerHeight;m&&l.current>=h&&(document.body.style.top=`${-(l.current+m)}px`)}),300)}},[e]),d=je.useCallback(()=>{if(IB()&&hp!==null&&!a){const f=-parseInt(document.body.style.top,10),h=-parseInt(document.body.style.left,10);Object.assign(document.body.style,hp),window.requestAnimationFrame(()=>{if(i&&o!==window.location.href){c(window.location.href);return}window.scrollTo(h,f)}),hp=null}},[o]);return je.useEffect(()=>{function f(){l.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),je.useEffect(()=>{n||!s||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),t||window.setTimeout(()=>{d()},500)):d())},[e,s,o,t,n,u,d]),{restorePositionSetting:d}}function _de({open:e,onOpenChange:t,children:n,onDrag:s,onRelease:i,snapPoints:a,shouldScaleBackground:o=!1,setBackgroundColorOnScale:c=!0,closeThreshold:l=wde,scrollLockTimeout:u=jde,dismissible:d=!0,handleOnly:f=!1,fadeFromIndex:h=a&&a.length-1,activeSnapPoint:m,setActiveSnapPoint:A,fixed:g,modal:p=!0,onClose:b,nested:x,noBodyStyles:v,direction:y="bottom",defaultOpen:N=!1,disablePreventScroll:P=!0,snapToSequentialPoint:M=!1,preventScrollRestoration:k=!1,repositionInputs:D=!0,onAnimationEnd:O,container:L,autoFocus:F=!1}){var _,E;const[T=!1,w]=NU({defaultProp:N,prop:e,onChange:Ie=>{t==null||t(Ie),!Ie&&!x&&de(),setTimeout(()=>{O==null||O(Ie)},Qr.DURATION*1e3),Ie&&!p&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),Ie||(document.body.style.pointerEvents="auto")}}),[C,j]=je.useState(!1),[S,I]=je.useState(!1),[R,U]=je.useState(!1),z=je.useRef(null),V=je.useRef(null),X=je.useRef(null),$=je.useRef(null),W=je.useRef(null),H=je.useRef(!1),Q=je.useRef(null),G=je.useRef(0),J=je.useRef(!1),ee=je.useRef(0),K=je.useRef(null),ne=je.useRef(((_=K.current)==null?void 0:_.getBoundingClientRect().height)||0),ue=je.useRef(((E=K.current)==null?void 0:E.getBoundingClientRect().width)||0),se=je.useRef(0),ie=je.useCallback(Ie=>{a&&Ie===Y.length-1&&(V.current=new Date)},[]),{activeSnapPoint:q,activeSnapPointIndex:Z,setActiveSnapPoint:te,onRelease:re,snapPointsOffset:Y,onDrag:oe,shouldFade:ae,getPercentageDragged:ce}=Nde({snapPoints:a,activeSnapPointProp:m,setActiveSnapPointProp:A,drawerRef:K,fadeFromIndex:h,overlayRef:z,onSnapPointChange:ie,direction:y,container:L,snapToSequentialPoint:M});mde({isDisabled:!T||S||!p||R||!C||!D||!P});const{restorePositionSetting:de}=kde({isOpen:T,modal:p,nested:x,hasBeenOpened:C,preventScrollRestoration:k,noBodyStyles:v});function pe(){return(window.innerWidth-T4)/window.innerWidth}function Ae(Ie){var Ce,Pe;!d&&!a||K.current&&!K.current.contains(Ie.target)||(ne.current=((Ce=K.current)==null?void 0:Ce.getBoundingClientRect().height)||0,ue.current=((Pe=K.current)==null?void 0:Pe.getBoundingClientRect().width)||0,I(!0),X.current=new Date,xU()&&window.addEventListener("touchend",()=>H.current=!1,{once:!0}),Ie.target.setPointerCapture(Ie.pointerId),G.current=js(y)?Ie.pageY:Ie.pageX)}function le(Ie,Ce){var Pe,ge;let Ne=Ie;const ke=(Pe=window.getSelection())==null?void 0:Pe.toString(),ze=K.current?px(K.current,y):null,Re=new Date;if(Ne.hasAttribute("data-vaul-no-drag")||Ne.closest("[data-vaul-no-drag]"))return!1;if(y==="right"||y==="left")return!0;if(V.current&&Re.getTime()-V.current.getTime()<500)return!1;if(ze!==null&&(y==="bottom"?ze>0:ze<0))return!0;if(ke&&ke.length>0)return!1;if(Re.getTime()-((ge=W.current)==null?void 0:ge.getTime())<u&&ze===0||Ce)return W.current=Re,!1;for(;Ne;){if(Ne.scrollHeight>Ne.clientHeight){if(Ne.scrollTop!==0)return W.current=new Date,!1;if(Ne.getAttribute("role")==="dialog")return!0}Ne=Ne.parentNode}return!0}function he(Ie){if(K.current&&S){const Ce=y==="bottom"||y==="right"?1:-1,Pe=(G.current-(js(y)?Ie.pageY:Ie.pageX))*Ce,ge=Pe>0,Ne=a&&!d&&!ge;if(Ne&&Z===0)return;const ke=Math.abs(Pe),ze=document.querySelector("[data-vaul-drawer-wrapper]"),Re=y==="bottom"||y==="top"?ne.current:ue.current;let Ve=ke/Re;const rt=ce(ke,ge);if(rt!==null&&(Ve=rt),Ne&&Ve>=1||!H.current&&!le(Ie.target,ge))return;if(K.current.classList.add(Aj),H.current=!0,ws(K.current,{transition:"none"}),ws(z.current,{transition:"none"}),a&&oe({draggedDistance:Pe}),ge&&!a){const xt=vde(Pe),Qt=Math.min(xt*-1,0)*Ce;ws(K.current,{transform:js(y)?`translate3d(0, ${Qt}px, 0)`:`translate3d(${Qt}px, 0, 0)`});return}const Dt=1-Ve;if((ae||h&&Z===h-1)&&(s==null||s(Ie,Ve),ws(z.current,{opacity:`${Dt}`,transition:"none"},!0)),ze&&z.current&&o){const xt=Math.min(pe()+Ve*(1-pe()),1),Qt=8-Ve*8,bt=Math.max(0,14-Ve*14);ws(ze,{borderRadius:`${Qt}px`,transform:js(y)?`scale(${xt}) translate3d(0, ${bt}px, 0)`:`scale(${xt}) translate3d(${bt}px, 0, 0)`,transition:"none"},!0)}if(!a){const xt=ke*Ce;ws(K.current,{transform:js(y)?`translate3d(0, ${xt}px, 0)`:`translate3d(${xt}px, 0, 0)`})}}}je.useEffect(()=>{var Ie;function Ce(){if(!K.current||!D)return;const Pe=document.activeElement;if(S4(Pe)||J.current){var ge;const Ne=((ge=window.visualViewport)==null?void 0:ge.height)||0,ke=window.innerHeight;let ze=ke-Ne;const Re=K.current.getBoundingClientRect().height||0,Ve=Re>ke*.8;se.current||(se.current=Re);const rt=K.current.getBoundingClientRect().top;if(Math.abs(ee.current-ze)>60&&(J.current=!J.current),a&&a.length>0&&Y&&Z){const Dt=Y[Z]||0;ze+=Dt}if(ee.current=ze,Re>Ne||J.current){const Dt=K.current.getBoundingClientRect().height;let xt=Dt;Dt>Ne&&(xt=Ne-(Ve?rt:T4)),g?K.current.style.height=`${Dt-Math.max(ze,0)}px`:K.current.style.height=`${Math.max(xt,Ne-rt)}px`}else K.current.style.height=`${se.current}px`;a&&a.length>0&&!J.current?K.current.style.bottom="0px":K.current.style.bottom=`${Math.max(ze,0)}px`}}return(Ie=window.visualViewport)==null||Ie.addEventListener("resize",Ce),()=>{var Pe;return(Pe=window.visualViewport)==null?void 0:Pe.removeEventListener("resize",Ce)}},[Z,a,Y]);function me(Ie){_e(),b==null||b(),Ie||w(!1),setTimeout(()=>{a&&te(a[0])},Qr.DURATION*1e3)}function ve(){if(!K.current)return;const Ie=document.querySelector("[data-vaul-drawer-wrapper]"),Ce=px(K.current,y);ws(K.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Qr.DURATION}s cubic-bezier(${Qr.EASE.join(",")})`}),ws(z.current,{transition:`opacity ${Qr.DURATION}s cubic-bezier(${Qr.EASE.join(",")})`,opacity:"1"}),o&&Ce&&Ce>0&&T&&ws(Ie,{borderRadius:`${jU}px`,overflow:"hidden",...js(y)?{transform:`scale(${pe()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${pe()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Qr.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Qr.EASE.join(",")})`},!0)}function _e(){!S||!K.current||(K.current.classList.remove(Aj),H.current=!1,I(!1),$.current=new Date)}function Te(Ie){if(!S||!K.current)return;K.current.classList.remove(Aj),H.current=!1,I(!1),$.current=new Date;const Ce=px(K.current,y);if(!le(Ie.target,!1)||!Ce||Number.isNaN(Ce)||X.current===null)return;const Pe=$.current.getTime()-X.current.getTime(),ge=G.current-(js(y)?Ie.pageY:Ie.pageX),Ne=Math.abs(ge)/Pe;if(Ne>.05&&(U(!0),setTimeout(()=>{U(!1)},200)),a){re({draggedDistance:ge*(y==="bottom"||y==="right"?1:-1),closeDrawer:me,velocity:Ne,dismissible:d}),i==null||i(Ie,!0);return}if(y==="bottom"||y==="right"?ge>0:ge<0){ve(),i==null||i(Ie,!0);return}if(Ne>wU){me(),i==null||i(Ie,!1);return}var ke;const ze=Math.min((ke=K.current.getBoundingClientRect().height)!=null?ke:0,window.innerHeight);var Re;const Ve=Math.min((Re=K.current.getBoundingClientRect().width)!=null?Re:0,window.innerWidth),rt=y==="left"||y==="right";if(Math.abs(Ce)>=(rt?Ve:ze)*l){me(),i==null||i(Ie,!1);return}i==null||i(Ie,!0),ve()}je.useEffect(()=>(T&&(ws(document.documentElement,{scrollBehavior:"auto"}),V.current=new Date),()=>{bde(document.documentElement,"scrollBehavior")}),[T]);function Ue(Ie){const Ce=Ie?(window.innerWidth-nd)/window.innerWidth:1,Pe=Ie?-nd:0;Q.current&&window.clearTimeout(Q.current),ws(K.current,{transition:`transform ${Qr.DURATION}s cubic-bezier(${Qr.EASE.join(",")})`,transform:`scale(${Ce}) translate3d(0, ${Pe}px, 0)`}),!Ie&&K.current&&(Q.current=setTimeout(()=>{const ge=px(K.current,y);ws(K.current,{transition:"none",transform:js(y)?`translate3d(0, ${ge}px, 0)`:`translate3d(${ge}px, 0, 0)`})},500))}function Ee(Ie,Ce){if(Ce<0)return;const Pe=(window.innerWidth-nd)/window.innerWidth,ge=Pe+Ce*(1-Pe),Ne=-nd+Ce*nd;ws(K.current,{transform:js(y)?`scale(${ge}) translate3d(0, ${Ne}px, 0)`:`scale(${ge}) translate3d(${Ne}px, 0, 0)`,transition:"none"})}function Me(Ie,Ce){const Pe=js(y)?window.innerHeight:window.innerWidth,ge=Ce?(Pe-nd)/Pe:1,Ne=Ce?-nd:0;Ce&&ws(K.current,{transition:`transform ${Qr.DURATION}s cubic-bezier(${Qr.EASE.join(",")})`,transform:js(y)?`scale(${ge}) translate3d(0, ${Ne}px, 0)`:`scale(${ge}) translate3d(${Ne}px, 0, 0)`})}return je.createElement(nh,{defaultOpen:N,onOpenChange:Ie=>{!d&&!Ie||(Ie?j(!0):me(!0),w(Ie))},open:T},je.createElement(gU.Provider,{value:{activeSnapPoint:q,snapPoints:a,setActiveSnapPoint:te,drawerRef:K,overlayRef:z,onOpenChange:t,onPress:Ae,onRelease:Te,onDrag:he,dismissible:d,handleOnly:f,isOpen:T,isDragging:S,shouldFade:ae,closeDrawer:me,onNestedDrag:Ee,onNestedOpenChange:Ue,onNestedRelease:Me,keyboardIsOpen:J,modal:p,snapPointsOffset:Y,direction:y,shouldScaleBackground:o,setBackgroundColorOnScale:c,noBodyStyles:v,container:L,autoFocus:F}},n))}const SU=je.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:s,onRelease:i,shouldFade:a,isOpen:o,modal:c}=p0(),l=vU(t,n),u=s&&s.length>0;return c?je.createElement(oc,{onMouseUp:i,ref:l,"data-vaul-overlay":"","data-vaul-snap-points":o&&u?"true":"false","data-vaul-snap-points-overlay":o&&a?"true":"false",...e}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});SU.displayName="Drawer.Overlay";const TU=je.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...s},i){const{drawerRef:a,onPress:o,onRelease:c,onDrag:l,keyboardIsOpen:u,snapPointsOffset:d,modal:f,isOpen:h,direction:m,snapPoints:A,container:g,handleOnly:p,autoFocus:b}=p0(),[x,v]=je.useState(!1),y=vU(i,a),N=je.useRef(null),P=je.useRef(null),M=je.useRef(!1),k=A&&A.length>0;Tde();const D=(L,F,_=0)=>{if(M.current)return!0;const E=Math.abs(L.y),T=Math.abs(L.x),w=T>E,C=["bottom","right"].includes(F)?1:-1;if(F==="left"||F==="right"){if(!(L.x*C<0)&&T>=0&&T<=_)return w}else if(!(L.y*C<0)&&E>=0&&E<=_)return!w;return M.current=!0,!0};je.useEffect(()=>{k&&window.requestAnimationFrame(()=>{v(!0)})},[]);function O(L){N.current=null,M.current=!1,c(L)}return je.createElement(lc,{"data-vaul-drawer-direction":m,"data-vaul-drawer":"","data-vaul-delayed-snap-points":x?"true":"false","data-vaul-snap-points":h&&k?"true":"false","data-vaul-custom-container":g?"true":"false",...s,ref:y,style:d&&d.length>0?{"--snap-point-height":`${d[0]}px`,...t}:t,onPointerDown:L=>{p||(s.onPointerDown==null||s.onPointerDown.call(s,L),N.current={x:L.pageX,y:L.pageY},o(L))},onOpenAutoFocus:L=>{n==null||n(L),b||L.preventDefault()},onPointerDownOutside:L=>{if(e==null||e(L),!f||L.defaultPrevented){L.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:L=>{if(!f){L.preventDefault();return}},onPointerMove:L=>{if(P.current=L,p||(s.onPointerMove==null||s.onPointerMove.call(s,L),!N.current))return;const F=L.pageY-N.current.y,_=L.pageX-N.current.x,E=L.pointerType==="touch"?10:2;D({x:_,y:F},m,E)?l(L):(Math.abs(_)>E||Math.abs(F)>E)&&(N.current=null)},onPointerUp:L=>{s.onPointerUp==null||s.onPointerUp.call(s,L),N.current=null,M.current=!1,c(L)},onPointerOut:L=>{s.onPointerOut==null||s.onPointerOut.call(s,L),O(P.current)},onContextMenu:L=>{s.onContextMenu==null||s.onContextMenu.call(s,L),O(P.current)}})});TU.displayName="Drawer.Content";const Bde=250,Ede=120,Pde=je.forwardRef(function({preventCycle:e=!1,children:t,...n},s){const{closeDrawer:i,isDragging:a,snapPoints:o,activeSnapPoint:c,setActiveSnapPoint:l,dismissible:u,handleOnly:d,isOpen:f,onPress:h,onDrag:m}=p0(),A=je.useRef(null),g=je.useRef(!1);function p(){if(g.current){v();return}window.setTimeout(()=>{b()},Ede)}function b(){if(a||e||g.current){v();return}if(v(),(!o||o.length===0)&&u){i();return}if(c===o[o.length-1]&&u){i();return}const N=o.findIndex(M=>M===c);if(N===-1)return;const P=o[N+1];l(P)}function x(){A.current=window.setTimeout(()=>{g.current=!0},Bde)}function v(){window.clearTimeout(A.current),g.current=!1}return je.createElement("div",{onClick:p,onPointerCancel:v,onPointerDown:y=>{d&&h(y),x()},onPointerMove:y=>{d&&m(y)},ref:s,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},je.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});Pde.displayName="Drawer.Handle";function Mde(e){const t=p0(),{container:n=t.container,...s}=e;return je.createElement(rh,{container:n,...s})}const To={Root:_de,Content:TU,Overlay:SU,Trigger:u9,Portal:Mde,Close:qw,Title:i0,Description:a0},kU=({shouldScaleBackground:e=!0,...t})=>r.jsx(To.Root,{shouldScaleBackground:e,...t});kU.displayName="Drawer";const Dde=To.Trigger,Ide=To.Portal,Ax=To.Close,_U=B.forwardRef(({className:e,...t},n)=>r.jsx(To.Overlay,{ref:n,className:Fe("fixed inset-0 z-50 bg-black/80",e),...t}));_U.displayName=To.Overlay.displayName;const BU=B.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(Ide,{children:[r.jsx(_U,{}),r.jsxs(To.Content,{ref:s,className:Fe("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...n,children:[r.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));BU.displayName="DrawerContent";const Ode=B.forwardRef(({className:e,...t},n)=>r.jsx(To.Title,{ref:n,className:Fe("text-lg font-semibold leading-none tracking-tight",e),...t}));Ode.displayName=To.Title.displayName;const Lde=B.forwardRef(({className:e,...t},n)=>r.jsx(To.Description,{ref:n,className:Fe("text-sm text-muted-foreground",e),...t}));Lde.displayName=To.Description.displayName;const Fde=()=>{const{isLoggedIn:e,userName:t,logout:n}=a1(),[s,i]=B.useState(!1),[a,o]=B.useState(0),[c,l]=B.useState(0),u=B.useRef(null),d=Bs();Dm();const f=gr(),{toast:h}=Uu(),m=B.useRef(!1),A=[{title:"TRANG CHỦ",path:"/",icon:r.jsx(Fv,{className:"h-5 w-5"})},{title:"SẢN PHẨM",path:"/products",icon:r.jsx(qN,{className:"h-5 w-5"})},{title:"COMBO",path:"/combos",icon:r.jsx(hr,{className:"h-5 w-5"})},{title:"GIẢM GIÁ",path:"/voucher",icon:r.jsx(zee,{className:"h-5 w-5"})},{title:"TIN TỨC",path:"/blogs",icon:r.jsx(Rv,{className:"h-5 w-5"})},{title:"LIÊN HỆ",path:"/contact",icon:r.jsx(Xi,{className:"h-5 w-5"})}],g=B.useCallback(async()=>{if(!e){o(0);return}const x=localStorage.getItem("userId");if(!x){console.warn("No userID found in localStorage"),o(0);return}try{const v=await fetch(`https://bicacuatho.azurewebsites.net/api/Cart/GioHangByKhachHang?id=${x}`);if(!v.ok)throw new Error(`HTTP error! status: ${v.status}`);const y=await v.json(),N=y.ctghSanPhamView,P=y.ctghComboView,M=Array.isArray(N)?N.reduce((D,O)=>D+(O.soLuong||0),0):0,k=Array.isArray(P)?P.reduce((D,O)=>D+(O.soLuong||0),0):0;o(M+k)}catch(v){console.error("Error fetching cart data:",v),o(0),h({title:"Lỗi",description:"Không thể tải dữ liệu giỏ hàng.",variant:"destructive",duration:3e3})}},[e,h]),p=B.useCallback(async()=>{if(!e){l(0);return}const x=localStorage.getItem("userId");if(!x){console.warn("No userID found in localStorage"),l(0);return}try{const v=await fetch(`https://bicacuatho.azurewebsites.net/api/YeuThich?maNguoiDung=${x}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!v.ok)throw new Error(`HTTP error! status: ${v.status}`);const y=await v.json(),N=Array.isArray(y)?y.filter(k=>k.maNguoiDung===x):[],P=N.filter(k=>k.maSanPham).length,M=N.filter(k=>k.maCombo).length;l(P+M)}catch(v){console.error("Error fetching favorites data:",v),l(0),h({title:"Lỗi",description:"Không thể tải dữ liệu yêu thích.",variant:"destructive",duration:3e3})}},[e,h]);B.useEffect(()=>{const x=()=>{p()};return window.addEventListener("favorites-updated",x),()=>{window.removeEventListener("favorites-updated",x)}},[p]),B.useEffect(()=>{g(),p()},[g,p,e]),B.useEffect(()=>{const x=v=>{u.current&&!u.current.contains(v.target)&&i(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const b=B.useCallback(async()=>{if(!m.current){m.current=!0,i(!1);try{await n(),h({title:"Đăng xuất thành công 🎉",description:"Bạn đã đăng xuất khỏi tài khoản.",duration:3e3,className:"bg-green-500 text-white border border-green-700 shadow-lg",action:r.jsx(fe,{variant:"outline",className:"bg-white text-green-500 hover:bg-green-100 border-green-500",children:"Đóng"})}),o(0),l(0),setTimeout(()=>{f("/auth/login",{replace:!0})},500)}catch(x){console.error("Lỗi đăng xuất:",x)}finally{setTimeout(()=>{m.current=!1},1e3)}}},[n,f,h]);return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-gray-800 text-white py-2",children:r.jsxs("div",{className:"container mx-auto px-4 flex flex-wrap justify-between items-center",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(ku,{className:"h-4 w-4 mr-1"}),r.jsx("span",{className:"text-sm hidden sm:inline",children:"123 Hà Huy Tập, TP. Buôn Ma Thuột"})]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(_u,{className:"h-4 w-4 mr-1"}),r.jsx("span",{className:"text-sm hidden md:inline",children:"0383 777 823"})]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(Xi,{className:"h-4 w-4 mr-1"}),r.jsx("span",{className:"text-sm hidden lg:inline",children:"hotronfashionhubvn@gmail.com"})]})]}),r.jsxs("div",{className:"flex items-center space-x-4 mt-2 sm:mt-0",children:[r.jsx("a",{href:"https://zalo.me/0383777823",target:"_blank",rel:"noopener noreferrer",children:r.jsx(ql,{className:"h-5 w-5 hover:text-gray-300 transition-colors"})}),r.jsx("a",{href:"https://t.me/miyaru2k5",target:"_blank",rel:"noopener noreferrer",children:r.jsx(Sf,{className:"h-5 w-5 hover:text-gray-300 transition-colors"})}),r.jsx("a",{href:"https://facebook.com/ultrastore",target:"_blank",rel:"noopener noreferrer",children:r.jsx(VN,{className:"h-5 w-5 hover:text-gray-300 transition-colors"})}),r.jsx("a",{href:"https://instagram.com/ultrastore",target:"_blank",rel:"noopener noreferrer",children:r.jsx(C6,{className:"h-5 w-5 hover:text-gray-300 transition-colors"})}),r.jsx("a",{href:"https://twitter.com/ultrastore",target:"_blank",rel:"noopener noreferrer",children:r.jsx(T6,{className:"h-5 w-5 hover:text-gray-300 transition-colors"})})]})]})}),r.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:r.jsxs("div",{className:"container mx-auto px-4 flex h-16 items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(ct,{to:"/",className:"flex items-center gap-2",children:r.jsx("img",{src:"/logo.gif",alt:"FashionHub",className:"h-32 w-auto max-w-[150px]"})})}),r.jsx("nav",{className:"hidden md:block",children:r.jsx(fU,{children:r.jsxs(mU,{children:[A.map(x=>r.jsx(nde,{children:r.jsx(ct,{to:x.path,children:r.jsxs(ide,{className:Fe(pU(),d.pathname===x.path&&"bg-accent text-accent-foreground","px-4 py-2"),children:[x.icon,r.jsx("span",{className:"ml-2",children:x.title})]})})},x.path)),r.jsx($R,{})]})})}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(kU,{children:[r.jsx(Dde,{asChild:!0,className:"md:hidden",children:r.jsx(fe,{variant:"ghost",size:"icon",children:r.jsx(jL,{className:"h-5 w-5"})})}),r.jsx(BU,{children:r.jsx("div",{className:"p-4 pt-0",children:r.jsxs("div",{className:"flex flex-col gap-2 py-4",children:[A.map(x=>r.jsx(Ax,{asChild:!0,children:r.jsxs(ct,{to:x.path,className:Fe("flex items-center gap-2 px-4 py-3 rounded-md",d.pathname===x.path?"bg-crocus-100 text-crocus-700 font-medium":"text-gray-600 hover:bg-gray-100"),children:[x.icon,r.jsx("span",{children:x.title})]})},x.path)),e&&r.jsxs(r.Fragment,{children:[r.jsx(Ax,{asChild:!0,children:r.jsxs(ct,{to:"/user/profile",className:Fe("flex items-center gap-2 px-4 py-3 rounded-md",d.pathname==="/user/profile"?"bg-crocus-100 text-crocus-700 font-medium":"text-gray-600 hover:bg-gray-100"),children:[r.jsx(q2,{className:"h-5 w-5"}),r.jsx("span",{children:"Hồ sơ"})]})}),r.jsx(Ax,{asChild:!0,children:r.jsxs(ct,{to:"/user/orders",className:Fe("flex items-center gap-2 px-4 py-3 rounded-md",d.pathname==="/user/orders"?"bg-crocus-100 text-crocus-700 font-medium":"text-gray-600 hover:bg-gray-100"),children:[r.jsx(hr,{className:"h-5 w-5"}),r.jsx("span",{children:"Đơn hàng"})]})}),r.jsx(Ax,{asChild:!0,children:r.jsxs(fe,{variant:"ghost",className:"flex items-center gap-2 px-4 py-3 text-red-600 justify-start hover:bg-red-50",onClick:b,children:[r.jsx(sg,{className:"h-5 w-5"}),r.jsx("span",{children:"Đăng xuất"})]})})]})]})})})]}),e&&r.jsxs(r.Fragment,{children:[r.jsxs(ct,{to:"/favorites",className:Fe("relative hover:text-crocus-600 transition-colors",d.pathname==="/favorites"?"text-crocus-600":"text-gray-600"),children:[r.jsx(di,{className:"h-5 w-5"}),c>0&&r.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-semibold shadow-md",children:c>99?"99+":c})]}),r.jsxs(ct,{to:"/user/cart",className:Fe("relative hover:text-crocus-600 transition-colors",d.pathname==="/user/cart"?"text-crocus-600":"text-gray-600"),children:[r.jsx(Rs,{className:"h-5 w-5"}),a>0&&r.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-semibold shadow-md",children:a>99?"99+":a})]}),r.jsx(ct,{to:"/user/messages",className:Fe("relative hover:text-crocus-600 transition-colors",d.pathname==="/user/messages"?"text-crocus-600":"text-gray-600"),children:r.jsx(Jd,{className:"h-5 w-5"})}),r.jsxs("div",{className:"relative",ref:u,children:[r.jsxs(fe,{variant:"outline",size:"sm",className:"flex items-center hover-effect",onClick:()=>i(!s),children:[r.jsx($n,{className:"h-4 w-4"}),r.jsx(ml,{className:"ml-2 h-4 w-4"})]}),s&&r.jsxs("div",{className:"absolute right-0 mt-3 w-64 bg-white border border-gray-200 rounded-md shadow-lg z-50 p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Thông tin người dùng"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(ct,{to:"/user/profile",className:"flex items-center text-gray-700 hover:text-crocus-600 transition-colors p-2 rounded-md hover:bg-gray-50",onClick:()=>i(!1),children:[r.jsx(q2,{className:"h-5 w-5 mr-2"}),r.jsx("span",{children:"Hồ sơ"})]}),r.jsxs(ct,{to:"/user/orders",className:"flex items-center text-gray-700 hover:text-crocus-600 transition-colors p-2 rounded-md hover:bg-gray-50",onClick:()=>i(!1),children:[r.jsx(hr,{className:"h-5 w-5 mr-2"}),r.jsx("span",{children:"Đơn hàng"})]}),r.jsxs(fe,{variant:"ghost",size:"sm",className:"w-full text-red-600 flex items-center justify-start p-2 hover:bg-red-50",onClick:b,children:[r.jsx(sg,{className:"h-4 w-4 mr-2"}),"Đăng xuất"]})]})]})]})]}),!e&&r.jsx(fe,{variant:"outline",size:"sm",asChild:!0,children:r.jsxs(ct,{to:"/auth/login",children:[r.jsx(yL,{className:"h-4 w-4 mr-2"})," ĐĂNG NHẬP"]})})]})]})}),r.jsx("main",{className:"flex-1",children:r.jsx("div",{className:"container mx-auto py-6 px-4",children:r.jsx(OF,{})})}),r.jsxs("footer",{className:"bg-gray-50 border-t border-gray-200 py-8",children:[r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 relative translate-y-5",children:[r.jsxs("div",{children:[r.jsx(ct,{to:"/",className:"flex items-center gap-2",children:r.jsx("img",{src:"/logo.gif",alt:"FashionHub",className:"h-32 w-auto transform -translate-y-7"})}),r.jsx("p",{className:"text-gray-700 text-xl transform -translate-y-10",children:"Mang đến cho bạn những xu hướng thời trang mới nhất 2025."}),r.jsx(Due,{})]}),r.jsxs("div",{className:"hidden md:block",children:[r.jsx("h3",{className:"font-bold text-2xl mb-4 text-crocus-700",children:"Mua sắm"}),r.jsxs("ul",{className:"space-y-3",children:[r.jsx("li",{children:r.jsxs(ct,{to:"/",className:"text-gray-700 hover:text-crocus-500 text-xl transition-colors",children:[r.jsx(Fv,{className:"h-5 w-5 inline mr-2"})," Trang chủ"]})}),r.jsx("li",{children:r.jsxs(ct,{to:"/products",className:"text-gray-700 hover:text-crocus-500 text-xl transition-colors",children:[r.jsx(qN,{className:"h-5 w-5 inline mr-2"})," Sản phẩm"]})}),r.jsx("li",{children:r.jsxs(ct,{to:"/combos",className:"text-gray-700 hover:text-crocus-500 text-xl transition-colors",children:[r.jsx(hr,{className:"h-5 w-5 inline mr-2"})," Combo"]})}),r.jsx("li",{children:r.jsxs(ct,{to:"/Guarantee",className:"text-gray-700 hover:text-crocus-500 text-xl transition-colors",children:[r.jsx(Xl,{className:"h-5 w-5 inline mr-2"})," Chính sách đổi trả"]})})]})]}),r.jsxs("div",{className:"hidden md:block",children:[r.jsx("h3",{className:"font-bold text-2xl mb-4 text-crocus-700",children:"Tài khoản"}),r.jsxs("ul",{className:"space-y-3",children:[r.jsx("li",{children:r.jsxs(ct,{to:"/user/profile",className:"text-gray-700 hover:text-crocus-500 text-xl transition-colors",children:[r.jsx(q2,{className:"h-5 w-5 inline mr-2"})," Hồ sơ"]})}),r.jsx("li",{children:r.jsxs(ct,{to:"/user/orders",className:"text-gray-700 hover:text-crocus-500 text-xl transition-colors",children:[r.jsx(hr,{className:"h-5 w-5 inline mr-2"})," Đơn hàng"]})}),r.jsx("li",{children:r.jsxs(ct,{to:"/user/cart",className:"text-gray-700 hover:text-crocus-500 text-xl transition-colors",children:[r.jsx(Rs,{className:"h-5 w-5 inline mr-2"})," Giỏ hàng"]})}),r.jsx("li",{children:r.jsxs(ct,{to:"/Security",className:"text-gray-700 hover:text-crocus-500 text-xl transition-colors",children:[r.jsx(Cee,{className:"h-5 w-5 inline mr-2"})," Chính sách bảo mật"]})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-2xl mb-4 text-crocus-700",children:"Kết nối với chúng tôi"}),r.jsxs("ul",{className:"space-y-3",children:[r.jsx("li",{children:r.jsxs(ct,{to:"/contact",className:"text-gray-700 hover:text-crocus-500 text-xl transition-colors",children:[r.jsx(Xi,{className:"h-5 w-5 inline mr-2"})," Liên hệ"]})}),r.jsx("li",{children:r.jsxs(ct,{to:"/about",className:"text-gray-700 hover:text-crocus-500 text-xl transition-colors",children:[r.jsx(ku,{className:"h-5 w-5 inline mr-2"})," Về chúng tôi"]})}),r.jsx("li",{children:r.jsxs(ct,{to:"/blogs",className:"text-gray-700 hover:text-crocus-500 text-xl transition-colors",children:[r.jsx(Rv,{className:"h-5 w-5 inline mr-2"})," Tin tức"]})})]}),r.jsxs("div",{className:"flex space-x-4 mt-6",children:[r.jsx("a",{href:"https://facebook.com/Ultrastore",className:"text-gray-700 hover:text-crocus-500 transition-colors",target:"_blank",rel:"noopener noreferrer",children:r.jsx(VN,{className:"h-7 w-7"})}),r.jsx("a",{href:"https://instagram.com/ultrasstore",className:"text-gray-700 hover:text-crocus-500 transition-colors",target:"_blank",rel:"noopener noreferrer",children:r.jsx(C6,{className:"h-7 w-7"})}),r.jsx("a",{href:"https://twitter.com/ultrastore",className:"text-gray-700 hover:text-crocus-500 transition-colors",target:"_blank",rel:"noopener noreferrer",children:r.jsx(T6,{className:"h-7 w-7"})})]})]})]})}),r.jsx(Mue,{})]})]})};function Rde(e){return Object.prototype.toString.call(e)==="[object Object]"}function FB(e){return Rde(e)||Array.isArray(e)}function Ude(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function b5(e,t){const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;const i=JSON.stringify(Object.keys(e.breakpoints||{})),a=JSON.stringify(Object.keys(t.breakpoints||{}));return i!==a?!1:n.every(o=>{const c=e[o],l=t[o];return typeof c=="function"?`${c}`==`${l}`:!FB(c)||!FB(l)?c===l:b5(c,l)})}function RB(e){return e.concat().sort((t,n)=>t.name>n.name?1:-1).map(t=>t.options)}function Hde(e,t){if(e.length!==t.length)return!1;const n=RB(e),s=RB(t);return n.every((i,a)=>{const o=s[a];return b5(i,o)})}function v5(e){return typeof e=="number"}function k4(e){return typeof e=="string"}function o1(e){return typeof e=="boolean"}function UB(e){return Object.prototype.toString.call(e)==="[object Object]"}function Kr(e){return Math.abs(e)}function y5(e){return Math.sign(e)}function jA(e,t){return Kr(e-t)}function $de(e,t){if(e===0||t===0||Kr(e)<=Kr(t))return 0;const n=jA(Kr(e),Kr(t));return Kr(n/e)}function Qde(e){return Math.round(e*100)/100}function Ag(e){return gg(e).map(Number)}function Ao(e){return e[A0(e)]}function A0(e){return Math.max(0,e.length-1)}function w5(e,t){return t===A0(e)}function HB(e,t=0){return Array.from(Array(e),(n,s)=>t+s)}function gg(e){return Object.keys(e)}function EU(e,t){return[e,t].reduce((n,s)=>(gg(s).forEach(i=>{const a=n[i],o=s[i],c=UB(a)&&UB(o);n[i]=c?EU(a,o):o}),n),{})}function _4(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function zde(e,t){const n={start:s,center:i,end:a};function s(){return 0}function i(l){return a(l)/2}function a(l){return t-l}function o(l,u){return k4(e)?n[e](l):e(t,l,u)}return{measure:o}}function xg(){let e=[];function t(i,a,o,c={passive:!0}){let l;if("addEventListener"in i)i.addEventListener(a,o,c),l=()=>i.removeEventListener(a,o,c);else{const u=i;u.addListener(o),l=()=>u.removeListener(o)}return e.push(l),s}function n(){e=e.filter(i=>i())}const s={add:t,clear:n};return s}function Vde(e,t,n,s){const i=xg(),a=1e3/60;let o=null,c=0,l=0;function u(){i.add(e,"visibilitychange",()=>{e.hidden&&A()})}function d(){m(),i.clear()}function f(p){if(!l)return;o||(o=p,n(),n());const b=p-o;for(o=p,c+=b;c>=a;)n(),c-=a;const x=c/a;s(x),l&&(l=t.requestAnimationFrame(f))}function h(){l||(l=t.requestAnimationFrame(f))}function m(){t.cancelAnimationFrame(l),o=null,c=0,l=0}function A(){o=null,c=0}return{init:u,destroy:d,start:h,stop:m,update:n,render:s}}function Kde(e,t){const n=t==="rtl",s=e==="y",i=s?"y":"x",a=s?"x":"y",o=!s&&n?-1:1,c=d(),l=f();function u(A){const{height:g,width:p}=A;return s?g:p}function d(){return s?"top":n?"right":"left"}function f(){return s?"bottom":n?"left":"right"}function h(A){return A*o}return{scroll:i,cross:a,startEdge:c,endEdge:l,measureSize:u,direction:h}}function ih(e=0,t=0){const n=Kr(e-t);function s(u){return u<e}function i(u){return u>t}function a(u){return s(u)||i(u)}function o(u){return a(u)?s(u)?e:t:u}function c(u){return n?u-n*Math.ceil((u-t)/n):u}return{length:n,max:t,min:e,constrain:o,reachedAny:a,reachedMax:i,reachedMin:s,removeOffset:c}}function PU(e,t,n){const{constrain:s}=ih(0,e),i=e+1;let a=o(t);function o(h){return n?Kr((i+h)%i):s(h)}function c(){return a}function l(h){return a=o(h),f}function u(h){return d().set(c()+h)}function d(){return PU(e,c(),n)}const f={get:c,set:l,add:u,clone:d};return f}function Gde(e,t,n,s,i,a,o,c,l,u,d,f,h,m,A,g,p,b,x){const{cross:v,direction:y}=e,N=["INPUT","SELECT","TEXTAREA"],P={passive:!1},M=xg(),k=xg(),D=ih(50,225).constrain(m.measure(20)),O={mouse:300,touch:400},L={mouse:500,touch:600},F=A?43:25;let _=!1,E=0,T=0,w=!1,C=!1,j=!1,S=!1;function I(ee){if(!x)return;function K(ue){(o1(x)||x(ee,ue))&&$(ue)}const ne=t;M.add(ne,"dragstart",ue=>ue.preventDefault(),P).add(ne,"touchmove",()=>{},P).add(ne,"touchend",()=>{}).add(ne,"touchstart",K).add(ne,"mousedown",K).add(ne,"touchcancel",H).add(ne,"contextmenu",H).add(ne,"click",Q,!0)}function R(){M.clear(),k.clear()}function U(){const ee=S?n:t;k.add(ee,"touchmove",W,P).add(ee,"touchend",H).add(ee,"mousemove",W,P).add(ee,"mouseup",H)}function z(ee){const K=ee.nodeName||"";return N.includes(K)}function V(){return(A?L:O)[S?"mouse":"touch"]}function X(ee,K){const ne=f.add(y5(ee)*-1),ue=d.byDistance(ee,!A).distance;return A||Kr(ee)<D?ue:p&&K?ue*.5:d.byIndex(ne.get(),0).distance}function $(ee){const K=_4(ee,s);S=K,j=A&&K&&!ee.buttons&&_,_=jA(i.get(),o.get())>=2,!(K&&ee.button!==0)&&(z(ee.target)||(w=!0,a.pointerDown(ee),u.useFriction(0).useDuration(0),i.set(o),U(),E=a.readPoint(ee),T=a.readPoint(ee,v),h.emit("pointerDown")))}function W(ee){if(!_4(ee,s)&&ee.touches.length>=2)return H(ee);const ne=a.readPoint(ee),ue=a.readPoint(ee,v),se=jA(ne,E),ie=jA(ue,T);if(!C&&!S&&(!ee.cancelable||(C=se>ie,!C)))return H(ee);const q=a.pointerMove(ee);se>g&&(j=!0),u.useFriction(.3).useDuration(.75),c.start(),i.add(y(q)),ee.preventDefault()}function H(ee){const ne=d.byDistance(0,!1).index!==f.get(),ue=a.pointerUp(ee)*V(),se=X(y(ue),ne),ie=$de(ue,se),q=F-10*ie,Z=b+ie/50;C=!1,w=!1,k.clear(),u.useDuration(q).useFriction(Z),l.distance(se,!A),S=!1,h.emit("pointerUp")}function Q(ee){j&&(ee.stopPropagation(),ee.preventDefault(),j=!1)}function G(){return w}return{init:I,destroy:R,pointerDown:G}}function Wde(e,t){let s,i;function a(f){return f.timeStamp}function o(f,h){const A=`client${(h||e.scroll)==="x"?"X":"Y"}`;return(_4(f,t)?f:f.touches[0])[A]}function c(f){return s=f,i=f,o(f)}function l(f){const h=o(f)-o(i),m=a(f)-a(s)>170;return i=f,m&&(s=f),h}function u(f){if(!s||!i)return 0;const h=o(i)-o(s),m=a(f)-a(s),A=a(f)-a(i)>170,g=h/m;return m&&!A&&Kr(g)>.1?g:0}return{pointerDown:c,pointerMove:l,pointerUp:u,readPoint:o}}function qde(){function e(n){const{offsetTop:s,offsetLeft:i,offsetWidth:a,offsetHeight:o}=n;return{top:s,right:i+a,bottom:s+o,left:i,width:a,height:o}}return{measure:e}}function Xde(e){function t(s){return e*(s/100)}return{measure:t}}function Yde(e,t,n,s,i,a,o){const c=[e].concat(s);let l,u,d=[],f=!1;function h(p){return i.measureSize(o.measure(p))}function m(p){if(!a)return;u=h(e),d=s.map(h);function b(x){for(const v of x){if(f)return;const y=v.target===e,N=s.indexOf(v.target),P=y?u:d[N],M=h(y?e:s[N]);if(Kr(M-P)>=.5){p.reInit(),t.emit("resize");break}}}l=new ResizeObserver(x=>{(o1(a)||a(p,x))&&b(x)}),n.requestAnimationFrame(()=>{c.forEach(x=>l.observe(x))})}function A(){f=!0,l&&l.disconnect()}return{init:m,destroy:A}}function Zde(e,t,n,s,i,a){let o=0,c=0,l=i,u=a,d=e.get(),f=0;function h(){const P=s.get()-e.get(),M=!l;let k=0;return M?(o=0,n.set(s),e.set(s),k=P):(n.set(e),o+=P/l,o*=u,d+=o,e.add(o),k=d-f),c=y5(k),f=d,N}function m(){const P=s.get()-t.get();return Kr(P)<.001}function A(){return l}function g(){return c}function p(){return o}function b(){return v(i)}function x(){return y(a)}function v(P){return l=P,N}function y(P){return u=P,N}const N={direction:g,duration:A,velocity:p,seek:h,settled:m,useBaseFriction:x,useBaseDuration:b,useFriction:y,useDuration:v};return N}function Jde(e,t,n,s,i){const a=i.measure(10),o=i.measure(50),c=ih(.1,.99);let l=!1;function u(){return!(l||!e.reachedAny(n.get())||!e.reachedAny(t.get()))}function d(m){if(!u())return;const A=e.reachedMin(t.get())?"min":"max",g=Kr(e[A]-t.get()),p=n.get()-t.get(),b=c.constrain(g/o);n.subtract(p*b),!m&&Kr(p)<a&&(n.set(e.constrain(n.get())),s.useDuration(25).useBaseFriction())}function f(m){l=!m}return{shouldConstrain:u,constrain:d,toggleActive:f}}function ehe(e,t,n,s,i){const a=ih(-t+e,0),o=f(),c=d(),l=h();function u(A,g){return jA(A,g)<=1}function d(){const A=o[0],g=Ao(o),p=o.lastIndexOf(A),b=o.indexOf(g)+1;return ih(p,b)}function f(){return n.map((A,g)=>{const{min:p,max:b}=a,x=a.constrain(A),v=!g,y=w5(n,g);return v?b:y||u(p,x)?p:u(b,x)?b:x}).map(A=>parseFloat(A.toFixed(3)))}function h(){if(t<=e+i)return[a.max];if(s==="keepSnaps")return o;const{min:A,max:g}=c;return o.slice(A,g)}return{snapsContained:l,scrollContainLimit:c}}function the(e,t,n){const s=t[0],i=n?s-e:Ao(t);return{limit:ih(i,s)}}function nhe(e,t,n,s){const a=t.min+.1,o=t.max+.1,{reachedMin:c,reachedMax:l}=ih(a,o);function u(h){return h===1?l(n.get()):h===-1?c(n.get()):!1}function d(h){if(!u(h))return;const m=e*(h*-1);s.forEach(A=>A.add(m))}return{loop:d}}function rhe(e){const{max:t,length:n}=e;function s(a){const o=a-t;return n?o/-n:0}return{get:s}}function she(e,t,n,s,i){const{startEdge:a,endEdge:o}=e,{groupSlides:c}=i,l=f().map(t.measure),u=h(),d=m();function f(){return c(s).map(g=>Ao(g)[o]-g[0][a]).map(Kr)}function h(){return s.map(g=>n[a]-g[a]).map(g=>-Kr(g))}function m(){return c(u).map(g=>g[0]).map((g,p)=>g+l[p])}return{snaps:u,snapsAligned:d}}function ihe(e,t,n,s,i,a){const{groupSlides:o}=i,{min:c,max:l}=s,u=d();function d(){const h=o(a),m=!e||t==="keepSnaps";return n.length===1?[a]:m?h:h.slice(c,l).map((A,g,p)=>{const b=!g,x=w5(p,g);if(b){const v=Ao(p[0])+1;return HB(v)}if(x){const v=A0(a)-Ao(p)[0]+1;return HB(v,Ao(p)[0])}return A})}return{slideRegistry:u}}function ahe(e,t,n,s,i){const{reachedAny:a,removeOffset:o,constrain:c}=s;function l(A){return A.concat().sort((g,p)=>Kr(g)-Kr(p))[0]}function u(A){const g=e?o(A):c(A),p=t.map((x,v)=>({diff:d(x-g,0),index:v})).sort((x,v)=>Kr(x.diff)-Kr(v.diff)),{index:b}=p[0];return{index:b,distance:g}}function d(A,g){const p=[A,A+n,A-n];if(!e)return A;if(!g)return l(p);const b=p.filter(x=>y5(x)===g);return b.length?l(b):Ao(p)-n}function f(A,g){const p=t[A]-i.get(),b=d(p,g);return{index:A,distance:b}}function h(A,g){const p=i.get()+A,{index:b,distance:x}=u(p),v=!e&&a(p);if(!g||v)return{index:b,distance:A};const y=t[b]-x,N=A+d(y,0);return{index:b,distance:N}}return{byDistance:h,byIndex:f,shortcut:d}}function ohe(e,t,n,s,i,a,o){function c(f){const h=f.distance,m=f.index!==t.get();a.add(h),h&&(s.duration()?e.start():(e.update(),e.render(1),e.update())),m&&(n.set(t.get()),t.set(f.index),o.emit("select"))}function l(f,h){const m=i.byDistance(f,h);c(m)}function u(f,h){const m=t.clone().set(f),A=i.byIndex(m.get(),h);c(A)}return{distance:l,index:u}}function lhe(e,t,n,s,i,a,o,c){const l={passive:!0,capture:!0};let u=0;function d(m){if(!c)return;function A(g){if(new Date().getTime()-u>10)return;o.emit("slideFocusStart"),e.scrollLeft=0;const x=n.findIndex(v=>v.includes(g));v5(x)&&(i.useDuration(0),s.index(x,0),o.emit("slideFocus"))}a.add(document,"keydown",f,!1),t.forEach((g,p)=>{a.add(g,"focus",b=>{(o1(c)||c(m,b))&&A(p)},l)})}function f(m){m.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function qp(e){let t=e;function n(){return t}function s(l){t=o(l)}function i(l){t+=o(l)}function a(l){t-=o(l)}function o(l){return v5(l)?l:l.get()}return{get:n,set:s,add:i,subtract:a}}function MU(e,t){const n=e.scroll==="x"?o:c,s=t.style;let i=null,a=!1;function o(h){return`translate3d(${h}px,0px,0px)`}function c(h){return`translate3d(0px,${h}px,0px)`}function l(h){if(a)return;const m=Qde(e.direction(h));m!==i&&(s.transform=n(m),i=m)}function u(h){a=!h}function d(){a||(s.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:d,to:l,toggleActive:u}}function che(e,t,n,s,i,a,o,c,l){const d=Ag(i),f=Ag(i).reverse(),h=b().concat(x());function m(M,k){return M.reduce((D,O)=>D-i[O],k)}function A(M,k){return M.reduce((D,O)=>m(D,k)>0?D.concat([O]):D,[])}function g(M){return a.map((k,D)=>({start:k-s[D]+.5+M,end:k+t-.5+M}))}function p(M,k,D){const O=g(k);return M.map(L=>{const F=D?0:-n,_=D?n:0,E=D?"end":"start",T=O[L][E];return{index:L,loopPoint:T,slideLocation:qp(-1),translate:MU(e,l[L]),target:()=>c.get()>T?F:_}})}function b(){const M=o[0],k=A(f,M);return p(k,n,!1)}function x(){const M=t-o[0]-1,k=A(d,M);return p(k,-n,!0)}function v(){return h.every(({index:M})=>{const k=d.filter(D=>D!==M);return m(k,t)<=.1})}function y(){h.forEach(M=>{const{target:k,translate:D,slideLocation:O}=M,L=k();L!==O.get()&&(D.to(L),O.set(L))})}function N(){h.forEach(M=>M.translate.clear())}return{canLoop:v,clear:N,loop:y,loopPoints:h}}function uhe(e,t,n){let s,i=!1;function a(l){if(!n)return;function u(d){for(const f of d)if(f.type==="childList"){l.reInit(),t.emit("slidesChanged");break}}s=new MutationObserver(d=>{i||(o1(n)||n(l,d))&&u(d)}),s.observe(e,{childList:!0})}function o(){s&&s.disconnect(),i=!0}return{init:a,destroy:o}}function dhe(e,t,n,s){const i={};let a=null,o=null,c,l=!1;function u(){c=new IntersectionObserver(A=>{l||(A.forEach(g=>{const p=t.indexOf(g.target);i[p]=g}),a=null,o=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:s}),t.forEach(A=>c.observe(A))}function d(){c&&c.disconnect(),l=!0}function f(A){return gg(i).reduce((g,p)=>{const b=parseInt(p),{isIntersecting:x}=i[b];return(A&&x||!A&&!x)&&g.push(b),g},[])}function h(A=!0){if(A&&a)return a;if(!A&&o)return o;const g=f(A);return A&&(a=g),A||(o=g),g}return{init:u,destroy:d,get:h}}function hhe(e,t,n,s,i,a){const{measureSize:o,startEdge:c,endEdge:l}=e,u=n[0]&&i,d=A(),f=g(),h=n.map(o),m=p();function A(){if(!u)return 0;const x=n[0];return Kr(t[c]-x[c])}function g(){if(!u)return 0;const x=a.getComputedStyle(Ao(s));return parseFloat(x.getPropertyValue(`margin-${l}`))}function p(){return n.map((x,v,y)=>{const N=!v,P=w5(y,v);return N?h[v]+d:P?h[v]+f:y[v+1][c]-x[c]}).map(Kr)}return{slideSizes:h,slideSizesWithGaps:m,startGap:d,endGap:f}}function fhe(e,t,n,s,i,a,o,c,l){const{startEdge:u,endEdge:d,direction:f}=e,h=v5(n);function m(b,x){return Ag(b).filter(v=>v%x===0).map(v=>b.slice(v,v+x))}function A(b){return b.length?Ag(b).reduce((x,v,y)=>{const N=Ao(x)||0,P=N===0,M=v===A0(b),k=i[u]-a[N][u],D=i[u]-a[v][d],O=!s&&P?f(o):0,L=!s&&M?f(c):0,F=Kr(D-L-(k+O));return y&&F>t+l&&x.push(v),M&&x.push(b.length),x},[]).map((x,v,y)=>{const N=Math.max(y[v-1]||0);return b.slice(N,x)}):[]}function g(b){return h?m(b,n):A(b)}return{groupSlides:g}}function mhe(e,t,n,s,i,a,o){const{align:c,axis:l,direction:u,startIndex:d,loop:f,duration:h,dragFree:m,dragThreshold:A,inViewThreshold:g,slidesToScroll:p,skipSnaps:b,containScroll:x,watchResize:v,watchSlides:y,watchDrag:N,watchFocus:P}=a,M=2,k=qde(),D=k.measure(t),O=n.map(k.measure),L=Kde(l,u),F=L.measureSize(D),_=Xde(F),E=zde(c,F),T=!f&&!!x,w=f||!!x,{slideSizes:C,slideSizesWithGaps:j,startGap:S,endGap:I}=hhe(L,D,O,n,w,i),R=fhe(L,F,p,f,D,O,S,I,M),{snaps:U,snapsAligned:z}=she(L,E,D,O,R),V=-Ao(U)+Ao(j),{snapsContained:X,scrollContainLimit:$}=ehe(F,V,z,x,M),W=T?X:z,{limit:H}=the(V,W,f),Q=PU(A0(W),d,f),G=Q.clone(),J=Ag(n),ee=({dragHandler:he,scrollBody:me,scrollBounds:ve,options:{loop:_e}})=>{_e||ve.constrain(he.pointerDown()),me.seek()},K=({scrollBody:he,translate:me,location:ve,offsetLocation:_e,previousLocation:Te,scrollLooper:Ue,slideLooper:Ee,dragHandler:Me,animation:Ie,eventHandler:Ce,scrollBounds:Pe,options:{loop:ge}},Ne)=>{const ke=he.settled(),ze=!Pe.shouldConstrain(),Re=ge?ke:ke&&ze,Ve=Re&&!Me.pointerDown();Ve&&Ie.stop();const rt=ve.get()*Ne+Te.get()*(1-Ne);_e.set(rt),ge&&(Ue.loop(he.direction()),Ee.loop()),me.to(_e.get()),Ve&&Ce.emit("settle"),Re||Ce.emit("scroll")},ne=Vde(s,i,()=>ee(le),he=>K(le,he)),ue=.68,se=W[Q.get()],ie=qp(se),q=qp(se),Z=qp(se),te=qp(se),re=Zde(ie,Z,q,te,h,ue),Y=ahe(f,W,V,H,te),oe=ohe(ne,Q,G,re,Y,te,o),ae=rhe(H),ce=xg(),de=dhe(t,n,o,g),{slideRegistry:pe}=ihe(T,x,W,$,R,J),Ae=lhe(e,n,pe,oe,re,ce,o,P),le={ownerDocument:s,ownerWindow:i,eventHandler:o,containerRect:D,slideRects:O,animation:ne,axis:L,dragHandler:Gde(L,e,s,i,te,Wde(L,i),ie,ne,oe,re,Y,Q,o,_,m,A,b,ue,N),eventStore:ce,percentOfView:_,index:Q,indexPrevious:G,limit:H,location:ie,offsetLocation:Z,previousLocation:q,options:a,resizeHandler:Yde(t,o,i,n,L,v,k),scrollBody:re,scrollBounds:Jde(H,Z,te,re,_),scrollLooper:nhe(V,H,Z,[ie,Z,q,te]),scrollProgress:ae,scrollSnapList:W.map(ae.get),scrollSnaps:W,scrollTarget:Y,scrollTo:oe,slideLooper:che(L,F,V,C,j,U,W,Z,n),slideFocus:Ae,slidesHandler:uhe(t,o,y),slidesInView:de,slideIndexes:J,slideRegistry:pe,slidesToScroll:R,target:te,translate:MU(L,t)};return le}function phe(){let e={},t;function n(u){t=u}function s(u){return e[u]||[]}function i(u){return s(u).forEach(d=>d(t,u)),l}function a(u,d){return e[u]=s(u).concat([d]),l}function o(u,d){return e[u]=s(u).filter(f=>f!==d),l}function c(){e={}}const l={init:n,emit:i,off:o,on:a,clear:c};return l}const Ahe={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function ghe(e){function t(a,o){return EU(a,o||{})}function n(a){const o=a.breakpoints||{},c=gg(o).filter(l=>e.matchMedia(l).matches).map(l=>o[l]).reduce((l,u)=>t(l,u),{});return t(a,c)}function s(a){return a.map(o=>gg(o.breakpoints||{})).reduce((o,c)=>o.concat(c),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:n,optionsMediaQueries:s}}function xhe(e){let t=[];function n(a,o){return t=o.filter(({options:c})=>e.optionsAtMedia(c).active!==!1),t.forEach(c=>c.init(a,e)),o.reduce((c,l)=>Object.assign(c,{[l.name]:l}),{})}function s(){t=t.filter(a=>a.destroy())}return{init:n,destroy:s}}function ny(e,t,n){const s=e.ownerDocument,i=s.defaultView,a=ghe(i),o=xhe(a),c=xg(),l=phe(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:f}=a,{on:h,off:m,emit:A}=l,g=L;let p=!1,b,x=u(Ahe,ny.globalOptions),v=u(x),y=[],N,P,M;function k(){const{container:J,slides:ee}=v;P=(k4(J)?e.querySelector(J):J)||e.children[0];const ne=k4(ee)?P.querySelectorAll(ee):ee;M=[].slice.call(ne||P.children)}function D(J){const ee=mhe(e,P,M,s,i,J,l);if(J.loop&&!ee.slideLooper.canLoop()){const K=Object.assign({},J,{loop:!1});return D(K)}return ee}function O(J,ee){p||(x=u(x,J),v=d(x),y=ee||y,k(),b=D(v),f([x,...y.map(({options:K})=>K)]).forEach(K=>c.add(K,"change",L)),v.active&&(b.translate.to(b.location.get()),b.animation.init(),b.slidesInView.init(),b.slideFocus.init(G),b.eventHandler.init(G),b.resizeHandler.init(G),b.slidesHandler.init(G),b.options.loop&&b.slideLooper.loop(),P.offsetParent&&M.length&&b.dragHandler.init(G),N=o.init(G,y)))}function L(J,ee){const K=R();F(),O(u({startIndex:K},J),ee),l.emit("reInit")}function F(){b.dragHandler.destroy(),b.eventStore.clear(),b.translate.clear(),b.slideLooper.clear(),b.resizeHandler.destroy(),b.slidesHandler.destroy(),b.slidesInView.destroy(),b.animation.destroy(),o.destroy(),c.clear()}function _(){p||(p=!0,c.clear(),F(),l.emit("destroy"),l.clear())}function E(J,ee,K){!v.active||p||(b.scrollBody.useBaseFriction().useDuration(ee===!0?0:v.duration),b.scrollTo.index(J,K||0))}function T(J){const ee=b.index.add(1).get();E(ee,J,-1)}function w(J){const ee=b.index.add(-1).get();E(ee,J,1)}function C(){return b.index.add(1).get()!==R()}function j(){return b.index.add(-1).get()!==R()}function S(){return b.scrollSnapList}function I(){return b.scrollProgress.get(b.offsetLocation.get())}function R(){return b.index.get()}function U(){return b.indexPrevious.get()}function z(){return b.slidesInView.get()}function V(){return b.slidesInView.get(!1)}function X(){return N}function $(){return b}function W(){return e}function H(){return P}function Q(){return M}const G={canScrollNext:C,canScrollPrev:j,containerNode:H,internalEngine:$,destroy:_,off:m,on:h,emit:A,plugins:X,previousScrollSnap:U,reInit:g,rootNode:W,scrollNext:T,scrollPrev:w,scrollProgress:I,scrollSnapList:S,scrollTo:E,selectedScrollSnap:R,slideNodes:Q,slidesInView:z,slidesNotInView:V};return O(t,n),setTimeout(()=>l.emit("init"),0),G}ny.globalOptions=void 0;function j5(e={},t=[]){const n=B.useRef(e),s=B.useRef(t),[i,a]=B.useState(),[o,c]=B.useState(),l=B.useCallback(()=>{i&&i.reInit(n.current,s.current)},[i]);return B.useEffect(()=>{b5(n.current,e)||(n.current=e,l())},[e,l]),B.useEffect(()=>{Hde(s.current,t)||(s.current=t,l())},[t,l]),B.useEffect(()=>{if(Ude()&&o){ny.globalOptions=j5.globalOptions;const u=ny(o,n.current,s.current);return a(u),()=>u.destroy()}else a(void 0)},[o,a]),[c,i]}j5.globalOptions=void 0;const DU=B.createContext(null);function l1(){const e=B.useContext(DU);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const Vu=B.forwardRef(({orientation:e="horizontal",opts:t,setApi:n,plugins:s,className:i,children:a,...o},c)=>{const[l,u]=j5({...t,axis:e==="horizontal"?"x":"y"},s),[d,f]=B.useState(!1),[h,m]=B.useState(!1),A=B.useCallback(x=>{x&&(f(x.canScrollPrev()),m(x.canScrollNext()))},[]),g=B.useCallback(()=>{u==null||u.scrollPrev()},[u]),p=B.useCallback(()=>{u==null||u.scrollNext()},[u]),b=B.useCallback(x=>{x.key==="ArrowLeft"?(x.preventDefault(),g()):x.key==="ArrowRight"&&(x.preventDefault(),p())},[g,p]);return B.useEffect(()=>{!u||!n||n(u)},[u,n]),B.useEffect(()=>{if(u)return A(u),u.on("reInit",A),u.on("select",A),()=>{u==null||u.off("select",A)}},[u,A]),r.jsx(DU.Provider,{value:{carouselRef:l,api:u,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:g,scrollNext:p,canScrollPrev:d,canScrollNext:h},children:r.jsx("div",{ref:c,onKeyDownCapture:b,className:Fe("relative",i),role:"region","aria-roledescription":"carousel",...o,children:a})})});Vu.displayName="Carousel";const Ku=B.forwardRef(({className:e,...t},n)=>{const{carouselRef:s,orientation:i}=l1();return r.jsx("div",{ref:s,className:"overflow-hidden",children:r.jsx("div",{ref:n,className:Fe("flex",i==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});Ku.displayName="CarouselContent";const Gu=B.forwardRef(({className:e,...t},n)=>{const{orientation:s}=l1();return r.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:Fe("min-w-0 shrink-0 grow-0 basis-full",s==="horizontal"?"pl-4":"pt-4",e),...t})});Gu.displayName="CarouselItem";const Wu=B.forwardRef(({className:e,variant:t="outline",size:n="icon",...s},i)=>{const{orientation:a,scrollPrev:o,canScrollPrev:c}=l1();return r.jsxs(fe,{ref:i,variant:t,size:n,className:Fe("absolute  h-8 w-8 rounded-full",a==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!c,onClick:o,...s,children:[r.jsx(Nm,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Previous slide"})]})});Wu.displayName="CarouselPrevious";const qu=B.forwardRef(({className:e,variant:t="outline",size:n="icon",...s},i)=>{const{orientation:a,scrollNext:o,canScrollNext:c}=l1();return r.jsxs(fe,{ref:i,variant:t,size:n,className:Fe("absolute h-8 w-8 rounded-full",a==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!c,onClick:o,...s,children:[r.jsx(uL,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Next slide"})]})});qu.displayName="CarouselNext";const bhe="https://bicacuatho.azurewebsites.net",vhe="FashionHub",IU=()=>{const[e,t]=B.useState(null),[n,s]=B.useState(!0),[i,a]=B.useState(null),[o,c]=B.useState(null),[l,u]=B.useState(0),d=async()=>{try{const m=await fetch(`${bhe}/api/GiaoDien`);if(!m.ok)throw new Error(await m.text());const g=(await m.json()).find(p=>p.trangThai===1);t(g||null)}catch(m){const A=m instanceof Error?m.message:"Lỗi không xác định.";a(A)}finally{s(!1)}};B.useEffect(()=>{d()},[]),B.useEffect(()=>{if(!o)return;const m=setInterval(()=>{const A=(l+1)%o.scrollSnapList().length;o.scrollTo(A),u(A)},5e3);return()=>clearInterval(m)},[o,l]),B.useEffect(()=>{if(!o)return;const m=()=>u(o.selectedScrollSnap());return o.on("select",m),()=>{o.off("select",m)}},[o]);const f=[e==null?void 0:e.slider1,e==null?void 0:e.slider2,e==null?void 0:e.slider3,e==null?void 0:e.slider4].filter(m=>m&&!m.includes("null")).map((m,A)=>({image:`data:image/png;base64,${m}`,name:`Slider ${A+1}`})),h=r.jsxs(r.Fragment,{children:[r.jsx(fe,{asChild:!0,className:"bg-crocus-500 hover:bg-crocus-600",children:r.jsxs(ct,{to:"/products",children:[r.jsx(qN,{className:"h-4 w-4 mr-2"}),r.jsx("span",{children:"Mua sắm ngay"})]})}),r.jsx(fe,{asChild:!0,variant:"outline",className:"flex gap-2 items-center",children:r.jsxs(ct,{to:"/user/cart",children:[r.jsx(Rs,{className:"h-4 w-4"}),r.jsx("span",{children:"Xem giỏ hàng"})]})})]});return r.jsx("section",{className:"relative overflow-hidden",children:r.jsxs("div",{className:"bg-gradient-to-r from-crocus-500/20 to-crocus-200/40 rounded-xl p-8 md:p-16 flex flex-col md:flex-row items-center",children:[r.jsxs("div",{className:"md:w-1/2 space-y-6 text-center md:text-left",children:[r.jsxs("h1",{className:"text-4xl md:text-5xl font-bold leading-tight",children:["Khám phá bộ sưu tập"," ",r.jsx("span",{className:"bg-gradient-to-r from-crocus-500 to-crocus-700 bg-clip-text text-transparent",children:vhe})," ","2025"]}),r.jsx("p",{className:"text-lg text-gray-700 max-w-lg",children:"Nâng tầm phong cách của bạn với sản phẩm hot nhất năm 2025. Bộ sưu tập mới kết hợp sự thanh lịch với thiết kế đương đại."}),r.jsx("div",{className:"flex flex-wrap gap-4 justify-center md:justify-start",children:h})]}),r.jsx("div",{className:"md:w-1/2 mt-8 md:mt-0",children:n?r.jsx("div",{className:"w-full h-[300px] bg-gray-200 rounded-lg flex items-center justify-center",children:r.jsx("p",{className:"text-gray-500",children:"Đang tải slider..."})}):i||!e||f.length===0?r.jsx("div",{className:"w-full h-[300px] bg-gray-200 rounded-lg flex items-center justify-center",children:r.jsx("p",{className:"text-gray-500",children:i||"Không có giao diện hoạt động."})}):r.jsxs(Vu,{className:"w-full",setApi:c,opts:{loop:!0},children:[r.jsx(Ku,{children:f.map((m,A)=>r.jsx(Gu,{className:"md:basis-1/1",children:r.jsxs("div",{className:"relative rounded-lg overflow-hidden",children:[r.jsx("img",{src:m.image,alt:m.name,className:"w-full h-[300px] object-cover",onError:g=>{g.currentTarget.src="https://via.placeholder.com/600x300?text=Image+Error"}}),r.jsx("div",{className:"absolute inset-0 flex flex-col justify-end p-4"})]})},A))}),r.jsx(Wu,{className:"left-2"}),r.jsx(qu,{className:"right-2"})]})})]})})};/*!
* sweetalert2 v11.22.4
* Released under the MIT License.
*/function OU(e,t,n){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function yhe(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $B(e,t){return e.get(OU(e,t))}function whe(e,t,n){yhe(e,t),t.set(e,n)}function jhe(e,t,n){return e.set(OU(e,t),n),n}const Che=100,rn={},Nhe=()=>{rn.previousActiveElement instanceof HTMLElement?(rn.previousActiveElement.focus(),rn.previousActiveElement=null):document.body&&document.body.focus()},She=e=>new Promise(t=>{if(!e)return t();const n=window.scrollX,s=window.scrollY;rn.restoreFocusTimeout=setTimeout(()=>{Nhe(),t()},Che),window.scrollTo(n,s)}),LU="swal2-",The=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],We=The.reduce((e,t)=>(e[t]=LU+t,e),{}),khe=["success","warning","info","question","error"],ry=khe.reduce((e,t)=>(e[t]=LU+t,e),{}),FU="SweetAlert2:",C5=e=>e.charAt(0).toUpperCase()+e.slice(1),Si=e=>{console.warn(`${FU} ${typeof e=="object"?e.join(" "):e}`)},_h=e=>{console.error(`${FU} ${e}`)},QB=[],_he=e=>{QB.includes(e)||(QB.push(e),Si(e))},RU=(e,t=null)=>{_he(`"${e}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},c1=e=>typeof e=="function"?e():e,N5=e=>e&&typeof e.toPromise=="function",g0=e=>N5(e)?e.toPromise():Promise.resolve(e),S5=e=>e&&Promise.resolve(e)===e,Pi=()=>document.body.querySelector(`.${We.container}`),x0=e=>{const t=Pi();return t?t.querySelector(e):null},Na=e=>x0(`.${e}`),Zn=()=>Na(We.popup),Fm=()=>Na(We.icon),Bhe=()=>Na(We["icon-content"]),UU=()=>Na(We.title),T5=()=>Na(We["html-container"]),HU=()=>Na(We.image),k5=()=>Na(We["progress-steps"]),u1=()=>Na(We["validation-message"]),hl=()=>x0(`.${We.actions} .${We.confirm}`),Rm=()=>x0(`.${We.actions} .${We.cancel}`),Bh=()=>x0(`.${We.actions} .${We.deny}`),Ehe=()=>Na(We["input-label"]),Um=()=>x0(`.${We.loader}`),b0=()=>Na(We.actions),$U=()=>Na(We.footer),d1=()=>Na(We["timer-progress-bar"]),_5=()=>Na(We.close),Phe=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,B5=()=>{const e=Zn();if(!e)return[];const t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(t).sort((a,o)=>{const c=parseInt(a.getAttribute("tabindex")||"0"),l=parseInt(o.getAttribute("tabindex")||"0");return c>l?1:c<l?-1:0}),s=e.querySelectorAll(Phe),i=Array.from(s).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(i))].filter(a=>ea(a))},E5=()=>Yl(document.body,We.shown)&&!Yl(document.body,We["toast-shown"])&&!Yl(document.body,We["no-backdrop"]),h1=()=>{const e=Zn();return e?Yl(e,We.toast):!1},Mhe=()=>{const e=Zn();return e?e.hasAttribute("data-loading"):!1},Sa=(e,t)=>{if(e.textContent="",t){const s=new DOMParser().parseFromString(t,"text/html"),i=s.querySelector("head");i&&Array.from(i.childNodes).forEach(o=>{e.appendChild(o)});const a=s.querySelector("body");a&&Array.from(a.childNodes).forEach(o=>{o instanceof HTMLVideoElement||o instanceof HTMLAudioElement?e.appendChild(o.cloneNode(!0)):e.appendChild(o)})}},Yl=(e,t)=>{if(!t)return!1;const n=t.split(/\s+/);for(let s=0;s<n.length;s++)if(!e.classList.contains(n[s]))return!1;return!0},Dhe=(e,t)=>{Array.from(e.classList).forEach(n=>{!Object.values(We).includes(n)&&!Object.values(ry).includes(n)&&!Object.values(t.showClass||{}).includes(n)&&e.classList.remove(n)})},ba=(e,t,n)=>{if(Dhe(e,t),!t.customClass)return;const s=t.customClass[n];if(s){if(typeof s!="string"&&!s.forEach){Si(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof s}"`);return}rr(e,s)}},f1=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(`.${We.popup} > .${We[t]}`);case"checkbox":return e.querySelector(`.${We.popup} > .${We.checkbox} input`);case"radio":return e.querySelector(`.${We.popup} > .${We.radio} input:checked`)||e.querySelector(`.${We.popup} > .${We.radio} input:first-child`);case"range":return e.querySelector(`.${We.popup} > .${We.range} input`);default:return e.querySelector(`.${We.popup} > .${We.input}`)}},QU=e=>{if(e.focus(),e.type!=="file"){const t=e.value;e.value="",e.value=t}},zU=(e,t,n)=>{!e||!t||(typeof t=="string"&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(s=>{Array.isArray(e)?e.forEach(i=>{n?i.classList.add(s):i.classList.remove(s)}):n?e.classList.add(s):e.classList.remove(s)}))},rr=(e,t)=>{zU(e,t,!0)},Va=(e,t)=>{zU(e,t,!1)},Zc=(e,t)=>{const n=Array.from(e.children);for(let s=0;s<n.length;s++){const i=n[s];if(i instanceof HTMLElement&&Yl(i,t))return i}},Fd=(e,t,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?e.style.setProperty(t,typeof n=="number"?`${n}px`:n):e.style.removeProperty(t)},Us=(e,t="flex")=>{e&&(e.style.display=t)},hi=e=>{e&&(e.style.display="none")},P5=(e,t="block")=>{e&&new MutationObserver(()=>{v0(e,e.innerHTML,t)}).observe(e,{childList:!0,subtree:!0})},zB=(e,t,n,s)=>{const i=e.querySelector(t);i&&i.style.setProperty(n,s)},v0=(e,t,n="flex")=>{t?Us(e,n):hi(e)},ea=e=>!!(e&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),Ihe=()=>!ea(hl())&&!ea(Bh())&&!ea(Rm()),B4=e=>e.scrollHeight>e.clientHeight,Ohe=(e,t)=>{let n=e;for(;n&&n!==t;){if(B4(n))return!0;n=n.parentElement}return!1},VU=e=>{const t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),s=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||s>0},M5=(e,t=!1)=>{const n=d1();n&&ea(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${e/1e3}s linear`,n.style.width="0%"},10))},Lhe=()=>{const e=d1();if(!e)return;const t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const n=parseInt(window.getComputedStyle(e).width),s=t/n*100;e.style.width=`${s}%`},Fhe=()=>typeof window>"u"||typeof document>"u",Rhe=`
 <div aria-labelledby="${We.title}" aria-describedby="${We["html-container"]}" class="${We.popup}" tabindex="-1">
   <button type="button" class="${We.close}"></button>
   <ul class="${We["progress-steps"]}"></ul>
   <div class="${We.icon}"></div>
   <img class="${We.image}" />
   <h2 class="${We.title}" id="${We.title}"></h2>
   <div class="${We["html-container"]}" id="${We["html-container"]}"></div>
   <input class="${We.input}" id="${We.input}" />
   <input type="file" class="${We.file}" />
   <div class="${We.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${We.select}" id="${We.select}"></select>
   <div class="${We.radio}"></div>
   <label class="${We.checkbox}">
     <input type="checkbox" id="${We.checkbox}" />
     <span class="${We.label}"></span>
   </label>
   <textarea class="${We.textarea}" id="${We.textarea}"></textarea>
   <div class="${We["validation-message"]}" id="${We["validation-message"]}"></div>
   <div class="${We.actions}">
     <div class="${We.loader}"></div>
     <button type="button" class="${We.confirm}"></button>
     <button type="button" class="${We.deny}"></button>
     <button type="button" class="${We.cancel}"></button>
   </div>
   <div class="${We.footer}"></div>
   <div class="${We["timer-progress-bar-container"]}">
     <div class="${We["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Uhe=()=>{const e=Pi();return e?(e.remove(),Va([document.documentElement,document.body],[We["no-backdrop"],We["toast-shown"],We["has-column"]]),!0):!1},rd=()=>{rn.currentInstance.resetValidationMessage()},Hhe=()=>{const e=Zn(),t=Zc(e,We.input),n=Zc(e,We.file),s=e.querySelector(`.${We.range} input`),i=e.querySelector(`.${We.range} output`),a=Zc(e,We.select),o=e.querySelector(`.${We.checkbox} input`),c=Zc(e,We.textarea);t.oninput=rd,n.onchange=rd,a.onchange=rd,o.onchange=rd,c.oninput=rd,s.oninput=()=>{rd(),i.value=s.value},s.onchange=()=>{rd(),i.value=s.value}},$he=e=>typeof e=="string"?document.querySelector(e):e,Qhe=e=>{const t=Zn();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},zhe=e=>{window.getComputedStyle(e).direction==="rtl"&&rr(Pi(),We.rtl)},Vhe=e=>{const t=Uhe();if(Fhe()){_h("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=We.container,t&&rr(n,We["no-transition"]),Sa(n,Rhe),n.dataset.swal2Theme=e.theme;const s=$he(e.target);s.appendChild(n),e.topLayer&&(n.setAttribute("popover",""),n.showPopover()),Qhe(e),zhe(s),Hhe()},D5=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):typeof e=="object"?Khe(e,t):e&&Sa(t,e)},Khe=(e,t)=>{e.jquery?Ghe(t,e):Sa(t,e.toString())},Ghe=(e,t)=>{if(e.textContent="",0 in t)for(let n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},Whe=(e,t)=>{const n=b0(),s=Um();!n||!s||(!t.showConfirmButton&&!t.showDenyButton&&!t.showCancelButton?hi(n):Us(n),ba(n,t,"actions"),qhe(n,s,t),Sa(s,t.loaderHtml||""),ba(s,t,"loader"))};function qhe(e,t,n){const s=hl(),i=Bh(),a=Rm();!s||!i||!a||(xj(s,"confirm",n),xj(i,"deny",n),xj(a,"cancel",n),Xhe(s,i,a,n),n.reverseButtons&&(n.toast?(e.insertBefore(a,s),e.insertBefore(i,s)):(e.insertBefore(a,t),e.insertBefore(i,t),e.insertBefore(s,t))))}function Xhe(e,t,n,s){if(!s.buttonsStyling){Va([e,t,n],We.styled);return}rr([e,t,n],We.styled),s.confirmButtonColor&&e.style.setProperty("--swal2-confirm-button-background-color",s.confirmButtonColor),s.denyButtonColor&&t.style.setProperty("--swal2-deny-button-background-color",s.denyButtonColor),s.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",s.cancelButtonColor),gj(e),gj(t),gj(n)}function gj(e){const t=window.getComputedStyle(e);if(t.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=t.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");e.style.setProperty("--swal2-action-button-focus-box-shadow",t.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function xj(e,t,n){const s=C5(t);v0(e,n[`show${s}Button`],"inline-block"),Sa(e,n[`${t}ButtonText`]||""),e.setAttribute("aria-label",n[`${t}ButtonAriaLabel`]||""),e.className=We[t],ba(e,n,`${t}Button`)}const Yhe=(e,t)=>{const n=_5();n&&(Sa(n,t.closeButtonHtml||""),ba(n,t,"closeButton"),v0(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel||""))},Zhe=(e,t)=>{const n=Pi();n&&(Jhe(n,t.backdrop),efe(n,t.position),tfe(n,t.grow),ba(n,t,"container"))};function Jhe(e,t){typeof t=="string"?e.style.background=t:t||rr([document.documentElement,document.body],We["no-backdrop"])}function efe(e,t){t&&(t in We?rr(e,We[t]):(Si('The "position" parameter is not valid, defaulting to "center"'),rr(e,We.center)))}function tfe(e,t){t&&rr(e,We[`grow-${t}`])}var Cr={innerParams:new WeakMap,domCache:new WeakMap};const nfe=["input","file","range","select","radio","checkbox","textarea"],rfe=(e,t)=>{const n=Zn();if(!n)return;const s=Cr.innerParams.get(e),i=!s||t.input!==s.input;nfe.forEach(a=>{const o=Zc(n,We[a]);o&&(afe(a,t.inputAttributes),o.className=We[a],i&&hi(o))}),t.input&&(i&&sfe(t),ofe(t))},sfe=e=>{if(!e.input)return;if(!os[e.input]){_h(`Unexpected type of input! Expected ${Object.keys(os).join(" | ")}, got "${e.input}"`);return}const t=KU(e.input);if(!t)return;const n=os[e.input](t,e);Us(t),e.inputAutoFocus&&setTimeout(()=>{QU(n)})},ife=e=>{for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;["id","type","value","style"].includes(n)||e.removeAttribute(n)}},afe=(e,t)=>{const n=Zn();if(!n)return;const s=f1(n,e);if(s){ife(s);for(const i in t)s.setAttribute(i,t[i])}},ofe=e=>{if(!e.input)return;const t=KU(e.input);t&&ba(t,e,"input")},I5=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},y0=(e,t,n)=>{if(n.inputLabel){const s=document.createElement("label"),i=We["input-label"];s.setAttribute("for",e.id),s.className=i,typeof n.customClass=="object"&&rr(s,n.customClass.inputLabel),s.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",s)}},KU=e=>{const t=Zn();if(t)return Zc(t,We[e]||We.input)},sy=(e,t)=>{["string","number"].includes(typeof t)?e.value=`${t}`:S5(t)||Si(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},os={};os.text=os.email=os.password=os.number=os.tel=os.url=os.search=os.date=os["datetime-local"]=os.time=os.week=os.month=(e,t)=>(sy(e,t.inputValue),y0(e,e,t),I5(e,t),e.type=t.input,e);os.file=(e,t)=>(y0(e,e,t),I5(e,t),e);os.range=(e,t)=>{const n=e.querySelector("input"),s=e.querySelector("output");return sy(n,t.inputValue),n.type=t.input,sy(s,t.inputValue),y0(n,e,t),e};os.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const n=document.createElement("option");Sa(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return y0(e,e,t),e};os.radio=e=>(e.textContent="",e);os.checkbox=(e,t)=>{const n=f1(Zn(),"checkbox");n.value="1",n.checked=!!t.inputValue;const s=e.querySelector("span");return Sa(s,t.inputPlaceholder||t.inputLabel),n};os.textarea=(e,t)=>{sy(e,t.inputValue),I5(e,t),y0(e,e,t);const n=s=>parseInt(window.getComputedStyle(s).marginLeft)+parseInt(window.getComputedStyle(s).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const s=parseInt(window.getComputedStyle(Zn()).width),i=()=>{if(!document.body.contains(e))return;const a=e.offsetWidth+n(e);a>s?Zn().style.width=`${a}px`:Fd(Zn(),"width",t.width)};new MutationObserver(i).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};const lfe=(e,t)=>{const n=T5();n&&(P5(n),ba(n,t,"htmlContainer"),t.html?(D5(t.html,n),Us(n,"block")):t.text?(n.textContent=t.text,Us(n,"block")):hi(n),rfe(e,t))},cfe=(e,t)=>{const n=$U();n&&(P5(n),v0(n,t.footer,"block"),t.footer&&D5(t.footer,n),ba(n,t,"footer"))},ufe=(e,t)=>{const n=Cr.innerParams.get(e),s=Fm();if(!s)return;if(n&&t.icon===n.icon){KB(s,t),VB(s,t);return}if(!t.icon&&!t.iconHtml){hi(s);return}if(t.icon&&Object.keys(ry).indexOf(t.icon)===-1){_h(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),hi(s);return}Us(s),KB(s,t),VB(s,t),rr(s,t.showClass&&t.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",GU)},VB=(e,t)=>{for(const[n,s]of Object.entries(ry))t.icon!==n&&Va(e,s);rr(e,t.icon&&ry[t.icon]),ffe(e,t),GU(),ba(e,t,"icon")},GU=()=>{const e=Zn();if(!e)return;const t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let s=0;s<n.length;s++)n[s].style.backgroundColor=t},dfe=e=>`
  ${e.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${e.animation?'<div class="swal2-success-fix"></div>':""}
  ${e.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,hfe=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,KB=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let n=e.innerHTML,s="";t.iconHtml?s=GB(t.iconHtml):t.icon==="success"?(s=dfe(t),n=n.replace(/ style=".*?"/g,"")):t.icon==="error"?s=hfe:t.icon&&(s=GB({question:"?",warning:"!",info:"i"}[t.icon])),n.trim()!==s.trim()&&Sa(e,s)},ffe=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])zB(e,n,"background-color",t.iconColor);zB(e,".swal2-success-ring","border-color",t.iconColor)}},GB=e=>`<div class="${We["icon-content"]}">${e}</div>`,mfe=(e,t)=>{const n=HU();if(n){if(!t.imageUrl){hi(n);return}Us(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt||""),Fd(n,"width",t.imageWidth),Fd(n,"height",t.imageHeight),n.className=We.image,ba(n,t,"image")}};let O5=!1,WU=0,qU=0,XU=0,YU=0;const pfe=e=>{e.addEventListener("mousedown",iy),document.body.addEventListener("mousemove",ay),e.addEventListener("mouseup",oy),e.addEventListener("touchstart",iy),document.body.addEventListener("touchmove",ay),e.addEventListener("touchend",oy)},Afe=e=>{e.removeEventListener("mousedown",iy),document.body.removeEventListener("mousemove",ay),e.removeEventListener("mouseup",oy),e.removeEventListener("touchstart",iy),document.body.removeEventListener("touchmove",ay),e.removeEventListener("touchend",oy)},iy=e=>{const t=Zn();if(e.target===t||Fm().contains(e.target)){O5=!0;const n=ZU(e);WU=n.clientX,qU=n.clientY,XU=parseInt(t.style.insetInlineStart)||0,YU=parseInt(t.style.insetBlockStart)||0,rr(t,"swal2-dragging")}},ay=e=>{const t=Zn();if(O5){let{clientX:n,clientY:s}=ZU(e);t.style.insetInlineStart=`${XU+(n-WU)}px`,t.style.insetBlockStart=`${YU+(s-qU)}px`}},oy=()=>{const e=Zn();O5=!1,Va(e,"swal2-dragging")},ZU=e=>{let t=0,n=0;return e.type.startsWith("mouse")?(t=e.clientX,n=e.clientY):e.type.startsWith("touch")&&(t=e.touches[0].clientX,n=e.touches[0].clientY),{clientX:t,clientY:n}},gfe=(e,t)=>{const n=Pi(),s=Zn();if(!(!n||!s)){if(t.toast){Fd(n,"width",t.width),s.style.width="100%";const i=Um();i&&s.insertBefore(i,Fm())}else Fd(s,"width",t.width);Fd(s,"padding",t.padding),t.color&&(s.style.color=t.color),t.background&&(s.style.background=t.background),hi(u1()),xfe(s,t),t.draggable&&!t.toast?(rr(s,We.draggable),pfe(s)):(Va(s,We.draggable),Afe(s))}},xfe=(e,t)=>{const n=t.showClass||{};e.className=`${We.popup} ${ea(e)?n.popup:""}`,t.toast?(rr([document.documentElement,document.body],We["toast-shown"]),rr(e,We.toast)):rr(e,We.modal),ba(e,t,"popup"),typeof t.customClass=="string"&&rr(e,t.customClass),t.icon&&rr(e,We[`icon-${t.icon}`])},bfe=(e,t)=>{const n=k5();if(!n)return;const{progressSteps:s,currentProgressStep:i}=t;if(!s||s.length===0||i===void 0){hi(n);return}Us(n),n.textContent="",i>=s.length&&Si("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),s.forEach((a,o)=>{const c=vfe(a);if(n.appendChild(c),o===i&&rr(c,We["active-progress-step"]),o!==s.length-1){const l=yfe(t);n.appendChild(l)}})},vfe=e=>{const t=document.createElement("li");return rr(t,We["progress-step"]),Sa(t,e),t},yfe=e=>{const t=document.createElement("li");return rr(t,We["progress-step-line"]),e.progressStepsDistance&&Fd(t,"width",e.progressStepsDistance),t},wfe=(e,t)=>{const n=UU();n&&(P5(n),v0(n,t.title||t.titleText,"block"),t.title&&D5(t.title,n),t.titleText&&(n.innerText=t.titleText),ba(n,t,"title"))},JU=(e,t)=>{gfe(e,t),Zhe(e,t),bfe(e,t),ufe(e,t),mfe(e,t),wfe(e,t),Yhe(e,t),lfe(e,t),Whe(e,t),cfe(e,t);const n=Zn();typeof t.didRender=="function"&&n&&t.didRender(n),rn.eventEmitter.emit("didRender",n)},jfe=()=>ea(Zn()),eH=()=>{var e;return(e=hl())===null||e===void 0?void 0:e.click()},Cfe=()=>{var e;return(e=Bh())===null||e===void 0?void 0:e.click()},Nfe=()=>{var e;return(e=Rm())===null||e===void 0?void 0:e.click()},Hm=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),tH=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},Sfe=(e,t,n)=>{tH(e),t.toast||(e.keydownHandler=s=>kfe(t,s,n),e.keydownTarget=t.keydownListenerCapture?window:Zn(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},E4=(e,t)=>{var n;const s=B5();if(s.length){e=e+t,e===-2&&(e=s.length-1),e===s.length?e=0:e===-1&&(e=s.length-1),s[e].focus();return}(n=Zn())===null||n===void 0||n.focus()},nH=["ArrowRight","ArrowDown"],Tfe=["ArrowLeft","ArrowUp"],kfe=(e,t,n)=>{e&&(t.isComposing||t.keyCode===229||(e.stopKeydownPropagation&&t.stopPropagation(),t.key==="Enter"?_fe(t,e):t.key==="Tab"?Bfe(t):[...nH,...Tfe].includes(t.key)?Efe(t.key):t.key==="Escape"&&Pfe(t,e,n)))},_fe=(e,t)=>{if(!c1(t.allowEnterKey))return;const n=f1(Zn(),t.input);if(e.target&&n&&e.target instanceof HTMLElement&&e.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(t.input))return;eH(),e.preventDefault()}},Bfe=e=>{const t=e.target,n=B5();let s=-1;for(let i=0;i<n.length;i++)if(t===n[i]){s=i;break}e.shiftKey?E4(s,-1):E4(s,1),e.stopPropagation(),e.preventDefault()},Efe=e=>{const t=b0(),n=hl(),s=Bh(),i=Rm();if(!t||!n||!s||!i)return;const a=[n,s,i];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const o=nH.includes(e)?"nextElementSibling":"previousElementSibling";let c=document.activeElement;if(c){for(let l=0;l<t.children.length;l++){if(c=c[o],!c)return;if(c instanceof HTMLButtonElement&&ea(c))break}c instanceof HTMLButtonElement&&c.focus()}},Pfe=(e,t,n)=>{e.preventDefault(),c1(t.allowEscapeKey)&&n(Hm.esc)};var am={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Mfe=()=>{const e=Pi();Array.from(document.body.children).forEach(n=>{n.contains(e)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},rH=()=>{Array.from(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},sH=typeof window<"u"&&!!window.GestureEvent,Dfe=()=>{if(sH&&!Yl(document.body,We.iosfix)){const e=document.body.scrollTop;document.body.style.top=`${e*-1}px`,rr(document.body,We.iosfix),Ife()}},Ife=()=>{const e=Pi();if(!e)return;let t;e.ontouchstart=n=>{t=Ofe(n)},e.ontouchmove=n=>{t&&(n.preventDefault(),n.stopPropagation())}},Ofe=e=>{const t=e.target,n=Pi(),s=T5();return!n||!s||Lfe(e)||Ffe(e)?!1:t===n||!B4(n)&&t instanceof HTMLElement&&!Ohe(t,s)&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"&&!(B4(s)&&s.contains(t))},Lfe=e=>e.touches&&e.touches.length&&e.touches[0].touchType==="stylus",Ffe=e=>e.touches&&e.touches.length>1,Rfe=()=>{if(Yl(document.body,We.iosfix)){const e=parseInt(document.body.style.top,10);Va(document.body,We.iosfix),document.body.style.top="",document.body.scrollTop=e*-1}},Ufe=()=>{const e=document.createElement("div");e.className=We["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t};let Bf=null;const Hfe=e=>{Bf===null&&(document.body.scrollHeight>window.innerHeight||e==="scroll")&&(Bf=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Bf+Ufe()}px`)},$fe=()=>{Bf!==null&&(document.body.style.paddingRight=`${Bf}px`,Bf=null)};function iH(e,t,n,s){h1()?WB(e,s):(She(n).then(()=>WB(e,s)),tH(rn)),sH?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),E5()&&($fe(),Rfe(),rH()),Qfe()}function Qfe(){Va([document.documentElement,document.body],[We.shown,We["height-auto"],We["no-backdrop"],We["toast-shown"]])}function Jc(e){e=Vfe(e);const t=am.swalPromiseResolve.get(this),n=zfe(this);this.isAwaitingPromise?e.isDismissed||(w0(this),t(e)):n&&t(e)}const zfe=e=>{const t=Zn();if(!t)return!1;const n=Cr.innerParams.get(e);if(!n||Yl(t,n.hideClass.popup))return!1;Va(t,n.showClass.popup),rr(t,n.hideClass.popup);const s=Pi();return Va(s,n.showClass.backdrop),rr(s,n.hideClass.backdrop),Kfe(e,t,n),!0};function aH(e){const t=am.swalPromiseReject.get(this);w0(this),t&&t(e)}const w0=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,Cr.innerParams.get(e)||e._destroy())},Vfe=e=>typeof e>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),Kfe=(e,t,n)=>{var s;const i=Pi(),a=VU(t);typeof n.willClose=="function"&&n.willClose(t),(s=rn.eventEmitter)===null||s===void 0||s.emit("willClose",t),a?Gfe(e,t,i,n.returnFocus,n.didClose):iH(e,i,n.returnFocus,n.didClose)},Gfe=(e,t,n,s,i)=>{rn.swalCloseEventFinishedCallback=iH.bind(null,e,n,s,i);const a=function(o){if(o.target===t){var c;(c=rn.swalCloseEventFinishedCallback)===null||c===void 0||c.call(rn),delete rn.swalCloseEventFinishedCallback,t.removeEventListener("animationend",a),t.removeEventListener("transitionend",a)}};t.addEventListener("animationend",a),t.addEventListener("transitionend",a)},WB=(e,t)=>{setTimeout(()=>{var n;typeof t=="function"&&t.bind(e.params)(),(n=rn.eventEmitter)===null||n===void 0||n.emit("didClose"),e._destroy&&e._destroy()})},om=e=>{let t=Zn();if(t||new we,t=Zn(),!t)return;const n=Um();h1()?hi(Fm()):Wfe(t,e),Us(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},Wfe=(e,t)=>{const n=b0(),s=Um();!n||!s||(!t&&ea(hl())&&(t=hl()),Us(n),t&&(hi(t),s.setAttribute("data-button-to-replace",t.className),n.insertBefore(s,t)),rr([e,n],We.loading))},qfe=(e,t)=>{t.input==="select"||t.input==="radio"?eme(e,t):["text","email","number","tel","textarea"].some(n=>n===t.input)&&(N5(t.inputValue)||S5(t.inputValue))&&(om(hl()),tme(e,t))},Xfe=(e,t)=>{const n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return Yfe(n);case"radio":return Zfe(n);case"file":return Jfe(n);default:return t.inputAutoTrim?n.value.trim():n.value}},Yfe=e=>e.checked?1:0,Zfe=e=>e.checked?e.value:null,Jfe=e=>e.files&&e.files.length?e.getAttribute("multiple")!==null?e.files:e.files[0]:null,eme=(e,t)=>{const n=Zn();if(!n)return;const s=i=>{t.input==="select"?nme(n,ly(i),t):t.input==="radio"&&rme(n,ly(i),t)};N5(t.inputOptions)||S5(t.inputOptions)?(om(hl()),g0(t.inputOptions).then(i=>{e.hideLoading(),s(i)})):typeof t.inputOptions=="object"?s(t.inputOptions):_h(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof t.inputOptions}`)},tme=(e,t)=>{const n=e.getInput();n&&(hi(n),g0(t.inputValue).then(s=>{n.value=t.input==="number"?`${parseFloat(s)||0}`:`${s}`,Us(n),n.focus(),e.hideLoading()}).catch(s=>{_h(`Error in inputValue promise: ${s}`),n.value="",Us(n),n.focus(),e.hideLoading()}))};function nme(e,t,n){const s=Zc(e,We.select);if(!s)return;const i=(a,o,c)=>{const l=document.createElement("option");l.value=c,Sa(l,o),l.selected=oH(c,n.inputValue),a.appendChild(l)};t.forEach(a=>{const o=a[0],c=a[1];if(Array.isArray(c)){const l=document.createElement("optgroup");l.label=o,l.disabled=!1,s.appendChild(l),c.forEach(u=>i(l,u[1],u[0]))}else i(s,c,o)}),s.focus()}function rme(e,t,n){const s=Zc(e,We.radio);if(!s)return;t.forEach(a=>{const o=a[0],c=a[1],l=document.createElement("input"),u=document.createElement("label");l.type="radio",l.name=We.radio,l.value=o,oH(o,n.inputValue)&&(l.checked=!0);const d=document.createElement("span");Sa(d,c),d.className=We.label,u.appendChild(l),u.appendChild(d),s.appendChild(u)});const i=s.querySelectorAll("input");i.length&&i[0].focus()}const ly=e=>{const t=[];return e instanceof Map?e.forEach((n,s)=>{let i=n;typeof i=="object"&&(i=ly(i)),t.push([s,i])}):Object.keys(e).forEach(n=>{let s=e[n];typeof s=="object"&&(s=ly(s)),t.push([n,s])}),t},oH=(e,t)=>!!t&&t.toString()===e.toString(),sme=e=>{const t=Cr.innerParams.get(e);e.disableButtons(),t.input?lH(e,"confirm"):F5(e,!0)},ime=e=>{const t=Cr.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?lH(e,"deny"):L5(e,!1)},ame=(e,t)=>{e.disableButtons(),t(Hm.cancel)},lH=(e,t)=>{const n=Cr.innerParams.get(e);if(!n.input){_h(`The "input" parameter is needed to be set when using returnInputValueOn${C5(t)}`);return}const s=e.getInput(),i=Xfe(e,n);n.inputValidator?ome(e,i,t):s&&!s.checkValidity()?(e.enableButtons(),e.showValidationMessage(n.validationMessage||s.validationMessage)):t==="deny"?L5(e,i):F5(e,i)},ome=(e,t,n)=>{const s=Cr.innerParams.get(e);e.disableInput(),Promise.resolve().then(()=>g0(s.inputValidator(t,s.validationMessage))).then(a=>{e.enableButtons(),e.enableInput(),a?e.showValidationMessage(a):n==="deny"?L5(e,t):F5(e,t)})},L5=(e,t)=>{const n=Cr.innerParams.get(e||void 0);n.showLoaderOnDeny&&om(Bh()),n.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then(()=>g0(n.preDeny(t,n.validationMessage))).then(i=>{i===!1?(e.hideLoading(),w0(e)):e.close({isDenied:!0,value:typeof i>"u"?t:i})}).catch(i=>cH(e||void 0,i))):e.close({isDenied:!0,value:t})},qB=(e,t)=>{e.close({isConfirmed:!0,value:t})},cH=(e,t)=>{e.rejectPromise(t)},F5=(e,t)=>{const n=Cr.innerParams.get(e||void 0);n.showLoaderOnConfirm&&om(),n.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then(()=>g0(n.preConfirm(t,n.validationMessage))).then(i=>{ea(u1())||i===!1?(e.hideLoading(),w0(e)):qB(e,typeof i>"u"?t:i)}).catch(i=>cH(e||void 0,i))):qB(e,t)};function cy(){const e=Cr.innerParams.get(this);if(!e)return;const t=Cr.domCache.get(this);hi(t.loader),h1()?e.icon&&Us(Fm()):lme(t),Va([t.popup,t.actions],We.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const lme=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?Us(t[0],"inline-block"):Ihe()&&hi(e.actions)};function uH(){const e=Cr.innerParams.get(this),t=Cr.domCache.get(this);return t?f1(t.popup,e.input):null}function dH(e,t,n){const s=Cr.domCache.get(e);t.forEach(i=>{s[i].disabled=n})}function hH(e,t){const n=Zn();if(!(!n||!e))if(e.type==="radio"){const s=n.querySelectorAll(`[name="${We.radio}"]`);for(let i=0;i<s.length;i++)s[i].disabled=t}else e.disabled=t}function fH(){dH(this,["confirmButton","denyButton","cancelButton"],!1)}function mH(){dH(this,["confirmButton","denyButton","cancelButton"],!0)}function pH(){hH(this.getInput(),!1)}function AH(){hH(this.getInput(),!0)}function gH(e){const t=Cr.domCache.get(this),n=Cr.innerParams.get(this);Sa(t.validationMessage,e),t.validationMessage.className=We["validation-message"],n.customClass&&n.customClass.validationMessage&&rr(t.validationMessage,n.customClass.validationMessage),Us(t.validationMessage);const s=this.getInput();s&&(s.setAttribute("aria-invalid","true"),s.setAttribute("aria-describedby",We["validation-message"]),QU(s),rr(s,We.inputerror))}function xH(){const e=Cr.domCache.get(this);e.validationMessage&&hi(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),Va(t,We.inputerror))}const Ef={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},cme=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],ume={allowEnterKey:void 0},dme=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],bH=e=>Object.prototype.hasOwnProperty.call(Ef,e),vH=e=>cme.indexOf(e)!==-1,yH=e=>ume[e],hme=e=>{bH(e)||Si(`Unknown parameter "${e}"`)},fme=e=>{dme.includes(e)&&Si(`The parameter "${e}" is incompatible with toasts`)},mme=e=>{const t=yH(e);t&&RU(e,t)},wH=e=>{e.backdrop===!1&&e.allowOutsideClick&&Si('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(e.theme)&&Si(`Invalid theme "${e.theme}"`);for(const t in e)hme(t),e.toast&&fme(t),mme(t)};function jH(e){const t=Pi(),n=Zn(),s=Cr.innerParams.get(this);if(!n||Yl(n,s.hideClass.popup)){Si("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const i=pme(e),a=Object.assign({},s,i);wH(a),t.dataset.swal2Theme=a.theme,JU(this,a),Cr.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const pme=e=>{const t={};return Object.keys(e).forEach(n=>{vH(n)?t[n]=e[n]:Si(`Invalid parameter to update: ${n}`)}),t};function CH(){const e=Cr.domCache.get(this),t=Cr.innerParams.get(this);if(!t){NH(this);return}e.popup&&rn.swalCloseEventFinishedCallback&&(rn.swalCloseEventFinishedCallback(),delete rn.swalCloseEventFinishedCallback),typeof t.didDestroy=="function"&&t.didDestroy(),rn.eventEmitter.emit("didDestroy"),Ame(this)}const Ame=e=>{NH(e),delete e.params,delete rn.keydownHandler,delete rn.keydownTarget,delete rn.currentInstance},NH=e=>{e.isAwaitingPromise?(bj(Cr,e),e.isAwaitingPromise=!0):(bj(am,e),bj(Cr,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},bj=(e,t)=>{for(const n in e)e[n].delete(t)};var gme=Object.freeze({__proto__:null,_destroy:CH,close:Jc,closeModal:Jc,closePopup:Jc,closeToast:Jc,disableButtons:mH,disableInput:AH,disableLoading:cy,enableButtons:fH,enableInput:pH,getInput:uH,handleAwaitingPromise:w0,hideLoading:cy,rejectPromise:aH,resetValidationMessage:xH,showValidationMessage:gH,update:jH});const xme=(e,t,n)=>{e.toast?bme(e,t,n):(yme(t),wme(t),jme(e,t,n))},bme=(e,t,n)=>{t.popup.onclick=()=>{e&&(vme(e)||e.timer||e.input)||n(Hm.close)}},vme=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let uy=!1;const yme=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&(uy=!0)}}},wme=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(n){e.popup.onmouseup=()=>{},(n.target===e.popup||n.target instanceof HTMLElement&&e.popup.contains(n.target))&&(uy=!0)}}},jme=(e,t,n)=>{t.container.onclick=s=>{if(uy){uy=!1;return}s.target===t.container&&c1(e.allowOutsideClick)&&n(Hm.backdrop)}},Cme=e=>typeof e=="object"&&e.jquery,XB=e=>e instanceof Element||Cme(e),Nme=e=>{const t={};return typeof e[0]=="object"&&!XB(e[0])?Object.assign(t,e[0]):["title","html","icon"].forEach((n,s)=>{const i=e[s];typeof i=="string"||XB(i)?t[n]=i:i!==void 0&&_h(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof i}`)}),t};function Sme(...e){return new this(...e)}function Tme(e){class t extends this{_main(s,i){return super._main(s,Object.assign({},e,i))}}return t}const kme=()=>rn.timeout&&rn.timeout.getTimerLeft(),SH=()=>{if(rn.timeout)return Lhe(),rn.timeout.stop()},TH=()=>{if(rn.timeout){const e=rn.timeout.start();return M5(e),e}},_me=()=>{const e=rn.timeout;return e&&(e.running?SH():TH())},Bme=e=>{if(rn.timeout){const t=rn.timeout.increase(e);return M5(t,!0),t}},Eme=()=>!!(rn.timeout&&rn.timeout.isRunning());let YB=!1;const P4={};function Pme(e="data-swal-template"){P4[e]=this,YB||(document.body.addEventListener("click",Mme),YB=!0)}const Mme=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const n in P4){const s=t.getAttribute(n);if(s){P4[n].fire({template:s});return}}};class Dme{constructor(){this.events={}}_getHandlersByEventName(t){return typeof this.events[t]>"u"&&(this.events[t]=[]),this.events[t]}on(t,n){const s=this._getHandlersByEventName(t);s.includes(n)||s.push(n)}once(t,n){const s=(...i)=>{this.removeListener(t,s),n.apply(this,i)};this.on(t,s)}emit(t,...n){this._getHandlersByEventName(t).forEach(s=>{try{s.apply(this,n)}catch(i){console.error(i)}})}removeListener(t,n){const s=this._getHandlersByEventName(t),i=s.indexOf(n);i>-1&&s.splice(i,1)}removeAllListeners(t){this.events[t]!==void 0&&(this.events[t].length=0)}reset(){this.events={}}}rn.eventEmitter=new Dme;const Ime=(e,t)=>{rn.eventEmitter.on(e,t)},Ome=(e,t)=>{rn.eventEmitter.once(e,t)},Lme=(e,t)=>{if(!e){rn.eventEmitter.reset();return}t?rn.eventEmitter.removeListener(e,t):rn.eventEmitter.removeAllListeners(e)};var Fme=Object.freeze({__proto__:null,argsToParams:Nme,bindClickHandler:Pme,clickCancel:Nfe,clickConfirm:eH,clickDeny:Cfe,enableLoading:om,fire:Sme,getActions:b0,getCancelButton:Rm,getCloseButton:_5,getConfirmButton:hl,getContainer:Pi,getDenyButton:Bh,getFocusableElements:B5,getFooter:$U,getHtmlContainer:T5,getIcon:Fm,getIconContent:Bhe,getImage:HU,getInputLabel:Ehe,getLoader:Um,getPopup:Zn,getProgressSteps:k5,getTimerLeft:kme,getTimerProgressBar:d1,getTitle:UU,getValidationMessage:u1,increaseTimer:Bme,isDeprecatedParameter:yH,isLoading:Mhe,isTimerRunning:Eme,isUpdatableParameter:vH,isValidParameter:bH,isVisible:jfe,mixin:Tme,off:Lme,on:Ime,once:Ome,resumeTimer:TH,showLoading:om,stopTimer:SH,toggleTimer:_me});class Rme{constructor(t,n){this.callback=t,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(t){const n=this.running;return n&&this.stop(),this.remaining+=t,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const kH=["swal-title","swal-html","swal-footer"],Ume=e=>{const t=typeof e.template=="string"?document.querySelector(e.template):e.template;if(!t)return{};const n=t.content;return Wme(n),Object.assign(Hme(n),$me(n),Qme(n),zme(n),Vme(n),Kme(n),Gme(n,kH))},Hme=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach(s=>{ah(s,["name","value"]);const i=s.getAttribute("name"),a=s.getAttribute("value");!i||!a||(typeof Ef[i]=="boolean"?t[i]=a!=="false":typeof Ef[i]=="object"?t[i]=JSON.parse(a):t[i]=a)}),t},$me=e=>{const t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach(s=>{const i=s.getAttribute("name"),a=s.getAttribute("value");!i||!a||(t[i]=new Function(`return ${a}`)())}),t},Qme=e=>{const t={};return Array.from(e.querySelectorAll("swal-button")).forEach(s=>{ah(s,["type","color","aria-label"]);const i=s.getAttribute("type");!i||!["confirm","cancel","deny"].includes(i)||(t[`${i}ButtonText`]=s.innerHTML,t[`show${C5(i)}Button`]=!0,s.hasAttribute("color")&&(t[`${i}ButtonColor`]=s.getAttribute("color")),s.hasAttribute("aria-label")&&(t[`${i}ButtonAriaLabel`]=s.getAttribute("aria-label")))}),t},zme=e=>{const t={},n=e.querySelector("swal-image");return n&&(ah(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt")||void 0)),t},Vme=e=>{const t={},n=e.querySelector("swal-icon");return n&&(ah(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},Kme=e=>{const t={},n=e.querySelector("swal-input");n&&(ah(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));const s=Array.from(e.querySelectorAll("swal-input-option"));return s.length&&(t.inputOptions={},s.forEach(i=>{ah(i,["value"]);const a=i.getAttribute("value");if(!a)return;const o=i.innerHTML;t.inputOptions[a]=o})),t},Gme=(e,t)=>{const n={};for(const s in t){const i=t[s],a=e.querySelector(i);a&&(ah(a,[]),n[i.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},Wme=e=>{const t=kH.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach(n=>{const s=n.tagName.toLowerCase();t.includes(s)||Si(`Unrecognized element <${s}>`)})},ah=(e,t)=>{Array.from(e.attributes).forEach(n=>{t.indexOf(n.name)===-1&&Si([`Unrecognized attribute "${n.name}" on <${e.tagName.toLowerCase()}>.`,`${t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."}`])})},_H=10,qme=e=>{const t=Pi(),n=Zn();typeof e.willOpen=="function"&&e.willOpen(n),rn.eventEmitter.emit("willOpen",n);const i=window.getComputedStyle(document.body).overflowY;Zme(t,n,e),setTimeout(()=>{Xme(t,n)},_H),E5()&&(Yme(t,e.scrollbarPadding,i),Mfe()),!h1()&&!rn.previousActiveElement&&(rn.previousActiveElement=document.activeElement),typeof e.didOpen=="function"&&setTimeout(()=>e.didOpen(n)),rn.eventEmitter.emit("didOpen",n),Va(t,We["no-transition"])},dy=e=>{const t=Zn();if(e.target!==t)return;const n=Pi();t.removeEventListener("animationend",dy),t.removeEventListener("transitionend",dy),n.style.overflowY="auto"},Xme=(e,t)=>{VU(t)?(e.style.overflowY="hidden",t.addEventListener("animationend",dy),t.addEventListener("transitionend",dy)):e.style.overflowY="auto"},Yme=(e,t,n)=>{Dfe(),t&&n!=="hidden"&&Hfe(n),setTimeout(()=>{e.scrollTop=0})},Zme=(e,t,n)=>{rr(e,n.showClass.backdrop),n.animation?(t.style.setProperty("opacity","0","important"),Us(t,"grid"),setTimeout(()=>{rr(t,n.showClass.popup),t.style.removeProperty("opacity")},_H)):Us(t,"grid"),rr([document.documentElement,document.body],We.shown),n.heightAuto&&n.backdrop&&!n.toast&&rr([document.documentElement,document.body],We["height-auto"])};var ZB={email:(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function Jme(e){e.inputValidator||(e.input==="email"&&(e.inputValidator=ZB.email),e.input==="url"&&(e.inputValidator=ZB.url))}function epe(e){(!e.target||typeof e.target=="string"&&!document.querySelector(e.target)||typeof e.target!="string"&&!e.target.appendChild)&&(Si('Target parameter is not valid, defaulting to "body"'),e.target="body")}function tpe(e){Jme(e),e.showLoaderOnConfirm&&!e.preConfirm&&Si(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),epe(e),typeof e.title=="string"&&(e.title=e.title.split(`
`).join("<br />")),Vhe(e)}let Fo;var gx=new WeakMap;class fs{constructor(...t){if(whe(this,gx,void 0),typeof window>"u")return;Fo=this;const n=Object.freeze(this.constructor.argsToParams(t));this.params=n,this.isAwaitingPromise=!1,jhe(gx,this,this._main(Fo.params))}_main(t,n={}){if(wH(Object.assign({},n,t)),rn.currentInstance){const a=am.swalPromiseResolve.get(rn.currentInstance),{isAwaitingPromise:o}=rn.currentInstance;rn.currentInstance._destroy(),o||a({isDismissed:!0}),E5()&&rH()}rn.currentInstance=Fo;const s=rpe(t,n);tpe(s),Object.freeze(s),rn.timeout&&(rn.timeout.stop(),delete rn.timeout),clearTimeout(rn.restoreFocusTimeout);const i=spe(Fo);return JU(Fo,s),Cr.innerParams.set(Fo,s),npe(Fo,i,s)}then(t){return $B(gx,this).then(t)}finally(t){return $B(gx,this).finally(t)}}const npe=(e,t,n)=>new Promise((s,i)=>{const a=o=>{e.close({isDismissed:!0,dismiss:o})};am.swalPromiseResolve.set(e,s),am.swalPromiseReject.set(e,i),t.confirmButton.onclick=()=>{sme(e)},t.denyButton.onclick=()=>{ime(e)},t.cancelButton.onclick=()=>{ame(e,a)},t.closeButton.onclick=()=>{a(Hm.close)},xme(n,t,a),Sfe(rn,n,a),qfe(e,n),qme(n),ipe(rn,n,a),ape(t,n),setTimeout(()=>{t.container.scrollTop=0})}),rpe=(e,t)=>{const n=Ume(e),s=Object.assign({},Ef,t,n,e);return s.showClass=Object.assign({},Ef.showClass,s.showClass),s.hideClass=Object.assign({},Ef.hideClass,s.hideClass),s.animation===!1&&(s.showClass={backdrop:"swal2-noanimation"},s.hideClass={}),s},spe=e=>{const t={popup:Zn(),container:Pi(),actions:b0(),confirmButton:hl(),denyButton:Bh(),cancelButton:Rm(),loader:Um(),closeButton:_5(),validationMessage:u1(),progressSteps:k5()};return Cr.domCache.set(e,t),t},ipe=(e,t,n)=>{const s=d1();hi(s),t.timer&&(e.timeout=new Rme(()=>{n("timer"),delete e.timeout},t.timer),t.timerProgressBar&&(Us(s),ba(s,t,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&M5(t.timer)})))},ape=(e,t)=>{if(!t.toast){if(!c1(t.allowEnterKey)){RU("allowEnterKey"),cpe();return}ope(e)||lpe(e,t)||E4(-1,1)}},ope=e=>{const t=Array.from(e.popup.querySelectorAll("[autofocus]"));for(const n of t)if(n instanceof HTMLElement&&ea(n))return n.focus(),!0;return!1},lpe=(e,t)=>t.focusDeny&&ea(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&ea(e.cancelButton)?(e.cancelButton.focus(),!0):t.focusConfirm&&ea(e.confirmButton)?(e.confirmButton.focus(),!0):!1,cpe=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};fs.prototype.disableButtons=mH;fs.prototype.enableButtons=fH;fs.prototype.getInput=uH;fs.prototype.disableInput=AH;fs.prototype.enableInput=pH;fs.prototype.hideLoading=cy;fs.prototype.disableLoading=cy;fs.prototype.showValidationMessage=gH;fs.prototype.resetValidationMessage=xH;fs.prototype.close=Jc;fs.prototype.closePopup=Jc;fs.prototype.closeModal=Jc;fs.prototype.closeToast=Jc;fs.prototype.rejectPromise=aH;fs.prototype.update=jH;fs.prototype._destroy=CH;Object.assign(fs,Fme);Object.keys(gme).forEach(e=>{fs[e]=function(...t){return Fo&&Fo[e]?Fo[e](...t):null}});fs.DismissReason=Hm;fs.version="11.22.4";const we=fs;we.default=we;typeof document<"u"&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch{n.innerText=t}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const upe="https://bicacuatho.azurewebsites.net",BH=()=>{const[e,t]=B.useState(""),[n,s]=B.useState(!1),i=o=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o),a=async o=>{if(o.preventDefault(),!e){we.fire({icon:"error",title:"Lỗi",text:"Vui lòng nhập email.",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}if(!i(e)){we.fire({icon:"error",title:"Lỗi",text:"Email không hợp lệ.",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}s(!0);try{const c=await fetch(`${upe}/api/Newsletter/Subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(!c.ok){const l=await c.text();throw new Error(`Không thể đăng ký: ${l}`)}t(""),we.fire({icon:"success",title:"Thành công",text:"Bạn đã đăng ký nhận tin tức thành công! Kiểm tra email để nhận thông báo chào mừng.",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(c){const l=c instanceof Error?c.message:"Lỗi khi đăng ký nhận tin tức.";we.fire({icon:"error",title:"Lỗi",text:l,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{s(!1)}};return r.jsx("section",{className:"py-6 bg-crocus-50 rounded-xl",children:r.jsxs("div",{className:"text-center max-w-xl mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Đăng ký nhận tin tức"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Cập nhật các bộ sưu tập mới nhất và ưu đãi độc quyền"}),r.jsxs("form",{onSubmit:a,className:"flex flex-col sm:flex-row gap-2",children:[r.jsx("input",{type:"email",placeholder:"Nhập email của bạn",className:"flex-grow px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-crocus-500",value:e,onChange:o=>t(o.target.value),disabled:n}),r.jsx(fe,{type:"submit",className:"bg-crocus-500 hover:bg-crocus-600 flex items-center gap-2",disabled:n,children:n?"Đang xử lý...":r.jsxs(r.Fragment,{children:[r.jsx(Xi,{className:"h-4 w-4"}),r.jsx("span",{children:"Đăng ký"})]})})]})]})})},EH=()=>r.jsxs("section",{children:[r.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Tại sao chọn FashionHub"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-crocus-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-6 h-6 text-crocus-600",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Chất lượng cao cấp"}),r.jsx("p",{className:"text-gray-600",children:"Được làm từ những chất liệu tốt nhất cho sự thoải mái và độ bền"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-crocus-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-6 h-6 text-crocus-600",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Giao hàng nhanh"}),r.jsx("p",{className:"text-gray-600",children:"Vận chuyển nhanh chóng và đổi trả dễ dàng cho tất cả đơn hàng"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-crocus-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-6 h-6 text-crocus-600",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})})}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Thời trang bền vững"}),r.jsx("p",{className:"text-gray-600",children:"Quy trình và vật liệu thân thiện với môi trường cho một hành tinh tốt đẹp hơn"})]})]})]}),dpe="https://bicacuatho.azurewebsites.net",hpe=()=>{const[e,t]=B.useState([]),[n,s]=B.useState(!0),[i,a]=B.useState(null);B.useEffect(()=>{(async()=>{try{const l=await fetch(`${dpe}/api/LoaiSanPham`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!l.ok)throw new Error(`Lỗi HTTP! Mã trạng thái: ${l.status}`);const d=(await l.json()).filter(f=>f.tenLoaiSanPham&&f.kiHieu).reduce((f,h)=>(f.some(m=>m.kiHieu===h.kiHieu)||f.push(h),f),[]);t(d)}catch(l){console.error("Lỗi khi tải dữ liệu loại sản phẩm:",l),a("Không thể tải danh mục sản phẩm. Vui lòng thử lại sau.")}finally{s(!1)}})()},[]);const o=c=>c?c.startsWith("/9j/")?`data:image/jpeg;base64,${c}`:c.startsWith("iVBORw0KGgo")?`data:image/png;base64,${c}`:`data:image/png;base64,${c}`:"/fallback-image.jpg";return n?r.jsx("div",{className:"min-h-[200px] flex items-center justify-center text-gray-500",children:"Đang tải..."}):i?r.jsx("div",{className:"min-h-[200px] flex items-center justify-center text-red-500",children:i}):e.length===0?r.jsx("div",{className:"min-h-[200px] flex items-center justify-center text-gray-500",children:"Không có danh mục sản phẩm để hiển thị"}):r.jsx("section",{className:"w-full py-2 bg-gradient-to-b from-[#f8f5ff] to-white",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-[#9b87f5] mt-2 mb-3 text-center md:text-left",children:"DANH MỤC"}),r.jsxs(Vu,{className:"w-full max-w-[1800px] mx-auto",opts:{align:"start",loop:!0},children:[r.jsx(Ku,{className:"gap-2",children:e.map(c=>r.jsx(Gu,{className:"basis-1/2 sm:basis-1/3 md:basis-1/6 lg:basis-1/12",children:r.jsx("div",{className:"w-full text-center transition-all duration-300 hover:scale-105",children:r.jsxs(ct,{to:`/products?category=${encodeURIComponent(c.tenLoaiSanPham||"")}`,className:"flex flex-col items-center justify-center",children:[r.jsx("div",{className:"relative w-20 h-20 sm:w-20 sm:h-20 md:w-24 md:h-24 mx-auto",children:r.jsx("img",{src:o(c.hinhAnh),alt:c.tenLoaiSanPham||"Danh mục",className:"w-full h-full rounded-full object-cover border-2 border-[#9b87f5] transition-opacity duration-300 hover:opacity-90",onError:l=>l.currentTarget.src="/fallback-image.jpg"})}),r.jsx("p",{className:"mt-1 text-sm font-semibold text-gray-700 line-clamp-2",children:c.tenLoaiSanPham||"Không xác định"})]})})},c.maLoaiSanPham||c.kiHieu))}),r.jsx(Wu,{className:"hidden md:flex absolute left-2 top-1/2 -translate-y-1/2 bg-white text-[#9b87f5] p-2 rounded-full hover:bg-[#9b87f5]/20 transition-colors z-20"}),r.jsx(qu,{className:"hidden md:flex absolute right-2 top-1/2 -translate-y-1/2 bg-white text-[#9b87f5] p-2 rounded-full hover:bg-[#9b87f5]/20 transition-colors z-20"})]})]})})};let fpe={data:""},mpe=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||fpe,ppe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ape=/\/\*[^]*?\*\/|  +/g,JB=/\n+/g,$c=(e,t)=>{let n="",s="",i="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+o+";":s+=a[1]=="f"?$c(o,a):a+"{"+$c(o,a[1]=="k"?"":t)+"}":typeof o=="object"?s+=$c(o,t?t.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,c):c?c+" "+l:l)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=$c.p?$c.p(a,o):a+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+s},jl={},PH=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+PH(e[n]);return t}return e},gpe=(e,t,n,s,i)=>{let a=PH(e),o=jl[a]||(jl[a]=(l=>{let u=0,d=11;for(;u<l.length;)d=101*d+l.charCodeAt(u++)>>>0;return"go"+d})(a));if(!jl[o]){let l=a!==e?e:(u=>{let d,f,h=[{}];for(;d=ppe.exec(u.replace(Ape,""));)d[4]?h.shift():d[3]?(f=d[3].replace(JB," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(JB," ").trim();return h[0]})(e);jl[o]=$c(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let c=n&&jl.g?jl.g:null;return n&&(jl.g=jl[o]),((l,u,d,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=d?l+u.data:u.data+l)})(jl[o],t,s,c),o},xpe=(e,t,n)=>e.reduce((s,i,a)=>{let o=t[a];if(o&&o.call){let c=o(n),l=c&&c.props&&c.props.className||/^go/.test(c)&&c;o=l?"."+l:c&&typeof c=="object"?c.props?"":$c(c,""):c===!1?"":c}return s+i+(o??"")},"");function m1(e){let t=this||{},n=e.call?e(t.p):e;return gpe(n.unshift?n.raw?xpe(n,[].slice.call(arguments,1),t.p):n.reduce((s,i)=>Object.assign(s,i&&i.call?i(t.p):i),{}):n,mpe(t.target),t.g,t.o,t.k)}let MH,M4,D4;m1.bind({g:1});let cc=m1.bind({k:1});function bpe(e,t,n,s){$c.p=t,MH=e,M4=n,D4=s}function Xu(e,t){let n=this||{};return function(){let s=arguments;function i(a,o){let c=Object.assign({},a),l=c.className||i.className;n.p=Object.assign({theme:M4&&M4()},c),n.o=/ *go\d+/.test(l),c.className=m1.apply(n,s)+(l?" "+l:"");let u=e;return e[0]&&(u=c.as||e,delete c.as),D4&&u[0]&&D4(c),MH(u,c)}return i}}var vpe=e=>typeof e=="function",hy=(e,t)=>vpe(e)?e(t):e,ype=(()=>{let e=0;return()=>(++e).toString()})(),DH=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),wpe=20,R5="default",IH=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:s}=t;return IH(e,{type:e.toasts.find(o=>o.id===s.id)?1:0,toast:s});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},qb=[],OH={toasts:[],pausedAt:void 0,settings:{toastLimit:wpe}},qo={},LH=(e,t=R5)=>{qo[t]=IH(qo[t]||OH,e),qb.forEach(([n,s])=>{n===t&&s(qo[t])})},FH=e=>Object.keys(qo).forEach(t=>LH(e,t)),jpe=e=>Object.keys(qo).find(t=>qo[t].toasts.some(n=>n.id===e)),p1=(e=R5)=>t=>{LH(t,e)},Cpe={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Npe=(e={},t=R5)=>{let[n,s]=B.useState(qo[t]||OH),i=B.useRef(qo[t]);B.useEffect(()=>(i.current!==qo[t]&&s(qo[t]),qb.push([t,s]),()=>{let o=qb.findIndex(([c])=>c===t);o>-1&&qb.splice(o,1)}),[t]);let a=n.toasts.map(o=>{var c,l,u;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((c=e[o.type])==null?void 0:c.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((l=e[o.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||Cpe[o.type],style:{...e.style,...(u=e[o.type])==null?void 0:u.style,...o.style}}});return{...n,toasts:a}},Spe=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||ype()}),j0=e=>(t,n)=>{let s=Spe(t,e,n);return p1(s.toasterId||jpe(s.id))({type:2,toast:s}),s.id},gs=(e,t)=>j0("blank")(e,t);gs.error=j0("error");gs.success=j0("success");gs.loading=j0("loading");gs.custom=j0("custom");gs.dismiss=(e,t)=>{let n={type:3,toastId:e};t?p1(t)(n):FH(n)};gs.dismissAll=e=>gs.dismiss(void 0,e);gs.remove=(e,t)=>{let n={type:4,toastId:e};t?p1(t)(n):FH(n)};gs.removeAll=e=>gs.remove(void 0,e);gs.promise=(e,t,n)=>{let s=gs.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?hy(t.success,i):void 0;return a?gs.success(a,{id:s,...n,...n==null?void 0:n.success}):gs.dismiss(s),i}).catch(i=>{let a=t.error?hy(t.error,i):void 0;a?gs.error(a,{id:s,...n,...n==null?void 0:n.error}):gs.dismiss(s)}),e};var Tpe=1e3,kpe=(e,t="default")=>{let{toasts:n,pausedAt:s}=Npe(e,t),i=B.useRef(new Map).current,a=B.useCallback((f,h=Tpe)=>{if(i.has(f))return;let m=setTimeout(()=>{i.delete(f),o({type:4,toastId:f})},h);i.set(f,m)},[]);B.useEffect(()=>{if(s)return;let f=Date.now(),h=n.map(m=>{if(m.duration===1/0)return;let A=(m.duration||0)+m.pauseDuration-(f-m.createdAt);if(A<0){m.visible&&gs.dismiss(m.id);return}return setTimeout(()=>gs.dismiss(m.id,t),A)});return()=>{h.forEach(m=>m&&clearTimeout(m))}},[n,s,t]);let o=B.useCallback(p1(t),[t]),c=B.useCallback(()=>{o({type:5,time:Date.now()})},[o]),l=B.useCallback((f,h)=>{o({type:1,toast:{id:f,height:h}})},[o]),u=B.useCallback(()=>{s&&o({type:6,time:Date.now()})},[s,o]),d=B.useCallback((f,h)=>{let{reverseOrder:m=!1,gutter:A=8,defaultPosition:g}=h||{},p=n.filter(v=>(v.position||g)===(f.position||g)&&v.height),b=p.findIndex(v=>v.id===f.id),x=p.filter((v,y)=>y<b&&v.visible).length;return p.filter(v=>v.visible).slice(...m?[x+1]:[0,x]).reduce((v,y)=>v+(y.height||0)+A,0)},[n]);return B.useEffect(()=>{n.forEach(f=>{if(f.dismissed)a(f.id,f.removeDelay);else{let h=i.get(f.id);h&&(clearTimeout(h),i.delete(f.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:l,startPause:c,endPause:u,calculateOffset:d}}},_pe=cc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Bpe=cc`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Epe=cc`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Ppe=Xu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_pe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Bpe} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Epe} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Mpe=cc`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Dpe=Xu("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Mpe} 1s linear infinite;
`,Ipe=cc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Ope=cc`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Lpe=Xu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ipe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Ope} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Fpe=Xu("div")`
  position: absolute;
`,Rpe=Xu("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Upe=cc`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Hpe=Xu("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Upe} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,$pe=({toast:e})=>{let{icon:t,type:n,iconTheme:s}=e;return t!==void 0?typeof t=="string"?B.createElement(Hpe,null,t):t:n==="blank"?null:B.createElement(Rpe,null,B.createElement(Dpe,{...s}),n!=="loading"&&B.createElement(Fpe,null,n==="error"?B.createElement(Ppe,{...s}):B.createElement(Lpe,{...s})))},Qpe=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,zpe=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Vpe="0%{opacity:0;} 100%{opacity:1;}",Kpe="0%{opacity:1;} 100%{opacity:0;}",Gpe=Xu("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Wpe=Xu("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,qpe=(e,t)=>{let n=e.includes("top")?1:-1,[s,i]=DH()?[Vpe,Kpe]:[Qpe(n),zpe(n)];return{animation:t?`${cc(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${cc(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Xpe=B.memo(({toast:e,position:t,style:n,children:s})=>{let i=e.height?qpe(e.position||t||"top-center",e.visible):{opacity:0},a=B.createElement($pe,{toast:e}),o=B.createElement(Wpe,{...e.ariaProps},hy(e.message,e));return B.createElement(Gpe,{className:e.className,style:{...i,...n,...e.style}},typeof s=="function"?s({icon:a,message:o}):B.createElement(B.Fragment,null,a,o))});bpe(B.createElement);var Ype=({id:e,className:t,style:n,onHeightUpdate:s,children:i})=>{let a=B.useCallback(o=>{if(o){let c=()=>{let l=o.getBoundingClientRect().height;s(e,l)};c(),new MutationObserver(c).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return B.createElement("div",{ref:a,className:t,style:n},i)},Zpe=(e,t)=>{let n=e.includes("top"),s=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:DH()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...s,...i}},Jpe=m1`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,xx=16,$m=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:s,children:i,toasterId:a,containerStyle:o,containerClassName:c})=>{let{toasts:l,handlers:u}=kpe(n,a);return B.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:xx,left:xx,right:xx,bottom:xx,pointerEvents:"none",...o},className:c,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(d=>{let f=d.position||t,h=u.calculateOffset(d,{reverseOrder:e,gutter:s,defaultPosition:t}),m=Zpe(f,h);return B.createElement(Ype,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?Jpe:"",style:m},d.type==="custom"?hy(d.message,d):i?i(d):B.createElement(Xpe,{toast:d,position:f}))}))},Yt=gs;const eAe=({post:e,nguoiDung:t})=>{const n=e.metaDescription?e.metaDescription.length>100?e.metaDescription.slice(0,100)+"...":e.metaDescription:e.noiDung.length>100?e.noiDung.slice(0,100)+"...":e.noiDung,s=new Date(e.ngayTao).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"});return r.jsxs(it,{className:"hover:shadow-lg transition-shadow duration-300 w-full max-w-md mx-auto",children:[e.hinhAnh&&e.slug&&r.jsx(ct,{to:`/blogs/${e.slug}`,"aria-label":`Xem chi tiết bài viết ${e.tieuDe}`,children:r.jsx("img",{src:`data:image/jpeg;base64,${e.hinhAnh}`,alt:e.moTaHinhAnh||e.tieuDe,className:"w-full h-48 object-cover rounded-t-md",onError:i=>i.currentTarget.src="/fallback-image.jpg"})}),r.jsx(yt,{children:r.jsx(jt,{className:"text-lg font-semibold truncate",children:e.slug?r.jsx(ct,{to:`/blogs/${e.slug}`,"aria-label":`Xem chi tiết bài viết ${e.tieuDe}`,children:e.tieuDe}):e.tieuDe})}),r.jsxs(dt,{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-gray-600",children:n}),r.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[r.jsx("div",{children:r.jsxs("span",{children:["Người tạo: ",(t==null?void 0:t.hoTen)||e.maNguoiDung]})}),r.jsxs("span",{children:["Ngày tạo: ",s]})]}),e.tags&&e.tags.length>0&&r.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((i,a)=>r.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:i},a))}),e.slug&&r.jsxs(ct,{to:`/blogs/${e.slug}`,className:"mt-4 flex items-center justify-center w-full text-white py-2 rounded-md transition-colors duration-200",style:{backgroundColor:"#9b87f5"},onMouseEnter:i=>i.currentTarget.style.backgroundColor="#8a75f0",onMouseLeave:i=>i.currentTarget.style.backgroundColor="#9b87f5","aria-label":`Đọc thêm bài viết ${e.tieuDe}`,children:[r.jsx("span",{children:"Đọc thêm"}),r.jsx(uL,{className:"ml-2 h-4 w-4"})]})]})]})},tAe=()=>{const[e,t]=B.useState([]),[n,s]=B.useState({}),[i,a]=B.useState(!0),o=async()=>{try{a(!0);const l=(await Nt.get("https://bicacuatho.azurewebsites.net/api/Blog")).data.filter(m=>m.isPublished);t(l);const u=[...new Set(l.map(m=>m.maNguoiDung))],d=u.map(m=>Nt.get(`https://bicacuatho.azurewebsites.net/api/NguoiDung/${m}`).catch(()=>null)),f=await Promise.all(d),h=u.reduce((m,A,g)=>{var p;return m[A]=((p=f[g])==null?void 0:p.data)||null,m},{});s(h)}catch{Yt.error("Không thể tải danh sách blog hoặc thông tin người dùng.")}finally{a(!1)}};return B.useEffect(()=>{o()},[]),r.jsx("section",{children:r.jsx("div",{children:i?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(As,{className:"h-8 w-8 animate-spin mx-auto text-[#9b87f5]"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Đang tải..."})]}):e.length===0?r.jsxs("div",{className:"text-center py-6 sm:py-12 border rounded-md",children:[r.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:"Không tìm thấy bài viết"}),r.jsx("p",{className:"text-gray-600 mb-4 px-4",children:"Hiện tại không có bài viết nào được công khai"})]}):r.jsxs(Vu,{className:"w-full max-w-[1400px] mx-auto",opts:{align:"start",loop:!0},children:[r.jsx(Ku,{className:"gap-4",children:e.map(c=>r.jsx(Gu,{className:"basis-full sm:basis-1/2 md:basis-1/3 lg:basis-1/4",children:r.jsx(eAe,{post:c,nguoiDung:n[c.maNguoiDung]||null})},c.maBlog))}),r.jsx(Wu,{className:"hidden md:flex absolute left-2 top-1/2 -translate-y-1/2 bg-white text-[#9b87f5] p-2 rounded-full hover:bg-[#9b87f5]/20 transition-colors z-20","aria-label":"Bài viết trước"}),r.jsx(qu,{className:"hidden md:flex absolute right-2 top-1/2 -translate-y-1/2 bg-white text-[#9b87f5] p-2 rounded-full hover:bg-[#9b87f5]/20 transition-colors z-20","aria-label":"Bài viết tiếp theo"})]})})})},I4=(e,t)=>t.some(n=>e instanceof n);let eE,tE;function nAe(){return eE||(eE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rAe(){return tE||(tE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const O4=new WeakMap,vj=new WeakMap,A1=new WeakMap;function sAe(e){const t=new Promise((n,s)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{n(Rd(e.result)),i()},o=()=>{s(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",o)});return A1.set(t,e),t}function iAe(e){if(O4.has(e))return;const t=new Promise((n,s)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{s(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});O4.set(e,t)}let L4={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return O4.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rd(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function RH(e){L4=e(L4)}function aAe(e){return rAe().includes(e)?function(...t){return e.apply(F4(this),t),Rd(this.request)}:function(...t){return Rd(e.apply(F4(this),t))}}function oAe(e){return typeof e=="function"?aAe(e):(e instanceof IDBTransaction&&iAe(e),I4(e,nAe())?new Proxy(e,L4):e)}function Rd(e){if(e instanceof IDBRequest)return sAe(e);if(vj.has(e))return vj.get(e);const t=oAe(e);return t!==e&&(vj.set(e,t),A1.set(t,e)),t}const F4=e=>A1.get(e);function lAe(e,t,{blocked:n,upgrade:s,blocking:i,terminated:a}={}){const o=indexedDB.open(e,t),c=Rd(o);return s&&o.addEventListener("upgradeneeded",l=>{s(Rd(o.result),l.oldVersion,l.newVersion,Rd(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),c.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}const cAe=["get","getKey","getAll","getAllKeys","count"],uAe=["put","add","delete","clear"],yj=new Map;function nE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(yj.get(t))return yj.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,i=uAe.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||cAe.includes(n)))return;const a=async function(o,...c){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return s&&(u=u.index(c.shift())),(await Promise.all([u[n](...c),i&&l.done]))[0]};return yj.set(t,a),a}RH(e=>({...e,get:(t,n,s)=>nE(t,n)||e.get(t,n,s),has:(t,n)=>!!nE(t,n)||e.has(t,n)}));const dAe=["continue","continuePrimaryKey","advance"],rE={},R4=new WeakMap,UH=new WeakMap,hAe={get(e,t){if(!dAe.includes(t))return e[t];let n=rE[t];return n||(n=rE[t]=function(...s){R4.set(this,UH.get(this)[t](...s))}),n}};async function*fAe(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,hAe);for(UH.set(n,t),A1.set(n,F4(t));t;)yield n,t=await(R4.get(n)||t.continue()),R4.delete(n)}function sE(e,t){return t===Symbol.asyncIterator&&I4(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&I4(e,[IDBIndex,IDBObjectStore])}RH(e=>({...e,get(t,n,s){return sE(t,n)?fAe:e.get(t,n,s)},has(t,n){return sE(t,n)||e.has(t,n)}}));var g1="Tabs",[mAe,uUe]=qs(g1,[Im]),HH=Im(),[pAe,U5]=mAe(g1),$H=B.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:c,activationMode:l="automatic",...u}=e,d=Nh(c),[f,h]=na({prop:s,onChange:i,defaultProp:a??"",caller:g1});return r.jsx(pAe,{scope:n,baseId:Yi(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:l,children:r.jsx(Ct.div,{dir:d,"data-orientation":o,...u,ref:t})})});$H.displayName=g1;var QH="TabsList",zH=B.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...i}=e,a=U5(QH,n),o=HH(n);return r.jsx(e5,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:s,children:r.jsx(Ct.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});zH.displayName=QH;var VH="TabsTrigger",KH=B.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:i=!1,...a}=e,o=U5(VH,n),c=HH(n),l=qH(o.baseId,s),u=XH(o.baseId,s),d=s===o.value;return r.jsx(t5,{asChild:!0,...c,focusable:!i,active:d,children:r.jsx(Ct.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:t,onMouseDown:et(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:et(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:et(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(s)})})})});KH.displayName=VH;var GH="TabsContent",WH=B.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:i,children:a,...o}=e,c=U5(GH,n),l=qH(c.baseId,s),u=XH(c.baseId,s),d=s===c.value,f=B.useRef(d);return B.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),r.jsx(_s,{present:i||d,children:({present:h})=>r.jsx(Ct.div,{"data-state":d?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});WH.displayName=GH;function qH(e,t){return`${e}-trigger-${t}`}function XH(e,t){return`${e}-content-${t}`}var AAe=$H,YH=zH,ZH=KH,JH=WH;const ia=AAe,Mi=B.forwardRef(({className:e,...t},n)=>r.jsx(YH,{ref:n,className:Fe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Mi.displayName=YH.displayName;const Bn=B.forwardRef(({className:e,...t},n)=>r.jsx(ZH,{ref:n,className:Fe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Bn.displayName=ZH.displayName;const Hn=B.forwardRef(({className:e,...t},n)=>r.jsx(JH,{ref:n,className:Fe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Hn.displayName=JH.displayName;const Jt=nh,H5=u9,gAe=rh,e$=qw,t$=B.forwardRef(({className:e,...t},n)=>r.jsx(oc,{ref:n,className:Fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));t$.displayName=oc.displayName;const Wt=B.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(gAe,{children:[r.jsx(t$,{}),r.jsxs(lc,{ref:s,className:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(qw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(st,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Wt.displayName=lc.displayName;const an=({className:e,...t})=>r.jsx("div",{className:Fe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});an.displayName="DialogHeader";const Rn=({className:e,...t})=>r.jsx("div",{className:Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Rn.displayName="DialogFooter";const tn=B.forwardRef(({className:e,...t},n)=>r.jsx(i0,{ref:n,className:Fe("text-lg font-semibold leading-none tracking-tight",e),...t}));tn.displayName=i0.displayName;const Or=B.forwardRef(({className:e,...t},n)=>r.jsx(a0,{ref:n,className:Fe("text-sm text-muted-foreground",e),...t}));Or.displayName=a0.displayName;const iE=[{key:"title",getter:e=>e.getTitle()},{key:"html",getter:e=>e.getHtmlContainer()},{key:"confirmButtonText",getter:e=>e.getConfirmButton()},{key:"denyButtonText",getter:e=>e.getDenyButton()},{key:"cancelButtonText",getter:e=>e.getCancelButton()},{key:"footer",getter:e=>e.getFooter()},{key:"closeButtonHtml",getter:e=>e.getCloseButton()},{key:"iconHtml",getter:e=>e.getIconContent()},{key:"loaderHtml",getter:e=>e.getLoader()}],wj=()=>{};function n$(e){function t(i){const a={},o={},c=iE.map(l=>l.key);return Object.entries(i).forEach(l=>{let[u,d]=l;c.includes(u)&&je.isValidElement(d)?(a[u]=d,o[u]=" "):o[u]=d}),[a,o]}function n(i,a){Object.entries(a).forEach(o=>{let[c,l]=o;const d=iE.find(h=>h.key===c).getter(e),f=I7(d);f.render(l),i.__roots.push(f)})}function s(i){i.__roots.forEach(a=>{a.unmount()}),i.__roots=[]}return class extends e{static argsToParams(i){if(je.isValidElement(i[0])||je.isValidElement(i[1])){const a={};return["title","html","icon"].forEach((o,c)=>{i[c]!==void 0&&(a[o]=i[c])}),a}else return e.argsToParams(i)}_main(i,a){this.__roots=[],this.__params=Object.assign({},a,i);const[o,c]=t(this.__params),l=c.willOpen||wj,u=c.didOpen||wj,d=c.didDestroy||wj;return super._main(Object.assign({},c,{willOpen:f=>{n(this,o),l(f)},didOpen:f=>{setTimeout(()=>{u(f)})},didDestroy:f=>{d(f),s(this)}}))}update(i){Object.assign(this.__params,i),s(this);const[a,o]=t(this.__params);super.update(o),n(this,a)}}}const U4=n$(we),xAe="FashionHub",aE=e=>new Date(e).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"}),oE=e=>e.loaiVoucher===0?`Giảm ${e.giaTri??0}%`:e.loaiVoucher===1?`Giảm ${e.giaTri!=null?e.giaTri.toLocaleString("vi-VN"):"0"} VND`:e.loaiVoucher===2?"Miễn phí vận chuyển":"Không xác định",bAe=e=>{switch(e){case 0:return"Giảm giá theo phần trăm";case 1:return"Giảm giá theo số tiền";case 2:return"Miễn phí vận chuyển";default:return"Không xác định"}},vAe=e=>{navigator.clipboard.writeText(e).then(()=>{U4.fire({icon:"success",title:"Thành công!",text:`Đã sao chép mã: ${e}`,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}).catch(()=>{U4.fire({icon:"error",title:"Lỗi",text:"Không thể sao chép mã",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})})},yAe=`
  @keyframes centerUp {
    0% { transform: scale(0.7) translateY(20px); opacity: 0; }
    100% { transform: scale(1) translateY(-20px); opacity: 1; }
  }
  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
  }
  .custom-scrollbar::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 3px;
  }
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 3px;
  }
  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: #555;
  }
`,r$=document.createElement("style");r$.innerText=yAe;document.head.appendChild(r$);const s$=()=>{const[e,t]=B.useState([]),[n,s]=B.useState(!0),[i,a]=B.useState(null),[o,c]=B.useState(!1),[l,u]=B.useState(!1),[d,f]=B.useState(null),[h,m]=B.useState(null);B.useEffect(()=>{const p=JSON.parse(localStorage.getItem("user")||"null");c(!!p);const b=(p==null?void 0:p.maNguoiDung)||null;m(b),(async()=>{try{const v={"Content-Type":"application/json"};p!=null&&p.token&&(v.Authorization=`Bearer ${p.token}`);const y=await fetch("https://bicacuatho.azurewebsites.net/api/Voucher",{method:"GET",headers:v});if(!y.ok)throw new Error(`Không thể lấy danh sách voucher: ${y.status} ${y.statusText}`);const P=(await y.json()).map(M=>({...M,giaTri:M.giaTri??(M.loaiVoucher===2,0),ngayBatDau:new Date(new Date(M.ngayBatDau).getTime()-new Date(M.ngayBatDau).getTimezoneOffset()*6e4).toISOString().split("T")[0],ngayKetThuc:new Date(new Date(M.ngayKetThuc).getTime()-new Date(M.ngayKetThuc).getTimezoneOffset()*6e4).toISOString().split("T")[0]}));t(P)}catch(v){a(v.message),U4.fire({icon:"error",title:"Lỗi",text:v.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{s(!1)}})()},[]);const A=p=>{f(p),u(!0)},g=e.filter(p=>p.coupons.some(b=>b.maNguoiDung===h&&b.trangThai===2));return n?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 to-blue-50",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-crocus-200 border-t-crocus-500 mx-auto mb-4"}),r.jsx("div",{className:"absolute inset-0 animate-pulse rounded-full h-16 w-16 border-4 border-crocus-300 opacity-30"})]}),r.jsx("p",{className:"text-base font-medium text-gray-600",children:"Đang tải khuyến mãi..."})]})}):i?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-pink-50",children:r.jsxs("div",{className:"text-center max-w-md mx-auto p-8 bg-white rounded-2xl shadow-xl",children:[r.jsx(Go,{className:"w-16 h-16 text-red-400 mx-auto mb-4 animate-bounce"}),r.jsx("h3",{className:"text-xl font-medium text-gray-800 mb-4",children:"Có lỗi xảy ra"}),r.jsx("p",{className:"text-base text-red-600 mb-6",children:i}),r.jsx(fe,{className:"bg-crocus-500 hover:bg-crocus-600 text-white px-8 py-3 rounded-lg shadow-lg transform hover:scale-105 transition-all duration-300",onClick:()=>window.location.reload(),children:"Thử lại"})]})}):o?r.jsx("div",{className:"",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs(it,{className:"border-none shadow-xl bg-white rounded-2xl overflow-hidden",children:[r.jsxs(yt,{children:[r.jsx(jt,{className:"text-2xl font-bold text-crocus-600",children:"Voucher của bạn"}),r.jsxs(ks,{className:"text-sm",children:["Bạn hiện có ",r.jsxs(Kt,{className:"bg-crocus-100 text-crocus-700 px-3 py-1 rounded-full",children:[g.length," voucher"]})," khả dụng"]})]}),r.jsx(dt,{className:"p-6",children:g.length>0?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(p=>r.jsxs(it,{className:"group hover:shadow-xl transition-all duration-300 border-none bg-white rounded-2xl overflow-hidden transform hover:-translate-y-1",children:[r.jsx(yt,{className:"bg-crocus-500/10 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-2xl font-bold text-crocus-600 line-clamp-2",children:p.tenVoucher}),r.jsx(Kt,{className:`${p.trangThai===1?"bg-red-100 text-red-800 border-red-200":"bg-crocus-100 text-crocus-700 border-crocus-200"} text-sm font-medium px-3 py-1 rounded-full`,children:p.trangThai===1?"Hết hạn":"Còn hiệu lực"})]})}),r.jsxs(dt,{className:"p-4 space-y-3",children:[p.hinhAnh&&r.jsxs("div",{className:"relative overflow-hidden rounded-lg shadow-md",children:[r.jsx("img",{src:`data:image/jpeg;base64,${p.hinhAnh}`,alt:p.tenVoucher,className:"w-full h-36 object-cover transform group-hover:scale-105 transition-transform duration-300"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center text-gray-600",children:[r.jsx(Lr,{className:"h-4 w-4 text-crocus-500 mr-2"}),r.jsx("span",{className:"text-base font-medium",children:oE(p)})]}),r.jsxs("div",{className:"flex items-center text-gray-600",children:[r.jsx(xu,{className:"h-4 w-4 text-crocus-500 mr-2"}),r.jsxs("span",{className:"text-base font-medium",children:["Hết hạn: ",aE(p.ngayKetThuc)]})]}),p.dieuKien>0&&r.jsx("div",{className:"bg-crocus-50 rounded-lg p-2",children:r.jsxs("p",{className:"text-sm text-crocus-700 font-medium",children:["Áp dụng cho đơn hàng từ ",p.dieuKien.toLocaleString("vi-VN")," VND"]})})]}),r.jsxs(fe,{variant:"outline",onClick:()=>A(p),className:"w-full bg-crocus-500 hover:bg-crocus-600 text-white border-none rounded-lg py-2 font-semibold transition-all duration-300 transform hover:scale-105 shadow-md",children:[r.jsx(Lr,{className:"h-4 w-4 mr-2"}),"Xem chi tiết"]})]})]},p.maVoucher))}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-crocus-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Go,{className:"w-8 h-8 text-crocus-500"})}),r.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"Chưa có voucher nào"}),r.jsx("p",{className:"text-base text-gray-600 mb-6",children:"Bạn chưa có chương trình khuyến mãi nào."}),r.jsx(ct,{to:"/promotions",className:"inline-block px-8 py-2 bg-crocus-500 text-white rounded-lg hover:bg-crocus-600 transition-all duration-300 transform hover:scale-105 shadow-lg font-semibold",children:"Khám phá thêm ưu đãi"})]})})]}),r.jsx(Jt,{open:l,onOpenChange:u,children:r.jsxs(Wt,{className:"max-w-md w-full rounded-lg bg-white shadow-lg p-4",style:{animation:"centerUp 0.3s ease-out"},children:[r.jsx(an,{className:"pb-2",children:r.jsx(tn,{className:"text-xl font-bold text-crocus-600",children:"Chi Tiết Voucher"})}),d&&r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsxs("div",{className:"bg-crocus-50 rounded-lg p-3 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center mb-1",children:[r.jsx(Go,{className:"h-5 w-5 text-crocus-500 mr-2"}),r.jsx("h2",{className:"text-base font-semibold text-gray-800 line-clamp-1",children:d.tenVoucher})]}),r.jsx("p",{className:"text-sm font-medium text-crocus-600",children:oE(d)})]}),d.hinhAnh&&r.jsxs("div",{className:"relative overflow-hidden rounded-md shadow-sm",children:[r.jsx("img",{src:`data:image/jpeg;base64,${d.hinhAnh}`,alt:d.tenVoucher,className:"w-full h-24 object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{className:"bg-gray-50 rounded-md p-2",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Ngày Kết Thúc"}),r.jsx("p",{className:"text-sm text-gray-800",children:d.ngayKetThuc?aE(d.ngayKetThuc):"Chưa cập nhật"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-md p-2",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Loại Voucher"}),r.jsx("p",{className:"text-sm text-gray-800",children:bAe(d.loaiVoucher)})]}),r.jsxs("div",{className:"bg-gray-50 rounded-md p-2",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Điều Kiện"}),r.jsx("p",{className:"text-sm text-gray-800",children:d.dieuKien?`${d.dieuKien.toLocaleString("vi-VN")} VND`:"Không giới hạn"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-md p-2",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Giá Trị Tối Đa"}),r.jsx("p",{className:"text-sm text-gray-800",children:d.giaTriToiDa?`${d.giaTriToiDa.toLocaleString("vi-VN")} VND`:"Không giới hạn"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Mô Tả"}),r.jsx("p",{className:"text-sm text-gray-800 bg-gray-50 rounded-md p-2 max-h-20 overflow-y-auto",children:d.moTa||"Chưa có mô tả chi tiết"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Mã Coupon"}),d.coupons&&d.coupons.length>0?r.jsx("div",{className:"max-h-40 overflow-y-auto custom-scrollbar",children:r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.coupons.filter(p=>p.maNguoiDung===h&&p.trangThai===2).map(p=>r.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white rounded-md border border-gray-200 shadow-sm",children:[r.jsx("span",{className:"font-mono text-sm text-crocus-600 flex-1 text-center",children:p.maNhap}),r.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>vAe(p.maNhap),className:"bg-crocus-500 hover:bg-crocus-600 text-white border-none rounded-md px-2 py-0.5 text-xs",children:[r.jsx(lJ,{className:"h-3 w-3 mr-1"}),"Sao chép"]})]},p.id)),d.coupons.filter(p=>p.maNguoiDung===h&&p.trangThai===2).length===0&&r.jsx("p",{className:"text-sm text-gray-600 text-center col-span-2",children:"Không có mã coupon khả dụng"})]})}):r.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Không có mã coupon"})]}),r.jsx(fe,{onClick:()=>u(!1),className:"w-full bg-crocus-500 hover:bg-crocus-600 text-white rounded-md py-2 text-sm font-medium transition-all duration-300 shadow-sm",children:"Đóng"})]})]})})]})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 to-blue-50",children:r.jsxs("div",{className:"text-center max-w-lg mx-auto px-6",children:[r.jsx("div",{className:"bg-crocus-500 rounded-full p-10 w-28 h-28 mx-auto mb-8 animate-pulse",children:r.jsx(Go,{className:"w-10 h-10 text-white mx-auto"})}),r.jsx("h2",{className:"text-4xl font-bold text-crocus-600 mb-6",children:xAe}),r.jsx("p",{className:"text-base text-gray-600 mb-8 font-light tracking-wide",children:"Đăng nhập ngay để khám phá các ưu đãi độc quyền dành riêng cho bạn"}),r.jsx(ct,{to:"/auth/login",className:"inline-block px-10 py-4 bg-crocus-500 text-white rounded-lg hover:bg-crocus-600 transition-all duration-300 transform hover:scale-105 shadow-lg font-semibold",children:"Đăng nhập ngay"})]})})},wAe="FashionHub",lE=["#ff6b6b","#ffb347","#ffe66d","#6bcB77","#4ecdc4","#5eead4","#48bfe3","#5c7cfa","#a259ff","#f06595","#ff87ab","#ff9ff3","#feca57","#00d2d3","#00b894","#fd79a8","#e17055","#fab1a0","#d63031","#ffeaa7"],jAe=24*60*60*1e3,H4=400,mi=H4/2,cE=7e3,i$=()=>{const[e,t]=B.useState([]),[n,s]=B.useState(null),[i,a]=B.useState(null),[o,c]=B.useState(!0),[l,u]=B.useState(null),[d,f]=B.useState(!1),[h,m]=B.useState(0),[A,g]=B.useState(null),[p,b]=B.useState(!1),[x,v]=B.useState(null),[y,N]=B.useState(null),[P,M]=B.useState(0),[k,D]=B.useState(!1),[O,L]=B.useState(0),F=B.useRef(null),_=B.useRef(null),E=gr(),T=B.useCallback($=>$>=50?5:$>=30?10:$>=20?15:$>=10?25:45,[]),w=B.useCallback($=>Math.max(0,jAe-(Date.now()-$)),[]),C=B.useCallback($=>{const W=Math.floor($/36e5),H=Math.floor($%(1e3*60*60)/(1e3*60)),Q=Math.floor($%(1e3*60)/1e3);return`${W} giờ ${H} phút ${Q} giây`},[]),j=B.useCallback($=>$.loaiVoucher===0?`Giảm ${$.giaTri}%`:$.loaiVoucher===1?`Giảm ${S($.giaTri)}`:"Miễn phí vận chuyển",[]),S=B.useCallback($=>new Intl.NumberFormat("vi-VN").format($)+" VND",[]),I=B.useCallback($=>new Date($).toLocaleDateString("vi-VN"),[]),R=B.useCallback(async()=>{try{const $=await fetch("https://bicacuatho.azurewebsites.net/api/Voucher",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!$.ok)throw new Error("Không thể lấy danh sách voucher");const W=await $.json(),H=new Date,Q=W.filter(G=>{var ne;const J=new Date(G.ngayBatDau),ee=new Date(G.ngayKetThuc),K=(ne=G.coupons)==null?void 0:ne.some(ue=>ue.trangThai===0);return G.trangThai===0&&J<=H&&ee>=H&&K}).map(G=>({...G,tyLe:T(G.giaTri)}));t(Q)}catch($){u($.message),ir({title:"Lỗi",description:$.message,variant:"destructive"})}finally{c(!1)}},[T]);B.useEffect(()=>{(async()=>{try{const W=await lAe("VoucherDB",1,{upgrade(H){H.createObjectStore("userData")}});N(W)}catch(W){console.error("Không thể khởi tạo IndexedDB:",W),ir({title:"Lỗi",description:"Không thể khởi tạo cơ sở dữ liệu!",variant:"destructive"})}})()},[]),B.useEffect(()=>{const $=JSON.parse(localStorage.getItem("user")||"null");b(!!$),v(($==null?void 0:$.maNguoiDung)||null),y&&((async()=>{if(!(!y||!($!=null&&$.maNguoiDung)))try{const H=await y.get("userData",$.maNguoiDung);H&&(H.lastSpinTime&&g(H.lastSpinTime),H.spinCount&&L(H.spinCount))}catch(H){console.error("Lỗi khi tải dữ liệu từ IndexedDB:",H),ir({title:"Lỗi",description:"Không thể tải dữ liệu từ cơ sở dữ liệu!",variant:"destructive"})}})(),R())},[y,R]),B.useEffect(()=>{if(!A){M(0);return}const $=()=>{const W=w(A);M(W),W===0&&F.current&&(clearInterval(F.current),F.current=null)};return $(),F.current=setInterval($,1e3),()=>{F.current&&clearInterval(F.current)}},[A,w]),B.useEffect(()=>()=>{_.current&&clearTimeout(_.current),F.current&&clearInterval(F.current)},[]);const U=B.useCallback(()=>{const $=e.reduce((Q,G)=>Q+(G.tyLe||0),0),W=Math.random()*$;let H=0;for(const Q of e)if(H+=Q.tyLe||0,W<=H)return Q;return e[e.length-1]},[e]),z=B.useCallback(async()=>{var $;if(!p||!x){ir({title:"Cảnh báo",description:"Vui lòng đăng nhập để quay vòng quay may mắn!",variant:"destructive"}),E("/auth/login");return}if(!(P>0||d||e.length===0||!y)){s(null),a(null),D(!1),f(!0);try{const W=U();if(!W)throw new Error("Không thể xác định voucher chiến thắng.");const H=($=W.coupons)==null?void 0:$.find(ne=>ne.trangThai===0);if(!H)throw new Error("Voucher chiến thắng không có coupon hợp lệ.");const Q=e.findIndex(ne=>ne.maVoucher===W.maVoucher);if(Q===-1)throw new Error("Voucher chiến thắng không có trong danh sách.");const G=360/e.length,J=360-(Q*G+G/2),K=(7+Math.floor(Math.random()*3))*360+J;m(K),setTimeout(async()=>{f(!1),s(W),a(H),D(!0);const ne=Date.now();g(ne),L(ue=>ue+1),await y.put("userData",{lastSpinTime:ne,spinCount:O+1},x),ir({title:"🎉 Chúc mừng!",description:`Bạn đã trúng: ${W.tenVoucher} (${j(W)})`}),_.current=setTimeout(()=>{D(!1)},5e3)},cE)}catch(W){console.error("Lỗi khi quay:",W),ir({title:"Lỗi",description:W.message,variant:"destructive"}),f(!1)}}},[p,x,y,P,d,e,O,U,j,E]),V=B.useCallback(($,W)=>{const Q=360/e.length,G=Q*W,J=G+Q,ee=(G-90)*Math.PI/180,K=(J-90)*Math.PI/180,ne=mi+(mi-20)*Math.cos(ee),ue=mi+(mi-20)*Math.sin(ee),se=mi+(mi-20)*Math.cos(K),ie=mi+(mi-20)*Math.sin(K),q=Q>180?1:0,Z=[`M ${mi} ${mi}`,`L ${ne} ${ue}`,`A ${mi-20} ${mi-20} 0 ${q} 1 ${se} ${ie}`,"Z"].join(" "),te=G+Q/2,re=(te-90)*Math.PI/180,Y=mi*.7,oe=mi+Y*Math.cos(re),ae=mi+Y*Math.sin(re),ce=$.loaiVoucher===0?`${$.giaTri}%`:$.loaiVoucher===1?S($.giaTri):"Free Ship";return r.jsxs("g",{children:[r.jsx("path",{d:Z,fill:lE[W%lE.length],stroke:"#FFF",strokeWidth:3}),r.jsx("text",{x:oe,y:ae,fontSize:"16",fontWeight:"bold",fill:"#FFF",textAnchor:"middle",alignmentBaseline:"middle",transform:`rotate(${te}, ${oe}, ${ae})`,children:ce})]},$.maVoucher)},[e.length,S]),X=B.useCallback(async($,W)=>{if(!x){ir({title:"Lỗi",description:"Vui lòng đăng nhập để lưu mã giảm giá.",variant:"destructive"});return}try{const H=localStorage.getItem("token");if(!H)throw new Error("Không tìm thấy token");if(!(await fetch(`https://bicacuatho.azurewebsites.net/api/Voucher/Coupon/${$}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${H}`},body:JSON.stringify({maNguoiDung:x})})).ok)throw new Error("Không thể lưu mã giảm giá");a(G=>G?{...G,trangThai:2,maNguoiDung:x}:null),t(G=>G.map(J=>{var ee;return{...J,coupons:(ee=J.coupons)==null?void 0:ee.map(K=>K.id===$?{...K,trangThai:2,maNguoiDung:x}:K)}})),ir({title:"Thành công",description:`Đã lưu mã ${W} thành công!`})}catch(H){ir({title:"Lỗi",description:H.message,variant:"destructive"})}},[x]);return o?r.jsx("div",{className:"container mx-auto py-8 flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Đang tải..."})]})}):l||e.length===0?r.jsx("div",{className:"container mx-auto py-8 flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Go,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 mb-4",children:l||"Chưa có voucher nào dành cho bạn."}),r.jsx(fe,{onClick:()=>{c(!0),u(null),R()},className:"bg-purple-500 hover:bg-purple-600 text-white",children:"Thử lại"})]})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50",children:[r.jsx("style",{children:`
          @keyframes bounceIn {
            0% { transform: scale(0.3); opacity: 0; }
            50% { transform: scale(1.05); opacity: 1; }
            70% { transform: scale(0.9); }
            100% { transform: scale(1); }
          }
          .wheel {
            transition: transform ${cE}ms cubic-bezier(0.23, 1, 0.32, 1);
          }
        `}),r.jsx("div",{className:"container mx-auto py-8 px-4",children:r.jsxs(ia,{defaultValue:"wheel",className:"w-full max-w-6xl mx-auto",children:[r.jsxs(Mi,{className:"grid grid-cols-2 mb-8",children:[r.jsxs(Bn,{value:"wheel",children:[r.jsx(Lr,{className:"mr-2 h-4 w-4"}),"Vòng Quay May Mắn"]}),r.jsxs(Bn,{value:"promotions",children:[r.jsx(Go,{className:"mr-2 h-4 w-4"}),"Khuyến Mãi Cá Nhân"]})]}),r.jsx(Hn,{value:"wheel",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-4xl font-bold mb-4",children:wAe}),r.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto text-lg",children:"Quay để nhận ngay mã giảm giá hoặc miễn phí vận chuyển!"})]}),r.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-12",children:[r.jsx("div",{className:"relative flex-shrink-0",children:r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"relative wheel",style:{transform:`rotate(${h}deg)`,filter:"drop-shadow(0 10px 20px rgba(0, 0, 0, 0.2))"},children:[r.jsx("svg",{width:H4,height:H4,className:"rounded-full",children:e.map(V)}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(Lr,{className:"w-8 h-8 text-white"})})})]}),r.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-2 z-10",children:r.jsx("div",{className:"w-0 h-0 border-l-[15px] border-r-[15px] border-b-[30px] border-l-transparent border-r-transparent border-b-red-500 filter drop-shadow-lg transform rotate-180"})})]})}),r.jsxs("div",{className:"w-full max-w-md",children:[r.jsx("div",{className:"text-center mb-8",children:p?r.jsx(fe,{onClick:z,disabled:d||P>0,className:`px-8 py-4 text-lg font-bold rounded-xl ${!d&&P<=0?"bg-purple-500 hover:bg-purple-600 text-white":"bg-gray-400 text-gray-600"}`,children:d?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-2 inline-block"}),"Đang quay..."]}):P>0?r.jsxs(r.Fragment,{children:[r.jsx(xu,{className:"w-5 h-5 mr-2 inline-block"}),"Chờ ",C(P)]}):r.jsxs(r.Fragment,{children:[r.jsx(Lr,{className:"w-5 h-5 mr-2 inline-block"}),"Quay ngay"]})}):r.jsx(fe,{onClick:()=>E("/auth/login"),className:"px-8 py-4 text-lg font-bold rounded-xl bg-green-500 hover:bg-green-600 text-white",children:"Đăng nhập để quay"})}),n&&i&&!k&&r.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-xl",children:[r.jsxs("div",{className:"text-center mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-purple-600",children:"🎉 Chúc mừng bạn!"}),r.jsx("p",{className:"font-semibold text-gray-800",children:n.tenVoucher}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:j(n)})]}),n.hinhAnh&&r.jsx("img",{src:`data:image/jpeg;base64,${n.hinhAnh}`,alt:n.tenVoucher,className:"w-full h-48 object-cover rounded-lg mb-4",loading:"eager"}),r.jsxs("div",{className:"space-y-3",children:[n.moTa&&r.jsx("p",{className:"text-gray-600 text-sm text-center italic",children:n.moTa}),r.jsxs("div",{className:"text-center text-sm text-gray-500",children:[r.jsxs("p",{children:["Hết hạn: ",I(n.ngayKetThuc)]}),n.dieuKien&&r.jsxs("p",{children:["Áp dụng cho đơn hàng từ ",S(n.dieuKien)]}),n.giaTriToiDa&&r.jsxs("p",{children:["Giảm tối đa: ",S(n.giaTriToiDa)]})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[r.jsx("div",{className:"flex-1 bg-gray-100 border border-purple-200 rounded-lg p-2 text-center",children:r.jsx("span",{className:"font-mono font-bold text-purple-600",children:i.maNhap})}),r.jsx(fe,{onClick:()=>X(i.id,i.maNhap),disabled:i.trangThai===2,className:"bg-purple-500 hover:bg-purple-600 text-white",children:i.trangThai===2?"Đã lưu":"Lưu"})]})]})]})]})]}),r.jsxs("div",{className:"text-center mt-12",children:[r.jsx("p",{className:"text-gray-600",children:"🎯 Mỗi tài khoản chỉ được quay 1 lần trong 24 giờ"}),p&&r.jsxs("p",{className:"text-gray-500 text-sm mt-2",children:["Số lần đã quay: ",O]})]})]})}),r.jsx(Hn,{value:"promotions",children:r.jsx(s$,{})})]})}),k&&n&&i&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full mx-4 text-center",style:{animation:"bounceIn 0.6s ease-out"},children:[r.jsx("button",{onClick:()=>{D(!1),_.current&&(clearTimeout(_.current),_.current=null)},className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-2xl font-bold",children:"×"}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-3xl font-bold text-purple-600 mb-2",children:"Chúc mừng!"}),r.jsx("p",{className:"text-lg text-gray-600",children:"Bạn đã trúng voucher"})]}),n.hinhAnh&&r.jsx("img",{src:`data:image/jpeg;base64,${n.hinhAnh}`,alt:n.tenVoucher,className:"w-full h-48 object-cover rounded-lg mx-auto mb-4",loading:"eager"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-xl text-gray-800",children:n.tenVoucher}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:j(n)})]}),n.moTa&&r.jsx("p",{className:"text-gray-600 text-sm italic",children:n.moTa}),r.jsxs("div",{className:"text-sm text-gray-500",children:[r.jsxs("p",{children:["Hết hạn: ",I(n.ngayKetThuc)]}),n.dieuKien&&r.jsxs("p",{children:["Áp dụng cho đơn hàng từ ",S(n.dieuKien)]}),n.giaTriToiDa&&r.jsxs("p",{children:["Giảm tối đa: ",S(n.giaTriToiDa)]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex-1 bg-gray-100 border border-purple-200 rounded-lg p-2 text-center",children:r.jsx("span",{className:"font-mono font-bold text-purple-600",children:i.maNhap})}),r.jsx(fe,{onClick:()=>X(i.id,i.maNhap),disabled:i.trangThai===2,className:"bg-purple-500 hover:bg-purple-600 text-white",children:i.trangThai===2?"Đã lưu":"Lưu"})]}),r.jsx(fe,{onClick:()=>{D(!1),_.current&&(clearTimeout(_.current),_.current=null)},className:"w-full bg-purple-500 hover:bg-purple-600 text-white mt-4",children:"Đóng"})]})]})})]})},kc=(e,t)=>we.fire({title:t==="error"?"Lỗi!":t==="warning"?"Cảnh báo!":"Thành công!",text:e,icon:t,timer:2e3,timerProgressBar:!0,showConfirmButton:!1});class CAe extends B.Component{constructor(){super(...arguments);gt(this,"state",{hasError:!1})}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,s){console.error("Error caught by boundary:",n,s)}render(){return this.state.hasError?r.jsxs("div",{className:"text-center text-red-500 p-4",children:[r.jsx("p",{children:"Đã xảy ra lỗi khi hiển thị combo."}),r.jsx(fe,{variant:"outline",onClick:()=>this.setState({hasError:!1}),children:"Thử lại"})]}):this.props.children}}const NAe=(e,t,n)=>e.filter(i=>i.trangThai===1).map(i=>{const a=i.id.split("_")[0]||i.id,o=t.filter(h=>(h==null?void 0:h.maSanPham)===a&&(h==null?void 0:h.trangThai)===1),c=o.reduce((h,m)=>h+((m==null?void 0:m.danhGia)||0),0),l=o.length>0?c/o.length:0,u=JSON.parse(localStorage.getItem("user")||"{}"),d=u==null?void 0:u.maNguoiDung,f=n.find(h=>(h==null?void 0:h.maSanPham)===a&&(h==null?void 0:h.maNguoiDung)===d);return{id:i.id,name:i.name||"Không có tên",description:i.moTa||`Thương hiệu: ${i.thuongHieu||"Không xác định"} <br/> Chất liệu: ${i.chatLieu||"Không xác định"}`,imageSrc:i.hinh[0]||"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='300' viewBox='0 0 400 300'%3E%3Crect width='400' height='300' fill='%23f1f5f9'/%3E%3C/svg%3E",price:i.donGia||0,sizes:i.kichThuoc||[],colors:i.mauSac||[],averageRating:l,commentCount:o.length,isFavorite:!!f,hot:i.hot||!1,likedId:f==null?void 0:f.maYeuThich,hashTags:i.listHashTag||[],discountPercent:i.khuyenMaiMax||0,thuongHieu:i.thuongHieu||"Không xác định",chatLieu:i.chatLieu||"Không xác định",soLuongDaBan:i.soLuongDaBan||0}}),SAe=(e,t)=>e.filter(s=>s.trangThai===!0).map(s=>{const i=JSON.parse(localStorage.getItem("user")||"{}"),a=i==null?void 0:i.maNguoiDung,o=t.find(A=>(A==null?void 0:A.maCombo)===s.maCombo&&(A==null?void 0:A.maNguoiDung)===a),c=s.sanPhams.reduce((A,g)=>A+g.donGia*(g.soLuong||1),0),l=s.gia,u=Math.round(l*(1-(s.khuyenMaiMax||0)/100)),d=Math.round((c-l)/c*100),f=c-u,h=s.sanPhams.map(A=>{var g;return{id:A.idSanPham||((g=A.id)==null?void 0:g.toString())||"",name:A.name||"Không có tên",brand:A.thuongHieu||"Không xác định",material:A.chatLieu||"Không xác định",type:A.loaiSanPham||"Không xác định",price:A.donGia||0,quantity:A.soLuong||1,colors:A.mauSac||[],hinh:A.hinh[0]}}),m=[];return s.hinhAnh&&m.push(s.hinhAnh),s.sanPhams.forEach(A=>{Array.isArray(A.hinh)&&m.push(...A.hinh)}),{id:s.maCombo,name:s.name,description:s.moTa,imageSrc:m[0]||"",price:u,originalPrice:c,products:h,isFavorite:!!o,likedId:o==null?void 0:o.maYeuThich,savings:f,savingsPercentage:s.khuyenMaiMax||0,savingsPercentageComparedToRetail:d,productCount:h.length,discountPercent:s.khuyenMaiMax||0,allImages:m}}),TAe=({promotion:e})=>{const t=l=>{try{return new Date(l).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return l}},n=l=>{try{const u=new Date,f=new Date(l).getTime()-u.getTime(),h=Math.ceil(f/(1e3*60*60*24));return Math.max(0,h)}catch{return 0}},s=()=>e.percentChung&&e.percentChung>0?e.percentChung:e.danhSachKhuyenMai&&e.danhSachKhuyenMai.length>0?Math.max(...e.danhSachKhuyenMai.map(u=>u.percent||0)):0,i=()=>{var l;return(l=e.moTa)!=null&&l.Picture&&e.moTa.Picture.length>0?e.moTa.Picture[0].url:e.hinhAnh&&e.hinhAnh.length>0?e.hinhAnh[0]:null},a=n(e.ngayKetThuc),o=i(),c=s();return r.jsxs(it,{className:"overflow-hidden h-full relative",children:[r.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-purple-400 via-pink-500 to-red-500",children:[o&&r.jsx("img",{src:o.startsWith("data:")?o:`data:image/jpeg;base64,${o}`,alt:e.tenKhuyenMai,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-black/40"}),r.jsxs("div",{className:"absolute top-4 right-4 bg-gradient-to-br from-red-500 to-red-600 text-white p-3 min-w-[80px] min-h-[80px] flex flex-col items-center justify-center shadow-lg z-10",children:[r.jsx("div",{className:"text-xs font-medium leading-tight text-center",children:"Giảm tới"}),r.jsxs("div",{className:"text-lg font-bold leading-none",children:[c>0?c:"Tới","%"]})]}),r.jsx("div",{className:"absolute top-4 left-4",children:r.jsx(Kt,{className:`${a>0?"bg-green-500":"bg-gray-500"} text-white`,children:a>0?"Đang diễn ra":"Đã kết thúc"})}),r.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:r.jsx("h3",{className:"text-white font-bold text-lg mb-2 line-clamp-2",children:e.tenKhuyenMai})})]}),r.jsxs(dt,{className:"p-4",children:[r.jsx("div",{className:"flex items-center gap-4 mb-4 text-sm",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(RZ,{className:"w-4 h-4 text-blue-500"}),r.jsxs("span",{className:"text-gray-600",children:[t(e.ngayBatDau)," - ",t(e.ngayKetThuc)]})]})}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Vr,{className:"w-4 h-4 text-green-500"}),r.jsx("span",{className:"text-sm font-medium",children:e.percentChung&&e.percentChung>0?`Giảm giá chung ${e.percentChung}% toàn bộ sản phẩm`:`Giảm giá theo sản phẩm (tối đa ${c}%)`})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:["Áp dụng cho: ",e.percentChung&&e.percentChung>0?"Toàn bộ sản phẩm":`${e.danhSachKhuyenMai.length} sản phẩm`]}),r.jsxs("span",{className:"text-sm font-medium text-blue-600",children:["Còn lại: ",a," ngày"]})]})]}),(!e.percentChung||e.percentChung===0)&&e.danhSachKhuyenMai&&e.danhSachKhuyenMai.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-semibold text-gray-800 mb-3 text-sm",children:"Sản phẩm và Combo khuyến mãi:"}),r.jsxs("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:[e.danhSachKhuyenMai.slice(0,3).map((l,u)=>r.jsxs("div",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[l.hinhAnh&&l.hinhAnh.length>0&&r.jsx("img",{src:l.hinhAnh[0].startsWith("data:")?l.hinhAnh[0]:`data:image/jpeg;base64,${l.hinhAnh[0]}`,alt:l.tenSanPhamCombo,className:"w-12 h-12 object-cover rounded"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:l.tenSanPhamCombo}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-sm font-bold text-red-600",children:[l.giaMoi.toLocaleString("vi-VN")," VND"]}),l.giaGoc>l.giaMoi&&r.jsxs("span",{className:"text-xs text-gray-500 line-through",children:[l.giaGoc.toLocaleString("vi-VN")," VND"]}),r.jsxs(Kt,{variant:"secondary",className:"text-xs px-2 py-0",children:["-",l.percent,"%"]})]})]})]},l.id)),e.danhSachKhuyenMai.length>3&&r.jsxs("div",{className:"text-center text-sm text-gray-500 py-2",children:["+",e.danhSachKhuyenMai.length-3," sản phẩm khác"]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 p-3 bg-purple-50 rounded-lg",children:[r.jsx(Vr,{className:"w-5 h-5 text-purple-600"}),r.jsx("span",{className:"text-sm text-purple-800 font-medium",children:e.percentChung&&e.percentChung>0?`Giảm giá ${e.percentChung}% cho toàn bộ sản phẩm và combo`:`Giảm giá cho ${e.danhSachKhuyenMai.length} sản phẩm được chọn`})]}),r.jsx("div",{className:"text-xs text-gray-600 bg-yellow-50 p-2 rounded",children:e.percentChung&&e.percentChung>0?`Tất cả sản phẩm và combo trong cửa hàng được giảm giá ${e.percentChung}%`:`Giảm giá từ 1% đến ${c}% cho các sản phẩm được chọn`})]}),r.jsx("div",{className:"flex gap-2 mt-4 absolute bottom-4 left-4 right-4",children:r.jsxs(fe,{variant:"outline",className:"flex-1",size:"sm",children:[r.jsx(dr,{className:"w-4 h-4 mr-2"}),"Xem chi tiết"]})})]})]})},kAe=()=>{const[e,t]=B.useState([]),[n,s]=B.useState(!0),[i,a]=B.useState(null);B.useEffect(()=>{(async()=>{try{s(!0);const l=await fetch("https://bicacuatho.azurewebsites.net/api/KhuyenMai/ListKhuyenMaiUser");if(!l.ok)throw new Error("Không thể tải danh sách khuyến mãi");const u=await l.json();t(u||[]),a(null)}catch(l){console.error("Lỗi khi lấy dữ liệu khuyến mãi:",l),a(l instanceof Error?l.message:"Có lỗi xảy ra")}finally{s(!1)}})()},[]);const o=[];for(let c=0;c<e.length;c+=2)o.push(e.slice(c,c+2));return n?r.jsxs("div",{className:"text-center py-8",children:[r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-32 mx-auto mb-4"}),r.jsx("div",{className:"h-64 bg-gray-200 rounded"})]}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Đang tải khuyến mãi..."})]}):i?r.jsxs("div",{className:"text-center text-red-500 py-8",children:[r.jsxs("p",{children:["Lỗi: ",i]}),r.jsx(fe,{variant:"outline",onClick:()=>window.location.reload(),className:"mt-4",children:"Thử lại"})]}):e.length===0?r.jsxs("div",{className:"text-center text-gray-500 py-8",children:[r.jsx(Vr,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),r.jsx("p",{children:"Hiện tại không có khuyến mãi nào"})]}):r.jsxs("section",{className:"mb-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-3xl font-bold",children:"Khuyến mãi hot"}),r.jsx(fe,{asChild:!0,variant:"link",className:"text-crocus-600",children:r.jsxs(ct,{to:"/promotions",children:["Xem tất cả ",r.jsx("span",{"aria-hidden":"true",children:"→"})]})})]}),r.jsxs(Vu,{className:"w-full",children:[r.jsx(Ku,{children:o.map((c,l)=>r.jsx(Gu,{className:"basis-full",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.map(u=>r.jsx(TAe,{promotion:u},u.id)),c.length===1&&r.jsx("div",{className:"hidden md:block"})]})},l))}),r.jsx(Wu,{className:"left-4"}),r.jsx(qu,{className:"right-4"})]})]})},_Ae=({product:e,index:t,toggleFavorite:n})=>{const[s,i]=B.useState(!1),a=B.useRef(null);return B.useEffect(()=>{const o=new IntersectionObserver(([c])=>{c.isIntersecting&&(i(!0),o.disconnect())},{threshold:.1});return a.current&&o.observe(a.current),()=>o.disconnect()},[]),r.jsx("div",{ref:a,className:Fe("group relative transition-all duration-700 ease-out",s?"opacity-100 translate-y-0":"opacity-0 translate-y-10"),style:{transitionDelay:`${t*150}ms`},children:r.jsxs(it,{className:"overflow-hidden group relative",style:{height:"650px"},children:[r.jsxs("div",{className:"relative aspect-square",children:[r.jsx(ct,{to:`/products/${e.id}`,children:r.jsx("img",{src:e.imageSrc?`data:image/jpeg;base64,${e.imageSrc}`:"/placeholder-image.jpg",alt:e.name,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"})}),e.hot&&r.jsx(Kt,{className:"absolute top-2 left-2 bg-red-500 text-white z-10",children:"Đang bán chạy"}),e.discountPercent>0&&r.jsxs("div",{className:"absolute top-0 right-0 bg-gradient-to-br from-red-500 to-red-600 text-white p-3 min-w-[80px] min-h-[80px] flex flex-col items-center justify-center shadow-lg z-10",children:[r.jsx("div",{className:"text-xs font-medium leading-tight text-center",children:"Giảm tới"}),r.jsxs("div",{className:"text-lg font-bold leading-none",children:[e.discountPercent,"%"]})]}),r.jsx(fe,{variant:"outline",size:"icon",className:"absolute top-2 left-2 w-10 h-10 rounded-full bg-white/80 hover:bg-white z-10",onClick:()=>n(e.id),"aria-label":e.isFavorite?"Xóa khỏi yêu thích":"Thêm vào yêu thích",children:r.jsx(di,{className:`h-5 w-5 ${e.isFavorite?"fill-red-500 text-red-500":"text-gray-600"}`})})]}),r.jsxs(dt,{className:"p-4",children:[r.jsx(ct,{to:`/products/${e.id}`,children:r.jsx("h3",{className:"font-medium hover:text-crocus-600 transition-colors mb-2 line-clamp-2",children:e.name})}),r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{className:"flex flex-col",children:[e.discountPercent>0?r.jsxs(r.Fragment,{children:[r.jsxs("p",{className:"font-bold text-xl text-red-600 mb-1",children:[Math.round(e.price*(1-e.discountPercent/100)).toLocaleString("vi-VN",{maximumFractionDigits:0})," VND"]}),r.jsxs("p",{className:"text-sm text-gray-500 line-through font-medium",children:[e.price.toLocaleString("vi-VN",{maximumFractionDigits:0})," VND"]}),r.jsxs("p",{className:"text-xs text-green-700 font-semibold bg-green-50 px-2 py-1 rounded-md inline-block mt-1",children:["Tiết kiệm ",Math.round(e.price*e.discountPercent/100).toLocaleString("vi-VN",{maximumFractionDigits:0})," VND"]})]}):r.jsxs("p",{className:"font-semibold text-lg text-red-600",children:[e.price.toLocaleString("vi-VN",{maximumFractionDigits:0})," VND"]}),r.jsxs("p",{className:"text-xs text-gray-600 mt-1 font-medium",children:["📦 Đã bán: ",r.jsx("span",{className:"text-orange-600 font-bold",children:e.soLuongDaBan.toLocaleString("vi-VN")})," sản phẩm"]})]}),r.jsxs("div",{className:"flex items-center gap-1","aria-label":`Đánh giá ${e.averageRating} sao`,children:[[...Array(5)].map((o,c)=>c<Math.floor(e.averageRating)?r.jsx(Lr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"},c):c===Math.floor(e.averageRating)&&e.averageRating%1>=.5?r.jsx(Lr,{className:"w-4 h-4",style:{background:"linear-gradient(90deg, #FBBF24 50%, #D1D5DB 50%)",backgroundClip:"text",WebkitBackgroundClip:"text",color:"transparent",fill:"url(#half-star-gradient)"}},c):r.jsx(Lr,{className:"w-4 h-4 text-gray-300"},c)),r.jsxs("span",{className:"text-sm text-gray-600",children:["(",e.commentCount,")"]})]})]}),r.jsxs("div",{className:"mb-3 flex flex-wrap gap-1",children:[r.jsx("span",{className:"text-xs text-gray-500 mr-2",children:"Màu:"}),e.colors.slice(0,4).map(o=>r.jsx("span",{className:"inline-block w-5 h-5 rounded-full border border-gray-300 shadow-sm",style:{backgroundColor:`#${o}`},title:`Màu #${o}`},o)),e.colors.length>4&&r.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["+",e.colors.length-4]})]}),r.jsxs("div",{className:"mb-2 flex flex-wrap gap-2",children:[r.jsxs(Kt,{variant:"outline",className:"text-xs px-2 py-1 bg-blue-50 border-blue-200 text-blue-700 font-medium",children:["🏷️ ",e.thuongHieu]}),r.jsxs(Kt,{variant:"outline",className:"text-xs px-2 py-1 bg-green-50 border-green-200 text-green-700 font-medium",children:["🧵 ",e.chatLieu]})]}),e.hashTags&&e.hashTags.length>0&&r.jsxs("div",{className:"mb-4 flex flex-wrap gap-1",children:[e.hashTags.slice(0,3).map(o=>r.jsxs(Kt,{variant:"secondary",className:"text-xs px-2 py-1 bg-crocus-100 text-crocus-700 hover:bg-crocus-200",children:["#",o.name]},o.id)),e.hashTags.length>3&&r.jsxs(Kt,{variant:"outline",className:"text-xs px-2 py-1",children:["+",e.hashTags.length-3]})]}),r.jsx("div",{className:"flex gap-2 absolute bottom-4 left-4 right-4",children:r.jsx(fe,{asChild:!0,variant:"outline",size:"sm",className:"flex-1",children:r.jsx(ct,{to:`/products/${e.id}`,children:"Chi tiết"})})})]})]})})},BAe=({images:e,comboName:t})=>{const[n,s]=B.useState(0),i=()=>{s(o=>(o+1)%e.length)},a=()=>{s(o=>(o-1+e.length)%e.length)};return r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"relative aspect-square mb-4 bg-gray-100 rounded-lg overflow-hidden",children:[r.jsx("img",{src:e[n]?`data:image/jpeg;base64,${e[n]}`:"/placeholder-image.jpg",alt:`${t} - Hình ${n+1}`,className:"w-full h-full object-cover"}),e.length>1&&r.jsxs(r.Fragment,{children:[r.jsx(fe,{variant:"outline",size:"icon",className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white",onClick:a,children:r.jsx(ss,{className:"h-4 w-4"})}),r.jsx(fe,{variant:"outline",size:"icon",className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white",onClick:i,children:r.jsx(jr,{className:"h-4 w-4"})}),r.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/60 text-white px-2 py-1 rounded text-sm",children:[n+1," / ",e.length]})]})]}),e.length>1&&r.jsx("div",{className:"w-full",children:r.jsxs(Vu,{className:"w-full",children:[r.jsx(Ku,{className:"-ml-2",children:e.map((o,c)=>r.jsx(Gu,{className:"basis-1/3 pl-2",children:r.jsx("div",{className:Fe("aspect-square bg-gray-100 rounded cursor-pointer overflow-hidden border-2 transition-all",n===c?"border-crocus-500":"border-transparent hover:border-gray-300"),onClick:()=>s(c),children:r.jsx("img",{src:o?`data:image/jpeg;base64,${o}`:"/placeholder-image.jpg",alt:`${t} thumbnail ${c+1}`,className:"w-full h-full object-cover"})})},c))}),e.length>3&&r.jsxs(r.Fragment,{children:[r.jsx(Wu,{className:"left-0"}),r.jsx(qu,{className:"right-0"})]})]})})]})},EAe=({combo:e,toggleFavorite:t})=>r.jsx(it,{className:"overflow-hidden h-full",style:{backgroundColor:"#EBE7FD"},children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 h-full min-h-[500px]",children:[r.jsxs("div",{className:"relative p-6 bg-gray-50/80 backdrop-blur-sm",children:[e.discountPercent>0&&r.jsxs("div",{className:"absolute top-4 right-4 bg-gradient-to-br from-red-500 to-red-600 text-white p-3 min-w-[80px] min-h-[80px] flex flex-col items-center justify-center shadow-lg z-10 rounded",children:[r.jsx("div",{className:"text-xs font-medium text-gray-50",children:"Khuyến Mãi"}),r.jsxs("div",{className:"text-lg font-bold",children:[" -",e.discountPercent,"%"]})]}),e.savingsPercentageComparedToRetail>0&&r.jsxs("div",{className:"absolute top-4 right-28 bg-blue-500 text-white p-3 rounded shadow-lg z-10 flex flex-col items-center",children:[r.jsx("div",{className:"text-xs font-medium",children:"Đã Giảm"}),r.jsxs("div",{className:"text-lg font-bold",children:[e.savingsPercentageComparedToRetail,"%"]})]}),r.jsx(BAe,{images:e.allImages,comboName:e.name}),r.jsx(fe,{variant:"outline",size:"icon",className:"absolute top-4 left-4 w-10 h-10 rounded-full bg-white/80 hover:bg-white z-10",onClick:()=>t(e.id),"aria-label":e.isFavorite?"Xóa khỏi yêu thích":"Thêm vào yêu thích",children:r.jsx(di,{className:`h-5 w-5 ${e.isFavorite?"fill-red-500 text-red-500":"text-gray-600"}`})})]}),r.jsx("div",{className:"p-6 flex flex-col justify-between bg-white/80 backdrop-blur-sm",children:r.jsxs("div",{children:[r.jsx(ct,{to:`/combos/${e.id}`,children:r.jsx("h3",{className:"text-2xl font-bold hover:text-crocus-600 transition-colors mb-3",children:e.name})}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-baseline gap-3 mb-2",children:[r.jsxs("span",{className:"text-3xl font-bold text-red-600",children:[e.price.toLocaleString("vi-VN")," VND"]}),r.jsxs("span",{className:"text-lg text-gray-500 line-through",children:[e.originalPrice.toLocaleString("vi-VN")," VND"]})]}),r.jsxs("p",{className:"text-sm text-green-700 font-semibold bg-green-50 px-3 py-2 rounded-lg inline-block",children:["💰 Tiết kiệm ",e.savings.toLocaleString("vi-VN")," VND"]})]}),r.jsxs(Kt,{className:"mb-4 bg-crocus-500 text-white px-3 py-1",children:["📦 ",e.productCount," sản phẩm trong combo"]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-semibold text-gray-800 mb-3 text-lg",children:"Sản phẩm trong combo:"}),r.jsx("div",{className:"space-y-3",children:e.products.map(n=>r.jsx("div",{className:"p-4 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300 border border-gray-100",children:r.jsxs("div",{className:"grid grid-cols-3 gap-4 items-start",children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("img",{src:`data:image/jpeg;base64,${n.hinh}`,alt:n.name,className:"w-full max-w-[200px] object-contain rounded shadow"}),r.jsx("p",{className:"font-semibold text-lg text-gray-800 mt-2 text-center",children:n.name})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("p",{className:"text-gray-600",children:["Số lượng:"," ",r.jsx("span",{className:"font-medium text-gray-800",children:n.quantity})]}),r.jsxs("p",{className:"text-gray-600",children:["Thương hiệu:"," ",r.jsx("span",{className:"font-medium text-gray-800",children:n.brand})]}),r.jsx("div",{className:"flex flex-wrap gap-1.5 mt-2",children:n.colors.map(s=>r.jsx("span",{className:"w-5 h-5 rounded-full border border-gray-300 shadow-sm",style:{backgroundColor:`#${s}`},title:`Màu ${s}`},s))})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("p",{className:"text-gray-600",children:["Chất liệu:"," ",r.jsx("span",{className:"font-medium text-gray-800",children:n.material})]}),r.jsxs("p",{className:"text-gray-600",children:["Giá gốc:"," ",r.jsxs("span",{className:"font-bold text-lg text-red-600",children:[n.price.toLocaleString("vi-VN")," VND"]})]})]})]})},n.id))})]}),r.jsx("div",{className:"flex gap-3 pt-4 border-t",children:r.jsx(fe,{asChild:!0,variant:"outline",className:"flex-1",children:r.jsx(ct,{to:`/combos/${e.id}`,children:"Xem chi tiết"})})})]})})]})}),PAe=({combos:e,toggleFavorite:t})=>r.jsxs(Vu,{className:"w-full",children:[r.jsx(Ku,{children:e.map(n=>r.jsx(Gu,{className:"basis-full",children:r.jsx(EAe,{combo:n,toggleFavorite:t})},n.id))}),r.jsx(Wu,{className:"left-4"}),r.jsx(qu,{className:"right-4"})]}),MAe=()=>{const e=gr(),[t,n]=B.useState([]),[s,i]=B.useState([]),[a,o]=B.useState(!0),[c,l]=B.useState(!0),[u,d]=B.useState(null),[f,h]=B.useState(null),[m,A]=B.useState("light"),g=()=>{A(x=>x==="light"?"dark":"light")};B.useEffect(()=>{m==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[m]),B.useEffect(()=>{(async()=>{try{o(!0),l(!0);const v=await fetch("https://bicacuatho.azurewebsites.net/api/Comment/list");if(!v.ok)throw new Error("Không thể tải bình luận");const y=await v.json();let N={};try{const E=localStorage.getItem("user");N=E?JSON.parse(E):{}}catch(E){console.error("Lỗi parse user data:",E)}const P=N==null?void 0:N.maNguoiDung;let M=[];if(P){const E=await fetch("https://bicacuatho.azurewebsites.net/api/YeuThich",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});E.ok&&(M=await E.json())}const k=await fetch("https://bicacuatho.azurewebsites.net/api/SanPham/ListSanPham");if(!k.ok)throw new Error("Không thể tải sản phẩm");const D=await k.json(),O=NAe(D,y,M);n(O),o(!1),d(null);const L=await fetch("https://bicacuatho.azurewebsites.net/api/Combo/ComboSanPhamView");if(!L.ok)throw new Error("Không thể tải combo");const F=await L.json();if(!Array.isArray(F))throw new Error("API response is not an array");const _=SAe(F,M);i(_),l(!1),h(null)}catch(v){const y=v instanceof Error?v.message:"An error occurred";console.error("Lỗi khi lấy dữ liệu:",y),y.includes("sản phẩm")&&(d(y),o(!1)),y.includes("combo")&&(h(y),l(!1))}})()},[]);const p=async x=>{try{const v=t.find(M=>M.id===x);let y={};try{const M=localStorage.getItem("user");y=M?JSON.parse(M):{}}catch(M){console.error("Lỗi parse user data:",M)}const N=y==null?void 0:y.maNguoiDung,P=y==null?void 0:y.hoTen;if(!N){kc("Vui lòng đăng nhập để thêm sản phẩm vào danh sách yêu thích!","warning").then(()=>{e("/auth/login")});return}if(v!=null&&v.isFavorite){if(!(await fetch(`https://bicacuatho.azurewebsites.net/api/YeuThich/${v.likedId}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Không thể xóa sản phẩm khỏi danh sách yêu thích");n(k=>k.map(D=>D.id===x?{...D,isFavorite:!1,likedId:void 0}:D)),kc("Đã xóa sản phẩm khỏi danh sách yêu thích!","success")}else{const M={maSanPham:x.split("_")[0]||x,tenSanPham:v==null?void 0:v.name,maNguoiDung:N,hoTen:P,soLuongYeuThich:1,ngayYeuThich:new Date().toISOString()},k=await fetch("https://bicacuatho.azurewebsites.net/api/YeuThich",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(M)});if(!k.ok)throw new Error("Không thể thêm sản phẩm vào danh sách yêu thích");const D=await k.json();n(O=>O.map(L=>L.id===x?{...L,isFavorite:!0,likedId:D.maYeuThich}:L)),kc("Đã thêm sản phẩm vào danh sách yêu thích!","success")}}catch(v){console.error("Lỗi khi cập nhật yêu thích:",v),kc("Có lỗi xảy ra khi cập nhật yêu thích!","error")}},b=async x=>{try{const v=s.find(M=>M.id===x);let y={};try{const M=localStorage.getItem("user");y=M?JSON.parse(M):{}}catch(M){console.error("Lỗi parse user data:",M)}const N=y==null?void 0:y.maNguoiDung,P=y==null?void 0:y.hoTen;if(!N){kc("Vui lòng đăng nhập để thêm combo vào danh sách yêu thích!","warning").then(()=>{e("/login")});return}if(v!=null&&v.isFavorite){if(!(await fetch(`https://bicacuatho.azurewebsites.net/api/YeuThich/${v.likedId}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Không thể xóa combo khỏi danh sách yêu thích");i(k=>k.map(D=>D.id===x?{...D,isFavorite:!1,likedId:void 0}:D)),kc("Đã xóa combo khỏi danh sách yêu thích!","success")}else{const M={maCombo:x,tenCombo:v==null?void 0:v.name,maNguoiDung:N,hoTen:P,soLuongYeuThich:1,ngayYeuThich:new Date().toISOString()},k=await fetch("https://bicacuatho.azurewebsites.net/api/YeuThich",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(M)});if(!k.ok)throw new Error("Không thể thêm combo vào danh sách yêu thích");const D=await k.json();i(O=>O.map(L=>L.id===x?{...L,isFavorite:!0,likedId:D.maYeuThich}:L)),kc("Đã thêm combo vào danh sách yêu thích!","success")}}catch(v){console.error("Lỗi khi cập nhật yêu thích:",v),kc("Có lỗi xảy ra khi cập nhật yêu thích!","error")}};return r.jsxs("div",{className:Fe("space-y-6 py-6",m==="dark"?"dark":""),children:[r.jsx(fe,{variant:"outline",size:"icon",className:"fixed bottom-4 left-4 w-12 h-12 rounded-full bg-white/80 hover:bg-white dark:bg-gray-800/80 dark:hover:bg-gray-800 z-50",onClick:g,"aria-label":m==="light"?"Chuyển sang giao diện tối":"Chuyển sang giao diện sáng",children:m==="light"?r.jsx(CL,{className:"h-6 w-6 text-gray-600 dark:text-gray-300"}):r.jsx(NL,{className:"h-6 w-6 text-gray-600 dark:text-gray-300"})}),r.jsx(IU,{}),r.jsx(hpe,{}),r.jsx(kAe,{}),r.jsx(EH,{}),r.jsx(i$,{}),r.jsxs("section",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold",children:"Sản phẩm bán chạy"}),r.jsx(fe,{asChild:!0,variant:"link",className:"text-crocus-600",children:r.jsxs(ct,{to:"/products",children:["Xem tất cả ",r.jsx("span",{"aria-hidden":"true",children:"→"})]})})]}),a?r.jsx("div",{className:"text-center",children:"Đang tải sản phẩm..."}):u?r.jsxs("div",{className:"text-center text-red-500",children:["Lỗi: ",u]}):r.jsxs(Vu,{className:"w-full",children:[r.jsx(Ku,{children:t.map((x,v)=>r.jsx(Gu,{className:"md:basis-1/2 lg:basis-1/4",children:r.jsx(_Ae,{product:x,index:v,toggleFavorite:p})},x.id))}),r.jsx(Wu,{className:"left-2"}),r.jsx(qu,{className:"right-2"})]})]}),r.jsxs("section",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold",children:"Combo mới nhất"}),r.jsx(fe,{asChild:!0,variant:"link",className:"text-crocus-600",children:r.jsxs(ct,{to:"/combos",children:["Xem tất cả ",r.jsx("span",{"aria-hidden":"true",children:"→"})]})})]}),c?r.jsx("div",{className:"text-center",children:"Đang tải combo..."}):f?r.jsxs("div",{className:"text-center text-red-500",children:["Lỗi: ",f]}):s.length>0?r.jsx(CAe,{children:r.jsx(PAe,{combos:s,toggleFavorite:b})}):r.jsx("div",{className:"text-center text-gray-500",children:"Không có combo nào để hiển thị"})]}),r.jsxs("section",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold",children:"Tin tức"}),r.jsx(fe,{asChild:!0,variant:"link",className:"text-crocus-600",children:r.jsxs(ct,{to:"/blogs",children:["Xem tất cả ",r.jsx("span",{"aria-hidden":"true",children:"→"})]})})]}),r.jsx(tAe,{})]}),r.jsx(BH,{})]})},DAe=()=>{const e=Bs();return B.useEffect(()=>{console.error("Lỗi 404: Người dùng truy cập đường dẫn không tồn tại:",e.pathname)},[e.pathname]),r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br p-4",children:r.jsx(it,{className:"max-w-lg w-full shadow-2xl rounded-2xl",children:r.jsxs(dt,{className:"text-center py-16 px-6",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsx(_T,{className:"h-16 w-16 text-crocus-500"})}),r.jsx("h1",{className:"text-7xl font-extrabold text-gray-800 mb-2",children:"404"}),r.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Rất tiếc! Không tìm thấy trang bạn yêu cầu."}),r.jsx("p",{className:"text-sm text-gray-500 mb-8",children:"Có thể link bạn đang truy cập đã bị hỏng hoặc trang đã bị chuyển."}),r.jsx(fe,{asChild:!0,size:"lg",className:"flex items-center justify-center space-x-2 mx-auto",children:r.jsxs(ct,{to:"/",className:"flex items-center gap-2",children:[r.jsx(KN,{className:"h-5 w-5"}),r.jsx("span",{children:"Quay về trang chủ"})]})})]})})})};var IAe="Label",a$=B.forwardRef((e,t)=>r.jsx(Ct.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));a$.displayName=IAe;var o$=a$;const OAe=$u("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),De=B.forwardRef(({className:e,...t},n)=>r.jsx(o$,{ref:n,className:Fe(OAe(),e),...t}));De.displayName=o$.displayName;function fy(e,[t,n]){return Math.min(n,Math.max(t,e))}var LAe=[" ","Enter","ArrowUp","ArrowDown"],FAe=[" ","Enter"],oh="Select",[x1,b1,RAe]=Ch(oh),[Qm,dUe]=qs(oh,[RAe,Qu]),v1=Qu(),[UAe,Yu]=Qm(oh),[HAe,$Ae]=Qm(oh),l$=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:i,onOpenChange:a,value:o,defaultValue:c,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:A}=e,g=v1(t),[p,b]=B.useState(null),[x,v]=B.useState(null),[y,N]=B.useState(!1),P=Nh(u),[M,k]=na({prop:s,defaultProp:i??!1,onChange:a,caller:oh}),[D,O]=na({prop:o,defaultProp:c,onChange:l,caller:oh}),L=B.useRef(null),F=p?A||!!p.closest("form"):!0,[_,E]=B.useState(new Set),T=Array.from(_).map(w=>w.props.value).join(";");return r.jsx(Ow,{...g,children:r.jsxs(UAe,{required:m,scope:t,trigger:p,onTriggerChange:b,valueNode:x,onValueNodeChange:v,valueNodeHasChildren:y,onValueNodeHasChildrenChange:N,contentId:Yi(),value:D,onValueChange:O,open:M,onOpenChange:k,dir:P,triggerPointerDownPosRef:L,disabled:h,children:[r.jsx(x1.Provider,{scope:t,children:r.jsx(HAe,{scope:e.__scopeSelect,onNativeOptionAdd:B.useCallback(w=>{E(C=>new Set(C).add(w))},[]),onNativeOptionRemove:B.useCallback(w=>{E(C=>{const j=new Set(C);return j.delete(w),j})},[]),children:n})}),F?r.jsxs(P$,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:D,onChange:w=>O(w.target.value),disabled:h,form:A,children:[D===void 0?r.jsx("option",{value:""}):null,Array.from(_)]},T):null]})})};l$.displayName=oh;var c$="SelectTrigger",u$=B.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...i}=e,a=v1(n),o=Yu(c$,n),c=o.disabled||s,l=dn(t,o.onTriggerChange),u=b1(n),d=B.useRef("touch"),[f,h,m]=D$(g=>{const p=u().filter(v=>!v.disabled),b=p.find(v=>v.value===o.value),x=I$(p,g,b);x!==void 0&&o.onValueChange(x.value)}),A=g=>{c||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return r.jsx(n0,{asChild:!0,...a,children:r.jsx(Ct.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":M$(o.value)?"":void 0,...i,ref:l,onClick:et(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&A(g)}),onPointerDown:et(i.onPointerDown,g=>{d.current=g.pointerType;const p=g.target;p.hasPointerCapture(g.pointerId)&&p.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(A(g),g.preventDefault())}),onKeyDown:et(i.onKeyDown,g=>{const p=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(p&&g.key===" ")&&LAe.includes(g.key)&&(A(),g.preventDefault())})})})});u$.displayName=c$;var d$="SelectValue",h$=B.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,children:a,placeholder:o="",...c}=e,l=Yu(d$,n),{onValueNodeHasChildrenChange:u}=l,d=a!==void 0,f=dn(t,l.onValueNodeChange);return Xr(()=>{u(d)},[u,d]),r.jsx(Ct.span,{...c,ref:f,style:{pointerEvents:"none"},children:M$(l.value)?r.jsx(r.Fragment,{children:o}):a})});h$.displayName=d$;var QAe="SelectIcon",f$=B.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...i}=e;return r.jsx(Ct.span,{"aria-hidden":!0,...i,ref:t,children:s||"▼"})});f$.displayName=QAe;var zAe="SelectPortal",m$=e=>r.jsx(Cm,{asChild:!0,...e});m$.displayName=zAe;var lh="SelectContent",p$=B.forwardRef((e,t)=>{const n=Yu(lh,e.__scopeSelect),[s,i]=B.useState();if(Xr(()=>{i(new DocumentFragment)},[]),!n.open){const a=s;return a?bo.createPortal(r.jsx(A$,{scope:e.__scopeSelect,children:r.jsx(x1.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),a):null}return r.jsx(g$,{...e,ref:t})});p$.displayName=lh;var eo=10,[A$,Zu]=Qm(lh),VAe="SelectContentImpl",KAe=Tu("SelectContent.RemoveScroll"),g$=B.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:c,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:A,hideWhenDetached:g,avoidCollisions:p,...b}=e,x=Yu(lh,n),[v,y]=B.useState(null),[N,P]=B.useState(null),M=dn(t,W=>y(W)),[k,D]=B.useState(null),[O,L]=B.useState(null),F=b1(n),[_,E]=B.useState(!1),T=B.useRef(!1);B.useEffect(()=>{if(v)return Gw(v)},[v]),Vw();const w=B.useCallback(W=>{const[H,...Q]=F().map(ee=>ee.ref.current),[G]=Q.slice(-1),J=document.activeElement;for(const ee of W)if(ee===J||(ee==null||ee.scrollIntoView({block:"nearest"}),ee===H&&N&&(N.scrollTop=0),ee===G&&N&&(N.scrollTop=N.scrollHeight),ee==null||ee.focus(),document.activeElement!==J))return},[F,N]),C=B.useCallback(()=>w([k,v]),[w,k,v]);B.useEffect(()=>{_&&C()},[_,C]);const{onOpenChange:j,triggerPointerDownPosRef:S}=x;B.useEffect(()=>{if(v){let W={x:0,y:0};const H=G=>{var J,ee;W={x:Math.abs(Math.round(G.pageX)-(((J=S.current)==null?void 0:J.x)??0)),y:Math.abs(Math.round(G.pageY)-(((ee=S.current)==null?void 0:ee.y)??0))}},Q=G=>{W.x<=10&&W.y<=10?G.preventDefault():v.contains(G.target)||j(!1),document.removeEventListener("pointermove",H),S.current=null};return S.current!==null&&(document.addEventListener("pointermove",H),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",Q,{capture:!0})}}},[v,j,S]),B.useEffect(()=>{const W=()=>j(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[j]);const[I,R]=D$(W=>{const H=F().filter(J=>!J.disabled),Q=H.find(J=>J.ref.current===document.activeElement),G=I$(H,W,Q);G&&setTimeout(()=>G.ref.current.focus())}),U=B.useCallback((W,H,Q)=>{const G=!T.current&&!Q;(x.value!==void 0&&x.value===H||G)&&(D(W),G&&(T.current=!0))},[x.value]),z=B.useCallback(()=>v==null?void 0:v.focus(),[v]),V=B.useCallback((W,H,Q)=>{const G=!T.current&&!Q;(x.value!==void 0&&x.value===H||G)&&L(W)},[x.value]),X=s==="popper"?$4:x$,$=X===$4?{side:c,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:A,hideWhenDetached:g,avoidCollisions:p}:{};return r.jsx(A$,{scope:n,content:v,viewport:N,onViewportChange:P,itemRefCallback:U,selectedItem:k,onItemLeave:z,itemTextRefCallback:V,focusSelectedItem:C,selectedItemText:O,position:s,isPositioned:_,searchRef:I,children:r.jsx(s0,{as:KAe,allowPinchZoom:!0,children:r.jsx(r0,{asChild:!0,trapped:x.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:et(i,W=>{var H;(H=x.trigger)==null||H.focus({preventScroll:!0}),W.preventDefault()}),children:r.jsx(Hu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:r.jsx(X,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:W=>W.preventDefault(),...b,...$,onPlaced:()=>E(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:et(b.onKeyDown,W=>{const H=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!H&&W.key.length===1&&R(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let G=F().filter(J=>!J.disabled).map(J=>J.ref.current);if(["ArrowUp","End"].includes(W.key)&&(G=G.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const J=W.target,ee=G.indexOf(J);G=G.slice(ee+1)}setTimeout(()=>w(G)),W.preventDefault()}})})})})})})});g$.displayName=VAe;var GAe="SelectItemAlignedPosition",x$=B.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...i}=e,a=Yu(lh,n),o=Zu(lh,n),[c,l]=B.useState(null),[u,d]=B.useState(null),f=dn(t,M=>d(M)),h=b1(n),m=B.useRef(!1),A=B.useRef(!0),{viewport:g,selectedItem:p,selectedItemText:b,focusSelectedItem:x}=o,v=B.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&u&&g&&p&&b){const M=a.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),D=a.valueNode.getBoundingClientRect(),O=b.getBoundingClientRect();if(a.dir!=="rtl"){const J=O.left-k.left,ee=D.left-J,K=M.left-ee,ne=M.width+K,ue=Math.max(ne,k.width),se=window.innerWidth-eo,ie=fy(ee,[eo,Math.max(eo,se-ue)]);c.style.minWidth=ne+"px",c.style.left=ie+"px"}else{const J=k.right-O.right,ee=window.innerWidth-D.right-J,K=window.innerWidth-M.right-ee,ne=M.width+K,ue=Math.max(ne,k.width),se=window.innerWidth-eo,ie=fy(ee,[eo,Math.max(eo,se-ue)]);c.style.minWidth=ne+"px",c.style.right=ie+"px"}const L=h(),F=window.innerHeight-eo*2,_=g.scrollHeight,E=window.getComputedStyle(u),T=parseInt(E.borderTopWidth,10),w=parseInt(E.paddingTop,10),C=parseInt(E.borderBottomWidth,10),j=parseInt(E.paddingBottom,10),S=T+w+_+j+C,I=Math.min(p.offsetHeight*5,S),R=window.getComputedStyle(g),U=parseInt(R.paddingTop,10),z=parseInt(R.paddingBottom,10),V=M.top+M.height/2-eo,X=F-V,$=p.offsetHeight/2,W=p.offsetTop+$,H=T+w+W,Q=S-H;if(H<=V){const J=L.length>0&&p===L[L.length-1].ref.current;c.style.bottom="0px";const ee=u.clientHeight-g.offsetTop-g.offsetHeight,K=Math.max(X,$+(J?z:0)+ee+C),ne=H+K;c.style.height=ne+"px"}else{const J=L.length>0&&p===L[0].ref.current;c.style.top="0px";const K=Math.max(V,T+g.offsetTop+(J?U:0)+$)+Q;c.style.height=K+"px",g.scrollTop=H-V+g.offsetTop}c.style.margin=`${eo}px 0`,c.style.minHeight=I+"px",c.style.maxHeight=F+"px",s==null||s(),requestAnimationFrame(()=>m.current=!0)}},[h,a.trigger,a.valueNode,c,u,g,p,b,a.dir,s]);Xr(()=>v(),[v]);const[y,N]=B.useState();Xr(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const P=B.useCallback(M=>{M&&A.current===!0&&(v(),x==null||x(),A.current=!1)},[v,x]);return r.jsx(qAe,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:m,onScrollButtonChange:P,children:r.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:y},children:r.jsx(Ct.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});x$.displayName=GAe;var WAe="SelectPopperPosition",$4=B.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:i=eo,...a}=e,o=v1(n);return r.jsx(Lw,{...o,...a,ref:t,align:s,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$4.displayName=WAe;var[qAe,$5]=Qm(lh,{}),Q4="SelectViewport",b$=B.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...i}=e,a=Zu(Q4,n),o=$5(Q4,n),c=dn(t,a.onViewportChange),l=B.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(x1.Slot,{scope:n,children:r.jsx(Ct.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:et(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(l.current-d.scrollTop);if(m>0){const A=window.innerHeight-eo*2,g=parseFloat(f.style.minHeight),p=parseFloat(f.style.height),b=Math.max(g,p);if(b<A){const x=b+m,v=Math.min(A,x),y=x-v;f.style.height=v+"px",f.style.bottom==="0px"&&(d.scrollTop=y>0?y:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});b$.displayName=Q4;var v$="SelectGroup",[XAe,YAe]=Qm(v$),ZAe=B.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=Yi();return r.jsx(XAe,{scope:n,id:i,children:r.jsx(Ct.div,{role:"group","aria-labelledby":i,...s,ref:t})})});ZAe.displayName=v$;var y$="SelectLabel",w$=B.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=YAe(y$,n);return r.jsx(Ct.div,{id:i.id,...s,ref:t})});w$.displayName=y$;var my="SelectItem",[JAe,j$]=Qm(my),C$=B.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:i=!1,textValue:a,...o}=e,c=Yu(my,n),l=Zu(my,n),u=c.value===s,[d,f]=B.useState(a??""),[h,m]=B.useState(!1),A=dn(t,x=>{var v;return(v=l.itemRefCallback)==null?void 0:v.call(l,x,s,i)}),g=Yi(),p=B.useRef("touch"),b=()=>{i||(c.onValueChange(s),c.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(JAe,{scope:n,value:s,disabled:i,textId:g,isSelected:u,onItemTextChange:B.useCallback(x=>{f(v=>v||((x==null?void 0:x.textContent)??"").trim())},[]),children:r.jsx(x1.ItemSlot,{scope:n,value:s,disabled:i,textValue:d,children:r.jsx(Ct.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:A,onFocus:et(o.onFocus,()=>m(!0)),onBlur:et(o.onBlur,()=>m(!1)),onClick:et(o.onClick,()=>{p.current!=="mouse"&&b()}),onPointerUp:et(o.onPointerUp,()=>{p.current==="mouse"&&b()}),onPointerDown:et(o.onPointerDown,x=>{p.current=x.pointerType}),onPointerMove:et(o.onPointerMove,x=>{var v;p.current=x.pointerType,i?(v=l.onItemLeave)==null||v.call(l):p.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:et(o.onPointerLeave,x=>{var v;x.currentTarget===document.activeElement&&((v=l.onItemLeave)==null||v.call(l))}),onKeyDown:et(o.onKeyDown,x=>{var y;((y=l.searchRef)==null?void 0:y.current)!==""&&x.key===" "||(FAe.includes(x.key)&&b(),x.key===" "&&x.preventDefault())})})})})});C$.displayName=my;var Xp="SelectItemText",N$=B.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,...a}=e,o=Yu(Xp,n),c=Zu(Xp,n),l=j$(Xp,n),u=$Ae(Xp,n),[d,f]=B.useState(null),h=dn(t,b=>f(b),l.onItemTextChange,b=>{var x;return(x=c.itemTextRefCallback)==null?void 0:x.call(c,b,l.value,l.disabled)}),m=d==null?void 0:d.textContent,A=B.useMemo(()=>r.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:p}=u;return Xr(()=>(g(A),()=>p(A)),[g,p,A]),r.jsxs(r.Fragment,{children:[r.jsx(Ct.span,{id:l.textId,...a,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?bo.createPortal(a.children,o.valueNode):null]})});N$.displayName=Xp;var S$="SelectItemIndicator",T$=B.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return j$(S$,n).isSelected?r.jsx(Ct.span,{"aria-hidden":!0,...s,ref:t}):null});T$.displayName=S$;var z4="SelectScrollUpButton",k$=B.forwardRef((e,t)=>{const n=Zu(z4,e.__scopeSelect),s=$5(z4,e.__scopeSelect),[i,a]=B.useState(!1),o=dn(t,s.onScrollButtonChange);return Xr(()=>{if(n.viewport&&n.isPositioned){let c=function(){const u=l.scrollTop>0;a(u)};const l=n.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?r.jsx(B$,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=n;c&&l&&(c.scrollTop=c.scrollTop-l.offsetHeight)}}):null});k$.displayName=z4;var V4="SelectScrollDownButton",_$=B.forwardRef((e,t)=>{const n=Zu(V4,e.__scopeSelect),s=$5(V4,e.__scopeSelect),[i,a]=B.useState(!1),o=dn(t,s.onScrollButtonChange);return Xr(()=>{if(n.viewport&&n.isPositioned){let c=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;a(d)};const l=n.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?r.jsx(B$,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=n;c&&l&&(c.scrollTop=c.scrollTop+l.offsetHeight)}}):null});_$.displayName=V4;var B$=B.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...i}=e,a=Zu("SelectScrollButton",n),o=B.useRef(null),c=b1(n),l=B.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return B.useEffect(()=>()=>l(),[l]),Xr(()=>{var d;const u=c().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[c]),r.jsx(Ct.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:et(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:et(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:et(i.onPointerLeave,()=>{l()})})}),ege="SelectSeparator",E$=B.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(Ct.div,{"aria-hidden":!0,...s,ref:t})});E$.displayName=ege;var K4="SelectArrow",tge=B.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=v1(n),a=Yu(K4,n),o=Zu(K4,n);return a.open&&o.position==="popper"?r.jsx(Fw,{...i,...s,ref:t}):null});tge.displayName=K4;var nge="SelectBubbleInput",P$=B.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const i=B.useRef(null),a=dn(s,i),o=m0(t);return B.useEffect(()=>{const c=i.current;if(!c)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(c,t),c.dispatchEvent(f)}},[o,t]),r.jsx(Ct.select,{...n,style:{...U7,...n.style},ref:a,defaultValue:t})});P$.displayName=nge;function M$(e){return e===""||e===void 0}function D$(e){const t=es(e),n=B.useRef(""),s=B.useRef(0),i=B.useCallback(o=>{const c=n.current+o;t(c),function l(u){n.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>l(""),1e3))}(c)},[t]),a=B.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return B.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,i,a]}function I$(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=rge(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function rge(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var sge=l$,O$=u$,ige=h$,age=f$,oge=m$,L$=p$,lge=b$,F$=w$,R$=C$,cge=N$,uge=T$,U$=k$,H$=_$,$$=E$;const mn=sge,pn=ige,cn=B.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(O$,{ref:s,className:Fe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(age,{asChild:!0,children:r.jsx(ml,{className:"h-4 w-4 opacity-50"})})]}));cn.displayName=O$.displayName;const Q$=B.forwardRef(({className:e,...t},n)=>r.jsx(U$,{ref:n,className:Fe("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Tm,{className:"h-4 w-4"})}));Q$.displayName=U$.displayName;const z$=B.forwardRef(({className:e,...t},n)=>r.jsx(H$,{ref:n,className:Fe("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(ml,{className:"h-4 w-4"})}));z$.displayName=H$.displayName;const un=B.forwardRef(({className:e,children:t,position:n="popper",...s},i)=>r.jsx(oge,{children:r.jsxs(L$,{ref:i,className:Fe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(Q$,{}),r.jsx(lge,{className:Fe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(z$,{})]})}));un.displayName=L$.displayName;const dge=B.forwardRef(({className:e,...t},n)=>r.jsx(F$,{ref:n,className:Fe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));dge.displayName=F$.displayName;const Qe=B.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(R$,{ref:s,className:Fe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(uge,{children:r.jsx(Sm,{className:"h-4 w-4"})})}),r.jsx(cge,{children:t})]}));Qe.displayName=R$.displayName;const hge=B.forwardRef(({className:e,...t},n)=>r.jsx($$,{ref:n,className:Fe("-mx-1 my-1 h-px bg-muted",e),...t}));hge.displayName=$$.displayName;var y1="Checkbox",[fge,hUe]=qs(y1),[mge,Q5]=fge(y1);function pge(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:i,disabled:a,form:o,name:c,onCheckedChange:l,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=na({prop:n,defaultProp:i??!1,onChange:l,caller:y1}),[A,g]=B.useState(null),[p,b]=B.useState(null),x=B.useRef(!1),v=A?!!o||!!A.closest("form"):!0,y={checked:h,disabled:a,setChecked:m,control:A,setControl:g,name:c,form:o,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:vu(i)?!1:i,isFormControl:v,bubbleInput:p,setBubbleInput:b};return r.jsx(mge,{scope:t,...y,children:Age(f)?f(y):s})}var V$="CheckboxTrigger",K$=B.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},i)=>{const{control:a,value:o,disabled:c,checked:l,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:A}=Q5(V$,e),g=dn(i,d),p=B.useRef(l);return B.useEffect(()=>{const b=a==null?void 0:a.form;if(b){const x=()=>f(p.current);return b.addEventListener("reset",x),()=>b.removeEventListener("reset",x)}},[a,f]),r.jsx(Ct.button,{type:"button",role:"checkbox","aria-checked":vu(l)?"mixed":l,"aria-required":u,"data-state":Y$(l),"data-disabled":c?"":void 0,disabled:c,value:o,...s,ref:g,onKeyDown:et(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:et(n,b=>{f(x=>vu(x)?!0:!x),A&&m&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})})});K$.displayName=V$;var z5=B.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:i,defaultChecked:a,required:o,disabled:c,value:l,onCheckedChange:u,form:d,...f}=e;return r.jsx(pge,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:c,required:o,onCheckedChange:u,name:s,form:d,value:l,internal_do_not_use_render:({isFormControl:h})=>r.jsxs(r.Fragment,{children:[r.jsx(K$,{...f,ref:t,__scopeCheckbox:n}),h&&r.jsx(X$,{__scopeCheckbox:n})]})})});z5.displayName=y1;var G$="CheckboxIndicator",W$=B.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...i}=e,a=Q5(G$,n);return r.jsx(_s,{present:s||vu(a.checked)||a.checked===!0,children:r.jsx(Ct.span,{"data-state":Y$(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});W$.displayName=G$;var q$="CheckboxBubbleInput",X$=B.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:c,disabled:l,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=Q5(q$,e),A=dn(n,m),g=m0(a),p=Iw(s);B.useEffect(()=>{const x=h;if(!x)return;const v=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(v,"checked").set,P=!i.current;if(g!==a&&N){const M=new Event("click",{bubbles:P});x.indeterminate=vu(a),N.call(x,vu(a)?!1:a),x.dispatchEvent(M)}},[h,g,a,i]);const b=B.useRef(vu(a)?!1:a);return r.jsx(Ct.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:c,disabled:l,name:u,value:d,form:f,...t,tabIndex:-1,ref:A,style:{...t.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});X$.displayName=q$;function Age(e){return typeof e=="function"}function vu(e){return e==="indeterminate"}function Y$(e){return vu(e)?"indeterminate":e?"checked":"unchecked"}const Vs=B.forwardRef(({className:e,...t},n)=>r.jsx(z5,{ref:n,className:Fe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(W$,{className:Fe("flex items-center justify-center text-current"),children:r.jsx(Sm,{className:"h-4 w-4"})})}));Vs.displayName=z5.displayName;const Z$=[{name:"red",displayName:"Đỏ",ranges:[{minHex:"CC0000",maxHex:"FF3333"},{minHex:"FF0000",maxHex:"FF6666"},{minHex:"B22222",maxHex:"DC143C"}],previewColor:"#FF0000",gradientColors:["#8B0000","#FF0000","#FF6B6B"]},{name:"blue",displayName:"Xanh dương",ranges:[{minHex:"0000CC",maxHex:"3333FF"},{minHex:"0066CC",maxHex:"3399FF"},{minHex:"000080",maxHex:"4169E1"}],previewColor:"#0066FF",gradientColors:["#000080","#0066FF","#87CEEB"]},{name:"green",displayName:"Xanh lá",ranges:[{minHex:"00CC00",maxHex:"33FF33"},{minHex:"228B22",maxHex:"32CD32"},{minHex:"006400",maxHex:"90EE90"}],previewColor:"#00CC00",gradientColors:["#006400","#00CC00","#90EE90"]},{name:"yellow",displayName:"Vàng",ranges:[{minHex:"CCCC00",maxHex:"FFFF33"},{minHex:"FFD700",maxHex:"FFFF99"},{minHex:"FFA500",maxHex:"FFFF00"}],previewColor:"#FFFF00",gradientColors:["#B8860B","#FFD700","#FFFFE0"]},{name:"purple",displayName:"Tím",ranges:[{minHex:"6600CC",maxHex:"9933FF"},{minHex:"800080",maxHex:"DA70D6"},{minHex:"4B0082",maxHex:"9370DB"}],previewColor:"#8000FF",gradientColors:["#4B0082","#8000FF","#DDA0DD"]},{name:"orange",displayName:"Cam",ranges:[{minHex:"FF6600",maxHex:"FF9933"},{minHex:"FF4500",maxHex:"FFA500"},{minHex:"CC3300",maxHex:"FF7F50"}],previewColor:"#FF6600",gradientColors:["#CC3300","#FF6600","#FFB07A"]},{name:"pink",displayName:"Hồng",ranges:[{minHex:"FF66CC",maxHex:"FF99DD"},{minHex:"FF1493",maxHex:"FFB6C1"},{minHex:"FF69B4",maxHex:"FFC0CB"}],previewColor:"#FF69B4",gradientColors:["#C91E6A","#FF69B4","#FFB6C1"]},{name:"brown",displayName:"Nâu",ranges:[{minHex:"8B4513",maxHex:"D2691E"},{minHex:"A0522D",maxHex:"CD853F"},{minHex:"654321",maxHex:"DEB887"}],previewColor:"#8B4513",gradientColors:["#654321","#8B4513","#D2B48C"]},{name:"gray",displayName:"Xám",ranges:[{minHex:"666666",maxHex:"CCCCCC"},{minHex:"808080",maxHex:"D3D3D3"},{minHex:"2F2F2F",maxHex:"A9A9A9"}],previewColor:"#808080",gradientColors:["#2F2F2F","#808080","#D3D3D3"]},{name:"black",displayName:"Đen",ranges:[{minHex:"000000",maxHex:"333333"},{minHex:"000000",maxHex:"2F2F2F"}],previewColor:"#000000",gradientColors:["#000000","#2F2F2F","#696969"]},{name:"white",displayName:"Trắng",ranges:[{minHex:"CCCCCC",maxHex:"FFFFFF"},{minHex:"F0F0F0",maxHex:"FFFFFF"}],previewColor:"#FFFFFF",gradientColors:["#E5E5E5","#F8F8F8","#FFFFFF"]}],jj=e=>{const t=e.replace("#","").toUpperCase();if(t.length!==6)return null;const n=parseInt(t.substring(0,2),16),s=parseInt(t.substring(2,4),16),i=parseInt(t.substring(4,6),16);return{r:n,g:s,b:i}},gge=(e,t,n)=>{const s=jj(e),i=jj(t),a=jj(n);return!s||!i||!a?!1:s.r>=i.r&&s.r<=a.r&&s.g>=i.g&&s.g<=a.g&&s.b>=i.b&&s.b<=a.b},xge=e=>{const t=e.replace("#","").toUpperCase();for(const n of Z$)for(const s of n.ranges)if(gge(t,s.minHex,s.maxHex))return n.name;return null},bge=({selectedColorRanges:e,onColorRangeChange:t})=>r.jsxs("div",{children:[r.jsx(De,{className:"text-lg font-medium mb-4 block",children:"Phổ Màu"}),r.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-3",children:Z$.map(n=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Vs,{id:`color-range-${n.name}`,checked:e.includes(n.name),onCheckedChange:()=>t(n.name),"aria-label":`Chọn phổ màu ${n.displayName}`,className:"flex-shrink-0"}),r.jsx("div",{className:"w-12 h-5 rounded-md border border-gray-300 shadow-sm flex-shrink-0",style:{background:`linear-gradient(to right, ${n.gradientColors[0]} 0%, ${n.gradientColors[1]} 50%, ${n.gradientColors[2]} 100%)`,...n.name==="white"&&{border:"2px solid #d1d5db"}},title:`Phổ màu ${n.displayName}`}),r.jsx("label",{htmlFor:`color-range-${n.name}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer flex-1 truncate",children:n.displayName})]},n.name))})]}),bx=(e,t)=>we.fire({title:t==="error"?"Lỗi!":t==="warning"?"Cảnh báo!":"Thành công!",text:e,icon:t,timer:2e3,timerProgressBar:!0,showConfirmButton:!1}),vge=()=>{const e=gr(),t=Bs(),[n,s]=B.useState([]),[i,a]=B.useState([]),[o,c]=B.useState(!0),[l,u]=B.useState(null),[d,f]=B.useState(""),[h,m]=B.useState([]),[A,g]=B.useState([]),[p,b]=B.useState([]),[x,v]=B.useState([]),[y,N]=B.useState([0,1/0]),[P,M]=B.useState("name_asc"),[k,D]=B.useState(!1),[O,L]=B.useState("grid"),[F,_]=B.useState(1),E=6;B.useEffect(()=>{(async()=>{try{c(!0);const K=await fetch("https://bicacuatho.azurewebsites.net/api/SanPham/ListSanPham",{headers:{Accept:"application/json"}});if(!K.ok)throw new Error(`Lỗi ${K.status}: Không thể tải danh sách sản phẩm`);const ne=await K.json(),ue=await fetch("https://bicacuatho.azurewebsites.net/api/Comment/list");if(!ue.ok)throw new Error("Không thể tải bình luận");const se=await ue.json();let ie={};try{const re=localStorage.getItem("user");ie=re?JSON.parse(re):{}}catch(re){console.error("Lỗi parse user data:",re)}const q=ie==null?void 0:ie.maNguoiDung;let Z=[];if(q){const re=await fetch("https://bicacuatho.azurewebsites.net/api/YeuThich",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});re.ok&&(Z=await re.json())}const te=ne.map(re=>{const Y=re.id.split("_")[0]||re.id,oe=se.filter(pe=>pe.maSanPham===Y&&pe.trangThai===1),ae=oe.reduce((pe,Ae)=>pe+(Ae.danhGia||0),0),ce=oe.length>0?ae/oe.length:0,de=Z.find(pe=>pe.maSanPham===Y&&pe.maNguoiDung===q);return{id:re.id,name:re.name,description:re.moTa||`Thương hiệu: ${re.thuongHieu||"Không xác định"} <br/> Chất liệu: ${re.chatLieu||"Không xác định"}`,imageSrc:re.hinh[0]?`data:image/jpeg;base64,${re.hinh[0]}`:"https://via.placeholder.com/300",price:re.donGia,category:re.loaiSanPham||"Không xác định",thuongHieu:re.thuongHieu||"Không xác định",chatLieu:re.chatLieu||"Không xác định",kichThuoc:re.kichThuoc||[],mauSac:re.mauSac||[],averageRating:ce,commentCount:oe.length,isFavorite:!!de,hot:re.hot||!1,likedId:de==null?void 0:de.maYeuThich,hashtags:re.listHashTag||[],gioiTinh:re.gioiTinh||"Không xác định",trangThai:re.trangThai||0,khuyenMaiMax:re.khuyenMaiMax||0}});s(te),a(te),N([Math.floor(Math.min(...te.map(re=>re.price))),Math.ceil(Math.max(...te.map(re=>re.price)))]),u(null)}catch(K){const ne=K instanceof Error?K.message:"Lỗi không xác định";console.error("Lỗi khi lấy sản phẩm:",ne),u("Không thể tải sản phẩm. Vui lòng kiểm tra kết nối và thử lại."),ir({title:"Lỗi",description:ne,variant:"destructive"})}finally{c(!1)}})()},[]),B.useEffect(()=>{const K=new URLSearchParams(t.search).get("category");K&&!p.includes(K)?b([K]):!K&&p.length>0&&b([])},[t.search]),B.useEffect(()=>{_(1)},[i]);const T=B.useMemo(()=>[...new Set(n.map(ee=>ee.thuongHieu))].sort(),[n]),w=B.useMemo(()=>[...new Set(n.map(ee=>ee.category))].sort(),[n]),C=B.useMemo(()=>[...new Set(n.map(ee=>ee.gioiTinh))].sort(),[n]),j=B.useMemo(()=>Math.floor(Math.min(...n.map(ee=>ee.price))||0),[n]),S=B.useMemo(()=>Math.ceil(Math.max(...n.map(ee=>ee.price))||1/0),[n]);B.useEffect(()=>{let ee=[...n];if(d){const K=d.toLowerCase().trim();ee=ee.filter(ne=>ne.name.toLowerCase().includes(K)||ne.description.toLowerCase().includes(K))}h.length>0&&(ee=ee.filter(K=>K.mauSac.some(ne=>{const ue=xge(ne);return ue&&h.includes(ue)}))),A.length>0&&(ee=ee.filter(K=>A.includes(K.thuongHieu))),p.length>0&&(ee=ee.filter(K=>p.includes(K.category))),x.length>0&&(ee=ee.filter(K=>x.includes(K.gioiTinh))),ee=ee.filter(K=>K.price>=y[0]&&K.price<=y[1]),ee.sort((K,ne)=>{switch(P){case"name_asc":return K.name.localeCompare(ne.name);case"name_desc":return ne.name.localeCompare(K.name);case"price_asc":return K.price-ne.price;case"price_desc":return ne.price-K.price;case"rating_desc":return ne.averageRating-K.averageRating;default:return 0}}),a(ee)},[n,d,h,A,p,x,y,P]);const I=F*E,R=I-E,U=i.slice(R,I),z=Math.ceil(i.length/E),V=ee=>{m(K=>K.includes(ee)?K.filter(ne=>ne!==ee):[...K,ee])},X=ee=>{g(K=>K.includes(ee)?K.filter(ne=>ne!==ee):[...K,ee])},$=ee=>{b(K=>K.includes(ee)?K.filter(ne=>ne!==ee):[...K,ee])},W=ee=>{v(K=>K.includes(ee)?K.filter(ne=>ne!==ee):[...K,ee])},H=()=>{f(""),m([]),g([]),b([]),v([]),N([j,S]),M("name_asc"),D(!1),ir({title:"Đã xóa bộ lọc",description:"Tất cả bộ lọc đã được đặt lại về mặc định."})},Q=()=>{D(!1),ir({title:"Đã áp dụng bộ lọc",description:"Bộ lọc sản phẩm của bạn đã được áp dụng."})},G=async ee=>{try{const K=n.find(ie=>ie.id===ee);let ne={};try{const ie=localStorage.getItem("user");ne=ie?JSON.parse(ie):{}}catch(ie){console.error("Lỗi parse user data:",ie)}const ue=ne==null?void 0:ne.maNguoiDung,se=ne==null?void 0:ne.hoTen;if(!ue){bx("Vui lòng đăng nhập để thêm sản phẩm vào danh sách yêu thích!","warning").then(()=>{e("/auth/login")});return}if(K!=null&&K.isFavorite){if(!(await fetch(`https://bicacuatho.azurewebsites.net/api/YeuThich/${K.likedId}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Không thể xóa sản phẩm khỏi danh sách yêu thích");s(q=>q.map(Z=>Z.id===ee?{...Z,isFavorite:!1,likedId:void 0}:Z)),a(q=>q.map(Z=>Z.id===ee?{...Z,isFavorite:!1,likedId:void 0}:Z)),bx("Đã xóa sản phẩm khỏi danh sách yêu thích!","success")}else{const ie={maSanPham:ee.split("_")[0]||ee,tenSanPham:K==null?void 0:K.name,maNguoiDung:ue,hoTen:se,soLuongYeuThich:1,ngayYeuThich:new Date().toISOString()},q=await fetch("https://bicacuatho.azurewebsites.net/api/YeuThich",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(ie)});if(!q.ok)throw new Error("Không thể thêm sản phẩm vào danh sách yêu thích");const Z=await q.json();s(te=>te.map(re=>re.id===ee?{...re,isFavorite:!0,likedId:Z.maYeuThich}:re)),a(te=>te.map(re=>re.id===ee?{...re,isFavorite:!0,likedId:Z.maYeuThich}:re)),bx("Đã thêm sản phẩm vào danh sách yêu thích!","success")}}catch(K){console.error("Lỗi khi cập nhật yêu thích:",K),bx("Có lỗi xảy ra khi cập nhật yêu thích!","error")}},J=[d,h.length>0?"colors":null,A.length>0?"brands":null,p.length>0?"categories":null,x.length>0?"genders":null,y[0]>j||y[1]<S?"price":null].filter(Boolean).length;return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100",children:r.jsxs("div",{className:"container px-4 md:px-6 mx-auto max-w-7xl py-8",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-8",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsxs(fe,{variant:"outline",onClick:()=>D(!0),className:"h-12 px-6 rounded-full border-2 hover:border-purple-500 hover:text-purple-600 hover:bg-purple-50 transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:[r.jsx(Zd,{className:"h-4 w-4 mr-2"}),"Bộ lọc nâng cao",J>0&&r.jsx(Kt,{className:"ml-2 bg-red-500 animate-pulse",children:J})]}),r.jsxs(mn,{value:P,onValueChange:M,children:[r.jsxs(cn,{className:"w-60 h-12 rounded-full border-2 shadow-md",children:[r.jsx(dL,{className:"h-4 w-4 mr-2"}),r.jsx(pn,{})]}),r.jsxs(un,{children:[r.jsx(Qe,{value:"name_asc",children:"Tên: A đến Z"}),r.jsx(Qe,{value:"name_desc",children:"Tên: Z đến A"}),r.jsx(Qe,{value:"price_asc",children:"Giá: Thấp đến Cao"}),r.jsx(Qe,{value:"price_desc",children:"Giá: Cao đến Thấp"}),r.jsx(Qe,{value:"rating_desc",children:"Đánh giá cao nhất"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center border-2 rounded-full p-1 bg-white shadow-md",children:[r.jsx(fe,{variant:O==="grid"?"default":"ghost",size:"sm",onClick:()=>L("grid"),className:"rounded-full",children:r.jsx(gL,{className:"h-4 w-4"})}),r.jsx(fe,{variant:O==="list"?"default":"ghost",size:"sm",onClick:()=>L("list"),className:"rounded-full",children:r.jsx(Jg,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"text-sm text-gray-600 flex items-center bg-white px-4 py-2 rounded-full shadow-md",children:[r.jsx(Id,{className:"h-4 w-4 mr-2 text-green-500"}),r.jsx("span",{className:"font-bold text-purple-600",children:i.length}),r.jsx("span",{className:"ml-1",children:"sản phẩm"})]})]})]}),k&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>D(!1),children:r.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden m-4",onClick:ee=>ee.stopPropagation(),children:[r.jsxs("div",{className:"flex justify-between items-center p-8 bg-gradient-to-r from-purple-600 via-pink-500 to-indigo-600 text-white",children:[r.jsxs("h2",{className:"text-3xl font-bold flex items-center",children:[r.jsx(kT,{className:"h-8 w-8 mr-3"}),"Bộ Lọc Thông Minh"]}),r.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>D(!1),className:"text-white hover:bg-white/20 rounded-full w-12 h-12",children:r.jsx(st,{className:"h-6 w-6"})})]}),r.jsx("div",{className:"p-8 overflow-y-auto max-h-[calc(90vh-220px)]",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs(De,{className:"text-xl font-bold text-gray-800 flex items-center",children:[r.jsx(hr,{className:"h-6 w-6 mr-3 text-purple-600"}),"Danh Mục Sản Phẩm"]}),r.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6",children:r.jsx("div",{className:"space-y-4",children:w.map(ee=>r.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-xl hover:bg-white/80 transition-colors",children:[r.jsx(Vs,{id:`category-${ee}`,checked:p.includes(ee),onCheckedChange:()=>$(ee),className:"rounded-md w-5 h-5"}),r.jsx("label",{htmlFor:`category-${ee}`,className:"text-sm font-medium cursor-pointer flex-1",children:ee})]},ee))})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(De,{className:"text-xl font-bold text-gray-800 flex items-center",children:[r.jsx(W2,{className:"h-6 w-6 mr-3 text-blue-600"}),"Thương Hiệu"]}),r.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-6 max-h-80 overflow-y-auto",children:r.jsx("div",{className:"space-y-4",children:T.map(ee=>r.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-xl hover:bg-white/80 transition-colors",children:[r.jsx(Vs,{id:`brand-${ee}`,checked:A.includes(ee),onCheckedChange:()=>X(ee),className:"rounded-md w-5 h-5"}),r.jsx("label",{htmlFor:`brand-${ee}`,className:"text-sm font-medium cursor-pointer flex-1",children:ee})]},ee))})})]}),r.jsx("div",{className:"space-y-6",children:r.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl p-6",children:r.jsx(bge,{selectedColorRanges:h,onColorRangeChange:V})})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(De,{className:"text-xl font-bold text-gray-800 flex items-center",children:[r.jsx(ET,{className:"h-6 w-6 mr-3 text-pink-600"}),"Giới Tính"]}),r.jsx("div",{className:"bg-gradient-to-br from-pink-50 to-rose-50 rounded-2xl p-6",children:r.jsx("div",{className:"space-y-4",children:C.map(ee=>r.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-xl hover:bg-white/80 transition-colors",children:[r.jsx(Vs,{id:`gender-${ee}`,checked:x.includes(ee),onCheckedChange:()=>W(ee),className:"rounded-md w-5 h-5"}),r.jsx("label",{htmlFor:`gender-${ee}`,className:"text-sm font-medium cursor-pointer flex-1",children:ee})]},ee))})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx(De,{className:"text-xl font-bold text-gray-800",children:"Khoảng Giá"}),r.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-2xl p-6",children:r.jsxs(mn,{onValueChange:ee=>{switch(ee){case"all":N([j,S]);break;case"under-100000":N([0,1e5]);break;case"100000-200000":N([1e5,2e5]);break;case"200000-500000":N([2e5,5e5]);break;case"over-500000":N([5e5,S]);break}},children:[r.jsx(cn,{className:"w-full h-12 rounded-xl border-2",children:r.jsx(pn,{placeholder:"Chọn khoảng giá"})}),r.jsxs(un,{children:[r.jsx(Qe,{value:"all",children:"Tất cả giá"}),r.jsx(Qe,{value:"under-100000",children:"Dưới 100,000 VND"}),r.jsx(Qe,{value:"100000-200000",children:"100,000 - 200,000 VND"}),r.jsx(Qe,{value:"200000-500000",children:"200,000 - 500,000 VND"}),r.jsx(Qe,{value:"over-500000",children:"Trên 500,000 VND"})]})]})})]})]})}),r.jsxs("div",{className:"flex justify-between items-center p-8 bg-gray-50 border-t",children:[r.jsx(fe,{variant:"outline",onClick:H,className:"px-8 h-12 rounded-xl border-2 hover:bg-red-50 hover:border-red-300 hover:text-red-600",children:"Xóa Tất Cả Bộ Lọc"}),r.jsx(fe,{onClick:Q,className:"px-12 h-12 rounded-xl bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"Áp Dụng Bộ Lọc"})]})]})}),l?r.jsx("div",{className:"py-20 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-3xl shadow-xl p-12",children:[r.jsx("div",{className:"text-8xl mb-6",children:"😔"}),r.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Oops! Có lỗi xảy ra"}),r.jsx("p",{className:"text-gray-600 mb-6",children:l}),r.jsx(fe,{onClick:()=>window.location.reload(),className:"rounded-full px-8",children:"Thử lại"})]})}):o?r.jsxs("div",{className:"py-20 text-center",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"animate-spin h-16 w-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-6"}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx(ha,{className:"h-6 w-6 text-purple-500 animate-pulse"})})]}),r.jsx("p",{className:"text-xl text-gray-600 font-medium",children:"Đang tải sản phẩm thời trang tuyệt vời..."})]}):i.length===0?r.jsx("div",{className:"py-20 text-center",children:r.jsxs("div",{className:"max-w-lg mx-auto bg-white rounded-3xl shadow-xl p-12",children:[r.jsx("div",{className:"text-8xl mb-6",children:"🔍"}),r.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Không tìm thấy sản phẩm"}),r.jsx("p",{className:"text-gray-600 mb-8",children:"Hãy thử điều chỉnh tiêu chí tìm kiếm hoặc bộ lọc để tìm được sản phẩm phù hợp"}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsx(fe,{onClick:H,className:"rounded-full px-8",children:"Xóa Tất Cả Bộ Lọc"}),r.jsx(fe,{variant:"outline",className:"rounded-full px-8",children:"Xem sản phẩm hot"})]})]})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-8 flex items-center justify-between bg-white rounded-2xl shadow-lg p-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(hr,{className:"h-5 w-5 text-green-500"}),r.jsxs("span",{className:"text-lg font-semibold text-gray-800",children:["Hiển thị ",r.jsx("span",{className:"text-purple-600 font-bold",children:i.length})," sản phẩm"]})]}),J>0&&r.jsxs(Kt,{className:"bg-purple-100 text-purple-700 hover:bg-purple-100",children:[J," bộ lọc đang áp dụng"]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(fe,{variant:"ghost",size:"sm",className:"text-gray-500 hover:text-purple-600",children:"Chia sẻ kết quả"})})]}),r.jsx("div",{className:O==="grid"?"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8":"space-y-6",children:U.map(ee=>r.jsxs(it,{className:`overflow-hidden group hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 border-0 shadow-lg bg-white ${O==="list"?"flex flex-col md:flex-row":""}`,style:{height:"750px"},children:[r.jsxs("div",{className:`relative ${O==="list"?"md:w-1/3 aspect-video md:aspect-square":"aspect-square"}`,children:[r.jsx(ct,{to:`/products/${ee.id}`,children:r.jsx("img",{src:ee.imageSrc,alt:ee.name,className:"h-full w-full object-cover transition-transform duration-700 group-hover:scale-110",loading:"lazy"})}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),r.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[ee.khuyenMaiMax&&ee.khuyenMaiMax>0?r.jsxs("div",{className:"absolute top-4 left-4 bg-gradient-to-br from-red-500 to-red-600 text-white p-3 min-w-[80px] min-h-[80px] flex flex-col items-center justify-center shadow-lg z-10",children:[r.jsx("div",{className:"text-xs font-medium leading-tight text-center",children:"Giảm"}),r.jsxs("div",{className:"text-lg font-bold leading-none",children:[ee.khuyenMaiMax,"%"]})]}):null,ee.hot&&ee.trangThai===1?r.jsxs(Kt,{className:"bg-gradient-to-r from-red-500 to-pink-500 text-white font-bold px-3 py-1 rounded-full animate-pulse shadow-lg",children:[r.jsx(_L,{className:"h-3 w-3 mr-1"}),"Hot"]}):ee.trangThai!==1?r.jsx(Kt,{className:"bg-gray-500 text-white px-3 py-1 rounded-full",children:"Ngừng bán"}):null]}),r.jsx(fe,{variant:"secondary",size:"icon",className:"absolute top-4 right-4 w-12 h-12 rounded-full bg-white/95 backdrop-blur-sm shadow-lg hover:bg-white hover:scale-110 transition-all duration-300 border-2 border-transparent hover:border-red-200",onClick:()=>G(ee.id),children:r.jsx(di,{className:`h-5 w-5 transition-all duration-300 ${ee.isFavorite?"fill-red-500 text-red-500 scale-110":"text-gray-600"}`})})]}),r.jsx(dt,{className:`p-6 ${O==="list"?"md:w-2/3 flex-1":""}`,children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex items-center",children:[...Array(5)].map((K,ne)=>r.jsx(Lr,{className:`h-4 w-4 ${ne<Math.floor(ee.averageRating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},ne))}),r.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["(",ee.commentCount,")"]})]}),ee.averageRating>=4.5&&r.jsxs(Kt,{className:"bg-yellow-100 text-yellow-700",children:[r.jsx(W2,{className:"h-3 w-3 mr-1"}),"Top rated"]})]}),r.jsx(ct,{to:`/products/${ee.id}`,className:"block group-hover:text-purple-600 transition-colors",children:r.jsx("h3",{className:"font-bold text-lg text-gray-800 line-clamp-2 leading-tight hover:text-purple-600 transition-colors",children:ee.name})}),r.jsx("div",{className:"flex items-baseline gap-3",children:ee.khuyenMaiMax&&ee.khuyenMaiMax>0?r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:"text-lg line-through text-gray-500",children:[ee.price.toLocaleString("vi-VN")," VND"]}),r.jsxs("span",{className:"text-2xl font-bold text-red-600",children:[(ee.price*(1-ee.khuyenMaiMax/100)).toLocaleString("vi-VN")," VND"]})]}):r.jsxs("span",{className:"text-2xl font-bold text-red-600",children:[ee.price.toLocaleString("vi-VN")," VND"]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Màu sắc:"}),r.jsxs("div",{className:"flex gap-1",children:[ee.mauSac.slice(0,4).map(K=>r.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white shadow-md hover:scale-110 transition-transform cursor-pointer",style:{backgroundColor:`#${K}`},title:`Màu #${K}`},K)),ee.mauSac.length>4&&r.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 border-2 border-white shadow-md flex items-center justify-center",children:r.jsxs("span",{className:"text-xs font-bold text-gray-600",children:["+",ee.mauSac.length-4]})})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[ee.hashtags.slice(0,3).map(K=>r.jsxs(Kt,{className:"bg-blue-50 text-blue-600 hover:bg-blue-100 border-blue-200 text-xs px-2 py-1",children:["#",K.name]},K.id)),ee.hashtags.length>3&&r.jsxs(Kt,{variant:"outline",className:"text-xs px-2 py-1",children:["+",ee.hashtags.length-3]})]}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.jsx(Kt,{className:"bg-green-50 text-green-700 hover:bg-green-100 border-green-200 text-xs",children:ee.category}),r.jsx(Kt,{className:"bg-purple-50 text-purple-700 hover:bg-purple-100 border-purple-200 text-xs",children:ee.chatLieu}),r.jsx(Kt,{className:"bg-pink-50 text-pink-700 hover:bg-pink-100 border-pink-200 text-xs",children:ee.gioiTinh})]}),r.jsx("div",{className:"flex gap-3 pt-2 absolute bottom-4 right-4 left-4",children:r.jsx(fe,{asChild:!0,variant:"outline",size:"sm",className:"flex-1 rounded-full hover:bg-purple-50 hover:border-purple-300 hover:text-purple-600 transition-all duration-300 transform hover:scale-105",children:r.jsxs(ct,{to:`/products/${ee.id}`,children:[r.jsx(Un,{className:"h-4 w-4 mr-2"}),"Chi tiết"]})})})]})})]},ee.id))}),z>1&&r.jsxs("div",{className:"mt-8 flex justify-center gap-4",children:[r.jsx(fe,{disabled:F===1,onClick:()=>_(ee=>Math.max(ee-1,1)),variant:"outline",className:"rounded-full",children:"Trước"}),r.jsxs("span",{className:"flex items-center text-gray-600",children:["Trang ",F," / ",z]}),r.jsx(fe,{disabled:F===z,onClick:()=>_(ee=>Math.min(ee+1,z)),variant:"outline",className:"rounded-full",children:"Sau"})]})]}),i.length>0&&r.jsxs("div",{className:"mt-20 bg-gradient-to-r from-purple-100 via-pink-50 to-indigo-100 rounded-3xl p-12 shadow-xl",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Thống Kê Sản Phẩm"}),r.jsx("p",{className:"text-gray-600",children:"Khám phá những con số thú vị về bộ sưu tập của chúng tôi"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsxs("div",{className:"text-center bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-purple-100 rounded-full mb-4",children:r.jsx(hr,{className:"h-8 w-8 text-purple-600"})}),r.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:i.length}),r.jsx("div",{className:"text-gray-600 font-medium",children:"Sản phẩm hiện có"})]}),r.jsxs("div",{className:"text-center bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-indigo-100 rounded-full mb-4",children:r.jsx(Lr,{className:"h-8 w-8 text-indigo-600"})}),r.jsx("div",{className:"text-3xl font-bold text-indigo-600 mb-2",children:i.length>0?Math.round(i.reduce((ee,K)=>ee+K.averageRating,0)/i.length*10)/10:0}),r.jsx("div",{className:"text-gray-600 font-medium",children:"Đánh giá trung bình"})]}),r.jsxs("div",{className:"text-center bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:r.jsx(W2,{className:"h-8 w-8 text-green-600"})}),r.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:T.length}),r.jsx("div",{className:"text-gray-600 font-medium",children:"Thương hiệu"})]}),r.jsxs("div",{className:"text-center bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-orange-100 rounded-full mb-4",children:r.jsx(Id,{className:"h-8 w-8 text-orange-600"})}),r.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:i.filter(ee=>ee.hot).length}),r.jsx("div",{className:"text-gray-600 font-medium",children:"Sản phẩm hot"})]})]})]}),r.jsx(fe,{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-8 right-8 w-14 h-14 rounded-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 shadow-2xl hover:shadow-3xl transition-all duration-300 transform hover:scale-110 z-40",size:"icon",children:r.jsx(Id,{className:"h-6 w-6 rotate-180"})})]})})};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:J$,setPrototypeOf:uE,isFrozen:yge,getPrototypeOf:wge,getOwnPropertyDescriptor:jge}=Object;let{freeze:Ti,seal:Ka,create:eQ}=Object,{apply:G4,construct:W4}=typeof Reflect<"u"&&Reflect;Ti||(Ti=function(t){return t});Ka||(Ka=function(t){return t});G4||(G4=function(t,n,s){return t.apply(n,s)});W4||(W4=function(t,n){return new t(...n)});const vx=ki(Array.prototype.forEach),Cge=ki(Array.prototype.lastIndexOf),dE=ki(Array.prototype.pop),fp=ki(Array.prototype.push),Nge=ki(Array.prototype.splice),Xb=ki(String.prototype.toLowerCase),Cj=ki(String.prototype.toString),hE=ki(String.prototype.match),mp=ki(String.prototype.replace),Sge=ki(String.prototype.indexOf),Tge=ki(String.prototype.trim),to=ki(Object.prototype.hasOwnProperty),pi=ki(RegExp.prototype.test),pp=kge(TypeError);function ki(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];return G4(e,t,s)}}function kge(e){return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return W4(e,n)}}function Pn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Xb;uE&&uE(e,null);let s=t.length;for(;s--;){let i=t[s];if(typeof i=="string"){const a=n(i);a!==i&&(yge(t)||(t[s]=a),i=a)}e[i]=!0}return e}function _ge(e){for(let t=0;t<e.length;t++)to(e,t)||(e[t]=null);return e}function Pl(e){const t=eQ(null);for(const[n,s]of J$(e))to(e,n)&&(Array.isArray(s)?t[n]=_ge(s):s&&typeof s=="object"&&s.constructor===Object?t[n]=Pl(s):t[n]=s);return t}function Ap(e,t){for(;e!==null;){const s=jge(e,t);if(s){if(s.get)return ki(s.get);if(typeof s.value=="function")return ki(s.value)}e=wge(e)}function n(){return null}return n}const fE=Ti(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Nj=Ti(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Sj=Ti(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Bge=Ti(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Tj=Ti(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Ege=Ti(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),mE=Ti(["#text"]),pE=Ti(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),kj=Ti(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),AE=Ti(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),yx=Ti(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Pge=Ka(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Mge=Ka(/<%[\w\W]*|[\w\W]*%>/gm),Dge=Ka(/\$\{[\w\W]*/gm),Ige=Ka(/^data-[\-\w.\u00B7-\uFFFF]+$/),Oge=Ka(/^aria-[\-\w]+$/),tQ=Ka(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Lge=Ka(/^(?:\w+script|data):/i),Fge=Ka(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),nQ=Ka(/^html$/i),Rge=Ka(/^[a-z][.\w]*(-[.\w]+)+$/i);var gE=Object.freeze({__proto__:null,ARIA_ATTR:Oge,ATTR_WHITESPACE:Fge,CUSTOM_ELEMENT:Rge,DATA_ATTR:Ige,DOCTYPE_NAME:nQ,ERB_EXPR:Mge,IS_ALLOWED_URI:tQ,IS_SCRIPT_OR_DATA:Lge,MUSTACHE_EXPR:Pge,TMPLIT_EXPR:Dge});const gp={element:1,text:3,progressingInstruction:7,comment:8,document:9},Uge=function(){return typeof window>"u"?null:window},Hge=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let s=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(s=n.getAttribute(i));const a="dompurify"+(s?"#"+s:"");try{return t.createPolicy(a,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},xE=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function rQ(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Uge();const t=vt=>rQ(vt);if(t.version="3.2.6",t.removed=[],!e||!e.document||e.document.nodeType!==gp.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const s=n,i=s.currentScript,{DocumentFragment:a,HTMLTemplateElement:o,Node:c,Element:l,NodeFilter:u,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:f,DOMParser:h,trustedTypes:m}=e,A=l.prototype,g=Ap(A,"cloneNode"),p=Ap(A,"remove"),b=Ap(A,"nextSibling"),x=Ap(A,"childNodes"),v=Ap(A,"parentNode");if(typeof o=="function"){const vt=n.createElement("template");vt.content&&vt.content.ownerDocument&&(n=vt.content.ownerDocument)}let y,N="";const{implementation:P,createNodeIterator:M,createDocumentFragment:k,getElementsByTagName:D}=n,{importNode:O}=s;let L=xE();t.isSupported=typeof J$=="function"&&typeof v=="function"&&P&&P.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:F,ERB_EXPR:_,TMPLIT_EXPR:E,DATA_ATTR:T,ARIA_ATTR:w,IS_SCRIPT_OR_DATA:C,ATTR_WHITESPACE:j,CUSTOM_ELEMENT:S}=gE;let{IS_ALLOWED_URI:I}=gE,R=null;const U=Pn({},[...fE,...Nj,...Sj,...Tj,...mE]);let z=null;const V=Pn({},[...pE,...kj,...AE,...yx]);let X=Object.seal(eQ(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),$=null,W=null,H=!0,Q=!0,G=!1,J=!0,ee=!1,K=!0,ne=!1,ue=!1,se=!1,ie=!1,q=!1,Z=!1,te=!0,re=!1;const Y="user-content-";let oe=!0,ae=!1,ce={},de=null;const pe=Pn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ae=null;const le=Pn({},["audio","video","img","source","image","track"]);let he=null;const me=Pn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ve="http://www.w3.org/1998/Math/MathML",_e="http://www.w3.org/2000/svg",Te="http://www.w3.org/1999/xhtml";let Ue=Te,Ee=!1,Me=null;const Ie=Pn({},[ve,_e,Te],Cj);let Ce=Pn({},["mi","mo","mn","ms","mtext"]),Pe=Pn({},["annotation-xml"]);const ge=Pn({},["title","style","font","a","script"]);let Ne=null;const ke=["application/xhtml+xml","text/html"],ze="text/html";let Re=null,Ve=null;const rt=n.createElement("form"),Dt=function(Be){return Be instanceof RegExp||Be instanceof Function},xt=function(){let Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ve&&Ve===Be)){if((!Be||typeof Be!="object")&&(Be={}),Be=Pl(Be),Ne=ke.indexOf(Be.PARSER_MEDIA_TYPE)===-1?ze:Be.PARSER_MEDIA_TYPE,Re=Ne==="application/xhtml+xml"?Cj:Xb,R=to(Be,"ALLOWED_TAGS")?Pn({},Be.ALLOWED_TAGS,Re):U,z=to(Be,"ALLOWED_ATTR")?Pn({},Be.ALLOWED_ATTR,Re):V,Me=to(Be,"ALLOWED_NAMESPACES")?Pn({},Be.ALLOWED_NAMESPACES,Cj):Ie,he=to(Be,"ADD_URI_SAFE_ATTR")?Pn(Pl(me),Be.ADD_URI_SAFE_ATTR,Re):me,Ae=to(Be,"ADD_DATA_URI_TAGS")?Pn(Pl(le),Be.ADD_DATA_URI_TAGS,Re):le,de=to(Be,"FORBID_CONTENTS")?Pn({},Be.FORBID_CONTENTS,Re):pe,$=to(Be,"FORBID_TAGS")?Pn({},Be.FORBID_TAGS,Re):Pl({}),W=to(Be,"FORBID_ATTR")?Pn({},Be.FORBID_ATTR,Re):Pl({}),ce=to(Be,"USE_PROFILES")?Be.USE_PROFILES:!1,H=Be.ALLOW_ARIA_ATTR!==!1,Q=Be.ALLOW_DATA_ATTR!==!1,G=Be.ALLOW_UNKNOWN_PROTOCOLS||!1,J=Be.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ee=Be.SAFE_FOR_TEMPLATES||!1,K=Be.SAFE_FOR_XML!==!1,ne=Be.WHOLE_DOCUMENT||!1,ie=Be.RETURN_DOM||!1,q=Be.RETURN_DOM_FRAGMENT||!1,Z=Be.RETURN_TRUSTED_TYPE||!1,se=Be.FORCE_BODY||!1,te=Be.SANITIZE_DOM!==!1,re=Be.SANITIZE_NAMED_PROPS||!1,oe=Be.KEEP_CONTENT!==!1,ae=Be.IN_PLACE||!1,I=Be.ALLOWED_URI_REGEXP||tQ,Ue=Be.NAMESPACE||Te,Ce=Be.MATHML_TEXT_INTEGRATION_POINTS||Ce,Pe=Be.HTML_INTEGRATION_POINTS||Pe,X=Be.CUSTOM_ELEMENT_HANDLING||{},Be.CUSTOM_ELEMENT_HANDLING&&Dt(Be.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(X.tagNameCheck=Be.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Be.CUSTOM_ELEMENT_HANDLING&&Dt(Be.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(X.attributeNameCheck=Be.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Be.CUSTOM_ELEMENT_HANDLING&&typeof Be.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(X.allowCustomizedBuiltInElements=Be.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ee&&(Q=!1),q&&(ie=!0),ce&&(R=Pn({},mE),z=[],ce.html===!0&&(Pn(R,fE),Pn(z,pE)),ce.svg===!0&&(Pn(R,Nj),Pn(z,kj),Pn(z,yx)),ce.svgFilters===!0&&(Pn(R,Sj),Pn(z,kj),Pn(z,yx)),ce.mathMl===!0&&(Pn(R,Tj),Pn(z,AE),Pn(z,yx))),Be.ADD_TAGS&&(R===U&&(R=Pl(R)),Pn(R,Be.ADD_TAGS,Re)),Be.ADD_ATTR&&(z===V&&(z=Pl(z)),Pn(z,Be.ADD_ATTR,Re)),Be.ADD_URI_SAFE_ATTR&&Pn(he,Be.ADD_URI_SAFE_ATTR,Re),Be.FORBID_CONTENTS&&(de===pe&&(de=Pl(de)),Pn(de,Be.FORBID_CONTENTS,Re)),oe&&(R["#text"]=!0),ne&&Pn(R,["html","head","body"]),R.table&&(Pn(R,["tbody"]),delete $.tbody),Be.TRUSTED_TYPES_POLICY){if(typeof Be.TRUSTED_TYPES_POLICY.createHTML!="function")throw pp('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Be.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw pp('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');y=Be.TRUSTED_TYPES_POLICY,N=y.createHTML("")}else y===void 0&&(y=Hge(m,i)),y!==null&&typeof N=="string"&&(N=y.createHTML(""));Ti&&Ti(Be),Ve=Be}},Qt=Pn({},[...Nj,...Sj,...Bge]),bt=Pn({},[...Tj,...Ege]),Bt=function(Be){let Ze=v(Be);(!Ze||!Ze.tagName)&&(Ze={namespaceURI:Ue,tagName:"template"});const mt=Xb(Be.tagName),gn=Xb(Ze.tagName);return Me[Be.namespaceURI]?Be.namespaceURI===_e?Ze.namespaceURI===Te?mt==="svg":Ze.namespaceURI===ve?mt==="svg"&&(gn==="annotation-xml"||Ce[gn]):!!Qt[mt]:Be.namespaceURI===ve?Ze.namespaceURI===Te?mt==="math":Ze.namespaceURI===_e?mt==="math"&&Pe[gn]:!!bt[mt]:Be.namespaceURI===Te?Ze.namespaceURI===_e&&!Pe[gn]||Ze.namespaceURI===ve&&!Ce[gn]?!1:!bt[mt]&&(ge[mt]||!Qt[mt]):!!(Ne==="application/xhtml+xml"&&Me[Be.namespaceURI]):!1},Se=function(Be){fp(t.removed,{element:Be});try{v(Be).removeChild(Be)}catch{p(Be)}},Le=function(Be,Ze){try{fp(t.removed,{attribute:Ze.getAttributeNode(Be),from:Ze})}catch{fp(t.removed,{attribute:null,from:Ze})}if(Ze.removeAttribute(Be),Be==="is")if(ie||q)try{Se(Ze)}catch{}else try{Ze.setAttribute(Be,"")}catch{}},Ge=function(Be){let Ze=null,mt=null;if(se)Be="<remove></remove>"+Be;else{const Oe=hE(Be,/^[\r\n\t ]+/);mt=Oe&&Oe[0]}Ne==="application/xhtml+xml"&&Ue===Te&&(Be='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Be+"</body></html>");const gn=y?y.createHTML(Be):Be;if(Ue===Te)try{Ze=new h().parseFromString(gn,Ne)}catch{}if(!Ze||!Ze.documentElement){Ze=P.createDocument(Ue,"template",null);try{Ze.documentElement.innerHTML=Ee?N:gn}catch{}}const xe=Ze.body||Ze.documentElement;return Be&&mt&&xe.insertBefore(n.createTextNode(mt),xe.childNodes[0]||null),Ue===Te?D.call(Ze,ne?"html":"body")[0]:ne?Ze.documentElement:xe},at=function(Be){return M.call(Be.ownerDocument||Be,Be,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},zt=function(Be){return Be instanceof f&&(typeof Be.nodeName!="string"||typeof Be.textContent!="string"||typeof Be.removeChild!="function"||!(Be.attributes instanceof d)||typeof Be.removeAttribute!="function"||typeof Be.setAttribute!="function"||typeof Be.namespaceURI!="string"||typeof Be.insertBefore!="function"||typeof Be.hasChildNodes!="function")},pt=function(Be){return typeof c=="function"&&Be instanceof c};function Ot(vt,Be,Ze){vx(vt,mt=>{mt.call(t,Be,Ze,Ve)})}const Vt=function(Be){let Ze=null;if(Ot(L.beforeSanitizeElements,Be,null),zt(Be))return Se(Be),!0;const mt=Re(Be.nodeName);if(Ot(L.uponSanitizeElement,Be,{tagName:mt,allowedTags:R}),K&&Be.hasChildNodes()&&!pt(Be.firstElementChild)&&pi(/<[/\w!]/g,Be.innerHTML)&&pi(/<[/\w!]/g,Be.textContent)||Be.nodeType===gp.progressingInstruction||K&&Be.nodeType===gp.comment&&pi(/<[/\w]/g,Be.data))return Se(Be),!0;if(!R[mt]||$[mt]){if(!$[mt]&&nn(mt)&&(X.tagNameCheck instanceof RegExp&&pi(X.tagNameCheck,mt)||X.tagNameCheck instanceof Function&&X.tagNameCheck(mt)))return!1;if(oe&&!de[mt]){const gn=v(Be)||Be.parentNode,xe=x(Be)||Be.childNodes;if(xe&&gn){const Oe=xe.length;for(let qe=Oe-1;qe>=0;--qe){const Je=g(xe[qe],!0);Je.__removalCount=(Be.__removalCount||0)+1,gn.insertBefore(Je,b(Be))}}}return Se(Be),!0}return Be instanceof l&&!Bt(Be)||(mt==="noscript"||mt==="noembed"||mt==="noframes")&&pi(/<\/no(script|embed|frames)/i,Be.innerHTML)?(Se(Be),!0):(ee&&Be.nodeType===gp.text&&(Ze=Be.textContent,vx([F,_,E],gn=>{Ze=mp(Ze,gn," ")}),Be.textContent!==Ze&&(fp(t.removed,{element:Be.cloneNode()}),Be.textContent=Ze)),Ot(L.afterSanitizeElements,Be,null),!1)},It=function(Be,Ze,mt){if(te&&(Ze==="id"||Ze==="name")&&(mt in n||mt in rt))return!1;if(!(Q&&!W[Ze]&&pi(T,Ze))){if(!(H&&pi(w,Ze))){if(!z[Ze]||W[Ze]){if(!(nn(Be)&&(X.tagNameCheck instanceof RegExp&&pi(X.tagNameCheck,Be)||X.tagNameCheck instanceof Function&&X.tagNameCheck(Be))&&(X.attributeNameCheck instanceof RegExp&&pi(X.attributeNameCheck,Ze)||X.attributeNameCheck instanceof Function&&X.attributeNameCheck(Ze))||Ze==="is"&&X.allowCustomizedBuiltInElements&&(X.tagNameCheck instanceof RegExp&&pi(X.tagNameCheck,mt)||X.tagNameCheck instanceof Function&&X.tagNameCheck(mt))))return!1}else if(!he[Ze]){if(!pi(I,mp(mt,j,""))){if(!((Ze==="src"||Ze==="xlink:href"||Ze==="href")&&Be!=="script"&&Sge(mt,"data:")===0&&Ae[Be])){if(!(G&&!pi(C,mp(mt,j,"")))){if(mt)return!1}}}}}}return!0},nn=function(Be){return Be!=="annotation-xml"&&hE(Be,S)},en=function(Be){Ot(L.beforeSanitizeAttributes,Be,null);const{attributes:Ze}=Be;if(!Ze||zt(Be))return;const mt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:z,forceKeepAttr:void 0};let gn=Ze.length;for(;gn--;){const xe=Ze[gn],{name:Oe,namespaceURI:qe,value:Je}=xe,kt=Re(Oe),ot=Je;let tt=Oe==="value"?ot:Tge(ot);if(mt.attrName=kt,mt.attrValue=tt,mt.keepAttr=!0,mt.forceKeepAttr=void 0,Ot(L.uponSanitizeAttribute,Be,mt),tt=mt.attrValue,re&&(kt==="id"||kt==="name")&&(Le(Oe,Be),tt=Y+tt),K&&pi(/((--!?|])>)|<\/(style|title)/i,tt)){Le(Oe,Be);continue}if(mt.forceKeepAttr)continue;if(!mt.keepAttr){Le(Oe,Be);continue}if(!J&&pi(/\/>/i,tt)){Le(Oe,Be);continue}ee&&vx([F,_,E],hn=>{tt=mp(tt,hn," ")});const Sn=Re(Be.nodeName);if(!It(Sn,kt,tt)){Le(Oe,Be);continue}if(y&&typeof m=="object"&&typeof m.getAttributeType=="function"&&!qe)switch(m.getAttributeType(Sn,kt)){case"TrustedHTML":{tt=y.createHTML(tt);break}case"TrustedScriptURL":{tt=y.createScriptURL(tt);break}}if(tt!==ot)try{qe?Be.setAttributeNS(qe,Oe,tt):Be.setAttribute(Oe,tt),zt(Be)?Se(Be):dE(t.removed)}catch{Le(Oe,Be)}}Ot(L.afterSanitizeAttributes,Be,null)},xn=function vt(Be){let Ze=null;const mt=at(Be);for(Ot(L.beforeSanitizeShadowDOM,Be,null);Ze=mt.nextNode();)Ot(L.uponSanitizeShadowNode,Ze,null),Vt(Ze),en(Ze),Ze.content instanceof a&&vt(Ze.content);Ot(L.afterSanitizeShadowDOM,Be,null)};return t.sanitize=function(vt){let Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ze=null,mt=null,gn=null,xe=null;if(Ee=!vt,Ee&&(vt="<!-->"),typeof vt!="string"&&!pt(vt))if(typeof vt.toString=="function"){if(vt=vt.toString(),typeof vt!="string")throw pp("dirty is not a string, aborting")}else throw pp("toString is not a function");if(!t.isSupported)return vt;if(ue||xt(Be),t.removed=[],typeof vt=="string"&&(ae=!1),ae){if(vt.nodeName){const Je=Re(vt.nodeName);if(!R[Je]||$[Je])throw pp("root node is forbidden and cannot be sanitized in-place")}}else if(vt instanceof c)Ze=Ge("<!---->"),mt=Ze.ownerDocument.importNode(vt,!0),mt.nodeType===gp.element&&mt.nodeName==="BODY"||mt.nodeName==="HTML"?Ze=mt:Ze.appendChild(mt);else{if(!ie&&!ee&&!ne&&vt.indexOf("<")===-1)return y&&Z?y.createHTML(vt):vt;if(Ze=Ge(vt),!Ze)return ie?null:Z?N:""}Ze&&se&&Se(Ze.firstChild);const Oe=at(ae?vt:Ze);for(;gn=Oe.nextNode();)Vt(gn),en(gn),gn.content instanceof a&&xn(gn.content);if(ae)return vt;if(ie){if(q)for(xe=k.call(Ze.ownerDocument);Ze.firstChild;)xe.appendChild(Ze.firstChild);else xe=Ze;return(z.shadowroot||z.shadowrootmode)&&(xe=O.call(s,xe,!0)),xe}let qe=ne?Ze.outerHTML:Ze.innerHTML;return ne&&R["!doctype"]&&Ze.ownerDocument&&Ze.ownerDocument.doctype&&Ze.ownerDocument.doctype.name&&pi(nQ,Ze.ownerDocument.doctype.name)&&(qe="<!DOCTYPE "+Ze.ownerDocument.doctype.name+`>
`+qe),ee&&vx([F,_,E],Je=>{qe=mp(qe,Je," ")}),y&&Z?y.createHTML(qe):qe},t.setConfig=function(){let vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};xt(vt),ue=!0},t.clearConfig=function(){Ve=null,ue=!1},t.isValidAttribute=function(vt,Be,Ze){Ve||xt({});const mt=Re(vt),gn=Re(Be);return It(mt,gn,Ze)},t.addHook=function(vt,Be){typeof Be=="function"&&fp(L[vt],Be)},t.removeHook=function(vt,Be){if(Be!==void 0){const Ze=Cge(L[vt],Be);return Ze===-1?void 0:Nge(L[vt],Ze,1)[0]}return dE(L[vt])},t.removeHooks=function(vt){L[vt]=[]},t.removeAllHooks=function(){L=xE()},t}var ch=rQ();const _j="https://via.placeholder.com/150",$ge=({message:e,type:t,onClose:n})=>(B.useEffect(()=>{const s=setTimeout(n,3e3);return()=>clearTimeout(s)},[n]),r.jsxs("div",{className:Fe("fixed top-4 right-4 p-4 rounded-lg shadow-lg z-50 font-roboto",t==="success"?"bg-green-500 text-white":"bg-red-500 text-white"),children:[r.jsx("p",{children:e}),r.jsx("button",{onClick:n,className:"absolute top-1 right-1 text-white hover:text-gray-200",children:"×"})]})),Qge=({isOpen:e,onClose:t,onConfirm:n})=>e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 font-roboto",children:r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-64",children:[r.jsx("h3",{className:"text-lg font-medium mb-4",children:"Xác nhận xóa"}),r.jsx("p",{className:"mb-6",children:"Bạn có chắc muốn xóa bình luận này không?"}),r.jsxs("div",{className:"flex justify-end gap-4",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400",children:"Không"}),r.jsx("button",{onClick:n,className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600",children:"Có"})]})]})}):null,zge=e=>{const n=new DOMParser().parseFromString(ch.sanitize(e,{ADD_TAGS:["img"],ADD_ATTR:["src"]}),"text/html"),s=[],i=c=>{c.nodeType===3?s.push(c.textContent.trim()):c.nodeType===1&&c.tagName!=="IMG"&&c.childNodes.forEach(i)};i(n.body);const a=s.join(" ").trim(),o=Array.from(n.querySelectorAll("img")).map(c=>c.src);return{textContent:a,images:o}},Vge=({productId:e})=>{var M;const[t,n]=B.useState([]),[s,i]=B.useState(""),[a,o]=B.useState(0),[c,l]=B.useState(new Set),[u,d]=B.useState(!1),[f,h]=B.useState(null),[m,A]=B.useState(null),[g,p]=B.useState(0),b=(k,D)=>A({message:k,type:D}),x=()=>A(null);B.useEffect(()=>{(async()=>{try{const D=e.length>=6?e.substring(0,6):null,O=await fetch("https://bicacuatho.azurewebsites.net/api/Comment/list");if(!O.ok)throw new Error("Failed to fetch comments");const F=(await O.json()).filter(T=>D&&T.maSanPham&&T.maSanPham!=="string"&&T.maSanPham.substring(0,6)===D&&T.trangThai===1||(T.maSanPham===null||T.maSanPham==="string")&&T.maCombo!==null&&T.trangThai===1).map(T=>({...T,soTimBinhLuan:T.soTimBinhLuan||0,tenSanPham:T.maSanPham&&T.maSanPham!=="string"?T.tenSanPham:T.tenCombo||`Combo ${T.maCombo}`})).sort((T,w)=>w.soTimBinhLuan-T.soTimBinhLuan);if(F.length>0){const T=F.reduce((w,C)=>w+(C.danhGia||0),0);p(T/F.length)}else p(0);const _=JSON.parse(localStorage.getItem("user")),E=_==null?void 0:_.maNguoiDung;if(E){const T=`likedComments_${E}`,w=JSON.parse(localStorage.getItem(T))||[];l(new Set(w))}n(F)}catch(D){console.error("Error fetching comments:",D),b("Có lỗi xảy ra khi tải bình luận!","error"),p(0)}})()},[e]);const v=k=>{h(k),d(!0)},y=async()=>{if(f)try{if(!(await fetch(`https://bicacuatho.azurewebsites.net/api/Comment/delete/${f}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Failed to delete comment");n(D=>{const O=D.filter(L=>L.maBinhLuan!==f);if(O.length>0){const L=O.reduce((F,_)=>F+(_.danhGia||0),0);p(L/O.length)}else p(0);return O}),b("Xóa bình luận thành công!","success")}catch(k){console.error("Error deleting comment:",k),b("Có lỗi xảy ra khi xóa bình luận!","error")}finally{d(!1),h(null)}},N=async k=>{const D=JSON.parse(localStorage.getItem("user")),O=D==null?void 0:D.maNguoiDung;if(!O){b("Vui lòng đăng nhập để thích bình luận!","error");return}const L=c.has(k),F=L?`https://bicacuatho.azurewebsites.net/api/Comment/Unlike/${k}`:`https://bicacuatho.azurewebsites.net/api/Comment/Like/${k}`;try{if(!(await fetch(F,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Failed to update like status");n(E=>E.map(T=>T.maBinhLuan===k?{...T,soTimBinhLuan:L?Math.max(0,T.soTimBinhLuan-1):T.soTimBinhLuan+1}:T).sort((T,w)=>w.soTimBinhLuan-T.soTimBinhLuan)),l(E=>{const T=new Set(E);L?T.delete(k):T.add(k);const w=`likedComments_${O}`;return localStorage.setItem(w,JSON.stringify([...T])),T}),b(L?"Đã bỏ thích bình luận!":"Đã thích bình luận!","success")}catch(_){console.error("Error updating like status:",_),b("Có lỗi xảy ra khi cập nhật số tim!","error")}},P=(M=JSON.parse(localStorage.getItem("user")))==null?void 0:M.maNguoiDung;return r.jsxs("div",{className:"mt-12 comments",children:[m&&r.jsx($ge,{message:m.message,type:m.type,onClose:x}),r.jsx(Qge,{isOpen:u,onClose:()=>d(!1),onConfirm:y}),r.jsx("h2",{className:"text-2xl font-medium mb-6",children:"Đánh Giá"}),r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg font-medium",children:"Đánh giá trung bình:"}),r.jsx("div",{className:"flex",children:Array.from({length:5}).map((k,D)=>r.jsx(Lr,{className:Fe("w-5 h-5",D<Math.floor(g)?"fill-yellow-400 text-yellow-400":"text-gray-300")},D))}),r.jsxs("span",{className:"text-lg font-medium",children:[g.toFixed(1)," / 5"]})]})}),r.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:t.length===0?r.jsx("p",{className:"text-muted-foreground",children:"Chưa có bình luận nào."}):t.map(k=>{const{textContent:D,images:O}=zge(k.noiDungBinhLuan||"Chưa cập nhật");return r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("img",{src:k.hinhAnh||_j,alt:`Ảnh của ${k.hoTen||k.maNguoiDung}`,className:"w-12 h-12 rounded-full object-cover border border-border",onError:L=>{console.warn(`Failed to load image for comment ${k.maBinhLuan}, using default`),L.target.src=_j}})}),r.jsxs("div",{className:"flex-1 flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center mb-2",children:Array.from({length:5}).map((L,F)=>r.jsx(Lr,{className:Fe("w-4 h-4",F<k.danhGia?"fill-yellow-400 text-yellow-400":"text-gray-300")},F))}),r.jsx("div",{className:"text-gray-800 line-clamp-3 mb-2",style:{whiteSpace:"pre-line"},children:D||"Chưa cập nhật"}),O.length>0&&r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:O.map((L,F)=>r.jsx("img",{src:L,alt:`Hình ảnh bình luận ${F+1}`,className:"w-48 h-auto object-contain rounded",style:{maxWidth:"225px"},onError:_=>{console.warn(`Failed to load comment image ${F+1}`),_.target.src=_j}},F))}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Bởi ",k.hoTen||k.maNguoiDung," -"," ",new Date(k.ngayBinhLuan).toLocaleDateString()," -"," ",k.maSanPham&&k.maSanPham!=="string"?`Sản phẩm: ${k.tenSanPham}`:`Combo: ${k.tenCombo||k.maCombo}`]}),r.jsx("div",{className:"flex items-center mt-2",children:r.jsxs("button",{onClick:()=>N(k.maBinhLuan),className:"flex items-center gap-1",children:[r.jsx(di,{className:Fe("w-5 h-5",c.has(k.maBinhLuan)?"fill-red-500 text-red-500":"text-gray-400")}),r.jsx("span",{children:k.soTimBinhLuan})]})})]}),k.maNguoiDung===P&&r.jsx("button",{onClick:()=>v(k.maBinhLuan),className:"text-red-500 hover:text-red-700 transition-colors",children:r.jsx(za,{className:"w-5 h-5"})})]})]},k.maBinhLuan)})}),r.jsx("style",{children:`
        .comments .line-clamp-3 {
          display: -webkit-box;
          -webkit-line-clamp: 3;
          -webkit-box-orient: vertical;
          overflow: hidden;
          whiteSpace: pre-line;
        }
      `})]})},Kge=()=>{const[e,t]=B.useState(!1),[n,s]=B.useState("huongDan"),[i,a]=B.useState("Quần"),[o,c]=B.useState("vua"),[l,u]=B.useState(56),[d,f]=B.useState(160),h=B.useRef(null),m={om:"Ôm",vua:"Vừa",rong:"Rộng",thuong:"Thường",cao:"Cao"},A={"Quần - Ôm":[["Cân nặng (kg)","50-60","61-65","66-70","71-76","76-80","81-86"],["Vòng lưng (cm)","74","78","81","84","88","91"],["Vòng đùi (cm)","50","52","54","56","58","60"],["Rộng ống (cm)","16.4","16.5","17","17","17","17"],["Dài quần (cm)","98","97","97","97","98","98"]],"Quần - Vừa":[["Cân nặng (kg)","50-60","61-65","66-70","71-76","76-80","81-86"],["Vòng lưng (cm)","74","78","81","84","88","91"],["Vòng đùi (cm)","50","52","54","56","58","60"],["Rộng ống (cm)","16.4","16.5","17","17","17","17"],["Dài quần (cm)","98","97","97","97","98","98"]],"Quần - Rộng":[["Cân nặng (kg)","50-60","61-65","66-70","71-76","76-80","81-86"],["Vòng lưng (cm)","78","80","82","84","88","91"],["Vòng đùi (cm)","54","56","58","60","62","64"],["Rộng ống (cm)","18","18","18","18","18","18"],["Dài quần (cm)","98","97","97","98","100","101"]],"Áo - Ôm":[["Chiều cao (cm)","150-160","161-170","171-180","181-190"],["Ngang vai (cm)","42","43.5","45","46.5"],["Rộng ngực (cm)","46","48","50","52"],["Dài áo (cm)","68","70","72","74"]],"Áo - Vừa":[["Chiều cao (cm)","150-160","161-170","171-180","181-190"],["Ngang vai (cm)","43.5","45","46.5","48"],["Rộng ngực (cm)","48","50","52","54"],["Dài áo (cm)","70","72","74","76"]],"Áo - Rộng":[["Chiều cao (cm)","150-160","161-170","171-180","181-190"],["Ngang vai (cm)","47.5","49","50.5","52"],["Rộng ngực (cm)","52","54","56","58"],["Dài áo (cm)","72","74","76","78"]],"Giày - Thường":[["Chiều cao (cm)","150-160","161-170","171-180","181-190"],["Kích thước (US)","6","7","8","9"],["Chiều dài bàn chân (cm)","24","25","26","27"]],"Giày - Cao":[["Chiều cao (cm)","150-160","161-170","171-180","181-190"],["Kích thước (US)","6.5","7.5","8.5","9.5"],["Chiều dài bàn chân (cm)","24.5","25.5","26.5","27.5"]],"Dép - Thường":[["Chiều cao (cm)","150-160","161-170","171-180","181-190"],["Kích thước (US)","6","7","8","9"],["Chiều dài bàn chân (cm)","24","25","26","27"]],"Dép - Cao":[["Chiều cao (cm)","150-160","161-170","171-180","181-190"],["Kích thước (US)","6.5","7.5","8.5","9.5"],["Chiều dài bàn chân (cm)","24.5","25.5","26.5","27.5"]],"Túi xách - Thường":[["Chiều cao (cm)","150-160","161-170","171-180","181-190"],["Chiều rộng (cm)","20","22","24","26"],["Chiều cao (cm)","15","16","17","18"]],"Phụ kiện - Thường":[["Chiều cao (cm)","150-160","161-170","171-180","181-190"],["Kích thước vòng cổ (cm)","35","38","41","44"],["Đường kính (cm)","5","5.5","6","6.5"]]},g=(p,b,x)=>x==="Quần"?p<60?"28":p<65?"29":p<70?"30":p<76?"31":p<80?"32":"34":x==="Áo"?b<160?"S":b<170?"M":b<180?"L":"XL":x==="Giày"||x==="Dép"?b<160?"6":b<170?"7":b<180?"8":"9":x==="Túi xách"?b<160?"S (20x15cm)":b<170?"M (22x16cm)":b<180?"L (24x17cm)":"XL (26x18cm)":x==="Phụ kiện"?b<160?"S (35cm)":b<170?"M (38cm)":b<180?"L (41cm)":"XL (44cm)":"Không xác định";return B.useEffect(()=>{const p=b=>{h.current&&!h.current.contains(b.target)&&t(!1)};return e&&document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[e]),r.jsxs("div",{className:"relative z-10",children:[r.jsx("button",{onClick:()=>t(!e),className:"px-3 py-1 text-sm rounded-md bg-white text-[#9b87f5] border border-[#9b87f5] flex items-center gap-2 hover:bg-[#9b87f5]/10 transition-colors duration-300",children:e?r.jsxs(r.Fragment,{children:[r.jsx(nl,{size:16}),"Ẩn Hướng dẫn"]}):r.jsxs(r.Fragment,{children:[r.jsx(dr,{size:16}),"Hướng dẫn chọn size"]})}),e&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{ref:h,className:"bg-white p-4 rounded-lg shadow-xl max-w-lg w-full relative max-h-[90vh]",children:[r.jsx("button",{onClick:()=>t(!1),className:"absolute top-[-10px] right-[-10px] bg-[#9b87f5] text-white rounded-full w-8 h-8 flex items-center justify-center hover:bg-[#9b87f5]/80 transition-colors duration-300",children:r.jsx(st,{size:16})}),r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>s("huongDan"),className:`px-4 py-2 rounded-md ${n==="huongDan"?"bg-[#9b87f5] text-white font-bold":"bg-gray-100 text-gray-700"} hover:bg-[#9b87f5]/20 transition-colors duration-300`,children:[r.jsx(WN,{className:"inline-block mr-2 h-4 w-4"}),"Hướng dẫn chọn size"]}),r.jsxs("button",{onClick:()=>s("bangSize"),className:`px-4 py-2 rounded-md ${n==="bangSize"?"bg-[#9b87f5] text-white font-bold":"bg-gray-100 text-gray-700"} hover:bg-[#9b87f5]/20 transition-colors duration-300`,children:[r.jsx(tm,{className:"inline-block mr-2 h-4 w-4"}),"Bảng size"]})]}),r.jsxs("select",{className:"border border-[#9b87f5] rounded px-3 py-1 text-[#9b87f5] bg-white hover:bg-[#9b87f5]/10 transition-colors duration-300",value:i,onChange:p=>a(p.target.value),children:[r.jsx("option",{value:"Quần",children:"👖 Quần"}),r.jsx("option",{value:"Áo",children:"👕 Áo"}),r.jsx("option",{value:"Giày",children:"👞 Giày"}),r.jsx("option",{value:"Dép",children:"👡 Dép"}),r.jsx("option",{value:"Túi xách",children:"👜 Túi xách"}),r.jsx("option",{value:"Phụ kiện",children:"💍 Phụ kiện"})]})]}),n==="huongDan"&&r.jsxs("div",{children:[r.jsxs("div",{className:"mb-4 flex items-center",children:[r.jsxs("label",{className:"text-sm mr-2 text-gray-700 flex items-center",children:[r.jsx(WN,{className:"mr-1 h-4 w-4"})," Chiều cao (cm):"]}),r.jsxs("span",{className:"font-bold text-[#9b87f5]",children:[d,"cm"]}),r.jsx("input",{type:"range",min:"140",max:"200",value:d,onChange:p=>f(Number(p.target.value)),className:"ml-2 w-full accent-[#9b87f5]"})]}),r.jsxs("div",{className:"mb-4 flex items-center",children:[r.jsxs("label",{className:"text-sm mr-2 text-gray-700 flex items-center",children:[r.jsx(cte,{className:"mr-1 h-4 w-4"})," Cân nặng (kg):"]}),r.jsxs("span",{className:"font-bold text-[#9b87f5]",children:[l,"kg"]}),r.jsx("input",{type:"range",min:"40",max:"120",value:l,onChange:p=>u(Number(p.target.value)),className:"ml-2 w-full accent-[#9b87f5]"})]}),r.jsx("div",{className:"mt-4 flex flex-row justify-center gap-2",children:i==="Quần"||i==="Áo"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{onClick:()=>c("om"),className:`cursor-pointer text-center p-2 ${o==="om"?"border-2 border-[#9b87f5]":"border border-gray-200"} rounded-md`,children:[r.jsx("img",{src:"https://file.hstatic.net/1000253775/file/om_160_519a3dbfd5314c2fb5f4d90913534ec4.jpg",alt:"Ôm",className:"w-3/4 max-w-sm mx-auto"}),r.jsx("p",{className:"mt-2 bg-[#9b87f5] text-white rounded px-2 py-1",children:"Ôm"})]}),r.jsxs("div",{onClick:()=>c("vua"),className:`cursor-pointer text-center p-2 ${o==="vua"?"border-2 border-[#9b87f5]":"border border-gray-200"} rounded-md`,children:[r.jsx("img",{src:"https://file.hstatic.net/1000253775/file/vua_160_85cf53bb243943ad90c3890031cc15ae.jpg",alt:"Vừa",className:"w-3/4 max-w-sm mx-auto"}),r.jsx("p",{className:"mt-2 bg-[#9b87f5] text-white rounded px-2 py-1",children:"Vừa"})]}),r.jsxs("div",{onClick:()=>c("rong"),className:`cursor-pointer text-center p-2 ${o==="rong"?"border-2 border-[#9b87f5]":"border border-gray-200"} rounded-md`,children:[r.jsx("img",{src:"https://file.hstatic.net/1000253775/file/rong_160_09b702fafaca4d879af662e6383baa5f.jpg",alt:"Rộng",className:"w-3/4 max-w-sm mx-auto"}),r.jsx("p",{className:"mt-2 bg-[#9b87f5] text-white rounded px-2 py-1",children:"Rộng"})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{onClick:()=>c("thuong"),className:`cursor-pointer text-center p-2 ${o==="thuong"?"border-2 border-[#9b87f5]":"border border-gray-200"} rounded-md`,children:[r.jsx("img",{src:"https://file.hstatic.net/1000253775/file/om_160_519a3dbfd5314c2fb5f4d90913534ec4.jpg",alt:"Thường",className:"w-3/4 max-w-sm mx-auto"}),r.jsx("p",{className:"mt-2 bg-[#9b87f5] text-white rounded px-2 py-1",children:"Thường"})]}),r.jsxs("div",{onClick:()=>c("cao"),className:`cursor-pointer text-center p-2 ${o==="cao"?"border-2 border-[#9b87f5]":"border border-gray-200"} rounded-md`,children:[r.jsx("img",{src:"https://file.hstatic.net/1000253775/file/rong_160_09b702fafaca4d879af662e6383baa5f.jpg",alt:"Cao",className:"w-3/4 max-w-sm mx-auto"}),r.jsx("p",{className:"mt-2 bg-[#9b87f5] text-white rounded px-2 py-1",children:"Cao"})]})]})}),r.jsxs("div",{className:"mt-4 text-center",children:[r.jsx("p",{className:"text-lg text-gray-700",children:"FashionHub gợi ý bạn"}),r.jsx("div",{className:"flex justify-center gap-2 mt-2",children:r.jsxs("span",{className:"bg-[#9b87f5] text-white rounded px-3 py-1",children:[g(l,d,i)," - ",i]})})]})]}),n==="bangSize"&&r.jsxs("div",{className:"max-h-96 overflow-y-auto",children:[["om","vua","rong","thuong","cao"].map(p=>{var x;return(i==="Quần"||i==="Áo")&&(p==="om"||p==="vua"||p==="rong")||(i==="Giày"||i==="Dép"||i==="Túi xách"||i==="Phụ kiện")&&(p==="thuong"||p==="cao")?r.jsxs("div",{className:"mb-4",children:[r.jsxs("h3",{className:"text-lg font-bold mb-2 text-[#9b87f5]",children:[i," - ",m[p]]}),r.jsxs("table",{className:"w-full border border-[#9b87f5] text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-[#9b87f5] text-white",children:[r.jsx("th",{className:"p-2",children:"SIZE"}),i==="Quần"?r.jsxs(r.Fragment,{children:[r.jsx("th",{className:"p-2",children:"28"}),r.jsx("th",{className:"p-2",children:"29"}),r.jsx("th",{className:"p-2",children:"30"}),r.jsx("th",{className:"p-2",children:"31"}),r.jsx("th",{className:"p-2",children:"32"}),r.jsx("th",{className:"p-2",children:"34"})]}):i==="Áo"?r.jsxs(r.Fragment,{children:[r.jsx("th",{className:"p-2",children:"S"}),r.jsx("th",{className:"p-2",children:"M"}),r.jsx("th",{className:"p-2",children:"L"}),r.jsx("th",{className:"p-2",children:"XL"})]}):i==="Giày"||i==="Dép"?r.jsxs(r.Fragment,{children:[r.jsx("th",{className:"p-2",children:"6"}),r.jsx("th",{className:"p-2",children:"7"}),r.jsx("th",{className:"p-2",children:"8"}),r.jsx("th",{className:"p-2",children:"9"})]}):i==="Túi xách"?r.jsxs(r.Fragment,{children:[r.jsx("th",{className:"p-2",children:"S"}),r.jsx("th",{className:"p-2",children:"M"}),r.jsx("th",{className:"p-2",children:"L"}),r.jsx("th",{className:"p-2",children:"XL"})]}):i==="Phụ kiện"?r.jsxs(r.Fragment,{children:[r.jsx("th",{className:"p-2",children:"S"}),r.jsx("th",{className:"p-2",children:"M"}),r.jsx("th",{className:"p-2",children:"L"}),r.jsx("th",{className:"p-2",children:"XL"})]}):null]})}),r.jsx("tbody",{children:(x=A[`${i} - ${m[p]}`])==null?void 0:x.map((v,y)=>r.jsx("tr",{className:"border-t border-gray-300",children:v.map((N,P)=>r.jsx("td",{className:"p-2 border-r border-gray-200",children:N},P))},y))})]})]},p):null}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"* Size có thể chênh lệch tùy theo từng dáng người, bạn nên thử trước khi mua."})]})]})})]})},Gge=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}),Wge=({product:e,index:t})=>{const[n,s]=B.useState(!1),[i,a]=B.useState(!1),[o,c]=B.useState(!1),l=B.useRef(null),u=g=>{g.preventDefault(),g.stopPropagation(),At.success(`${e.name} đã được thêm vào giỏ hàng!`)},d=g=>{g.preventDefault(),g.stopPropagation(),c(!o),At.success(o?"Đã bỏ yêu thích":"Đã thêm vào yêu thích")};B.useEffect(()=>{const g=new IntersectionObserver(([p])=>{p.isIntersecting&&(s(!0),g.disconnect())},{threshold:.1});return l.current&&g.observe(l.current),()=>g.disconnect()},[]);const f=()=>Math.min(5,Math.max(3,Math.floor(e.soLuongDaBan/10)+3)),m=e.soLuong===0?{text:"Hết hàng",color:"bg-red-500"}:e.soLuong<10?{text:"Sắp hết",color:"bg-orange-500"}:{text:"Còn hàng",color:"bg-green-500"},A=f();return r.jsx("div",{ref:l,className:Fe("group relative bg-white rounded-3xl overflow-hidden border border-gray-100 shadow-lg hover:shadow-2xl h-full flex flex-col","transition-all duration-700 ease-out transform hover:-translate-y-2",n?"opacity-100 translate-y-0":"opacity-0 translate-y-10"),style:{transitionDelay:`${t*150}ms`},onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:r.jsxs(ct,{to:`/productS/${e.id}`,className:"text-primary font-medium block h-full",children:[r.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden bg-gradient-to-br from-gray-50 to-gray-100",children:[r.jsx("img",{src:e.imageSrc&&e.imageSrc?`data:image/jpeg;base64,${e.imageSrc}`:"/placeholder-image.jpg",alt:e.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),r.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[e.hot&&r.jsxs(Kt,{className:"bg-red-500 text-white border-0 shadow-lg animate-pulse",children:[r.jsx(vJ,{className:"w-3 h-3 mr-1"}),"Hot"]}),r.jsx(Kt,{className:`${m.color} text-white border-0 shadow-lg`,children:m.text})]}),r.jsxs("div",{className:Fe("absolute top-4 right-4 flex flex-col gap-2 transition-all duration-500",i?"opacity-100 translate-x-0":"opacity-0 translate-x-4"),children:[r.jsx(fe,{size:"sm",variant:"secondary",className:"w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm hover:bg-white shadow-lg border-0",onClick:d,children:r.jsx(di,{className:Fe("w-4 h-4",o&&"fill-red-500 text-red-500")})}),r.jsx(fe,{size:"sm",variant:"secondary",className:"w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm hover:bg-white shadow-lg border-0",children:r.jsx(dr,{className:"w-4 h-4"})})]}),r.jsx("div",{className:Fe("absolute bottom-4 left-4 right-4 transition-all duration-500",i?"opacity-100 translate-y-0":"opacity-0 translate-y-4"),children:r.jsxs(fe,{className:"w-full bg-black/80 hover:bg-black text-white backdrop-blur-sm border-0 shadow-lg",onClick:u,children:[r.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Thêm vào giỏ"]})})]}),r.jsxs("div",{className:"p-6 flex flex-col flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-blue-600 bg-blue-50 px-3 py-1 rounded-full",children:e.thuonghieu}),r.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((g,p)=>r.jsx(Lr,{className:Fe("w-4 h-4",p<A?"fill-yellow-400 text-yellow-400":"text-gray-300")},p)),r.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",e.soLuongDaBan,")"]})]})]}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 line-clamp-2 group-hover:text-blue-600 transition-colors",children:e.name}),r.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description.replace(/<br\/>/g," ")}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx("span",{className:"font-medium text-gray-700 w-20",children:"Chất liệu:"}),r.jsx("span",{className:"text-gray-600",children:e.chatlieu})]}),r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx("span",{className:"font-medium text-gray-700 w-20",children:"Đã bán:"}),r.jsxs("span",{className:"text-gray-600",children:[e.soLuongDaBan," sản phẩm"]})]}),r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx("span",{className:"font-medium text-gray-700 w-20",children:"Còn lại:"}),r.jsxs("span",{className:"text-gray-600",children:[e.soLuong," sản phẩm"]})]})]}),r.jsx("div",{className:"mt-auto",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-2xl font-bold text-red-600",children:Gge.format(e.price)}),e.hot&&r.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Giá tốt nhất"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"w-20 h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-red-500 to-green-500 transition-all duration-1000",style:{width:`${Math.min(100,e.soLuongDaBan/(e.soLuongDaBan+e.soLuong)*100)}%`}})}),r.jsxs("span",{className:"text-xs text-gray-500 mt-1 block",children:[Math.round(e.soLuongDaBan/(e.soLuongDaBan+e.soLuong)*100),"% đã bán"]})]})]})})]})]})})},qge=({productId:e})=>{const[t,n]=B.useState([]),[s,i]=B.useState(!0),[a,o]=B.useState(null),[c,l]=B.useState(0),u=B.useRef(null),d=b=>{const x=["from-purple-500 to-indigo-500","from-pink-500 to-rose-500","from-violet-500 to-purple-500","from-blue-500 to-cyan-500","from-green-500 to-teal-500","from-yellow-500 to-orange-500"];return b.map((v,y)=>({id:v.id,name:v.name,description:v.moTa||`Sản phẩm chất lượng cao từ thương hiệu ${v.thuongHieu}`,chatlieu:v.chatLieu,thuonghieu:v.thuongHieu,imageSrc:v.hinh[0]||"",colorClass:x[y%x.length],price:v.donGia,soLuong:v.soLuong,soLuongDaBan:v.soLuongDaBan,hot:v.hot}))};B.useEffect(()=>{(async()=>{try{i(!0);const x=e?`https://bicacuatho.azurewebsites.net/api/SanPham/ListSanPhamLQ?id=${e}`:"https://bicacuatho.azurewebsites.net/api/SanPham/ListSanPhamLQ",v=await fetch(x);if(!v.ok)throw new Error("Failed to fetch products");const y=await v.json(),N=d(y);n(N)}catch(x){o(x instanceof Error?x.message:"An error occurred")}finally{i(!1)}})()},[e]);const f=Math.ceil(t.length/3),h=c>0,m=c<f-1,A=()=>{h&&l(c-1)},g=()=>{m&&l(c+1)},p=b=>{l(b)};return s?r.jsx("section",{className:"py-24 px-6 bg-gradient-to-br from-blue-50 via-white to-purple-50",children:r.jsx("div",{className:"container mx-auto max-w-7xl text-center",children:r.jsxs("div",{className:"animate-pulse space-y-8",children:[r.jsx("div",{className:"h-12 bg-gray-300 rounded-lg w-96 mx-auto"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[...Array(3)].map((b,x)=>r.jsx("div",{className:"h-96 bg-gray-300 rounded-3xl"},x))})]})})}):a?r.jsx("section",{className:"py-24 px-6 bg-gradient-to-br from-blue-50 via-white to-purple-50",children:r.jsx("div",{className:"container mx-auto max-w-7xl text-center",children:r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-3xl p-8",children:r.jsxs("p",{className:"text-red-600 text-lg font-medium",children:["Lỗi: ",a]})})})}):r.jsx("section",{id:"products",className:"py-24 px-6 bg-gradient-to-br from-blue-50 via-white to-purple-50",children:r.jsxs("div",{className:"container mx-auto max-w-7xl",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Sản Phẩm Liên Quan"}),r.jsx("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:"Khám phá bộ sưu tập sản phẩm chất lượng cao được chọn lọc kỹ càng"})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(fe,{variant:"outline",size:"lg",onClick:A,disabled:!h,className:"rounded-full w-12 h-12 border-2 hover:bg-blue-50 disabled:opacity-50",children:r.jsx(ss,{className:"w-6 h-6"})}),r.jsx(fe,{variant:"outline",size:"lg",onClick:g,disabled:!m,className:"rounded-full w-12 h-12 border-2 hover:bg-blue-50 disabled:opacity-50",children:r.jsx(jr,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"flex gap-2",children:[...Array(f)].map((b,x)=>r.jsx("button",{onClick:()=>p(x),className:Fe("w-3 h-3 rounded-full transition-all duration-300",c===x?"bg-blue-600 w-8":"bg-gray-300 hover:bg-gray-400")},x))})]}),r.jsx("div",{className:"overflow-hidden rounded-3xl",children:r.jsx("div",{ref:u,className:"flex transition-transform duration-700 ease-in-out",style:{transform:`translateX(-${c*100}%)`},children:[...Array(f)].map((b,x)=>r.jsx("div",{className:"w-full flex-shrink-0 grid grid-cols-1 md:grid-cols-3 gap-8 px-2",children:t.slice(x*3,(x+1)*3).map((v,y)=>r.jsx(Wge,{product:v,index:y},v.id))},x))})})]}),r.jsx("div",{className:"text-center mt-16",children:r.jsx(ct,{to:"/user/cart",children:r.jsxs(fe,{size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-4 rounded-full text-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-300",children:[r.jsx(Rs,{className:"h-5 w-5 mr-2"}),"Xem Giỏ Hàng"]})})})]})})};function bE(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function V5(e,t){e===void 0&&(e={}),t===void 0&&(t={});const n=["__proto__","constructor","prototype"];Object.keys(t).filter(s=>n.indexOf(s)<0).forEach(s=>{typeof e[s]>"u"?e[s]=t[s]:bE(t[s])&&bE(e[s])&&Object.keys(t[s]).length>0&&V5(e[s],t[s])})}const sQ={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function sl(){const e=typeof document<"u"?document:{};return V5(e,sQ),e}const Xge={document:sQ,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function Di(){const e=typeof window<"u"?window:{};return V5(e,Xge),e}function Yge(e){return e===void 0&&(e=""),e.trim().split(" ").filter(t=>!!t.trim())}function Zge(e){const t=e;Object.keys(t).forEach(n=>{try{t[n]=null}catch{}try{delete t[n]}catch{}})}function iQ(e,t){return t===void 0&&(t=0),setTimeout(e,t)}function py(){return Date.now()}function Jge(e){const t=Di();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}function e0e(e,t){t===void 0&&(t="x");const n=Di();let s,i,a;const o=Jge(e);return n.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(c=>c.replace(",",".")).join(", ")),a=new n.WebKitCSSMatrix(i==="none"?"":i)):(a=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=a.toString().split(",")),t==="x"&&(n.WebKitCSSMatrix?i=a.m41:s.length===16?i=parseFloat(s[12]):i=parseFloat(s[4])),t==="y"&&(n.WebKitCSSMatrix?i=a.m42:s.length===16?i=parseFloat(s[13]):i=parseFloat(s[5])),i||0}function wx(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function t0e(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function ca(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const s=n<0||arguments.length<=n?void 0:arguments[n];if(s!=null&&!t0e(s)){const i=Object.keys(Object(s)).filter(a=>t.indexOf(a)<0);for(let a=0,o=i.length;a<o;a+=1){const c=i[a],l=Object.getOwnPropertyDescriptor(s,c);l!==void 0&&l.enumerable&&(wx(e[c])&&wx(s[c])?s[c].__swiper__?e[c]=s[c]:ca(e[c],s[c]):!wx(e[c])&&wx(s[c])?(e[c]={},s[c].__swiper__?e[c]=s[c]:ca(e[c],s[c])):e[c]=s[c])}}}return e}function jx(e,t,n){e.style.setProperty(t,n)}function aQ(e){let{swiper:t,targetPosition:n,side:s}=e;const i=Di(),a=-t.translate;let o=null,c;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(t.cssModeFrameID);const u=n>a?"next":"prev",d=(h,m)=>u==="next"&&h>=m||u==="prev"&&h<=m,f=()=>{c=new Date().getTime(),o===null&&(o=c);const h=Math.max(Math.min((c-o)/l,1),0),m=.5-Math.cos(h*Math.PI)/2;let A=a+m*(n-a);if(d(A,n)&&(A=n),t.wrapperEl.scrollTo({[s]:A}),d(A,n)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[s]:A})}),i.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=i.requestAnimationFrame(f)};f()}function Xo(e,t){t===void 0&&(t="");const n=Di(),s=[...e.children];return n.HTMLSlotElement&&e instanceof HTMLSlotElement&&s.push(...e.assignedElements()),t?s.filter(i=>i.matches(t)):s}function n0e(e,t){const n=[t];for(;n.length>0;){const s=n.shift();if(e===s)return!0;n.push(...s.children,...s.shadowRoot?s.shadowRoot.children:[],...s.assignedElements?s.assignedElements():[])}}function r0e(e,t){const n=Di();let s=t.contains(e);return!s&&n.HTMLSlotElement&&t instanceof HTMLSlotElement&&(s=[...t.assignedElements()].includes(e),s||(s=n0e(e,t))),s}function Ay(e){try{console.warn(e);return}catch{}}function gy(e,t){t===void 0&&(t=[]);const n=document.createElement(e);return n.classList.add(...Array.isArray(t)?t:Yge(t)),n}function s0e(e,t){const n=[];for(;e.previousElementSibling;){const s=e.previousElementSibling;t?s.matches(t)&&n.push(s):n.push(s),e=s}return n}function i0e(e,t){const n=[];for(;e.nextElementSibling;){const s=e.nextElementSibling;t?s.matches(t)&&n.push(s):n.push(s),e=s}return n}function eu(e,t){return Di().getComputedStyle(e,null).getPropertyValue(t)}function xy(e){let t=e,n;if(t){for(n=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(n+=1);return n}}function oQ(e,t){const n=[];let s=e.parentElement;for(;s;)t?s.matches(t)&&n.push(s):n.push(s),s=s.parentElement;return n}function q4(e,t,n){const s=Di();return e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom"))}function Is(e){return(Array.isArray(e)?e:[e]).filter(t=>!!t)}function by(e,t){t===void 0&&(t=""),typeof trustedTypes<"u"?e.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(t):e.innerHTML=t}let Bj;function a0e(){const e=Di(),t=sl();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function lQ(){return Bj||(Bj=a0e()),Bj}let Ej;function o0e(e){let{userAgent:t}=e===void 0?{}:e;const n=lQ(),s=Di(),i=s.navigator.platform,a=t||s.navigator.userAgent,o={ios:!1,android:!1},c=s.screen.width,l=s.screen.height,u=a.match(/(Android);?[\s\/]+([\d.]+)?/);let d=a.match(/(iPad).*OS\s([\d_]+)/);const f=a.match(/(iPod)(.*OS\s([\d_]+))?/),h=!d&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m=i==="Win32";let A=i==="MacIntel";const g=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&A&&n.touch&&g.indexOf(`${c}x${l}`)>=0&&(d=a.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),A=!1),u&&!m&&(o.os="android",o.android=!0),(d||h||f)&&(o.os="ios",o.ios=!0),o}function cQ(e){return e===void 0&&(e={}),Ej||(Ej=o0e(e)),Ej}let Pj;function l0e(){const e=Di(),t=cQ();let n=!1;function s(){const c=e.navigator.userAgent.toLowerCase();return c.indexOf("safari")>=0&&c.indexOf("chrome")<0&&c.indexOf("android")<0}if(s()){const c=String(e.navigator.userAgent);if(c.includes("Version/")){const[l,u]=c.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=l<16||l===16&&u<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),a=s(),o=a||i&&t.ios;return{isSafari:n||a,needPerspectiveFix:n,need3dFix:o,isWebView:i}}function uQ(){return Pj||(Pj=l0e()),Pj}function c0e(e){let{swiper:t,on:n,emit:s}=e;const i=Di();let a=null,o=null;const c=()=>{!t||t.destroyed||!t.initialized||(s("beforeResize"),s("resize"))},l=()=>{!t||t.destroyed||!t.initialized||(a=new ResizeObserver(f=>{o=i.requestAnimationFrame(()=>{const{width:h,height:m}=t;let A=h,g=m;f.forEach(p=>{let{contentBoxSize:b,contentRect:x,target:v}=p;v&&v!==t.el||(A=x?x.width:(b[0]||b).inlineSize,g=x?x.height:(b[0]||b).blockSize)}),(A!==h||g!==m)&&c()})}),a.observe(t.el))},u=()=>{o&&i.cancelAnimationFrame(o),a&&a.unobserve&&t.el&&(a.unobserve(t.el),a=null)},d=()=>{!t||t.destroyed||!t.initialized||s("orientationchange")};n("init",()=>{if(t.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",c),i.addEventListener("orientationchange",d)}),n("destroy",()=>{u(),i.removeEventListener("resize",c),i.removeEventListener("orientationchange",d)})}function u0e(e){let{swiper:t,extendParams:n,on:s,emit:i}=e;const a=[],o=Di(),c=function(d,f){f===void 0&&(f={});const h=o.MutationObserver||o.WebkitMutationObserver,m=new h(A=>{if(t.__preventObserver__)return;if(A.length===1){i("observerUpdate",A[0]);return}const g=function(){i("observerUpdate",A[0])};o.requestAnimationFrame?o.requestAnimationFrame(g):o.setTimeout(g,0)});m.observe(d,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:t.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),a.push(m)},l=()=>{if(t.params.observer){if(t.params.observeParents){const d=oQ(t.hostEl);for(let f=0;f<d.length;f+=1)c(d[f])}c(t.hostEl,{childList:t.params.observeSlideChildren}),c(t.wrapperEl,{attributes:!1})}},u=()=>{a.forEach(d=>{d.disconnect()}),a.splice(0,a.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",l),s("destroy",u)}var d0e={on(e,t,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof t!="function")return s;const i=n?"unshift":"push";return e.split(" ").forEach(a=>{s.eventsListeners[a]||(s.eventsListeners[a]=[]),s.eventsListeners[a][i](t)}),s},once(e,t,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof t!="function")return s;function i(){s.off(e,i),i.__emitterProxy&&delete i.__emitterProxy;for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];t.apply(s,o)}return i.__emitterProxy=t,s.on(e,i,n)},onAny(e,t){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const s=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[s](e),n},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||e.split(" ").forEach(s=>{typeof t>"u"?n.eventsListeners[s]=[]:n.eventsListeners[s]&&n.eventsListeners[s].forEach((i,a)=>{(i===t||i.__emitterProxy&&i.__emitterProxy===t)&&n.eventsListeners[s].splice(a,1)})}),n},emit(){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,n,s;for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return typeof a[0]=="string"||Array.isArray(a[0])?(t=a[0],n=a.slice(1,a.length),s=e):(t=a[0].events,n=a[0].data,s=a[0].context||e),n.unshift(s),(Array.isArray(t)?t:t.split(" ")).forEach(l=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(u=>{u.apply(s,[l,...n])}),e.eventsListeners&&e.eventsListeners[l]&&e.eventsListeners[l].forEach(u=>{u.apply(s,n)})}),e}};function h0e(){const e=this;let t,n;const s=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=s.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?n=e.params.height:n=s.clientHeight,!(t===0&&e.isHorizontal()||n===0&&e.isVertical())&&(t=t-parseInt(eu(s,"padding-left")||0,10)-parseInt(eu(s,"padding-right")||0,10),n=n-parseInt(eu(s,"padding-top")||0,10)-parseInt(eu(s,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))}function f0e(){const e=this;function t(O,L){return parseFloat(O.getPropertyValue(e.getDirectionLabel(L))||0)}const n=e.params,{wrapperEl:s,slidesEl:i,size:a,rtlTranslate:o,wrongRTL:c}=e,l=e.virtual&&n.virtual.enabled,u=l?e.virtual.slides.length:e.slides.length,d=Xo(i,`.${e.params.slideClass}, swiper-slide`),f=l?e.virtual.slides.length:d.length;let h=[];const m=[],A=[];let g=n.slidesOffsetBefore;typeof g=="function"&&(g=n.slidesOffsetBefore.call(e));let p=n.slidesOffsetAfter;typeof p=="function"&&(p=n.slidesOffsetAfter.call(e));const b=e.snapGrid.length,x=e.slidesGrid.length;let v=n.spaceBetween,y=-g,N=0,P=0;if(typeof a>"u")return;typeof v=="string"&&v.indexOf("%")>=0?v=parseFloat(v.replace("%",""))/100*a:typeof v=="string"&&(v=parseFloat(v)),e.virtualSize=-v,d.forEach(O=>{o?O.style.marginLeft="":O.style.marginRight="",O.style.marginBottom="",O.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(jx(s,"--swiper-centered-offset-before",""),jx(s,"--swiper-centered-offset-after",""));const M=n.grid&&n.grid.rows>1&&e.grid;M?e.grid.initSlides(d):e.grid&&e.grid.unsetSlides();let k;const D=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(O=>typeof n.breakpoints[O].slidesPerView<"u").length>0;for(let O=0;O<f;O+=1){k=0;let L;if(d[O]&&(L=d[O]),M&&e.grid.updateSlide(O,L,d),!(d[O]&&eu(L,"display")==="none")){if(n.slidesPerView==="auto"){D&&(d[O].style[e.getDirectionLabel("width")]="");const F=getComputedStyle(L),_=L.style.transform,E=L.style.webkitTransform;if(_&&(L.style.transform="none"),E&&(L.style.webkitTransform="none"),n.roundLengths)k=e.isHorizontal()?q4(L,"width"):q4(L,"height");else{const T=t(F,"width"),w=t(F,"padding-left"),C=t(F,"padding-right"),j=t(F,"margin-left"),S=t(F,"margin-right"),I=F.getPropertyValue("box-sizing");if(I&&I==="border-box")k=T+j+S;else{const{clientWidth:R,offsetWidth:U}=L;k=T+w+C+j+S+(U-R)}}_&&(L.style.transform=_),E&&(L.style.webkitTransform=E),n.roundLengths&&(k=Math.floor(k))}else k=(a-(n.slidesPerView-1)*v)/n.slidesPerView,n.roundLengths&&(k=Math.floor(k)),d[O]&&(d[O].style[e.getDirectionLabel("width")]=`${k}px`);d[O]&&(d[O].swiperSlideSize=k),A.push(k),n.centeredSlides?(y=y+k/2+N/2+v,N===0&&O!==0&&(y=y-a/2-v),O===0&&(y=y-a/2-v),Math.abs(y)<1/1e3&&(y=0),n.roundLengths&&(y=Math.floor(y)),P%n.slidesPerGroup===0&&h.push(y),m.push(y)):(n.roundLengths&&(y=Math.floor(y)),(P-Math.min(e.params.slidesPerGroupSkip,P))%e.params.slidesPerGroup===0&&h.push(y),m.push(y),y=y+k+v),e.virtualSize+=k+v,N=k,P+=1}}if(e.virtualSize=Math.max(e.virtualSize,a)+p,o&&c&&(n.effect==="slide"||n.effect==="coverflow")&&(s.style.width=`${e.virtualSize+v}px`),n.setWrapperSize&&(s.style[e.getDirectionLabel("width")]=`${e.virtualSize+v}px`),M&&e.grid.updateWrapperSize(k,h),!n.centeredSlides){const O=[];for(let L=0;L<h.length;L+=1){let F=h[L];n.roundLengths&&(F=Math.floor(F)),h[L]<=e.virtualSize-a&&O.push(F)}h=O,Math.floor(e.virtualSize-a)-Math.floor(h[h.length-1])>1&&h.push(e.virtualSize-a)}if(l&&n.loop){const O=A[0]+v;if(n.slidesPerGroup>1){const L=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/n.slidesPerGroup),F=O*n.slidesPerGroup;for(let _=0;_<L;_+=1)h.push(h[h.length-1]+F)}for(let L=0;L<e.virtual.slidesBefore+e.virtual.slidesAfter;L+=1)n.slidesPerGroup===1&&h.push(h[h.length-1]+O),m.push(m[m.length-1]+O),e.virtualSize+=O}if(h.length===0&&(h=[0]),v!==0){const O=e.isHorizontal()&&o?"marginLeft":e.getDirectionLabel("marginRight");d.filter((L,F)=>!n.cssMode||n.loop?!0:F!==d.length-1).forEach(L=>{L.style[O]=`${v}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let O=0;A.forEach(F=>{O+=F+(v||0)}),O-=v;const L=O>a?O-a:0;h=h.map(F=>F<=0?-g:F>L?L+p:F)}if(n.centerInsufficientSlides){let O=0;A.forEach(F=>{O+=F+(v||0)}),O-=v;const L=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(O+L<a){const F=(a-O-L)/2;h.forEach((_,E)=>{h[E]=_-F}),m.forEach((_,E)=>{m[E]=_+F})}}if(Object.assign(e,{slides:d,snapGrid:h,slidesGrid:m,slidesSizesGrid:A}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){jx(s,"--swiper-centered-offset-before",`${-h[0]}px`),jx(s,"--swiper-centered-offset-after",`${e.size/2-A[A.length-1]/2}px`);const O=-e.snapGrid[0],L=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(F=>F+O),e.slidesGrid=e.slidesGrid.map(F=>F+L)}if(f!==u&&e.emit("slidesLengthChange"),h.length!==b&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),m.length!==x&&e.emit("slidesGridLengthChange"),n.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const O=`${n.containerModifierClass}backface-hidden`,L=e.el.classList.contains(O);f<=n.maxBackfaceHiddenSlides?L||e.el.classList.add(O):L&&e.el.classList.remove(O)}}function m0e(e){const t=this,n=[],s=t.virtual&&t.params.virtual.enabled;let i=0,a;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);const o=c=>s?t.slides[t.getSlideIndexByData(c)]:t.slides[c];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(c=>{n.push(c)});else for(a=0;a<Math.ceil(t.params.slidesPerView);a+=1){const c=t.activeIndex+a;if(c>t.slides.length&&!s)break;n.push(o(c))}else n.push(o(t.activeIndex));for(a=0;a<n.length;a+=1)if(typeof n[a]<"u"){const c=n[a].offsetHeight;i=c>i?c:i}(i||i===0)&&(t.wrapperEl.style.height=`${i}px`)}function p0e(){const e=this,t=e.slides,n=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let s=0;s<t.length;s+=1)t[s].swiperSlideOffset=(e.isHorizontal()?t[s].offsetLeft:t[s].offsetTop)-n-e.cssOverflowAdjustment()}const vE=(e,t,n)=>{t&&!e.classList.contains(n)?e.classList.add(n):!t&&e.classList.contains(n)&&e.classList.remove(n)};function A0e(e){e===void 0&&(e=this&&this.translate||0);const t=this,n=t.params,{slides:s,rtlTranslate:i,snapGrid:a}=t;if(s.length===0)return;typeof s[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let o=-e;i&&(o=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let c=n.spaceBetween;typeof c=="string"&&c.indexOf("%")>=0?c=parseFloat(c.replace("%",""))/100*t.size:typeof c=="string"&&(c=parseFloat(c));for(let l=0;l<s.length;l+=1){const u=s[l];let d=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=s[0].swiperSlideOffset);const f=(o+(n.centeredSlides?t.minTranslate():0)-d)/(u.swiperSlideSize+c),h=(o-a[0]+(n.centeredSlides?t.minTranslate():0)-d)/(u.swiperSlideSize+c),m=-(o-d),A=m+t.slidesSizesGrid[l],g=m>=0&&m<=t.size-t.slidesSizesGrid[l],p=m>=0&&m<t.size-1||A>1&&A<=t.size||m<=0&&A>=t.size;p&&(t.visibleSlides.push(u),t.visibleSlidesIndexes.push(l)),vE(u,p,n.slideVisibleClass),vE(u,g,n.slideFullyVisibleClass),u.progress=i?-f:f,u.originalProgress=i?-h:h}}function g0e(e){const t=this;if(typeof e>"u"){const d=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*d||0}const n=t.params,s=t.maxTranslate()-t.minTranslate();let{progress:i,isBeginning:a,isEnd:o,progressLoop:c}=t;const l=a,u=o;if(s===0)i=0,a=!0,o=!0;else{i=(e-t.minTranslate())/s;const d=Math.abs(e-t.minTranslate())<1,f=Math.abs(e-t.maxTranslate())<1;a=d||i<=0,o=f||i>=1,d&&(i=0),f&&(i=1)}if(n.loop){const d=t.getSlideIndexByData(0),f=t.getSlideIndexByData(t.slides.length-1),h=t.slidesGrid[d],m=t.slidesGrid[f],A=t.slidesGrid[t.slidesGrid.length-1],g=Math.abs(e);g>=h?c=(g-h)/A:c=(g+A-m)/A,c>1&&(c-=1)}Object.assign(t,{progress:i,progressLoop:c,isBeginning:a,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),a&&!l&&t.emit("reachBeginning toEdge"),o&&!u&&t.emit("reachEnd toEdge"),(l&&!a||u&&!o)&&t.emit("fromEdge"),t.emit("progress",i)}const Mj=(e,t,n)=>{t&&!e.classList.contains(n)?e.classList.add(n):!t&&e.classList.contains(n)&&e.classList.remove(n)};function x0e(){const e=this,{slides:t,params:n,slidesEl:s,activeIndex:i}=e,a=e.virtual&&n.virtual.enabled,o=e.grid&&n.grid&&n.grid.rows>1,c=f=>Xo(s,`.${n.slideClass}${f}, swiper-slide${f}`)[0];let l,u,d;if(a)if(n.loop){let f=i-e.virtual.slidesBefore;f<0&&(f=e.virtual.slides.length+f),f>=e.virtual.slides.length&&(f-=e.virtual.slides.length),l=c(`[data-swiper-slide-index="${f}"]`)}else l=c(`[data-swiper-slide-index="${i}"]`);else o?(l=t.find(f=>f.column===i),d=t.find(f=>f.column===i+1),u=t.find(f=>f.column===i-1)):l=t[i];l&&(o||(d=i0e(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=t[0]),u=s0e(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u===0&&(u=t[t.length-1]))),t.forEach(f=>{Mj(f,f===l,n.slideActiveClass),Mj(f,f===d,n.slideNextClass),Mj(f,f===u,n.slidePrevClass)}),e.emitSlidesClasses()}const Yb=(e,t)=>{if(!e||e.destroyed||!e.params)return;const n=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,s=t.closest(n());if(s){let i=s.querySelector(`.${e.params.lazyPreloaderClass}`);!i&&e.isElement&&(s.shadowRoot?i=s.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(i=s.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},Dj=(e,t)=>{if(!e.slides[t])return;const n=e.slides[t].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},X4=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const n=e.slides.length;if(!n||!t||t<0)return;t=Math.min(t,n);const s=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),i=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const o=i,c=[o-t];c.push(...Array.from({length:t}).map((l,u)=>o+s+u)),e.slides.forEach((l,u)=>{c.includes(l.column)&&Dj(e,u)});return}const a=i+s-1;if(e.params.rewind||e.params.loop)for(let o=i-t;o<=a+t;o+=1){const c=(o%n+n)%n;(c<i||c>a)&&Dj(e,c)}else for(let o=Math.max(i-t,0);o<=Math.min(a+t,n-1);o+=1)o!==i&&(o>a||o<i)&&Dj(e,o)};function b0e(e){const{slidesGrid:t,params:n}=e,s=e.rtlTranslate?e.translate:-e.translate;let i;for(let a=0;a<t.length;a+=1)typeof t[a+1]<"u"?s>=t[a]&&s<t[a+1]-(t[a+1]-t[a])/2?i=a:s>=t[a]&&s<t[a+1]&&(i=a+1):s>=t[a]&&(i=a);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function v0e(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{snapGrid:s,params:i,activeIndex:a,realIndex:o,snapIndex:c}=t;let l=e,u;const d=m=>{let A=m-t.virtual.slidesBefore;return A<0&&(A=t.virtual.slides.length+A),A>=t.virtual.slides.length&&(A-=t.virtual.slides.length),A};if(typeof l>"u"&&(l=b0e(t)),s.indexOf(n)>=0)u=s.indexOf(n);else{const m=Math.min(i.slidesPerGroupSkip,l);u=m+Math.floor((l-m)/i.slidesPerGroup)}if(u>=s.length&&(u=s.length-1),l===a&&!t.params.loop){u!==c&&(t.snapIndex=u,t.emit("snapIndexChange"));return}if(l===a&&t.params.loop&&t.virtual&&t.params.virtual.enabled){t.realIndex=d(l);return}const f=t.grid&&i.grid&&i.grid.rows>1;let h;if(t.virtual&&i.virtual.enabled&&i.loop)h=d(l);else if(f){const m=t.slides.find(g=>g.column===l);let A=parseInt(m.getAttribute("data-swiper-slide-index"),10);Number.isNaN(A)&&(A=Math.max(t.slides.indexOf(m),0)),h=Math.floor(A/i.grid.rows)}else if(t.slides[l]){const m=t.slides[l].getAttribute("data-swiper-slide-index");m?h=parseInt(m,10):h=l}else h=l;Object.assign(t,{previousSnapIndex:c,snapIndex:u,previousRealIndex:o,realIndex:h,previousIndex:a,activeIndex:l}),t.initialized&&X4(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(o!==h&&t.emit("realIndexChange"),t.emit("slideChange"))}function y0e(e,t){const n=this,s=n.params;let i=e.closest(`.${s.slideClass}, swiper-slide`);!i&&n.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach(c=>{!i&&c.matches&&c.matches(`.${s.slideClass}, swiper-slide`)&&(i=c)});let a=!1,o;if(i){for(let c=0;c<n.slides.length;c+=1)if(n.slides[c]===i){a=!0,o=c;break}}if(i&&a)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}s.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var w0e={updateSize:h0e,updateSlides:f0e,updateAutoHeight:m0e,updateSlidesOffset:p0e,updateSlidesProgress:A0e,updateProgress:g0e,updateSlidesClasses:x0e,updateActiveIndex:v0e,updateClickedSlide:y0e};function j0e(e){e===void 0&&(e=this.isHorizontal()?"x":"y");const t=this,{params:n,rtlTranslate:s,translate:i,wrapperEl:a}=t;if(n.virtualTranslate)return s?-i:i;if(n.cssMode)return i;let o=e0e(a,e);return o+=t.cssOverflowAdjustment(),s&&(o=-o),o||0}function C0e(e,t){const n=this,{rtlTranslate:s,params:i,wrapperEl:a,progress:o}=n;let c=0,l=0;const u=0;n.isHorizontal()?c=s?-e:e:l=e,i.roundLengths&&(c=Math.floor(c),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?c:l,i.cssMode?a[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-c:-l:i.virtualTranslate||(n.isHorizontal()?c-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),a.style.transform=`translate3d(${c}px, ${l}px, ${u}px)`);let d;const f=n.maxTranslate()-n.minTranslate();f===0?d=0:d=(e-n.minTranslate())/f,d!==o&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)}function N0e(){return-this.snapGrid[0]}function S0e(){return-this.snapGrid[this.snapGrid.length-1]}function T0e(e,t,n,s,i){e===void 0&&(e=0),t===void 0&&(t=this.params.speed),n===void 0&&(n=!0),s===void 0&&(s=!0);const a=this,{params:o,wrapperEl:c}=a;if(a.animating&&o.preventInteractionOnTransition)return!1;const l=a.minTranslate(),u=a.maxTranslate();let d;if(s&&e>l?d=l:s&&e<u?d=u:d=e,a.updateProgress(d),o.cssMode){const f=a.isHorizontal();if(t===0)c[f?"scrollLeft":"scrollTop"]=-d;else{if(!a.support.smoothScroll)return aQ({swiper:a,targetPosition:-d,side:f?"left":"top"}),!0;c.scrollTo({[f?"left":"top"]:-d,behavior:"smooth"})}return!0}return t===0?(a.setTransition(0),a.setTranslate(d),n&&(a.emit("beforeTransitionStart",t,i),a.emit("transitionEnd"))):(a.setTransition(t),a.setTranslate(d),n&&(a.emit("beforeTransitionStart",t,i),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(h){!a||a.destroyed||h.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,a.animating=!1,n&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}var k0e={getTranslate:j0e,setTranslate:C0e,minTranslate:N0e,maxTranslate:S0e,translateTo:T0e};function _0e(e,t){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${e}ms`,n.wrapperEl.style.transitionDelay=e===0?"0ms":""),n.emit("setTransition",e,t)}function dQ(e){let{swiper:t,runCallbacks:n,direction:s,step:i}=e;const{activeIndex:a,previousIndex:o}=t;let c=s;c||(a>o?c="next":a<o?c="prev":c="reset"),t.emit(`transition${i}`),n&&c==="reset"?t.emit(`slideResetTransition${i}`):n&&a!==o&&(t.emit(`slideChangeTransition${i}`),c==="next"?t.emit(`slideNextTransition${i}`):t.emit(`slidePrevTransition${i}`))}function B0e(e,t){e===void 0&&(e=!0);const n=this,{params:s}=n;s.cssMode||(s.autoHeight&&n.updateAutoHeight(),dQ({swiper:n,runCallbacks:e,direction:t,step:"Start"}))}function E0e(e,t){e===void 0&&(e=!0);const n=this,{params:s}=n;n.animating=!1,!s.cssMode&&(n.setTransition(0),dQ({swiper:n,runCallbacks:e,direction:t,step:"End"}))}var P0e={setTransition:_0e,transitionStart:B0e,transitionEnd:E0e};function M0e(e,t,n,s,i){e===void 0&&(e=0),n===void 0&&(n=!0),typeof e=="string"&&(e=parseInt(e,10));const a=this;let o=e;o<0&&(o=0);const{params:c,snapGrid:l,slidesGrid:u,previousIndex:d,activeIndex:f,rtlTranslate:h,wrapperEl:m,enabled:A}=a;if(!A&&!s&&!i||a.destroyed||a.animating&&c.preventInteractionOnTransition)return!1;typeof t>"u"&&(t=a.params.speed);const g=Math.min(a.params.slidesPerGroupSkip,o);let p=g+Math.floor((o-g)/a.params.slidesPerGroup);p>=l.length&&(p=l.length-1);const b=-l[p];if(c.normalizeSlideIndex)for(let M=0;M<u.length;M+=1){const k=-Math.floor(b*100),D=Math.floor(u[M]*100),O=Math.floor(u[M+1]*100);typeof u[M+1]<"u"?k>=D&&k<O-(O-D)/2?o=M:k>=D&&k<O&&(o=M+1):k>=D&&(o=M)}if(a.initialized&&o!==f&&(!a.allowSlideNext&&(h?b>a.translate&&b>a.minTranslate():b<a.translate&&b<a.minTranslate())||!a.allowSlidePrev&&b>a.translate&&b>a.maxTranslate()&&(f||0)!==o))return!1;o!==(d||0)&&n&&a.emit("beforeSlideChangeStart"),a.updateProgress(b);let x;o>f?x="next":o<f?x="prev":x="reset";const v=a.virtual&&a.params.virtual.enabled;if(!(v&&i)&&(h&&-b===a.translate||!h&&b===a.translate))return a.updateActiveIndex(o),c.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),c.effect!=="slide"&&a.setTranslate(b),x!=="reset"&&(a.transitionStart(n,x),a.transitionEnd(n,x)),!1;if(c.cssMode){const M=a.isHorizontal(),k=h?b:-b;if(t===0)v&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),v&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{m[M?"scrollLeft":"scrollTop"]=k})):m[M?"scrollLeft":"scrollTop"]=k,v&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1});else{if(!a.support.smoothScroll)return aQ({swiper:a,targetPosition:k,side:M?"left":"top"}),!0;m.scrollTo({[M?"left":"top"]:k,behavior:"smooth"})}return!0}const P=uQ().isSafari;return v&&!i&&P&&a.isElement&&a.virtual.update(!1,!1,o),a.setTransition(t),a.setTranslate(b),a.updateActiveIndex(o),a.updateSlidesClasses(),a.emit("beforeTransitionStart",t,s),a.transitionStart(n,x),t===0?a.transitionEnd(n,x):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(k){!a||a.destroyed||k.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(n,x))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0}function D0e(e,t,n,s){e===void 0&&(e=0),n===void 0&&(n=!0),typeof e=="string"&&(e=parseInt(e,10));const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);const a=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=e;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let c;if(a){const h=o*i.params.grid.rows;c=i.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===h).column}else c=i.getSlideIndexByData(o);const l=a?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:u}=i.params;let d=i.params.slidesPerView;d==="auto"?d=i.slidesPerViewDynamic():(d=Math.ceil(parseFloat(i.params.slidesPerView,10)),u&&d%2===0&&(d=d+1));let f=l-c<d;if(u&&(f=f||c<Math.ceil(d/2)),s&&u&&i.params.slidesPerView!=="auto"&&!a&&(f=!1),f){const h=u?c<i.activeIndex?"prev":"next":c-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:h,slideTo:!0,activeSlideIndex:h==="next"?c+1:c-l+1,slideRealIndex:h==="next"?i.realIndex:void 0})}if(a){const h=o*i.params.grid.rows;o=i.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===h).column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,t,n,s)}),i}function I0e(e,t,n){t===void 0&&(t=!0);const s=this,{enabled:i,params:a,animating:o}=s;if(!i||s.destroyed)return s;typeof e>"u"&&(e=s.params.speed);let c=a.slidesPerGroup;a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(c=Math.max(s.slidesPerViewDynamic("current",!0),1));const l=s.activeIndex<a.slidesPerGroupSkip?1:c,u=s.virtual&&a.virtual.enabled;if(a.loop){if(o&&!u&&a.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&a.cssMode)return requestAnimationFrame(()=>{s.slideTo(s.activeIndex+l,e,t,n)}),!0}return a.rewind&&s.isEnd?s.slideTo(0,e,t,n):s.slideTo(s.activeIndex+l,e,t,n)}function O0e(e,t,n){t===void 0&&(t=!0);const s=this,{params:i,snapGrid:a,slidesGrid:o,rtlTranslate:c,enabled:l,animating:u}=s;if(!l||s.destroyed)return s;typeof e>"u"&&(e=s.params.speed);const d=s.virtual&&i.virtual.enabled;if(i.loop){if(u&&!d&&i.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}const f=c?s.translate:-s.translate;function h(x){return x<0?-Math.floor(Math.abs(x)):Math.floor(x)}const m=h(f),A=a.map(x=>h(x)),g=i.freeMode&&i.freeMode.enabled;let p=a[A.indexOf(m)-1];if(typeof p>"u"&&(i.cssMode||g)){let x;a.forEach((v,y)=>{m>=v&&(x=y)}),typeof x<"u"&&(p=g?a[x]:a[x>0?x-1:x])}let b=0;if(typeof p<"u"&&(b=o.indexOf(p),b<0&&(b=s.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(b=b-s.slidesPerViewDynamic("previous",!0)+1,b=Math.max(b,0))),i.rewind&&s.isBeginning){const x=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(x,e,t,n)}else if(i.loop&&s.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{s.slideTo(b,e,t,n)}),!0;return s.slideTo(b,e,t,n)}function L0e(e,t,n){t===void 0&&(t=!0);const s=this;if(!s.destroyed)return typeof e>"u"&&(e=s.params.speed),s.slideTo(s.activeIndex,e,t,n)}function F0e(e,t,n,s){t===void 0&&(t=!0),s===void 0&&(s=.5);const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);let a=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,a),c=o+Math.floor((a-o)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[c]){const u=i.snapGrid[c],d=i.snapGrid[c+1];l-u>(d-u)*s&&(a+=i.params.slidesPerGroup)}else{const u=i.snapGrid[c-1],d=i.snapGrid[c];l-u<=(d-u)*s&&(a-=i.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,i.slidesGrid.length-1),i.slideTo(a,e,t,n)}function R0e(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:n}=e,s=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let i=e.getSlideIndexWhenGrid(e.clickedIndex),a;const o=e.isElement?"swiper-slide":`.${t.slideClass}`,c=e.grid&&e.params.grid&&e.params.grid.rows>1;if(t.loop){if(e.animating)return;a=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?e.slideToLoop(a):i>(c?(e.slides.length-s)/2-(e.params.grid.rows-1):e.slides.length-s)?(e.loopFix(),i=e.getSlideIndex(Xo(n,`${o}[data-swiper-slide-index="${a}"]`)[0]),iQ(()=>{e.slideTo(i)})):e.slideTo(i)}else e.slideTo(i)}var U0e={slideTo:M0e,slideToLoop:D0e,slideNext:I0e,slidePrev:O0e,slideReset:L0e,slideToClosest:F0e,slideToClickedSlide:R0e};function H0e(e,t){const n=this,{params:s,slidesEl:i}=n;if(!s.loop||n.virtual&&n.params.virtual.enabled)return;const a=()=>{Xo(i,`.${s.slideClass}, swiper-slide`).forEach((m,A)=>{m.setAttribute("data-swiper-slide-index",A)})},o=()=>{const h=Xo(i,`.${s.slideBlankClass}`);h.forEach(m=>{m.remove()}),h.length>0&&(n.recalcSlides(),n.updateSlides())},c=n.grid&&s.grid&&s.grid.rows>1;s.loopAddBlankSlides&&(s.slidesPerGroup>1||c)&&o();const l=s.slidesPerGroup*(c?s.grid.rows:1),u=n.slides.length%l!==0,d=c&&n.slides.length%s.grid.rows!==0,f=h=>{for(let m=0;m<h;m+=1){const A=n.isElement?gy("swiper-slide",[s.slideBlankClass]):gy("div",[s.slideClass,s.slideBlankClass]);n.slidesEl.append(A)}};if(u){if(s.loopAddBlankSlides){const h=l-n.slides.length%l;f(h),n.recalcSlides(),n.updateSlides()}else Ay("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");a()}else if(d){if(s.loopAddBlankSlides){const h=s.grid.rows-n.slides.length%s.grid.rows;f(h),n.recalcSlides(),n.updateSlides()}else Ay("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");a()}else a();n.loopFix({slideRealIndex:e,direction:s.centeredSlides?void 0:"next",initial:t})}function $0e(e){let{slideRealIndex:t,slideTo:n=!0,direction:s,setTranslate:i,activeSlideIndex:a,initial:o,byController:c,byMousewheel:l}=e===void 0?{}:e;const u=this;if(!u.params.loop)return;u.emit("beforeLoopFix");const{slides:d,allowSlidePrev:f,allowSlideNext:h,slidesEl:m,params:A}=u,{centeredSlides:g,initialSlide:p}=A;if(u.allowSlidePrev=!0,u.allowSlideNext=!0,u.virtual&&A.virtual.enabled){n&&(!A.centeredSlides&&u.snapIndex===0?u.slideTo(u.virtual.slides.length,0,!1,!0):A.centeredSlides&&u.snapIndex<A.slidesPerView?u.slideTo(u.virtual.slides.length+u.snapIndex,0,!1,!0):u.snapIndex===u.snapGrid.length-1&&u.slideTo(u.virtual.slidesBefore,0,!1,!0)),u.allowSlidePrev=f,u.allowSlideNext=h,u.emit("loopFix");return}let b=A.slidesPerView;b==="auto"?b=u.slidesPerViewDynamic():(b=Math.ceil(parseFloat(A.slidesPerView,10)),g&&b%2===0&&(b=b+1));const x=A.slidesPerGroupAuto?b:A.slidesPerGroup;let v=g?Math.max(x,Math.ceil(b/2)):x;v%x!==0&&(v+=x-v%x),v+=A.loopAdditionalSlides,u.loopedSlides=v;const y=u.grid&&A.grid&&A.grid.rows>1;d.length<b+v||u.params.effect==="cards"&&d.length<b+v*2?Ay("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):y&&A.grid.fill==="row"&&Ay("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const N=[],P=[],M=y?Math.ceil(d.length/A.grid.rows):d.length,k=o&&M-p<b&&!g;let D=k?p:u.activeIndex;typeof a>"u"?a=u.getSlideIndex(d.find(w=>w.classList.contains(A.slideActiveClass))):D=a;const O=s==="next"||!s,L=s==="prev"||!s;let F=0,_=0;const T=(y?d[a].column:a)+(g&&typeof i>"u"?-b/2+.5:0);if(T<v){F=Math.max(v-T,x);for(let w=0;w<v-T;w+=1){const C=w-Math.floor(w/M)*M;if(y){const j=M-C-1;for(let S=d.length-1;S>=0;S-=1)d[S].column===j&&N.push(S)}else N.push(M-C-1)}}else if(T+b>M-v){_=Math.max(T-(M-v*2),x),k&&(_=Math.max(_,b-M+p+1));for(let w=0;w<_;w+=1){const C=w-Math.floor(w/M)*M;y?d.forEach((j,S)=>{j.column===C&&P.push(S)}):P.push(C)}}if(u.__preventObserver__=!0,requestAnimationFrame(()=>{u.__preventObserver__=!1}),u.params.effect==="cards"&&d.length<b+v*2&&(P.includes(a)&&P.splice(P.indexOf(a),1),N.includes(a)&&N.splice(N.indexOf(a),1)),L&&N.forEach(w=>{d[w].swiperLoopMoveDOM=!0,m.prepend(d[w]),d[w].swiperLoopMoveDOM=!1}),O&&P.forEach(w=>{d[w].swiperLoopMoveDOM=!0,m.append(d[w]),d[w].swiperLoopMoveDOM=!1}),u.recalcSlides(),A.slidesPerView==="auto"?u.updateSlides():y&&(N.length>0&&L||P.length>0&&O)&&u.slides.forEach((w,C)=>{u.grid.updateSlide(C,w,u.slides)}),A.watchSlidesProgress&&u.updateSlidesOffset(),n){if(N.length>0&&L){if(typeof t>"u"){const w=u.slidesGrid[D],j=u.slidesGrid[D+F]-w;l?u.setTranslate(u.translate-j):(u.slideTo(D+Math.ceil(F),0,!1,!0),i&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-j,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-j))}else if(i){const w=y?N.length/A.grid.rows:N.length;u.slideTo(u.activeIndex+w,0,!1,!0),u.touchEventsData.currentTranslate=u.translate}}else if(P.length>0&&O)if(typeof t>"u"){const w=u.slidesGrid[D],j=u.slidesGrid[D-_]-w;l?u.setTranslate(u.translate-j):(u.slideTo(D-_,0,!1,!0),i&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-j,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-j))}else{const w=y?P.length/A.grid.rows:P.length;u.slideTo(u.activeIndex-w,0,!1,!0)}}if(u.allowSlidePrev=f,u.allowSlideNext=h,u.controller&&u.controller.control&&!c){const w={slideRealIndex:t,direction:s,setTranslate:i,activeSlideIndex:a,byController:!0};Array.isArray(u.controller.control)?u.controller.control.forEach(C=>{!C.destroyed&&C.params.loop&&C.loopFix({...w,slideTo:C.params.slidesPerView===A.slidesPerView?n:!1})}):u.controller.control instanceof u.constructor&&u.controller.control.params.loop&&u.controller.control.loopFix({...w,slideTo:u.controller.control.params.slidesPerView===A.slidesPerView?n:!1})}u.emit("loopFix")}function Q0e(){const e=this,{params:t,slidesEl:n}=e;if(!t.loop||!n||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const s=[];e.slides.forEach(i=>{const a=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;s[a]=i}),e.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),s.forEach(i=>{n.append(i)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}var z0e={loopCreate:H0e,loopFix:$0e,loopDestroy:Q0e};function V0e(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function K0e(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}var G0e={setGrabCursor:V0e,unsetGrabCursor:K0e};function W0e(e,t){t===void 0&&(t=this);function n(s){if(!s||s===sl()||s===Di())return null;s.assignedSlot&&(s=s.assignedSlot);const i=s.closest(e);return!i&&!s.getRootNode?null:i||n(s.getRootNode().host)}return n(t)}function yE(e,t,n){const s=Di(),{params:i}=e,a=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return a&&(n<=o||n>=s.innerWidth-o)?a==="prevent"?(t.preventDefault(),!0):!1:!0}function q0e(e){const t=this,n=sl();let s=e;s.originalEvent&&(s=s.originalEvent);const i=t.touchEventsData;if(s.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==s.pointerId)return;i.pointerId=s.pointerId}else s.type==="touchstart"&&s.targetTouches.length===1&&(i.touchId=s.targetTouches[0].identifier);if(s.type==="touchstart"){yE(t,s,s.targetTouches[0].pageX);return}const{params:a,touches:o,enabled:c}=t;if(!c||!a.simulateTouch&&s.pointerType==="mouse"||t.animating&&a.preventInteractionOnTransition)return;!t.animating&&a.cssMode&&a.loop&&t.loopFix();let l=s.target;if(a.touchEventsTarget==="wrapper"&&!r0e(l,t.wrapperEl)||"which"in s&&s.which===3||"button"in s&&s.button>0||i.isTouched&&i.isMoved)return;const u=!!a.noSwipingClass&&a.noSwipingClass!=="",d=s.composedPath?s.composedPath():s.path;u&&s.target&&s.target.shadowRoot&&d&&(l=d[0]);const f=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,h=!!(s.target&&s.target.shadowRoot);if(a.noSwiping&&(h?W0e(f,l):l.closest(f))){t.allowClick=!0;return}if(a.swipeHandler&&!l.closest(a.swipeHandler))return;o.currentX=s.pageX,o.currentY=s.pageY;const m=o.currentX,A=o.currentY;if(!yE(t,s,m))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=m,o.startY=A,i.touchStartTime=py(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,a.threshold>0&&(i.allowThresholdMove=!1);let g=!0;l.matches(i.focusableElements)&&(g=!1,l.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==l&&(s.pointerType==="mouse"||s.pointerType!=="mouse"&&!l.matches(i.focusableElements))&&n.activeElement.blur();const p=g&&t.allowTouchMove&&a.touchStartPreventDefault;(a.touchStartForcePreventDefault||p)&&!l.isContentEditable&&s.preventDefault(),a.freeMode&&a.freeMode.enabled&&t.freeMode&&t.animating&&!a.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",s)}function X0e(e){const t=sl(),n=this,s=n.touchEventsData,{params:i,touches:a,rtlTranslate:o,enabled:c}=n;if(!c||!i.simulateTouch&&e.pointerType==="mouse")return;let l=e;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(s.touchId!==null||l.pointerId!==s.pointerId))return;let u;if(l.type==="touchmove"){if(u=[...l.changedTouches].find(N=>N.identifier===s.touchId),!u||u.identifier!==s.touchId)return}else u=l;if(!s.isTouched){s.startMoving&&s.isScrolling&&n.emit("touchMoveOpposite",l);return}const d=u.pageX,f=u.pageY;if(l.preventedByNestedSwiper){a.startX=d,a.startY=f;return}if(!n.allowTouchMove){l.target.matches(s.focusableElements)||(n.allowClick=!1),s.isTouched&&(Object.assign(a,{startX:d,startY:f,currentX:d,currentY:f}),s.touchStartTime=py());return}if(i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(f<a.startY&&n.translate<=n.maxTranslate()||f>a.startY&&n.translate>=n.minTranslate()){s.isTouched=!1,s.isMoved=!1;return}}else{if(o&&(d>a.startX&&-n.translate<=n.maxTranslate()||d<a.startX&&-n.translate>=n.minTranslate()))return;if(!o&&(d<a.startX&&n.translate<=n.maxTranslate()||d>a.startX&&n.translate>=n.minTranslate()))return}if(t.activeElement&&t.activeElement.matches(s.focusableElements)&&t.activeElement!==l.target&&l.pointerType!=="mouse"&&t.activeElement.blur(),t.activeElement&&l.target===t.activeElement&&l.target.matches(s.focusableElements)){s.isMoved=!0,n.allowClick=!1;return}s.allowTouchCallbacks&&n.emit("touchMove",l),a.previousX=a.currentX,a.previousY=a.currentY,a.currentX=d,a.currentY=f;const h=a.currentX-a.startX,m=a.currentY-a.startY;if(n.params.threshold&&Math.sqrt(h**2+m**2)<n.params.threshold)return;if(typeof s.isScrolling>"u"){let N;n.isHorizontal()&&a.currentY===a.startY||n.isVertical()&&a.currentX===a.startX?s.isScrolling=!1:h*h+m*m>=25&&(N=Math.atan2(Math.abs(m),Math.abs(h))*180/Math.PI,s.isScrolling=n.isHorizontal()?N>i.touchAngle:90-N>i.touchAngle)}if(s.isScrolling&&n.emit("touchMoveOpposite",l),typeof s.startMoving>"u"&&(a.currentX!==a.startX||a.currentY!==a.startY)&&(s.startMoving=!0),s.isScrolling||l.type==="touchmove"&&s.preventTouchMoveFromPointerMove){s.isTouched=!1;return}if(!s.startMoving)return;n.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let A=n.isHorizontal()?h:m,g=n.isHorizontal()?a.currentX-a.previousX:a.currentY-a.previousY;i.oneWayMovement&&(A=Math.abs(A)*(o?1:-1),g=Math.abs(g)*(o?1:-1)),a.diff=A,A*=i.touchRatio,o&&(A=-A,g=-g);const p=n.touchesDirection;n.swipeDirection=A>0?"prev":"next",n.touchesDirection=g>0?"prev":"next";const b=n.params.loop&&!i.cssMode,x=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!s.isMoved){if(b&&x&&n.loopFix({direction:n.swipeDirection}),s.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const N=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(N)}s.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}if(new Date().getTime(),i._loopSwapReset!==!1&&s.isMoved&&s.allowThresholdMove&&p!==n.touchesDirection&&b&&x&&Math.abs(A)>=1){Object.assign(a,{startX:d,startY:f,currentX:d,currentY:f,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,s.startTranslate=s.currentTranslate;return}n.emit("sliderMove",l),s.isMoved=!0,s.currentTranslate=A+s.startTranslate;let v=!0,y=i.resistanceRatio;if(i.touchReleaseOnEdges&&(y=0),A>0?(b&&x&&s.allowThresholdMove&&s.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>n.minTranslate()&&(v=!1,i.resistance&&(s.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+s.startTranslate+A)**y))):A<0&&(b&&x&&s.allowThresholdMove&&s.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),s.currentTranslate<n.maxTranslate()&&(v=!1,i.resistance&&(s.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-s.startTranslate-A)**y))),v&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(s.currentTranslate=s.startTranslate),i.threshold>0)if(Math.abs(A)>i.threshold||s.allowThresholdMove){if(!s.allowThresholdMove){s.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,s.currentTranslate=s.startTranslate,a.diff=n.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY;return}}else{s.currentTranslate=s.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(s.currentTranslate),n.setTranslate(s.currentTranslate))}function Y0e(e){const t=this,n=t.touchEventsData;let s=e;s.originalEvent&&(s=s.originalEvent);let i;if(s.type==="touchend"||s.type==="touchcancel"){if(i=[...s.changedTouches].find(N=>N.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||s.pointerId!==n.pointerId)return;i=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)&&!(["pointercancel","contextmenu"].includes(s.type)&&(t.browser.isSafari||t.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:c,rtlTranslate:l,slidesGrid:u,enabled:d}=t;if(!d||!o.simulateTouch&&s.pointerType==="mouse")return;if(n.allowTouchCallbacks&&t.emit("touchEnd",s),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const f=py(),h=f-n.touchStartTime;if(t.allowClick){const N=s.path||s.composedPath&&s.composedPath();t.updateClickedSlide(N&&N[0]||s.target,N),t.emit("tap click",s),h<300&&f-n.lastClickTime<300&&t.emit("doubleTap doubleClick",s)}if(n.lastClickTime=py(),iQ(()=>{t.destroyed||(t.allowClick=!0)}),!n.isTouched||!n.isMoved||!t.swipeDirection||c.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let m;if(o.followFinger?m=l?t.translate:-t.translate:m=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:m});return}const A=m>=-t.maxTranslate()&&!t.params.loop;let g=0,p=t.slidesSizesGrid[0];for(let N=0;N<u.length;N+=N<o.slidesPerGroupSkip?1:o.slidesPerGroup){const P=N<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof u[N+P]<"u"?(A||m>=u[N]&&m<u[N+P])&&(g=N,p=u[N+P]-u[N]):(A||m>=u[N])&&(g=N,p=u[u.length-1]-u[u.length-2])}let b=null,x=null;o.rewind&&(t.isBeginning?x=o.virtual&&o.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(b=0));const v=(m-u[g])/p,y=g<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(h>o.longSwipesMs){if(!o.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(v>=o.longSwipesRatio?t.slideTo(o.rewind&&t.isEnd?b:g+y):t.slideTo(g)),t.swipeDirection==="prev"&&(v>1-o.longSwipesRatio?t.slideTo(g+y):x!==null&&v<0&&Math.abs(v)>o.longSwipesRatio?t.slideTo(x):t.slideTo(g))}else{if(!o.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(s.target===t.navigation.nextEl||s.target===t.navigation.prevEl)?s.target===t.navigation.nextEl?t.slideTo(g+y):t.slideTo(g):(t.swipeDirection==="next"&&t.slideTo(b!==null?b:g+y),t.swipeDirection==="prev"&&t.slideTo(x!==null?x:g))}}function wE(){const e=this,{params:t,el:n}=e;if(n&&n.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:i,snapGrid:a}=e,o=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const c=o&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!c?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!o?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=i,e.allowSlideNext=s,e.params.watchOverflow&&a!==e.snapGrid&&e.checkOverflow()}function Z0e(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function J0e(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:s}=e;if(!s)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let i;const a=e.maxTranslate()-e.minTranslate();a===0?i=0:i=(e.translate-e.minTranslate())/a,i!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function exe(e){const t=this;Yb(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}function txe(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const hQ=(e,t)=>{const n=sl(),{params:s,el:i,wrapperEl:a,device:o}=e,c=!!s.nested,l=t==="on"?"addEventListener":"removeEventListener",u=t;!i||typeof i=="string"||(n[l]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:c}),i[l]("touchstart",e.onTouchStart,{passive:!1}),i[l]("pointerdown",e.onTouchStart,{passive:!1}),n[l]("touchmove",e.onTouchMove,{passive:!1,capture:c}),n[l]("pointermove",e.onTouchMove,{passive:!1,capture:c}),n[l]("touchend",e.onTouchEnd,{passive:!0}),n[l]("pointerup",e.onTouchEnd,{passive:!0}),n[l]("pointercancel",e.onTouchEnd,{passive:!0}),n[l]("touchcancel",e.onTouchEnd,{passive:!0}),n[l]("pointerout",e.onTouchEnd,{passive:!0}),n[l]("pointerleave",e.onTouchEnd,{passive:!0}),n[l]("contextmenu",e.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&i[l]("click",e.onClick,!0),s.cssMode&&a[l]("scroll",e.onScroll),s.updateOnWindowResize?e[u](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",wE,!0):e[u]("observerUpdate",wE,!0),i[l]("load",e.onLoad,{capture:!0}))};function nxe(){const e=this,{params:t}=e;e.onTouchStart=q0e.bind(e),e.onTouchMove=X0e.bind(e),e.onTouchEnd=Y0e.bind(e),e.onDocumentTouchStart=txe.bind(e),t.cssMode&&(e.onScroll=J0e.bind(e)),e.onClick=Z0e.bind(e),e.onLoad=exe.bind(e),hQ(e,"on")}function rxe(){hQ(this,"off")}var sxe={attachEvents:nxe,detachEvents:rxe};const jE=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function ixe(){const e=this,{realIndex:t,initialized:n,params:s,el:i}=e,a=s.breakpoints;if(!a||a&&Object.keys(a).length===0)return;const o=sl(),c=s.breakpointsBase==="window"||!s.breakpointsBase?s.breakpointsBase:"container",l=["window","container"].includes(s.breakpointsBase)||!s.breakpointsBase?e.el:o.querySelector(s.breakpointsBase),u=e.getBreakpoint(a,c,l);if(!u||e.currentBreakpoint===u)return;const f=(u in a?a[u]:void 0)||e.originalParams,h=jE(e,s),m=jE(e,f),A=e.params.grabCursor,g=f.grabCursor,p=s.enabled;h&&!m?(i.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),e.emitContainerClasses()):!h&&m&&(i.classList.add(`${s.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&s.grid.fill==="column")&&i.classList.add(`${s.containerModifierClass}grid-column`),e.emitContainerClasses()),A&&!g?e.unsetGrabCursor():!A&&g&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(P=>{if(typeof f[P]>"u")return;const M=s[P]&&s[P].enabled,k=f[P]&&f[P].enabled;M&&!k&&e[P].disable(),!M&&k&&e[P].enable()});const b=f.direction&&f.direction!==s.direction,x=s.loop&&(f.slidesPerView!==s.slidesPerView||b),v=s.loop;b&&n&&e.changeDirection(),ca(e.params,f);const y=e.params.enabled,N=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),p&&!y?e.disable():!p&&y&&e.enable(),e.currentBreakpoint=u,e.emit("_beforeBreakpoint",f),n&&(x?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!v&&N?(e.loopCreate(t),e.updateSlides()):v&&!N&&e.loopDestroy()),e.emit("breakpoint",f)}function axe(e,t,n){if(t===void 0&&(t="window"),!e||t==="container"&&!n)return;let s=!1;const i=Di(),a=t==="window"?i.innerHeight:n.clientHeight,o=Object.keys(e).map(c=>{if(typeof c=="string"&&c.indexOf("@")===0){const l=parseFloat(c.substr(1));return{value:a*l,point:c}}return{value:c,point:c}});o.sort((c,l)=>parseInt(c.value,10)-parseInt(l.value,10));for(let c=0;c<o.length;c+=1){const{point:l,value:u}=o[c];t==="window"?i.matchMedia(`(min-width: ${u}px)`).matches&&(s=l):u<=n.clientWidth&&(s=l)}return s||"max"}var oxe={setBreakpoint:ixe,getBreakpoint:axe};function lxe(e,t){const n=[];return e.forEach(s=>{typeof s=="object"?Object.keys(s).forEach(i=>{s[i]&&n.push(t+i)}):typeof s=="string"&&n.push(t+s)}),n}function cxe(){const e=this,{classNames:t,params:n,rtl:s,el:i,device:a}=e,o=lxe(["initialized",n.direction,{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:s},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:a.android},{ios:a.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...o),i.classList.add(...t),e.emitContainerClasses()}function uxe(){const e=this,{el:t,classNames:n}=e;!t||typeof t=="string"||(t.classList.remove(...n),e.emitContainerClasses())}var dxe={addClasses:cxe,removeClasses:uxe};function hxe(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:s}=n;if(s){const i=e.slides.length-1,a=e.slidesGrid[i]+e.slidesSizesGrid[i]+s*2;e.isLocked=e.size>a}else e.isLocked=e.snapGrid.length===1;n.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),n.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}var fxe={checkOverflow:hxe},Y4={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function mxe(e,t){return function(s){s===void 0&&(s={});const i=Object.keys(s)[0],a=s[i];if(typeof a!="object"||a===null){ca(t,s);return}if(e[i]===!0&&(e[i]={enabled:!0}),i==="navigation"&&e[i]&&e[i].enabled&&!e[i].prevEl&&!e[i].nextEl&&(e[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&e[i]&&e[i].enabled&&!e[i].el&&(e[i].auto=!0),!(i in e&&"enabled"in a)){ca(t,s);return}typeof e[i]=="object"&&!("enabled"in e[i])&&(e[i].enabled=!0),e[i]||(e[i]={enabled:!1}),ca(t,s)}}const Ij={eventsEmitter:d0e,update:w0e,translate:k0e,transition:P0e,slide:U0e,loop:z0e,grabCursor:G0e,events:sxe,breakpoints:oxe,checkOverflow:fxe,classes:dxe},Oj={};let K5=class Ml{constructor(){let t,n;for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[t,n]=i,n||(n={}),n=ca({},n),t&&!n.el&&(n.el=t);const o=sl();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const d=[];return o.querySelectorAll(n.el).forEach(f=>{const h=ca({},n,{el:f});d.push(new Ml(h))}),d}const c=this;c.__swiper__=!0,c.support=lQ(),c.device=cQ({userAgent:n.userAgent}),c.browser=uQ(),c.eventsListeners={},c.eventsAnyListeners=[],c.modules=[...c.__modules__],n.modules&&Array.isArray(n.modules)&&c.modules.push(...n.modules);const l={};c.modules.forEach(d=>{d({params:n,swiper:c,extendParams:mxe(n,l),on:c.on.bind(c),once:c.once.bind(c),off:c.off.bind(c),emit:c.emit.bind(c)})});const u=ca({},Y4,l);return c.params=ca({},u,Oj,n),c.originalParams=ca({},c.params),c.passedParams=ca({},n),c.params&&c.params.on&&Object.keys(c.params.on).forEach(d=>{c.on(d,c.params.on[d])}),c.params&&c.params.onAny&&c.onAny(c.params.onAny),Object.assign(c,{enabled:c.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return c.params.direction==="horizontal"},isVertical(){return c.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:c.params.allowSlideNext,allowSlidePrev:c.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:c.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:c.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),c.emit("_swiper"),c.params.init&&c.init(),c}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:n,params:s}=this,i=Xo(n,`.${s.slideClass}, swiper-slide`),a=xy(i[0]);return xy(t)-a}getSlideIndexByData(t){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===t))}getSlideIndexWhenGrid(t){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?t=Math.floor(t/this.params.grid.rows):this.params.grid.fill==="row"&&(t=t%Math.ceil(this.slides.length/this.params.grid.rows))),t}recalcSlides(){const t=this,{slidesEl:n,params:s}=t;t.slides=Xo(n,`.${s.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,n){const s=this;t=Math.min(Math.max(t,0),1);const i=s.minTranslate(),o=(s.maxTranslate()-i)*t+i;s.translateTo(o,typeof n>"u"?0:n),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=t.el.className.split(" ").filter(s=>s.indexOf("swiper")===0||s.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",n.join(" "))}getSlideClasses(t){const n=this;return n.destroyed?"":t.className.split(" ").filter(s=>s.indexOf("swiper-slide")===0||s.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=[];t.slides.forEach(s=>{const i=t.getSlideClasses(s);n.push({slideEl:s,classNames:i}),t.emit("_slideClass",s,i)}),t.emit("_slideClasses",n)}slidesPerViewDynamic(t,n){t===void 0&&(t="current"),n===void 0&&(n=!1);const s=this,{params:i,slides:a,slidesGrid:o,slidesSizesGrid:c,size:l,activeIndex:u}=s;let d=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let f=a[u]?Math.ceil(a[u].swiperSlideSize):0,h;for(let m=u+1;m<a.length;m+=1)a[m]&&!h&&(f+=Math.ceil(a[m].swiperSlideSize),d+=1,f>l&&(h=!0));for(let m=u-1;m>=0;m-=1)a[m]&&!h&&(f+=a[m].swiperSlideSize,d+=1,f>l&&(h=!0))}else if(t==="current")for(let f=u+1;f<a.length;f+=1)(n?o[f]+c[f]-o[u]<l:o[f]-o[u]<l)&&(d+=1);else for(let f=u-1;f>=0;f-=1)o[u]-o[f]<l&&(d+=1);return d}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:n,params:s}=t;s.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Yb(t,o)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function i(){const o=t.rtlTranslate?t.translate*-1:t.translate,c=Math.min(Math.max(o,t.maxTranslate()),t.minTranslate());t.setTranslate(c),t.updateActiveIndex(),t.updateSlidesClasses()}let a;if(s.freeMode&&s.freeMode.enabled&&!s.cssMode)i(),s.autoHeight&&t.updateAutoHeight();else{if((s.slidesPerView==="auto"||s.slidesPerView>1)&&t.isEnd&&!s.centeredSlides){const o=t.virtual&&s.virtual.enabled?t.virtual.slides:t.slides;a=t.slideTo(o.length-1,0,!1,!0)}else a=t.slideTo(t.activeIndex,0,!1,!0);a||i()}s.watchOverflow&&n!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,n){n===void 0&&(n=!0);const s=this,i=s.params.direction;return t||(t=i==="horizontal"?"vertical":"horizontal"),t===i||t!=="horizontal"&&t!=="vertical"||(s.el.classList.remove(`${s.params.containerModifierClass}${i}`),s.el.classList.add(`${s.params.containerModifierClass}${t}`),s.emitContainerClasses(),s.params.direction=t,s.slides.forEach(a=>{t==="vertical"?a.style.width="":a.style.height=""}),s.emit("changeDirection"),n&&s.update()),s}changeLanguageDirection(t){const n=this;n.rtl&&t==="rtl"||!n.rtl&&t==="ltr"||(n.rtl=t==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(t){const n=this;if(n.mounted)return!0;let s=t||n.params.el;if(typeof s=="string"&&(s=document.querySelector(s)),!s)return!1;s.swiper=n,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=s&&s.shadowRoot&&s.shadowRoot.querySelector?s.shadowRoot.querySelector(i()):Xo(s,i())[0];return!o&&n.params.createElements&&(o=gy("div",n.params.wrapperClass),s.append(o),Xo(s,`.${n.params.slideClass}`).forEach(c=>{o.append(c)})),Object.assign(n,{el:s,wrapperEl:o,slidesEl:n.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:o,hostEl:n.isElement?s.parentNode.host:s,mounted:!0,rtl:s.dir.toLowerCase()==="rtl"||eu(s,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(s.dir.toLowerCase()==="rtl"||eu(s,"direction")==="rtl"),wrongRTL:eu(o,"display")==="-webkit-box"}),!0}init(t){const n=this;if(n.initialized||n.mount(t)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(a=>{a.complete?Yb(n,a):a.addEventListener("load",o=>{Yb(n,o.target)})}),X4(n),n.initialized=!0,X4(n),n.emit("init"),n.emit("afterInit"),n}destroy(t,n){t===void 0&&(t=!0),n===void 0&&(n=!0);const s=this,{params:i,el:a,wrapperEl:o,slides:c}=s;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),i.loop&&s.loopDestroy(),n&&(s.removeClasses(),a&&typeof a!="string"&&a.removeAttribute("style"),o&&o.removeAttribute("style"),c&&c.length&&c.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(l=>{s.off(l)}),t!==!1&&(s.el&&typeof s.el!="string"&&(s.el.swiper=null),Zge(s)),s.destroyed=!0),null}static extendDefaults(t){ca(Oj,t)}static get extendedDefaults(){return Oj}static get defaults(){return Y4}static installModule(t){Ml.prototype.__modules__||(Ml.prototype.__modules__=[]);const n=Ml.prototype.__modules__;typeof t=="function"&&n.indexOf(t)<0&&n.push(t)}static use(t){return Array.isArray(t)?(t.forEach(n=>Ml.installModule(n)),Ml):(Ml.installModule(t),Ml)}};Object.keys(Ij).forEach(e=>{Object.keys(Ij[e]).forEach(t=>{K5.prototype[t]=Ij[e][t]})});K5.use([c0e,u0e]);const fQ=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function uh(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"&&!e.__swiper__}function Pf(e,t){const n=["__proto__","constructor","prototype"];Object.keys(t).filter(s=>n.indexOf(s)<0).forEach(s=>{typeof e[s]>"u"?e[s]=t[s]:uh(t[s])&&uh(e[s])&&Object.keys(t[s]).length>0?t[s].__swiper__?e[s]=t[s]:Pf(e[s],t[s]):e[s]=t[s]})}function mQ(e){return e===void 0&&(e={}),e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function pQ(e){return e===void 0&&(e={}),e.pagination&&typeof e.pagination.el>"u"}function AQ(e){return e===void 0&&(e={}),e.scrollbar&&typeof e.scrollbar.el>"u"}function gQ(e){e===void 0&&(e="");const t=e.split(" ").map(s=>s.trim()).filter(s=>!!s),n=[];return t.forEach(s=>{n.indexOf(s)<0&&n.push(s)}),n.join(" ")}function pxe(e){return e===void 0&&(e=""),e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}function Axe(e){let{swiper:t,slides:n,passedParams:s,changedParams:i,nextEl:a,prevEl:o,scrollbarEl:c,paginationEl:l}=e;const u=i.filter(D=>D!=="children"&&D!=="direction"&&D!=="wrapperClass"),{params:d,pagination:f,navigation:h,scrollbar:m,virtual:A,thumbs:g}=t;let p,b,x,v,y,N,P,M;i.includes("thumbs")&&s.thumbs&&s.thumbs.swiper&&!s.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(p=!0),i.includes("controller")&&s.controller&&s.controller.control&&d.controller&&!d.controller.control&&(b=!0),i.includes("pagination")&&s.pagination&&(s.pagination.el||l)&&(d.pagination||d.pagination===!1)&&f&&!f.el&&(x=!0),i.includes("scrollbar")&&s.scrollbar&&(s.scrollbar.el||c)&&(d.scrollbar||d.scrollbar===!1)&&m&&!m.el&&(v=!0),i.includes("navigation")&&s.navigation&&(s.navigation.prevEl||o)&&(s.navigation.nextEl||a)&&(d.navigation||d.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(y=!0);const k=D=>{t[D]&&(t[D].destroy(),D==="navigation"?(t.isElement&&(t[D].prevEl.remove(),t[D].nextEl.remove()),d[D].prevEl=void 0,d[D].nextEl=void 0,t[D].prevEl=void 0,t[D].nextEl=void 0):(t.isElement&&t[D].el.remove(),d[D].el=void 0,t[D].el=void 0))};i.includes("loop")&&t.isElement&&(d.loop&&!s.loop?N=!0:!d.loop&&s.loop?P=!0:M=!0),u.forEach(D=>{if(uh(d[D])&&uh(s[D]))Object.assign(d[D],s[D]),(D==="navigation"||D==="pagination"||D==="scrollbar")&&"enabled"in s[D]&&!s[D].enabled&&k(D);else{const O=s[D];(O===!0||O===!1)&&(D==="navigation"||D==="pagination"||D==="scrollbar")?O===!1&&k(D):d[D]=s[D]}}),u.includes("controller")&&!b&&t.controller&&t.controller.control&&d.controller&&d.controller.control&&(t.controller.control=d.controller.control),i.includes("children")&&n&&A&&d.virtual.enabled?(A.slides=n,A.update(!0)):i.includes("virtual")&&A&&d.virtual.enabled&&(n&&(A.slides=n),A.update(!0)),i.includes("children")&&n&&d.loop&&(M=!0),p&&g.init()&&g.update(!0),b&&(t.controller.control=d.controller.control),x&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),t.el.appendChild(l)),l&&(d.pagination.el=l),f.init(),f.render(),f.update()),v&&(t.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-scrollbar"),c.part.add("scrollbar"),t.el.appendChild(c)),c&&(d.scrollbar.el=c),m.init(),m.updateSize(),m.setTranslate()),y&&(t.isElement&&((!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-next"),by(a,t.hostEl.constructor.nextButtonSvg),a.part.add("button-next"),t.el.appendChild(a)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),by(o,t.hostEl.constructor.prevButtonSvg),o.part.add("button-prev"),t.el.appendChild(o))),a&&(d.navigation.nextEl=a),o&&(d.navigation.prevEl=o),h.init(),h.update()),i.includes("allowSlideNext")&&(t.allowSlideNext=s.allowSlideNext),i.includes("allowSlidePrev")&&(t.allowSlidePrev=s.allowSlidePrev),i.includes("direction")&&t.changeDirection(s.direction,!1),(N||M)&&t.loopDestroy(),(P||M)&&t.loopCreate(),t.update()}function gxe(e,t){e===void 0&&(e={}),t===void 0&&(t=!0);const n={on:{}},s={},i={};Pf(n,Y4),n._emitClasses=!0,n.init=!1;const a={},o=fQ.map(l=>l.replace(/_/,"")),c=Object.assign({},e);return Object.keys(c).forEach(l=>{typeof e[l]>"u"||(o.indexOf(l)>=0?uh(e[l])?(n[l]={},i[l]={},Pf(n[l],e[l]),Pf(i[l],e[l])):(n[l]=e[l],i[l]=e[l]):l.search(/on[A-Z]/)===0&&typeof e[l]=="function"?t?s[`${l[2].toLowerCase()}${l.substr(3)}`]=e[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=e[l]:a[l]=e[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:i,rest:a,events:s}}function xxe(e,t){let{el:n,nextEl:s,prevEl:i,paginationEl:a,scrollbarEl:o,swiper:c}=e;mQ(t)&&s&&i&&(c.params.navigation.nextEl=s,c.originalParams.navigation.nextEl=s,c.params.navigation.prevEl=i,c.originalParams.navigation.prevEl=i),pQ(t)&&a&&(c.params.pagination.el=a,c.originalParams.pagination.el=a),AQ(t)&&o&&(c.params.scrollbar.el=o,c.originalParams.scrollbar.el=o),c.init(n)}function bxe(e,t,n,s,i){const a=[];if(!t)return a;const o=l=>{a.indexOf(l)<0&&a.push(l)};if(n&&s){const l=s.map(i),u=n.map(i);l.join("")!==u.join("")&&o("children"),s.length!==n.length&&o("children")}return fQ.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in e&&l in t)if(uh(e[l])&&uh(t[l])){const u=Object.keys(e[l]),d=Object.keys(t[l]);u.length!==d.length?o(l):(u.forEach(f=>{e[l][f]!==t[l][f]&&o(l)}),d.forEach(f=>{e[l][f]!==t[l][f]&&o(l)}))}else e[l]!==t[l]&&o(l)}),a}const vxe=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.emit("_virtualUpdated"),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())};function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vy.apply(this,arguments)}function xQ(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function bQ(e){const t=[];return je.Children.toArray(e).forEach(n=>{xQ(n)?t.push(n):n.props&&n.props.children&&bQ(n.props.children).forEach(s=>t.push(s))}),t}function yxe(e){const t=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return je.Children.toArray(e).forEach(s=>{if(xQ(s))t.push(s);else if(s.props&&s.props.slot&&n[s.props.slot])n[s.props.slot].push(s);else if(s.props&&s.props.children){const i=bQ(s.props.children);i.length>0?i.forEach(a=>t.push(a)):n["container-end"].push(s)}else n["container-end"].push(s)}),{slides:t,slots:n}}function wxe(e,t,n){if(!n)return null;const s=d=>{let f=d;return d<0?f=t.length+d:f>=t.length&&(f=f-t.length),f},i=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:a,to:o}=n,c=e.params.loop?-t.length:0,l=e.params.loop?t.length*2:t.length,u=[];for(let d=c;d<l;d+=1)d>=a&&d<=o&&u.push(t[s(d)]);return u.map((d,f)=>je.cloneElement(d,{swiper:e,style:i,key:d.props.virtualIndex||d.key||`slide-${f}`}))}function CA(e,t){return typeof window>"u"?B.useEffect(e,t):B.useLayoutEffect(e,t)}const CE=B.createContext(null),jxe=B.createContext(null),vQ=B.forwardRef(function(e,t){let{className:n,tag:s="div",wrapperTag:i="div",children:a,onSwiper:o,...c}=e===void 0?{}:e,l=!1;const[u,d]=B.useState("swiper"),[f,h]=B.useState(null),[m,A]=B.useState(!1),g=B.useRef(!1),p=B.useRef(null),b=B.useRef(null),x=B.useRef(null),v=B.useRef(null),y=B.useRef(null),N=B.useRef(null),P=B.useRef(null),M=B.useRef(null),{params:k,passedParams:D,rest:O,events:L}=gxe(c),{slides:F,slots:_}=yxe(a),E=()=>{A(!m)};Object.assign(k.on,{_containerClasses(S,I){d(I)}});const T=()=>{Object.assign(k.on,L),l=!0;const S={...k};if(delete S.wrapperClass,b.current=new K5(S),b.current.virtual&&b.current.params.virtual.enabled){b.current.virtual.slides=F;const I={cache:!1,slides:F,renderExternal:h,renderExternalUpdate:!1};Pf(b.current.params.virtual,I),Pf(b.current.originalParams.virtual,I)}};p.current||T(),b.current&&b.current.on("_beforeBreakpoint",E);const w=()=>{l||!L||!b.current||Object.keys(L).forEach(S=>{b.current.on(S,L[S])})},C=()=>{!L||!b.current||Object.keys(L).forEach(S=>{b.current.off(S,L[S])})};B.useEffect(()=>()=>{b.current&&b.current.off("_beforeBreakpoint",E)}),B.useEffect(()=>{!g.current&&b.current&&(b.current.emitSlidesClasses(),g.current=!0)}),CA(()=>{if(t&&(t.current=p.current),!!p.current)return b.current.destroyed&&T(),xxe({el:p.current,nextEl:y.current,prevEl:N.current,paginationEl:P.current,scrollbarEl:M.current,swiper:b.current},k),o&&!b.current.destroyed&&o(b.current),()=>{b.current&&!b.current.destroyed&&b.current.destroy(!0,!1)}},[]),CA(()=>{w();const S=bxe(D,x.current,F,v.current,I=>I.key);return x.current=D,v.current=F,S.length&&b.current&&!b.current.destroyed&&Axe({swiper:b.current,slides:F,passedParams:D,changedParams:S,nextEl:y.current,prevEl:N.current,scrollbarEl:M.current,paginationEl:P.current}),()=>{C()}}),CA(()=>{vxe(b.current)},[f]);function j(){return k.virtual?wxe(b.current,F,f):F.map((S,I)=>je.cloneElement(S,{swiper:b.current,swiperSlideIndex:I}))}return je.createElement(s,vy({ref:p,className:gQ(`${u}${n?` ${n}`:""}`)},O),je.createElement(jxe.Provider,{value:b.current},_["container-start"],je.createElement(i,{className:pxe(k.wrapperClass)},_["wrapper-start"],j(),_["wrapper-end"]),mQ(k)&&je.createElement(je.Fragment,null,je.createElement("div",{ref:N,className:"swiper-button-prev"}),je.createElement("div",{ref:y,className:"swiper-button-next"})),AQ(k)&&je.createElement("div",{ref:M,className:"swiper-scrollbar"}),pQ(k)&&je.createElement("div",{ref:P,className:"swiper-pagination"}),_["container-end"]))});vQ.displayName="Swiper";const yQ=B.forwardRef(function(e,t){let{tag:n="div",children:s,className:i="",swiper:a,zoom:o,lazy:c,virtualIndex:l,swiperSlideIndex:u,...d}=e===void 0?{}:e;const f=B.useRef(null),[h,m]=B.useState("swiper-slide"),[A,g]=B.useState(!1);function p(y,N,P){N===f.current&&m(P)}CA(()=>{if(typeof u<"u"&&(f.current.swiperSlideIndex=u),t&&(t.current=f.current),!(!f.current||!a)){if(a.destroyed){h!=="swiper-slide"&&m("swiper-slide");return}return a.on("_slideClass",p),()=>{a&&a.off("_slideClass",p)}}}),CA(()=>{a&&f.current&&!a.destroyed&&m(a.getSlideClasses(f.current))},[a]);const b={isActive:h.indexOf("swiper-slide-active")>=0,isVisible:h.indexOf("swiper-slide-visible")>=0,isPrev:h.indexOf("swiper-slide-prev")>=0,isNext:h.indexOf("swiper-slide-next")>=0},x=()=>typeof s=="function"?s(b):s,v=()=>{g(!0)};return je.createElement(n,vy({ref:f,className:gQ(`${h}${i?` ${i}`:""}`),"data-swiper-slide-index":l,onLoad:v},d),o&&je.createElement(CE.Provider,{value:b},je.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},x(),c&&!A&&je.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&je.createElement(CE.Provider,{value:b},x(),c&&!A&&je.createElement("div",{className:"swiper-lazy-preloader"})))});yQ.displayName="SwiperSlide";function wQ(e,t,n,s){return e.params.createElements&&Object.keys(s).forEach(i=>{if(!n[i]&&n.auto===!0){let a=Xo(e.el,`.${s[i]}`)[0];a||(a=gy("div",s[i]),a.className=s[i],e.el.append(a)),n[i]=a,t[i]=a}}),n}function Cxe(e){let{swiper:t,extendParams:n,on:s,emit:i}=e;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};function a(A){let g;return A&&typeof A=="string"&&t.isElement&&(g=t.el.querySelector(A)||t.hostEl.querySelector(A),g)?g:(A&&(typeof A=="string"&&(g=[...document.querySelectorAll(A)]),t.params.uniqueNavElements&&typeof A=="string"&&g&&g.length>1&&t.el.querySelectorAll(A).length===1?g=t.el.querySelector(A):g&&g.length===1&&(g=g[0])),A&&!g?A:g)}function o(A,g){const p=t.params.navigation;A=Is(A),A.forEach(b=>{b&&(b.classList[g?"add":"remove"](...p.disabledClass.split(" ")),b.tagName==="BUTTON"&&(b.disabled=g),t.params.watchOverflow&&t.enabled&&b.classList[t.isLocked?"add":"remove"](p.lockClass))})}function c(){const{nextEl:A,prevEl:g}=t.navigation;if(t.params.loop){o(g,!1),o(A,!1);return}o(g,t.isBeginning&&!t.params.rewind),o(A,t.isEnd&&!t.params.rewind)}function l(A){A.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),i("navigationPrev"))}function u(A){A.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),i("navigationNext"))}function d(){const A=t.params.navigation;if(t.params.navigation=wQ(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(A.nextEl||A.prevEl))return;let g=a(A.nextEl),p=a(A.prevEl);Object.assign(t.navigation,{nextEl:g,prevEl:p}),g=Is(g),p=Is(p);const b=(x,v)=>{x&&x.addEventListener("click",v==="next"?u:l),!t.enabled&&x&&x.classList.add(...A.lockClass.split(" "))};g.forEach(x=>b(x,"next")),p.forEach(x=>b(x,"prev"))}function f(){let{nextEl:A,prevEl:g}=t.navigation;A=Is(A),g=Is(g);const p=(b,x)=>{b.removeEventListener("click",x==="next"?u:l),b.classList.remove(...t.params.navigation.disabledClass.split(" "))};A.forEach(b=>p(b,"next")),g.forEach(b=>p(b,"prev"))}s("init",()=>{t.params.navigation.enabled===!1?m():(d(),c())}),s("toEdge fromEdge lock unlock",()=>{c()}),s("destroy",()=>{f()}),s("enable disable",()=>{let{nextEl:A,prevEl:g}=t.navigation;if(A=Is(A),g=Is(g),t.enabled){c();return}[...A,...g].filter(p=>!!p).forEach(p=>p.classList.add(t.params.navigation.lockClass))}),s("click",(A,g)=>{let{nextEl:p,prevEl:b}=t.navigation;p=Is(p),b=Is(b);const x=g.target;let v=b.includes(x)||p.includes(x);if(t.isElement&&!v){const y=g.path||g.composedPath&&g.composedPath();y&&(v=y.find(N=>p.includes(N)||b.includes(N)))}if(t.params.navigation.hideOnClick&&!v){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===x||t.pagination.el.contains(x)))return;let y;p.length?y=p[0].classList.contains(t.params.navigation.hiddenClass):b.length&&(y=b[0].classList.contains(t.params.navigation.hiddenClass)),i(y===!0?"navigationShow":"navigationHide"),[...p,...b].filter(N=>!!N).forEach(N=>N.classList.toggle(t.params.navigation.hiddenClass))}});const h=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),d(),c()},m=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(t.navigation,{enable:h,disable:m,update:c,init:d,destroy:f})}function xp(e){return e===void 0&&(e=""),`.${e.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function Nxe(e){let{swiper:t,extendParams:n,on:s,emit:i}=e;const a="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:x=>x,formatFractionTotal:x=>x,bulletClass:`${a}-bullet`,bulletActiveClass:`${a}-bullet-active`,modifierClass:`${a}-`,currentClass:`${a}-current`,totalClass:`${a}-total`,hiddenClass:`${a}-hidden`,progressbarFillClass:`${a}-progressbar-fill`,progressbarOppositeClass:`${a}-progressbar-opposite`,clickableClass:`${a}-clickable`,lockClass:`${a}-lock`,horizontalClass:`${a}-horizontal`,verticalClass:`${a}-vertical`,paginationDisabledClass:`${a}-disabled`}}),t.pagination={el:null,bullets:[]};let o,c=0;function l(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&t.pagination.el.length===0}function u(x,v){const{bulletActiveClass:y}=t.params.pagination;x&&(x=x[`${v==="prev"?"previous":"next"}ElementSibling`],x&&(x.classList.add(`${y}-${v}`),x=x[`${v==="prev"?"previous":"next"}ElementSibling`],x&&x.classList.add(`${y}-${v}-${v}`)))}function d(x,v,y){if(x=x%y,v=v%y,v===x+1)return"next";if(v===x-1)return"previous"}function f(x){const v=x.target.closest(xp(t.params.pagination.bulletClass));if(!v)return;x.preventDefault();const y=xy(v)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===y)return;const N=d(t.realIndex,y,t.slides.length);N==="next"?t.slideNext():N==="previous"?t.slidePrev():t.slideToLoop(y)}else t.slideTo(y)}function h(){const x=t.rtl,v=t.params.pagination;if(l())return;let y=t.pagination.el;y=Is(y);let N,P;const M=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,k=t.params.loop?Math.ceil(M/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(P=t.previousRealIndex||0,N=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):typeof t.snapIndex<"u"?(N=t.snapIndex,P=t.previousSnapIndex):(P=t.previousIndex||0,N=t.activeIndex||0),v.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const D=t.pagination.bullets;let O,L,F;if(v.dynamicBullets&&(o=q4(D[0],t.isHorizontal()?"width":"height"),y.forEach(_=>{_.style[t.isHorizontal()?"width":"height"]=`${o*(v.dynamicMainBullets+4)}px`}),v.dynamicMainBullets>1&&P!==void 0&&(c+=N-(P||0),c>v.dynamicMainBullets-1?c=v.dynamicMainBullets-1:c<0&&(c=0)),O=Math.max(N-c,0),L=O+(Math.min(D.length,v.dynamicMainBullets)-1),F=(L+O)/2),D.forEach(_=>{const E=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(T=>`${v.bulletActiveClass}${T}`)].map(T=>typeof T=="string"&&T.includes(" ")?T.split(" "):T).flat();_.classList.remove(...E)}),y.length>1)D.forEach(_=>{const E=xy(_);E===N?_.classList.add(...v.bulletActiveClass.split(" ")):t.isElement&&_.setAttribute("part","bullet"),v.dynamicBullets&&(E>=O&&E<=L&&_.classList.add(...`${v.bulletActiveClass}-main`.split(" ")),E===O&&u(_,"prev"),E===L&&u(_,"next"))});else{const _=D[N];if(_&&_.classList.add(...v.bulletActiveClass.split(" ")),t.isElement&&D.forEach((E,T)=>{E.setAttribute("part",T===N?"bullet-active":"bullet")}),v.dynamicBullets){const E=D[O],T=D[L];for(let w=O;w<=L;w+=1)D[w]&&D[w].classList.add(...`${v.bulletActiveClass}-main`.split(" "));u(E,"prev"),u(T,"next")}}if(v.dynamicBullets){const _=Math.min(D.length,v.dynamicMainBullets+4),E=(o*_-o)/2-F*o,T=x?"right":"left";D.forEach(w=>{w.style[t.isHorizontal()?T:"top"]=`${E}px`})}}y.forEach((D,O)=>{if(v.type==="fraction"&&(D.querySelectorAll(xp(v.currentClass)).forEach(L=>{L.textContent=v.formatFractionCurrent(N+1)}),D.querySelectorAll(xp(v.totalClass)).forEach(L=>{L.textContent=v.formatFractionTotal(k)})),v.type==="progressbar"){let L;v.progressbarOpposite?L=t.isHorizontal()?"vertical":"horizontal":L=t.isHorizontal()?"horizontal":"vertical";const F=(N+1)/k;let _=1,E=1;L==="horizontal"?_=F:E=F,D.querySelectorAll(xp(v.progressbarFillClass)).forEach(T=>{T.style.transform=`translate3d(0,0,0) scaleX(${_}) scaleY(${E})`,T.style.transitionDuration=`${t.params.speed}ms`})}v.type==="custom"&&v.renderCustom?(by(D,v.renderCustom(t,N+1,k)),O===0&&i("paginationRender",D)):(O===0&&i("paginationRender",D),i("paginationUpdate",D)),t.params.watchOverflow&&t.enabled&&D.classList[t.isLocked?"add":"remove"](v.lockClass)})}function m(){const x=t.params.pagination;if(l())return;const v=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let y=t.pagination.el;y=Is(y);let N="";if(x.type==="bullets"){let P=t.params.loop?Math.ceil(v/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&P>v&&(P=v);for(let M=0;M<P;M+=1)x.renderBullet?N+=x.renderBullet.call(t,M,x.bulletClass):N+=`<${x.bulletElement} ${t.isElement?'part="bullet"':""} class="${x.bulletClass}"></${x.bulletElement}>`}x.type==="fraction"&&(x.renderFraction?N=x.renderFraction.call(t,x.currentClass,x.totalClass):N=`<span class="${x.currentClass}"></span> / <span class="${x.totalClass}"></span>`),x.type==="progressbar"&&(x.renderProgressbar?N=x.renderProgressbar.call(t,x.progressbarFillClass):N=`<span class="${x.progressbarFillClass}"></span>`),t.pagination.bullets=[],y.forEach(P=>{x.type!=="custom"&&by(P,N||""),x.type==="bullets"&&t.pagination.bullets.push(...P.querySelectorAll(xp(x.bulletClass)))}),x.type!=="custom"&&i("paginationRender",y[0])}function A(){t.params.pagination=wQ(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const x=t.params.pagination;if(!x.el)return;let v;typeof x.el=="string"&&t.isElement&&(v=t.el.querySelector(x.el)),!v&&typeof x.el=="string"&&(v=[...document.querySelectorAll(x.el)]),v||(v=x.el),!(!v||v.length===0)&&(t.params.uniqueNavElements&&typeof x.el=="string"&&Array.isArray(v)&&v.length>1&&(v=[...t.el.querySelectorAll(x.el)],v.length>1&&(v=v.find(y=>oQ(y,".swiper")[0]===t.el))),Array.isArray(v)&&v.length===1&&(v=v[0]),Object.assign(t.pagination,{el:v}),v=Is(v),v.forEach(y=>{x.type==="bullets"&&x.clickable&&y.classList.add(...(x.clickableClass||"").split(" ")),y.classList.add(x.modifierClass+x.type),y.classList.add(t.isHorizontal()?x.horizontalClass:x.verticalClass),x.type==="bullets"&&x.dynamicBullets&&(y.classList.add(`${x.modifierClass}${x.type}-dynamic`),c=0,x.dynamicMainBullets<1&&(x.dynamicMainBullets=1)),x.type==="progressbar"&&x.progressbarOpposite&&y.classList.add(x.progressbarOppositeClass),x.clickable&&y.addEventListener("click",f),t.enabled||y.classList.add(x.lockClass)}))}function g(){const x=t.params.pagination;if(l())return;let v=t.pagination.el;v&&(v=Is(v),v.forEach(y=>{y.classList.remove(x.hiddenClass),y.classList.remove(x.modifierClass+x.type),y.classList.remove(t.isHorizontal()?x.horizontalClass:x.verticalClass),x.clickable&&(y.classList.remove(...(x.clickableClass||"").split(" ")),y.removeEventListener("click",f))})),t.pagination.bullets&&t.pagination.bullets.forEach(y=>y.classList.remove(...x.bulletActiveClass.split(" ")))}s("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const x=t.params.pagination;let{el:v}=t.pagination;v=Is(v),v.forEach(y=>{y.classList.remove(x.horizontalClass,x.verticalClass),y.classList.add(t.isHorizontal()?x.horizontalClass:x.verticalClass)})}),s("init",()=>{t.params.pagination.enabled===!1?b():(A(),m(),h())}),s("activeIndexChange",()=>{typeof t.snapIndex>"u"&&h()}),s("snapIndexChange",()=>{h()}),s("snapGridLengthChange",()=>{m(),h()}),s("destroy",()=>{g()}),s("enable disable",()=>{let{el:x}=t.pagination;x&&(x=Is(x),x.forEach(v=>v.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),s("lock unlock",()=>{h()}),s("click",(x,v)=>{const y=v.target,N=Is(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&N&&N.length>0&&!y.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&y===t.navigation.nextEl||t.navigation.prevEl&&y===t.navigation.prevEl))return;const P=N[0].classList.contains(t.params.pagination.hiddenClass);i(P===!0?"paginationShow":"paginationHide"),N.forEach(M=>M.classList.toggle(t.params.pagination.hiddenClass))}});const p=()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:x}=t.pagination;x&&(x=Is(x),x.forEach(v=>v.classList.remove(t.params.pagination.paginationDisabledClass))),A(),m(),h()},b=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:x}=t.pagination;x&&(x=Is(x),x.forEach(v=>v.classList.add(t.params.pagination.paginationDisabledClass))),g()};Object.assign(t.pagination,{enable:p,disable:b,render:m,update:h,init:A,destroy:g})}function Sxe(e){let{swiper:t,extendParams:n,on:s,emit:i,params:a}=e;t.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,c,l=a&&a.autoplay?a.autoplay.delay:3e3,u=a&&a.autoplay?a.autoplay.delay:3e3,d,f=new Date().getTime(),h,m,A,g,p,b,x;function v(j){!t||t.destroyed||!t.wrapperEl||j.target===t.wrapperEl&&(t.wrapperEl.removeEventListener("transitionend",v),!(x||j.detail&&j.detail.bySwiperTouchMove)&&O())}const y=()=>{if(t.destroyed||!t.autoplay.running)return;t.autoplay.paused?h=!0:h&&(u=d,h=!1);const j=t.autoplay.paused?d:f+u-new Date().getTime();t.autoplay.timeLeft=j,i("autoplayTimeLeft",j,j/l),c=requestAnimationFrame(()=>{y()})},N=()=>{let j;return t.virtual&&t.params.virtual.enabled?j=t.slides.find(I=>I.classList.contains("swiper-slide-active")):j=t.slides[t.activeIndex],j?parseInt(j.getAttribute("data-swiper-autoplay"),10):void 0},P=j=>{if(t.destroyed||!t.autoplay.running)return;cancelAnimationFrame(c),y();let S=typeof j>"u"?t.params.autoplay.delay:j;l=t.params.autoplay.delay,u=t.params.autoplay.delay;const I=N();!Number.isNaN(I)&&I>0&&typeof j>"u"&&(S=I,l=I,u=I),d=S;const R=t.params.speed,U=()=>{!t||t.destroyed||(t.params.autoplay.reverseDirection?!t.isBeginning||t.params.loop||t.params.rewind?(t.slidePrev(R,!0,!0),i("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(t.slides.length-1,R,!0,!0),i("autoplay")):!t.isEnd||t.params.loop||t.params.rewind?(t.slideNext(R,!0,!0),i("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(0,R,!0,!0),i("autoplay")),t.params.cssMode&&(f=new Date().getTime(),requestAnimationFrame(()=>{P()})))};return S>0?(clearTimeout(o),o=setTimeout(()=>{U()},S)):requestAnimationFrame(()=>{U()}),S},M=()=>{f=new Date().getTime(),t.autoplay.running=!0,P(),i("autoplayStart")},k=()=>{t.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(c),i("autoplayStop")},D=(j,S)=>{if(t.destroyed||!t.autoplay.running)return;clearTimeout(o),j||(b=!0);const I=()=>{i("autoplayPause"),t.params.autoplay.waitForTransition?t.wrapperEl.addEventListener("transitionend",v):O()};if(t.autoplay.paused=!0,S){p&&(d=t.params.autoplay.delay),p=!1,I();return}d=(d||t.params.autoplay.delay)-(new Date().getTime()-f),!(t.isEnd&&d<0&&!t.params.loop)&&(d<0&&(d=0),I())},O=()=>{t.isEnd&&d<0&&!t.params.loop||t.destroyed||!t.autoplay.running||(f=new Date().getTime(),b?(b=!1,P(d)):P(),t.autoplay.paused=!1,i("autoplayResume"))},L=()=>{if(t.destroyed||!t.autoplay.running)return;const j=sl();j.visibilityState==="hidden"&&(b=!0,D(!0)),j.visibilityState==="visible"&&O()},F=j=>{j.pointerType==="mouse"&&(b=!0,x=!0,!(t.animating||t.autoplay.paused)&&D(!0))},_=j=>{j.pointerType==="mouse"&&(x=!1,t.autoplay.paused&&O())},E=()=>{t.params.autoplay.pauseOnMouseEnter&&(t.el.addEventListener("pointerenter",F),t.el.addEventListener("pointerleave",_))},T=()=>{t.el&&typeof t.el!="string"&&(t.el.removeEventListener("pointerenter",F),t.el.removeEventListener("pointerleave",_))},w=()=>{sl().addEventListener("visibilitychange",L)},C=()=>{sl().removeEventListener("visibilitychange",L)};s("init",()=>{t.params.autoplay.enabled&&(E(),w(),M())}),s("destroy",()=>{T(),C(),t.autoplay.running&&k()}),s("_freeModeStaticRelease",()=>{(A||b)&&O()}),s("_freeModeNoMomentumRelease",()=>{t.params.autoplay.disableOnInteraction?k():D(!0,!0)}),s("beforeTransitionStart",(j,S,I)=>{t.destroyed||!t.autoplay.running||(I||!t.params.autoplay.disableOnInteraction?D(!0,!0):k())}),s("sliderFirstMove",()=>{if(!(t.destroyed||!t.autoplay.running)){if(t.params.autoplay.disableOnInteraction){k();return}m=!0,A=!1,b=!1,g=setTimeout(()=>{b=!0,A=!0,D(!0)},200)}}),s("touchEnd",()=>{if(!(t.destroyed||!t.autoplay.running||!m)){if(clearTimeout(g),clearTimeout(o),t.params.autoplay.disableOnInteraction){A=!1,m=!1;return}A&&t.params.cssMode&&O(),A=!1,m=!1}}),s("slideChange",()=>{t.destroyed||!t.autoplay.running||(p=!0)}),Object.assign(t.autoplay,{start:M,stop:k,pause:D,resume:O})}const Txe=({children:e,magnifierSize:t=227,zoomLevel:n=3,imageSrc:s})=>{var g,p;const[i,a]=B.useState(!1),[o,c]=B.useState({x:0,y:0}),[l,u]=B.useState("0px 0px"),d=B.useRef(null),f=B.useRef(null),h=b=>{if(!d.current||!f.current)return;const x=d.current.getBoundingClientRect(),v=b.clientX-x.left,y=b.clientY-x.top;if(v<0||v>x.width||y<0||y>x.height){a(!1);return}let N=v+20,P=y-t-20;const M=window.innerWidth,k=b.clientX+20,D=b.clientY-t-20;k+t>M&&(N=v-t-20),D<0&&(P=y+20),c({x:N,y:P});const O=-(v*n-t/2),L=-(y*n-t/2);u(`${O}px ${L}px`)},m=()=>{a(!0)},A=()=>{a(!1)};return r.jsxs("div",{ref:d,className:"magnifier-container",style:{position:"relative",display:"inline-block",overflow:"visible"},onMouseMove:h,onMouseEnter:m,onMouseLeave:A,children:[e,i&&r.jsx("div",{ref:f,className:"magnifier-glass",style:{position:"absolute",width:`${t}px`,height:`${t}px`,border:"3px solid #000",backgroundColor:"#fff",boxShadow:"0 0 10px rgba(0,0,0,0.5)",pointerEvents:"none",zIndex:1e3,left:`${o.x}px`,top:`${o.y}px`,backgroundImage:`url(${s})`,backgroundSize:`${((g=d.current)==null?void 0:g.offsetWidth)*n}px ${((p=d.current)==null?void 0:p.offsetHeight)*n}px`,backgroundPosition:l,backgroundRepeat:"no-repeat"}})]})},jQ=({product:e})=>{var u,d,f,h,m,A,g,p,b,x;const[t,n]=B.useState(new Set),[s,i]=B.useState(0),a=B.useRef(null),o=v=>{const y=new Set(t);y.has(v)?y.delete(v):y.add(v),n(y)},c=v=>{i(v+1)},l=()=>{var v,y,N;if((N=(y=(v=e==null?void 0:e.moTaChiTiet)==null?void 0:v.picture)==null?void 0:y[s])!=null&&N.url){const P=`data:image/jpeg;base64,${e.moTaChiTiet.picture[s].url}`,M=window.open("","_blank","width=800,height=600,scrollbars=yes,resizable=yes");if(!M){alert("Không thể mở cửa sổ ảnh. Vui lòng kiểm tra popup blocker!");return}const k=`
                <!DOCTYPE html>
                <html lang="vi">
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>Ảnh Sản Phẩm Toàn Kích Thước</title>
                    <style>
                        body { margin: 0; padding: 0; background-color: #f1f1f1; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
                        img { max-width: 100%; max-height: 100vh; object-fit: contain; }
                    </style>
                </head>
                <body>
                    <img src="${P}" alt="Full Size Product Image" />
                </body>
                </html>
            `;M.document.write(k),M.document.close(),M.focus()}};return e!=null&&e.moTaChiTiet?r.jsxs("div",{className:"p-4 lg:p-8",children:[r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-6 lg:p-8 mb-8 transition-all duration-300",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-2 rounded-full text-sm font-medium mb-4",children:"Mô Tả Chi Tiết Của Sản Phẩm"}),(e==null?void 0:e.tenSanPham)&&r.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-800 mb-2",children:e.tenSanPham}),((f=(d=(u=e==null?void 0:e.moTaChiTiet)==null?void 0:u.moTa)==null?void 0:d.header)==null?void 0:f.title)&&r.jsx("h2",{className:"text-xl lg:text-2xl font-semibold text-gray-700 mb-4",children:e.moTaChiTiet.moTa.header.title}),r.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-blue-500 to-purple-600 mx-auto rounded-full"})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 lg:p-8 order-2 lg:order-1 transition-all duration-300",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[r.jsx("span",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm mr-3",children:"📸"}),"Hình ảnh sản phẩm"]}),(A=(m=(h=e.moTaChiTiet.moTa)==null?void 0:h.picture)==null?void 0:m[s])!=null&&A.url?r.jsx(Txe,{magnifierSize:227,zoomLevel:3,imageSrc:`data:image/jpeg;base64,${(g=e.moTaChiTiet.moTa)==null?void 0:g.picture[s].url}`,children:r.jsx("img",{ref:a,src:`data:image/jpeg;base64,${(p=e.moTaChiTiet.moTa)==null?void 0:p.picture[s].url}`,alt:"Main Image",className:"w-full max-w-md mx-auto rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 cursor-pointer",onClick:l})}):r.jsx("div",{className:"text-gray-600 text-center",children:"Không có ảnh sản phẩm."}),((b=e.moTaChiTiet.moTa.picture)==null?void 0:b.slice(1).length)>0&&r.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 mt-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"🖼️ Thư viện ảnh"}),r.jsxs(vQ,{slidesPerView:1,spaceBetween:16,breakpoints:{640:{slidesPerView:2},1024:{slidesPerView:3}},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},autoplay:{delay:3e3,disableOnInteraction:!1},loop:e.moTaChiTiet.moTa.picture.length>1,modules:[Cxe,Nxe,Sxe],className:"swiper",children:[e.moTaChiTiet.moTa.picture.slice(1).map((v,y)=>v.url&&r.jsx(yQ,{children:r.jsx("img",{src:`data:image/jpeg;base64,${v.url}`,alt:`Gallery Image ${y+1}`,className:"w-full h-48 object-cover rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300 cursor-pointer",onClick:()=>c(y)})},y)),r.jsx("div",{className:"swiper-pagination mt-4"}),r.jsx("div",{className:"swiper-button-prev"}),r.jsx("div",{className:"swiper-button-next"})]})]})]}),r.jsx("div",{className:"space-y-6 order-1 lg:order-2",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 transition-all duration-300",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[r.jsx("span",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm mr-3",children:"ℹ️"}),"Mô Tả Chi Tiết"]}),r.jsx("div",{className:"space-y-4",children:(x=e.moTaChiTiet.moTa.title)==null?void 0:x.map((v,y)=>{var N;return r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden transition-all duration-300",children:[v.name&&r.jsx("div",{className:"p-6 cursor-pointer hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100",onClick:()=>o(y),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center",children:[r.jsx("span",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm mr-3",children:y+1}),v.name]}),r.jsx("div",{className:`arrow-rotate ${t.has(y)?"rotated":""}`,children:r.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}),r.jsx("div",{className:`title-content ${t.has(y)?"active":""}`,children:r.jsx("div",{className:"p-6 pt-0",children:(N=v.subtitle)==null?void 0:N.map((P,M)=>{var k;return r.jsxs("div",{className:"mb-6 last:mb-0",children:[P.name&&r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 mb-3",children:r.jsxs("h4",{className:"text-lg font-semibold text-gray-700 flex items-center",children:[r.jsx("span",{className:"w-6 h-6 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white text-xs mr-2",children:"✓"}),P.name]})}),((k=P.description)==null?void 0:k.content)&&r.jsx("div",{className:"text-gray-600 prose max-w-none pl-8 leading-relaxed",dangerouslySetInnerHTML:{__html:P.description.content}})]},M)})})})]},y)})})]})})]})]}),r.jsx("style",{children:`
                .magnifier-container {
                    position: relative;
                    display: inline-block;
                    overflow: visible;
                }
                
                .magnifier-glass {
                    position: absolute;
                    width: 227px;
                    height: 227px;
                    border: 3px solid #000;
                    background-color: #fff;
                    box-shadow: 0 0 10px rgba(0,0,0,0.5);
                    pointer-events: none;
                    z-index: 1000;
                }
                
                ::-webkit-scrollbar {
                    width: 8px;
                }
                
                ::-webkit-scrollbar-track {
                    background: #f1f1f1;
                    border-radius: 4px;
                }
                
                ::-webkit-scrollbar-thumb {
                    background: #888;
                    border-radius: 4px;
                }
                
                ::-webkit-scrollbar-thumb:hover {
                    background: #555;
                }
                
                .title-content {
                    max-height: 0;
                    overflow: hidden;
                    transition: max-height 0.3s ease-out;
                }
                
                .title-content.active {
                    max-height: 1000px;
                    transition: max-height 0.5s ease-in;
                }
                
                .swiper-button-next,
                .swiper-button-prev {
                    color: #3b82f6;
                    background: white;
                    border-radius: 50%;
                    width: 44px;
                    height: 44px;
                    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                }
                
                .swiper-button-next::after,
                .swiper-button-prev::after {
                    font-size: 18px;
                    font-weight: bold;
                }
                
                .swiper-pagination-bullet {
                    background: #3b82f6;
                    opacity: 0.7;
                }
                
                .swiper-pagination-bullet-active {
                    opacity: 1;
                }
                
                .arrow-rotate {
                    transition: transform 0.3s ease;
                }
                
                .arrow-rotate.rotated {
                    transform: rotate(180deg);
                }
            `})]}):r.jsx("div",{className:"text-gray-600 p-4",children:"Không có mô tả chi tiết."})},Ai=(e,t)=>{we.fire({toast:!0,title:e,icon:t,timer:2500,position:"top-end",showConfirmButton:!1})},kxe=()=>{const[e,t]=B.useState(null),[n,s]=B.useState(null),[i,a]=B.useState(null),[o,c]=B.useState(null),[l,u]=B.useState(null),[d,f]=B.useState(!1),[h,m]=B.useState(1),[A,g]=B.useState(1),[p,b]=B.useState(1),x="https://bicacuatho.azurewebsites.net",v=(L,F,_)=>{if(L.preventDefault(),L.stopPropagation(),L.dataTransfer.files&&L.dataTransfer.files[0]){const E=L.dataTransfer.files[0];if(E.type.startsWith("image/")){F(E);const T=URL.createObjectURL(E);_(T)}}},y=(L,F)=>{const _=document.createElement("input");_.type="file",_.accept="image/*",_.onchange=E=>{const T=E.target;if(T.files&&T.files[0]){const w=T.files[0];L(w);const C=URL.createObjectURL(w);F(C)}},_.click()},N=L=>{L.preventDefault(),L.stopPropagation()},P=L=>{L(F=>Math.min(F+.1,3))},M=L=>{L(F=>Math.max(F-.1,.5))};B.useEffect(()=>()=>{i&&URL.revokeObjectURL(i),o&&URL.revokeObjectURL(o)},[i,o]);const k=L=>new Promise((F,_)=>{const E=new FileReader;E.onload=()=>{if(typeof E.result=="string"){const T=E.result.split(",")[1];F(T)}else _(new Error("Kết quả không phải là chuỗi"))},E.onerror=_,E.readAsDataURL(L)}),D=async()=>{if(!e||!n){we.fire({icon:"error",title:"Lỗi",text:"Vui lòng chọn cả hai tệp hình ảnh!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}f(!0);try{const L=await k(e),F=await k(n),_={cauHoi:"Mặc cái áo này lên người này giúp tôi",hinhAnh:[L,F]},E=await fetch(`${x}/api/Gemini/Response`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)}),T=await E.json();E.ok&&T.result?(u(`data:image/png;base64,${T.result}`),b(1)):we.fire({icon:"error",title:"Lỗi",text:T.errorMessage||"Có lỗi xảy ra khi xử lý yêu cầu",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(L){console.error("Lỗi:",L),we.fire({icon:"error",title:"Lỗi",text:"Có lỗi xảy ra khi gửi yêu cầu đến API",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{f(!1)}},O=()=>{t(null),s(null),a(null),c(null),u(null),m(1),g(1),b(1)};return r.jsxs("div",{className:"max-w-6xl mx-auto relative bg-white rounded-2xl shadow-2xl border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 px-6 py-4",children:r.jsxs("h2",{className:"text-white text-2xl font-bold text-center flex items-center justify-center gap-3",children:[r.jsx(ha,{className:"h-6 w-6"}),"Mặc Thử Đồ Bằng AI",r.jsx(ha,{className:"h-6 w-6"})]})}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("label",{className:"block text-lg font-semibold mb-4 text-gray-700",children:"Chọn ảnh người (Tệp 1):"}),r.jsx("div",{className:"relative w-full h-80 border-3 border-dashed border-gray-300 rounded-xl flex items-center justify-center bg-gray-50 cursor-pointer hover:border-purple-400 hover:bg-purple-50 transition-all duration-300",onDrop:L=>v(L,t,a),onDragOver:N,onClick:()=>y(t,a),children:i?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:i,alt:"Preview 1",className:"max-w-full max-h-72 object-contain rounded-lg shadow-lg",style:{transform:`scale(${h})`}}),r.jsx("button",{className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center hover:bg-red-600 transition-colors",onClick:L=>{L.stopPropagation(),t(null),a(null),m(1)},children:r.jsx(st,{size:16})}),r.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-2",children:[r.jsx("button",{className:"bg-gray-800 text-white rounded-md w-8 h-8 flex items-center justify-center hover:bg-gray-700 transition-colors",onClick:L=>{L.stopPropagation(),P(m)},children:"+"}),r.jsx("button",{className:"bg-gray-800 text-white rounded-md w-8 h-8 flex items-center justify-center hover:bg-gray-700 transition-colors",onClick:L=>{L.stopPropagation(),M(m)},children:"-"})]})]}):r.jsxs("div",{className:"text-center",children:[r.jsx(Wr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Kéo thả hoặc click để chọn ảnh"})]})})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("label",{className:"block text-lg font-semibold mb-4 text-gray-700",children:"Chọn ảnh quần áo (Tệp 2):"}),r.jsx("div",{className:"relative w-full h-80 border-3 border-dashed border-gray-300 rounded-xl flex items-center justify-center bg-gray-50 cursor-pointer hover:border-pink-400 hover:bg-pink-50 transition-all duration-300",onDrop:L=>v(L,s,c),onDragOver:N,onClick:()=>y(s,c),children:o?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:o,alt:"Preview 2",className:"max-w-full max-h-72 object-contain rounded-lg shadow-lg",style:{transform:`scale(${A})`}}),r.jsx("button",{className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center hover:bg-red-600 transition-colors",onClick:L=>{L.stopPropagation(),s(null),c(null),g(1)},children:r.jsx(st,{size:16})}),r.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-2",children:[r.jsx("button",{className:"bg-gray-800 text-white rounded-md w-8 h-8 flex items-center justify-center hover:bg-gray-700 transition-colors",onClick:L=>{L.stopPropagation(),P(g)},children:"+"}),r.jsx("button",{className:"bg-gray-800 text-white rounded-md w-8 h-8 flex items-center justify-center hover:bg-gray-700 transition-colors",onClick:L=>{L.stopPropagation(),M(g)},children:"-"})]})]}):r.jsxs("div",{className:"text-center",children:[r.jsx(Wr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Kéo thả hoặc click để chọn ảnh"})]})})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("label",{className:"block text-lg font-semibold mb-4 text-gray-700",children:"Kết quả AI:"}),r.jsx("div",{className:"relative w-full h-80 border-3 border-solid border-blue-300 rounded-xl flex items-center justify-center bg-blue-50",children:d?r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-blue-600 font-semibold",children:"Đang xử lý bằng AI..."})]}):l?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:l,alt:"AI Result",className:"max-w-full max-h-72 object-contain rounded-lg shadow-lg",style:{transform:`scale(${p})`}}),r.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-2",children:[r.jsx("button",{className:"bg-gray-800 text-white rounded-md w-8 h-8 flex items-center justify-center hover:bg-gray-700 transition-colors",onClick:L=>{L.stopPropagation(),P(b)},children:"+"}),r.jsx("button",{className:"bg-gray-800 text-white rounded-md w-8 h-8 flex items-center justify-center hover:bg-gray-700 transition-colors",onClick:L=>{L.stopPropagation(),M(b)},children:"-"})]})]}):r.jsxs("div",{className:"text-center",children:[r.jsx(ha,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Chưa có kết quả"})]})})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsxs("button",{onClick:D,disabled:d||!e||!n,className:"flex-1 max-w-xs bg-gradient-to-r from-purple-600 to-blue-600 text-white py-4 px-8 rounded-xl font-bold text-lg shadow-lg transition-all duration-300 transform hover:scale-105 hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center gap-3",children:[r.jsx(Wr,{size:20}),d?"Đang xử lý...":"Mặc Đồ Thử Bằng AI"]}),r.jsxs("button",{onClick:O,className:"flex-1 max-w-xs bg-gradient-to-r from-red-500 to-pink-600 text-white py-4 px-8 rounded-xl font-bold text-lg shadow-lg transition-all duration-300 transform hover:scale-105 hover:shadow-xl flex items-center justify-center gap-3",children:[r.jsx(st,{size:20}),"Xóa Toàn Bộ"]})]})]})]})},_xe=()=>{var R;const{id:e}=Mm(),t=gr(),[n,s]=B.useState([]),[i,a]=B.useState(null),[o,c]=B.useState(!0),[l,u]=B.useState(null),[d,f]=B.useState(""),[h,m]=B.useState(""),[A,g]=B.useState(""),[p,b]=B.useState(1),[x,v]=B.useState(0),[y,N]=B.useState(!1),[P,M]=B.useState(null),[k,D]=B.useState(!1);B.useEffect(()=>{e&&(async()=>{var U,z;try{c(!0);const V=e.split("_")[0],X=await fetch(`https://bicacuatho.azurewebsites.net/api/SanPham/SanPhamByIDSorted?id=${V}`);if(!X.ok)throw new Error(`HTTP error ${X.status}`);const $=await X.json();if($.length===0)throw new Error("No products found");s($),console.log($);const W=$.find(G=>G.id===e)||$[0];a(W),f(W.mauSac),m(((U=W.details[0])==null?void 0:U.kichThuoc)||""),g(W.hinhAnhs[0]?`data:image/jpeg;base64,${W.hinhAnhs[0]}`:""),v(((z=W.details[0])==null?void 0:z.soLuong)||0);const H=JSON.parse(localStorage.getItem("user")||"{}"),Q=H==null?void 0:H.maNguoiDung;if(Q){const G=await fetch("https://bicacuatho.azurewebsites.net/api/YeuThich");if(G.ok){const ee=(await G.json()).find(K=>K.maSanPham===V&&K.maNguoiDung===Q);ee&&(N(!0),M(ee.maYeuThich))}}}catch(V){u(V.message||"Unknown error")}finally{c(!1)}})()},[e]);const O=U=>{var V,X,$;const z=n.find(W=>W.mauSac===U);z&&(a(z),f(U),m(((V=z.details[0])==null?void 0:V.kichThuoc)||""),g((X=z.details[0])!=null&&X.hinhAnh?`data:image/jpeg;base64,${z.details[0].hinhAnh}`:""),v((($=z.details[0])==null?void 0:$.soLuong)||0),b(1))},L=U=>{if(!i)return;m(U);const z=i.details.find(V=>V.kichThuoc===U);g(z!=null&&z.hinhAnh?`data:image/jpeg;base64,${z.hinhAnh}`:""),v((z==null?void 0:z.soLuong)||0)},F=async()=>{if(!i)return;const U=JSON.parse(localStorage.getItem("user")||"{}"),z=U==null?void 0:U.maNguoiDung,V=U==null?void 0:U.hoTen;if(!z){Ai("Vui lòng đăng nhập để thêm sản phẩm vào danh sách yêu thích!","error");return}const X=i.id.split("_")[0];if(y&&P)try{if(!(await fetch(`https://bicacuatho.azurewebsites.net/api/YeuThich/${P}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Failed to remove favorite");N(!1),M(null),Ai("Đã xóa sản phẩm khỏi danh sách yêu thích!","success")}catch{Ai("Có lỗi xảy ra khi xóa yêu thích!","error")}else{const $={maSanPham:X,tenSanPham:i.tenSanPham,maNguoiDung:z,hoTen:V,soLuongYeuThich:1,ngayYeuThich:new Date().toISOString()};try{const W=await fetch("https://bicacuatho.azurewebsites.net/api/YeuThich",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify($)});if(!W.ok)throw new Error("Failed to add favorite");const H=await W.json();N(!0),M(H.maYeuThich),Ai("Đã thêm sản phẩm vào danh sách yêu thích!","success")}catch{Ai("Có lỗi xảy ra khi thêm yêu thích!","error")}}},_=async()=>{if(!i)return;if(!h){Ai("Vui lòng chọn kích thước trước khi thêm vào giỏ hàng!","error");return}const U=JSON.parse(localStorage.getItem("user")||"{}"),z=U==null?void 0:U.maNguoiDung;if(!z){Ai("Vui lòng đăng nhập để thêm sản phẩm vào giỏ hàng!","error");return}const V={IDNguoiDung:z,IDSanPham:i.id.split("_")[0],MauSac:i.mauSac,KichThuoc:h,SoLuong:p};try{if(!(await fetch("https://bicacuatho.azurewebsites.net/api/Cart/ThemSanPhamVaoGioHang",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(V)})).ok)throw new Error("Failed to add to cart");Ai("Đã thêm vào giỏ hàng thành công!","success")}catch{Ai("Có lỗi xảy ra khi thêm vào giỏ hàng!","error")}},E=()=>{var X;if(!i)return;if(!h){Ai("Vui lòng chọn kích thước trước khi mua!","error");return}const U=JSON.parse(localStorage.getItem("user")||"{}"),z=U==null?void 0:U.maNguoiDung;if(!z){Ai("Vui lòng đăng nhập để mua sản phẩm!","error");return}const V={IDNguoiDung:z,IDSanPham:i.id.split("_")[0],MauSac:i.mauSac,KichThuoc:h,SoLuong:p,TenSanPham:i.tenSanPham,Gia:((X=i.details.find($=>$.kichThuoc===h))==null?void 0:X.gia)||0,NgayMua:new Date().toISOString()};try{const $=JSON.parse(localStorage.getItem("InstantBuy")||"[]");$.length=0,$.push(V),localStorage.setItem("InstantBuy",JSON.stringify($,null,2)),t("/user/CheckOutInstant"),Ai("Đang chuyển đến trang thanh toán!","success")}catch{Ai("Có lỗi xảy ra khi mua sản phẩm!","error")}},T=()=>{D(!k),k?Ai("Đã đóng tính năng mặc thử AI","success"):(Ai("Đang mở tính năng mặc thử bằng AI...","success"),setTimeout(()=>{const U=document.querySelector("#testing-section");U&&U.scrollIntoView({behavior:"smooth",block:"center"})},300))};if(o)return r.jsx("div",{className:"container mx-auto py-8",children:"Loading..."});if(l||!i)return r.jsx("div",{className:"container mx-auto py-8",children:l||"Product not found."});const w=i.details.find(U=>U.kichThuoc===h),C=w?w.gia:((R=i.details[0])==null?void 0:R.gia)||0,j=i.khuyenMaiMax||0,S=C*(1-j/100),I=C*(j/100);return r.jsxs("div",{className:"container mx-auto py-8 pb-24 relative",children:[r.jsx("div",{className:"mb-4",children:r.jsx(ct,{to:"/products",className:"text-crocus-600 hover:underline flex items-center gap-1",children:"← Quay lại trang Danh Sách Sản Phẩm"})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100 relative",children:[r.jsx("img",{src:A,alt:i.tenSanPham,className:"w-full h-full object-cover"}),j>0&&r.jsxs("div",{className:"absolute top-4 right-4 bg-gradient-to-br from-red-500 to-red-600 text-white p-3 min-w-[80px] min-h-[80px] flex flex-col items-center justify-center shadow-lg z-10 rounded",children:[r.jsx("div",{className:"text-xs font-medium",children:"Khuyến Mãi"}),r.jsxs("div",{className:"text-lg font-bold",children:[" -",j,"%"]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsx("button",{onClick:()=>g(n[0].hinhAnhs[0]?`data:image/jpeg;base64,${n[0].hinhAnhs[0]}`:""),className:`aspect-square rounded-md overflow-hidden 
                      ? "ring-2 ring-crocus-500"
                      : "opacity-70"
                    }`,children:r.jsx("img",{src:n[0].hinhAnhs[0]?`data:image/jpeg;base64,${n[0].hinhAnhs[0]}`:"",alt:`${n[0].tenSanPham.substring(0,6)}`,className:"w-full h-full object-cover"})},n[0].tenSanPham.substring(0,6)),n.filter(U=>{var z;return(z=U.details[0])==null?void 0:z.hinhAnh}).map((U,z)=>({image:`data:image/jpeg;base64,${U.details[0].hinhAnh}`,productId:U.id})).filter(U=>U.image!=="data:image/jpeg;base64,").map((U,z)=>r.jsx("button",{onClick:()=>g(U.image),className:`aspect-square rounded-md overflow-hidden ${A===U.image?"ring-2 ring-crocus-500":"opacity-70"}`,children:r.jsx("img",{src:U.image,alt:`thumb-${U.productId}`,className:"w-full h-full object-cover"})},`${U.productId}-${z}`))]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:i.tenSanPham}),r.jsx("div",{className:"mt-2 items-center gap-3",children:j>0?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-1",children:[r.jsxs("p",{className:"text-4xl font-bold text-red-600",children:[(S/1e3).toFixed(3)," VND"]}),r.jsxs("p",{className:"text-lg text-gray-500 line-through",children:[(C/1e3).toFixed(3)," VND"]})]}),r.jsx("div",{children:r.jsxs("h4",{className:"text-lg font-bold text-green-600",children:["Tiết kiệm: ",(I/1e3).toFixed(3)," VND"]})})]}):r.jsxs("p",{className:"text-2xl font-bold text-crocus-600",children:[(C/1e3).toFixed(3)," VND"]})})]}),r.jsxs("p",{className:"text-gray-700  text-2xl",children:[r.jsx("h3",{className:"font-bold mb-2 text-2xl",children:"Chất liệu"}),i.chatLieu||"Chưa có thông tin chất liệu"]}),r.jsxs("p",{className:"text-gray-700  text-2xl",children:[r.jsx("h3",{className:"font-bold mb-2 text-2xl",children:"Thương hiệu"}),i.maThuongHieu||"Chưa có thông tin thương hiệu"]}),r.jsxs("p",{className:"text-gray-700",children:[r.jsx("h3",{className:"font-bold mb-2 text-2xl",children:"Hashtags"}),i.listHashTag&&i.listHashTag.length>0?r.jsx("div",{className:"flex flex-wrap gap-2",children:i.listHashTag.map((U,z)=>r.jsxs("span",{className:"inline-block bg-gray-100 text-gray-800 text-sm font-medium px-2.5 py-0.5 rounded",children:["#",U.name]},z))}):"Chưa có hashtag"]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold mb-2 text-2xl",children:"Màu sắc"}),r.jsx("div",{className:"flex gap-3",children:n.map(U=>r.jsx("button",{onClick:()=>O(U.mauSac),className:`w-10 h-10 rounded-full border ${d===U.mauSac?"border-crocus-500 ring-2 ring-crocus-500":"border-gray-200 hover:border-gray-300"}`,style:{backgroundColor:`#${U.mauSac}`},title:U.mauSac},U.mauSac))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-1",children:[r.jsx("h3",{className:"font-bold mb-2 text-2xl text-gray-900",children:"Kích thước"}),r.jsx(Kge,{})]}),r.jsx("div",{className:"flex flex-wrap gap-3",children:i.details.map(U=>r.jsx("button",{onClick:()=>L(U.kichThuoc),className:`w-10 h-10 flex items-center justify-center rounded-md border ${h===U.kichThuoc?"border-crocus-500 bg-crocus-50 text-crocus-700":"border-gray-200 hover:border-gray-300"}`,children:U.kichThuoc},U.kichThuoc))})]}),r.jsxs("p",{className:"text-gray-700",children:["Trong kho còn lại : ",r.jsx("span",{className:"font-medium",children:x})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold mb-2 text-2xl",children:"Số Lượng"}),r.jsxs("div",{className:"flex items-center border border-gray-200 rounded-md w-32",children:[r.jsx("button",{onClick:()=>b(U=>Math.max(1,U-1)),className:"px-3 py-2 text-gray-500 hover:text-gray-700",disabled:p<=1,children:"-"}),r.jsx("span",{className:"flex-1 text-center",children:p}),r.jsx("button",{onClick:()=>b(U=>Math.min(x,U+1)),className:"px-3 py-2 text-gray-500 hover:text-gray-700",disabled:p>=x,children:"+"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:_,disabled:x===0,className:"flex-1 relative overflow-hidden group bg-gradient-to-r from-[#0E5AF0] to-[#EF00D6] text-white py-3 px-6 rounded-lg font-semibold text-lg shadow-lg transition-all duration-300 transform hover:scale-105 hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none disabled:hover:scale-100",style:{background:x===0?"#gray":"linear-gradient(to right, #0E5AF0, #EF00D6)"},onMouseEnter:U=>{x>0&&(U.currentTarget.style.background="#EF00D6")},onMouseLeave:U=>{x>0&&(U.currentTarget.style.background="linear-gradient(to right, #0E5AF0, #EF00D6)")},children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(Rs,{className:"h-5 w-5"}),r.jsx("span",{children:"Thêm Vào Giỏ Hàng"})]})}),r.jsx("button",{onClick:E,disabled:x===0,className:"flex-1 relative overflow-hidden group bg-gradient-to-r from-[#FF6B35] to-[#F7931E] text-white py-3 px-6 rounded-lg font-semibold text-lg shadow-lg transition-all duration-300 transform hover:scale-105 hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none disabled:hover:scale-100",style:{background:x===0?"#gray":"linear-gradient(to right, #FF6B35, #F7931E)"},onMouseEnter:U=>{x>0&&(U.currentTarget.style.background="#F7931E")},onMouseLeave:U=>{x>0&&(U.currentTarget.style.background="linear-gradient(to right, #FF6B35, #F7931E)")},children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(_L,{className:"h-5 w-5"}),r.jsx("span",{children:"Mua Ngay"})]})})]}),r.jsx("div",{className:"flex gap-3",children:r.jsxs("button",{onClick:F,className:"flex-1 bg-white border-2 border-gray-200 text-gray-700 py-3 px-6 rounded-lg font-medium transition-all duration-300 hover:border-red-300 hover:bg-red-50 hover:text-red-600 flex items-center justify-center gap-2",children:[r.jsx(di,{className:`h-5 w-5 ${y?"fill-red-500 text-red-500":""}`}),r.jsx("span",{children:y?"Đã Yêu Thích":"Yêu Thích"})]})})]}),r.jsx("div",{className:"text-center flex justify-center pt-6",children:r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md",children:r.jsx("img",{alt:"Barcode",src:`https://barcode.tec-it.com/barcode.ashx?data=${encodeURIComponent(`${i.id.split("_")[0]}_${i.mauSac}_${h}`)}&translate-esc=on`,className:"mx-auto"})})})]})]}),r.jsx("div",{id:"testing-section",className:`transition-all duration-700 ease-in-out transform ${k?"translate-y-0 opacity-100 max-h-screen mb-12":"translate-y-full opacity-0 max-h-0 overflow-hidden"}`,children:r.jsx(kxe,{})}),r.jsx(jQ,{product:i}),r.jsx(Vge,{productId:e}),r.jsx(qge,{productId:e}),r.jsx("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50",children:r.jsxs("button",{onClick:T,className:`relative group text-white py-4 px-8 rounded-full font-bold text-lg shadow-2xl transition-all duration-300 transform hover:scale-110 hover:shadow-3xl ${k?"bg-gradient-to-r from-red-500 via-pink-600 to-red-700":"bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 animate-pulse"}`,children:[r.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 opacity-75 blur-md animate-pulse"}),r.jsx("div",{className:"relative flex items-center justify-center gap-3",children:k?r.jsxs(r.Fragment,{children:[r.jsx(st,{className:"h-6 w-6"}),r.jsx("span",{className:"whitespace-nowrap",children:"Đóng Mặc Thử AI"}),r.jsx(st,{className:"h-6 w-6"})]}):r.jsxs(r.Fragment,{children:[r.jsx(ha,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{className:"whitespace-nowrap",children:"Mặc Thử Đồ Bằng AI"}),r.jsx(ha,{className:"h-6 w-6 animate-spin"})]})}),r.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-white/30 animate-ping"})]})}),r.jsx("style",{jsx:!0,children:`
        @keyframes pulse {
          0%, 100% {
            opacity: 1;
          }
          50% {
            opacity: 0.8;
          }
        }
        
        .animate-pulse {
          animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        .shadow-3xl {
          box-shadow: 0 35px 60px -12px rgba(0, 0, 0, 0.25);
        }
      `})]})};var CQ=["PageUp","PageDown"],NQ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],SQ={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},zm="Slider",[Z4,Bxe,Exe]=Ch(zm),[TQ,fUe]=qs(zm,[Exe]),[Pxe,w1]=TQ(zm),kQ=B.forwardRef((e,t)=>{const{name:n,min:s=0,max:i=100,step:a=1,orientation:o="horizontal",disabled:c=!1,minStepsBetweenThumbs:l=0,defaultValue:u=[s],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:A,...g}=e,p=B.useRef(new Set),b=B.useRef(0),v=o==="horizontal"?Mxe:Dxe,[y=[],N]=na({prop:d,defaultProp:u,onChange:L=>{var _;(_=[...p.current][b.current])==null||_.focus(),f(L)}}),P=B.useRef(y);function M(L){const F=Rxe(y,L);O(L,F)}function k(L){O(L,b.current)}function D(){const L=P.current[b.current];y[b.current]!==L&&h(y)}function O(L,F,{commit:_}={commit:!1}){const E=Qxe(a),T=zxe(Math.round((L-s)/a)*a+s,E),w=fy(T,[s,i]);N((C=[])=>{const j=Lxe(C,w,F);if($xe(j,l*a)){b.current=j.indexOf(w);const S=String(j)!==String(C);return S&&_&&h(j),S?j:C}else return C})}return r.jsx(Pxe,{scope:e.__scopeSlider,name:n,disabled:c,min:s,max:i,valueIndexToChangeRef:b,thumbs:p.current,values:y,orientation:o,form:A,children:r.jsx(Z4.Provider,{scope:e.__scopeSlider,children:r.jsx(Z4.Slot,{scope:e.__scopeSlider,children:r.jsx(v,{"aria-disabled":c,"data-disabled":c?"":void 0,...g,ref:t,onPointerDown:et(g.onPointerDown,()=>{c||(P.current=y)}),min:s,max:i,inverted:m,onSlideStart:c?void 0:M,onSlideMove:c?void 0:k,onSlideEnd:c?void 0:D,onHomeKeyDown:()=>!c&&O(s,0,{commit:!0}),onEndKeyDown:()=>!c&&O(i,y.length-1,{commit:!0}),onStepKeyDown:({event:L,direction:F})=>{if(!c){const T=CQ.includes(L.key)||L.shiftKey&&NQ.includes(L.key)?10:1,w=b.current,C=y[w],j=a*T*F;O(C+j,w,{commit:!0})}}})})})})});kQ.displayName=zm;var[_Q,BQ]=TQ(zm,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Mxe=B.forwardRef((e,t)=>{const{min:n,max:s,dir:i,inverted:a,onSlideStart:o,onSlideMove:c,onSlideEnd:l,onStepKeyDown:u,...d}=e,[f,h]=B.useState(null),m=dn(t,v=>h(v)),A=B.useRef(void 0),g=Nh(i),p=g==="ltr",b=p&&!a||!p&&a;function x(v){const y=A.current||f.getBoundingClientRect(),N=[0,y.width],M=G5(N,b?[n,s]:[s,n]);return A.current=y,M(v-y.left)}return r.jsx(_Q,{scope:e.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:r.jsx(EQ,{dir:g,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:v=>{const y=x(v.clientX);o==null||o(y)},onSlideMove:v=>{const y=x(v.clientX);c==null||c(y)},onSlideEnd:()=>{A.current=void 0,l==null||l()},onStepKeyDown:v=>{const N=SQ[b?"from-left":"from-right"].includes(v.key);u==null||u({event:v,direction:N?-1:1})}})})}),Dxe=B.forwardRef((e,t)=>{const{min:n,max:s,inverted:i,onSlideStart:a,onSlideMove:o,onSlideEnd:c,onStepKeyDown:l,...u}=e,d=B.useRef(null),f=dn(t,d),h=B.useRef(void 0),m=!i;function A(g){const p=h.current||d.current.getBoundingClientRect(),b=[0,p.height],v=G5(b,m?[s,n]:[n,s]);return h.current=p,v(g-p.top)}return r.jsx(_Q,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:r.jsx(EQ,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const p=A(g.clientY);a==null||a(p)},onSlideMove:g=>{const p=A(g.clientY);o==null||o(p)},onSlideEnd:()=>{h.current=void 0,c==null||c()},onStepKeyDown:g=>{const b=SQ[m?"from-bottom":"from-top"].includes(g.key);l==null||l({event:g,direction:b?-1:1})}})})}),EQ=B.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:s,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:c,onStepKeyDown:l,...u}=e,d=w1(zm,n);return r.jsx(Ct.span,{...u,ref:t,onKeyDown:et(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(c(f),f.preventDefault()):CQ.concat(NQ).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:et(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():s(f)}),onPointerMove:et(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:et(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),a(f))})})}),PQ="SliderTrack",MQ=B.forwardRef((e,t)=>{const{__scopeSlider:n,...s}=e,i=w1(PQ,n);return r.jsx(Ct.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...s,ref:t})});MQ.displayName=PQ;var J4="SliderRange",DQ=B.forwardRef((e,t)=>{const{__scopeSlider:n,...s}=e,i=w1(J4,n),a=BQ(J4,n),o=B.useRef(null),c=dn(t,o),l=i.values.length,u=i.values.map(h=>LQ(h,i.min,i.max)),d=l>1?Math.min(...u):0,f=100-Math.max(...u);return r.jsx(Ct.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...s,ref:c,style:{...e.style,[a.startEdge]:d+"%",[a.endEdge]:f+"%"}})});DQ.displayName=J4;var eS="SliderThumb",IQ=B.forwardRef((e,t)=>{const n=Bxe(e.__scopeSlider),[s,i]=B.useState(null),a=dn(t,c=>i(c)),o=B.useMemo(()=>s?n().findIndex(c=>c.ref.current===s):-1,[n,s]);return r.jsx(Ixe,{...e,ref:a,index:o})}),Ixe=B.forwardRef((e,t)=>{const{__scopeSlider:n,index:s,name:i,...a}=e,o=w1(eS,n),c=BQ(eS,n),[l,u]=B.useState(null),d=dn(t,x=>u(x)),f=l?o.form||!!l.closest("form"):!0,h=Iw(l),m=o.values[s],A=m===void 0?0:LQ(m,o.min,o.max),g=Fxe(s,o.values.length),p=h==null?void 0:h[c.size],b=p?Uxe(p,A,c.direction):0;return B.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),r.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${A}% + ${b}px)`},children:[r.jsx(Z4.ItemSlot,{scope:e.__scopeSlider,children:r.jsx(Ct.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:d,style:m===void 0?{display:"none"}:e.style,onFocus:et(e.onFocus,()=>{o.valueIndexToChangeRef.current=s})})}),f&&r.jsx(OQ,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},s)]})});IQ.displayName=eS;var Oxe="RadioBubbleInput",OQ=B.forwardRef(({__scopeSlider:e,value:t,...n},s)=>{const i=B.useRef(null),a=dn(i,s),o=m0(t);return B.useEffect(()=>{const c=i.current;if(!c)return;const l=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&d){const f=new Event("input",{bubbles:!0});d.call(c,t),c.dispatchEvent(f)}},[o,t]),r.jsx(Ct.input,{style:{display:"none"},...n,ref:a,defaultValue:t})});OQ.displayName=Oxe;function Lxe(e=[],t,n){const s=[...e];return s[n]=t,s.sort((i,a)=>i-a)}function LQ(e,t,n){const a=100/(n-t)*(e-t);return fy(a,[0,100])}function Fxe(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Rxe(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),s=Math.min(...n);return n.indexOf(s)}function Uxe(e,t,n){const s=e/2,a=G5([0,50],[0,s]);return(s-a(t)*n)*n}function Hxe(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function $xe(e,t){if(t>0){const n=Hxe(e);return Math.min(...n)>=t}return!0}function G5(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function Qxe(e){return(String(e).split(".")[1]||"").length}function zxe(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var FQ=kQ,Vxe=MQ,Kxe=DQ,Gxe=IQ;const j1=B.forwardRef(({className:e,...t},n)=>r.jsxs(FQ,{ref:n,className:Fe("relative flex w-full touch-none select-none items-center",e),...t,children:[r.jsx(Vxe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:r.jsx(Kxe,{className:"absolute h-full bg-primary"})}),r.jsx(Gxe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));j1.displayName=FQ.displayName;const Cx=(e,t)=>we.fire({title:t==="error"?"Lỗi!":t==="warning"?"Cảnh báo!":"Thành công!",text:e,icon:t,timer:2e3,timerProgressBar:!0,showConfirmButton:!1}),Wxe=()=>{const e=gr(),[t,n]=B.useState([]),[s,i]=B.useState([]),[a,o]=B.useState(!0),[c,l]=B.useState(null),[u,d]=B.useState(""),[f,h]=B.useState(void 0),[m,A]=B.useState([0,0]),[g,p]=B.useState("name_asc"),[b,x]=B.useState([]),[v,y]=B.useState(!1),[N,P]=B.useState("grid");B.useEffect(()=>{(async()=>{try{o(!0);const C=await fetch("https://bicacuatho.azurewebsites.net/api/Combo/ComboSanPhamView");if(!C.ok)throw new Error(`HTTP error! status: ${C.status}`);const j=await C.json();if(!Array.isArray(j))throw new Error("Dữ liệu API không phải là mảng");const S=await fetch("https://bicacuatho.azurewebsites.net/api/Comment/list");if(!S.ok)throw new Error("Không thể tải bình luận");const I=await S.json(),R=j.map(U=>{var ne;const z=Array.isArray(U.sanPhams)?U.sanPhams.reduce((ue,se)=>ue+se.donGia*se.soLuong,0):0,V=z>0?(1-U.gia/z)*100:0,X=U.khuyenMaiMax||0,$=U.gia*(1-X/100),W=z-$,H=z>0?W/z*100:0,Q=I.filter(ue=>ue.maCombo!==null&&ue.maCombo!==0&&ue.maCombo===U.maCombo&&ue.trangThai===1),G=Q.reduce((ue,se)=>ue+(se.danhGia||0),0),J=Q.length>0?G/Q.length:0;let ee="Other";const K=((ne=U.name)==null?void 0:ne.toLowerCase())||"";return K.includes("công sở")||K.includes("office")||K.includes("làm việc")?ee="Office":K.includes("tiệc")||K.includes("formal")||K.includes("sang trọng")?ee="Formal":K.includes("casual")||K.includes("dạo phố")||K.includes("cuối tuần")?ee="Casual":K.includes("mùa hè")||K.includes("summer")||K.includes("biển")?ee="Summer":(K.includes("mùa đông")||K.includes("winter")||K.includes("ấm"))&&(ee="Winter"),{id:U.maCombo,name:U.name||"Combo không tên",description:U.moTa||"Combo thời trang tuyệt vời",imageSrc:U.hinhAnh?`data:image/jpeg;base64,${U.hinhAnh}`:"/api/placeholder/400/300",price:Math.round($),products:Array.isArray(U.sanPhams)?U.sanPhams.map(ue=>ue.name||"Sản phẩm không tên"):[],productCount:Array.isArray(U.sanPhams)?U.sanPhams.length:0,rating:J,isFavorite:!1,occasion:ee,savings:Math.round(W),savingsPercentage:Math.round(H),daGiamPercentage:Math.round(V),khuyenMaiPercentage:X}});try{const U=JSON.parse(localStorage.getItem("user")||"{}"),z=U==null?void 0:U.maNguoiDung;if(z){const V=localStorage.getItem("token"),X=await fetch(`https://bicacuatho.azurewebsites.net/api/YeuThich?maNguoiDung=${z}`,{headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"}});if(X.ok){const $=await X.json(),W=R.map(H=>{const Q=$.find(G=>G.maCombo===H.id&&G.maNguoiDung===z);return{...H,isFavorite:!!Q,likedId:Q==null?void 0:Q.maYeuThich}});n(W),i(W)}else n(R),i(R)}else n(R),i(R)}catch(U){console.warn("Không thể kiểm tra danh sách yêu thích:",U),n(R),i(R)}l(null)}catch(C){console.error("Lỗi khi lấy combo:",C),l(C instanceof Error?C.message:"Không thể tải combo. Vui lòng thử lại sau."),ir({title:"Lỗi",description:"Không thể tải danh sách combo",variant:"destructive"})}finally{o(!1)}})()},[]);const M=B.useMemo(()=>[...new Set(t.map(w=>w.occasion))].sort(),[t]),k=B.useMemo(()=>t.length>0?Math.floor(Math.min(...t.map(w=>w.price))):0,[t]),D=B.useMemo(()=>t.length>0?Math.ceil(Math.max(...t.map(w=>w.price))):0,[t]);B.useEffect(()=>{A([k,D])},[k,D]),B.useEffect(()=>{let w=[...t];if(u){const C=u.toLowerCase();w=w.filter(j=>j.name.toLowerCase().includes(C)||j.description.toLowerCase().includes(C)||j.products.some(S=>S.toLowerCase().includes(C)))}switch(f&&f!=="all"&&(w=w.filter(C=>C.productCount>=parseInt(f))),b.length>0&&(w=w.filter(C=>b.includes(C.occasion))),(m[0]>k||m[1]<D)&&(w=w.filter(C=>C.price>=m[0]&&C.price<=m[1])),g){case"name_asc":w.sort((C,j)=>C.name.localeCompare(j.name));break;case"name_desc":w.sort((C,j)=>j.name.localeCompare(C.name));break;case"price_asc":w.sort((C,j)=>C.price-j.price);break;case"price_desc":w.sort((C,j)=>j.price-C.price);break;case"rating_desc":w.sort((C,j)=>j.rating-C.rating);break;case"savings_desc":w.sort((C,j)=>j.savingsPercentage-C.savingsPercentage);break;case"items_desc":w.sort((C,j)=>j.productCount-C.productCount);break}i(w)},[t,u,f,b,m,g,k,D]);const O=w=>{x(C=>C.includes(w)?C.filter(j=>j!==w):[...C,w])},L=w=>{w.preventDefault()},F=()=>{d(""),h(void 0),A([k,D]),p("name_asc"),x([]),y(!1),ir({title:"Đã xóa bộ lọc",description:"Tất cả bộ lọc đã được đặt lại về mặc định."})},_=()=>{y(!1),ir({title:"Đã áp dụng bộ lọc",description:"Bộ lọc combo của bạn đã được áp dụng."})},E=async w=>{try{const C=t.find(R=>R.id===w);let j={};try{const R=localStorage.getItem("user");j=R?JSON.parse(R):{}}catch(R){console.error("Lỗi parse user data:",R)}const S=j==null?void 0:j.maNguoiDung,I=j==null?void 0:j.hoTen;if(!S){Cx("Vui lòng đăng nhập để thêm combo vào danh sách yêu thích!","warning").then(()=>{e("/auth/login")});return}if(C!=null&&C.isFavorite){if(!(await fetch(`https://bicacuatho.azurewebsites.net/api/YeuThich/${C.likedId}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Không thể xóa combo khỏi danh sách yêu thích");i(U=>U.map(z=>z.id===w?{...z,isFavorite:!1,likedId:void 0}:z)),n(U=>U.map(z=>z.id===w?{...z,isFavorite:!1,likedId:void 0}:z)),Cx("Đã xóa combo khỏi danh sách yêu thích!","success"),window.dispatchEvent(new Event("favorites-updated"))}else{const R={maCombo:w,tenCombo:C==null?void 0:C.name,maNguoiDung:S,hoTen:I,soLuongYeuThich:1,ngayYeuThich:new Date().toISOString()},U=await fetch("https://bicacuatho.azurewebsites.net/api/YeuThich",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(R)});if(!U.ok)throw new Error("Không thể thêm combo vào danh sách yêu thích");const z=await U.json();i(V=>V.map(X=>X.id===w?{...X,isFavorite:!0,likedId:z.maYeuThich}:X)),n(V=>V.map(X=>X.id===w?{...X,isFavorite:!0,likedId:z.maYeuThich}:X)),Cx("Đã thêm combo vào danh sách yêu thích!","success"),window.dispatchEvent(new Event("favorites-updated"))}}catch(C){console.error("Lỗi khi cập nhật yêu thích:",C),Cx("Có lỗi xảy ra khi cập nhật yêu thích!","error")}},T=[u,f&&f!=="all"?f:null,b.length>0?"occasions":null,m[0]>k||m[1]<D?"price":null].filter(Boolean).length;return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100",children:[r.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-purple-700 to-indigo-800 text-white",children:r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx(ha,{className:"h-12 w-12 text-yellow-400 animate-pulse"})}),r.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent",children:"Combo Thời Trang"}),r.jsx("p",{className:"text-xl md:text-2xl mb-8 text-purple-100 leading-relaxed",children:"Khám phá những bộ sưu tập được tuyển chọn kỹ lưỡng, phù hợp cho mọi phong cách và dịp đặc biệt"}),r.jsxs("form",{onSubmit:L,className:"flex flex-col md:flex-row justify-center items-center gap-4 max-w-2xl mx-auto",children:[r.jsxs("div",{className:"relative flex-1 w-full",children:[r.jsx(Un,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx(ye,{type:"search",placeholder:"Tìm kiếm combo, sản phẩm...",className:"pl-12 h-14 text-lg rounded-full border-0 bg-white/95 backdrop-blur-sm shadow-xl focus:ring-4 focus:ring-white/30",value:u,onChange:w=>d(w.target.value)})]}),r.jsxs(fe,{type:"submit",size:"lg",className:"h-14 px-8 rounded-full bg-yellow-500 hover:bg-yellow-400 text-black font-semibold shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105",children:[r.jsx(Un,{className:"h-5 w-5 mr-2"}),"Tìm kiếm"]})]})]})})}),r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-8",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsxs(fe,{variant:"outline",onClick:()=>y(!0),className:"h-12 px-6 rounded-full border-2 hover:border-purple-500 hover:text-purple-600 transition-all duration-300",children:[r.jsx(Zd,{className:"h-4 w-4 mr-2"}),"Bộ lọc",T>0&&r.jsx(Kt,{className:"ml-2 bg-purple-500",children:T})]}),r.jsxs(mn,{value:g,onValueChange:p,children:[r.jsxs(cn,{className:"w-48 h-12 rounded-full border-2",children:[r.jsx(dL,{className:"h-4 w-4 mr-2"}),r.jsx(pn,{})]}),r.jsxs(un,{children:[r.jsx(Qe,{value:"name_asc",children:"Tên: A đến Z"}),r.jsx(Qe,{value:"name_desc",children:"Tên: Z đến A"}),r.jsx(Qe,{value:"price_asc",children:"Giá: Thấp đến Cao"}),r.jsx(Qe,{value:"price_desc",children:"Giá: Cao đến Thấp"}),r.jsx(Qe,{value:"rating_desc",children:"Đánh giá cao nhất"}),r.jsx(Qe,{value:"savings_desc",children:"Tiết kiệm nhiều nhất"}),r.jsx(Qe,{value:"items_desc",children:"Số sản phẩm nhiều nhất"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center border rounded-full p-1 bg-white",children:[r.jsx(fe,{variant:N==="grid"?"default":"ghost",size:"sm",onClick:()=>P("grid"),className:"rounded-full",children:r.jsx(gL,{className:"h-4 w-4"})}),r.jsx(fe,{variant:N==="list"?"default":"ghost",size:"sm",onClick:()=>P("list"),className:"rounded-full",children:r.jsx(Jg,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[r.jsx(Id,{className:"h-4 w-4 mr-1"}),r.jsx("span",{className:"font-medium",children:s.length})," combo"]})]})]}),v&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>y(!1),children:r.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-4xl max-h-[85vh] overflow-hidden m-4",onClick:w=>w.stopPropagation(),children:[r.jsxs("div",{className:"flex justify-between items-center p-6 bg-gradient-to-r from-purple-600 to-indigo-600 text-white",children:[r.jsxs("h2",{className:"text-2xl font-bold flex items-center",children:[r.jsx(kT,{className:"h-6 w-6 mr-2"}),"Bộ Lọc Nâng Cao"]}),r.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>y(!1),className:"text-white hover:bg-white/20 rounded-full",children:r.jsx(st,{className:"h-6 w-6"})})]}),r.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(85vh-200px)]",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs(De,{className:"text-lg font-semibold text-gray-800 flex items-center",children:[r.jsx(hr,{className:"h-5 w-5 mr-2"}),"Số Lượng Sản Phẩm"]}),r.jsxs(mn,{value:f||"",onValueChange:h,children:[r.jsx(cn,{className:"w-full h-12 rounded-xl border-2",children:r.jsx(pn,{placeholder:"Chọn số lượng"})}),r.jsxs(un,{children:[r.jsx(Qe,{value:"all",children:"Tất cả"}),r.jsx(Qe,{value:"2",children:"2+ sản phẩm"}),r.jsx(Qe,{value:"3",children:"3+ sản phẩm"}),r.jsx(Qe,{value:"4",children:"4+ sản phẩm"}),r.jsx(Qe,{value:"5",children:"5+ sản phẩm"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(De,{className:"text-lg font-semibold text-gray-800",children:"Khoảng Giá"}),r.jsxs("div",{className:"px-4 py-6 bg-gray-50 rounded-xl",children:[r.jsx(j1,{min:k,max:D,step:5e4,value:m,onValueChange:w=>A(w),className:"w-full"}),r.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-600 mt-4",children:[r.jsxs("span",{className:"bg-white px-3 py-1 rounded-full border",children:[m[0].toLocaleString("vi-VN")," VND"]}),r.jsxs("span",{className:"bg-white px-3 py-1 rounded-full border",children:[m[1].toLocaleString("vi-VN")," VND"]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(De,{className:"text-lg font-semibold text-gray-800",children:"Dịp Sử Dụng"}),r.jsx("div",{className:"space-y-3",children:M.map(w=>r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Vs,{id:`occasion-${w}`,checked:b.includes(w),onCheckedChange:()=>O(w),className:"rounded-md"}),r.jsx(De,{htmlFor:`occasion-${w}`,className:"text-sm font-medium",children:w})]},w))})]})]})}),r.jsxs("div",{className:"flex justify-between p-6 bg-gray-50 border-t",children:[r.jsx(fe,{variant:"outline",onClick:F,className:"px-8 h-12 rounded-xl",children:"Xóa Tất Cả"}),r.jsx(fe,{onClick:_,className:"px-8 h-12 rounded-xl bg-purple-600 hover:bg-purple-700",children:"Áp Dụng Bộ Lọc"})]})]})}),c?r.jsx("div",{className:"py-16 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:"😔"}),r.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Oops! Có lỗi xảy ra"}),r.jsx("p",{className:"text-gray-600",children:c})]})}):a?r.jsxs("div",{className:"py-16 text-center",children:[r.jsx("div",{className:"animate-spin h-12 w-12 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),r.jsx("p",{className:"text-lg text-gray-600",children:"Đang tải combo thời trang..."})]}):s.length===0?r.jsx("div",{className:"py-16 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),r.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Không tìm thấy combo"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Hãy thử điều chỉnh tiêu chí tìm kiếm hoặc bộ lọc"}),r.jsx(fe,{onClick:F,className:"rounded-full px-8",children:"Xóa Tất Cả Bộ Lọc"})]})}):r.jsx("div",{className:N==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8":"space-y-6",children:s.map(w=>r.jsxs(it,{className:`overflow-hidden group hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 border-0 shadow-lg ${N==="list"?"flex flex-col md:flex-row":""}`,children:[r.jsxs("div",{className:`relative ${N==="list"?"md:w-1/3 aspect-video md:aspect-square":"aspect-[4/3]"}`,children:[r.jsx(ct,{to:`/combos/${w.id}`,children:r.jsx("img",{src:w.imageSrc,alt:w.name,className:"h-full w-full object-cover transition-transform duration-700 group-hover:scale-110"})}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),r.jsx(fe,{variant:"secondary",size:"icon",className:"absolute top-4 right-4 w-12 h-12 rounded-full bg-white/90 backdrop-blur-sm shadow-lg hover:bg-white hover:scale-110 transition-all duration-300",onClick:()=>E(w.id),children:r.jsx(di,{className:`h-5 w-5 transition-colors duration-300 ${w.isFavorite?"fill-red-500 text-red-500":"text-gray-600"}`})}),r.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[w.daGiamPercentage>0&&r.jsxs(Kt,{className:"bg-blue-500 text-white font-bold px-3 py-1 rounded-full",children:["Giảm giá so với mua lẻ-",w.daGiamPercentage,"%"]}),w.khuyenMaiPercentage>0&&r.jsxs(Kt,{className:"bg-red-500 text-white font-bold px-3 py-1 rounded-full animate-pulse",children:["Khuyến mãi -",w.khuyenMaiPercentage,"%"]})]}),r.jsx("div",{className:"absolute bottom-4 left-4",children:r.jsxs(Kt,{className:"bg-purple-600 text-white px-3 py-1 rounded-full font-semibold",children:[r.jsx(hr,{className:"h-4 w-4 mr-1"}),w.productCount," sản phẩm"]})})]}),r.jsx(dt,{className:`p-6 ${N==="list"?"md:w-2/3 flex-1":""}`,children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex items-center",children:[...Array(5)].map((C,j)=>r.jsx(Lr,{className:Fe("h-4 w-4",j<Math.floor(w.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300")},j))}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:w.rating.toFixed(1)})]}),r.jsx(ct,{to:`/combos/${w.id}`,className:"block group-hover:text-purple-600 transition-colors",children:r.jsx("h3",{className:"font-bold text-xl text-gray-800 line-clamp-2 leading-tight",children:w.name})}),r.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:w.description}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[w.products.slice(0,3).map((C,j)=>r.jsx(Kt,{variant:"secondary",className:"text-xs",children:C},j)),w.products.length>3&&r.jsxs(Kt,{variant:"outline",className:"text-xs",children:["+",w.products.length-3," khác"]})]}),r.jsx(ji,{}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-baseline gap-3",children:[r.jsxs("span",{className:"text-2xl font-bold text-red-600",children:[w.price.toLocaleString("vi-VN")," VND"]}),w.khuyenMaiPercentage>0&&r.jsxs("span",{className:"text-lg line-through text-gray-500",children:[(w.price/(1-w.khuyenMaiPercentage/100)).toLocaleString("vi-VN")," VND"]})]}),w.savings>0&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Kt,{className:"bg-green-100 text-green-700 hover:bg-green-100",children:[r.jsx(Id,{className:"h-3 w-3 mr-1"}),"Tiết kiệm ",w.savings.toLocaleString("vi-VN")," VND"]}),r.jsxs(Kt,{className:"bg-orange-100 text-orange-700 hover:bg-orange-100",children:["Giảm giá lên đến ",w.savingsPercentage,"%"]})]})]}),r.jsx("div",{className:"flex gap-3 pt-2",children:r.jsx(fe,{asChild:!0,variant:"outline",size:"sm",className:"flex-1 rounded-full hover:bg-purple-50 hover:border-purple-300",children:r.jsxs(ct,{to:`/combos/${w.id}`,children:[r.jsx(Un,{className:"h-4 w-4 mr-2"}),"Chi tiết"]})})})]})})]},w.id))}),s.length>0&&r.jsx("div",{className:"mt-16 bg-gradient-to-r from-purple-100 to-indigo-100 rounded-3xl p-8",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 text-center",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-3xl font-bold text-purple-600",children:s.length}),r.jsx("div",{className:"text-gray-600 font-medium",children:"Combo Available"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-3xl font-bold text-indigo-600",children:s.length>0?Math.round(s.reduce((w,C)=>w+C.rating,0)/s.length*10)/10:0}),r.jsx("div",{className:"text-gray-600 font-medium",children:"Đánh giá trung bình"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[s.length>0?Math.round(s.reduce((w,C)=>w+C.savingsPercentage,0)/s.length):0,"%"]}),r.jsx("div",{className:"text-gray-600 font-medium",children:"Tiết kiệm trung bình"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-3xl font-bold text-orange-600",children:s.reduce((w,C)=>w+C.productCount,0)}),r.jsx("div",{className:"text-gray-600 font-medium",children:"Tổng sản phẩm"})]})]})}),r.jsxs("div",{className:"mt-16 text-center bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-3xl p-12",children:[r.jsx(ha,{className:"h-16 w-16 mx-auto mb-6 text-yellow-400"}),r.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Không tìm thấy combo ưng ý?"}),r.jsx("p",{className:"text-xl mb-8 text-purple-100",children:"Hãy liên hệ với chúng tôi để được tư vấn combo phù hợp nhất cho bạn"}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsx(fe,{variant:"secondary",size:"lg",className:"rounded-full px-8 h-14 text-lg font-semibold",children:"Tư vấn miễn phí"}),r.jsx(fe,{variant:"outline",size:"lg",className:"rounded-full px-8 h-14 text-lg font-semibold border-2 border-white text-white hover:bg-white hover:text-purple-600",children:"Xem thêm combo"})]})]}),r.jsx("div",{className:"mt-16 bg-white rounded-3xl shadow-xl p-8",children:r.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[r.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Đăng ký nhận thông tin combo mới"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Được cập nhật những combo thời trang hot nhất và ưu đãi độc quyền"}),r.jsxs("form",{className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto",children:[r.jsx(ye,{type:"email",placeholder:"Email của bạn",className:"flex-1 h-12 rounded-full border-2 px-6"}),r.jsx(fe,{type:"submit",className:"h-12 px-8 rounded-full bg-purple-600 hover:bg-purple-700",children:"Đăng ký"})]})]})})]})]})},Lj="https://via.placeholder.com/150",qxe=({message:e,type:t,onClose:n})=>(B.useEffect(()=>{const s=setTimeout(n,3e3);return()=>clearTimeout(s)},[n]),r.jsxs("div",{className:Fe("fixed top-4 right-4 p-4 rounded-lg shadow-lg z-50 font-roboto",t==="success"?"bg-green-500 text-white":"bg-red-500 text-white"),children:[r.jsx("p",{children:e}),r.jsx("button",{onClick:n,className:"absolute top-1 right-1 text-white hover:text-gray-200",children:"×"})]})),Xxe=({isOpen:e,onClose:t,onConfirm:n})=>e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 font-roboto",children:r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-64",children:[r.jsx("h3",{className:"text-lg font-medium mb-4",children:"Xác nhận xóa"}),r.jsx("p",{className:"mb-6",children:"Bạn có chắc muốn xóa bình luận này không?"}),r.jsxs("div",{className:"flex justify-end gap-4",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400",children:"Không"}),r.jsx("button",{onClick:n,className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600",children:"Có"})]})]})}):null,Yxe=e=>{const n=new DOMParser().parseFromString(ch.sanitize(e,{ADD_TAGS:["img"],ADD_ATTR:["src"]}),"text/html"),s=[],i=c=>{c.nodeType===3?s.push(c.textContent.trim()):c.nodeType===1&&c.tagName!=="IMG"&&c.childNodes.forEach(i)};i(n.body);const a=s.join(" ").trim(),o=Array.from(n.querySelectorAll("img")).map(c=>c.src);return{textContent:a,images:o}},Zxe=({maCombo:e})=>{var M;const[t,n]=B.useState([]),[s,i]=B.useState(""),[a,o]=B.useState(0),[c,l]=B.useState(new Set),[u,d]=B.useState(!1),[f,h]=B.useState(null),[m,A]=B.useState(null),[g,p]=B.useState(0),b=(k,D)=>A({message:k,type:D}),x=()=>A(null);B.useEffect(()=>{(async()=>{try{const D=await fetch("https://bicacuatho.azurewebsites.net/api/Comment/list");if(!D.ok)throw new Error("Failed to fetch comments");const L=(await D.json()).filter(E=>E.maCombo!==null&&E.maCombo!==0&&E.maCombo===parseInt(e,10)&&E.trangThai===1).map(E=>({...E,soTimBinhLuan:E.soTimBinhLuan||0,tenCombo:E.tenCombo||`Combo ${E.maCombo}`})).sort((E,T)=>T.soTimBinhLuan-E.soTimBinhLuan);if(L.length>0){const E=L.reduce((T,w)=>T+(w.danhGia||0),0);p(E/L.length)}else p(0);const F=JSON.parse(localStorage.getItem("user")),_=F==null?void 0:F.maNguoiDung;if(_){const E=`likedComments_${_}`,T=JSON.parse(localStorage.getItem(E))||[];l(new Set(T))}n(L)}catch(D){console.error("Error fetching comments:",D),b("Có lỗi xảy ra khi tải bình luận!","error"),p(0)}})()},[e]);const v=k=>{h(k),d(!0)},y=async()=>{if(f)try{if(!(await fetch(`https://bicacuatho.azurewebsites.net/api/Comment/delete/${f}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Failed to delete comment");n(D=>{const O=D.filter(L=>L.maBinhLuan!==f);if(O.length>0){const L=O.reduce((F,_)=>F+(_.danhGia||0),0);p(L/O.length)}else p(0);return O}),b("Xóa bình luận thành công!","success")}catch(k){console.error("Error deleting comment:",k),b("Có lỗi xảy ra khi xóa bình luận!","error")}finally{d(!1),h(null)}},N=async k=>{const D=JSON.parse(localStorage.getItem("user")),O=D==null?void 0:D.maNguoiDung;if(!O){b("Vui lòng đăng nhập để thích bình luận!","error");return}const L=c.has(k),F=L?`https://bicacuatho.azurewebsites.net/api/Comment/Unlike/${k}`:`https://bicacuatho.azurewebsites.net/api/Comment/Like/${k}`;try{if(!(await fetch(F,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Failed to update like status");n(E=>E.map(T=>T.maBinhLuan===k?{...T,soTimBinhLuan:L?Math.max(0,T.soTimBinhLuan-1):T.soTimBinhLuan+1}:T).sort((T,w)=>w.soTimBinhLuan-T.soTimBinhLuan)),l(E=>{const T=new Set(E);L?T.delete(k):T.add(k);const w=`likedComments_${O}`;return localStorage.setItem(w,JSON.stringify([...T])),T}),b(L?"Đã bỏ thích bình luận!":"Đã thích bình luận!","success")}catch(_){console.error("Error updating like status:",_),b("Có lỗi xảy ra khi cập nhật số tim!","error")}},P=(M=JSON.parse(localStorage.getItem("user")))==null?void 0:M.maNguoiDung;return r.jsxs("div",{className:"mt-12 comments",children:[m&&r.jsx(qxe,{message:m.message,type:m.type,onClose:x}),r.jsx(Xxe,{isOpen:u,onClose:()=>d(!1),onConfirm:y}),r.jsx("h2",{className:"text-2xl font-medium mb-6",children:"Đánh Giá"}),r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg font-medium",children:"Đánh giá trung bình:"}),r.jsx("div",{className:"flex",children:Array.from({length:5}).map((k,D)=>r.jsx(Lr,{className:Fe("w-5 h-5",D<Math.floor(g)?"fill-yellow-400 text-yellow-400":"text-gray-300")},D))}),r.jsxs("span",{className:"text-lg font-medium",children:[g.toFixed(1)," / 5"]})]})}),r.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:t.length===0?r.jsx("p",{className:"text-muted-foreground",children:"Chưa có bình luận nào."}):t.map(k=>{const{textContent:D,images:O}=Yxe(k.noiDungBinhLuan||"Chưa cập nhật");return r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("img",{src:k.hinhAnh||Lj,alt:`Ảnh của ${k.hoTen||k.maNguoiDung}`,className:"w-12 h-12 rounded-full object-cover border border-border",onError:L=>{console.warn(`Failed to load image for comment ${k.maBinhLuan}, using default`),L.target.src=Lj}})}),r.jsxs("div",{className:"flex-1 flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center mb-2",children:Array.from({length:5}).map((L,F)=>r.jsx(Lr,{className:Fe("w-4 h-4",F<k.danhGia?"fill-yellow-400 text-yellow-400":"text-gray-300")},F))}),r.jsx("div",{className:"text-gray-800 line-clamp-3 mb-2",style:{whiteSpace:"pre-line"},children:D||"Chưa cập nhật"}),O.length>0&&r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:O.map((L,F)=>r.jsx("img",{src:L,alt:`Hình ảnh bình luận ${F+1}`,className:"w-48 h-auto object-contain rounded",style:{maxWidth:"225px"},onError:_=>{console.warn(`Failed to load comment image ${F+1}`),_.target.src=Lj}},F))}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Bởi ",k.hoTen||k.maNguoiDung," -"," ",new Date(k.ngayBinhLuan).toLocaleDateString()," -"," ","Combo: ",k.tenCombo||k.maCombo]}),r.jsx("div",{className:"flex items-center mt-2",children:r.jsxs("button",{onClick:()=>N(k.maBinhLuan),className:"flex items-center gap-1",children:[r.jsx(di,{className:Fe("w-5 h-5",c.has(k.maBinhLuan)?"fill-red-500 text-red-500":"text-gray-400")}),r.jsx("span",{children:k.soTimBinhLuan})]})})]}),k.maNguoiDung===P&&r.jsx("button",{onClick:()=>v(k.maBinhLuan),className:"text-red-500 hover:text-red-700 transition-colors",children:r.jsx(za,{className:"w-5 h-5"})})]})]},k.maBinhLuan)})}),r.jsx("style",{children:`
        .comments .line-clamp-3 {
          display: -webkit-box;
          -webkit-line-clamp: 3;
          -webkit-box-orient: vertical;
          overflow: hidden;
          whiteSpace: pre-line;
        }
      `})]})},Jxe=()=>{const{id:e}=Mm(),t=gr(),[n,s]=B.useState(null),[i,a]=B.useState(""),[o,c]=B.useState(1),[l,u]=B.useState(!0),[d,f]=B.useState({}),[h,m]=B.useState({}),[A,g]=B.useState({}),[p,b]=B.useState(!1),[x,v]=B.useState(null),y=(L,F)=>we.fire({title:F==="error"?"Lỗi!":F==="warning"?"Cảnh báo!":"Thành công!",text:L,icon:F,timer:2e3,timerProgressBar:!0,showConfirmButton:!1}),N=L=>{const F=L.sanPhams.reduce((j,S)=>j+S.donGia*S.soLuong,0),_=L.gia,E=L.khuyenMaiMax||0,T=Math.round((F-_)/F*100),w=_*(1-E/100),C=F-w;return{originalTotalPrice:F,comboBasePrice:_,finalPrice:w,totalSavings:C,bundleDiscountPercent:T,promotionPercent:E}};B.useEffect(()=>{(async()=>{try{u(!0);const F=await fetch(`https://bicacuatho.azurewebsites.net/api/Combo/ComboSanPhamView?id=${e}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!F.ok)throw new Error(`HTTP error! Status: ${F.status}`);const _=await F.json(),E=N(_[0]),T={id:_[0].maCombo,name:_[0].name,description:_[0].moTa||"Không có mô tả",longDescription:_[0].moTa||"Không có mô tả chi tiết",image:_[0].hinhAnh?`data:image/jpeg;base64,${_[0].hinhAnh}`:"https://images.unsplash.com/photo-1531297484001-80022131f5a1",images:_[0].hinhAnh?[`data:image/jpeg;base64,${_[0].hinhAnh}`]:["https://images.unsplash.com/photo-1531297484001-80022131f5a1","https://images.unsplash.com/photo-1581091226825-a6a2a5aee158","https://images.unsplash.com/photo-1488590528505-98d2b5aba04b"],rating:4.8,reviews:[{id:1,user:"Madison K.",date:"April 2, 2025",rating:5,comment:"Giá trị tuyệt vời! Cả ba sản phẩm kết hợp hoàn hảo và chất lượng tuyệt vời."},{id:2,user:"Ryan T.",date:"March 28, 2025",rating:5,comment:"Mua cho vợ và cô ấy rất thích. Màu sắc rất đẹp."},{id:3,user:"Jamie L.",date:"March 15, 2025",rating:4,comment:"Combo tuyệt vời, nhưng tôi mong có thêm lựa chọn kích thước cho váy."}],isFavorite:!1,products:_[0].sanPhams.map(C=>({id:C.idSanPham,name:C.name,brand:C.thuongHieu,category:C.loaiSanPham,price:C.donGia,quantity:C.soLuong,material:C.chatLieu,description:C.moTa||"Không có mô tả chi tiết",image:C.hinh&&C.hinh.length>0?`data:image/jpeg;base64,${C.hinh[0]}`:"https://images.unsplash.com/photo-1649972904349-6e44c42644a7",colors:C.mauSac||[],sizes:C.kichThuoc||[]})),originalTotalPrice:E.originalTotalPrice,comboBasePrice:E.comboBasePrice,finalPrice:E.finalPrice,totalSavings:E.totalSavings,bundleDiscountPercent:E.bundleDiscountPercent,promotionPercent:E.promotionPercent,stock:_[0].soLuong,createdDate:_[0].ngayTao,status:_[0].trangThai},w=T.products.reduce((C,j)=>({...C,[j.id]:{colorIndex:null,sizeIndex:null}}),{});f(w),s(T),a(T.image);try{const C=JSON.parse(localStorage.getItem("user")||"{}"),j=C==null?void 0:C.maNguoiDung;if(j){const S=await fetch("https://bicacuatho.azurewebsites.net/api/YeuThich",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!S.ok)throw new Error("Failed to fetch favorites");const R=(await S.json()).find(U=>U.maCombo===T.id&&U.maNguoiDung===j);R&&(b(!0),v(R.maYeuThich))}}catch(C){console.error("Error checking favorite status:",C)}}catch(F){console.error("Error fetching combo:",F),y("Không thể tải thông tin combo!","error")}finally{u(!1)}})()},[e]);const P=async(L,F)=>{try{const _=F.replace("#",""),E=await fetch(`https://bicacuatho.azurewebsites.net/api/SanPham/SanPhamByIDSorted?id=${L}_${_}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!E.ok)throw new Error("Không thể lấy thông tin kích thước và số lượng");const T=await E.json(),C=(Array.isArray(T)?T[0]:T).details.map(j=>({size:j.kichThuoc.trim(),quantity:j.soLuong,price:j.gia}));m(j=>({...j,[L]:C}))}catch(_){console.error("Lỗi khi lấy thông tin kích thước:",_),y("Không thể lấy thông tin kích thước. Vui lòng thử lại.","error")}},M=(L,F,_)=>{f(E=>{const T={...E,[L]:{...E[L],[F]:_}};if(F==="colorIndex"){const w=n.products.find(C=>C.id===L).colors[_];P(L,`#${w}`),g(C=>({...C,[L]:!0})),T[L].sizeIndex=null}return T})},k=async()=>{const L=JSON.parse(localStorage.getItem("user")||"{}"),F=L==null?void 0:L.maNguoiDung;if(!F){y("Bạn cần đăng nhập để thêm combo vào giỏ hàng.","warning").then(()=>{t("/login")});return}if(n.products.filter(T=>d[T.id].colorIndex===null||d[T.id].sizeIndex===null).length>0){y("Vui lòng chọn màu sắc và kích thước cho tất cả sản phẩm trong combo!","error");return}const E={IDKhachHang:F,IDCombo:Number(n.id),SoLuong:Number(o),Detail:n.products.map(T=>({MaSanPham:String(T.id),MauSac:T.colors[d[T.id].colorIndex].replace("#",""),KichThuoc:h[T.id][d[T.id].sizeIndex].size}))};try{const T=await fetch("https://bicacuatho.azurewebsites.net/api/Cart/ThemComboVaoGioHang",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(E)});if(!T.ok){const w=await T.text();throw new Error(`Không thể thêm combo vào giỏ hàng: ${w}`)}y("Đã thêm combo vào giỏ hàng thành công!","success")}catch(T){y(`Có lỗi xảy ra khi thêm vào giỏ hàng: ${T.message}`,"error")}},D=async()=>{const L=JSON.parse(localStorage.getItem("user")||"{}"),F=L==null?void 0:L.maNguoiDung,_=L==null?void 0:L.hoTen;if(!F){y("Vui lòng đăng nhập để thêm combo vào danh sách yêu thích!","warning").then(()=>{t("/auth/login")});return}if(p)try{if(!(await fetch(`https://bicacuatho.azurewebsites.net/api/YeuThich/${x}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Không thể xóa combo khỏi danh sách yêu thích");b(!1),v(null),y("Đã xóa combo khỏi danh sách yêu thích!","success")}catch{y("Có lỗi xảy ra khi xóa combo yêu thích!","error")}else{const E={maCombo:n.id,tenCombo:n.name,maNguoiDung:F,hoTen:_,soLuongYeuThich:1,ngayYeuThich:new Date().toISOString()};try{const T=await fetch("https://bicacuatho.azurewebsites.net/api/YeuThich",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(E)});if(!T.ok)throw new Error("Không thể thêm combo vào danh sách yêu thích");const w=await T.json();b(!0),v(w.maYeuThich),y("Đã thêm combo vào danh sách yêu thích!","success")}catch{y("Có lỗi xảy ra khi thêm combo yêu thích!","error")}}},O=L=>new Intl.NumberFormat("vi-VN").format(L)+" VND";return l?r.jsx("div",{className:"container mx-auto py-8",children:r.jsxs("div",{className:"animate-pulse space-y-4",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"aspect-video bg-gray-200 rounded-lg"}),r.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3].map(L=>r.jsx("div",{className:"aspect-square bg-gray-200 rounded-md"},L))})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),r.jsx("div",{className:"h-32 bg-gray-200 rounded"})]})]})]})}):n?r.jsxs("div",{className:"container mx-auto py-8",children:[r.jsx("div",{className:"mb-4",children:r.jsx(ct,{to:"/combos",className:"text-crocus-600 hover:underline flex items-center gap-1",children:"← Quay về Trang Danh Sách Combo"})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"aspect-video rounded-lg overflow-hidden bg-gray-100 relative",children:[r.jsx("img",{src:i,alt:n.name,className:"w-full h-full object-cover"}),r.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[n.bundleDiscountPercent>0&&r.jsxs("div",{className:"right-4 bg-blue-500 text-white p-3 rounded shadow-lg z-10 flex flex-col items-center",children:[r.jsx("div",{className:"text-xs font-medium",children:"Đã Giảm"}),r.jsxs("div",{className:"text-lg font-bold",children:[n.bundleDiscountPercent,"%"]})]}),n.promotionPercent>0&&r.jsxs("div",{className:"right-4 bg-gradient-to-br from-red-500 to-red-600 text-white p-3 min-w-[80px] min-h-[80px] flex flex-col items-center justify-center shadow-lg z-10 rounded",children:[r.jsx("div",{className:"text-xs font-medium",children:"Khuyến Mãi"}),r.jsxs("div",{className:"text-lg font-bold",children:[" -",n.promotionPercent,"%"]})]})]})]}),r.jsx("div",{className:"grid grid-cols-3 gap-4",children:n.images.map((L,F)=>r.jsx("button",{onClick:()=>a(L),className:`aspect-square rounded-md overflow-hidden border-2 transition-all ${i===L?"border-crocus-500":"border-gray-200 opacity-70 hover:opacity-100"}`,children:r.jsx("img",{src:L,alt:`${n.name} view ${F+1}`,className:"w-full h-full object-cover"})},F))})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:n.name}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-4",children:[r.jsxs("span",{children:["Mã combo: ",n.id]}),r.jsx("span",{children:"•"}),r.jsxs("span",{children:["Còn lại: ",n.stock," combo"]})]})]}),r.jsx(fe,{variant:"ghost",onClick:D,className:"h-10 w-10 p-0 hover:bg-red-50",children:r.jsx(di,{className:`h-6 w-6 transition-colors ${p?"fill-red-500 text-red-500":"text-gray-400 hover:text-red-500"}`})})]}),r.jsxs("div",{className:"bg-gradient-to-r from-crocus-50 to-purple-50 p-4 rounded-lg space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-3xl font-bold text-crocus-600",children:O(n.finalPrice)}),r.jsxs("div",{className:"flex gap-2",children:[n.bundleDiscountPercent>0&&r.jsxs(Kt,{variant:"secondary",className:"bg-red-100 text-red-700",children:["-",n.bundleDiscountPercent,"%"]}),n.promotionPercent>0&&r.jsxs(Kt,{variant:"secondary",className:"bg-green-100 text-green-700",children:["-",n.promotionPercent,"%"]})]})]}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-500",children:"Giá các sản phẩm riêng lẻ:"}),r.jsx("span",{className:"line-through text-gray-400",children:O(n.originalTotalPrice)})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("span",{className:"text-green-600 font-medium",children:["Tiết kiệm được: ",O(n.totalSavings)]})})]})]})]}),r.jsx("div",{className:"prose max-w-none",children:r.jsxs("p",{className:"text-gray-700",children:[r.jsx("strong",{children:"Mô tả:"})," ",n.description]})}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:["Sản Phẩm Trong Combo (",n.products.length," sản phẩm)"]}),r.jsx("div",{className:"space-y-4",children:n.products.map(L=>{var F;return r.jsx(it,{className:"overflow-hidden",children:r.jsx(dt,{className:"p-4",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(ct,{to:`/products/${L.id}`,children:r.jsx("img",{src:L.image,alt:L.name,className:"w-16 h-16 object-cover rounded-md"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx(ct,{to:`/products/${L.id}`,children:r.jsx("h4",{className:"font-medium text-gray-900 truncate",children:L.name})}),r.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[r.jsxs("div",{children:["Thương hiệu: ",L.brand]}),r.jsxs("div",{children:["Loại: ",L.category]}),r.jsxs("div",{children:["Chất liệu: ",L.material]})]})]}),r.jsxs("div",{className:"text-right flex-shrink-0",children:[r.jsx("div",{className:"text-lg font-semibold text-crocus-600",children:O(L.price)}),r.jsxs("div",{className:"text-sm text-gray-500",children:["x",L.quantity]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Màu Sắc *"}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:L.colors.map((_,E)=>{var T;return r.jsx("button",{onClick:()=>M(L.id,"colorIndex",E),className:`w-8 h-8 rounded-full border-2 transition-all hover:scale-110 ${((T=d[L.id])==null?void 0:T.colorIndex)===E?"border-crocus-500 ring-2 ring-crocus-200":"border-gray-300 hover:border-gray-400"}`,style:{backgroundColor:`#${_}`},title:`Màu #${_}`},E)})})]}),A[L.id]&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kích Thước *"}),((F=h[L.id])==null?void 0:F.length)>0?r.jsx("div",{className:"flex gap-2 flex-wrap",children:h[L.id].map((_,E)=>{var T;return r.jsxs("button",{onClick:()=>M(L.id,"sizeIndex",E),className:`px-3 py-2 border rounded-md text-sm transition-all ${((T=d[L.id])==null?void 0:T.sizeIndex)===E?"border-crocus-500 bg-crocus-50 text-crocus-700":"border-gray-300 hover:border-gray-400"} ${_.quantity===0?"opacity-50 cursor-not-allowed bg-gray-50":"hover:shadow-sm"}`,disabled:_.quantity===0,children:[_.size,r.jsxs("span",{className:`ml-1 text-xs ${_.quantity===0?"text-red-500":"text-gray-500"}`,children:["(",_.quantity===0?"Hết hàng":`${_.quantity} còn lại`,")"]})]},E)})}):r.jsx("p",{className:"text-sm text-red-500 bg-red-50 p-2 rounded",children:"Không có kích thước nào khả dụng cho màu này."})]})]})]})]})})},L.id)})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số Lượng"}),r.jsxs("div",{className:"flex items-center border border-gray-200 rounded-md w-32",children:[r.jsx("button",{onClick:()=>c(L=>Math.max(1,L-1)),className:"px-3 py-2 text-gray-500 hover:text-gray-700 hover:bg-gray-50 transition-colors",children:"-"}),r.jsx("span",{className:"flex-1 text-center py-2 font-medium",children:o}),r.jsx("button",{onClick:()=>c(L=>Math.min(n.stock,L+1)),className:"px-3 py-2 text-gray-500 hover:text-gray-700 hover:bg-gray-50 transition-colors",children:"+"})]})]}),r.jsxs(fe,{onClick:k,className:"w-full bg-crocus-600 hover:bg-crocus-700 text-white font-medium py-3 text-lg transition-colors",disabled:n.stock===0,children:[r.jsx(Rs,{className:"mr-2 h-5 w-5"}),n.stock===0?"Hết hàng":"Thêm Vào Giỏ Hàng"]}),n.stock<=5&&n.stock>0&&r.jsxs("p",{className:"text-orange-600 text-sm text-center font-medium",children:["⚠️ Chỉ còn ",n.stock," combo cuối cùng!"]})]})]})]}),r.jsx(Zxe,{maCombo:e})]}):r.jsxs("div",{className:"container mx-auto py-8 text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-500",children:"Không tìm thấy combo"}),r.jsx(ct,{to:"/combos",className:"text-crocus-600 hover:underline mt-4 inline-block",children:"← Quay về Trang Danh Sách Combo"})]})},RQ=({post:e,nguoiDung:t})=>{Dm();const n=e.metaDescription?e.metaDescription.length>100?e.metaDescription.slice(0,100)+"...":e.metaDescription:e.noiDung.length>100?e.noiDung.slice(0,100)+"...":e.noiDung,s=new Date(e.ngayTao).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"}),i=e.hoTen&&e.hoTen!==e.maNguoiDung?e.hoTen:t!=null&&t.hoTen?t.hoTen:e.maNguoiDung.replace(/\d+$/,"").trim()||"Không rõ";return r.jsxs(it,{className:"hover:shadow-lg transition-shadow duration-300",children:[e.hinhAnh&&e.slug&&r.jsx(ct,{to:`/blogs/${e.slug}`,"aria-label":`Xem chi tiết bài viết ${e.tieuDe}`,children:r.jsx("div",{className:"w-full h-48 flex items-center justify-center bg-gray-100",children:r.jsx("img",{src:`data:image/jpeg;base64,${e.hinhAnh}`,alt:e.moTaHinhAnh||e.tieuDe,className:"max-w-full max-h-full object-contain rounded-t-md"})})}),r.jsx(yt,{children:r.jsx(jt,{className:"text-lg font-semibold whitespace-normal break-words",children:e.slug?r.jsx(ct,{to:`/blogs/${e.slug}`,"aria-label":`Xem chi tiết bài viết ${e.tieuDe}`,children:e.tieuDe}):e.tieuDe})}),r.jsxs(dt,{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-gray-600",children:n}),e.chuDe&&r.jsxs("div",{className:"text-sm text-gray-500 italic",children:["Chủ đề: ",e.chuDe]}),r.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[r.jsxs("div",{children:[r.jsxs("span",{children:["Người tạo: ",i]}),(t==null?void 0:t.vaiTro)&&r.jsx("span",{className:`ml-2 px-2 py-1 rounded 
                  ${t.vaiTro==="Admin"?"bg-red-500 text-white":"border-green-500 text-green-500 bg-white"}`,children:t.vaiTro==="Admin"?"Admin":"Nhân Viên"})]}),r.jsxs("span",{children:["Ngày tạo: ",s]})]}),e.tags&&e.tags.length>0&&r.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((a,o)=>r.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:a},o))}),r.jsx("div",{className:"text-xs text-gray-500",children:r.jsxs("span",{children:["Lượt thích: ",e.likes]})})]})]})},ebe=()=>{const[e,t]=B.useState(""),[n,s]=B.useState("newest"),[i,a]=B.useState([]),[o,c]=B.useState({}),[l,u]=B.useState(!0),[d,f]=B.useState(1),h=6,m=Dm(),A=async()=>{try{u(!0);const P=await Nt.get("https://bicacuatho.azurewebsites.net/api/Blog");a(P.data);const M=[...new Set(P.data.map(L=>L.maNguoiDung))],k=M.map(L=>Nt.get(`https://bicacuatho.azurewebsites.net/api/NguoiDung/${L}`).catch(()=>null)),D=await Promise.all(k),O=M.reduce((L,F,_)=>{var E;return L[F]=((E=D[_])==null?void 0:E.data)||null,L},{});c(O)}catch{gs.error("Không thể tải danh sách blog hoặc thông tin người dùng.")}finally{u(!1)}};B.useEffect(()=>{A()},[]);const g=B.useMemo(()=>{let P=i.filter(M=>M.isPublished);switch(e&&(P=P.filter(M=>{var k;return M.tieuDe.toLowerCase().includes(e.toLowerCase())||M.noiDung.toLowerCase().includes(e.toLowerCase())||((k=M.chuDe)==null?void 0:k.toLowerCase().includes(e.toLowerCase()))||M.tags&&M.tags.some(D=>D.toLowerCase().includes(e.toLowerCase()))})),n){case"newest":return[...P].sort((M,k)=>new Date(k.ngayTao).getTime()-new Date(M.ngayTao).getTime());case"oldest":return[...P].sort((M,k)=>new Date(M.ngayTao).getTime()-new Date(k.ngayTao).getTime());case"title_asc":return[...P].sort((M,k)=>M.tieuDe.localeCompare(k.tieuDe));case"title_desc":return[...P].sort((M,k)=>k.tieuDe.localeCompare(k.tieuDe));default:return P}},[e,n,i]),p=d*h,b=p-h,x=g.slice(b,p),v=Math.ceil(g.length/h),y=()=>{t(""),s("newest"),f(1)},N=()=>{const P=[],k=Math.floor(2.5);let D=Math.max(1,d-k),O=Math.min(v,d+k);O-D+1<5&&(D===1?O=Math.min(v,D+5-1):D=Math.max(1,O-5+1));for(let L=D;L<=O;L++)P.push(L);return P};return r.jsxs("div",{className:"space-y-6 p-4 sm:p-6 bg-gray-50 min-h-screen",children:[r.jsx($m,{position:"top-right"}),r.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-800",children:"Danh sách tin tức"}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(ye,{placeholder:"Tìm kiếm bài viết...",value:e,onChange:P=>t(P.target.value),className:"w-full pl-10 pr-4 py-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500","aria-label":"Tìm kiếm bài viết"}),r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"🔍"})]}),r.jsxs(mn,{value:n,onValueChange:s,children:[r.jsx(cn,{className:m?"w-full":"w-[180px]","aria-label":"Sắp xếp bài viết",children:r.jsx(pn,{placeholder:"Sắp xếp"})}),r.jsxs(un,{children:[r.jsx(Qe,{value:"newest",children:"Mới nhất"}),r.jsx(Qe,{value:"oldest",children:"Cũ nhất"}),r.jsx(Qe,{value:"title_asc",children:"Tiêu đề (A-Z)"}),r.jsx(Qe,{value:"title_desc",children:"Tiêu đề (Z-A)"})]})]})]}),l?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(As,{className:"h-8 w-8 animate-spin mx-auto text-blue-500"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Đang tải..."})]}):g.length===0?r.jsxs("div",{className:"text-center py-6 sm:py-12 border rounded-md bg-gray-50",children:[r.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:"Không tìm thấy bài viết"}),r.jsx("p",{className:"text-gray-600 mb-4 px-4",children:"Thử điều chỉnh bộ lọc hoặc tìm kiếm khác"}),r.jsx(fe,{size:m?"sm":"default",onClick:y,className:"bg-blue-600 text-white hover:bg-blue-700",children:"Đặt lại bộ lọc"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:x.map(P=>r.jsx(RQ,{post:P,nguoiDung:o[P.maNguoiDung]||null},P.maBlog))}),v>1&&r.jsxs("div",{className:"flex justify-center items-center gap-2 mt-8",children:[r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>f(1),disabled:d===1,className:"border-gray-300 hover:bg-gray-100","aria-label":"Trang đầu",children:"Đầu"}),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>f(P=>Math.max(1,P-1)),disabled:d===1,className:"border-gray-300 hover:bg-gray-100","aria-label":"Trang trước",children:"Trước"}),N().map(P=>r.jsx(fe,{variant:d===P?"default":"outline",size:"sm",onClick:()=>f(P),className:`${d===P?"bg-blue-600 text-white hover:bg-blue-700":"border-gray-300 hover:bg-gray-100"}`,"aria-label":`Trang ${P}`,children:P},P)),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>f(P=>Math.min(v,P+1)),disabled:d===v,className:"border-gray-300 hover:bg-gray-100","aria-label":"Trang sau",children:"Sau"}),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>f(v),disabled:d===v,className:"border-gray-300 hover:bg-gray-100","aria-label":"Trang cuối",children:"Cuối"})]})]}),r.jsxs("div",{className:"text-sm text-gray-500",children:[g.length," bài viết được tìm thấy"]})]})},NE=[{id:"1",title:"Summer 2025 Collection",excerpt:"Discover our new summer collection featuring the hottest trends in fashion with the 2025 Pantone color.",image:"https://images.unsplash.com/photo-1649972904349-6e44c42644a7?auto=format&fit=crop&w=800&h=450",date:"April 15, 2025",timestamp:new Date("2025-04-15"),author:"Emma Johnson",authorImage:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&w=60&h=60",category:"product",likes:128,comments:32,relatedProducts:[1,2]},{id:"2",title:"How to Style Crocus Purple",excerpt:"Learn how to incorporate the trending Crocus Purple color into your wardrobe this season.",image:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&w=800&h=450",date:"April 10, 2025",timestamp:new Date("2025-04-10"),author:"Michael Chen",authorImage:"https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?auto=format&fit=crop&w=60&h=60",category:"product",likes:95,comments:18,relatedProducts:[3]},{id:"3",title:"Perfect Outfit Combinations",excerpt:"Explore our curated outfit combinations that will elevate your style game.",image:"https://images.unsplash.com/photo-1539109136881-3be0616acf4b?auto=format&fit=crop&w=800&h=450",date:"April 5, 2025",timestamp:new Date("2025-04-05"),author:"Sophia Rodriguez",authorImage:"https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?auto=format&fit=crop&w=60&h=60",category:"combo",likes:156,comments:45,relatedCombos:[1,2]},{id:"4",title:"Sustainable Fashion Choices",excerpt:"Discover our eco-friendly clothing options that don't compromise on style.",image:"https://images.unsplash.com/photo-1523381210434-271e8be1f52b?auto=format&fit=crop&w=800&h=450",date:"March 28, 2025",timestamp:new Date("2025-03-28"),author:"Daniel Lee",authorImage:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&w=60&h=60",category:"product",likes:72,comments:14,relatedProducts:[1,4]},{id:"5",title:"Mix and Match with Combos",excerpt:"Learn the art of mixing and matching with our fashion combos to create versatile looks.",image:"https://images.unsplash.com/photo-1489987707025-afc232f7ea0f?auto=format&fit=crop&w=800&h=450",date:"March 20, 2025",timestamp:new Date("2025-03-20"),author:"Isabella Martinez",authorImage:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?auto=format&fit=crop&w=60&h=60",category:"combo",likes:110,comments:27,relatedCombos:[3,4]}],tbe=()=>{const[e,t]=B.useState("all"),[n,s]=B.useState(""),[i,a]=B.useState(""),[o,c]=B.useState("newest");return Dm(),B.useMemo(()=>[...new Set(NE.map(l=>l.author))],[]),r.jsxs("div",{className:"py-6 sm:py-10 px-4 sm:px-6 container mx-auto",children:[r.jsx("div",{className:"hidden xs:block mb-2 sm:mb-4",children:r.jsxs("p",{className:"text-sm sm:text-base text-gray-600",children:[NE.filter(l=>(e==="all"||l.category===e)&&(!n||l.title.toLowerCase().includes(n.toLowerCase())||l.excerpt.toLowerCase().includes(n.toLowerCase()))&&(!i||l.author===i)).length," posts found"]})}),r.jsx(ebe,{})]})},bp=(e,t)=>we.fire({title:t==="error"?"Lỗi!":t==="warning"?"Cảnh báo!":"Thành công!",text:e,icon:t,timer:2e3,timerProgressBar:!0,showConfirmButton:!1}),nbe=()=>{const e=gr(),[t,n]=B.useState([]),[s,i]=B.useState([]),[a,o]=B.useState([]),[c,l]=B.useState([]),[u,d]=B.useState(!0),[f,h]=B.useState(null),[m,A]=B.useState(""),[g,p]=B.useState([]),[b,x]=B.useState([]),[v,y]=B.useState([]),[N,P]=B.useState([]),[M,k]=B.useState([]),[D,O]=B.useState(void 0),[L,F]=B.useState([]),[_,E]=B.useState([0,0]),[T,w]=B.useState("name_asc"),[C,j]=B.useState(!1),[S,I]=B.useState(!1);B.useEffect(()=>{(async()=>{try{d(!0);const Z=JSON.parse(localStorage.getItem("user")||"null");I(!!Z);const te=(Z==null?void 0:Z.maNguoiDung)||null;if(!te){d(!1),bp("Vui lòng đăng nhập để xem danh sách yêu thích!","warning").then(()=>{e("/login")});return}const re=await fetch(`https://bicacuatho.azurewebsites.net/api/YeuThich?maNguoiDung=${te}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!re.ok)throw new Error("Không thể lấy danh sách yêu thích");const Y=await re.json(),oe=await fetch("https://bicacuatho.azurewebsites.net/api/SanPham/ListSanPham",{headers:{Accept:"application/json"}});if(!oe.ok)throw new Error("Không thể tải danh sách sản phẩm");const ae=await oe.json(),ce=await fetch("https://bicacuatho.azurewebsites.net/api/Comment/list");if(!ce.ok)throw new Error("Không thể tải bình luận");const de=await ce.json(),pe=ae.map(me=>{const ve=me.id.split("_")[0]||me.id,_e=de.filter(Me=>Me.maSanPham===ve&&Me.trangThai===1),Te=_e.reduce((Me,Ie)=>Me+(Ie.danhGia||0),0),Ue=_e.length>0?Te/_e.length:0,Ee=Y.find(Me=>Me.maSanPham===ve&&Me.maNguoiDung===te);return{id:me.id,name:me.name,description:me.moTa||`Thương hiệu: ${me.thuongHieu||"Không xác định"} <br/> Chất liệu: ${me.chatLieu||"Không xác định"}`,imageSrc:me.hinh[0]?`data:image/jpeg;base64,${me.hinh[0]}`:"https://via.placeholder.com/300",price:me.donGia,category:me.loaiSanPham||"Không xác định",thuongHieu:me.thuongHieu||"Không xác định",chatLieu:me.chatLieu||"Không xác định",kichThuoc:me.kichThuoc||[],mauSac:me.mauSac||[],averageRating:Ue,commentCount:_e.length,isFavorite:!!Ee,hot:me.hot||!1,likedId:Ee==null?void 0:Ee.maYeuThich,hashtags:me.listHashTag||[],gioiTinh:me.gioiTinh||"Không xác định",trangThai:me.trangThai||0}}).filter(me=>me.isFavorite),Ae=await fetch("https://bicacuatho.azurewebsites.net/api/Combo/ComboSanPhamView");if(!Ae.ok)throw new Error("Không thể tải danh sách combo");const he=(await Ae.json()).map(me=>{var _e,Te,Ue,Ee;const ve=Y.find(Me=>Me.maCombo===me.maCombo&&Me.maNguoiDung===te);return{id:me.maCombo,name:me.name||"Không có tên",description:me.moTa||"Không có mô tả",imageSrc:me.hinhAnh?`data:image/jpeg;base64,${me.hinhAnh}`:"/placeholder-image.jpg",price:me.gia||0,products:Array.isArray(me.sanPhams)?me.sanPhams.map(Me=>Me.name||"Không có tên"):[],productCount:Array.isArray(me.sanPhams)?me.sanPhams.length:0,rating:4+Math.random()*.9,isFavorite:!!ve,occasion:(_e=me.moTa)!=null&&_e.includes("Casual")?"Casual":(Te=me.moTa)!=null&&Te.includes("Office")?"Office":(Ue=me.moTa)!=null&&Ue.includes("Evening")?"Evening":(Ee=me.moTa)!=null&&Ee.includes("Athletic")?"Athletic":"Other",savings:me.gia*.15,savingsPercentage:15,likedId:ve==null?void 0:ve.maYeuThich}}).filter(me=>me.isFavorite);n(pe),i(he),o(pe),l(he),E([Math.min(...[...pe,...he].map(me=>me.price))||0,Math.max(...[...pe,...he].map(me=>me.price))||0]),h(null)}catch(Z){console.error("Lỗi khi lấy danh sách yêu thích:",Z),h("Không thể tải danh sách yêu thích. Vui lòng thử lại sau."),ir({title:"Lỗi",description:"Không thể tải danh sách yêu thích",variant:"destructive"})}finally{d(!1)}})()},[e]),B.useMemo(()=>[...new Set(t.flatMap(q=>q.mauSac))].sort(),[t]);const R=B.useMemo(()=>[...new Set(t.flatMap(q=>q.kichThuoc))].sort(),[t]),U=B.useMemo(()=>[...new Set(t.map(q=>q.thuongHieu))].sort(),[t]),z=B.useMemo(()=>[...new Set(t.map(q=>q.category||""))].sort(),[t]),V=B.useMemo(()=>[...new Set(t.map(q=>q.gioiTinh))].sort(),[t]),X=B.useMemo(()=>[...new Set(s.map(q=>q.occasion))].sort(),[s]),$=B.useMemo(()=>{const q=[...t,...s];return q.length>0?Math.floor(Math.min(...q.map(Z=>Z.price))):0},[t,s]),W=B.useMemo(()=>{const q=[...t,...s];return q.length>0?Math.ceil(Math.max(...q.map(Z=>Z.price))):0},[t,s]);B.useEffect(()=>{let q=[...t],Z=[...s];if(m){const re=m.toLowerCase();q=q.filter(Y=>Y.name.toLowerCase().includes(re)),Z=Z.filter(Y=>Y.name.toLowerCase().includes(re))}g.length>0&&(q=q.filter(re=>g.some(Y=>re.mauSac.includes(Y)))),b.length>0&&(q=q.filter(re=>b.some(Y=>re.kichThuoc.includes(Y)))),v.length>0&&(q=q.filter(re=>v.includes(re.thuongHieu))),N.length>0&&(q=q.filter(re=>N.includes(re.category))),M.length>0&&(q=q.filter(re=>M.includes(re.gioiTinh))),D&&(Z=Z.filter(re=>re.productCount>=parseInt(D))),L.length>0&&(Z=Z.filter(re=>L.includes(re.occasion))),(_[0]>0||_[1]>0)&&(q=q.filter(re=>(_[0]===0||re.price>=_[0])&&(_[1]===0||re.price<=_[1])),Z=Z.filter(re=>(_[0]===0||re.price>=_[0])&&(_[1]===0||re.price<=_[1])));const te=(re,Y)=>{switch(T){case"name_asc":return re.name.localeCompare(Y.name);case"name_desc":return Y.name.localeCompare(re.name);case"price_asc":return re.price-Y.price;case"price_desc":return Y.price-re.price;case"rating_desc":return("averageRating"in Y?Y.averageRating:Y.rating)-("averageRating"in re?re.averageRating:re.rating);case"items_desc":return("productCount"in Y?Y.productCount:0)-("productCount"in re?re.productCount:0);default:return 0}};q.sort(te),Z.sort(te),o(q),l(Z)},[t,s,m,g,b,v,N,M,D,L,_,T]);const H=q=>{x(Z=>Z.includes(q)?Z.filter(te=>te!==q):[...Z,q])},Q=q=>{y(Z=>Z.includes(q)?Z.filter(te=>te!==q):[...Z,q])},G=q=>{P(Z=>Z.includes(q)?Z.filter(te=>te!==q):[...Z,q])},J=q=>{k(Z=>Z.includes(q)?Z.filter(te=>te!==q):[...Z,q])},ee=q=>{F(Z=>Z.includes(q)?Z.filter(te=>te!==q):[...Z,q])},K=()=>{A(""),p([]),x([]),y([]),P([]),k([]),O(void 0),F([]),E([$,W]),w("name_asc"),j(!1),ir({title:"Đã xóa bộ lọc",description:"Tất cả bộ lọc đã được đặt lại về mặc định."})},ne=()=>{j(!1),ir({title:"Đã áp dụng bộ lọc",description:"Bộ lọc của bạn đã được áp dụng."})},ue=q=>{q.preventDefault(),ir({title:"Tìm kiếm",description:`Đã tìm kiếm: ${m}`})},se=async q=>{try{const Z=JSON.parse(localStorage.getItem("user")||"null"),te=Z==null?void 0:Z.maNguoiDung,re=Z==null?void 0:Z.hoTen;if(!te){bp("Vui lòng đăng nhập để cập nhật danh sách yêu thích!","warning").then(()=>{e("/login")});return}if(q.isFavorite){if(!(await fetch(`https://bicacuatho.azurewebsites.net/api/YeuThich/${q.likedId}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Không thể xóa khỏi danh sách yêu thích");"mauSac"in q?(n(oe=>oe.map(ae=>ae.id===q.id?{...ae,isFavorite:!1,likedId:void 0}:ae)),o(oe=>oe.map(ae=>ae.id===q.id?{...ae,isFavorite:!1,likedId:void 0}:ae))):(i(oe=>oe.map(ae=>ae.id===q.id?{...ae,isFavorite:!1,likedId:void 0}:ae)),l(oe=>oe.map(ae=>ae.id===q.id?{...ae,isFavorite:!1,likedId:void 0}:ae))),bp("Đã xóa khỏi danh sách yêu thích!","success")}else{const Y={maSanPham:"mauSac"in q?q.id.split("_")[0]||q.id:void 0,tenSanPham:"mauSac"in q?q.name:void 0,maCombo:"productCount"in q?q.id:void 0,tenCombo:"productCount"in q?q.name:void 0,maNguoiDung:te,hoTen:re,soLuongYeuThich:1,ngayYeuThich:new Date().toISOString()},oe=await fetch("https://bicacuatho.azurewebsites.net/api/YeuThich",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(Y)});if(!oe.ok)throw new Error("Không thể thêm vào danh sách yêu thích");const ae=await oe.json();"mauSac"in q?(n(ce=>ce.map(de=>de.id===q.id?{...de,isFavorite:!0,likedId:ae.maYeuThich}:de)),o(ce=>ce.map(de=>de.id===q.id?{...de,isFavorite:!0,likedId:ae.maYeuThich}:de))):(i(ce=>ce.map(de=>de.id===q.id?{...de,isFavorite:!0,likedId:ae.maYeuThich}:de)),l(ce=>ce.map(de=>de.id===q.id?{...de,isFavorite:!0,likedId:ae.maYeuThich}:de))),bp("Đã thêm vào danh sách yêu thích!","success")}}catch(Z){console.error("Lỗi khi cập nhật yêu thích:",Z),bp("Có lỗi xảy ra khi cập nhật yêu thích!","error")}},ie=q=>{const Z={id:q.id,name:q.name,image:q.imageSrc,price:q.price,quantity:1,type:"mauSac"in q?"product":"combo"};console.log("Đã thêm vào giỏ hàng:",Z),ir({title:"Đã thêm vào giỏ hàng",description:`${q.name} đã được thêm vào giỏ hàng của bạn.`})};return r.jsx("div",{className:"min-h-screen flex flex-col",children:r.jsx("main",{className:"flex-1",children:r.jsxs("div",{className:"container px-4 md:px-6 mx-auto max-w-7xl py-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-6 gradient-text",children:"Danh Sách Yêu Thích"}),r.jsx("div",{className:"mb-8 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:r.jsxs("form",{onSubmit:ue,className:"flex w-full md:w-auto",children:[r.jsxs("div",{className:"relative flex-1 md:w-64",children:[r.jsx(Un,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{type:"search",placeholder:"Tìm kiếm trong danh sách yêu thích...",className:"pl-8 w-full",value:m,onChange:q=>A(q.target.value),"aria-label":"Tìm kiếm sản phẩm và combo yêu thích"})]}),r.jsx(fe,{type:"submit",size:"sm",className:"ml-2","aria-label":"Tìm kiếm",children:"Tìm kiếm"}),r.jsx(fe,{type:"button",variant:"outline",size:"icon",className:"ml-2",onClick:()=>j(!C),"aria-label":"Mở bộ lọc",children:r.jsx(kT,{className:"h-4 w-4"})})]})}),C&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>j(!1),children:r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg w-full max-w-4xl max-h-[80vh] overflow-y-auto",onClick:q=>q.stopPropagation(),children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Bộ Lọc"}),r.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>j(!1),children:r.jsx(st,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[r.jsxs("div",{children:[r.jsx(De,{className:"text-lg font-medium mb-3 block",children:"Danh Mục"}),r.jsx("div",{className:"space-y-2",children:z.map(q=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Vs,{id:`category-${q}`,checked:N.includes(q),onCheckedChange:()=>G(q),"aria-label":`Chọn danh mục ${q}`}),r.jsx("label",{htmlFor:`category-${q}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:q})]},q))}),r.jsx(De,{className:"text-lg font-medium mb-3 mt-4 block",children:"Thương Hiệu"}),r.jsx("div",{className:"space-y-2",children:U.map(q=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Vs,{id:`brand-${q}`,checked:v.includes(q),onCheckedChange:()=>Q(q),"aria-label":`Chọn thương hiệu ${q}`}),r.jsx("label",{htmlFor:`brand-${q}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:q})]},q))}),r.jsx(De,{className:"text-lg font-medium mb-3 mt-4 block",children:"Kích Thước"}),r.jsx("div",{className:"space-y-2",children:R.map(q=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Vs,{id:`size-${q}`,checked:b.includes(q),onCheckedChange:()=>H(q),"aria-label":`Chọn kích thước ${q}`}),r.jsx("label",{htmlFor:`size-${q}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:q})]},q))}),r.jsx(De,{className:"text-lg font-medium mb-3 mt-4 block",children:"Giới Tính"}),r.jsx("div",{className:"space-y-2",children:V.map(q=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Vs,{id:`gender-${q}`,checked:M.includes(q),onCheckedChange:()=>J(q),"aria-label":`Chọn giới tính ${q}`}),r.jsx("label",{htmlFor:`gender-${q}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:q})]},q))})]}),r.jsxs("div",{children:[r.jsx(De,{className:"text-lg font-medium mb-3 block",children:"Dịp Sử Dụng"}),r.jsx("div",{className:"space-y-2",children:X.map(q=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Vs,{id:`occasion-${q}`,checked:L.includes(q),onCheckedChange:()=>ee(q),"aria-label":`Chọn dịp sử dụng ${q}`}),r.jsx("label",{htmlFor:`occasion-${q}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:q})]},q))}),r.jsx(De,{className:"text-lg font-medium mb-3 mt-4 block",children:"Số Lượng Sản Phẩm Tối Thiểu"}),r.jsxs(mn,{value:D||"",onValueChange:O,children:[r.jsx(cn,{className:"w-full",children:r.jsx(pn,{placeholder:"Chọn số lượng"})}),r.jsxs(un,{children:[r.jsx(Qe,{value:"all",children:"Tất cả"}),r.jsx(Qe,{value:"2",children:"2 sản phẩm trở lên"}),r.jsx(Qe,{value:"3",children:"3 sản phẩm trở lên"}),r.jsx(Qe,{value:"4",children:"4 sản phẩm trở lên"}),r.jsx(Qe,{value:"5",children:"5 sản phẩm trở lên"})]})]})]}),r.jsxs("div",{children:[r.jsx(De,{className:"text-lg font-medium mb-3 block",children:"Khoảng Giá"}),r.jsx("div",{className:"space-y-3",children:r.jsxs("div",{className:"px-3",children:[r.jsx(j1,{min:0,max:W,step:1e4,value:_,onValueChange:q=>E(q),className:"w-full"}),r.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mt-2",children:[r.jsxs("span",{children:[_[0].toLocaleString("vi-VN")," VND"]}),r.jsxs("span",{children:[_[1].toLocaleString("vi-VN")," VND"]})]})]})}),r.jsx(De,{className:"text-lg font-medium mb-3 mt-4 block",children:"Sắp Xếp Theo"}),r.jsxs(mn,{value:T,onValueChange:w,"aria-label":"Chọn cách sắp xếp",children:[r.jsx(cn,{className:"w-full",children:r.jsx(pn,{placeholder:"Chọn cách sắp xếp"})}),r.jsxs(un,{children:[r.jsx(Qe,{value:"name_asc",children:"Tên: A đến Z"}),r.jsx(Qe,{value:"name_desc",children:"Tên: Z đến A"}),r.jsx(Qe,{value:"price_asc",children:"Giá: Thấp đến Cao"}),r.jsx(Qe,{value:"price_desc",children:"Giá: Cao đến Thấp"}),r.jsx(Qe,{value:"rating_desc",children:"Đánh giá: Cao nhất"}),r.jsx(Qe,{value:"items_desc",children:"Số sản phẩm: Nhiều nhất"})]})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t",children:[r.jsx(fe,{variant:"outline",onClick:K,children:"Xóa Bộ Lọc"}),r.jsx(fe,{onClick:ne,children:"Áp Dụng"})]})]})}),f?r.jsx("div",{className:"py-12 text-center text-red-500",role:"alert",children:f}):u?r.jsx("div",{className:"py-12 text-center",children:r.jsx("p",{children:"Đang tải danh sách yêu thích..."})}):S?a.length===0&&c.length===0?r.jsxs("div",{className:"py-12 text-center",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Chưa có sản phẩm hoặc combo yêu thích"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Hãy thêm sản phẩm hoặc combo vào danh sách yêu thích để xem tại đây."}),r.jsx(fe,{asChild:!0,children:r.jsx(ct,{to:"/products","aria-label":"Xem tất cả sản phẩm",children:"Xem tất cả sản phẩm"})}),r.jsx(fe,{asChild:!0,className:"ml-2",children:r.jsx(ct,{to:"/combos","aria-label":"Xem tất cả combo",children:"Xem tất cả combo"})})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-12",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Sản Phẩm Yêu Thích"}),a.length===0?r.jsxs("div",{className:"py-6 text-center",children:[r.jsx("p",{className:"text-gray-600",children:"Chưa có sản phẩm yêu thích nào."}),r.jsx(fe,{asChild:!0,className:"mt-4",children:r.jsx(ct,{to:"/products","aria-label":"Xem tất cả sản phẩm",children:"Xem tất cả sản phẩm"})})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mb-4",children:r.jsxs("p",{className:"text-gray-600",children:[a.length," sản phẩm yêu thích được tìm thấy"]})}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:a.map(q=>r.jsxs(it,{className:"overflow-hidden group",children:[r.jsxs("div",{className:"relative aspect-square",children:[r.jsx(ct,{to:`/products/${q.id}`,"aria-label":`Xem chi tiết ${q.name}`,children:r.jsx("img",{src:q.imageSrc,alt:q.name,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"})}),q.hot&&q.trangThai===1?r.jsx(Kt,{className:"absolute top-2 left-2 bg-red-500 text-white",children:"Đang bán chạy"}):q.trangThai!==1?r.jsx(Kt,{className:"absolute top-2 left-2 bg-gray-500 text-white",children:"Đã ngừng bán"}):null,r.jsx(fe,{variant:"outline",size:"icon",className:"absolute top-2 right-2 w-10 h-10 rounded-full bg-white/80 hover:bg-white",onClick:()=>se(q),"aria-label":q.isFavorite?"Xóa khỏi yêu thích":"Thêm vào yêu thích",children:r.jsx(di,{className:`h-5 w-5 ${q.isFavorite?"fill-red-500 text-red-500":"text-gray-600"}`})})]}),r.jsxs(dt,{className:"p-4",children:[r.jsx(ct,{to:`/products/${q.id}`,"aria-label":`Xem chi tiết ${q.name}`,children:r.jsx("h3",{className:"font-medium hover:text-crocus-600 transition-colors",children:q.name})}),r.jsxs("div",{className:"flex justify-between items-center mt-2",children:[r.jsxs("p",{className:"font-semibold",children:[q.price.toLocaleString("vi-VN",{maximumFractionDigits:0})," VND"]}),r.jsxs("div",{className:"flex items-center gap-1","aria-label":`Đánh giá ${q.averageRating} sao`,children:[[...Array(5)].map((Z,te)=>r.jsx(Lr,{className:`w-4 h-4 ${te<Math.floor(q.averageRating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},te)),r.jsxs("span",{className:"text-sm text-gray-600",children:["(",q.commentCount,")"]})]})]}),r.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:q.mauSac.slice(0,3).map(Z=>r.jsx("span",{className:"inline-block w-5 h-5 rounded-full border border-gray-300",style:{backgroundColor:`#${Z}`},title:`Màu #${Z}`},Z))}),r.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:q.kichThuoc.slice(0,3).map(Z=>r.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-gray-100 rounded-full",children:Z},Z))}),r.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:q.hashtags.slice(0,3).map(Z=>r.jsxs(Kt,{className:"bg-blue-100 text-blue-800 hover:bg-blue-200",children:["#",Z.name]},Z.id))}),r.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[r.jsx(Kt,{className:"bg-green-100 text-green-800 hover:bg-green-200",children:q.category}),r.jsx(Kt,{className:"bg-purple-100 text-purple-800 hover:bg-purple-200",children:q.chatLieu}),r.jsx(Kt,{className:"bg-pink-100 text-pink-800 hover:bg-pink-200",children:q.gioiTinh})]}),r.jsxs("div",{className:"mt-4 flex gap-2",children:[r.jsx(fe,{asChild:!0,variant:"outline",size:"sm",className:"flex-1",children:r.jsx(ct,{to:`/products/${q.id}`,"aria-label":`Xem chi tiết ${q.name}`,children:"Chi tiết"})}),r.jsxs(fe,{size:"sm",className:"flex-1 bg-crocus-500 hover:bg-crocus-600",onClick:()=>ie(q),"aria-label":`Mua ngay ${q.name}`,children:[r.jsx(Rs,{className:"h-4 w-4 mr-2"}),"Mua ngay"]})]})]})]},q.id))})]})]}),r.jsxs("div",{className:"mb-12",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Combo Yêu Thích"}),c.length===0?r.jsxs("div",{className:"py-6 text-center",children:[r.jsx("p",{className:"text-gray-600",children:"Chưa có combo yêu thích nào."}),r.jsx(fe,{asChild:!0,className:"mt-4",children:r.jsx(ct,{to:"/combos","aria-label":"Xem tất cả combo",children:"Xem tất cả combo"})})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mb-4",children:r.jsxs("p",{className:"text-gray-600",children:[c.length," combo yêu thích được tìm thấy"]})}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:c.map(q=>r.jsxs(it,{className:"overflow-hidden group",children:[r.jsxs("div",{className:"relative aspect-square",children:[r.jsx(ct,{to:`/combos/${q.id}`,"aria-label":`Xem chi tiết ${q.name}`,children:r.jsx("img",{src:q.imageSrc,alt:q.name,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"})}),r.jsx(fe,{variant:"outline",size:"icon",className:"absolute top-2 right-2 w-10 h-10 rounded-full bg-white/80 hover:bg-white",onClick:()=>se(q),"aria-label":q.isFavorite?"Xóa khỏi yêu thích":"Thêm vào yêu thích",children:r.jsx(di,{className:`h-5 w-5 ${q.isFavorite?"fill-red-500 text-red-500":"text-gray-600"}`})}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:r.jsxs("span",{className:"inline-block bg-crocus-500 text-white px-2 py-1 rounded text-xs font-medium",children:[q.productCount," Sản phẩm"]})})]}),r.jsxs(dt,{className:"p-4",children:[r.jsx(ct,{to:`/combos/${q.id}`,"aria-label":`Xem chi tiết ${q.name}`,children:r.jsx("h3",{className:"font-medium hover:text-crocus-600 transition-colors",children:q.name})}),r.jsxs("div",{className:"flex justify-between items-center mt-2",children:[r.jsxs("p",{className:"font-semibold",children:[q.price.toLocaleString("vi-VN",{maximumFractionDigits:0})," VND"]}),r.jsxs("p",{className:"text-green-600 font-medium",children:["Tiết Kiệm ",q.savings.toLocaleString("vi-VN",{maximumFractionDigits:0})," VND (",q.savingsPercentage,"% off)"]})]}),r.jsxs("div",{className:"mt-4 flex gap-2",children:[r.jsx(fe,{asChild:!0,variant:"outline",size:"sm",className:"flex-1",children:r.jsx(ct,{to:`/combos/${q.id}`,"aria-label":`Xem chi tiết ${q.name}`,children:"Chi tiết"})}),r.jsxs(fe,{size:"sm",className:"flex-1 bg-crocus-500 hover:bg-crocus-600",onClick:()=>ie(q),"aria-label":`Mua ngay ${q.name}`,children:[r.jsx(Rs,{className:"h-4 w-4 mr-2"}),"Mua ngay"]})]})]})]},q.id))})]})]})]}):r.jsxs("div",{className:"py-12 text-center",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Vui lòng đăng nhập"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Đăng nhập để xem danh sách yêu thích của bạn."}),r.jsx(fe,{asChild:!0,children:r.jsx(ct,{to:"/login","aria-label":"Đăng nhập",children:"Đăng nhập ngay"})})]})]})})})};var UQ={exports:{}},rbe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",sbe=rbe,ibe=sbe;function HQ(){}function $Q(){}$Q.resetWarningCache=HQ;var abe=function(){function e(s,i,a,o,c,l){if(l!==ibe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:$Q,resetWarningCache:HQ};return n.PropTypes=n,n};UQ.exports=abe();var obe=UQ.exports;const _n=mc(obe);var lbe=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function tS(){return tS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},tS.apply(this,arguments)}function cbe(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Nx(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ube(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,nS(e,t)}function nS(e,t){return nS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},nS(e,t)}var C1=function(e){ube(t,e);function t(){var s;return s=e.call(this)||this,s.handleExpired=s.handleExpired.bind(Nx(s)),s.handleErrored=s.handleErrored.bind(Nx(s)),s.handleChange=s.handleChange.bind(Nx(s)),s.handleRecaptchaRef=s.handleRecaptchaRef.bind(Nx(s)),s}var n=t.prototype;return n.getCaptchaFunction=function(i){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[i]:this.props.grecaptcha[i]:null},n.getValue=function(){var i=this.getCaptchaFunction("getResponse");return i&&this._widgetId!==void 0?i(this._widgetId):null},n.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},n.execute=function(){var i=this.getCaptchaFunction("execute");if(i&&this._widgetId!==void 0)return i(this._widgetId);this._executeRequested=!0},n.executeAsync=function(){var i=this;return new Promise(function(a,o){i.executionResolve=a,i.executionReject=o,i.execute()})},n.reset=function(){var i=this.getCaptchaFunction("reset");i&&this._widgetId!==void 0&&i(this._widgetId)},n.forceReset=function(){var i=this.getCaptchaFunction("reset");i&&i()},n.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},n.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},n.handleChange=function(i){this.props.onChange&&this.props.onChange(i),this.executionResolve&&(this.executionResolve(i),delete this.executionReject,delete this.executionResolve)},n.explicitRender=function(){var i=this.getCaptchaFunction("render");if(i&&this._widgetId===void 0){var a=document.createElement("div");this._widgetId=i(a,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(a)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},n.componentDidMount=function(){this.explicitRender()},n.componentDidUpdate=function(){this.explicitRender()},n.handleRecaptchaRef=function(i){this.captcha=i},n.render=function(){var i=this.props;i.sitekey,i.onChange,i.theme,i.type,i.tabindex,i.onExpired,i.onErrored,i.size,i.stoken,i.grecaptcha,i.badge,i.hl,i.isolated;var a=cbe(i,lbe);return B.createElement("div",tS({},a,{ref:this.handleRecaptchaRef}))},t}(B.Component);C1.displayName="ReCAPTCHA";C1.propTypes={sitekey:_n.string.isRequired,onChange:_n.func,grecaptcha:_n.object,theme:_n.oneOf(["dark","light"]),type:_n.oneOf(["image","audio"]),tabindex:_n.number,onExpired:_n.func,onErrored:_n.func,size:_n.oneOf(["compact","normal","invisible"]),stoken:_n.string,hl:_n.string,badge:_n.oneOf(["bottomright","bottomleft","inline"]),isolated:_n.bool};C1.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var QQ={exports:{}},ur={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hs=typeof Symbol=="function"&&Symbol.for,W5=Hs?Symbol.for("react.element"):60103,q5=Hs?Symbol.for("react.portal"):60106,N1=Hs?Symbol.for("react.fragment"):60107,S1=Hs?Symbol.for("react.strict_mode"):60108,T1=Hs?Symbol.for("react.profiler"):60114,k1=Hs?Symbol.for("react.provider"):60109,_1=Hs?Symbol.for("react.context"):60110,X5=Hs?Symbol.for("react.async_mode"):60111,B1=Hs?Symbol.for("react.concurrent_mode"):60111,E1=Hs?Symbol.for("react.forward_ref"):60112,P1=Hs?Symbol.for("react.suspense"):60113,dbe=Hs?Symbol.for("react.suspense_list"):60120,M1=Hs?Symbol.for("react.memo"):60115,D1=Hs?Symbol.for("react.lazy"):60116,hbe=Hs?Symbol.for("react.block"):60121,fbe=Hs?Symbol.for("react.fundamental"):60117,mbe=Hs?Symbol.for("react.responder"):60118,pbe=Hs?Symbol.for("react.scope"):60119;function Ta(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case W5:switch(e=e.type,e){case X5:case B1:case N1:case T1:case S1:case P1:return e;default:switch(e=e&&e.$$typeof,e){case _1:case E1:case D1:case M1:case k1:return e;default:return t}}case q5:return t}}}function zQ(e){return Ta(e)===B1}ur.AsyncMode=X5;ur.ConcurrentMode=B1;ur.ContextConsumer=_1;ur.ContextProvider=k1;ur.Element=W5;ur.ForwardRef=E1;ur.Fragment=N1;ur.Lazy=D1;ur.Memo=M1;ur.Portal=q5;ur.Profiler=T1;ur.StrictMode=S1;ur.Suspense=P1;ur.isAsyncMode=function(e){return zQ(e)||Ta(e)===X5};ur.isConcurrentMode=zQ;ur.isContextConsumer=function(e){return Ta(e)===_1};ur.isContextProvider=function(e){return Ta(e)===k1};ur.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===W5};ur.isForwardRef=function(e){return Ta(e)===E1};ur.isFragment=function(e){return Ta(e)===N1};ur.isLazy=function(e){return Ta(e)===D1};ur.isMemo=function(e){return Ta(e)===M1};ur.isPortal=function(e){return Ta(e)===q5};ur.isProfiler=function(e){return Ta(e)===T1};ur.isStrictMode=function(e){return Ta(e)===S1};ur.isSuspense=function(e){return Ta(e)===P1};ur.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===N1||e===B1||e===T1||e===S1||e===P1||e===dbe||typeof e=="object"&&e!==null&&(e.$$typeof===D1||e.$$typeof===M1||e.$$typeof===k1||e.$$typeof===_1||e.$$typeof===E1||e.$$typeof===fbe||e.$$typeof===mbe||e.$$typeof===pbe||e.$$typeof===hbe)};ur.typeOf=Ta;QQ.exports=ur;var Abe=QQ.exports,Y5=Abe,gbe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},xbe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},bbe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},VQ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Z5={};Z5[Y5.ForwardRef]=bbe;Z5[Y5.Memo]=VQ;function SE(e){return Y5.isMemo(e)?VQ:Z5[e.$$typeof]||gbe}var vbe=Object.defineProperty,ybe=Object.getOwnPropertyNames,TE=Object.getOwnPropertySymbols,wbe=Object.getOwnPropertyDescriptor,jbe=Object.getPrototypeOf,kE=Object.prototype;function KQ(e,t,n){if(typeof t!="string"){if(kE){var s=jbe(t);s&&s!==kE&&KQ(e,s,n)}var i=ybe(t);TE&&(i=i.concat(TE(t)));for(var a=SE(e),o=SE(t),c=0;c<i.length;++c){var l=i[c];if(!xbe[l]&&!(n&&n[l])&&!(o&&o[l])&&!(a&&a[l])){var u=wbe(t,l);try{vbe(e,l,u)}catch{}}}}return e}var Cbe=KQ;const Nbe=mc(Cbe);function rS(){return rS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},rS.apply(this,arguments)}function Sbe(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Tbe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Za={},kbe=0;function _be(e,t){return t=t||{},function(s){var i=s.displayName||s.name||"Component",a=function(c){Tbe(l,c);function l(d,f){var h;return h=c.call(this,d,f)||this,h.state={},h.__scriptURL="",h}var u=l.prototype;return u.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+kbe++),this.__scriptLoaderID},u.setupScriptURL=function(){return this.__scriptURL=typeof e=="function"?e():e,this.__scriptURL},u.asyncScriptLoaderHandleLoad=function(f){var h=this;this.setState(f,function(){return h.props.asyncScriptOnLoad&&h.props.asyncScriptOnLoad(h.state)})},u.asyncScriptLoaderTriggerOnScriptLoaded=function(){var f=Za[this.__scriptURL];if(!f||!f.loaded)throw new Error("Script is not loaded.");for(var h in f.observers)f.observers[h](f);delete window[t.callbackName]},u.componentDidMount=function(){var f=this,h=this.setupScriptURL(),m=this.asyncScriptLoaderGetScriptLoaderID(),A=t,g=A.globalName,p=A.callbackName,b=A.scriptId;if(g&&typeof window[g]<"u"&&(Za[h]={loaded:!0,observers:{}}),Za[h]){var x=Za[h];if(x&&(x.loaded||x.errored)){this.asyncScriptLoaderHandleLoad(x);return}x.observers[m]=function(M){return f.asyncScriptLoaderHandleLoad(M)};return}var v={};v[m]=function(M){return f.asyncScriptLoaderHandleLoad(M)},Za[h]={loaded:!1,observers:v};var y=document.createElement("script");y.src=h,y.async=!0;for(var N in t.attributes)y.setAttribute(N,t.attributes[N]);b&&(y.id=b);var P=function(k){if(Za[h]){var D=Za[h],O=D.observers;for(var L in O)k(O[L])&&delete O[L]}};p&&typeof window<"u"&&(window[p]=function(){return f.asyncScriptLoaderTriggerOnScriptLoaded()}),y.onload=function(){var M=Za[h];M&&(M.loaded=!0,P(function(k){return p?!1:(k(M),!0)}))},y.onerror=function(){var M=Za[h];M&&(M.errored=!0,P(function(k){return k(M),!0}))},document.body.appendChild(y)},u.componentWillUnmount=function(){var f=this.__scriptURL;if(t.removeOnUnmount===!0)for(var h=document.getElementsByTagName("script"),m=0;m<h.length;m+=1)h[m].src.indexOf(f)>-1&&h[m].parentNode&&h[m].parentNode.removeChild(h[m]);var A=Za[f];A&&(delete A.observers[this.asyncScriptLoaderGetScriptLoaderID()],t.removeOnUnmount===!0&&delete Za[f])},u.render=function(){var f=t.globalName,h=this.props;h.asyncScriptOnLoad;var m=h.forwardedRef,A=Sbe(h,["asyncScriptOnLoad","forwardedRef"]);return f&&typeof window<"u"&&(A[f]=typeof window[f]<"u"?window[f]:void 0),A.ref=m,B.createElement(s,A)},l}(B.Component),o=B.forwardRef(function(c,l){return B.createElement(a,rS({},c,{forwardedRef:l}))});return o.displayName="AsyncScriptLoader("+i+")",o.propTypes={asyncScriptOnLoad:_n.func},Nbe(o,s)}}var sS="onloadcallback",Bbe="grecaptcha";function iS(){return typeof window<"u"&&window.recaptchaOptions||{}}function Ebe(){var e=iS(),t=e.useRecaptchaNet?"recaptcha.net":"www.google.com";return e.enterprise?"https://"+t+"/recaptcha/enterprise.js?onload="+sS+"&render=explicit":"https://"+t+"/recaptcha/api.js?onload="+sS+"&render=explicit"}const GQ=_be(Ebe,{callbackName:sS,globalName:Bbe,attributes:iS().nonce?{nonce:iS().nonce}:{}})(C1),Fj=n$(we),Pbe="https://bicacuatho.azurewebsites.net",Mbe="FashionHub",Dbe=()=>{const[e,t]=B.useState(""),[n,s]=B.useState(""),[i,a]=B.useState(""),[o,c]=B.useState(""),[l,u]=B.useState(null),[d,f]=B.useState(!1),[h,m]=B.useState(!1),[A,g]=B.useState({name:"",email:"",phone:"",message:"",captcha:""}),p=B.useRef(null),b=y=>{u(y),g(N=>({...N,captcha:""}))},x=()=>{let y=!0;const N={name:"",email:"",phone:"",message:"",captcha:""};return e.length<5&&(N.name="Tên phải có ít nhất 5 ký tự",y=!1),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)||(N.email="Email không hợp lệ",y=!1),/^\d{10}$/.test(i)||(N.phone="Số điện thoại phải là 10 chữ số",y=!1),o.length<5&&(N.message="Nội dung phải có ít nhất 5 ký tự",y=!1),l||(N.captcha="Vui lòng xác minh reCAPTCHA",y=!1),g(N),y},v=async y=>{var N;if(y.preventDefault(),!x()){Fj.fire({icon:"error",title:"Lỗi",text:"Vui lòng kiểm tra lại các trường thông tin và xác minh reCAPTCHA!",confirmButtonText:"Đóng",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}f(!0);try{const P={HoTen:e,Email:n,Sdt:i,NoiDung:o,TrangThai:"0",ReCaptchaToken:l},M=await fetch(`${Pbe}/api/LienHe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)});if(!M.ok){const k=await M.text();throw new Error(k)}f(!1),m(!0),t(""),s(""),a(""),c(""),u(null),g({name:"",email:"",phone:"",message:"",captcha:""}),(N=p.current)==null||N.reset(),Fj.fire({icon:"success",title:"Thành công!",text:"Tin nhắn của bạn đã được gửi. Chúng tôi sẽ phản hồi sớm nhất có thể.",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(P){f(!1),Fj.fire({icon:"error",title:"Lỗi",text:"Có lỗi xảy ra khi gửi tin nhắn. Vui lòng thử lại!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0}),console.error("Error submitting contact form:",P)}};return r.jsxs("div",{className:"container mx-auto py-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("h1",{className:"text-4xl font-bold mb-4",children:["Liên hệ với ",Mbe]}),r.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Bạn có câu hỏi về sản phẩm hoặc cần hỗ trợ với đơn hàng của mình? Chúng tôi sẵn sàng giúp đỡ! Hãy liên hệ với chúng tôi qua các phương thức dưới đây."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[r.jsxs(it,{className:"text-center",children:[r.jsxs(yt,{children:[r.jsx("a",{href:"tel:+84383777823",className:"w-12 h-12 bg-crocus-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(_u,{className:"h-6 w-6 text-crocus-600"})}),r.jsx(jt,{children:"Gọi điện cho chúng tôi"})]}),r.jsxs(dt,{children:[r.jsx("p",{className:"text-gray-600",children:"Thứ Hai - Thứ Sáu, 9h sáng - 5h chiều"}),r.jsx("a",{href:"tel:+84383777823",className:"font-medium text-lg mt-2",children:"(84) 383-777-823"})]})]}),r.jsxs(it,{className:"text-center",children:[r.jsxs(yt,{children:[r.jsx("a",{href:"mailto:nguyenhuythien9a1@gmail.com",className:"w-12 h-12 bg-crocus-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Xi,{className:"h-6 w-6 text-crocus-600"})}),r.jsx(jt,{children:"Gửi email cho chúng tôi"})]}),r.jsxs(dt,{children:[r.jsx("p",{className:"text-gray-600",children:"Chúng tôi sẽ phản hồi trong vòng 24 giờ"}),r.jsx("a",{href:"mailto:nguyenhuythien9a1@gmail.com",className:"font-medium text-lg mt-2",children:"nguyenhuythien9a1@gmail.com"})]})]}),r.jsxs(it,{className:"text-center",children:[r.jsxs(yt,{children:[r.jsx("a",{href:"https://www.google.com/maps/place/Tr%C6%B0%E1%BB%9Dng+Cao+%C4%91%E1%BA%B3ng+polytechnic/@12.7105609,108.075659,16z/data=!4m6!3m5!1s0x3171f7b6e379b675:0x72662967145555c0!8m2!3d12.7105609!4d108.075659!16s%2Fg%2F1ptzmn5bd?entry=ttu&g_ep=EgoyMDI0MTAyMy4wKgBIAVAD",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 bg-crocus-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(ku,{className:"h-6 w-6 text-crocus-600"})}),r.jsx(jt,{children:"Ghé thăm cửa hàng"})]}),r.jsxs(dt,{children:[r.jsx("p",{className:"text-gray-600",children:"Cửa hàng chính của chúng tôi"}),r.jsxs("a",{href:"https://www.google.com/maps/place/Tr%C6%B0%E1%BB%9Dng+Cao+%C4%91%E1%BA%B3ng+polytechnic/@12.7105609,108.075659,16z/data=!4m6!3m5!1s0x3171f7b6e379b675:0x72662967145555c0!8m2!3d12.7105609!4d108.075659!16s%2Fg%2F1ptzmn5bd?entry=ttu&g_ep=EgoyMDI0MTAyMy4wKgBIAVAD",target:"_blank",rel:"noopener noreferrer",className:"font-medium mt-2",children:["123 Hà Huy Tập",r.jsx("br",{}),"TP Buôn Ma Thuột"]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs(it,{children:[r.jsxs(yt,{children:[r.jsx(jt,{children:"Gửi tin nhắn cho chúng tôi"}),r.jsx(ks,{children:"Điền vào form dưới đây và chúng tôi sẽ phản hồi sớm nhất có thể."})]}),r.jsx(dt,{children:h?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),r.jsx("h3",{className:"text-xl font-medium text-gray-900",children:"Tin nhắn đã được gửi!"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Cảm ơn bạn đã liên hệ với chúng tôi. Chúng tôi sẽ phản hồi tin nhắn của bạn trong thời gian sớm nhất."}),r.jsxs(fe,{onClick:()=>m(!1),className:"mt-4 bg-crocus-500 hover:bg-crocus-600",children:[r.jsx(Xc,{className:"mr-2 h-4 w-4"})," Gửi tin nhắn khác"]})]}):r.jsxs("form",{onSubmit:v,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"name",children:"Tên của bạn"}),r.jsxs("div",{className:"relative",children:[r.jsx($n,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),r.jsx(ye,{id:"name",placeholder:"Nhập họ tên",value:e,onChange:y=>t(y.target.value),required:!0,className:`pl-10 ${A.name?"border-red-500":""}`})]}),A.name&&r.jsx("p",{className:"text-red-500 text-sm",children:A.name})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"email",children:"Địa chỉ email"}),r.jsxs("div",{className:"relative",children:[r.jsx(Xi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),r.jsx(ye,{id:"email",type:"email",placeholder:"Nhập email",value:n,onChange:y=>s(y.target.value),required:!0,className:`pl-10 ${A.email?"border-red-500":""}`})]}),A.email&&r.jsx("p",{className:"text-red-500 text-sm",children:A.email})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"phone",children:"Số điện thoại"}),r.jsxs("div",{className:"relative",children:[r.jsx(_u,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),r.jsx(ye,{id:"phone",type:"tel",placeholder:"Nhập số điện thoại",value:i,onChange:y=>{const N=y.target.value.replace(/\D/g,"");a(N)},maxLength:10,required:!0,className:`pl-10 ${A.phone?"border-red-500":""}`})]}),A.phone&&r.jsx("p",{className:"text-red-500 text-sm",children:A.phone})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"message",children:"Tin nhắn của bạn"}),r.jsxs("div",{className:"relative",children:[r.jsx(ql,{className:"absolute left-3 top-4 text-gray-500 h-4 w-4"}),r.jsx("textarea",{id:"message",placeholder:"Nhập nội dung",value:o,onChange:y=>c(y.target.value),rows:5,className:`w-full rounded-md border bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 pl-10 ${A.message?"border-red-500":"border-input"}`,required:!0})]}),A.message&&r.jsx("p",{className:"text-red-500 text-sm",children:A.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(GQ,{ref:p,sitekey:"6LdMzlEqAAAAAIRD7o-nvN9bH3jPvKLaKaGW8xD4",onChange:b}),A.captcha&&r.jsx("p",{className:"text-red-500 text-sm",children:A.captcha})]}),r.jsx(fe,{type:"submit",className:"w-full bg-crocus-500 hover:bg-crocus-600",disabled:d,children:d?"Đang gửi...":r.jsxs(r.Fragment,{children:[r.jsx(Sf,{className:"mr-2 h-4 w-4"})," Gửi tin nhắn"]})})]})})]}),r.jsx("div",{className:"h-192 rounded-lg overflow-hidden",children:r.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d12210.24681885916!2d108.075659!3d12.7105609!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3171f7b6e379b675%3A0x72662967145555c0!2zVHJ1b25nIENhb8OqIGRhw7MgcG9seXRlY2huaWM!5e0!3m2!1svi!2s!4v1698473155913!5m2!1svi!2s",className:"border-0 w-full h-full",allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]}),r.jsxs("div",{className:"mt-16 text-center",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Kết nối với chúng tôi"}),r.jsx("p",{className:"text-gray-600 max-w-xl mx-auto mb-6",children:"Theo dõi chúng tôi trên mạng xã hội để nhận cập nhật mới nhất, mẹo thời trang và ưu đãi độc quyền."}),r.jsxs("div",{className:"flex justify-center space-x-6",children:[r.jsx("a",{href:"https://www.facebook.com/FashionHub",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-crocus-600 transition-colors",children:r.jsx("svg",{className:"h-8 w-8",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:r.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})}),r.jsx("a",{href:"https://www.instagram.com/FashionHub",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-crocus-600 transition-colors",children:r.jsx("svg",{className:"h-8 w-8",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:r.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.045-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})}),r.jsx("a",{href:"https://www.twitter.com/FashionHub",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-crocus-600 transition-colors",children:r.jsx("svg",{className:"h-8 w-8",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:r.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})})]})]})]})},Ibe=()=>r.jsx("div",{className:"container mx-auto py-8",children:r.jsxs(it,{children:[r.jsxs(yt,{children:[r.jsx(jt,{className:"text-3xl font-bold text-center",children:"Về chúng tôi"}),r.jsx(ks,{className:"text-center",children:"Tìm hiểu thêm về sứ mệnh, tầm nhìn và đội ngũ của chúng tôi."})]}),r.jsx(dt,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-crocus-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Hee,{className:"h-6 w-6 text-crocus-600"})}),r.jsx("h3",{className:"text-xl font-bold mb-2",children:"Sứ mệnh"}),r.jsx("p",{className:"text-gray-600",children:"Mang đến những sản phẩm thời trang chất lượng cao với giá cả hợp lý."})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-crocus-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(dr,{className:"h-6 w-6 text-crocus-600"})}),r.jsx("h3",{className:"text-xl font-bold mb-2",children:"Tầm nhìn"}),r.jsx("p",{className:"text-gray-600",children:"Trở thành thương hiệu thời trang hàng đầu tại Việt Nam."})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-crocus-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(ET,{className:"h-6 w-6 text-crocus-600"})}),r.jsx("h3",{className:"text-xl font-bold mb-2",children:"Đội ngũ"}),r.jsx("p",{className:"text-gray-600",children:"Đội ngũ chuyên nghiệp với nhiều năm kinh nghiệm trong ngành thời trang."})]})]})})]})}),Obe=()=>{const{setAuth:e}=a1(),{toast:t}=Uu(),[n,s]=B.useState(""),[i,a]=B.useState(""),[o,c]=B.useState(!1),[l,u]=B.useState(!1),[d,f]=B.useState(!1),h=gr(),m=Bs();B.useEffect(()=>{},[m.search,h,e]);const A=async b=>{var x,v;b.preventDefault(),u(!0),d?(localStorage.setItem("savedTaiKhoan",n),localStorage.setItem("savedPassword",i)):(localStorage.removeItem("savedTaiKhoan"),localStorage.removeItem("savedPassword"));try{const y=await Nt.post("https://bicacuatho.azurewebsites.net/api/XacThuc/DangNhap",{taiKhoan:n,matKhau:i}),{user:N,token:P,redirectUrl:M}=y.data;if(N){e(P,{maNguoiDung:N.maNguoiDung,fullName:N.hoTen,email:N.email,vaiTro:N.vaiTro,role:N.role.toLowerCase()}),t({title:"Đăng nhập thành công 🎉",description:"Chào mừng bạn quay trở lại!",duration:3e3,className:"bg-green-500 text-white border border-green-700 shadow-lg"});const k=M.replace("http://localhost:8080","");setTimeout(()=>h(k),1e3)}}catch(y){t({title:"Đăng nhập thất bại!",description:((v=(x=y.response)==null?void 0:x.data)==null?void 0:v.message)||"Vui lòng kiểm tra lại thông tin.",variant:"destructive",duration:3e3})}finally{u(!1)}},g=async()=>{try{const b=await Nt.get("https://bicacuatho.azurewebsites.net/api/XacThuc/google-login",{params:{returnUrl:"/api/XacThuc/google-callback"}}),{loginUrl:x}=b.data;if(!x)throw new Error("Không thể lấy URL đăng nhập Google");window.location.href=x}catch(b){t({title:"Đăng nhập Google thất bại!",description:b.message||"Đã có lỗi xảy ra khi đăng nhập với Google.",variant:"destructive",duration:3e3})}},p=b=>{f(b)};return r.jsxs(it,{className:"w-full max-w-md mx-auto",children:[r.jsxs(yt,{className:"space-y-1",children:[r.jsx(jt,{className:"text-2xl font-bold text-center",children:"Đăng nhập"}),r.jsx(ks,{className:"text-center",children:"Nhập thông tin đăng nhập của bạn để truy cập tài khoản"})]}),r.jsx(dt,{children:r.jsxs("form",{className:"space-y-4",onSubmit:A,children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"username",children:"Tài khoản"}),r.jsxs("div",{className:"relative",children:[r.jsx($n,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),r.jsx(ye,{id:"username",placeholder:"Nhập tài khoản",type:"text",required:!0,value:n,onChange:b=>s(b.target.value),className:"pl-10",disabled:l})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(De,{htmlFor:"password",children:"Mật khẩu"}),r.jsx(ct,{to:"/auth/forgot-password",className:"text-sm font-medium text-crocus-600 hover:text-crocus-700",children:"Quên mật khẩu?"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),r.jsx(ye,{id:"password",type:o?"text":"password",placeholder:"Nhập mật khẩu",required:!0,value:i,onChange:b=>a(b.target.value),className:"pl-10",disabled:l}),r.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 disabled:opacity-50",disabled:l,children:o?r.jsx(dr,{size:18}):r.jsx(nl,{size:18})})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Vs,{id:"rememberMe",checked:d,onCheckedChange:p,disabled:l}),r.jsx("label",{htmlFor:"rememberMe",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Ghi nhớ"})]}),r.jsxs(fe,{type:"submit",className:"w-full bg-crocus-500 hover:bg-crocus-600",disabled:l,children:[r.jsx(yL,{className:"mr-2 h-4 w-4"})," Đăng nhập"]}),r.jsxs("div",{className:"relative my-4",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("span",{className:"w-full border-t"})}),r.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:r.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Hoặc tiếp tục với"})})]}),r.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.jsxs(fe,{variant:"outline",type:"button",onClick:g,disabled:l,children:[r.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[r.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),r.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),r.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),r.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]})})]})}),r.jsx(Ld,{className:"flex flex-col",children:r.jsxs("div",{className:"text-center text-sm",children:["Chưa có tài khoản?"," ",r.jsx(ct,{to:"/auth/register",className:"font-medium text-crocus-600 hover:text-crocus-700",children:"Đăng ký"})]})})]})},Lbe=()=>r.jsx("div",{className:"py-10",children:r.jsx(Obe,{})}),Fbe=()=>{const[e,t]=B.useState(""),[n,s]=B.useState(""),[i,a]=B.useState(""),[o,c]=B.useState(""),[l,u]=B.useState(""),[d,f]=B.useState(!1),[h,m]=B.useState(!1),[A,g]=B.useState(!1),[p,b]=B.useState(null),[x,v]=B.useState(!1),[y,N]=B.useState(""),{toast:P}=Uu(),M=gr(),k=B.useCallback(F=>{b(F),console.log("reCAPTCHA value:",F)},[]),D=()=>e.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)?o.length<8||o.length>40?(P({variant:"destructive",title:"Lỗi ⚠️",description:"Mật khẩu phải có ít nhất 8 ký tự và ít hơn 40 ký tự.",duration:3e3,className:"bg-red-500 text-white border border-red-700 shadow-lg p-4 rounded-md",action:r.jsx(fe,{variant:"outline",className:"bg-white text-red-500 hover:bg-red-100 border-red-500",children:"Đóng"})}),!1):!0:(P({variant:"destructive",title:"Lỗi ⚠️",description:"Email không hợp lệ.",duration:3e3,className:"bg-red-500 text-white border border-red-700 shadow-lg p-4 rounded-md",action:r.jsx(fe,{variant:"outline",className:"bg-white text-red-500 hover:bg-red-100 border-red-500",children:"Đóng"})}),!1):(P({variant:"destructive",title:"Lỗi ⚠️",description:"Họ và tên không được để trống.",duration:3e3,className:"bg-red-500 text-white border border-red-700 shadow-lg p-4 rounded-md",action:r.jsx(fe,{variant:"outline",className:"bg-white text-red-500 hover:bg-red-100 border-red-500",children:"Đóng"})}),!1),O=async F=>{var _,E;if(F.preventDefault(),g(!0),!D()){g(!1);return}if(o!==l){P({variant:"destructive",title:"Mật khẩu không khớp",description:"Vui lòng kiểm tra lại mật khẩu xác nhận."}),g(!1);return}if(!p){P({variant:"destructive",title:"Vui lòng xác minh reCAPTCHA ⚠️",description:"Bạn cần xác minh rằng bạn không phải là bot.",duration:3e3,className:"bg-red-500 text-white border border-red-700 shadow-lg p-4 rounded-md",action:r.jsx(fe,{variant:"outline",className:"bg-white text-red-500 hover:bg-red-100 border-red-500",children:"Đóng"})}),g(!1);return}try{const T=await Nt.post("https://bicacuatho.azurewebsites.net/api/XacThuc/DangKy",{hoTen:e,email:n,taiKhoan:i,matKhau:o});P({title:"Vui lòng kiểm tra email 🎉",description:"Để kích hoạt tài khoản của bạn",duration:5e3,className:"bg-green-500 text-white border border-green-700 shadow-lg p-4 rounded-md",action:r.jsx(fe,{variant:"outline",className:"bg-white text-green-500 hover:bg-green-100 border-green-500",children:"Đóng"})}),v(!0)}catch(T){P({variant:"destructive",title:"Đăng ký thất bại ⚠️",description:((E=(_=T.response)==null?void 0:_.data)==null?void 0:E.message)||"Vui lòng kiểm tra lại thông tin.",duration:3e3,className:"bg-red-500 text-white border border-red-700 shadow-lg p-4 rounded-md",action:r.jsx(fe,{variant:"outline",className:"bg-white text-red-500 hover:bg-red-100 border-red-500",children:"Đóng"})})}finally{g(!1)}},L=async F=>{var _,E;F.preventDefault(),g(!0);try{const T=await Nt.post("https://bicacuatho.azurewebsites.net/api/XacThuc/VerifyOtpActivate",{email:n,otp:y});P({title:"Kích hoạt tài khoản thành công 🎉",description:T.data.message,duration:5e3,className:"bg-green-500 text-white border border-green-700 shadow-lg p-4 rounded-md",action:r.jsx(fe,{variant:"outline",className:"bg-white text-green-500 hover:bg-green-100 border-green-500",children:"Đóng"})}),M("/auth/login ")}catch(T){P({variant:"destructive",title:"Xác minh thất bại ⚠️",description:((E=(_=T.response)==null?void 0:_.data)==null?void 0:E.message)||"Vui lòng kiểm tra lại mã OTP.",duration:3e3,className:"bg-red-500 text-white border border-red-700 shadow-lg p-4 rounded-md",action:r.jsx(fe,{variant:"outline",className:"bg-white text-red-500 hover:bg-red-100 border-red-500",children:"Đóng"})})}finally{g(!1)}};return r.jsxs(it,{className:"w-full max-w-md mx-auto",children:[r.jsxs(yt,{className:"space-y-1",children:[r.jsx(jt,{className:"text-2xl font-bold text-center",children:"Đăng ký"}),r.jsx(ks,{className:"text-center",children:"Tạo tài khoản mới của bạn"})]}),r.jsx(dt,{children:x?r.jsxs("form",{className:"space-y-4",onSubmit:L,children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"otp",children:"Nhập mã OTP"}),r.jsx(ye,{id:"otp",placeholder:"Nhập mã OTP từ email",type:"text",value:y,onChange:F=>N(F.target.value),required:!0})]}),r.jsx(fe,{type:"submit",className:"w-full bg-crocus-500 hover:bg-crocus-600",disabled:A,children:A?"Đang xử lý...":"Xác minh OTP"})]}):r.jsxs("form",{className:"space-y-4",onSubmit:O,children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"fullName",children:"Họ tên"}),r.jsxs("div",{className:"relative",children:[r.jsx($n,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),r.jsx(ye,{id:"fullName",name:"fullName",placeholder:"Nhập họ và tên",type:"text",required:!0,value:e,onChange:F=>t(F.target.value),className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"email",children:"Email"}),r.jsxs("div",{className:"relative flex items-center",children:[r.jsx(Xi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),r.jsx(ye,{id:"email",name:"email",placeholder:"Nhập email",type:"email",required:!0,value:n,onChange:F=>s(F.target.value),className:"pl-10 pr-24"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"username",children:"Tài khoản"}),r.jsxs("div",{className:"relative",children:[r.jsx($n,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),r.jsx(ye,{id:"username",name:"username",placeholder:"Nhập tài khoản",type:"text",required:!0,value:i,onChange:F=>a(F.target.value),className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"password",children:"Mật khẩu"}),r.jsxs("div",{className:"relative",children:[r.jsx(Vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),r.jsx(ye,{id:"password",name:"password",type:"password",placeholder:"Nhập mật khẩu",required:!0,value:o,onChange:F=>c(F.target.value),className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"confirmPassword",children:"Xác nhận mật khẩu"}),r.jsxs("div",{className:"relative",children:[r.jsx(Vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),r.jsx(ye,{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"Xác nhận mật khẩu",required:!0,value:l,onChange:F=>u(F.target.value),className:"pl-10"})]})]}),r.jsx("div",{className:"space-y-2",children:r.jsx(GQ,{sitekey:"6LdnYnMqAAAAAIqMXz4csz5Zw_kR3ARtWht9wjY2",onChange:k})}),r.jsx(fe,{type:"submit",className:"w-full bg-crocus-500 hover:bg-crocus-600",disabled:A,children:A?"Đang xử lý...":r.jsxs(r.Fragment,{children:[r.jsx(kL,{className:"mr-2 h-4 w-4"})," Đăng ký"]})})]})}),r.jsx(Ld,{className:"flex flex-col",children:r.jsxs("div",{className:"text-center text-sm",children:["Đã có tài khoản?"," ",r.jsx(ct,{to:"/auth/login",className:"font-medium text-crocus-600 hover:text-crocus-700",children:"Đăng nhập"})]})})]})},Rbe=()=>r.jsx("div",{className:"max-w-4xl mx-auto py-10 px-4",children:r.jsx(Fbe,{})});var C0=e=>e.type==="checkbox",Nd=e=>e instanceof Date,vi=e=>e==null;const WQ=e=>typeof e=="object";var hs=e=>!vi(e)&&!Array.isArray(e)&&WQ(e)&&!Nd(e),qQ=e=>hs(e)&&e.target?C0(e.target)?e.target.checked:e.target.value:e,Ube=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,XQ=(e,t)=>e.has(Ube(t)),Hbe=e=>{const t=e.constructor&&e.constructor.prototype;return hs(t)&&t.hasOwnProperty("isPrototypeOf")},J5=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ys(e){let t;const n=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(J5&&(e instanceof Blob||s))&&(n||hs(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!Hbe(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=ys(e[i]));else return e;return t}var I1=e=>/^\w*$/.test(e),ls=e=>e===void 0,ek=e=>Array.isArray(e)?e.filter(Boolean):[],tk=e=>ek(e.replace(/["|']|\]/g,"").split(/\.|\[/)),wt=(e,t,n)=>{if(!t||!hs(e))return n;const s=(I1(t)?[t]:tk(t)).reduce((i,a)=>vi(i)?i:i[a],e);return ls(s)||s===e?ls(e[t])?n:e[t]:s},ua=e=>typeof e=="boolean",ar=(e,t,n)=>{let s=-1;const i=I1(t)?[t]:tk(t),a=i.length,o=a-1;for(;++s<a;){const c=i[s];let l=n;if(s!==o){const u=e[c];l=hs(u)||Array.isArray(u)?u:isNaN(+i[s+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=l,e=e[c]}};const yy={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},lo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Cl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},nk=je.createContext(null);nk.displayName="HookFormContext";const O1=()=>je.useContext(nk),$be=e=>{const{children:t,...n}=e;return je.createElement(nk.Provider,{value:n},t)};var YQ=(e,t,n,s=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const o=a;return t._proxyFormState[o]!==lo.all&&(t._proxyFormState[o]=!s||lo.all),n&&(n[o]=!0),e[o]}});return i};const rk=typeof window<"u"?je.useLayoutEffect:je.useEffect;function Qbe(e){const t=O1(),{control:n=t.control,disabled:s,name:i,exact:a}=e||{},[o,c]=je.useState(n._formState),l=je.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return rk(()=>n._subscribe({name:i,formState:l.current,exact:a,callback:u=>{!s&&c({...n._formState,...u})}}),[i,s,a]),je.useEffect(()=>{l.current.isValid&&n._setValid(!0)},[n]),je.useMemo(()=>YQ(o,n,l.current,!1),[o,n])}var Yo=e=>typeof e=="string",ZQ=(e,t,n,s,i)=>Yo(e)?(s&&t.watch.add(e),wt(n,e,i)):Array.isArray(e)?e.map(a=>(s&&t.watch.add(a),wt(n,a))):(s&&(t.watchAll=!0),n),aS=e=>vi(e)||!WQ(e);function Hl(e,t,n=new WeakSet){if(aS(e)||aS(t))return e===t;if(Nd(e)&&Nd(t))return e.getTime()===t.getTime();const s=Object.keys(e),i=Object.keys(t);if(s.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const a of s){const o=e[a];if(!i.includes(a))return!1;if(a!=="ref"){const c=t[a];if(Nd(o)&&Nd(c)||hs(o)&&hs(c)||Array.isArray(o)&&Array.isArray(c)?!Hl(o,c,n):o!==c)return!1}}return!0}function zbe(e){const t=O1(),{control:n=t.control,name:s,defaultValue:i,disabled:a,exact:o,compute:c}=e||{},l=je.useRef(i),u=je.useRef(c),d=je.useRef(void 0);u.current=c;const f=je.useMemo(()=>n._getWatch(s,l.current),[n,s]),[h,m]=je.useState(u.current?u.current(f):f);return rk(()=>n._subscribe({name:s,formState:{values:!0},exact:o,callback:A=>{if(!a){const g=ZQ(s,n._names,A.values||n._formValues,!1,l.current);if(u.current){const p=u.current(g);Hl(p,d.current)||(m(p),d.current=p)}else m(g)}}}),[n,a,s,o]),je.useEffect(()=>n._removeUnmounted()),h}function Vbe(e){const t=O1(),{name:n,disabled:s,control:i=t.control,shouldUnregister:a,defaultValue:o}=e,c=XQ(i._names.array,n),l=je.useMemo(()=>wt(i._formValues,n,wt(i._defaultValues,n,o)),[i,n,o]),u=zbe({control:i,name:n,defaultValue:l,exact:!0}),d=Qbe({control:i,name:n,exact:!0}),f=je.useRef(e),h=je.useRef(i.register(n,{...e.rules,value:u,...ua(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const m=je.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!wt(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!wt(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!wt(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!wt(d.validatingFields,n)},error:{enumerable:!0,get:()=>wt(d.errors,n)}}),[d,n]),A=je.useCallback(x=>h.current.onChange({target:{value:qQ(x),name:n},type:yy.CHANGE}),[n]),g=je.useCallback(()=>h.current.onBlur({target:{value:wt(i._formValues,n),name:n},type:yy.BLUR}),[n,i._formValues]),p=je.useCallback(x=>{const v=wt(i._fields,n);v&&x&&(v._f.ref={focus:()=>x.focus&&x.focus(),select:()=>x.select&&x.select(),setCustomValidity:y=>x.setCustomValidity(y),reportValidity:()=>x.reportValidity()})},[i._fields,n]),b=je.useMemo(()=>({name:n,value:u,...ua(s)||d.disabled?{disabled:d.disabled||s}:{},onChange:A,onBlur:g,ref:p}),[n,s,d.disabled,A,g,p,u]);return je.useEffect(()=>{const x=i._options.shouldUnregister||a;i.register(n,{...f.current.rules,...ua(f.current.disabled)?{disabled:f.current.disabled}:{}});const v=(y,N)=>{const P=wt(i._fields,y);P&&P._f&&(P._f.mount=N)};if(v(n,!0),x){const y=ys(wt(i._options.defaultValues,n));ar(i._defaultValues,n,y),ls(wt(i._formValues,n))&&ar(i._formValues,n,y)}return!c&&i.register(n),()=>{(c?x&&!i._state.action:x)?i.unregister(n):v(n,!1)}},[n,i,c,a]),je.useEffect(()=>{i._setDisabledField({disabled:s,name:n})},[s,n,i]),je.useMemo(()=>({field:b,formState:d,fieldState:m}),[b,d,m])}const Kbe=e=>e.render(Vbe(e));var JQ=(e,t,n,s,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[s]:i||!0}}:{},NA=e=>Array.isArray(e)?e:[e],_E=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}},Ri=e=>hs(e)&&!Object.keys(e).length,sk=e=>e.type==="file",co=e=>typeof e=="function",wy=e=>{if(!J5)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ez=e=>e.type==="select-multiple",ik=e=>e.type==="radio",Gbe=e=>ik(e)||C0(e),Rj=e=>wy(e)&&e.isConnected;function Wbe(e,t){const n=t.slice(0,-1).length;let s=0;for(;s<n;)e=ls(e)?s++:e[t[s++]];return e}function qbe(e){for(const t in e)if(e.hasOwnProperty(t)&&!ls(e[t]))return!1;return!0}function ms(e,t){const n=Array.isArray(t)?t:I1(t)?[t]:tk(t),s=n.length===1?e:Wbe(e,n),i=n.length-1,a=n[i];return s&&delete s[a],i!==0&&(hs(s)&&Ri(s)||Array.isArray(s)&&qbe(s))&&ms(e,n.slice(0,-1)),e}var tz=e=>{for(const t in e)if(co(e[t]))return!0;return!1};function jy(e,t={}){const n=Array.isArray(e);if(hs(e)||n)for(const s in e)Array.isArray(e[s])||hs(e[s])&&!tz(e[s])?(t[s]=Array.isArray(e[s])?[]:{},jy(e[s],t[s])):vi(e[s])||(t[s]=!0);return t}function nz(e,t,n){const s=Array.isArray(e);if(hs(e)||s)for(const i in e)Array.isArray(e[i])||hs(e[i])&&!tz(e[i])?ls(t)||aS(n[i])?n[i]=Array.isArray(e[i])?jy(e[i],[]):{...jy(e[i])}:nz(e[i],vi(t)?{}:t[i],n[i]):n[i]=!Hl(e[i],t[i]);return n}var vp=(e,t)=>nz(e,t,jy(t));const BE={value:!1,isValid:!1},EE={value:!0,isValid:!0};var rz=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ls(e[0].attributes.value)?ls(e[0].value)||e[0].value===""?EE:{value:e[0].value,isValid:!0}:EE:BE}return BE},sz=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:s})=>ls(e)?e:t?e===""?NaN:e&&+e:n&&Yo(e)?new Date(e):s?s(e):e;const PE={isValid:!1,value:null};var iz=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,PE):PE;function ME(e){const t=e.ref;return sk(t)?t.files:ik(t)?iz(e.refs).value:ez(t)?[...t.selectedOptions].map(({value:n})=>n):C0(t)?rz(e.refs).value:sz(ls(t.value)?e.ref.value:t.value,e)}var Xbe=(e,t,n,s)=>{const i={};for(const a of e){const o=wt(t,a);o&&ar(i,a,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:s}},Cy=e=>e instanceof RegExp,yp=e=>ls(e)?e:Cy(e)?e.source:hs(e)?Cy(e.value)?e.value.source:e.value:e,DE=e=>({isOnSubmit:!e||e===lo.onSubmit,isOnBlur:e===lo.onBlur,isOnChange:e===lo.onChange,isOnAll:e===lo.all,isOnTouch:e===lo.onTouched});const IE="AsyncFunction";var Ybe=e=>!!e&&!!e.validate&&!!(co(e.validate)&&e.validate.constructor.name===IE||hs(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===IE)),Zbe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),OE=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const SA=(e,t,n,s)=>{for(const i of n||Object.keys(e)){const a=wt(e,i);if(a){const{_f:o,...c}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(SA(c,t))break}else if(hs(c)&&SA(c,t))break}}};function LE(e,t,n){const s=wt(e,n);if(s||I1(n))return{error:s,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),o=wt(t,a),c=wt(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(c&&c.type)return{name:a,error:c};if(c&&c.root&&c.root.type)return{name:`${a}.root`,error:c.root};i.pop()}return{name:n}}var Jbe=(e,t,n,s)=>{n(e);const{name:i,...a}=e;return Ri(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!s||lo.all))},eve=(e,t,n)=>!e||!t||e===t||NA(e).some(s=>s&&(n?s===t:s.startsWith(t)||t.startsWith(s))),tve=(e,t,n,s,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?s.isOnBlur:i.isOnBlur)?!e:(n?s.isOnChange:i.isOnChange)?e:!0,nve=(e,t)=>!ek(wt(e,t)).length&&ms(e,t),rve=(e,t,n)=>{const s=NA(wt(e,n));return ar(s,"root",t[n]),ar(e,n,s),e},Zb=e=>Yo(e);function FE(e,t,n="validate"){if(Zb(e)||Array.isArray(e)&&e.every(Zb)||ua(e)&&!e)return{type:n,message:Zb(e)?e:"",ref:t}}var Rh=e=>hs(e)&&!Cy(e)?e:{value:e,message:""},RE=async(e,t,n,s,i,a)=>{const{ref:o,refs:c,required:l,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:A,name:g,valueAsNumber:p,mount:b}=e._f,x=wt(n,g);if(!b||t.has(g))return{};const v=c?c[0]:o,y=F=>{i&&v.reportValidity&&(v.setCustomValidity(ua(F)?"":F||""),v.reportValidity())},N={},P=ik(o),M=C0(o),k=P||M,D=(p||sk(o))&&ls(o.value)&&ls(x)||wy(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,O=JQ.bind(null,g,s,N),L=(F,_,E,T=Cl.maxLength,w=Cl.minLength)=>{const C=F?_:E;N[g]={type:F?T:w,message:C,ref:o,...O(F?T:w,C)}};if(a?!Array.isArray(x)||!x.length:l&&(!k&&(D||vi(x))||ua(x)&&!x||M&&!rz(c).isValid||P&&!iz(c).isValid)){const{value:F,message:_}=Zb(l)?{value:!!l,message:l}:Rh(l);if(F&&(N[g]={type:Cl.required,message:_,ref:v,...O(Cl.required,_)},!s))return y(_),N}if(!D&&(!vi(f)||!vi(h))){let F,_;const E=Rh(h),T=Rh(f);if(!vi(x)&&!isNaN(x)){const w=o.valueAsNumber||x&&+x;vi(E.value)||(F=w>E.value),vi(T.value)||(_=w<T.value)}else{const w=o.valueAsDate||new Date(x),C=I=>new Date(new Date().toDateString()+" "+I),j=o.type=="time",S=o.type=="week";Yo(E.value)&&x&&(F=j?C(x)>C(E.value):S?x>E.value:w>new Date(E.value)),Yo(T.value)&&x&&(_=j?C(x)<C(T.value):S?x<T.value:w<new Date(T.value))}if((F||_)&&(L(!!F,E.message,T.message,Cl.max,Cl.min),!s))return y(N[g].message),N}if((u||d)&&!D&&(Yo(x)||a&&Array.isArray(x))){const F=Rh(u),_=Rh(d),E=!vi(F.value)&&x.length>+F.value,T=!vi(_.value)&&x.length<+_.value;if((E||T)&&(L(E,F.message,_.message),!s))return y(N[g].message),N}if(m&&!D&&Yo(x)){const{value:F,message:_}=Rh(m);if(Cy(F)&&!x.match(F)&&(N[g]={type:Cl.pattern,message:_,ref:o,...O(Cl.pattern,_)},!s))return y(_),N}if(A){if(co(A)){const F=await A(x,n),_=FE(F,v);if(_&&(N[g]={..._,...O(Cl.validate,_.message)},!s))return y(_.message),N}else if(hs(A)){let F={};for(const _ in A){if(!Ri(F)&&!s)break;const E=FE(await A[_](x,n),v,_);E&&(F={...E,...O(_,E.message)},y(E.message),s&&(N[g]=F))}if(!Ri(F)&&(N[g]={ref:v,...F},!s))return N}}return y(!0),N};const sve={mode:lo.onSubmit,reValidateMode:lo.onChange,shouldFocusError:!0};function ive(e={}){let t={...sve,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:co(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},i=hs(t.defaultValues)||hs(t.values)?ys(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:ys(i),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:_E(),state:_E()},m=t.criteriaMode===lo.all,A=te=>re=>{clearTimeout(u),u=setTimeout(te,re)},g=async te=>{if(!t.disabled&&(d.isValid||f.isValid||te)){const re=t.resolver?Ri((await M()).errors):await D(s,!0);re!==n.isValid&&h.state.next({isValid:re})}},p=(te,re)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((te||Array.from(c.mount)).forEach(Y=>{Y&&(re?ar(n.validatingFields,Y,re):ms(n.validatingFields,Y))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Ri(n.validatingFields)}))},b=(te,re=[],Y,oe,ae=!0,ce=!0)=>{if(oe&&Y&&!t.disabled){if(o.action=!0,ce&&Array.isArray(wt(s,te))){const de=Y(wt(s,te),oe.argA,oe.argB);ae&&ar(s,te,de)}if(ce&&Array.isArray(wt(n.errors,te))){const de=Y(wt(n.errors,te),oe.argA,oe.argB);ae&&ar(n.errors,te,de),nve(n.errors,te)}if((d.touchedFields||f.touchedFields)&&ce&&Array.isArray(wt(n.touchedFields,te))){const de=Y(wt(n.touchedFields,te),oe.argA,oe.argB);ae&&ar(n.touchedFields,te,de)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=vp(i,a)),h.state.next({name:te,isDirty:L(te,re),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ar(a,te,re)},x=(te,re)=>{ar(n.errors,te,re),h.state.next({errors:n.errors})},v=te=>{n.errors=te,h.state.next({errors:n.errors,isValid:!1})},y=(te,re,Y,oe)=>{const ae=wt(s,te);if(ae){const ce=wt(a,te,ls(Y)?wt(i,te):Y);ls(ce)||oe&&oe.defaultChecked||re?ar(a,te,re?ce:ME(ae._f)):E(te,ce),o.mount&&g()}},N=(te,re,Y,oe,ae)=>{let ce=!1,de=!1;const pe={name:te};if(!t.disabled){if(!Y||oe){(d.isDirty||f.isDirty)&&(de=n.isDirty,n.isDirty=pe.isDirty=L(),ce=de!==pe.isDirty);const Ae=Hl(wt(i,te),re);de=!!wt(n.dirtyFields,te),Ae?ms(n.dirtyFields,te):ar(n.dirtyFields,te,!0),pe.dirtyFields=n.dirtyFields,ce=ce||(d.dirtyFields||f.dirtyFields)&&de!==!Ae}if(Y){const Ae=wt(n.touchedFields,te);Ae||(ar(n.touchedFields,te,Y),pe.touchedFields=n.touchedFields,ce=ce||(d.touchedFields||f.touchedFields)&&Ae!==Y)}ce&&ae&&h.state.next(pe)}return ce?pe:{}},P=(te,re,Y,oe)=>{const ae=wt(n.errors,te),ce=(d.isValid||f.isValid)&&ua(re)&&n.isValid!==re;if(t.delayError&&Y?(l=A(()=>x(te,Y)),l(t.delayError)):(clearTimeout(u),l=null,Y?ar(n.errors,te,Y):ms(n.errors,te)),(Y?!Hl(ae,Y):ae)||!Ri(oe)||ce){const de={...oe,...ce&&ua(re)?{isValid:re}:{},errors:n.errors,name:te};n={...n,...de},h.state.next(de)}},M=async te=>{p(te,!0);const re=await t.resolver(a,t.context,Xbe(te||c.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return p(te),re},k=async te=>{const{errors:re}=await M(te);if(te)for(const Y of te){const oe=wt(re,Y);oe?ar(n.errors,Y,oe):ms(n.errors,Y)}else n.errors=re;return re},D=async(te,re,Y={valid:!0})=>{for(const oe in te){const ae=te[oe];if(ae){const{_f:ce,...de}=ae;if(ce){const pe=c.array.has(ce.name),Ae=ae._f&&Ybe(ae._f);Ae&&d.validatingFields&&p([oe],!0);const le=await RE(ae,c.disabled,a,m,t.shouldUseNativeValidation&&!re,pe);if(Ae&&d.validatingFields&&p([oe]),le[ce.name]&&(Y.valid=!1,re))break;!re&&(wt(le,ce.name)?pe?rve(n.errors,le,ce.name):ar(n.errors,ce.name,le[ce.name]):ms(n.errors,ce.name))}!Ri(de)&&await D(de,re,Y)}}return Y.valid},O=()=>{for(const te of c.unMount){const re=wt(s,te);re&&(re._f.refs?re._f.refs.every(Y=>!Rj(Y)):!Rj(re._f.ref))&&W(te)}c.unMount=new Set},L=(te,re)=>!t.disabled&&(te&&re&&ar(a,te,re),!Hl(I(),i)),F=(te,re,Y)=>ZQ(te,c,{...o.mount?a:ls(re)?i:Yo(te)?{[te]:re}:re},Y,re),_=te=>ek(wt(o.mount?a:i,te,t.shouldUnregister?wt(i,te,[]):[])),E=(te,re,Y={})=>{const oe=wt(s,te);let ae=re;if(oe){const ce=oe._f;ce&&(!ce.disabled&&ar(a,te,sz(re,ce)),ae=wy(ce.ref)&&vi(re)?"":re,ez(ce.ref)?[...ce.ref.options].forEach(de=>de.selected=ae.includes(de.value)):ce.refs?C0(ce.ref)?ce.refs.forEach(de=>{(!de.defaultChecked||!de.disabled)&&(Array.isArray(ae)?de.checked=!!ae.find(pe=>pe===de.value):de.checked=ae===de.value||!!ae)}):ce.refs.forEach(de=>de.checked=de.value===ae):sk(ce.ref)?ce.ref.value="":(ce.ref.value=ae,ce.ref.type||h.state.next({name:te,values:ys(a)})))}(Y.shouldDirty||Y.shouldTouch)&&N(te,ae,Y.shouldTouch,Y.shouldDirty,!0),Y.shouldValidate&&S(te)},T=(te,re,Y)=>{for(const oe in re){if(!re.hasOwnProperty(oe))return;const ae=re[oe],ce=te+"."+oe,de=wt(s,ce);(c.array.has(te)||hs(ae)||de&&!de._f)&&!Nd(ae)?T(ce,ae,Y):E(ce,ae,Y)}},w=(te,re,Y={})=>{const oe=wt(s,te),ae=c.array.has(te),ce=ys(re);ar(a,te,ce),ae?(h.array.next({name:te,values:ys(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Y.shouldDirty&&h.state.next({name:te,dirtyFields:vp(i,a),isDirty:L(te,ce)})):oe&&!oe._f&&!vi(ce)?T(te,ce,Y):E(te,ce,Y),OE(te,c)&&h.state.next({...n,name:te}),h.state.next({name:o.mount?te:void 0,values:ys(a)})},C=async te=>{o.mount=!0;const re=te.target;let Y=re.name,oe=!0;const ae=wt(s,Y),ce=Ae=>{oe=Number.isNaN(Ae)||Nd(Ae)&&isNaN(Ae.getTime())||Hl(Ae,wt(a,Y,Ae))},de=DE(t.mode),pe=DE(t.reValidateMode);if(ae){let Ae,le;const he=re.type?ME(ae._f):qQ(te),me=te.type===yy.BLUR||te.type===yy.FOCUS_OUT,ve=!Zbe(ae._f)&&!t.resolver&&!wt(n.errors,Y)&&!ae._f.deps||tve(me,wt(n.touchedFields,Y),n.isSubmitted,pe,de),_e=OE(Y,c,me);ar(a,Y,he),me?(!re||!re.readOnly)&&(ae._f.onBlur&&ae._f.onBlur(te),l&&l(0)):ae._f.onChange&&ae._f.onChange(te);const Te=N(Y,he,me),Ue=!Ri(Te)||_e;if(!me&&h.state.next({name:Y,type:te.type,values:ys(a)}),ve)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?me&&g():me||g()),Ue&&h.state.next({name:Y,..._e?{}:Te});if(!me&&_e&&h.state.next({...n}),t.resolver){const{errors:Ee}=await M([Y]);if(ce(he),oe){const Me=LE(n.errors,s,Y),Ie=LE(Ee,s,Me.name||Y);Ae=Ie.error,Y=Ie.name,le=Ri(Ee)}}else p([Y],!0),Ae=(await RE(ae,c.disabled,a,m,t.shouldUseNativeValidation))[Y],p([Y]),ce(he),oe&&(Ae?le=!1:(d.isValid||f.isValid)&&(le=await D(s,!0)));oe&&(ae._f.deps&&S(ae._f.deps),P(Y,le,Ae,Te))}},j=(te,re)=>{if(wt(n.errors,re)&&te.focus)return te.focus(),1},S=async(te,re={})=>{let Y,oe;const ae=NA(te);if(t.resolver){const ce=await k(ls(te)?te:ae);Y=Ri(ce),oe=te?!ae.some(de=>wt(ce,de)):Y}else te?(oe=(await Promise.all(ae.map(async ce=>{const de=wt(s,ce);return await D(de&&de._f?{[ce]:de}:de)}))).every(Boolean),!(!oe&&!n.isValid)&&g()):oe=Y=await D(s);return h.state.next({...!Yo(te)||(d.isValid||f.isValid)&&Y!==n.isValid?{}:{name:te},...t.resolver||!te?{isValid:Y}:{},errors:n.errors}),re.shouldFocus&&!oe&&SA(s,j,te?ae:c.mount),oe},I=te=>{const re={...o.mount?a:i};return ls(te)?re:Yo(te)?wt(re,te):te.map(Y=>wt(re,Y))},R=(te,re)=>({invalid:!!wt((re||n).errors,te),isDirty:!!wt((re||n).dirtyFields,te),error:wt((re||n).errors,te),isValidating:!!wt(n.validatingFields,te),isTouched:!!wt((re||n).touchedFields,te)}),U=te=>{te&&NA(te).forEach(re=>ms(n.errors,re)),h.state.next({errors:te?n.errors:{}})},z=(te,re,Y)=>{const oe=(wt(s,te,{_f:{}})._f||{}).ref,ae=wt(n.errors,te)||{},{ref:ce,message:de,type:pe,...Ae}=ae;ar(n.errors,te,{...Ae,...re,ref:oe}),h.state.next({name:te,errors:n.errors,isValid:!1}),Y&&Y.shouldFocus&&oe&&oe.focus&&oe.focus()},V=(te,re)=>co(te)?h.state.subscribe({next:Y=>"values"in Y&&te(F(void 0,re),Y)}):F(te,re,!0),X=te=>h.state.subscribe({next:re=>{eve(te.name,re.name,te.exact)&&Jbe(re,te.formState||d,ie,te.reRenderRoot)&&te.callback({values:{...a},...n,...re,defaultValues:i})}}).unsubscribe,$=te=>(o.mount=!0,f={...f,...te.formState},X({...te,formState:f})),W=(te,re={})=>{for(const Y of te?NA(te):c.mount)c.mount.delete(Y),c.array.delete(Y),re.keepValue||(ms(s,Y),ms(a,Y)),!re.keepError&&ms(n.errors,Y),!re.keepDirty&&ms(n.dirtyFields,Y),!re.keepTouched&&ms(n.touchedFields,Y),!re.keepIsValidating&&ms(n.validatingFields,Y),!t.shouldUnregister&&!re.keepDefaultValue&&ms(i,Y);h.state.next({values:ys(a)}),h.state.next({...n,...re.keepDirty?{isDirty:L()}:{}}),!re.keepIsValid&&g()},H=({disabled:te,name:re})=>{(ua(te)&&o.mount||te||c.disabled.has(re))&&(te?c.disabled.add(re):c.disabled.delete(re))},Q=(te,re={})=>{let Y=wt(s,te);const oe=ua(re.disabled)||ua(t.disabled);return ar(s,te,{...Y||{},_f:{...Y&&Y._f?Y._f:{ref:{name:te}},name:te,mount:!0,...re}}),c.mount.add(te),Y?H({disabled:ua(re.disabled)?re.disabled:t.disabled,name:te}):y(te,!0,re.value),{...oe?{disabled:re.disabled||t.disabled}:{},...t.progressive?{required:!!re.required,min:yp(re.min),max:yp(re.max),minLength:yp(re.minLength),maxLength:yp(re.maxLength),pattern:yp(re.pattern)}:{},name:te,onChange:C,onBlur:C,ref:ae=>{if(ae){Q(te,re),Y=wt(s,te);const ce=ls(ae.value)&&ae.querySelectorAll&&ae.querySelectorAll("input,select,textarea")[0]||ae,de=Gbe(ce),pe=Y._f.refs||[];if(de?pe.find(Ae=>Ae===ce):ce===Y._f.ref)return;ar(s,te,{_f:{...Y._f,...de?{refs:[...pe.filter(Rj),ce,...Array.isArray(wt(i,te))?[{}]:[]],ref:{type:ce.type,name:te}}:{ref:ce}}}),y(te,!1,void 0,ce)}else Y=wt(s,te,{}),Y._f&&(Y._f.mount=!1),(t.shouldUnregister||re.shouldUnregister)&&!(XQ(c.array,te)&&o.action)&&c.unMount.add(te)}}},G=()=>t.shouldFocusError&&SA(s,j,c.mount),J=te=>{ua(te)&&(h.state.next({disabled:te}),SA(s,(re,Y)=>{const oe=wt(s,Y);oe&&(re.disabled=oe._f.disabled||te,Array.isArray(oe._f.refs)&&oe._f.refs.forEach(ae=>{ae.disabled=oe._f.disabled||te}))},0,!1))},ee=(te,re)=>async Y=>{let oe;Y&&(Y.preventDefault&&Y.preventDefault(),Y.persist&&Y.persist());let ae=ys(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:ce,values:de}=await M();n.errors=ce,ae=ys(de)}else await D(s);if(c.disabled.size)for(const ce of c.disabled)ms(ae,ce);if(ms(n.errors,"root"),Ri(n.errors)){h.state.next({errors:{}});try{await te(ae,Y)}catch(ce){oe=ce}}else re&&await re({...n.errors},Y),G(),setTimeout(G);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ri(n.errors)&&!oe,submitCount:n.submitCount+1,errors:n.errors}),oe)throw oe},K=(te,re={})=>{wt(s,te)&&(ls(re.defaultValue)?w(te,ys(wt(i,te))):(w(te,re.defaultValue),ar(i,te,ys(re.defaultValue))),re.keepTouched||ms(n.touchedFields,te),re.keepDirty||(ms(n.dirtyFields,te),n.isDirty=re.defaultValue?L(te,ys(wt(i,te))):L()),re.keepError||(ms(n.errors,te),d.isValid&&g()),h.state.next({...n}))},ne=(te,re={})=>{const Y=te?ys(te):i,oe=ys(Y),ae=Ri(te),ce=ae?i:oe;if(re.keepDefaultValues||(i=Y),!re.keepValues){if(re.keepDirtyValues){const de=new Set([...c.mount,...Object.keys(vp(i,a))]);for(const pe of Array.from(de))wt(n.dirtyFields,pe)?ar(ce,pe,wt(a,pe)):w(pe,wt(ce,pe))}else{if(J5&&ls(te))for(const de of c.mount){const pe=wt(s,de);if(pe&&pe._f){const Ae=Array.isArray(pe._f.refs)?pe._f.refs[0]:pe._f.ref;if(wy(Ae)){const le=Ae.closest("form");if(le){le.reset();break}}}}if(re.keepFieldsRef)for(const de of c.mount)w(de,wt(ce,de));else s={}}a=t.shouldUnregister?re.keepDefaultValues?ys(i):{}:ys(ce),h.array.next({values:{...ce}}),h.state.next({values:{...ce}})}c={mount:re.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!re.keepIsValid||!!re.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:re.keepSubmitCount?n.submitCount:0,isDirty:ae?!1:re.keepDirty?n.isDirty:!!(re.keepDefaultValues&&!Hl(te,i)),isSubmitted:re.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ae?{}:re.keepDirtyValues?re.keepDefaultValues&&a?vp(i,a):n.dirtyFields:re.keepDefaultValues&&te?vp(i,te):re.keepDirty?n.dirtyFields:{},touchedFields:re.keepTouched?n.touchedFields:{},errors:re.keepErrors?n.errors:{},isSubmitSuccessful:re.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},ue=(te,re)=>ne(co(te)?te(a):te,re),se=(te,re={})=>{const Y=wt(s,te),oe=Y&&Y._f;if(oe){const ae=oe.refs?oe.refs[0]:oe.ref;ae.focus&&(ae.focus(),re.shouldSelect&&co(ae.select)&&ae.select())}},ie=te=>{n={...n,...te}},Z={control:{register:Q,unregister:W,getFieldState:R,handleSubmit:ee,setError:z,_subscribe:X,_runSchema:M,_focusError:G,_getWatch:F,_getDirty:L,_setValid:g,_setFieldArray:b,_setDisabledField:H,_setErrors:v,_getFieldArray:_,_reset:ne,_resetDefaultValues:()=>co(t.defaultValues)&&t.defaultValues().then(te=>{ue(te,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:J,_subjects:h,_proxyFormState:d,get _fields(){return s},get _formValues(){return a},get _state(){return o},set _state(te){o=te},get _defaultValues(){return i},get _names(){return c},set _names(te){c=te},get _formState(){return n},get _options(){return t},set _options(te){t={...t,...te}}},subscribe:$,trigger:S,register:Q,handleSubmit:ee,watch:V,setValue:w,getValues:I,reset:ue,resetField:K,clearErrors:U,unregister:W,setError:z,setFocus:se,getFieldState:R};return{...Z,formControl:Z}}function il(e={}){const t=je.useRef(void 0),n=je.useRef(void 0),[s,i]=je.useState({isDirty:!1,isValidating:!1,isLoading:co(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:co(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:s},e.defaultValues&&!co(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...c}=ive(e);t.current={...c,formState:s}}const a=t.current.control;return a._options=e,rk(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(c=>({...c,isReady:!0})),a._formState.isReady=!0,o},[a]),je.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),je.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),je.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),je.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),je.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==s.isDirty&&a._subjects.state.next({isDirty:o})}},[a,s.isDirty]),je.useEffect(()=>{e.values&&!Hl(e.values,n.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),n.current=e.values,i(o=>({...o}))):a._resetDefaultValues()},[a,e.values]),je.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=YQ(s,a),t.current}const UE=(e,t,n)=>{if(e&&"reportValidity"in e){const s=wt(n,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},az=(e,t)=>{for(const n in t.fields){const s=t.fields[n];s&&s.ref&&"reportValidity"in s.ref?UE(s.ref,n,e):s.refs&&s.refs.forEach(i=>UE(i,n,e))}},ave=(e,t)=>{t.shouldUseNativeValidation&&az(e,t);const n={};for(const s in e){const i=wt(t.fields,s),a=Object.assign(e[s]||{},{ref:i&&i.ref});if(ove(t.names||Object.keys(e),s)){const o=Object.assign({},wt(n,s));ar(o,"root",a),ar(n,s,o)}else ar(n,s,a)}return n},ove=(e,t)=>e.some(n=>n.startsWith(t+"."));var lve=function(e,t){for(var n={};e.length;){var s=e[0],i=s.code,a=s.message,o=s.path.join(".");if(!n[o])if("unionErrors"in s){var c=s.unionErrors[0].errors[0];n[o]={message:c.message,type:c.code}}else n[o]={message:a,type:i};if("unionErrors"in s&&s.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var l=n[o].types,u=l&&l[s.code];n[o]=JQ(o,t,n,i,u?[].concat(u,s.message):s.message)}e.shift()}return n},al=function(e,t,n){return n===void 0&&(n={}),function(s,i,a){try{return Promise.resolve(function(o,c){try{var l=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(u){return a.shouldUseNativeValidation&&az({},a),{errors:{},values:n.raw?s:u}})}catch(u){return c(u)}return l&&l.then?l.then(void 0,c):l}(0,function(o){if(function(c){return Array.isArray(c==null?void 0:c.errors)}(o))return{values:{},errors:ave(lve(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},Xn;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),o={};for(const c of a)o[c]=i[c];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},e.find=(i,a)=>{for(const o of i)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function s(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=s,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Xn||(Xn={}));var HE;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(HE||(HE={}));const Ft=Xn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Fc=e=>{switch(typeof e){case"undefined":return Ft.undefined;case"string":return Ft.string;case"number":return Number.isNaN(e)?Ft.nan:Ft.number;case"boolean":return Ft.boolean;case"function":return Ft.function;case"bigint":return Ft.bigint;case"symbol":return Ft.symbol;case"object":return Array.isArray(e)?Ft.array:e===null?Ft.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ft.promise:typeof Map<"u"&&e instanceof Map?Ft.map:typeof Set<"u"&&e instanceof Set?Ft.set:typeof Date<"u"&&e instanceof Date?Ft.date:Ft.object;default:return Ft.unknown}},ft=Xn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class uc extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(a){return a.message},s={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)s._errors.push(n(o));else{let c=s,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(c[u]=c[u]||{_errors:[]},c[u]._errors.push(n(o))):c[u]=c[u]||{_errors:[]},c=c[u],l++}}};return i(this),s}static assert(t){if(!(t instanceof uc))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Xn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},s=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];n[a]=n[a]||[],n[a].push(t(i))}else s.push(t(i));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}uc.create=e=>new uc(e);const oS=(e,t)=>{let n;switch(e.code){case ft.invalid_type:e.received===Ft.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case ft.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Xn.jsonStringifyReplacer)}`;break;case ft.unrecognized_keys:n=`Unrecognized key(s) in object: ${Xn.joinValues(e.keys,", ")}`;break;case ft.invalid_union:n="Invalid input";break;case ft.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Xn.joinValues(e.options)}`;break;case ft.invalid_enum_value:n=`Invalid enum value. Expected ${Xn.joinValues(e.options)}, received '${e.received}'`;break;case ft.invalid_arguments:n="Invalid function arguments";break;case ft.invalid_return_type:n="Invalid function return type";break;case ft.invalid_date:n="Invalid date";break;case ft.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Xn.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case ft.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case ft.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case ft.custom:n="Invalid input";break;case ft.invalid_intersection_types:n="Intersection results could not be merged";break;case ft.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ft.not_finite:n="Number must be finite";break;default:n=t.defaultError,Xn.assertNever(e)}return{message:n}};let cve=oS;function uve(){return cve}const dve=e=>{const{data:t,path:n,errorMaps:s,issueData:i}=e,a=[...n,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let c="";const l=s.filter(u=>!!u).slice().reverse();for(const u of l)c=u(o,{data:t,defaultError:c}).message;return{...i,path:a,message:c}};function Tt(e,t){const n=uve(),s=dve({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===oS?void 0:oS].filter(i=>!!i)});e.common.issues.push(s)}class va{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const s=[];for(const i of n){if(i.status==="aborted")return bn;i.status==="dirty"&&t.dirty(),s.push(i.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,n){const s=[];for(const i of n){const a=await i.key,o=await i.value;s.push({key:a,value:o})}return va.mergeObjectSync(t,s)}static mergeObjectSync(t,n){const s={};for(const i of n){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return bn;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(s[a.value]=o.value)}return{status:t.value,value:s}}}const bn=Object.freeze({status:"aborted"}),Yp=e=>({status:"dirty",value:e}),qa=e=>({status:"valid",value:e}),$E=e=>e.status==="aborted",QE=e=>e.status==="dirty",lm=e=>e.status==="valid",Ny=e=>typeof Promise<"u"&&e instanceof Promise;var $t;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})($t||($t={}));class Pu{constructor(t,n,s,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=s,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const zE=(e,t)=>{if(lm(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new uc(e.common.issues);return this._error=n,this._error}}};function En(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:s,description:i}=e;if(t&&(n||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,c)=>{const{message:l}=e;return o.code==="invalid_enum_value"?{message:l??c.defaultError}:typeof c.data>"u"?{message:l??s??c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:l??n??c.defaultError}},description:i}}class Vn{get description(){return this._def.description}_getType(t){return Fc(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Fc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new va,ctx:{common:t.parent.common,data:t.data,parsedType:Fc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Ny(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const s=this.safeParse(t,n);if(s.success)return s.data;throw s.error}safeParse(t,n){const s={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Fc(t)},i=this._parseSync({data:t,path:s.path,parent:s});return zE(s,i)}"~validate"(t){var s,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Fc(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:n});return lm(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(i=(s=a==null?void 0:a.message)==null?void 0:s.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(a=>lm(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(t,n){const s=await this.safeParseAsync(t,n);if(s.success)return s.data;throw s.error}async safeParseAsync(t,n){const s={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Fc(t)},i=this._parse({data:t,path:s.path,parent:s}),a=await(Ny(i)?i:Promise.resolve(i));return zE(s,a)}refine(t,n){const s=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const o=t(i),c=()=>a.addIssue({code:ft.custom,...s(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(t,n){return this._refinement((s,i)=>t(s)?!0:(i.addIssue(typeof n=="function"?n(s,i):n),!1))}_refinement(t){return new um({schema:this,typeName:yn.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return yu.create(this,this._def)}nullable(){return dm.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ol.create(this)}promise(){return _y.create(this,this._def)}or(t){return Ty.create([this,t],this._def)}and(t){return ky.create(this,t,this._def)}transform(t){return new um({...En(this._def),schema:this,typeName:yn.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new uS({...En(this._def),innerType:this,defaultValue:n,typeName:yn.ZodDefault})}brand(){return new Dve({typeName:yn.ZodBranded,type:this,...En(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new dS({...En(this._def),innerType:this,catchValue:n,typeName:yn.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return ak.create(this,t)}readonly(){return hS.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const hve=/^c[^\s-]{8,}$/i,fve=/^[0-9a-z]+$/,mve=/^[0-9A-HJKMNP-TV-Z]{26}$/i,pve=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ave=/^[a-z0-9_-]{21}$/i,gve=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,xve=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,bve=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,vve="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Uj;const yve=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,wve=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,jve=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Cve=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Nve=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Sve=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,oz="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Tve=new RegExp(`^${oz}$`);function lz(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function kve(e){return new RegExp(`^${lz(e)}$`)}function _ve(e){let t=`${oz}T${lz(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Bve(e,t){return!!((t==="v4"||!t)&&yve.test(e)||(t==="v6"||!t)&&jve.test(e))}function Eve(e,t){if(!gve.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const s=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(s));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function Pve(e,t){return!!((t==="v4"||!t)&&wve.test(e)||(t==="v6"||!t)&&Cve.test(e))}class tu extends Vn{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ft.string){const a=this._getOrReturnCtx(t);return Tt(a,{code:ft.invalid_type,expected:Ft.string,received:a.parsedType}),bn}const s=new va;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),Tt(i,{code:ft.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),Tt(i,{code:ft.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,c=t.data.length<a.value;(o||c)&&(i=this._getOrReturnCtx(t,i),o?Tt(i,{code:ft.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&Tt(i,{code:ft.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),s.dirty())}else if(a.kind==="email")bve.test(t.data)||(i=this._getOrReturnCtx(t,i),Tt(i,{validation:"email",code:ft.invalid_string,message:a.message}),s.dirty());else if(a.kind==="emoji")Uj||(Uj=new RegExp(vve,"u")),Uj.test(t.data)||(i=this._getOrReturnCtx(t,i),Tt(i,{validation:"emoji",code:ft.invalid_string,message:a.message}),s.dirty());else if(a.kind==="uuid")pve.test(t.data)||(i=this._getOrReturnCtx(t,i),Tt(i,{validation:"uuid",code:ft.invalid_string,message:a.message}),s.dirty());else if(a.kind==="nanoid")Ave.test(t.data)||(i=this._getOrReturnCtx(t,i),Tt(i,{validation:"nanoid",code:ft.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid")hve.test(t.data)||(i=this._getOrReturnCtx(t,i),Tt(i,{validation:"cuid",code:ft.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid2")fve.test(t.data)||(i=this._getOrReturnCtx(t,i),Tt(i,{validation:"cuid2",code:ft.invalid_string,message:a.message}),s.dirty());else if(a.kind==="ulid")mve.test(t.data)||(i=this._getOrReturnCtx(t,i),Tt(i,{validation:"ulid",code:ft.invalid_string,message:a.message}),s.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),Tt(i,{validation:"url",code:ft.invalid_string,message:a.message}),s.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),Tt(i,{validation:"regex",code:ft.invalid_string,message:a.message}),s.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),Tt(i,{code:ft.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),s.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),Tt(i,{code:ft.invalid_string,validation:{startsWith:a.value},message:a.message}),s.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),Tt(i,{code:ft.invalid_string,validation:{endsWith:a.value},message:a.message}),s.dirty()):a.kind==="datetime"?_ve(a).test(t.data)||(i=this._getOrReturnCtx(t,i),Tt(i,{code:ft.invalid_string,validation:"datetime",message:a.message}),s.dirty()):a.kind==="date"?Tve.test(t.data)||(i=this._getOrReturnCtx(t,i),Tt(i,{code:ft.invalid_string,validation:"date",message:a.message}),s.dirty()):a.kind==="time"?kve(a).test(t.data)||(i=this._getOrReturnCtx(t,i),Tt(i,{code:ft.invalid_string,validation:"time",message:a.message}),s.dirty()):a.kind==="duration"?xve.test(t.data)||(i=this._getOrReturnCtx(t,i),Tt(i,{validation:"duration",code:ft.invalid_string,message:a.message}),s.dirty()):a.kind==="ip"?Bve(t.data,a.version)||(i=this._getOrReturnCtx(t,i),Tt(i,{validation:"ip",code:ft.invalid_string,message:a.message}),s.dirty()):a.kind==="jwt"?Eve(t.data,a.alg)||(i=this._getOrReturnCtx(t,i),Tt(i,{validation:"jwt",code:ft.invalid_string,message:a.message}),s.dirty()):a.kind==="cidr"?Pve(t.data,a.version)||(i=this._getOrReturnCtx(t,i),Tt(i,{validation:"cidr",code:ft.invalid_string,message:a.message}),s.dirty()):a.kind==="base64"?Nve.test(t.data)||(i=this._getOrReturnCtx(t,i),Tt(i,{validation:"base64",code:ft.invalid_string,message:a.message}),s.dirty()):a.kind==="base64url"?Sve.test(t.data)||(i=this._getOrReturnCtx(t,i),Tt(i,{validation:"base64url",code:ft.invalid_string,message:a.message}),s.dirty()):Xn.assertNever(a);return{status:s.value,value:t.data}}_regex(t,n,s){return this.refinement(i=>t.test(i),{validation:n,code:ft.invalid_string,...$t.errToObj(s)})}_addCheck(t){return new tu({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...$t.errToObj(t)})}url(t){return this._addCheck({kind:"url",...$t.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...$t.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...$t.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...$t.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...$t.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...$t.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...$t.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...$t.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...$t.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...$t.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...$t.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...$t.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...$t.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...$t.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...$t.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...$t.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...$t.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...$t.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...$t.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...$t.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...$t.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...$t.errToObj(n)})}nonempty(t){return this.min(1,$t.errToObj(t))}trim(){return new tu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new tu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new tu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}tu.create=e=>new tu({checks:[],typeName:yn.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...En(e)});function Mve(e,t){const n=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,i=n>s?n:s,a=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return a%o/10**i}class bg extends Vn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ft.number){const a=this._getOrReturnCtx(t);return Tt(a,{code:ft.invalid_type,expected:Ft.number,received:a.parsedType}),bn}let s;const i=new va;for(const a of this._def.checks)a.kind==="int"?Xn.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),Tt(s,{code:ft.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(s=this._getOrReturnCtx(t,s),Tt(s,{code:ft.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(s=this._getOrReturnCtx(t,s),Tt(s,{code:ft.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?Mve(t.data,a.value)!==0&&(s=this._getOrReturnCtx(t,s),Tt(s,{code:ft.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),Tt(s,{code:ft.not_finite,message:a.message}),i.dirty()):Xn.assertNever(a);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,$t.toString(n))}gt(t,n){return this.setLimit("min",t,!1,$t.toString(n))}lte(t,n){return this.setLimit("max",t,!0,$t.toString(n))}lt(t,n){return this.setLimit("max",t,!1,$t.toString(n))}setLimit(t,n,s,i){return new bg({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:$t.toString(i)}]})}_addCheck(t){return new bg({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:$t.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$t.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$t.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$t.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$t.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:$t.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:$t.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:$t.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:$t.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Xn.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(n===null||s.value>n)&&(n=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(n)&&Number.isFinite(t)}}bg.create=e=>new bg({checks:[],typeName:yn.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...En(e)});class vg extends Vn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ft.bigint)return this._getInvalidInput(t);let s;const i=new va;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(s=this._getOrReturnCtx(t,s),Tt(s,{code:ft.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(s=this._getOrReturnCtx(t,s),Tt(s,{code:ft.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),Tt(s,{code:ft.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Xn.assertNever(a);return{status:i.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return Tt(n,{code:ft.invalid_type,expected:Ft.bigint,received:n.parsedType}),bn}gte(t,n){return this.setLimit("min",t,!0,$t.toString(n))}gt(t,n){return this.setLimit("min",t,!1,$t.toString(n))}lte(t,n){return this.setLimit("max",t,!0,$t.toString(n))}lt(t,n){return this.setLimit("max",t,!1,$t.toString(n))}setLimit(t,n,s,i){return new vg({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:$t.toString(i)}]})}_addCheck(t){return new vg({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:$t.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:$t.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:$t.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:$t.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:$t.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}vg.create=e=>new vg({checks:[],typeName:yn.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...En(e)});class lS extends Vn{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ft.boolean){const s=this._getOrReturnCtx(t);return Tt(s,{code:ft.invalid_type,expected:Ft.boolean,received:s.parsedType}),bn}return qa(t.data)}}lS.create=e=>new lS({typeName:yn.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...En(e)});class Sy extends Vn{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ft.date){const a=this._getOrReturnCtx(t);return Tt(a,{code:ft.invalid_type,expected:Ft.date,received:a.parsedType}),bn}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return Tt(a,{code:ft.invalid_date}),bn}const s=new va;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),Tt(i,{code:ft.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),s.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),Tt(i,{code:ft.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),s.dirty()):Xn.assertNever(a);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Sy({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:$t.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:$t.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Sy.create=e=>new Sy({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:yn.ZodDate,...En(e)});class VE extends Vn{_parse(t){if(this._getType(t)!==Ft.symbol){const s=this._getOrReturnCtx(t);return Tt(s,{code:ft.invalid_type,expected:Ft.symbol,received:s.parsedType}),bn}return qa(t.data)}}VE.create=e=>new VE({typeName:yn.ZodSymbol,...En(e)});class KE extends Vn{_parse(t){if(this._getType(t)!==Ft.undefined){const s=this._getOrReturnCtx(t);return Tt(s,{code:ft.invalid_type,expected:Ft.undefined,received:s.parsedType}),bn}return qa(t.data)}}KE.create=e=>new KE({typeName:yn.ZodUndefined,...En(e)});class GE extends Vn{_parse(t){if(this._getType(t)!==Ft.null){const s=this._getOrReturnCtx(t);return Tt(s,{code:ft.invalid_type,expected:Ft.null,received:s.parsedType}),bn}return qa(t.data)}}GE.create=e=>new GE({typeName:yn.ZodNull,...En(e)});class WE extends Vn{constructor(){super(...arguments),this._any=!0}_parse(t){return qa(t.data)}}WE.create=e=>new WE({typeName:yn.ZodAny,...En(e)});class qE extends Vn{constructor(){super(...arguments),this._unknown=!0}_parse(t){return qa(t.data)}}qE.create=e=>new qE({typeName:yn.ZodUnknown,...En(e)});class Mu extends Vn{_parse(t){const n=this._getOrReturnCtx(t);return Tt(n,{code:ft.invalid_type,expected:Ft.never,received:n.parsedType}),bn}}Mu.create=e=>new Mu({typeName:yn.ZodNever,...En(e)});class XE extends Vn{_parse(t){if(this._getType(t)!==Ft.undefined){const s=this._getOrReturnCtx(t);return Tt(s,{code:ft.invalid_type,expected:Ft.void,received:s.parsedType}),bn}return qa(t.data)}}XE.create=e=>new XE({typeName:yn.ZodVoid,...En(e)});class ol extends Vn{_parse(t){const{ctx:n,status:s}=this._processInputParams(t),i=this._def;if(n.parsedType!==Ft.array)return Tt(n,{code:ft.invalid_type,expected:Ft.array,received:n.parsedType}),bn;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,c=n.data.length<i.exactLength.value;(o||c)&&(Tt(n,{code:o?ft.too_big:ft.too_small,minimum:c?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),s.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Tt(n,{code:ft.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),s.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Tt(n,{code:ft.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),s.dirty()),n.common.async)return Promise.all([...n.data].map((o,c)=>i.type._parseAsync(new Pu(n,o,n.path,c)))).then(o=>va.mergeArray(s,o));const a=[...n.data].map((o,c)=>i.type._parseSync(new Pu(n,o,n.path,c)));return va.mergeArray(s,a)}get element(){return this._def.type}min(t,n){return new ol({...this._def,minLength:{value:t,message:$t.toString(n)}})}max(t,n){return new ol({...this._def,maxLength:{value:t,message:$t.toString(n)}})}length(t,n){return new ol({...this._def,exactLength:{value:t,message:$t.toString(n)}})}nonempty(t){return this.min(1,t)}}ol.create=(e,t)=>new ol({type:e,minLength:null,maxLength:null,exactLength:null,typeName:yn.ZodArray,...En(t)});function ef(e){if(e instanceof ps){const t={};for(const n in e.shape){const s=e.shape[n];t[n]=yu.create(ef(s))}return new ps({...e._def,shape:()=>t})}else return e instanceof ol?new ol({...e._def,type:ef(e.element)}):e instanceof yu?yu.create(ef(e.unwrap())):e instanceof dm?dm.create(ef(e.unwrap())):e instanceof dh?dh.create(e.items.map(t=>ef(t))):e}class ps extends Vn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Xn.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==Ft.object){const u=this._getOrReturnCtx(t);return Tt(u,{code:ft.invalid_type,expected:Ft.object,received:u.parsedType}),bn}const{status:s,ctx:i}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof Mu&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||c.push(u);const l=[];for(const u of o){const d=a[u],f=i.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new Pu(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Mu){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of c)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")c.length>0&&(Tt(i,{code:ft.unrecognized_keys,keys:c}),s.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of c){const f=i.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new Pu(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>va.mergeObjectSync(s,u)):va.mergeObjectSync(s,l)}get shape(){return this._def.shape()}strict(t){return $t.errToObj,new ps({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,s)=>{var a,o;const i=((o=(a=this._def).errorMap)==null?void 0:o.call(a,n,s).message)??s.defaultError;return n.code==="unrecognized_keys"?{message:$t.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new ps({...this._def,unknownKeys:"strip"})}passthrough(){return new ps({...this._def,unknownKeys:"passthrough"})}extend(t){return new ps({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ps({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:yn.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new ps({...this._def,catchall:t})}pick(t){const n={};for(const s of Xn.objectKeys(t))t[s]&&this.shape[s]&&(n[s]=this.shape[s]);return new ps({...this._def,shape:()=>n})}omit(t){const n={};for(const s of Xn.objectKeys(this.shape))t[s]||(n[s]=this.shape[s]);return new ps({...this._def,shape:()=>n})}deepPartial(){return ef(this)}partial(t){const n={};for(const s of Xn.objectKeys(this.shape)){const i=this.shape[s];t&&!t[s]?n[s]=i:n[s]=i.optional()}return new ps({...this._def,shape:()=>n})}required(t){const n={};for(const s of Xn.objectKeys(this.shape))if(t&&!t[s])n[s]=this.shape[s];else{let a=this.shape[s];for(;a instanceof yu;)a=a._def.innerType;n[s]=a}return new ps({...this._def,shape:()=>n})}keyof(){return cz(Xn.objectKeys(this.shape))}}ps.create=(e,t)=>new ps({shape:()=>e,unknownKeys:"strip",catchall:Mu.create(),typeName:yn.ZodObject,...En(t)});ps.strictCreate=(e,t)=>new ps({shape:()=>e,unknownKeys:"strict",catchall:Mu.create(),typeName:yn.ZodObject,...En(t)});ps.lazycreate=(e,t)=>new ps({shape:e,unknownKeys:"strip",catchall:Mu.create(),typeName:yn.ZodObject,...En(t)});class Ty extends Vn{_parse(t){const{ctx:n}=this._processInputParams(t),s=this._def.options;function i(a){for(const c of a)if(c.result.status==="valid")return c.result;for(const c of a)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const o=a.map(c=>new uc(c.ctx.common.issues));return Tt(n,{code:ft.invalid_union,unionErrors:o}),bn}if(n.common.async)return Promise.all(s.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const l of s){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const c=o.map(l=>new uc(l));return Tt(n,{code:ft.invalid_union,unionErrors:c}),bn}}get options(){return this._def.options}}Ty.create=(e,t)=>new Ty({options:e,typeName:yn.ZodUnion,...En(t)});function cS(e,t){const n=Fc(e),s=Fc(t);if(e===t)return{valid:!0,data:e};if(n===Ft.object&&s===Ft.object){const i=Xn.objectKeys(t),a=Xn.objectKeys(e).filter(c=>i.indexOf(c)!==-1),o={...e,...t};for(const c of a){const l=cS(e[c],t[c]);if(!l.valid)return{valid:!1};o[c]=l.data}return{valid:!0,data:o}}else if(n===Ft.array&&s===Ft.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const o=e[a],c=t[a],l=cS(o,c);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===Ft.date&&s===Ft.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class ky extends Vn{_parse(t){const{status:n,ctx:s}=this._processInputParams(t),i=(a,o)=>{if($E(a)||$E(o))return bn;const c=cS(a.value,o.value);return c.valid?((QE(a)||QE(o))&&n.dirty(),{status:n.value,value:c.data}):(Tt(s,{code:ft.invalid_intersection_types}),bn)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}ky.create=(e,t,n)=>new ky({left:e,right:t,typeName:yn.ZodIntersection,...En(n)});class dh extends Vn{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==Ft.array)return Tt(s,{code:ft.invalid_type,expected:Ft.array,received:s.parsedType}),bn;if(s.data.length<this._def.items.length)return Tt(s,{code:ft.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),bn;!this._def.rest&&s.data.length>this._def.items.length&&(Tt(s,{code:ft.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...s.data].map((o,c)=>{const l=this._def.items[c]||this._def.rest;return l?l._parse(new Pu(s,o,s.path,c)):null}).filter(o=>!!o);return s.common.async?Promise.all(a).then(o=>va.mergeArray(n,o)):va.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new dh({...this._def,rest:t})}}dh.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new dh({items:e,typeName:yn.ZodTuple,rest:null,...En(t)})};class YE extends Vn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==Ft.map)return Tt(s,{code:ft.invalid_type,expected:Ft.map,received:s.parsedType}),bn;const i=this._def.keyType,a=this._def.valueType,o=[...s.data.entries()].map(([c,l],u)=>({key:i._parse(new Pu(s,c,s.path,[u,"key"])),value:a._parse(new Pu(s,l,s.path,[u,"value"]))}));if(s.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return bn;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),c.set(u.value,d.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return bn;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),c.set(u.value,d.value)}return{status:n.value,value:c}}}}YE.create=(e,t,n)=>new YE({valueType:t,keyType:e,typeName:yn.ZodMap,...En(n)});class yg extends Vn{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==Ft.set)return Tt(s,{code:ft.invalid_type,expected:Ft.set,received:s.parsedType}),bn;const i=this._def;i.minSize!==null&&s.data.size<i.minSize.value&&(Tt(s,{code:ft.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&s.data.size>i.maxSize.value&&(Tt(s,{code:ft.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return bn;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const c=[...s.data.values()].map((l,u)=>a._parse(new Pu(s,l,s.path,u)));return s.common.async?Promise.all(c).then(l=>o(l)):o(c)}min(t,n){return new yg({...this._def,minSize:{value:t,message:$t.toString(n)}})}max(t,n){return new yg({...this._def,maxSize:{value:t,message:$t.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}yg.create=(e,t)=>new yg({valueType:e,minSize:null,maxSize:null,typeName:yn.ZodSet,...En(t)});class ZE extends Vn{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}ZE.create=(e,t)=>new ZE({getter:e,typeName:yn.ZodLazy,...En(t)});class JE extends Vn{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Tt(n,{received:n.data,code:ft.invalid_literal,expected:this._def.value}),bn}return{status:"valid",value:t.data}}get value(){return this._def.value}}JE.create=(e,t)=>new JE({value:e,typeName:yn.ZodLiteral,...En(t)});function cz(e,t){return new cm({values:e,typeName:yn.ZodEnum,...En(t)})}class cm extends Vn{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),s=this._def.values;return Tt(n,{expected:Xn.joinValues(s),received:n.parsedType,code:ft.invalid_type}),bn}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),s=this._def.values;return Tt(n,{received:n.data,code:ft.invalid_enum_value,options:s}),bn}return qa(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return cm.create(t,{...this._def,...n})}exclude(t,n=this._def){return cm.create(this.options.filter(s=>!t.includes(s)),{...this._def,...n})}}cm.create=cz;class e8 extends Vn{_parse(t){const n=Xn.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==Ft.string&&s.parsedType!==Ft.number){const i=Xn.objectValues(n);return Tt(s,{expected:Xn.joinValues(i),received:s.parsedType,code:ft.invalid_type}),bn}if(this._cache||(this._cache=new Set(Xn.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=Xn.objectValues(n);return Tt(s,{received:s.data,code:ft.invalid_enum_value,options:i}),bn}return qa(t.data)}get enum(){return this._def.values}}e8.create=(e,t)=>new e8({values:e,typeName:yn.ZodNativeEnum,...En(t)});class _y extends Vn{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Ft.promise&&n.common.async===!1)return Tt(n,{code:ft.invalid_type,expected:Ft.promise,received:n.parsedType}),bn;const s=n.parsedType===Ft.promise?n.data:Promise.resolve(n.data);return qa(s.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}_y.create=(e,t)=>new _y({type:e,typeName:yn.ZodPromise,...En(t)});class um extends Vn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===yn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:s}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:o=>{Tt(s,o),o.fatal?n.abort():n.dirty()},get path(){return s.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(s.data,a);if(s.common.async)return Promise.resolve(o).then(async c=>{if(n.value==="aborted")return bn;const l=await this._def.schema._parseAsync({data:c,path:s.path,parent:s});return l.status==="aborted"?bn:l.status==="dirty"||n.value==="dirty"?Yp(l.value):l});{if(n.value==="aborted")return bn;const c=this._def.schema._parseSync({data:o,path:s.path,parent:s});return c.status==="aborted"?bn:c.status==="dirty"||n.value==="dirty"?Yp(c.value):c}}if(i.type==="refinement"){const o=c=>{const l=i.refinement(c,a);if(s.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(s.common.async===!1){const c=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return c.status==="aborted"?bn:(c.status==="dirty"&&n.dirty(),o(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(c=>c.status==="aborted"?bn:(c.status==="dirty"&&n.dirty(),o(c.value).then(()=>({status:n.value,value:c.value}))))}if(i.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!lm(o))return bn;const c=i.transform(o.value,a);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>lm(o)?Promise.resolve(i.transform(o.value,a)).then(c=>({status:n.value,value:c})):bn);Xn.assertNever(i)}}um.create=(e,t,n)=>new um({schema:e,typeName:yn.ZodEffects,effect:t,...En(n)});um.createWithPreprocess=(e,t,n)=>new um({schema:t,effect:{type:"preprocess",transform:e},typeName:yn.ZodEffects,...En(n)});class yu extends Vn{_parse(t){return this._getType(t)===Ft.undefined?qa(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}yu.create=(e,t)=>new yu({innerType:e,typeName:yn.ZodOptional,...En(t)});class dm extends Vn{_parse(t){return this._getType(t)===Ft.null?qa(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}dm.create=(e,t)=>new dm({innerType:e,typeName:yn.ZodNullable,...En(t)});class uS extends Vn{_parse(t){const{ctx:n}=this._processInputParams(t);let s=n.data;return n.parsedType===Ft.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}uS.create=(e,t)=>new uS({innerType:e,typeName:yn.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...En(t)});class dS extends Vn{_parse(t){const{ctx:n}=this._processInputParams(t),s={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Ny(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new uc(s.common.issues)},input:s.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new uc(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}dS.create=(e,t)=>new dS({innerType:e,typeName:yn.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...En(t)});class t8 extends Vn{_parse(t){if(this._getType(t)!==Ft.nan){const s=this._getOrReturnCtx(t);return Tt(s,{code:ft.invalid_type,expected:Ft.nan,received:s.parsedType}),bn}return{status:"valid",value:t.data}}}t8.create=e=>new t8({typeName:yn.ZodNaN,...En(e)});class Dve extends Vn{_parse(t){const{ctx:n}=this._processInputParams(t),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}class ak extends Vn{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?bn:a.status==="dirty"?(n.dirty(),Yp(a.value)):this._def.out._parseAsync({data:a.value,path:s.path,parent:s})})();{const i=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?bn:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:s.path,parent:s})}}static create(t,n){return new ak({in:t,out:n,typeName:yn.ZodPipeline})}}class hS extends Vn{_parse(t){const n=this._def.innerType._parse(t),s=i=>(lm(i)&&(i.value=Object.freeze(i.value)),i);return Ny(n)?n.then(i=>s(i)):s(n)}unwrap(){return this._def.innerType}}hS.create=(e,t)=>new hS({innerType:e,typeName:yn.ZodReadonly,...En(t)});var yn;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(yn||(yn={}));const Ut=tu.create,fS=lS.create;Mu.create;ol.create;const gl=ps.create;Ty.create;ky.create;dh.create;const Ive=cm.create;_y.create;yu.create;dm.create;function Ove(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Ove(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var N0=e=>typeof e=="number"&&!isNaN(e),hh=e=>typeof e=="string",dc=e=>typeof e=="function",Lve=e=>hh(e)||N0(e),mS=e=>hh(e)||dc(e)?e:null,Fve=(e,t)=>e===!1||N0(e)&&e>0?e:t,pS=e=>B.isValidElement(e)||hh(e)||dc(e)||N0(e);function Rve(e,t,n=300){let{scrollHeight:s,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=s+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function Uve({enter:e,exit:t,appendPosition:n=!1,collapse:s=!0,collapseDuration:i=300}){return function({children:a,position:o,preventExitTransition:c,done:l,nodeRef:u,isIn:d,playToast:f}){let h=n?`${e}--${o}`:e,m=n?`${t}--${o}`:t,A=B.useRef(0);return B.useLayoutEffect(()=>{let g=u.current,p=h.split(" "),b=x=>{x.target===u.current&&(f(),g.removeEventListener("animationend",b),g.removeEventListener("animationcancel",b),A.current===0&&x.type!=="animationcancel"&&g.classList.remove(...p))};g.classList.add(...p),g.addEventListener("animationend",b),g.addEventListener("animationcancel",b)},[]),B.useEffect(()=>{let g=u.current,p=()=>{g.removeEventListener("animationend",p),s?Rve(g,l,i):l()};d||(c?p():(A.current=1,g.className+=` ${m}`,g.addEventListener("animationend",p)))},[d]),je.createElement(je.Fragment,null,a)}}function n8(e,t){return{content:uz(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function uz(e,t,n=!1){return B.isValidElement(e)&&!hh(e.type)?B.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):dc(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function Hve({closeToast:e,theme:t,ariaLabel:n="close"}){return je.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:s=>{s.stopPropagation(),e(!0)},"aria-label":n},je.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},je.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function $ve({delay:e,isRunning:t,closeToast:n,type:s="default",hide:i,className:a,controlledProgress:o,progress:c,rtl:l,isIn:u,theme:d}){let f=i||o&&c===0,h={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(h.transform=`scaleX(${c})`);let m=Wl("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":l}),A=dc(a)?a({rtl:l,type:s,defaultClassName:m}):Wl(m,a),g={[o&&c>=1?"onTransitionEnd":"onAnimationEnd"]:o&&c<1?null:()=>{u&&n()}};return je.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},je.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${s}`}),je.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:A,style:h,...g}))}var Qve=1,dz=()=>`${Qve++}`;function zve(e,t,n){let s=1,i=0,a=[],o=[],c=t,l=new Map,u=new Set,d=x=>(u.add(x),()=>u.delete(x)),f=()=>{o=Array.from(l.values()),u.forEach(x=>x())},h=({containerId:x,toastId:v,updateId:y})=>{let N=x?x!==e:e!==1,P=l.has(v)&&y==null;return N||P},m=(x,v)=>{l.forEach(y=>{var N;(v==null||v===y.props.toastId)&&((N=y.toggle)==null||N.call(y,x))})},A=x=>{var v,y;(y=(v=x.props)==null?void 0:v.onClose)==null||y.call(v,x.removalReason),x.isActive=!1},g=x=>{if(x==null)l.forEach(A);else{let v=l.get(x);v&&A(v)}f()},p=()=>{i-=a.length,a=[]},b=x=>{var v,y;let{toastId:N,updateId:P}=x.props,M=P==null;x.staleId&&l.delete(x.staleId),x.isActive=!0,l.set(N,x),f(),n(n8(x,M?"added":"updated")),M&&((y=(v=x.props).onOpen)==null||y.call(v))};return{id:e,props:c,observe:d,toggle:m,removeToast:g,toasts:l,clearQueue:p,buildToast:(x,v)=>{if(h(v))return;let{toastId:y,updateId:N,data:P,staleId:M,delay:k}=v,D=N==null;D&&i++;let O={...c,style:c.toastStyle,key:s++,...Object.fromEntries(Object.entries(v).filter(([F,_])=>_!=null)),toastId:y,updateId:N,data:P,isIn:!1,className:mS(v.className||c.toastClassName),progressClassName:mS(v.progressClassName||c.progressClassName),autoClose:v.isLoading?!1:Fve(v.autoClose,c.autoClose),closeToast(F){l.get(y).removalReason=F,g(y)},deleteToast(){let F=l.get(y);if(F!=null){if(n(n8(F,"removed")),l.delete(y),i--,i<0&&(i=0),a.length>0){b(a.shift());return}f()}}};O.closeButton=c.closeButton,v.closeButton===!1||pS(v.closeButton)?O.closeButton=v.closeButton:v.closeButton===!0&&(O.closeButton=pS(c.closeButton)?c.closeButton:!0);let L={content:x,props:O,staleId:M};c.limit&&c.limit>0&&i>c.limit&&D?a.push(L):N0(k)?setTimeout(()=>{b(L)},k):b(L)},setProps(x){c=x},setToggle:(x,v)=>{let y=l.get(x);y&&(y.toggle=v)},isToastActive:x=>{var v;return(v=l.get(x))==null?void 0:v.isActive},getSnapshot:()=>o}}var Ci=new Map,wg=[],AS=new Set,Vve=e=>AS.forEach(t=>t(e)),hz=()=>Ci.size>0;function Kve(){wg.forEach(e=>mz(e.content,e.options)),wg=[]}var Gve=(e,{containerId:t})=>{var n;return(n=Ci.get(t||1))==null?void 0:n.toasts.get(e)};function fz(e,t){var n;if(t)return!!((n=Ci.get(t))!=null&&n.isToastActive(e));let s=!1;return Ci.forEach(i=>{i.isToastActive(e)&&(s=!0)}),s}function Wve(e){if(!hz()){wg=wg.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||Lve(e))Ci.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Ci.get(e.containerId);t?t.removeToast(e.id):Ci.forEach(n=>{n.removeToast(e.id)})}}var qve=(e={})=>{Ci.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function mz(e,t){pS(e)&&(hz()||wg.push({content:e,options:t}),Ci.forEach(n=>{n.buildToast(e,t)}))}function Xve(e){var t;(t=Ci.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function pz(e,t){Ci.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function Yve(e){let t=e.containerId||1;return{subscribe(n){let s=zve(t,e,Vve);Ci.set(t,s);let i=s.observe(n);return Kve(),()=>{i(),Ci.delete(t)}},setProps(n){var s;(s=Ci.get(t))==null||s.setProps(n)},getSnapshot(){var n;return(n=Ci.get(t))==null?void 0:n.getSnapshot()}}}function Zve(e){return AS.add(e),()=>{AS.delete(e)}}function Jve(e){return e&&(hh(e.toastId)||N0(e.toastId))?e.toastId:dz()}function S0(e,t){return mz(e,t),t.toastId}function L1(e,t){return{...t,type:t&&t.type||e,toastId:Jve(t)}}function F1(e){return(t,n)=>S0(t,L1(e,n))}function pr(e,t){return S0(e,L1("default",t))}pr.loading=(e,t)=>S0(e,L1("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function eye(e,{pending:t,error:n,success:s},i){let a;t&&(a=hh(t)?pr.loading(t,i):pr.loading(t.render,{...i,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(u,d,f)=>{if(d==null){pr.dismiss(a);return}let h={type:u,...o,...i,data:f},m=hh(d)?{render:d}:d;return a?pr.update(a,{...h,...m}):pr(m.render,{...h,...m}),f},l=dc(e)?e():e;return l.then(u=>c("success",s,u)).catch(u=>c("error",n,u)),l}pr.promise=eye;pr.success=F1("success");pr.info=F1("info");pr.error=F1("error");pr.warning=F1("warning");pr.warn=pr.warning;pr.dark=(e,t)=>S0(e,L1("default",{theme:"dark",...t}));function tye(e){Wve(e)}pr.dismiss=tye;pr.clearWaitingQueue=qve;pr.isActive=fz;pr.update=(e,t={})=>{let n=Gve(e,t);if(n){let{props:s,content:i}=n,a={delay:100,...s,...t,toastId:t.toastId||e,updateId:dz()};a.toastId!==e&&(a.staleId=e);let o=a.render||i;delete a.render,S0(o,a)}};pr.done=e=>{pr.update(e,{progress:1})};pr.onChange=Zve;pr.play=e=>pz(!0,e);pr.pause=e=>pz(!1,e);function nye(e){var t;let{subscribe:n,getSnapshot:s,setProps:i}=B.useRef(Yve(e)).current;i(e);let a=(t=B.useSyncExternalStore(n,s,s))==null?void 0:t.slice();function o(c){if(!a)return[];let l=new Map;return e.newestOnTop&&a.reverse(),a.forEach(u=>{let{position:d}=u.props;l.has(d)||l.set(d,[]),l.get(d).push(u)}),Array.from(l,u=>c(u[0],u[1]))}return{getToastToRender:o,isToastActive:fz,count:a==null?void 0:a.length}}function rye(e){let[t,n]=B.useState(!1),[s,i]=B.useState(!1),a=B.useRef(null),o=B.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:l,closeToast:u,onClick:d,closeOnClick:f}=e;Xve({id:e.toastId,containerId:e.containerId,fn:n}),B.useEffect(()=>{if(e.pauseOnFocusLoss)return h(),()=>{m()}},[e.pauseOnFocusLoss]);function h(){document.hasFocus()||b(),window.addEventListener("focus",p),window.addEventListener("blur",b)}function m(){window.removeEventListener("focus",p),window.removeEventListener("blur",b)}function A(M){if(e.draggable===!0||e.draggable===M.pointerType){x();let k=a.current;o.canCloseOnClick=!0,o.canDrag=!0,k.style.transition="none",e.draggableDirection==="x"?(o.start=M.clientX,o.removalDistance=k.offsetWidth*(e.draggablePercent/100)):(o.start=M.clientY,o.removalDistance=k.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function g(M){let{top:k,bottom:D,left:O,right:L}=a.current.getBoundingClientRect();M.nativeEvent.type!=="touchend"&&e.pauseOnHover&&M.clientX>=O&&M.clientX<=L&&M.clientY>=k&&M.clientY<=D?b():p()}function p(){n(!0)}function b(){n(!1)}function x(){o.didMove=!1,document.addEventListener("pointermove",y),document.addEventListener("pointerup",N)}function v(){document.removeEventListener("pointermove",y),document.removeEventListener("pointerup",N)}function y(M){let k=a.current;if(o.canDrag&&k){o.didMove=!0,t&&b(),e.draggableDirection==="x"?o.delta=M.clientX-o.start:o.delta=M.clientY-o.start,o.start!==M.clientX&&(o.canCloseOnClick=!1);let D=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;k.style.transform=`translate3d(${D},0)`,k.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function N(){v();let M=a.current;if(o.canDrag&&o.didMove&&M){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}M.style.transition="transform 0.2s, opacity 0.2s",M.style.removeProperty("transform"),M.style.removeProperty("opacity")}}let P={onPointerDown:A,onPointerUp:g};return c&&l&&(P.onMouseEnter=b,e.stacked||(P.onMouseLeave=p)),f&&(P.onClick=M=>{d&&d(M),o.canCloseOnClick&&u(!0)}),{playToast:p,pauseToast:b,isRunning:t,preventExitTransition:s,toastRef:a,eventHandlers:P}}var sye=typeof window<"u"?B.useLayoutEffect:B.useEffect,R1=({theme:e,type:t,isLoading:n,...s})=>je.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...s});function iye(e){return je.createElement(R1,{...e},je.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function aye(e){return je.createElement(R1,{...e},je.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function oye(e){return je.createElement(R1,{...e},je.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function lye(e){return je.createElement(R1,{...e},je.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function cye(){return je.createElement("div",{className:"Toastify__spinner"})}var gS={info:aye,warning:iye,success:oye,error:lye,spinner:cye},uye=e=>e in gS;function dye({theme:e,type:t,isLoading:n,icon:s}){let i=null,a={theme:e,type:t};return s===!1||(dc(s)?i=s({...a,isLoading:n}):B.isValidElement(s)?i=B.cloneElement(s,a):n?i=gS.spinner():uye(t)&&(i=gS[t](a))),i}var hye=e=>{let{isRunning:t,preventExitTransition:n,toastRef:s,eventHandlers:i,playToast:a}=rye(e),{closeButton:o,children:c,autoClose:l,onClick:u,type:d,hideProgressBar:f,closeToast:h,transition:m,position:A,className:g,style:p,progressClassName:b,updateId:x,role:v,progress:y,rtl:N,toastId:P,deleteToast:M,isIn:k,isLoading:D,closeOnClick:O,theme:L,ariaLabel:F}=e,_=Wl("Toastify__toast",`Toastify__toast-theme--${L}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":N},{"Toastify__toast--close-on-click":O}),E=dc(g)?g({rtl:N,position:A,type:d,defaultClassName:_}):Wl(_,g),T=dye(e),w=!!y||!l,C={closeToast:h,type:d,theme:L},j=null;return o===!1||(dc(o)?j=o(C):B.isValidElement(o)?j=B.cloneElement(o,C):j=Hve(C)),je.createElement(m,{isIn:k,done:M,position:A,preventExitTransition:n,nodeRef:s,playToast:a},je.createElement("div",{id:P,tabIndex:0,onClick:u,"data-in":k,className:E,...i,style:p,ref:s,...k&&{role:v,"aria-label":F}},T!=null&&je.createElement("div",{className:Wl("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!D})},T),uz(c,e,!t),j,!e.customProgressBar&&je.createElement($ve,{...x&&!w?{key:`p-${x}`}:{},rtl:N,theme:L,delay:l,isRunning:t,isIn:k,closeToast:h,hide:f,type:d,className:b,controlledProgress:w,progress:y||0})))},fye=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),mye=Uve(fye("bounce",!0)),pye={position:"top-right",transition:mye,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function Aye(e){let t={...pye,...e},n=e.stacked,[s,i]=B.useState(!0),a=B.useRef(null),{getToastToRender:o,isToastActive:c,count:l}=nye(t),{className:u,style:d,rtl:f,containerId:h,hotKeys:m}=t;function A(p){let b=Wl("Toastify__toast-container",`Toastify__toast-container--${p}`,{"Toastify__toast-container--rtl":f});return dc(u)?u({position:p,rtl:f,defaultClassName:b}):Wl(b,mS(u))}function g(){n&&(i(!0),pr.play())}return sye(()=>{var p;if(n){let b=a.current.querySelectorAll('[data-in="true"]'),x=12,v=(p=t.position)==null?void 0:p.includes("top"),y=0,N=0;Array.from(b).reverse().forEach((P,M)=>{let k=P;k.classList.add("Toastify__toast--stacked"),M>0&&(k.dataset.collapsed=`${s}`),k.dataset.pos||(k.dataset.pos=v?"top":"bot");let D=y*(s?.2:1)+(s?0:x*M);k.style.setProperty("--y",`${v?D:D*-1}px`),k.style.setProperty("--g",`${x}`),k.style.setProperty("--s",`${1-(s?N:0)}`),y+=k.offsetHeight,N+=.025})}},[s,l,n]),B.useEffect(()=>{function p(b){var x;let v=a.current;m(b)&&((x=v.querySelector('[tabIndex="0"]'))==null||x.focus(),i(!1),pr.pause()),b.key==="Escape"&&(document.activeElement===v||v!=null&&v.contains(document.activeElement))&&(i(!0),pr.play())}return document.addEventListener("keydown",p),()=>{document.removeEventListener("keydown",p)}},[m]),je.createElement("section",{ref:a,className:"Toastify",id:h,onMouseEnter:()=>{n&&(i(!1),pr.pause())},onMouseLeave:g,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((p,b)=>{let x=b.length?{...d}:{...d,pointerEvents:"none"};return je.createElement("div",{tabIndex:-1,className:A(p),"data-stacked":n,style:x,key:`c-${p}`},b.map(({content:v,props:y})=>je.createElement(hye,{...y,stacked:n,collapseAll:g,isIn:c(y.toastId,y.containerId),key:`t-${y.key}`},v)))}))}const gye=gl({email:Ut().email("Email không hợp lệ").nonempty("Email không được để trống")}),xye=gl({otp:Ut().length(6,"Mã OTP phải có đúng 6 ký tự").nonempty("Mã OTP không được để trống")}),bye=gl({newPassword:Ut().min(8,"Mật khẩu phải có ít nhất 8 ký tự"),confirmPassword:Ut().nonempty("Xác nhận mật khẩu không được để trống")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Mật khẩu xác nhận không khớp",path:["confirmPassword"]}),vye=()=>{const[e,t]=B.useState("email"),[n,s]=B.useState(""),[i,a]=B.useState(""),[o,c]=B.useState(!1),[l,u]=B.useState(!1),[d,f]=B.useState(0),[h,m]=B.useState(!1),A=gr(),g="https://bicacuatho.azurewebsites.net/api/XacThuc",p=il({resolver:al(gye),defaultValues:{email:""}}),b=il({resolver:al(xye),defaultValues:{otp:""}}),x=il({resolver:al(bye),defaultValues:{newPassword:"",confirmPassword:""}});B.useEffect(()=>{if(d>0){const M=setInterval(()=>{f(k=>k-1)},1e3);return()=>clearInterval(M)}},[d]);const v=async M=>{var k,D;m(!0);try{const O=await Nt.post(`${g}/forgot-password`,{email:M.email});At.success(O.data.message||"Mã OTP đã được gửi đến email của bạn!"),s(M.email),f(60),t("otp")}catch(O){At.error(((D=(k=O.response)==null?void 0:k.data)==null?void 0:D.message)||"Không thể gửi mã OTP, vui lòng thử lại.")}finally{m(!1)}},y=async M=>{var k,D;m(!0);try{const O=await Nt.post(`${g}/verify-otp`,{email:n,otp:M.otp});At.success(O.data.message||"Mã OTP hợp lệ!"),a(M.otp),t("newPassword")}catch(O){At.error(((D=(k=O.response)==null?void 0:k.data)==null?void 0:D.message)||"Mã OTP không hợp lệ hoặc đã hết hạn.")}finally{m(!1)}},N=async M=>{var k,D;m(!0);try{const O=await Nt.post(`${g}/reset-password`,{email:n,otp:i,newPassword:M.newPassword});At.success(O.data.message||"Đặt lại mật khẩu thành công!"),setTimeout(()=>A("/auth/login"),2e3)}catch(O){At.error(((D=(k=O.response)==null?void 0:k.data)==null?void 0:D.message)||"Có lỗi xảy ra, vui lòng thử lại.")}finally{m(!1)}},P=async()=>{var M,k;d>0&&At.info(`Vui lòng đợi ${d} giây để gửi mã OTP`),m(!0);try{const D=await Nt.post(`${g}/forgot-password`,{email:n});At.success(D.data.message||"Mã OTP mới đã được gửi!"),f(60)}catch(D){At.error(((k=(M=D.response)==null?void 0:M.data)==null?void 0:k.message)||"Không thể gửi lại OTP, vui lòng thử lại.")}finally{m(!1)}};return r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsxs(it,{className:"w-full max-w-md mx-auto",children:[r.jsxs(yt,{className:"space-y-1",children:[r.jsxs(jt,{className:"text-2xl font-bold text-center",children:[e==="email"&&"Quên mật khẩu",e==="otp"&&"Nhập mã xác nhận",e==="newPassword"&&"Đặt mật khẩu mới"]}),r.jsxs(ks,{className:"text-center",children:[e==="email"&&"Nhập email của bạn để nhận mã OTP",e==="otp"&&"Nhập mã xác nhận đã gửi đến email của bạn",e==="newPassword"&&"Tạo mật khẩu mới an toàn"]})]}),r.jsxs(dt,{children:[e==="email"&&r.jsxs("form",{onSubmit:p.handleSubmit(v),className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"email",children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(Xi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),r.jsx(ye,{id:"email",type:"email",placeholder:"Nhập email",...p.register("email"),className:"pl-10"}),p.formState.errors.email&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.formState.errors.email.message})]})]}),r.jsxs(fe,{type:"submit",className:"w-full",disabled:h,children:[h?r.jsx(Xc,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(ra,{className:"mr-2 h-4 w-4"}),"Gửi OTP"]})]}),e==="otp"&&r.jsxs("form",{onSubmit:b.handleSubmit(y),className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"otp",children:"Mã xác nhận"}),r.jsxs("div",{className:"relative",children:[r.jsx(bL,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),r.jsx(ye,{id:"otp",placeholder:"Nhập mã OTP",...b.register("otp"),maxLength:6,className:"pl-10 text-center text-lg tracking-widest"}),b.formState.errors.otp&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.formState.errors.otp.message})]})]}),r.jsxs(fe,{type:"submit",className:"w-full",disabled:h,children:[h?r.jsx(Xc,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(ra,{className:"mr-2 h-4 w-4"}),"Xác nhận mã"]}),r.jsx("div",{className:"text-center mt-2",children:r.jsxs("button",{type:"button",onClick:P,className:"text-sm text-blue-600 hover:text-blue-700 flex items-center justify-center mx-auto",disabled:h,children:[r.jsx(Xc,{className:"mr-1 h-3 w-3"}),d>0?`Gửi lại OTP(${d}s)`:"Gửi lại OTP"]})}),r.jsx("div",{className:"text-center",children:r.jsxs("button",{type:"button",onClick:()=>t("email"),className:"text-sm text-blue-600 hover:text-blue-700 flex items-center justify-center mx-auto",children:[r.jsx(Nm,{className:"mr-1 h-3 w-3"})," Quay lại email"]})})]}),e==="newPassword"&&r.jsxs("form",{onSubmit:x.handleSubmit(N),className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"newPassword",children:"Mật khẩu mới"}),r.jsxs("div",{className:"relative",children:[r.jsx(Vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),r.jsx(ye,{id:"newPassword",type:o?"text":"password",placeholder:"Nhập mật khẩu mới",...x.register("newPassword"),className:"pl-10"}),r.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:o?r.jsx(nl,{size:18}):r.jsx(dr,{size:18})}),x.formState.errors.newPassword&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.formState.errors.newPassword.message})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"confirmPassword",children:"Xác nhận mật khẩu mới"}),r.jsxs("div",{className:"relative",children:[r.jsx(Vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),r.jsx(ye,{id:"confirmPassword",type:l?"text":"password",placeholder:"Xác nhận mật khẩu mới",...x.register("confirmPassword"),className:"pl-10"}),r.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:l?r.jsx(nl,{size:18}):r.jsx(dr,{size:18})}),x.formState.errors.confirmPassword&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.formState.errors.confirmPassword.message})]})]}),r.jsxs(fe,{type:"submit",className:"w-full",disabled:h,children:[h?r.jsx(Xc,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(Vi,{className:"mr-2 h-4 w-4"}),"Đặt lại mật khẩu"]})]})]}),r.jsx(Ld,{className:"flex flex-col",children:r.jsxs("div",{className:"text-center text-sm",children:["Nhớ mật khẩu của bạn?"," ",r.jsx(ct,{to:"/auth/login",className:"font-medium text-blue-600 hover:text-blue-700",children:"Đăng nhập"})]})})]}),r.jsx(Aye,{position:"top-right",autoClose:3e3,hideProgressBar:!0})]})},yye=()=>r.jsx("div",{className:"py-10",children:r.jsx(vye,{})});function zn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ya(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function yi(e,t){const n=zn(e);return isNaN(t)?ya(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function jo(e,t){const n=zn(e);if(isNaN(t))return ya(e,NaN);if(!t)return n;const s=n.getDate(),i=ya(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const a=i.getDate();return s>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}const ok=6048e5,wye=864e5;let jye={};function T0(){return jye}function fl(e,t){var c,l,u,d;const n=T0(),s=(t==null?void 0:t.weekStartsOn)??((l=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=zn(e),a=i.getDay(),o=(a<s?7:0)+a-s;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function fh(e){return fl(e,{weekStartsOn:1})}function Az(e){const t=zn(e),n=t.getFullYear(),s=ya(e,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=fh(s),a=ya(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=fh(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function hm(e){const t=zn(e);return t.setHours(0,0,0,0),t}function By(e){const t=zn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Zo(e,t){const n=hm(e),s=hm(t),i=+n-By(n),a=+s-By(s);return Math.round((i-a)/wye)}function Cye(e){const t=Az(e),n=ya(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),fh(n)}function xS(e,t){const n=t*7;return yi(e,n)}function Nye(e,t){return jo(e,t*12)}function Sye(e){let t;return e.forEach(function(n){const s=zn(n);(t===void 0||t<s||isNaN(Number(s)))&&(t=s)}),t||new Date(NaN)}function Tye(e){let t;return e.forEach(n=>{const s=zn(n);(!t||t>s||isNaN(+s))&&(t=s)}),t||new Date(NaN)}function Ki(e,t){const n=hm(e),s=hm(t);return+n==+s}function lk(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function kye(e){if(!lk(e)&&typeof e!="number")return!1;const t=zn(e);return!isNaN(Number(t))}function jg(e,t){const n=zn(e),s=zn(t),i=n.getFullYear()-s.getFullYear(),a=n.getMonth()-s.getMonth();return i*12+a}function _ye(e,t,n){const s=fl(e,n),i=fl(t,n),a=+s-By(s),o=+i-By(i);return Math.round((a-o)/ok)}function ck(e){const t=zn(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function ta(e){const t=zn(e);return t.setDate(1),t.setHours(0,0,0,0),t}function gz(e){const t=zn(e),n=ya(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function uk(e,t){var c,l,u,d;const n=T0(),s=(t==null?void 0:t.weekStartsOn)??((l=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=zn(e),a=i.getDay(),o=(a<s?-7:0)+6-(a-s);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function xz(e){return uk(e,{weekStartsOn:1})}const Bye={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Eye=(e,t,n)=>{let s;const i=Bye[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Hj(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Pye={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Mye={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Dye={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Iye={date:Hj({formats:Pye,defaultWidth:"full"}),time:Hj({formats:Mye,defaultWidth:"full"}),dateTime:Hj({formats:Dye,defaultWidth:"full"})},Oye={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Lye=(e,t,n,s)=>Oye[e];function wp(e){return(t,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let i;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,c=n!=null&&n.width?String(n.width):o;i=e.formattingValues[c]||e.formattingValues[o]}else{const o=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[c]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const Fye={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Rye={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Uye={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Hye={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$ye={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Qye={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zye=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Vye={ordinalNumber:zye,era:wp({values:Fye,defaultWidth:"wide"}),quarter:wp({values:Rye,defaultWidth:"wide",argumentCallback:e=>e-1}),month:wp({values:Uye,defaultWidth:"wide"}),day:wp({values:Hye,defaultWidth:"wide"}),dayPeriod:wp({values:$ye,defaultWidth:"wide",formattingValues:Qye,defaultFormattingWidth:"wide"})};function jp(e){return(t,n={})=>{const s=n.width,i=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],c=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(c)?Gye(c,f=>f.test(o)):Kye(c,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function Kye(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Gye(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Wye(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const i=s[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const c=t.slice(i.length);return{value:o,rest:c}}}const qye=/^(\d+)(th|st|nd|rd)?/i,Xye=/\d+/i,Yye={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Zye={any:[/^b/i,/^(a|c)/i]},Jye={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ewe={any:[/1/i,/2/i,/3/i,/4/i]},twe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},nwe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},rwe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},swe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},iwe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},awe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},owe={ordinalNumber:Wye({matchPattern:qye,parsePattern:Xye,valueCallback:e=>parseInt(e,10)}),era:jp({matchPatterns:Yye,defaultMatchWidth:"wide",parsePatterns:Zye,defaultParseWidth:"any"}),quarter:jp({matchPatterns:Jye,defaultMatchWidth:"wide",parsePatterns:ewe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:jp({matchPatterns:twe,defaultMatchWidth:"wide",parsePatterns:nwe,defaultParseWidth:"any"}),day:jp({matchPatterns:rwe,defaultMatchWidth:"wide",parsePatterns:swe,defaultParseWidth:"any"}),dayPeriod:jp({matchPatterns:iwe,defaultMatchWidth:"any",parsePatterns:awe,defaultParseWidth:"any"})},bz={code:"en-US",formatDistance:Eye,formatLong:Iye,formatRelative:Lye,localize:Vye,match:owe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function lwe(e){const t=zn(e);return Zo(t,gz(t))+1}function vz(e){const t=zn(e),n=+fh(t)-+Cye(t);return Math.round(n/ok)+1}function yz(e,t){var d,f,h,m;const n=zn(e),s=n.getFullYear(),i=T0(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(h=i.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=ya(e,0);o.setFullYear(s+1,0,a),o.setHours(0,0,0,0);const c=fl(o,t),l=ya(e,0);l.setFullYear(s,0,a),l.setHours(0,0,0,0);const u=fl(l,t);return n.getTime()>=c.getTime()?s+1:n.getTime()>=u.getTime()?s:s-1}function cwe(e,t){var c,l,u,d;const n=T0(),s=(t==null?void 0:t.firstWeekContainsDate)??((l=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=yz(e,t),a=ya(e,0);return a.setFullYear(i,0,s),a.setHours(0,0,0,0),fl(a,t)}function wz(e,t){const n=zn(e),s=+fl(n,t)-+cwe(n,t);return Math.round(s/ok)+1}function or(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const _c={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return or(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):or(n+1,2)},d(e,t){return or(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return or(e.getHours()%12||12,t.length)},H(e,t){return or(e.getHours(),t.length)},m(e,t){return or(e.getMinutes(),t.length)},s(e,t){return or(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),i=Math.trunc(s*Math.pow(10,n-3));return or(i,t.length)}},Uh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},r8={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return _c.y(e,t)},Y:function(e,t,n,s){const i=yz(e,s),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return or(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):or(a,t.length)},R:function(e,t){const n=Az(e);return or(n,t.length)},u:function(e,t){const n=e.getFullYear();return or(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return or(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return or(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return _c.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return or(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const i=wz(e,s);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):or(i,t.length)},I:function(e,t,n){const s=vz(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):or(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):_c.d(e,t)},D:function(e,t,n){const s=lwe(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):or(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const i=e.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return or(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const i=e.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return or(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),i=s===0?7:s;switch(t){case"i":return String(i);case"ii":return or(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let i;switch(s===12?i=Uh.noon:s===0?i=Uh.midnight:i=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let i;switch(s>=17?i=Uh.evening:s>=12?i=Uh.afternoon:s>=4?i=Uh.morning:i=Uh.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return _c.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):_c.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):or(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):or(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):_c.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):_c.s(e,t)},S:function(e,t){return _c.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return i8(s);case"XXXX":case"XX":return pd(s);case"XXXXX":case"XXX":default:return pd(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return i8(s);case"xxxx":case"xx":return pd(s);case"xxxxx":case"xxx":default:return pd(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+s8(s,":");case"OOOO":default:return"GMT"+pd(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+s8(s,":");case"zzzz":default:return"GMT"+pd(s,":")}},t:function(e,t,n){const s=Math.trunc(e.getTime()/1e3);return or(s,t.length)},T:function(e,t,n){const s=e.getTime();return or(s,t.length)}};function s8(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),i=Math.trunc(s/60),a=s%60;return a===0?n+String(i):n+String(i)+t+or(a,2)}function i8(e,t){return e%60===0?(e>0?"-":"+")+or(Math.abs(e)/60,2):pd(e,t)}function pd(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),i=or(Math.trunc(s/60),2),a=or(s%60,2);return n+i+t+a}const a8=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},jz=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},uwe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return a8(e,t);let a;switch(s){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",a8(s,t)).replace("{{time}}",jz(i,t))},dwe={p:jz,P:uwe},hwe=/^D+$/,fwe=/^Y+$/,mwe=["D","DD","YY","YYYY"];function pwe(e){return hwe.test(e)}function Awe(e){return fwe.test(e)}function gwe(e,t,n){const s=xwe(e,t,n);if(console.warn(s),mwe.includes(e))throw new RangeError(s)}function xwe(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const bwe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vwe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ywe=/^'([^]*?)'?$/,wwe=/''/g,jwe=/[a-zA-Z]/;function hc(e,t,n){var d,f,h,m,A,g,p,b;const s=T0(),i=(n==null?void 0:n.locale)??s.locale??bz,a=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((g=(A=n==null?void 0:n.locale)==null?void 0:A.options)==null?void 0:g.weekStartsOn)??s.weekStartsOn??((b=(p=s.locale)==null?void 0:p.options)==null?void 0:b.weekStartsOn)??0,c=zn(e);if(!kye(c))throw new RangeError("Invalid time value");let l=t.match(vwe).map(x=>{const v=x[0];if(v==="p"||v==="P"){const y=dwe[v];return y(x,i.formatLong)}return x}).join("").match(bwe).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const v=x[0];if(v==="'")return{isToken:!1,value:Cwe(x)};if(r8[v])return{isToken:!0,value:x};if(v.match(jwe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(l=i.localize.preprocessor(c,l));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return l.map(x=>{if(!x.isToken)return x.value;const v=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Awe(v)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&pwe(v))&&gwe(v,t,String(e));const y=r8[v[0]];return y(c,v,i.localize,u)}).join("")}function Cwe(e){const t=e.match(ywe);return t?t[1].replace(wwe,"'"):e}function Nwe(e){const t=zn(e),n=t.getFullYear(),s=t.getMonth(),i=ya(e,0);return i.setFullYear(n,s+1,0),i.setHours(0,0,0,0),i.getDate()}function Swe(e){return Math.trunc(+zn(e)/1e3)}function Twe(e){const t=zn(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function kwe(e,t){return _ye(Twe(e),ta(e),t)+1}function bS(e,t){const n=zn(e),s=zn(t);return n.getTime()>s.getTime()}function Cz(e,t){const n=zn(e),s=zn(t);return+n<+s}function dk(e,t){const n=zn(e),s=zn(t);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function _we(e,t){const n=zn(e),s=zn(t);return n.getFullYear()===s.getFullYear()}function $j(e,t){return yi(e,-t)}function Qj(e,t){const n=zn(e),s=n.getFullYear(),i=n.getDate(),a=ya(e,0);a.setFullYear(s,t,15),a.setHours(0,0,0,0);const o=Nwe(a);return n.setMonth(t,Math.min(i,o)),n}function o8(e,t){const n=zn(e);return isNaN(+n)?ya(e,NaN):(n.setFullYear(t),n)}var fn=function(){return fn=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},fn.apply(this,arguments)};function Bwe(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function Nz(e,t,n){for(var s=0,i=t.length,a;s<i;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}function k0(e){return e.mode==="multiple"}function _0(e){return e.mode==="range"}function U1(e){return e.mode==="single"}var Ewe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Pwe(e,t){return hc(e,"LLLL y",t)}function Mwe(e,t){return hc(e,"d",t)}function Dwe(e,t){return hc(e,"LLLL",t)}function Iwe(e){return"".concat(e)}function Owe(e,t){return hc(e,"cccccc",t)}function Lwe(e,t){return hc(e,"yyyy",t)}var Fwe=Object.freeze({__proto__:null,formatCaption:Pwe,formatDay:Mwe,formatMonthCaption:Dwe,formatWeekNumber:Iwe,formatWeekdayName:Owe,formatYearCaption:Lwe}),Rwe=function(e,t,n){return hc(e,"do MMMM (EEEE)",n)},Uwe=function(){return"Month: "},Hwe=function(){return"Go to next month"},$we=function(){return"Go to previous month"},Qwe=function(e,t){return hc(e,"cccc",t)},zwe=function(e){return"Week n. ".concat(e)},Vwe=function(){return"Year: "},Kwe=Object.freeze({__proto__:null,labelDay:Rwe,labelMonthDropdown:Uwe,labelNext:Hwe,labelPrevious:$we,labelWeekNumber:zwe,labelWeekday:Qwe,labelYearDropdown:Vwe});function Gwe(){var e="buttons",t=Ewe,n=bz,s={},i={},a=1,o={},c=new Date;return{captionLayout:e,classNames:t,formatters:Fwe,labels:Kwe,locale:n,modifiersClassNames:s,modifiers:i,numberOfMonths:a,styles:o,today:c,mode:"default"}}function Wwe(e){var t=e.fromYear,n=e.toYear,s=e.fromMonth,i=e.toMonth,a=e.fromDate,o=e.toDate;return s?a=ta(s):t&&(a=new Date(t,0,1)),i?o=ck(i):n&&(o=new Date(n,11,31)),{fromDate:a?hm(a):void 0,toDate:o?hm(o):void 0}}var Sz=B.createContext(void 0);function qwe(e){var t,n=e.initialProps,s=Gwe(),i=Wwe(n),a=i.fromDate,o=i.toDate,c=(t=n.captionLayout)!==null&&t!==void 0?t:s.captionLayout;c!=="buttons"&&(!a||!o)&&(c="buttons");var l;(U1(n)||k0(n)||_0(n))&&(l=n.onSelect);var u=fn(fn(fn({},s),n),{captionLayout:c,classNames:fn(fn({},s.classNames),n.classNames),components:fn({},n.components),formatters:fn(fn({},s.formatters),n.formatters),fromDate:a,labels:fn(fn({},s.labels),n.labels),mode:n.mode||s.mode,modifiers:fn(fn({},s.modifiers),n.modifiers),modifiersClassNames:fn(fn({},s.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:fn(fn({},s.styles),n.styles),toDate:o});return r.jsx(Sz.Provider,{value:u,children:e.children})}function Nr(){var e=B.useContext(Sz);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Tz(e){var t=Nr(),n=t.locale,s=t.classNames,i=t.styles,a=t.formatters.formatCaption;return r.jsx("div",{className:s.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:n})})}function Xwe(e){return r.jsx("svg",fn({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:r.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function kz(e){var t,n,s=e.onChange,i=e.value,a=e.children,o=e.caption,c=e.className,l=e.style,u=Nr(),d=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:Xwe;return r.jsxs("div",{className:c,style:l,children:[r.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),r.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:s,children:a}),r.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,r.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function Ywe(e){var t,n=Nr(),s=n.fromDate,i=n.toDate,a=n.styles,o=n.locale,c=n.formatters.formatMonthCaption,l=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!s)return r.jsx(r.Fragment,{});if(!i)return r.jsx(r.Fragment,{});var f=[];if(_we(s,i))for(var h=ta(s),m=s.getMonth();m<=i.getMonth();m++)f.push(Qj(h,m));else for(var h=ta(new Date),m=0;m<=11;m++)f.push(Qj(h,m));var A=function(p){var b=Number(p.target.value),x=Qj(ta(e.displayMonth),b);e.onChange(x)},g=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:kz;return r.jsx(g,{name:"months","aria-label":d(),className:l.dropdown_month,style:a.dropdown_month,onChange:A,value:e.displayMonth.getMonth(),caption:c(e.displayMonth,{locale:o}),children:f.map(function(p){return r.jsx("option",{value:p.getMonth(),children:c(p,{locale:o})},p.getMonth())})})}function Zwe(e){var t,n=e.displayMonth,s=Nr(),i=s.fromDate,a=s.toDate,o=s.locale,c=s.styles,l=s.classNames,u=s.components,d=s.formatters.formatYearCaption,f=s.labels.labelYearDropdown,h=[];if(!i)return r.jsx(r.Fragment,{});if(!a)return r.jsx(r.Fragment,{});for(var m=i.getFullYear(),A=a.getFullYear(),g=m;g<=A;g++)h.push(o8(gz(new Date),g));var p=function(x){var v=o8(ta(n),Number(x.target.value));e.onChange(v)},b=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:kz;return r.jsx(b,{name:"years","aria-label":f(),className:l.dropdown_year,style:c.dropdown_year,onChange:p,value:n.getFullYear(),caption:d(n,{locale:o}),children:h.map(function(x){return r.jsx("option",{value:x.getFullYear(),children:d(x,{locale:o})},x.getFullYear())})})}function Jwe(e,t){var n=B.useState(e),s=n[0],i=n[1],a=t===void 0?s:t;return[a,i]}function e1e(e){var t=e.month,n=e.defaultMonth,s=e.today,i=t||n||s||new Date,a=e.toDate,o=e.fromDate,c=e.numberOfMonths,l=c===void 0?1:c;if(a&&jg(a,i)<0){var u=-1*(l-1);i=jo(a,u)}return o&&jg(i,o)<0&&(i=o),ta(i)}function t1e(){var e=Nr(),t=e1e(e),n=Jwe(t,e.month),s=n[0],i=n[1],a=function(o){var c;if(!e.disableNavigation){var l=ta(o);i(l),(c=e.onMonthChange)===null||c===void 0||c.call(e,l)}};return[s,a]}function n1e(e,t){for(var n=t.reverseMonths,s=t.numberOfMonths,i=ta(e),a=ta(jo(i,s)),o=jg(a,i),c=[],l=0;l<o;l++){var u=jo(i,l);c.push(u)}return n&&(c=c.reverse()),c}function r1e(e,t){if(!t.disableNavigation){var n=t.toDate,s=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,o=s?a:1,c=ta(e);if(!n)return jo(c,o);var l=jg(n,e);if(!(l<a))return jo(c,o)}}function s1e(e,t){if(!t.disableNavigation){var n=t.fromDate,s=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,o=s?a:1,c=ta(e);if(!n)return jo(c,-o);var l=jg(c,n);if(!(l<=0))return jo(c,-o)}}var _z=B.createContext(void 0);function i1e(e){var t=Nr(),n=t1e(),s=n[0],i=n[1],a=n1e(s,t),o=r1e(s,t),c=s1e(s,t),l=function(f){return a.some(function(h){return dk(f,h)})},u=function(f,h){l(f)||(h&&Cz(f,h)?i(jo(f,1+t.numberOfMonths*-1)):i(f))},d={currentMonth:s,displayMonths:a,goToMonth:i,goToDate:u,previousMonth:c,nextMonth:o,isDateDisplayed:l};return r.jsx(_z.Provider,{value:d,children:e.children})}function B0(){var e=B.useContext(_z);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function l8(e){var t,n=Nr(),s=n.classNames,i=n.styles,a=n.components,o=B0().goToMonth,c=function(d){o(jo(d,e.displayIndex?-e.displayIndex:0))},l=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:Tz,u=r.jsx(l,{id:e.id,displayMonth:e.displayMonth});return r.jsxs("div",{className:s.caption_dropdowns,style:i.caption_dropdowns,children:[r.jsx("div",{className:s.vhidden,children:u}),r.jsx(Ywe,{onChange:c,displayMonth:e.displayMonth}),r.jsx(Zwe,{onChange:c,displayMonth:e.displayMonth})]})}function a1e(e){return r.jsx("svg",fn({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:r.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function o1e(e){return r.jsx("svg",fn({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:r.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Ey=B.forwardRef(function(e,t){var n=Nr(),s=n.classNames,i=n.styles,a=[s.button_reset,s.button];e.className&&a.push(e.className);var o=a.join(" "),c=fn(fn({},i.button_reset),i.button);return e.style&&Object.assign(c,e.style),r.jsx("button",fn({},e,{ref:t,type:"button",className:o,style:c}))});function l1e(e){var t,n,s=Nr(),i=s.dir,a=s.locale,o=s.classNames,c=s.styles,l=s.labels,u=l.labelPrevious,d=l.labelNext,f=s.components;if(!e.nextMonth&&!e.previousMonth)return r.jsx(r.Fragment,{});var h=u(e.previousMonth,{locale:a}),m=[o.nav_button,o.nav_button_previous].join(" "),A=d(e.nextMonth,{locale:a}),g=[o.nav_button,o.nav_button_next].join(" "),p=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:o1e,b=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:a1e;return r.jsxs("div",{className:o.nav,style:c.nav,children:[!e.hidePrevious&&r.jsx(Ey,{name:"previous-month","aria-label":h,className:m,style:c.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?r.jsx(p,{className:o.nav_icon,style:c.nav_icon}):r.jsx(b,{className:o.nav_icon,style:c.nav_icon})}),!e.hideNext&&r.jsx(Ey,{name:"next-month","aria-label":A,className:g,style:c.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?r.jsx(b,{className:o.nav_icon,style:c.nav_icon}):r.jsx(p,{className:o.nav_icon,style:c.nav_icon})})]})}function c8(e){var t=Nr().numberOfMonths,n=B0(),s=n.previousMonth,i=n.nextMonth,a=n.goToMonth,o=n.displayMonths,c=o.findIndex(function(A){return dk(e.displayMonth,A)}),l=c===0,u=c===o.length-1,d=t>1&&(l||!u),f=t>1&&(u||!l),h=function(){s&&a(s)},m=function(){i&&a(i)};return r.jsx(l1e,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:i,previousMonth:s,onPreviousClick:h,onNextClick:m})}function c1e(e){var t,n=Nr(),s=n.classNames,i=n.disableNavigation,a=n.styles,o=n.captionLayout,c=n.components,l=(t=c==null?void 0:c.CaptionLabel)!==null&&t!==void 0?t:Tz,u;return i?u=r.jsx(l,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=r.jsx(l8,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=r.jsxs(r.Fragment,{children:[r.jsx(l8,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),r.jsx(c8,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=r.jsxs(r.Fragment,{children:[r.jsx(l,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),r.jsx(c8,{displayMonth:e.displayMonth,id:e.id})]}),r.jsx("div",{className:s.caption,style:a.caption,children:u})}function u1e(e){var t=Nr(),n=t.footer,s=t.styles,i=t.classNames.tfoot;return n?r.jsx("tfoot",{className:i,style:s.tfoot,children:r.jsx("tr",{children:r.jsx("td",{colSpan:8,children:n})})}):r.jsx(r.Fragment,{})}function d1e(e,t,n){for(var s=n?fh(new Date):fl(new Date,{locale:e,weekStartsOn:t}),i=[],a=0;a<7;a++){var o=yi(s,a);i.push(o)}return i}function h1e(){var e=Nr(),t=e.classNames,n=e.styles,s=e.showWeekNumber,i=e.locale,a=e.weekStartsOn,o=e.ISOWeek,c=e.formatters.formatWeekdayName,l=e.labels.labelWeekday,u=d1e(i,a,o);return r.jsxs("tr",{style:n.head_row,className:t.head_row,children:[s&&r.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(d,f){return r.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":l(d,{locale:i}),children:c(d,{locale:i})},f)})]})}function f1e(){var e,t=Nr(),n=t.classNames,s=t.styles,i=t.components,a=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:h1e;return r.jsx("thead",{style:s.head,className:n.head,children:r.jsx(a,{})})}function m1e(e){var t=Nr(),n=t.locale,s=t.formatters.formatDay;return r.jsx(r.Fragment,{children:s(e.date,{locale:n})})}var hk=B.createContext(void 0);function p1e(e){if(!k0(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return r.jsx(hk.Provider,{value:t,children:e.children})}return r.jsx(A1e,{initialProps:e.initialProps,children:e.children})}function A1e(e){var t=e.initialProps,n=e.children,s=t.selected,i=t.min,a=t.max,o=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var A=!!(d.selected&&i&&(s==null?void 0:s.length)===i);if(!A){var g=!!(!d.selected&&a&&(s==null?void 0:s.length)===a);if(!g){var p=s?Nz([],s):[];if(d.selected){var b=p.findIndex(function(x){return Ki(u,x)});p.splice(b,1)}else p.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,p,u,d,f)}}},c={disabled:[]};s&&c.disabled.push(function(u){var d=a&&s.length>a-1,f=s.some(function(h){return Ki(h,u)});return!!(d&&!f)});var l={selected:s,onDayClick:o,modifiers:c};return r.jsx(hk.Provider,{value:l,children:n})}function fk(){var e=B.useContext(hk);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function g1e(e,t){var n=t||{},s=n.from,i=n.to;return s&&i?Ki(i,e)&&Ki(s,e)?void 0:Ki(i,e)?{from:i,to:void 0}:Ki(s,e)?void 0:bS(s,e)?{from:e,to:i}:{from:s,to:e}:i?bS(e,i)?{from:i,to:e}:{from:e,to:i}:s?Cz(e,s)?{from:e,to:s}:{from:s,to:e}:{from:e,to:void 0}}var mk=B.createContext(void 0);function x1e(e){if(!_0(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return r.jsx(mk.Provider,{value:t,children:e.children})}return r.jsx(b1e,{initialProps:e.initialProps,children:e.children})}function b1e(e){var t=e.initialProps,n=e.children,s=t.selected,i=s||{},a=i.from,o=i.to,c=t.min,l=t.max,u=function(m,A,g){var p,b;(p=t.onDayClick)===null||p===void 0||p.call(t,m,A,g);var x=g1e(m,s);(b=t.onSelect)===null||b===void 0||b.call(t,x,m,A,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],o?(d.range_end=[o],Ki(a,o)||(d.range_middle=[{after:a,before:o}])):d.range_end=[a]):o&&(d.range_start=[o],d.range_end=[o]),c&&(a&&!o&&d.disabled.push({after:$j(a,c-1),before:yi(a,c-1)}),a&&o&&d.disabled.push({after:a,before:yi(a,c-1)}),!a&&o&&d.disabled.push({after:$j(o,c-1),before:yi(o,c-1)})),l){if(a&&!o&&(d.disabled.push({before:yi(a,-l+1)}),d.disabled.push({after:yi(a,l-1)})),a&&o){var f=Zo(o,a)+1,h=l-f;d.disabled.push({before:$j(a,h)}),d.disabled.push({after:yi(o,h)})}!a&&o&&(d.disabled.push({before:yi(o,-l+1)}),d.disabled.push({after:yi(o,l-1)}))}return r.jsx(mk.Provider,{value:{selected:s,onDayClick:u,modifiers:d},children:n})}function pk(){var e=B.useContext(mk);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Jb(e){return Array.isArray(e)?Nz([],e):e!==void 0?[e]:[]}function v1e(e){var t={};return Object.entries(e).forEach(function(n){var s=n[0],i=n[1];t[s]=Jb(i)}),t}var Co;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Co||(Co={}));var y1e=Co.Selected,Nl=Co.Disabled,w1e=Co.Hidden,j1e=Co.Today,zj=Co.RangeEnd,Vj=Co.RangeMiddle,Kj=Co.RangeStart,C1e=Co.Outside;function N1e(e,t,n){var s,i=(s={},s[y1e]=Jb(e.selected),s[Nl]=Jb(e.disabled),s[w1e]=Jb(e.hidden),s[j1e]=[e.today],s[zj]=[],s[Vj]=[],s[Kj]=[],s[C1e]=[],s);return e.fromDate&&i[Nl].push({before:e.fromDate}),e.toDate&&i[Nl].push({after:e.toDate}),k0(e)?i[Nl]=i[Nl].concat(t.modifiers[Nl]):_0(e)&&(i[Nl]=i[Nl].concat(n.modifiers[Nl]),i[Kj]=n.modifiers[Kj],i[Vj]=n.modifiers[Vj],i[zj]=n.modifiers[zj]),i}var Bz=B.createContext(void 0);function S1e(e){var t=Nr(),n=fk(),s=pk(),i=N1e(t,n,s),a=v1e(t.modifiers),o=fn(fn({},i),a);return r.jsx(Bz.Provider,{value:o,children:e.children})}function Ez(){var e=B.useContext(Bz);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function T1e(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function k1e(e){return!!(e&&typeof e=="object"&&"from"in e)}function _1e(e){return!!(e&&typeof e=="object"&&"after"in e)}function B1e(e){return!!(e&&typeof e=="object"&&"before"in e)}function E1e(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function P1e(e,t){var n,s=t.from,i=t.to;if(s&&i){var a=Zo(i,s)<0;a&&(n=[i,s],s=n[0],i=n[1]);var o=Zo(e,s)>=0&&Zo(i,e)>=0;return o}return i?Ki(i,e):s?Ki(s,e):!1}function M1e(e){return lk(e)}function D1e(e){return Array.isArray(e)&&e.every(lk)}function I1e(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(M1e(n))return Ki(e,n);if(D1e(n))return n.includes(e);if(k1e(n))return P1e(e,n);if(E1e(n))return n.dayOfWeek.includes(e.getDay());if(T1e(n)){var s=Zo(n.before,e),i=Zo(n.after,e),a=s>0,o=i<0,c=bS(n.before,n.after);return c?o&&a:a||o}return _1e(n)?Zo(e,n.after)>0:B1e(n)?Zo(n.before,e)>0:typeof n=="function"?n(e):!1})}function Ak(e,t,n){var s=Object.keys(t).reduce(function(a,o){var c=t[o];return I1e(e,c)&&a.push(o),a},[]),i={};return s.forEach(function(a){return i[a]=!0}),n&&!dk(e,n)&&(i.outside=!0),i}function O1e(e,t){for(var n=ta(e[0]),s=ck(e[e.length-1]),i,a,o=n;o<=s;){var c=Ak(o,t),l=!c.disabled&&!c.hidden;if(!l){o=yi(o,1);continue}if(c.selected)return o;c.today&&!a&&(a=o),i||(i=o),o=yi(o,1)}return a||i}var L1e=365;function Pz(e,t){var n=t.moveBy,s=t.direction,i=t.context,a=t.modifiers,o=t.retry,c=o===void 0?{count:0,lastFocused:e}:o,l=i.weekStartsOn,u=i.fromDate,d=i.toDate,f=i.locale,h={day:yi,week:xS,month:jo,year:Nye,startOfWeek:function(p){return i.ISOWeek?fh(p):fl(p,{locale:f,weekStartsOn:l})},endOfWeek:function(p){return i.ISOWeek?xz(p):uk(p,{locale:f,weekStartsOn:l})}},m=h[n](e,s==="after"?1:-1);s==="before"&&u?m=Sye([u,m]):s==="after"&&d&&(m=Tye([d,m]));var A=!0;if(a){var g=Ak(m,a);A=!g.disabled&&!g.hidden}return A?m:c.count>L1e?c.lastFocused:Pz(m,{moveBy:n,direction:s,context:i,modifiers:a,retry:fn(fn({},c),{count:c.count+1})})}var Mz=B.createContext(void 0);function F1e(e){var t=B0(),n=Ez(),s=B.useState(),i=s[0],a=s[1],o=B.useState(),c=o[0],l=o[1],u=O1e(t.displayMonths,n),d=i??(c&&t.isDateDisplayed(c))?c:u,f=function(){l(i),a(void 0)},h=function(p){a(p)},m=Nr(),A=function(p,b){if(i){var x=Pz(i,{moveBy:p,direction:b,context:m,modifiers:n});Ki(i,x)||(t.goToDate(x,i),h(x))}},g={focusedDay:i,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return A("day","after")},focusDayBefore:function(){return A("day","before")},focusWeekAfter:function(){return A("week","after")},focusWeekBefore:function(){return A("week","before")},focusMonthBefore:function(){return A("month","before")},focusMonthAfter:function(){return A("month","after")},focusYearBefore:function(){return A("year","before")},focusYearAfter:function(){return A("year","after")},focusStartOfWeek:function(){return A("startOfWeek","before")},focusEndOfWeek:function(){return A("endOfWeek","after")}};return r.jsx(Mz.Provider,{value:g,children:e.children})}function gk(){var e=B.useContext(Mz);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function R1e(e,t){var n=Ez(),s=Ak(e,n,t);return s}var xk=B.createContext(void 0);function U1e(e){if(!U1(e.initialProps)){var t={selected:void 0};return r.jsx(xk.Provider,{value:t,children:e.children})}return r.jsx(H1e,{initialProps:e.initialProps,children:e.children})}function H1e(e){var t=e.initialProps,n=e.children,s=function(a,o,c){var l,u,d;if((l=t.onDayClick)===null||l===void 0||l.call(t,a,o,c),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,a,o,c);return}(d=t.onSelect)===null||d===void 0||d.call(t,a,a,o,c)},i={selected:t.selected,onDayClick:s};return r.jsx(xk.Provider,{value:i,children:n})}function Dz(){var e=B.useContext(xk);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function $1e(e,t){var n=Nr(),s=Dz(),i=fk(),a=pk(),o=gk(),c=o.focusDayAfter,l=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,m=o.focusMonthBefore,A=o.focusMonthAfter,g=o.focusYearBefore,p=o.focusYearAfter,b=o.focusStartOfWeek,x=o.focusEndOfWeek,v=function(C){var j,S,I,R;U1(n)?(j=s.onDayClick)===null||j===void 0||j.call(s,e,t,C):k0(n)?(S=i.onDayClick)===null||S===void 0||S.call(i,e,t,C):_0(n)?(I=a.onDayClick)===null||I===void 0||I.call(a,e,t,C):(R=n.onDayClick)===null||R===void 0||R.call(n,e,t,C)},y=function(C){var j;h(e),(j=n.onDayFocus)===null||j===void 0||j.call(n,e,t,C)},N=function(C){var j;f(),(j=n.onDayBlur)===null||j===void 0||j.call(n,e,t,C)},P=function(C){var j;(j=n.onDayMouseEnter)===null||j===void 0||j.call(n,e,t,C)},M=function(C){var j;(j=n.onDayMouseLeave)===null||j===void 0||j.call(n,e,t,C)},k=function(C){var j;(j=n.onDayPointerEnter)===null||j===void 0||j.call(n,e,t,C)},D=function(C){var j;(j=n.onDayPointerLeave)===null||j===void 0||j.call(n,e,t,C)},O=function(C){var j;(j=n.onDayTouchCancel)===null||j===void 0||j.call(n,e,t,C)},L=function(C){var j;(j=n.onDayTouchEnd)===null||j===void 0||j.call(n,e,t,C)},F=function(C){var j;(j=n.onDayTouchMove)===null||j===void 0||j.call(n,e,t,C)},_=function(C){var j;(j=n.onDayTouchStart)===null||j===void 0||j.call(n,e,t,C)},E=function(C){var j;(j=n.onDayKeyUp)===null||j===void 0||j.call(n,e,t,C)},T=function(C){var j;switch(C.key){case"ArrowLeft":C.preventDefault(),C.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowRight":C.preventDefault(),C.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowDown":C.preventDefault(),C.stopPropagation(),u();break;case"ArrowUp":C.preventDefault(),C.stopPropagation(),d();break;case"PageUp":C.preventDefault(),C.stopPropagation(),C.shiftKey?g():m();break;case"PageDown":C.preventDefault(),C.stopPropagation(),C.shiftKey?p():A();break;case"Home":C.preventDefault(),C.stopPropagation(),b();break;case"End":C.preventDefault(),C.stopPropagation(),x();break}(j=n.onDayKeyDown)===null||j===void 0||j.call(n,e,t,C)},w={onClick:v,onFocus:y,onBlur:N,onKeyDown:T,onKeyUp:E,onMouseEnter:P,onMouseLeave:M,onPointerEnter:k,onPointerLeave:D,onTouchCancel:O,onTouchEnd:L,onTouchMove:F,onTouchStart:_};return w}function Q1e(){var e=Nr(),t=Dz(),n=fk(),s=pk(),i=U1(e)?t.selected:k0(e)?n.selected:_0(e)?s.selected:void 0;return i}function z1e(e){return Object.values(Co).includes(e)}function V1e(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(s){var i=e.modifiersClassNames[s];if(i)n.push(i);else if(z1e(s)){var a=e.classNames["day_".concat(s)];a&&n.push(a)}}),n}function K1e(e,t){var n=fn({},e.styles.day);return Object.keys(t).forEach(function(s){var i;n=fn(fn({},n),(i=e.modifiersStyles)===null||i===void 0?void 0:i[s])}),n}function G1e(e,t,n){var s,i,a,o=Nr(),c=gk(),l=R1e(e,t),u=$1e(e,l),d=Q1e(),f=!!(o.onDayClick||o.mode!=="default");B.useEffect(function(){var P;l.outside||c.focusedDay&&f&&Ki(c.focusedDay,e)&&((P=n.current)===null||P===void 0||P.focus())},[c.focusedDay,e,n,f,l.outside]);var h=V1e(o,l).join(" "),m=K1e(o,l),A=!!(l.outside&&!o.showOutsideDays||l.hidden),g=(a=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:m1e,p=r.jsx(g,{date:e,displayMonth:t,activeModifiers:l}),b={style:m,className:h,children:p,role:"gridcell"},x=c.focusTarget&&Ki(c.focusTarget,e)&&!l.outside,v=c.focusedDay&&Ki(c.focusedDay,e),y=fn(fn(fn({},b),(s={disabled:l.disabled,role:"gridcell"},s["aria-selected"]=l.selected,s.tabIndex=v||x?0:-1,s)),u),N={isButton:f,isHidden:A,activeModifiers:l,selectedDays:d,buttonProps:y,divProps:b};return N}function W1e(e){var t=B.useRef(null),n=G1e(e.date,e.displayMonth,t);return n.isHidden?r.jsx("div",{role:"gridcell"}):n.isButton?r.jsx(Ey,fn({name:"day",ref:t},n.buttonProps)):r.jsx("div",fn({},n.divProps))}function q1e(e){var t=e.number,n=e.dates,s=Nr(),i=s.onWeekNumberClick,a=s.styles,o=s.classNames,c=s.locale,l=s.labels.labelWeekNumber,u=s.formatters.formatWeekNumber,d=u(Number(t),{locale:c});if(!i)return r.jsx("span",{className:o.weeknumber,style:a.weeknumber,children:d});var f=l(Number(t),{locale:c}),h=function(m){i(t,n,m)};return r.jsx(Ey,{name:"week-number","aria-label":f,className:o.weeknumber,style:a.weeknumber,onClick:h,children:d})}function X1e(e){var t,n,s=Nr(),i=s.styles,a=s.classNames,o=s.showWeekNumber,c=s.components,l=(t=c==null?void 0:c.Day)!==null&&t!==void 0?t:W1e,u=(n=c==null?void 0:c.WeekNumber)!==null&&n!==void 0?n:q1e,d;return o&&(d=r.jsx("td",{className:a.cell,style:i.cell,children:r.jsx(u,{number:e.weekNumber,dates:e.dates})})),r.jsxs("tr",{className:a.row,style:i.row,children:[d,e.dates.map(function(f){return r.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:r.jsx(l,{displayMonth:e.displayMonth,date:f})},Swe(f))})]})}function u8(e,t,n){for(var s=n!=null&&n.ISOWeek?xz(t):uk(t,n),i=n!=null&&n.ISOWeek?fh(e):fl(e,n),a=Zo(s,i),o=[],c=0;c<=a;c++)o.push(yi(i,c));var l=o.reduce(function(u,d){var f=n!=null&&n.ISOWeek?vz(d):wz(d,n),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return l}function Y1e(e,t){var n=u8(ta(e),ck(e),t);if(t!=null&&t.useFixedWeeks){var s=kwe(e,t);if(s<6){var i=n[n.length-1],a=i.dates[i.dates.length-1],o=xS(a,6-s),c=u8(xS(a,1),o,t);n.push.apply(n,c)}}return n}function Z1e(e){var t,n,s,i=Nr(),a=i.locale,o=i.classNames,c=i.styles,l=i.hideHead,u=i.fixedWeeks,d=i.components,f=i.weekStartsOn,h=i.firstWeekContainsDate,m=i.ISOWeek,A=Y1e(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:a,weekStartsOn:f,firstWeekContainsDate:h}),g=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:f1e,p=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:X1e,b=(s=d==null?void 0:d.Footer)!==null&&s!==void 0?s:u1e;return r.jsxs("table",{id:e.id,className:o.table,style:c.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!l&&r.jsx(g,{}),r.jsx("tbody",{className:o.tbody,style:c.tbody,children:A.map(function(x){return r.jsx(p,{displayMonth:e.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),r.jsx(b,{displayMonth:e.displayMonth})]})}function J1e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var e2e=J1e()?B.useLayoutEffect:B.useEffect,Gj=!1,t2e=0;function d8(){return"react-day-picker-".concat(++t2e)}function n2e(e){var t,n=e??(Gj?d8():null),s=B.useState(n),i=s[0],a=s[1];return e2e(function(){i===null&&a(d8())},[]),B.useEffect(function(){Gj===!1&&(Gj=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function r2e(e){var t,n,s=Nr(),i=s.dir,a=s.classNames,o=s.styles,c=s.components,l=B0().displayMonths,u=n2e(s.id?"".concat(s.id,"-").concat(e.displayIndex):void 0),d=s.id?"".concat(s.id,"-grid-").concat(e.displayIndex):void 0,f=[a.month],h=o.month,m=e.displayIndex===0,A=e.displayIndex===l.length-1,g=!m&&!A;i==="rtl"&&(t=[m,A],A=t[0],m=t[1]),m&&(f.push(a.caption_start),h=fn(fn({},h),o.caption_start)),A&&(f.push(a.caption_end),h=fn(fn({},h),o.caption_end)),g&&(f.push(a.caption_between),h=fn(fn({},h),o.caption_between));var p=(n=c==null?void 0:c.Caption)!==null&&n!==void 0?n:c1e;return r.jsxs("div",{className:f.join(" "),style:h,children:[r.jsx(p,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),r.jsx(Z1e,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function s2e(e){var t=Nr(),n=t.classNames,s=t.styles;return r.jsx("div",{className:n.months,style:s.months,children:e.children})}function i2e(e){var t,n,s=e.initialProps,i=Nr(),a=gk(),o=B0(),c=B.useState(!1),l=c[0],u=c[1];B.useEffect(function(){i.initialFocus&&a.focusTarget&&(l||(a.focus(a.focusTarget),u(!0)))},[i.initialFocus,l,a.focus,a.focusTarget,a]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var f=fn(fn({},i.styles.root),i.style),h=Object.keys(s).filter(function(A){return A.startsWith("data-")}).reduce(function(A,g){var p;return fn(fn({},A),(p={},p[g]=s[g],p))},{}),m=(n=(t=s.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:s2e;return r.jsx("div",fn({className:d.join(" "),style:f,dir:i.dir,id:i.id,nonce:s.nonce,title:s.title,lang:s.lang},h,{children:r.jsx(m,{children:o.displayMonths.map(function(A,g){return r.jsx(r2e,{displayIndex:g,displayMonth:A},g)})})}))}function a2e(e){var t=e.children,n=Bwe(e,["children"]);return r.jsx(qwe,{initialProps:n,children:r.jsx(i1e,{children:r.jsx(U1e,{initialProps:n,children:r.jsx(p1e,{initialProps:n,children:r.jsx(x1e,{initialProps:n,children:r.jsx(S1e,{children:r.jsx(F1e,{children:t})})})})})})})}function o2e(e){return r.jsx(a2e,fn({},e,{children:r.jsx(i2e,{initialProps:e})}))}function Iz({className:e,classNames:t,showOutsideDays:n=!0,...s}){return r.jsx(o2e,{showOutsideDays:n,className:Fe("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Fe(c4({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Fe(c4({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...i})=>r.jsx(ss,{className:"h-4 w-4"}),IconRight:({...i})=>r.jsx(jr,{className:"h-4 w-4"})},...s})}Iz.displayName="Calendar";var H1="Popover",[Oz,mUe]=qs(H1,[Qu]),E0=Qu(),[l2e,Ju]=Oz(H1),Lz=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,c=E0(t),l=B.useRef(null),[u,d]=B.useState(!1),[f,h]=na({prop:s,defaultProp:i??!1,onChange:a,caller:H1});return r.jsx(Ow,{...c,children:r.jsx(l2e,{scope:t,contentId:Yi(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:B.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:B.useCallback(()=>d(!0),[]),onCustomAnchorRemove:B.useCallback(()=>d(!1),[]),modal:o,children:n})})};Lz.displayName=H1;var Fz="PopoverAnchor",c2e=B.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Ju(Fz,n),a=E0(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:c}=i;return B.useEffect(()=>(o(),()=>c()),[o,c]),r.jsx(n0,{...a,...s,ref:t})});c2e.displayName=Fz;var Rz="PopoverTrigger",Uz=B.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Ju(Rz,n),a=E0(n),o=dn(t,i.triggerRef),c=r.jsx(Ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Vz(i.open),...s,ref:o,onClick:et(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?c:r.jsx(n0,{asChild:!0,...a,children:c})});Uz.displayName=Rz;var bk="PopoverPortal",[u2e,d2e]=Oz(bk,{forceMount:void 0}),Hz=e=>{const{__scopePopover:t,forceMount:n,children:s,container:i}=e,a=Ju(bk,t);return r.jsx(u2e,{scope:t,forceMount:n,children:r.jsx(_s,{present:n||a.open,children:r.jsx(Cm,{asChild:!0,container:i,children:s})})})};Hz.displayName=bk;var fm="PopoverContent",$z=B.forwardRef((e,t)=>{const n=d2e(fm,e.__scopePopover),{forceMount:s=n.forceMount,...i}=e,a=Ju(fm,e.__scopePopover);return r.jsx(_s,{present:s||a.open,children:a.modal?r.jsx(f2e,{...i,ref:t}):r.jsx(m2e,{...i,ref:t})})});$z.displayName=fm;var h2e=Tu("PopoverContent.RemoveScroll"),f2e=B.forwardRef((e,t)=>{const n=Ju(fm,e.__scopePopover),s=B.useRef(null),i=dn(t,s),a=B.useRef(!1);return B.useEffect(()=>{const o=s.current;if(o)return Gw(o)},[]),r.jsx(s0,{as:h2e,allowPinchZoom:!0,children:r.jsx(Qz,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:et(e.onCloseAutoFocus,o=>{var c;o.preventDefault(),a.current||(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:et(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0,u=c.button===2||l;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:et(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),m2e=B.forwardRef((e,t)=>{const n=Ju(fm,e.__scopePopover),s=B.useRef(!1),i=B.useRef(!1);return r.jsx(Qz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,c;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(s.current||(c=n.triggerRef.current)==null||c.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),Qz=B.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Ju(fm,n),m=E0(n);return Vw(),r.jsx(r0,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:r.jsx(Hu,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:c,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:r.jsx(Lw,{"data-state":Vz(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),zz="PopoverClose",p2e=B.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Ju(zz,n);return r.jsx(Ct.button,{type:"button",...s,ref:t,onClick:et(e.onClick,()=>i.onOpenChange(!1))})});p2e.displayName=zz;var A2e="PopoverArrow",g2e=B.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=E0(n);return r.jsx(Fw,{...i,...s,ref:t})});g2e.displayName=A2e;function Vz(e){return e?"open":"closed"}var x2e=Lz,b2e=Uz,v2e=Hz,Kz=$z;const y2e=x2e,w2e=b2e,Gz=B.forwardRef(({className:e,align:t="center",sideOffset:n=4,...s},i)=>r.jsx(v2e,{children:r.jsx(Kz,{ref:i,align:t,sideOffset:n,className:Fe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));Gz.displayName=Kz.displayName;var Wz={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},h8=je.createContext&&je.createContext(Wz),j2e=["attr","size","title"];function C2e(e,t){if(e==null)return{};var n=N2e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function N2e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Py(){return Py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Py.apply(this,arguments)}function f8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function My(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f8(Object(n),!0).forEach(function(s){S2e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f8(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function S2e(e,t,n){return t=T2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T2e(e){var t=k2e(e,"string");return typeof t=="symbol"?t:t+""}function k2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qz(e){return e&&e.map((t,n)=>je.createElement(t.tag,My({key:n},t.attr),qz(t.child)))}function Es(e){return t=>je.createElement(_2e,Py({attr:My({},e.attr)},t),qz(e.child))}function _2e(e){var t=n=>{var{attr:s,size:i,title:a}=e,o=C2e(e,j2e),c=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),je.createElement("svg",Py({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,o,{className:l,style:My(My({color:e.color||n.color},n.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&je.createElement("title",null,a),e.children)};return h8!==void 0?je.createElement(h8.Consumer,null,n=>t(n)):t(Wz)}function Dy(e){return Es({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function Xz(e){return Es({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 448h-80V113.45C544 86.19 522.47 64 496 64H384v64h96v384h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM312.24 1.01l-192 49.74C105.99 54.44 96 67.7 96 82.92V448H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h336V33.18c0-21.58-19.56-37.41-39.76-32.17zM264 288c-13.25 0-24-14.33-24-32s10.75-32 24-32 24 14.33 24 32-10.75 32-24 32z"},child:[]}]})(e)}function Aa(e){return Es({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function vS(e){return Es({attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"},child:[]}]})(e)}function wa(e){return Es({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function B2e(e){return Es({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function Wj(e){return Es({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(e)}function Cg(e){return Es({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function yS(e){return Es({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function Ha(e){return Es({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(e)}function mh(e){return Es({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function mm(e){return Es({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(e)}function ph(e){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ph(e)}function E2e(e,t){if(ph(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(ph(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yz(e){var t=E2e(e,"string");return ph(t)=="symbol"?t:t+""}function Zp(e,t,n){return(t=Yz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m8(Object(n),!0).forEach(function(s){Zp(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m8(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function P2e(e){if(Array.isArray(e))return e}function M2e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(s=a.call(n)).done)&&(c.push(s.value),c.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function wS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}function Zz(e,t){if(e){if(typeof e=="string")return wS(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wS(e,t):void 0}}function D2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zl(e,t){return P2e(e)||M2e(e,t)||Zz(e,t)||D2e()}function I2e(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function gc(e,t){if(e==null)return{};var n,s,i=I2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var O2e=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function L2e(e){var t=e.defaultInputValue,n=t===void 0?"":t,s=e.defaultMenuIsOpen,i=s===void 0?!1:s,a=e.defaultValue,o=a===void 0?null:a,c=e.inputValue,l=e.menuIsOpen,u=e.onChange,d=e.onInputChange,f=e.onMenuClose,h=e.onMenuOpen,m=e.value,A=gc(e,O2e),g=B.useState(c!==void 0?c:n),p=Zl(g,2),b=p[0],x=p[1],v=B.useState(l!==void 0?l:i),y=Zl(v,2),N=y[0],P=y[1],M=B.useState(m!==void 0?m:o),k=Zl(M,2),D=k[0],O=k[1],L=B.useCallback(function(j,S){typeof u=="function"&&u(j,S),O(j)},[u]),F=B.useCallback(function(j,S){var I;typeof d=="function"&&(I=d(j,S)),x(I!==void 0?I:j)},[d]),_=B.useCallback(function(){typeof h=="function"&&h(),P(!0)},[h]),E=B.useCallback(function(){typeof f=="function"&&f(),P(!1)},[f]),T=c!==void 0?c:b,w=l!==void 0?l:N,C=m!==void 0?m:D;return sn(sn({},A),{},{inputValue:T,menuIsOpen:w,onChange:L,onInputChange:F,onMenuClose:E,onMenuOpen:_,value:C})}function on(){return on=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},on.apply(null,arguments)}function F2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p8(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Yz(s.key),s)}}function R2e(e,t,n){return t&&p8(e.prototype,t),n&&p8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jS(e,t){return jS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},jS(e,t)}function U2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jS(e,t)}function Iy(e){return Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Iy(e)}function Jz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jz=function(){return!!e})()}function H2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $2e(e,t){if(t&&(ph(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H2e(e)}function Q2e(e){var t=Jz();return function(){var n,s=Iy(e);if(t){var i=Iy(this).constructor;n=Reflect.construct(s,arguments,i)}else n=s.apply(this,arguments);return $2e(this,n)}}function z2e(e){if(Array.isArray(e))return wS(e)}function V2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function K2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vk(e){return z2e(e)||V2e(e)||Zz(e)||K2e()}function G2e(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function W2e(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var q2e=function(){function e(n){var s=this;this._insertTag=function(i){var a;s.tags.length===0?s.insertionPoint?a=s.insertionPoint.nextSibling:s.prepend?a=s.container.firstChild:a=s.before:a=s.tags[s.tags.length-1].nextSibling,s.container.insertBefore(i,a),s.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(s){s.forEach(this._insertTag)},t.insert=function(s){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(W2e(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=G2e(i);try{a.insertRule(s,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(s));this.ctr++},t.flush=function(){this.tags.forEach(function(s){var i;return(i=s.parentNode)==null?void 0:i.removeChild(s)}),this.tags=[],this.ctr=0},e}(),ti="-ms-",Oy="-moz-",tr="-webkit-",eV="comm",yk="rule",wk="decl",X2e="@import",tV="@keyframes",Y2e="@layer",Z2e=Math.abs,$1=String.fromCharCode,J2e=Object.assign;function eje(e,t){return zs(e,0)^45?(((t<<2^zs(e,0))<<2^zs(e,1))<<2^zs(e,2))<<2^zs(e,3):0}function nV(e){return e.trim()}function tje(e,t){return(e=t.exec(e))?e[0]:e}function nr(e,t,n){return e.replace(t,n)}function CS(e,t){return e.indexOf(t)}function zs(e,t){return e.charCodeAt(t)|0}function Ng(e,t,n){return e.slice(t,n)}function $o(e){return e.length}function jk(e){return e.length}function Sx(e,t){return t.push(e),e}function nje(e,t){return e.map(t).join("")}var Q1=1,pm=1,rV=0,sa=0,xs=0,Vm="";function z1(e,t,n,s,i,a,o){return{value:e,root:t,parent:n,type:s,props:i,children:a,line:Q1,column:pm,length:o,return:""}}function Cp(e,t){return J2e(z1("",null,null,"",null,null,0),e,{length:-e.length},t)}function rje(){return xs}function sje(){return xs=sa>0?zs(Vm,--sa):0,pm--,xs===10&&(pm=1,Q1--),xs}function ga(){return xs=sa<rV?zs(Vm,sa++):0,pm++,xs===10&&(pm=1,Q1++),xs}function ll(){return zs(Vm,sa)}function ev(){return sa}function P0(e,t){return Ng(Vm,e,t)}function Sg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function sV(e){return Q1=pm=1,rV=$o(Vm=e),sa=0,[]}function iV(e){return Vm="",e}function tv(e){return nV(P0(sa-1,NS(e===91?e+2:e===40?e+1:e)))}function ije(e){for(;(xs=ll())&&xs<33;)ga();return Sg(e)>2||Sg(xs)>3?"":" "}function aje(e,t){for(;--t&&ga()&&!(xs<48||xs>102||xs>57&&xs<65||xs>70&&xs<97););return P0(e,ev()+(t<6&&ll()==32&&ga()==32))}function NS(e){for(;ga();)switch(xs){case e:return sa;case 34:case 39:e!==34&&e!==39&&NS(xs);break;case 40:e===41&&NS(e);break;case 92:ga();break}return sa}function oje(e,t){for(;ga()&&e+xs!==57;)if(e+xs===84&&ll()===47)break;return"/*"+P0(t,sa-1)+"*"+$1(e===47?e:ga())}function lje(e){for(;!Sg(ll());)ga();return P0(e,sa)}function cje(e){return iV(nv("",null,null,null,[""],e=sV(e),0,[0],e))}function nv(e,t,n,s,i,a,o,c,l){for(var u=0,d=0,f=o,h=0,m=0,A=0,g=1,p=1,b=1,x=0,v="",y=i,N=a,P=s,M=v;p;)switch(A=x,x=ga()){case 40:if(A!=108&&zs(M,f-1)==58){CS(M+=nr(tv(x),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:M+=tv(x);break;case 9:case 10:case 13:case 32:M+=ije(A);break;case 92:M+=aje(ev()-1,7);continue;case 47:switch(ll()){case 42:case 47:Sx(uje(oje(ga(),ev()),t,n),l);break;default:M+="/"}break;case 123*g:c[u++]=$o(M)*b;case 125*g:case 59:case 0:switch(x){case 0:case 125:p=0;case 59+d:b==-1&&(M=nr(M,/\f/g,"")),m>0&&$o(M)-f&&Sx(m>32?g8(M+";",s,n,f-1):g8(nr(M," ","")+";",s,n,f-2),l);break;case 59:M+=";";default:if(Sx(P=A8(M,t,n,u,d,i,c,v,y=[],N=[],f),a),x===123)if(d===0)nv(M,t,P,P,y,a,f,c,N);else switch(h===99&&zs(M,3)===110?100:h){case 100:case 108:case 109:case 115:nv(e,P,P,s&&Sx(A8(e,P,P,0,0,i,c,v,i,y=[],f),N),i,N,f,c,s?y:N);break;default:nv(M,P,P,P,[""],N,0,c,N)}}u=d=m=0,g=b=1,v=M="",f=o;break;case 58:f=1+$o(M),m=A;default:if(g<1){if(x==123)--g;else if(x==125&&g++==0&&sje()==125)continue}switch(M+=$1(x),x*g){case 38:b=d>0?1:(M+="\f",-1);break;case 44:c[u++]=($o(M)-1)*b,b=1;break;case 64:ll()===45&&(M+=tv(ga())),h=ll(),d=f=$o(v=M+=lje(ev())),x++;break;case 45:A===45&&$o(M)==2&&(g=0)}}return a}function A8(e,t,n,s,i,a,o,c,l,u,d){for(var f=i-1,h=i===0?a:[""],m=jk(h),A=0,g=0,p=0;A<s;++A)for(var b=0,x=Ng(e,f+1,f=Z2e(g=o[A])),v=e;b<m;++b)(v=nV(g>0?h[b]+" "+x:nr(x,/&\f/g,h[b])))&&(l[p++]=v);return z1(e,t,n,i===0?yk:c,l,u,d)}function uje(e,t,n){return z1(e,t,n,eV,$1(rje()),Ng(e,2,-2),0)}function g8(e,t,n,s){return z1(e,t,n,wk,Ng(e,0,s),Ng(e,s+1,-1),s)}function Mf(e,t){for(var n="",s=jk(e),i=0;i<s;i++)n+=t(e[i],i,e,t)||"";return n}function dje(e,t,n,s){switch(e.type){case Y2e:if(e.children.length)break;case X2e:case wk:return e.return=e.return||e.value;case eV:return"";case tV:return e.return=e.value+"{"+Mf(e.children,s)+"}";case yk:e.value=e.props.join(",")}return $o(n=Mf(e.children,s))?e.return=e.value+"{"+n+"}":""}function hje(e){var t=jk(e);return function(n,s,i,a){for(var o="",c=0;c<t;c++)o+=e[c](n,s,i,a)||"";return o}}function fje(e){return function(t){t.root||(t=t.return)&&e(t)}}function mje(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var pje=function(t,n,s){for(var i=0,a=0;i=a,a=ll(),i===38&&a===12&&(n[s]=1),!Sg(a);)ga();return P0(t,sa)},Aje=function(t,n){var s=-1,i=44;do switch(Sg(i)){case 0:i===38&&ll()===12&&(n[s]=1),t[s]+=pje(sa-1,n,s);break;case 2:t[s]+=tv(i);break;case 4:if(i===44){t[++s]=ll()===58?"&\f":"",n[s]=t[s].length;break}default:t[s]+=$1(i)}while(i=ga());return t},gje=function(t,n){return iV(Aje(sV(t),n))},x8=new WeakMap,xje=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,s=t.parent,i=t.column===s.column&&t.line===s.line;s.type!=="rule";)if(s=s.parent,!s)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!x8.get(s))&&!i){x8.set(t,!0);for(var a=[],o=gje(n,a),c=s.props,l=0,u=0;l<o.length;l++)for(var d=0;d<c.length;d++,u++)t.props[u]=a[l]?o[l].replace(/&\f/g,c[d]):c[d]+" "+o[l]}}},bje=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function aV(e,t){switch(eje(e,t)){case 5103:return tr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return tr+e+Oy+e+ti+e+e;case 6828:case 4268:return tr+e+ti+e+e;case 6165:return tr+e+ti+"flex-"+e+e;case 5187:return tr+e+nr(e,/(\w+).+(:[^]+)/,tr+"box-$1$2"+ti+"flex-$1$2")+e;case 5443:return tr+e+ti+"flex-item-"+nr(e,/flex-|-self/,"")+e;case 4675:return tr+e+ti+"flex-line-pack"+nr(e,/align-content|flex-|-self/,"")+e;case 5548:return tr+e+ti+nr(e,"shrink","negative")+e;case 5292:return tr+e+ti+nr(e,"basis","preferred-size")+e;case 6060:return tr+"box-"+nr(e,"-grow","")+tr+e+ti+nr(e,"grow","positive")+e;case 4554:return tr+nr(e,/([^-])(transform)/g,"$1"+tr+"$2")+e;case 6187:return nr(nr(nr(e,/(zoom-|grab)/,tr+"$1"),/(image-set)/,tr+"$1"),e,"")+e;case 5495:case 3959:return nr(e,/(image-set\([^]*)/,tr+"$1$`$1");case 4968:return nr(nr(e,/(.+:)(flex-)?(.*)/,tr+"box-pack:$3"+ti+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tr+e+e;case 4095:case 3583:case 4068:case 2532:return nr(e,/(.+)-inline(.+)/,tr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if($o(e)-1-t>6)switch(zs(e,t+1)){case 109:if(zs(e,t+4)!==45)break;case 102:return nr(e,/(.+:)(.+)-([^]+)/,"$1"+tr+"$2-$3$1"+Oy+(zs(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~CS(e,"stretch")?aV(nr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(zs(e,t+1)!==115)break;case 6444:switch(zs(e,$o(e)-3-(~CS(e,"!important")&&10))){case 107:return nr(e,":",":"+tr)+e;case 101:return nr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+tr+(zs(e,14)===45?"inline-":"")+"box$3$1"+tr+"$2$3$1"+ti+"$2box$3")+e}break;case 5936:switch(zs(e,t+11)){case 114:return tr+e+ti+nr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return tr+e+ti+nr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return tr+e+ti+nr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return tr+e+ti+e+e}return e}var vje=function(t,n,s,i){if(t.length>-1&&!t.return)switch(t.type){case wk:t.return=aV(t.value,t.length);break;case tV:return Mf([Cp(t,{value:nr(t.value,"@","@"+tr)})],i);case yk:if(t.length)return nje(t.props,function(a){switch(tje(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Mf([Cp(t,{props:[nr(a,/:(read-\w+)/,":"+Oy+"$1")]})],i);case"::placeholder":return Mf([Cp(t,{props:[nr(a,/:(plac\w+)/,":"+tr+"input-$1")]}),Cp(t,{props:[nr(a,/:(plac\w+)/,":"+Oy+"$1")]}),Cp(t,{props:[nr(a,/:(plac\w+)/,ti+"input-$1")]})],i)}return""})}},yje=[vje],wje=function(t){var n=t.key;if(n==="css"){var s=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(s,function(g){var p=g.getAttribute("data-emotion");p.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=t.stylisPlugins||yje,a={},o,c=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var p=g.getAttribute("data-emotion").split(" "),b=1;b<p.length;b++)a[p[b]]=!0;c.push(g)});var l,u=[xje,bje];{var d,f=[dje,fje(function(g){d.insert(g)})],h=hje(u.concat(i,f)),m=function(p){return Mf(cje(p),h)};l=function(p,b,x,v){d=x,m(p?p+"{"+b.styles+"}":b.styles),v&&(A.inserted[b.name]=!0)}}var A={key:n,sheet:new q2e({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:l};return A.sheet.hydrate(c),A},jje=!0;function Cje(e,t,n){var s="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(s+=i+" ")}),s}var oV=function(t,n,s){var i=t.key+"-"+n.name;(s===!1||jje===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},Nje=function(t,n,s){oV(t,n,s);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var a=n;do t.insert(n===a?"."+i:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function Sje(e){for(var t=0,n,s=0,i=e.length;i>=4;++s,i-=4)n=e.charCodeAt(s)&255|(e.charCodeAt(++s)&255)<<8|(e.charCodeAt(++s)&255)<<16|(e.charCodeAt(++s)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(s+2)&255)<<16;case 2:t^=(e.charCodeAt(s+1)&255)<<8;case 1:t^=e.charCodeAt(s)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Tje={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},kje=/[A-Z]|^ms/g,_je=/_EMO_([^_]+?)_([^]*?)_EMO_/g,lV=function(t){return t.charCodeAt(1)===45},b8=function(t){return t!=null&&typeof t!="boolean"},qj=mje(function(e){return lV(e)?e:e.replace(kje,"-$&").toLowerCase()}),v8=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(_je,function(s,i,a){return Qo={name:i,styles:a,next:Qo},i})}return Tje[t]!==1&&!lV(t)&&typeof n=="number"&&n!==0?n+"px":n};function Tg(e,t,n){if(n==null)return"";var s=n;if(s.__emotion_styles!==void 0)return s;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Qo={name:i.name,styles:i.styles,next:Qo},i.name;var a=n;if(a.styles!==void 0){var o=a.next;if(o!==void 0)for(;o!==void 0;)Qo={name:o.name,styles:o.styles,next:Qo},o=o.next;var c=a.styles+";";return c}return Bje(e,t,n)}case"function":{if(e!==void 0){var l=Qo,u=n(e);return Qo=l,Tg(e,t,u)}break}}var d=n;return d}function Bje(e,t,n){var s="";if(Array.isArray(n))for(var i=0;i<n.length;i++)s+=Tg(e,t,n[i])+";";else for(var a in n){var o=n[a];if(typeof o!="object"){var c=o;b8(c)&&(s+=qj(a)+":"+v8(a,c)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&t==null)for(var l=0;l<o.length;l++)b8(o[l])&&(s+=qj(a)+":"+v8(a,o[l])+";");else{var u=Tg(e,t,o);switch(a){case"animation":case"animationName":{s+=qj(a)+":"+u+";";break}default:s+=a+"{"+u+"}"}}}return s}var y8=/label:\s*([^\s;{]+)\s*(;|$)/g,Qo;function cV(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var s=!0,i="";Qo=void 0;var a=e[0];if(a==null||a.raw===void 0)s=!1,i+=Tg(n,t,a);else{var o=a;i+=o[0]}for(var c=1;c<e.length;c++)if(i+=Tg(n,t,e[c]),s){var l=a;i+=l[c]}y8.lastIndex=0;for(var u="",d;(d=y8.exec(i))!==null;)u+="-"+d[1];var f=Sje(i)+u;return{name:f,styles:i,next:Qo}}var Eje=function(t){return t()},Pje=RA.useInsertionEffect?RA.useInsertionEffect:!1,Mje=Pje||Eje,uV=B.createContext(typeof HTMLElement<"u"?wje({key:"css"}):null);uV.Provider;var Dje=function(t){return B.forwardRef(function(n,s){var i=B.useContext(uV);return t(n,i,s)})},Ije=B.createContext({}),Ck={}.hasOwnProperty,SS="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Oje=function(t,n){var s={};for(var i in n)Ck.call(n,i)&&(s[i]=n[i]);return s[SS]=t,s},Lje=function(t){var n=t.cache,s=t.serialized,i=t.isStringTag;return oV(n,s,i),Mje(function(){return Nje(n,s,i)}),null},Fje=Dje(function(e,t,n){var s=e.css;typeof s=="string"&&t.registered[s]!==void 0&&(s=t.registered[s]);var i=e[SS],a=[s],o="";typeof e.className=="string"?o=Cje(t.registered,a,e.className):e.className!=null&&(o=e.className+" ");var c=cV(a,void 0,B.useContext(Ije));o+=t.key+"-"+c.name;var l={};for(var u in e)Ck.call(e,u)&&u!=="css"&&u!==SS&&(l[u]=e[u]);return l.className=o,n&&(l.ref=n),B.createElement(B.Fragment,null,B.createElement(Lje,{cache:t,serialized:c,isStringTag:typeof i=="string"}),B.createElement(i,l))}),Rje=Fje,Zt=function(t,n){var s=arguments;if(n==null||!Ck.call(n,"css"))return B.createElement.apply(void 0,s);var i=s.length,a=new Array(i);a[0]=Rje,a[1]=Oje(t,n);for(var o=2;o<i;o++)a[o]=s[o];return B.createElement.apply(null,a)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(Zt||(Zt={}));function Nk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return cV(t)}function Uje(){var e=Nk.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Hje(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var TS=B.useLayoutEffect,$je=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Ly=function(){};function Qje(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function zje(e,t){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i];var a=[].concat(s);if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&a.push("".concat(Qje(e,o)));return a.filter(function(c){return c}).map(function(c){return String(c).trim()}).join(" ")}var w8=function(t){return Jje(t)?t.filter(Boolean):ph(t)==="object"&&t!==null?[t]:[]},dV=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var n=gc(t,$je);return sn({},n)},rs=function(t,n,s){var i=t.cx,a=t.getStyles,o=t.getClassNames,c=t.className;return{css:a(n,t),className:i(s??{},o(n,t),c)}};function V1(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Vje(e){return V1(e)?window.innerHeight:e.clientHeight}function hV(e){return V1(e)?window.pageYOffset:e.scrollTop}function Fy(e,t){if(V1(e)){window.scrollTo(0,t);return}e.scrollTop=t}function Kje(e){var t=getComputedStyle(e),n=t.position==="absolute",s=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),!(n&&t.position==="static")&&s.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}function Gje(e,t,n,s){return n*((e=e/s-1)*e*e+1)+t}function Tx(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ly,i=hV(e),a=t-i,o=10,c=0;function l(){c+=o;var u=Gje(c,i,a,n);Fy(e,u),c<n?window.requestAnimationFrame(l):s(e)}l()}function j8(e,t){var n=e.getBoundingClientRect(),s=t.getBoundingClientRect(),i=t.offsetHeight/3;s.bottom+i>n.bottom?Fy(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):s.top-i<n.top&&Fy(e,Math.max(t.offsetTop-i,0))}function Wje(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function C8(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function qje(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var fV=!1,Xje={get passive(){return fV=!0}},kx=typeof window<"u"?window:{};kx.addEventListener&&kx.removeEventListener&&(kx.addEventListener("p",Ly,Xje),kx.removeEventListener("p",Ly,!1));var Yje=fV;function Zje(e){return e!=null}function Jje(e){return Array.isArray(e)}function _x(e,t,n){return e?t:n}var eCe=function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];var a=Object.entries(t).filter(function(o){var c=Zl(o,1),l=c[0];return!s.includes(l)});return a.reduce(function(o,c){var l=Zl(c,2),u=l[0],d=l[1];return o[u]=d,o},{})},tCe=["children","innerProps"],nCe=["children","innerProps"];function rCe(e){var t=e.maxHeight,n=e.menuEl,s=e.minHeight,i=e.placement,a=e.shouldScroll,o=e.isFixedPosition,c=e.controlHeight,l=Kje(n),u={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return u;var d=l.getBoundingClientRect(),f=d.height,h=n.getBoundingClientRect(),m=h.bottom,A=h.height,g=h.top,p=n.offsetParent.getBoundingClientRect(),b=p.top,x=o?window.innerHeight:Vje(l),v=hV(l),y=parseInt(getComputedStyle(n).marginBottom,10),N=parseInt(getComputedStyle(n).marginTop,10),P=b-N,M=x-g,k=P+v,D=f-v-g,O=m-x+v+y,L=v+g-N,F=160;switch(i){case"auto":case"bottom":if(M>=A)return{placement:"bottom",maxHeight:t};if(D>=A&&!o)return a&&Tx(l,O,F),{placement:"bottom",maxHeight:t};if(!o&&D>=s||o&&M>=s){a&&Tx(l,O,F);var _=o?M-y:D-y;return{placement:"bottom",maxHeight:_}}if(i==="auto"||o){var E=t,T=o?P:k;return T>=s&&(E=Math.min(T-y-c,t)),{placement:"top",maxHeight:E}}if(i==="bottom")return a&&Fy(l,O),{placement:"bottom",maxHeight:t};break;case"top":if(P>=A)return{placement:"top",maxHeight:t};if(k>=A&&!o)return a&&Tx(l,L,F),{placement:"top",maxHeight:t};if(!o&&k>=s||o&&P>=s){var w=t;return(!o&&k>=s||o&&P>=s)&&(w=o?P-N:k-N),a&&Tx(l,L,F),{placement:"top",maxHeight:w}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return u}function sCe(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var mV=function(t){return t==="auto"?"bottom":t},iCe=function(t,n){var s,i=t.placement,a=t.theme,o=a.borderRadius,c=a.spacing,l=a.colors;return sn((s={label:"menu"},Zp(s,sCe(i),"100%"),Zp(s,"position","absolute"),Zp(s,"width","100%"),Zp(s,"zIndex",1),s),n?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:c.menuGutter,marginTop:c.menuGutter})},pV=B.createContext(null),aCe=function(t){var n=t.children,s=t.minMenuHeight,i=t.maxMenuHeight,a=t.menuPlacement,o=t.menuPosition,c=t.menuShouldScrollIntoView,l=t.theme,u=B.useContext(pV)||{},d=u.setPortalPlacement,f=B.useRef(null),h=B.useState(i),m=Zl(h,2),A=m[0],g=m[1],p=B.useState(null),b=Zl(p,2),x=b[0],v=b[1],y=l.spacing.controlHeight;return TS(function(){var N=f.current;if(N){var P=o==="fixed",M=c&&!P,k=rCe({maxHeight:i,menuEl:N,minHeight:s,placement:a,shouldScroll:M,isFixedPosition:P,controlHeight:y});g(k.maxHeight),v(k.placement),d==null||d(k.placement)}},[i,a,o,c,s,d,y]),n({ref:f,placerProps:sn(sn({},t),{},{placement:x||mV(a),maxHeight:A})})},oCe=function(t){var n=t.children,s=t.innerRef,i=t.innerProps;return Zt("div",on({},rs(t,"menu",{menu:!0}),{ref:s},i),n)},lCe=oCe,cCe=function(t,n){var s=t.maxHeight,i=t.theme.spacing.baseUnit;return sn({maxHeight:s,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},uCe=function(t){var n=t.children,s=t.innerProps,i=t.innerRef,a=t.isMulti;return Zt("div",on({},rs(t,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:i},s),n)},AV=function(t,n){var s=t.theme,i=s.spacing.baseUnit,a=s.colors;return sn({textAlign:"center"},n?{}:{color:a.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},dCe=AV,hCe=AV,fCe=function(t){var n=t.children,s=n===void 0?"No options":n,i=t.innerProps,a=gc(t,tCe);return Zt("div",on({},rs(sn(sn({},a),{},{children:s,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),s)},mCe=function(t){var n=t.children,s=n===void 0?"Loading...":n,i=t.innerProps,a=gc(t,nCe);return Zt("div",on({},rs(sn(sn({},a),{},{children:s,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),s)},pCe=function(t){var n=t.rect,s=t.offset,i=t.position;return{left:n.left,position:i,top:s,width:n.width,zIndex:1}},ACe=function(t){var n=t.appendTo,s=t.children,i=t.controlElement,a=t.innerProps,o=t.menuPlacement,c=t.menuPosition,l=B.useRef(null),u=B.useRef(null),d=B.useState(mV(o)),f=Zl(d,2),h=f[0],m=f[1],A=B.useMemo(function(){return{setPortalPlacement:m}},[]),g=B.useState(null),p=Zl(g,2),b=p[0],x=p[1],v=B.useCallback(function(){if(i){var M=Wje(i),k=c==="fixed"?0:window.pageYOffset,D=M[h]+k;(D!==(b==null?void 0:b.offset)||M.left!==(b==null?void 0:b.rect.left)||M.width!==(b==null?void 0:b.rect.width))&&x({offset:D,rect:M})}},[i,c,h,b==null?void 0:b.offset,b==null?void 0:b.rect.left,b==null?void 0:b.rect.width]);TS(function(){v()},[v]);var y=B.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),i&&l.current&&(u.current=ZL(i,l.current,v,{elementResize:"ResizeObserver"in window}))},[i,v]);TS(function(){y()},[y]);var N=B.useCallback(function(M){l.current=M,y()},[y]);if(!n&&c!=="fixed"||!b)return null;var P=Zt("div",on({ref:N},rs(sn(sn({},t),{},{offset:b.offset,position:c,rect:b.rect}),"menuPortal",{"menu-portal":!0}),a),s);return Zt(pV.Provider,{value:A},n?bo.createPortal(P,n):P)},gCe=function(t){var n=t.isDisabled,s=t.isRtl;return{label:"container",direction:s?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},xCe=function(t){var n=t.children,s=t.innerProps,i=t.isDisabled,a=t.isRtl;return Zt("div",on({},rs(t,"container",{"--is-disabled":i,"--is-rtl":a}),s),n)},bCe=function(t,n){var s=t.theme.spacing,i=t.isMulti,a=t.hasValue,o=t.selectProps.controlShouldRenderValue;return sn({alignItems:"center",display:i&&a&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(s.baseUnit/2,"px ").concat(s.baseUnit*2,"px")})},vCe=function(t){var n=t.children,s=t.innerProps,i=t.isMulti,a=t.hasValue;return Zt("div",on({},rs(t,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":a}),s),n)},yCe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},wCe=function(t){var n=t.children,s=t.innerProps;return Zt("div",on({},rs(t,"indicatorsContainer",{indicators:!0}),s),n)},N8,jCe=["size"],CCe=["innerProps","isRtl","size"],NCe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},gV=function(t){var n=t.size,s=gc(t,jCe);return Zt("svg",on({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:NCe},s))},Sk=function(t){return Zt(gV,on({size:20},t),Zt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},xV=function(t){return Zt(gV,on({size:20},t),Zt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},bV=function(t,n){var s=t.isFocused,i=t.theme,a=i.spacing.baseUnit,o=i.colors;return sn({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:s?o.neutral60:o.neutral20,padding:a*2,":hover":{color:s?o.neutral80:o.neutral40}})},SCe=bV,TCe=function(t){var n=t.children,s=t.innerProps;return Zt("div",on({},rs(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),s),n||Zt(xV,null))},kCe=bV,_Ce=function(t){var n=t.children,s=t.innerProps;return Zt("div",on({},rs(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),s),n||Zt(Sk,null))},BCe=function(t,n){var s=t.isDisabled,i=t.theme,a=i.spacing.baseUnit,o=i.colors;return sn({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:s?o.neutral10:o.neutral20,marginBottom:a*2,marginTop:a*2})},ECe=function(t){var n=t.innerProps;return Zt("span",on({},n,rs(t,"indicatorSeparator",{"indicator-separator":!0})))},PCe=Uje(N8||(N8=Hje([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),MCe=function(t,n){var s=t.isFocused,i=t.size,a=t.theme,o=a.colors,c=a.spacing.baseUnit;return sn({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:s?o.neutral60:o.neutral20,padding:c*2})},Xj=function(t){var n=t.delay,s=t.offset;return Zt("span",{css:Nk({animation:"".concat(PCe," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:s?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},DCe=function(t){var n=t.innerProps,s=t.isRtl,i=t.size,a=i===void 0?4:i,o=gc(t,CCe);return Zt("div",on({},rs(sn(sn({},o),{},{innerProps:n,isRtl:s,size:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),Zt(Xj,{delay:0,offset:s}),Zt(Xj,{delay:160,offset:!0}),Zt(Xj,{delay:320,offset:!s}))},ICe=function(t,n){var s=t.isDisabled,i=t.isFocused,a=t.theme,o=a.colors,c=a.borderRadius,l=a.spacing;return sn({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:s?o.neutral5:o.neutral0,borderColor:s?o.neutral10:i?o.primary:o.neutral20,borderRadius:c,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},OCe=function(t){var n=t.children,s=t.isDisabled,i=t.isFocused,a=t.innerRef,o=t.innerProps,c=t.menuIsOpen;return Zt("div",on({ref:a},rs(t,"control",{control:!0,"control--is-disabled":s,"control--is-focused":i,"control--menu-is-open":c}),o,{"aria-disabled":s||void 0}),n)},LCe=OCe,FCe=["data"],RCe=function(t,n){var s=t.theme.spacing;return n?{}:{paddingBottom:s.baseUnit*2,paddingTop:s.baseUnit*2}},UCe=function(t){var n=t.children,s=t.cx,i=t.getStyles,a=t.getClassNames,o=t.Heading,c=t.headingProps,l=t.innerProps,u=t.label,d=t.theme,f=t.selectProps;return Zt("div",on({},rs(t,"group",{group:!0}),l),Zt(o,on({},c,{selectProps:f,theme:d,getStyles:i,getClassNames:a,cx:s}),u),Zt("div",null,n))},HCe=function(t,n){var s=t.theme,i=s.colors,a=s.spacing;return sn({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:a.baseUnit*3,paddingRight:a.baseUnit*3,textTransform:"uppercase"})},$Ce=function(t){var n=dV(t);n.data;var s=gc(n,FCe);return Zt("div",on({},rs(t,"groupHeading",{"group-heading":!0}),s))},QCe=UCe,zCe=["innerRef","isDisabled","isHidden","inputClassName"],VCe=function(t,n){var s=t.isDisabled,i=t.value,a=t.theme,o=a.spacing,c=a.colors;return sn(sn({visibility:s?"hidden":"visible",transform:i?"translateZ(0)":""},KCe),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:c.neutral80})},vV={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},KCe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":sn({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},vV)},GCe=function(t){return sn({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},vV)},WCe=function(t){var n=t.cx,s=t.value,i=dV(t),a=i.innerRef,o=i.isDisabled,c=i.isHidden,l=i.inputClassName,u=gc(i,zCe);return Zt("div",on({},rs(t,"input",{"input-container":!0}),{"data-value":s||""}),Zt("input",on({className:n({input:!0},l),ref:a,style:GCe(c),disabled:o},u)))},qCe=WCe,XCe=function(t,n){var s=t.theme,i=s.spacing,a=s.borderRadius,o=s.colors;return sn({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:a/2,margin:i.baseUnit/2})},YCe=function(t,n){var s=t.theme,i=s.borderRadius,a=s.colors,o=t.cropWithEllipsis;return sn({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},ZCe=function(t,n){var s=t.theme,i=s.spacing,a=s.borderRadius,o=s.colors,c=t.isFocused;return sn({alignItems:"center",display:"flex"},n?{}:{borderRadius:a/2,backgroundColor:c?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},yV=function(t){var n=t.children,s=t.innerProps;return Zt("div",s,n)},JCe=yV,eNe=yV;function tNe(e){var t=e.children,n=e.innerProps;return Zt("div",on({role:"button"},n),t||Zt(Sk,{size:14}))}var nNe=function(t){var n=t.children,s=t.components,i=t.data,a=t.innerProps,o=t.isDisabled,c=t.removeProps,l=t.selectProps,u=s.Container,d=s.Label,f=s.Remove;return Zt(u,{data:i,innerProps:sn(sn({},rs(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),a),selectProps:l},Zt(d,{data:i,innerProps:sn({},rs(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),Zt(f,{data:i,innerProps:sn(sn({},rs(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},c),selectProps:l}))},rNe=nNe,sNe=function(t,n){var s=t.isDisabled,i=t.isFocused,a=t.isSelected,o=t.theme,c=o.spacing,l=o.colors;return sn({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:a?l.primary:i?l.primary25:"transparent",color:s?l.neutral20:a?l.neutral0:"inherit",padding:"".concat(c.baseUnit*2,"px ").concat(c.baseUnit*3,"px"),":active":{backgroundColor:s?void 0:a?l.primary:l.primary50}})},iNe=function(t){var n=t.children,s=t.isDisabled,i=t.isFocused,a=t.isSelected,o=t.innerRef,c=t.innerProps;return Zt("div",on({},rs(t,"option",{option:!0,"option--is-disabled":s,"option--is-focused":i,"option--is-selected":a}),{ref:o,"aria-disabled":s},c),n)},aNe=iNe,oNe=function(t,n){var s=t.theme,i=s.spacing,a=s.colors;return sn({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:a.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},lNe=function(t){var n=t.children,s=t.innerProps;return Zt("div",on({},rs(t,"placeholder",{placeholder:!0}),s),n)},cNe=lNe,uNe=function(t,n){var s=t.isDisabled,i=t.theme,a=i.spacing,o=i.colors;return sn({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:s?o.neutral40:o.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},dNe=function(t){var n=t.children,s=t.isDisabled,i=t.innerProps;return Zt("div",on({},rs(t,"singleValue",{"single-value":!0,"single-value--is-disabled":s}),i),n)},hNe=dNe,fNe={ClearIndicator:_Ce,Control:LCe,DropdownIndicator:TCe,DownChevron:xV,CrossIcon:Sk,Group:QCe,GroupHeading:$Ce,IndicatorsContainer:wCe,IndicatorSeparator:ECe,Input:qCe,LoadingIndicator:DCe,Menu:lCe,MenuList:uCe,MenuPortal:ACe,LoadingMessage:mCe,NoOptionsMessage:fCe,MultiValue:rNe,MultiValueContainer:JCe,MultiValueLabel:eNe,MultiValueRemove:tNe,Option:aNe,Placeholder:cNe,SelectContainer:xCe,SingleValue:hNe,ValueContainer:vCe},mNe=function(t){return sn(sn({},fNe),t.components)},S8=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function pNe(e,t){return!!(e===t||S8(e)&&S8(t))}function ANe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!pNe(e[n],t[n]))return!1;return!0}function gNe(e,t){t===void 0&&(t=ANe);var n=null;function s(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var o=e.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return s.clear=function(){n=null},s}var xNe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},bNe=function(t){return Zt("span",on({css:xNe},t))},T8=bNe,vNe={guidance:function(t){var n=t.isSearchable,s=t.isMulti,i=t.tabSelectsValue,a=t.context,o=t.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(t["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(s?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var n=t.action,s=t.label,i=s===void 0?"":s,a=t.labels,o=t.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(t){var n=t.context,s=t.focused,i=t.options,a=t.label,o=a===void 0?"":a,c=t.selectValue,l=t.isDisabled,u=t.isSelected,d=t.isAppleDevice,f=function(g,p){return g&&g.length?"".concat(g.indexOf(p)+1," of ").concat(g.length):""};if(n==="value"&&c)return"value ".concat(o," focused, ").concat(f(c,s),".");if(n==="menu"&&d){var h=l?" disabled":"",m="".concat(u?" selected":"").concat(h);return"".concat(o).concat(m,", ").concat(f(i,s),".")}return""},onFilter:function(t){var n=t.inputValue,s=t.resultsMessage;return"".concat(s).concat(n?" for search term "+n:"",".")}},yNe=function(t){var n=t.ariaSelection,s=t.focusedOption,i=t.focusedValue,a=t.focusableOptions,o=t.isFocused,c=t.selectValue,l=t.selectProps,u=t.id,d=t.isAppleDevice,f=l.ariaLiveMessages,h=l.getOptionLabel,m=l.inputValue,A=l.isMulti,g=l.isOptionDisabled,p=l.isSearchable,b=l.menuIsOpen,x=l.options,v=l.screenReaderStatus,y=l.tabSelectsValue,N=l.isLoading,P=l["aria-label"],M=l["aria-live"],k=B.useMemo(function(){return sn(sn({},vNe),f||{})},[f]),D=B.useMemo(function(){var T="";if(n&&k.onChange){var w=n.option,C=n.options,j=n.removedValue,S=n.removedValues,I=n.value,R=function(H){return Array.isArray(H)?null:H},U=j||w||R(I),z=U?h(U):"",V=C||S||void 0,X=V?V.map(h):[],$=sn({isDisabled:U&&g(U,c),label:z,labels:X},n);T=k.onChange($)}return T},[n,k,g,c,h]),O=B.useMemo(function(){var T="",w=s||i,C=!!(s&&c&&c.includes(s));if(w&&k.onFocus){var j={focused:w,label:h(w),isDisabled:g(w,c),isSelected:C,options:a,context:w===s?"menu":"value",selectValue:c,isAppleDevice:d};T=k.onFocus(j)}return T},[s,i,h,g,k,a,c,d]),L=B.useMemo(function(){var T="";if(b&&x.length&&!N&&k.onFilter){var w=v({count:a.length});T=k.onFilter({inputValue:m,resultsMessage:w})}return T},[a,m,b,k,x,v,N]),F=(n==null?void 0:n.action)==="initial-input-focus",_=B.useMemo(function(){var T="";if(k.guidance){var w=i?"value":b?"menu":"input";T=k.guidance({"aria-label":P,context:w,isDisabled:s&&g(s,c),isMulti:A,isSearchable:p,tabSelectsValue:y,isInitialFocus:F})}return T},[P,s,i,A,g,p,b,k,c,y,F]),E=Zt(B.Fragment,null,Zt("span",{id:"aria-selection"},D),Zt("span",{id:"aria-focused"},O),Zt("span",{id:"aria-results"},L),Zt("span",{id:"aria-guidance"},_));return Zt(B.Fragment,null,Zt(T8,{id:u},F&&E),Zt(T8,{"aria-live":M,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!F&&E))},wNe=yNe,kS=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],jNe=new RegExp("["+kS.map(function(e){return e.letters}).join("")+"]","g"),wV={};for(var Yj=0;Yj<kS.length;Yj++)for(var Zj=kS[Yj],Jj=0;Jj<Zj.letters.length;Jj++)wV[Zj.letters[Jj]]=Zj.base;var jV=function(t){return t.replace(jNe,function(n){return wV[n]})},CNe=gNe(jV),k8=function(t){return t.replace(/^\s+|\s+$/g,"")},NNe=function(t){return"".concat(t.label," ").concat(t.value)},SNe=function(t){return function(n,s){if(n.data.__isNew__)return!0;var i=sn({ignoreCase:!0,ignoreAccents:!0,stringify:NNe,trim:!0,matchFrom:"any"},t),a=i.ignoreCase,o=i.ignoreAccents,c=i.stringify,l=i.trim,u=i.matchFrom,d=l?k8(s):s,f=l?k8(c(n)):c(n);return a&&(d=d.toLowerCase(),f=f.toLowerCase()),o&&(d=CNe(d),f=jV(f)),u==="start"?f.substr(0,d.length)===d:f.indexOf(d)>-1}},TNe=["innerRef"];function kNe(e){var t=e.innerRef,n=gc(e,TNe),s=eCe(n,"onExited","in","enter","exit","appear");return Zt("input",on({ref:t},s,{css:Nk({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var _Ne=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function BNe(e){var t=e.isEnabled,n=e.onBottomArrive,s=e.onBottomLeave,i=e.onTopArrive,a=e.onTopLeave,o=B.useRef(!1),c=B.useRef(!1),l=B.useRef(0),u=B.useRef(null),d=B.useCallback(function(p,b){if(u.current!==null){var x=u.current,v=x.scrollTop,y=x.scrollHeight,N=x.clientHeight,P=u.current,M=b>0,k=y-N-v,D=!1;k>b&&o.current&&(s&&s(p),o.current=!1),M&&c.current&&(a&&a(p),c.current=!1),M&&b>k?(n&&!o.current&&n(p),P.scrollTop=y,D=!0,o.current=!0):!M&&-b>v&&(i&&!c.current&&i(p),P.scrollTop=0,D=!0,c.current=!0),D&&_Ne(p)}},[n,s,i,a]),f=B.useCallback(function(p){d(p,p.deltaY)},[d]),h=B.useCallback(function(p){l.current=p.changedTouches[0].clientY},[]),m=B.useCallback(function(p){var b=l.current-p.changedTouches[0].clientY;d(p,b)},[d]),A=B.useCallback(function(p){if(p){var b=Yje?{passive:!1}:!1;p.addEventListener("wheel",f,b),p.addEventListener("touchstart",h,b),p.addEventListener("touchmove",m,b)}},[m,h,f]),g=B.useCallback(function(p){p&&(p.removeEventListener("wheel",f,!1),p.removeEventListener("touchstart",h,!1),p.removeEventListener("touchmove",m,!1))},[m,h,f]);return B.useEffect(function(){if(t){var p=u.current;return A(p),function(){g(p)}}},[t,A,g]),function(p){u.current=p}}var _8=["boxSizing","height","overflow","paddingRight","position"],B8={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function E8(e){e.cancelable&&e.preventDefault()}function P8(e){e.stopPropagation()}function M8(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function D8(){return"ontouchstart"in window||navigator.maxTouchPoints}var I8=!!(typeof window<"u"&&window.document&&window.document.createElement),Np=0,Hh={capture:!1,passive:!1};function ENe(e){var t=e.isEnabled,n=e.accountForScrollbars,s=n===void 0?!0:n,i=B.useRef({}),a=B.useRef(null),o=B.useCallback(function(l){if(I8){var u=document.body,d=u&&u.style;if(s&&_8.forEach(function(A){var g=d&&d[A];i.current[A]=g}),s&&Np<1){var f=parseInt(i.current.paddingRight,10)||0,h=document.body?document.body.clientWidth:0,m=window.innerWidth-h+f||0;Object.keys(B8).forEach(function(A){var g=B8[A];d&&(d[A]=g)}),d&&(d.paddingRight="".concat(m,"px"))}u&&D8()&&(u.addEventListener("touchmove",E8,Hh),l&&(l.addEventListener("touchstart",M8,Hh),l.addEventListener("touchmove",P8,Hh))),Np+=1}},[s]),c=B.useCallback(function(l){if(I8){var u=document.body,d=u&&u.style;Np=Math.max(Np-1,0),s&&Np<1&&_8.forEach(function(f){var h=i.current[f];d&&(d[f]=h)}),u&&D8()&&(u.removeEventListener("touchmove",E8,Hh),l&&(l.removeEventListener("touchstart",M8,Hh),l.removeEventListener("touchmove",P8,Hh)))}},[s]);return B.useEffect(function(){if(t){var l=a.current;return o(l),function(){c(l)}}},[t,o,c]),function(l){a.current=l}}var PNe=function(t){var n=t.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},MNe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function DNe(e){var t=e.children,n=e.lockEnabled,s=e.captureEnabled,i=s===void 0?!0:s,a=e.onBottomArrive,o=e.onBottomLeave,c=e.onTopArrive,l=e.onTopLeave,u=BNe({isEnabled:i,onBottomArrive:a,onBottomLeave:o,onTopArrive:c,onTopLeave:l}),d=ENe({isEnabled:n}),f=function(m){u(m),d(m)};return Zt(B.Fragment,null,n&&Zt("div",{onClick:PNe,css:MNe}),t(f))}var INe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},ONe=function(t){var n=t.name,s=t.onFocus;return Zt("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:s,css:INe,value:"",onChange:function(){}})},LNe=ONe;function Tk(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function FNe(){return Tk(/^iPhone/i)}function CV(){return Tk(/^Mac/i)}function RNe(){return Tk(/^iPad/i)||CV()&&navigator.maxTouchPoints>1}function UNe(){return FNe()||RNe()}function HNe(){return CV()||UNe()}var $Ne=function(t){return t.label},QNe=function(t){return t.label},zNe=function(t){return t.value},VNe=function(t){return!!t.isDisabled},KNe={clearIndicator:kCe,container:gCe,control:ICe,dropdownIndicator:SCe,group:RCe,groupHeading:HCe,indicatorsContainer:yCe,indicatorSeparator:BCe,input:VCe,loadingIndicator:MCe,loadingMessage:hCe,menu:iCe,menuList:cCe,menuPortal:pCe,multiValue:XCe,multiValueLabel:YCe,multiValueRemove:ZCe,noOptionsMessage:dCe,option:sNe,placeholder:oNe,singleValue:uNe,valueContainer:bCe},GNe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},WNe=4,NV=4,qNe=38,XNe=NV*2,YNe={baseUnit:NV,controlHeight:qNe,menuGutter:XNe},eC={borderRadius:WNe,colors:GNe,spacing:YNe},ZNe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:C8(),captureMenuScroll:!C8(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:SNe(),formatGroupLabel:$Ne,getOptionLabel:QNe,getOptionValue:zNe,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:VNe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!qje(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var n=t.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function O8(e,t,n,s){var i=kV(e,t,n),a=_V(e,t,n),o=TV(e,t),c=Ry(e,t);return{type:"option",data:t,isDisabled:i,isSelected:a,label:o,value:c,index:s}}function rv(e,t){return e.options.map(function(n,s){if("options"in n){var i=n.options.map(function(o,c){return O8(e,o,t,c)}).filter(function(o){return F8(e,o)});return i.length>0?{type:"group",data:n,options:i,index:s}:void 0}var a=O8(e,n,t,s);return F8(e,a)?a:void 0}).filter(Zje)}function SV(e){return e.reduce(function(t,n){return n.type==="group"?t.push.apply(t,vk(n.options.map(function(s){return s.data}))):t.push(n.data),t},[])}function L8(e,t){return e.reduce(function(n,s){return s.type==="group"?n.push.apply(n,vk(s.options.map(function(i){return{data:i.data,id:"".concat(t,"-").concat(s.index,"-").concat(i.index)}}))):n.push({data:s.data,id:"".concat(t,"-").concat(s.index)}),n},[])}function JNe(e,t){return SV(rv(e,t))}function F8(e,t){var n=e.inputValue,s=n===void 0?"":n,i=t.data,a=t.isSelected,o=t.label,c=t.value;return(!EV(e)||!a)&&BV(e,{label:o,value:c,data:i},s)}function e4e(e,t){var n=e.focusedValue,s=e.selectValue,i=s.indexOf(n);if(i>-1){var a=t.indexOf(n);if(a>-1)return n;if(i<t.length)return t[i]}return null}function t4e(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}var tC=function(t,n){var s,i=(s=t.find(function(a){return a.data===n}))===null||s===void 0?void 0:s.id;return i||null},TV=function(t,n){return t.getOptionLabel(n)},Ry=function(t,n){return t.getOptionValue(n)};function kV(e,t,n){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,n):!1}function _V(e,t,n){if(n.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,n);var s=Ry(e,t);return n.some(function(i){return Ry(e,i)===s})}function BV(e,t,n){return e.filterOption?e.filterOption(t,n):!0}var EV=function(t){var n=t.hideSelectedOptions,s=t.isMulti;return n===void 0?s:n},n4e=1,PV=function(e){U2e(n,e);var t=Q2e(n);function n(s){var i;if(F2e(this,n),i=t.call(this,s),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,u){var d=i.props,f=d.onChange,h=d.name;u.name=h,i.ariaOnChange(l,u),f(l,u)},i.setValue=function(l,u,d){var f=i.props,h=f.closeMenuOnSelect,m=f.isMulti,A=f.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:A}),h&&(i.setState({inputIsHiddenAfterUpdate:!m}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:u,option:d})},i.selectOption=function(l){var u=i.props,d=u.blurInputOnSelect,f=u.isMulti,h=u.name,m=i.state.selectValue,A=f&&i.isOptionSelected(l,m),g=i.isOptionDisabled(l,m);if(A){var p=i.getOptionValue(l);i.setValue(m.filter(function(b){return i.getOptionValue(b)!==p}),"deselect-option",l)}else if(!g)f?i.setValue([].concat(vk(m),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:h});return}d&&i.blurInput()},i.removeValue=function(l){var u=i.props.isMulti,d=i.state.selectValue,f=i.getOptionValue(l),h=d.filter(function(A){return i.getOptionValue(A)!==f}),m=_x(u,h,h[0]||null);i.onChange(m,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange(_x(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,u=i.state.selectValue,d=u[u.length-1],f=u.slice(0,u.length-1),h=_x(l,f,f[0]||null);d&&i.onChange(h,{action:"pop-value",removedValue:d})},i.getFocusedOptionId=function(l){return tC(i.state.focusableOptionsWithIds,l)},i.getFocusableOptionsWithIds=function(){return L8(rv(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return zje.apply(void 0,[i.props.classNamePrefix].concat(u))},i.getOptionLabel=function(l){return TV(i.props,l)},i.getOptionValue=function(l){return Ry(i.props,l)},i.getStyles=function(l,u){var d=i.props.unstyled,f=KNe[l](u,d);f.boxSizing="border-box";var h=i.props.styles[l];return h?h(f,u):f},i.getClassNames=function(l,u){var d,f;return(d=(f=i.props.classNames)[l])===null||d===void 0?void 0:d.call(f,u)},i.getElementId=function(l){return"".concat(i.state.instancePrefix,"-").concat(l)},i.getComponents=function(){return mNe(i.props)},i.buildCategorizedOptions=function(){return rv(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return SV(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,u){i.setState({ariaSelection:sn({value:l},u)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var u=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():u&&i.openMenu("first"):(u&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var u=i.props,d=u.isMulti,f=u.menuIsOpen;i.focusInput(),f?(i.setState({inputIsHiddenAfterUpdate:!d}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&V1(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var u=l.touches,d=u&&u.item(0);d&&(i.initialTouchX=d.clientX,i.initialTouchY=d.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var u=l.touches,d=u&&u.item(0);if(d){var f=Math.abs(d.clientX-i.initialTouchX),h=Math.abs(d.clientY-i.initialTouchY),m=5;i.userIsDragging=f>m||h>m}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var u=i.props.inputValue,d=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(d,{action:"input-change",prevInputValue:u}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var u=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:u}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){if(!(i.blockOptionHover||i.state.focusedOption===l)){var u=i.getFocusableOptions(),d=u.indexOf(l);i.setState({focusedOption:l,focusedOptionId:d>-1?i.getFocusedOptionId(l):null})}},i.shouldHideSelectedOptions=function(){return EV(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var u=i.props,d=u.isMulti,f=u.backspaceRemovesValue,h=u.escapeClearsValue,m=u.inputValue,A=u.isClearable,g=u.isDisabled,p=u.menuIsOpen,b=u.onKeyDown,x=u.tabSelectsValue,v=u.openMenuOnFocus,y=i.state,N=y.focusedOption,P=y.focusedValue,M=y.selectValue;if(!g&&!(typeof b=="function"&&(b(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!d||m)return;i.focusValue("previous");break;case"ArrowRight":if(!d||m)return;i.focusValue("next");break;case"Delete":case"Backspace":if(m)return;if(P)i.removeValue(P);else{if(!f)return;d?i.popValue():A&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!p||!x||!N||v&&i.isOptionSelected(N,M))return;i.selectOption(N);break;case"Enter":if(l.keyCode===229)break;if(p){if(!N||i.isComposing)return;i.selectOption(N);break}return;case"Escape":p?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:m}),i.onMenuClose()):A&&h&&i.clearValue();break;case" ":if(m)return;if(!p){i.openMenu("first");break}if(!N)return;i.selectOption(N);break;case"ArrowUp":p?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":p?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!p)return;i.focusOption("pageup");break;case"PageDown":if(!p)return;i.focusOption("pagedown");break;case"Home":if(!p)return;i.focusOption("first");break;case"End":if(!p)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++n4e),i.state.selectValue=w8(s.value),s.menuIsOpen&&i.state.selectValue.length){var a=i.getFocusableOptionsWithIds(),o=i.buildFocusableOptions(),c=o.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=a,i.state.focusedOption=o[c],i.state.focusedOptionId=tC(a,o[c])}return i}return R2e(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&j8(this.menuListRef,this.focusedOptionRef),HNe()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isDisabled,c=a.menuIsOpen,l=this.state.isFocused;(l&&!o&&i.isDisabled||l&&c&&!i.menuIsOpen)&&this.focusInput(),l&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(j8(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,a){this.props.onInputChange(i,a)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var a=this,o=this.state,c=o.selectValue,l=o.isFocused,u=this.buildFocusableOptions(),d=i==="first"?0:u.length-1;if(!this.props.isMulti){var f=u.indexOf(c[0]);f>-1&&(d=f)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return a.onMenuOpen()})}},{key:"focusValue",value:function(i){var a=this.state,o=a.selectValue,c=a.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(c);c||(l=-1);var u=o.length-1,d=-1;if(o.length){switch(i){case"previous":l===0?d=0:l===-1?d=u:d=l-1;break;case"next":l>-1&&l<u&&(d=l+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:o[d]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",a=this.props.pageSize,o=this.state.focusedOption,c=this.getFocusableOptions();if(c.length){var l=0,u=c.indexOf(o);o||(u=-1),i==="up"?l=u>0?u-1:c.length-1:i==="down"?l=(u+1)%c.length:i==="pageup"?(l=u-a,l<0&&(l=0)):i==="pagedown"?(l=u+a,l>c.length-1&&(l=c.length-1)):i==="last"&&(l=c.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:c[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(c[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(eC):sn(sn({},eC),this.props.theme):eC}},{key:"getCommonProps",value:function(){var i=this.clearValue,a=this.cx,o=this.getStyles,c=this.getClassNames,l=this.getValue,u=this.selectOption,d=this.setValue,f=this.props,h=f.isMulti,m=f.isRtl,A=f.options,g=this.hasValue();return{clearValue:i,cx:a,getStyles:o,getClassNames:c,getValue:l,hasValue:g,isMulti:h,isRtl:m,options:A,selectOption:u,selectProps:f,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,a=i.isClearable,o=i.isMulti;return a===void 0?o:a}},{key:"isOptionDisabled",value:function(i,a){return kV(this.props,i,a)}},{key:"isOptionSelected",value:function(i,a){return _V(this.props,i,a)}},{key:"filterOption",value:function(i,a){return BV(this.props,i,a)}},{key:"formatOptionLabel",value:function(i,a){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,c=this.state.selectValue;return this.props.formatOptionLabel(i,{context:a,inputValue:o,selectValue:c})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,a=i.isDisabled,o=i.isSearchable,c=i.inputId,l=i.inputValue,u=i.tabIndex,d=i.form,f=i.menuIsOpen,h=i.required,m=this.getComponents(),A=m.Input,g=this.state,p=g.inputIsHidden,b=g.ariaSelection,x=this.commonProps,v=c||this.getElementId("input"),y=sn(sn(sn({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":h,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(b==null?void 0:b.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?B.createElement(A,on({},x,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:v,innerRef:this.getInputRef,isDisabled:a,isHidden:p,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:l},y)):B.createElement(kNe,on({id:v,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Ly,onFocus:this.onInputFocus,disabled:a,tabIndex:u,inputMode:"none",form:d,value:""},y))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,a=this.getComponents(),o=a.MultiValue,c=a.MultiValueContainer,l=a.MultiValueLabel,u=a.MultiValueRemove,d=a.SingleValue,f=a.Placeholder,h=this.commonProps,m=this.props,A=m.controlShouldRenderValue,g=m.isDisabled,p=m.isMulti,b=m.inputValue,x=m.placeholder,v=this.state,y=v.selectValue,N=v.focusedValue,P=v.isFocused;if(!this.hasValue()||!A)return b?null:B.createElement(f,on({},h,{key:"placeholder",isDisabled:g,isFocused:P,innerProps:{id:this.getElementId("placeholder")}}),x);if(p)return y.map(function(k,D){var O=k===N,L="".concat(i.getOptionLabel(k),"-").concat(i.getOptionValue(k));return B.createElement(o,on({},h,{components:{Container:c,Label:l,Remove:u},isFocused:O,isDisabled:g,key:L,index:D,removeProps:{onClick:function(){return i.removeValue(k)},onTouchEnd:function(){return i.removeValue(k)},onMouseDown:function(_){_.preventDefault()}},data:k}),i.formatOptionLabel(k,"value"))});if(b)return null;var M=y[0];return B.createElement(d,on({},h,{data:M,isDisabled:g}),this.formatOptionLabel(M,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),a=i.ClearIndicator,o=this.commonProps,c=this.props,l=c.isDisabled,u=c.isLoading,d=this.state.isFocused;if(!this.isClearable()||!a||l||!this.hasValue()||u)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return B.createElement(a,on({},o,{innerProps:f,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),a=i.LoadingIndicator,o=this.commonProps,c=this.props,l=c.isDisabled,u=c.isLoading,d=this.state.isFocused;if(!a||!u)return null;var f={"aria-hidden":"true"};return B.createElement(a,on({},o,{innerProps:f,isDisabled:l,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),a=i.DropdownIndicator,o=i.IndicatorSeparator;if(!a||!o)return null;var c=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused;return B.createElement(o,on({},c,{isDisabled:l,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),a=i.DropdownIndicator;if(!a)return null;var o=this.commonProps,c=this.props.isDisabled,l=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return B.createElement(a,on({},o,{innerProps:u,isDisabled:c,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,a=this.getComponents(),o=a.Group,c=a.GroupHeading,l=a.Menu,u=a.MenuList,d=a.MenuPortal,f=a.LoadingMessage,h=a.NoOptionsMessage,m=a.Option,A=this.commonProps,g=this.state.focusedOption,p=this.props,b=p.captureMenuScroll,x=p.inputValue,v=p.isLoading,y=p.loadingMessage,N=p.minMenuHeight,P=p.maxMenuHeight,M=p.menuIsOpen,k=p.menuPlacement,D=p.menuPosition,O=p.menuPortalTarget,L=p.menuShouldBlockScroll,F=p.menuShouldScrollIntoView,_=p.noOptionsMessage,E=p.onMenuScrollToTop,T=p.onMenuScrollToBottom;if(!M)return null;var w=function(z,V){var X=z.type,$=z.data,W=z.isDisabled,H=z.isSelected,Q=z.label,G=z.value,J=g===$,ee=W?void 0:function(){return i.onOptionHover($)},K=W?void 0:function(){return i.selectOption($)},ne="".concat(i.getElementId("option"),"-").concat(V),ue={id:ne,onClick:K,onMouseMove:ee,onMouseOver:ee,tabIndex:-1,role:"option","aria-selected":i.state.isAppleDevice?void 0:H};return B.createElement(m,on({},A,{innerProps:ue,data:$,isDisabled:W,isSelected:H,key:ne,label:Q,type:X,value:G,isFocused:J,innerRef:J?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(z.data,"menu"))},C;if(this.hasOptions())C=this.getCategorizedOptions().map(function(U){if(U.type==="group"){var z=U.data,V=U.options,X=U.index,$="".concat(i.getElementId("group"),"-").concat(X),W="".concat($,"-heading");return B.createElement(o,on({},A,{key:$,data:z,options:V,Heading:c,headingProps:{id:W,data:U.data},label:i.formatGroupLabel(U.data)}),U.options.map(function(H){return w(H,"".concat(X,"-").concat(H.index))}))}else if(U.type==="option")return w(U,"".concat(U.index))});else if(v){var j=y({inputValue:x});if(j===null)return null;C=B.createElement(f,A,j)}else{var S=_({inputValue:x});if(S===null)return null;C=B.createElement(h,A,S)}var I={minMenuHeight:N,maxMenuHeight:P,menuPlacement:k,menuPosition:D,menuShouldScrollIntoView:F},R=B.createElement(aCe,on({},A,I),function(U){var z=U.ref,V=U.placerProps,X=V.placement,$=V.maxHeight;return B.createElement(l,on({},A,I,{innerRef:z,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:v,placement:X}),B.createElement(DNe,{captureEnabled:b,onTopArrive:E,onBottomArrive:T,lockEnabled:L},function(W){return B.createElement(u,on({},A,{innerRef:function(Q){i.getMenuListRef(Q),W(Q)},innerProps:{role:"listbox","aria-multiselectable":A.isMulti,id:i.getElementId("listbox")},isLoading:v,maxHeight:$,focusedOption:g}),C)}))});return O||D==="fixed"?B.createElement(d,on({},A,{appendTo:O,controlElement:this.controlRef,menuPlacement:k,menuPosition:D}),R):R}},{key:"renderFormField",value:function(){var i=this,a=this.props,o=a.delimiter,c=a.isDisabled,l=a.isMulti,u=a.name,d=a.required,f=this.state.selectValue;if(d&&!this.hasValue()&&!c)return B.createElement(LNe,{name:u,onFocus:this.onValueInputFocus});if(!(!u||c))if(l)if(o){var h=f.map(function(g){return i.getOptionValue(g)}).join(o);return B.createElement("input",{name:u,type:"hidden",value:h})}else{var m=f.length>0?f.map(function(g,p){return B.createElement("input",{key:"i-".concat(p),name:u,type:"hidden",value:i.getOptionValue(g)})}):B.createElement("input",{name:u,type:"hidden",value:""});return B.createElement("div",null,m)}else{var A=f[0]?this.getOptionValue(f[0]):"";return B.createElement("input",{name:u,type:"hidden",value:A})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,a=this.state,o=a.ariaSelection,c=a.focusedOption,l=a.focusedValue,u=a.isFocused,d=a.selectValue,f=this.getFocusableOptions();return B.createElement(wNe,on({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:c,focusedValue:l,isFocused:u,selectValue:d,focusableOptions:f,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),a=i.Control,o=i.IndicatorsContainer,c=i.SelectContainer,l=i.ValueContainer,u=this.props,d=u.className,f=u.id,h=u.isDisabled,m=u.menuIsOpen,A=this.state.isFocused,g=this.commonProps=this.getCommonProps();return B.createElement(c,on({},g,{className:d,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:h,isFocused:A}),this.renderLiveRegion(),B.createElement(a,on({},g,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:h,isFocused:A,menuIsOpen:m}),B.createElement(l,on({},g,{isDisabled:h}),this.renderPlaceholderOrValue(),this.renderInput()),B.createElement(o,on({},g,{isDisabled:h}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,a){var o=a.prevProps,c=a.clearFocusValueOnUpdate,l=a.inputIsHiddenAfterUpdate,u=a.ariaSelection,d=a.isFocused,f=a.prevWasFocused,h=a.instancePrefix,m=i.options,A=i.value,g=i.menuIsOpen,p=i.inputValue,b=i.isMulti,x=w8(A),v={};if(o&&(A!==o.value||m!==o.options||g!==o.menuIsOpen||p!==o.inputValue)){var y=g?JNe(i,x):[],N=g?L8(rv(i,x),"".concat(h,"-option")):[],P=c?e4e(a,x):null,M=t4e(a,y),k=tC(N,M);v={selectValue:x,focusedOption:M,focusedOptionId:k,focusableOptionsWithIds:N,focusedValue:P,clearFocusValueOnUpdate:!1}}var D=l!=null&&i!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},O=u,L=d&&f;return d&&!L&&(O={value:_x(b,x,x[0]||null),options:x,action:"initial-input-focus"},L=!f),(u==null?void 0:u.action)==="initial-input-focus"&&(O=null),sn(sn(sn({},v),D),{},{prevProps:i,ariaSelection:O,prevWasFocused:L})}}]),n}(B.Component);PV.defaultProps=ZNe;var r4e=B.forwardRef(function(e,t){var n=L2e(e);return B.createElement(PV,on({ref:t},n))}),Jl=r4e;const R8=({mode:e,diaChi:t,onSubmit:n,onCancel:s,provinces:i,districts:a,wards:o,selectedProvince:c,setSelectedProvince:l,selectedDistrict:u,setSelectedDistrict:d,selectedWard:f,setSelectedWard:h,isLoadingProvinces:m,isLoadingDistricts:A,isLoadingWards:g,formErrors:p,shippingFee:b,isLoadingShippingFee:x})=>{const v=e==="view",[y,N]=B.useState(t),[P,M]=B.useState(null),[k,D]=B.useState(!1),O="https://bicacuatho.azurewebsites.net",L=()=>{const w=localStorage.getItem("token");return w?{Authorization:`Bearer ${w}`}:{}};B.useEffect(()=>{N(t)},[t]),B.useEffect(()=>{if(!(u!=null&&u.DistrictID)||!(f!=null&&f.WardCode)){M(null);return}(async()=>{D(!0);try{const C={from_district_id:1552,from_ward_code:"400103",to_district_id:u.DistrictID,to_ward_code:f.WardCode,service_id:53320},j=await fetch(`${O}/api/GHN/leadtime`,{method:"POST",headers:{"Content-Type":"application/json",...L()},body:JSON.stringify(C)});if(!j.ok)throw new Error(`HTTP error! status: ${j.status}`);const S=await j.json();M(S)}catch(C){console.error("Error fetching lead time:",C),we.fire({icon:"error",title:"Lỗi",text:"Không thể tải thời gian giao hàng dự kiến",timer:2e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{D(!1)}})()},[u,f,O]);const F=(w,C)=>{N(j=>({...j,[w]:C}))},_=w=>{const C=w.charCode;(C<48||C>57)&&w.preventDefault()},E=w=>{w.preventDefault(),n({...y,moTa:b!==null?b.toString():""})},T=w=>{const C=new Date(w),j=C.getDate(),S=C.getMonth()+1,I=C.getFullYear();return`Ngày ${j}, tháng ${S}, năm ${I} nhận hàng`};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(De,{htmlFor:"hoTen",className:"font-semibold text-gray-800",children:"Họ tên"}),r.jsx(ye,{id:"hoTen",value:y.hoTen||"",onChange:w=>F("hoTen",w.target.value),disabled:v,placeholder:"Nhập họ tên",className:`border-gray-300 rounded-md text-gray-800 ${p.hoTen?"border-red-500":""}`}),p.hoTen&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.hoTen})]}),r.jsxs("div",{children:[r.jsx(De,{htmlFor:"sdt",className:"font-semibold text-gray-800",children:"Số điện thoại"}),r.jsx(ye,{id:"sdt",type:"tel",maxLength:10,value:y.sdt||"",onChange:w=>F("sdt",w.target.value),onKeyPress:_,disabled:v,placeholder:"Nhập số điện thoại",className:`border-gray-300 rounded-md text-gray-800 ${p.sdt?"border-red-500":""}`}),p.sdt&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.sdt})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(De,{htmlFor:"tinh",className:"font-semibold text-gray-800",children:"Tỉnh/Thành phố"}),r.jsx(Jl,{options:i,getOptionLabel:w=>w.ProvinceName,getOptionValue:w=>w.ProvinceID.toString(),value:c,onChange:w=>l(w),placeholder:m?"Đang tải...":"Chọn tỉnh/thành phố",isDisabled:m||v,isSearchable:!0,isClearable:!0,className:`border-gray-300 rounded-md text-gray-800 ${p.tinh?"border-red-500":""}`,styles:{control:w=>({...w,color:"gray-800"}),singleValue:w=>({...w,color:"gray-800"}),placeholder:w=>({...w,color:"gray-800"})}}),p.tinh&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.tinh})]}),r.jsxs("div",{children:[r.jsx(De,{htmlFor:"quanHuyen",className:"font-semibold text-gray-800",children:"Quận/Huyện"}),r.jsx(Jl,{options:a,getOptionLabel:w=>w.DistrictName,getOptionValue:w=>w.DistrictID.toString(),value:u,onChange:w=>d(w),placeholder:A?"Đang tải...":"Chọn quận/huyện",isDisabled:!c||A||v,isSearchable:!0,isClearable:!0,className:`border-gray-300 rounded-md text-gray-800 ${p.quanHuyen?"border-red-500":""}`,styles:{control:w=>({...w,color:"gray-800"}),singleValue:w=>({...w,color:"gray-800"}),placeholder:w=>({...w,color:"gray-800"})}}),p.quanHuyen&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.quanHuyen})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(De,{htmlFor:"phuongXa",className:"font-semibold text-gray-800",children:"Phường/Xã"}),r.jsx(Jl,{options:o,getOptionLabel:w=>w.WardName,getOptionValue:w=>w.WardCode,value:f,onChange:w=>h(w),placeholder:g?"Đang tải...":"Chọn phường/xã",isDisabled:!u||g||v,isSearchable:!0,isClearable:!0,className:`border-gray-300 rounded-md text-gray-800 ${p.phuongXa?"border-red-500":""}`,styles:{control:w=>({...w,color:"gray-800"}),singleValue:w=>({...w,color:"gray-800"}),placeholder:w=>({...w,color:"gray-800"})}}),p.phuongXa&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.phuongXa})]}),r.jsxs("div",{children:[r.jsx(De,{htmlFor:"diaChi",className:"font-semibold text-gray-800",children:"Địa chỉ chi tiết"}),r.jsx(ye,{id:"diaChi",value:y.diaChi||"",onChange:w=>F("diaChi",w.target.value),disabled:v,placeholder:"Nhập địa chỉ chi tiết",className:`border-gray-300 rounded-md text-gray-800 ${p.diaChi?"border-red-500":""}`}),p.diaChi&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.diaChi})]})]}),f&&r.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-md",children:[r.jsxs("p",{children:[r.jsx("strong",{className:"font-semibold",children:"Phí giao hàng dự kiến:"})," ",x?"Đang tính phí giao hàng...":b!==null?`${b.toLocaleString()} VND`:"Không thể tải phí giao hàng"]}),r.jsxs("p",{children:[r.jsx("strong",{className:"font-semibold",children:"Thời gian giao hàng dự kiến:"})," ",k?"Đang tính thời gian giao hàng...":P?T(P.leadtime_order.to_estimate_date):"Không thể tải thời gian giao hàng"]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[r.jsxs(fe,{type:"button",variant:"outline",onClick:s,className:"flex items-center border-gray-300 text-gray-800 hover:bg-gray-100",children:[r.jsx(yS,{className:"mr-2"})," ",v?"Đóng":"Hủy"]}),!v&&r.jsxs(fe,{type:"button",onClick:E,className:"bg-[#9b87f5] hover:bg-[#8a76e4] text-white flex items-center",children:[r.jsx(Dy,{className:"mr-2"})," ",e==="add"?"Thêm":"Cập nhật"]})]})]})},MV=()=>{const[e,t]=B.useState([]),[n,s]=B.useState({trangThai:1}),[i,a]=B.useState(null),[o,c]=B.useState(null),[l,u]=B.useState(null),[d,f]=B.useState(!1),[h,m]=B.useState(!1),[A,g]=B.useState(!1),[p,b]=B.useState(!1),[x,v]=B.useState(null),[y,N]=B.useState(null),[P,M]=B.useState("add"),[k,D]=B.useState([]),[O,L]=B.useState([]),[F,_]=B.useState([]),[E,T]=B.useState(null),[w,C]=B.useState(null),[j,S]=B.useState(null),[I,R]=B.useState(!1),[U,z]=B.useState(!1),[V,X]=B.useState(!1),[$,W]=B.useState({}),[H,Q]=B.useState("list"),[G,J]=B.useState({}),[ee,K]=B.useState({}),[ne,ue]=B.useState({}),[se,ie]=B.useState({}),[q,Z]=B.useState(null),[te,re]=B.useState(!1),Y=gr(),oe=B.useRef(null),ae="https://bicacuatho.azurewebsites.net",ce=()=>{const Ee=localStorage.getItem("token");return Ee?{Authorization:`Bearer ${Ee}`}:{}};B.useEffect(()=>{(async()=>{R(!0);try{const Me=await fetch(`${ae}/api/GHN/provinces`,{headers:ce()});if(!Me.ok)throw new Error(`HTTP error! status: ${Me.status}`);const Ce=(await Me.json()).map(Pe=>({ProvinceID:Pe.provinceID,ProvinceName:Pe.provinceName}));D(Ce)}catch(Me){console.error("Error fetching provinces:",Me),we.fire({icon:"error",title:"Lỗi",text:"Không thể lấy danh sách tỉnh/thành phố",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{R(!1)}})()},[ae]),B.useEffect(()=>{if(!(E!=null&&E.ProvinceID)){L([]),_([]),C(null),S(null),Z(null);return}(async()=>{z(!0);try{const Me=await fetch(`${ae}/api/GHN/districts/${E.ProvinceID}`,{headers:ce()});if(!Me.ok)throw new Error(`HTTP error! status: ${Me.status}`);const Ce=(await Me.json()).map(Pe=>({DistrictID:Pe.districtID,DistrictName:Pe.districtName}));L(Ce),_([]),C(null),S(null),Z(null)}catch(Me){console.error("Error fetching districts:",Me),we.fire({icon:"error",title:"Lỗi",text:"Không thể lấy danh sách quận/huyện",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{z(!1)}})()},[E,ae]),B.useEffect(()=>{if(!(w!=null&&w.DistrictID)){_([]),S(null),Z(null);return}(async()=>{X(!0);try{const Me=await fetch(`${ae}/api/GHN/wards/${w.DistrictID}`,{headers:ce()});if(!Me.ok)throw new Error(`HTTP error! status: ${Me.status}`);const Ce=(await Me.json()).map(Pe=>({WardCode:Pe.wardCode,WardName:Pe.wardName}));_(Ce),S(null),Z(null)}catch(Me){console.error("Error fetching wards:",Me),we.fire({icon:"error",title:"Lỗi",text:"Không thể lấy danh sách phường/xã",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{X(!1)}})()},[w,ae]),B.useEffect(()=>{if(!(w!=null&&w.DistrictID)||!(j!=null&&j.WardCode)){Z(null);return}(async()=>{re(!0);try{const Me={service_type_id:2,from_district_id:1552,from_ward_code:"400103",to_district_id:w.DistrictID,to_ward_code:j.WardCode,length:35,width:25,height:10,weight:1e3,insurance_value:0,coupon:null,items:[]},Ie=await fetch(`${ae}/api/GHN/shipping-fee`,{method:"POST",headers:{"Content-Type":"application/json",...ce()},body:JSON.stringify(Me)});if(!Ie.ok)throw new Error(`HTTP error! status: ${Ie.status}`);const Ce=await Ie.json();Z(Ce.total)}catch(Me){console.error("Error fetching shipping fee:",Me),we.fire({icon:"error",title:"Lỗi",text:"Không thể tải phí giao hàng",timer:2e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0}),Z(null)}finally{re(!1)}})()},[w,j,ae]);const de=B.useCallback(async()=>{if(l){f(!0);try{const Ee=await fetch(`${ae}/api/DanhSachDiaChi/maNguoiDung/${l}`,{headers:ce()});if(!Ee.ok)throw new Error(`HTTP error! status: ${Ee.status}`);const Ie=(await Ee.json()).sort((ke,ze)=>ze.trangThai-ke.trangThai);t(Ie);const Ce={},Pe={},ge={},Ne={};for(const ke of Ie){Pe[ke.maDiaChi]=!0,Ce[ke.maDiaChi]=null,Ne[ke.maDiaChi]=!0,ge[ke.maDiaChi]=null;const ze=k.find(Re=>Re.ProvinceName===ke.tinh);if(ze)try{const Re=await fetch(`${ae}/api/GHN/districts/${ze.ProvinceID}`,{headers:ce()});if(!Re.ok)throw new Error(`HTTP error! status: ${Re.status}`);const rt=(await Re.json()).find(Dt=>Dt.districtName===ke.quanHuyen);if(rt){const Dt=await fetch(`${ae}/api/GHN/wards/${rt.districtID}`,{headers:ce()});if(!Dt.ok)throw new Error(`HTTP error! status: ${Dt.status}`);const Qt=(await Dt.json()).find(bt=>bt.wardName===ke.phuongXa);if(Qt){const bt={from_district_id:1552,from_ward_code:"400103",to_district_id:rt.districtID,to_ward_code:Qt.wardCode,service_id:53320},Bt=await fetch(`${ae}/api/GHN/leadtime`,{method:"POST",headers:{"Content-Type":"application/json",...ce()},body:JSON.stringify(bt)});if(!Bt.ok)throw new Error(`HTTP error! status: ${Bt.status}`);const Se=await Bt.json();Ce[ke.maDiaChi]=Se;const Le={service_type_id:2,from_district_id:1552,from_ward_code:"400103",to_district_id:rt.districtID,to_ward_code:Qt.wardCode,length:35,width:25,height:10,weight:1e3,insurance_value:0,coupon:null,items:[]},Ge=await fetch(`${ae}/api/GHN/shipping-fee`,{method:"POST",headers:{"Content-Type":"application/json",...ce()},body:JSON.stringify(Le)});if(!Ge.ok)throw new Error(`HTTP error! status: ${Ge.status}`);const at=await Ge.json();ge[ke.maDiaChi]=at.total}}}catch(Re){console.error(`Error fetching data for address ${ke.maDiaChi}:`,Re)}Pe[ke.maDiaChi]=!1,Ne[ke.maDiaChi]=!1}J(Ce),K(Pe),ue(ge),ie(Ne)}catch(Ee){console.error("Error fetching address list:",Ee),we.fire({icon:"error",title:"Lỗi",text:"Không thể lấy danh sách địa chỉ",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{f(!1)}}},[l,ae,k]);B.useEffect(()=>{const Ee=localStorage.getItem("user");if(Ee)try{const Me=JSON.parse(Ee);u(Me.maNguoiDung)}catch(Me){console.error("Error parsing user data:",Me),Y("/login")}else Y("/login")},[Y]),B.useEffect(()=>{l&&de()},[l,de]);const pe=Ee=>{const Me={};return(!Ee.hoTen||Ee.hoTen.trim().length<5)&&(Me.hoTen="Họ tên phải có ít nhất 5 ký tự"),Ee.sdt?/^\d{10}$/.test(Ee.sdt)||(Me.sdt="Số điện thoại phải có đúng 10 chữ số"):Me.sdt="Số điện thoại là bắt buộc",E||(Me.tinh="Tỉnh/Thành phố là bắt buộc"),w||(Me.quanHuyen="Quận/Huyện là bắt buộc"),j||(Me.phuongXa="Phường/Xã là bắt buộc"),(!Ee.diaChi||Ee.diaChi.trim()==="")&&(Me.diaChi="Địa chỉ chi tiết là bắt buộc"),Me},Ae=async Ee=>{var Ce,Pe;const Me={...Ee,tinh:E==null?void 0:E.ProvinceName,quanHuyen:w==null?void 0:w.DistrictName,phuongXa:j==null?void 0:j.WardName},Ie=pe(Me);if(W(Ie),Object.keys(Ie).length>0){we.fire({icon:"error",title:"Lỗi",text:"Vui lòng điền đầy đủ và đúng thông tin",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}try{if(P==="add"){if(e.length>=5){we.fire({icon:"error",title:"Lỗi",text:"Bạn chỉ có thể có tối đa 5 địa chỉ",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0}),Q("list"),(Ce=oe.current)==null||Ce.scrollIntoView({behavior:"smooth"});return}const ge=await fetch(`${ae}/api/DanhSachDiaChi`,{method:"POST",headers:{"Content-Type":"application/json",...ce()},body:JSON.stringify({...Me,maNguoiDung:l,trangThai:1})});if(!ge.ok)throw new Error(`HTTP error! status: ${ge.status}`);we.fire({icon:"success",title:"Thành công",text:"Đã thêm địa chỉ mới",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0}),await de(),Q("list"),(Pe=oe.current)==null||Pe.scrollIntoView({behavior:"smooth"})}else if(P==="edit"&&i){const ge=await fetch(`${ae}/api/DanhSachDiaChi/${i.maDiaChi}`,{method:"PUT",headers:{"Content-Type":"application/json",...ce()},body:JSON.stringify({...Me,maDiaChi:i.maDiaChi,maNguoiDung:l,trangThai:i.trangThai})});if(!ge.ok)throw new Error(`HTTP error! status: ${ge.status}`);we.fire({icon:"success",title:"Thành công",text:"Đã cập nhật địa chỉ",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0}),await de()}m(!1),W({})}catch(ge){console.error(`Error ${P==="add"?"adding":"updating"} address:`,ge),we.fire({icon:"error",title:"Lỗi",text:`Không thể ${P==="add"?"thêm":"cập nhật"} địa chỉ`,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}},le=Ee=>{v(Ee),g(!0)},he=async()=>{if(x!==null)try{const Ee=await fetch(`${ae}/api/DanhSachDiaChi/${x}`,{method:"DELETE",headers:ce()});if(!Ee.ok)throw new Error(`HTTP error! status: ${Ee.status}`);t(e.filter(Me=>Me.maDiaChi!==x)),J(Me=>{const Ie={...Me};return delete Ie[x],Ie}),K(Me=>{const Ie={...Me};return delete Ie[x],Ie}),ue(Me=>{const Ie={...Me};return delete Ie[x],Ie}),ie(Me=>{const Ie={...Me};return delete Ie[x],Ie}),we.fire({icon:"success",title:"Thành công",text:"Đã xóa địa chỉ",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(Ee){console.error("Error deleting address:",Ee),we.fire({icon:"error",title:"Lỗi",text:"Không thể xóa địa chỉ",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{g(!1),v(null)}},me=Ee=>{N(Ee),b(!0)},ve=async()=>{if(y!==null)try{await Promise.all(e.map(async Ee=>{const Me=Ee.maDiaChi===y?1:0,Ie=await fetch(`${ae}/api/DanhSachDiaChi/${Ee.maDiaChi}`,{method:"PUT",headers:{"Content-Type":"application/json",...ce()},body:JSON.stringify({...Ee,trangThai:Me})});if(!Ie.ok)throw new Error(`HTTP error! status: ${Ie.status}`)})),we.fire({icon:"success",title:"Thành công",text:"Đã chọn địa chỉ",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0}),await de()}catch(Ee){console.error("Error selecting address:",Ee),we.fire({icon:"error",title:"Lỗi",text:"Không thể chọn địa chỉ",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{b(!1),N(null)}},_e=()=>{M("add"),s({trangThai:1}),a(null),c(null),T(null),C(null),S(null),L([]),_([]),W({}),Z(null)},Te=Ee=>{M("edit"),a(Ee),c(null),s(Ee);const Me=k.find(Ie=>Ie.ProvinceName===Ee.tinh)||null;T(Me),Me&&fetch(`${ae}/api/GHN/districts/${Me.ProvinceID}`,{headers:ce()}).then(Ie=>{if(!Ie.ok)throw new Error(`HTTP error! status: ${Ie.status}`);return Ie.json()}).then(Ie=>{const Ce=Ie.map(ge=>({DistrictID:ge.districtID,DistrictName:ge.districtName}));L(Ce);const Pe=Ce.find(ge=>ge.DistrictName===Ee.quanHuyen)||null;C(Pe),Pe&&fetch(`${ae}/api/GHN/wards/${Pe.DistrictID}`,{headers:ce()}).then(ge=>{if(!ge.ok)throw new Error(`HTTP error! status: ${ge.status}`);return ge.json()}).then(ge=>{const Ne=ge.map(ze=>({WardCode:ze.wardCode,WardName:ze.wardName}));_(Ne);const ke=Ne.find(ze=>ze.WardName===Ee.phuongXa)||null;S(ke)}).catch(ge=>{console.error("Error fetching wards:",ge),we.fire({icon:"error",title:"Lỗi",text:"Không thể lấy danh sách phường/xã",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})})}).catch(Ie=>{console.error("Error fetching districts:",Ie),we.fire({icon:"error",title:"Lỗi",text:"Không thể lấy danh sách quận/huyện",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}),W({}),m(!0)},Ue=Ee=>{M("view"),c(Ee),a(null),s(Ee);const Me=k.find(Ie=>Ie.ProvinceName===Ee.tinh)||null;T(Me),Me&&fetch(`${ae}/api/GHN/districts/${Me.ProvinceID}`,{headers:ce()}).then(Ie=>{if(!Ie.ok)throw new Error(`HTTP error! status: ${Ie.status}`);return Ie.json()}).then(Ie=>{const Ce=Ie.map(ge=>({DistrictID:ge.districtID,DistrictName:ge.districtName}));L(Ce);const Pe=Ce.find(ge=>ge.DistrictName===Ee.quanHuyen)||null;C(Pe),Pe&&fetch(`${ae}/api/GHN/wards/${Pe.DistrictID}`,{headers:ce()}).then(ge=>{if(!ge.ok)throw new Error(`HTTP error! status: ${ge.status}`);return ge.json()}).then(ge=>{const Ne=ge.map(ze=>({WardCode:ze.wardCode,WardName:ze.wardName}));_(Ne);const ke=Ne.find(ze=>ze.WardName===Ee.phuongXa)||null;S(ke)}).catch(ge=>{console.error("Error fetching wards:",ge),we.fire({icon:"error",title:"Lỗi",text:"Không thể lấy danh sách phường/xã",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})})}).catch(Ie=>{console.error("Error fetching districts:",Ie),we.fire({icon:"error",title:"Lỗi",text:"Không thể lấy danh sách quận/huyện",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}),W({}),m(!0)};return r.jsx("div",{className:"flex justify-center",children:r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md w-full max-w-4xl",children:[r.jsxs("div",{className:"relative flex justify-between items-center mb-8",children:[r.jsxs("button",{onClick:()=>window.location.href="/user/cart",className:"flex items-center px-4 py-2 text-sm font-medium text-[#9b87f5] border border-[#9b87f5] rounded-md hover:bg-[#f3effe] transition-colors",children:[r.jsx(Nm,{className:"w-5 h-5 mr-2"}),"Quay lại giỏ hàng"]}),r.jsxs("div",{className:"flex space-x-2 bg-gray-100 p-1 rounded-lg shadow-sm",children:[r.jsxs("button",{onClick:()=>{Q("add"),_e()},className:`relative px-6 py-2 text-sm font-semibold rounded-md transition-all duration-300 ease-in-out ${H==="add"?"bg-[#9b87f5] text-white shadow-md":"bg-transparent text-gray-800 hover:bg-gray-200"}`,children:["Thêm địa chỉ mới",H==="add"&&r.jsx("span",{className:"absolute bottom-0 left-0 w-full h-1 bg-[#9b87f5] rounded-t-md"})]}),r.jsxs("button",{onClick:()=>Q("list"),className:`relative px-6 py-2 text-sm font-semibold rounded-md transition-all duration-300 ease-in-out ${H==="list"?"bg-[#9b87f5] text-white shadow-md":"bg-transparent text-gray-800 hover:bg-gray-200"}`,children:["Danh sách địa chỉ",H==="list"&&r.jsx("span",{className:"absolute bottom-0 left-0 w-full h-1 bg-[#9b87f5] rounded-t-md"})]})]})]}),H==="add"&&r.jsx(R8,{mode:"add",diaChi:n,onSubmit:Ae,onCancel:()=>Q("list"),provinces:k,districts:O,wards:F,selectedProvince:E,setSelectedProvince:T,selectedDistrict:w,setSelectedDistrict:C,selectedWard:j,setSelectedWard:S,isLoadingProvinces:I,isLoadingDistricts:U,isLoadingWards:V,formErrors:$,shippingFee:q,isLoadingShippingFee:te}),H==="list"&&r.jsx("div",{className:"space-y-4",ref:oe,children:d?r.jsx("p",{className:"text-gray-800",children:"Đang tải danh sách địa chỉ..."}):e.length===0?r.jsx("p",{className:"text-gray-800",children:"Không có địa chỉ nào để hiển thị."}):e.map(Ee=>r.jsxs("div",{className:`border p-4 rounded-lg bg-white shadow-sm ${Ee.trangThai===1?"border-[#9b87f5]":"border-gray-300"} flex justify-between items-start`,children:[r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{className:"font-semibold text-gray-800",children:"Họ tên:"})," ",Ee.hoTen]}),r.jsxs("p",{children:[r.jsx("strong",{className:"font-semibold text-gray-800",children:"Số điện thoại:"})," ",Ee.sdt]}),r.jsxs("p",{children:[r.jsx("strong",{className:"font-semibold text-gray-800",children:"Phí giao hàng dự kiến:"})," ",Ee.moTa||"Không có mô tả"," VND"]}),r.jsxs("p",{children:[r.jsx("strong",{className:"font-semibold text-gray-800",children:"Địa chỉ:"})," ",Ee.diaChi,", ",Ee.phuongXa,","," ",Ee.quanHuyen,", ",Ee.tinh]}),r.jsxs("p",{children:[r.jsx("strong",{className:"font-semibold text-gray-800",children:"Trạng thái:"})," ",Ee.trangThai===1?"Hoạt động":"Không hoạt động"]})]}),r.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[r.jsx("input",{type:"checkbox",checked:Ee.trangThai===1,onChange:()=>me(Ee.maDiaChi),className:"h-5 w-5"}),r.jsx(fe,{onClick:()=>Ue(Ee),className:"bg-blue-600 hover:bg-blue-700 text-white w-6 h-6 p-0",children:r.jsx(wa,{size:12})}),r.jsx(fe,{onClick:()=>Te(Ee),className:"bg-[#9b87f5] hover:bg-[#8a76e4] text-white w-6 h-6 p-0",children:r.jsx(Aa,{size:12})}),r.jsx(fe,{onClick:()=>le(Ee.maDiaChi),variant:"destructive",className:"w-6 h-6 p-0",children:r.jsx(mh,{size:12})})]})]},Ee.maDiaChi))}),h&&H!=="add"&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center",children:r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-2xl w-full",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800",children:P==="edit"?"Chỉnh sửa địa chỉ":"Xem chi tiết địa chỉ"}),r.jsx(fe,{variant:"ghost",onClick:()=>m(!1),className:"text-gray-800",children:"✕"})]}),r.jsx(R8,{mode:P,diaChi:P==="edit"?i:o,onSubmit:Ae,onCancel:()=>m(!1),provinces:k,districts:O,wards:F,selectedProvince:E,setSelectedProvince:T,selectedDistrict:w,setSelectedDistrict:C,selectedWard:j,setSelectedWard:S,isLoadingProvinces:I,isLoadingDistricts:U,isLoadingWards:V,formErrors:$,shippingFee:q,isLoadingShippingFee:te})]})}),A&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center",children:r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[r.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Xác nhận xóa"}),r.jsx("p",{className:"mb-4 text-gray-800",children:"Bạn có chắc chắn muốn xóa địa chỉ này?"}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsxs(fe,{variant:"outline",onClick:()=>g(!1),className:"flex items-center border-gray-300 text-gray-800 hover:bg-gray-100",children:[r.jsx(yS,{className:"mr-2"})," Hủy"]}),r.jsxs(fe,{variant:"destructive",onClick:he,className:"flex items-center",children:[r.jsx(Dy,{className:"mr-2"})," Xác nhận"]})]})]})}),p&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center",children:r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[r.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Xác nhận chọn địa chỉ"}),r.jsx("p",{className:"mb-4 text-gray-800",children:"Bạn có muốn đổi qua địa chỉ này không?"}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsxs(fe,{variant:"outline",onClick:()=>b(!1),className:"flex items-center border-gray-300 text-gray-800 hover:bg-gray-100",children:[r.jsx(yS,{className:"mr-2"})," Hủy"]}),r.jsxs(fe,{onClick:ve,className:"bg-[#9b87f5] hover:bg-[#8a76e4] text-white flex items-center",children:[r.jsx(Dy,{className:"mr-2"})," Xác nhận"]})]})]})})]})})},Bx="https://bicacuatho.azurewebsites.net",s4e=()=>{const[e,t]=B.useState(!1),[n,s]=B.useState(null),[i,a]=B.useState(new Date(1990,0,1)),[o,c]=B.useState({fullName:"",taikhoan:"",gioiTinh:null,email:"",phone:"",address:"",CCCD:""}),[l,u]=B.useState(null),[d,f]=B.useState(""),[h,m]=B.useState(""),[A,g]=B.useState(""),[p,b]=B.useState(!1),[x,v]=B.useState(!1),[y,N]=B.useState(!1),P=B.useRef(null),M=localStorage.getItem("token");B.useEffect(()=>{M&&(async()=>{try{const j=(await Nt.get(`${Bx}/api/UpdateProfile/profile`,{headers:{Authorization:`Bearer ${M}`}})).data;s(j.maNguoiDung),c({fullName:j.hoTen||"",taikhoan:j.taiKhoan||"",gioiTinh:j.gioiTinh,email:j.email||"",phone:j.sdt||"",address:j.diaChi||"",CCCD:j.cccd||""}),a(j.ngaySinh?new Date(j.ngaySinh):new Date(1990,0,1)),u(j.hinhAnh?`data:image/jpg;base64,${j.hinhAnh}`:null)}catch{we.fire({icon:"error",title:"Lỗi",text:"Không thể lấy thông tin người dùng.",timer:3e3,showConfirmButton:!1})}})()},[M]),B.useEffect(()=>()=>{l&&l.startsWith("blob:")&&URL.revokeObjectURL(l)},[l]);const k=w=>{const{name:C,value:j}=w.target;c(S=>({...S,[C]:j}))},D=w=>{const C=w==="Nam"?null:w==="Nữ"?2:1;c(j=>({...j,gioiTinh:C}))},O=w=>{var j;const C=(j=w.target.files)==null?void 0:j[0];if(C){if(C.size>5*1024*1024){we.fire({icon:"error",title:"Lỗi",text:"Kích thước ảnh không được vượt quá 5MB.",timer:3e3,showConfirmButton:!1});return}if(!["image/jpeg","image/jpg","image/png"].includes(C.type)){we.fire({icon:"error",title:"Lỗi",text:"Chỉ chấp nhận file ảnh .jpg, .jpeg, .png.",timer:3e3,showConfirmButton:!1});return}const I=URL.createObjectURL(C);u(I)}},L=w=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(w),F=w=>/^[0-9]{10}$/.test(w),_=w=>/^[0-9]{12}$/.test(w),E=async w=>{var j,S,I,R;if(w.preventDefault(),t(!0),!o.fullName.trim()){we.fire({icon:"error",title:"Lỗi",text:"Họ và tên không được để trống.",timer:3e3,showConfirmButton:!1}),t(!1);return}if(!o.taikhoan.trim()){we.fire({icon:"error",title:"Lỗi",text:"Tài khoản không được để trống.",timer:3e3,showConfirmButton:!1}),t(!1);return}if(o.gioiTinh===void 0){we.fire({icon:"error",title:"Lỗi",text:"Giới tính không được để trống.",timer:3e3,showConfirmButton:!1}),t(!1);return}if(o.email&&!L(o.email)){we.fire({icon:"error",title:"Lỗi",text:"Email không hợp lệ.",timer:3e3,showConfirmButton:!1}),t(!1);return}if(o.phone&&!F(o.phone)){we.fire({icon:"error",title:"Lỗi",text:"Số điện thoại phải là 10 chữ số.",timer:3e3,showConfirmButton:!1}),t(!1);return}if(o.CCCD&&!_(o.CCCD)){we.fire({icon:"error",title:"Lỗi",text:"CCCD phải là 12 chữ số.",timer:3e3,showConfirmButton:!1}),t(!1);return}if(i&&i>new Date){we.fire({icon:"error",title:"Lỗi",text:"Ngày sinh không được lớn hơn ngày hiện tại.",timer:3e3,showConfirmButton:!1}),t(!1);return}const C=new FormData;C.append("HoTen",o.fullName),C.append("TaiKhoan",o.taikhoan),C.append("GioiTinh",o.gioiTinh===null?"":o.gioiTinh.toString()),C.append("Email",o.email),C.append("Sdt",o.phone),C.append("DiaChi",o.address),C.append("CCCD",o.CCCD),C.append("NgaySinh",i?hc(i,"yyyy-MM-dd"):""),(S=(j=P.current)==null?void 0:j.files)!=null&&S[0]&&C.append("HinhAnh",P.current.files[0]);try{await Nt.put(`${Bx}/api/UpdateProfile/update-profile/${n}`,C,{headers:{Authorization:`Bearer ${M}`,"Content-Type":"multipart/form-data"}});const z=(await Nt.get(`${Bx}/api/UpdateProfile/profile`,{headers:{Authorization:`Bearer ${M}`}})).data;u(z.hinhAnh?`data:image/jpg;base64,${z.hinhAnh}`:null),we.fire({icon:"success",title:"Cập nhật thành công",text:"Thông tin cá nhân của bạn đã được cập nhật thành công!",timer:3e3,showConfirmButton:!1})}catch(U){we.fire({icon:"error",title:"Lỗi",text:((R=(I=U.response)==null?void 0:I.data)==null?void 0:R.message)||"Không thể cập nhật thông tin.",timer:3e3,showConfirmButton:!1})}finally{t(!1)}},T=async w=>{var j,S;if(w.preventDefault(),t(!0),!d){we.fire({icon:"error",title:"Lỗi",text:"Mật khẩu hiện tại không được để trống.",timer:3e3,showConfirmButton:!1}),t(!1);return}if(!h){we.fire({icon:"error",title:"Lỗi",text:"Mật khẩu mới không được để trống.",timer:3e3,showConfirmButton:!1}),t(!1);return}if(h.length<6){we.fire({icon:"error",title:"Lỗi",text:"Mật khẩu mới phải có ít nhất 6 ký tự.",timer:3e3,showConfirmButton:!1}),t(!1);return}if(h!==A){we.fire({icon:"error",title:"Lỗi",text:"Mật khẩu mới và xác nhận mật khẩu không khớp.",timer:3e3,showConfirmButton:!1}),t(!1);return}const C=new FormData;C.append("MatKhauCu",d),C.append("MatKhauMoi",h);try{await Nt.put(`${Bx}/api/UpdateProfile/update-password/${n}`,C,{headers:{Authorization:`Bearer ${M}`,"Content-Type":"multipart/form-data"}}),we.fire({icon:"success",title:"Cập nhật thành công",text:"Mật khẩu của bạn đã được thay đổi thành công!",timer:3e3,showConfirmButton:!1}),f(""),m(""),g("")}catch(I){we.fire({icon:"error",title:"Lỗi",text:((S=(j=I.response)==null?void 0:j.data)==null?void 0:S.message)||"Không thể đổi mật khẩu.",timer:3e3,showConfirmButton:!1})}finally{t(!1)}};return r.jsxs(ia,{defaultValue:"personal",className:"w-full max-w-3xl mx-auto",children:[r.jsxs(Mi,{className:"grid grid-cols-2 mb-8",children:[r.jsxs(Bn,{value:"personal",children:[r.jsx($n,{className:"mr-2 h-4 w-4"}),"Thông tin cá nhân"]}),r.jsxs(Bn,{value:"security",children:[r.jsx(Vi,{className:"mr-2 h-4 w-4"}),"Bảo mật"]})]}),r.jsxs(Hn,{value:"personal",children:[r.jsxs(it,{children:[r.jsxs(yt,{children:[r.jsx(jt,{children:"Thông tin cá nhân"}),r.jsx(ks,{children:"Cập nhật thông tin chi tiết của bạn"})]}),r.jsx(dt,{children:r.jsxs("form",{onSubmit:E,className:"space-y-6",children:[r.jsx("div",{className:"flex flex-col items-center justify-center mb-6",children:r.jsxs("div",{className:"relative mb-4",children:[r.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden border-4 border-crocus-100 bg-gray-100 flex items-center justify-center",children:l?r.jsx("img",{src:l,alt:"Ảnh đại diện",className:"w-full h-full object-cover"}):r.jsx($n,{size:48,className:"text-gray-400"})}),r.jsxs("label",{htmlFor:"avatarUpload",className:"absolute bottom-0 right-0 bg-crocus-500 text-white p-1.5 rounded-full cursor-pointer hover:bg-crocus-600 transition-colors",children:[r.jsx(zN,{size:16}),r.jsx("span",{className:"sr-only",children:"Tải ảnh đại diện"})]}),r.jsx("input",{id:"avatarUpload",type:"file",accept:"image/*",ref:P,onChange:O,className:"hidden"})]})}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"fullName",children:"Họ và tên"}),r.jsxs("div",{className:"relative",children:[r.jsx($n,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx(ye,{id:"fullName",name:"fullName",placeholder:"Nhập họ tên",value:o.fullName,onChange:k,className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"taikhoan",children:"Tài khoản"}),r.jsxs("div",{className:"relative",children:[r.jsx($n,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx(ye,{id:"taikhoan",name:"taikhoan",placeholder:"Nhập tài khoản",value:o.taikhoan,onChange:k,className:"pl-10",readOnly:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"email",children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(Xi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx(ye,{id:"email",name:"email",placeholder:"Nhập email",type:"email",value:o.email,onChange:k,className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"phone",children:"Số điện thoại"}),r.jsxs("div",{className:"relative",children:[r.jsx(_u,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx(ye,{id:"phone",name:"phone",placeholder:"Nhập số điện thoại",type:"tel",value:o.phone,onChange:k,className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"CCCD",children:"Căn cước công dân"}),r.jsxs("div",{className:"relative",children:[r.jsx(Yd,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx(ye,{id:"CCCD",name:"CCCD",placeholder:"Nhập số CCCD",value:o.CCCD,onChange:k,className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"address",children:"Địa chỉ"}),r.jsxs("div",{className:"relative",children:[r.jsx(ku,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx(ye,{id:"address",name:"address",placeholder:"Nhập địa chỉ",value:o.address,onChange:k,className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{children:"Giới tính"}),r.jsxs(mn,{value:o.gioiTinh===null?"Nam":o.gioiTinh===2?"Nữ":o.gioiTinh===1?"Khác":"",onValueChange:D,children:[r.jsxs(cn,{className:"w-full",children:[r.jsx($n,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx(pn,{placeholder:"Chọn giới tính",className:"pl-10"})]}),r.jsxs(un,{children:[r.jsx(Qe,{value:"Nam",children:"Nam"}),r.jsx(Qe,{value:"Nữ",children:"Nữ"}),r.jsx(Qe,{value:"Khác",children:"Khác"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{children:"Ngày sinh"}),r.jsxs(y2e,{children:[r.jsx(w2e,{asChild:!0,children:r.jsxs(fe,{variant:"outline",className:Fe("w-full justify-start text-left font-normal",!i&&"text-muted-foreground"),children:[r.jsx(ts,{className:"mr-2 h-4 w-4"}),i?hc(i,"PPP"):"Chọn ngày"]})}),r.jsx(Gz,{className:"w-auto p-0",children:r.jsx(Iz,{mode:"single",selected:i,onSelect:a,initialFocus:!0,captionLayout:"dropdown-buttons",fromYear:1940,toYear:new Date().getFullYear()-13})})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(fe,{type:"submit",className:"bg-crocus-500 hover:bg-crocus-600",disabled:e,children:e?"Đang lưu...":r.jsxs(r.Fragment,{children:[r.jsx(e0,{className:"mr-2 h-4 w-4"}),"Lưu thay đổi"]})})})]})})]}),r.jsx(MV,{})]}),r.jsx(Hn,{value:"security",children:r.jsxs(it,{children:[r.jsxs(yt,{children:[r.jsx(jt,{children:"Thay đổi mật khẩu"}),r.jsx(ks,{children:"Cập nhật mật khẩu để bảo vệ tài khoản của bạn"})]}),r.jsx(dt,{children:r.jsxs("form",{onSubmit:T,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"currentPassword",children:"Mật khẩu hiện tại"}),r.jsxs("div",{className:"relative",children:[r.jsx(Vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx(ye,{id:"currentPassword",name:"currentPassword",placeholder:"Mật khẩu hiện tại",type:p?"text":"password",className:"pl-10 pr-10",value:d,onChange:w=>f(w.target.value)}),r.jsx("button",{type:"button",onClick:()=>b(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:p?r.jsx(dr,{className:"h-5 w-5"}):r.jsx(nl,{className:"h-5 w-5"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"newPassword",children:"Mật khẩu mới"}),r.jsxs("div",{className:"relative",children:[r.jsx(Vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx(ye,{id:"newPassword",name:"newPassword",placeholder:"Mật khẩu mới",type:x?"text":"password",className:"pl-10 pr-10",value:h,onChange:w=>m(w.target.value)}),r.jsx("button",{type:"button",onClick:()=>v(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:x?r.jsx(dr,{className:"h-5 w-5"}):r.jsx(nl,{className:"h-5 w-5"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"confirmPassword",children:"Xác nhận mật khẩu mới"}),r.jsxs("div",{className:"relative",children:[r.jsx(Vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx(ye,{id:"confirmPassword",name:"confirmPassword",placeholder:"Xác nhận mật khẩu",type:y?"text":"password",className:"pl-10 pr-10",value:A,onChange:w=>g(w.target.value)}),r.jsx("button",{type:"button",onClick:()=>N(!y),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:y?r.jsx(dr,{className:"h-5 w-5"}):r.jsx(nl,{className:"h-5 w-5"})})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(fe,{type:"submit",className:"bg-crocus-500 hover:bg-crocus-600",disabled:e,children:e?"Đang xử lý...":r.jsxs(r.Fragment,{children:[r.jsx(bL,{className:"mr-2 h-4 w-4"}),"Thay đổi mật khẩu"]})})})]})})]})})]})},i4e=()=>r.jsx("div",{className:"py-10",children:r.jsx(s4e,{})}),a4e=({combo:e,onClose:t,onUpdateCombo:n})=>{const[s,i]=B.useState(0),a=async g=>{if(t(),(await we.fire({title:"Hãy xác nhận lại?",text:"Bạn có chắc chắn muốn xóa Combo này ra khỏi giỏ hàng không?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Xóa!",cancelButtonText:"Không!"})).isConfirmed)try{const b={ChiTietGioHang:e.chiTietGioHangCombo,Version:g};if(!(await fetch("https://bicacuatho.azurewebsites.net/api/Cart/XoaComboVersion",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)})).ok)throw new Error("Failed to remove combo version");const v=e.sanPhamList.filter(N=>N.version!==g),y={...e,sanPhamList:v};n(y),At.success("Combo version removed successfully"),await we.fire({title:"Deleted!",text:"The combo version has been removed.",icon:"success"})}catch(b){console.error("Error removing combo version:",b),At.error("Failed to remove combo version"),await we.fire({title:"Error!",text:"There was a problem removing the combo version.",icon:"error"})}},o=g=>{const p=g.reduce((b,x)=>(b[x.version]||(b[x.version]=[]),b[x.version].push(x),b),{});return Object.entries(p).map(([b,x])=>({version:parseInt(b),items:x}))},c=g=>{var v;const p=g.split("_"),b=((v=p[1])==null?void 0:v.slice(0,6))||"000000",x=p[2]||"N/A";return{color:b,size:x}},l=o(e.sanPhamList),u=2,d=Math.ceil(l.length/u),f=()=>{i(g=>(g+1)%d)},h=()=>{i(g=>(g-1+d)%d)},m=()=>{const g=s*u;return l.slice(g,g+u)};console.log("Total versions:",l.length),console.log("Total slides:",d),console.log("Current slide:",s),console.log("Visible versions:",m());const A=m();return r.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-lg w-full max-w-7xl mx-auto",style:{width:"1200px"},children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("h2",{className:"text-xl font-semibold",children:["Edit ",e.tenCombo]}),r.jsxs(fe,{variant:"outline",size:"sm",onClick:t,children:[r.jsx(st,{size:16,className:"mr-2"})," Đóng"]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"overflow-hidden",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.map((g,p)=>r.jsxs("div",{className:"bg-gray-100 rounded-md p-4 relative",children:[r.jsx("button",{onClick:()=>a(g.version),className:"absolute top-2 right-2 text-red-500 hover:text-red-700 z-10",children:r.jsx(st,{size:16})}),r.jsxs("h4",{className:"font-medium mb-2",children:["Combo ",s*u+p+1," (Version: ",g.version,")"]}),r.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto pr-2",children:g.items.map((b,x)=>{const{color:v,size:y}=c(b.maSanPham);return r.jsx("div",{className:"bg-white p-2 rounded-md shadow-sm",children:r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-md overflow-hidden flex-shrink-0",children:r.jsx("img",{src:b.hinhAnh.startsWith("data:image")?b.hinhAnh:`data:image/jpeg;base64,${b.hinhAnh}`,alt:b.tenSanPham,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-bold truncate",children:b.tenSanPham}),r.jsxs("div",{className:"flex items-center mt-1",children:[r.jsx("span",{className:"text-xs text-gray-500 mr-1",children:"Màu:"}),r.jsx("div",{className:"w-4 h-4 rounded-sm border border-gray-300",style:{backgroundColor:`#${v}`}})]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Kích Thước: ",y]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Số Lượng: ",b.soLuong]})]})]})},x)})})]},g.version)),A.length===1&&r.jsx("div",{className:"bg-transparent rounded-md"})]})}),d>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:h,className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white p-2 rounded-full shadow-md hover:bg-gray-100",disabled:s===0,children:r.jsx(ss,{size:20})}),r.jsx("button",{onClick:f,className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white p-2 rounded-full shadow-md hover:bg-gray-100",disabled:s===d-1,children:r.jsx(jr,{size:20})})]}),d>1&&r.jsx("div",{className:"flex justify-center mt-6 space-x-2",children:Array.from({length:d}).map((g,p)=>r.jsx("button",{onClick:()=>i(p),className:`w-3 h-3 rounded-full transition-colors ${p===s?"bg-blue-500":"bg-gray-300"}`,"aria-label":`Go to slide ${p+1}`},p))})]}),r.jsx("div",{className:"text-center mt-6",children:r.jsx(fe,{variant:"outline",onClick:t,className:"px-8",children:"Đóng"})})]})};var o4e={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function DV(e){if(typeof e=="number")return{value:e,unit:"px"};var t,n=(e.match(/^[0-9.]*/)||"").toString();n.includes(".")?t=parseFloat(n):t=parseInt(n,10);var s=(e.match(/[^0-9]*$/)||"").toString();return o4e[s]?{value:t,unit:s}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}function U8(e){var t=DV(e);return"".concat(t.value).concat(t.unit)}var l4e=function(e,t,n){var s="react-spinners-".concat(e,"-").concat(n);if(typeof window>"u"||!window.document)return s;var i=document.createElement("style");document.head.appendChild(i);var a=i.sheet,o=`
    @keyframes `.concat(s,` {
      `).concat(t,`
    }
  `);return a&&a.insertRule(o,0),s},Uy=function(){return Uy=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Uy.apply(this,arguments)},c4e=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n},u4e=l4e("CircleLoader","0% {transform: rotate(0deg)} 50% {transform: rotate(180deg)} 100% {transform: rotate(360deg)}","circle");function H8(e){var t=e.loading,n=t===void 0?!0:t,s=e.color,i=s===void 0?"#000000":s,a=e.speedMultiplier,o=a===void 0?1:a,c=e.cssOverride,l=c===void 0?{}:c,u=e.size,d=u===void 0?50:u,f=c4e(e,["loading","color","speedMultiplier","cssOverride","size"]),h=Uy({display:"inherit",position:"relative",width:U8(d),height:U8(d)},l),m=function(A){var g=DV(d),p=g.value,b=g.unit;return{position:"absolute",height:"".concat(p*(1-A/10)).concat(b),width:"".concat(p*(1-A/10)).concat(b),borderTop:"1px solid ".concat(i),borderBottom:"none",borderLeft:"1px solid ".concat(i),borderRight:"none",borderRadius:"100%",transition:"2s",top:"".concat(A*.7*2.5,"%"),left:"".concat(A*.35*2.5,"%"),animation:"".concat(u4e," ").concat(1/o,"s ").concat(A*.2/o,"s infinite linear")}};return n?B.createElement("span",Uy({style:h},f),B.createElement("span",{style:m(0)}),B.createElement("span",{style:m(1)}),B.createElement("span",{style:m(2)}),B.createElement("span",{style:m(3)}),B.createElement("span",{style:m(4)})):null}const d4e=({diaChi:e,onSubmit:t,onCancel:n,provinces:s,districts:i,wards:a,selectedProvince:o,setSelectedProvince:c,selectedDistrict:l,setSelectedDistrict:u,selectedWard:d,setSelectedWard:f,isLoadingProvinces:h,isLoadingDistricts:m,isLoadingWards:A,formErrors:g})=>{const[p,b]=B.useState(e),[x,v]=B.useState(null),[y,N]=B.useState(!1),[P,M]=B.useState(null),[k,D]=B.useState(!1),O="https://bicacuatho.azurewebsites.net",L=()=>{const w=localStorage.getItem("token");return w?{Authorization:`Bearer ${w}`}:{}};B.useEffect(()=>{b(e)},[e]),B.useEffect(()=>{if(!(l!=null&&l.DistrictID)||!(d!=null&&d.WardCode)){v(null),M(null);return}const w=async()=>{N(!0);try{const j={from_district_id:1552,from_ward_code:"400103",to_district_id:l.DistrictID,to_ward_code:d.WardCode,service_id:53320},S=await fetch(`${O}/api/GHN/leadtime`,{method:"POST",headers:{"Content-Type":"application/json",...L()},body:JSON.stringify(j)});if(!S.ok)throw new Error(`HTTP error! status: ${S.status}`);const I=await S.json();v(I)}catch(j){console.error("Error fetching lead time:",j),we.fire({icon:"error",title:"Lỗi",text:"Không thể tải thời gian giao hàng dự kiến",timer:2e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{N(!1)}},C=async()=>{D(!0);try{const j={service_type_id:2,from_district_id:1552,from_ward_code:"400103",to_district_id:l.DistrictID,to_ward_code:d.WardCode,length:35,width:25,height:10,weight:1e3,insurance_value:0,coupon:null,items:[]},S=await fetch(`${O}/api/GHN/shipping-fee`,{method:"POST",headers:{"Content-Type":"application/json",...L()},body:JSON.stringify(j)});if(!S.ok)throw new Error(`HTTP error! status: ${S.status}`);const I=await S.json();M(I),b(R=>{var U;return{...R,moTa:((U=I.total)==null?void 0:U.toString())||""}})}catch(j){console.error("Error fetching shipping fee:",j),we.fire({icon:"error",title:"Lỗi",text:"Không thể tải phí giao hàng",timer:2e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{D(!1)}};w(),C()},[l,d,O]);const F=(w,C)=>{b(j=>({...j,[w]:C}))},_=w=>{const C=w.charCode;(C<48||C>57)&&w.preventDefault()},E=w=>{w.preventDefault(),t(p)},T=w=>{const C=new Date(w),j=C.getDate(),S=C.getMonth()+1,I=C.getFullYear();return`Ngày ${j}, tháng ${S}, năm ${I} nhận hàng`};return r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-[#2c3e50] mb-4",children:"Thêm địa chỉ mới"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(De,{htmlFor:"hoTen",className:"block text-sm font-medium text-[#2c3e50]",children:"Họ tên"}),r.jsx(ye,{id:"hoTen",value:p.hoTen||"",onChange:w=>F("hoTen",w.target.value),placeholder:"Nhập họ tên",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#9b87f5] focus:border-[#9b87f5] transition-colors ${g.hoTen?"border-[#ef4444]":"border-[#d1d5db]"} text-[#2c3e50]`}),g.hoTen&&r.jsx("p",{className:"mt-1 text-sm text-[#ef4444]",children:g.hoTen})]}),r.jsxs("div",{children:[r.jsx(De,{htmlFor:"sdt",className:"block text-sm font-medium text-[#2c3e50]",children:"Số điện thoại"}),r.jsx(ye,{id:"sdt",type:"tel",maxLength:10,value:p.sdt||"",onChange:w=>F("sdt",w.target.value),onKeyPress:_,placeholder:"Nhập số điện thoại",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#9b87f5] focus:border-[#9b87f5] transition-colors ${g.sdt?"border-[#ef4444]":"border-[#d1d5db]"} text-[#2c3e50]`}),g.sdt&&r.jsx("p",{className:"mt-1 text-sm text-[#ef4444]",children:g.sdt})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(De,{htmlFor:"tinh",className:"block text-sm font-medium text-[#2c3e50]",children:"Tỉnh/Thành phố"}),r.jsx(Jl,{options:s,getOptionLabel:w=>w.ProvinceName,getOptionValue:w=>w.ProvinceID.toString(),value:o,onChange:w=>c(w),placeholder:h?"Đang tải...":"Chọn tỉnh/thành phố",isDisabled:h,isSearchable:!0,isClearable:!0,className:`w-full text-[#2c3e50] ${g.tinh?"border-[#ef4444]":""}`,styles:{control:w=>({...w,borderColor:g.tinh?"#ef4444":"#d1d5db","&:hover":{borderColor:g.tinh?"#ef4444":"#9b87f5"},boxShadow:"none","&:focus-within":{borderColor:"#9b87f5",boxShadow:"0 0 0 2px rgba(155, 135, 245, 0.5)"}}),singleValue:w=>({...w,color:"#2c3e50"}),placeholder:w=>({...w,color:"#6b7280"}),menu:w=>({...w,zIndex:50,backgroundColor:"#ffffff"}),option:(w,C)=>({...w,backgroundColor:C.isSelected?"#9b87f5":C.isFocused?"#f3effe":"#ffffff",color:C.isSelected?"#ffffff":"#2c3e50","&:hover":{backgroundColor:"#f3effe"}})}}),g.tinh&&r.jsx("p",{className:"mt-1 text-sm text-[#ef4444]",children:g.tinh})]}),r.jsxs("div",{children:[r.jsx(De,{htmlFor:"quanHuyen",className:"block text-sm font-medium text-[#2c3e50]",children:"Quận/Huyện"}),r.jsx(Jl,{options:i,getOptionLabel:w=>w.DistrictName,getOptionValue:w=>w.DistrictID.toString(),value:l,onChange:w=>u(w),placeholder:m?"Đang tải...":"Chọn quận/huyện",isDisabled:!o||m,isSearchable:!0,isClearable:!0,className:`w-full text-[#2c3e50] ${g.quanHuyen?"border-[#ef4444]":""}`,styles:{control:w=>({...w,borderColor:g.quanHuyen?"#ef4444":"#d1d5db","&:hover":{borderColor:g.quanHuyen?"#ef4444":"#9b87f5"},boxShadow:"none","&:focus-within":{borderColor:"#9b87f5",boxShadow:"0 0 0 2px rgba(155, 135, 245, 0.5)"}}),singleValue:w=>({...w,color:"#2c3e50"}),placeholder:w=>({...w,color:"#6b7280"}),menu:w=>({...w,zIndex:50,backgroundColor:"#ffffff"}),option:(w,C)=>({...w,backgroundColor:C.isSelected?"#9b87f5":C.isFocused?"#f3effe":"#ffffff",color:C.isSelected?"#ffffff":"#2c3e50","&:hover":{backgroundColor:"#f3effe"}})}}),g.quanHuyen&&r.jsx("p",{className:"mt-1 text-sm text-[#ef4444]",children:g.quanHuyen})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(De,{htmlFor:"phuongXa",className:"block text-sm font-medium text-[#2c3e50]",children:"Phường/Xã"}),r.jsx(Jl,{options:a,getOptionLabel:w=>w.WardName,getOptionValue:w=>w.WardCode,value:d,onChange:w=>f(w),placeholder:A?"Đang tải...":"Chọn phường/xã",isDisabled:!l||A,isSearchable:!0,isClearable:!0,className:`w-full text-[#2c3e50] ${g.phuongXa?"border-[#ef4444]":""}`,styles:{control:w=>({...w,borderColor:g.phuongXa?"#ef4444":"#d1d5db","&:hover":{borderColor:g.phuongXa?"#ef4444":"#9b87f5"},boxShadow:"none","&:focus-within":{borderColor:"#9b87f5",boxShadow:"0 0 0 2px rgba(155, 135, 245, 0.5)"}}),singleValue:w=>({...w,color:"#2c3e50"}),placeholder:w=>({...w,color:"#6b7280"}),menu:w=>({...w,zIndex:50,backgroundColor:"#ffffff"}),option:(w,C)=>({...w,backgroundColor:C.isSelected?"#9b87f5":C.isFocused?"#f3effe":"#ffffff",color:C.isSelected?"#ffffff":"#2c3e50","&:hover":{backgroundColor:"#f3effe"}})}}),g.phuongXa&&r.jsx("p",{className:"mt-1 text-sm text-[#ef4444]",children:g.phuongXa})]}),r.jsxs("div",{children:[r.jsx(De,{htmlFor:"diaChi",className:"block text-sm font-medium text-[#2c3e50]",children:"Địa chỉ chi tiết"}),r.jsx(ye,{id:"diaChi",value:p.diaChi||"",onChange:w=>F("diaChi",w.target.value),placeholder:"Nhập địa chỉ chi tiết",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#9b87f5] focus:border-[#9b87f5] transition-colors ${g.diaChi?"border-[#ef4444]":"border-[#d1d5db]"} text-[#2c3e50]`}),g.diaChi&&r.jsx("p",{className:"mt-1 text-sm text-[#ef4444]",children:g.diaChi})]})]}),d&&r.jsxs("div",{className:"p-4 bg-[#f9fafb] rounded-lg mt-4",children:[r.jsxs("p",{className:"text-sm text-[#2c3e50]",children:[r.jsx("strong",{className:"font-semibold",children:"Phí giao hàng:"})," ",k?"Đang tính phí giao hàng...":P&&P.total?`${P.total.toLocaleString()} VND`:"Không thể tải phí giao hàng"]}),r.jsxs("p",{className:"text-sm text-[#2c3e50]",children:[r.jsx("strong",{className:"font-semibold",children:"Thời gian giao hàng:"})," ",y?"Đang tính thời gian giao hàng...":x?T(x.leadtime_order.to_estimate_date):"Không thể tải thời gian giao hàng"]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-6",children:[r.jsxs(fe,{type:"button",onClick:()=>window.location.href="/user/diachi",className:"flex items-center px-4 py-2 border border-[#9b87f5] text-[#9b87f5] bg-white rounded-md hover:bg-[#f3effe] hover:border-[#7c6ae8] transition-colors",children:[r.jsx(ku,{className:"mr-2 h-4 w-4"})," Danh sách địa chỉ"]}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs(fe,{type:"button",variant:"outline",onClick:n,className:"flex items-center px-4 py-2 border border-[#d1d5db] text-[#2c3e50] bg-white hover:bg-[#f3effe] hover:border-[#9b87f5] transition-colors",children:[r.jsx(st,{className:"mr-2 h-4 w-4"})," Hủy"]}),r.jsxs(fe,{type:"button",onClick:E,className:"flex items-center px-4 py-2 bg-[#9b87f5] text-white hover:bg-[#7c6ae8] transition-colors",children:[r.jsx(Tm,{className:"mr-2 h-4 w-4"})," Thêm địa chỉ"]})]})]})]})},kk=()=>{const[e,t]=B.useState({trangThai:1}),[n,s]=B.useState(null),[i,a]=B.useState([]),[o,c]=B.useState([]),[l,u]=B.useState([]),[d,f]=B.useState(null),[h,m]=B.useState(null),[A,g]=B.useState(null),[p,b]=B.useState(!1),[x,v]=B.useState(!1),[y,N]=B.useState(!1),[P,M]=B.useState({}),[k,D]=B.useState(!1),[O,L]=B.useState([]),F=Bs(),_=gr(),E="https://bicacuatho.azurewebsites.net",T=()=>{const I=localStorage.getItem("token");return I?{Authorization:`Bearer ${I}`}:{}};B.useEffect(()=>{(async()=>{b(!0);try{const R=await fetch(`${E}/api/GHN/provinces`,{headers:T()});if(!R.ok)throw new Error(`HTTP error! status: ${R.status}`);const z=(await R.json()).map(V=>({ProvinceID:V.provinceID,ProvinceName:V.provinceName}));a(z)}catch{we.fire({icon:"error",title:"Lỗi",text:"Không thể lấy danh sách tỉnh/thành phố",timer:2e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{b(!1)}})()},[E]),B.useEffect(()=>{if(!(d!=null&&d.ProvinceID)){c([]),u([]),m(null),g(null);return}(async()=>{v(!0);try{const R=await fetch(`${E}/api/GHN/districts/${d.ProvinceID}`,{headers:T()});if(!R.ok)throw new Error(`HTTP error! status: ${R.status}`);const z=(await R.json()).map(V=>({DistrictID:V.districtID,DistrictName:V.districtName}));c(z),u([]),m(null),g(null)}catch{we.fire({icon:"error",title:"Lỗi",text:"Không thể lấy danh sách quận/huyện",timer:2e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{v(!1)}})()},[d,E]),B.useEffect(()=>{if(!(h!=null&&h.DistrictID)){u([]),g(null);return}(async()=>{N(!0);try{const R=await fetch(`${E}/api/GHN/wards/${h.DistrictID}`,{headers:T()});if(!R.ok)throw new Error(`HTTP error! status: ${R.status}`);const z=(await R.json()).map(V=>({WardCode:V.wardCode,WardName:V.wardName}));u(z),g(null)}catch{we.fire({icon:"error",title:"Lỗi",text:"Không thể lấy danh sách phường/xã",timer:2e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{N(!1)}})()},[h,E]),B.useEffect(()=>{const I=localStorage.getItem("user");if(I)try{const R=JSON.parse(I);s(R.maNguoiDung)}catch{_("/login")}else _("/login")},[_]),B.useEffect(()=>{n&&(async()=>{if(n)try{const R=await fetch(`${E}/api/DanhSachDiaChi/maNguoiDung/${n}`,{headers:T()});if(!R.ok)throw new Error(`HTTP error! status: ${R.status}`);const U=await R.json();L(U)}catch{we.fire({icon:"error",title:"Lỗi",text:"Không thể lấy danh sách địa chỉ",timer:2e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}})()},[n,E]),B.useEffect(()=>{const{state:I}=F,R=localStorage.getItem("showAddressModal");(I!=null&&I.showAddressModal||R==="true")&&(t({trangThai:1}),f(null),m(null),g(null),c([]),u([]),M({}),D(!0),localStorage.removeItem("showAddressModal"))},[F]);const w=I=>{const R={};return(!I.hoTen||I.hoTen.trim().length<5)&&(R.hoTen="Họ tên phải có ít nhất 5 ký tự"),I.sdt?/^\d{10}$/.test(I.sdt)||(R.sdt="Số điện thoại phải có đúng 10 chữ số"):R.sdt="Số điện thoại là bắt buộc",d||(R.tinh="Tỉnh/Thành phố là bắt buộc"),h||(R.quanHuyen="Quận/Huyện là bắt buộc"),A||(R.phuongXa="Phường/Xã là bắt buộc"),(!I.diaChi||I.diaChi.trim()==="")&&(R.diaChi="Địa chỉ chi tiết là bắt buộc"),R},C=async I=>{const R={...I,tinh:d==null?void 0:d.ProvinceName,quanHuyen:h==null?void 0:h.DistrictName,phuongXa:A==null?void 0:A.WardName},U=w(R);if(M(U),Object.keys(U).length>0){we.fire({icon:"error",title:"Lỗi",text:"Vui lòng điền đầy đủ và đúng thông tin",timer:2e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}try{if(O.length>=5){we.fire({icon:"error",title:"Lỗi",text:"Bạn chỉ có thể có tối đa 5 địa chỉ",timer:2e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0}),D(!1),_("/user/diachi");return}const z=await fetch(`${E}/api/DanhSachDiaChi`,{method:"POST",headers:{"Content-Type":"application/json",...T()},body:JSON.stringify({...R,maNguoiDung:n,trangThai:1})});if(!z.ok)throw new Error(`HTTP error! status: ${z.status}`);await Promise.all(O.map(async V=>{const X=await fetch(`${E}/api/DanhSachDiaChi/${V.maDiaChi}`,{method:"PUT",headers:{"Content-Type":"application/json",...T()},body:JSON.stringify({...V,trangThai:0})});if(!X.ok)throw new Error(`HTTP error! status: ${X.status}`)})),we.fire({icon:"success",title:"Thành công",text:"Đã thêm địa chỉ mới thành công",timer:2e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0}).then(()=>{window.location.reload()}),D(!1),j()}catch{we.fire({icon:"error",title:"Lỗi",text:"Không thể thêm địa chỉ",timer:2e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}},j=()=>{t({trangThai:1}),f(null),m(null),g(null),c([]),u([]),M({})},S=()=>{D(!1),j()};return r.jsx("div",{className:"mt-8",children:r.jsx("div",{className:"flex justify-center mb-4",children:r.jsxs(Jt,{open:k,onOpenChange:D,children:[r.jsx(H5,{asChild:!0,children:r.jsxs("button",{className:"flex items-center px-6 py-2 text-sm bg-[#9b87f5] text-white font-medium rounded-md border border-[#7c6ae8] hover:bg-[#7c6ae8] transition-colors shadow",children:["Thêm địa chỉ mới",r.jsx(ml,{className:"ml-2 h-4 w-4"})]})}),r.jsx(Wt,{className:"max-w-3xl p-0 border-[#9b87f5] bg-white",children:r.jsx("div",{className:"p-6 border border-[#9b87f5] rounded-md bg-white shadow-lg",children:r.jsx(d4e,{diaChi:e,onSubmit:C,onCancel:S,provinces:i,districts:o,wards:l,selectedProvince:d,setSelectedProvince:f,selectedDistrict:h,setSelectedDistrict:m,selectedWard:A,setSelectedWard:g,isLoadingProvinces:p,isLoadingDistricts:x,isLoadingWards:y,formErrors:P})})})]})})})},IV=()=>{const[e,t]=B.useState([]),[n,s]=B.useState([]),[i,a]=B.useState([]),[o,c]=B.useState(null),[l,u]=B.useState(null),[d,f]=B.useState(null),[h,m]=B.useState(!1),[A,g]=B.useState(!1),[p,b]=B.useState(!1),[x,v]=B.useState(!1),[y,N]=B.useState(!1),[P,M]=B.useState({}),[k,D]=B.useState(null),[O,L]=B.useState(null),[F,_]=B.useState(!1),E="https://bicacuatho.azurewebsites.net",T=()=>{const C=localStorage.getItem("token");return C?{Authorization:`Bearer ${C}`}:{}};B.useEffect(()=>{(async()=>{m(!0);try{const j=await fetch(`${E}/api/GHN/provinces`,{headers:T()});if(!j.ok)throw new Error(`HTTP error! status: ${j.status}`);const I=(await j.json()).map(R=>({ProvinceID:R.provinceID,ProvinceName:R.provinceName}));t(I)}catch(j){console.error("Error fetching provinces:",j),M(S=>({...S,tinh:"Không thể tải danh sách tỉnh/thành phố"}))}finally{m(!1)}})()},[E]),B.useEffect(()=>{if(!(o!=null&&o.ProvinceID)){s([]),a([]),u(null),f(null),D(null),L(null),M(j=>({...j,quanHuyen:void 0,phuongXa:void 0,leadTime:void 0,shippingFee:void 0}));return}(async()=>{g(!0);try{const j=await fetch(`${E}/api/GHN/districts/${o.ProvinceID}`,{headers:T()});if(!j.ok)throw new Error(`HTTP error! status: ${j.status}`);const I=(await j.json()).map(R=>({DistrictID:R.districtID,DistrictName:R.districtName}));s(I),a([]),u(null),f(null),D(null),L(null),M(R=>({...R,quanHuyen:void 0,phuongXa:void 0,leadTime:void 0,shippingFee:void 0}))}catch(j){console.error("Error fetching districts:",j),M(S=>({...S,quanHuyen:"Không thể tải danh sách quận/huyện"}))}finally{g(!1)}})()},[o,E]),B.useEffect(()=>{if(!(l!=null&&l.DistrictID)){a([]),f(null),D(null),L(null),M(j=>({...j,phuongXa:void 0,leadTime:void 0,shippingFee:void 0}));return}(async()=>{b(!0);try{const j=await fetch(`${E}/api/GHN/wards/${l.DistrictID}`,{headers:T()});if(!j.ok)throw new Error(`HTTP error! status: ${j.status}`);const I=(await j.json()).map(R=>({WardCode:R.wardCode,WardName:R.wardName}));a(I),f(null),D(null),L(null),M(R=>({...R,phuongXa:void 0,leadTime:void 0,shippingFee:void 0}))}catch(j){console.error("Error fetching wards:",j),M(S=>({...S,phuongXa:"Không thể tải danh sách phường/xã"}))}finally{b(!1)}})()},[l,E]),B.useEffect(()=>{if(!(l!=null&&l.DistrictID)||!(d!=null&&d.WardCode)){D(null),L(null),M(S=>({...S,leadTime:void 0,shippingFee:void 0}));return}const C=async()=>{v(!0);try{const S={from_district_id:1552,from_ward_code:"400103",to_district_id:l.DistrictID,to_ward_code:d.WardCode,service_id:53320},I=await fetch(`${E}/api/GHN/leadtime`,{method:"POST",headers:{"Content-Type":"application/json",...T()},body:JSON.stringify(S)});if(!I.ok)throw new Error(`HTTP error! status: ${I.status}`);const R=await I.json();D(R),M(U=>({...U,leadTime:void 0}))}catch(S){console.error("Error fetching lead time:",S),M(I=>({...I,leadTime:"Không thể tải thời gian giao hàng dự kiến"}))}finally{v(!1)}},j=async()=>{N(!0);try{const S={service_type_id:2,from_district_id:1552,from_ward_code:"400103",to_district_id:l.DistrictID,to_ward_code:d.WardCode,length:35,width:25,height:10,weight:1e3,insurance_value:0,coupon:null,items:[]},I=await fetch(`${E}/api/GHN/shipping-fee`,{method:"POST",headers:{"Content-Type":"application/json",...T()},body:JSON.stringify(S)});if(!I.ok)throw new Error(`HTTP error! status: ${I.status}`);const R=await I.json();L(R),M(U=>({...U,shippingFee:void 0}))}catch(S){console.error("Error fetching shipping fee:",S),M(I=>({...I,shippingFee:"Không thể tải phí giao hàng dự kiến"}))}finally{N(!1)}};C(),j()},[l,d,E]);const w=C=>{const j=new Date(C),S=j.getDate(),I=j.getMonth()+1,R=j.getFullYear();return`${S}, tháng ${I}, năm ${R} nhận hàng`};return r.jsxs("div",{style:Ex.containerWrapper,children:[r.jsx("div",{style:Ex.headerContainer,children:r.jsxs("button",{onClick:()=>_(!F),style:Ex.toggleButton,children:["Thời gian giao hàng dự kiến",F?r.jsx(Tm,{size:18}):r.jsx(ml,{size:18})]})}),F&&r.jsx("div",{style:Ex.container,children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(De,{htmlFor:"tinh",className:"block text-sm font-medium text-[#2c3e50]",children:"Tỉnh/Thành phố"}),r.jsx(Jl,{options:e,getOptionLabel:C=>C.ProvinceName,getOptionValue:C=>C.ProvinceID.toString(),value:o,onChange:C=>c(C),placeholder:h?"Đang tải...":"Chọn tỉnh/thành phố",isDisabled:h,isSearchable:!0,isClearable:!0,className:`w-full text-[#2c3e50] ${P.tinh?"border-[#ef4444]":""}`,styles:{control:C=>({...C,borderColor:P.tinh?"#ef4444":"#d1d5db","&:hover":{borderColor:P.tinh?"#ef4444":"#9b87f5"},boxShadow:"none","&:focus-within":{borderColor:"#9b87f5",boxShadow:"0 0 0 2px rgba(155, 135, 245, 0.5)"}}),singleValue:C=>({...C,color:"#2c3e50"}),placeholder:C=>({...C,color:"#6b7280"}),menu:C=>({...C,zIndex:50,backgroundColor:"#ffffff"}),option:(C,j)=>({...C,backgroundColor:j.isSelected?"#9b87f5":j.isFocused?"#f3effe":"#ffffff",color:j.isSelected?"#ffffff":"#2c3e50","&:hover":{backgroundColor:"#f3effe"}})}}),P.tinh&&r.jsx("p",{className:"mt-1 text-sm text-[#ef4444]",children:P.tinh})]}),r.jsxs("div",{children:[r.jsx(De,{htmlFor:"quanHuyen",className:"block text-sm font-medium text-[#2c3e50]",children:"Quận/Huyện"}),r.jsx(Jl,{options:n,getOptionLabel:C=>C.DistrictName,getOptionValue:C=>C.DistrictID.toString(),value:l,onChange:C=>u(C),placeholder:A?"Đang tải...":"Chọn quận/huyện",isDisabled:!o||A,isSearchable:!0,isClearable:!0,className:`w-full text-[#2c3e50] ${P.quanHuyen?"border-[#ef4444]":""}`,styles:{control:C=>({...C,borderColor:P.quanHuyen?"#ef4444":"#d1d5db","&:hover":{borderColor:P.quanHuyen?"#ef4444":"#9b87f5"},boxShadow:"none","&:focus-within":{borderColor:"#9b87f5",boxShadow:"0 0 0 2px rgba(155, 135, 245, 0.5)"}}),singleValue:C=>({...C,color:"#2c3e50"}),placeholder:C=>({...C,color:"#6b7280"}),menu:C=>({...C,zIndex:50,backgroundColor:"#ffffff"}),option:(C,j)=>({...C,backgroundColor:j.isSelected?"#9b87f5":j.isFocused?"#f3effe":"#ffffff",color:j.isSelected?"#ffffff":"#2c3e50","&:hover":{backgroundColor:"#f3effe"}})}}),P.quanHuyen&&r.jsx("p",{className:"mt-1 text-sm text-[#ef4444]",children:P.quanHuyen})]}),r.jsxs("div",{children:[r.jsx(De,{htmlFor:"phuongXa",className:"block text-sm font-medium text-[#2c3e50]",children:"Phường/Xã"}),r.jsx(Jl,{options:i,getOptionLabel:C=>C.WardName,getOptionValue:C=>C.WardCode,value:d,onChange:C=>f(C),placeholder:p?"Đang tải...":"Chọn phường/xã",isDisabled:!l||p,isSearchable:!0,isClearable:!0,className:`w-full text-[#2c3e50] ${P.phuongXa?"border-[#ef4444]":""}`,styles:{control:C=>({...C,borderColor:P.phuongXa?"#ef4444":"#d1d5db","&:hover":{borderColor:P.phuongXa?"#ef4444":"#9b87f5"},boxShadow:"none","&:focus-within":{borderColor:"#9b87f5",boxShadow:"0 0 0 2px rgba(155, 135, 245, 0.5)"}}),singleValue:C=>({...C,color:"#2c3e50"}),placeholder:C=>({...C,color:"#6b7280"}),menu:C=>({...C,zIndex:50,backgroundColor:"#ffffff"}),option:(C,j)=>({...C,backgroundColor:j.isSelected?"#9b87f5":j.isFocused?"#f3effe":"#ffffff",color:j.isSelected?"#ffffff":"#2c3e50","&:hover":{backgroundColor:"#f3effe"}})}}),P.phuongXa&&r.jsx("p",{className:"mt-1 text-sm text-[#ef4444]",children:P.phuongXa})]}),r.jsxs("div",{children:[r.jsx(De,{htmlFor:"shippingFee",className:"block text-sm font-medium text-[#2c3e50]",children:"Phí giao hàng dự kiến"}),y?r.jsx(ye,{id:"shippingFee",value:"Đang tính phí giao hàng...",readOnly:!0,className:"w-full text-[#2c3e50] bg-[#f9fafb] border-[#d1d5db] focus:border-[#9b87f5] focus:ring-[#9b87f5] focus:ring-opacity-50"}):O&&O.total?r.jsx(ye,{id:"shippingFee",value:`${O.total.toLocaleString()} VND`,readOnly:!0,className:"w-full text-[#2c3e50] bg-[#f9fafb] border-[#d1d5db] focus:border-[#9b87f5] focus:ring-[#9b87f5] focus:ring-opacity-50"}):r.jsx(ye,{id:"shippingFee",value:"",placeholder:"Xem phí giao hàng",readOnly:!0,className:"w-full text-[#2c3e50] bg-[#f9fafb] border-[#d1d5db] focus:border-[#9b87f5] focus:ring-[#9b87f5] focus:ring-opacity-50"}),P.shippingFee&&r.jsx("p",{className:"mt-1 text-sm text-[#ef4444]",children:P.shippingFee})]}),r.jsxs("div",{children:[r.jsx(De,{htmlFor:"leadTime",className:"block text-sm font-medium text-[#2c3e50]",children:"Thời gian giao hàng dự kiến"}),x?r.jsx(ye,{id:"leadTime",value:"Đang tính thời gian giao hàng...",readOnly:!0,className:"w-full text-[#2c3e50] bg-[#f9fafb] border-[#d1d5db] focus:border-[#9b87f5] focus:ring-[#9b87f5] focus:ring-opacity-50"}):k?r.jsx(ye,{id:"leadTime",value:w(k.leadtime_order.to_estimate_date),readOnly:!0,className:"w-full text-[#2c3e50] bg-[#f9fafb] border-[#d1d5db] focus:border-[#9b87f5] focus:ring-[#9b87f5] focus:ring-opacity-50"}):r.jsx(ye,{id:"leadTime",value:"",placeholder:"Xem thời gian giao hàng",readOnly:!0,className:"w-full text-[#2c3e50] bg-[#f9fafb] border-[#d1d5db] focus:border-[#9b87f5] focus:ring-[#9b87f5] focus:ring-opacity-50"}),P.leadTime&&r.jsx("p",{className:"mt-1 text-sm text-[#ef4444]",children:P.leadTime})]})]})})]})},Ex={containerWrapper:{maxWidth:"1200px",margin:"30px auto",position:"relative"},headerContainer:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginBottom:"10px"},toggleButton:{padding:"8px 27px",borderRadius:"4px",border:"1px solid #d1d5db",backgroundColor:"#f5f5ff",fontSize:"16px",fontWeight:"bold",cursor:"pointer",outline:"none",transition:"border-color 0.3s",display:"flex",alignItems:"center",gap:"6px",color:"#2c3e50"},container:{padding:"15px",border:"1px solid #d1d5db",borderRadius:"8px",backgroundColor:"#ffffff",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}},h4e={"Hà Nội":{fee:4e4,time:"3 - 5 ngày"},"TP. Hồ Chí Minh":{fee:2e4,time:"2 - 3 ngày"},"Hải Phòng":{fee:45e3,time:"3 - 5 ngày"},"Đà Nẵng":{fee:3e4,time:"2 - 3 ngày"},"Cần Thơ":{fee:3e4,time:"2 - 4 ngày"},"An Giang":{fee:35e3,time:"3 - 4 ngày"},"Bà Rịa - Vũng Tàu":{fee:25e3,time:"2 - 3 ngày"},"Bắc Giang":{fee:45e3,time:"3 - 5 ngày"},"Bắc Kạn":{fee:5e4,time:"4 - 6 ngày"},"Bạc Liêu":{fee:35e3,time:"3 - 4 ngày"},"Bắc Ninh":{fee:4e4,time:"3 - 5 ngày"},"Bến Tre":{fee:3e4,time:"2 - 4 ngày"},"Bình Định":{fee:25e3,time:"2 - 3 ngày"},"Bình Dương":{fee:2e4,time:"2 - 3 ngày"},"Bình Phước":{fee:2e4,time:"2 - 3 ngày"},"Bình Thuận":{fee:25e3,time:"2 - 3 ngày"},"Cà Mau":{fee:35e3,time:"3 - 5 ngày"},"Cao Bằng":{fee:5e4,time:"4 - 6 ngày"},"Đắk Lắk":{fee:0,time:"Nội tỉnh"},"Đắk Nông":{fee:15e3,time:"1 - 2 ngày"},"Điện Biên":{fee:5e4,time:"4 - 6 ngày"},"Đồng Nai":{fee:2e4,time:"2 - 3 ngày"},"Đồng Tháp":{fee:3e4,time:"3 - 4 ngày"},"Gia Lai":{fee:15e3,time:"1 - 2 ngày"},"Hà Giang":{fee:5e4,time:"4 - 6 ngày"},"Hà Nam":{fee:45e3,time:"3 - 5 ngày"},"Hà Tĩnh":{fee:35e3,time:"3 - 4 ngày"},"Hải Dương":{fee:45e3,time:"3 - 5 ngày"},"Hậu Giang":{fee:35e3,time:"3 - 4 ngày"},"Hòa Bình":{fee:45e3,time:"3 - 5 ngày"},"Hưng Yên":{fee:4e4,time:"3 - 5 ngày"},"Khánh Hòa":{fee:25e3,time:"2 - 3 ngày"},"Kiên Giang":{fee:35e3,time:"3 - 4 ngày"},"Kon Tum":{fee:15e3,time:"1 - 2 ngày"},"Lai Châu":{fee:5e4,time:"4 - 6 ngày"},"Lâm Đồng":{fee:2e4,time:"1 - 2 ngày"},"Lạng Sơn":{fee:5e4,time:"4 - 6 ngày"},"Lào Cai":{fee:5e4,time:"4 - 6 ngày"},"Long An":{fee:3e4,time:"2 - 4 ngày"},"Nam Định":{fee:45e3,time:"3 - 5 ngày"},"Nghệ An":{fee:35e3,time:"3 - 4 ngày"},"Ninh Bình":{fee:45e3,time:"3 - 5 ngày"},"Ninh Thuận":{fee:25e3,time:"2 - 3 ngày"},"Phú Thọ":{fee:45e3,time:"3 - 5 ngày"},"Phú Yên":{fee:25e3,time:"2 - 3 ngày"},"Quảng Bình":{fee:35e3,time:"3 - 4 ngày"},"Quảng Nam":{fee:25e3,time:"2 - 3 ngày"},"Quảng Ngãi":{fee:25e3,time:"2 - 3 ngày"},"Quảng Ninh":{fee:5e4,time:"4 - 6 ngày"},"Quảng Trị":{fee:3e4,time:"3 - 4 ngày"},"Sóc Trăng":{fee:35e3,time:"3 - 4 ngày"},"Sơn La":{fee:5e4,time:"4 - 6 ngày"},"Tây Ninh":{fee:25e3,time:"2 - 3 ngày"},"Thái Bình":{fee:45e3,time:"3 - 5 ngày"},"Thái Nguyên":{fee:45e3,time:"3 - 5 ngày"},"Thanh Hóa":{fee:4e4,time:"3 - 4 ngày"},"Thừa Thiên Huế":{fee:3e4,time:"2 - 3 ngày"},"Tiền Giang":{fee:3e4,time:"2 - 3 ngày"},"Trà Vinh":{fee:3e4,time:"2 - 3 ngày"},"Tuyên Quang":{fee:5e4,time:"4 - 6 ngày"},"Vĩnh Long":{fee:3e4,time:"2 - 3 ngày"},"Vĩnh Phúc":{fee:45e3,time:"3 - 5 ngày"},"Yên Bái":{fee:5e4,time:"4 - 6 ngày"}},f4e={"ha noi":"Hà Nội","thanh pho ha noi":"Hà Nội","tp ho chi minh":"TP. Hồ Chí Minh","thanh pho ho chi minh":"TP. Hồ Chí Minh","ho chi minh":"TP. Hồ Chí Minh","hai phong":"Hải Phòng","thanh pho hai phong":"Hải Phòng","da nang":"Đà Nẵng","thanh pho da nang":"Đà Nẵng","can tho":"Cần Thơ","thanh pho can tho":"Cần Thơ","an giang":"An Giang","tinh an giang":"An Giang","ba ria vung tau":"Bà Rịa - Vũng Tàu","tinh ba ria vung tau":"Bà Rịa - Vũng Tàu","bac giang":"Bắc Giang","tinh bac giang":"Bắc Giang","bac kan":"Bắc Kạn","tinh bac kan":"Bắc Kạn","bac lieu":"Bạc Liêu","tinh bac lieu":"Bạc Liêu","bac ninh":"Bắc Ninh","tinh bac ninh":"Bắc Ninh","ben tre":"Bến Tre","tinh ben tre":"Bến Tre","binh dinh":"Bình Định","tinh binh dinh":"Bình Định","binh duong":"Bình Dương","tinh binh duong":"Bình Dương","binh phuoc":"Bình Phước","tinh binh phuoc":"Bình Phước","binh thuan":"Bình Thuận","tinh binh thuan":"Bình Thuận","ca mau":"Cà Mau","tinh ca mau":"Cà Mau","cao bang":"Cao Bằng","tinh cao bang":"Cao Bằng","dak lak":"Đắk Lắk","tinh dak lak":"Đắk Lắk","dak nong":"Đắk Nông","tinh dak nong":"Đắk Nông","dien bien":"Điện Biên","tinh dien bien":"Điện Biên","dong nai":"Đồng Nai","tinh dong nai":"Đồng Nai","dong thap":"Đồng Tháp","tinh dong thap":"Đồng Tháp","gia lai":"Gia Lai","tinh gia lai":"Gia Lai","ha giang":"Hà Giang","tinh ha giang":"Hà Giang","ha nam":"Hà Nam","tinh ha nam":"Hà Nam","ha tinh":"Hà Tĩnh","tinh ha tinh":"Hà Tĩnh","hai duong":"Hải Dương","tinh hai duong":"Hải Dương","hau giang":"Hậu Giang","tinh hau giang":"Hậu Giang","hoa binh":"Hòa Bình","tinh hoa binh":"Hòa Bình","hung yen":"Hưng Yên","tinh hung yen":"Hưng Yên","khanh hoa":"Khánh Hòa","tinh khanh hoa":"Khánh Hòa","kien giang":"Kiên Giang","tinh kien giang":"Kiên Giang","kon tum":"Kon Tum","tinh kon tum":"Kon Tum","lai chau":"Lai Châu","tinh lai chau":"Lai Châu","lam dong":"Lâm Đồng","tinh lam dong":"Lâm Đồng","lang son":"Lạng Sơn","tinh lang son":"Lạng Sơn","lao cai":"Lào Cai","tinh lao cai":"Lào Cai","long an":"Long An","tinh long an":"Long An","nam dinh":"Nam Định","tinh nam dinh":"Nam Định","nghe an":"Nghệ An","tinh nghe an":"Nghệ An","ninh binh":"Ninh Bình","tinh ninh binh":"Ninh Bình","ninh thuan":"Ninh Thuận","tinh ninh thuan":"Ninh Thuận","phu tho":"Phú Thọ","tinh phu tho":"Phú Thọ","phu yen":"Phú Yên","tinh phu yen":"Phú Yên","quang binh":"Quảng Bình","tinh quang binh":"Quảng Bình","quang nam":"Quảng Nam","tinh quang nam":"Quảng Nam","quang ngai":"Quảng Ngãi","tinh quang ngai":"Quảng Ngãi","quang ninh":"Quảng Ninh","tinh quang ninh":"Quảng Ninh","quang tri":"Quảng Trị","tinh quang tri":"Quảng Trị","soc trang":"Sóc Trăng","tinh soc trang":"Sóc Trăng","son la":"Sơn La","tinh son la":"Sơn La","tay ninh":"Tây Ninh","tinh tay ninh":"Tây Ninh","thai binh":"Thái Bình","tinh thai binh":"Thái Bình","thai nguyen":"Thái Nguyên","tinh thai nguyen":"Thái Nguyên","thanh hoa":"Thanh Hóa","tinh thanh hoa":"Thanh Hóa","thua thien hue":"Thừa Thiên Huế","tinh thua thien hue":"Thừa Thiên Huế","tien giang":"Tiền Giang","tinh tien giang":"Tiền Giang","tra vinh":"Trà Vinh","tinh tra vinh":"Trà Vinh","tuyen quang":"Tuyên Quang","tinh tuyen quang":"Tuyên Quang","vinh long":"Vĩnh Long","tinh vinh long":"Vĩnh Long","vinh phuc":"Vĩnh Phúc","tinh vinh phuc":"Vĩnh Phúc","yen bai":"Yên Bái","tinh yen bai":"Yên Bái"},m4e=()=>{const e=gr(),t=Bs(),[n,s]=B.useState([]),[i,a]=B.useState([]),[o,c]=B.useState(""),[l,u]=B.useState(!1),[d,f]=B.useState(0),[h,m]=B.useState(0),[A,g]=B.useState(!1),[p,b]=B.useState(null),[x,v]=B.useState(""),[y,N]=B.useState(null),[P,M]=B.useState([]),[k,D]=B.useState([]),[O,L]=B.useState([]),[F,_]=B.useState([]),[E,T]=B.useState(!1),[w,C]=B.useState(0),[j,S]=B.useState("cod"),[I,R]=B.useState(!1),[U,z]=B.useState(!1),[V,X]=B.useState(()=>{const Y=localStorage.getItem("checkoutForm");return Y?JSON.parse(Y):{tenNguoiNhan:"",sdt:"",province:"",district:"",ward:"",specificAddress:""}}),$=Y=>Math.round(Y).toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),W=Y=>Y?Y.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/^(thanh pho|tinh|quan|huyen|phuong|xa)\s+/i,"").replace(/\s+/g," ").trim():"";B.useEffect(()=>{localStorage.setItem("checkoutForm",JSON.stringify(V))},[V]),B.useEffect(()=>{var oe;const Y=async()=>{var ce;const ae="KH001";try{const pe=await(await fetch(`https://bicacuatho.azurewebsites.net/api/DanhSachDiaChi/maNguoiDung/${ae}`)).json();_(pe.sort((Ae,le)=>le.trangThai-Ae.trangThai)),(ce=t.state)!=null&&ce.newAddress&&J(t.state.newAddress)}catch(de){At.error("Không thể tải danh sách địa chỉ"),console.error("Error fetching addresses:",de)}};if((oe=t.state)!=null&&oe.fromDiachi){Y(),localStorage.getItem("showAddressModal")==="true"&&T(!0);const ce=localStorage.getItem("scrollY");ce&&window.scrollTo(0,parseInt(ce))}},[t]),B.useEffect(()=>{const Y=async()=>{const ce=localStorage.getItem("userId");if(!ce){we.fire({title:"Vui lòng đăng nhập!",text:"Bạn cần đăng nhập để xem giỏ hàng.",icon:"warning",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{e("/login")});return}const de=`https://api.qrserver.com/v1/create-qr-code/?data=${encodeURIComponent(`https://bicacuatho.azurewebsites.net/api/Cart/CopyGioHang?id=${ce}`)}&size=200x200`;v(de);try{const Ae=await(await fetch(`https://bicacuatho.azurewebsites.net/api/Cart/GioHangByKhachHang?id=${ce}`)).json();N(Ae.id);const le=Ae.ctghSanPhamView.map(ve=>({...ve,hinhAnh:ve.hinhAnh.startsWith("data:image")?ve.hinhAnh:`data:image/jpeg;base64,${ve.hinhAnh}`}));s(le);const he=Ae.ctghComboView.map(ve=>{var _e;return{...ve,chiTietGioHangCombo:ve.chiTietGioHangCombo,hinhAnh:(_e=ve.hinhAnh)!=null&&_e.startsWith("data:image")?ve.hinhAnh:ve.hinhAnh?`data:image/jpeg;base64,${ve.hinhAnh}`:"/placeholder-image.jpg",sanPhamList:ve.sanPhamList.map(Te=>{var Ue;return{...Te,hinhAnh:(Ue=Te.hinhAnh)!=null&&Ue.startsWith("data:image")?Te.hinhAnh:Te.hinhAnh?`data:image/jpeg;base64,${Te.hinhAnh}`:"/placeholder-image.jpg"}})}});a(he);const me=le.reduce((ve,_e)=>ve+_e.tienSanPham*_e.soLuong,0)+he.reduce((ve,_e)=>ve+_e.gia*_e.soLuong,0);m(me+w)}catch{}},oe=async()=>{try{const ce=await fetch("/api/ghn/shiip/public-api/master-data/province",{headers:{Token:"903018aa-0a3f-11f0-9f28-eacfdef119b3"}});if(!ce.ok)throw new Error(`Lỗi HTTP! Mã trạng thái: ${ce.status}`);const de=await ce.json();M(de.data||[])}catch(ce){At.error("Không thể tải danh sách tỉnh/thành phố"),console.error("Error fetching provinces:",ce)}},ae=async()=>{const ce=localStorage.getItem("userId");if(ce)try{const pe=await(await fetch(`https://bicacuatho.azurewebsites.net/api/DanhSachDiaChi/maNguoiDung/${ce}`)).json();_(pe.sort((Ae,le)=>le.trangThai-Ae.trangThai))}catch(de){At.error("Không thể tải danh sách địa chỉ"),console.error("Error fetching addresses:",de)}};Y(),oe(),ae()},[e]);const H=async Y=>{X(ce=>({...ce,province:Y,district:"",ward:""})),D([]),L([]);const oe=P.find(ce=>ce.ProvinceID.toString()===Y);if(oe){const ce=h4e[oe.ProvinceName.trim()]||{fee:0};C(ce.fee),console.log("Province changed:",{province:oe.ProvinceName,shippingFee:ce.fee})}else console.log("No valid province selected, keeping current shippingFee");const ae=se();if(m(ae-d+w),Y)try{const ce=await fetch(`/api/ghn/shiip/public-api/master-data/district?province_id=${Y}`,{headers:{Token:"903018aa-0a3f-11f0-9f28-eacfdef119b3"}});if(!ce.ok)throw new Error(`Lỗi HTTP! Mã trạng thái: ${ce.status}`);const de=await ce.json();console.log("Provinces from API:",de.data),D(de.data||[])}catch(ce){At.error("Không thể tải danh sách quận/huyện"),console.error("Lỗi khi lấy danh sách huyện:",ce)}},Q=async Y=>{if(X(oe=>({...oe,district:Y,ward:""})),L([]),Y)try{const oe=await fetch(`/api/ghn/shiip/public-api/master-data/ward?district_id=${Y}`,{headers:{Token:"903018aa-0a3f-11f0-9f28-eacfdef119b3"}});if(!oe.ok)throw new Error(`Lỗi HTTP! Mã trạng thái: ${oe.status}`);const ae=await oe.json();L(ae.data||[])}catch(oe){At.error("Không thể tải danh sách phường/xã"),console.error("Lỗi khi lấy danh sách phường/xã:",oe)}},G=Y=>{if(!Y)return 0;const oe=Y.match(/\d+(\.\d{3})?/);return oe?parseFloat(oe[0].replace(".","")):0},J=async Y=>{z(!0);try{if(Y.trangThai!==1){At.error("Địa chỉ không hoạt động, vui lòng chọn địa chỉ khác");return}if(!P.length){At.error("Danh sách tỉnh/thành phố chưa tải, vui lòng thử lại");return}const oe=W(Y.tinh),ae=f4e[oe]||oe;console.log("Normalized Province Name:",oe),console.log("Mapped Province Name:",ae);const ce=P.find(Ee=>{const Me=W(Ee.ProvinceName),Ie=W(ae);return Me===Ie});if(!ce){At.error(`Không tìm thấy tỉnh/thành phố: ${Y.tinh}. Vui lòng kiểm tra lại hoặc thêm địa chỉ mới.`),console.log("Available Provinces:",P.map(Ee=>Ee.ProvinceName?W(Ee.ProvinceName):"")),T(!0);return}const de=await fetch(`/api/ghn/shiip/public-api/master-data/district?province_id=${ce.ProvinceID}`,{headers:{Token:"903018aa-0a3f-11f0-9f28-eacfdef119b3"}});if(!de.ok)throw At.error("Lỗi khi tải danh sách quận/huyện"),new Error(`HTTP error: ${de.status}`);const pe=await de.json(),Ae=W(Y.quanHuyen),le=pe.data.find(Ee=>W(Ee.DistrictName)===Ae);if(!le){At.error(`Không tìm thấy quận/huyện: ${Y.quanHuyen}`),console.log("Available Districts:",pe.data.map(Ee=>W(Ee.DistrictName)));return}const he=await fetch(`/api/ghn/shiip/public-api/master-data/ward?district_id=${le.DistrictID}`,{headers:{Token:"903018aa-0a3f-11f0-9f28-eacfdef119b3"}});if(!he.ok)throw At.error("Lỗi khi tải danh sách phường/xã"),new Error(`HTTP error: ${he.status}`);const me=await he.json();console.log("Ward Data:",me);const ve=W(Y.phuongXa),_e=me.data.find(Ee=>W(Ee.WardName)===ve);if(!_e){At.error(`Không tìm thấy phường/xã: ${Y.phuongXa}`),console.log("Available Wards:",me.data.map(Ee=>Ee.WardName?W(Ee.WardName):"")),T(!0);return}const Te=G(Y.moTa);C(Te),D(pe.data||[]),L(me.data||[]),X({tenNguoiNhan:Y.hoTen,sdt:Y.sdt,province:ce.ProvinceID.toString(),district:le.DistrictID.toString(),ward:_e.WardCode.toString(),specificAddress:Y.diaChi});const Ue=se();m(Ue-d+Te),T(!1),At.success("Đã chọn địa chỉ thành công")}catch(oe){At.error("Không thể chọn địa chỉ, vui lòng thử lại"),console.error("Error in handleSelectAddress:",oe)}finally{z(!1)}},ee=async(Y,oe)=>{const ae=localStorage.getItem("userId");if(!ae){we.fire({title:"Vui lòng đăng nhập!",text:"Bạn cần đăng nhập để thay đổi số lượng.",icon:"warning",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{e("/login")});return}const ce={MaKhachHang:ae,IDSanPham:Y,IDCombo:null};try{oe>0?await fetch("https://bicacuatho.azurewebsites.net/api/Cart/TangSoLuongSanPham",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ce)}):await fetch("https://bicacuatho.azurewebsites.net/api/Cart/GiamSoLuongSanPham",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ce)}),s(pe=>pe.map(Ae=>Ae.idSanPham===Y?{...Ae,soLuong:Math.max(1,Ae.soLuong+oe)}:Ae));const de=se();m(de-d+w)}catch(de){At.error("Không thể cập nhật số lượng"),console.error("Error updating quantity:",de)}},K=async Y=>{const oe=localStorage.getItem("userId");if(!oe){we.fire({title:"Vui lòng đăng nhập!",text:"Bạn cần đăng nhập để xóa sản phẩm.",icon:"warning",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{e("/login")});return}if((await we.fire({title:"Bạn có chắc không?",text:"Bạn có muốn xóa sản phẩm này khỏi giỏ hàng?",icon:"warning",showCancelButton:!0,confirmButtonText:"Có, xóa nó!",cancelButtonText:"Không, giữ lại"})).isConfirmed){const ce={MaKhachHang:oe,IDSanPham:Y,IDCombo:null};try{await fetch("https://bicacuatho.azurewebsites.net/api/Cart/XoaSanPham",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(ce)}),s(pe=>pe.filter(Ae=>Ae.idSanPham!==Y)),At.success("Đã xóa sản phẩm khỏi giỏ hàng");const de=se();m(de-d+w)}catch{At.error("Xóa sản phẩm thất bại")}}},ne=async Y=>{const oe=localStorage.getItem("userId");if(!oe){we.fire({title:"Vui lòng đăng nhập!",text:"Bạn cần đăng nhập để xóa combo.",icon:"warning",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{e("/login")});return}if((await we.fire({title:"Bạn có chắc không?",text:"Bạn có muốn xóa combo này khỏi giỏ hàng?",icon:"warning",showCancelButton:!0,confirmButtonText:"Có, xóa nó!",cancelButtonText:"Không, giữ lại"})).isConfirmed){const ce={MaKhachHang:oe,IDSanPham:null,IDCombo:Y};try{await fetch("https://bicacuatho.azurewebsites.net/api/Cart/XoaCombo",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(ce)}),a(pe=>pe.filter(Ae=>Ae.idCombo!==Y)),At.success("Đã xóa combo khỏi giỏ hàng");const de=se();m(de-d+w)}catch(de){At.error("Xóa combo thất bại"),console.error("Error removing combo:",de)}}},ue=Y=>{a(ae=>ae.map(ce=>ce.idCombo===Y.idCombo?Y:ce));const oe=se();m(oe-d+w)},se=()=>{const Y=n.reduce((ae,ce)=>ae+ce.tienSanPham*ce.soLuong,0),oe=i.reduce((ae,ce)=>ae+ce.gia*ce.soLuong,0);return Y+oe},ie=()=>d,q=()=>se()-d+w,Z=Y=>{const{name:oe,value:ae}=Y.target;X(ce=>({...ce,[oe]:ae}))},te=async()=>{if(!o){At.error("Vui lòng nhập mã giảm giá");return}if(!y){At.error("Giỏ hàng không hợp lệ");return}try{const Y=await fetch(`https://bicacuatho.azurewebsites.net/api/Voucher/Validate?code=${encodeURIComponent(o)}&cartId=${y}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(console.log("Response Status:",Y.status),!Y.ok){const ae=await Y.text();throw new Error(`HTTP error! Status: ${Y.status}`)}const oe=await Y.json();console.log("API Response:",oe),oe.success?(u(!0),f(oe.discountAmount),m(se()-oe.discountAmount+w),At.success("Mã giảm giá đã được áp dụng!")):(u(!1),f(0),m(se()+w),At.error(oe.message))}catch(Y){console.error("Error details:",Y),At.error("Mã giảm giá không hợp lệ, không đủ điều kiện hoặc đã hết hạn.")}},re=async Y=>{var de,pe;Y.preventDefault();const oe=localStorage.getItem("userId");if(!oe){we.fire({title:"Vui lòng đăng nhập!",text:"Bạn cần đăng nhập để thanh toán.",icon:"warning",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{e("/login")});return}if(["tenNguoiNhan","sdt","province","district","ward","specificAddress"].filter(Ae=>!V[Ae]).length>0){At.error("Vui lòng điền đầy đủ thông tin giao hàng");return}j==="cod"&&R(!0);try{const le=await(await fetch(`https://bicacuatho.azurewebsites.net/api/Cart/GioHangByKhachHang?id=${oe}`)).json();N(le.id);const he=le.ctghSanPhamView.map(ke=>({...ke,hinhAnh:ke.hinhAnh.startsWith("data:image")?ke.hinhAnh:`data:image/jpeg;base64,${ke.hinhAnh}`}));s(he);const me=le.ctghComboView.map(ke=>{var ze;return{...ke,chiTietGioHangCombo:ke.chiTietGioHangCombo,hinhAnh:(ze=ke.hinhAnh)!=null&&ze.startsWith("data:image")?ke.hinhAnh:ke.hinhAnh?`data:image/jpeg;base64,${ke.hinhAnh}`:"/placeholder-image.jpg",sanPhamList:ke.sanPhamList.map(Re=>{var Ve;return{...Re,hinhAnh:(Ve=Re.hinhAnh)!=null&&Ve.startsWith("data:image")?Re.hinhAnh:Re.hinhAnh?`data:image/jpeg;base64,${Re.hinhAnh}`:"/placeholder-image.jpg"}})}});if(a(me),o){const ze=await(await fetch(`https://bicacuatho.azurewebsites.net/api/Voucher/Validate?code=${encodeURIComponent(o)}&cartId=${le.id}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json();if(ze.success)u(!0),f(ze.discountAmount);else{u(!1),f(0),At.error("Mã giảm giá không hợp lệ, đã xóa giảm giá"),m(se()+w);return}}const ve=P.find(ke=>ke.ProvinceID.toString()===V.province),_e=k.find(ke=>ke.DistrictID.toString()===V.district),Te=O.find(ke=>ke.WardCode.toString()===V.ward);if(!ve){At.error("Vui lòng chọn tỉnh/thành phố hợp lệ");return}if(!_e){At.error("Vui lòng chọn quận/huyện hợp lệ");return}if(!Te){At.error("Vui lòng chọn phường/xã hợp lệ");return}const Ee=se()-d+w;m(Ee);const Me=((de=k.find(ke=>ke.DistrictID.toString()===V.district))==null?void 0:de.DistrictName)||"",Ie=((pe=O.find(ke=>ke.WardCode.toString()===V.ward))==null?void 0:pe.WardName)||"",Ce=`${V.specificAddress}, ${Ie}, ${Me}, ${ve.ProvinceName}`;if(typeof Ce!="string"||Ce.includes("[object Object]")){At.error("Lỗi định dạng địa chỉ, vui lòng kiểm tra lại"),console.error("Invalid fullAddress:",Ce);return}console.log("Before sending paymentRequest:",{shippingFee:w,finalAmount:Ee});const Pe={cartId:le.id,couponCode:o||null,paymentMethod:j,tenNguoiNhan:V.tenNguoiNhan,sdt:V.sdt,diaChi:Ce,discountAmount:d,shippingFee:w,finalAmount:Ee};console.log("Sending paymentRequest:",Pe);const Ne=await(await fetch("https://bicacuatho.azurewebsites.net/api/CheckOut/process-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Pe)})).json();if(Ne.success){if(j==="cod")At.success(`Thanh toán COD thành công! Mã đơn hàng: ${Ne.orderId}`,{description:"Cảm ơn bạn đã mua sắm. Vui lòng kiểm tra đơn hàng trong mục Lịch sử mua hàng.",duration:5e3,action:{label:"Xem chi tiết",onClick:()=>e("/user/orders",{state:{orderId:Ne.orderId}})}}),s([]),a([]),c(""),u(!1),f(0),m(0),g(!1),localStorage.removeItem("checkoutForm"),localStorage.removeItem("showAddressModal"),localStorage.removeItem("scrollY"),e("/",{state:{orderId:Ne.orderId}});else if(j==="vnpay"){if(Ne.finalAmount!==Ee){At.error(`Tổng tiền VNPay (${$(Ne.finalAmount)} VND) không khớp với kỳ vọng (${$(Ee)} VND). Vui lòng thử lại.`);return}window.location.href=Ne.message}}else{At.error(Ne.message);return}}catch(Ae){At.error("Đã xảy ra lỗi trong quá trình thanh toán"),console.error("Error during checkout:",Ae)}finally{j==="cod"&&R(!1)}};return r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx("main",{className:"flex-1 py-12 px-6",children:r.jsx("div",{className:"container mx-auto max-w-6xl my-[50px]",children:n.length>0||i.length>0?r.jsx(r.Fragment,{children:A?r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("form",{onSubmit:re,className:"bg-white p-6 rounded-lg shadow-sm border border-border",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Thông tin giao hàng"}),r.jsx("div",{className:"relative -top-[7px]",children:r.jsx(kk,{})}),r.jsx("div",{className:"space-x-2",children:r.jsx(fe,{type:"button",onClick:()=>T(!0),className:"bg-purple-600 hover:bg-purple-700 text-white",children:"Chọn địa chỉ có sẵn"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"tenNguoiNhan",children:"Tên người nhận"}),r.jsx(ye,{readOnly:!0,id:"tenNguoiNhan",name:"tenNguoiNhan",value:V.tenNguoiNhan,onChange:Z,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"sdt",children:"Số điện thoại"}),r.jsx(ye,{readOnly:!0,id:"sdt",name:"sdt",type:"tel",value:V.sdt,onChange:Z,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"province",children:"Tỉnh/Thành phố"}),r.jsxs("select",{id:"province",name:"province",value:V.province,onChange:Y=>H(Y.target.value),className:"w-full p-2 border rounded-md",required:!0,disabled:!0,children:[r.jsx("option",{value:"",children:"Chọn tỉnh/thành phố"}),P.map(Y=>r.jsx("option",{value:Y.ProvinceID,children:Y.ProvinceName},Y.ProvinceID))]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"district",children:"Quận/Huyện"}),r.jsxs("select",{id:"district",name:"district",value:V.district,onChange:Y=>Q(Y.target.value),className:"w-full p-2 border rounded-md",required:!0,disabled:!0,children:[r.jsx("option",{value:"",children:"Chọn quận/huyện"}),k.map(Y=>r.jsx("option",{value:Y.DistrictID,children:Y.DistrictName},Y.DistrictID))]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"ward",children:"Phường/Xã"}),r.jsxs("select",{id:"ward",name:"ward",value:V.ward,onChange:Z,className:"w-full p-2 border rounded-md",required:!0,disabled:!0,children:[r.jsx("option",{value:"",children:"Chọn phường/xã"}),O.map(Y=>r.jsx("option",{value:Y.WardCode,children:Y.WardName},Y.WardCode))]})]}),r.jsxs("div",{className:"space-y-2 md:col-span-2",children:[r.jsx(De,{htmlFor:"specificAddress",children:"Địa chỉ cụ thể (số nhà, tên đường)"}),r.jsx(ye,{readOnly:!0,id:"specificAddress",name:"specificAddress",value:V.specificAddress,onChange:Z,required:!0})]})]}),r.jsxs("div",{className:"space-y-2 mb-6",children:[r.jsx(De,{children:"Phương thức thanh toán"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"paymentMethod",value:"cod",checked:j==="cod",onChange:()=>S("cod"),className:"mr-2"}),"Thanh toán khi nhận hàng (COD)"]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"paymentMethod",value:"vnpay",checked:j==="vnpay",onChange:()=>S("vnpay"),className:"mr-2"}),"Thanh toán qua VNPay"]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-6 relative",children:[r.jsx(fe,{type:"submit",className:"flex-1 sm:order-2",disabled:!y||j==="cod"&&I,children:j==="cod"?I?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(H8,{size:20,color:"#ffffff",className:"mr-2"}),"Đang xử lý..."]}):"Xác nhận thanh toán COD":"Thanh toán qua VNPay"}),r.jsx(fe,{type:"button",variant:"outline",className:"flex-1 sm:order-1",onClick:()=>g(!1),disabled:I,children:"Quay lại giỏ hàng"}),I&&j==="cod"&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-70 z-50",children:r.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-2xl flex flex-col items-center animate-fade-in max-w-sm w-full",children:[r.jsx(H8,{size:60,color:"#9333ea",className:"mb-4"}),r.jsx("p",{className:"text-lg font-semibold text-gray-800",children:"Đang xử lý đơn hàng..."}),r.jsx("p",{className:"text-sm text-gray-500 mt-2 text-center",children:"Vui lòng đợi trong giây lát, đơn hàng của bạn đang được xử lý."})]})})]})]})}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-border sticky top-4",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Tóm tắt đơn hàng"}),r.jsxs("div",{className:"space-y-3 mb-6",children:[n.map(Y=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[Y.tenSanPham," ",r.jsxs("span",{className:"text-xs",children:["x",Y.soLuong]})]}),r.jsxs("span",{children:[$(Y.tienSanPham*Y.soLuong)," ","VND"]})]},Y.idSanPham)),i.map(Y=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[Y.tenCombo," ",r.jsxs("span",{className:"text-xs",children:["x",Y.soLuong]})]}),r.jsxs("span",{children:[$(Y.gia*Y.soLuong)," VND"]})]},Y.idCombo)),r.jsx("div",{className:"border-t my-3"}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Tổng tiền gốc"}),r.jsxs("span",{children:[$(se())," VND"]})]}),l&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Giảm giá"}),r.jsxs("span",{children:["-",$(ie())," VND"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Phí giao hàng"}),r.jsxs("span",{children:[$(w)," VND"]})]}),r.jsxs("div",{className:"border-t pt-3 flex justify-between font-medium",children:[r.jsx("span",{children:"Tổng tiền"}),r.jsxs("span",{className:"text-lg",children:[$(q())," VND"]})]})]}),r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(ye,{placeholder:"Mã giảm giá (nếu có)",value:o,onChange:Y=>c(Y.target.value),className:"mr-2"}),r.jsx(fe,{size:"sm",onClick:te,children:"Áp Dụng"})]})]})})]}):r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2",children:[n.map(Y=>r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center p-4 mb-4 bg-white rounded-lg shadow-sm border border-border",children:[r.jsx("div",{className:"w-full sm:w-24 h-24 bg-muted rounded-md overflow-hidden mr-4 mb-4 sm:mb-0",children:r.jsx("img",{src:Y.hinhAnh,alt:Y.tenSanPham,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-lg",children:Y.tenSanPham}),r.jsxs("div",{className:"flex flex-col gap-2 p-4 bg-gray-50 rounded-lg shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Kích thước:"}),r.jsx("span",{className:"text-sm text-gray-600",children:Y.kickThuoc})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Màu sắc:"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"inline-block rounded-full border border-gray-200 shadow-sm",style:{backgroundColor:`#${Y.mauSac}`,width:"1.5rem",height:"1.5rem"}}),r.jsx("span",{className:"text-sm text-gray-600 capitalize",children:Y.mauSac})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Đơn Giá:"}),r.jsxs("span",{className:"text-xl font-bold text-crocus-600",children:[$(Y.tienSanPham)," VND"]})]})]})]}),r.jsxs("div",{className:"flex items-center mt-4 sm:mt-0",children:[r.jsx("button",{onClick:()=>ee(Y.idSanPham,-1),className:"p-1 rounded-md hover:bg-muted",children:r.jsx(Bw,{size:16})}),r.jsx("span",{className:"mx-2 w-8 text-center",children:Y.soLuong}),r.jsx("button",{onClick:()=>ee(Y.idSanPham,1),className:"p-1 rounded-md hover:bg-muted",children:r.jsx(mr,{size:16})}),r.jsx("button",{onClick:()=>K(Y.idSanPham),className:"ml-4 p-1 text-red-500 hover:bg-red-50 rounded-md",children:r.jsx(za,{size:16})})]})]},Y.idSanPham)),i.map(Y=>r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center p-4 mb-4 bg-white rounded-lg shadow-sm border border-border",children:[r.jsx("div",{className:"w-full sm:w-24 h-24 bg-muted rounded-md overflow-hidden mr-4 mb-4 sm:mb-0",children:r.jsx("img",{src:Y.hinhAnh,alt:Y.tenCombo,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-lg",children:Y.tenCombo}),r.jsxs("p",{className:"text-muted-foreground",children:["Gồm: ",Y.sanPhamList.length," sản phẩm"]}),r.jsxs("p",{className:"text-muted-foreground",children:[$(Y.gia)," VND"]})]}),r.jsxs("div",{className:"flex items-center mt-4 sm:mt-0",children:[r.jsx("span",{className:"mx-2 w-8 text-center",children:Y.soLuong}),r.jsx(fe,{variant:"outline",size:"sm",className:"ml-2",onClick:()=>b(Y),children:"Cập nhật"}),r.jsx("button",{onClick:()=>ne(Y.idCombo),className:"ml-4 p-1 text-red-500 hover:bg-red-50 rounded-md",children:r.jsx(za,{size:16})})]})]},Y.idCombo))]}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-border",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Giỏ Hàng"}),r.jsxs("div",{className:"space-y-3 mb-6",children:[n.map(Y=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[Y.tenSanPham," ",r.jsxs("span",{className:"text-xs",children:["x",Y.soLuong]})]}),r.jsxs("span",{children:[$(Y.tienSanPham*Y.soLuong)," ","VND"]})]},Y.idSanPham)),i.map(Y=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[Y.tenCombo," ",r.jsxs("span",{className:"text-xs",children:["x",Y.soLuong]})]}),r.jsxs("span",{children:[$(Y.gia*Y.soLuong)," VND"]})]},Y.idCombo)),r.jsx("div",{className:"border-t my-3"}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Tổng tiền gốc"}),r.jsxs("span",{children:[$(se())," VND"]})]}),l&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Giảm giá"}),r.jsxs("span",{children:["-",$(ie())," VND"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Phí giao hàng"}),r.jsxs("span",{children:[$(w)," VND"]})]}),r.jsxs("div",{className:"border-t pt-3 flex justify-between font-medium",children:[r.jsx("span",{children:"Tổng tiền"}),r.jsxs("span",{className:"text-lg",children:[$(q())," VND"]})]})]}),r.jsx(fe,{className:"w-full",onClick:()=>g(!0),children:"Chuyển đến trang Thanh Toán"}),r.jsx(ct,{to:"/",className:"block text-center text-primary hover:underline mt-4",children:"Quay về trang Sản Phẩm"}),r.jsx(IV,{}),x&&r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"text-lg font-medium mb-2 text-center",children:"Chia sẻ mã QR này để cho bạn bè Copy giỏ hàng của bạn"}),r.jsx("img",{src:x,alt:"QR Code",className:"w-48 h-48 mx-auto"})]})]})})]})}):r.jsxs("div",{className:"text-center py-16",children:[r.jsx(Rs,{className:"mx-auto h-16 w-16 text-muted-foreground/60 mb-4"}),r.jsx("h2",{className:"text-2xl font-medium mb-2",children:"Giỏ hàng của bạn đang trống"}),r.jsx("p",{className:"text-muted-foreground mb-8",children:"Có vẻ như bạn chưa thêm sản phẩm hoặc combo nào vào giỏ hàng."}),r.jsx(ct,{to:"/",children:r.jsx(fe,{children:"Tiếp tục mua sắm"})})]})})}),r.jsx(nh,{open:!!p,onOpenChange:Y=>!Y&&b(null),children:r.jsxs(rh,{children:[r.jsx(oc,{className:"fixed inset-0 bg-black/50"}),r.jsx(lc,{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:p&&r.jsx(a4e,{combo:p,onClose:()=>b(null),onUpdateCombo:ue})})]})}),r.jsx(nh,{open:E,onOpenChange:Y=>T(Y),children:r.jsxs(rh,{children:[r.jsx(oc,{className:"fixed inset-0 bg-black/50"}),r.jsxs(lc,{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white p-6 rounded-lg shadow-lg max-w-2xl w-full overflow-y-auto max-h-[600px]",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Chọn địa chỉ giao hàng"}),F.length===0?r.jsx("p",{children:"Chưa có địa chỉ nào. Vui lòng thêm địa chỉ mới."}):r.jsx("div",{className:"space-y-4",children:F.map(Y=>r.jsxs("div",{className:"border p-4 rounded-lg bg-white shadow-sm flex justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Họ tên:"})," ",Y.hoTen]}),r.jsxs("p",{children:[r.jsx("strong",{children:"SĐT:"})," ",Y.sdt]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Địa chỉ:"})," ",Y.diaChi,","," ",Y.phuongXa,", ",Y.quanHuyen,", ",Y.tinh]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Trạng thái:"})," ",Y.trangThai===1?"Hoạt động":"Không hoạt động"]})]}),r.jsx(fe,{onClick:()=>J(Y),className:"bg-purple-600 hover:bg-purple-700 text-white",children:"Chọn"})]},Y.maDiaChi))}),r.jsx(fe,{variant:"outline",className:"mt-4",onClick:()=>T(!1),children:"Đóng"})]})]})})]})};var _k="Radio",[p4e,OV]=qs(_k),[A4e,g4e]=p4e(_k),LV=B.forwardRef((e,t)=>{const{__scopeRadio:n,name:s,checked:i=!1,required:a,disabled:o,value:c="on",onCheck:l,form:u,...d}=e,[f,h]=B.useState(null),m=dn(t,p=>h(p)),A=B.useRef(!1),g=f?u||!!f.closest("form"):!0;return r.jsxs(A4e,{scope:n,checked:i,disabled:o,children:[r.jsx(Ct.button,{type:"button",role:"radio","aria-checked":i,"data-state":HV(i),"data-disabled":o?"":void 0,disabled:o,value:c,...d,ref:m,onClick:et(e.onClick,p=>{i||l==null||l(),g&&(A.current=p.isPropagationStopped(),A.current||p.stopPropagation())})}),g&&r.jsx(UV,{control:f,bubbles:!A.current,name:s,value:c,checked:i,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});LV.displayName=_k;var FV="RadioIndicator",RV=B.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:s,...i}=e,a=g4e(FV,n);return r.jsx(_s,{present:s||a.checked,children:r.jsx(Ct.span,{"data-state":HV(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t})})});RV.displayName=FV;var x4e="RadioBubbleInput",UV=B.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:s=!0,...i},a)=>{const o=B.useRef(null),c=dn(o,a),l=m0(n),u=Iw(t);return B.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&m){const A=new Event("click",{bubbles:s});m.call(d,n),d.dispatchEvent(A)}},[l,n,s]),r.jsx(Ct.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:c,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});UV.displayName=x4e;function HV(e){return e?"checked":"unchecked"}var b4e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],K1="RadioGroup",[v4e,pUe]=qs(K1,[Im,OV]),$V=Im(),QV=OV(),[y4e,w4e]=v4e(K1),zV=B.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:s,defaultValue:i,value:a,required:o=!1,disabled:c=!1,orientation:l,dir:u,loop:d=!0,onValueChange:f,...h}=e,m=$V(n),A=Nh(u),[g,p]=na({prop:a,defaultProp:i??null,onChange:f,caller:K1});return r.jsx(y4e,{scope:n,name:s,required:o,disabled:c,value:g,onValueChange:p,children:r.jsx(e5,{asChild:!0,...m,orientation:l,dir:A,loop:d,children:r.jsx(Ct.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":c?"":void 0,dir:A,...h,ref:t})})})});zV.displayName=K1;var VV="RadioGroupItem",KV=B.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:s,...i}=e,a=w4e(VV,n),o=a.disabled||s,c=$V(n),l=QV(n),u=B.useRef(null),d=dn(t,u),f=a.value===i.value,h=B.useRef(!1);return B.useEffect(()=>{const m=g=>{b4e.includes(g.key)&&(h.current=!0)},A=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",A),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",A)}},[]),r.jsx(t5,{asChild:!0,...c,focusable:!o,active:f,children:r.jsx(LV,{disabled:o,required:a.required,checked:f,...l,...i,name:a.name,ref:d,onCheck:()=>a.onValueChange(i.value),onKeyDown:et(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:et(i.onFocus,()=>{var m;h.current&&((m=u.current)==null||m.click())})})})});KV.displayName=VV;var j4e="RadioGroupIndicator",GV=B.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...s}=e,i=QV(n);return r.jsx(RV,{...i,...s,ref:t})});GV.displayName=j4e;var WV=zV,qV=KV,C4e=GV;const kg=B.forwardRef(({className:e,...t},n)=>r.jsx(WV,{className:Fe("grid gap-2",e),...t,ref:n}));kg.displayName=WV.displayName;const Oa=B.forwardRef(({className:e,...t},n)=>r.jsx(qV,{ref:n,className:Fe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(C4e,{className:"flex items-center justify-center",children:r.jsx(pL,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Oa.displayName=qV.displayName;const tf=[{id:1,name:"Crocus Cotton Tee",image:"https://via.placeholder.com/80x80",price:29.99,quantity:1,size:"M",color:"Crocus Purple",type:"product"},{id:2,name:"Linen Blend Shirt",image:"https://via.placeholder.com/80x80",price:49.99,quantity:2,size:"L",color:"White",type:"product"},{id:3,name:"Summer Dress",image:"https://via.placeholder.com/80x80",price:79.99,quantity:1,size:"S",color:"Floral",type:"product"},{id:101,name:"Essential Capsule Combo",image:"https://via.placeholder.com/80x80",additionalImages:["https://via.placeholder.com/40x40?text=1","https://via.placeholder.com/40x40?text=2","https://via.placeholder.com/40x40?text=3"],price:149.99,quantity:1,description:"Crocus Purple blouse, neutral trousers, versatile blazer",type:"combo"}],nf=tf.reduce((e,t)=>e+t.price*t.quantity,0),Px=5.99,Mx=nf*.1,nC=[{code:"WELCOME10",discount:.1},{code:"SUMMER25",discount:.25},{code:"FASHION15",discount:.15},{code:"CROCUS20",discount:.2},{code:"NEWYOU",discount:.3}],N4e=()=>{const[e,t]=B.useState("shipping"),[n,s]=B.useState({fullName:"",address:"",city:"",state:"",zipCode:"",phone:""}),[i,a]=B.useState(""),[o,c]=B.useState(!1),[l,u]=B.useState(0),[d,f]=B.useState(""),[h,m]=B.useState(!1),[A,g]=B.useState(null);wo("mobile"),wo("tablet");const p=nf*l,b=nf+Px+Mx-p,x=k=>{const{name:D,value:O}=k.target;s(L=>({...L,[D]:O}))},v=k=>{k.preventDefault(),t("payment"),window.scrollTo(0,0)},y=k=>{k.preventDefault(),t("review"),window.scrollTo(0,0)},N=k=>{k.preventDefault(),c(!0),setTimeout(()=>{c(!1),t("confirmation"),window.scrollTo(0,0)},1500)},P=()=>{const k=nC.find(D=>D.code===d.toUpperCase());k?(u(k.discount),At.success("Discount code applied successfully!",{description:`${Math.round(k.discount*100)}% discount has been applied to your order.`})):At.error("Invalid discount code",{description:"Please check your code and try again."}),f("")},M=()=>{m(!0),setTimeout(()=>{const k=Math.floor(Math.random()*nC.length),D=nC[k];g(D.code),m(!1),u(D.discount),At.success("You won a discount code!",{description:`${D.code} (${Math.round(D.discount*100)}% off) has been applied to your order.`})},2e3)};return r.jsxs("div",{className:"max-w-4xl mx-auto",children:[e!=="confirmation"&&r.jsxs("div",{className:"mb-6 sm:mb-8",children:[r.jsxs("div",{className:"hidden sm:flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 rounded-full flex items-center justify-center ${e==="shipping"||e==="payment"||e==="review"?"bg-crocus-500 text-white":"bg-gray-200"}`,children:"1"}),r.jsx("div",{className:"ml-2 text-sm sm:text-base",children:"Shipping"})]}),r.jsx("div",{className:"h-0.5 flex-1 bg-gray-200 mx-4"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 rounded-full flex items-center justify-center ${e==="payment"||e==="review"?"bg-crocus-500 text-white":"bg-gray-200"}`,children:"2"}),r.jsx("div",{className:"ml-2 text-sm sm:text-base",children:"Payment"})]}),r.jsx("div",{className:"h-0.5 flex-1 bg-gray-200 mx-4"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 rounded-full flex items-center justify-center ${e==="review"?"bg-crocus-500 text-white":"bg-gray-200"}`,children:"3"}),r.jsx("div",{className:"ml-2 text-sm sm:text-base",children:"Review"})]})]}),r.jsx("div",{className:"sm:hidden",children:r.jsxs("div",{className:"flex justify-between items-center px-2 bg-gray-50 rounded-lg py-2 text-sm",children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center mb-1 ${e==="shipping"||e==="payment"||e==="review"?"bg-crocus-500 text-white":"bg-gray-200"}`,children:"1"}),r.jsx("div",{className:"text-xs",children:"Shipping"})]}),r.jsx("div",{className:"h-0.5 flex-1 bg-gray-200 mx-2"}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center mb-1 ${e==="payment"||e==="review"?"bg-crocus-500 text-white":"bg-gray-200"}`,children:"2"}),r.jsx("div",{className:"text-xs",children:"Payment"})]}),r.jsx("div",{className:"h-0.5 flex-1 bg-gray-200 mx-2"}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center mb-1 ${e==="review"?"bg-crocus-500 text-white":"bg-gray-200"}`,children:"3"}),r.jsx("div",{className:"text-xs",children:"Review"})]})]})})]}),e==="shipping"&&r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-3",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs(it,{children:[r.jsxs(yt,{className:"pb-2 sm:pb-4",children:[r.jsx(jt,{className:"text-lg sm:text-xl",children:"Shipping Information"}),r.jsx(ks,{children:"Enter your shipping details"})]}),r.jsx(dt,{children:r.jsxs("form",{id:"shippingForm",onSubmit:v,className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"fullName",children:"Full Name"}),r.jsx(ye,{id:"fullName",name:"fullName",placeholder:"John Doe",required:!0,value:n.fullName,onChange:x})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"address",children:"Address"}),r.jsx(Ac,{id:"address",name:"address",placeholder:"123 Main St, Apt 4B",required:!0,value:n.address,onChange:x})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"city",children:"City"}),r.jsx(ye,{id:"city",name:"city",placeholder:"New York",required:!0,value:n.city,onChange:x})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"state",children:"State/Province"}),r.jsx(ye,{id:"state",name:"state",placeholder:"NY",required:!0,value:n.state,onChange:x})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"zipCode",children:"Zip/Postal Code"}),r.jsx(ye,{id:"zipCode",name:"zipCode",placeholder:"10001",required:!0,value:n.zipCode,onChange:x})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"phone",children:"Phone Number"}),r.jsx(ye,{id:"phone",name:"phone",placeholder:"(123) 456-7890",required:!0,value:n.phone,onChange:x})]})]})]})}),r.jsxs(Ld,{className:"flex flex-col sm:flex-row justify-between gap-3",children:[r.jsx(fe,{asChild:!0,variant:"outline",className:"w-full sm:w-auto order-2 sm:order-1",children:r.jsx(ct,{to:"/user/cart",children:"Back to Cart"})}),r.jsxs(fe,{type:"submit",form:"shippingForm",className:"bg-crocus-500 hover:bg-crocus-600 w-full sm:w-auto order-1 sm:order-2",children:["Continue to Payment ",r.jsx(jr,{className:"ml-2 h-4 w-4"})]})]})]})}),r.jsxs("div",{className:"order-first lg:order-none mb-4 lg:mb-0",children:[r.jsxs(it,{className:"mb-4 sm:mb-6 sticky top-4",children:[r.jsx(yt,{className:"pb-2 sm:pb-4",children:r.jsx(jt,{className:"text-base sm:text-lg",children:"Order Summary"})}),r.jsxs(dt,{className:"space-y-3 sm:space-y-4",children:[r.jsx("ul",{className:`space-y-2 ${tf.length>2?"max-h-32 sm:max-h-40 overflow-y-auto pr-2":""}`,children:tf.map(k=>r.jsxs("li",{className:"flex justify-between",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("img",{src:k.image,alt:k.name,className:"w-8 h-8 sm:w-10 sm:h-10 object-cover rounded"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-sm sm:text-base",children:k.name}),r.jsxs("span",{className:"text-gray-500 text-xs sm:text-sm ml-1",children:["x",k.quantity]}),k.type==="product"&&r.jsxs("p",{className:"text-xs text-gray-500",children:[k.size," | ",k.color]})]})]}),r.jsxs("span",{className:"text-sm sm:text-base",children:["$",(k.price*k.quantity).toFixed(2)]})]},k.id))}),r.jsx(ji,{}),r.jsxs("div",{className:"space-y-1 text-sm sm:text-base",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal"}),r.jsxs("span",{children:["$",nf.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Shipping"}),r.jsxs("span",{children:["$",Px.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Tax"}),r.jsxs("span",{children:["$",Mx.toFixed(2)]})]}),l>0&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Discount"}),r.jsxs("span",{children:["-$",p.toFixed(2)]})]})]}),r.jsx(ji,{}),r.jsxs("div",{className:"flex justify-between font-medium text-base sm:text-lg",children:[r.jsx("span",{children:"Total"}),r.jsxs("span",{className:"text-crocus-600",children:["$",b.toFixed(2)]})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(Jt,{children:[r.jsx(H5,{asChild:!0,children:r.jsxs(fe,{variant:"outline",className:"w-full",children:[r.jsx(Lr,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-2 text-crocus-500"}),r.jsx("span",{className:"text-sm sm:text-base",children:"Spin for a Discount"})]})}),r.jsxs(Wt,{className:"sm:max-w-md",children:[r.jsxs(an,{children:[r.jsx(tn,{className:"text-center",children:"Lucky Spin Discount"}),r.jsx(Or,{className:"text-center",children:"Spin the wheel to win a discount code for your order!"})]}),r.jsxs("div",{className:"flex flex-col items-center py-4 sm:py-6",children:[r.jsxs("div",{className:"relative w-48 h-48 sm:w-64 sm:h-64 mb-4 sm:mb-6",children:[r.jsx("div",{className:`w-full h-full rounded-full border-8 border-crocus-500 flex items-center justify-center transition-transform duration-1000 ${h?"animate-spin":""}`,style:{backgroundImage:"conic-gradient(#9b87f5, #7E69AB, #6E59A5, #9b87f5, #7E69AB, #6E59A5)",boxShadow:"0 0 15px rgba(155, 135, 245, 0.5)"},children:!h&&A&&r.jsxs("div",{className:"bg-white p-2 sm:p-3 rounded-lg text-center z-10",children:[r.jsx("p",{className:"font-bold text-crocus-700 text-sm sm:text-base",children:A}),r.jsx("p",{className:"text-xs text-gray-500",children:"Applied to your order"})]})}),r.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/3",children:r.jsx("div",{className:"w-0 h-0 border-left-8 border-right-8 border-top-8 border-transparent border-l-transparent border-r-transparent border-b-crocus-700"})})]}),r.jsx(fe,{onClick:M,disabled:h||A!==null,className:"bg-crocus-500 hover:bg-crocus-600",children:h?r.jsxs("span",{className:"flex items-center",children:[r.jsx(Xl,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-2 animate-spin"}),"Spinning..."]}):A?r.jsx("span",{children:"Discount Applied!"}):r.jsx("span",{children:"Spin the Wheel"})})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ye,{placeholder:"Discount Code",value:d,onChange:k=>f(k.target.value),className:"text-sm"}),r.jsx(fe,{onClick:P,variant:"outline",disabled:!d,className:"whitespace-nowrap text-sm",children:"Apply"})]})]})]})]}),e==="payment"&&r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-3",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs(it,{children:[r.jsxs(yt,{className:"pb-2 sm:pb-4",children:[r.jsx(jt,{className:"text-lg sm:text-xl",children:"Payment Method"}),r.jsx(ks,{children:"Choose how you want to pay"})]}),r.jsx(dt,{children:r.jsxs("form",{id:"paymentForm",onSubmit:y,className:"space-y-4 sm:space-y-6",children:[r.jsxs(kg,{value:i,onValueChange:a,required:!0,children:[r.jsxs("div",{className:"flex items-center space-x-2 border rounded-md p-3 sm:p-4 cursor-pointer hover:bg-gray-50",children:[r.jsx(Oa,{value:"credit-card",id:"credit-card"}),r.jsxs(De,{htmlFor:"credit-card",className:"flex items-center cursor-pointer w-full",children:[r.jsx(Yd,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),r.jsx("span",{className:"text-sm sm:text-base",children:"Credit/Debit Card"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 border rounded-md p-3 sm:p-4 cursor-pointer hover:bg-gray-50",children:[r.jsx(Oa,{value:"vnpay",id:"vnpay"}),r.jsxs(De,{htmlFor:"vnpay",className:"flex items-center cursor-pointer w-full",children:[r.jsx("img",{src:"https://via.placeholder.com/40x20",alt:"VNPay",className:"mr-2"}),r.jsx("span",{className:"text-sm sm:text-base",children:"VNPay"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 border rounded-md p-3 sm:p-4 cursor-pointer hover:bg-gray-50",children:[r.jsx(Oa,{value:"zalopay",id:"zalopay"}),r.jsxs(De,{htmlFor:"zalopay",className:"flex items-center cursor-pointer w-full",children:[r.jsx("img",{src:"https://via.placeholder.com/40x20",alt:"ZaloPay",className:"mr-2"}),r.jsx("span",{className:"text-sm sm:text-base",children:"ZaloPay"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 border rounded-md p-3 sm:p-4 cursor-pointer hover:bg-gray-50",children:[r.jsx(Oa,{value:"cod",id:"cod"}),r.jsx(De,{htmlFor:"cod",className:"flex items-center cursor-pointer w-full",children:r.jsx("span",{className:"text-sm sm:text-base",children:"Cash on Delivery (COD)"})})]})]}),i==="credit-card"&&r.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"cardName",children:"Name on Card"}),r.jsx(ye,{id:"cardName",placeholder:"John Doe",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"cardNumber",children:"Card Number"}),r.jsx(ye,{id:"cardNumber",placeholder:"1234 5678 9012 3456",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"expiry",children:"Expiry Date"}),r.jsx(ye,{id:"expiry",placeholder:"MM/YY",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"cvc",children:"CVC"}),r.jsx(ye,{id:"cvc",placeholder:"123",required:!0})]})]})]})]})}),r.jsxs(Ld,{className:"flex flex-col sm:flex-row justify-between gap-3",children:[r.jsx(fe,{variant:"outline",onClick:()=>t("shipping"),className:"w-full sm:w-auto order-2 sm:order-1",children:"Back"}),r.jsxs(fe,{type:"submit",form:"paymentForm",className:"bg-crocus-500 hover:bg-crocus-600 w-full sm:w-auto order-1 sm:order-2",disabled:!i,children:["Continue to Review ",r.jsx(jr,{className:"ml-2 h-4 w-4"})]})]})]})}),r.jsx("div",{className:"order-first lg:order-none mb-4 lg:mb-0",children:r.jsxs(it,{className:"sticky top-4",children:[r.jsx(yt,{className:"pb-2 sm:pb-4",children:r.jsx(jt,{className:"text-base sm:text-lg",children:"Order Summary"})}),r.jsxs(dt,{className:"space-y-3 sm:space-y-4",children:[r.jsx("ul",{className:`space-y-2 ${tf.length>2?"max-h-32 sm:max-h-40 overflow-y-auto pr-2":""}`,children:tf.map(k=>r.jsxs("li",{className:"flex justify-between",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("img",{src:k.image,alt:k.name,className:"w-8 h-8 sm:w-10 sm:h-10 object-cover rounded"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-sm sm:text-base truncate max-w-[150px]",children:k.name}),r.jsxs("span",{className:"text-gray-500 text-xs sm:text-sm ml-1",children:["x",k.quantity]})]})]}),r.jsxs("span",{className:"text-sm sm:text-base",children:["$",(k.price*k.quantity).toFixed(2)]})]},k.id))}),r.jsx(ji,{}),r.jsxs("div",{className:"space-y-1 text-sm sm:text-base",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal"}),r.jsxs("span",{children:["$",nf.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Shipping"}),r.jsxs("span",{children:["$",Px.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Tax"}),r.jsxs("span",{children:["$",Mx.toFixed(2)]})]}),l>0&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Discount"}),r.jsxs("span",{children:["-$",p.toFixed(2)]})]})]}),r.jsx(ji,{}),r.jsxs("div",{className:"flex justify-between font-medium text-base sm:text-lg",children:[r.jsx("span",{children:"Total"}),r.jsxs("span",{className:"text-crocus-600",children:["$",b.toFixed(2)]})]})]})]})})]}),e==="review"&&r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-3",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs(it,{children:[r.jsxs(yt,{className:"pb-2 sm:pb-4",children:[r.jsx(jt,{className:"text-lg sm:text-xl",children:"Review Your Order"}),r.jsx(ks,{children:"Please verify your information"})]}),r.jsxs(dt,{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2 text-sm sm:text-base",children:"Products"}),r.jsx("ul",{className:"space-y-3 bg-gray-50 p-3 sm:p-4 rounded-md",children:tf.map(k=>r.jsxs("li",{className:"flex justify-between",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("img",{src:k.image,alt:k.name,className:"w-8 h-8 sm:w-10 sm:h-10 object-cover rounded"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-sm sm:text-base",children:k.name}),r.jsxs("span",{className:"text-gray-500 text-xs sm:text-sm ml-1",children:["x",k.quantity]}),k.type==="product"&&r.jsxs("p",{className:"text-xs text-gray-500",children:[k.size," | ",k.color]})]})]}),r.jsxs("span",{className:"text-sm sm:text-base",children:["$",(k.price*k.quantity).toFixed(2)]})]},k.id))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2 text-sm sm:text-base",children:"Shipping Information"}),r.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-md text-sm sm:text-base",children:[r.jsx("p",{className:"font-medium",children:n.fullName}),r.jsx("p",{children:n.address}),r.jsxs("p",{children:[n.city,", ",n.state," ",n.zipCode]}),r.jsx("p",{children:n.phone})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2 text-sm sm:text-base",children:"Payment Method"}),r.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-md text-sm sm:text-base",children:[i==="credit-card"&&r.jsx("p",{children:"Credit/Debit Card"}),i==="vnpay"&&r.jsx("p",{children:"VNPay"}),i==="zalopay"&&r.jsx("p",{children:"ZaloPay"}),i==="cod"&&r.jsx("p",{children:"Cash on Delivery (COD)"})]})]}),r.jsx("form",{id:"reviewForm",onSubmit:N})]}),r.jsxs(Ld,{className:"flex flex-col sm:flex-row justify-between gap-3",children:[r.jsx(fe,{variant:"outline",onClick:()=>t("payment"),className:"w-full sm:w-auto order-2 sm:order-1",children:"Back"}),r.jsx(fe,{type:"submit",form:"reviewForm",className:"bg-crocus-500 hover:bg-crocus-600 w-full sm:w-auto order-1 sm:order-2",disabled:o,children:o?r.jsxs("span",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):r.jsx("span",{children:"Place Order"})})]})]})}),r.jsx("div",{className:"order-first lg:order-none mb-4 lg:mb-0",children:r.jsxs(it,{className:"sticky top-4",children:[r.jsx(yt,{className:"pb-2 sm:pb-4",children:r.jsx(jt,{className:"text-base sm:text-lg",children:"Order Summary"})}),r.jsxs(dt,{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{className:"space-y-1 text-sm sm:text-base",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal"}),r.jsxs("span",{children:["$",nf.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Shipping"}),r.jsxs("span",{children:["$",Px.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Tax"}),r.jsxs("span",{children:["$",Mx.toFixed(2)]})]}),l>0&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Discount"}),r.jsxs("span",{children:["-$",p.toFixed(2)]})]})]}),r.jsx(ji,{}),r.jsxs("div",{className:"flex justify-between font-medium text-base sm:text-lg",children:[r.jsx("span",{children:"Total"}),r.jsxs("span",{className:"text-crocus-600",children:["$",b.toFixed(2)]})]})]})]})})]}),e==="confirmation"&&r.jsx(it,{className:"max-w-md mx-auto",children:r.jsx(dt,{className:"pt-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-full bg-green-100",children:r.jsx(Sm,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600"})}),r.jsx("h2",{className:"mt-4 text-xl sm:text-2xl font-bold",children:"Order Confirmed!"}),r.jsx("p",{className:"mt-2 text-gray-600 text-sm sm:text-base",children:"Thank you for your order. We've received your payment and will process your order shortly."}),r.jsxs("div",{className:"mt-4 sm:mt-6 border-t border-b py-3 sm:py-4",children:[r.jsx("p",{className:"font-medium text-sm sm:text-base",children:"Order #12345"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"A confirmation has been sent to your email."})]}),r.jsxs("div",{className:"mt-4 sm:mt-6 flex flex-col sm:flex-row gap-3 justify-center",children:[r.jsx(fe,{asChild:!0,className:"bg-crocus-500 hover:bg-crocus-600",children:r.jsx(ct,{to:"/user/orders",children:"View Order"})}),r.jsx(fe,{asChild:!0,variant:"outline",children:r.jsx(ct,{to:"/products",children:"Continue Shopping"})})]})]})})})]})},S4e=()=>r.jsxs("div",{className:"py-6 sm:py-8 md:py-10 px-4 max-w-6xl mx-auto",children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-4 sm:mb-6",children:"Checkout"}),r.jsx(N4e,{})]});function _S(e){return Es({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 176v160m80-80H176"},child:[]}]})(e)}function Ad(e){return Es({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(e)}function T4e(e){return Es({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M472 168H40a24 24 0 0 1 0-48h432a24 24 0 0 1 0 48zm-80 112H120a24 24 0 0 1 0-48h272a24 24 0 0 1 0 48zm-96 112h-80a24 24 0 0 1 0-48h80a24 24 0 0 1 0 48z"},child:[]}]})(e)}function k4e(e){return Es({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204 240H68a36 36 0 0 1-36-36V68a36 36 0 0 1 36-36h136a36 36 0 0 1 36 36v136a36 36 0 0 1-36 36zm240 0H308a36 36 0 0 1-36-36V68a36 36 0 0 1 36-36h136a36 36 0 0 1 36 36v136a36 36 0 0 1-36 36zM204 480H68a36 36 0 0 1-36-36V308a36 36 0 0 1 36-36h136a36 36 0 0 1 36 36v136a36 36 0 0 1-36 36zm240 0H308a36 36 0 0 1-36-36V308a36 36 0 0 1 36-36h136a36 36 0 0 1 36 36v136a36 36 0 0 1-36 36z"},child:[]}]})(e)}function _4e(e){return Es({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M160 144h288M160 256h288M160 368h288"},child:[]},{tag:"circle",attr:{cx:"80",cy:"144",r:"16",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"circle",attr:{cx:"80",cy:"256",r:"16",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"circle",attr:{cx:"80",cy:"368",r:"16",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]}]})(e)}function B4e(e){return Es({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M456.69 421.39 362.6 327.3a173.81 173.81 0 0 0 34.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 0 0 327.3 362.6l94.09 94.09a25 25 0 0 0 35.3-35.3zM97.92 222.72a124.8 124.8 0 1 1 124.8 124.8 124.95 124.95 0 0 1-124.8-124.8z"},child:[]}]})(e)}function E4e(){this.__data__=[],this.size=0}var P4e=E4e;function M4e(e,t){return e===t||e!==e&&t!==t}var XV=M4e,D4e=XV;function I4e(e,t){for(var n=e.length;n--;)if(D4e(e[n][0],t))return n;return-1}var G1=I4e,O4e=G1,L4e=Array.prototype,F4e=L4e.splice;function R4e(e){var t=this.__data__,n=O4e(t,e);if(n<0)return!1;var s=t.length-1;return n==s?t.pop():F4e.call(t,n,1),--this.size,!0}var U4e=R4e,H4e=G1;function $4e(e){var t=this.__data__,n=H4e(t,e);return n<0?void 0:t[n][1]}var Q4e=$4e,z4e=G1;function V4e(e){return z4e(this.__data__,e)>-1}var K4e=V4e,G4e=G1;function W4e(e,t){var n=this.__data__,s=G4e(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this}var q4e=W4e,X4e=P4e,Y4e=U4e,Z4e=Q4e,J4e=K4e,eSe=q4e;function Km(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}Km.prototype.clear=X4e;Km.prototype.delete=Y4e;Km.prototype.get=Z4e;Km.prototype.has=J4e;Km.prototype.set=eSe;var W1=Km,tSe=W1;function nSe(){this.__data__=new tSe,this.size=0}var rSe=nSe;function sSe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var iSe=sSe;function aSe(e){return this.__data__.get(e)}var oSe=aSe;function lSe(e){return this.__data__.has(e)}var cSe=lSe,uSe=typeof ln=="object"&&ln&&ln.Object===Object&&ln,YV=uSe,dSe=YV,hSe=typeof self=="object"&&self&&self.Object===Object&&self,fSe=dSe||hSe||Function("return this")(),xc=fSe,mSe=xc,pSe=mSe.Symbol,Bk=pSe,$8=Bk,ZV=Object.prototype,ASe=ZV.hasOwnProperty,gSe=ZV.toString,Sp=$8?$8.toStringTag:void 0;function xSe(e){var t=ASe.call(e,Sp),n=e[Sp];try{e[Sp]=void 0;var s=!0}catch{}var i=gSe.call(e);return s&&(t?e[Sp]=n:delete e[Sp]),i}var bSe=xSe,vSe=Object.prototype,ySe=vSe.toString;function wSe(e){return ySe.call(e)}var jSe=wSe,Q8=Bk,CSe=bSe,NSe=jSe,SSe="[object Null]",TSe="[object Undefined]",z8=Q8?Q8.toStringTag:void 0;function kSe(e){return e==null?e===void 0?TSe:SSe:z8&&z8 in Object(e)?CSe(e):NSe(e)}var q1=kSe;function _Se(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var JV=_Se,BSe=q1,ESe=JV,PSe="[object AsyncFunction]",MSe="[object Function]",DSe="[object GeneratorFunction]",ISe="[object Proxy]";function OSe(e){if(!ESe(e))return!1;var t=BSe(e);return t==MSe||t==DSe||t==PSe||t==ISe}var eK=OSe,LSe=xc,FSe=LSe["__core-js_shared__"],RSe=FSe,rC=RSe,V8=function(){var e=/[^.]+$/.exec(rC&&rC.keys&&rC.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function USe(e){return!!V8&&V8 in e}var HSe=USe,$Se=Function.prototype,QSe=$Se.toString;function zSe(e){if(e!=null){try{return QSe.call(e)}catch{}try{return e+""}catch{}}return""}var tK=zSe,VSe=eK,KSe=HSe,GSe=JV,WSe=tK,qSe=/[\\^$.*+?()[\]{}|]/g,XSe=/^\[object .+?Constructor\]$/,YSe=Function.prototype,ZSe=Object.prototype,JSe=YSe.toString,e3e=ZSe.hasOwnProperty,t3e=RegExp("^"+JSe.call(e3e).replace(qSe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function n3e(e){if(!GSe(e)||KSe(e))return!1;var t=VSe(e)?t3e:XSe;return t.test(WSe(e))}var r3e=n3e;function s3e(e,t){return e==null?void 0:e[t]}var i3e=s3e,a3e=r3e,o3e=i3e;function l3e(e,t){var n=o3e(e,t);return a3e(n)?n:void 0}var Gm=l3e,c3e=Gm,u3e=xc,d3e=c3e(u3e,"Map"),Ek=d3e,h3e=Gm,f3e=h3e(Object,"create"),X1=f3e,K8=X1;function m3e(){this.__data__=K8?K8(null):{},this.size=0}var p3e=m3e;function A3e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var g3e=A3e,x3e=X1,b3e="__lodash_hash_undefined__",v3e=Object.prototype,y3e=v3e.hasOwnProperty;function w3e(e){var t=this.__data__;if(x3e){var n=t[e];return n===b3e?void 0:n}return y3e.call(t,e)?t[e]:void 0}var j3e=w3e,C3e=X1,N3e=Object.prototype,S3e=N3e.hasOwnProperty;function T3e(e){var t=this.__data__;return C3e?t[e]!==void 0:S3e.call(t,e)}var k3e=T3e,_3e=X1,B3e="__lodash_hash_undefined__";function E3e(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=_3e&&t===void 0?B3e:t,this}var P3e=E3e,M3e=p3e,D3e=g3e,I3e=j3e,O3e=k3e,L3e=P3e;function Wm(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}Wm.prototype.clear=M3e;Wm.prototype.delete=D3e;Wm.prototype.get=I3e;Wm.prototype.has=O3e;Wm.prototype.set=L3e;var F3e=Wm,G8=F3e,R3e=W1,U3e=Ek;function H3e(){this.size=0,this.__data__={hash:new G8,map:new(U3e||R3e),string:new G8}}var $3e=H3e;function Q3e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var z3e=Q3e,V3e=z3e;function K3e(e,t){var n=e.__data__;return V3e(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Y1=K3e,G3e=Y1;function W3e(e){var t=G3e(this,e).delete(e);return this.size-=t?1:0,t}var q3e=W3e,X3e=Y1;function Y3e(e){return X3e(this,e).get(e)}var Z3e=Y3e,J3e=Y1;function eTe(e){return J3e(this,e).has(e)}var tTe=eTe,nTe=Y1;function rTe(e,t){var n=nTe(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this}var sTe=rTe,iTe=$3e,aTe=q3e,oTe=Z3e,lTe=tTe,cTe=sTe;function qm(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}qm.prototype.clear=iTe;qm.prototype.delete=aTe;qm.prototype.get=oTe;qm.prototype.has=lTe;qm.prototype.set=cTe;var nK=qm,uTe=W1,dTe=Ek,hTe=nK,fTe=200;function mTe(e,t){var n=this.__data__;if(n instanceof uTe){var s=n.__data__;if(!dTe||s.length<fTe-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new hTe(s)}return n.set(e,t),this.size=n.size,this}var pTe=mTe,ATe=W1,gTe=rSe,xTe=iSe,bTe=oSe,vTe=cSe,yTe=pTe;function Xm(e){var t=this.__data__=new ATe(e);this.size=t.size}Xm.prototype.clear=gTe;Xm.prototype.delete=xTe;Xm.prototype.get=bTe;Xm.prototype.has=vTe;Xm.prototype.set=yTe;var wTe=Xm,jTe="__lodash_hash_undefined__";function CTe(e){return this.__data__.set(e,jTe),this}var NTe=CTe;function STe(e){return this.__data__.has(e)}var TTe=STe,kTe=nK,_Te=NTe,BTe=TTe;function Hy(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new kTe;++t<n;)this.add(e[t])}Hy.prototype.add=Hy.prototype.push=_Te;Hy.prototype.has=BTe;var ETe=Hy;function PTe(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(t(e[n],n,e))return!0;return!1}var MTe=PTe;function DTe(e,t){return e.has(t)}var ITe=DTe,OTe=ETe,LTe=MTe,FTe=ITe,RTe=1,UTe=2;function HTe(e,t,n,s,i,a){var o=n&RTe,c=e.length,l=t.length;if(c!=l&&!(o&&l>c))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=n&UTe?new OTe:void 0;for(a.set(e,t),a.set(t,e);++f<c;){var A=e[f],g=t[f];if(s)var p=o?s(g,A,f,t,e,a):s(A,g,f,e,t,a);if(p!==void 0){if(p)continue;h=!1;break}if(m){if(!LTe(t,function(b,x){if(!FTe(m,x)&&(A===b||i(A,b,n,s,a)))return m.push(x)})){h=!1;break}}else if(!(A===g||i(A,g,n,s,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var rK=HTe,$Te=xc,QTe=$Te.Uint8Array,zTe=QTe;function VTe(e){var t=-1,n=Array(e.size);return e.forEach(function(s,i){n[++t]=[i,s]}),n}var KTe=VTe;function GTe(e){var t=-1,n=Array(e.size);return e.forEach(function(s){n[++t]=s}),n}var WTe=GTe,W8=Bk,q8=zTe,qTe=XV,XTe=rK,YTe=KTe,ZTe=WTe,JTe=1,e5e=2,t5e="[object Boolean]",n5e="[object Date]",r5e="[object Error]",s5e="[object Map]",i5e="[object Number]",a5e="[object RegExp]",o5e="[object Set]",l5e="[object String]",c5e="[object Symbol]",u5e="[object ArrayBuffer]",d5e="[object DataView]",X8=W8?W8.prototype:void 0,sC=X8?X8.valueOf:void 0;function h5e(e,t,n,s,i,a,o){switch(n){case d5e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case u5e:return!(e.byteLength!=t.byteLength||!a(new q8(e),new q8(t)));case t5e:case n5e:case i5e:return qTe(+e,+t);case r5e:return e.name==t.name&&e.message==t.message;case a5e:case l5e:return e==t+"";case s5e:var c=YTe;case o5e:var l=s&JTe;if(c||(c=ZTe),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;s|=e5e,o.set(e,t);var d=XTe(c(e),c(t),s,i,a,o);return o.delete(e),d;case c5e:if(sC)return sC.call(e)==sC.call(t)}return!1}var f5e=h5e;function m5e(e,t){for(var n=-1,s=t.length,i=e.length;++n<s;)e[i+n]=t[n];return e}var p5e=m5e,A5e=Array.isArray,Pk=A5e,g5e=p5e,x5e=Pk;function b5e(e,t,n){var s=t(e);return x5e(e)?s:g5e(s,n(e))}var v5e=b5e;function y5e(e,t){for(var n=-1,s=e==null?0:e.length,i=0,a=[];++n<s;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var w5e=y5e;function j5e(){return[]}var C5e=j5e,N5e=w5e,S5e=C5e,T5e=Object.prototype,k5e=T5e.propertyIsEnumerable,Y8=Object.getOwnPropertySymbols,_5e=Y8?function(e){return e==null?[]:(e=Object(e),N5e(Y8(e),function(t){return k5e.call(e,t)}))}:S5e,B5e=_5e;function E5e(e,t){for(var n=-1,s=Array(e);++n<e;)s[n]=t(n);return s}var P5e=E5e;function M5e(e){return e!=null&&typeof e=="object"}var Z1=M5e,D5e=q1,I5e=Z1,O5e="[object Arguments]";function L5e(e){return I5e(e)&&D5e(e)==O5e}var F5e=L5e,Z8=F5e,R5e=Z1,sK=Object.prototype,U5e=sK.hasOwnProperty,H5e=sK.propertyIsEnumerable,$5e=Z8(function(){return arguments}())?Z8:function(e){return R5e(e)&&U5e.call(e,"callee")&&!H5e.call(e,"callee")},Q5e=$5e,$y={exports:{}};function z5e(){return!1}var V5e=z5e;$y.exports;(function(e,t){var n=xc,s=V5e,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,c=o?n.Buffer:void 0,l=c?c.isBuffer:void 0,u=l||s;e.exports=u})($y,$y.exports);var iK=$y.exports,K5e=9007199254740991,G5e=/^(?:0|[1-9]\d*)$/;function W5e(e,t){var n=typeof e;return t=t??K5e,!!t&&(n=="number"||n!="symbol"&&G5e.test(e))&&e>-1&&e%1==0&&e<t}var q5e=W5e,X5e=9007199254740991;function Y5e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=X5e}var aK=Y5e,Z5e=q1,J5e=aK,eke=Z1,tke="[object Arguments]",nke="[object Array]",rke="[object Boolean]",ske="[object Date]",ike="[object Error]",ake="[object Function]",oke="[object Map]",lke="[object Number]",cke="[object Object]",uke="[object RegExp]",dke="[object Set]",hke="[object String]",fke="[object WeakMap]",mke="[object ArrayBuffer]",pke="[object DataView]",Ake="[object Float32Array]",gke="[object Float64Array]",xke="[object Int8Array]",bke="[object Int16Array]",vke="[object Int32Array]",yke="[object Uint8Array]",wke="[object Uint8ClampedArray]",jke="[object Uint16Array]",Cke="[object Uint32Array]",Br={};Br[Ake]=Br[gke]=Br[xke]=Br[bke]=Br[vke]=Br[yke]=Br[wke]=Br[jke]=Br[Cke]=!0;Br[tke]=Br[nke]=Br[mke]=Br[rke]=Br[pke]=Br[ske]=Br[ike]=Br[ake]=Br[oke]=Br[lke]=Br[cke]=Br[uke]=Br[dke]=Br[hke]=Br[fke]=!1;function Nke(e){return eke(e)&&J5e(e.length)&&!!Br[Z5e(e)]}var Ske=Nke;function Tke(e){return function(t){return e(t)}}var kke=Tke,Qy={exports:{}};Qy.exports;(function(e,t){var n=YV,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===s,o=a&&n.process,c=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=c})(Qy,Qy.exports);var _ke=Qy.exports,Bke=Ske,Eke=kke,J8=_ke,eP=J8&&J8.isTypedArray,Pke=eP?Eke(eP):Bke,oK=Pke,Mke=P5e,Dke=Q5e,Ike=Pk,Oke=iK,Lke=q5e,Fke=oK,Rke=Object.prototype,Uke=Rke.hasOwnProperty;function Hke(e,t){var n=Ike(e),s=!n&&Dke(e),i=!n&&!s&&Oke(e),a=!n&&!s&&!i&&Fke(e),o=n||s||i||a,c=o?Mke(e.length,String):[],l=c.length;for(var u in e)(t||Uke.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Lke(u,l)))&&c.push(u);return c}var $ke=Hke,Qke=Object.prototype;function zke(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Qke;return e===n}var Vke=zke;function Kke(e,t){return function(n){return e(t(n))}}var Gke=Kke,Wke=Gke,qke=Wke(Object.keys,Object),Xke=qke,Yke=Vke,Zke=Xke,Jke=Object.prototype,e_e=Jke.hasOwnProperty;function t_e(e){if(!Yke(e))return Zke(e);var t=[];for(var n in Object(e))e_e.call(e,n)&&n!="constructor"&&t.push(n);return t}var n_e=t_e,r_e=eK,s_e=aK;function i_e(e){return e!=null&&s_e(e.length)&&!r_e(e)}var a_e=i_e,o_e=$ke,l_e=n_e,c_e=a_e;function u_e(e){return c_e(e)?o_e(e):l_e(e)}var d_e=u_e,h_e=v5e,f_e=B5e,m_e=d_e;function p_e(e){return h_e(e,m_e,f_e)}var A_e=p_e,tP=A_e,g_e=1,x_e=Object.prototype,b_e=x_e.hasOwnProperty;function v_e(e,t,n,s,i,a){var o=n&g_e,c=tP(e),l=c.length,u=tP(t),d=u.length;if(l!=d&&!o)return!1;for(var f=l;f--;){var h=c[f];if(!(o?h in t:b_e.call(t,h)))return!1}var m=a.get(e),A=a.get(t);if(m&&A)return m==t&&A==e;var g=!0;a.set(e,t),a.set(t,e);for(var p=o;++f<l;){h=c[f];var b=e[h],x=t[h];if(s)var v=o?s(x,b,h,t,e,a):s(b,x,h,e,t,a);if(!(v===void 0?b===x||i(b,x,n,s,a):v)){g=!1;break}p||(p=h=="constructor")}if(g&&!p){var y=e.constructor,N=t.constructor;y!=N&&"constructor"in e&&"constructor"in t&&!(typeof y=="function"&&y instanceof y&&typeof N=="function"&&N instanceof N)&&(g=!1)}return a.delete(e),a.delete(t),g}var y_e=v_e,w_e=Gm,j_e=xc,C_e=w_e(j_e,"DataView"),N_e=C_e,S_e=Gm,T_e=xc,k_e=S_e(T_e,"Promise"),__e=k_e,B_e=Gm,E_e=xc,P_e=B_e(E_e,"Set"),M_e=P_e,D_e=Gm,I_e=xc,O_e=D_e(I_e,"WeakMap"),L_e=O_e,BS=N_e,ES=Ek,PS=__e,MS=M_e,DS=L_e,lK=q1,Ym=tK,nP="[object Map]",F_e="[object Object]",rP="[object Promise]",sP="[object Set]",iP="[object WeakMap]",aP="[object DataView]",R_e=Ym(BS),U_e=Ym(ES),H_e=Ym(PS),$_e=Ym(MS),Q_e=Ym(DS),gd=lK;(BS&&gd(new BS(new ArrayBuffer(1)))!=aP||ES&&gd(new ES)!=nP||PS&&gd(PS.resolve())!=rP||MS&&gd(new MS)!=sP||DS&&gd(new DS)!=iP)&&(gd=function(e){var t=lK(e),n=t==F_e?e.constructor:void 0,s=n?Ym(n):"";if(s)switch(s){case R_e:return aP;case U_e:return nP;case H_e:return rP;case $_e:return sP;case Q_e:return iP}return t});var z_e=gd,iC=wTe,V_e=rK,K_e=f5e,G_e=y_e,oP=z_e,lP=Pk,cP=iK,W_e=oK,q_e=1,uP="[object Arguments]",dP="[object Array]",Dx="[object Object]",X_e=Object.prototype,hP=X_e.hasOwnProperty;function Y_e(e,t,n,s,i,a){var o=lP(e),c=lP(t),l=o?dP:oP(e),u=c?dP:oP(t);l=l==uP?Dx:l,u=u==uP?Dx:u;var d=l==Dx,f=u==Dx,h=l==u;if(h&&cP(e)){if(!cP(t))return!1;o=!0,d=!1}if(h&&!d)return a||(a=new iC),o||W_e(e)?V_e(e,t,n,s,i,a):K_e(e,t,l,n,s,i,a);if(!(n&q_e)){var m=d&&hP.call(e,"__wrapped__"),A=f&&hP.call(t,"__wrapped__");if(m||A){var g=m?e.value():e,p=A?t.value():t;return a||(a=new iC),i(g,p,n,s,a)}}return h?(a||(a=new iC),G_e(e,t,n,s,i,a)):!1}var Z_e=Y_e,J_e=Z_e,fP=Z1;function cK(e,t,n,s,i){return e===t?!0:e==null||t==null||!fP(e)&&!fP(t)?e!==e&&t!==t:J_e(e,t,n,s,cK,i)}var e6e=cK,t6e=e6e;function n6e(e,t){return t6e(e,t)}var r6e=n6e,uK={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,t){(function(s,i){e.exports=i()})(typeof self<"u"?self:ln,function(){return function(n){var s={};function i(a){if(s[a])return s[a].exports;var o=s[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=s,i.d=function(a,o,c){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:c})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=109)}([function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(17),o=i(18),c=i(19),l=i(45),u=i(46),d=i(47),f=i(48),h=i(49),m=i(12),A=i(32),g=i(33),p=i(31),b=i(1),x={Scope:b.Scope,create:b.create,find:b.find,query:b.query,register:b.register,Container:a.default,Format:o.default,Leaf:c.default,Embed:f.default,Scroll:l.default,Block:d.default,Inline:u.default,Text:h.default,Attributor:{Attribute:m.default,Class:A.default,Style:g.default,Store:p.default}};s.default=x},function(n,s,i){var a=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,x){b.__proto__=x}||function(b,x){for(var v in x)x.hasOwnProperty(v)&&(b[v]=x[v])};return function(b,x){p(b,x);function v(){this.constructor=b}b.prototype=x===null?Object.create(x):(v.prototype=x.prototype,new v)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=function(p){a(b,p);function b(x){var v=this;return x="[Parchment] "+x,v=p.call(this,x)||this,v.message=x,v.name=v.constructor.name,v}return b}(Error);s.ParchmentError=o;var c={},l={},u={},d={};s.DATA_KEY="__blot";var f;(function(p){p[p.TYPE=3]="TYPE",p[p.LEVEL=12]="LEVEL",p[p.ATTRIBUTE=13]="ATTRIBUTE",p[p.BLOT=14]="BLOT",p[p.INLINE=7]="INLINE",p[p.BLOCK=11]="BLOCK",p[p.BLOCK_BLOT=10]="BLOCK_BLOT",p[p.INLINE_BLOT=6]="INLINE_BLOT",p[p.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",p[p.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",p[p.ANY=15]="ANY"})(f=s.Scope||(s.Scope={}));function h(p,b){var x=A(p);if(x==null)throw new o("Unable to create "+p+" blot");var v=x,y=p instanceof Node||p.nodeType===Node.TEXT_NODE?p:v.create(b);return new v(y,b)}s.create=h;function m(p,b){return b===void 0&&(b=!1),p==null?null:p[s.DATA_KEY]!=null?p[s.DATA_KEY].blot:b?m(p.parentNode,b):null}s.find=m;function A(p,b){b===void 0&&(b=f.ANY);var x;if(typeof p=="string")x=d[p]||c[p];else if(p instanceof Text||p.nodeType===Node.TEXT_NODE)x=d.text;else if(typeof p=="number")p&f.LEVEL&f.BLOCK?x=d.block:p&f.LEVEL&f.INLINE&&(x=d.inline);else if(p instanceof HTMLElement){var v=(p.getAttribute("class")||"").split(/\s+/);for(var y in v)if(x=l[v[y]],x)break;x=x||u[p.tagName]}return x==null?null:b&f.LEVEL&x.scope&&b&f.TYPE&x.scope?x:null}s.query=A;function g(){for(var p=[],b=0;b<arguments.length;b++)p[b]=arguments[b];if(p.length>1)return p.map(function(y){return g(y)});var x=p[0];if(typeof x.blotName!="string"&&typeof x.attrName!="string")throw new o("Invalid definition");if(x.blotName==="abstract")throw new o("Cannot register abstract class");if(d[x.blotName||x.attrName]=x,typeof x.keyName=="string")c[x.keyName]=x;else if(x.className!=null&&(l[x.className]=x),x.tagName!=null){Array.isArray(x.tagName)?x.tagName=x.tagName.map(function(y){return y.toUpperCase()}):x.tagName=x.tagName.toUpperCase();var v=Array.isArray(x.tagName)?x.tagName:[x.tagName];v.forEach(function(y){(u[y]==null||x.className==null)&&(u[y]=x)})}return x}s.register=g},function(n,s,i){var a=i(51),o=i(11),c=i(3),l=i(20),u="\0",d=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};d.prototype.insert=function(f,h){var m={};return f.length===0?this:(m.insert=f,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(m.attributes=h),this.push(m))},d.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},d.prototype.retain=function(f,h){if(f<=0)return this;var m={retain:f};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(m.attributes=h),this.push(m)},d.prototype.push=function(f){var h=this.ops.length,m=this.ops[h-1];if(f=c(!0,{},f),typeof m=="object"){if(typeof f.delete=="number"&&typeof m.delete=="number")return this.ops[h-1]={delete:m.delete+f.delete},this;if(typeof m.delete=="number"&&f.insert!=null&&(h-=1,m=this.ops[h-1],typeof m!="object"))return this.ops.unshift(f),this;if(o(f.attributes,m.attributes)){if(typeof f.insert=="string"&&typeof m.insert=="string")return this.ops[h-1]={insert:m.insert+f.insert},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof m.retain=="number")return this.ops[h-1]={retain:m.retain+f.retain},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this}}return h===this.ops.length?this.ops.push(f):this.ops.splice(h,0,f),this},d.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},d.prototype.filter=function(f){return this.ops.filter(f)},d.prototype.forEach=function(f){this.ops.forEach(f)},d.prototype.map=function(f){return this.ops.map(f)},d.prototype.partition=function(f){var h=[],m=[];return this.forEach(function(A){var g=f(A)?h:m;g.push(A)}),[h,m]},d.prototype.reduce=function(f,h){return this.ops.reduce(f,h)},d.prototype.changeLength=function(){return this.reduce(function(f,h){return h.insert?f+l.length(h):h.delete?f-h.delete:f},0)},d.prototype.length=function(){return this.reduce(function(f,h){return f+l.length(h)},0)},d.prototype.slice=function(f,h){f=f||0,typeof h!="number"&&(h=1/0);for(var m=[],A=l.iterator(this.ops),g=0;g<h&&A.hasNext();){var p;g<f?p=A.next(f-g):(p=A.next(h-g),m.push(p)),g+=l.length(p)}return new d(m)},d.prototype.compose=function(f){var h=l.iterator(this.ops),m=l.iterator(f.ops),A=[],g=m.peek();if(g!=null&&typeof g.retain=="number"&&g.attributes==null){for(var p=g.retain;h.peekType()==="insert"&&h.peekLength()<=p;)p-=h.peekLength(),A.push(h.next());g.retain-p>0&&m.next(g.retain-p)}for(var b=new d(A);h.hasNext()||m.hasNext();)if(m.peekType()==="insert")b.push(m.next());else if(h.peekType()==="delete")b.push(h.next());else{var x=Math.min(h.peekLength(),m.peekLength()),v=h.next(x),y=m.next(x);if(typeof y.retain=="number"){var N={};typeof v.retain=="number"?N.retain=x:N.insert=v.insert;var P=l.attributes.compose(v.attributes,y.attributes,typeof v.retain=="number");if(P&&(N.attributes=P),b.push(N),!m.hasNext()&&o(b.ops[b.ops.length-1],N)){var M=new d(h.rest());return b.concat(M).chop()}}else typeof y.delete=="number"&&typeof v.retain=="number"&&b.push(y)}return b.chop()},d.prototype.concat=function(f){var h=new d(this.ops.slice());return f.ops.length>0&&(h.push(f.ops[0]),h.ops=h.ops.concat(f.ops.slice(1))),h},d.prototype.diff=function(f,h){if(this.ops===f.ops)return new d;var m=[this,f].map(function(x){return x.map(function(v){if(v.insert!=null)return typeof v.insert=="string"?v.insert:u;var y=x===f?"on":"with";throw new Error("diff() called "+y+" non-document")}).join("")}),A=new d,g=a(m[0],m[1],h),p=l.iterator(this.ops),b=l.iterator(f.ops);return g.forEach(function(x){for(var v=x[1].length;v>0;){var y=0;switch(x[0]){case a.INSERT:y=Math.min(b.peekLength(),v),A.push(b.next(y));break;case a.DELETE:y=Math.min(v,p.peekLength()),p.next(y),A.delete(y);break;case a.EQUAL:y=Math.min(p.peekLength(),b.peekLength(),v);var N=p.next(y),P=b.next(y);o(N.insert,P.insert)?A.retain(y,l.attributes.diff(N.attributes,P.attributes)):A.push(P).delete(y);break}v-=y}}),A.chop()},d.prototype.eachLine=function(f,h){h=h||`
`;for(var m=l.iterator(this.ops),A=new d,g=0;m.hasNext();){if(m.peekType()!=="insert")return;var p=m.peek(),b=l.length(p)-m.peekLength(),x=typeof p.insert=="string"?p.insert.indexOf(h,b)-b:-1;if(x<0)A.push(m.next());else if(x>0)A.push(m.next(x));else{if(f(A,m.next(1).attributes||{},g)===!1)return;g+=1,A=new d}}A.length()>0&&f(A,{},g)},d.prototype.transform=function(f,h){if(h=!!h,typeof f=="number")return this.transformPosition(f,h);for(var m=l.iterator(this.ops),A=l.iterator(f.ops),g=new d;m.hasNext()||A.hasNext();)if(m.peekType()==="insert"&&(h||A.peekType()!=="insert"))g.retain(l.length(m.next()));else if(A.peekType()==="insert")g.push(A.next());else{var p=Math.min(m.peekLength(),A.peekLength()),b=m.next(p),x=A.next(p);if(b.delete)continue;x.delete?g.push(x):g.retain(p,l.attributes.transform(b.attributes,x.attributes,h))}return g.chop()},d.prototype.transformPosition=function(f,h){h=!!h;for(var m=l.iterator(this.ops),A=0;m.hasNext()&&A<=f;){var g=m.peekLength(),p=m.peekType();if(m.next(),p==="delete"){f-=Math.min(g,f-A);continue}else p==="insert"&&(A<f||!h)&&(f+=g);A+=g}return f},n.exports=d},function(n,s){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,o=Object.defineProperty,c=Object.getOwnPropertyDescriptor,l=function(m){return typeof Array.isArray=="function"?Array.isArray(m):a.call(m)==="[object Array]"},u=function(m){if(!m||a.call(m)!=="[object Object]")return!1;var A=i.call(m,"constructor"),g=m.constructor&&m.constructor.prototype&&i.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!A&&!g)return!1;var p;for(p in m);return typeof p>"u"||i.call(m,p)},d=function(m,A){o&&A.name==="__proto__"?o(m,A.name,{enumerable:!0,configurable:!0,value:A.newValue,writable:!0}):m[A.name]=A.newValue},f=function(m,A){if(A==="__proto__")if(i.call(m,A)){if(c)return c(m,A).value}else return;return m[A]};n.exports=function h(){var m,A,g,p,b,x,v=arguments[0],y=1,N=arguments.length,P=!1;for(typeof v=="boolean"&&(P=v,v=arguments[1]||{},y=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});y<N;++y)if(m=arguments[y],m!=null)for(A in m)g=f(v,A),p=f(m,A),v!==p&&(P&&p&&(u(p)||(b=l(p)))?(b?(b=!1,x=g&&l(g)?g:[]):x=g&&u(g)?g:{},d(v,{name:A,newValue:h(P,x,p)})):typeof p<"u"&&d(v,{name:A,newValue:p}));return v}},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.BlockEmbed=s.bubbleFormats=void 0;var a=function(){function L(F,_){for(var E=0;E<_.length;E++){var T=_[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(F,T.key,T)}}return function(F,_,E){return _&&L(F.prototype,_),E&&L(F,E),F}}(),o=function L(F,_,E){F===null&&(F=Function.prototype);var T=Object.getOwnPropertyDescriptor(F,_);if(T===void 0){var w=Object.getPrototypeOf(F);return w===null?void 0:L(w,_,E)}else{if("value"in T)return T.value;var C=T.get;return C===void 0?void 0:C.call(E)}},c=i(3),l=v(c),u=i(2),d=v(u),f=i(0),h=v(f),m=i(16),A=v(m),g=i(6),p=v(g),b=i(7),x=v(b);function v(L){return L&&L.__esModule?L:{default:L}}function y(L,F){if(!(L instanceof F))throw new TypeError("Cannot call a class as a function")}function N(L,F){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:L}function P(L,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);L.prototype=Object.create(F&&F.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(L,F):L.__proto__=F)}var M=1,k=function(L){P(F,L);function F(){return y(this,F),N(this,(F.__proto__||Object.getPrototypeOf(F)).apply(this,arguments))}return a(F,[{key:"attach",value:function(){o(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new d.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(E,T){var w=h.default.query(E,h.default.Scope.BLOCK_ATTRIBUTE);w!=null&&this.attributes.attribute(w,T)}},{key:"formatAt",value:function(E,T,w,C){this.format(w,C)}},{key:"insertAt",value:function(E,T,w){if(typeof T=="string"&&T.endsWith(`
`)){var C=h.default.create(D.blotName);this.parent.insertBefore(C,E===0?this:this.next),C.insertAt(0,T.slice(0,-1))}else o(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"insertAt",this).call(this,E,T,w)}}]),F}(h.default.Embed);k.scope=h.default.Scope.BLOCK_BLOT;var D=function(L){P(F,L);function F(_){y(this,F);var E=N(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,_));return E.cache={},E}return a(F,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(E,T){return T.length()===0?E:E.insert(T.value(),O(T))},new d.default).insert(`
`,O(this))),this.cache.delta}},{key:"deleteAt",value:function(E,T){o(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"deleteAt",this).call(this,E,T),this.cache={}}},{key:"formatAt",value:function(E,T,w,C){T<=0||(h.default.query(w,h.default.Scope.BLOCK)?E+T===this.length()&&this.format(w,C):o(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"formatAt",this).call(this,E,Math.min(T,this.length()-E-1),w,C),this.cache={})}},{key:"insertAt",value:function(E,T,w){if(w!=null)return o(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"insertAt",this).call(this,E,T,w);if(T.length!==0){var C=T.split(`
`),j=C.shift();j.length>0&&(E<this.length()-1||this.children.tail==null?o(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"insertAt",this).call(this,Math.min(E,this.length()-1),j):this.children.tail.insertAt(this.children.tail.length(),j),this.cache={});var S=this;C.reduce(function(I,R){return S=S.split(I,!0),S.insertAt(0,R),R.length},E+j.length)}}},{key:"insertBefore",value:function(E,T){var w=this.children.head;o(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"insertBefore",this).call(this,E,T),w instanceof A.default&&w.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"length",this).call(this)+M),this.cache.length}},{key:"moveChildren",value:function(E,T){o(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"moveChildren",this).call(this,E,T),this.cache={}}},{key:"optimize",value:function(E){o(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"optimize",this).call(this,E),this.cache={}}},{key:"path",value:function(E){return o(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"path",this).call(this,E,!0)}},{key:"removeChild",value:function(E){o(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"removeChild",this).call(this,E),this.cache={}}},{key:"split",value:function(E){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(T&&(E===0||E>=this.length()-M)){var w=this.clone();return E===0?(this.parent.insertBefore(w,this),this):(this.parent.insertBefore(w,this.next),w)}else{var C=o(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"split",this).call(this,E,T);return this.cache={},C}}}]),F}(h.default.Block);D.blotName="block",D.tagName="P",D.defaultChild="break",D.allowedChildren=[p.default,h.default.Embed,x.default];function O(L){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return L==null||(typeof L.formats=="function"&&(F=(0,l.default)(F,L.formats())),L.parent==null||L.parent.blotName=="scroll"||L.parent.statics.scope!==L.statics.scope)?F:O(L.parent,F)}s.bubbleFormats=O,s.BlockEmbed=k,s.default=D},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.overload=s.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},o=function(){function S(I,R){var U=[],z=!0,V=!1,X=void 0;try{for(var $=I[Symbol.iterator](),W;!(z=(W=$.next()).done)&&(U.push(W.value),!(R&&U.length===R));z=!0);}catch(H){V=!0,X=H}finally{try{!z&&$.return&&$.return()}finally{if(V)throw X}}return U}return function(I,R){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return S(I,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function S(I,R){for(var U=0;U<R.length;U++){var z=R[U];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(I,z.key,z)}}return function(I,R,U){return R&&S(I.prototype,R),U&&S(I,U),I}}();i(50);var l=i(2),u=O(l),d=i(14),f=O(d),h=i(8),m=O(h),A=i(9),g=O(A),p=i(0),b=O(p),x=i(15),v=O(x),y=i(3),N=O(y),P=i(10),M=O(P),k=i(34),D=O(k);function O(S){return S&&S.__esModule?S:{default:S}}function L(S,I,R){return I in S?Object.defineProperty(S,I,{value:R,enumerable:!0,configurable:!0,writable:!0}):S[I]=R,S}function F(S,I){if(!(S instanceof I))throw new TypeError("Cannot call a class as a function")}var _=(0,M.default)("quill"),E=function(){c(S,null,[{key:"debug",value:function(R){R===!0&&(R="log"),M.default.level(R)}},{key:"find",value:function(R){return R.__quill||b.default.find(R)}},{key:"import",value:function(R){return this.imports[R]==null&&_.error("Cannot import "+R+". Are you sure it was registered?"),this.imports[R]}},{key:"register",value:function(R,U){var z=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof R!="string"){var X=R.attrName||R.blotName;typeof X=="string"?this.register("formats/"+X,R,U):Object.keys(R).forEach(function($){z.register($,R[$],U)})}else this.imports[R]!=null&&!V&&_.warn("Overwriting "+R+" with",U),this.imports[R]=U,(R.startsWith("blots/")||R.startsWith("formats/"))&&U.blotName!=="abstract"?b.default.register(U):R.startsWith("modules")&&typeof U.register=="function"&&U.register()}}]);function S(I){var R=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(F(this,S),this.options=T(I,U),this.container=this.options.container,this.container==null)return _.error("Invalid Quill container",I);this.options.debug&&S.debug(this.options.debug);var z=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new m.default,this.scroll=b.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new v.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(m.default.events.EDITOR_CHANGE,function(X){X===m.default.events.TEXT_CHANGE&&R.root.classList.toggle("ql-blank",R.editor.isBlank())}),this.emitter.on(m.default.events.SCROLL_UPDATE,function(X,$){var W=R.selection.lastRange,H=W&&W.length===0?W.index:void 0;w.call(R,function(){return R.editor.update(null,$,H)},X)});var V=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+z+"<p><br></p></div>");this.setContents(V),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return c(S,[{key:"addContainer",value:function(R){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof R=="string"){var z=R;R=document.createElement("div"),R.classList.add(z)}return this.container.insertBefore(R,U),R}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(R,U,z){var V=this,X=C(R,U,z),$=o(X,4);return R=$[0],U=$[1],z=$[3],w.call(this,function(){return V.editor.deleteText(R,U)},z,R,-1*U)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(R),this.container.classList.toggle("ql-disabled",!R)}},{key:"focus",value:function(){var R=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=R,this.scrollIntoView()}},{key:"format",value:function(R,U){var z=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;return w.call(this,function(){var X=z.getSelection(!0),$=new u.default;if(X==null)return $;if(b.default.query(R,b.default.Scope.BLOCK))$=z.editor.formatLine(X.index,X.length,L({},R,U));else{if(X.length===0)return z.selection.format(R,U),$;$=z.editor.formatText(X.index,X.length,L({},R,U))}return z.setSelection(X,m.default.sources.SILENT),$},V)}},{key:"formatLine",value:function(R,U,z,V,X){var $=this,W=void 0,H=C(R,U,z,V,X),Q=o(H,4);return R=Q[0],U=Q[1],W=Q[2],X=Q[3],w.call(this,function(){return $.editor.formatLine(R,U,W)},X,R,0)}},{key:"formatText",value:function(R,U,z,V,X){var $=this,W=void 0,H=C(R,U,z,V,X),Q=o(H,4);return R=Q[0],U=Q[1],W=Q[2],X=Q[3],w.call(this,function(){return $.editor.formatText(R,U,W)},X,R,0)}},{key:"getBounds",value:function(R){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=void 0;typeof R=="number"?z=this.selection.getBounds(R,U):z=this.selection.getBounds(R.index,R.length);var V=this.container.getBoundingClientRect();return{bottom:z.bottom-V.top,height:z.height,left:z.left-V.left,right:z.right-V.left,top:z.top-V.top,width:z.width}}},{key:"getContents",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-R,z=C(R,U),V=o(z,2);return R=V[0],U=V[1],this.editor.getContents(R,U)}},{key:"getFormat",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof R=="number"?this.editor.getFormat(R,U):this.editor.getFormat(R.index,R.length)}},{key:"getIndex",value:function(R){return R.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(R){return this.scroll.leaf(R)}},{key:"getLine",value:function(R){return this.scroll.line(R)}},{key:"getLines",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof R!="number"?this.scroll.lines(R.index,R.length):this.scroll.lines(R,U)}},{key:"getModule",value:function(R){return this.theme.modules[R]}},{key:"getSelection",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return R&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-R,z=C(R,U),V=o(z,2);return R=V[0],U=V[1],this.editor.getText(R,U)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(R,U,z){var V=this,X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:S.sources.API;return w.call(this,function(){return V.editor.insertEmbed(R,U,z)},X,R)}},{key:"insertText",value:function(R,U,z,V,X){var $=this,W=void 0,H=C(R,0,z,V,X),Q=o(H,4);return R=Q[0],W=Q[2],X=Q[3],w.call(this,function(){return $.editor.insertText(R,U,W)},X,R,U.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(R,U,z){this.clipboard.dangerouslyPasteHTML(R,U,z)}},{key:"removeFormat",value:function(R,U,z){var V=this,X=C(R,U,z),$=o(X,4);return R=$[0],U=$[1],z=$[3],w.call(this,function(){return V.editor.removeFormat(R,U)},z,R)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(R){var U=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return w.call(this,function(){R=new u.default(R);var V=U.getLength(),X=U.editor.deleteText(0,V),$=U.editor.applyDelta(R),W=$.ops[$.ops.length-1];W!=null&&typeof W.insert=="string"&&W.insert[W.insert.length-1]===`
`&&(U.editor.deleteText(U.getLength()-1,1),$.delete(1));var H=X.compose($);return H},z)}},{key:"setSelection",value:function(R,U,z){if(R==null)this.selection.setRange(null,U||S.sources.API);else{var V=C(R,U,z),X=o(V,4);R=X[0],U=X[1],z=X[3],this.selection.setRange(new x.Range(R,U),z),z!==m.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(R){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API,z=new u.default().insert(R);return this.setContents(z,U)}},{key:"update",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,U=this.scroll.update(R);return this.selection.update(R),U}},{key:"updateContents",value:function(R){var U=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return w.call(this,function(){return R=new u.default(R),U.editor.applyDelta(R,z)},z,!0)}}]),S}();E.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},E.events=m.default.events,E.sources=m.default.sources,E.version="1.3.7",E.imports={delta:u.default,parchment:b.default,"core/module":g.default,"core/theme":D.default};function T(S,I){if(I=(0,N.default)(!0,{container:S,modules:{clipboard:!0,keyboard:!0,history:!0}},I),!I.theme||I.theme===E.DEFAULTS.theme)I.theme=D.default;else if(I.theme=E.import("themes/"+I.theme),I.theme==null)throw new Error("Invalid theme "+I.theme+". Did you register it?");var R=(0,N.default)(!0,{},I.theme.DEFAULTS);[R,I].forEach(function(V){V.modules=V.modules||{},Object.keys(V.modules).forEach(function(X){V.modules[X]===!0&&(V.modules[X]={})})});var U=Object.keys(R.modules).concat(Object.keys(I.modules)),z=U.reduce(function(V,X){var $=E.import("modules/"+X);return $==null?_.error("Cannot load "+X+" module. Are you sure you registered it?"):V[X]=$.DEFAULTS||{},V},{});return I.modules!=null&&I.modules.toolbar&&I.modules.toolbar.constructor!==Object&&(I.modules.toolbar={container:I.modules.toolbar}),I=(0,N.default)(!0,{},E.DEFAULTS,{modules:z},R,I),["bounds","container","scrollingContainer"].forEach(function(V){typeof I[V]=="string"&&(I[V]=document.querySelector(I[V]))}),I.modules=Object.keys(I.modules).reduce(function(V,X){return I.modules[X]&&(V[X]=I.modules[X]),V},{}),I}function w(S,I,R,U){if(this.options.strict&&!this.isEnabled()&&I===m.default.sources.USER)return new u.default;var z=R==null?null:this.getSelection(),V=this.editor.delta,X=S();if(z!=null&&(R===!0&&(R=z.index),U==null?z=j(z,X,I):U!==0&&(z=j(z,R,U,I)),this.setSelection(z,m.default.sources.SILENT)),X.length()>0){var $,W=[m.default.events.TEXT_CHANGE,X,V,I];if(($=this.emitter).emit.apply($,[m.default.events.EDITOR_CHANGE].concat(W)),I!==m.default.sources.SILENT){var H;(H=this.emitter).emit.apply(H,W)}}return X}function C(S,I,R,U,z){var V={};return typeof S.index=="number"&&typeof S.length=="number"?typeof I!="number"?(z=U,U=R,R=I,I=S.length,S=S.index):(I=S.length,S=S.index):typeof I!="number"&&(z=U,U=R,R=I,I=0),(typeof R>"u"?"undefined":a(R))==="object"?(V=R,z=U):typeof R=="string"&&(U!=null?V[R]=U:z=R),z=z||m.default.sources.API,[S,I,V,z]}function j(S,I,R,U){if(S==null)return null;var z=void 0,V=void 0;if(I instanceof u.default){var X=[S.index,S.index+S.length].map(function(Q){return I.transformPosition(Q,U!==m.default.sources.USER)}),$=o(X,2);z=$[0],V=$[1]}else{var W=[S.index,S.index+S.length].map(function(Q){return Q<I||Q===I&&U===m.default.sources.USER?Q:R>=0?Q+R:Math.max(I,Q+R)}),H=o(W,2);z=H[0],V=H[1]}return new x.Range(z,V-z)}s.expandConfig=T,s.overload=C,s.default=E},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function p(b,x){for(var v=0;v<x.length;v++){var y=x[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(b,y.key,y)}}return function(b,x,v){return x&&p(b.prototype,x),v&&p(b,v),b}}(),o=function p(b,x,v){b===null&&(b=Function.prototype);var y=Object.getOwnPropertyDescriptor(b,x);if(y===void 0){var N=Object.getPrototypeOf(b);return N===null?void 0:p(N,x,v)}else{if("value"in y)return y.value;var P=y.get;return P===void 0?void 0:P.call(v)}},c=i(7),l=f(c),u=i(0),d=f(u);function f(p){return p&&p.__esModule?p:{default:p}}function h(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function m(p,b){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:p}function A(p,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);p.prototype=Object.create(b&&b.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(p,b):p.__proto__=b)}var g=function(p){A(b,p);function b(){return h(this,b),m(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"formatAt",value:function(v,y,N,P){if(b.compare(this.statics.blotName,N)<0&&d.default.query(N,d.default.Scope.BLOT)){var M=this.isolate(v,y);P&&M.wrap(N,P)}else o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,v,y,N,P)}},{key:"optimize",value:function(v){if(o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,v),this.parent instanceof b&&b.compare(this.statics.blotName,this.parent.statics.blotName)>0){var y=this.parent.isolate(this.offset(),this.length());this.moveChildren(y),y.wrap(this)}}}],[{key:"compare",value:function(v,y){var N=b.order.indexOf(v),P=b.order.indexOf(y);return N>=0||P>=0?N-P:v===y?0:v<y?-1:1}}]),b}(d.default.Inline);g.allowedChildren=[g,d.default.Embed,l.default],g.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],s.default=g},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(0),o=c(a);function c(h){return h&&h.__esModule?h:{default:h}}function l(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function u(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function d(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var f=function(h){d(m,h);function m(){return l(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default.Text);s.default=f},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function x(v,y){for(var N=0;N<y.length;N++){var P=y[N];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(v,P.key,P)}}return function(v,y,N){return y&&x(v.prototype,y),N&&x(v,N),v}}(),o=function x(v,y,N){v===null&&(v=Function.prototype);var P=Object.getOwnPropertyDescriptor(v,y);if(P===void 0){var M=Object.getPrototypeOf(v);return M===null?void 0:x(M,y,N)}else{if("value"in P)return P.value;var k=P.get;return k===void 0?void 0:k.call(N)}},c=i(54),l=f(c),u=i(10),d=f(u);function f(x){return x&&x.__esModule?x:{default:x}}function h(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}function m(x,v){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:x}function A(x,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(x,v):x.__proto__=v)}var g=(0,d.default)("quill:events"),p=["selectionchange","mousedown","mouseup","click"];p.forEach(function(x){document.addEventListener(x,function(){for(var v=arguments.length,y=Array(v),N=0;N<v;N++)y[N]=arguments[N];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(P){if(P.__quill&&P.__quill.emitter){var M;(M=P.__quill.emitter).handleDOM.apply(M,y)}})})});var b=function(x){A(v,x);function v(){h(this,v);var y=m(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));return y.listeners={},y.on("error",g.error),y}return a(v,[{key:"emit",value:function(){g.log.apply(g,arguments),o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(N){for(var P=arguments.length,M=Array(P>1?P-1:0),k=1;k<P;k++)M[k-1]=arguments[k];(this.listeners[N.type]||[]).forEach(function(D){var O=D.node,L=D.handler;(N.target===O||O.contains(N.target))&&L.apply(void 0,[N].concat(M))})}},{key:"listenDOM",value:function(N,P,M){this.listeners[N]||(this.listeners[N]=[]),this.listeners[N].push({node:P,handler:M})}}]),v}(l.default);b.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},b.sources={API:"api",SILENT:"silent",USER:"user"},s.default=b},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});function a(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}var o=function c(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,c),this.quill=l,this.options=u};o.DEFAULTS={},s.default=o},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=["error","warn","log","info"],o="warn";function c(u){if(a.indexOf(u)<=a.indexOf(o)){for(var d,f=arguments.length,h=Array(f>1?f-1:0),m=1;m<f;m++)h[m-1]=arguments[m];(d=console)[u].apply(d,h)}}function l(u){return a.reduce(function(d,f){return d[f]=c.bind(console,f,u),d},{})}c.level=l.level=function(u){o=u},s.default=l},function(n,s,i){var a=Array.prototype.slice,o=i(52),c=i(53),l=n.exports=function(h,m,A){return A||(A={}),h===m?!0:h instanceof Date&&m instanceof Date?h.getTime()===m.getTime():!h||!m||typeof h!="object"&&typeof m!="object"?A.strict?h===m:h==m:f(h,m,A)};function u(h){return h==null}function d(h){return!(!h||typeof h!="object"||typeof h.length!="number"||typeof h.copy!="function"||typeof h.slice!="function"||h.length>0&&typeof h[0]!="number")}function f(h,m,A){var g,p;if(u(h)||u(m)||h.prototype!==m.prototype)return!1;if(c(h))return c(m)?(h=a.call(h),m=a.call(m),l(h,m,A)):!1;if(d(h)){if(!d(m)||h.length!==m.length)return!1;for(g=0;g<h.length;g++)if(h[g]!==m[g])return!1;return!0}try{var b=o(h),x=o(m)}catch{return!1}if(b.length!=x.length)return!1;for(b.sort(),x.sort(),g=b.length-1;g>=0;g--)if(b[g]!=x[g])return!1;for(g=b.length-1;g>=0;g--)if(p=b[g],!l(h[p],m[p],A))return!1;return typeof h==typeof m}},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(1),o=function(){function c(l,u,d){d===void 0&&(d={}),this.attrName=l,this.keyName=u;var f=a.Scope.TYPE&a.Scope.ATTRIBUTE;d.scope!=null?this.scope=d.scope&a.Scope.LEVEL|f:this.scope=a.Scope.ATTRIBUTE,d.whitelist!=null&&(this.whitelist=d.whitelist)}return c.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},c.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},c.prototype.canAdd=function(l,u){var d=a.query(l,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return d==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},c.prototype.remove=function(l){l.removeAttribute(this.keyName)},c.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},c}();s.default=o},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Code=void 0;var a=function(){function k(D,O){var L=[],F=!0,_=!1,E=void 0;try{for(var T=D[Symbol.iterator](),w;!(F=(w=T.next()).done)&&(L.push(w.value),!(O&&L.length===O));F=!0);}catch(C){_=!0,E=C}finally{try{!F&&T.return&&T.return()}finally{if(_)throw E}}return L}return function(D,O){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return k(D,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function k(D,O){for(var L=0;L<O.length;L++){var F=O[L];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(D,F.key,F)}}return function(D,O,L){return O&&k(D.prototype,O),L&&k(D,L),D}}(),c=function k(D,O,L){D===null&&(D=Function.prototype);var F=Object.getOwnPropertyDescriptor(D,O);if(F===void 0){var _=Object.getPrototypeOf(D);return _===null?void 0:k(_,O,L)}else{if("value"in F)return F.value;var E=F.get;return E===void 0?void 0:E.call(L)}},l=i(2),u=x(l),d=i(0),f=x(d),h=i(4),m=x(h),A=i(6),g=x(A),p=i(7),b=x(p);function x(k){return k&&k.__esModule?k:{default:k}}function v(k,D){if(!(k instanceof D))throw new TypeError("Cannot call a class as a function")}function y(k,D){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:k}function N(k,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);k.prototype=Object.create(D&&D.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(k,D):k.__proto__=D)}var P=function(k){N(D,k);function D(){return v(this,D),y(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return D}(g.default);P.blotName="code",P.tagName="CODE";var M=function(k){N(D,k);function D(){return v(this,D),y(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return o(D,[{key:"delta",value:function(){var L=this,F=this.domNode.textContent;return F.endsWith(`
`)&&(F=F.slice(0,-1)),F.split(`
`).reduce(function(_,E){return _.insert(E).insert(`
`,L.formats())},new u.default)}},{key:"format",value:function(L,F){if(!(L===this.statics.blotName&&F)){var _=this.descendant(b.default,this.length()-1),E=a(_,1),T=E[0];T!=null&&T.deleteAt(T.length()-1,1),c(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"format",this).call(this,L,F)}}},{key:"formatAt",value:function(L,F,_,E){if(F!==0&&!(f.default.query(_,f.default.Scope.BLOCK)==null||_===this.statics.blotName&&E===this.statics.formats(this.domNode))){var T=this.newlineIndex(L);if(!(T<0||T>=L+F)){var w=this.newlineIndex(L,!0)+1,C=T-w+1,j=this.isolate(w,C),S=j.next;j.format(_,E),S instanceof D&&S.formatAt(0,L-w+F-C,_,E)}}}},{key:"insertAt",value:function(L,F,_){if(_==null){var E=this.descendant(b.default,L),T=a(E,2),w=T[0],C=T[1];w.insertAt(C,F)}}},{key:"length",value:function(){var L=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?L:L+1}},{key:"newlineIndex",value:function(L){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(F)return this.domNode.textContent.slice(0,L).lastIndexOf(`
`);var _=this.domNode.textContent.slice(L).indexOf(`
`);return _>-1?L+_:-1}},{key:"optimize",value:function(L){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),c(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,L);var F=this.next;F!=null&&F.prev===this&&F.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===F.statics.formats(F.domNode)&&(F.optimize(L),F.moveChildren(this),F.remove())}},{key:"replace",value:function(L){c(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"replace",this).call(this,L),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(F){var _=f.default.find(F);_==null?F.parentNode.removeChild(F):_ instanceof f.default.Embed?_.remove():_.unwrap()})}}],[{key:"create",value:function(L){var F=c(D.__proto__||Object.getPrototypeOf(D),"create",this).call(this,L);return F.setAttribute("spellcheck",!1),F}},{key:"formats",value:function(){return!0}}]),D}(m.default);M.blotName="code-block",M.tagName="PRE",M.TAB="  ",s.Code=P,s.default=M},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},o=function(){function S(I,R){var U=[],z=!0,V=!1,X=void 0;try{for(var $=I[Symbol.iterator](),W;!(z=(W=$.next()).done)&&(U.push(W.value),!(R&&U.length===R));z=!0);}catch(H){V=!0,X=H}finally{try{!z&&$.return&&$.return()}finally{if(V)throw X}}return U}return function(I,R){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return S(I,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function S(I,R){for(var U=0;U<R.length;U++){var z=R[U];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(I,z.key,z)}}return function(I,R,U){return R&&S(I.prototype,R),U&&S(I,U),I}}(),l=i(2),u=F(l),d=i(20),f=F(d),h=i(0),m=F(h),A=i(13),g=F(A),p=i(24),b=F(p),x=i(4),v=F(x),y=i(16),N=F(y),P=i(21),M=F(P),k=i(11),D=F(k),O=i(3),L=F(O);function F(S){return S&&S.__esModule?S:{default:S}}function _(S,I,R){return I in S?Object.defineProperty(S,I,{value:R,enumerable:!0,configurable:!0,writable:!0}):S[I]=R,S}function E(S,I){if(!(S instanceof I))throw new TypeError("Cannot call a class as a function")}var T=/^[ -~]*$/,w=function(){function S(I){E(this,S),this.scroll=I,this.delta=this.getDelta()}return c(S,[{key:"applyDelta",value:function(R){var U=this,z=!1;this.scroll.update();var V=this.scroll.length();return this.scroll.batchStart(),R=j(R),R.reduce(function(X,$){var W=$.retain||$.delete||$.insert.length||1,H=$.attributes||{};if($.insert!=null){if(typeof $.insert=="string"){var Q=$.insert;Q.endsWith(`
`)&&z&&(z=!1,Q=Q.slice(0,-1)),X>=V&&!Q.endsWith(`
`)&&(z=!0),U.scroll.insertAt(X,Q);var G=U.scroll.line(X),J=o(G,2),ee=J[0],K=J[1],ne=(0,L.default)({},(0,x.bubbleFormats)(ee));if(ee instanceof v.default){var ue=ee.descendant(m.default.Leaf,K),se=o(ue,1),ie=se[0];ne=(0,L.default)(ne,(0,x.bubbleFormats)(ie))}H=f.default.attributes.diff(ne,H)||{}}else if(a($.insert)==="object"){var q=Object.keys($.insert)[0];if(q==null)return X;U.scroll.insertAt(X,q,$.insert[q])}V+=W}return Object.keys(H).forEach(function(Z){U.scroll.formatAt(X,W,Z,H[Z])}),X+W},0),R.reduce(function(X,$){return typeof $.delete=="number"?(U.scroll.deleteAt(X,$.delete),X):X+($.retain||$.insert.length||1)},0),this.scroll.batchEnd(),this.update(R)}},{key:"deleteText",value:function(R,U){return this.scroll.deleteAt(R,U),this.update(new u.default().retain(R).delete(U))}},{key:"formatLine",value:function(R,U){var z=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(V).forEach(function(X){if(!(z.scroll.whitelist!=null&&!z.scroll.whitelist[X])){var $=z.scroll.lines(R,Math.max(U,1)),W=U;$.forEach(function(H){var Q=H.length();if(!(H instanceof g.default))H.format(X,V[X]);else{var G=R-H.offset(z.scroll),J=H.newlineIndex(G+W)-G+1;H.formatAt(G,J,X,V[X])}W-=Q})}}),this.scroll.optimize(),this.update(new u.default().retain(R).retain(U,(0,M.default)(V)))}},{key:"formatText",value:function(R,U){var z=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(V).forEach(function(X){z.scroll.formatAt(R,U,X,V[X])}),this.update(new u.default().retain(R).retain(U,(0,M.default)(V)))}},{key:"getContents",value:function(R,U){return this.delta.slice(R,R+U)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(R,U){return R.concat(U.delta())},new u.default)}},{key:"getFormat",value:function(R){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=[],V=[];U===0?this.scroll.path(R).forEach(function($){var W=o($,1),H=W[0];H instanceof v.default?z.push(H):H instanceof m.default.Leaf&&V.push(H)}):(z=this.scroll.lines(R,U),V=this.scroll.descendants(m.default.Leaf,R,U));var X=[z,V].map(function($){if($.length===0)return{};for(var W=(0,x.bubbleFormats)($.shift());Object.keys(W).length>0;){var H=$.shift();if(H==null)return W;W=C((0,x.bubbleFormats)(H),W)}return W});return L.default.apply(L.default,X)}},{key:"getText",value:function(R,U){return this.getContents(R,U).filter(function(z){return typeof z.insert=="string"}).map(function(z){return z.insert}).join("")}},{key:"insertEmbed",value:function(R,U,z){return this.scroll.insertAt(R,U,z),this.update(new u.default().retain(R).insert(_({},U,z)))}},{key:"insertText",value:function(R,U){var z=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return U=U.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(R,U),Object.keys(V).forEach(function(X){z.scroll.formatAt(R,U.length,X,V[X])}),this.update(new u.default().retain(R).insert(U,(0,M.default)(V)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var R=this.scroll.children.head;return R.statics.blotName!==v.default.blotName||R.children.length>1?!1:R.children.head instanceof N.default}},{key:"removeFormat",value:function(R,U){var z=this.getText(R,U),V=this.scroll.line(R+U),X=o(V,2),$=X[0],W=X[1],H=0,Q=new u.default;$!=null&&($ instanceof g.default?H=$.newlineIndex(W)-W+1:H=$.length()-W,Q=$.delta().slice(W,W+H-1).insert(`
`));var G=this.getContents(R,U+H),J=G.diff(new u.default().insert(z).concat(Q)),ee=new u.default().retain(R).concat(J);return this.applyDelta(ee)}},{key:"update",value:function(R){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,V=this.delta;if(U.length===1&&U[0].type==="characterData"&&U[0].target.data.match(T)&&m.default.find(U[0].target)){var X=m.default.find(U[0].target),$=(0,x.bubbleFormats)(X),W=X.offset(this.scroll),H=U[0].oldValue.replace(b.default.CONTENTS,""),Q=new u.default().insert(H),G=new u.default().insert(X.value()),J=new u.default().retain(W).concat(Q.diff(G,z));R=J.reduce(function(ee,K){return K.insert?ee.insert(K.insert,$):ee.push(K)},new u.default),this.delta=V.compose(R)}else this.delta=this.getDelta(),(!R||!(0,D.default)(V.compose(R),this.delta))&&(R=V.diff(this.delta,z));return R}}]),S}();function C(S,I){return Object.keys(I).reduce(function(R,U){return S[U]==null||(I[U]===S[U]?R[U]=I[U]:Array.isArray(I[U])?I[U].indexOf(S[U])<0&&(R[U]=I[U].concat([S[U]])):R[U]=[I[U],S[U]]),R},{})}function j(S){return S.reduce(function(I,R){if(R.insert===1){var U=(0,M.default)(R.attributes);return delete U.image,I.insert({image:R.attributes.image},U)}if(R.attributes!=null&&(R.attributes.list===!0||R.attributes.bullet===!0)&&(R=(0,M.default)(R),R.attributes.list?R.attributes.list="ordered":(R.attributes.list="bullet",delete R.attributes.bullet)),typeof R.insert=="string"){var z=R.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return I.insert(z,R.attributes)}return I.push(R)},new u.default)}s.default=w},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Range=void 0;var a=function(){function k(D,O){var L=[],F=!0,_=!1,E=void 0;try{for(var T=D[Symbol.iterator](),w;!(F=(w=T.next()).done)&&(L.push(w.value),!(O&&L.length===O));F=!0);}catch(C){_=!0,E=C}finally{try{!F&&T.return&&T.return()}finally{if(_)throw E}}return L}return function(D,O){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return k(D,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function k(D,O){for(var L=0;L<O.length;L++){var F=O[L];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(D,F.key,F)}}return function(D,O,L){return O&&k(D.prototype,O),L&&k(D,L),D}}(),c=i(0),l=b(c),u=i(21),d=b(u),f=i(11),h=b(f),m=i(8),A=b(m),g=i(10),p=b(g);function b(k){return k&&k.__esModule?k:{default:k}}function x(k){if(Array.isArray(k)){for(var D=0,O=Array(k.length);D<k.length;D++)O[D]=k[D];return O}else return Array.from(k)}function v(k,D){if(!(k instanceof D))throw new TypeError("Cannot call a class as a function")}var y=(0,p.default)("quill:selection"),N=function k(D){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;v(this,k),this.index=D,this.length=O},P=function(){function k(D,O){var L=this;v(this,k),this.emitter=O,this.scroll=D,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new N(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){L.mouseDown||setTimeout(L.update.bind(L,A.default.sources.USER),1)}),this.emitter.on(A.default.events.EDITOR_CHANGE,function(F,_){F===A.default.events.TEXT_CHANGE&&_.length()>0&&L.update(A.default.sources.SILENT)}),this.emitter.on(A.default.events.SCROLL_BEFORE_UPDATE,function(){if(L.hasFocus()){var F=L.getNativeRange();F!=null&&F.start.node!==L.cursor.textNode&&L.emitter.once(A.default.events.SCROLL_UPDATE,function(){try{L.setNativeRange(F.start.node,F.start.offset,F.end.node,F.end.offset)}catch{}})}}),this.emitter.on(A.default.events.SCROLL_OPTIMIZE,function(F,_){if(_.range){var E=_.range,T=E.startNode,w=E.startOffset,C=E.endNode,j=E.endOffset;L.setNativeRange(T,w,C,j)}}),this.update(A.default.sources.SILENT)}return o(k,[{key:"handleComposition",value:function(){var O=this;this.root.addEventListener("compositionstart",function(){O.composing=!0}),this.root.addEventListener("compositionend",function(){if(O.composing=!1,O.cursor.parent){var L=O.cursor.restore();if(!L)return;setTimeout(function(){O.setNativeRange(L.startNode,L.startOffset,L.endNode,L.endOffset)},1)}})}},{key:"handleDragging",value:function(){var O=this;this.emitter.listenDOM("mousedown",document.body,function(){O.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){O.mouseDown=!1,O.update(A.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(O,L){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[O])){this.scroll.update();var F=this.getNativeRange();if(!(F==null||!F.native.collapsed||l.default.query(O,l.default.Scope.BLOCK))){if(F.start.node!==this.cursor.textNode){var _=l.default.find(F.start.node,!1);if(_==null)return;if(_ instanceof l.default.Leaf){var E=_.split(F.start.offset);_.parent.insertBefore(this.cursor,E)}else _.insertBefore(this.cursor,F.start.node);this.cursor.attach()}this.cursor.format(O,L),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(O){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=this.scroll.length();O=Math.min(O,F-1),L=Math.min(O+L,F-1)-O;var _=void 0,E=this.scroll.leaf(O),T=a(E,2),w=T[0],C=T[1];if(w==null)return null;var j=w.position(C,!0),S=a(j,2);_=S[0],C=S[1];var I=document.createRange();if(L>0){I.setStart(_,C);var R=this.scroll.leaf(O+L),U=a(R,2);if(w=U[0],C=U[1],w==null)return null;var z=w.position(C,!0),V=a(z,2);return _=V[0],C=V[1],I.setEnd(_,C),I.getBoundingClientRect()}else{var X="left",$=void 0;return _ instanceof Text?(C<_.data.length?(I.setStart(_,C),I.setEnd(_,C+1)):(I.setStart(_,C-1),I.setEnd(_,C),X="right"),$=I.getBoundingClientRect()):($=w.domNode.getBoundingClientRect(),C>0&&(X="right")),{bottom:$.top+$.height,height:$.height,left:$[X],right:$[X],top:$.top,width:0}}}},{key:"getNativeRange",value:function(){var O=document.getSelection();if(O==null||O.rangeCount<=0)return null;var L=O.getRangeAt(0);if(L==null)return null;var F=this.normalizeNative(L);return y.info("getNativeRange",F),F}},{key:"getRange",value:function(){var O=this.getNativeRange();if(O==null)return[null,null];var L=this.normalizedToRange(O);return[L,O]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(O){var L=this,F=[[O.start.node,O.start.offset]];O.native.collapsed||F.push([O.end.node,O.end.offset]);var _=F.map(function(w){var C=a(w,2),j=C[0],S=C[1],I=l.default.find(j,!0),R=I.offset(L.scroll);return S===0?R:I instanceof l.default.Container?R+I.length():R+I.index(j,S)}),E=Math.min(Math.max.apply(Math,x(_)),this.scroll.length()-1),T=Math.min.apply(Math,[E].concat(x(_)));return new N(T,E-T)}},{key:"normalizeNative",value:function(O){if(!M(this.root,O.startContainer)||!O.collapsed&&!M(this.root,O.endContainer))return null;var L={start:{node:O.startContainer,offset:O.startOffset},end:{node:O.endContainer,offset:O.endOffset},native:O};return[L.start,L.end].forEach(function(F){for(var _=F.node,E=F.offset;!(_ instanceof Text)&&_.childNodes.length>0;)if(_.childNodes.length>E)_=_.childNodes[E],E=0;else if(_.childNodes.length===E)_=_.lastChild,E=_ instanceof Text?_.data.length:_.childNodes.length+1;else break;F.node=_,F.offset=E}),L}},{key:"rangeToNative",value:function(O){var L=this,F=O.collapsed?[O.index]:[O.index,O.index+O.length],_=[],E=this.scroll.length();return F.forEach(function(T,w){T=Math.min(E-1,T);var C=void 0,j=L.scroll.leaf(T),S=a(j,2),I=S[0],R=S[1],U=I.position(R,w!==0),z=a(U,2);C=z[0],R=z[1],_.push(C,R)}),_.length<2&&(_=_.concat(_)),_}},{key:"scrollIntoView",value:function(O){var L=this.lastRange;if(L!=null){var F=this.getBounds(L.index,L.length);if(F!=null){var _=this.scroll.length()-1,E=this.scroll.line(Math.min(L.index,_)),T=a(E,1),w=T[0],C=w;if(L.length>0){var j=this.scroll.line(Math.min(L.index+L.length,_)),S=a(j,1);C=S[0]}if(!(w==null||C==null)){var I=O.getBoundingClientRect();F.top<I.top?O.scrollTop-=I.top-F.top:F.bottom>I.bottom&&(O.scrollTop+=F.bottom-I.bottom)}}}}},{key:"setNativeRange",value:function(O,L){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O,_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:L,E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(y.info("setNativeRange",O,L,F,_),!(O!=null&&(this.root.parentNode==null||O.parentNode==null||F.parentNode==null))){var T=document.getSelection();if(T!=null)if(O!=null){this.hasFocus()||this.root.focus();var w=(this.getNativeRange()||{}).native;if(w==null||E||O!==w.startContainer||L!==w.startOffset||F!==w.endContainer||_!==w.endOffset){O.tagName=="BR"&&(L=[].indexOf.call(O.parentNode.childNodes,O),O=O.parentNode),F.tagName=="BR"&&(_=[].indexOf.call(F.parentNode.childNodes,F),F=F.parentNode);var C=document.createRange();C.setStart(O,L),C.setEnd(F,_),T.removeAllRanges(),T.addRange(C)}}else T.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(O){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A.default.sources.API;if(typeof L=="string"&&(F=L,L=!1),y.info("setRange",O),O!=null){var _=this.rangeToNative(O);this.setNativeRange.apply(this,x(_).concat([L]))}else this.setNativeRange(null);this.update(F)}},{key:"update",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A.default.sources.USER,L=this.lastRange,F=this.getRange(),_=a(F,2),E=_[0],T=_[1];if(this.lastRange=E,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,h.default)(L,this.lastRange)){var w;!this.composing&&T!=null&&T.native.collapsed&&T.start.node!==this.cursor.textNode&&this.cursor.restore();var C=[A.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(L),O];if((w=this.emitter).emit.apply(w,[A.default.events.EDITOR_CHANGE].concat(C)),O!==A.default.sources.SILENT){var j;(j=this.emitter).emit.apply(j,C)}}}}]),k}();function M(k,D){try{D.parentNode}catch{return!1}return D instanceof Text&&(D=D.parentNode),k.contains(D)}s.Range=N,s.default=P},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function A(g,p){for(var b=0;b<p.length;b++){var x=p[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,p,b){return p&&A(g.prototype,p),b&&A(g,b),g}}(),o=function A(g,p,b){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,p);if(x===void 0){var v=Object.getPrototypeOf(g);return v===null?void 0:A(v,p,b)}else{if("value"in x)return x.value;var y=x.get;return y===void 0?void 0:y.call(b)}},c=i(0),l=u(c);function u(A){return A&&A.__esModule?A:{default:A}}function d(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}function f(A,g){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:A}function h(A,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);A.prototype=Object.create(g&&g.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(A,g):A.__proto__=g)}var m=function(A){h(g,A);function g(){return d(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"insertInto",value:function(b,x){b.children.length===0?o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"insertInto",this).call(this,b,x):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),g}(l.default.Embed);m.blotName="break",m.tagName="BR",s.default=m},function(n,s,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var A in m)m.hasOwnProperty(A)&&(h[A]=m[A])};return function(h,m){f(h,m);function A(){this.constructor=h}h.prototype=m===null?Object.create(m):(A.prototype=m.prototype,new A)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=i(44),c=i(30),l=i(1),u=function(f){a(h,f);function h(m){var A=f.call(this,m)||this;return A.build(),A}return h.prototype.appendChild=function(m){this.insertBefore(m)},h.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(m){m.attach()})},h.prototype.build=function(){var m=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(A){try{var g=d(A);m.insertBefore(g,m.children.head||void 0)}catch(p){if(p instanceof l.ParchmentError)return;throw p}})},h.prototype.deleteAt=function(m,A){if(m===0&&A===this.length())return this.remove();this.children.forEachAt(m,A,function(g,p,b){g.deleteAt(p,b)})},h.prototype.descendant=function(m,A){var g=this.children.find(A),p=g[0],b=g[1];return m.blotName==null&&m(p)||m.blotName!=null&&p instanceof m?[p,b]:p instanceof h?p.descendant(m,b):[null,-1]},h.prototype.descendants=function(m,A,g){A===void 0&&(A=0),g===void 0&&(g=Number.MAX_VALUE);var p=[],b=g;return this.children.forEachAt(A,g,function(x,v,y){(m.blotName==null&&m(x)||m.blotName!=null&&x instanceof m)&&p.push(x),x instanceof h&&(p=p.concat(x.descendants(m,v,b))),b-=y}),p},h.prototype.detach=function(){this.children.forEach(function(m){m.detach()}),f.prototype.detach.call(this)},h.prototype.formatAt=function(m,A,g,p){this.children.forEachAt(m,A,function(b,x,v){b.formatAt(x,v,g,p)})},h.prototype.insertAt=function(m,A,g){var p=this.children.find(m),b=p[0],x=p[1];if(b)b.insertAt(x,A,g);else{var v=g==null?l.create("text",A):l.create(A,g);this.appendChild(v)}},h.prototype.insertBefore=function(m,A){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(g){return m instanceof g}))throw new l.ParchmentError("Cannot insert "+m.statics.blotName+" into "+this.statics.blotName);m.insertInto(this,A)},h.prototype.length=function(){return this.children.reduce(function(m,A){return m+A.length()},0)},h.prototype.moveChildren=function(m,A){this.children.forEach(function(g){m.insertBefore(g,A)})},h.prototype.optimize=function(m){if(f.prototype.optimize.call(this,m),this.children.length===0)if(this.statics.defaultChild!=null){var A=l.create(this.statics.defaultChild);this.appendChild(A),A.optimize(m)}else this.remove()},h.prototype.path=function(m,A){A===void 0&&(A=!1);var g=this.children.find(m,A),p=g[0],b=g[1],x=[[this,m]];return p instanceof h?x.concat(p.path(b,A)):(p!=null&&x.push([p,b]),x)},h.prototype.removeChild=function(m){this.children.remove(m)},h.prototype.replace=function(m){m instanceof h&&m.moveChildren(this),f.prototype.replace.call(this,m)},h.prototype.split=function(m,A){if(A===void 0&&(A=!1),!A){if(m===0)return this;if(m===this.length())return this.next}var g=this.clone();return this.parent.insertBefore(g,this.next),this.children.forEachAt(m,this.length(),function(p,b,x){p=p.split(b,A),g.appendChild(p)}),g},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(m,A){var g=this,p=[],b=[];m.forEach(function(x){x.target===g.domNode&&x.type==="childList"&&(p.push.apply(p,x.addedNodes),b.push.apply(b,x.removedNodes))}),b.forEach(function(x){if(!(x.parentNode!=null&&x.tagName!=="IFRAME"&&document.body.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var v=l.find(x);v!=null&&(v.domNode.parentNode==null||v.domNode.parentNode===g.domNode)&&v.detach()}}),p.filter(function(x){return x.parentNode==g.domNode}).sort(function(x,v){return x===v?0:x.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(x){var v=null;x.nextSibling!=null&&(v=l.find(x.nextSibling));var y=d(x);(y.next!=v||y.next==null)&&(y.parent!=null&&y.parent.removeChild(g),g.insertBefore(y,v||void 0))})},h}(c.default);function d(f){var h=l.find(f);if(h==null)try{h=l.create(f)}catch{h=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(A){h.domNode.appendChild(A)}),f.parentNode&&f.parentNode.replaceChild(h.domNode,f),h.attach()}return h}s.default=u},function(n,s,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var A in m)m.hasOwnProperty(A)&&(h[A]=m[A])};return function(h,m){f(h,m);function A(){this.constructor=h}h.prototype=m===null?Object.create(m):(A.prototype=m.prototype,new A)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=i(12),c=i(31),l=i(17),u=i(1),d=function(f){a(h,f);function h(m){var A=f.call(this,m)||this;return A.attributes=new c.default(A.domNode),A}return h.formats=function(m){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return m.tagName.toLowerCase()},h.prototype.format=function(m,A){var g=u.query(m);g instanceof o.default?this.attributes.attribute(g,A):A&&g!=null&&(m!==this.statics.blotName||this.formats()[m]!==A)&&this.replaceWith(m,A)},h.prototype.formats=function(){var m=this.attributes.values(),A=this.statics.formats(this.domNode);return A!=null&&(m[this.statics.blotName]=A),m},h.prototype.replaceWith=function(m,A){var g=f.prototype.replaceWith.call(this,m,A);return this.attributes.copy(g),g},h.prototype.update=function(m,A){var g=this;f.prototype.update.call(this,m,A),m.some(function(p){return p.target===g.domNode&&p.type==="attributes"})&&this.attributes.build()},h.prototype.wrap=function(m,A){var g=f.prototype.wrap.call(this,m,A);return g instanceof h&&g.statics.scope===this.statics.scope&&this.attributes.move(g),g},h}(l.default);s.default=d},function(n,s,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var h in f)f.hasOwnProperty(h)&&(d[h]=f[h])};return function(d,f){u(d,f);function h(){this.constructor=d}d.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=i(30),c=i(1),l=function(u){a(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.value=function(f){return!0},d.prototype.index=function(f,h){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},d.prototype.position=function(f,h){var m=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(m+=1),[this.parent.domNode,m]},d.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},d.scope=c.Scope.INLINE_BLOT,d}(o.default);s.default=l},function(n,s,i){var a=i(11),o=i(3),c={attributes:{compose:function(u,d,f){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});var h=o(!0,{},d);f||(h=Object.keys(h).reduce(function(A,g){return h[g]!=null&&(A[g]=h[g]),A},{}));for(var m in u)u[m]!==void 0&&d[m]===void 0&&(h[m]=u[m]);return Object.keys(h).length>0?h:void 0},diff:function(u,d){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});var f=Object.keys(u).concat(Object.keys(d)).reduce(function(h,m){return a(u[m],d[m])||(h[m]=d[m]===void 0?null:d[m]),h},{});return Object.keys(f).length>0?f:void 0},transform:function(u,d,f){if(typeof u!="object")return d;if(typeof d=="object"){if(!f)return d;var h=Object.keys(d).reduce(function(m,A){return u[A]===void 0&&(m[A]=d[A]),m},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var d=this.ops[this.index];if(d){var f=this.offset,h=c.length(d);if(u>=h-f?(u=h-f,this.index+=1,this.offset=0):this.offset+=u,typeof d.delete=="number")return{delete:u};var m={};return d.attributes&&(m.attributes=d.attributes),typeof d.retain=="number"?m.retain=u:typeof d.insert=="string"?m.insert=d.insert.substr(f,u):m.insert=d.insert,m}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?c.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,d=this.index,f=this.next(),h=this.ops.slice(this.index);return this.offset=u,this.index=d,[f].concat(h)}else return[]},n.exports=c},function(n,s){var i=function(){function a(g,p){return p!=null&&g instanceof p}var o;try{o=Map}catch{o=function(){}}var c;try{c=Set}catch{c=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(g,p,b,x,v){typeof p=="object"&&(b=p.depth,x=p.prototype,v=p.includeNonEnumerable,p=p.circular);var y=[],N=[],P=typeof Buffer<"u";typeof p>"u"&&(p=!0),typeof b>"u"&&(b=1/0);function M(k,D){if(k===null)return null;if(D===0)return k;var O,L;if(typeof k!="object")return k;if(a(k,o))O=new o;else if(a(k,c))O=new c;else if(a(k,l))O=new l(function(I,R){k.then(function(U){I(M(U,D-1))},function(U){R(M(U,D-1))})});else if(u.__isArray(k))O=[];else if(u.__isRegExp(k))O=new RegExp(k.source,A(k)),k.lastIndex&&(O.lastIndex=k.lastIndex);else if(u.__isDate(k))O=new Date(k.getTime());else{if(P&&Buffer.isBuffer(k))return Buffer.allocUnsafe?O=Buffer.allocUnsafe(k.length):O=new Buffer(k.length),k.copy(O),O;a(k,Error)?O=Object.create(k):typeof x>"u"?(L=Object.getPrototypeOf(k),O=Object.create(L)):(O=Object.create(x),L=x)}if(p){var F=y.indexOf(k);if(F!=-1)return N[F];y.push(k),N.push(O)}a(k,o)&&k.forEach(function(I,R){var U=M(R,D-1),z=M(I,D-1);O.set(U,z)}),a(k,c)&&k.forEach(function(I){var R=M(I,D-1);O.add(R)});for(var _ in k){var E;L&&(E=Object.getOwnPropertyDescriptor(L,_)),!(E&&E.set==null)&&(O[_]=M(k[_],D-1))}if(Object.getOwnPropertySymbols)for(var T=Object.getOwnPropertySymbols(k),_=0;_<T.length;_++){var w=T[_],C=Object.getOwnPropertyDescriptor(k,w);C&&!C.enumerable&&!v||(O[w]=M(k[w],D-1),C.enumerable||Object.defineProperty(O,w,{enumerable:!1}))}if(v)for(var j=Object.getOwnPropertyNames(k),_=0;_<j.length;_++){var S=j[_],C=Object.getOwnPropertyDescriptor(k,S);C&&C.enumerable||(O[S]=M(k[S],D-1),Object.defineProperty(O,S,{enumerable:!1}))}return O}return M(g,b)}u.clonePrototype=function(p){if(p===null)return null;var b=function(){};return b.prototype=p,new b};function d(g){return Object.prototype.toString.call(g)}u.__objToStr=d;function f(g){return typeof g=="object"&&d(g)==="[object Date]"}u.__isDate=f;function h(g){return typeof g=="object"&&d(g)==="[object Array]"}u.__isArray=h;function m(g){return typeof g=="object"&&d(g)==="[object RegExp]"}u.__isRegExp=m;function A(g){var p="";return g.global&&(p+="g"),g.ignoreCase&&(p+="i"),g.multiline&&(p+="m"),p}return u.__getRegExpFlags=A,u}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function O(L,F){var _=[],E=!0,T=!1,w=void 0;try{for(var C=L[Symbol.iterator](),j;!(E=(j=C.next()).done)&&(_.push(j.value),!(F&&_.length===F));E=!0);}catch(S){T=!0,w=S}finally{try{!E&&C.return&&C.return()}finally{if(T)throw w}}return _}return function(L,F){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return O(L,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function O(L,F){for(var _=0;_<F.length;_++){var E=F[_];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(L,E.key,E)}}return function(L,F,_){return F&&O(L.prototype,F),_&&O(L,_),L}}(),c=function O(L,F,_){L===null&&(L=Function.prototype);var E=Object.getOwnPropertyDescriptor(L,F);if(E===void 0){var T=Object.getPrototypeOf(L);return T===null?void 0:O(T,F,_)}else{if("value"in E)return E.value;var w=E.get;return w===void 0?void 0:w.call(_)}},l=i(0),u=y(l),d=i(8),f=y(d),h=i(4),m=y(h),A=i(16),g=y(A),p=i(13),b=y(p),x=i(25),v=y(x);function y(O){return O&&O.__esModule?O:{default:O}}function N(O,L){if(!(O instanceof L))throw new TypeError("Cannot call a class as a function")}function P(O,L){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:O}function M(O,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);O.prototype=Object.create(L&&L.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(O,L):O.__proto__=L)}function k(O){return O instanceof m.default||O instanceof h.BlockEmbed}var D=function(O){M(L,O);function L(F,_){N(this,L);var E=P(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,F));return E.emitter=_.emitter,Array.isArray(_.whitelist)&&(E.whitelist=_.whitelist.reduce(function(T,w){return T[w]=!0,T},{})),E.domNode.addEventListener("DOMNodeInserted",function(){}),E.optimize(),E.enable(),E}return o(L,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(_,E){var T=this.line(_),w=a(T,2),C=w[0],j=w[1],S=this.line(_+E),I=a(S,1),R=I[0];if(c(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"deleteAt",this).call(this,_,E),R!=null&&C!==R&&j>0){if(C instanceof h.BlockEmbed||R instanceof h.BlockEmbed){this.optimize();return}if(C instanceof b.default){var U=C.newlineIndex(C.length(),!0);if(U>-1&&(C=C.split(U+1),C===R)){this.optimize();return}}else if(R instanceof b.default){var z=R.newlineIndex(0);z>-1&&R.split(z+1)}var V=R.children.head instanceof g.default?null:R.children.head;C.moveChildren(R,V),C.remove()}this.optimize()}},{key:"enable",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",_)}},{key:"formatAt",value:function(_,E,T,w){this.whitelist!=null&&!this.whitelist[T]||(c(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"formatAt",this).call(this,_,E,T,w),this.optimize())}},{key:"insertAt",value:function(_,E,T){if(!(T!=null&&this.whitelist!=null&&!this.whitelist[E])){if(_>=this.length())if(T==null||u.default.query(E,u.default.Scope.BLOCK)==null){var w=u.default.create(this.statics.defaultChild);this.appendChild(w),T==null&&E.endsWith(`
`)&&(E=E.slice(0,-1)),w.insertAt(0,E,T)}else{var C=u.default.create(E,T);this.appendChild(C)}else c(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,_,E,T);this.optimize()}}},{key:"insertBefore",value:function(_,E){if(_.statics.scope===u.default.Scope.INLINE_BLOT){var T=u.default.create(this.statics.defaultChild);T.appendChild(_),_=T}c(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertBefore",this).call(this,_,E)}},{key:"leaf",value:function(_){return this.path(_).pop()||[null,-1]}},{key:"line",value:function(_){return _===this.length()?this.line(_-1):this.descendant(k,_)}},{key:"lines",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,T=function w(C,j,S){var I=[],R=S;return C.children.forEachAt(j,S,function(U,z,V){k(U)?I.push(U):U instanceof u.default.Container&&(I=I.concat(w(U,z,R))),R-=V}),I};return T(this,_,E)}},{key:"optimize",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(c(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"optimize",this).call(this,_,E),_.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,_,E))}},{key:"path",value:function(_){return c(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"path",this).call(this,_).slice(1)}},{key:"update",value:function(_){if(this.batch!==!0){var E=f.default.sources.USER;typeof _=="string"&&(E=_),Array.isArray(_)||(_=this.observer.takeRecords()),_.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,E,_),c(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"update",this).call(this,_.concat([])),_.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,E,_)}}}]),L}(u.default.Scroll);D.blotName="scroll",D.className="ql-editor",D.tagName="DIV",D.defaultChild="block",D.allowedChildren=[m.default,h.BlockEmbed,v.default],s.default=D},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.SHORTKEY=s.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},o=function(){function $(W,H){var Q=[],G=!0,J=!1,ee=void 0;try{for(var K=W[Symbol.iterator](),ne;!(G=(ne=K.next()).done)&&(Q.push(ne.value),!(H&&Q.length===H));G=!0);}catch(ue){J=!0,ee=ue}finally{try{!G&&K.return&&K.return()}finally{if(J)throw ee}}return Q}return function(W,H){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return $(W,H);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function $(W,H){for(var Q=0;Q<H.length;Q++){var G=H[Q];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(W,G.key,G)}}return function(W,H,Q){return H&&$(W.prototype,H),Q&&$(W,Q),W}}(),l=i(21),u=O(l),d=i(11),f=O(d),h=i(3),m=O(h),A=i(2),g=O(A),p=i(20),b=O(p),x=i(0),v=O(x),y=i(5),N=O(y),P=i(10),M=O(P),k=i(9),D=O(k);function O($){return $&&$.__esModule?$:{default:$}}function L($,W,H){return W in $?Object.defineProperty($,W,{value:H,enumerable:!0,configurable:!0,writable:!0}):$[W]=H,$}function F($,W){if(!($ instanceof W))throw new TypeError("Cannot call a class as a function")}function _($,W){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:$}function E($,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);$.prototype=Object.create(W&&W.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf($,W):$.__proto__=W)}var T=(0,M.default)("quill:keyboard"),w=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",C=function($){E(W,$),c(W,null,[{key:"match",value:function(Q,G){return G=X(G),["altKey","ctrlKey","metaKey","shiftKey"].some(function(J){return!!G[J]!==Q[J]&&G[J]!==null})?!1:G.key===(Q.which||Q.keyCode)}}]);function W(H,Q){F(this,W);var G=_(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,H,Q));return G.bindings={},Object.keys(G.options.bindings).forEach(function(J){J==="list autofill"&&H.scroll.whitelist!=null&&!H.scroll.whitelist.list||G.options.bindings[J]&&G.addBinding(G.options.bindings[J])}),G.addBinding({key:W.keys.ENTER,shiftKey:null},U),G.addBinding({key:W.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(G.addBinding({key:W.keys.BACKSPACE},{collapsed:!0},S),G.addBinding({key:W.keys.DELETE},{collapsed:!0},I)):(G.addBinding({key:W.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},S),G.addBinding({key:W.keys.DELETE},{collapsed:!0,suffix:/^.?$/},I)),G.addBinding({key:W.keys.BACKSPACE},{collapsed:!1},R),G.addBinding({key:W.keys.DELETE},{collapsed:!1},R),G.addBinding({key:W.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},S),G.listen(),G}return c(W,[{key:"addBinding",value:function(Q){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ee=X(Q);if(ee==null||ee.key==null)return T.warn("Attempted to add invalid keyboard binding",ee);typeof G=="function"&&(G={handler:G}),typeof J=="function"&&(J={handler:J}),ee=(0,m.default)(ee,G,J),this.bindings[ee.key]=this.bindings[ee.key]||[],this.bindings[ee.key].push(ee)}},{key:"listen",value:function(){var Q=this;this.quill.root.addEventListener("keydown",function(G){if(!G.defaultPrevented){var J=G.which||G.keyCode,ee=(Q.bindings[J]||[]).filter(function(he){return W.match(G,he)});if(ee.length!==0){var K=Q.quill.getSelection();if(!(K==null||!Q.quill.hasFocus())){var ne=Q.quill.getLine(K.index),ue=o(ne,2),se=ue[0],ie=ue[1],q=Q.quill.getLeaf(K.index),Z=o(q,2),te=Z[0],re=Z[1],Y=K.length===0?[te,re]:Q.quill.getLeaf(K.index+K.length),oe=o(Y,2),ae=oe[0],ce=oe[1],de=te instanceof v.default.Text?te.value().slice(0,re):"",pe=ae instanceof v.default.Text?ae.value().slice(ce):"",Ae={collapsed:K.length===0,empty:K.length===0&&se.length()<=1,format:Q.quill.getFormat(K),offset:ie,prefix:de,suffix:pe},le=ee.some(function(he){if(he.collapsed!=null&&he.collapsed!==Ae.collapsed||he.empty!=null&&he.empty!==Ae.empty||he.offset!=null&&he.offset!==Ae.offset)return!1;if(Array.isArray(he.format)){if(he.format.every(function(me){return Ae.format[me]==null}))return!1}else if(a(he.format)==="object"&&!Object.keys(he.format).every(function(me){return he.format[me]===!0?Ae.format[me]!=null:he.format[me]===!1?Ae.format[me]==null:(0,f.default)(he.format[me],Ae.format[me])}))return!1;return he.prefix!=null&&!he.prefix.test(Ae.prefix)||he.suffix!=null&&!he.suffix.test(Ae.suffix)?!1:he.handler.call(Q,K,Ae)!==!0});le&&G.preventDefault()}}}})}}]),W}(D.default);C.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},C.DEFAULTS={bindings:{bold:V("bold"),italic:V("italic"),underline:V("underline"),indent:{key:C.keys.TAB,format:["blockquote","indent","list"],handler:function(W,H){if(H.collapsed&&H.offset!==0)return!0;this.quill.format("indent","+1",N.default.sources.USER)}},outdent:{key:C.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(W,H){if(H.collapsed&&H.offset!==0)return!0;this.quill.format("indent","-1",N.default.sources.USER)}},"outdent backspace":{key:C.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(W,H){H.format.indent!=null?this.quill.format("indent","-1",N.default.sources.USER):H.format.list!=null&&this.quill.format("list",!1,N.default.sources.USER)}},"indent code-block":z(!0),"outdent code-block":z(!1),"remove tab":{key:C.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(W){this.quill.deleteText(W.index-1,1,N.default.sources.USER)}},tab:{key:C.keys.TAB,handler:function(W){this.quill.history.cutoff();var H=new g.default().retain(W.index).delete(W.length).insert("	");this.quill.updateContents(H,N.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(W.index+1,N.default.sources.SILENT)}},"list empty enter":{key:C.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(W,H){this.quill.format("list",!1,N.default.sources.USER),H.format.indent&&this.quill.format("indent",!1,N.default.sources.USER)}},"checklist enter":{key:C.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(W){var H=this.quill.getLine(W.index),Q=o(H,2),G=Q[0],J=Q[1],ee=(0,m.default)({},G.formats(),{list:"checked"}),K=new g.default().retain(W.index).insert(`
`,ee).retain(G.length()-J-1).retain(1,{list:"unchecked"});this.quill.updateContents(K,N.default.sources.USER),this.quill.setSelection(W.index+1,N.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:C.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(W,H){var Q=this.quill.getLine(W.index),G=o(Q,2),J=G[0],ee=G[1],K=new g.default().retain(W.index).insert(`
`,H.format).retain(J.length()-ee-1).retain(1,{header:null});this.quill.updateContents(K,N.default.sources.USER),this.quill.setSelection(W.index+1,N.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(W,H){var Q=H.prefix.length,G=this.quill.getLine(W.index),J=o(G,2),ee=J[0],K=J[1];if(K>Q)return!0;var ne=void 0;switch(H.prefix.trim()){case"[]":case"[ ]":ne="unchecked";break;case"[x]":ne="checked";break;case"-":case"*":ne="bullet";break;default:ne="ordered"}this.quill.insertText(W.index," ",N.default.sources.USER),this.quill.history.cutoff();var ue=new g.default().retain(W.index-K).delete(Q+1).retain(ee.length()-2-K).retain(1,{list:ne});this.quill.updateContents(ue,N.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(W.index-Q,N.default.sources.SILENT)}},"code exit":{key:C.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(W){var H=this.quill.getLine(W.index),Q=o(H,2),G=Q[0],J=Q[1],ee=new g.default().retain(W.index+G.length()-J-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ee,N.default.sources.USER)}},"embed left":j(C.keys.LEFT,!1),"embed left shift":j(C.keys.LEFT,!0),"embed right":j(C.keys.RIGHT,!1),"embed right shift":j(C.keys.RIGHT,!0)}};function j($,W){var H,Q=$===C.keys.LEFT?"prefix":"suffix";return H={key:$,shiftKey:W,altKey:null},L(H,Q,/^$/),L(H,"handler",function(J){var ee=J.index;$===C.keys.RIGHT&&(ee+=J.length+1);var K=this.quill.getLeaf(ee),ne=o(K,1),ue=ne[0];return ue instanceof v.default.Embed?($===C.keys.LEFT?W?this.quill.setSelection(J.index-1,J.length+1,N.default.sources.USER):this.quill.setSelection(J.index-1,N.default.sources.USER):W?this.quill.setSelection(J.index,J.length+1,N.default.sources.USER):this.quill.setSelection(J.index+J.length+1,N.default.sources.USER),!1):!0}),H}function S($,W){if(!($.index===0||this.quill.getLength()<=1)){var H=this.quill.getLine($.index),Q=o(H,1),G=Q[0],J={};if(W.offset===0){var ee=this.quill.getLine($.index-1),K=o(ee,1),ne=K[0];if(ne!=null&&ne.length()>1){var ue=G.formats(),se=this.quill.getFormat($.index-1,1);J=b.default.attributes.diff(ue,se)||{}}}var ie=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(W.prefix)?2:1;this.quill.deleteText($.index-ie,ie,N.default.sources.USER),Object.keys(J).length>0&&this.quill.formatLine($.index-ie,ie,J,N.default.sources.USER),this.quill.focus()}}function I($,W){var H=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(W.suffix)?2:1;if(!($.index>=this.quill.getLength()-H)){var Q={},G=0,J=this.quill.getLine($.index),ee=o(J,1),K=ee[0];if(W.offset>=K.length()-1){var ne=this.quill.getLine($.index+1),ue=o(ne,1),se=ue[0];if(se){var ie=K.formats(),q=this.quill.getFormat($.index,1);Q=b.default.attributes.diff(ie,q)||{},G=se.length()}}this.quill.deleteText($.index,H,N.default.sources.USER),Object.keys(Q).length>0&&this.quill.formatLine($.index+G-1,H,Q,N.default.sources.USER)}}function R($){var W=this.quill.getLines($),H={};if(W.length>1){var Q=W[0].formats(),G=W[W.length-1].formats();H=b.default.attributes.diff(G,Q)||{}}this.quill.deleteText($,N.default.sources.USER),Object.keys(H).length>0&&this.quill.formatLine($.index,1,H,N.default.sources.USER),this.quill.setSelection($.index,N.default.sources.SILENT),this.quill.focus()}function U($,W){var H=this;$.length>0&&this.quill.scroll.deleteAt($.index,$.length);var Q=Object.keys(W.format).reduce(function(G,J){return v.default.query(J,v.default.Scope.BLOCK)&&!Array.isArray(W.format[J])&&(G[J]=W.format[J]),G},{});this.quill.insertText($.index,`
`,Q,N.default.sources.USER),this.quill.setSelection($.index+1,N.default.sources.SILENT),this.quill.focus(),Object.keys(W.format).forEach(function(G){Q[G]==null&&(Array.isArray(W.format[G])||G!=="link"&&H.quill.format(G,W.format[G],N.default.sources.USER))})}function z($){return{key:C.keys.TAB,shiftKey:!$,format:{"code-block":!0},handler:function(H){var Q=v.default.query("code-block"),G=H.index,J=H.length,ee=this.quill.scroll.descendant(Q,G),K=o(ee,2),ne=K[0],ue=K[1];if(ne!=null){var se=this.quill.getIndex(ne),ie=ne.newlineIndex(ue,!0)+1,q=ne.newlineIndex(se+ue+J),Z=ne.domNode.textContent.slice(ie,q).split(`
`);ue=0,Z.forEach(function(te,re){$?(ne.insertAt(ie+ue,Q.TAB),ue+=Q.TAB.length,re===0?G+=Q.TAB.length:J+=Q.TAB.length):te.startsWith(Q.TAB)&&(ne.deleteAt(ie+ue,Q.TAB.length),ue-=Q.TAB.length,re===0?G-=Q.TAB.length:J-=Q.TAB.length),ue+=te.length+1}),this.quill.update(N.default.sources.USER),this.quill.setSelection(G,J,N.default.sources.SILENT)}}}}function V($){return{key:$[0].toUpperCase(),shortKey:!0,handler:function(H,Q){this.quill.format($,!Q.format[$],N.default.sources.USER)}}}function X($){if(typeof $=="string"||typeof $=="number")return X({key:$});if((typeof $>"u"?"undefined":a($))==="object"&&($=(0,u.default)($,!1)),typeof $.key=="string")if(C.keys[$.key.toUpperCase()]!=null)$.key=C.keys[$.key.toUpperCase()];else if($.key.length===1)$.key=$.key.toUpperCase().charCodeAt(0);else return null;return $.shortKey&&($[w]=$.shortKey,delete $.shortKey),$}s.default=C,s.SHORTKEY=w},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function b(x,v){var y=[],N=!0,P=!1,M=void 0;try{for(var k=x[Symbol.iterator](),D;!(N=(D=k.next()).done)&&(y.push(D.value),!(v&&y.length===v));N=!0);}catch(O){P=!0,M=O}finally{try{!N&&k.return&&k.return()}finally{if(P)throw M}}return y}return function(x,v){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return b(x,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function b(x,v,y){x===null&&(x=Function.prototype);var N=Object.getOwnPropertyDescriptor(x,v);if(N===void 0){var P=Object.getPrototypeOf(x);return P===null?void 0:b(P,v,y)}else{if("value"in N)return N.value;var M=N.get;return M===void 0?void 0:M.call(y)}},c=function(){function b(x,v){for(var y=0;y<v.length;y++){var N=v[y];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,v,y){return v&&b(x.prototype,v),y&&b(x,y),x}}(),l=i(0),u=h(l),d=i(7),f=h(d);function h(b){return b&&b.__esModule?b:{default:b}}function m(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function A(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function g(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var p=function(b){g(x,b),c(x,null,[{key:"value",value:function(){}}]);function x(v,y){m(this,x);var N=A(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,v));return N.selection=y,N.textNode=document.createTextNode(x.CONTENTS),N.domNode.appendChild(N.textNode),N._length=0,N}return c(x,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(y,N){if(this._length!==0)return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,y,N);for(var P=this,M=0;P!=null&&P.statics.scope!==u.default.Scope.BLOCK_BLOT;)M+=P.offset(P.parent),P=P.parent;P!=null&&(this._length=x.CONTENTS.length,P.optimize(),P.formatAt(M,x.CONTENTS.length,y,N),this._length=0)}},{key:"index",value:function(y,N){return y===this.textNode?0:o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,y,N)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var y=this.textNode,N=this.selection.getNativeRange(),P=void 0,M=void 0,k=void 0;if(N!=null&&N.start.node===y&&N.end.node===y){var D=[y,N.start.offset,N.end.offset];P=D[0],M=D[1],k=D[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==x.CONTENTS){var O=this.textNode.data.split(x.CONTENTS).join("");this.next instanceof f.default?(P=this.next.domNode,this.next.insertAt(0,O),this.textNode.data=x.CONTENTS):(this.textNode.data=O,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(x.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),M!=null){var L=[M,k].map(function(_){return Math.max(0,Math.min(P.data.length,_-1))}),F=a(L,2);return M=F[0],k=F[1],{startNode:P,startOffset:M,endNode:P,endOffset:k}}}}},{key:"update",value:function(y,N){var P=this;if(y.some(function(k){return k.type==="characterData"&&k.target===P.textNode})){var M=this.restore();M&&(N.range=M)}}},{key:"value",value:function(){return""}}]),x}(u.default.Embed);p.blotName="cursor",p.className="ql-cursor",p.tagName="span",p.CONTENTS="\uFEFF",s.default=p},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(0),o=u(a),c=i(4),l=u(c);function u(A){return A&&A.__esModule?A:{default:A}}function d(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}function f(A,g){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:A}function h(A,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);A.prototype=Object.create(g&&g.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(A,g):A.__proto__=g)}var m=function(A){h(g,A);function g(){return d(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(o.default.Container);m.allowedChildren=[l.default,c.BlockEmbed,m],s.default=m},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.ColorStyle=s.ColorClass=s.ColorAttributor=void 0;var a=function(){function p(b,x){for(var v=0;v<x.length;v++){var y=x[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(b,y.key,y)}}return function(b,x,v){return x&&p(b.prototype,x),v&&p(b,v),b}}(),o=function p(b,x,v){b===null&&(b=Function.prototype);var y=Object.getOwnPropertyDescriptor(b,x);if(y===void 0){var N=Object.getPrototypeOf(b);return N===null?void 0:p(N,x,v)}else{if("value"in y)return y.value;var P=y.get;return P===void 0?void 0:P.call(v)}},c=i(0),l=u(c);function u(p){return p&&p.__esModule?p:{default:p}}function d(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function f(p,b){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:p}function h(p,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);p.prototype=Object.create(b&&b.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(p,b):p.__proto__=b)}var m=function(p){h(b,p);function b(){return d(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"value",value:function(v){var y=o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,v);return y.startsWith("rgb(")?(y=y.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+y.split(",").map(function(N){return("00"+parseInt(N).toString(16)).slice(-2)}).join("")):y}}]),b}(l.default.Attributor.Style),A=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),g=new m("color","color",{scope:l.default.Scope.INLINE});s.ColorAttributor=m,s.ColorClass=A,s.ColorStyle=g},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.sanitize=s.default=void 0;var a=function(){function g(p,b){for(var x=0;x<b.length;x++){var v=b[x];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,b,x){return b&&g(p.prototype,b),x&&g(p,x),p}}(),o=function g(p,b,x){p===null&&(p=Function.prototype);var v=Object.getOwnPropertyDescriptor(p,b);if(v===void 0){var y=Object.getPrototypeOf(p);return y===null?void 0:g(y,b,x)}else{if("value"in v)return v.value;var N=v.get;return N===void 0?void 0:N.call(x)}},c=i(6),l=u(c);function u(g){return g&&g.__esModule?g:{default:g}}function d(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function f(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function h(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var m=function(g){h(p,g);function p(){return d(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return a(p,[{key:"format",value:function(x,v){if(x!==this.statics.blotName||!v)return o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,x,v);v=this.constructor.sanitize(v),this.domNode.setAttribute("href",v)}}],[{key:"create",value:function(x){var v=o(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,x);return x=this.sanitize(x),v.setAttribute("href",x),v.setAttribute("rel","noopener noreferrer"),v.setAttribute("target","_blank"),v}},{key:"formats",value:function(x){return x.getAttribute("href")}},{key:"sanitize",value:function(x){return A(x,this.PROTOCOL_WHITELIST)?x:this.SANITIZED_URL}}]),p}(l.default);m.blotName="link",m.tagName="A",m.SANITIZED_URL="about:blank",m.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function A(g,p){var b=document.createElement("a");b.href=g;var x=b.href.slice(0,b.href.indexOf(":"));return p.indexOf(x)>-1}s.default=m,s.sanitize=A},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},o=function(){function p(b,x){for(var v=0;v<x.length;v++){var y=x[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(b,y.key,y)}}return function(b,x,v){return x&&p(b.prototype,x),v&&p(b,v),b}}(),c=i(23),l=f(c),u=i(107),d=f(u);function f(p){return p&&p.__esModule?p:{default:p}}function h(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}var m=0;function A(p,b){p.setAttribute(b,p.getAttribute(b)!=="true")}var g=function(){function p(b){var x=this;h(this,p),this.select=b,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){x.togglePicker()}),this.label.addEventListener("keydown",function(v){switch(v.keyCode){case l.default.keys.ENTER:x.togglePicker();break;case l.default.keys.ESCAPE:x.escape(),v.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(p,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),A(this.label,"aria-expanded"),A(this.options,"aria-hidden")}},{key:"buildItem",value:function(x){var v=this,y=document.createElement("span");return y.tabIndex="0",y.setAttribute("role","button"),y.classList.add("ql-picker-item"),x.hasAttribute("value")&&y.setAttribute("data-value",x.getAttribute("value")),x.textContent&&y.setAttribute("data-label",x.textContent),y.addEventListener("click",function(){v.selectItem(y,!0)}),y.addEventListener("keydown",function(N){switch(N.keyCode){case l.default.keys.ENTER:v.selectItem(y,!0),N.preventDefault();break;case l.default.keys.ESCAPE:v.escape(),N.preventDefault();break}}),y}},{key:"buildLabel",value:function(){var x=document.createElement("span");return x.classList.add("ql-picker-label"),x.innerHTML=d.default,x.tabIndex="0",x.setAttribute("role","button"),x.setAttribute("aria-expanded","false"),this.container.appendChild(x),x}},{key:"buildOptions",value:function(){var x=this,v=document.createElement("span");v.classList.add("ql-picker-options"),v.setAttribute("aria-hidden","true"),v.tabIndex="-1",v.id="ql-picker-options-"+m,m+=1,this.label.setAttribute("aria-controls",v.id),this.options=v,[].slice.call(this.select.options).forEach(function(y){var N=x.buildItem(y);v.appendChild(N),y.selected===!0&&x.selectItem(N)}),this.container.appendChild(v)}},{key:"buildPicker",value:function(){var x=this;[].slice.call(this.select.attributes).forEach(function(v){x.container.setAttribute(v.name,v.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var x=this;this.close(),setTimeout(function(){return x.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(x){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=this.container.querySelector(".ql-selected");if(x!==y&&(y!=null&&y.classList.remove("ql-selected"),x!=null&&(x.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(x.parentNode.children,x),x.hasAttribute("data-value")?this.label.setAttribute("data-value",x.getAttribute("data-value")):this.label.removeAttribute("data-value"),x.hasAttribute("data-label")?this.label.setAttribute("data-label",x.getAttribute("data-label")):this.label.removeAttribute("data-label"),v))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var N=document.createEvent("Event");N.initEvent("change",!0,!0),this.select.dispatchEvent(N)}this.close()}}},{key:"update",value:function(){var x=void 0;if(this.select.selectedIndex>-1){var v=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];x=this.select.options[this.select.selectedIndex],this.selectItem(v)}else this.selectItem(null);var y=x!=null&&x!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",y)}}]),p}();s.default=g},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(0),o=T(a),c=i(5),l=T(c),u=i(4),d=T(u),f=i(16),h=T(f),m=i(25),A=T(m),g=i(24),p=T(g),b=i(35),x=T(b),v=i(6),y=T(v),N=i(22),P=T(N),M=i(7),k=T(M),D=i(55),O=T(D),L=i(42),F=T(L),_=i(23),E=T(_);function T(w){return w&&w.__esModule?w:{default:w}}l.default.register({"blots/block":d.default,"blots/block/embed":u.BlockEmbed,"blots/break":h.default,"blots/container":A.default,"blots/cursor":p.default,"blots/embed":x.default,"blots/inline":y.default,"blots/scroll":P.default,"blots/text":k.default,"modules/clipboard":O.default,"modules/history":F.default,"modules/keyboard":E.default}),o.default.register(d.default,h.default,p.default,y.default,P.default,k.default),s.default=l.default},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(1),o=function(){function c(l){this.domNode=l,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(c.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),c.create=function(l){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},c.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},c.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return a.create(l)},c.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},c.prototype.deleteAt=function(l,u){var d=this.isolate(l,u);d.remove()},c.prototype.formatAt=function(l,u,d,f){var h=this.isolate(l,u);if(a.query(d,a.Scope.BLOT)!=null&&f)h.wrap(d,f);else if(a.query(d,a.Scope.ATTRIBUTE)!=null){var m=a.create(this.statics.scope);h.wrap(m),m.format(d,f)}},c.prototype.insertAt=function(l,u,d){var f=d==null?a.create("text",u):a.create(u,d),h=this.split(l);this.parent.insertBefore(f,h)},c.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var d=null;l.children.insertBefore(this,u),u!=null&&(d=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=d)&&l.domNode.insertBefore(this.domNode,d),this.parent=l,this.attach()},c.prototype.isolate=function(l,u){var d=this.split(l);return d.split(u),d},c.prototype.length=function(){return 1},c.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},c.prototype.optimize=function(l){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},c.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},c.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},c.prototype.replaceWith=function(l,u){var d=typeof l=="string"?a.create(l,u):l;return d.replace(this),d},c.prototype.split=function(l,u){return l===0?this:this.next},c.prototype.update=function(l,u){},c.prototype.wrap=function(l,u){var d=typeof l=="string"?a.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(d,this.next),d.appendChild(this),d},c.blotName="abstract",c}();s.default=o},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(12),o=i(32),c=i(33),l=i(1),u=function(){function d(f){this.attributes={},this.domNode=f,this.build()}return d.prototype.attribute=function(f,h){h?f.add(this.domNode,h)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},d.prototype.build=function(){var f=this;this.attributes={};var h=a.default.keys(this.domNode),m=o.default.keys(this.domNode),A=c.default.keys(this.domNode);h.concat(m).concat(A).forEach(function(g){var p=l.query(g,l.Scope.ATTRIBUTE);p instanceof a.default&&(f.attributes[p.attrName]=p)})},d.prototype.copy=function(f){var h=this;Object.keys(this.attributes).forEach(function(m){var A=h.attributes[m].value(h.domNode);f.format(m,A)})},d.prototype.move=function(f){var h=this;this.copy(f),Object.keys(this.attributes).forEach(function(m){h.attributes[m].remove(h.domNode)}),this.attributes={}},d.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(h,m){return h[m]=f.attributes[m].value(f.domNode),h},{})},d}();s.default=u},function(n,s,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var h in f)f.hasOwnProperty(h)&&(d[h]=f[h])};return function(d,f){u(d,f);function h(){this.constructor=d}d.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=i(12);function c(u,d){var f=u.getAttribute("class")||"";return f.split(/\s+/).filter(function(h){return h.indexOf(d+"-")===0})}var l=function(u){a(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},d.prototype.add=function(f,h){return this.canAdd(f,h)?(this.remove(f),f.classList.add(this.keyName+"-"+h),!0):!1},d.prototype.remove=function(f){var h=c(f,this.keyName);h.forEach(function(m){f.classList.remove(m)}),f.classList.length===0&&f.removeAttribute("class")},d.prototype.value=function(f){var h=c(f,this.keyName)[0]||"",m=h.slice(this.keyName.length+1);return this.canAdd(f,m)?m:""},d}(o.default);s.default=l},function(n,s,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var h in f)f.hasOwnProperty(h)&&(d[h]=f[h])};return function(d,f){u(d,f);function h(){this.constructor=d}d.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=i(12);function c(u){var d=u.split("-"),f=d.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return d[0]+f}var l=function(u){a(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(h){var m=h.split(":");return m[0].trim()})},d.prototype.add=function(f,h){return this.canAdd(f,h)?(f.style[c(this.keyName)]=h,!0):!1},d.prototype.remove=function(f){f.style[c(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},d.prototype.value=function(f){var h=f.style[c(this.keyName)];return this.canAdd(f,h)?h:""},d}(o.default);s.default=l},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function l(u,d){for(var f=0;f<d.length;f++){var h=d[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,d,f){return d&&l(u.prototype,d),f&&l(u,f),u}}();function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var c=function(){function l(u,d){o(this,l),this.quill=u,this.options=d,this.modules={}}return a(l,[{key:"init",value:function(){var d=this;Object.keys(this.options.modules).forEach(function(f){d.modules[f]==null&&d.addModule(f)})}},{key:"addModule",value:function(d){var f=this.quill.constructor.import("modules/"+d);return this.modules[d]=new f(this.quill,this.options.modules[d]||{}),this.modules[d]}}]),l}();c.DEFAULTS={modules:{}},c.themes={default:c},s.default=c},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function b(x,v){for(var y=0;y<v.length;y++){var N=v[y];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,v,y){return v&&b(x.prototype,v),y&&b(x,y),x}}(),o=function b(x,v,y){x===null&&(x=Function.prototype);var N=Object.getOwnPropertyDescriptor(x,v);if(N===void 0){var P=Object.getPrototypeOf(x);return P===null?void 0:b(P,v,y)}else{if("value"in N)return N.value;var M=N.get;return M===void 0?void 0:M.call(y)}},c=i(0),l=f(c),u=i(7),d=f(u);function f(b){return b&&b.__esModule?b:{default:b}}function h(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function m(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function A(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var g="\uFEFF",p=function(b){A(x,b);function x(v){h(this,x);var y=m(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,v));return y.contentNode=document.createElement("span"),y.contentNode.setAttribute("contenteditable",!1),[].slice.call(y.domNode.childNodes).forEach(function(N){y.contentNode.appendChild(N)}),y.leftGuard=document.createTextNode(g),y.rightGuard=document.createTextNode(g),y.domNode.appendChild(y.leftGuard),y.domNode.appendChild(y.contentNode),y.domNode.appendChild(y.rightGuard),y}return a(x,[{key:"index",value:function(y,N){return y===this.leftGuard?0:y===this.rightGuard?1:o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,y,N)}},{key:"restore",value:function(y){var N=void 0,P=void 0,M=y.data.split(g).join("");if(y===this.leftGuard)if(this.prev instanceof d.default){var k=this.prev.length();this.prev.insertAt(k,M),N={startNode:this.prev.domNode,startOffset:k+M.length}}else P=document.createTextNode(M),this.parent.insertBefore(l.default.create(P),this),N={startNode:P,startOffset:M.length};else y===this.rightGuard&&(this.next instanceof d.default?(this.next.insertAt(0,M),N={startNode:this.next.domNode,startOffset:M.length}):(P=document.createTextNode(M),this.parent.insertBefore(l.default.create(P),this.next),N={startNode:P,startOffset:M.length}));return y.data=g,N}},{key:"update",value:function(y,N){var P=this;y.forEach(function(M){if(M.type==="characterData"&&(M.target===P.leftGuard||M.target===P.rightGuard)){var k=P.restore(M.target);k&&(N.range=k)}})}}]),x}(l.default.Embed);s.default=p},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.AlignStyle=s.AlignClass=s.AlignAttribute=void 0;var a=i(0),o=c(a);function c(h){return h&&h.__esModule?h:{default:h}}var l={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new o.default.Attributor.Attribute("align","align",l),d=new o.default.Attributor.Class("align","ql-align",l),f=new o.default.Attributor.Style("align","text-align",l);s.AlignAttribute=u,s.AlignClass=d,s.AlignStyle=f},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.BackgroundStyle=s.BackgroundClass=void 0;var a=i(0),o=l(a),c=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var u=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),d=new c.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});s.BackgroundClass=u,s.BackgroundStyle=d},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.DirectionStyle=s.DirectionClass=s.DirectionAttribute=void 0;var a=i(0),o=c(a);function c(h){return h&&h.__esModule?h:{default:h}}var l={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},u=new o.default.Attributor.Attribute("direction","dir",l),d=new o.default.Attributor.Class("direction","ql-direction",l),f=new o.default.Attributor.Style("direction","direction",l);s.DirectionAttribute=u,s.DirectionClass=d,s.DirectionStyle=f},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.FontClass=s.FontStyle=void 0;var a=function(){function b(x,v){for(var y=0;y<v.length;y++){var N=v[y];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,v,y){return v&&b(x.prototype,v),y&&b(x,y),x}}(),o=function b(x,v,y){x===null&&(x=Function.prototype);var N=Object.getOwnPropertyDescriptor(x,v);if(N===void 0){var P=Object.getPrototypeOf(x);return P===null?void 0:b(P,v,y)}else{if("value"in N)return N.value;var M=N.get;return M===void 0?void 0:M.call(y)}},c=i(0),l=u(c);function u(b){return b&&b.__esModule?b:{default:b}}function d(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function f(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function h(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var m={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},A=new l.default.Attributor.Class("font","ql-font",m),g=function(b){h(x,b);function x(){return d(this,x),f(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return a(x,[{key:"value",value:function(y){return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"value",this).call(this,y).replace(/["']/g,"")}}]),x}(l.default.Attributor.Style),p=new g("font","font-family",m);s.FontStyle=p,s.FontClass=A},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.SizeStyle=s.SizeClass=void 0;var a=i(0),o=c(a);function c(d){return d&&d.__esModule?d:{default:d}}var l=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});s.SizeClass=l,s.SizeStyle=u},function(n,s,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.getLastChangeIndex=s.default=void 0;var a=function(){function v(y,N){for(var P=0;P<N.length;P++){var M=N[P];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(y,M.key,M)}}return function(y,N,P){return N&&v(y.prototype,N),P&&v(y,P),y}}(),o=i(0),c=h(o),l=i(5),u=h(l),d=i(9),f=h(d);function h(v){return v&&v.__esModule?v:{default:v}}function m(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function A(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function g(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var p=function(v){g(y,v);function y(N,P){m(this,y);var M=A(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,N,P));return M.lastRecorded=0,M.ignoreChange=!1,M.clear(),M.quill.on(u.default.events.EDITOR_CHANGE,function(k,D,O,L){k!==u.default.events.TEXT_CHANGE||M.ignoreChange||(!M.options.userOnly||L===u.default.sources.USER?M.record(D,O):M.transform(D))}),M.quill.keyboard.addBinding({key:"Z",shortKey:!0},M.undo.bind(M)),M.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},M.redo.bind(M)),/Win/i.test(navigator.platform)&&M.quill.keyboard.addBinding({key:"Y",shortKey:!0},M.redo.bind(M)),M}return a(y,[{key:"change",value:function(P,M){if(this.stack[P].length!==0){var k=this.stack[P].pop();this.stack[M].push(k),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(k[P],u.default.sources.USER),this.ignoreChange=!1;var D=x(k[P]);this.quill.setSelection(D)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(P,M){if(P.ops.length!==0){this.stack.redo=[];var k=this.quill.getContents().diff(M),D=Date.now();if(this.lastRecorded+this.options.delay>D&&this.stack.undo.length>0){var O=this.stack.undo.pop();k=k.compose(O.undo),P=O.redo.compose(P)}else this.lastRecorded=D;this.stack.undo.push({redo:P,undo:k}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(P){this.stack.undo.forEach(function(M){M.undo=P.transform(M.undo,!0),M.redo=P.transform(M.redo,!0)}),this.stack.redo.forEach(function(M){M.undo=P.transform(M.undo,!0),M.redo=P.transform(M.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),y}(f.default);p.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function b(v){var y=v.ops[v.ops.length-1];return y==null?!1:y.insert!=null?typeof y.insert=="string"&&y.insert.endsWith(`
`):y.attributes!=null?Object.keys(y.attributes).some(function(N){return c.default.query(N,c.default.Scope.BLOCK)!=null}):!1}function x(v){var y=v.reduce(function(P,M){return P+=M.delete||0,P},0),N=v.length()-y;return b(v)&&(N-=1),N}s.default=p,s.getLastChangeIndex=x},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.BaseTooltip=void 0;var a=function(){function U(z,V){for(var X=0;X<V.length;X++){var $=V[X];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(z,$.key,$)}}return function(z,V,X){return V&&U(z.prototype,V),X&&U(z,X),z}}(),o=function U(z,V,X){z===null&&(z=Function.prototype);var $=Object.getOwnPropertyDescriptor(z,V);if($===void 0){var W=Object.getPrototypeOf(z);return W===null?void 0:U(W,V,X)}else{if("value"in $)return $.value;var H=$.get;return H===void 0?void 0:H.call(X)}},c=i(3),l=D(c),u=i(2),d=D(u),f=i(8),h=D(f),m=i(23),A=D(m),g=i(34),p=D(g),b=i(59),x=D(b),v=i(60),y=D(v),N=i(28),P=D(N),M=i(61),k=D(M);function D(U){return U&&U.__esModule?U:{default:U}}function O(U,z){if(!(U instanceof z))throw new TypeError("Cannot call a class as a function")}function L(U,z){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:U}function F(U,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);U.prototype=Object.create(z&&z.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(U,z):U.__proto__=z)}var _=[!1,"center","right","justify"],E=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],T=[!1,"serif","monospace"],w=["1","2","3",!1],C=["small",!1,"large","huge"],j=function(U){F(z,U);function z(V,X){O(this,z);var $=L(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,V,X)),W=function H(Q){if(!document.body.contains(V.root))return document.body.removeEventListener("click",H);$.tooltip!=null&&!$.tooltip.root.contains(Q.target)&&document.activeElement!==$.tooltip.textbox&&!$.quill.hasFocus()&&$.tooltip.hide(),$.pickers!=null&&$.pickers.forEach(function(G){G.container.contains(Q.target)||G.close()})};return V.emitter.listenDOM("click",document.body,W),$}return a(z,[{key:"addModule",value:function(X){var $=o(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"addModule",this).call(this,X);return X==="toolbar"&&this.extendToolbar($),$}},{key:"buildButtons",value:function(X,$){X.forEach(function(W){var H=W.getAttribute("class")||"";H.split(/\s+/).forEach(function(Q){if(Q.startsWith("ql-")&&(Q=Q.slice(3),$[Q]!=null))if(Q==="direction")W.innerHTML=$[Q][""]+$[Q].rtl;else if(typeof $[Q]=="string")W.innerHTML=$[Q];else{var G=W.value||"";G!=null&&$[Q][G]&&(W.innerHTML=$[Q][G])}})})}},{key:"buildPickers",value:function(X,$){var W=this;this.pickers=X.map(function(Q){if(Q.classList.contains("ql-align"))return Q.querySelector("option")==null&&R(Q,_),new y.default(Q,$.align);if(Q.classList.contains("ql-background")||Q.classList.contains("ql-color")){var G=Q.classList.contains("ql-background")?"background":"color";return Q.querySelector("option")==null&&R(Q,E,G==="background"?"#ffffff":"#000000"),new x.default(Q,$[G])}else return Q.querySelector("option")==null&&(Q.classList.contains("ql-font")?R(Q,T):Q.classList.contains("ql-header")?R(Q,w):Q.classList.contains("ql-size")&&R(Q,C)),new P.default(Q)});var H=function(){W.pickers.forEach(function(G){G.update()})};this.quill.on(h.default.events.EDITOR_CHANGE,H)}}]),z}(p.default);j.DEFAULTS=(0,l.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var z=this,V=this.container.querySelector("input.ql-image[type=file]");V==null&&(V=document.createElement("input"),V.setAttribute("type","file"),V.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),V.classList.add("ql-image"),V.addEventListener("change",function(){if(V.files!=null&&V.files[0]!=null){var X=new FileReader;X.onload=function($){var W=z.quill.getSelection(!0);z.quill.updateContents(new d.default().retain(W.index).delete(W.length).insert({image:$.target.result}),h.default.sources.USER),z.quill.setSelection(W.index+1,h.default.sources.SILENT),V.value=""},X.readAsDataURL(V.files[0])}}),this.container.appendChild(V)),V.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var S=function(U){F(z,U);function z(V,X){O(this,z);var $=L(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,V,X));return $.textbox=$.root.querySelector('input[type="text"]'),$.listen(),$}return a(z,[{key:"listen",value:function(){var X=this;this.textbox.addEventListener("keydown",function($){A.default.match($,"enter")?(X.save(),$.preventDefault()):A.default.match($,"escape")&&(X.cancel(),$.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),$!=null?this.textbox.value=$:X!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+X)||""),this.root.setAttribute("data-mode",X)}},{key:"restoreFocus",value:function(){var X=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=X}},{key:"save",value:function(){var X=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var $=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",X,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",X,h.default.sources.USER)),this.quill.root.scrollTop=$;break}case"video":X=I(X);case"formula":{if(!X)break;var W=this.quill.getSelection(!0);if(W!=null){var H=W.index+W.length;this.quill.insertEmbed(H,this.root.getAttribute("data-mode"),X,h.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(H+1," ",h.default.sources.USER),this.quill.setSelection(H+2,h.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),z}(k.default);function I(U){var z=U.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||U.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return z?(z[1]||"https")+"://www.youtube.com/embed/"+z[2]+"?showinfo=0":(z=U.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(z[1]||"https")+"://player.vimeo.com/video/"+z[2]+"/":U}function R(U,z){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;z.forEach(function(X){var $=document.createElement("option");X===V?$.setAttribute("selected","selected"):$.setAttribute("value",X),U.appendChild($)})}s.BaseTooltip=S,s.default=j},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];this.insertBefore(c[0],null),c.length>1&&this.append.apply(this,c.slice(1))},o.prototype.contains=function(c){for(var l,u=this.iterator();l=u();)if(l===c)return!0;return!1},o.prototype.insertBefore=function(c,l){c&&(c.next=l,l!=null?(c.prev=l.prev,l.prev!=null&&(l.prev.next=c),l.prev=c,l===this.head&&(this.head=c)):this.tail!=null?(this.tail.next=c,c.prev=this.tail,this.tail=c):(c.prev=null,this.head=this.tail=c),this.length+=1)},o.prototype.offset=function(c){for(var l=0,u=this.head;u!=null;){if(u===c)return l;l+=u.length(),u=u.next}return-1},o.prototype.remove=function(c){this.contains(c)&&(c.prev!=null&&(c.prev.next=c.next),c.next!=null&&(c.next.prev=c.prev),c===this.head&&(this.head=c.next),c===this.tail&&(this.tail=c.prev),this.length-=1)},o.prototype.iterator=function(c){return c===void 0&&(c=this.head),function(){var l=c;return c!=null&&(c=c.next),l}},o.prototype.find=function(c,l){l===void 0&&(l=!1);for(var u,d=this.iterator();u=d();){var f=u.length();if(c<f||l&&c===f&&(u.next==null||u.next.length()!==0))return[u,c];c-=f}return[null,0]},o.prototype.forEach=function(c){for(var l,u=this.iterator();l=u();)c(l)},o.prototype.forEachAt=function(c,l,u){if(!(l<=0))for(var d=this.find(c),f=d[0],h=d[1],m,A=c-h,g=this.iterator(f);(m=g())&&A<c+l;){var p=m.length();c>A?u(m,c-A,Math.min(l,A+p-c)):u(m,0,Math.min(p,c+l-A)),A+=p}},o.prototype.map=function(c){return this.reduce(function(l,u){return l.push(c(u)),l},[])},o.prototype.reduce=function(c,l){for(var u,d=this.iterator();u=d();)l=c(l,u);return l},o}();s.default=a},function(n,s,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var A in m)m.hasOwnProperty(A)&&(h[A]=m[A])};return function(h,m){f(h,m);function A(){this.constructor=h}h.prototype=m===null?Object.create(m):(A.prototype=m.prototype,new A)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=i(17),c=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,d=function(f){a(h,f);function h(m){var A=f.call(this,m)||this;return A.scroll=A,A.observer=new MutationObserver(function(g){A.update(g)}),A.observer.observe(A.domNode,l),A.attach(),A}return h.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(m,A){this.update(),m===0&&A===this.length()?this.children.forEach(function(g){g.remove()}):f.prototype.deleteAt.call(this,m,A)},h.prototype.formatAt=function(m,A,g,p){this.update(),f.prototype.formatAt.call(this,m,A,g,p)},h.prototype.insertAt=function(m,A,g){this.update(),f.prototype.insertAt.call(this,m,A,g)},h.prototype.optimize=function(m,A){var g=this;m===void 0&&(m=[]),A===void 0&&(A={}),f.prototype.optimize.call(this,A);for(var p=[].slice.call(this.observer.takeRecords());p.length>0;)m.push(p.pop());for(var b=function(N,P){P===void 0&&(P=!0),!(N==null||N===g)&&N.domNode.parentNode!=null&&(N.domNode[c.DATA_KEY].mutations==null&&(N.domNode[c.DATA_KEY].mutations=[]),P&&b(N.parent))},x=function(N){N.domNode[c.DATA_KEY]==null||N.domNode[c.DATA_KEY].mutations==null||(N instanceof o.default&&N.children.forEach(x),N.optimize(A))},v=m,y=0;v.length>0;y+=1){if(y>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(v.forEach(function(N){var P=c.find(N.target,!0);P!=null&&(P.domNode===N.target&&(N.type==="childList"?(b(c.find(N.previousSibling,!1)),[].forEach.call(N.addedNodes,function(M){var k=c.find(M,!1);b(k,!1),k instanceof o.default&&k.children.forEach(function(D){b(D,!1)})})):N.type==="attributes"&&b(P.prev)),b(P))}),this.children.forEach(x),v=[].slice.call(this.observer.takeRecords()),p=v.slice();p.length>0;)m.push(p.pop())}},h.prototype.update=function(m,A){var g=this;A===void 0&&(A={}),m=m||this.observer.takeRecords(),m.map(function(p){var b=c.find(p.target,!0);return b==null?null:b.domNode[c.DATA_KEY].mutations==null?(b.domNode[c.DATA_KEY].mutations=[p],b):(b.domNode[c.DATA_KEY].mutations.push(p),null)}).forEach(function(p){p==null||p===g||p.domNode[c.DATA_KEY]==null||p.update(p.domNode[c.DATA_KEY].mutations||[],A)}),this.domNode[c.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[c.DATA_KEY].mutations,A),this.optimize(m,A)},h.blotName="scroll",h.defaultChild="block",h.scope=c.Scope.BLOCK_BLOT,h.tagName="DIV",h}(o.default);s.default=d},function(n,s,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var m in h)h.hasOwnProperty(m)&&(f[m]=h[m])};return function(f,h){d(f,h);function m(){this.constructor=f}f.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=i(18),c=i(1);function l(d,f){if(Object.keys(d).length!==Object.keys(f).length)return!1;for(var h in d)if(d[h]!==f[h])return!1;return!0}var u=function(d){a(f,d);function f(){return d!==null&&d.apply(this,arguments)||this}return f.formats=function(h){if(h.tagName!==f.tagName)return d.formats.call(this,h)},f.prototype.format=function(h,m){var A=this;h===this.statics.blotName&&!m?(this.children.forEach(function(g){g instanceof o.default||(g=g.wrap(f.blotName,!0)),A.attributes.copy(g)}),this.unwrap()):d.prototype.format.call(this,h,m)},f.prototype.formatAt=function(h,m,A,g){if(this.formats()[A]!=null||c.query(A,c.Scope.ATTRIBUTE)){var p=this.isolate(h,m);p.format(A,g)}else d.prototype.formatAt.call(this,h,m,A,g)},f.prototype.optimize=function(h){d.prototype.optimize.call(this,h);var m=this.formats();if(Object.keys(m).length===0)return this.unwrap();var A=this.next;A instanceof f&&A.prev===this&&l(m,A.formats())&&(A.moveChildren(this),A.remove())},f.blotName="inline",f.scope=c.Scope.INLINE_BLOT,f.tagName="SPAN",f}(o.default);s.default=u},function(n,s,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var h in f)f.hasOwnProperty(h)&&(d[h]=f[h])};return function(d,f){u(d,f);function h(){this.constructor=d}d.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=i(18),c=i(1),l=function(u){a(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.formats=function(f){var h=c.query(d.blotName).tagName;if(f.tagName!==h)return u.formats.call(this,f)},d.prototype.format=function(f,h){c.query(f,c.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!h?this.replaceWith(d.blotName):u.prototype.format.call(this,f,h))},d.prototype.formatAt=function(f,h,m,A){c.query(m,c.Scope.BLOCK)!=null?this.format(m,A):u.prototype.formatAt.call(this,f,h,m,A)},d.prototype.insertAt=function(f,h,m){if(m==null||c.query(h,c.Scope.INLINE)!=null)u.prototype.insertAt.call(this,f,h,m);else{var A=this.split(f),g=c.create(h,m);A.parent.insertBefore(g,A)}},d.prototype.update=function(f,h){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,f,h)},d.blotName="block",d.scope=c.Scope.BLOCK_BLOT,d.tagName="P",d}(o.default);s.default=l},function(n,s,i){var a=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var f in d)d.hasOwnProperty(f)&&(u[f]=d[f])};return function(u,d){l(u,d);function f(){this.constructor=u}u.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=i(19),c=function(l){a(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(d){},u.prototype.format=function(d,f){l.prototype.formatAt.call(this,0,this.length(),d,f)},u.prototype.formatAt=function(d,f,h,m){d===0&&f===this.length()?this.format(h,m):l.prototype.formatAt.call(this,d,f,h,m)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(o.default);s.default=c},function(n,s,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var h in f)f.hasOwnProperty(h)&&(d[h]=f[h])};return function(d,f){u(d,f);function h(){this.constructor=d}d.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=i(19),c=i(1),l=function(u){a(d,u);function d(f){var h=u.call(this,f)||this;return h.text=h.statics.value(h.domNode),h}return d.create=function(f){return document.createTextNode(f)},d.value=function(f){var h=f.data;return h.normalize&&(h=h.normalize()),h},d.prototype.deleteAt=function(f,h){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+h)},d.prototype.index=function(f,h){return this.domNode===f?h:-1},d.prototype.insertAt=function(f,h,m){m==null?(this.text=this.text.slice(0,f)+h+this.text.slice(f),this.domNode.data=this.text):u.prototype.insertAt.call(this,f,h,m)},d.prototype.length=function(){return this.text.length},d.prototype.optimize=function(f){u.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof d&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},d.prototype.position=function(f,h){return[this.domNode,f]},d.prototype.split=function(f,h){if(h===void 0&&(h=!1),!h){if(f===0)return this;if(f===this.length())return this.next}var m=c.create(this.domNode.splitText(f));return this.parent.insertBefore(m,this.next),this.text=this.statics.value(this.domNode),m},d.prototype.update=function(f,h){var m=this;f.some(function(A){return A.type==="characterData"&&A.target===m.domNode})&&(this.text=this.statics.value(this.domNode))},d.prototype.value=function(){return this.text},d.blotName="text",d.scope=c.Scope.INLINE_BLOT,d}(o.default);s.default=l},function(n,s,i){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(c,l){return arguments.length>1&&!this.contains(c)==!l?l:o.call(this,c)}}String.prototype.startsWith||(String.prototype.startsWith=function(c,l){return l=l||0,this.substr(l,c.length)===c}),String.prototype.endsWith||(String.prototype.endsWith=function(c,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=c.length;var d=u.indexOf(c,l);return d!==-1&&d===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),d=u.length>>>0,f=arguments[1],h,m=0;m<d;m++)if(h=u[m],l.call(f,h,m,u))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,s){var i=-1,a=1,o=0;function c(y,N,P){if(y==N)return y?[[o,y]]:[];(P<0||y.length<P)&&(P=null);var M=f(y,N),k=y.substring(0,M);y=y.substring(M),N=N.substring(M),M=h(y,N);var D=y.substring(y.length-M);y=y.substring(0,y.length-M),N=N.substring(0,N.length-M);var O=l(y,N);return k&&O.unshift([o,k]),D&&O.push([o,D]),A(O),P!=null&&(O=b(O,P)),O=x(O),O}function l(y,N){var P;if(!y)return[[a,N]];if(!N)return[[i,y]];var M=y.length>N.length?y:N,k=y.length>N.length?N:y,D=M.indexOf(k);if(D!=-1)return P=[[a,M.substring(0,D)],[o,k],[a,M.substring(D+k.length)]],y.length>N.length&&(P[0][0]=P[2][0]=i),P;if(k.length==1)return[[i,y],[a,N]];var O=m(y,N);if(O){var L=O[0],F=O[1],_=O[2],E=O[3],T=O[4],w=c(L,_),C=c(F,E);return w.concat([[o,T]],C)}return u(y,N)}function u(y,N){for(var P=y.length,M=N.length,k=Math.ceil((P+M)/2),D=k,O=2*k,L=new Array(O),F=new Array(O),_=0;_<O;_++)L[_]=-1,F[_]=-1;L[D+1]=0,F[D+1]=0;for(var E=P-M,T=E%2!=0,w=0,C=0,j=0,S=0,I=0;I<k;I++){for(var R=-I+w;R<=I-C;R+=2){var U=D+R,z;R==-I||R!=I&&L[U-1]<L[U+1]?z=L[U+1]:z=L[U-1]+1;for(var V=z-R;z<P&&V<M&&y.charAt(z)==N.charAt(V);)z++,V++;if(L[U]=z,z>P)C+=2;else if(V>M)w+=2;else if(T){var X=D+E-R;if(X>=0&&X<O&&F[X]!=-1){var $=P-F[X];if(z>=$)return d(y,N,z,V)}}}for(var W=-I+j;W<=I-S;W+=2){var X=D+W,$;W==-I||W!=I&&F[X-1]<F[X+1]?$=F[X+1]:$=F[X-1]+1;for(var H=$-W;$<P&&H<M&&y.charAt(P-$-1)==N.charAt(M-H-1);)$++,H++;if(F[X]=$,$>P)S+=2;else if(H>M)j+=2;else if(!T){var U=D+E-W;if(U>=0&&U<O&&L[U]!=-1){var z=L[U],V=D+z-U;if($=P-$,z>=$)return d(y,N,z,V)}}}}return[[i,y],[a,N]]}function d(y,N,P,M){var k=y.substring(0,P),D=N.substring(0,M),O=y.substring(P),L=N.substring(M),F=c(k,D),_=c(O,L);return F.concat(_)}function f(y,N){if(!y||!N||y.charAt(0)!=N.charAt(0))return 0;for(var P=0,M=Math.min(y.length,N.length),k=M,D=0;P<k;)y.substring(D,k)==N.substring(D,k)?(P=k,D=P):M=k,k=Math.floor((M-P)/2+P);return k}function h(y,N){if(!y||!N||y.charAt(y.length-1)!=N.charAt(N.length-1))return 0;for(var P=0,M=Math.min(y.length,N.length),k=M,D=0;P<k;)y.substring(y.length-k,y.length-D)==N.substring(N.length-k,N.length-D)?(P=k,D=P):M=k,k=Math.floor((M-P)/2+P);return k}function m(y,N){var P=y.length>N.length?y:N,M=y.length>N.length?N:y;if(P.length<4||M.length*2<P.length)return null;function k(C,j,S){for(var I=C.substring(S,S+Math.floor(C.length/4)),R=-1,U="",z,V,X,$;(R=j.indexOf(I,R+1))!=-1;){var W=f(C.substring(S),j.substring(R)),H=h(C.substring(0,S),j.substring(0,R));U.length<H+W&&(U=j.substring(R-H,R)+j.substring(R,R+W),z=C.substring(0,S-H),V=C.substring(S+W),X=j.substring(0,R-H),$=j.substring(R+W))}return U.length*2>=C.length?[z,V,X,$,U]:null}var D=k(P,M,Math.ceil(P.length/4)),O=k(P,M,Math.ceil(P.length/2)),L;if(!D&&!O)return null;O?D?L=D[4].length>O[4].length?D:O:L=O:L=D;var F,_,E,T;y.length>N.length?(F=L[0],_=L[1],E=L[2],T=L[3]):(E=L[0],T=L[1],F=L[2],_=L[3]);var w=L[4];return[F,_,E,T,w]}function A(y){y.push([o,""]);for(var N=0,P=0,M=0,k="",D="",O;N<y.length;)switch(y[N][0]){case a:M++,D+=y[N][1],N++;break;case i:P++,k+=y[N][1],N++;break;case o:P+M>1?(P!==0&&M!==0&&(O=f(D,k),O!==0&&(N-P-M>0&&y[N-P-M-1][0]==o?y[N-P-M-1][1]+=D.substring(0,O):(y.splice(0,0,[o,D.substring(0,O)]),N++),D=D.substring(O),k=k.substring(O)),O=h(D,k),O!==0&&(y[N][1]=D.substring(D.length-O)+y[N][1],D=D.substring(0,D.length-O),k=k.substring(0,k.length-O))),P===0?y.splice(N-M,P+M,[a,D]):M===0?y.splice(N-P,P+M,[i,k]):y.splice(N-P-M,P+M,[i,k],[a,D]),N=N-P-M+(P?1:0)+(M?1:0)+1):N!==0&&y[N-1][0]==o?(y[N-1][1]+=y[N][1],y.splice(N,1)):N++,M=0,P=0,k="",D="";break}y[y.length-1][1]===""&&y.pop();var L=!1;for(N=1;N<y.length-1;)y[N-1][0]==o&&y[N+1][0]==o&&(y[N][1].substring(y[N][1].length-y[N-1][1].length)==y[N-1][1]?(y[N][1]=y[N-1][1]+y[N][1].substring(0,y[N][1].length-y[N-1][1].length),y[N+1][1]=y[N-1][1]+y[N+1][1],y.splice(N-1,1),L=!0):y[N][1].substring(0,y[N+1][1].length)==y[N+1][1]&&(y[N-1][1]+=y[N+1][1],y[N][1]=y[N][1].substring(y[N+1][1].length)+y[N+1][1],y.splice(N+1,1),L=!0)),N++;L&&A(y)}var g=c;g.INSERT=a,g.DELETE=i,g.EQUAL=o,n.exports=g;function p(y,N){if(N===0)return[o,y];for(var P=0,M=0;M<y.length;M++){var k=y[M];if(k[0]===i||k[0]===o){var D=P+k[1].length;if(N===D)return[M+1,y];if(N<D){y=y.slice();var O=N-P,L=[k[0],k[1].slice(0,O)],F=[k[0],k[1].slice(O)];return y.splice(M,1,L,F),[M+1,y]}else P=D}}throw new Error("cursor_pos is out of bounds!")}function b(y,N){var P=p(y,N),M=P[1],k=P[0],D=M[k],O=M[k+1];if(D==null)return y;if(D[0]!==o)return y;if(O!=null&&D[1]+O[1]===O[1]+D[1])return M.splice(k,2,O,D),v(M,k,2);if(O!=null&&O[1].indexOf(D[1])===0){M.splice(k,2,[O[0],D[1]],[0,D[1]]);var L=O[1].slice(D[1].length);return L.length>0&&M.splice(k+2,0,[O[0],L]),v(M,k,3)}else return y}function x(y){for(var N=!1,P=function(O){return O.charCodeAt(0)>=56320&&O.charCodeAt(0)<=57343},M=function(O){return O.charCodeAt(O.length-1)>=55296&&O.charCodeAt(O.length-1)<=56319},k=2;k<y.length;k+=1)y[k-2][0]===o&&M(y[k-2][1])&&y[k-1][0]===i&&P(y[k-1][1])&&y[k][0]===a&&P(y[k][1])&&(N=!0,y[k-1][1]=y[k-2][1].slice(-1)+y[k-1][1],y[k][1]=y[k-2][1].slice(-1)+y[k][1],y[k-2][1]=y[k-2][1].slice(0,-1));if(!N)return y;for(var D=[],k=0;k<y.length;k+=1)y[k][1].length>0&&D.push(y[k]);return D}function v(y,N,P){for(var M=N+P-1;M>=0&&M>=N-1;M--)if(M+1<y.length){var k=y[M],D=y[M+1];k[0]===D[1]&&y.splice(M,2,[k[0],k[1]+D[1]])}return y}},function(n,s){s=n.exports=typeof Object.keys=="function"?Object.keys:i,s.shim=i;function i(a){var o=[];for(var c in a)o.push(c);return o}},function(n,s){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";s=n.exports=i?a:o,s.supported=a;function a(c){return Object.prototype.toString.call(c)=="[object Arguments]"}s.unsupported=o;function o(c){return c&&typeof c=="object"&&typeof c.length=="number"&&Object.prototype.hasOwnProperty.call(c,"callee")&&!Object.prototype.propertyIsEnumerable.call(c,"callee")||!1}},function(n,s){var i=Object.prototype.hasOwnProperty,a="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(a=!1));function c(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,h;if(this._eventsCount===0)return d;for(h in f=this._events)i.call(f,h)&&d.push(a?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d,f){var h=a?a+d:d,m=this._events[h];if(f)return!!m;if(!m)return[];if(m.fn)return[m.fn];for(var A=0,g=m.length,p=new Array(g);A<g;A++)p[A]=m[A].fn;return p},l.prototype.emit=function(d,f,h,m,A,g){var p=a?a+d:d;if(!this._events[p])return!1;var b=this._events[p],x=arguments.length,v,y;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),x){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,h),!0;case 4:return b.fn.call(b.context,f,h,m),!0;case 5:return b.fn.call(b.context,f,h,m,A),!0;case 6:return b.fn.call(b.context,f,h,m,A,g),!0}for(y=1,v=new Array(x-1);y<x;y++)v[y-1]=arguments[y];b.fn.apply(b.context,v)}else{var N=b.length,P;for(y=0;y<N;y++)switch(b[y].once&&this.removeListener(d,b[y].fn,void 0,!0),x){case 1:b[y].fn.call(b[y].context);break;case 2:b[y].fn.call(b[y].context,f);break;case 3:b[y].fn.call(b[y].context,f,h);break;case 4:b[y].fn.call(b[y].context,f,h,m);break;default:if(!v)for(P=1,v=new Array(x-1);P<x;P++)v[P-1]=arguments[P];b[y].fn.apply(b[y].context,v)}}return!0},l.prototype.on=function(d,f,h){var m=new c(f,h||this),A=a?a+d:d;return this._events[A]?this._events[A].fn?this._events[A]=[this._events[A],m]:this._events[A].push(m):(this._events[A]=m,this._eventsCount++),this},l.prototype.once=function(d,f,h){var m=new c(f,h||this,!0),A=a?a+d:d;return this._events[A]?this._events[A].fn?this._events[A]=[this._events[A],m]:this._events[A].push(m):(this._events[A]=m,this._eventsCount++),this},l.prototype.removeListener=function(d,f,h,m){var A=a?a+d:d;if(!this._events[A])return this;if(!f)return--this._eventsCount===0?this._events=new o:delete this._events[A],this;var g=this._events[A];if(g.fn)g.fn===f&&(!m||g.once)&&(!h||g.context===h)&&(--this._eventsCount===0?this._events=new o:delete this._events[A]);else{for(var p=0,b=[],x=g.length;p<x;p++)(g[p].fn!==f||m&&!g[p].once||h&&g[p].context!==h)&&b.push(g[p]);b.length?this._events[A]=b.length===1?b[0]:b:--this._eventsCount===0?this._events=new o:delete this._events[A]}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=a?a+d:d,this._events[f]&&(--this._eventsCount===0?this._events=new o:delete this._events[f])):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=a,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.matchText=s.matchSpacing=s.matchNewline=s.matchBlot=s.matchAttributor=s.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},o=function(){function q(Z,te){var re=[],Y=!0,oe=!1,ae=void 0;try{for(var ce=Z[Symbol.iterator](),de;!(Y=(de=ce.next()).done)&&(re.push(de.value),!(te&&re.length===te));Y=!0);}catch(pe){oe=!0,ae=pe}finally{try{!Y&&ce.return&&ce.return()}finally{if(oe)throw ae}}return re}return function(Z,te){if(Array.isArray(Z))return Z;if(Symbol.iterator in Object(Z))return q(Z,te);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function q(Z,te){for(var re=0;re<te.length;re++){var Y=te[re];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(Z,Y.key,Y)}}return function(Z,te,re){return te&&q(Z.prototype,te),re&&q(Z,re),Z}}(),l=i(3),u=F(l),d=i(2),f=F(d),h=i(0),m=F(h),A=i(5),g=F(A),p=i(10),b=F(p),x=i(9),v=F(x),y=i(36),N=i(37),P=i(13),M=F(P),k=i(26),D=i(38),O=i(39),L=i(40);function F(q){return q&&q.__esModule?q:{default:q}}function _(q,Z,te){return Z in q?Object.defineProperty(q,Z,{value:te,enumerable:!0,configurable:!0,writable:!0}):q[Z]=te,q}function E(q,Z){if(!(q instanceof Z))throw new TypeError("Cannot call a class as a function")}function T(q,Z){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z&&(typeof Z=="object"||typeof Z=="function")?Z:q}function w(q,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Z);q.prototype=Object.create(Z&&Z.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(q,Z):q.__proto__=Z)}var C=(0,b.default)("quill:clipboard"),j="__ql-matcher",S=[[Node.TEXT_NODE,ie],[Node.TEXT_NODE,ne],["br",J],[Node.ELEMENT_NODE,ne],[Node.ELEMENT_NODE,G],[Node.ELEMENT_NODE,ue],[Node.ELEMENT_NODE,Q],[Node.ELEMENT_NODE,se],["li",K],["b",H.bind(H,"bold")],["i",H.bind(H,"italic")],["style",ee]],I=[y.AlignAttribute,D.DirectionAttribute].reduce(function(q,Z){return q[Z.keyName]=Z,q},{}),R=[y.AlignStyle,N.BackgroundStyle,k.ColorStyle,D.DirectionStyle,O.FontStyle,L.SizeStyle].reduce(function(q,Z){return q[Z.keyName]=Z,q},{}),U=function(q){w(Z,q);function Z(te,re){E(this,Z);var Y=T(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this,te,re));return Y.quill.root.addEventListener("paste",Y.onPaste.bind(Y)),Y.container=Y.quill.addContainer("ql-clipboard"),Y.container.setAttribute("contenteditable",!0),Y.container.setAttribute("tabindex",-1),Y.matchers=[],S.concat(Y.options.matchers).forEach(function(oe){var ae=o(oe,2),ce=ae[0],de=ae[1];!re.matchVisual&&de===ue||Y.addMatcher(ce,de)}),Y}return c(Z,[{key:"addMatcher",value:function(re,Y){this.matchers.push([re,Y])}},{key:"convert",value:function(re){if(typeof re=="string")return this.container.innerHTML=re.replace(/\>\r?\n +\</g,"><"),this.convert();var Y=this.quill.getFormat(this.quill.selection.savedRange.index);if(Y[M.default.blotName]){var oe=this.container.innerText;return this.container.innerHTML="",new f.default().insert(oe,_({},M.default.blotName,Y[M.default.blotName]))}var ae=this.prepareMatching(),ce=o(ae,2),de=ce[0],pe=ce[1],Ae=W(this.container,de,pe);return X(Ae,`
`)&&Ae.ops[Ae.ops.length-1].attributes==null&&(Ae=Ae.compose(new f.default().retain(Ae.length()-1).delete(1))),C.log("convert",this.container.innerHTML,Ae),this.container.innerHTML="",Ae}},{key:"dangerouslyPasteHTML",value:function(re,Y){var oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof re=="string")this.quill.setContents(this.convert(re),Y),this.quill.setSelection(0,g.default.sources.SILENT);else{var ae=this.convert(Y);this.quill.updateContents(new f.default().retain(re).concat(ae),oe),this.quill.setSelection(re+ae.length(),g.default.sources.SILENT)}}},{key:"onPaste",value:function(re){var Y=this;if(!(re.defaultPrevented||!this.quill.isEnabled())){var oe=this.quill.getSelection(),ae=new f.default().retain(oe.index),ce=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(g.default.sources.SILENT),setTimeout(function(){ae=ae.concat(Y.convert()).delete(oe.length),Y.quill.updateContents(ae,g.default.sources.USER),Y.quill.setSelection(ae.length()-oe.length,g.default.sources.SILENT),Y.quill.scrollingContainer.scrollTop=ce,Y.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var re=this,Y=[],oe=[];return this.matchers.forEach(function(ae){var ce=o(ae,2),de=ce[0],pe=ce[1];switch(de){case Node.TEXT_NODE:oe.push(pe);break;case Node.ELEMENT_NODE:Y.push(pe);break;default:[].forEach.call(re.container.querySelectorAll(de),function(Ae){Ae[j]=Ae[j]||[],Ae[j].push(pe)});break}}),[Y,oe]}}]),Z}(v.default);U.DEFAULTS={matchers:[],matchVisual:!0};function z(q,Z,te){return(typeof Z>"u"?"undefined":a(Z))==="object"?Object.keys(Z).reduce(function(re,Y){return z(re,Y,Z[Y])},q):q.reduce(function(re,Y){return Y.attributes&&Y.attributes[Z]?re.push(Y):re.insert(Y.insert,(0,u.default)({},_({},Z,te),Y.attributes))},new f.default)}function V(q){if(q.nodeType!==Node.ELEMENT_NODE)return{};var Z="__ql-computed-style";return q[Z]||(q[Z]=window.getComputedStyle(q))}function X(q,Z){for(var te="",re=q.ops.length-1;re>=0&&te.length<Z.length;--re){var Y=q.ops[re];if(typeof Y.insert!="string")break;te=Y.insert+te}return te.slice(-1*Z.length)===Z}function $(q){if(q.childNodes.length===0)return!1;var Z=V(q);return["block","list-item"].indexOf(Z.display)>-1}function W(q,Z,te){return q.nodeType===q.TEXT_NODE?te.reduce(function(re,Y){return Y(q,re)},new f.default):q.nodeType===q.ELEMENT_NODE?[].reduce.call(q.childNodes||[],function(re,Y){var oe=W(Y,Z,te);return Y.nodeType===q.ELEMENT_NODE&&(oe=Z.reduce(function(ae,ce){return ce(Y,ae)},oe),oe=(Y[j]||[]).reduce(function(ae,ce){return ce(Y,ae)},oe)),re.concat(oe)},new f.default):new f.default}function H(q,Z,te){return z(te,q,!0)}function Q(q,Z){var te=m.default.Attributor.Attribute.keys(q),re=m.default.Attributor.Class.keys(q),Y=m.default.Attributor.Style.keys(q),oe={};return te.concat(re).concat(Y).forEach(function(ae){var ce=m.default.query(ae,m.default.Scope.ATTRIBUTE);ce!=null&&(oe[ce.attrName]=ce.value(q),oe[ce.attrName])||(ce=I[ae],ce!=null&&(ce.attrName===ae||ce.keyName===ae)&&(oe[ce.attrName]=ce.value(q)||void 0),ce=R[ae],ce!=null&&(ce.attrName===ae||ce.keyName===ae)&&(ce=R[ae],oe[ce.attrName]=ce.value(q)||void 0))}),Object.keys(oe).length>0&&(Z=z(Z,oe)),Z}function G(q,Z){var te=m.default.query(q);if(te==null)return Z;if(te.prototype instanceof m.default.Embed){var re={},Y=te.value(q);Y!=null&&(re[te.blotName]=Y,Z=new f.default().insert(re,te.formats(q)))}else typeof te.formats=="function"&&(Z=z(Z,te.blotName,te.formats(q)));return Z}function J(q,Z){return X(Z,`
`)||Z.insert(`
`),Z}function ee(){return new f.default}function K(q,Z){var te=m.default.query(q);if(te==null||te.blotName!=="list-item"||!X(Z,`
`))return Z;for(var re=-1,Y=q.parentNode;!Y.classList.contains("ql-clipboard");)(m.default.query(Y)||{}).blotName==="list"&&(re+=1),Y=Y.parentNode;return re<=0?Z:Z.compose(new f.default().retain(Z.length()-1).retain(1,{indent:re}))}function ne(q,Z){return X(Z,`
`)||($(q)||Z.length()>0&&q.nextSibling&&$(q.nextSibling))&&Z.insert(`
`),Z}function ue(q,Z){if($(q)&&q.nextElementSibling!=null&&!X(Z,`

`)){var te=q.offsetHeight+parseFloat(V(q).marginTop)+parseFloat(V(q).marginBottom);q.nextElementSibling.offsetTop>q.offsetTop+te*1.5&&Z.insert(`
`)}return Z}function se(q,Z){var te={},re=q.style||{};return re.fontStyle&&V(q).fontStyle==="italic"&&(te.italic=!0),re.fontWeight&&(V(q).fontWeight.startsWith("bold")||parseInt(V(q).fontWeight)>=700)&&(te.bold=!0),Object.keys(te).length>0&&(Z=z(Z,te)),parseFloat(re.textIndent||0)>0&&(Z=new f.default().insert("	").concat(Z)),Z}function ie(q,Z){var te=q.data;if(q.parentNode.tagName==="O:P")return Z.insert(te.trim());if(te.trim().length===0&&q.parentNode.classList.contains("ql-clipboard"))return Z;if(!V(q.parentNode).whiteSpace.startsWith("pre")){var re=function(oe,ae){return ae=ae.replace(/[^\u00a0]/g,""),ae.length<1&&oe?" ":ae};te=te.replace(/\r\n/g," ").replace(/\n/g," "),te=te.replace(/\s\s+/g,re.bind(re,!0)),(q.previousSibling==null&&$(q.parentNode)||q.previousSibling!=null&&$(q.previousSibling))&&(te=te.replace(/^\s+/,re.bind(re,!1))),(q.nextSibling==null&&$(q.parentNode)||q.nextSibling!=null&&$(q.nextSibling))&&(te=te.replace(/\s+$/,re.bind(re,!1)))}return Z.insert(te)}s.default=U,s.matchAttributor=Q,s.matchBlot=G,s.matchNewline=ne,s.matchSpacing=ue,s.matchText=ie},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function A(g,p){for(var b=0;b<p.length;b++){var x=p[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,p,b){return p&&A(g.prototype,p),b&&A(g,b),g}}(),o=function A(g,p,b){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,p);if(x===void 0){var v=Object.getPrototypeOf(g);return v===null?void 0:A(v,p,b)}else{if("value"in x)return x.value;var y=x.get;return y===void 0?void 0:y.call(b)}},c=i(6),l=u(c);function u(A){return A&&A.__esModule?A:{default:A}}function d(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}function f(A,g){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:A}function h(A,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);A.prototype=Object.create(g&&g.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(A,g):A.__proto__=g)}var m=function(A){h(g,A);function g(){return d(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"optimize",value:function(b){o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,b),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),g}(l.default);m.blotName="bold",m.tagName=["STRONG","B"],s.default=m},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.addControls=s.default=void 0;var a=function(){function L(F,_){var E=[],T=!0,w=!1,C=void 0;try{for(var j=F[Symbol.iterator](),S;!(T=(S=j.next()).done)&&(E.push(S.value),!(_&&E.length===_));T=!0);}catch(I){w=!0,C=I}finally{try{!T&&j.return&&j.return()}finally{if(w)throw C}}return E}return function(F,_){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return L(F,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function L(F,_){for(var E=0;E<_.length;E++){var T=_[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(F,T.key,T)}}return function(F,_,E){return _&&L(F.prototype,_),E&&L(F,E),F}}(),c=i(2),l=b(c),u=i(0),d=b(u),f=i(5),h=b(f),m=i(10),A=b(m),g=i(9),p=b(g);function b(L){return L&&L.__esModule?L:{default:L}}function x(L,F,_){return F in L?Object.defineProperty(L,F,{value:_,enumerable:!0,configurable:!0,writable:!0}):L[F]=_,L}function v(L,F){if(!(L instanceof F))throw new TypeError("Cannot call a class as a function")}function y(L,F){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:L}function N(L,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);L.prototype=Object.create(F&&F.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(L,F):L.__proto__=F)}var P=(0,A.default)("quill:toolbar"),M=function(L){N(F,L);function F(_,E){v(this,F);var T=y(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,_,E));if(Array.isArray(T.options.container)){var w=document.createElement("div");D(w,T.options.container),_.container.parentNode.insertBefore(w,_.container),T.container=w}else typeof T.options.container=="string"?T.container=document.querySelector(T.options.container):T.container=T.options.container;if(!(T.container instanceof HTMLElement)){var C;return C=P.error("Container required for toolbar",T.options),y(T,C)}return T.container.classList.add("ql-toolbar"),T.controls=[],T.handlers={},Object.keys(T.options.handlers).forEach(function(j){T.addHandler(j,T.options.handlers[j])}),[].forEach.call(T.container.querySelectorAll("button, select"),function(j){T.attach(j)}),T.quill.on(h.default.events.EDITOR_CHANGE,function(j,S){j===h.default.events.SELECTION_CHANGE&&T.update(S)}),T.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var j=T.quill.selection.getRange(),S=a(j,1),I=S[0];T.update(I)}),T}return o(F,[{key:"addHandler",value:function(E,T){this.handlers[E]=T}},{key:"attach",value:function(E){var T=this,w=[].find.call(E.classList,function(j){return j.indexOf("ql-")===0});if(w){if(w=w.slice(3),E.tagName==="BUTTON"&&E.setAttribute("type","button"),this.handlers[w]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[w]==null){P.warn("ignoring attaching to disabled format",w,E);return}if(d.default.query(w)==null){P.warn("ignoring attaching to nonexistent format",w,E);return}}var C=E.tagName==="SELECT"?"change":"click";E.addEventListener(C,function(j){var S=void 0;if(E.tagName==="SELECT"){if(E.selectedIndex<0)return;var I=E.options[E.selectedIndex];I.hasAttribute("selected")?S=!1:S=I.value||!1}else E.classList.contains("ql-active")?S=!1:S=E.value||!E.hasAttribute("value"),j.preventDefault();T.quill.focus();var R=T.quill.selection.getRange(),U=a(R,1),z=U[0];if(T.handlers[w]!=null)T.handlers[w].call(T,S);else if(d.default.query(w).prototype instanceof d.default.Embed){if(S=prompt("Enter "+w),!S)return;T.quill.updateContents(new l.default().retain(z.index).delete(z.length).insert(x({},w,S)),h.default.sources.USER)}else T.quill.format(w,S,h.default.sources.USER);T.update(z)}),this.controls.push([w,E])}}},{key:"update",value:function(E){var T=E==null?{}:this.quill.getFormat(E);this.controls.forEach(function(w){var C=a(w,2),j=C[0],S=C[1];if(S.tagName==="SELECT"){var I=void 0;if(E==null)I=null;else if(T[j]==null)I=S.querySelector("option[selected]");else if(!Array.isArray(T[j])){var R=T[j];typeof R=="string"&&(R=R.replace(/\"/g,'\\"')),I=S.querySelector('option[value="'+R+'"]')}I==null?(S.value="",S.selectedIndex=-1):I.selected=!0}else if(E==null)S.classList.remove("ql-active");else if(S.hasAttribute("value")){var U=T[j]===S.getAttribute("value")||T[j]!=null&&T[j].toString()===S.getAttribute("value")||T[j]==null&&!S.getAttribute("value");S.classList.toggle("ql-active",U)}else S.classList.toggle("ql-active",T[j]!=null)})}}]),F}(p.default);M.DEFAULTS={};function k(L,F,_){var E=document.createElement("button");E.setAttribute("type","button"),E.classList.add("ql-"+F),_!=null&&(E.value=_),L.appendChild(E)}function D(L,F){Array.isArray(F[0])||(F=[F]),F.forEach(function(_){var E=document.createElement("span");E.classList.add("ql-formats"),_.forEach(function(T){if(typeof T=="string")k(E,T);else{var w=Object.keys(T)[0],C=T[w];Array.isArray(C)?O(E,w,C):k(E,w,C)}}),L.appendChild(E)})}function O(L,F,_){var E=document.createElement("select");E.classList.add("ql-"+F),_.forEach(function(T){var w=document.createElement("option");T!==!1?w.setAttribute("value",T):w.setAttribute("selected","selected"),E.appendChild(w)}),L.appendChild(E)}M.DEFAULTS={container:null,handlers:{clean:function(){var F=this,_=this.quill.getSelection();if(_!=null)if(_.length==0){var E=this.quill.getFormat();Object.keys(E).forEach(function(T){d.default.query(T,d.default.Scope.INLINE)!=null&&F.quill.format(T,!1)})}else this.quill.removeFormat(_,h.default.sources.USER)},direction:function(F){var _=this.quill.getFormat().align;F==="rtl"&&_==null?this.quill.format("align","right",h.default.sources.USER):!F&&_==="right"&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",F,h.default.sources.USER)},indent:function(F){var _=this.quill.getSelection(),E=this.quill.getFormat(_),T=parseInt(E.indent||0);if(F==="+1"||F==="-1"){var w=F==="+1"?1:-1;E.direction==="rtl"&&(w*=-1),this.quill.format("indent",T+w,h.default.sources.USER)}},link:function(F){F===!0&&(F=prompt("Enter link URL:")),this.quill.format("link",F,h.default.sources.USER)},list:function(F){var _=this.quill.getSelection(),E=this.quill.getFormat(_);F==="check"?E.list==="checked"||E.list==="unchecked"?this.quill.format("list",!1,h.default.sources.USER):this.quill.format("list","unchecked",h.default.sources.USER):this.quill.format("list",F,h.default.sources.USER)}}},s.default=M,s.addControls=D},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function A(g,p){for(var b=0;b<p.length;b++){var x=p[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,p,b){return p&&A(g.prototype,p),b&&A(g,b),g}}(),o=function A(g,p,b){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,p);if(x===void 0){var v=Object.getPrototypeOf(g);return v===null?void 0:A(v,p,b)}else{if("value"in x)return x.value;var y=x.get;return y===void 0?void 0:y.call(b)}},c=i(28),l=u(c);function u(A){return A&&A.__esModule?A:{default:A}}function d(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}function f(A,g){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:A}function h(A,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);A.prototype=Object.create(g&&g.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(A,g):A.__proto__=g)}var m=function(A){h(g,A);function g(p,b){d(this,g);var x=f(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,p));return x.label.innerHTML=b,x.container.classList.add("ql-color-picker"),[].slice.call(x.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(v){v.classList.add("ql-primary")}),x}return a(g,[{key:"buildItem",value:function(b){var x=o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"buildItem",this).call(this,b);return x.style.backgroundColor=b.getAttribute("value")||"",x}},{key:"selectItem",value:function(b,x){o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,b,x);var v=this.label.querySelector(".ql-color-label"),y=b&&b.getAttribute("data-value")||"";v&&(v.tagName==="line"?v.style.stroke=y:v.style.fill=y)}}]),g}(l.default);s.default=m},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function A(g,p){for(var b=0;b<p.length;b++){var x=p[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,p,b){return p&&A(g.prototype,p),b&&A(g,b),g}}(),o=function A(g,p,b){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,p);if(x===void 0){var v=Object.getPrototypeOf(g);return v===null?void 0:A(v,p,b)}else{if("value"in x)return x.value;var y=x.get;return y===void 0?void 0:y.call(b)}},c=i(28),l=u(c);function u(A){return A&&A.__esModule?A:{default:A}}function d(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}function f(A,g){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:A}function h(A,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);A.prototype=Object.create(g&&g.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(A,g):A.__proto__=g)}var m=function(A){h(g,A);function g(p,b){d(this,g);var x=f(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,p));return x.container.classList.add("ql-icon-picker"),[].forEach.call(x.container.querySelectorAll(".ql-picker-item"),function(v){v.innerHTML=b[v.getAttribute("data-value")||""]}),x.defaultItem=x.container.querySelector(".ql-selected"),x.selectItem(x.defaultItem),x}return a(g,[{key:"selectItem",value:function(b,x){o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,b,x),b=b||this.defaultItem,this.label.innerHTML=b.innerHTML}}]),g}(l.default);s.default=m},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function l(u,d){for(var f=0;f<d.length;f++){var h=d[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,d,f){return d&&l(u.prototype,d),f&&l(u,f),u}}();function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var c=function(){function l(u,d){var f=this;o(this,l),this.quill=u,this.boundsContainer=d||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return a(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(d){var f=d.left+d.width/2-this.root.offsetWidth/2,h=d.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var m=this.boundsContainer.getBoundingClientRect(),A=this.root.getBoundingClientRect(),g=0;if(A.right>m.right&&(g=m.right-A.right,this.root.style.left=f+g+"px"),A.left<m.left&&(g=m.left-A.left,this.root.style.left=f+g+"px"),A.bottom>m.bottom){var p=A.bottom-A.top,b=d.bottom-d.top+p;this.root.style.top=h-b+"px",this.root.classList.add("ql-flip")}return g}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();s.default=c},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function O(L,F){var _=[],E=!0,T=!1,w=void 0;try{for(var C=L[Symbol.iterator](),j;!(E=(j=C.next()).done)&&(_.push(j.value),!(F&&_.length===F));E=!0);}catch(S){T=!0,w=S}finally{try{!E&&C.return&&C.return()}finally{if(T)throw w}}return _}return function(L,F){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return O(L,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function O(L,F,_){L===null&&(L=Function.prototype);var E=Object.getOwnPropertyDescriptor(L,F);if(E===void 0){var T=Object.getPrototypeOf(L);return T===null?void 0:O(T,F,_)}else{if("value"in E)return E.value;var w=E.get;return w===void 0?void 0:w.call(_)}},c=function(){function O(L,F){for(var _=0;_<F.length;_++){var E=F[_];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(L,E.key,E)}}return function(L,F,_){return F&&O(L.prototype,F),_&&O(L,_),L}}(),l=i(3),u=v(l),d=i(8),f=v(d),h=i(43),m=v(h),A=i(27),g=v(A),p=i(15),b=i(41),x=v(b);function v(O){return O&&O.__esModule?O:{default:O}}function y(O,L){if(!(O instanceof L))throw new TypeError("Cannot call a class as a function")}function N(O,L){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:O}function P(O,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);O.prototype=Object.create(L&&L.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(O,L):O.__proto__=L)}var M=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],k=function(O){P(L,O);function L(F,_){y(this,L),_.modules.toolbar!=null&&_.modules.toolbar.container==null&&(_.modules.toolbar.container=M);var E=N(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,F,_));return E.quill.container.classList.add("ql-snow"),E}return c(L,[{key:"extendToolbar",value:function(_){_.container.classList.add("ql-snow"),this.buildButtons([].slice.call(_.container.querySelectorAll("button")),x.default),this.buildPickers([].slice.call(_.container.querySelectorAll("select")),x.default),this.tooltip=new D(this.quill,this.options.bounds),_.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(E,T){_.handlers.link.call(_,!T.format.link)})}}]),L}(m.default);k.DEFAULTS=(0,u.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(L){if(L){var F=this.quill.getSelection();if(F==null||F.length==0)return;var _=this.quill.getText(F);/^\S+@\S+\.\S+$/.test(_)&&_.indexOf("mailto:")!==0&&(_="mailto:"+_);var E=this.quill.theme.tooltip;E.edit("link",_)}else this.quill.format("link",!1)}}}}});var D=function(O){P(L,O);function L(F,_){y(this,L);var E=N(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,F,_));return E.preview=E.root.querySelector("a.ql-preview"),E}return c(L,[{key:"listen",value:function(){var _=this;o(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(E){_.root.classList.contains("ql-editing")?_.save():_.edit("link",_.preview.textContent),E.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(E){if(_.linkRange!=null){var T=_.linkRange;_.restoreFocus(),_.quill.formatText(T,"link",!1,f.default.sources.USER),delete _.linkRange}E.preventDefault(),_.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(E,T,w){if(E!=null){if(E.length===0&&w===f.default.sources.USER){var C=_.quill.scroll.descendant(g.default,E.index),j=a(C,2),S=j[0],I=j[1];if(S!=null){_.linkRange=new p.Range(E.index-I,S.length());var R=g.default.formats(S.domNode);_.preview.textContent=R,_.preview.setAttribute("href",R),_.show(),_.position(_.quill.getBounds(_.linkRange));return}}else delete _.linkRange;_.hide()}})}},{key:"show",value:function(){o(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),L}(h.BaseTooltip);D.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),s.default=k},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(29),o=Y(a),c=i(36),l=i(38),u=i(64),d=i(65),f=Y(d),h=i(66),m=Y(h),A=i(67),g=Y(A),p=i(37),b=i(26),x=i(39),v=i(40),y=i(56),N=Y(y),P=i(68),M=Y(P),k=i(27),D=Y(k),O=i(69),L=Y(O),F=i(70),_=Y(F),E=i(71),T=Y(E),w=i(72),C=Y(w),j=i(73),S=Y(j),I=i(13),R=Y(I),U=i(74),z=Y(U),V=i(75),X=Y(V),$=i(57),W=Y($),H=i(41),Q=Y(H),G=i(28),J=Y(G),ee=i(59),K=Y(ee),ne=i(60),ue=Y(ne),se=i(61),ie=Y(se),q=i(108),Z=Y(q),te=i(62),re=Y(te);function Y(oe){return oe&&oe.__esModule?oe:{default:oe}}o.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":c.AlignClass,"attributors/class/background":p.BackgroundClass,"attributors/class/color":b.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":x.FontClass,"attributors/class/size":v.SizeClass,"attributors/style/align":c.AlignStyle,"attributors/style/background":p.BackgroundStyle,"attributors/style/color":b.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":x.FontStyle,"attributors/style/size":v.SizeStyle},!0),o.default.register({"formats/align":c.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":p.BackgroundStyle,"formats/color":b.ColorStyle,"formats/font":x.FontClass,"formats/size":v.SizeClass,"formats/blockquote":f.default,"formats/code-block":R.default,"formats/header":m.default,"formats/list":g.default,"formats/bold":N.default,"formats/code":I.Code,"formats/italic":M.default,"formats/link":D.default,"formats/script":L.default,"formats/strike":_.default,"formats/underline":T.default,"formats/image":C.default,"formats/video":S.default,"formats/list/item":A.ListItem,"modules/formula":z.default,"modules/syntax":X.default,"modules/toolbar":W.default,"themes/bubble":Z.default,"themes/snow":re.default,"ui/icons":Q.default,"ui/picker":J.default,"ui/icon-picker":ue.default,"ui/color-picker":K.default,"ui/tooltip":ie.default},!0),s.default=o.default},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.IndentClass=void 0;var a=function(){function g(p,b){for(var x=0;x<b.length;x++){var v=b[x];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,b,x){return b&&g(p.prototype,b),x&&g(p,x),p}}(),o=function g(p,b,x){p===null&&(p=Function.prototype);var v=Object.getOwnPropertyDescriptor(p,b);if(v===void 0){var y=Object.getPrototypeOf(p);return y===null?void 0:g(y,b,x)}else{if("value"in v)return v.value;var N=v.get;return N===void 0?void 0:N.call(x)}},c=i(0),l=u(c);function u(g){return g&&g.__esModule?g:{default:g}}function d(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function f(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function h(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var m=function(g){h(p,g);function p(){return d(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return a(p,[{key:"add",value:function(x,v){if(v==="+1"||v==="-1"){var y=this.value(x)||0;v=v==="+1"?y+1:y-1}return v===0?(this.remove(x),!0):o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"add",this).call(this,x,v)}},{key:"canAdd",value:function(x,v){return o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"canAdd",this).call(this,x,v)||o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"canAdd",this).call(this,x,parseInt(v))}},{key:"value",value:function(x){return parseInt(o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,x))||void 0}}]),p}(l.default.Attributor.Class),A=new m("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});s.IndentClass=A},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(4),o=c(a);function c(h){return h&&h.__esModule?h:{default:h}}function l(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function u(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function d(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var f=function(h){d(m,h);function m(){return l(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);f.blotName="blockquote",f.tagName="blockquote",s.default=f},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function m(A,g){for(var p=0;p<g.length;p++){var b=g[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(A,b.key,b)}}return function(A,g,p){return g&&m(A.prototype,g),p&&m(A,p),A}}(),o=i(4),c=l(o);function l(m){return m&&m.__esModule?m:{default:m}}function u(m,A){if(!(m instanceof A))throw new TypeError("Cannot call a class as a function")}function d(m,A){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:m}function f(m,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);m.prototype=Object.create(A&&A.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(m,A):m.__proto__=A)}var h=function(m){f(A,m);function A(){return u(this,A),d(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return a(A,null,[{key:"formats",value:function(p){return this.tagName.indexOf(p.tagName)+1}}]),A}(c.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],s.default=h},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.ListItem=void 0;var a=function(){function y(N,P){for(var M=0;M<P.length;M++){var k=P[M];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(N,k.key,k)}}return function(N,P,M){return P&&y(N.prototype,P),M&&y(N,M),N}}(),o=function y(N,P,M){N===null&&(N=Function.prototype);var k=Object.getOwnPropertyDescriptor(N,P);if(k===void 0){var D=Object.getPrototypeOf(N);return D===null?void 0:y(D,P,M)}else{if("value"in k)return k.value;var O=k.get;return O===void 0?void 0:O.call(M)}},c=i(0),l=m(c),u=i(4),d=m(u),f=i(25),h=m(f);function m(y){return y&&y.__esModule?y:{default:y}}function A(y,N,P){return N in y?Object.defineProperty(y,N,{value:P,enumerable:!0,configurable:!0,writable:!0}):y[N]=P,y}function g(y,N){if(!(y instanceof N))throw new TypeError("Cannot call a class as a function")}function p(y,N){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:y}function b(y,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);y.prototype=Object.create(N&&N.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(y,N):y.__proto__=N)}var x=function(y){b(N,y);function N(){return g(this,N),p(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return a(N,[{key:"format",value:function(M,k){M===v.blotName&&!k?this.replaceWith(l.default.create(this.statics.scope)):o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"format",this).call(this,M,k)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(M,k){return this.parent.isolate(this.offset(this.parent),this.length()),M===this.parent.statics.blotName?(this.parent.replaceWith(M,k),this):(this.parent.unwrap(),o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replaceWith",this).call(this,M,k))}}],[{key:"formats",value:function(M){return M.tagName===this.tagName?void 0:o(N.__proto__||Object.getPrototypeOf(N),"formats",this).call(this,M)}}]),N}(d.default);x.blotName="list-item",x.tagName="LI";var v=function(y){b(N,y),a(N,null,[{key:"create",value:function(M){var k=M==="ordered"?"OL":"UL",D=o(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,k);return(M==="checked"||M==="unchecked")&&D.setAttribute("data-checked",M==="checked"),D}},{key:"formats",value:function(M){if(M.tagName==="OL")return"ordered";if(M.tagName==="UL")return M.hasAttribute("data-checked")?M.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function N(P){g(this,N);var M=p(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,P)),k=function(O){if(O.target.parentNode===P){var L=M.statics.formats(P),F=l.default.find(O.target);L==="checked"?F.format("list","unchecked"):L==="unchecked"&&F.format("list","checked")}};return P.addEventListener("touchstart",k),P.addEventListener("mousedown",k),M}return a(N,[{key:"format",value:function(M,k){this.children.length>0&&this.children.tail.format(M,k)}},{key:"formats",value:function(){return A({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(M,k){if(M instanceof x)o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertBefore",this).call(this,M,k);else{var D=k==null?this.length():k.offset(this),O=this.split(D);O.parent.insertBefore(M,O)}}},{key:"optimize",value:function(M){o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,M);var k=this.next;k!=null&&k.prev===this&&k.statics.blotName===this.statics.blotName&&k.domNode.tagName===this.domNode.tagName&&k.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(k.moveChildren(this),k.remove())}},{key:"replace",value:function(M){if(M.statics.blotName!==this.statics.blotName){var k=l.default.create(this.statics.defaultChild);M.moveChildren(k),this.appendChild(k)}o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replace",this).call(this,M)}}]),N}(h.default);v.blotName="list",v.scope=l.default.Scope.BLOCK_BLOT,v.tagName=["OL","UL"],v.defaultChild="list-item",v.allowedChildren=[x],s.ListItem=x,s.default=v},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(56),o=c(a);function c(h){return h&&h.__esModule?h:{default:h}}function l(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function u(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function d(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var f=function(h){d(m,h);function m(){return l(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);f.blotName="italic",f.tagName=["EM","I"],s.default=f},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function A(g,p){for(var b=0;b<p.length;b++){var x=p[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,p,b){return p&&A(g.prototype,p),b&&A(g,b),g}}(),o=function A(g,p,b){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,p);if(x===void 0){var v=Object.getPrototypeOf(g);return v===null?void 0:A(v,p,b)}else{if("value"in x)return x.value;var y=x.get;return y===void 0?void 0:y.call(b)}},c=i(6),l=u(c);function u(A){return A&&A.__esModule?A:{default:A}}function d(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}function f(A,g){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:A}function h(A,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);A.prototype=Object.create(g&&g.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(A,g):A.__proto__=g)}var m=function(A){h(g,A);function g(){return d(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,null,[{key:"create",value:function(b){return b==="super"?document.createElement("sup"):b==="sub"?document.createElement("sub"):o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,b)}},{key:"formats",value:function(b){if(b.tagName==="SUB")return"sub";if(b.tagName==="SUP")return"super"}}]),g}(l.default);m.blotName="script",m.tagName=["SUB","SUP"],s.default=m},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(6),o=c(a);function c(h){return h&&h.__esModule?h:{default:h}}function l(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function u(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function d(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var f=function(h){d(m,h);function m(){return l(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);f.blotName="strike",f.tagName="S",s.default=f},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(6),o=c(a);function c(h){return h&&h.__esModule?h:{default:h}}function l(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function u(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function d(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var f=function(h){d(m,h);function m(){return l(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);f.blotName="underline",f.tagName="U",s.default=f},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function p(b,x){for(var v=0;v<x.length;v++){var y=x[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(b,y.key,y)}}return function(b,x,v){return x&&p(b.prototype,x),v&&p(b,v),b}}(),o=function p(b,x,v){b===null&&(b=Function.prototype);var y=Object.getOwnPropertyDescriptor(b,x);if(y===void 0){var N=Object.getPrototypeOf(b);return N===null?void 0:p(N,x,v)}else{if("value"in y)return y.value;var P=y.get;return P===void 0?void 0:P.call(v)}},c=i(0),l=d(c),u=i(27);function d(p){return p&&p.__esModule?p:{default:p}}function f(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function h(p,b){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:p}function m(p,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);p.prototype=Object.create(b&&b.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(p,b):p.__proto__=b)}var A=["alt","height","width"],g=function(p){m(b,p);function b(){return f(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"format",value:function(v,y){A.indexOf(v)>-1?y?this.domNode.setAttribute(v,y):this.domNode.removeAttribute(v):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,v,y)}}],[{key:"create",value:function(v){var y=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,v);return typeof v=="string"&&y.setAttribute("src",this.sanitize(v)),y}},{key:"formats",value:function(v){return A.reduce(function(y,N){return v.hasAttribute(N)&&(y[N]=v.getAttribute(N)),y},{})}},{key:"match",value:function(v){return/\.(jpe?g|gif|png)$/.test(v)||/^data:image\/.+;base64/.test(v)}},{key:"sanitize",value:function(v){return(0,u.sanitize)(v,["http","https","data"])?v:"//:0"}},{key:"value",value:function(v){return v.getAttribute("src")}}]),b}(l.default.Embed);g.blotName="image",g.tagName="IMG",s.default=g},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function p(b,x){for(var v=0;v<x.length;v++){var y=x[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(b,y.key,y)}}return function(b,x,v){return x&&p(b.prototype,x),v&&p(b,v),b}}(),o=function p(b,x,v){b===null&&(b=Function.prototype);var y=Object.getOwnPropertyDescriptor(b,x);if(y===void 0){var N=Object.getPrototypeOf(b);return N===null?void 0:p(N,x,v)}else{if("value"in y)return y.value;var P=y.get;return P===void 0?void 0:P.call(v)}},c=i(4),l=i(27),u=d(l);function d(p){return p&&p.__esModule?p:{default:p}}function f(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function h(p,b){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:p}function m(p,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);p.prototype=Object.create(b&&b.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(p,b):p.__proto__=b)}var A=["height","width"],g=function(p){m(b,p);function b(){return f(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"format",value:function(v,y){A.indexOf(v)>-1?y?this.domNode.setAttribute(v,y):this.domNode.removeAttribute(v):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,v,y)}}],[{key:"create",value:function(v){var y=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,v);return y.setAttribute("frameborder","0"),y.setAttribute("allowfullscreen",!0),y.setAttribute("src",this.sanitize(v)),y}},{key:"formats",value:function(v){return A.reduce(function(y,N){return v.hasAttribute(N)&&(y[N]=v.getAttribute(N)),y},{})}},{key:"sanitize",value:function(v){return u.default.sanitize(v)}},{key:"value",value:function(v){return v.getAttribute("src")}}]),b}(c.BlockEmbed);g.blotName="video",g.className="ql-video",g.tagName="IFRAME",s.default=g},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.FormulaBlot=void 0;var a=function(){function v(y,N){for(var P=0;P<N.length;P++){var M=N[P];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(y,M.key,M)}}return function(y,N,P){return N&&v(y.prototype,N),P&&v(y,P),y}}(),o=function v(y,N,P){y===null&&(y=Function.prototype);var M=Object.getOwnPropertyDescriptor(y,N);if(M===void 0){var k=Object.getPrototypeOf(y);return k===null?void 0:v(k,N,P)}else{if("value"in M)return M.value;var D=M.get;return D===void 0?void 0:D.call(P)}},c=i(35),l=m(c),u=i(5),d=m(u),f=i(9),h=m(f);function m(v){return v&&v.__esModule?v:{default:v}}function A(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function g(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function p(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var b=function(v){p(y,v);function y(){return A(this,y),g(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,null,[{key:"create",value:function(P){var M=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,P);return typeof P=="string"&&(window.katex.render(P,M,{throwOnError:!1,errorColor:"#f00"}),M.setAttribute("data-value",P)),M}},{key:"value",value:function(P){return P.getAttribute("data-value")}}]),y}(l.default);b.blotName="formula",b.className="ql-formula",b.tagName="SPAN";var x=function(v){p(y,v),a(y,null,[{key:"register",value:function(){d.default.register(b,!0)}}]);function y(){A(this,y);var N=g(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return N}return y}(h.default);s.FormulaBlot=b,s.default=x},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.CodeToken=s.CodeBlock=void 0;var a=function(){function P(M,k){for(var D=0;D<k.length;D++){var O=k[D];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(M,O.key,O)}}return function(M,k,D){return k&&P(M.prototype,k),D&&P(M,D),M}}(),o=function P(M,k,D){M===null&&(M=Function.prototype);var O=Object.getOwnPropertyDescriptor(M,k);if(O===void 0){var L=Object.getPrototypeOf(M);return L===null?void 0:P(L,k,D)}else{if("value"in O)return O.value;var F=O.get;return F===void 0?void 0:F.call(D)}},c=i(0),l=g(c),u=i(5),d=g(u),f=i(9),h=g(f),m=i(13),A=g(m);function g(P){return P&&P.__esModule?P:{default:P}}function p(P,M){if(!(P instanceof M))throw new TypeError("Cannot call a class as a function")}function b(P,M){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:P}function x(P,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);P.prototype=Object.create(M&&M.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(P,M):P.__proto__=M)}var v=function(P){x(M,P);function M(){return p(this,M),b(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return a(M,[{key:"replaceWith",value:function(D){this.domNode.textContent=this.domNode.textContent,this.attach(),o(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"replaceWith",this).call(this,D)}},{key:"highlight",value:function(D){var O=this.domNode.textContent;this.cachedText!==O&&((O.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=D(O),this.domNode.normalize(),this.attach()),this.cachedText=O)}}]),M}(A.default);v.className="ql-syntax";var y=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),N=function(P){x(M,P),a(M,null,[{key:"register",value:function(){d.default.register(y,!0),d.default.register(v,!0)}}]);function M(k,D){p(this,M);var O=b(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,k,D));if(typeof O.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var L=null;return O.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(L),L=setTimeout(function(){O.highlight(),L=null},O.options.interval)}),O.highlight(),O}return a(M,[{key:"highlight",value:function(){var D=this;if(!this.quill.selection.composing){this.quill.update(d.default.sources.USER);var O=this.quill.getSelection();this.quill.scroll.descendants(v).forEach(function(L){L.highlight(D.options.highlight)}),this.quill.update(d.default.sources.SILENT),O!=null&&this.quill.setSelection(O,d.default.sources.SILENT)}}}]),M}(h.default);N.DEFAULTS={highlight:function(){return window.hljs==null?null:function(P){var M=window.hljs.highlightAuto(P);return M.value}}(),interval:1e3},s.CodeBlock=v,s.CodeToken=y,s.default=N},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,s){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,s){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,s){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,s){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.BubbleTooltip=void 0;var a=function M(k,D,O){k===null&&(k=Function.prototype);var L=Object.getOwnPropertyDescriptor(k,D);if(L===void 0){var F=Object.getPrototypeOf(k);return F===null?void 0:M(F,D,O)}else{if("value"in L)return L.value;var _=L.get;return _===void 0?void 0:_.call(O)}},o=function(){function M(k,D){for(var O=0;O<D.length;O++){var L=D[O];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(k,L.key,L)}}return function(k,D,O){return D&&M(k.prototype,D),O&&M(k,O),k}}(),c=i(3),l=p(c),u=i(8),d=p(u),f=i(43),h=p(f),m=i(15),A=i(41),g=p(A);function p(M){return M&&M.__esModule?M:{default:M}}function b(M,k){if(!(M instanceof k))throw new TypeError("Cannot call a class as a function")}function x(M,k){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:M}function v(M,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);M.prototype=Object.create(k&&k.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(M,k):M.__proto__=k)}var y=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],N=function(M){v(k,M);function k(D,O){b(this,k),O.modules.toolbar!=null&&O.modules.toolbar.container==null&&(O.modules.toolbar.container=y);var L=x(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,D,O));return L.quill.container.classList.add("ql-bubble"),L}return o(k,[{key:"extendToolbar",value:function(O){this.tooltip=new P(this.quill,this.options.bounds),this.tooltip.root.appendChild(O.container),this.buildButtons([].slice.call(O.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(O.container.querySelectorAll("select")),g.default)}}]),k}(h.default);N.DEFAULTS=(0,l.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){k?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var P=function(M){v(k,M);function k(D,O){b(this,k);var L=x(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,D,O));return L.quill.on(d.default.events.EDITOR_CHANGE,function(F,_,E,T){if(F===d.default.events.SELECTION_CHANGE)if(_!=null&&_.length>0&&T===d.default.sources.USER){L.show(),L.root.style.left="0px",L.root.style.width="",L.root.style.width=L.root.offsetWidth+"px";var w=L.quill.getLines(_.index,_.length);if(w.length===1)L.position(L.quill.getBounds(_));else{var C=w[w.length-1],j=L.quill.getIndex(C),S=Math.min(C.length()-1,_.index+_.length-j),I=L.quill.getBounds(new m.Range(j,S));L.position(I)}}else document.activeElement!==L.textbox&&L.quill.hasFocus()&&L.hide()}),L}return o(k,[{key:"listen",value:function(){var O=this;a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){O.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!O.root.classList.contains("ql-hidden")){var L=O.quill.getSelection();L!=null&&O.position(O.quill.getBounds(L))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(O){var L=a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"position",this).call(this,O),F=this.root.querySelector(".ql-tooltip-arrow");if(F.style.marginLeft="",L===0)return L;F.style.marginLeft=-1*L-F.offsetWidth/2+"px"}}]),k}(f.BaseTooltip);P.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),s.BubbleTooltip=P,s.default=N},function(n,s,i){n.exports=i(63)}]).default})})(uK);var s6e=uK.exports,i6e=ln&&ln.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a])},e(t,n)};return function(t,n){e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),zy=ln&&ln.__assign||function(){return zy=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},zy.apply(this,arguments)},a6e=ln&&ln.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var s=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],o=0,c=a.length;o<c;o++,i++)s[i]=a[o];return s},J1=ln&&ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Mo=J1(B),o6e=J1(bo),Tp=J1(r6e),mP=J1(s6e),l6e=function(e){i6e(t,e);function t(n){var s=e.call(this,n)||this;s.dirtyProps=["modules","formats","bounds","theme","children"],s.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],s.state={generation:0},s.selection=null,s.onEditorChange=function(a,o,c,l){var u,d,f,h;a==="text-change"?(d=(u=s).onEditorChangeText)===null||d===void 0||d.call(u,s.editor.root.innerHTML,o,l,s.unprivilegedEditor):a==="selection-change"&&((h=(f=s).onEditorChangeSelection)===null||h===void 0||h.call(f,o,l,s.unprivilegedEditor))};var i=s.isControlled()?n.value:n.defaultValue;return s.value=i??"",s}return t.prototype.validateProps=function(n){var s;if(Mo.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Mo.default.Children.count(n.children)){var i=Mo.default.Children.only(n.children);if(((s=i)===null||s===void 0?void 0:s.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(n,s){var i=this,a;if(this.validateProps(n),!this.editor||this.state.generation!==s.generation)return!0;if("value"in n){var o=this.getEditorContents(),c=(a=n.value,a??"");this.isEqualValue(c,o)||this.setEditorContents(this.editor,c)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),a6e(this.cleanProps,this.dirtyProps).some(function(l){return!Tp.default(n[l],i.props[l])})},t.prototype.shouldComponentRegenerate=function(n){var s=this;return this.dirtyProps.some(function(i){return!Tp.default(n[i],s.props[i])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(n,s){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var a=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:a,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==s.generation){var c=this.regenerationSnapshot,a=c.delta,l=c.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(a),pP(function(){return i.setEditorSelection(u,l)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(n,s){var i=new mP.default(n,s);return s.tabIndex!=null&&this.setEditorTabIndex(i,s.tabIndex),this.hookEditor(i),i},t.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(n){return n&&n.ops},t.prototype.isEqualValue=function(n,s){return this.isDelta(n)&&this.isDelta(s)?Tp.default(n.ops,s.ops):Tp.default(n,s)},t.prototype.setEditorContents=function(n,s){var i=this;this.value=s;var a=this.getEditorSelection();typeof s=="string"?n.setContents(n.clipboard.convert(s)):n.setContents(s),pP(function(){return i.setEditorSelection(n,a)})},t.prototype.setEditorSelection=function(n,s){if(this.selection=s,s){var i=n.getLength();s.index=Math.max(0,Math.min(s.index,i-1)),s.length=Math.max(0,Math.min(s.length,i-1-s.index)),n.setSelection(s)}},t.prototype.setEditorTabIndex=function(n,s){var i,a;!((a=(i=n)===null||i===void 0?void 0:i.scroll)===null||a===void 0)&&a.domNode&&(n.scroll.domNode.tabIndex=s)},t.prototype.setEditorReadOnly=function(n,s){s?n.disable():n.enable()},t.prototype.makeUnprivilegedEditor=function(n){var s=n;return{getHTML:function(){return s.root.innerHTML},getLength:s.getLength.bind(s),getText:s.getText.bind(s),getContents:s.getContents.bind(s),getSelection:s.getSelection.bind(s),getBounds:s.getBounds.bind(s)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=o6e.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},t.prototype.renderEditingArea=function(){var n=this,s=this.props,i=s.children,a=s.preserveWhitespace,o=this.state.generation,c={key:o,ref:function(l){n.editingArea=l}};return Mo.default.Children.count(i)?Mo.default.cloneElement(Mo.default.Children.only(i),c):a?Mo.default.createElement("pre",zy({},c)):Mo.default.createElement("div",zy({},c))},t.prototype.render=function(){var n;return Mo.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(n,s,i,a){var o,c;if(this.editor){var l=this.isDelta(this.value)?a.getContents():a.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=s,this.value=l,(c=(o=this.props).onChange)===null||c===void 0||c.call(o,n,s,i,a))}},t.prototype.onEditorChangeSelection=function(n,s,i){var a,o,c,l,u,d;if(this.editor){var f=this.getEditorSelection(),h=!f&&n,m=f&&!n;Tp.default(n,f)||(this.selection=n,(o=(a=this.props).onChangeSelection)===null||o===void 0||o.call(a,n,s,i),h?(l=(c=this.props).onFocus)===null||l===void 0||l.call(c,n,s,i):m&&((d=(u=this.props).onBlur)===null||d===void 0||d.call(u,f,s,i)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=mP.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(Mo.default.Component);function pP(e){Promise.resolve().then(e)}var c6e=l6e;const _g=mc(c6e),u6e=({productId:e,orderId:t,onAddComment:n})=>{const[s,i]=B.useState({noiDungBinhLuan:"",danhGia:0,hinhAnh:"",moTaHinhAnh:""}),[a,o]=B.useState(!1),[c,l]=B.useState(!1),u={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{align:[]}],["link","image"],["clean"]]},d=b=>`Hình ảnh cho đánh giá: ${b.replace(/<[^>]+>/g,"").slice(0,50)}...`,f=b=>{if(!b.type.startsWith("image/")){we.fire({icon:"error",title:"Lỗi",text:"Vui lòng chọn một tệp hình ảnh!"});return}const x=new FileReader;x.onloadend=()=>{if(typeof x.result=="string"){const v=x.result.split(",")[1];i({...s,hinhAnh:v,moTaHinhAnh:d(s.noiDungBinhLuan)})}},x.readAsDataURL(b)},h=b=>{b.preventDefault(),o(!0)},m=b=>{b.preventDefault(),o(!1)},A=b=>{b.preventDefault(),o(!1);const x=b.dataTransfer.files[0];x&&f(x)},g=b=>{var v;const x=(v=b.target.files)==null?void 0:v[0];x&&f(x)},p=async b=>{if(b.preventDefault(),!s.noiDungBinhLuan||s.danhGia<1||s.danhGia>5){we.fire({icon:"error",title:"Lỗi",text:"Vui lòng nhập nội dung bình luận và chọn đánh giá từ 1 đến 5 sao!"});return}l(!0);try{await n(t,e,s.noiDungBinhLuan,s.danhGia,s.hinhAnh||void 0,s.hinhAnh?s.moTaHinhAnh:void 0)&&(i({noiDungBinhLuan:"",danhGia:0,hinhAnh:"",moTaHinhAnh:""}),we.fire({icon:"success",title:"Thành công",text:"Bình luận của bạn đã được ghi lại và đang chờ duyệt!",timer:3e3,showConfirmButton:!1}))}catch(x){console.error("Error submitting comment:",x),we.fire({icon:"error",title:"Lỗi",text:x.message||"Có lỗi xảy ra khi gửi bình luận!"})}finally{l(!1)}};return r.jsxs(it,{className:"mb-6 shadow-lg rounded-xl bg-white",children:[r.jsx(yt,{children:r.jsx(jt,{className:"text-lg font-semibold",children:"Viết bình luận"})}),r.jsx(dt,{children:r.jsxs("form",{onSubmit:p,className:"space-y-4 font-roboto",children:[r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Đánh giá"}),r.jsx("div",{className:"flex items-center mt-1",children:Array.from({length:5}).map((b,x)=>r.jsx(Lr,{className:Fe("w-6 h-6 cursor-pointer transition-colors",x<s.danhGia?"fill-yellow-400 text-yellow-400":"text-gray-300 hover:text-yellow-200"),onClick:()=>i({...s,danhGia:x+1})},x))})]}),r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Nội dung bình luận"}),r.jsx(_g,{value:s.noiDungBinhLuan,onChange:b=>i({...s,noiDungBinhLuan:b}),modules:u,className:"h-72 rounded-lg mb-10"})]}),r.jsxs("div",{className:Fe("border-2 border-dashed rounded-lg p-4 text-center cursor-pointer transition-colors",a?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-blue-300"),onDragOver:h,onDragLeave:m,onDrop:A,children:[r.jsx(De,{htmlFor:"file-upload",className:"cursor-pointer",children:s.hinhAnh?r.jsxs("div",{className:"relative w-32 h-32 mx-auto",children:[r.jsx("img",{src:`data:image/jpeg;base64,${s.hinhAnh}`,alt:"Uploaded",className:"w-full h-full object-cover rounded"}),r.jsx("button",{type:"button",className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1",onClick:()=>i({...s,hinhAnh:"",moTaHinhAnh:""}),children:r.jsx(Ad,{className:"h-4 w-4"})})]}):r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Kéo và thả hình ảnh vào đây hoặc nhấp để chọn"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Hỗ trợ: JPG, PNG"})]})}),r.jsx("input",{id:"file-upload",type:"file",accept:"image/*",className:"hidden",onChange:g})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(fe,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white",disabled:c,children:[r.jsx(_S,{className:"h-4 w-4 mr-2"}),c?"Đang gửi...":"Gửi bình luận"]})})]})})]})},AP={pending:{color:"bg-gray-500",icon:Fb,label:"Chờ xác nhận"},processing:{color:"bg-yellow-500",icon:hr,label:"Đang xử lý"},shipping:{color:"bg-blue-500",icon:BT,label:"Đang giao hàng"},completed:{color:"bg-green-500",icon:ra,label:"Đã hoàn thành"},paid:{color:"bg-green-500",icon:Yd,label:"Đã thanh toán"},canceled:{color:"bg-red-500",icon:ra,label:"Đã hủy"}},d6e=["Đổi ý không muốn mua nữa","Tìm được giá rẻ hơn ở nơi khác","Đặt nhầm sản phẩm","Thay đổi địa chỉ giao hàng","Cần gấp nhưng giao hàng chậm","Lý do khác"],Ko=e=>({0:"pending",1:"processing",2:"shipping",3:"completed",4:"paid",5:"canceled"})[e]||"pending",Dl=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e||0),dK=e=>e?new Date(e).toLocaleDateString("vi-VN"):"N/A",h6e=({notification:e,onClose:t})=>(B.useEffect(()=>{if(e){const n=e.duration||(e.type==="success"?5e3:8e3),s=setTimeout(t,n);return()=>clearTimeout(s)}},[e,t]),e?r.jsx("div",{className:`fixed top-4 right-4 p-4 rounded-lg shadow-lg z-50 max-w-md transition-all duration-300 ${e.type==="success"?"bg-green-100 border border-green-400 text-green-700":"bg-red-100 border border-red-400 text-red-700"}`,children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start",children:[e.type==="success"?r.jsx(ra,{className:"h-5 w-5 mr-2 mt-0.5 flex-shrink-0"}):r.jsx("div",{className:"h-5 w-5 mr-2 mt-0.5 rounded-full bg-red-500 flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white text-xs font-bold",children:"!"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-sm leading-relaxed",children:e.message}),e.type==="error"&&e.message.includes("khóa")&&r.jsxs("div",{className:"mt-2 text-xs text-red-600 bg-red-50 p-2 rounded border-l-4 border-red-400",children:["💡 ",r.jsx("strong",{children:"Lưu ý:"})," Tài khoản sẽ được tự động mở khóa sau 3 ngày kể từ thời điểm bị khóa."]})]})]}),r.jsx("button",{onClick:t,className:"ml-3 text-gray-400 hover:text-gray-600 text-lg font-bold leading-none",children:"×"})]})}):null),f6e=({order:e,onCancel:t,onAddComment:n,commentedProducts:s})=>{var d,f,h,m,A,g;const[i,a]=B.useState(!1),o=AP[Ko(e.trangThaiDonHang)]||AP.pending,c=o.icon,l=()=>e.paymentStatusText?e.paymentStatusText:e.hinhThucThanhToan==="VNPay"||e.hinhThucThanhToan==="COD"&&e.trangThaiDonHang===3?"Đã thanh toán":"Chưa thanh toán",u=p=>{var y,N,P,M,k;const b=p.laCombo?((y=p.maCombo)==null?void 0:y.toString())??"0":p.maSanPham??"0",x=`${e.maDonHang}-${b}`,v=s.has(x);return r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("a",{href:`http://localhost:8080/${p.laCombo?"combos":"products"}/${p.laCombo?p.maCombo:(N=p.maSanPham)==null?void 0:N.substring(0,6)}`,className:"grid grid-cols-12 gap-4 items-start hover:bg-gray-50 p-3 rounded-lg transition-colors",children:[r.jsx("div",{className:"col-span-12 sm:col-span-2",children:r.jsx("div",{className:"h-20 w-20 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden",children:r.jsx("img",{src:p.hinhAnh||"https://via.placeholder.com/150",alt:p.laCombo?"Combo Preview":"Product Preview",className:"w-full h-full object-cover"})})}),r.jsxs("div",{className:"col-span-12 sm:col-span-7",children:[r.jsx("div",{className:"font-medium text-gray-800 mb-2",children:p.laCombo?(P=p.combo)==null?void 0:P.tenCombo:p.tenSanPham||"N/A"}),r.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"font-medium",children:"Số lượng:"}),r.jsxs("span",{className:"ml-2",children:[p.soLuong||0," x ",Dl(p.gia||0)]})]}),!p.laCombo&&(p.mauSac||p.kichThuoc)&&r.jsxs("div",{className:"flex items-center space-x-4",children:[p.mauSac&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Màu:"}),r.jsxs("div",{className:"flex items-center space-x-1",children:[p.mauSacHex&&r.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:p.mauSacHex},title:p.mauSac}),r.jsx("span",{className:"text-xs font-medium bg-gray-100 px-2 py-1 rounded",children:p.mauSac})]})]}),p.kichThuoc&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Size:"}),r.jsx("span",{className:"text-xs font-medium bg-blue-100 text-blue-800 px-2 py-1 rounded",children:p.kichThuoc})]})]}),p.laCombo&&((M=p.combo)==null?void 0:M.sanPhamsTrongCombo)&&r.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2",children:"Sản phẩm trong combo:"}),r.jsx("div",{className:"space-y-2",children:p.combo.sanPhamsTrongCombo.map((D,O)=>r.jsxs("div",{className:"flex items-start justify-between text-xs text-gray-600 bg-white p-3 rounded border",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[D.hinhAnh&&r.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded overflow-hidden flex-shrink-0",children:r.jsx("img",{src:D.hinhAnh,alt:D.tenSanPham,className:"w-full h-full object-cover",onError:L=>{L.currentTarget.src="/placeholder.svg"}})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsx("span",{className:"font-medium text-gray-800",children:D.tenSanPham||"Sản phẩm không có tên"})]}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[D.mauSac&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("span",{className:"text-gray-500",children:"Màu:"}),D.mauSacHex&&r.jsx("div",{className:"w-3 h-3 rounded-full border border-gray-300",style:{backgroundColor:D.mauSacHex},title:D.mauSac}),r.jsx("span",{className:"bg-gray-100 px-1.5 py-0.5 rounded text-xs",children:D.mauSac})]}),D.kichThuoc&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("span",{className:"text-gray-500",children:"Size:"}),r.jsx("span",{className:"bg-blue-100 text-blue-800 px-1.5 py-0.5 rounded text-xs",children:D.kichThuoc})]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[r.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs font-medium",children:["x",D.soLuong||0]}),r.jsx("span",{className:"text-gray-600 font-medium",children:Dl(D.gia||0)})]})]},O))})]})]})]}),r.jsx("div",{className:"col-span-12 sm:col-span-3 text-right",children:r.jsx("div",{className:"font-medium text-lg text-gray-800",children:Dl(p.thanhTien||0)})})]}),Ko(e.trangThaiDonHang)==="completed"&&!v&&r.jsxs("div",{className:"ml-4",children:[r.jsxs("h3",{className:"text-lg font-medium mb-4 text-blue-800",children:["Viết bình luận cho ",p.laCombo?(k=p.combo)==null?void 0:k.tenCombo:p.tenSanPham]}),r.jsx(u6e,{productId:b,orderId:e.maDonHang.toString(),onAddComment:(D,O,L,F,_,E)=>n(D,O,L,F,_,E,p.laCombo)})]}),Ko(e.trangThaiDonHang)==="completed"&&v&&r.jsx("div",{className:"bg-green-50 border border-green-200 p-3 rounded-lg ml-4",children:r.jsx("p",{className:"text-green-700 text-sm font-medium",children:"✓ Bạn đã bình luận cho sản phẩm này trong đơn hàng này."})})]},p.maChiTietDh)};return r.jsxs("div",{className:"border rounded-lg overflow-hidden mb-4 transition-all duration-200 hover:shadow-md",children:[r.jsx("div",{className:"p-4 bg-gray-50 overflow-x-auto",children:r.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center min-w-[700px]",children:[r.jsxs("div",{className:"col-span-12 sm:col-span-5 flex flex-col gap-1",children:[r.jsxs("span",{className:"font-medium text-gray-800",children:["Mã đơn hàng: ",e.maDonHang||"N/A"]}),r.jsxs("span",{className:"text-sm text-gray-500",children:["Người nhận: ",e.tenNguoiNhan||"N/A"]}),r.jsxs("span",{className:"text-sm text-gray-500",children:["Ngày đặt: ",dK(e.ngayDat)]}),r.jsxs("span",{className:"text-sm text-gray-500",children:["SĐT: ",((d=e.thongTinNguoiDung)==null?void 0:d.sdt)||"N/A"]}),r.jsxs("span",{className:"text-sm text-gray-500",children:["Phương thức thanh toán: ",e.hinhThucThanhToan||"N/A"]}),r.jsxs("span",{className:`text-sm font-medium ${l()==="Đã thanh toán"?"text-green-600":"text-orange-600"}`,children:["Trạng thái thanh toán: ",l()]})]}),r.jsxs("div",{className:"col-span-6 sm:col-span-3 flex items-center gap-2",children:[r.jsx("span",{className:Fe("w-3 h-3 rounded-full",o.color)}),r.jsxs("span",{className:"text-sm font-medium flex items-center gap-1",children:[r.jsx(c,{className:"h-4 w-4"}),o.label]})]}),r.jsxs("div",{className:"col-span-6 sm:col-span-2 text-right",children:[r.jsx("div",{className:"font-semibold text-lg text-gray-800",children:Dl(e.finalAmount||0)}),r.jsxs("span",{className:"text-sm text-gray-500",children:[((f=e.sanPhams)==null?void 0:f.length)||0," sản phẩm"]})]}),r.jsx("div",{className:"col-span-12 sm:col-span-2 flex justify-end gap-2",children:r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>a(!i),className:"flex items-center rounded-full",children:i?r.jsxs(r.Fragment,{children:[r.jsx(Tm,{className:"h-4 w-4 mr-1"})," Thu gọn"]}):r.jsxs(r.Fragment,{children:[r.jsx(ml,{className:"h-4 w-4 mr-1"})," Chi tiết"]})})})]})}),i&&r.jsxs("div",{className:"p-4 border-t",children:[r.jsx("div",{className:"space-y-4 mb-6",children:(e.sanPhams||[]).map(u)}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Tổng tiền hàng:"}),r.jsx("span",{className:"font-medium",children:Dl(((h=e.thongTinDonHang)==null?void 0:h.tongTien)||0)})]}),((m=e.thongTinDonHang)==null?void 0:m.soTienGiam)>0&&r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Giảm giá:"}),r.jsxs("span",{className:"font-medium text-red-600",children:["-",Dl(e.thongTinDonHang.soTienGiam)]})]}),((A=e.thongTinDonHang)==null?void 0:A.phiGiaoHang)>0&&r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Phí giao hàng:"}),r.jsxs("span",{className:"font-medium text-green-600",children:["+",Dl(e.thongTinDonHang.phiGiaoHang)]})]}),r.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-gray-200",children:[r.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Tổng thanh toán:"}),r.jsx("span",{className:"text-lg font-bold text-blue-600",children:Dl(((g=e.thongTinDonHang)==null?void 0:g.thanhTienCuoiCung)||0)})]})]})}),(Ko(e.trangThaiDonHang)==="pending"||Ko(e.trangThaiDonHang)==="processing")&&r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsx(fe,{variant:"destructive",size:"sm",onClick:()=>t(e.maDonHang.toString()),className:"rounded-full",children:"Hủy đơn hàng"})})]})]})]})},m6e=({order:e})=>{var h;const[t,n]=B.useState(!1),s=Ko(e.trangThaiDonHang),i=()=>e.paymentStatusText?e.paymentStatusText:e.hinhThucThanhToan==="VNPay"||e.hinhThucThanhToan==="COD"&&e.trangThaiDonHang===3?"Đã thanh toán":"Chưa thanh toán",a=()=>i()==="Đã thanh toán"?"bg-green-500":"bg-orange-500",o=()=>i()==="Đã thanh toán"?"text-green-600":"text-orange-600",c=[{status:"pending",label:"Chưa xác nhận",bgColor:"bg-gray-200",textColor:"text-gray-800",dotColor:"bg-gray-500",borderColor:"border-gray-300",description:"Đơn hàng đã được tạo và đang chờ xác nhận"},{status:"processing",label:"Đang chuẩn bị hàng",bgColor:"bg-yellow-100",textColor:"text-yellow-800",dotColor:"bg-yellow-500",borderColor:"border-yellow-300",description:"Đơn hàng đã được xác nhận và đang chuẩn bị"},{status:"shipping",label:"Đang giao hàng",bgColor:"bg-blue-100",textColor:"text-blue-800",dotColor:"bg-blue-500",borderColor:"border-blue-300",description:"Đơn hàng đang được vận chuyển đến bạn"},{status:"completed",label:"Đã giao hàng",bgColor:"bg-green-100",textColor:"text-green-800",dotColor:"bg-green-500",borderColor:"border-green-300",description:"Đơn hàng đã được giao thành công"},{status:"canceled",label:"Đã hủy",bgColor:"bg-red-100",textColor:"text-red-800",dotColor:"bg-red-500",borderColor:"border-red-300",description:"Đơn hàng đã bị hủy"}],l=(m,A)=>{if(s==="canceled")return m==="canceled"?"active":"inactive";const g=c.findIndex(p=>p.status===s);return A<=g?m===s?"active":"completed":"inactive"},u=s==="canceled"?[c[4]]:c.slice(0,4),f=c.find(m=>m.status===s)||c[0];return r.jsxs("div",{className:"bg-white rounded-lg border shadow-md hover:shadow-lg transition-shadow duration-200 overflow-hidden",children:[r.jsx("div",{className:"p-6 cursor-pointer hover:bg-gray-50 transition-colors duration-200",onClick:()=>n(!t),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:`flex items-center space-x-2 px-3 py-2 rounded-full ${f.bgColor} ${f.borderColor} border`,children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${f.dotColor} ${s===f.status?"animate-pulse":""}`}),r.jsx("span",{className:`text-sm font-medium ${f.textColor}`,children:f.label})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Đơn hàng #",e.maDonHang]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[dK(e.ngayDat)," • ",e.tenNguoiNhan||"N/A"]})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Tổng tiền"}),r.jsx("div",{className:"text-lg font-bold text-blue-600",children:Dl(((h=e.thongTinDonHang)==null?void 0:h.thanhTienCuoiCung)||0)})]}),r.jsx(fe,{variant:"ghost",size:"sm",className:"p-2",children:t?r.jsx(Tm,{className:"h-5 w-5 text-gray-400"}):r.jsx(ml,{className:"h-5 w-5 text-gray-400"})})]})]})}),t&&r.jsxs("div",{className:"px-6 pb-6 bg-gray-50 border-t",children:[r.jsxs("div",{className:"relative py-6",children:[r.jsxs("h4",{className:"text-md font-semibold text-gray-900 mb-6 flex items-center",children:[r.jsx(hr,{className:"mr-2 h-5 w-5 text-blue-500"}),"Trạng thái vận chuyển"]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute top-6 left-12 right-12 h-1 bg-gray-200 rounded-full"}),r.jsx("div",{className:"absolute top-6 left-12 h-1 bg-blue-500 rounded-full transition-all duration-500 ease-in-out",style:{width:`${Math.max(0,Math.min(100,(c.findIndex(m=>m.status===s)+1)/u.length*100))}%`,right:`${100-Math.max(0,Math.min(100,(c.findIndex(m=>m.status===s)+1)/u.length*100))}%`}}),r.jsx("div",{className:"flex items-start justify-between relative",children:u.map((m,A)=>{const g=l(m.status,A),p=g==="active",b=g==="completed",x=g==="inactive";return r.jsxs("div",{className:"flex flex-col items-center relative",style:{flex:1},children:[r.jsxs("div",{className:`relative z-10 w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 border-2 ${p?`${m.bgColor} ${m.borderColor} shadow-lg`:b?"bg-blue-500 border-blue-500 shadow-md":"bg-white border-gray-300 shadow-sm"}`,children:[p&&r.jsx("div",{className:`w-4 h-4 rounded-full ${m.dotColor} animate-pulse`}),b&&r.jsx(ra,{className:"w-6 h-6 text-white"}),x&&r.jsx("div",{className:"w-4 h-4 rounded-full bg-gray-400"})]}),r.jsxs("div",{className:"mt-3 text-center max-w-20",children:[r.jsx("div",{className:`text-xs font-medium ${p?m.textColor:b?"text-blue-600":"text-gray-500"}`,children:m.label}),p&&r.jsx("div",{className:"mt-2 text-xs text-gray-600 leading-tight",children:m.description})]})]},m.status)})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Thông tin đơn hàng"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Người nhận:"}),r.jsx("div",{className:"font-medium",children:e.tenNguoiNhan||"N/A"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Thanh toán:"}),r.jsx("div",{className:"font-medium",children:e.hinhThucThanhToan||"COD"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${a()}`}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Trạng thái:"}),r.jsx("div",{className:`font-medium ${o()}`,children:i()})]})]})]})]})]})]})},p6e=()=>{const e=gr(),[t,n]=B.useState("all"),[s,i]=B.useState([]),[a,o]=B.useState(!1),[c,l]=B.useState(null),[u,d]=B.useState(""),[f,h]=B.useState(""),[m,A]=B.useState(""),[g,p]=B.useState(""),[b,x]=B.useState(!1),[v,y]=B.useState(null),[N,P]=B.useState(new Set),[M,k]=B.useState({currentPage:1,pageSize:10,totalRecords:0,totalPages:0,hasNextPage:!1,hasPreviousPage:!1}),[D,O]=B.useState({currentPage:1,pageSize:10,totalRecords:0,totalPages:0,hasNextPage:!1,hasPreviousPage:!1}),[L,F]=B.useState({currentPage:1,pageSize:10,totalRecords:0,totalPages:0,hasNextPage:!1,hasPreviousPage:!1}),[_,E]=B.useState({currentPage:1,pageSize:10,totalRecords:0,totalPages:0,hasNextPage:!1,hasPreviousPage:!1}),[T,w]=B.useState({currentPage:1,pageSize:10,totalRecords:0,totalPages:0,hasNextPage:!1,hasPreviousPage:!1}),[C,j]=B.useState({currentPage:1,pageSize:10,totalRecords:0,totalPages:0,hasNextPage:!1,hasPreviousPage:!1}),[S,I]=B.useState([]),[R,U]=B.useState([]),[z,V]=B.useState([]),[X,$]=B.useState([]),[W,H]=B.useState([]),[Q,G]=B.useState([]),[J,ee]=B.useState([]),K=async le=>{var he,me,ve;try{const _e=localStorage.getItem("token");if(!_e){we.fire({icon:"error",title:"Lỗi",text:"Vui lòng đăng nhập để tra cứu đơn hàng!",confirmButtonText:"Đăng nhập"}).then(()=>e("/login"));return}if(!le.trim()){ee(S);return}const Ue=(await Nt.get("https://bicacuatho.azurewebsites.net/api/user/orders/search",{headers:{Authorization:`Bearer ${_e}`},params:{query:le}})).data;if(!Array.isArray(Ue)){ee([]);return}ee(Ue)}catch(_e){console.error("Error searching tracking orders:",_e),((he=_e.response)==null?void 0:he.status)===401?we.fire({icon:"error",title:"Lỗi",text:"Phiên đăng nhập đã hết hạn. Vui lòng đăng nhập lại!"}).then(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),e("/login")}):(we.fire({icon:"error",title:"Lỗi",text:((ve=(me=_e.response)==null?void 0:me.data)==null?void 0:ve.message)||"Đã xảy ra lỗi khi tra cứu đơn hàng!"}),ee([]))}},ne=(le,he,me)=>{const ve={all:[I,k],pending:[U,O],processing:[V,F],shipping:[$,E],completed:[H,w],canceled:[G,j]},[_e,Te]=ve[le]||[];_e&&Te&&(_e(he),Te(me))},ue=le=>({all:M,pending:D,processing:L,shipping:_,completed:T,canceled:C})[le]||M,se=le=>le==="all"?s.length:s.filter(he=>Ko(he.trangThaiDonHang)===le).length,ie=async(le,he=1)=>{var me,ve;try{x(!0);const _e=JSON.parse(localStorage.getItem("user")||"{}"),Te=_e==null?void 0:_e.maNguoiDung;if(!Te){we.fire({icon:"error",title:"Lỗi",text:"Vui lòng đăng nhập để xem lịch sử đơn hàng!",confirmButtonText:"Đăng nhập"}).then(()=>e("/login"));return}const Ee=(await Nt.get(`https://bicacuatho.azurewebsites.net/api/user/orders/${Te}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;if(!Array.isArray(Ee)){we.fire({icon:"error",title:"Lỗi",text:"Dữ liệu đơn hàng không hợp lệ!"});return}let Me=Ee;le!=="all"&&(Me=Ee.filter(Re=>Ko(Re.trangThaiDonHang)===le));const Ie=10,Ce=Me.length,Pe=Math.ceil(Ce/Ie),ge=(he-1)*Ie,Ne=ge+Ie,ke=Me.slice(ge,Ne),ze={currentPage:he,pageSize:Ie,totalRecords:Ce,totalPages:Pe,hasNextPage:he<Pe,hasPreviousPage:he>1};ne(le,ke,ze)}catch(_e){console.error("Error fetching orders by status:",_e),we.fire({icon:"error",title:"Lỗi",text:((ve=(me=_e.response)==null?void 0:me.data)==null?void 0:ve.message)||"Đã xảy ra lỗi khi tải đơn hàng!"})}finally{x(!1)}},q=async le=>{var he,me;if(n(le),le==="all")await ie("all",1);else{const ve=JSON.parse(localStorage.getItem("user")||"{}"),_e=ve==null?void 0:ve.maNguoiDung;if(!_e){we.fire({icon:"error",title:"Lỗi",text:"Vui lòng đăng nhập để xem lịch sử đơn hàng!",confirmButtonText:"Đăng nhập"}).then(()=>e("/login"));return}try{x(!0);const Ue=(await Nt.get(`https://bicacuatho.azurewebsites.net/api/user/orders/${_e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;if(!Array.isArray(Ue)){we.fire({icon:"error",title:"Lỗi",text:"Dữ liệu đơn hàng không hợp lệ!"});return}const Ee=Ue.filter(Ne=>Ko(Ne.trangThaiDonHang)===le),Me=10,Ie=Ee.length,Ce=Math.ceil(Ie/Me),Pe=Ee.slice(0,Me),ge={currentPage:1,pageSize:Me,totalRecords:Ie,totalPages:Ce,hasNextPage:Ce>1,hasPreviousPage:!1};ne("all",Pe,ge),i(Ue)}catch(Te){console.error("Error filtering orders:",Te),we.fire({icon:"error",title:"Lỗi",text:((me=(he=Te.response)==null?void 0:he.data)==null?void 0:me.message)||"Đã xảy ra lỗi khi lọc đơn hàng!"})}finally{x(!1)}}},Z=async()=>{var le,he;try{const me=JSON.parse(localStorage.getItem("user")||"{}"),ve=me==null?void 0:me.maNguoiDung;if(!ve){we.fire({icon:"error",title:"Lỗi",text:"Vui lòng đăng nhập để xem lịch sử đơn hàng!",confirmButtonText:"Đăng nhập"}).then(()=>e("/login"));return}const Te=(await Nt.get(`https://bicacuatho.azurewebsites.net/api/user/orders/${ve}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;if(!Array.isArray(Te)){we.fire({icon:"error",title:"Lỗi",text:"Dữ liệu đơn hàng không hợp lệ!"}),i([]);return}i(Te)}catch(me){console.error("Error fetching orders:",me),we.fire({icon:"error",title:"Lỗi",text:((he=(le=me.response)==null?void 0:le.data)==null?void 0:he.message)||"Đã xảy ra lỗi khi tải lịch sử đơn hàng!"}),i([])}},te=async()=>{try{const le=JSON.parse(localStorage.getItem("user")||"{}"),he=le==null?void 0:le.maNguoiDung;if(!he){we.fire({icon:"error",title:"Lỗi",text:"Vui lòng đăng nhập để kiểm tra bình luận!",confirmButtonText:"Đăng nhập"}).then(()=>e("/login"));return}const me=`likedComments_${he}`,ve=JSON.parse(localStorage.getItem(me)||"[]");P(new Set(ve));const Te=(await Nt.get("https://bicacuatho.azurewebsites.net/api/Comment/list",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data||[],Ue=Array.isArray(Te)?Te.filter(Ie=>Ie.maNguoiDung===parseInt(he)):[],Ee=new Set(Ue.map(Ie=>`${Ie.maDonHang}-${Ie.maSanPham||Ie.maCombo}`)),Me=new Set([...Ee,...ve]);P(Me),localStorage.setItem(me,JSON.stringify([...Me]))}catch(le){console.error("Error fetching commented products:",le),we.fire({icon:"error",title:"Lỗi",text:"Đã xảy ra lỗi khi kiểm tra bình luận!"})}},re=async le=>{var he,me,ve;try{const _e=localStorage.getItem("token");if(!_e){we.fire({icon:"error",title:"Lỗi",text:"Vui lòng đăng nhập để tra cứu đơn hàng!",confirmButtonText:"Đăng nhập"}).then(()=>e("/login"));return}if(!le.trim()){await Z(),await ie("all",1);return}const Ue=(await Nt.get("https://bicacuatho.azurewebsites.net/api/user/orders/search",{headers:{Authorization:`Bearer ${_e}`},params:{query:le}})).data;if(!Array.isArray(Ue)){i([]),ne("all",[],{currentPage:1,pageSize:10,totalRecords:0,totalPages:0,hasNextPage:!1,hasPreviousPage:!1});return}i(Ue);const Ee=10,Me=Ue.length,Ie=Math.ceil(Me/Ee),Ce=Ue.slice(0,Ee),Pe={currentPage:1,pageSize:Ee,totalRecords:Me,totalPages:Ie,hasNextPage:Ie>1,hasPreviousPage:!1};ne("all",Ce,Pe)}catch(_e){console.error("Error searching orders:",_e),((he=_e.response)==null?void 0:he.status)===401?we.fire({icon:"error",title:"Lỗi",text:"Phiên đăng nhập đã hết hạn. Vui lòng đăng nhập lại!"}).then(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),e("/login")}):(we.fire({icon:"error",title:"Lỗi",text:((ve=(me=_e.response)==null?void 0:me.data)==null?void 0:ve.message)||"Đã xảy ra lỗi khi tra cứu đơn hàng!"}),i([]),ne("all",[],{currentPage:1,pageSize:10,totalRecords:0,totalPages:0,hasNextPage:!1,hasPreviousPage:!1}))}},Y=async(le,he,me,ve,_e,Te,Ue=!1)=>{var Ee,Me,Ie;try{const Ce=JSON.parse(localStorage.getItem("user")||"{}"),Pe=Ce==null?void 0:Ce.maNguoiDung,ge=localStorage.getItem("token");if(!Pe||!ge)return we.fire({icon:"error",title:"Lỗi",text:"Vui lòng đăng nhập để thêm bình luận!",confirmButtonText:"Đăng nhập"}).then(()=>e("/login")),!1;if(!me.trim()||ve<1||ve>5)return we.fire({icon:"error",title:"Lỗi",text:"Vui lòng nhập nội dung bình luận và chọn đánh giá từ 1 đến 5 sao!"}),!1;const Ne={maSanPham:Ue?null:he,maCombo:Ue?parseInt(he):0,maNguoiDung:Pe,noiDungBinhLuan:me,danhGia:ve,ngayBinhLuan:new Date().toISOString(),trangThai:0,soTimBinhLuan:0,maDonHang:le,hinhAnh:_e||null,moTaHinhAnh:Te||null};return(await Nt.post("https://bicacuatho.azurewebsites.net/api/Comment/add",Ne,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${ge}`}})).status===201?(P(ze=>{const Re=new Set(ze);Re.add(`${le}-${he}`);const Ve=`likedComments_${Pe}`;return localStorage.setItem(Ve,JSON.stringify([...Re])),Re}),we.fire({icon:"success",title:"Thành công",text:"Bình luận của bạn đã được ghi lại và đang chờ duyệt!",timer:3e3,showConfirmButton:!1}),await te(),!0):!1}catch(Ce){console.error("Error adding comment:",Ce);let Pe="Có lỗi xảy ra khi thêm bình luận!";return((Ee=Ce.response)==null?void 0:Ee.status)===401?(Pe="Phiên đăng nhập đã hết hạn. Vui lòng đăng nhập lại!",we.fire({icon:"error",title:"Lỗi",text:Pe,confirmButtonText:"Đăng nhập"}).then(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),e("/login")})):(Ie=(Me=Ce.response)==null?void 0:Me.data)!=null&&Ie.message&&(Pe=Ce.response.data.message),we.fire({icon:"error",title:"Lỗi",text:Pe}),!1}},oe=le=>{const he=JSON.parse(localStorage.getItem("user")||"{}"),me=localStorage.getItem("token");if(!(he!=null&&he.maNguoiDung)||!me){we.fire({icon:"error",title:"Lỗi",text:"Vui lòng đăng nhập để hủy đơn hàng!",confirmButtonText:"Đăng nhập"}).then(()=>e("/login"));return}const ve=s.find(Te=>Te.maDonHang.toString()===le);if(!ve){we.fire({icon:"error",title:"Lỗi",text:"Đơn hàng không tồn tại!"});return}const _e=Ko(ve.trangThaiDonHang);if(_e!=="pending"&&_e!=="processing"){we.fire({icon:"error",title:"Lỗi",text:"Chỉ có thể hủy đơn hàng khi chưa xác nhận hoặc đang xử lý!"});return}l(le),d(""),o(!0)},ae=async()=>{var le,he,me;if(!u.trim()){we.fire({icon:"error",title:"Lỗi",text:"Vui lòng nhập lý do hủy!"});return}if(c!==null)try{const ve=JSON.parse(localStorage.getItem("user")||"{}"),_e=ve==null?void 0:ve.maNguoiDung,Te=localStorage.getItem("token");if(!_e||!Te){we.fire({icon:"error",title:"Lỗi",text:"Vui lòng đăng nhập để hủy đơn hàng!",confirmButtonText:"Đăng nhập"}).then(()=>e("/login"));return}const Ue=parseInt(c);if(isNaN(Ue)){we.fire({icon:"error",title:"Lỗi",text:"Mã đơn hàng không hợp lệ!"});return}const Ee={lyDoHuy:u.trim()},Me=await Nt.put(`https://bicacuatho.azurewebsites.net/api/user/orders/cancel/${Ue}`,Ee,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${Te}`,Accept:"application/json"},timeout:1e4});if(o(!1),d(""),l(null),Me.data.isAccountLocked){const Ie=Me.data.lockoutMessage||"Tài khoản của bạn đã bị khóa do hủy đơn hàng quá 3 lần trong vòng 30 ngày. Tài khoản sẽ được mở khóa sau 3 ngày.";we.fire({icon:"error",title:"Tài khoản bị khóa",text:Ie,footer:"<p>Tài khoản sẽ được tự động mở khóa sau 3 ngày.</p>"}).then(()=>{we.fire({icon:"info",title:"Đăng xuất",text:"Bạn sẽ được đăng xuất khỏi hệ thống. Vui lòng đợi 3 ngày để đăng nhập lại.",timer:3e3,showConfirmButton:!1}).then(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),_e&&localStorage.removeItem(`likedComments_${_e}`),e("/login")})})}else{let Ie=Me.data.message||"Đơn hàng đã được hủy thành công!";Me.data.remainingCancellations!==void 0&&(Me.data.remainingCancellations===1?Ie+=" ⚠️ Cảnh báo: Bạn chỉ còn 1 lần hủy đơn hàng. Nếu hủy thêm 1 lần nữa, tài khoản sẽ bị khóa trong 3 ngày.":Me.data.remainingCancellations===2&&(Ie+=" ⚠️ Cảnh báo: Bạn chỉ còn 2 lần hủy đơn hàng. Hãy cẩn thận khi đặt hàng để tránh bị khóa tài khoản.")),we.fire({icon:"success",title:"Thành công",text:Ie,timer:5e3,showConfirmButton:!1}),await Z()}}catch(ve){console.error("Error canceling order:",ve),o(!1),d(""),l(null);let _e="Đã xảy ra lỗi khi hủy đơn hàng!";((le=ve.response)==null?void 0:le.status)===401?we.fire({icon:"error",title:"Lỗi",text:"Phiên đăng nhập đã hết hạn. Vui lòng đăng nhập lại!"}).then(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),e("/login")}):(me=(he=ve.response)==null?void 0:he.data)!=null&&me.message&&(_e=ve.response.data.message),we.fire({icon:"error",title:"Lỗi",text:_e})}},ce=(le,he)=>{const me=ue(le);he>=1&&he<=me.totalPages&&ie(le,he)},de=({status:le})=>{const he=ue(le);if(he.totalPages<=1)return null;const me=()=>{const ve=[];let Te=Math.max(1,he.currentPage-2),Ue=Math.min(he.totalPages,Te+5-1);Ue-Te<4&&(Te=Math.max(1,Ue-5+1));for(let Ee=Te;Ee<=Ue;Ee++)ve.push(Ee);return ve};return r.jsxs("div",{className:"flex items-center justify-between mt-6 px-4 py-3 bg-white border border-gray-200 rounded-lg",children:[r.jsx("div",{className:"flex items-center text-sm text-gray-700",children:r.jsxs("span",{children:["Hiển thị ",(he.currentPage-1)*he.pageSize+1," - ",Math.min(he.currentPage*he.pageSize,he.totalRecords)," của ",he.totalRecords," đơn hàng"]})}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>ce(le,he.currentPage-1),disabled:!he.hasPreviousPage||b,className:"flex items-center space-x-1",children:[r.jsx(ss,{className:"h-4 w-4"}),r.jsx("span",{children:"Trước"})]}),r.jsx("div",{className:"flex space-x-1",children:me().map(ve=>r.jsx(fe,{variant:ve===he.currentPage?"default":"outline",size:"sm",onClick:()=>ce(le,ve),disabled:b,className:`w-10 h-10 ${ve===he.currentPage?"bg-blue-600 text-white":""}`,children:ve},ve))}),r.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>ce(le,he.currentPage+1),disabled:!he.hasNextPage||b,className:"flex items-center space-x-1",children:[r.jsx("span",{children:"Sau"}),r.jsx(jr,{className:"h-4 w-4"})]})]})]})};B.useEffect(()=>{const le=async()=>{await Promise.all([ie("all",1),ie("pending",1),ie("processing",1),ie("shipping",1),ie("completed",1),ie("canceled",1)])};Z(),te(),le()},[e]),B.useEffect(()=>{const le=setTimeout(()=>{g.trim()?re(g):(n("all"),Z().then(()=>{ie("all",1)}))},500);return()=>clearTimeout(le)},[g]),B.useEffect(()=>{const le=setTimeout(()=>{K(m)},500);return()=>clearTimeout(le)},[m]),B.useEffect(()=>{m.trim()||ee(S)},[S,m]);const pe=(le,he,me,ve)=>r.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[he,r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:me}),r.jsx("p",{className:"text-gray-500",children:ve}),le==="all"&&!f&&!g&&r.jsx(fe,{onClick:()=>e("/products"),className:"mt-4",children:"Khám phá sản phẩm"})]}),Ae=(le,he,me)=>r.jsxs(Hn,{value:le,className:"space-y-6",children:[le==="all-orders"&&r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:me}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full sm:w-auto",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(ye,{type:"text",placeholder:"Tìm trong tất cả đơn hàng...",value:g,onChange:ve=>p(ve.target.value),className:"pl-10 pr-4 py-2 w-full sm:w-64"})]}),r.jsxs(mn,{value:t,onValueChange:q,children:[r.jsx(cn,{className:"w-full sm:w-48",children:r.jsx(pn,{placeholder:"Lọc theo trạng thái"})}),r.jsxs(un,{children:[r.jsx(Qe,{value:"all",children:"Tất cả trạng thái"}),r.jsx(Qe,{value:"pending",children:"Chờ xác nhận"}),r.jsx(Qe,{value:"processing",children:"Đang xử lý"}),r.jsx(Qe,{value:"shipping",children:"Đang giao hàng"}),r.jsx(Qe,{value:"completed",children:"Đã hoàn thành"}),r.jsx(Qe,{value:"canceled",children:"Đã hủy"})]})]})]})]}),le!=="all-orders"&&r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:me}),he.length===0?pe(le,r.jsx(Fb,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),`Không có ${me.toLowerCase()}`,le==="all-orders"&&(f||g)?"Không tìm thấy đơn hàng nào phù hợp với từ khóa tìm kiếm.":"Không có đơn hàng nào."):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"space-y-4",children:he.map(ve=>r.jsx(f6e,{order:ve,onCancel:oe,onAddComment:Y,commentedProducts:N},ve.maDonHang))}),r.jsx(de,{status:le==="all-orders"?"all":le})]})]});return r.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[r.jsx(h6e,{notification:v,onClose:()=>y(null)}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Lịch sử đơn hàng"}),r.jsx("p",{className:"text-gray-600",children:"Theo dõi và quản lý các đơn hàng của bạn"})]}),b&&r.jsxs("div",{className:"flex justify-center items-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600",children:"Đang tải..."})]}),r.jsxs(ia,{defaultValue:"all-orders",className:"w-full",children:[r.jsx(Mi,{className:"grid w-full grid-cols-3 lg:grid-cols-6 mb-8",children:[{value:"all-orders",icon:Fb,label:"Tất cả",status:"all"},{value:"pending",icon:Fb,label:"Chờ xác nhận",status:"pending"},{value:"processing",icon:hr,label:"Đang xử lý",status:"processing"},{value:"shipping",icon:BT,label:"Đang giao",status:"shipping"},{value:"completed",icon:ra,label:"Hoàn thành",status:"completed"},{value:"tracking",icon:hr,label:"Theo dõi",status:"tracking"}].map(({value:le,icon:he,label:me,status:ve})=>r.jsxs(Bn,{value:le,className:"flex items-center gap-2",children:[r.jsx(he,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:me}),ve!=="tracking"&&r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${ve==="all"?"bg-gray-200 text-gray-700":ve==="processing"?"bg-yellow-200 text-yellow-700":ve==="shipping"?"bg-blue-200 text-blue-700":ve==="completed"?"bg-green-200 text-green-700":"bg-gray-200 text-gray-700"}`,children:se(ve)})]},le))}),Ae("all-orders",S,"Tất cả đơn hàng"),Ae("pending",R,"Đơn hàng chờ xác nhận"),Ae("processing",z,"Đơn hàng đang xử lý"),Ae("shipping",X,"Đơn hàng đang giao"),Ae("completed",W,"Đơn hàng đã hoàn thành"),r.jsxs(Hn,{value:"tracking",className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Theo dõi đơn hàng"}),r.jsx("p",{className:"text-gray-600",children:"Xem chi tiết tiến trình các đơn hàng của bạn"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(ye,{type:"text",placeholder:"Tìm kiếm đơn hàng theo dõi...",value:m,onChange:le=>A(le.target.value),className:"pl-10 pr-4 py-2 w-full sm:w-64"})]})]}),J.length===0?pe("tracking",r.jsx(hr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),m.trim()?"Không tìm thấy đơn hàng":"Không có đơn hàng để theo dõi",m.trim()?"Không tìm thấy đơn hàng nào phù hợp với từ khóa tìm kiếm.":"Bạn chưa có đơn hàng nào để theo dõi."):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"space-y-6",children:J.map(le=>r.jsx(m6e,{order:le},le.maDonHang))}),!m.trim()&&r.jsx(de,{status:"all"})]})]})]}),r.jsx(Jt,{open:a,onOpenChange:o,children:r.jsxs(Wt,{className:"sm:max-w-md",children:[r.jsx(an,{children:r.jsxs(tn,{children:["Hủy đơn hàng #",c]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Lý do hủy đơn hàng ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:d6e.map(le=>r.jsx(fe,{type:"button",variant:"outline",size:"sm",onClick:()=>d(le),className:Fe("text-xs",u===le&&"bg-primary text-primary-foreground"),children:le},le))}),r.jsx(Ac,{value:u,onChange:le=>d(le.target.value),placeholder:"Nhập lý do hủy đơn hàng...",className:"w-full",rows:3})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Lưu ý quan trọng"}),r.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:r.jsxs("ul",{className:"list-disc pl-5",children:[r.jsx("li",{children:"Bạn chỉ được hủy tối đa 3 đơn hàng trong vòng 30 ngày."}),r.jsx("li",{children:"Nếu vượt quá giới hạn, tài khoản của bạn sẽ bị khóa trong 3 ngày."})]})})]})]})})]}),r.jsxs(Rn,{className:"mt-6",children:[r.jsx(fe,{variant:"outline",onClick:()=>{o(!1),d(""),l(null)},children:"Đóng"}),r.jsx(fe,{variant:"destructive",onClick:ae,disabled:!u.trim(),children:"Xác nhận hủy"})]})]})})]})};var A6e=Object.defineProperty,Vy=Object.getOwnPropertySymbols,hK=Object.prototype.hasOwnProperty,fK=Object.prototype.propertyIsEnumerable,gP=(e,t,n)=>t in e?A6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,IS=(e,t)=>{for(var n in t||(t={}))hK.call(t,n)&&gP(e,n,t[n]);if(Vy)for(var n of Vy(t))fK.call(t,n)&&gP(e,n,t[n]);return e},OS=(e,t)=>{var n={};for(var s in e)hK.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&Vy)for(var s of Vy(e))t.indexOf(s)<0&&fK.call(e,s)&&(n[s]=e[s]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Ah;(e=>{const t=class Mn{constructor(l,u,d,f){if(this.version=l,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],l<Mn.MIN_VERSION||l>Mn.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let h=[];for(let A=0;A<this.size;A++)h.push(!1);for(let A=0;A<this.size;A++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const m=this.addEccAndInterleave(d);if(this.drawCodewords(m),f==-1){let A=1e9;for(let g=0;g<8;g++){this.applyMask(g),this.drawFormatBits(g);const p=this.getPenaltyScore();p<A&&(f=g,A=p),this.applyMask(g)}}i(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(l,u){const d=e.QrSegment.makeSegments(l);return Mn.encodeSegments(d,u)}static encodeBinary(l,u){const d=e.QrSegment.makeBytes(l);return Mn.encodeSegments([d],u)}static encodeSegments(l,u,d=1,f=40,h=-1,m=!0){if(!(Mn.MIN_VERSION<=d&&d<=f&&f<=Mn.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let A,g;for(A=d;;A++){const v=Mn.getNumDataCodewords(A,u)*8,y=o.getTotalBits(l,A);if(y<=v){g=y;break}if(A>=f)throw new RangeError("Data too long")}for(const v of[Mn.Ecc.MEDIUM,Mn.Ecc.QUARTILE,Mn.Ecc.HIGH])m&&g<=Mn.getNumDataCodewords(A,v)*8&&(u=v);let p=[];for(const v of l){n(v.mode.modeBits,4,p),n(v.numChars,v.mode.numCharCountBits(A),p);for(const y of v.getData())p.push(y)}i(p.length==g);const b=Mn.getNumDataCodewords(A,u)*8;i(p.length<=b),n(0,Math.min(4,b-p.length),p),n(0,(8-p.length%8)%8,p),i(p.length%8==0);for(let v=236;p.length<b;v^=253)n(v,8,p);let x=[];for(;x.length*8<p.length;)x.push(0);return p.forEach((v,y)=>x[y>>>3]|=v<<7-(y&7)),new Mn(A,u,x,h)}getModule(l,u){return 0<=l&&l<this.size&&0<=u&&u<this.size&&this.modules[u][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),u=l.length;for(let d=0;d<u;d++)for(let f=0;f<u;f++)d==0&&f==0||d==0&&f==u-1||d==u-1&&f==0||this.drawAlignmentPattern(l[d],l[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const u=this.errorCorrectionLevel.formatBits<<3|l;let d=u;for(let h=0;h<10;h++)d=d<<1^(d>>>9)*1335;const f=(u<<10|d)^21522;i(f>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,s(f,h));this.setFunctionModule(8,7,s(f,6)),this.setFunctionModule(8,8,s(f,7)),this.setFunctionModule(7,8,s(f,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,s(f,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,s(f,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,s(f,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let d=0;d<12;d++)l=l<<1^(l>>>11)*7973;const u=this.version<<12|l;i(u>>>18==0);for(let d=0;d<18;d++){const f=s(u,d),h=this.size-11+d%3,m=Math.floor(d/3);this.setFunctionModule(h,m,f),this.setFunctionModule(m,h,f)}}drawFinderPattern(l,u){for(let d=-4;d<=4;d++)for(let f=-4;f<=4;f++){const h=Math.max(Math.abs(f),Math.abs(d)),m=l+f,A=u+d;0<=m&&m<this.size&&0<=A&&A<this.size&&this.setFunctionModule(m,A,h!=2&&h!=4)}}drawAlignmentPattern(l,u){for(let d=-2;d<=2;d++)for(let f=-2;f<=2;f++)this.setFunctionModule(l+f,u+d,Math.max(Math.abs(f),Math.abs(d))!=1)}setFunctionModule(l,u,d){this.modules[u][l]=d,this.isFunction[u][l]=!0}addEccAndInterleave(l){const u=this.version,d=this.errorCorrectionLevel;if(l.length!=Mn.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const f=Mn.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],h=Mn.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],m=Math.floor(Mn.getNumRawDataModules(u)/8),A=f-m%f,g=Math.floor(m/f);let p=[];const b=Mn.reedSolomonComputeDivisor(h);for(let v=0,y=0;v<f;v++){let N=l.slice(y,y+g-h+(v<A?0:1));y+=N.length;const P=Mn.reedSolomonComputeRemainder(N,b);v<A&&N.push(0),p.push(N.concat(P))}let x=[];for(let v=0;v<p[0].length;v++)p.forEach((y,N)=>{(v!=g-h||N>=A)&&x.push(y[v])});return i(x.length==m),x}drawCodewords(l){if(l.length!=Math.floor(Mn.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let f=0;f<this.size;f++)for(let h=0;h<2;h++){const m=d-h,g=(d+1&2)==0?this.size-1-f:f;!this.isFunction[g][m]&&u<l.length*8&&(this.modules[g][m]=s(l[u>>>3],7-(u&7)),u++)}}i(u==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let f;switch(l){case 0:f=(d+u)%2==0;break;case 1:f=u%2==0;break;case 2:f=d%3==0;break;case 3:f=(d+u)%3==0;break;case 4:f=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:f=d*u%2+d*u%3==0;break;case 6:f=(d*u%2+d*u%3)%2==0;break;case 7:f=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&f&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let l=0;for(let h=0;h<this.size;h++){let m=!1,A=0,g=[0,0,0,0,0,0,0];for(let p=0;p<this.size;p++)this.modules[h][p]==m?(A++,A==5?l+=Mn.PENALTY_N1:A>5&&l++):(this.finderPenaltyAddHistory(A,g),m||(l+=this.finderPenaltyCountPatterns(g)*Mn.PENALTY_N3),m=this.modules[h][p],A=1);l+=this.finderPenaltyTerminateAndCount(m,A,g)*Mn.PENALTY_N3}for(let h=0;h<this.size;h++){let m=!1,A=0,g=[0,0,0,0,0,0,0];for(let p=0;p<this.size;p++)this.modules[p][h]==m?(A++,A==5?l+=Mn.PENALTY_N1:A>5&&l++):(this.finderPenaltyAddHistory(A,g),m||(l+=this.finderPenaltyCountPatterns(g)*Mn.PENALTY_N3),m=this.modules[p][h],A=1);l+=this.finderPenaltyTerminateAndCount(m,A,g)*Mn.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let m=0;m<this.size-1;m++){const A=this.modules[h][m];A==this.modules[h][m+1]&&A==this.modules[h+1][m]&&A==this.modules[h+1][m+1]&&(l+=Mn.PENALTY_N2)}let u=0;for(const h of this.modules)u=h.reduce((m,A)=>m+(A?1:0),u);const d=this.size*this.size,f=Math.ceil(Math.abs(u*20-d*10)/d)-1;return i(0<=f&&f<=9),l+=f*Mn.PENALTY_N4,i(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let d=[6];for(let f=this.size-7;d.length<l;f-=u)d.splice(1,0,f);return d}}static getNumRawDataModules(l){if(l<Mn.MIN_VERSION||l>Mn.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*l+128)*l+64;if(l>=2){const d=Math.floor(l/7)+2;u-=(25*d-10)*d-55,l>=7&&(u-=36)}return i(208<=u&&u<=29648),u}static getNumDataCodewords(l,u){return Math.floor(Mn.getNumRawDataModules(l)/8)-Mn.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l]*Mn.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let u=[];for(let f=0;f<l-1;f++)u.push(0);u.push(1);let d=1;for(let f=0;f<l;f++){for(let h=0;h<u.length;h++)u[h]=Mn.reedSolomonMultiply(u[h],d),h+1<u.length&&(u[h]^=u[h+1]);d=Mn.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(l,u){let d=u.map(f=>0);for(const f of l){const h=f^d.shift();d.push(0),u.forEach((m,A)=>d[A]^=Mn.reedSolomonMultiply(m,h))}return d}static reedSolomonMultiply(l,u){if(l>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let f=7;f>=0;f--)d=d<<1^(d>>>7)*285,d^=(u>>>f&1)*l;return i(d>>>8==0),d}finderPenaltyCountPatterns(l){const u=l[1];i(u<=this.size*3);const d=u>0&&l[2]==u&&l[3]==u*3&&l[4]==u&&l[5]==u;return(d&&l[0]>=u*4&&l[6]>=u?1:0)+(d&&l[6]>=u*4&&l[0]>=u?1:0)}finderPenaltyTerminateAndCount(l,u,d){return l&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(l,u){u[0]==0&&(l+=this.size),u.pop(),u.unshift(l)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(c,l,u){if(l<0||l>31||c>>>l)throw new RangeError("Value out of range");for(let d=l-1;d>=0;d--)u.push(c>>>d&1)}function s(c,l){return(c>>>l&1)!=0}function i(c){if(!c)throw new Error("Assertion error")}const a=class Yr{constructor(l,u,d){if(this.mode=l,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(l){let u=[];for(const d of l)n(d,8,u);return new Yr(Yr.Mode.BYTE,l.length,u)}static makeNumeric(l){if(!Yr.isNumeric(l))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<l.length;){const f=Math.min(l.length-d,3);n(parseInt(l.substring(d,d+f),10),f*3+1,u),d+=f}return new Yr(Yr.Mode.NUMERIC,l.length,u)}static makeAlphanumeric(l){if(!Yr.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=l.length;d+=2){let f=Yr.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d))*45;f+=Yr.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d+1)),n(f,11,u)}return d<l.length&&n(Yr.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d)),6,u),new Yr(Yr.Mode.ALPHANUMERIC,l.length,u)}static makeSegments(l){return l==""?[]:Yr.isNumeric(l)?[Yr.makeNumeric(l)]:Yr.isAlphanumeric(l)?[Yr.makeAlphanumeric(l)]:[Yr.makeBytes(Yr.toUtf8ByteArray(l))]}static makeEci(l){let u=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,u);else if(l<16384)n(2,2,u),n(l,14,u);else if(l<1e6)n(6,3,u),n(l,21,u);else throw new RangeError("ECI assignment value out of range");return new Yr(Yr.Mode.ECI,0,u)}static isNumeric(l){return Yr.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return Yr.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,u){let d=0;for(const f of l){const h=f.mode.numCharCountBits(u);if(f.numChars>=1<<h)return 1/0;d+=4+h+f.bitData.length}return d}static toUtf8ByteArray(l){l=encodeURI(l);let u=[];for(let d=0;d<l.length;d++)l.charAt(d)!="%"?u.push(l.charCodeAt(d)):(u.push(parseInt(l.substring(d+1,d+3),16)),d+=2);return u}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=a;e.QrSegment=a})(Ah||(Ah={}));(e=>{(t=>{const n=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(Ah||(Ah={}));(e=>{(t=>{const n=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(Ah||(Ah={}));var xf=Ah;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var g6e={L:xf.QrCode.Ecc.LOW,M:xf.QrCode.Ecc.MEDIUM,Q:xf.QrCode.Ecc.QUARTILE,H:xf.QrCode.Ecc.HIGH},mK=128,pK="L",AK="#FFFFFF",gK="#000000",xK=!1,bK=1,x6e=4,b6e=0,v6e=.1;function vK(e,t=0){const n=[];return e.forEach(function(s,i){let a=null;s.forEach(function(o,c){if(!o&&a!==null){n.push(`M${a+t} ${i+t}h${c-a}v1H${a+t}z`),a=null;return}if(c===s.length-1){if(!o)return;a===null?n.push(`M${c+t},${i+t} h1v1H${c+t}z`):n.push(`M${a+t},${i+t} h${c+1-a}v1H${a+t}z`);return}o&&a===null&&(a=c)})}),n.join("")}function yK(e,t){return e.slice().map((n,s)=>s<t.y||s>=t.y+t.h?n:n.map((i,a)=>a<t.x||a>=t.x+t.w?i:!1))}function y6e(e,t,n,s){if(s==null)return null;const i=e.length+n*2,a=Math.floor(t*v6e),o=i/t,c=(s.width||a)*o,l=(s.height||a)*o,u=s.x==null?e.length/2-c/2:s.x*o,d=s.y==null?e.length/2-l/2:s.y*o,f=s.opacity==null?1:s.opacity;let h=null;if(s.excavate){let A=Math.floor(u),g=Math.floor(d),p=Math.ceil(c+u-A),b=Math.ceil(l+d-g);h={x:A,y:g,w:p,h:b}}const m=s.crossOrigin;return{x:u,y:d,h:l,w:c,excavation:h,opacity:f,crossOrigin:m}}function w6e(e,t){return t!=null?Math.max(Math.floor(t),0):e?x6e:b6e}function wK({value:e,level:t,minVersion:n,includeMargin:s,marginSize:i,imageSettings:a,size:o,boostLevel:c}){let l=je.useMemo(()=>{const A=(Array.isArray(e)?e:[e]).reduce((g,p)=>(g.push(...xf.QrSegment.makeSegments(p)),g),[]);return xf.QrCode.encodeSegments(A,g6e[t],n,void 0,void 0,c)},[e,t,n,c]);const{cells:u,margin:d,numCells:f,calculatedImageSettings:h}=je.useMemo(()=>{let m=l.getModules();const A=w6e(s,i),g=m.length+A*2,p=y6e(m,o,A,a);return{cells:m,margin:A,numCells:g,calculatedImageSettings:p}},[l,o,a,s,i]);return{qrcode:l,margin:d,cells:u,numCells:f,calculatedImageSettings:h}}var j6e=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),jK=je.forwardRef(function(t,n){const s=t,{value:i,size:a=mK,level:o=pK,bgColor:c=AK,fgColor:l=gK,includeMargin:u=xK,minVersion:d=bK,boostLevel:f,marginSize:h,imageSettings:m}=s,g=OS(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:p}=g,b=OS(g,["style"]),x=m==null?void 0:m.src,v=je.useRef(null),y=je.useRef(null),N=je.useCallback(E=>{v.current=E,typeof n=="function"?n(E):n&&(n.current=E)},[n]),[P,M]=je.useState(!1),{margin:k,cells:D,numCells:O,calculatedImageSettings:L}=wK({value:i,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:h,imageSettings:m,size:a});je.useEffect(()=>{if(v.current!=null){const E=v.current,T=E.getContext("2d");if(!T)return;let w=D;const C=y.current,j=L!=null&&C!==null&&C.complete&&C.naturalHeight!==0&&C.naturalWidth!==0;j&&L.excavation!=null&&(w=yK(D,L.excavation));const S=window.devicePixelRatio||1;E.height=E.width=a*S;const I=a/O*S;T.scale(I,I),T.fillStyle=c,T.fillRect(0,0,O,O),T.fillStyle=l,j6e?T.fill(new Path2D(vK(w,k))):D.forEach(function(R,U){R.forEach(function(z,V){z&&T.fillRect(V+k,U+k,1,1)})}),L&&(T.globalAlpha=L.opacity),j&&T.drawImage(C,L.x+k,L.y+k,L.w,L.h)}}),je.useEffect(()=>{M(!1)},[x]);const F=IS({height:a,width:a},p);let _=null;return x!=null&&(_=je.createElement("img",{src:x,key:x,style:{display:"none"},onLoad:()=>{M(!0)},ref:y,crossOrigin:L==null?void 0:L.crossOrigin})),je.createElement(je.Fragment,null,je.createElement("canvas",IS({style:F,height:a,width:a,ref:N,role:"img"},b)),_)});jK.displayName="QRCodeCanvas";var C6e=je.forwardRef(function(t,n){const s=t,{value:i,size:a=mK,level:o=pK,bgColor:c=AK,fgColor:l=gK,includeMargin:u=xK,minVersion:d=bK,boostLevel:f,title:h,marginSize:m,imageSettings:A}=s,g=OS(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:p,cells:b,numCells:x,calculatedImageSettings:v}=wK({value:i,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:m,imageSettings:A,size:a});let y=b,N=null;A!=null&&v!=null&&(v.excavation!=null&&(y=yK(b,v.excavation)),N=je.createElement("image",{href:A.src,height:v.h,width:v.w,x:v.x+p,y:v.y+p,preserveAspectRatio:"none",opacity:v.opacity,crossOrigin:v.crossOrigin}));const P=vK(y,p);return je.createElement("svg",IS({height:a,width:a,viewBox:`0 0 ${x} ${x}`,ref:n,role:"img"},g),!!h&&je.createElement("title",null,h),je.createElement("path",{fill:c,d:`M0,0 h${x}v${x}H0z`,shapeRendering:"crispEdges"}),je.createElement("path",{fill:l,d:P,shapeRendering:"crispEdges"}),N)});C6e.displayName="QRCodeSVG";const N6e=({order:e={}})=>{const{orderId:t}=Mm(),n=t?Number(t):e.maDonHang??0,{tenNguoiNhan:s="",sdt:i="",diaChi:a="",finalAmount:o=0,discountAmount:c=0,shippingFee:l=0,ngayDat:u=new Date().toISOString(),chiTietDonHangs:d=[]}=e,f=h=>`${h.toLocaleString("vi-VN")}₫`;return console.log(d),r.jsx("div",{className:"bg-gray-50 min-h-screen py-10 px-4 flex items-center justify-center",children:r.jsxs("div",{className:"max-w-xl w-full bg-white shadow-md rounded-2xl p-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-pink-600 mb-2 text-center",children:"Đơn hàng đã được xác nhận"}),s&&r.jsxs("p",{className:"text-sm text-center text-gray-600 mb-6",children:["Cảm ơn ",r.jsx("strong",{children:s})," đã đặt hàng tại UltraStore!"]}),d.length>0&&r.jsx("div",{className:"space-y-4",children:d.map((h,m)=>{var A,g,p,b;return r.jsxs("div",{className:"flex items-center gap-4 border-b pb-3",children:[r.jsx("img",{src:((p=(g=(A=h.maSanPhamNavigation)==null?void 0:A.hinhAnhs)==null?void 0:g[0])==null?void 0:p.link)||"https://via.placeholder.com/64",alt:"product",className:"w-16 h-16 object-cover rounded-md"}),r.jsxs("div",{className:"flex-1 text-sm",children:[r.jsx("p",{className:"font-semibold truncate",children:((b=h.maSanPhamNavigation)==null?void 0:b.tenSanPham)||"Sản phẩm không xác định"}),r.jsxs("p",{className:"text-gray-500",children:[h.soLuong," × ",f(h.gia)]}),r.jsx("p",{className:"font-medium",children:f(h.thanhTien)})]})]},m)})}),r.jsxs("div",{className:"mt-6 border-t pt-4 space-y-1 text-sm text-gray-700",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Tổng phụ:"}),r.jsx("span",{children:f(d.reduce((h,m)=>h+(m.thanhTien||0),0))})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Vận chuyển:"}),r.jsx("span",{children:f(l)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Giảm giá:"}),r.jsx("span",{children:f(c)})]}),r.jsxs("div",{className:"flex justify-between font-semibold text-base",children:[r.jsx("span",{children:"Tổng cộng:"}),r.jsx("span",{children:f(o)})]})]}),a&&r.jsxs("div",{className:"mt-6 text-sm text-gray-700",children:[r.jsx("p",{className:"mb-1",children:"Địa chỉ giao hàng:"}),r.jsx("p",{children:s}),r.jsx("p",{children:i}),r.jsx("p",{children:a})]}),r.jsxs("div",{className:"mt-6 text-sm text-gray-600",children:[r.jsxs("p",{children:["Mã đơn hàng:"," ",r.jsxs("strong",{children:["ORD-",n.toString().padStart(5,"0")]})]}),r.jsxs("p",{children:["Ngày đặt: ",new Date(u).toLocaleString("vi-VN")]})]}),r.jsxs("div",{className:"mt-6 text-center",children:[r.jsx("p",{className:"text-sm mb-2 text-gray-700",children:"Quét mã QR để xem hoá đơn trực tuyến:"}),r.jsx(jK,{value:`http://localhost:8080/user/hoadon/${n}`,size:128,bgColor:"#ffffff",fgColor:"#000000",level:"H",includeMargin:!0})]})]})})};var CK={exports:{}},NK={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am=B;function S6e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var T6e=typeof Object.is=="function"?Object.is:S6e,k6e=Am.useState,_6e=Am.useEffect,B6e=Am.useLayoutEffect,E6e=Am.useDebugValue;function P6e(e,t){var n=t(),s=k6e({inst:{value:n,getSnapshot:t}}),i=s[0].inst,a=s[1];return B6e(function(){i.value=n,i.getSnapshot=t,aC(i)&&a({inst:i})},[e,n,t]),_6e(function(){return aC(i)&&a({inst:i}),e(function(){aC(i)&&a({inst:i})})},[e]),E6e(n),n}function aC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!T6e(e,n)}catch{return!0}}function M6e(e,t){return t()}var D6e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?M6e:P6e;NK.useSyncExternalStore=Am.useSyncExternalStore!==void 0?Am.useSyncExternalStore:D6e;CK.exports=NK;var I6e=CK.exports;function O6e(){return I6e.useSyncExternalStore(L6e,()=>!0,()=>!1)}function L6e(){return()=>{}}var Mk="Avatar",[F6e,xUe]=qs(Mk),[R6e,SK]=F6e(Mk),TK=B.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[i,a]=B.useState("idle");return r.jsx(R6e,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:r.jsx(Ct.span,{...s,ref:t})})});TK.displayName=Mk;var kK="AvatarImage",_K=B.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:i=()=>{},...a}=e,o=SK(kK,n),c=U6e(s,a),l=es(u=>{i(u),o.onImageLoadingStatusChange(u)});return Xr(()=>{c!=="idle"&&l(c)},[c,l]),c==="loaded"?r.jsx(Ct.img,{...a,ref:t,src:s}):null});_K.displayName=kK;var BK="AvatarFallback",EK=B.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...i}=e,a=SK(BK,n),[o,c]=B.useState(s===void 0);return B.useEffect(()=>{if(s!==void 0){const l=window.setTimeout(()=>c(!0),s);return()=>window.clearTimeout(l)}},[s]),o&&a.imageLoadingStatus!=="loaded"?r.jsx(Ct.span,{...i,ref:t}):null});EK.displayName=BK;function xP(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function U6e(e,{referrerPolicy:t,crossOrigin:n}){const s=O6e(),i=B.useRef(null),a=s?(i.current||(i.current=new window.Image),i.current):null,[o,c]=B.useState(()=>xP(a,e));return Xr(()=>{c(xP(a,e))},[a,e]),Xr(()=>{const l=f=>()=>{c(f)};if(!a)return;const u=l("loaded"),d=l("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,n,t]),o}var PK=TK,MK=_K,DK=EK;const Bg=B.forwardRef(({className:e,...t},n)=>r.jsx(PK,{ref:n,className:Fe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Bg.displayName=PK.displayName;const nu=B.forwardRef(({className:e,...t},n)=>r.jsx(MK,{ref:n,className:Fe("aspect-square h-full w-full",e),...t}));nu.displayName=MK.displayName;const Eg=B.forwardRef(({className:e,...t},n)=>r.jsx(DK,{ref:n,className:Fe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Eg.displayName=DK.displayName;const H6e=({userId:e,fullName:t,username:n,avatarUrl:s,bio:i="Chưa có thông tin",joinDate:a,birthDate:o,phone:c,cccd:l,email:u,address:d,password:f,role:h,status:m,createDate:A,gender:g,cancelCount:p,isVerified:b,lockoutEndDate:x,isCurrentUser:v=!1,location:y,website:N,followers:P=0,following:M=0})=>{const k=gr(),D=w=>{switch(w){case null:return{text:"Khác",icon:r.jsx(j6,{className:"h-5 w-5 mr-3 text-[#9b87f5]"})};case 1:return{text:"Nam",icon:r.jsx($n,{className:"h-5 w-5 mr-3 text-[#9b87f5]"})};case 2:return{text:"Nữ",icon:r.jsx(ite,{className:"h-5 w-5 mr-3 text-[#9b87f5]"})};default:return{text:"Khác",icon:r.jsx(j6,{className:"h-5 w-5 mr-3 text-[#9b87f5]"})}}},O=w=>{switch(w){case 0:return"Người dùng";case 1:return"Quản trị viên";default:return"Không xác định"}},L=w=>{switch(w){case 0:return"Hoạt động";case 1:return"Không hoạt động";default:return"Không xác định"}},F=()=>{k("/user/messages",{state:{recipientId:e,recipientName:t}})},_=D(g),E=O(h),T=L(m);return r.jsx("div",{className:"container mx-auto py-8 px-6",children:r.jsxs(it,{className:"max-w-4xl mx-auto shadow-lg rounded-xl border-2 border-[#9b87f5]/20",children:[r.jsx(yt,{className:"pb-6 border-b border-[#9b87f5]/30 bg-gradient-to-r from-[#9b87f5]/10 to-[#e6e1ff]/30 rounded-t-xl",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx(Bg,{className:"h-24 w-24 border-4 border-[#9b87f5]/30",children:s?r.jsx(nu,{src:s,alt:t}):r.jsx(Eg,{className:"bg-[#e6e1ff] text-[#9b87f5] text-2xl",children:t.split(" ").map(w=>w[0]).join("")})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-[#9b87f5]",children:t}),r.jsxs("p",{className:"text-[#9b87f5]/80 text-lg",children:["@",n]}),r.jsxs("div",{className:"flex items-center mt-2",children:[_.icon,r.jsx("p",{className:"text-[#9b87f5]/80 text-md",children:_.text})]})]})]}),r.jsxs("div",{className:"flex gap-4",children:[!v&&r.jsxs(fe,{onClick:F,className:"bg-[#9b87f5] hover:bg-[#8a77e0] text-white flex items-center gap-3 rounded-lg px-6 py-3 text-lg","aria-label":`Gửi tin nhắn đến ${t}`,children:[r.jsx(Jd,{className:"h-10 w-10"}),r.jsx("span",{children:"Nhắn tin"})]}),v&&r.jsx(fe,{asChild:!0,className:"bg-[#9b87f5] hover:bg-[#8a77e0] text-white flex items-center gap-3 rounded-lg px-6 py-3 text-lg","aria-label":`Chỉnh sửa hồ sơ của ${t}`,children:r.jsxs(ct,{to:"/user/edit-profile",children:[r.jsx(nm,{className:"h-5 w-5"}),r.jsx("span",{children:"Chỉnh sửa"})]})})]})]})}),r.jsx(dt,{className:"pt-8",children:r.jsx("div",{className:"space-y-8",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold mb-6 text-[#9b87f5]",children:"Thông tin cá nhân"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"bio",className:"font-medium text-gray-700 mb-2 flex items-center text-lg",children:[r.jsx(ST,{className:"h-5 w-5 mr-3 text-[#9b87f5]"}),"Giới thiệu"]}),r.jsx("input",{id:"bio",type:"text",value:i,readOnly:!0,className:"w-full px-4 py-3 border-2 border-[#9b87f5]/30 rounded-lg bg-[#9b87f5]/5 text-gray-700 focus:outline-none focus:ring-2 focus:ring-[#9b87f5] text-lg"})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"phone",className:"font-medium text-gray-700 mb-2 flex items-center text-lg",children:[r.jsx(_u,{className:"h-5 w-5 mr-3 text-[#9b87f5]"}),"Số điện thoại"]}),r.jsx("input",{id:"phone",type:"text",value:c||"Không có số điện thoại",readOnly:!0,className:"w-full px-4 py-3 border-2 border-[#9b87f5]/30 rounded-lg bg-[#9b87f5]/5 text-gray-700 focus:outline-none focus:ring-2 focus:ring-[#9b87f5] text-lg"})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"birthDate",className:"font-medium text-gray-700 mb-2 flex items-center text-lg",children:[r.jsx(ts,{className:"h-5 w-5 mr-3 text-[#9b87f5]"}),"Ngày sinh"]}),r.jsx("input",{id:"birthDate",type:"text",value:o||"Không có ngày sinh",readOnly:!0,className:"w-full px-4 py-3 border-2 border-[#9b87f5]/30 rounded-lg bg-[#9b87f5]/5 text-gray-700 focus:outline-none focus:ring-2 focus:ring-[#9b87f5] text-lg"})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"role",className:"font-medium text-gray-700 mb-2 flex items-center text-lg",children:[r.jsx(See,{className:"h-5 w-5 mr-3 text-[#9b87f5]"}),"Vai trò"]}),r.jsx("input",{id:"role",type:"text",value:E,readOnly:!0,className:"w-full px-4 py-3 border-2 border-[#9b87f5]/30 rounded-lg bg-[#9b87f5]/5 text-gray-700 focus:outline-none focus:ring-2 focus:ring-[#9b87f5] text-lg"})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"address",className:"font-medium text-gray-700 mb-2 flex items-center text-lg",children:[r.jsx(ku,{className:"h-5 w-5 mr-3 text-[#9b87f5]"}),"Địa chỉ"]}),r.jsx("input",{id:"address",type:"text",value:d||"Không có địa chỉ",readOnly:!0,className:"w-full px-4 py-3 border-2 border-[#9b87f5]/30 rounded-lg bg-[#9b87f5]/5 text-gray-700 focus:outline-none focus:ring-2 focus:ring-[#9b87f5] text-lg"})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"email",className:"font-medium text-gray-700 mb-2 flex items-center text-lg",children:[r.jsx(Xi,{className:"h-5 w-5 mr-3 text-[#9b87f5]"}),"Email"]}),r.jsx("input",{id:"email",type:"text",value:u||"Không có email",readOnly:!0,className:"w-full px-4 py-3 border-2 border-[#9b87f5]/30 rounded-lg bg-[#9b87f5]/5 text-gray-700 focus:outline-none focus:ring-2 focus:ring-[#9b87f5] text-lg"})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"joinDate",className:"font-medium text-gray-700 mb-2 flex items-center text-lg",children:[r.jsx(ts,{className:"h-5 w-5 mr-3 text-[#9b87f5]"}),"Ngày tạo"]}),r.jsx("input",{id:"joinDate",type:"text",value:a,readOnly:!0,className:"w-full px-4 py-3 border-2 border-[#9b87f5]/30 rounded-lg bg-[#9b87f5]/5 text-gray-700 focus:outline-none focus:ring-2 focus:ring-[#9b87f5] text-lg"})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"status",className:"font-medium text-gray-700 mb-2 flex items-center text-lg",children:[r.jsx(_T,{className:"h-5 w-5 mr-3 text-[#9b87f5]"}),"Trạng thái"]}),r.jsx("input",{id:"status",type:"text",value:T,readOnly:!0,className:"w-full px-4 py-3 border-2 border-[#9b87f5]/30 rounded-lg bg-[#9b87f5]/5 text-gray-700 focus:outline-none focus:ring-2 focus:ring-[#9b87f5] text-lg"})]})]})]})]})})})]})})},bP="https://bicacuatho.azurewebsites.net",$6e=()=>{const{userId:e=""}=Mm(),[t,n]=B.useState(null),[s,i]=B.useState(!0),[a,o]=B.useState(null),[c,l]=B.useState(null),u=async()=>{try{const h=await fetch(`${bP}/api/GiaoDien`);if(!h.ok)throw new Error("Lỗi khi tải avatar mặc định");const A=(await h.json()).find(g=>g.trangThai===1);A&&A.avt?l(`data:image/png;base64,${A.avt}`):l(null)}catch(h){console.error("Lỗi khi lấy avatar mặc định:",h.message),l(null)}};if(B.useEffect(()=>{const h=async()=>{try{const m=localStorage.getItem("token");if(!m)throw new Error("Bạn cần đăng nhập để xem thông tin người dùng.");const A=await fetch(`${bP}/api/NguoiDung/${e||"current"}`,{headers:{Authorization:`Bearer ${m}`}});if(!A.ok){const p=await A.text();throw new Error(`Không thể tải thông tin người dùng: ${p}`)}const g=await A.json();n(g),i(!1)}catch(m){const A=m instanceof Error?m.message:"Lỗi khi tải thông tin người dùng.";o(A),i(!1),we.fire({icon:"error",title:"Lỗi",text:A,timer:3e3,showConfirmButton:!1})}};u(),h()},[e]),s)return r.jsx("div",{className:"py-6 bg-gray-50/50 min-h-screen flex items-center justify-center",children:r.jsx("p",{className:"text-gray-600","aria-label":"Đang tải thông tin người dùng",children:"Đang tải thông tin người dùng..."})});if(a||!t)return r.jsx("div",{className:"py-6 bg-gray-50/50 min-h-screen flex items-center justify-center",children:r.jsx("p",{className:"text-gray-600","aria-label":"Không thể tải thông tin người dùng",children:"Không thể tải thông tin người dùng."})});const d=e==="current"||!e,f={userId:t.maNguoiDung||"",fullName:t.hoTen||"Không có tên",username:t.taiKhoan||"",avatarUrl:t.hinhAnh?`data:image/png;base64,${t.hinhAnh}`:c||"https://gockienthuc.edu.vn/wp-content/uploads/2024/07/hinh-anh-avatar-trang-mac-dinh-doc-dao-khong-lao-nhao_6690f0076072b.webp",bio:t.moTa||"Chưa có mô tả.",joinDate:t.ngayTao?new Date(t.ngayTao).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"Không có ngày tham gia",birthDate:t.ngaySinh?new Date(t.ngaySinh).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"Không có ngày sinh",phone:t.sdt||"Không có số điện thoại",cccd:t.cccd||"Không có CCCD",email:t.email||"Không có email",address:t.diaChi||"Không có địa chỉ",password:t.matKhau||"Không có mật khẩu",role:t.vaiTro,status:t.trangThai,createDate:t.ngayTao?new Date(t.ngayTao).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"Không có ngày tạo",gender:t.gioiTinh,cancelCount:t.cancelConunt||0,isVerified:t.isveryfied||!1,lockoutEndDate:t.lockoutEndDate?new Date(t.lockoutEndDate).toLocaleString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",hour12:!0}):"Không bị khóa",location:t.diaChi||"Không có địa chỉ",website:"",followers:0,following:0};return r.jsx("div",{className:"py-6 bg-gray-50/50 min-h-screen",children:r.jsx(H6e,{userId:f.userId,fullName:f.fullName,username:f.username,avatarUrl:f.avatarUrl,bio:f.bio,joinDate:f.joinDate,birthDate:f.birthDate,phone:f.phone,cccd:f.cccd,email:f.email,address:f.address,password:f.password,role:f.role,status:f.status,createDate:f.createDate,gender:f.gender,cancelCount:f.cancelCount,isVerified:f.isVerified,lockoutEndDate:f.lockoutEndDate,isCurrentUser:d,location:f.location,website:f.website,followers:f.followers,following:f.following})})},Eh=$be,IK=B.createContext({}),Rt=({...e})=>r.jsx(IK.Provider,{value:{name:e.name},children:r.jsx(Kbe,{...e})}),e2=()=>{const e=B.useContext(IK),t=B.useContext(OK),{getFieldState:n,formState:s}=O1(),i=n(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},OK=B.createContext({}),Pt=B.forwardRef(({className:e,...t},n)=>{const s=B.useId();return r.jsx(OK.Provider,{value:{id:s},children:r.jsx("div",{ref:n,className:Fe("space-y-2",e),...t})})});Pt.displayName="FormItem";const Lt=B.forwardRef(({className:e,...t},n)=>{const{error:s,formItemId:i}=e2();return r.jsx(De,{ref:n,className:Fe(s&&"text-destructive",e),htmlFor:i,...t})});Lt.displayName="FormLabel";const Mt=B.forwardRef(({...e},t)=>{const{error:n,formItemId:s,formDescriptionId:i,formMessageId:a}=e2();return r.jsx(jh,{ref:t,id:s,"aria-describedby":n?`${i} ${a}`:`${i}`,"aria-invalid":!!n,...e})});Mt.displayName="FormControl";const Q6e=B.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:s}=e2();return r.jsx("p",{ref:n,id:s,className:Fe("text-sm text-muted-foreground",e),...t})});Q6e.displayName="FormDescription";const Gt=B.forwardRef(({className:e,children:t,...n},s)=>{const{error:i,formMessageId:a}=e2(),o=i?String(i==null?void 0:i.message):t;return o?r.jsx("p",{ref:s,id:a,className:Fe("text-sm font-medium text-destructive",e),...n,children:o}):null});Gt.displayName="FormMessage";const z6e=["😊","😂","❤️","👍","😍","😢","😡","🎉","🔥","💯"],V6e=gl({message:Ut().max(1e3,"Tin nhắn không được vượt quá 1000 ký tự")}),K6e=({recipientId:e,recipientName:t,initialMessage:n="",onSuccess:s})=>{const[i,a]=B.useState(!1),[o,c]=B.useState(null),[l,u]=B.useState(null),[d,f]=B.useState(!1),h=B.useRef(null),m=il({resolver:al(V6e),defaultValues:{message:n}});B.useEffect(()=>{const y=localStorage.getItem(`messageForm_${e}`);if(y){const{selectedFileData:N,previewUrlData:P}=JSON.parse(y);N&&c(new File([],N.name,{type:N.type})),P&&u(P)}},[e]),B.useEffect(()=>{o||l?localStorage.setItem(`messageForm_${e}`,JSON.stringify({selectedFileData:o?{name:o.name,type:o.type}:null,previewUrlData:l})):localStorage.removeItem(`messageForm_${e}`)},[o,l,e]);const A=async(y,N=!1,P)=>{a(!0),f(!1);try{const M=localStorage.getItem("token"),k=localStorage.getItem("userId");if(!M||!k)throw new Error("Vui lòng đăng nhập để gửi tin nhắn.");if(P&&P.size>10*1024*1024)throw new Error("Dung lượng tệp không được vượt quá 10MB.");const D=new FormData;D.append("NguoiGuiId",k),D.append("NguoiNhanId",e),D.append("NoiDung",y),N&&D.append("KieuTinNhan","emoji"),P&&D.append("TepTin",P);const O=await fetch("https://bicacuatho.azurewebsites.net/api/TinNhan/gui",{method:"POST",headers:{Authorization:`Bearer ${M}`},body:D});if(!O.ok){const F=await O.text();throw new Error(F||"Gửi tin nhắn thất bại")}const L=await O.json();m.reset(),c(null),u(null),s==null||s(y,P)}catch(M){const k=M instanceof Error?M.message:"Gửi thất bại";m.setError("message",{type:"manual",message:k}),console.error("Lỗi gửi tin nhắn:",M)}finally{a(!1)}},g=y=>{var P;const N=(P=y.target.files)==null?void 0:P[0];if(N){if(N.size>10*1024*1024){m.setError("message",{type:"manual",message:"Dung lượng tệp không được vượt quá 10MB."});return}c(N),N.type.startsWith("image/")?u(URL.createObjectURL(N)):u(null)}},p=()=>{c(null),u(null),h.current&&(h.current.value="")},b=y=>{y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),m.handleSubmit(N=>A(N.message,!1,o))())},x=y=>A(y,!0),v=()=>A("❤️",!0);return r.jsx(Eh,{...m,children:r.jsx("form",{onSubmit:m.handleSubmit(y=>A(y.message,!1,o)),children:r.jsx(Rt,{control:m.control,name:"message",render:({field:y})=>{var N;return r.jsxs(Pt,{children:[(o||l)&&r.jsxs("div",{className:"relative mb-2",children:[l&&(o!=null&&o.type.startsWith("image/"))?r.jsx("img",{src:l,alt:"Preview",className:"max-w-[150px] rounded-md"}):r.jsxs("p",{className:"text-sm text-gray-600",children:["Tệp đã chọn: ",o==null?void 0:o.name]}),r.jsx(fe,{type:"button",onClick:p,className:"absolute top-1 right-1 p-1 rounded-full bg-gray-500/80 text-white",children:r.jsx(st,{className:"w-4 h-4"})})]}),d&&r.jsx("div",{className:"flex flex-wrap gap-2 p-2 mb-2 border rounded-md bg-white border-[#c083fc]",children:z6e.map(P=>r.jsx(fe,{type:"button",className:"text-2xl bg-transparent hover:bg-[#c083fc]/10",onClick:()=>x(P),children:P},P))}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(fe,{type:"button",onClick:()=>{var P;return(P=h.current)==null?void 0:P.click()},className:"p-2 bg-[#f5f0ff] text-[#c083fc] rounded-full hover:bg-[#c083fc]/20",children:r.jsx(ree,{className:"w-5 h-5"})}),r.jsx("input",{ref:h,type:"file",accept:"image/*,.pdf",onChange:g,className:"hidden"}),r.jsx(fe,{type:"button",onClick:()=>f(P=>!P),className:"p-2 bg-[#f5f0ff] text-[#c083fc] rounded-full hover:bg-[#c083fc]/20",children:r.jsx(Eee,{className:"w-5 h-5"})})]}),r.jsx(Mt,{className:"flex-1",children:r.jsx(Ac,{...y,placeholder:`Nhập tin nhắn đến ${t}...`,className:"min-h-[40px] max-h-[120px] h-[40px] resize-none overflow-y-auto border-2 border-[#c083fc] bg-[#f5f0ff] focus:ring-[#c083fc] rounded-full px-4 py-2 text-sm",onChange:y.onChange,onKeyDown:b})}),(N=m.watch("message"))!=null&&N.trim()?r.jsx(fe,{type:"submit",disabled:i,className:"p-2 rounded-full text-white bg-[#c083fc] hover:bg-[#b072e8]",children:r.jsx(Sf,{className:"w-5 h-5"})}):r.jsx(fe,{type:"button",disabled:i,onClick:v,className:"p-2 rounded-full text-[#00c2cb] bg-[#f5f0ff] hover:bg-[#00c2cb]/20",children:r.jsx(di,{className:"w-5 h-5"})})]}),r.jsx(Gt,{className:"text-xs text-red-600 mt-1"})]})}})})})},sd="https://bicacuatho.azurewebsites.net",G6e=e=>new Date(e).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"}),W6e=({threadId:e,user:t})=>{var w,C;const n=localStorage.getItem("userId")||"",[s,i]=B.useState([]),[a,o]=B.useState(!0),[c,l]=B.useState(!1),[u,d]=B.useState(null),[f,h]=B.useState(!1),[m,A]=B.useState(void 0),[g,p]=B.useState(""),[b,x]=B.useState(!1),[v,y]=B.useState(!1),[N,P]=B.useState({}),M=B.useRef(null),k=gr(),D=["😊","😂","❤️","👍","😍","😢","😡","🎉","🔥","💯"],O=async()=>{try{const j=await fetch(`${sd}/api/GiaoDien`);if(!j.ok)throw new Error("Lỗi khi tải avatar mặc định");const I=(await j.json()).find(R=>R.trangThai===1);I!=null&&I.avt?d(`data:image/png;base64,${I.avt}`):d(null)}catch(j){console.error("Lỗi khi lấy avatar mặc định:",j instanceof Error?j.message:"Không xác định"),d(null)}},L=async(j,S)=>{try{const I=await fetch(j,{headers:{Authorization:`Bearer ${S}`},mode:"cors"});if(console.log("Image fetch response:",I.status,I.statusText,j),!I.ok)throw new Error(`Không thể tải hình ảnh từ ${j}: ${I.statusText}`);const R=await I.blob();return URL.createObjectURL(R)}catch(I){return console.error("Lỗi khi tải hình ảnh:",I),"/fallback-image.png"}};B.useEffect(()=>{const j=async()=>{o(!0);try{const S=localStorage.getItem("token")||"",I=await fetch(`${sd}/api/TinNhan/doan-chat?nguoiGuiId=${encodeURIComponent(n)}&nguoiNhanId=${encodeURIComponent(e)}`,{headers:{Authorization:`Bearer ${S}`}});if(!I.ok)throw new Error(`Không thể tải tin nhắn: ${I.statusText}`);const R=await I.json();console.log("Fetched messages:",R);const U={};for(const z of R)if(z.kieuTinNhan==="image"&&z.tepDinhKemUrl&&!z.isPending){const V=`${sd}${z.tepDinhKemUrl}`,X=await L(V,S);U[z.maTinNhan]=X}P(U),i(R)}catch(S){console.error("Lỗi khi tải tin nhắn:",S),i([])}finally{o(!1),l(!0)}};O(),j()},[e,n]),B.useEffect(()=>{c&&M.current&&(M.current.scrollIntoView({behavior:"smooth"}),l(!1))},[s,c]);const F=(j,S)=>{const I=new Date().toISOString(),R={maTinNhan:Date.now(),nguoiGuiId:n,nguoiNhanId:e,noiDung:j,kieuTinNhan:S?"image":D.includes(j)?"emoji":"text",tepDinhKemUrl:S?URL.createObjectURL(S):void 0,ngayTao:I,isPending:!0,sentTime:I};console.log("Thêm tin nhắn tạm thời:",R),i(U=>[...U,R]),l(!0)},_=j=>{if(!j)return"Tệp không xác định";const S=j.split("/"),I=S[S.length-1]||"Tệp không xác định",R=I.lastIndexOf("_");if(R!==-1&&R<I.length-1)return I.substring(R+1);const U=I.lastIndexOf(".");return U!==-1&&U<I.length-1?I.substring(U+1):I},E=(j,S,I)=>{j&&(A(j),p(_(j)),x(!!S),y(!!I),h(!0))},T=async()=>{if(m)try{const j=localStorage.getItem("token")||"";console.log("Attempting download from:",m);const S=await fetch(m,{headers:{Authorization:`Bearer ${j}`},mode:"cors"});if(!S.ok)throw console.error(`Download failed: ${S.status} - ${S.statusText}`,m),new Error(`Không thể tải tệp: ${S.statusText}`);const I=await S.blob(),R=window.URL.createObjectURL(I),U=document.createElement("a");U.href=R,U.download=g||"file",document.body.appendChild(U),U.click(),document.body.removeChild(U),window.URL.revokeObjectURL(R)}catch(j){console.error("Lỗi khi tải tệp:",j),alert(`Không thể tải tệp. Vui lòng thử lại. Chi tiết: ${j instanceof Error?j.message:"Lỗi không xác định"}`)}finally{h(!1)}};return a?r.jsx("div",{className:"flex items-center justify-center h-full",children:"Đang tải..."}):r.jsxs("div",{className:"flex flex-col h-full bg-[#f5f0ff] border border-[#9b87f5] rounded-xl overflow-hidden max-h-[calc(100vh-50px)]",children:[r.jsxs("div",{className:"flex items-center p-2 bg-[#f5f0ff] border-b border-[#9b87f5]/20",children:[r.jsx(Bg,{className:"h-10 w-10 mr-2 border border-[#9b87f5] cursor-pointer",onClick:()=>k(`/user/profile/${t.id}`),children:t.avatar?r.jsx(nu,{src:t.avatar,alt:t.name}):u?r.jsx(nu,{src:u,alt:"Default avatar"}):r.jsx(Eg,{children:((w=t.name)==null?void 0:w[0])||"?"})}),r.jsx("h3",{className:"text-[#9b87f5] font-semibold",children:t.name})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",style:{maxHeight:"calc(100vh - 150px)"},children:s.map((j,S)=>{const I=j.nguoiGuiId===n,R=S===s.length-1;return r.jsx("div",{ref:R?M:null,className:Fe("flex",I?"justify-end":"justify-start"),children:r.jsxs("div",{className:Fe("max-w-[70%] p-3 rounded-xl",I?"bg-[#9b87f5] text-white":"bg-white border border-[#9b87f5]/20 text-gray-800"),children:[r.jsx("p",{className:j.kieuTinNhan==="emoji"?"text-2xl":"text-sm",children:j.noiDung}),j.tepDinhKemUrl&&(j.kieuTinNhan==="image"?r.jsx("img",{src:j.isPending?j.tepDinhKemUrl:N[j.maTinNhan]||`${sd}${j.tepDinhKemUrl}`,alt:"Đính kèm hình ảnh",className:"mt-2 max-w-[200px] rounded cursor-pointer",onClick:()=>E(j.isPending?j.tepDinhKemUrl:`${sd}${j.tepDinhKemUrl}`,j.isPending,!0),onError:U=>{const z=U.target;console.error("Hình ảnh tải thất bại:",z.src),z.src="/fallback-image.png"}}):r.jsx("span",{onClick:()=>E(j.isPending?j.tepDinhKemUrl:`${sd}${j.tepDinhKemUrl}`,j.isPending,!1),className:Fe("mt-2 text-sm cursor-pointer hover:underline",I?"text-white/90":"text-blue-600"),children:_((j.isPending,j.tepDinhKemUrl))})),r.jsx("div",{className:Fe("text-xs mt-1",I?"text-white/80":"text-gray-500"),children:G6e(j.ngayTao)})]})},j.maTinNhan)})}),r.jsx("div",{className:"p-2 bg-[#f5f0ff] border-t border-[#9b87f5]/20 sticky bottom-0 z-10",children:r.jsx(K6e,{recipientId:t.id,recipientName:t.name,onSuccess:F})}),r.jsx(Jt,{open:f,onOpenChange:h,children:r.jsxs(Wt,{className:"p-6",children:[r.jsxs(an,{children:[r.jsx(tn,{children:"Xác nhận tải xuống"}),r.jsx(Or,{children:v?r.jsxs(r.Fragment,{children:["Bạn có muốn tải về hình ảnh này không?",r.jsx("img",{src:b?m:N[(C=s.find(j=>j.tepDinhKemUrl===(m==null?void 0:m.replace(`${sd}`,""))))==null?void 0:C.maTinNhan]||m||"/fallback-image.png",alt:"Xem trước",className:"mt-2 max-w-[200px] rounded",onError:j=>{const S=j.target;console.error("Xem trước hình ảnh thất bại:",S.src),S.src="/fallback-image.png"}})]}):r.jsxs(r.Fragment,{children:["Bạn có muốn tải về tệp ",r.jsx("strong",{children:g})," không?"]})})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[r.jsx(e$,{asChild:!0,children:r.jsx(fe,{variant:"outline",children:"Hủy"})}),r.jsx(fe,{onClick:T,children:"Đồng ý"})]})]})})]})},kp="https://bicacuatho.azurewebsites.net",LK=({recipientId:e,recipientName:t})=>{const n=localStorage.getItem("userId")||"",[s,i]=B.useState([]),[a,o]=B.useState(null),[c,l]=B.useState(!0),[u,d]=B.useState(""),[f,h]=B.useState([]),[m,A]=B.useState(!1),[g,p]=B.useState(null),b="AD00012",x="Admin",v=async()=>{try{const N=await fetch(`${kp}/api/GiaoDien`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!N.ok)throw new Error("Lỗi khi tải avatar mặc định");const M=(await N.json()).find(k=>k.trangThai===1);M&&M.avt?p(`data:image/png;base64,${M.avt}`):p(null)}catch(N){console.error("Lỗi khi lấy avatar mặc định:",N.message),p(null)}};B.useEffect(()=>{v()},[]),B.useEffect(()=>{(async()=>{l(!0);const P=localStorage.getItem("token")||"";try{const M=await fetch(`${kp}/api/TinNhan/threads?userId=${encodeURIComponent(n)}`,{headers:{Authorization:`Bearer ${P}`}});if(!M.ok)throw new Error("Không thể tải threads");const k=await M.json(),D=await Promise.all(k.map(async L=>{const F=L.nguoiGuiId===n?L.nguoiNhanId:L.nguoiGuiId,_=await fetch(`${kp}/api/NguoiDung?searchTerm=${encodeURIComponent(F)}`,{headers:{Authorization:`Bearer ${P}`}}),T=(_.ok?await _.json():[]).find(w=>w.maNguoiDung===F);return{id:F,user:{id:F,name:(T==null?void 0:T.hoTen)||F,avatar:T!=null&&T.hinhAnh?`data:image/png;base64,${T.hinhAnh}`:null},lastMessage:{content:L.noiDung,timestamp:L.ngayTao,isRead:!0},isPinned:F===b}}));if(!D.some(L=>L.id===b)){const L=await fetch(`${kp}/api/NguoiDung?searchTerm=${encodeURIComponent(b)}`,{headers:{Authorization:`Bearer ${P}`}}),_=(L.ok?await L.json():[]).find(E=>E.maNguoiDung===b);D.unshift({id:b,user:{id:b,name:(_==null?void 0:_.hoTen)||x,avatar:_!=null&&_.hinhAnh?`data:image/png;base64,${_.hinhAnh}`:null},lastMessage:{content:"",timestamp:new Date().toISOString(),isRead:!0},isPinned:!0})}i(D.sort((L,F)=>(F.isPinned?1:0)-(L.isPinned?1:0))),e&&(!D.find(F=>F.id===e)&&t&&i([{id:e,user:{id:e,name:t,avatar:null},lastMessage:{content:"",timestamp:new Date().toISOString(),isRead:!0},isPinned:e===b},...D]),o(e))}catch(M){console.error("Lỗi khi tải threads:",M)}finally{l(!1)}})()},[n,e,t]),B.useEffect(()=>{if(!u.trim()){h([]);return}const N=setTimeout(async()=>{A(!0);const P=localStorage.getItem("token")||"";try{const M=await fetch(`${kp}/api/NguoiDung?searchTerm=${encodeURIComponent(u)}`,{headers:{Authorization:`Bearer ${P}`}});if(!M.ok)throw new Error("Không thể tìm kiếm người dùng");const k=await M.json();h(k.map(D=>({id:D.maNguoiDung,name:D.hoTen,avatar:D.hinhAnh?`data:image/png;base64,${D.hinhAnh}`:null})))}catch(M){console.error("Lỗi khi tìm kiếm:",M)}finally{A(!1)}},300);return()=>clearTimeout(N)},[u]);const y=N=>{s.find(P=>P.id===N.id)||i(P=>[{id:N.id,user:N,lastMessage:{content:"",timestamp:new Date().toISOString(),isRead:!0},isPinned:N.id===b},...P].sort((M,k)=>(k.isPinned?1:0)-(M.isPinned?1:0))),o(N.id),h([]),d("")};return c?r.jsx("div",{className:"flex items-center justify-center h-full",children:"Đang tải..."}):r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-2 h-full",children:[r.jsxs(it,{className:"lg:col-span-1 border border-[#c083fc] rounded-xl shadow h-full bg-[#f5f0ff]",children:[r.jsxs(yt,{className:"p-2 border-b border-[#c083fc]/30",children:[r.jsxs(jt,{className:"flex items-center gap-2 text-[#c083fc]",children:[r.jsx(Jd,{className:"h-5 w-5"})," Tin nhắn"]}),r.jsx(ks,{className:"text-gray-600",children:"Tìm hoặc chọn người để trò chuyện"})]}),r.jsxs(dt,{className:"p-2 space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Un,{className:"absolute left-2 top-1/2 -translate-y-1/2 text-[#c083fc]"}),r.jsx(ye,{placeholder:"Tìm người dùng...",className:"pl-8 border-[#c083fc] rounded-full focus:ring-[#c083fc] bg-white",value:u,onChange:N=>d(N.target.value)})]}),m&&r.jsx("p",{className:"text-[#c083fc] text-sm",children:"Đang tìm..."}),f.map(N=>r.jsxs("div",{onClick:()=>y(N),className:"flex items-center p-2 cursor-pointer hover:bg-[#c083fc]/10 rounded-xl border border-[#c083fc]/50",children:[r.jsx(Bg,{className:"h-8 w-8 mr-2",children:N.avatar?r.jsx(nu,{src:N.avatar}):g?r.jsx(nu,{src:g}):r.jsx(Eg,{className:"bg-[#00c2cb] text-white",children:N.name[0]})}),r.jsx("span",{className:"text-[#c083fc]",children:N.name})]},N.id)),r.jsx("div",{className:"overflow-y-auto max-h-[calc(100vh-200px)] space-y-1",children:s.map(N=>r.jsxs("div",{onClick:()=>o(N.id),className:`flex items-center p-2 rounded-xl cursor-pointer ${a===N.id?"bg-[#c083fc]/20":"hover:bg-[#c083fc]/10"} border border-[#c083fc]/50`,children:[r.jsx(Bg,{className:"h-8 w-8 mr-2",children:N.user.avatar?r.jsx(nu,{src:N.user.avatar}):g?r.jsx(nu,{src:g}):r.jsx(Eg,{className:"bg-[#00c2cb] text-white",children:N.user.name[0]})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("p",{className:"font-medium text-[#c083fc]",children:[N.user.name," ",N.isPinned&&r.jsx(cee,{className:"inline h-4 w-4 ml-1 text-[#c083fc]"})]}),r.jsx("p",{className:"text-xs truncate text-gray-600",children:N.lastMessage.content})]}),r.jsx("span",{className:"text-xs text-gray-500",children:new Date(N.lastMessage.timestamp).toLocaleTimeString()})]},N.id))})]})]}),r.jsx("div",{className:"lg:col-span-2",children:a?r.jsx(W6e,{threadId:a,user:s.find(N=>N.id===a).user}):r.jsxs(it,{className:"h-full flex items-center justify-center flex-col border-[#c083fc] rounded-xl bg-[#f5f0ff]",children:[r.jsx(Jd,{className:"text-[#c083fc] text-4xl"}),r.jsx("p",{className:"mt-2 text-[#c083fc]",children:"Chọn một cuộc trò chuyện để bắt đầu"})]})})]})},q6e=()=>{const e=Bs(),{recipientId:t,recipientName:n}=e.state||{};return r.jsx("div",{className:"w-full h-[calc(100vh-64px)] flex flex-col",children:r.jsx(LK,{recipientId:t,recipientName:n})})},X6e=e=>/^[0-9a-fA-F]{6}$/.test(e),oC=(e,t)=>{At[t](e,{duration:3e3,position:"top-right",style:{background:t==="success"?"#10B981":"#EF4444",color:"white",border:"none"}})},vP=()=>{const e=gr(),[t,n]=B.useState([]),[s,i]=B.useState([]),[a,o]=B.useState([]),[c,l]=B.useState(!0),[u,d]=B.useState("grid"),[f,h]=B.useState(""),[m,A]=B.useState(""),[g,p]=B.useState(1),[b,x]=B.useState(""),[v,y]=B.useState(!1),[N,P]=B.useState(0),[M,k]=B.useState(0),[D,O]=B.useState(null),[L,F]=B.useState(null),[_,E]=B.useState("cash"),[T,w]=B.useState(""),C=6,j=se=>se.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")+" VND",S=()=>{const se=s.reduce((q,Z)=>q+Z.tienSanPham*Z.soLuong,0),ie=a.reduce((q,Z)=>q+Z.gia*Z.soLuong,0);return se+ie},I=()=>N,R=()=>S()-N,U=()=>{const se=R(),ie=parseFloat(T)||0;return ie>=se?ie-se:0};B.useEffect(()=>{const se=async()=>{const q="KH001";try{const te=await(await fetch(`https://bicacuatho.azurewebsites.net/api/Cart/GioHangByKhachHang?id=${q}`)).json();F(te.id);const re=te.ctghSanPhamView.map(ae=>({...ae,hinhAnh:ae.hinhAnh.startsWith("data:image")?ae.hinhAnh:`data:image/jpeg;base64,${ae.hinhAnh}`}));i(re);const Y=te.ctghComboView.map(ae=>{var ce;return{...ae,chiTietGioHangCombo:ae.chiTietGioHangCombo,hinhAnh:(ce=ae.hinhAnh)!=null&&ce.startsWith("data:image")?ae.hinhAnh:ae.hinhAnh?`data:image/jpeg;base64,${ae.hinhAnh}`:"/placeholder-image.jpg",sanPhamList:ae.sanPhamList.map(de=>{var pe;return{...de,hinhAnh:(pe=de.hinhAnh)!=null&&pe.startsWith("data:image")?de.hinhAnh:de.hinhAnh?`data:image/jpeg;base64,${de.hinhAnh}`:"/placeholder-image.jpg"}})}});o(Y);const oe=re.reduce((ae,ce)=>ae+ce.tienSanPham*ce.soLuong,0)+Y.reduce((ae,ce)=>ae+ce.gia*ce.soLuong,0);k(oe)}catch(Z){console.error("Lỗi lấy dữ liệu giỏ hàng:",Z)}},ie=async()=>{try{const q=await fetch("https://bicacuatho.azurewebsites.net/api/SanPham/ListSanPham",{method:"GET",headers:{"Content-Type":"application/json"}});if(q.ok){const te=(await q.json()).flatMap(re=>{const{mauSac:Y=[""],kichThuoc:oe=[""],hinh:ae=[],...ce}=re;return Y.flatMap(de=>oe.map(pe=>({...ce,mauSac:de||"N/A",kichThuoc:pe,hinh:ae.length>0?ae:["/placeholder-image.jpg"],variationId:`${re.id}-${de}-${pe}`,name:`${re.name||"Không có tên"} ${de?`(${de}`:""}${pe?`${de?", ":"("}${pe})`:de?")":""}`})))});n(te||[])}else console.error("Lỗi khi lấy danh sách sản phẩm:",q.status),n([])}catch(q){console.error("Lỗi kết nối API danh sách sản phẩm:",q),n([])}finally{l(!1)}};se(),ie()},[e]);const z=async se=>{if(!se.kichThuoc||se.kichThuoc==="N/A"){oC("Vui lòng chọn kích thước trước khi thêm vào giỏ hàng!","error");return}const ie={IDNguoiDung:"KH001",IDSanPham:se.id,MauSac:se.mauSac,KichThuoc:se.kichThuoc,SoLuong:1};try{if(!(await fetch("https://bicacuatho.azurewebsites.net/api/Cart/ThemSanPhamVaoGioHang",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ie)})).ok)throw new Error("Không thể thêm vào giỏ hàng");const Z=await fetch("https://bicacuatho.azurewebsites.net/api/Cart/GioHangByKhachHang?id=KH001");if(Z.ok){const te=await Z.json();F(te.id);const re=te.ctghSanPhamView.map(ae=>({...ae,hinhAnh:ae.hinhAnh.startsWith("data:image")?ae.hinhAnh:`data:image/jpeg;base64,${ae.hinhAnh}`}));i(re);const Y=te.ctghComboView.map(ae=>{var ce;return{...ae,chiTietGioHangCombo:ae.chiTietGioHangCombo,hinhAnh:(ce=ae.hinhAnh)!=null&&ce.startsWith("data:image")?ae.hinhAnh:ae.hinhAnh?`data:image/jpeg;base64,${ae.hinhAnh}`:"/placeholder-image.jpg",sanPhamList:ae.sanPhamList.map(de=>{var pe;return{...de,hinhAnh:(pe=de.hinhAnh)!=null&&pe.startsWith("data:image")?de.hinhAnh:de.hinhAnh?`data:image/jpeg;base64,${de.hinhAnh}`:"/placeholder-image.jpg"}})}});o(Y);const oe=re.reduce((ae,ce)=>ae+ce.tienSanPham*ce.soLuong,0)+Y.reduce((ae,ce)=>ae+ce.gia*ce.soLuong,0);k(oe)}oC("Đã thêm vào giỏ hàng thành công!","success")}catch(q){oC("Có lỗi xảy ra khi thêm vào giỏ hàng!","error"),console.error("Lỗi thêm vào giỏ hàng:",q)}},V=async(se,ie)=>{const Z={MaKhachHang:"KH001",IDSanPham:se,IDCombo:null};try{ie>0?await fetch("https://bicacuatho.azurewebsites.net/api/Cart/TangSoLuongSanPham",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Z)}):await fetch("https://bicacuatho.azurewebsites.net/api/Cart/GiamSoLuongSanPham",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Z)}),i(re=>re.map(Y=>Y.idSanPham===se?{...Y,soLuong:Math.max(1,Y.soLuong+ie)}:Y));const te=S();k(te-N)}catch(te){At.error("Không thể cập nhật số lượng"),console.error("Lỗi cập nhật số lượng:",te)}},X=async se=>{const ie="KH001";if((await we.fire({title:"Bạn có chắc không?",text:"Bạn có muốn xóa sản phẩm này khỏi giỏ hàng?",icon:"warning",showCancelButton:!0,confirmButtonText:"Có, xóa nó!",cancelButtonText:"Không, giữ lại"})).isConfirmed){const Z={MaKhachHang:ie,IDSanPham:se,IDCombo:null};try{await fetch("https://bicacuatho.azurewebsites.net/api/Cart/XoaSanPham",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(Z)}),i(te=>te.filter(re=>re.idSanPham!==se)),At.success("Đã xóa sản phẩm khỏi giỏ hàng")}catch(te){At.error("Xóa sản phẩm thất bại"),console.error("Lỗi xóa sản phẩm:",te)}}},$=async se=>{const ie="KH001";if((await we.fire({title:"Bạn có chắc không?",text:"Bạn có muốn xóa combo này khỏi giỏ hàng?",icon:"warning",showCancelButton:!0,confirmButtonText:"Có, xóa nó!",cancelButtonText:"Không, giữ lại"})).isConfirmed){const Z={MaKhachHang:ie,IDSanPham:null,IDCombo:se};try{await fetch("https://bicacuatho.azurewebsites.net/api/Cart/XoaCombo",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(Z)}),o(te=>te.filter(re=>re.idCombo!==se)),At.success("Đã xóa combo khỏi giỏ hàng")}catch(te){At.error("Xóa combo thất bại"),console.error("Lỗi xóa combo:",te)}}},W=async()=>{if(!b){At.error("Vui lòng nhập mã giảm giá");return}if(!L){At.error("Giỏ hàng không hợp lệ");return}try{const se=await fetch(`https://bicacuatho.azurewebsites.net/api/Voucher/Validate?code=${encodeURIComponent(b)}&cartId=${L}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!se.ok)throw new Error(`Lỗi HTTP! Trạng thái: ${se.status}`);const ie=await se.json();ie.success?(y(!0),P(ie.discountAmount),k(S()-ie.discountAmount),At.success("Mã giảm giá đã được áp dụng!")):(y(!1),P(0),k(S()),At.error(ie.message))}catch(se){At.error("Mã giảm giá không hợp lệ hoặc đã hết hạn."),console.error("Lỗi áp dụng mã giảm giá:",se)}},H=async se=>{se.preventDefault();const ie="KH001";if(_==="cash"){const q=R();if((parseFloat(T)||0)<q){At.error("Số tiền khách đưa không đủ để thanh toán!");return}}try{const Z=await(await fetch(`https://bicacuatho.azurewebsites.net/api/Cart/GioHangByKhachHang?id=${ie}`)).json();F(Z.id);const te=Z.ctghSanPhamView.map(pe=>({...pe,hinhAnh:pe.hinhAnh.startsWith("data:image")?pe.hinhAnh:`data:image/jpeg;base64,${pe.hinhAnh}`}));i(te);const re=Z.ctghComboView.map(pe=>{var Ae;return{...pe,chiTietGioHangCombo:pe.chiTietGioHangCombo,hinhAnh:(Ae=pe.hinhAnh)!=null&&Ae.startsWith("data:image")?pe.hinhAnh:pe.hinhAnh?`data:image/jpeg;base64,${pe.hinhAnh}`:"/placeholder-image.jpg",sanPhamList:pe.sanPhamList.map(le=>{var he;return{...le,hinhAnh:(he=le.hinhAnh)!=null&&he.startsWith("data:image")?le.hinhAnh:le.hinhAnh?`data:image/jpeg;base64,${le.hinhAnh}`:"/placeholder-image.jpg"}})}});if(o(re),b){const Ae=await(await fetch(`https://bicacuatho.azurewebsites.net/api/Voucher/Validate?code=${encodeURIComponent(b)}&cartId=${Z.id}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json();if(Ae.success)y(!0),P(Ae.discountAmount);else{y(!1),P(0),At.error("Mã giảm giá không hợp lệ, đã xóa giảm giá"),k(S());return}}const oe=S()-N,ae={cartId:Z.id,couponCode:b||null,paymentMethod:_,discountAmount:N,finalAmount:oe,shippingFee:0,tenNguoiNhan:"Khách hàng offline",sdt:"N/A",diaChi:"Thanh toán tại cửa hàng"},de=await(await fetch("https://bicacuatho.azurewebsites.net/api/CheckOut/process-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)})).json();if(de.success){if(_==="cash")At.success(de.message,{description:`Mã đơn hàng: ${de.orderId}`,duration:3e3,action:{label:"Xem chi tiết",onClick:()=>e("/payment-success",{state:{orderId:de.orderId}})}}),i([]),o([]),x(""),y(!1),P(0),k(0),w(""),e("/payment-success",{state:{orderId:de.orderId}});else if(_==="vnpay"){if(de.finalAmount!==oe){At.error(`Tổng tiền VNPay (${j(de.finalAmount)}) không khớp với kỳ vọng (${j(oe)}).`);return}window.location.href=de.message}}else At.error(de.message)}catch(q){At.error("Đã xảy ra lỗi khi thanh toán"),console.error("Lỗi thanh toán:",q)}},G=(()=>{var ie,q,Z,te,re,Y;let se=[...t];if(f.includes("_")){const oe=f.split("_"),ae=((ie=oe[0])==null?void 0:ie.trim())||"",ce=((q=oe[1])==null?void 0:q.trim())||"",de=((Z=oe[2])==null?void 0:Z.trim())||"";se=se.filter(pe=>{var me,ve,_e;const Ae=ae?(((me=pe.id)==null?void 0:me.toLowerCase())||"")===ae.toLowerCase():!0,le=ce?(((ve=pe.mauSac)==null?void 0:ve.toLowerCase())||"")===ce.toLowerCase():!0,he=de?(((_e=pe.kichThuoc)==null?void 0:_e.toLowerCase())||"")===de.toLowerCase():!0;return de?Ae&&le&&he:Ae&&le})}else if(f.includes(",")){const oe=f.split(","),ae=((te=oe[0])==null?void 0:te.trim())||"",ce=((re=oe[1])==null?void 0:re.trim())||"",de=((Y=oe[2])==null?void 0:Y.trim())||"";se=se.filter(pe=>{var me,ve,_e;const Ae=ae?(((me=pe.id)==null?void 0:me.toLowerCase())||"")===ae.toLowerCase():!0,le=ce?(((ve=pe.mauSac)==null?void 0:ve.toLowerCase())||"")===ce.toLowerCase():!0,he=de?(((_e=pe.kichThuoc)==null?void 0:_e.toLowerCase())||"")===de.toLowerCase():!0;return Ae&&le&&he})}else se=se.filter(oe=>{var ae,ce,de,pe,Ae;return(((ae=oe.name)==null?void 0:ae.toLowerCase())||"").includes(f.toLowerCase())||(((ce=oe.loaiSanPham)==null?void 0:ce.toLowerCase())||"").includes(f.toLowerCase())||(((de=oe.id)==null?void 0:de.toString().toLowerCase())||"").includes(f.toLowerCase())||(((pe=oe.mauSac)==null?void 0:pe.toLowerCase())||"").includes(f.toLowerCase())||(((Ae=oe.kichThuoc)==null?void 0:Ae.toLowerCase())||"").includes(f.toLowerCase())});switch(m){case"price-asc":return se.sort((oe,ae)=>(oe.donGia||0)-(ae.donGia||0));case"price-desc":return se.sort((oe,ae)=>(ae.donGia||0)-(oe.donGia||0));case"name-asc":return se.sort((oe,ae)=>(oe.name||"").localeCompare(ae.name||""));case"name-desc":return se.sort((oe,ae)=>(ae.name||"").localeCompare(oe.name||""));default:return se}})(),J=g*C,ee=J-C,K=G.slice(ee,J),ne=Math.ceil(G.length/C),ue=se=>{p(se)};return c?r.jsx("div",{className:"flex justify-center items-center h-screen",children:"Đang tải sản phẩm..."}):r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:r.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[r.jsx(ct,{to:"/admin",children:r.jsx(Nm,{className:"w-6 h-6 hover:text-purple-500 transition-colors duration-200"})}),r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Nhân viên bán hàng"})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[r.jsx("div",{className:"lg:col-span-3",children:r.jsxs(it,{children:[r.jsx(yt,{className:"pb-3",children:r.jsx(jt,{children:"Bán hàng tại quầy"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6 justify-between items-start sm:items-center",children:[r.jsxs("div",{className:"relative w-full sm:w-auto",children:[r.jsx(Un,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{type:"search",placeholder:"Tìm theo tên, loại, mã, màu, kích thước hoặc mã_màu_kích thước, mã_màu, mã,màu,kích thước",className:"pl-8 w-full sm:w-[300px]",value:f,onChange:se=>h(se.target.value)})]}),r.jsx("div",{className:"flex gap-2 self-end items-center",children:r.jsxs("div",{className:"flex border rounded-md",children:[r.jsx(fe,{variant:u==="grid"?"secondary":"ghost",size:"sm",className:"h-9 rounded-r-none",onClick:()=>d("grid"),children:r.jsx(NT,{className:"h-4 w-4"})}),r.jsx(fe,{variant:u==="list"?"secondary":"ghost",size:"sm",className:"h-9 rounded-l-none",onClick:()=>d("list"),children:r.jsx(Jg,{className:"h-4 w-4"})})]})})]}),u==="grid"?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:K.map(se=>r.jsxs(it,{className:"hover-scale overflow-hidden",children:[r.jsx("div",{className:"h-40 bg-purple-light flex items-center justify-center",children:r.jsx("img",{src:se.hinh&&se.hinh[0]?`data:image/jpeg;base64,${se.hinh[0]}`:"/placeholder-image.jpg",alt:se.name,className:"w-full h-full object-cover"})}),r.jsxs(dt,{className:"p-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:se.name||"Không có tên"}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Mã: ",se.id||"N/A","_",se.mauSac,"_",se.kichThuoc]}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Thương hiệu: ",se.thuongHieu||"Không xác định"]}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1 flex items-center",children:["Màu sắc: ",se.mauSac||"N/A",X6e(se.mauSac)&&r.jsx("span",{className:"inline-block w-4 h-4 ml-2 rounded-full border border-gray-300",style:{backgroundColor:`#${se.mauSac}`}})]}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Kích thước: ",se.kichThuoc||"N/A"]}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Chất liệu: ",se.chatLieu||"N/A"]}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Số lượng: ",se.soLuong||0]})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[r.jsxs(Kt,{variant:"outline",className:"bg-secondary border-0 text-white",children:[r.jsx(Vr,{className:"h-3 w-3 mr-1"})," ",se.loaiSanPham||"N/A"]}),r.jsx(Kt,{variant:se.soLuong>0?"default":"destructive",className:"flex items-center px-2",children:se.trangThai===0?"Tạm Ngưng Bán":"Đang Bán"})]}),r.jsx("div",{className:"flex justify-between items-center mt-3",children:r.jsx("span",{className:"font-bold text-purple",children:j(se.donGia||0)})}),r.jsx("div",{className:"flex gap-3 mt-3",children:r.jsxs(fe,{onClick:()=>z(se),className:"flex-1 bg-crocus-600 hover:bg-crocus-700",disabled:se.soLuong===0,children:[r.jsx(Rs,{className:"mr-2 h-4 w-4"})," Thêm"]})})]})]},se.variationId))}):r.jsx("div",{className:"space-y-4",children:K.map(se=>r.jsxs(it,{className:"flex",children:[r.jsx("div",{className:"w-32 h-32 bg-gray-100 flex items-center justify-center",children:r.jsx("img",{src:se.hinh&&se.hinh[0]?`data:image/jpeg;base64,${se.hinh[0]}`:"/placeholder-image.jpg",alt:se.name,className:"object-cover w-full h-full"})}),r.jsxs(dt,{className:"flex-1 p-4",children:[r.jsx("h3",{className:"font-semibold",children:se.name||"Không có tên"}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Mã: ",se.id||"N/A"]}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Màu sắc: ",se.mauSac||"N/A"]}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Kích thước: ",se.kichThuoc||"N/A"]}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Giá: ",j(se.donGia||0)]}),r.jsx("div",{className:"flex gap-3 mt-3",children:r.jsxs(fe,{onClick:()=>z(se),className:"flex-1 bg-crocus-600 hover:bg-crocus-700",disabled:se.soLuong===0,children:[r.jsx(Rs,{className:"mr-2 h-4 w-4"})," Thêm"]})})]})]},se.variationId))}),r.jsx("div",{className:"mt-6 flex justify-center gap-2 flex-wrap",children:Array.from({length:ne},(se,ie)=>ie+1).map(se=>r.jsx(fe,{size:"sm",variant:se===g?"default":"outline",onClick:()=>ue(se),children:se},se))})]})]})}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-border sticky top-4",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Giỏ hàng"}),s.length>0||a.length>0?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-4 mb-6",children:[s.map(se=>r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center p-2 bg-gray-50 rounded-md",children:[r.jsx("div",{className:"w-full sm:w-16 h-16 bg-muted rounded-md overflow-hidden mr-2 mb-2 sm:mb-0",children:r.jsx("img",{src:se.hinhAnh,alt:se.tenSanPham,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-sm",children:se.tenSanPham}),r.jsxs("p",{className:"text-muted-foreground text-xs",children:[se.mauSac,", ",se.kichThuoc]}),r.jsxs("p",{className:"text-muted-foreground text-xs",children:[j(se.tienSanPham)," x ",se.soLuong]})]}),r.jsxs("div",{className:"flex items-center mt-2 sm:mt-0",children:[r.jsx("button",{onClick:()=>V(se.idSanPham,-1),className:"p-1 rounded-md hover:bg-muted",children:r.jsx(Bw,{size:12})}),r.jsx("span",{className:"mx-1 w-6 text-center text-xs",children:se.soLuong}),r.jsx("button",{onClick:()=>V(se.idSanPham,1),className:"p-1 rounded-md hover:bg-muted",children:r.jsx(mr,{size:12})}),r.jsx("button",{onClick:()=>X(se.idSanPham),className:"ml-2 p-1 text-red-500 hover:bg-red-50 rounded-md",children:r.jsx(za,{size:12})})]})]},se.idSanPham)),a.map(se=>r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center p-2 bg-gray-50 rounded-md",children:[r.jsx("div",{className:"w-full sm:w-16 h-16 bg-muted rounded-md overflow-hidden mr-2 mb-2 sm:mb-0",children:r.jsx("img",{src:se.hinhAnh,alt:se.tenCombo,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-sm",children:se.tenCombo}),r.jsxs("p",{className:"text-muted-foreground text-xs",children:["Gồm: ",se.sanPhamList.length," sản phẩm"]}),r.jsxs("p",{className:"text-muted-foreground text-xs",children:[j(se.gia)," x ",se.soLuong]})]}),r.jsxs("div",{className:"flex items-center mt-2 sm:mt-0",children:[r.jsx("span",{className:"mx-1 w-6 text-center text-xs",children:se.soLuong}),r.jsx(fe,{variant:"outline",size:"sm",className:"text-xs px-1 py-0 h-6",onClick:()=>O(se),children:"Cập nhật"}),r.jsx("button",{onClick:()=>$(se.idCombo),className:"ml-2 p-1 text-red-500 hover:bg-red-50 rounded-md",children:r.jsx(za,{size:12})})]})]},se.idCombo)),r.jsx("div",{className:"border-t my-3"}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Tổng tiền gốc"}),r.jsx("span",{children:j(S())})]}),v&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Giảm giá"}),r.jsxs("span",{children:["-",j(I())]})]}),r.jsxs("div",{className:"border-t pt-3 flex justify-between font-medium",children:[r.jsx("span",{children:"Tổng tiền"}),r.jsx("span",{className:"text-lg",children:j(R())})]})]}),r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(ye,{placeholder:"Mã giảm giá",value:b,onChange:se=>x(se.target.value),className:"mr-2"}),r.jsx(fe,{size:"sm",onClick:W,children:"Áp Dụng"})]}),r.jsxs("form",{onSubmit:H,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{children:"Phương thức thanh toán"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("label",{className:"flex items-center text-sm",children:[r.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:_==="cash",onChange:()=>{E("cash"),w("")},className:"mr-1"}),"Tiền mặt"]}),r.jsxs("label",{className:"flex items-center text-sm",children:[r.jsx("input",{type:"radio",name:"paymentMethod",value:"vnpay",checked:_==="vnpay",onChange:()=>{E("vnpay"),w("")},className:"mr-1"}),"VNPay"]})]}),_==="cash"&&r.jsxs("div",{className:"space-y-2 mt-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"customerPaid",children:"Số tiền khách đưa (VND)"}),r.jsx(ye,{id:"customerPaid",type:"number",value:T,onChange:se=>w(se.target.value),placeholder:"Nhập số tiền khách đưa",min:"0",required:!0})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-medium",children:"Số tiền thối lại:"}),r.jsx("span",{className:U()>=0?"text-green-600":"text-red-600",children:j(U())})]})]})]}),r.jsx(fe,{type:"submit",className:"w-full",disabled:!L||_==="cash"&&parseFloat(T)<R(),children:_==="cash"?"Xác nhận thanh toán tiền mặt":"Thanh toán qua VNPay"})]})]}):r.jsxs("div",{className:"text-center",children:[r.jsx(Rs,{className:"mx-auto h-12 w-12 text-muted-foreground/60 mb-2"}),r.jsx("p",{className:"text-muted-foreground",children:"Chưa có sản phẩm nào."})]})]})})]}),r.jsx(nh,{open:!!D,onOpenChange:se=>!se&&O(null),children:r.jsxs(rh,{children:[r.jsx(oc,{className:"fixed inset-0 bg-black/50"}),r.jsx(lc,{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})]})})]})},Bc=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e||0),Y6e=e=>e?new Date(e).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"N/A",Z6e=()=>{var x,v,y,N,P,M,k;const[e]=Hie(),t=gr(),n=e.get("orderId"),[s,i]=B.useState(null),[a,o]=B.useState(!0),[c,l]=B.useState(null),[u,d]=B.useState(""),[f,h]=B.useState(!1);B.useEffect(()=>{(async()=>{if(!n){l("Không tìm thấy mã đơn hàng"),o(!1);return}try{o(!0);const O=JSON.parse(localStorage.getItem("user")||"{}"),L=O==null?void 0:O.maNguoiDung;if(L){const _=(await Nt.get(`https://bicacuatho.azurewebsites.net/api/user/orders/${L}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;if(Array.isArray(_)){const E=_.find(T=>T.maDonHang.toString()===n);if(E)i(E);else{const w=(await Nt.get(`https://bicacuatho.azurewebsites.net/api/user/orders/bill/${n}`)).data;if(w&&typeof w=="object"&&w.maDonHang)i(w);else throw new Error("Order not found in user orders or bill API")}}else throw new Error("Invalid response format from orders API")}else{const _=(await Nt.get(`https://bicacuatho.azurewebsites.net/api/user/orders/bill/${n}`)).data;if(_&&typeof _=="object"&&_.maDonHang)i(_);else throw new Error("Invalid order data received")}}catch(O){console.error("Error fetching order detail:",O),l("Không thể tải thông tin đơn hàng");try{const F=(await Nt.get(`https://bicacuatho.azurewebsites.net/api/user/orders/bill/${n}`)).data;if(F&&typeof F=="object"&&F.maDonHang)i(F),l(null);else throw new Error("Invalid fallback data")}catch(L){console.error("Fallback API also failed:",L),l("Không thể tải thông tin đơn hàng từ cả hai nguồn")}}finally{o(!1)}})()},[n]),B.useEffect(()=>{(async()=>{if(s!=null&&s.maDonHang)try{h(!0);const L=(await Nt.get(`https://bicacuatho.azurewebsites.net/api/OrderNotification/test-qr-base64/${s.maDonHang}`)).data;if(L&&L.dataUrl)d(L.dataUrl);else if(L&&L.qrCode)d(`data:image/png;base64,${L.qrCode}`);else{const F=`http://localhost:8080/user/hoadon?orderId=${s.maDonHang}`;m(F)}}catch(O){console.error("Error fetching QR code:",O);const L=`http://localhost:8080/user/hoadon?orderId=${s.maDonHang}`;m(L)}finally{h(!1)}})()},[s]);const m=D=>{try{const O=`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(D)}`;d(O)}catch(O){console.error("Fallback QR generation failed:",O)}},A=D=>D&&typeof D=="object"&&typeof D.maDonHang=="number"&&Array.isArray(D.sanPhams);if(a)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Đang tải thông tin đơn hàng..."})]})});if(c||!s||!A(s))return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"📦"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Không tìm thấy đơn hàng"}),r.jsx("p",{className:"text-gray-600 mb-4",children:c||"Đơn hàng không tồn tại hoặc dữ liệu không hợp lệ"}),r.jsx("button",{onClick:()=>t("/user/orders"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Quay lại lịch sử đơn hàng"})]})});const g=()=>s.paymentStatusText?s.paymentStatusText:s.hinhThucThanhToan==="VNPay"||s.hinhThucThanhToan==="COD"&&s.trangThaiDonHang===3?"Đã thanh toán":"Chưa thanh toán",p=()=>({0:"Chờ xác nhận",1:"Đang xử lý",2:"Đang giao hàng",3:"Đã hoàn thành",4:"Đã thanh toán",5:"Đã hủy"})[s.trangThaiDonHang]||"Không xác định",b=D=>{var O,L,F;return r.jsx("div",{className:"border-b border-gray-100 pb-4 mb-4 last:border-b-0",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex-shrink-0 overflow-hidden",children:r.jsx("img",{src:D.hinhAnh||"/placeholder.svg",alt:D.laCombo?(O=D.combo)==null?void 0:O.tenCombo:D.tenSanPham,className:"w-full h-full object-cover",onError:_=>{_.currentTarget.src="/placeholder.svg"}})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:D.laCombo?(L=D.combo)==null?void 0:L.tenCombo:D.tenSanPham}),!D.laCombo&&(D.mauSac||D.kichThuoc)&&r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[D.mauSac&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Màu:"}),r.jsxs("div",{className:"flex items-center space-x-1",children:[D.mauSacHex&&r.jsx("div",{className:"w-3 h-3 rounded-full border border-gray-300",style:{backgroundColor:D.mauSacHex}}),r.jsx("span",{className:"text-xs font-medium bg-gray-100 px-2 py-0.5 rounded",children:D.mauSac})]})]}),D.kichThuoc&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Size:"}),r.jsx("span",{className:"text-xs font-medium bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:D.kichThuoc})]})]}),D.laCombo&&((F=D.combo)==null?void 0:F.sanPhamsTrongCombo)&&r.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded border",children:[r.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2",children:"Sản phẩm trong combo:"}),r.jsx("div",{className:"space-y-1",children:D.combo.sanPhamsTrongCombo.map((_,E)=>r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[_.hinhAnh&&r.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded overflow-hidden flex-shrink-0",children:r.jsx("img",{src:_.hinhAnh,alt:_.tenSanPham,className:"w-full h-full object-cover",onError:T=>{T.currentTarget.src="/placeholder.svg"}})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-800",children:_.tenSanPham}),r.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[_.mauSac&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("span",{children:"Màu:"}),_.mauSacHex&&r.jsx("div",{className:"w-2 h-2 rounded-full border border-gray-300",style:{backgroundColor:_.mauSacHex}}),r.jsx("span",{className:"bg-gray-100 px-1 py-0.5 rounded text-xs",children:_.mauSac})]}),_.kichThuoc&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("span",{children:"Size:"}),r.jsx("span",{className:"bg-blue-100 text-blue-800 px-1 py-0.5 rounded text-xs",children:_.kichThuoc})]})]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-gray-600",children:["x",_.soLuong]}),r.jsx("div",{className:"font-medium",children:Bc(_.gia)})]})]},E))})]}),r.jsxs("div",{className:"flex items-center justify-between mt-2",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:[D.soLuong," x ",Bc(D.gia)]}),r.jsx("span",{className:"font-medium text-gray-900",children:Bc(D.thanhTien)})]})]})]})},D.maChiTietDh)};return r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[r.jsxs("div",{className:"text-center border-b border-gray-200 pb-6 mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-pink-600 mb-2",children:"📦 UltraStore"}),r.jsx("h2",{className:"text-xl font-semibold text-pink-600",children:"Đơn hàng đã được xác nhận"}),r.jsxs("p",{className:"text-gray-600 mt-2",children:["Cảm ơn ",r.jsx("strong",{children:s.tenNguoiNhan||((x=s.thongTinNguoiDung)==null?void 0:x.tenNguoiNhan)})," đã đặt hàng tại UltraStore!"]})]}),r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"text-green-600 mr-2",children:"✅"}),r.jsxs("span",{className:"font-medium text-green-800",children:["Trạng thái: ",p()]})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"📋 Thông tin đơn hàng"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Mã đơn hàng:"}),r.jsxs("span",{className:"ml-2 text-pink-600 font-bold text-lg",children:["ORD-",s.maDonHang.toString().padStart(5,"0")]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Ngày đặt:"}),r.jsx("span",{className:"ml-2 text-gray-900",children:Y6e(s.ngayDat)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Phương thức thanh toán:"}),r.jsx("span",{className:"ml-2 text-gray-900",children:s.hinhThucThanhToan||"COD"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Trạng thái thanh toán:"}),r.jsx("span",{className:`ml-2 font-medium ${g()==="Đã thanh toán"?"text-green-600":"text-orange-600"}`,children:g()})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"🛍️ Sản phẩm đã đặt"}),r.jsx("div",{className:"space-y-4",children:(v=s.sanPhams)==null?void 0:v.map(b)})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"💰 Tổng kết đơn hàng"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Tổng phụ:"}),r.jsx("span",{className:"font-medium",children:Bc(((y=s.thongTinDonHang)==null?void 0:y.tongTien)||s.tongTien)})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Vận chuyển:"}),r.jsx("span",{className:"font-medium text-green-600",children:Bc(((N=s.thongTinDonHang)==null?void 0:N.phiGiaoHang)||0)})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Giảm giá:"}),r.jsx("span",{className:`font-medium ${(((P=s.thongTinDonHang)==null?void 0:P.soTienGiam)||0)>0?"text-red-600":"text-gray-600"}`,children:(((M=s.thongTinDonHang)==null?void 0:M.soTienGiam)||0)>0?`-${Bc(s.thongTinDonHang.soTienGiam)}`:Bc(0)})]}),r.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Tổng cộng:"}),r.jsx("span",{className:"text-xl font-bold text-pink-600",children:Bc(((k=s.thongTinDonHang)==null?void 0:k.thanhTienCuoiCung)||s.finalAmount)})]})})]})]}),s.thongTinNguoiDung&&r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"🏠 Địa chỉ giao hàng"}),r.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[r.jsx("div",{children:r.jsx("strong",{children:s.thongTinNguoiDung.tenNguoiNhan})}),r.jsx("div",{children:s.thongTinNguoiDung.sdt}),r.jsx("div",{children:s.thongTinNguoiDung.diaChi})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"📱 Quét mã QR để xem hóa đơn trực tuyến"}),r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"relative w-48 h-48 bg-white border-2 border-pink-300 rounded-lg flex items-center justify-center shadow-lg",children:f?r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-pink-600 mx-auto mb-2"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Đang tạo QR..."})]}):u?r.jsx("img",{src:u,alt:`QR Code cho đơn hàng ORD-${s.maDonHang.toString().padStart(5,"0")}`,className:"w-44 h-44 object-contain rounded",onError:D=>{console.error("QR image failed to load");const O=`http://localhost:8080/user/hoadon?orderId=${s.maDonHang}`;m(O)}}):r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl mb-2 text-gray-400",children:"📱"}),r.jsx("div",{className:"text-sm text-gray-500",children:"QR Code không khả dụng"}),r.jsx("button",{onClick:()=>{const D=`http://localhost:8080/user/hoadon?orderId=${s.maDonHang}`;m(D)},className:"mt-2 text-pink-600 hover:text-pink-700 text-sm underline",children:"Thử tạo lại"})]})})}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Quét mã QR này để truy cập hóa đơn trực tuyến bất cứ lúc nào"}),r.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Hoặc truy cập trực tiếp:"}),r.jsxs("a",{href:`http://localhost:8080/user/hoadon?orderId=${s.maDonHang}`,className:"text-pink-600 hover:text-pink-700 text-sm font-medium underline break-all",target:"_blank",rel:"noopener noreferrer",children:["http://localhost:8080/user/hoadon?orderId=",s.maDonHang]})]})]}),r.jsx("div",{className:"text-center mt-8",children:r.jsx("button",{onClick:()=>t("/user/orders"),className:"bg-pink-600 text-white px-8 py-3 rounded-lg hover:bg-pink-700 transition-colors font-medium",children:"← Quay lại lịch sử đơn hàng"})})]})})},J6e=({orderId:e,onClose:t})=>{var A,g,p,b;const[n,s]=B.useState(null),[i,a]=B.useState(!0),[o,c]=B.useState(null),l=x=>{if(!x)return{mauSac:"",kichThuoc:"",colorHex:""};const v=x.split("_");if(v.length>=3){const y=v[1],N=v[2],P=k=>({ff0000:"Đỏ","0000ff":"Xanh dương","00ff00":"Xanh lá",ffffff:"Trắng","000000":"Đen",ff00ff:"Hồng","0c06f5":"Xanh navy",ffff00:"Vàng",ffa500:"Cam",800080:"Tím",a52a2a:"Nâu",808080:"Xám",c0c0c0:"Bạc",ffc0cb:"Hồng nhạt"})[k.toLowerCase()]||`#${k}`,M=k=>({S:"S",M:"M",L:"L",XL:"XL",XXL:"XXL",XXXL:"XXXL"})[k]||k;return{mauSac:P(y),kichThuoc:M(N),colorHex:`#${y}`}}return{mauSac:"",kichThuoc:"",colorHex:""}},u=({colorName:x,colorHex:v,className:y="text-xs"})=>r.jsxs("div",{className:`flex items-center gap-2 ${y}`,children:[r.jsx("span",{className:"text-sm font-medium",children:"Màu:"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300 shadow-sm",style:{backgroundColor:v},title:x}),r.jsx(Kt,{variant:"outline",className:"text-xs",children:x})]})]}),d=async()=>{var x,v,y;try{a(!0),c(null);const N=localStorage.getItem("token");console.log(`[DEBUG] Fetching order details for order ${e}`);const P=await Nt.get("https://bicacuatho.azurewebsites.net/api/orders",{headers:{Authorization:`Bearer ${N}`}});console.log("[DEBUG] API Response:",P.data);const k=P.data.find(O=>O.maDonHang===e);if(!k)throw new Error("Không tìm thấy đơn hàng");console.log("[DEBUG] Found order:",k);const D=((x=k.chiTietSanPhams)==null?void 0:x.map(O=>{console.log("[DEBUG] Processing product:",O);const L=!O.laCombo&&O.maSanPham?l(O.maSanPham):{mauSac:"",kichThuoc:"",colorHex:""};let F=null;return O.combo&&O.combo.sanPhamsTrongCombo&&(console.log("[DEBUG] Processing combo items:",O.combo.sanPhamsTrongCombo),F={tenCombo:O.combo.tenCombo,giaCombo:O.combo.giaCombo,sanPhamsTrongCombo:O.combo.sanPhamsTrongCombo.map(_=>{const E=l(_.maSanPham);return console.log(`[DEBUG] Combo item ${_.maSanPham}:`,E),{tenSanPham:_.tenSanPham,soLuong:_.soLuong,gia:_.gia,thanhTien:_.thanhTien,maSanPham:_.maSanPham,hinhAnh:_.hinhAnh,mauSac:_.mauSac||E.mauSac,kichThuoc:_.kichThuoc||E.kichThuoc,colorHex:E.colorHex}})}),{maChiTietDh:O.maChiTietDh,laCombo:O.laCombo,tenSanPham:O.tenSanPham,soLuong:O.soLuong,gia:O.gia,thanhTien:O.thanhTien,maSanPham:O.maSanPham,hinhAnh:O.hinhAnh,mauSac:O.mauSac||L.mauSac,kichThuoc:O.kichThuoc||L.kichThuoc,colorHex:L.colorHex,combo:F}}))||[];s({maDonHang:k.maDonHang,tenNguoiNhan:k.tenNguoiNhan,ngayDat:k.ngayDat,trangThaiDonHang:k.trangThaiDonHang,trangThaiThanhToan:k.trangThaiThanhToan,hinhThucThanhToan:k.hinhThucThanhToan,lyDoHuy:k.lyDoHuy,tongTien:k.tongTien||0,finalAmount:k.finalAmount||0,shippingFee:k.shippingFee||0,discountAmount:k.discountAmount||0,chiTietSanPhams:D,diaChi:k.diaChi,sdt:k.sdt,thongTinNguoiDung:{tenNguoiNhan:k.tenNguoiNhan,diaChi:k.diaChi||((v=k.thongTinNguoiDung)==null?void 0:v.diaChi)||"",sdt:k.sdt||((y=k.thongTinNguoiDung)==null?void 0:y.sdt)||"",tenNguoiDat:k.hoTenKhachHang||""}})}catch(N){console.error("[ERROR] Error fetching order detail:",N),c("Không thể tải chi tiết đơn hàng"),Yt.error("Không thể tải chi tiết đơn hàng")}finally{a(!1)}};B.useEffect(()=>{e&&d()},[e]);const f=x=>{switch(x){case 0:return"Chưa xác nhận";case 1:return"Đang xử lý";case 2:return"Đang giao hàng";case 3:return"Hoàn thành";case 4:return"Đã hủy";default:return"Không xác định"}},h=x=>{switch(x){case 0:return"bg-yellow-100 text-yellow-800";case 1:return"bg-blue-100 text-blue-800";case 2:return"bg-orange-100 text-orange-800";case 3:return"bg-green-100 text-green-800";case 4:return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},m=(x,v)=>x===1&&v===3?"Đã thanh toán":"Chưa thanh toán";return i?r.jsx(Jt,{open:!0,onOpenChange:t,children:r.jsxs(Wt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[r.jsxs(an,{children:[r.jsx(tn,{children:"Chi tiết đơn hàng"}),r.jsx(fe,{variant:"ghost",size:"icon",className:"absolute right-4 top-4",onClick:t,children:r.jsx(st,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"flex justify-center items-center py-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{children:"Đang tải chi tiết đơn hàng..."})]})})]})}):o||!n?r.jsx(Jt,{open:!0,onOpenChange:t,children:r.jsxs(Wt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[r.jsxs(an,{children:[r.jsx(tn,{children:"Chi tiết đơn hàng"}),r.jsx(fe,{variant:"ghost",size:"icon",className:"absolute right-4 top-4",onClick:t,children:r.jsx(st,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"flex justify-center items-center py-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-red-600",children:o||"Không thể tải chi tiết đơn hàng"}),r.jsx(fe,{variant:"outline",onClick:d,className:"mt-4",children:"Thử lại"})]})})]})}):r.jsx(Jt,{open:!0,onOpenChange:t,children:r.jsxs(Wt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[r.jsxs(an,{children:[r.jsxs(tn,{children:["Chi tiết đơn hàng #",n.maDonHang]}),r.jsx(fe,{variant:"ghost",size:"icon",className:"absolute right-4 top-4",onClick:t,children:r.jsx(st,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-semibold mb-3",children:"Thông tin đơn hàng"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Mã đ hàng:"})," ",n.maDonHang]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Ngày đặt:"})," ",n.ngayDat]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Trạng thái:"}),r.jsx(Kt,{className:`ml-2 ${h(n.trangThaiDonHang)}`,children:f(n.trangThaiDonHang)})]})]}),r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Thanh toán:"})," ",m(n.trangThaiThanhToan,n.trangThaiDonHang)]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Hình thức:"})," ",n.hinhThucThanhToan]}),n.lyDoHuy&&r.jsxs("p",{children:[r.jsx("strong",{children:"Lý do hủy:"})," ",r.jsx("span",{className:"text-red-600",children:n.lyDoHuy})]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-semibold mb-3",children:"Thông tin người nhận"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Tên người nhận:"})," ",n.tenNguoiNhan||"Chưa có thông tin"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Tên người đặt:"})," ",((A=n.thongTinNguoiDung)==null?void 0:A.tenNguoiDat)||"Chưa có thông tin"]})]}),r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Số điện thoại:"})," ",n.sdt||((g=n.thongTinNguoiDung)==null?void 0:g.sdt)||"Chưa có thông tin"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Địa chỉ:"})," ",n.diaChi||((p=n.thongTinNguoiDung)==null?void 0:p.diaChi)||"Chưa có thông tin"]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-semibold mb-3",children:"Chi tiết sản phẩm"}),r.jsx("div",{className:"space-y-4",children:n.chiTietSanPhams&&n.chiTietSanPhams.length>0?n.chiTietSanPhams.map((x,v)=>{var y,N;return r.jsx("div",{className:"border border-gray-200 rounded-lg p-4 bg-white",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[x.hinhAnh&&r.jsx("img",{src:x.hinhAnh,alt:x.tenSanPham,className:"w-20 h-20 object-cover rounded-md",onError:P=>{const M=P.target;M.src="/placeholder.svg"}}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium",children:x.tenSanPham}),x.maSanPham&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Mã SP: ",x.maSanPham]}),!x.laCombo&&r.jsxs("div",{className:"flex gap-4 mt-2",children:[x.mauSac&&x.colorHex&&r.jsx(u,{colorName:x.mauSac,colorHex:x.colorHex}),x.kichThuoc&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Size:"}),r.jsx(Kt,{variant:"outline",className:"text-xs",children:x.kichThuoc})]})]}),r.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Số lượng: ",x.soLuong," × ",(y=x.gia)==null?void 0:y.toLocaleString("vi-VN"),"đ"]}),r.jsxs("p",{className:"font-semibold text-blue-600",children:["Thành tiền: ",(N=x.thanhTien)==null?void 0:N.toLocaleString("vi-VN"),"đ"]}),x.combo&&r.jsxs("div",{className:"mt-3 pl-4 border-l-2 border-blue-200",children:[r.jsx("h5",{className:"font-medium text-blue-700",children:"Sản phẩm trong combo:"}),r.jsx("div",{className:"space-y-2 mt-2",children:x.combo.sanPhamsTrongCombo.map((P,M)=>{var k,D;return r.jsxs("div",{className:"flex items-center space-x-3 text-sm bg-blue-50 p-3 rounded",children:[P.hinhAnh&&r.jsx("img",{src:P.hinhAnh,alt:P.tenSanPham,className:"w-12 h-12 object-cover rounded",onError:O=>{const L=O.target;L.src="/placeholder.svg"}}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:P.tenSanPham}),r.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:["Mã SP: ",P.maSanPham]}),r.jsxs("div",{className:"flex gap-3 mt-1",children:[P.mauSac&&P.colorHex&&r.jsx(u,{colorName:P.mauSac,colorHex:P.colorHex,className:"text-xs"}),P.kichThuoc&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-xs font-medium",children:"Size:"}),r.jsx(Kt,{variant:"outline",className:"text-xs",children:P.kichThuoc})]})]}),r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["SL: ",P.soLuong," × ",(k=P.gia)==null?void 0:k.toLocaleString("vi-VN"),"đ = ",(D=P.thanhTien)==null?void 0:D.toLocaleString("vi-VN"),"đ"]})]})]},M)})})]})]})]})},v)}):r.jsx("p",{className:"text-gray-500",children:"Không có thông tin chi tiết sản phẩm"})})]}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-semibold mb-3",children:"Chi tiết thanh toán"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Tổng tiền hàng:"}),r.jsxs("span",{children:[(b=n.tongTien)==null?void 0:b.toLocaleString("vi-VN"),"đ"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Phí vận chuyển:"}),r.jsxs("span",{children:[(n.shippingFee||0).toLocaleString("vi-VN"),"đ"]})]}),r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Giảm giá:"}),r.jsxs("span",{children:["-",(n.discountAmount||0).toLocaleString("vi-VN"),"đ"]})]}),r.jsx("hr",{className:"my-2"}),r.jsxs("div",{className:"flex justify-between items-center font-bold text-lg",children:[r.jsx("span",{children:"Tổng thanh toán:"}),r.jsxs("span",{className:"text-blue-600",children:[(n.finalAmount||n.tongTien||0).toLocaleString("vi-VN"),"đ"]})]})]})]})]})]})})},Rr=B.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:Fe("w-full caption-bottom text-sm",e),...t})}));Rr.displayName="Table";const Ur=B.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:Fe("[&_tr]:border-b",e),...t}));Ur.displayName="TableHeader";const Hr=B.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:Fe("[&_tr:last-child]:border-0",e),...t}));Hr.displayName="TableBody";const eBe=B.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:Fe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));eBe.displayName="TableFooter";const Ht=B.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:Fe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ht.displayName="TableRow";const $e=B.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:Fe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));$e.displayName="TableHead";const He=B.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:Fe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));He.displayName="TableCell";const tBe=B.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:Fe("mt-4 text-sm text-muted-foreground",e),...t}));tBe.displayName="TableCaption";const nBe=({currentPage:e,totalPages:t,onPageChange:n})=>{if(t<=1)return null;const s=()=>{const a=[],o=[],c=Math.max(2,e-2),l=Math.min(t-1,e+2);for(let u=c;u<=l;u++)a.push(u);return e-2>2?o.push(1,"..."):o.push(1),o.push(...a),e+2<t-1?o.push("...",t):t>1&&o.push(t),o};return r.jsxs("div",{className:"flex justify-center items-center gap-2 mt-6",children:[r.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>n(e-1),disabled:e===1,className:"flex items-center gap-1",children:[r.jsx(ss,{className:"h-4 w-4"}),"Trước"]}),r.jsx("div",{className:"flex items-center gap-1",children:s().map((i,a)=>r.jsx(je.Fragment,{children:i==="..."?r.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."}):r.jsx(fe,{variant:i===e?"default":"outline",size:"sm",onClick:()=>n(i),className:`min-w-[40px] ${i===e?"bg-blue-600 text-white hover:bg-blue-700":"hover:bg-gray-100"}`,children:i})},a))}),r.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>n(e+1),disabled:e===t,className:"flex items-center gap-1",children:["Sau",r.jsx(jr,{className:"h-4 w-4"})]})]})},Ix=()=>{const[e,t]=B.useState([]),[n,s]=B.useState([]),[i,a]=B.useState({all:0,unconfirmed:0,processing:0,delivering:0,completed:0,canceled:0}),[o,c]=B.useState(""),[l,u]=B.useState(null),[d,f]=B.useState(!1),[h,m]=B.useState(!1),[A,g]=B.useState(""),[p,b]=B.useState(null),[x,v]=B.useState("all"),[y,N]=B.useState(1),[P,M]=B.useState(1),[k,D]=B.useState(!1),[O,L]=B.useState(null),[F,_]=B.useState(!0),E=10,T=["Khách hàng không muốn mua nữa","Hết hàng","Khách hủy đơn","Sai thông tin đơn hàng","Khác"],w=async()=>{try{_(!0);const J=localStorage.getItem("token"),ee=await Nt.get("https://bicacuatho.azurewebsites.net/api/orders/current-user",{headers:{Authorization:`Bearer ${J}`}});console.log("✅ Current user from API:",ee.data),L(ee.data),localStorage.setItem("userId",ee.data.maNguoiDung),localStorage.setItem("role",ee.data.vaiTro.toString()),localStorage.setItem("user",JSON.stringify(ee.data))}catch(J){console.error("❌ Error fetching current user:",J),Yt.error("Không thể lấy thông tin người dùng");const ee=localStorage.getItem("user");if(ee)try{const K=JSON.parse(ee);L({maNguoiDung:K.maNguoiDung||localStorage.getItem("userId")||"",fullName:K.fullName||K.hoTen||"Unknown",email:K.email||"",vaiTro:parseInt(K.vaiTro||localStorage.getItem("role")||"2"),isAdmin:(K.vaiTro||localStorage.getItem("role"))==="1",isStaff:(K.vaiTro||localStorage.getItem("role"))==="2"})}catch(K){console.error("Error parsing stored user:",K)}}finally{_(!1)}},C=J=>O?J.canProcess!==void 0?J.canProcess:O.isAdmin?!0:O.isStaff?!J.maNhanVien||J.maNhanVien===O.maNguoiDung:!1:!1,j=J=>({all:J.length,unconfirmed:J.filter(ee=>ee.trangThaiDonHang===0).length,processing:J.filter(ee=>ee.trangThaiDonHang===1).length,delivering:J.filter(ee=>ee.trangThaiDonHang===2).length,completed:J.filter(ee=>ee.trangThaiDonHang===3).length,canceled:J.filter(ee=>ee.trangThaiDonHang===4).length}),S=async(J=!1)=>{try{D(!0);const ee=localStorage.getItem("token");J&&N(1);const K=J?1:y;if(x==="canceled"){const ne=await Nt.get(`https://bicacuatho.azurewebsites.net/api/orders/cancelled?page=${K}&pageSize=${E}`,{headers:{Authorization:`Bearer ${ee}`}});if(console.log("Fetched cancelled orders:",ne.data),ne.data&&ne.data.data){const ue=ne.data.data.map(ie=>({maDonHang:ie.maDonHang,tenNguoiNhan:ie.tenNguoiNhan,ngayDat:ie.ngayDat,trangThaiDonHang:ie.trangThaiDonHang,trangThaiThanhToan:ie.trangThaiThanhToan,hinhThucThanhToan:ie.hinhThucThanhToan,lyDoHuy:ie.lyDoHuy,tenSanPhamHoacCombo:ie.tenSanPhamHoacCombo,maNguoiDung:ie.maNguoiDung,hoTenKhachHang:ie.hoTenKhachHang,hoTenNhanVien:ie.hoTenNhanVien,maNhanVien:ie.maNhanVien,tongTien:ie.tongTien,diaChi:ie.diaChi,soDienThoai:ie.soDienThoai,canProcess:ie.canProcess})),se=R(ue);s(se),M(ne.data.pagination.totalPages),a(ie=>({...ie,canceled:ne.data.pagination.totalRecords}))}}else{const ne=await Nt.get("https://bicacuatho.azurewebsites.net/api/orders",{headers:{Authorization:`Bearer ${ee}`}});console.log("Fetched all orders:",ne.data),t(ne.data);const ue=j(ne.data);try{const oe=await Nt.get("https://bicacuatho.azurewebsites.net/api/orders/cancelled?page=1&pageSize=1",{headers:{Authorization:`Bearer ${ee}`}});ue.canceled=oe.data.pagination.totalRecords,ue.all=ne.data.length+ue.canceled}catch(oe){console.warn("Could not fetch cancelled count:",oe)}a(ue);const se=I(ne.data,x),ie=R(se),q=ie.length,Z=Math.ceil(q/E);M(Z);const te=(K-1)*E,re=te+E,Y=ie.slice(te,re);s(Y)}}catch(ee){console.error("Error fetching orders:",ee),Yt.error("Có lỗi xảy ra khi lấy danh sách đơn hàng.")}finally{D(!1)}},I=(J,ee)=>{switch(ee){case"all":return J;case"unconfirmed":return J.filter(K=>K.trangThaiDonHang===0);case"processing":return J.filter(K=>K.trangThaiDonHang===1);case"delivering":return J.filter(K=>K.trangThaiDonHang===2);case"completed":return J.filter(K=>K.trangThaiDonHang===3);case"canceled":return J.filter(K=>K.trangThaiDonHang===4);default:return J}},R=J=>{if(!o.trim())return J;const ee=o.toLowerCase();return J.filter(K=>{var ne,ue,se,ie,q;return K.maDonHang.toString().toLowerCase().includes(ee)||((ne=K.tenNguoiNhan)==null?void 0:ne.toLowerCase().includes(ee))||!1||((ue=K.tenSanPhamHoacCombo)==null?void 0:ue.toLowerCase().includes(ee))||!1||((se=K.ngayDat)==null?void 0:se.toLowerCase().includes(ee))||!1||((ie=K.hinhThucThanhToan)==null?void 0:ie.toLowerCase().includes(ee))||!1||((q=K.lyDoHuy)==null?void 0:q.toLowerCase().includes(ee))||!1||(K.hoTenNguoiDuyet||"").toLowerCase().includes(ee)||(K.hoTenKhachHang||"").toLowerCase().includes(ee)||V(K.trangThaiDonHang).toLowerCase().includes(ee)||X(K.trangThaiThanhToan,K.trangThaiDonHang).toLowerCase().includes(ee)})};B.useEffect(()=>{w()},[]),B.useEffect(()=>{O&&!F&&S()},[x,y,O,F]),B.useEffect(()=>{if(O&&!F){const J=setTimeout(()=>{S(!0)},300);return()=>clearTimeout(J)}},[o,O,F]);const U=J=>{console.log("Tab changed to:",J),v(J),N(1),c("")},z=J=>{J>=1&&J<=P&&J!==y&&N(J)},V=J=>{switch(J){case 0:return"Chưa xác nhận";case 1:return"Đang xử lý";case 2:return"Đang giao hàng";case 3:return"Hoàn thành";case 4:case 5:return"Đã hủy";default:return"Không xác định"}},X=(J,ee)=>J===1&&ee===3?"Đã thanh toán":"Chưa thanh toán",$=async J=>{var ee,K;try{const ne=localStorage.getItem("token");if(!(O!=null&&O.maNguoiDung)){Yt.error("Không thể xác định người dùng. Vui lòng đăng nhập lại.");return}console.log("Sending userId:",O.maNguoiDung);const ue=await Nt.put(`https://bicacuatho.azurewebsites.net/api/orders/approve/${J}`,{userId:O.maNguoiDung},{headers:{Authorization:`Bearer ${ne}`}});Yt.success("Duyệt đơn hàng thành công!",{duration:2e3}),setTimeout(()=>{S()},1e3)}catch(ne){console.error("Error approving order:",ne);const ue=((K=(ee=ne.response)==null?void 0:ee.data)==null?void 0:K.message)||"Có lỗi xảy ra khi duyệt đơn hàng.";Yt.error(ue)}},W=J=>{b(J),g(""),m(!0)},H=async()=>{var J,ee;if(!A.trim()){Yt.error("Vui lòng nhập lý do hủy!");return}if(p!==null)try{const K=localStorage.getItem("token"),ne=await Nt.put(`https://bicacuatho.azurewebsites.net/api/orders/cancel/${p}`,JSON.stringify(A),{headers:{"Content-Type":"application/json",Authorization:`Bearer ${K}`}});Yt.success("Hủy đơn hàng thành công!"),m(!1),g(""),b(null),await S(),v("canceled")}catch(K){console.error("Error canceling order:",K);const ne=((ee=(J=K.response)==null?void 0:J.data)==null?void 0:ee.message)||"Có lỗi xảy ra khi hủy đơn hàng.";Yt.error(ne)}},Q=J=>{console.log("Opening details for order:",J.maDonHang),u(J),f(!0)},G=J=>{g(J)};return F?r.jsx("div",{className:"p-6 bg-white rounded-lg shadow",children:r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2",children:"Đang tải thông tin người dùng..."})]})}):O?r.jsxs("div",{className:"p-6 bg-white rounded-lg shadow",children:[r.jsx($m,{position:"top-right"}),r.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Quản lý đơn hàng"}),r.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:r.jsxs("p",{className:"text-sm text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Vai trò hiện tại:"}),r.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${O.isAdmin?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:O.isAdmin?"Admin (Toàn quyền)":"Nhân viên (Hạn chế)"}),r.jsxs("span",{className:"ml-2 text-gray-500",children:["• ",O.fullName," (",O.email,")"]})]})}),r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Đơn hàng"}),r.jsx("br",{}),r.jsxs("div",{className:"relative w-full sm:w-[300px] mb-4",children:[r.jsx(Un,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{type:"search",placeholder:"Tìm kiếm đơn hàng...",className:"pl-8 w-full",value:o,onChange:J=>c(J.target.value),disabled:k})]}),r.jsx(ia,{value:x,onValueChange:U,children:r.jsxs(Mi,{className:"mb-4 grid w-full grid-cols-6 bg-gray-100 rounded-lg p-1",children:[r.jsxs(Bn,{value:"all",className:`relative flex items-center justify-center gap-2 px-4 py-2 rounded-md transition-all duration-200 ${x==="all"?"bg-purple-100 text-purple-800 shadow-sm":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:[x==="all"&&r.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),r.jsxs("span",{className:"text-sm font-medium",children:["Tất cả (",i.all,")"]})]}),r.jsxs(Bn,{value:"unconfirmed",className:`relative flex items-center justify-center gap-2 px-4 py-2 rounded-md transition-all duration-200 ${x==="unconfirmed"?"bg-gray-200 text-gray-800 shadow-sm":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:[x==="unconfirmed"&&r.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full"}),r.jsxs("span",{className:"text-sm font-medium",children:["Chưa xác nhận (",i.unconfirmed,")"]})]}),r.jsxs(Bn,{value:"processing",className:`relative flex items-center justify-center gap-2 px-4 py-2 rounded-md transition-all duration-200 ${x==="processing"?"bg-yellow-100 text-yellow-800 shadow-sm":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:[x==="processing"&&r.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),r.jsxs("span",{className:"text-sm font-medium",children:["Đang xử lý (",i.processing,")"]})]}),r.jsxs(Bn,{value:"delivering",className:`relative flex items-center justify-center gap-2 px-4 py-2 rounded-md transition-all duration-200 ${x==="delivering"?"bg-blue-100 text-blue-800 shadow-sm":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:[x==="delivering"&&r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsxs("span",{className:"text-sm font-medium",children:["Đang giao (",i.delivering,")"]})]}),r.jsxs(Bn,{value:"completed",className:`relative flex items-center justify-center gap-2 px-4 py-2 rounded-md transition-all duration-200 ${x==="completed"?"bg-green-100 text-green-800 shadow-sm":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:[x==="completed"&&r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsxs("span",{className:"text-sm font-medium",children:["Hoàn thành (",i.completed,")"]})]}),r.jsxs(Bn,{value:"canceled",className:`relative flex items-center justify-center gap-2 px-4 py-2 rounded-md transition-all duration-200 ${x==="canceled"?"bg-red-100 text-red-800 shadow-sm":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:[x==="canceled"&&r.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),r.jsxs("span",{className:"text-sm font-medium",children:["Đã hủy (",i.canceled,")"]})]})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Rr,{children:[r.jsx(Ur,{children:r.jsxs(Ht,{children:[r.jsx($e,{className:"w-16 text-center",children:"#"}),r.jsx($e,{className:"min-w-32",children:"Tên khách hàng"}),r.jsx($e,{className:"min-w-48",children:"Tên sản phẩm/Combo"}),r.jsx($e,{className:"min-w-24 text-center",children:"Ngày đặt"}),r.jsx($e,{className:"w-36 text-center",children:"Trạng thái"}),r.jsx($e,{className:"min-w-28 text-center",children:"Thanh toán"}),r.jsx($e,{className:"w-24 text-center",children:r.jsxs("div",{className:"leading-tight",children:[r.jsx("div",{children:"Hình thức"}),r.jsx("div",{children:"thanh toán"})]})}),r.jsx($e,{className:"min-w-32 text-center",children:"Nhân viên xử lý"}),x==="canceled"&&r.jsx($e,{className:"min-w-32 text-center",children:"Lý do hủy"}),r.jsx($e,{className:"w-72 text-center",children:"Thao tác"})]})}),r.jsx(Hr,{children:k?r.jsx(Ht,{children:r.jsx(He,{colSpan:x==="canceled"?10:9,className:"text-center py-8",children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),r.jsx("span",{children:"Đang tải..."})]})})}):n.length>0?n.map((J,ee)=>r.jsxs(Ht,{className:"hover:bg-gray-50",children:[r.jsx(He,{className:"font-medium text-center",children:J.maDonHang}),r.jsx(He,{className:"max-w-32 truncate",title:J.tenNguoiNhan,children:J.tenNguoiNhan||"N/A"}),r.jsx(He,{className:"max-w-48 truncate",title:J.tenSanPhamHoacCombo,children:J.tenSanPhamHoacCombo||"N/A"}),r.jsx(He,{className:"text-center whitespace-nowrap",children:J.ngayDat?new Date(J.ngayDat.split("/").reverse().join("-")).toLocaleDateString("vi-VN"):"Không có ngày"}),r.jsx(He,{className:"text-center",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium whitespace-nowrap ${J.trangThaiDonHang===4||J.trangThaiDonHang===5?"bg-red-100 text-red-800":J.trangThaiDonHang===3?"bg-green-100 text-green-800":J.trangThaiDonHang===2?"bg-blue-100 text-blue-800":J.trangThaiDonHang===1?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:V(J.trangThaiDonHang)})}),r.jsx(He,{className:"text-center",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium whitespace-nowrap ${X(J.trangThaiThanhToan,J.trangThaiDonHang)==="Đã thanh toán"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:X(J.trangThaiThanhToan,J.trangThaiDonHang)})}),r.jsx(He,{className:"text-center",children:r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${J.hinhThucThanhToan==="VNPay"?"bg-blue-50 text-blue-700":"bg-orange-50 text-orange-700"}`,children:J.hinhThucThanhToan||"COD"})}),r.jsx(He,{className:"text-center",children:r.jsx("span",{className:`text-sm ${J.hoTenNhanVien?"text-gray-900":"text-gray-500 italic"}`,children:J.hoTenNhanVien||"Chưa có"})}),x==="canceled"&&r.jsx(He,{className:"text-center max-w-32 truncate",title:J.lyDoHuy,children:r.jsx("span",{className:"text-red-600 text-sm",children:J.lyDoHuy||"Không có lý do"})}),r.jsx(He,{className:"w-72",children:r.jsxs("div",{className:"flex justify-center items-center gap-2 min-h-[40px]",children:[r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>Q(J),className:"hover:bg-blue-50 flex-shrink-0",title:"Xem chi tiết đơn hàng",children:r.jsx(mJ,{className:"h-4 w-4"})}),(J.trangThaiDonHang===0||J.trangThaiDonHang===1||J.trangThaiDonHang===2)&&r.jsx(fe,{variant:"default",size:"sm",onClick:()=>$(J.maDonHang),disabled:!C(J),className:`flex-shrink-0 ${C(J)?"bg-green-600 hover:bg-green-700":"bg-gray-400 cursor-not-allowed"}`,title:C(J)?"Duyệt đơn hàng":O.isStaff?"Đơn hàng đã được gán cho nhân viên khác xử lý":"Bạn không có quyền duyệt đơn hàng này",children:"Duyệt đơn"}),(J.trangThaiDonHang===0||J.trangThaiDonHang===1)&&r.jsx(fe,{variant:"destructive",size:"sm",onClick:()=>W(J.maDonHang),disabled:!C(J),className:`flex-shrink-0 ${C(J)?"bg-red-600 hover:bg-red-700":"bg-gray-400 cursor-not-allowed"}`,title:C(J)?"Hủy đơn hàng":O.isStaff?"Chỉ nhân viên đã duyệt đơn hoặc admin mới có thể hủy":"Bạn không có quyền hủy đơn hàng này",children:"Hủy đơn"})]})})]},J.maDonHang)):r.jsx(Ht,{children:r.jsx(He,{colSpan:x==="canceled"?10:9,className:"text-center py-8",children:r.jsx("div",{className:"text-gray-500",children:o?r.jsxs(r.Fragment,{children:[r.jsx(Un,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r.jsxs("p",{children:['Không tìm thấy đơn hàng nào với từ khóa "',r.jsx("strong",{children:o}),'"']})]}):r.jsx(r.Fragment,{children:r.jsx("p",{children:"Không có đơn hàng nào trong trạng thái này."})})})})})})]})}),r.jsx(nBe,{currentPage:y,totalPages:P,onPageChange:z}),d&&l&&r.jsx(J6e,{orderId:l.maDonHang,onClose:()=>{f(!1),u(null)}}),r.jsx(Jt,{open:h,onOpenChange:m,children:r.jsxs(Wt,{className:"max-w-md",children:[r.jsx(an,{children:r.jsx(tn,{children:"Nhập lý do hủy đơn hàng"})}),r.jsxs("div",{className:"py-4 space-y-4",children:[r.jsx(ye,{type:"text",placeholder:"Lý do hủy",value:A,onChange:J=>g(J.target.value),className:"w-full"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-semibold",children:"Chọn lý do gợi ý:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:T.map((J,ee)=>r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>G(J),className:`text-sm transition-colors ${A===J?"bg-blue-100 border-blue-300 text-blue-800":"hover:bg-gray-50"}`,children:J},ee))})]})]}),r.jsxs(Rn,{children:[r.jsx(fe,{variant:"outline",onClick:()=>m(!1),children:"Đóng"}),r.jsx(fe,{variant:"destructive",onClick:H,disabled:!A.trim(),children:"Xác nhận hủy"})]})]})})]}):r.jsx("div",{className:"p-6 bg-white rounded-lg shadow",children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx("p",{className:"text-red-600",children:"Không thể tải thông tin người dùng. Vui lòng đăng nhập lại."}),r.jsx(fe,{onClick:()=>window.location.href="/login",className:"mt-4",children:"Đăng nhập lại"})]})})},yP=e=>{if(!e||isNaN(new Date(e).getTime()))return"Ngày không hợp lệ";const t=new Date(e),n=t.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),s=t.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"});return`${n}, ${s}`},wP=()=>{const[e,t]=B.useState(""),[n,s]=B.useState([]),[i,a]=B.useState(!0),[o,c]=B.useState(!1),[l,u]=B.useState(null),[d,f]=B.useState(!1),[h,m]=B.useState(null),[A,g]=B.useState({product:1,blog:1,combo:1}),[p,b]=B.useState("productComments"),x=10,v=async()=>{try{a(!0);const j=localStorage.getItem("token"),S=await fetch("https://bicacuatho.azurewebsites.net/api/Comment/list",{headers:{"Content-Type":"application/json",Authorization:j?`Bearer ${j}`:void 0}});if(!S.ok)throw new Error(`Không thể lấy dữ liệu bình luận: ${S.status} ${S.statusText}`);const I=await S.json();s(I)}catch(j){console.error("Lỗi khi lấy danh sách bình luận:",j),Yt.error("Không thể tải danh sách bình luận.")}finally{a(!1)}},y=async()=>{if(l)try{const j=localStorage.getItem("token");if(!(await fetch(`https://bicacuatho.azurewebsites.net/api/Comment/delete/${l.maBinhLuan}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:j?`Bearer ${j}`:void 0}})).ok)throw new Error("Không thể xóa bình luận");s(n.filter(I=>I.maBinhLuan!==l.maBinhLuan)),c(!1),u(null),Yt.success("Xóa bình luận thành công!")}catch(j){console.error("Lỗi khi xóa bình luận:",j),Yt.error("Có lỗi xảy ra khi xóa bình luận.")}},N=async j=>{try{const S=localStorage.getItem("token");if(!(await fetch(`https://bicacuatho.azurewebsites.net/api/Comment/approve/${j.maBinhLuan}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:S?`Bearer ${S}`:void 0}})).ok)throw new Error("Không thể duyệt bình luận");s(n.map(R=>R.maBinhLuan===j.maBinhLuan?{...R,trangThai:1}:R)),Yt.success("Duyệt bình luận thành công!")}catch(S){console.error("Lỗi khi duyệt bình luận:",S),Yt.error("Có lỗi xảy ra khi duyệt bình luận.")}},P=async j=>{try{const S=localStorage.getItem("token");if(!(await fetch(`https://bicacuatho.azurewebsites.net/api/Comment/unapprove/${j.maBinhLuan}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:S?`Bearer ${S}`:void 0}})).ok)throw new Error("Không thể hủy duyệt bình luận");s(n.map(R=>R.maBinhLuan===j.maBinhLuan?{...R,trangThai:0}:R)),Yt.success("Hủy duyệt bình luận thành công!")}catch(S){console.error("Lỗi khi hủy duyệt bình luận:",S),Yt.error("Có lỗi xảy ra khi hủy duyệt bình luận.")}};B.useEffect(()=>{v()},[]),B.useEffect(()=>{g({product:1,blog:1,combo:1})},[p]);const M=j=>n.filter(S=>{var U,z,V,X,$,W,H;let I=!1;if(j==="product"?I=S.maSanPham!==void 0&&S.maSanPham!==null:j==="combo"?I=S.maCombo!==void 0&&S.maCombo!==null&&(S.maSanPham===void 0||S.maSanPham===null):j==="blog"&&(I=S.maBlog!==void 0&&S.maBlog!==null&&(S.maSanPham===void 0||S.maSanPham===null)&&(S.maCombo===void 0||S.maCombo===null)),!I)return!1;const R=S.trangThai===0?"Chưa Duyệt":S.trangThai===1?"Đã Duyệt":"";return((U=S.noiDungBinhLuan)==null?void 0:U.toLowerCase().includes(e.toLowerCase()))||""||S.maBinhLuan.toString().includes(e.toLowerCase())||""||((z=S.ngayBinhLuan)==null?void 0:z.toString().includes(e.toLowerCase()))||""||R.toLowerCase().includes(e.toLowerCase())||""||((V=S.tenSanPham)==null?void 0:V.toLowerCase().includes(e.toLowerCase()))||""||((X=S.tenCombo)==null?void 0:X.toLowerCase().includes(e.toLowerCase()))||""||(($=S.hoTen)==null?void 0:$.toLowerCase().includes(e.toLowerCase()))||""||((W=S.maBlog)==null?void 0:W.toString().includes(e.toLowerCase()))||""||((H=S.maCombo)==null?void 0:H.toString().includes(e.toLowerCase()))||""}).sort((S,I)=>new Date(I.ngayBinhLuan||"").getTime()-new Date(S.ngayBinhLuan||"").getTime()),k=M("product"),D=M("blog"),O=M("combo"),L=j=>A[j]*x,F=j=>L(j)-x,_=j=>(j==="product"?k:j==="blog"?D:O).slice(F(j),L(j)),E=j=>Math.ceil((j==="product"?k:j==="blog"?D:O).length/x),T=j=>{u(j),c(!0)},w=j=>{m(j),f(!0)},C=(j,S)=>r.jsx("div",{className:"rounded-md border overflow-hidden",children:r.jsxs(Rr,{children:[r.jsx(Ur,{children:r.jsxs(Ht,{children:[r.jsx($e,{children:"ID"}),r.jsx($e,{children:"Hình Ảnh"}),r.jsx($e,{children:"Họ Tên"}),r.jsx($e,{children:"Nội Dung"}),S==="product"?r.jsx($e,{children:"Tên Sản Phẩm"}):S==="combo"?r.jsx($e,{children:"Tên Combo"}):r.jsx($e,{children:"Mã Blog"}),(S==="product"||S==="combo")&&r.jsx($e,{children:"Đánh Giá"}),r.jsx($e,{children:"Trạng Thái"}),r.jsx($e,{children:"Ngày Bình Luận"}),r.jsx($e,{className:"w-[60px]"})]})}),r.jsx(Hr,{children:i?r.jsx(Ht,{children:r.jsx(He,{colSpan:S==="product"||S==="combo"?9:8,className:"text-center py-6 text-muted-foreground",children:"Đang tải..."})}):j.length>0?j.map(I=>r.jsxs(Ht,{className:"hover:bg-muted/50",children:[r.jsx(He,{children:I.maBinhLuan}),r.jsx(He,{children:r.jsx("img",{src:I.hinhAnh||"https://via.placeholder.com/50",alt:I.hoTen||"Avatar",className:"w-10 h-10 rounded-full object-cover"})}),r.jsx(He,{children:I.hoTen}),r.jsx(He,{children:r.jsx("div",{className:"text-gray-800 line-clamp-3",dangerouslySetInnerHTML:{__html:ch.sanitize(I.noiDungBinhLuan||"Chưa cập nhật",{ADD_ATTR:["style","src"]})}})}),r.jsx(He,{children:S==="product"?I.tenSanPham??"Chưa cập nhật":S==="combo"?I.tenCombo??`Combo ${I.maCombo}`:I.maBlog??"Chưa cập nhật"}),(S==="product"||S==="combo")&&r.jsx(He,{children:`${I.danhGia||0} / 5`}),r.jsx(He,{children:r.jsx("span",{className:Fe(I.trangThai===1?"bg-green-100 text-green-800 px-2 py-1 rounded hover:bg-green-100":I.trangThai===0?"bg-red-100 text-red-800 px-2 py-1 rounded hover:bg-red-100":""),children:I.trangThai===0?"Chưa Duyệt":I.trangThai===1?"Đã Duyệt":""})}),r.jsx(He,{children:I.ngayBinhLuan?yP(I.ngayBinhLuan):"Ngày không hợp lệ"}),r.jsx(He,{children:r.jsxs(yr,{children:[r.jsx(wr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsx(li,{className:"h-4 w-4"})})}),r.jsxs(Ar,{align:"end",children:[I.trangThai===0?r.jsxs(ut,{onClick:()=>N(I),className:"flex items-center",children:[r.jsx(ra,{className:"mr-2 h-4 w-4 text-green-500"}),"Duyệt"]}):r.jsxs(ut,{onClick:()=>P(I),className:"flex items-center",children:[r.jsx(Xd,{className:"mr-2 h-4 w-4 text-red-500"}),"Hủy Duyệt"]}),r.jsxs(ut,{onClick:()=>w(I),className:"flex items-center",children:[r.jsx(dr,{className:"mr-2 h-4 w-4 text-blue-500"}),"Chi Tiết"]}),r.jsxs(ut,{onClick:()=>T(I),className:"flex items-center",children:[r.jsx(za,{className:"mr-2 h-4 w-4 text-red-500"}),"Xóa"]})]})]})})]},I.maBinhLuan)):r.jsx(Ht,{children:r.jsx(He,{colSpan:S==="product"||S==="combo"?9:8,className:"text-center py-6 text-muted-foreground",children:"Không tìm thấy bình luận nào phù hợp với tìm kiếm của bạn."})})})]})});return r.jsxs("div",{className:"space-y-6 comments",children:[r.jsx($m,{position:"top-right"}),r.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:r.jsx("div",{children:r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Bình Luận"})})}),r.jsxs(it,{children:[r.jsx(yt,{className:"pb-3",children:r.jsx(jt,{children:"Danh Sách Bình Luận"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6 justify-between items-start sm:items-center",children:[r.jsxs("div",{className:"relative w-full sm:w-auto",children:[r.jsx(Un,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{type:"search",placeholder:"Tìm kiếm bình luận...",className:"pl-8 w-full sm:w-[300px]",value:e,onChange:j=>t(j.target.value)})]}),r.jsx("div",{className:"flex gap-2 self-end",children:r.jsxs(fe,{variant:"outline",size:"sm",className:"h-9",onClick:v,children:[r.jsx(Xc,{className:"h-4 w-4 mr-2"}),"Làm Mới"]})})]}),r.jsxs(ia,{defaultValue:"productComments",value:p,onValueChange:b,className:"w-full",children:[r.jsxs(Mi,{className:"grid w-full md:w-auto grid-cols-3 gap-1",children:[r.jsx(Bn,{value:"productComments",className:"flex items-center gap-2",children:"Bình Luận Sản Phẩm"}),r.jsx(Bn,{value:"comboComments",className:"flex items-center gap-2",children:"Bình Luận Combo"}),r.jsx(Bn,{value:"blogComments",className:"flex items-center gap-2",children:"Bình Luận Blog"})]}),r.jsxs(Hn,{value:"productComments",children:[C(_("product"),"product"),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>g({...A,product:Math.max(1,A.product-1)}),disabled:A.product===1,children:"Trang Trước"}),r.jsxs("span",{children:["Trang ",A.product," / ",E("product")]}),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>g({...A,product:Math.min(E("product"),A.product+1)}),disabled:A.product===E("product"),children:"Trang Sau"})]})]}),r.jsxs(Hn,{value:"blogComments",children:[C(_("blog"),"blog"),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>g({...A,blog:Math.max(1,A.blog-1)}),disabled:A.blog===1,children:"Trang Trước"}),r.jsxs("span",{children:["Trang ",A.blog," / ",E("blog")]}),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>g({...A,blog:Math.min(E("blog"),A.blog+1)}),disabled:A.blog===E("blog"),children:"Trang Sau"})]})]}),r.jsxs(Hn,{value:"comboComments",children:[C(_("combo"),"combo"),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>g({...A,combo:Math.max(1,A.combo-1)}),disabled:A.combo===1,children:"Trang Trước"}),r.jsxs("span",{children:["Trang ",A.combo," / ",E("combo")]}),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>g({...A,combo:Math.min(E("combo"),A.combo+1)}),disabled:A.combo===E("combo"),children:"Trang Sau"})]})]})]})]})]}),r.jsx(Jt,{open:o,onOpenChange:c,children:r.jsxs(Wt,{children:[r.jsxs(an,{children:[r.jsx(tn,{children:"Xác nhận xóa bình luận"}),r.jsx(Or,{children:"Bạn có chắc chắn muốn xóa bình luận này không? Hành động này không thể hoàn tác."})]}),r.jsxs(Rn,{children:[r.jsx(fe,{variant:"outline",onClick:()=>c(!1),children:"Hủy"}),r.jsx(fe,{variant:"destructive",onClick:y,children:"Xóa"})]})]})}),r.jsx(Jt,{open:d,onOpenChange:f,children:r.jsxs(Wt,{className:"p-6 max-w-3xl w-full detail-dialog-content",children:[r.jsx(an,{children:r.jsx(tn,{children:"Chi Tiết Bình Luận"})}),h&&r.jsxs("div",{className:"grid grid-cols-2 gap-6 mt-4",children:[r.jsxs("div",{className:"col-span-2 flex items-center gap-4",children:[r.jsx("img",{src:h.hinhAnh||"https://via.placeholder.com/50",alt:h.hoTen||"Avatar",className:"w-16 h-16 rounded-full object-cover"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Họ Tên"}),r.jsx(ye,{value:h.hoTen||"Chưa cập nhật",disabled:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"ID Bình Luận"}),r.jsx(ye,{value:h.maBinhLuan||"Chưa cập nhật",disabled:!0})]}),h.maSanPham!==void 0&&h.maSanPham!==null?r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Mã Sản Phẩm"}),r.jsx(ye,{value:h.maSanPham||"Chưa cập nhật",disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Tên Sản Phẩm"}),r.jsx(ye,{value:h.tenSanPham||"Chưa cập nhật",disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Đánh Giá"}),r.jsx(ye,{value:`${h.danhGia||0} / 5`,disabled:!0})]})]}):h.maCombo!==void 0&&h.maCombo!==null?r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Mã Combo"}),r.jsx(ye,{value:h.maCombo||"Chưa cập nhật",disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Tên Combo"}),r.jsx(ye,{value:h.tenCombo||`Combo ${h.maCombo}`,disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Đánh Giá"}),r.jsx(ye,{value:`${h.danhGia||0} / 5`,disabled:!0})]})]}):r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Mã Blog"}),r.jsx(ye,{value:h.maBlog??"Chưa cập nhật",disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Mã Người Dùng"}),r.jsx(ye,{value:h.maNguoiDung||"Chưa cập nhật",disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Nội Dung"}),r.jsx("div",{className:"text-gray-800 border border-input rounded-md p-2 bg-background",dangerouslySetInnerHTML:{__html:ch.sanitize(h.noiDungBinhLuan||"Chưa cập nhật",{ADD_ATTR:["style","src"]})}})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Số Tim"}),r.jsx(ye,{value:h.soTimBinhLuan??"0",disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Trạng Thái"}),r.jsx(ye,{value:h.trangThai===0?"Chưa Duyệt":"Đã Duyệt",disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Ngày Bình Luận"}),r.jsx(ye,{value:h.ngayBinhLuan?yP(h.ngayBinhLuan):"Chưa cập nhật",disabled:!0})]})]}),r.jsx(Rn,{className:"mt-6",children:r.jsx(fe,{variant:"outline",onClick:()=>f(!1),children:"Đóng"})})]})}),r.jsx("style",{children:`
        .comments .line-clamp-3 {
          display: flex;
          flex-direction: column;
          gap: 0.5rem;
          overflow: hidden;
          -webkit-line-clamp: unset;
          -webkit-box-orient: vertical;
          white-space: pre-line;
        }

        .comments .line-clamp-3 img {
          display: block;
          transform: scale(1.5);
          transform-origin: top left;
          max-width: 225px;
          height: auto;
          margin-top: 0.5rem;
        }

        .detail-dialog-content {
          max-height: 600px;
          overflow-y: auto;
        }

        .detail-dialog-content img {
          max-width: 100%;
          height: auto;
        }
      `})]})},Zm=({children:e,activeFormId:t})=>{const[n,s]=B.useState(t||""),[i,a]=B.useState(!1),[o,c]=B.useState(!1);B.useEffect(()=>{const l=()=>{a(window.innerWidth<768)};return l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[])},rBe=gl({productName:Ut().min(2,"Product name is required"),sku:Ut().min(2,"SKU code is required"),quantity:Ut().min(1,"Quantity is required"),category:Ut().min(1,"Category is required"),reorderLevel:Ut(),location:Ut(),supplier:Ut(),notes:Ut()}),sBe=()=>{const{toast:e}=Uu(),t=il({resolver:al(rBe),defaultValues:{productName:"",sku:"",quantity:"",category:"",reorderLevel:"",location:"",supplier:"",notes:""}});function n(s){console.log("Form submitted:",s),e({title:"Inventory item saved",description:`${s.productName} has been added to your inventory.`}),t.reset()}return r.jsx(Zm,{activeFormId:"inventory",children:r.jsxs(it,{className:"border-purple-100 shadow-sm",children:[r.jsx(yt,{className:"border-b pb-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(hr,{className:"h-5 w-5 text-purple-500"}),r.jsxs("div",{children:[r.jsx(jt,{className:"text-xl",children:"Inventory Management"}),r.jsx(ks,{children:"Add or update inventory items in your stock"})]})]})}),r.jsx(dt,{className:"pt-6",children:r.jsx(Eh,{...t,children:r.jsxs("form",{onSubmit:t.handleSubmit(n),className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(Rt,{control:t.control,name:"productName",render:({field:s})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Product Name"}),r.jsx(Mt,{children:r.jsx(ye,{placeholder:"Enter product name",...s})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:t.control,name:"sku",render:({field:s})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"SKU"}),r.jsx(Mt,{children:r.jsx(ye,{placeholder:"Enter SKU code",...s})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:t.control,name:"quantity",render:({field:s})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Quantity"}),r.jsx(Mt,{children:r.jsx(ye,{type:"number",min:"0",placeholder:"0",...s})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:t.control,name:"category",render:({field:s})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Category"}),r.jsxs(mn,{onValueChange:s.onChange,value:s.value,children:[r.jsx(Mt,{children:r.jsx(cn,{children:r.jsx(pn,{placeholder:"Select category"})})}),r.jsxs(un,{children:[r.jsx(Qe,{value:"clothing",children:"Clothing"}),r.jsx(Qe,{value:"accessories",children:"Accessories"}),r.jsx(Qe,{value:"footwear",children:"Footwear"}),r.jsx(Qe,{value:"beauty",children:"Beauty"}),r.jsx(Qe,{value:"home",children:"Home"})]})]}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:t.control,name:"reorderLevel",render:({field:s})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Reorder Level"}),r.jsx(Mt,{children:r.jsx(ye,{type:"number",min:"0",placeholder:"0",...s})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:t.control,name:"location",render:({field:s})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Storage Location"}),r.jsxs(mn,{onValueChange:s.onChange,value:s.value,children:[r.jsx(Mt,{children:r.jsx(cn,{children:r.jsx(pn,{placeholder:"Select location"})})}),r.jsxs(un,{children:[r.jsx(Qe,{value:"Warehouse A",children:"Warehouse A"}),r.jsx(Qe,{value:"Warehouse B",children:"Warehouse B"}),r.jsx(Qe,{value:"Warehouse C",children:"Warehouse C"}),r.jsx(Qe,{value:"Store Front",children:"Store Front"})]})]}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:t.control,name:"supplier",render:({field:s})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Supplier"}),r.jsx(Mt,{children:r.jsx(ye,{placeholder:"Enter supplier name",...s})}),r.jsx(Gt,{})]})})]}),r.jsx(Rt,{control:t.control,name:"notes",render:({field:s})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Notes"}),r.jsx(Mt,{children:r.jsx(Ac,{placeholder:"Add additional notes about this inventory item...",className:"min-h-[100px]",...s})}),r.jsx(Gt,{})]})}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsxs(fe,{variant:"outline",type:"button",onClick:()=>t.reset(),className:"gap-1",children:[r.jsx(st,{className:"h-4 w-4"}),"Cancel"]}),r.jsxs(fe,{type:"submit",className:"bg-purple-600 hover:bg-purple-700 gap-1",children:[r.jsx(e0,{className:"h-4 w-4"}),"Save Inventory"]})]})]})})})]})})},iBe=gl({supplierName:Ut().min(2,"Supplier name is required"),poNumber:Ut().min(1,"Purchase order number is required"),orderDate:Ut().min(1,"Order date is required"),expectedDelivery:Ut(),status:Ut(),totalAmount:Ut().min(1,"Amount is required"),notes:Ut()}),jP=()=>{const e=il({resolver:al(iBe),defaultValues:{supplierName:"",poNumber:"",orderDate:"",expectedDelivery:"",status:"pending",totalAmount:"",notes:""}});function t(n){console.log(n)}return r.jsx(Zm,{activeFormId:"purchase-orders",children:r.jsxs(it,{className:"max-w-3xl mx-auto",children:[r.jsxs(yt,{children:[r.jsx(jt,{className:"text-2xl",children:"Purchase Order Form"}),r.jsx(ks,{children:"Create a new purchase order for inventory"})]}),r.jsx(dt,{children:r.jsx(Eh,{...e,children:r.jsxs("form",{onSubmit:e.handleSubmit(t),className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(Rt,{control:e.control,name:"supplierName",render:({field:n})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Supplier Name"}),r.jsx(Mt,{children:r.jsx(ye,{placeholder:"Enter supplier name",...n})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:e.control,name:"poNumber",render:({field:n})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"PO Number"}),r.jsx(Mt,{children:r.jsx(ye,{placeholder:"Enter PO number",...n})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:e.control,name:"orderDate",render:({field:n})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Order Date"}),r.jsx(Mt,{children:r.jsx(ye,{type:"date",...n})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:e.control,name:"expectedDelivery",render:({field:n})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Expected Delivery"}),r.jsx(Mt,{children:r.jsx(ye,{type:"date",...n})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:e.control,name:"status",render:({field:n})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Status"}),r.jsxs(mn,{onValueChange:n.onChange,defaultValue:n.value,children:[r.jsx(Mt,{children:r.jsx(cn,{children:r.jsx(pn,{placeholder:"Select status"})})}),r.jsxs(un,{children:[r.jsx(Qe,{value:"pending",children:"Pending"}),r.jsx(Qe,{value:"approved",children:"Approved"}),r.jsx(Qe,{value:"completed",children:"Completed"}),r.jsx(Qe,{value:"cancelled",children:"Cancelled"})]})]}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:e.control,name:"totalAmount",render:({field:n})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Total Amount"}),r.jsx(Mt,{children:r.jsx(ye,{type:"number",placeholder:"0.00",...n})}),r.jsx(Gt,{})]})})]}),r.jsx(Rt,{control:e.control,name:"notes",render:({field:n})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Notes"}),r.jsx(Mt,{children:r.jsx(Ac,{placeholder:"Add any additional information",className:"min-h-[100px]",...n})}),r.jsx(Gt,{})]})}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(fe,{variant:"outline",type:"button",children:"Cancel"}),r.jsx(fe,{type:"submit",children:"Submit Order"})]})]})})})]})})},aBe=gl({name:Ut().min(2,"Product name is required"),sku:Ut().min(1,"SKU is required"),category:Ut().min(1,"Category is required"),price:Ut().min(1,"Price is required"),salePrice:Ut().optional(),cost:Ut(),description:Ut(),isActive:fS().default(!0),isFeatured:fS().default(!1),stock:Ut(),tags:Ut()}),CP=()=>{const e=il({resolver:al(aBe),defaultValues:{name:"",sku:"",category:"",price:"",salePrice:"",cost:"",description:"",isActive:!0,isFeatured:!1,stock:"",tags:""}});function t(n){console.log(n)}return r.jsx(Zm,{activeFormId:"products",children:r.jsxs(it,{className:"max-w-3xl mx-auto",children:[r.jsx(yt,{className:"flex md:flex-row md:items-center md:justify-between gap-4",children:r.jsxs("div",{children:[r.jsxs(jt,{className:"text-2xl flex items-center gap-2",children:[r.jsx(Vr,{className:"h-6 w-6 text-purple-500"}),"Product Form"]}),r.jsx(ks,{children:"Add or update product information"})]})}),r.jsx(dt,{children:r.jsx(Eh,{...e,children:r.jsxs("form",{onSubmit:e.handleSubmit(t),className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(Rt,{control:e.control,name:"name",render:({field:n})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Product Name"}),r.jsx(Mt,{children:r.jsx(ye,{placeholder:"Enter product name",...n})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:e.control,name:"sku",render:({field:n})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"SKU"}),r.jsx(Mt,{children:r.jsx(ye,{placeholder:"Enter SKU code",...n})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:e.control,name:"category",render:({field:n})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Category"}),r.jsxs(mn,{onValueChange:n.onChange,defaultValue:n.value,children:[r.jsx(Mt,{children:r.jsx(cn,{children:r.jsx(pn,{placeholder:"Select category"})})}),r.jsxs(un,{children:[r.jsx(Qe,{value:"clothing",children:"Clothing"}),r.jsx(Qe,{value:"accessories",children:"Accessories"}),r.jsx(Qe,{value:"footwear",children:"Footwear"}),r.jsx(Qe,{value:"beauty",children:"Beauty"})]})]}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:e.control,name:"price",render:({field:n})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Regular Price"}),r.jsx(Mt,{children:r.jsx(ye,{type:"number",placeholder:"0.00",...n})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:e.control,name:"salePrice",render:({field:n})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Sale Price (optional)"}),r.jsx(Mt,{children:r.jsx(ye,{type:"number",placeholder:"0.00",...n})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:e.control,name:"cost",render:({field:n})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Cost Price"}),r.jsx(Mt,{children:r.jsx(ye,{type:"number",placeholder:"0.00",...n})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:e.control,name:"stock",render:({field:n})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Stock Quantity"}),r.jsx(Mt,{children:r.jsx(ye,{type:"number",placeholder:"0",...n})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:e.control,name:"tags",render:({field:n})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Tags (comma-separated)"}),r.jsx(Mt,{children:r.jsx(ye,{placeholder:"new,featured,sale",...n})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:e.control,name:"isActive",render:({field:n})=>r.jsxs(Pt,{className:"flex flex-row items-center space-x-3 space-y-0 rounded-md border p-4",children:[r.jsx(Mt,{children:r.jsx(Vs,{checked:n.value,onCheckedChange:n.onChange})}),r.jsxs("div",{className:"space-y-1 leading-none",children:[r.jsx(Lt,{children:"Active Product"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Product will be visible in the store"})]})]})}),r.jsx(Rt,{control:e.control,name:"isFeatured",render:({field:n})=>r.jsxs(Pt,{className:"flex flex-row items-center space-x-3 space-y-0 rounded-md border p-4",children:[r.jsx(Mt,{children:r.jsx(Vs,{checked:n.value,onCheckedChange:n.onChange})}),r.jsxs("div",{className:"space-y-1 leading-none",children:[r.jsx(Lt,{children:"Featured Product"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Display this product in featured sections"})]})]})})]}),r.jsx(Rt,{control:e.control,name:"description",render:({field:n})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Product Description"}),r.jsx(Mt,{children:r.jsx(Ac,{placeholder:"Enter product description",className:"min-h-[100px]",...n})}),r.jsx(Gt,{})]})}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(fe,{variant:"outline",type:"button",children:"Cancel"}),r.jsx(fe,{type:"submit",children:"Save Product"})]})]})})})]})})},oBe=gl({orderNumber:Ut().min(1,"Order number is required"),trackingNumber:Ut(),carrier:Ut().min(1,"Shipping carrier is required"),method:Ive(["standard","express","overnight"],{required_error:"Please select a shipping method"}),customerName:Ut().min(1,"Customer name is required"),email:Ut().email("Invalid email address"),phone:Ut(),addressLine1:Ut().min(1,"Address is required"),addressLine2:Ut().optional(),city:Ut().min(1,"City is required"),state:Ut().min(1,"State is required"),postalCode:Ut().min(1,"Postal code is required"),country:Ut().min(1,"Country is required"),specialInstructions:Ut().optional(),status:Ut()}),NP=()=>{const e=il({resolver:al(oBe),defaultValues:{orderNumber:"",trackingNumber:"",carrier:"",method:"standard",customerName:"",email:"",phone:"",addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:"USA",specialInstructions:"",status:"pending"}});function t(n){console.log(n)}return r.jsx(Zm,{activeFormId:"shipping",children:r.jsxs(it,{className:"max-w-4xl mx-auto",children:[r.jsx(yt,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(BT,{className:"h-6 w-6 text-purple-500"}),r.jsxs("div",{children:[r.jsx(jt,{className:"text-2xl",children:"Shipping Form"}),r.jsx(ks,{children:"Create a new shipping label or update existing shipment"})]})]})}),r.jsx(dt,{children:r.jsx(Eh,{...e,children:r.jsxs("form",{onSubmit:e.handleSubmit(t),className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-4",children:"Order Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(Rt,{control:e.control,name:"orderNumber",render:({field:n})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Order Number"}),r.jsx(Mt,{children:r.jsx(ye,{placeholder:"Enter order number",...n})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:e.control,name:"trackingNumber",render:({field:n})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Tracking Number (if available)"}),r.jsx(Mt,{children:r.jsx(ye,{placeholder:"Enter tracking number",...n})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:e.control,name:"carrier",render:({field:n})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Shipping Carrier"}),r.jsxs(mn,{onValueChange:n.onChange,defaultValue:n.value,children:[r.jsx(Mt,{children:r.jsx(cn,{children:r.jsx(pn,{placeholder:"Select carrier"})})}),r.jsxs(un,{children:[r.jsx(Qe,{value:"fedex",children:"FedEx"}),r.jsx(Qe,{value:"ups",children:"UPS"}),r.jsx(Qe,{value:"usps",children:"USPS"}),r.jsx(Qe,{value:"dhl",children:"DHL"})]})]}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:e.control,name:"status",render:({field:n})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Status"}),r.jsxs(mn,{onValueChange:n.onChange,defaultValue:n.value,children:[r.jsx(Mt,{children:r.jsx(cn,{children:r.jsx(pn,{placeholder:"Select status"})})}),r.jsxs(un,{children:[r.jsx(Qe,{value:"pending",children:"Pending"}),r.jsx(Qe,{value:"processing",children:"Processing"}),r.jsx(Qe,{value:"shipped",children:"Shipped"}),r.jsx(Qe,{value:"delivered",children:"Delivered"}),r.jsx(Qe,{value:"returned",children:"Returned"})]})]}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:e.control,name:"method",render:({field:n})=>r.jsxs(Pt,{className:"col-span-1 md:col-span-2 space-y-3",children:[r.jsx(Lt,{children:"Shipping Method"}),r.jsx(Mt,{children:r.jsxs(kg,{onValueChange:n.onChange,defaultValue:n.value,className:"flex flex-col sm:flex-row sm:space-x-4 space-y-2 sm:space-y-0",children:[r.jsxs(Pt,{className:"flex items-center space-x-3 space-y-0",children:[r.jsx(Mt,{children:r.jsx(Oa,{value:"standard"})}),r.jsx(Lt,{className:"font-normal",children:"Standard Shipping (3-5 days)"})]}),r.jsxs(Pt,{className:"flex items-center space-x-3 space-y-0",children:[r.jsx(Mt,{children:r.jsx(Oa,{value:"express"})}),r.jsx(Lt,{className:"font-normal",children:"Express Shipping (2-3 days)"})]}),r.jsxs(Pt,{className:"flex items-center space-x-3 space-y-0",children:[r.jsx(Mt,{children:r.jsx(Oa,{value:"overnight"})}),r.jsx(Lt,{className:"font-normal",children:"Overnight Shipping (1 day)"})]})]})}),r.jsx(Gt,{})]})})]})]}),r.jsx(ji,{}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-4",children:"Customer Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(Rt,{control:e.control,name:"customerName",render:({field:n})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Customer Name"}),r.jsx(Mt,{children:r.jsx(ye,{placeholder:"Enter customer name",...n})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:e.control,name:"email",render:({field:n})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Email"}),r.jsx(Mt,{children:r.jsx(ye,{type:"email",placeholder:"Enter email address",...n})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:e.control,name:"phone",render:({field:n})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Phone Number"}),r.jsx(Mt,{children:r.jsx(ye,{type:"tel",placeholder:"Enter phone number",...n})}),r.jsx(Gt,{})]})})]})]}),r.jsx(ji,{}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-4",children:"Shipping Address"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(Rt,{control:e.control,name:"addressLine1",render:({field:n})=>r.jsxs(Pt,{className:"col-span-1 md:col-span-2",children:[r.jsx(Lt,{children:"Address Line 1"}),r.jsx(Mt,{children:r.jsx(ye,{placeholder:"Street address",...n})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:e.control,name:"addressLine2",render:({field:n})=>r.jsxs(Pt,{className:"col-span-1 md:col-span-2",children:[r.jsx(Lt,{children:"Address Line 2 (Optional)"}),r.jsx(Mt,{children:r.jsx(ye,{placeholder:"Apartment, suite, etc.",...n})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:e.control,name:"city",render:({field:n})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"City"}),r.jsx(Mt,{children:r.jsx(ye,{placeholder:"Enter city",...n})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:e.control,name:"state",render:({field:n})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"State/Province"}),r.jsx(Mt,{children:r.jsx(ye,{placeholder:"Enter state",...n})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:e.control,name:"postalCode",render:({field:n})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Postal/Zip Code"}),r.jsx(Mt,{children:r.jsx(ye,{placeholder:"Enter postal code",...n})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:e.control,name:"country",render:({field:n})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Country"}),r.jsxs(mn,{onValueChange:n.onChange,defaultValue:n.value,children:[r.jsx(Mt,{children:r.jsx(cn,{children:r.jsx(pn,{placeholder:"Select country"})})}),r.jsxs(un,{children:[r.jsx(Qe,{value:"USA",children:"United States"}),r.jsx(Qe,{value:"CAN",children:"Canada"}),r.jsx(Qe,{value:"MEX",children:"Mexico"}),r.jsx(Qe,{value:"GBR",children:"United Kingdom"})]})]}),r.jsx(Gt,{})]})})]})]}),r.jsx(Rt,{control:e.control,name:"specialInstructions",render:({field:n})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Special Instructions (Optional)"}),r.jsx(Mt,{children:r.jsx(Ac,{placeholder:"Enter any special delivery instructions",className:"min-h-[80px]",...n})}),r.jsx(Gt,{})]})}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(fe,{variant:"outline",type:"button",children:"Cancel"}),r.jsx(fe,{type:"submit",children:"Create Shipment"})]})]})})})]})})},FK={success:"#62c97d",error:"#ea384c",warning:"#F97316",info:"#0EA5E9",question:"#9b87f5"},lBe={confirmButtonColor:FK.info,cancelButtonColor:"#6b7280",customClass:{popup:"rounded-lg shadow-lg",title:"text-lg font-medium",confirmButton:"rounded-md",cancelButton:"rounded-md"}},RK=(e,t)=>{const{onConfirm:n,onCancel:s,...i}=t;return we.fire({icon:e,iconColor:FK[e],...lBe,...i}).then(a=>(a.isConfirmed&&n?n():a.isDismissed&&s&&s(),a))},cBe=(e,t="Success",n={})=>RK("success",{title:t,text:e,...n}),uBe=(e,t="Error",n={})=>RK("error",{title:t,text:e,...n}),dBe=gl({customerName:Ut().min(1,"Customer name is required"),email:Ut().email("Invalid email address"),phone:Ut(),orderDate:Ut().min(1,"Order date is required"),status:Ut().min(1,"Status is required"),shippingMethod:Ut().min(1,"Shipping method is required"),paymentMethod:Ut().min(1,"Payment method is required"),notes:Ut(),discount:Ut()}),SP=()=>{const e=wo("mobile");wo("tablet");const[t,n]=je.useState([{id:"1",name:"T-Shirt",quantity:2,price:24.99},{id:"2",name:"Jeans",quantity:1,price:49.99}]),[s,i]=je.useState(""),[a,o]=je.useState(1),[c,l]=je.useState(""),u=il({resolver:al(dBe),defaultValues:{customerName:"",email:"",phone:"",orderDate:new Date().toISOString().split("T")[0],status:"pending",shippingMethod:"standard",paymentMethod:"credit_card",notes:"",discount:"0"}});function d(g){console.log({...g,orderItems:t}),cBe("Order has been saved successfully")}const f=()=>{s&&c?(n([...t,{id:Date.now().toString(),name:s,quantity:a,price:parseFloat(c)}]),i(""),o(1),l("")):uBe("Please fill in all item fields")},h=g=>{n(t.filter(p=>p.id!==g))},m=()=>t.reduce((g,p)=>g+p.price*p.quantity,0),A=()=>{const g=m(),p=parseFloat(u.watch("discount")||"0");return g-p};return r.jsx(Zm,{activeFormId:"orders",children:r.jsxs(it,{className:"max-w-4xl mx-auto",children:[r.jsx(yt,{className:"space-y-1",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Rs,{className:"h-6 w-6 text-purple-500"}),r.jsxs("div",{children:[r.jsx(jt,{className:"text-2xl",children:"Order Form"}),r.jsx(ks,{children:"Create or edit customer orders"})]})]})}),r.jsx(dt,{children:r.jsx(Eh,{...u,children:r.jsxs("form",{onSubmit:u.handleSubmit(d),className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-4",children:"Customer Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(Rt,{control:u.control,name:"customerName",render:({field:g})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Customer Name"}),r.jsx(Mt,{children:r.jsx(ye,{placeholder:"Enter customer name",...g})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:u.control,name:"email",render:({field:g})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Email"}),r.jsx(Mt,{children:r.jsx(ye,{type:"email",placeholder:"Enter email address",...g})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:u.control,name:"phone",render:({field:g})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Phone Number"}),r.jsx(Mt,{children:r.jsx(ye,{type:"tel",placeholder:"Enter phone number",...g})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:u.control,name:"orderDate",render:({field:g})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Order Date"}),r.jsx(Mt,{children:r.jsx(ye,{type:"date",...g})}),r.jsx(Gt,{})]})})]})]}),r.jsx(ji,{}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium",children:"Order Details"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Add items to this order"}),r.jsxs("div",{className:`mb-6 grid ${e?"grid-cols-1 gap-3":"grid-cols-1 md:grid-cols-4 gap-4"} items-end`,children:[r.jsxs("div",{className:"col-span-1 md:col-span-2",children:[r.jsx(De,{htmlFor:"itemName",children:"Item Name"}),r.jsx(ye,{id:"itemName",value:s,onChange:g=>i(g.target.value),placeholder:"Product name"})]}),r.jsxs("div",{children:[r.jsx(De,{htmlFor:"itemQuantity",children:"Quantity"}),r.jsx(ye,{id:"itemQuantity",type:"number",min:"1",value:a,onChange:g=>o(parseInt(g.target.value))})]}),r.jsxs("div",{children:[r.jsx(De,{htmlFor:"itemPrice",children:"Price"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ye,{id:"itemPrice",type:"number",min:"0",step:"0.01",value:c,onChange:g=>l(g.target.value),placeholder:"0.00"}),r.jsx(fe,{type:"button",onClick:f,children:"Add"})]})]})]}),r.jsx("div",{className:"border rounded-md overflow-x-auto",children:r.jsxs(Rr,{children:[r.jsx(Ur,{children:r.jsxs(Ht,{children:[r.jsx($e,{children:"Product"}),r.jsx($e,{className:"text-right",children:"Quantity"}),r.jsx($e,{className:"text-right",children:"Price"}),r.jsx($e,{className:"text-right",children:"Total"}),r.jsx($e,{className:"w-[50px]"})]})}),r.jsx(Hr,{children:t.length>0?t.map(g=>r.jsxs(Ht,{children:[r.jsx(He,{children:g.name}),r.jsx(He,{className:"text-right",children:g.quantity}),r.jsxs(He,{className:"text-right",children:["$",g.price.toFixed(2)]}),r.jsxs(He,{className:"text-right",children:["$",(g.quantity*g.price).toFixed(2)]}),r.jsx(He,{children:r.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>h(g.id),className:"h-8 w-8 p-0",children:"✕"})})]},g.id)):r.jsx(Ht,{children:r.jsx(He,{colSpan:5,className:"text-center py-4 text-gray-500",children:"No items added to this order"})})})]})}),r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsxs("div",{className:`${e?"w-full":"w-full max-w-xs"} space-y-2`,children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Subtotal:"}),r.jsxs("span",{children:["$",m().toFixed(2)]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:"Discount:"}),r.jsx("div",{className:"flex-1",children:r.jsx(Rt,{control:u.control,name:"discount",render:({field:g})=>r.jsx(Pt,{className:"m-0",children:r.jsx(Mt,{children:r.jsx(ye,{type:"number",min:"0",step:"0.01",className:"h-8 text-right",placeholder:"0.00",...g})})})})})]}),r.jsxs("div",{className:"flex justify-between pt-2 border-t font-medium",children:[r.jsx("span",{children:"Total:"}),r.jsxs("span",{children:["$",A().toFixed(2)]})]})]})})]}),r.jsx(ji,{}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(Rt,{control:u.control,name:"status",render:({field:g})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Order Status"}),r.jsxs(mn,{onValueChange:g.onChange,defaultValue:g.value,children:[r.jsx(Mt,{children:r.jsx(cn,{children:r.jsx(pn,{placeholder:"Select status"})})}),r.jsxs(un,{children:[r.jsx(Qe,{value:"pending",children:"Pending"}),r.jsx(Qe,{value:"processing",children:"Processing"}),r.jsx(Qe,{value:"completed",children:"Completed"}),r.jsx(Qe,{value:"cancelled",children:"Cancelled"}),r.jsx(Qe,{value:"refunded",children:"Refunded"})]})]}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:u.control,name:"shippingMethod",render:({field:g})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Shipping Method"}),r.jsxs(mn,{onValueChange:g.onChange,defaultValue:g.value,children:[r.jsx(Mt,{children:r.jsx(cn,{children:r.jsx(pn,{placeholder:"Select shipping method"})})}),r.jsxs(un,{children:[r.jsx(Qe,{value:"standard",children:"Standard Shipping"}),r.jsx(Qe,{value:"express",children:"Express Shipping"}),r.jsx(Qe,{value:"overnight",children:"Overnight Shipping"}),r.jsx(Qe,{value:"pickup",children:"In-Store Pickup"})]})]}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:u.control,name:"paymentMethod",render:({field:g})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Payment Method"}),r.jsxs(mn,{onValueChange:g.onChange,defaultValue:g.value,children:[r.jsx(Mt,{children:r.jsx(cn,{children:r.jsx(pn,{placeholder:"Select payment method"})})}),r.jsxs(un,{children:[r.jsx(Qe,{value:"credit_card",children:"Credit Card"}),r.jsx(Qe,{value:"paypal",children:"PayPal"}),r.jsx(Qe,{value:"bank_transfer",children:"Bank Transfer"}),r.jsx(Qe,{value:"cash",children:"Cash on Delivery"})]})]}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:u.control,name:"notes",render:({field:g})=>r.jsxs(Pt,{className:"col-span-1 md:col-span-2",children:[r.jsx(Lt,{children:"Order Notes"}),r.jsx(Mt,{children:r.jsx(ye,{placeholder:"Add any notes about this order",...g})}),r.jsx(Gt,{})]})})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-end",children:[r.jsx(fe,{variant:"outline",type:"button",children:"Cancel"}),r.jsx(fe,{type:"submit",children:"Save Order"})]})]})})})]})})},hBe=gl({invoiceNumber:Ut().min(1,"Invoice number is required"),orderNumber:Ut().min(1,"Order number is required"),customerName:Ut().min(1,"Customer name is required"),customerEmail:Ut().email("Invalid email format"),issueDate:Ut().min(1,"Issue date is required"),dueDate:Ut().min(1,"Due date is required"),status:Ut().min(1,"Status is required"),notes:Ut(),taxRate:Ut(),discount:Ut(),sendEmail:fS().default(!1)}),fBe=()=>{const[e,t]=je.useState([{id:"1",description:"Product Design",quantity:1,price:500},{id:"2",description:"Website Development",quantity:1,price:2e3}]),[n,s]=je.useState(""),[i,a]=je.useState(1),[o,c]=je.useState(""),l=il({resolver:al(hBe),defaultValues:{invoiceNumber:`INV-${Date.now().toString().slice(-6)}`,orderNumber:"",customerName:"",customerEmail:"",issueDate:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],status:"draft",notes:"",taxRate:"10",discount:"0",sendEmail:!0}});function u(A){console.log({...A,invoiceItems:e})}const d=()=>{n&&o&&(t([...e,{id:Date.now().toString(),description:n,quantity:i,price:parseFloat(o)}]),s(""),a(1),c(""))},f=A=>{t(e.filter(g=>g.id!==A))},h=()=>e.reduce((A,g)=>A+g.price*g.quantity,0),m=()=>{const A=h(),g=parseFloat(l.watch("taxRate")||"0")/100,p=parseFloat(l.watch("discount")||"0"),b=A*g;return A+b-p};return r.jsx(Zm,{activeFormId:"invoice",children:r.jsxs(it,{className:"max-w-4xl mx-auto",children:[r.jsx(yt,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(CT,{className:"h-6 w-6 text-purple-500"}),r.jsxs("div",{children:[r.jsx(jt,{className:"text-2xl",children:"Invoice Form"}),r.jsx(ks,{children:"Create a professional invoice for your customers"})]})]})}),r.jsx(dt,{children:r.jsx(Eh,{...l,children:r.jsxs("form",{onSubmit:l.handleSubmit(u),className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(Rt,{control:l.control,name:"invoiceNumber",render:({field:A})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Invoice Number"}),r.jsx(Mt,{children:r.jsx(ye,{...A})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:l.control,name:"orderNumber",render:({field:A})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Order Reference"}),r.jsx(Mt,{children:r.jsx(ye,{placeholder:"Enter order number",...A})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:l.control,name:"customerName",render:({field:A})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Customer Name"}),r.jsx(Mt,{children:r.jsx(ye,{placeholder:"Enter customer name",...A})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:l.control,name:"customerEmail",render:({field:A})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Customer Email"}),r.jsx(Mt,{children:r.jsx(ye,{type:"email",placeholder:"Enter email",...A})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:l.control,name:"issueDate",render:({field:A})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Issue Date"}),r.jsx(Mt,{children:r.jsx(ye,{type:"date",...A})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:l.control,name:"dueDate",render:({field:A})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Due Date"}),r.jsx(Mt,{children:r.jsx(ye,{type:"date",...A})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:l.control,name:"status",render:({field:A})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Status"}),r.jsxs(mn,{onValueChange:A.onChange,defaultValue:A.value,children:[r.jsx(Mt,{children:r.jsx(cn,{children:r.jsx(pn,{placeholder:"Select status"})})}),r.jsxs(un,{children:[r.jsx(Qe,{value:"draft",children:"Draft"}),r.jsx(Qe,{value:"pending",children:"Pending"}),r.jsx(Qe,{value:"paid",children:"Paid"}),r.jsx(Qe,{value:"overdue",children:"Overdue"}),r.jsx(Qe,{value:"cancelled",children:"Cancelled"})]})]}),r.jsx(Gt,{})]})})]}),r.jsx(ji,{}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium",children:"Invoice Items"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Add the items or services for this invoice"}),r.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[r.jsxs("div",{className:"col-span-1 md:col-span-2",children:[r.jsx(De,{htmlFor:"itemDescription",children:"Description"}),r.jsx(ye,{id:"itemDescription",value:n,onChange:A=>s(A.target.value),placeholder:"Item or service description"})]}),r.jsxs("div",{children:[r.jsx(De,{htmlFor:"itemQuantity",children:"Quantity"}),r.jsx(ye,{id:"itemQuantity",type:"number",min:"1",value:i,onChange:A=>a(parseInt(A.target.value))})]}),r.jsxs("div",{children:[r.jsx(De,{htmlFor:"itemPrice",children:"Price"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ye,{id:"itemPrice",type:"number",min:"0",step:"0.01",value:o,onChange:A=>c(A.target.value),placeholder:"0.00"}),r.jsx(fe,{type:"button",onClick:d,children:"Add"})]})]})]}),r.jsx("div",{className:"border rounded-md overflow-hidden",children:r.jsxs(Rr,{children:[r.jsx(Ur,{children:r.jsxs(Ht,{children:[r.jsx($e,{className:"w-[50%]",children:"Description"}),r.jsx($e,{className:"text-right",children:"Quantity"}),r.jsx($e,{className:"text-right",children:"Price"}),r.jsx($e,{className:"text-right",children:"Total"}),r.jsx($e,{className:"w-[50px]"})]})}),r.jsx(Hr,{children:e.length>0?e.map(A=>r.jsxs(Ht,{children:[r.jsx(He,{children:A.description}),r.jsx(He,{className:"text-right",children:A.quantity}),r.jsxs(He,{className:"text-right",children:["$",A.price.toFixed(2)]}),r.jsxs(He,{className:"text-right",children:["$",(A.quantity*A.price).toFixed(2)]}),r.jsx(He,{children:r.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>f(A.id),className:"h-8 w-8 p-0",children:"✕"})})]},A.id)):r.jsx(Ht,{children:r.jsx(He,{colSpan:5,className:"text-center py-4 text-gray-500",children:"No items added to this invoice"})})})]})}),r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsxs("div",{className:"w-full max-w-xs space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Subtotal:"}),r.jsxs("span",{children:["$",h().toFixed(2)]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:"Tax Rate (%):"}),r.jsx("div",{className:"flex-1",children:r.jsx(Rt,{control:l.control,name:"taxRate",render:({field:A})=>r.jsx(Pt,{className:"m-0",children:r.jsx(Mt,{children:r.jsx(ye,{type:"number",min:"0",step:"0.1",className:"h-8 text-right",placeholder:"0",...A})})})})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:"Discount:"}),r.jsx("div",{className:"flex-1",children:r.jsx(Rt,{control:l.control,name:"discount",render:({field:A})=>r.jsx(Pt,{className:"m-0",children:r.jsx(Mt,{children:r.jsx(ye,{type:"number",min:"0",step:"0.01",className:"h-8 text-right",placeholder:"0.00",...A})})})})})]}),r.jsxs("div",{className:"flex justify-between pt-2 border-t font-medium",children:[r.jsx("span",{children:"Total:"}),r.jsxs("span",{children:["$",m().toFixed(2)]})]})]})})]}),r.jsx(ji,{}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Rt,{control:l.control,name:"notes",render:({field:A})=>r.jsxs(Pt,{children:[r.jsx(Lt,{children:"Notes to Customer"}),r.jsx(Mt,{children:r.jsx(ye,{placeholder:"Enter any additional notes",...A})}),r.jsx(Gt,{})]})}),r.jsx(Rt,{control:l.control,name:"sendEmail",render:({field:A})=>r.jsxs(Pt,{className:"flex flex-row items-center space-x-3 space-y-0 rounded-md border p-4",children:[r.jsx(Mt,{children:r.jsx(Vs,{checked:A.value,onCheckedChange:A.onChange})}),r.jsxs("div",{className:"space-y-1 leading-none",children:[r.jsx(Lt,{children:"Email Invoice to Customer"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Send this invoice automatically to the customer email"})]})]})})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(fe,{variant:"outline",type:"button",children:"Save as Draft"}),r.jsx(fe,{type:"submit",children:"Generate Invoice"})]})]})})})]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function M0(e){return e+.5|0}const ru=(e,t,n)=>Math.max(Math.min(e,n),t);function Jp(e){return ru(M0(e*2.55),0,255)}function wu(e){return ru(M0(e*255),0,255)}function Rl(e){return ru(M0(e/2.55)/100,0,1)}function TP(e){return ru(M0(e*100),0,100)}const ka={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},LS=[..."0123456789ABCDEF"],mBe=e=>LS[e&15],pBe=e=>LS[(e&240)>>4]+LS[e&15],Ox=e=>(e&240)>>4===(e&15),ABe=e=>Ox(e.r)&&Ox(e.g)&&Ox(e.b)&&Ox(e.a);function gBe(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&ka[e[1]]*17,g:255&ka[e[2]]*17,b:255&ka[e[3]]*17,a:t===5?ka[e[4]]*17:255}:(t===7||t===9)&&(n={r:ka[e[1]]<<4|ka[e[2]],g:ka[e[3]]<<4|ka[e[4]],b:ka[e[5]]<<4|ka[e[6]],a:t===9?ka[e[7]]<<4|ka[e[8]]:255})),n}const xBe=(e,t)=>e<255?t(e):"";function bBe(e){var t=ABe(e)?mBe:pBe;return e?"#"+t(e.r)+t(e.g)+t(e.b)+xBe(e.a,t):void 0}const vBe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function UK(e,t,n){const s=t*Math.min(n,1-n),i=(a,o=(a+e/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function yBe(e,t,n){const s=(i,a=(i+e/60)%6)=>n-n*t*Math.max(Math.min(a,4-a,1),0);return[s(5),s(3),s(1)]}function wBe(e,t,n){const s=UK(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)s[i]*=1-t-n,s[i]+=t;return s}function jBe(e,t,n,s,i){return e===i?(t-n)/s+(t<n?6:0):t===i?(n-e)/s+2:(e-t)/s+4}function Dk(e){const n=e.r/255,s=e.g/255,i=e.b/255,a=Math.max(n,s,i),o=Math.min(n,s,i),c=(a+o)/2;let l,u,d;return a!==o&&(d=a-o,u=c>.5?d/(2-a-o):d/(a+o),l=jBe(n,s,i,d,a),l=l*60+.5),[l|0,u||0,c]}function Ik(e,t,n,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,s)).map(wu)}function Ok(e,t,n){return Ik(UK,e,t,n)}function CBe(e,t,n){return Ik(wBe,e,t,n)}function NBe(e,t,n){return Ik(yBe,e,t,n)}function HK(e){return(e%360+360)%360}function SBe(e){const t=vBe.exec(e);let n=255,s;if(!t)return;t[5]!==s&&(n=t[6]?Jp(+t[5]):wu(+t[5]));const i=HK(+t[2]),a=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?s=CBe(i,a,o):t[1]==="hsv"?s=NBe(i,a,o):s=Ok(i,a,o),{r:s[0],g:s[1],b:s[2],a:n}}function TBe(e,t){var n=Dk(e);n[0]=HK(n[0]+t),n=Ok(n),e.r=n[0],e.g=n[1],e.b=n[2]}function kBe(e){if(!e)return;const t=Dk(e),n=t[0],s=TP(t[1]),i=TP(t[2]);return e.a<255?`hsla(${n}, ${s}%, ${i}%, ${Rl(e.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const kP={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},_P={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function _Be(){const e={},t=Object.keys(_P),n=Object.keys(kP);let s,i,a,o,c;for(s=0;s<t.length;s++){for(o=c=t[s],i=0;i<n.length;i++)a=n[i],c=c.replace(a,kP[a]);a=parseInt(_P[o],16),e[c]=[a>>16&255,a>>8&255,a&255]}return e}let Lx;function BBe(e){Lx||(Lx=_Be(),Lx.transparent=[0,0,0,0]);const t=Lx[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const EBe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function PBe(e){const t=EBe.exec(e);let n=255,s,i,a;if(t){if(t[7]!==s){const o=+t[7];n=t[8]?Jp(o):ru(o*255,0,255)}return s=+t[1],i=+t[3],a=+t[5],s=255&(t[2]?Jp(s):ru(s,0,255)),i=255&(t[4]?Jp(i):ru(i,0,255)),a=255&(t[6]?Jp(a):ru(a,0,255)),{r:s,g:i,b:a,a:n}}}function MBe(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Rl(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const lC=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,$h=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function DBe(e,t,n){const s=$h(Rl(e.r)),i=$h(Rl(e.g)),a=$h(Rl(e.b));return{r:wu(lC(s+n*($h(Rl(t.r))-s))),g:wu(lC(i+n*($h(Rl(t.g))-i))),b:wu(lC(a+n*($h(Rl(t.b))-a))),a:e.a+n*(t.a-e.a)}}function Fx(e,t,n){if(e){let s=Dk(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,t===0?360:1)),s=Ok(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function $K(e,t){return e&&Object.assign(t||{},e)}function BP(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=wu(e[3]))):(t=$K(e,{r:0,g:0,b:0,a:1}),t.a=wu(t.a)),t}function IBe(e){return e.charAt(0)==="r"?PBe(e):SBe(e)}class Pg{constructor(t){if(t instanceof Pg)return t;const n=typeof t;let s;n==="object"?s=BP(t):n==="string"&&(s=gBe(t)||BBe(t)||IBe(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=$K(this._rgb);return t&&(t.a=Rl(t.a)),t}set rgb(t){this._rgb=BP(t)}rgbString(){return this._valid?MBe(this._rgb):void 0}hexString(){return this._valid?bBe(this._rgb):void 0}hslString(){return this._valid?kBe(this._rgb):void 0}mix(t,n){if(t){const s=this.rgb,i=t.rgb;let a;const o=n===a?.5:n,c=2*o-1,l=s.a-i.a,u=((c*l===-1?c:(c+l)/(1+c*l))+1)/2;a=1-u,s.r=255&u*s.r+a*i.r+.5,s.g=255&u*s.g+a*i.g+.5,s.b=255&u*s.b+a*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(t,n){return t&&(this._rgb=DBe(this._rgb,t._rgb,n)),this}clone(){return new Pg(this.rgb)}alpha(t){return this._rgb.a=wu(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=M0(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Fx(this._rgb,2,t),this}darken(t){return Fx(this._rgb,2,-t),this}saturate(t){return Fx(this._rgb,1,t),this}desaturate(t){return Fx(this._rgb,1,-t),this}rotate(t){return TBe(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Sl(){}const OBe=(()=>{let e=0;return()=>e++})();function Dn(e){return e==null}function Fr(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Fn(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function ns(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function oa(e,t){return ns(e)?e:t}function vn(e,t){return typeof e>"u"?t:e}const LBe=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,QK=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function xr(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function lr(e,t,n,s){let i,a,o;if(Fr(e))for(a=e.length,i=0;i<a;i++)t.call(n,e[i],i);else if(Fn(e))for(o=Object.keys(e),a=o.length,i=0;i<a;i++)t.call(n,e[o[i]],o[i])}function Ky(e,t){let n,s,i,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,s=e.length;n<s;++n)if(i=e[n],a=t[n],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function Gy(e){if(Fr(e))return e.map(Gy);if(Fn(e)){const t=Object.create(null),n=Object.keys(e),s=n.length;let i=0;for(;i<s;++i)t[n[i]]=Gy(e[n[i]]);return t}return e}function zK(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function FBe(e,t,n,s){if(!zK(e))return;const i=t[e],a=n[e];Fn(i)&&Fn(a)?Mg(i,a,s):t[e]=Gy(a)}function Mg(e,t,n){const s=Fr(t)?t:[t],i=s.length;if(!Fn(e))return e;n=n||{};const a=n.merger||FBe;let o;for(let c=0;c<i;++c){if(o=s[c],!Fn(o))continue;const l=Object.keys(o);for(let u=0,d=l.length;u<d;++u)a(l[u],e,o,n)}return e}function TA(e,t){return Mg(e,t,{merger:RBe})}function RBe(e,t,n){if(!zK(e))return;const s=t[e],i=n[e];Fn(s)&&Fn(i)?TA(s,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Gy(i))}const EP={"":e=>e,x:e=>e.x,y:e=>e.y};function UBe(e){const t=e.split("."),n=[];let s="";for(const i of t)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function HBe(e){const t=UBe(e);return n=>{for(const s of t){if(s==="")break;n=n&&n[s]}return n}}function Du(e,t){return(EP[t]||(EP[t]=HBe(t)))(e)}function Lk(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Dg=e=>typeof e<"u",Iu=e=>typeof e=="function",PP=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function $Be(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Yn=Math.PI,Pr=2*Yn,QBe=Pr+Yn,Wy=Number.POSITIVE_INFINITY,zBe=Yn/180,us=Yn/2,id=Yn/4,MP=Yn*2/3,su=Math.log10,cl=Math.sign;function kA(e,t,n){return Math.abs(e-t)<n}function DP(e){const t=Math.round(e);e=kA(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(su(e))),s=e/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function VBe(e){const t=[],n=Math.sqrt(e);let s;for(s=1;s<n;s++)e%s===0&&(t.push(s),t.push(e/s));return n===(n|0)&&t.push(n),t.sort((i,a)=>i-a).pop(),t}function KBe(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function gm(e){return!KBe(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function GBe(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function VK(e,t,n){let s,i,a;for(s=0,i=e.length;s<i;s++)a=e[s][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function ho(e){return e*(Yn/180)}function Fk(e){return e*(180/Yn)}function IP(e){if(!ns(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function KK(e,t){const n=t.x-e.x,s=t.y-e.y,i=Math.sqrt(n*n+s*s);let a=Math.atan2(s,n);return a<-.5*Yn&&(a+=Pr),{angle:a,distance:i}}function FS(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function WBe(e,t){return(e-t+QBe)%Pr-Yn}function si(e){return(e%Pr+Pr)%Pr}function Ig(e,t,n,s){const i=si(e),a=si(t),o=si(n),c=si(a-i),l=si(o-i),u=si(i-a),d=si(i-o);return i===a||i===o||s&&a===o||c>l&&u<d}function Ls(e,t,n){return Math.max(t,Math.min(n,e))}function qBe(e){return Ls(e,-32768,32767)}function zl(e,t,n,s=1e-6){return e>=Math.min(t,n)-s&&e<=Math.max(t,n)+s}function Rk(e,t,n){n=n||(o=>e[o]<t);let s=e.length-1,i=0,a;for(;s-i>1;)a=i+s>>1,n(a)?i=a:s=a;return{lo:i,hi:s}}const Vl=(e,t,n,s)=>Rk(e,n,s?i=>{const a=e[i][t];return a<n||a===n&&e[i+1][t]===n}:i=>e[i][t]<n),XBe=(e,t,n)=>Rk(e,n,s=>e[s][t]>=n);function YBe(e,t,n){let s=0,i=e.length;for(;s<i&&e[s]<t;)s++;for(;i>s&&e[i-1]>n;)i--;return s>0||i<e.length?e.slice(s,i):e}const GK=["push","pop","shift","splice","unshift"];function ZBe(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),GK.forEach(n=>{const s="_onData"+Lk(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...a){const o=i.apply(this,a);return e._chartjs.listeners.forEach(c=>{typeof c[s]=="function"&&c[s](...a)}),o}})})}function OP(e,t){const n=e._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(t);i!==-1&&s.splice(i,1),!(s.length>0)&&(GK.forEach(a=>{delete e[a]}),delete e._chartjs)}function WK(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const qK=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function XK(e,t){let n=[],s=!1;return function(...i){n=i,s||(s=!0,qK.call(window,()=>{s=!1,e.apply(t,n)}))}}function JBe(e,t){let n;return function(...s){return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}const Uk=e=>e==="start"?"left":e==="end"?"right":"center",ri=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,eEe=(e,t,n,s)=>e===(s?"left":"right")?n:e==="center"?(t+n)/2:t;function YK(e,t,n){const s=t.length;let i=0,a=s;if(e._sorted){const{iScale:o,vScale:c,_parsed:l}=e,u=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=o.axis,{min:f,max:h,minDefined:m,maxDefined:A}=o.getUserBounds();if(m){if(i=Math.min(Vl(l,d,f).lo,n?s:Vl(t,d,o.getPixelForValue(f)).lo),u){const g=l.slice(0,i+1).reverse().findIndex(p=>!Dn(p[c.axis]));i-=Math.max(0,g)}i=Ls(i,0,s-1)}if(A){let g=Math.max(Vl(l,o.axis,h,!0).hi+1,n?0:Vl(t,d,o.getPixelForValue(h),!0).hi+1);if(u){const p=l.slice(g-1).findIndex(b=>!Dn(b[c.axis]));g+=Math.max(0,p)}a=Ls(g,i,s)-i}else a=s-i}return{start:i,count:a}}function ZK(e){const{xScale:t,yScale:n,_scaleRanges:s}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!s)return e._scaleRanges=i,!0;const a=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,i),a}const Rx=e=>e===0||e===1,LP=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Pr/n)),FP=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Pr/n)+1,_A={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*us)+1,easeOutSine:e=>Math.sin(e*us),easeInOutSine:e=>-.5*(Math.cos(Yn*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Rx(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Rx(e)?e:LP(e,.075,.3),easeOutElastic:e=>Rx(e)?e:FP(e,.075,.3),easeInOutElastic(e){return Rx(e)?e:e<.5?.5*LP(e*2,.1125,.45):.5+.5*FP(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-_A.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?_A.easeInBounce(e*2)*.5:_A.easeOutBounce(e*2-1)*.5+.5};function Hk(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function RP(e){return Hk(e)?e:new Pg(e)}function cC(e){return Hk(e)?e:new Pg(e).saturate(.5).darken(.1).hexString()}const tEe=["x","y","borderWidth","radius","tension"],nEe=["color","borderColor","backgroundColor"];function rEe(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:nEe},numbers:{type:"number",properties:tEe}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function sEe(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const UP=new Map;function iEe(e,t){t=t||{};const n=e+JSON.stringify(t);let s=UP.get(n);return s||(s=new Intl.NumberFormat(e,t),UP.set(n,s)),s}function D0(e,t,n){return iEe(t,n).format(e)}const JK={values(e){return Fr(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const s=this.chart.options.locale;let i,a=e;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),a=aEe(e,n)}const o=su(Math.abs(a)),c=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(l,this.options.ticks.format),D0(e,s,l)},logarithmic(e,t,n){if(e===0)return"0";const s=n[t].significand||e/Math.pow(10,Math.floor(su(e)));return[1,2,3,5,10,15].includes(s)||t>.8*n.length?JK.numeric.call(this,e,t,n):""}};function aEe(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var t2={formatters:JK};function oEe(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:t2.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const gh=Object.create(null),RS=Object.create(null);function BA(e,t){if(!t)return e;const n=t.split(".");for(let s=0,i=n.length;s<i;++s){const a=n[s];e=e[a]||(e[a]=Object.create(null))}return e}function uC(e,t,n){return typeof t=="string"?Mg(BA(e,t),n):Mg(BA(e,""),t)}class lEe{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>cC(i.backgroundColor),this.hoverBorderColor=(s,i)=>cC(i.borderColor),this.hoverColor=(s,i)=>cC(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return uC(this,t,n)}get(t){return BA(this,t)}describe(t,n){return uC(RS,t,n)}override(t,n){return uC(gh,t,n)}route(t,n,s,i){const a=BA(this,t),o=BA(this,s),c="_"+n;Object.defineProperties(a,{[c]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[c],u=o[i];return Fn(l)?Object.assign({},u,l):vn(l,u)},set(l){this[c]=l}}})}apply(t){t.forEach(n=>n(this))}}var $r=new lEe({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[rEe,sEe,oEe]);function cEe(e){return!e||Dn(e.size)||Dn(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function qy(e,t,n,s,i){let a=t[i];return a||(a=t[i]=e.measureText(i).width,n.push(i)),a>s&&(s=a),s}function uEe(e,t,n,s){s=s||{};let i=s.data=s.data||{},a=s.garbageCollect=s.garbageCollect||[];s.font!==t&&(i=s.data={},a=s.garbageCollect=[],s.font=t),e.save(),e.font=t;let o=0;const c=n.length;let l,u,d,f,h;for(l=0;l<c;l++)if(f=n[l],f!=null&&!Fr(f))o=qy(e,i,a,o,f);else if(Fr(f))for(u=0,d=f.length;u<d;u++)h=f[u],h!=null&&!Fr(h)&&(o=qy(e,i,a,o,h));e.restore();const m=a.length/2;if(m>n.length){for(l=0;l<m;l++)delete i[a[l]];a.splice(0,m)}return o}function ad(e,t,n){const s=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*s)/s+i}function HP(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function US(e,t,n,s){eG(e,t,n,s,null)}function eG(e,t,n,s,i){let a,o,c,l,u,d,f,h;const m=t.pointStyle,A=t.rotation,g=t.radius;let p=(A||0)*zBe;if(m&&typeof m=="object"&&(a=m.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){e.save(),e.translate(n,s),e.rotate(p),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),m){default:i?e.ellipse(n,s,i/2,g,0,0,Pr):e.arc(n,s,g,0,Pr),e.closePath();break;case"triangle":d=i?i/2:g,e.moveTo(n+Math.sin(p)*d,s-Math.cos(p)*g),p+=MP,e.lineTo(n+Math.sin(p)*d,s-Math.cos(p)*g),p+=MP,e.lineTo(n+Math.sin(p)*d,s-Math.cos(p)*g),e.closePath();break;case"rectRounded":u=g*.516,l=g-u,o=Math.cos(p+id)*l,f=Math.cos(p+id)*(i?i/2-u:l),c=Math.sin(p+id)*l,h=Math.sin(p+id)*(i?i/2-u:l),e.arc(n-f,s-c,u,p-Yn,p-us),e.arc(n+h,s-o,u,p-us,p),e.arc(n+f,s+c,u,p,p+us),e.arc(n-h,s+o,u,p+us,p+Yn),e.closePath();break;case"rect":if(!A){l=Math.SQRT1_2*g,d=i?i/2:l,e.rect(n-d,s-l,2*d,2*l);break}p+=id;case"rectRot":f=Math.cos(p)*(i?i/2:g),o=Math.cos(p)*g,c=Math.sin(p)*g,h=Math.sin(p)*(i?i/2:g),e.moveTo(n-f,s-c),e.lineTo(n+h,s-o),e.lineTo(n+f,s+c),e.lineTo(n-h,s+o),e.closePath();break;case"crossRot":p+=id;case"cross":f=Math.cos(p)*(i?i/2:g),o=Math.cos(p)*g,c=Math.sin(p)*g,h=Math.sin(p)*(i?i/2:g),e.moveTo(n-f,s-c),e.lineTo(n+f,s+c),e.moveTo(n+h,s-o),e.lineTo(n-h,s+o);break;case"star":f=Math.cos(p)*(i?i/2:g),o=Math.cos(p)*g,c=Math.sin(p)*g,h=Math.sin(p)*(i?i/2:g),e.moveTo(n-f,s-c),e.lineTo(n+f,s+c),e.moveTo(n+h,s-o),e.lineTo(n-h,s+o),p+=id,f=Math.cos(p)*(i?i/2:g),o=Math.cos(p)*g,c=Math.sin(p)*g,h=Math.sin(p)*(i?i/2:g),e.moveTo(n-f,s-c),e.lineTo(n+f,s+c),e.moveTo(n+h,s-o),e.lineTo(n-h,s+o);break;case"line":o=i?i/2:Math.cos(p)*g,c=Math.sin(p)*g,e.moveTo(n-o,s-c),e.lineTo(n+o,s+c);break;case"dash":e.moveTo(n,s),e.lineTo(n+Math.cos(p)*(i?i/2:g),s+Math.sin(p)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Kl(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function n2(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function r2(e){e.restore()}function dEe(e,t,n,s,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const a=(t.x+n.x)/2;e.lineTo(a,t.y),e.lineTo(a,n.y)}else i==="after"!=!!s?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function hEe(e,t,n,s){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function fEe(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Dn(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function mEe(e,t,n,s,i){if(i.strikethrough||i.underline){const a=e.measureText(s),o=t-a.actualBoundingBoxLeft,c=t+a.actualBoundingBoxRight,l=n-a.actualBoundingBoxAscent,u=n+a.actualBoundingBoxDescent,d=i.strikethrough?(l+u)/2:u;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,d),e.lineTo(c,d),e.stroke()}}function pEe(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function xh(e,t,n,s,i,a={}){const o=Fr(t)?t:[t],c=a.strokeWidth>0&&a.strokeColor!=="";let l,u;for(e.save(),e.font=i.string,fEe(e,a),l=0;l<o.length;++l)u=o[l],a.backdrop&&pEe(e,a.backdrop),c&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),Dn(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(u,n,s,a.maxWidth)),e.fillText(u,n,s,a.maxWidth),mEe(e,n,s,u,a),s+=Number(i.lineHeight);e.restore()}function Og(e,t){const{x:n,y:s,w:i,h:a,radius:o}=t;e.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*Yn,Yn,!0),e.lineTo(n,s+a-o.bottomLeft),e.arc(n+o.bottomLeft,s+a-o.bottomLeft,o.bottomLeft,Yn,us,!0),e.lineTo(n+i-o.bottomRight,s+a),e.arc(n+i-o.bottomRight,s+a-o.bottomRight,o.bottomRight,us,0,!0),e.lineTo(n+i,s+o.topRight),e.arc(n+i-o.topRight,s+o.topRight,o.topRight,0,-us,!0),e.lineTo(n+o.topLeft,s)}const AEe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,gEe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function xEe(e,t){const n=(""+e).match(AEe);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const bEe=e=>+e||0;function $k(e,t){const n={},s=Fn(t),i=s?Object.keys(t):t,a=Fn(e)?s?o=>vn(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)n[o]=bEe(a(o));return n}function tG(e){return $k(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Ud(e){return $k(e,["topLeft","topRight","bottomLeft","bottomRight"])}function fi(e){const t=tG(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ts(e,t){e=e||{},t=t||$r.font;let n=vn(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let s=vn(e.style,t.style);s&&!(""+s).match(gEe)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:vn(e.family,t.family),lineHeight:xEe(vn(e.lineHeight,t.lineHeight),n),size:n,style:s,weight:vn(e.weight,t.weight),string:""};return i.string=cEe(i),i}function eA(e,t,n,s){let i,a,o;for(i=0,a=e.length;i<a;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function vEe(e,t,n){const{min:s,max:i}=e,a=QK(t,(i-s)/2),o=(c,l)=>n&&c===0?0:c+l;return{min:o(s,-Math.abs(a)),max:o(i,a)}}function ed(e,t){return Object.assign(Object.create(e),t)}function Qk(e,t=[""],n,s,i=()=>e[0]){const a=n||e;typeof s>"u"&&(s=iG("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:s,_getTarget:i,override:c=>Qk([c,...e],t,a,s)};return new Proxy(o,{deleteProperty(c,l){return delete c[l],delete c._keys,delete e[0][l],!0},get(c,l){return rG(c,l,()=>kEe(l,t,e,c))},getOwnPropertyDescriptor(c,l){return Reflect.getOwnPropertyDescriptor(c._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(c,l){return QP(c).includes(l)},ownKeys(c){return QP(c)},set(c,l,u){const d=c._storage||(c._storage=i());return c[l]=d[l]=u,delete c._keys,!0}})}function xm(e,t,n,s){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:nG(e,s),setContext:a=>xm(e,a,n,s),override:a=>xm(e.override(a),t,n,s)};return new Proxy(i,{deleteProperty(a,o){return delete a[o],delete e[o],!0},get(a,o,c){return rG(a,o,()=>wEe(a,o,c))},getOwnPropertyDescriptor(a,o){return a._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(a,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(a,o,c){return e[o]=c,delete a[o],!0}})}function nG(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:s,isScriptable:Iu(n)?n:()=>n,isIndexable:Iu(s)?s:()=>s}}const yEe=(e,t)=>e?e+Lk(t):t,zk=(e,t)=>Fn(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function rG(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const s=n();return e[t]=s,s}function wEe(e,t,n){const{_proxy:s,_context:i,_subProxy:a,_descriptors:o}=e;let c=s[t];return Iu(c)&&o.isScriptable(t)&&(c=jEe(t,c,e,n)),Fr(c)&&c.length&&(c=CEe(t,c,e,o.isIndexable)),zk(t,c)&&(c=xm(c,i,a&&a[t],o)),c}function jEe(e,t,n,s){const{_proxy:i,_context:a,_subProxy:o,_stack:c}=n;if(c.has(e))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+e);c.add(e);let l=t(a,o||s);return c.delete(e),zk(e,l)&&(l=Vk(i._scopes,i,e,l)),l}function CEe(e,t,n,s){const{_proxy:i,_context:a,_subProxy:o,_descriptors:c}=n;if(typeof a.index<"u"&&s(e))return t[a.index%t.length];if(Fn(t[0])){const l=t,u=i._scopes.filter(d=>d!==l);t=[];for(const d of l){const f=Vk(u,i,e,d);t.push(xm(f,a,o&&o[e],c))}}return t}function sG(e,t,n){return Iu(e)?e(t,n):e}const NEe=(e,t)=>e===!0?t:typeof e=="string"?Du(t,e):void 0;function SEe(e,t,n,s,i){for(const a of t){const o=NEe(n,a);if(o){e.add(o);const c=sG(o._fallback,n,i);if(typeof c<"u"&&c!==n&&c!==s)return c}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function Vk(e,t,n,s){const i=t._rootScopes,a=sG(t._fallback,n,s),o=[...e,...i],c=new Set;c.add(s);let l=$P(c,o,n,a||n,s);return l===null||typeof a<"u"&&a!==n&&(l=$P(c,o,a,l,s),l===null)?!1:Qk(Array.from(c),[""],i,a,()=>TEe(t,n,s))}function $P(e,t,n,s,i){for(;n;)n=SEe(e,t,n,s,i);return n}function TEe(e,t,n){const s=e._getTarget();t in s||(s[t]={});const i=s[t];return Fr(i)&&Fn(n)?n:i||{}}function kEe(e,t,n,s){let i;for(const a of t)if(i=iG(yEe(a,e),n),typeof i<"u")return zk(e,i)?Vk(n,s,e,i):i}function iG(e,t){for(const n of t){if(!n)continue;const s=n[e];if(typeof s<"u")return s}}function QP(e){let t=e._keys;return t||(t=e._keys=_Ee(e._scopes)),t}function _Ee(e){const t=new Set;for(const n of e)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(s);return Array.from(t)}function aG(e,t,n,s){const{iScale:i}=e,{key:a="r"}=this._parsing,o=new Array(s);let c,l,u,d;for(c=0,l=s;c<l;++c)u=c+n,d=t[u],o[c]={r:i.parse(Du(d,a),u)};return o}const BEe=Number.EPSILON||1e-14,bm=(e,t)=>t<e.length&&!e[t].skip&&e[t],oG=e=>e==="x"?"y":"x";function EEe(e,t,n,s){const i=e.skip?t:e,a=t,o=n.skip?t:n,c=FS(a,i),l=FS(o,a);let u=c/(c+l),d=l/(c+l);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=s*u,h=s*d;return{previous:{x:a.x-f*(o.x-i.x),y:a.y-f*(o.y-i.y)},next:{x:a.x+h*(o.x-i.x),y:a.y+h*(o.y-i.y)}}}function PEe(e,t,n){const s=e.length;let i,a,o,c,l,u=bm(e,0);for(let d=0;d<s-1;++d)if(l=u,u=bm(e,d+1),!(!l||!u)){if(kA(t[d],0,BEe)){n[d]=n[d+1]=0;continue}i=n[d]/t[d],a=n[d+1]/t[d],c=Math.pow(i,2)+Math.pow(a,2),!(c<=9)&&(o=3/Math.sqrt(c),n[d]=i*o*t[d],n[d+1]=a*o*t[d])}}function MEe(e,t,n="x"){const s=oG(n),i=e.length;let a,o,c,l=bm(e,0);for(let u=0;u<i;++u){if(o=c,c=l,l=bm(e,u+1),!c)continue;const d=c[n],f=c[s];o&&(a=(d-o[n])/3,c[`cp1${n}`]=d-a,c[`cp1${s}`]=f-a*t[u]),l&&(a=(l[n]-d)/3,c[`cp2${n}`]=d+a,c[`cp2${s}`]=f+a*t[u])}}function DEe(e,t="x"){const n=oG(t),s=e.length,i=Array(s).fill(0),a=Array(s);let o,c,l,u=bm(e,0);for(o=0;o<s;++o)if(c=l,l=u,u=bm(e,o+1),!!l){if(u){const d=u[t]-l[t];i[o]=d!==0?(u[n]-l[n])/d:0}a[o]=c?u?cl(i[o-1])!==cl(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}PEe(e,i,a),MEe(e,a,t)}function Ux(e,t,n){return Math.max(Math.min(e,n),t)}function IEe(e,t){let n,s,i,a,o,c=Kl(e[0],t);for(n=0,s=e.length;n<s;++n)o=a,a=c,c=n<s-1&&Kl(e[n+1],t),a&&(i=e[n],o&&(i.cp1x=Ux(i.cp1x,t.left,t.right),i.cp1y=Ux(i.cp1y,t.top,t.bottom)),c&&(i.cp2x=Ux(i.cp2x,t.left,t.right),i.cp2y=Ux(i.cp2y,t.top,t.bottom)))}function OEe(e,t,n,s,i){let a,o,c,l;if(t.spanGaps&&(e=e.filter(u=>!u.skip)),t.cubicInterpolationMode==="monotone")DEe(e,i);else{let u=s?e[e.length-1]:e[0];for(a=0,o=e.length;a<o;++a)c=e[a],l=EEe(u,c,e[Math.min(a+1,o-(s?0:1))%o],t.tension),c.cp1x=l.previous.x,c.cp1y=l.previous.y,c.cp2x=l.next.x,c.cp2y=l.next.y,u=c}t.capBezierPoints&&IEe(e,n)}function Kk(){return typeof window<"u"&&typeof document<"u"}function Gk(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Xy(e,t,n){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[n])):s=e,s}const s2=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function LEe(e,t){return s2(e).getPropertyValue(t)}const FEe=["top","right","bottom","left"];function Hd(e,t,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const a=FEe[i];s[a]=parseFloat(e[t+"-"+a+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const REe=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function UEe(e,t){const n=e.touches,s=n&&n.length?n[0]:e,{offsetX:i,offsetY:a}=s;let o=!1,c,l;if(REe(i,a,e.target))c=i,l=a;else{const u=t.getBoundingClientRect();c=s.clientX-u.left,l=s.clientY-u.top,o=!0}return{x:c,y:l,box:o}}function xd(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:s}=t,i=s2(n),a=i.boxSizing==="border-box",o=Hd(i,"padding"),c=Hd(i,"border","width"),{x:l,y:u,box:d}=UEe(e,n),f=o.left+(d&&c.left),h=o.top+(d&&c.top);let{width:m,height:A}=t;return a&&(m-=o.width+c.width,A-=o.height+c.height),{x:Math.round((l-f)/m*n.width/s),y:Math.round((u-h)/A*n.height/s)}}function HEe(e,t,n){let s,i;if(t===void 0||n===void 0){const a=e&&Gk(e);if(!a)t=e.clientWidth,n=e.clientHeight;else{const o=a.getBoundingClientRect(),c=s2(a),l=Hd(c,"border","width"),u=Hd(c,"padding");t=o.width-u.width-l.width,n=o.height-u.height-l.height,s=Xy(c.maxWidth,a,"clientWidth"),i=Xy(c.maxHeight,a,"clientHeight")}}return{width:t,height:n,maxWidth:s||Wy,maxHeight:i||Wy}}const Hx=e=>Math.round(e*10)/10;function $Ee(e,t,n,s){const i=s2(e),a=Hd(i,"margin"),o=Xy(i.maxWidth,e,"clientWidth")||Wy,c=Xy(i.maxHeight,e,"clientHeight")||Wy,l=HEe(e,t,n);let{width:u,height:d}=l;if(i.boxSizing==="content-box"){const h=Hd(i,"border","width"),m=Hd(i,"padding");u-=m.width+h.width,d-=m.height+h.height}return u=Math.max(0,u-a.width),d=Math.max(0,s?u/s:d-a.height),u=Hx(Math.min(u,o,l.maxWidth)),d=Hx(Math.min(d,c,l.maxHeight)),u&&!d&&(d=Hx(u/2)),(t!==void 0||n!==void 0)&&s&&l.height&&d>l.height&&(d=l.height,u=Hx(Math.floor(d*s))),{width:u,height:d}}function zP(e,t,n){const s=t||1,i=Math.floor(e.height*s),a=Math.floor(e.width*s);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||o.height!==i||o.width!==a?(e.currentDevicePixelRatio=s,o.height=i,o.width=a,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const QEe=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Kk()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function VP(e,t){const n=LEe(e,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function bd(e,t,n,s){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function zEe(e,t,n,s){return{x:e.x+n*(t.x-e.x),y:s==="middle"?n<.5?e.y:t.y:s==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function VEe(e,t,n,s){const i={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},o=bd(e,i,n),c=bd(i,a,n),l=bd(a,t,n),u=bd(o,c,n),d=bd(c,l,n);return bd(u,d,n)}const KEe=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},GEe=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Df(e,t,n){return e?KEe(t,n):GEe()}function lG(e,t){let n,s;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=s)}function cG(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function uG(e){return e==="angle"?{between:Ig,compare:WBe,normalize:si}:{between:zl,compare:(t,n)=>t-n,normalize:t=>t}}function KP({start:e,end:t,count:n,loop:s,style:i}){return{start:e%n,end:t%n,loop:s&&(t-e+1)%n===0,style:i}}function WEe(e,t,n){const{property:s,start:i,end:a}=n,{between:o,normalize:c}=uG(s),l=t.length;let{start:u,end:d,loop:f}=e,h,m;if(f){for(u+=l,d+=l,h=0,m=l;h<m&&o(c(t[u%l][s]),i,a);++h)u--,d--;u%=l,d%=l}return d<u&&(d+=l),{start:u,end:d,loop:f,style:e.style}}function dG(e,t,n){if(!n)return[e];const{property:s,start:i,end:a}=n,o=t.length,{compare:c,between:l,normalize:u}=uG(s),{start:d,end:f,loop:h,style:m}=WEe(e,t,n),A=[];let g=!1,p=null,b,x,v;const y=()=>l(i,v,b)&&c(i,v)!==0,N=()=>c(a,b)===0||l(a,v,b),P=()=>g||y(),M=()=>!g||N();for(let k=d,D=d;k<=f;++k)x=t[k%o],!x.skip&&(b=u(x[s]),b!==v&&(g=l(b,i,a),p===null&&P()&&(p=c(b,i)===0?k:D),p!==null&&M()&&(A.push(KP({start:p,end:k,loop:h,count:o,style:m})),p=null),D=k,v=b));return p!==null&&A.push(KP({start:p,end:f,loop:h,count:o,style:m})),A}function hG(e,t){const n=[],s=e.segments;for(let i=0;i<s.length;i++){const a=dG(s[i],e.points,t);a.length&&n.push(...a)}return n}function qEe(e,t,n,s){let i=0,a=t-1;if(n&&!s)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(a+=i);a>i&&e[a%t].skip;)a--;return a%=t,{start:i,end:a}}function XEe(e,t,n,s){const i=e.length,a=[];let o=t,c=e[t],l;for(l=t+1;l<=n;++l){const u=e[l%i];u.skip||u.stop?c.skip||(s=!1,a.push({start:t%i,end:(l-1)%i,loop:s}),t=o=u.stop?l:null):(o=l,c.skip&&(t=l)),c=u}return o!==null&&a.push({start:t%i,end:o%i,loop:s}),a}function YEe(e,t){const n=e.points,s=e.options.spanGaps,i=n.length;if(!i)return[];const a=!!e._loop,{start:o,end:c}=qEe(n,i,a,s);if(s===!0)return GP(e,[{start:o,end:c,loop:a}],n,t);const l=c<o?c+i:c,u=!!e._fullLoop&&o===0&&c===i-1;return GP(e,XEe(n,o,l,u),n,t)}function GP(e,t,n,s){return!s||!s.setContext||!n?t:ZEe(e,t,n,s)}function ZEe(e,t,n,s){const i=e._chart.getContext(),a=WP(e.options),{_datasetIndex:o,options:{spanGaps:c}}=e,l=n.length,u=[];let d=a,f=t[0].start,h=f;function m(A,g,p,b){const x=c?-1:1;if(A!==g){for(A+=l;n[A%l].skip;)A-=x;for(;n[g%l].skip;)g+=x;A%l!==g%l&&(u.push({start:A%l,end:g%l,loop:p,style:b}),d=b,f=g%l)}}for(const A of t){f=c?f:A.start;let g=n[f%l],p;for(h=f+1;h<=A.end;h++){const b=n[h%l];p=WP(s.setContext(ed(i,{type:"segment",p0:g,p1:b,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),JEe(p,d)&&m(f,h-1,A.loop,d),g=b,d=p}f<h-1&&m(f,h-1,A.loop,d)}return u}function WP(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function JEe(e,t){if(!t)return!1;const n=[],s=function(i,a){return Hk(a)?(n.includes(a)||n.push(a),n.indexOf(a)):a};return JSON.stringify(e,s)!==JSON.stringify(t,s)}function $x(e,t,n){return e.options.clip?e[n]:t[n]}function e8e(e,t){const{xScale:n,yScale:s}=e;return n&&s?{left:$x(n,t,"left"),right:$x(n,t,"right"),top:$x(s,t,"top"),bottom:$x(s,t,"bottom")}:t}function fG(e,t){const n=t._clip;if(n.disabled)return!1;const s=e8e(t,e.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class t8e{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,s,i){const a=n.listeners[i],o=n.duration;a.forEach(c=>c({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=qK.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const a=s.items;let o=a.length-1,c=!1,l;for(;o>=0;--o)l=a[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(t),c=!0):(a[o]=a[a.length-1],a.pop());c&&(i.draw(),this._notify(i,s,t,"progress")),a.length||(s.running=!1,this._notify(i,s,t,"complete"),s.initial=!1),n+=a.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let s=n.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,s)),s}listen(t,n,s){this._getAnims(t).listeners[n].push(s)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Il=new t8e;const qP="transparent",n8e={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const s=RP(e||qP),i=s.valid&&RP(t||qP);return i&&i.valid?i.mix(s,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class r8e{constructor(t,n,s,i){const a=n[s];i=eA([t.to,i,a,t.from]);const o=eA([t.from,a,i]);this._active=!0,this._fn=t.fn||n8e[t.type||typeof o],this._easing=_A[t.easing]||_A.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],a=s-this._start,o=this._duration-a;this._start=s,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=eA([t.to,n,i,t.from]),this._from=eA([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,s=this._duration,i=this._prop,a=this._from,o=this._loop,c=this._to;let l;if(this._active=a!==c&&(o||n<s),!this._active){this._target[i]=c,this._notify(!0);return}if(n<0){this._target[i]=a;return}l=n/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(a,c,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,s)=>{t.push({res:n,rej:s})})}_notify(t){const n=t?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class mG{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Fn(t))return;const n=Object.keys($r.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const a=t[i];if(!Fn(a))return;const o={};for(const c of n)o[c]=a[c];(Fr(a.properties)&&a.properties||[i]).forEach(c=>{(c===i||!s.has(c))&&s.set(c,o)})})}_animateOptions(t,n){const s=n.options,i=i8e(t,s);if(!i)return[];const a=this._createAnimations(i,s);return s.$shared&&s8e(t.options.$animations,s).then(()=>{t.options=s},()=>{}),a}_createAnimations(t,n){const s=this._properties,i=[],a=t.$animations||(t.$animations={}),o=Object.keys(n),c=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(t,n));continue}const d=n[u];let f=a[u];const h=s.get(u);if(f)if(h&&f.active()){f.update(h,d,c);continue}else f.cancel();if(!h||!h.duration){t[u]=d;continue}a[u]=f=new r8e(h,t,u,d),i.push(f)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const s=this._createAnimations(t,n);if(s.length)return Il.add(this._chart,s),!0}}function s8e(e,t){const n=[],s=Object.keys(t);for(let i=0;i<s.length;i++){const a=e[s[i]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function i8e(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function XP(e,t){const n=e&&e.options||{},s=n.reverse,i=n.min===void 0?t:0,a=n.max===void 0?t:0;return{start:s?a:i,end:s?i:a}}function a8e(e,t,n){if(n===!1)return!1;const s=XP(e,n),i=XP(t,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function o8e(e){let t,n,s,i;return Fn(e)?(t=e.top,n=e.right,s=e.bottom,i=e.left):t=n=s=i=e,{top:t,right:n,bottom:s,left:i,disabled:e===!1}}function pG(e,t){const n=[],s=e._getSortedDatasetMetas(t);let i,a;for(i=0,a=s.length;i<a;++i)n.push(s[i].index);return n}function YP(e,t,n,s={}){const i=e.keys,a=s.mode==="single";let o,c,l,u;if(t===null)return;let d=!1;for(o=0,c=i.length;o<c;++o){if(l=+i[o],l===n){if(d=!0,s.all)continue;break}u=e.values[l],ns(u)&&(a||t===0||cl(t)===cl(u))&&(t+=u)}return!d&&!s.all?0:t}function l8e(e,t){const{iScale:n,vScale:s}=t,i=n.axis==="x"?"x":"y",a=s.axis==="x"?"x":"y",o=Object.keys(e),c=new Array(o.length);let l,u,d;for(l=0,u=o.length;l<u;++l)d=o[l],c[l]={[i]:d,[a]:e[d]};return c}function dC(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function c8e(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function u8e(e){const{min:t,max:n,minDefined:s,maxDefined:i}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function d8e(e,t,n){const s=e[t]||(e[t]={});return s[n]||(s[n]={})}function ZP(e,t,n,s){for(const i of t.getMatchingVisibleMetas(s).reverse()){const a=e[i.index];if(n&&a>0||!n&&a<0)return i.index}return null}function JP(e,t){const{chart:n,_cachedMeta:s}=e,i=n._stacks||(n._stacks={}),{iScale:a,vScale:o,index:c}=s,l=a.axis,u=o.axis,d=c8e(a,o,s),f=t.length;let h;for(let m=0;m<f;++m){const A=t[m],{[l]:g,[u]:p}=A,b=A._stacks||(A._stacks={});h=b[u]=d8e(i,d,g),h[c]=p,h._top=ZP(h,o,!0,s.type),h._bottom=ZP(h,o,!1,s.type);const x=h._visualValues||(h._visualValues={});x[c]=p}}function hC(e,t){const n=e.scales;return Object.keys(n).filter(s=>n[s].axis===t).shift()}function h8e(e,t){return ed(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function f8e(e,t,n){return ed(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function _p(e,t){const n=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const i of t){const a=i._stacks;if(!a||a[s]===void 0||a[s][n]===void 0)return;delete a[s][n],a[s]._visualValues!==void 0&&a[s]._visualValues[n]!==void 0&&delete a[s]._visualValues[n]}}}const fC=e=>e==="reset"||e==="none",eM=(e,t)=>t?e:Object.assign({},e),m8e=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:pG(n,!0),values:null};class go{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=dC(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&_p(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(f,h,m,A)=>f==="x"?h:f==="r"?A:m,a=n.xAxisID=vn(s.xAxisID,hC(t,"x")),o=n.yAxisID=vn(s.yAxisID,hC(t,"y")),c=n.rAxisID=vn(s.rAxisID,hC(t,"r")),l=n.indexAxis,u=n.iAxisID=i(l,a,o,c),d=n.vAxisID=i(l,o,a,c);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&OP(this._data,this),t._stacked&&_p(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),s=this._data;if(Fn(n)){const i=this._cachedMeta;this._data=l8e(n,i)}else if(s!==n){if(s){OP(s,this);const i=this._cachedMeta;_p(i),i._parsed=[]}n&&Object.isExtensible(n)&&ZBe(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const a=n._stacked;n._stacked=dC(n.vScale,n),n.stack!==s.stack&&(i=!0,_p(n),n.stack=s.stack),this._resyncElements(t),(i||a!==n._stacked)&&(JP(this,n._parsed),n._stacked=dC(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:s,_data:i}=this,{iScale:a,_stacked:o}=s,c=a.axis;let l=t===0&&n===i.length?!0:s._sorted,u=t>0&&s._parsed[t-1],d,f,h;if(this._parsing===!1)s._parsed=i,s._sorted=!0,h=i;else{Fr(i[t])?h=this.parseArrayData(s,i,t,n):Fn(i[t])?h=this.parseObjectData(s,i,t,n):h=this.parsePrimitiveData(s,i,t,n);const m=()=>f[c]===null||u&&f[c]<u[c];for(d=0;d<n;++d)s._parsed[d+t]=f=h[d],l&&(m()&&(l=!1),u=f);s._sorted=l}o&&JP(this,h)}parsePrimitiveData(t,n,s,i){const{iScale:a,vScale:o}=t,c=a.axis,l=o.axis,u=a.getLabels(),d=a===o,f=new Array(i);let h,m,A;for(h=0,m=i;h<m;++h)A=h+s,f[h]={[c]:d||a.parse(u[A],A),[l]:o.parse(n[A],A)};return f}parseArrayData(t,n,s,i){const{xScale:a,yScale:o}=t,c=new Array(i);let l,u,d,f;for(l=0,u=i;l<u;++l)d=l+s,f=n[d],c[l]={x:a.parse(f[0],d),y:o.parse(f[1],d)};return c}parseObjectData(t,n,s,i){const{xScale:a,yScale:o}=t,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,u=new Array(i);let d,f,h,m;for(d=0,f=i;d<f;++d)h=d+s,m=n[h],u[d]={x:a.parse(Du(m,c),h),y:o.parse(Du(m,l),h)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,s){const i=this.chart,a=this._cachedMeta,o=n[t.axis],c={keys:pG(i,!0),values:n._stacks[t.axis]._visualValues};return YP(c,o,a.index,{mode:s})}updateRangeFromParsed(t,n,s,i){const a=s[n.axis];let o=a===null?NaN:a;const c=i&&s._stacks[n.axis];i&&c&&(i.values=c,o=YP(i,a,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const s=this._cachedMeta,i=s._parsed,a=s._sorted&&t===s.iScale,o=i.length,c=this._getOtherScale(t),l=m8e(n,s,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=u8e(c);let h,m;function A(){m=i[h];const g=m[c.axis];return!ns(m[t.axis])||d>g||f<g}for(h=0;h<o&&!(!A()&&(this.updateRangeFromParsed(u,t,m,l),a));++h);if(a){for(h=o-1;h>=0;--h)if(!A()){this.updateRangeFromParsed(u,t,m,l);break}}return u}getAllParsedValues(t){const n=this._cachedMeta._parsed,s=[];let i,a,o;for(i=0,a=n.length;i<a;++i)o=n[i][t.axis],ns(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,s=n.iScale,i=n.vScale,a=this.getParsed(t);return{label:s?""+s.getLabelForValue(a[s.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=o8e(vn(this.options.clip,a8e(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],a=n.chartArea,o=[],c=this._drawStart||0,l=this._drawCount||i.length-c,u=this.options.drawActiveElementsOnTop;let d;for(s.dataset&&s.dataset.draw(t,a,c,l),d=c;d<c+l;++d){const f=i[d];f.hidden||(f.active&&u?o.push(f):f.draw(t,a))}for(d=0;d<o.length;++d)o[d].draw(t,a)}getStyle(t,n){const s=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,n,s){const i=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];a=o.$context||(o.$context=f8e(this.getContext(),t,o)),a.parsed=this.getParsed(t),a.raw=i.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=h8e(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=s,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",s){const i=n==="active",a=this._cachedDataOpts,o=t+"-"+n,c=a[o],l=this.enableOptionSharing&&Dg(s);if(c)return eM(c,l);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,t),f=i?[`${t}Hover`,"hover",t,""]:[t,""],h=u.getOptionScopes(this.getDataset(),d),m=Object.keys($r.elements[t]),A=()=>this.getContext(s,i,n),g=u.resolveNamedOptions(h,m,A,f);return g.$shared&&(g.$shared=l,a[o]=Object.freeze(eM(g,l))),g}_resolveAnimations(t,n,s){const i=this.chart,a=this._cachedDataOpts,o=`animation-${n}`,c=a[o];if(c)return c;let l;if(i.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,n),h=d.getOptionScopes(this.getDataset(),f);l=d.createResolver(h,this.getContext(t,s,n))}const u=new mG(i,l&&l.animations);return l&&l._cacheable&&(a[o]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||fC(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const s=this.resolveDataElementOptions(t,n),i=this._sharedOptions,a=this.getSharedOptions(s),o=this.includeOptions(n,a)||a!==i;return this.updateSharedOptions(a,n,s),{sharedOptions:a,includeOptions:o}}updateElement(t,n,s,i){fC(i)?Object.assign(t,s):this._resolveAnimations(n,i).update(t,s)}updateSharedOptions(t,n,s){t&&!fC(n)&&this._resolveAnimations(void 0,n).update(t,s)}_setStyle(t,n,s,i){t.active=i;const a=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(t,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(t,n,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,n,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,s=this._cachedMeta.data;for(const[c,l,u]of this._syncList)this[c](l,u);this._syncList=[];const i=s.length,a=n.length,o=Math.min(a,i);o&&this.parse(0,o),a>i?this._insertElements(i,a-i,t):a<i&&this._removeElements(a,i-a)}_insertElements(t,n,s=!0){const i=this._cachedMeta,a=i.data,o=t+n;let c;const l=u=>{for(u.length+=n,c=u.length-1;c>=o;c--)u[c]=u[c-n]};for(l(a),c=t;c<o;++c)a[c]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,n),s&&this.updateElements(a,t,n,"reset")}updateElements(t,n,s,i){}_removeElements(t,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(t,n);s._stacked&&_p(s,i)}s.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,s,i]=t;this[n](s,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}gt(go,"defaults",{}),gt(go,"datasetElementType",null),gt(go,"dataElementType",null);function p8e(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let s=[];for(let i=0,a=n.length;i<a;i++)s=s.concat(n[i].controller.getAllParsedValues(e));e._cache.$bar=WK(s.sort((i,a)=>i-a))}return e._cache.$bar}function A8e(e){const t=e.iScale,n=p8e(t,e.type);let s=t._length,i,a,o,c;const l=()=>{o===32767||o===-32768||(Dg(c)&&(s=Math.min(s,Math.abs(o-c)||s)),c=o)};for(i=0,a=n.length;i<a;++i)o=t.getPixelForValue(n[i]),l();for(c=void 0,i=0,a=t.ticks.length;i<a;++i)o=t.getPixelForTick(i),l();return s}function g8e(e,t,n,s){const i=n.barThickness;let a,o;return Dn(i)?(a=t.min*n.categoryPercentage,o=n.barPercentage):(a=i*s,o=1),{chunk:a/s,ratio:o,start:t.pixels[e]-a/2}}function x8e(e,t,n,s){const i=t.pixels,a=i[e];let o=e>0?i[e-1]:null,c=e<i.length-1?i[e+1]:null;const l=n.categoryPercentage;o===null&&(o=a-(c===null?t.end-t.start:c-a)),c===null&&(c=a+a-o);const u=a-(a-Math.min(o,c))/2*l;return{chunk:Math.abs(c-o)/2*l/s,ratio:n.barPercentage,start:u}}function b8e(e,t,n,s){const i=n.parse(e[0],s),a=n.parse(e[1],s),o=Math.min(i,a),c=Math.max(i,a);let l=o,u=c;Math.abs(o)>Math.abs(c)&&(l=c,u=o),t[n.axis]=u,t._custom={barStart:l,barEnd:u,start:i,end:a,min:o,max:c}}function AG(e,t,n,s){return Fr(e)?b8e(e,t,n,s):t[n.axis]=n.parse(e,s),t}function tM(e,t,n,s){const i=e.iScale,a=e.vScale,o=i.getLabels(),c=i===a,l=[];let u,d,f,h;for(u=n,d=n+s;u<d;++u)h=t[u],f={},f[i.axis]=c||i.parse(o[u],u),l.push(AG(h,f,a,u));return l}function mC(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function v8e(e,t,n){return e!==0?cl(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function y8e(e){let t,n,s,i,a;return e.horizontal?(t=e.base>e.x,n="left",s="right"):(t=e.base<e.y,n="bottom",s="top"),t?(i="end",a="start"):(i="start",a="end"),{start:n,end:s,reverse:t,top:i,bottom:a}}function w8e(e,t,n,s){let i=t.borderSkipped;const a={};if(!i){e.borderSkipped=a;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:c,reverse:l,top:u,bottom:d}=y8e(e);i==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===s?i=u:(n._bottom||0)===s?i=d:(a[nM(d,o,c,l)]=!0,i=u)),a[nM(i,o,c,l)]=!0,e.borderSkipped=a}function nM(e,t,n,s){return s?(e=j8e(e,t,n),e=rM(e,n,t)):e=rM(e,t,n),e}function j8e(e,t,n){return e===t?n:e===n?t:e}function rM(e,t,n){return e==="start"?t:e==="end"?n:e}function C8e(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class EA extends go{parsePrimitiveData(t,n,s,i){return tM(t,n,s,i)}parseArrayData(t,n,s,i){return tM(t,n,s,i)}parseObjectData(t,n,s,i){const{iScale:a,vScale:o}=t,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,u=a.axis==="x"?c:l,d=o.axis==="x"?c:l,f=[];let h,m,A,g;for(h=s,m=s+i;h<m;++h)g=n[h],A={},A[a.axis]=a.parse(Du(g,u),h),f.push(AG(Du(g,d),A,o,h));return f}updateRangeFromParsed(t,n,s,i){super.updateRangeFromParsed(t,n,s,i);const a=s._custom;a&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:s,vScale:i}=n,a=this.getParsed(t),o=a._custom,c=mC(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(a[i.axis]);return{label:""+s.getLabelForValue(a[s.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,s,i){const a=i==="reset",{index:o,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),u=c.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(n,i);for(let m=n;m<n+s;m++){const A=this.getParsed(m),g=a||Dn(A[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(m),p=this._calculateBarIndexPixels(m,d),b=(A._stacks||{})[c.axis],x={horizontal:u,base:g.base,enableBorderRadius:!b||mC(A._custom)||o===b._top||o===b._bottom,x:u?g.head:p.center,y:u?p.center:g.head,height:u?p.size:Math.abs(g.size),width:u?Math.abs(g.size):p.size};h&&(x.options=f||this.resolveDataElementOptions(m,t[m].active?"active":i));const v=x.options||t[m].options;w8e(x,v,b,o),C8e(x,v,d.ratio),this.updateElement(t[m],m,x,i)}}_getStacks(t,n){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),a=s.options.stacked,o=[],c=this._cachedMeta.controller.getParsed(n),l=c&&c[s.axis],u=d=>{const f=d._parsed.find(m=>m[s.axis]===l),h=f&&f[d.vScale.axis];if(Dn(h)||isNaN(h))return!0};for(const d of i)if(!(n!==void 0&&u(d))&&((a===!1||o.indexOf(d.stack)===-1||a===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(s=>t[s].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)t[vn(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,s){const i=this._getStacks(t,s),a=n!==void 0?i.indexOf(n):-1;return a===-1?i.length-1:a}_getRuler(){const t=this.options,n=this._cachedMeta,s=n.iScale,i=[];let a,o;for(a=0,o=n.data.length;a<o;++a)i.push(s.getPixelForValue(this.getParsed(a)[s.axis],a));const c=t.barThickness;return{min:c||A8e(n),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:s,index:i},options:{base:a,minBarLength:o}}=this,c=a||0,l=this.getParsed(t),u=l._custom,d=mC(u);let f=l[n.axis],h=0,m=s?this.applyStack(n,l,s):f,A,g;m!==f&&(h=m-f,m=f),d&&(f=u.barStart,m=u.barEnd-u.barStart,f!==0&&cl(f)!==cl(u.barEnd)&&(h=0),h+=f);const p=!Dn(a)&&!d?a:h;let b=n.getPixelForValue(p);if(this.chart.getDataVisibility(t)?A=n.getPixelForValue(h+m):A=b,g=A-b,Math.abs(g)<o){g=v8e(g,n,c)*o,f===c&&(b-=g/2);const x=n.getPixelForDecimal(0),v=n.getPixelForDecimal(1),y=Math.min(x,v),N=Math.max(x,v);b=Math.max(Math.min(b,N),y),A=b+g,s&&!d&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(A)-n.getValueForPixel(b))}if(b===n.getPixelForValue(c)){const x=cl(g)*n.getLineWidthForValue(c)/2;b+=x,g-=x}return{size:g,base:b,head:A,center:A+g/2}}_calculateBarIndexPixels(t,n){const s=n.scale,i=this.options,a=i.skipNull,o=vn(i.maxBarThickness,1/0);let c,l;const u=this._getAxisCount();if(n.grouped){const d=a?this._getStackCount(t):n.stackCount,f=i.barThickness==="flex"?x8e(t,n,i,d*u):g8e(t,n,i,d*u),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(vn(h,this.getFirstScaleIdForIndexAxis())),A=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0)+m;c=f.start+f.chunk*A+f.chunk/2,l=Math.min(o,f.chunk*f.ratio)}else c=s.getPixelForValue(this.getParsed(t)[s.axis],t),l=Math.min(o,n.min*n.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,s=t.data,i=s.length;let a=0;for(;a<i;++a)this.getParsed(a)[n.axis]!==null&&!s[a].hidden&&s[a].draw(this._ctx)}}gt(EA,"id","bar"),gt(EA,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),gt(EA,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class sv extends go{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,s,i){const a=super.parsePrimitiveData(t,n,s,i);for(let o=0;o<a.length;o++)a[o]._custom=this.resolveDataElementOptions(o+s).radius;return a}parseArrayData(t,n,s,i){const a=super.parseArrayData(t,n,s,i);for(let o=0;o<a.length;o++){const c=n[s+o];a[o]._custom=vn(c[2],this.resolveDataElementOptions(o+s).radius)}return a}parseObjectData(t,n,s,i){const a=super.parseObjectData(t,n,s,i);for(let o=0;o<a.length;o++){const c=n[s+o];a[o]._custom=vn(c&&c.r&&+c.r,this.resolveDataElementOptions(o+s).radius)}return a}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let s=t.length-1;s>=0;--s)n=Math.max(n,t[s].size(this.resolveDataElementOptions(s))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:a}=n,o=this.getParsed(t),c=i.getLabelForValue(o.x),l=a.getLabelForValue(o.y),u=o._custom;return{label:s[t]||"",value:"("+c+", "+l+(u?", "+u:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,s,i){const a=i==="reset",{iScale:o,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(n,i),d=o.axis,f=c.axis;for(let h=n;h<n+s;h++){const m=t[h],A=!a&&this.getParsed(h),g={},p=g[d]=a?o.getPixelForDecimal(.5):o.getPixelForValue(A[d]),b=g[f]=a?c.getBasePixel():c.getPixelForValue(A[f]);g.skip=isNaN(p)||isNaN(b),u&&(g.options=l||this.resolveDataElementOptions(h,m.active?"active":i),a&&(g.options.radius=0)),this.updateElement(m,h,g,i)}}resolveDataElementOptions(t,n){const s=this.getParsed(t);let i=super.resolveDataElementOptions(t,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const a=i.radius;return n!=="active"&&(i.radius=0),i.radius+=vn(s&&s._custom,a),i}}gt(sv,"id","bubble"),gt(sv,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),gt(sv,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function N8e(e,t,n){let s=1,i=1,a=0,o=0;if(t<Pr){const c=e,l=c+t,u=Math.cos(c),d=Math.sin(c),f=Math.cos(l),h=Math.sin(l),m=(v,y,N)=>Ig(v,c,l,!0)?1:Math.max(y,y*n,N,N*n),A=(v,y,N)=>Ig(v,c,l,!0)?-1:Math.min(y,y*n,N,N*n),g=m(0,u,f),p=m(us,d,h),b=A(Yn,u,f),x=A(Yn+us,d,h);s=(g-b)/2,i=(p-x)/2,a=-(g+b)/2,o=-(p+x)/2}return{ratioX:s,ratioY:i,offsetX:a,offsetY:o}}class Sd extends go{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let a=l=>+s[l];if(Fn(s[t])){const{key:l="value"}=this._parsing;a=u=>+Du(s[u],l)}let o,c;for(o=t,c=t+n;o<c;++o)i._parsed[o]=a(o)}}_getRotation(){return ho(this.options.rotation-90)}_getCircumference(){return ho(this.options.circumference)}_getRotationExtents(){let t=Pr,n=-Pr;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,a=i._getRotation(),o=i._getCircumference();t=Math.min(t,a),n=Math.max(n,a+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:s}=n,i=this._cachedMeta,a=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,c=Math.max((Math.min(s.width,s.height)-o)/2,0),l=Math.min(LBe(this.options.cutout,c),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:m,offsetX:A,offsetY:g}=N8e(f,d,l),p=(s.width-o)/h,b=(s.height-o)/m,x=Math.max(Math.min(p,b)/2,0),v=QK(this.options.radius,x),y=Math.max(v*l,0),N=(v-y)/this._getVisibleDatasetWeightTotal();this.offsetX=A*v,this.offsetY=g*v,i.total=this.calculateTotal(),this.outerRadius=v-N*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-N*u,0),this.updateElements(a,0,a.length,t)}_circumference(t,n){const s=this.options,i=this._cachedMeta,a=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*a/Pr)}updateElements(t,n,s,i){const a=i==="reset",o=this.chart,c=o.chartArea,u=o.options.animation,d=(c.left+c.right)/2,f=(c.top+c.bottom)/2,h=a&&u.animateScale,m=h?0:this.innerRadius,A=h?0:this.outerRadius,{sharedOptions:g,includeOptions:p}=this._getSharedOptions(n,i);let b=this._getRotation(),x;for(x=0;x<n;++x)b+=this._circumference(x,a);for(x=n;x<n+s;++x){const v=this._circumference(x,a),y=t[x],N={x:d+this.offsetX,y:f+this.offsetY,startAngle:b,endAngle:b+v,circumference:v,outerRadius:A,innerRadius:m};p&&(N.options=g||this.resolveDataElementOptions(x,y.active?"active":i)),b+=v,this.updateElement(y,x,N,i)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let s=0,i;for(i=0;i<n.length;i++){const a=t._parsed[i];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(s+=Math.abs(a))}return s}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Pr*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],a=D0(n._parsed[t],s.options.locale);return{label:i[t]||"",value:a}}getMaxBorderWidth(t){let n=0;const s=this.chart;let i,a,o,c,l;if(!t){for(i=0,a=s.data.datasets.length;i<a;++i)if(s.isDatasetVisible(i)){o=s.getDatasetMeta(i),t=o.data,c=o.controller;break}}if(!t)return 0;for(i=0,a=t.length;i<a;++i)l=c.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let s=0,i=t.length;s<i;++s){const a=this.resolveDataElementOptions(s);n=Math.max(n,a.offset||0,a.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(t){return Math.max(vn(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}gt(Sd,"id","doughnut"),gt(Sd,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),gt(Sd,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),gt(Sd,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:i}}=t.legend.options;return n.labels.map((a,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:a,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});class PA extends go{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:s,data:i=[],_dataset:a}=n,o=this.chart._animationsDisabled;let{start:c,count:l}=YK(n,i,o);this._drawStart=c,this._drawCount=l,ZK(n)&&(c=0,l=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!a._decimated,s.points=i;const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:u},t),this.updateElements(i,c,l,t)}updateElements(t,n,s,i){const a=i==="reset",{iScale:o,vScale:c,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,i),h=o.axis,m=c.axis,{spanGaps:A,segment:g}=this.options,p=gm(A)?A:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||a||i==="none",x=n+s,v=t.length;let y=n>0&&this.getParsed(n-1);for(let N=0;N<v;++N){const P=t[N],M=b?P:{};if(N<n||N>=x){M.skip=!0;continue}const k=this.getParsed(N),D=Dn(k[m]),O=M[h]=o.getPixelForValue(k[h],N),L=M[m]=a||D?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,k,l):k[m],N);M.skip=isNaN(O)||isNaN(L)||D,M.stop=N>0&&Math.abs(k[h]-y[h])>p,g&&(M.parsed=k,M.raw=u.data[N]),f&&(M.options=d||this.resolveDataElementOptions(N,P.active?"active":i)),b||this.updateElement(P,N,M,i),y=k}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,s=n.options&&n.options.borderWidth||0,i=t.data||[];if(!i.length)return s;const a=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,a,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}gt(PA,"id","line"),gt(PA,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),gt(PA,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class MA extends go{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],a=D0(n._parsed[t].r,s.options.locale);return{label:i[t]||"",value:a}}parseObjectData(t,n,s,i){return aG.bind(this)(t,n,s,i)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((s,i)=>{const a=this.getParsed(i).r;!isNaN(a)&&this.chart.getDataVisibility(i)&&(a<n.min&&(n.min=a),a>n.max&&(n.max=a))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,s=t.options,i=Math.min(n.right-n.left,n.bottom-n.top),a=Math.max(i/2,0),o=Math.max(s.cutoutPercentage?a/100*s.cutoutPercentage:1,0),c=(a-o)/t.getVisibleDatasetCount();this.outerRadius=a-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,n,s,i){const a=i==="reset",o=this.chart,l=o.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,f=u.yCenter,h=u.getIndexAngle(0)-.5*Yn;let m=h,A;const g=360/this.countVisibleElements();for(A=0;A<n;++A)m+=this._computeAngle(A,i,g);for(A=n;A<n+s;A++){const p=t[A];let b=m,x=m+this._computeAngle(A,i,g),v=o.getDataVisibility(A)?u.getDistanceFromCenterForValue(this.getParsed(A).r):0;m=x,a&&(l.animateScale&&(v=0),l.animateRotate&&(b=x=h));const y={x:d,y:f,innerRadius:0,outerRadius:v,startAngle:b,endAngle:x,options:this.resolveDataElementOptions(A,p.active?"active":i)};this.updateElement(p,A,y,i)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((s,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(t,n,s){return this.chart.getDataVisibility(t)?ho(this.resolveDataElementOptions(t,n).angle||s):0}}gt(MA,"id","polarArea"),gt(MA,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),gt(MA,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:i}}=t.legend.options;return n.labels.map((a,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:a,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Yy extends Sd{}gt(Yy,"id","pie"),gt(Yy,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class iv extends go{getLabelAndValue(t){const n=this._cachedMeta.vScale,s=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(s[n.axis])}}parseObjectData(t,n,s,i){return aG.bind(this)(t,n,s,i)}update(t){const n=this._cachedMeta,s=n.dataset,i=n.data||[],a=n.iScale.getLabels();if(s.points=i,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const c={_loop:!0,_fullLoop:a.length===i.length,options:o};this.updateElement(s,void 0,c,t)}this.updateElements(i,0,i.length,t)}updateElements(t,n,s,i){const a=this._cachedMeta.rScale,o=i==="reset";for(let c=n;c<n+s;c++){const l=t[c],u=this.resolveDataElementOptions(c,l.active?"active":i),d=a.getPointPositionForValue(c,this.getParsed(c).r),f=o?a.xCenter:d.x,h=o?a.yCenter:d.y,m={x:f,y:h,angle:d.angle,skip:isNaN(f)||isNaN(h),options:u};this.updateElement(l,c,m,i)}}}gt(iv,"id","radar"),gt(iv,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),gt(iv,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class av extends go{getLabelAndValue(t){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:a}=n,o=this.getParsed(t),c=i.getLabelForValue(o.x),l=a.getLabelForValue(o.y);return{label:s[t]||"",value:"("+c+", "+l+")"}}update(t){const n=this._cachedMeta,{data:s=[]}=n,i=this.chart._animationsDisabled;let{start:a,count:o}=YK(n,s,i);if(this._drawStart=a,this._drawCount=o,ZK(n)&&(a=0,o=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:l}=n;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=s;const u=this.resolveDatasetElementOptions(t);u.segment=this.options.segment,this.updateElement(c,void 0,{animated:!i,options:u},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(s,a,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,s,i){const a=i==="reset",{iScale:o,vScale:c,_stacked:l,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(n,i),f=this.getSharedOptions(d),h=this.includeOptions(i,f),m=o.axis,A=c.axis,{spanGaps:g,segment:p}=this.options,b=gm(g)?g:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||a||i==="none";let v=n>0&&this.getParsed(n-1);for(let y=n;y<n+s;++y){const N=t[y],P=this.getParsed(y),M=x?N:{},k=Dn(P[A]),D=M[m]=o.getPixelForValue(P[m],y),O=M[A]=a||k?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,P,l):P[A],y);M.skip=isNaN(D)||isNaN(O)||k,M.stop=y>0&&Math.abs(P[m]-v[m])>b,p&&(M.parsed=P,M.raw=u.data[y]),h&&(M.options=f||this.resolveDataElementOptions(y,N.active?"active":i)),x||this.updateElement(N,y,M,i),v=P}this.updateSharedOptions(f,i,d)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let c=0;for(let l=n.length-1;l>=0;--l)c=Math.max(c,n[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}const s=t.dataset,i=s.options&&s.options.borderWidth||0;if(!n.length)return i;const a=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,a,o)/2}}gt(av,"id","scatter"),gt(av,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),gt(av,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var S8e=Object.freeze({__proto__:null,BarController:EA,BubbleController:sv,DoughnutController:Sd,LineController:PA,PieController:Yy,PolarAreaController:MA,RadarController:iv,ScatterController:av});function od(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Wk{constructor(t){gt(this,"options");this.options=t||{}}static override(t){Object.assign(Wk.prototype,t)}init(){}formats(){return od()}parse(){return od()}format(){return od()}add(){return od()}diff(){return od()}startOf(){return od()}endOf(){return od()}}var T8e={_date:Wk};function k8e(e,t,n,s){const{controller:i,data:a,_sorted:o}=e,c=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(c&&t===c.axis&&t!=="r"&&o&&a.length){const u=c._reversePixels?XBe:Vl;if(s){if(i._sharedOptions){const d=a[0],f=typeof d.getRange=="function"&&d.getRange(t);if(f){const h=u(a,t,n-f),m=u(a,t,n+f);return{lo:h.lo,hi:m.hi}}}}else{const d=u(a,t,n);if(l){const{vScale:f}=i._cachedMeta,{_parsed:h}=e,m=h.slice(0,d.lo+1).reverse().findIndex(g=>!Dn(g[f.axis]));d.lo-=Math.max(0,m);const A=h.slice(d.hi).findIndex(g=>!Dn(g[f.axis]));d.hi+=Math.max(0,A)}return d}}return{lo:0,hi:a.length-1}}function i2(e,t,n,s,i){const a=e.getSortedVisibleDatasetMetas(),o=n[t];for(let c=0,l=a.length;c<l;++c){const{index:u,data:d}=a[c],{lo:f,hi:h}=k8e(a[c],t,o,i);for(let m=f;m<=h;++m){const A=d[m];A.skip||s(A,u,m)}}}function _8e(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(s,i){const a=t?Math.abs(s.x-i.x):0,o=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}function pC(e,t,n,s,i){const a=[];return!i&&!e.isPointInArea(t)||i2(e,n,t,function(c,l,u){!i&&!Kl(c,e.chartArea,0)||c.inRange(t.x,t.y,s)&&a.push({element:c,datasetIndex:l,index:u})},!0),a}function B8e(e,t,n,s){let i=[];function a(o,c,l){const{startAngle:u,endAngle:d}=o.getProps(["startAngle","endAngle"],s),{angle:f}=KK(o,{x:t.x,y:t.y});Ig(f,u,d)&&i.push({element:o,datasetIndex:c,index:l})}return i2(e,n,t,a),i}function E8e(e,t,n,s,i,a){let o=[];const c=_8e(n);let l=Number.POSITIVE_INFINITY;function u(d,f,h){const m=d.inRange(t.x,t.y,i);if(s&&!m)return;const A=d.getCenterPoint(i);if(!(!!a||e.isPointInArea(A))&&!m)return;const p=c(t,A);p<l?(o=[{element:d,datasetIndex:f,index:h}],l=p):p===l&&o.push({element:d,datasetIndex:f,index:h})}return i2(e,n,t,u),o}function AC(e,t,n,s,i,a){return!a&&!e.isPointInArea(t)?[]:n==="r"&&!s?B8e(e,t,n,i):E8e(e,t,n,s,i,a)}function sM(e,t,n,s,i){const a=[],o=n==="x"?"inXRange":"inYRange";let c=!1;return i2(e,n,t,(l,u,d)=>{l[o]&&l[o](t[n],i)&&(a.push({element:l,datasetIndex:u,index:d}),c=c||l.inRange(t.x,t.y,i))}),s&&!c?[]:a}var P8e={modes:{index(e,t,n,s){const i=xd(t,e),a=n.axis||"x",o=n.includeInvisible||!1,c=n.intersect?pC(e,i,a,s,o):AC(e,i,a,!1,s,o),l=[];return c.length?(e.getSortedVisibleDatasetMetas().forEach(u=>{const d=c[0].index,f=u.data[d];f&&!f.skip&&l.push({element:f,datasetIndex:u.index,index:d})}),l):[]},dataset(e,t,n,s){const i=xd(t,e),a=n.axis||"xy",o=n.includeInvisible||!1;let c=n.intersect?pC(e,i,a,s,o):AC(e,i,a,!1,s,o);if(c.length>0){const l=c[0].datasetIndex,u=e.getDatasetMeta(l).data;c=[];for(let d=0;d<u.length;++d)c.push({element:u[d],datasetIndex:l,index:d})}return c},point(e,t,n,s){const i=xd(t,e),a=n.axis||"xy",o=n.includeInvisible||!1;return pC(e,i,a,s,o)},nearest(e,t,n,s){const i=xd(t,e),a=n.axis||"xy",o=n.includeInvisible||!1;return AC(e,i,a,n.intersect,s,o)},x(e,t,n,s){const i=xd(t,e);return sM(e,i,"x",n.intersect,s)},y(e,t,n,s){const i=xd(t,e);return sM(e,i,"y",n.intersect,s)}}};const gG=["left","top","right","bottom"];function Bp(e,t){return e.filter(n=>n.pos===t)}function iM(e,t){return e.filter(n=>gG.indexOf(n.pos)===-1&&n.box.axis===t)}function Ep(e,t){return e.sort((n,s)=>{const i=t?s:n,a=t?n:s;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function M8e(e){const t=[];let n,s,i,a,o,c;for(n=0,s=(e||[]).length;n<s;++n)i=e[n],{position:a,options:{stack:o,stackWeight:c=1}}=i,t.push({index:n,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&a+o,stackWeight:c});return t}function D8e(e){const t={};for(const n of e){const{stack:s,pos:i,stackWeight:a}=n;if(!s||!gG.includes(i))continue;const o=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=a}return t}function I8e(e,t){const n=D8e(e),{vBoxMaxWidth:s,hBoxMaxHeight:i}=t;let a,o,c;for(a=0,o=e.length;a<o;++a){c=e[a];const{fullSize:l}=c.box,u=n[c.stack],d=u&&c.stackWeight/u.weight;c.horizontal?(c.width=d?d*s:l&&t.availableWidth,c.height=i):(c.width=s,c.height=d?d*i:l&&t.availableHeight)}return n}function O8e(e){const t=M8e(e),n=Ep(t.filter(u=>u.box.fullSize),!0),s=Ep(Bp(t,"left"),!0),i=Ep(Bp(t,"right")),a=Ep(Bp(t,"top"),!0),o=Ep(Bp(t,"bottom")),c=iM(t,"x"),l=iM(t,"y");return{fullSize:n,leftAndTop:s.concat(a),rightAndBottom:i.concat(l).concat(o).concat(c),chartArea:Bp(t,"chartArea"),vertical:s.concat(i).concat(l),horizontal:a.concat(o).concat(c)}}function aM(e,t,n,s){return Math.max(e[n],t[n])+Math.max(e[s],t[s])}function xG(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function L8e(e,t,n,s){const{pos:i,box:a}=n,o=e.maxPadding;if(!Fn(i)){n.size&&(e[i]-=n.size);const f=s[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?a.height:a.width),n.size=f.size/f.count,e[i]+=n.size}a.getPadding&&xG(o,a.getPadding());const c=Math.max(0,t.outerWidth-aM(o,e,"left","right")),l=Math.max(0,t.outerHeight-aM(o,e,"top","bottom")),u=c!==e.w,d=l!==e.h;return e.w=c,e.h=l,n.horizontal?{same:u,other:d}:{same:d,other:u}}function F8e(e){const t=e.maxPadding;function n(s){const i=Math.max(t[s]-e[s],0);return e[s]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function R8e(e,t){const n=t.maxPadding;function s(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{a[o]=Math.max(t[o],n[o])}),a}return s(e?["left","right"]:["top","bottom"])}function tA(e,t,n,s){const i=[];let a,o,c,l,u,d;for(a=0,o=e.length,u=0;a<o;++a){c=e[a],l=c.box,l.update(c.width||t.w,c.height||t.h,R8e(c.horizontal,t));const{same:f,other:h}=L8e(t,n,c,s);u|=f&&i.length,d=d||h,l.fullSize||i.push(c)}return u&&tA(i,t,n,s)||d}function Qx(e,t,n,s,i){e.top=n,e.left=t,e.right=t+s,e.bottom=n+i,e.width=s,e.height=i}function oM(e,t,n,s){const i=n.padding;let{x:a,y:o}=t;for(const c of e){const l=c.box,u=s[c.stack]||{placed:0,weight:1},d=c.stackWeight/u.weight||1;if(c.horizontal){const f=t.w*d,h=u.size||l.height;Dg(u.start)&&(o=u.start),l.fullSize?Qx(l,i.left,o,n.outerWidth-i.right-i.left,h):Qx(l,t.left+u.placed,o,f,h),u.start=o,u.placed+=f,o=l.bottom}else{const f=t.h*d,h=u.size||l.width;Dg(u.start)&&(a=u.start),l.fullSize?Qx(l,a,i.top,h,n.outerHeight-i.bottom-i.top):Qx(l,a,t.top+u.placed,h,f),u.start=a,u.placed+=f,a=l.right}}t.x=a,t.y=o}var ci={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,s){if(!e)return;const i=fi(e.options.layout.padding),a=Math.max(t-i.width,0),o=Math.max(n-i.height,0),c=O8e(e.boxes),l=c.vertical,u=c.horizontal;lr(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const d=l.reduce((g,p)=>p.box.options&&p.box.options.display===!1?g:g+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/d,hBoxMaxHeight:o/2}),h=Object.assign({},i);xG(h,fi(s));const m=Object.assign({maxPadding:h,w:a,h:o,x:i.left,y:i.top},i),A=I8e(l.concat(u),f);tA(c.fullSize,m,f,A),tA(l,m,f,A),tA(u,m,f,A)&&tA(l,m,f,A),F8e(m),oM(c.leftAndTop,m,f,A),m.x+=m.w,m.y+=m.h,oM(c.rightAndBottom,m,f,A),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},lr(c.chartArea,g=>{const p=g.box;Object.assign(p,e.chartArea),p.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class bG{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,s){}removeEventListener(t,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,s,i){return n=Math.max(0,n||t.width),s=s||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(t){return!0}updateConfig(t){}}class U8e extends bG{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const ov="$chartjs",H8e={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},lM=e=>e===null||e==="";function $8e(e,t){const n=e.style,s=e.getAttribute("height"),i=e.getAttribute("width");if(e[ov]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",lM(i)){const a=VP(e,"width");a!==void 0&&(e.width=a)}if(lM(s))if(e.style.height==="")e.height=e.width/(t||2);else{const a=VP(e,"height");a!==void 0&&(e.height=a)}return e}const vG=QEe?{passive:!0}:!1;function Q8e(e,t,n){e&&e.addEventListener(t,n,vG)}function z8e(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,vG)}function V8e(e,t){const n=H8e[e.type]||e.type,{x:s,y:i}=xd(e,t);return{type:n,chart:t,native:e,x:s!==void 0?s:null,y:i!==void 0?i:null}}function Zy(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function K8e(e,t,n){const s=e.canvas,i=new MutationObserver(a=>{let o=!1;for(const c of a)o=o||Zy(c.addedNodes,s),o=o&&!Zy(c.removedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function G8e(e,t,n){const s=e.canvas,i=new MutationObserver(a=>{let o=!1;for(const c of a)o=o||Zy(c.removedNodes,s),o=o&&!Zy(c.addedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Lg=new Map;let cM=0;function yG(){const e=window.devicePixelRatio;e!==cM&&(cM=e,Lg.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function W8e(e,t){Lg.size||window.addEventListener("resize",yG),Lg.set(e,t)}function q8e(e){Lg.delete(e),Lg.size||window.removeEventListener("resize",yG)}function X8e(e,t,n){const s=e.canvas,i=s&&Gk(s);if(!i)return;const a=XK((c,l)=>{const u=i.clientWidth;n(c,l),u<i.clientWidth&&n()},window),o=new ResizeObserver(c=>{const l=c[0],u=l.contentRect.width,d=l.contentRect.height;u===0&&d===0||a(u,d)});return o.observe(i),W8e(e,a),o}function gC(e,t,n){n&&n.disconnect(),t==="resize"&&q8e(e)}function Y8e(e,t,n){const s=e.canvas,i=XK(a=>{e.ctx!==null&&n(V8e(a,e))},e);return Q8e(s,t,i),i}class Z8e extends bG{acquireContext(t,n){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?($8e(t,n),s):null}releaseContext(t){const n=t.canvas;if(!n[ov])return!1;const s=n[ov].initial;["height","width"].forEach(a=>{const o=s[a];Dn(o)?n.removeAttribute(a):n.setAttribute(a,o)});const i=s.style||{};return Object.keys(i).forEach(a=>{n.style[a]=i[a]}),n.width=n.width,delete n[ov],!0}addEventListener(t,n,s){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),o={attach:K8e,detach:G8e,resize:X8e}[n]||Y8e;i[n]=o(t,n,s)}removeEventListener(t,n){const s=t.$proxies||(t.$proxies={}),i=s[n];if(!i)return;({attach:gC,detach:gC,resize:gC}[n]||z8e)(t,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,s,i){return $Ee(t,n,s,i)}isAttached(t){const n=t&&Gk(t);return!!(n&&n.isConnected)}}function J8e(e){return!Kk()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?U8e:Z8e}var jb;let bc=(jb=class{constructor(){gt(this,"x");gt(this,"y");gt(this,"active",!1);gt(this,"options");gt(this,"$animations")}tooltipPosition(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}hasValue(){return gm(this.x)&&gm(this.y)}getProps(t,n){const s=this.$animations;if(!n||!s)return this;const i={};return t.forEach(a=>{i[a]=s[a]&&s[a].active()?s[a]._to:this[a]}),i}},gt(jb,"defaults",{}),gt(jb,"defaultRoutes"),jb);function ePe(e,t){const n=e.options.ticks,s=tPe(e),i=Math.min(n.maxTicksLimit||s,s),a=n.major.enabled?rPe(t):[],o=a.length,c=a[0],l=a[o-1],u=[];if(o>i)return sPe(t,u,a,o/i),u;const d=nPe(a,t,i);if(o>0){let f,h;const m=o>1?Math.round((l-c)/(o-1)):null;for(zx(t,u,d,Dn(m)?0:c-m,c),f=0,h=o-1;f<h;f++)zx(t,u,d,a[f],a[f+1]);return zx(t,u,d,l,Dn(m)?t.length:l+m),u}return zx(t,u,d),u}function tPe(e){const t=e.options.offset,n=e._tickSize(),s=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(s,i))}function nPe(e,t,n){const s=iPe(e),i=t.length/n;if(!s)return Math.max(i,1);const a=VBe(s);for(let o=0,c=a.length-1;o<c;o++){const l=a[o];if(l>i)return l}return Math.max(i,1)}function rPe(e){const t=[];let n,s;for(n=0,s=e.length;n<s;n++)e[n].major&&t.push(n);return t}function sPe(e,t,n,s){let i=0,a=n[0],o;for(s=Math.ceil(s),o=0;o<e.length;o++)o===a&&(t.push(e[o]),i++,a=n[i*s])}function zx(e,t,n,s,i){const a=vn(s,0),o=Math.min(vn(i,e.length),e.length);let c=0,l,u,d;for(n=Math.ceil(n),i&&(l=i-s,n=l/Math.floor(l/n)),d=a;d<0;)c++,d=Math.round(a+c*n);for(u=Math.max(a,0);u<o;u++)u===d&&(t.push(e[u]),c++,d=Math.round(a+c*n))}function iPe(e){const t=e.length;let n,s;if(t<2)return!1;for(s=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==s)return!1;return s}const aPe=e=>e==="left"?"right":e==="right"?"left":e,uM=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,dM=(e,t)=>Math.min(t||e,e);function hM(e,t){const n=[],s=e.length/t,i=e.length;let a=0;for(;a<i;a+=s)n.push(e[Math.floor(a)]);return n}function oPe(e,t,n){const s=e.ticks.length,i=Math.min(t,s-1),a=e._startPixel,o=e._endPixel,c=1e-6;let l=e.getPixelForTick(i),u;if(!(n&&(s===1?u=Math.max(l-a,o-l):t===0?u=(e.getPixelForTick(1)-l)/2:u=(l-e.getPixelForTick(i-1))/2,l+=i<t?u:-u,l<a-c||l>o+c)))return l}function lPe(e,t){lr(e,n=>{const s=n.gc,i=s.length/2;let a;if(i>t){for(a=0;a<i;++a)delete n.data[s[a]];s.splice(0,i)}})}function Pp(e){return e.drawTicks?e.tickLength:0}function fM(e,t){if(!e.display)return 0;const n=Ts(e.font,t),s=fi(e.padding);return(Fr(e.text)?e.text.length:1)*n.lineHeight+s.height}function cPe(e,t){return ed(e,{scale:t,type:"scale"})}function uPe(e,t,n){return ed(e,{tick:n,index:t,type:"tick"})}function dPe(e,t,n){let s=Uk(e);return(n&&t!=="right"||!n&&t==="right")&&(s=aPe(s)),s}function hPe(e,t,n,s){const{top:i,left:a,bottom:o,right:c,chart:l}=e,{chartArea:u,scales:d}=l;let f=0,h,m,A;const g=o-i,p=c-a;if(e.isHorizontal()){if(m=ri(s,a,c),Fn(n)){const b=Object.keys(n)[0],x=n[b];A=d[b].getPixelForValue(x)+g-t}else n==="center"?A=(u.bottom+u.top)/2+g-t:A=uM(e,n,t);h=c-a}else{if(Fn(n)){const b=Object.keys(n)[0],x=n[b];m=d[b].getPixelForValue(x)-p+t}else n==="center"?m=(u.left+u.right)/2-p+t:m=uM(e,n,t);A=ri(s,o,i),f=n==="left"?-us:us}return{titleX:m,titleY:A,maxWidth:h,rotation:f}}class Ph extends bc{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return t=oa(t,Number.POSITIVE_INFINITY),n=oa(n,Number.NEGATIVE_INFINITY),s=oa(s,Number.POSITIVE_INFINITY),i=oa(i,Number.NEGATIVE_INFINITY),{min:oa(t,s),max:oa(n,i),minDefined:ns(t),maxDefined:ns(n)}}getMinMax(t){let{min:n,max:s,minDefined:i,maxDefined:a}=this.getUserBounds(),o;if(i&&a)return{min:n,max:s};const c=this.getMatchingVisibleMetas();for(let l=0,u=c.length;l<u;++l)o=c[l].controller.getMinMax(this,t),i||(n=Math.min(n,o.min)),a||(s=Math.max(s,o.max));return n=a&&n>s?s:n,s=i&&n>s?n:s,{min:oa(n,oa(s,n)),max:oa(s,oa(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){xr(this.options.beforeUpdate,[this])}update(t,n,s){const{beginAtZero:i,grace:a,ticks:o}=this.options,c=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=vEe(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=c<this.ticks.length;this._convertTicksToLabels(l?hM(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=ePe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,t=!t),this._startPixel=n,this._endPixel=s,this._reversePixels=t,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){xr(this.options.afterUpdate,[this])}beforeSetDimensions(){xr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){xr(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),xr(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){xr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let s,i,a;for(s=0,i=t.length;s<i;s++)a=t[s],a.label=xr(n.callback,[a.value,s,t],this)}afterTickToLabelConversion(){xr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){xr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,s=dM(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,a=n.maxRotation;let o=i,c,l,u;if(!this._isVisible()||!n.display||i>=a||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),f=d.widest.width,h=d.highest.height,m=Ls(this.chart.width-f,0,this.maxWidth);c=t.offset?this.maxWidth/s:m/(s-1),f+6>c&&(c=m/(s-(t.offset?.5:1)),l=this.maxHeight-Pp(t.grid)-n.padding-fM(t.title,this.chart.options.font),u=Math.sqrt(f*f+h*h),o=Fk(Math.min(Math.asin(Ls((d.highest.height+6)/c,-1,1)),Math.asin(Ls(l/u,-1,1))-Math.asin(Ls(h/u,-1,1)))),o=Math.max(i,Math.min(a,o))),this.labelRotation=o}afterCalculateLabelRotation(){xr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){xr(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:a}}=this,o=this._isVisible(),c=this.isHorizontal();if(o){const l=fM(i,n.options.font);if(c?(t.width=this.maxWidth,t.height=Pp(a)+l):(t.height=this.maxHeight,t.width=Pp(a)+l),s.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:h}=this._getLabelSizes(),m=s.padding*2,A=ho(this.labelRotation),g=Math.cos(A),p=Math.sin(A);if(c){const b=s.mirror?0:p*f.width+g*h.height;t.height=Math.min(this.maxHeight,t.height+b+m)}else{const b=s.mirror?0:g*f.width+p*h.height;t.width=Math.min(this.maxWidth,t.width+b+m)}this._calculatePadding(u,d,p,g)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,s,i){const{ticks:{align:a,padding:o},position:c}=this.options,l=this.labelRotation!==0,u=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,m=0;l?u?(h=i*t.width,m=s*n.height):(h=s*t.height,m=i*n.width):a==="start"?m=n.width:a==="end"?h=t.width:a!=="inner"&&(h=t.width/2,m=n.width/2),this.paddingLeft=Math.max((h-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-f+o)*this.width/(this.width-f),0)}else{let d=n.height/2,f=t.height/2;a==="start"?(d=0,f=t.height):a==="end"&&(d=n.height,f=0),this.paddingTop=d+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){xr(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,s;for(n=0,s=t.length;n<s;n++)Dn(t[n].label)&&(t.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=hM(s,n)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,s){const{ctx:i,_longestTextCache:a}=this,o=[],c=[],l=Math.floor(n/dM(n,s));let u=0,d=0,f,h,m,A,g,p,b,x,v,y,N;for(f=0;f<n;f+=l){if(A=t[f].label,g=this._resolveTickFontOptions(f),i.font=p=g.string,b=a[p]=a[p]||{data:{},gc:[]},x=g.lineHeight,v=y=0,!Dn(A)&&!Fr(A))v=qy(i,b.data,b.gc,v,A),y=x;else if(Fr(A))for(h=0,m=A.length;h<m;++h)N=A[h],!Dn(N)&&!Fr(N)&&(v=qy(i,b.data,b.gc,v,N),y+=x);o.push(v),c.push(y),u=Math.max(v,u),d=Math.max(y,d)}lPe(a,n);const P=o.indexOf(u),M=c.indexOf(d),k=D=>({width:o[D]||0,height:c[D]||0});return{first:k(0),last:k(n-1),widest:k(P),highest:k(M),widths:o,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return qBe(this._alignToPixels?ad(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const s=n[t];return s.$context||(s.$context=uPe(this.getContext(),t,s))}return this.$context||(this.$context=cPe(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=ho(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),a=this._getLabelSizes(),o=t.autoSkipPadding||0,c=a?a.widest.width+o:0,l=a?a.highest.height+o:0;return this.isHorizontal()?l*s>c*i?c/s:l/i:l*i<c*s?l/s:c/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,s=this.chart,i=this.options,{grid:a,position:o,border:c}=i,l=a.offset,u=this.isHorizontal(),f=this.ticks.length+(l?1:0),h=Pp(a),m=[],A=c.setContext(this.getContext()),g=A.display?A.width:0,p=g/2,b=function(w){return ad(s,w,g)};let x,v,y,N,P,M,k,D,O,L,F,_;if(o==="top")x=b(this.bottom),M=this.bottom-h,D=x-p,L=b(t.top)+p,_=t.bottom;else if(o==="bottom")x=b(this.top),L=t.top,_=b(t.bottom)-p,M=x+p,D=this.top+h;else if(o==="left")x=b(this.right),P=this.right-h,k=x-p,O=b(t.left)+p,F=t.right;else if(o==="right")x=b(this.left),O=t.left,F=b(t.right)-p,P=x+p,k=this.left+h;else if(n==="x"){if(o==="center")x=b((t.top+t.bottom)/2+.5);else if(Fn(o)){const w=Object.keys(o)[0],C=o[w];x=b(this.chart.scales[w].getPixelForValue(C))}L=t.top,_=t.bottom,M=x+p,D=M+h}else if(n==="y"){if(o==="center")x=b((t.left+t.right)/2);else if(Fn(o)){const w=Object.keys(o)[0],C=o[w];x=b(this.chart.scales[w].getPixelForValue(C))}P=x-p,k=P-h,O=t.left,F=t.right}const E=vn(i.ticks.maxTicksLimit,f),T=Math.max(1,Math.ceil(f/E));for(v=0;v<f;v+=T){const w=this.getContext(v),C=a.setContext(w),j=c.setContext(w),S=C.lineWidth,I=C.color,R=j.dash||[],U=j.dashOffset,z=C.tickWidth,V=C.tickColor,X=C.tickBorderDash||[],$=C.tickBorderDashOffset;y=oPe(this,v,l),y!==void 0&&(N=ad(s,y,S),u?P=k=O=F=N:M=D=L=_=N,m.push({tx1:P,ty1:M,tx2:k,ty2:D,x1:O,y1:L,x2:F,y2:_,width:S,color:I,borderDash:R,borderDashOffset:U,tickWidth:z,tickColor:V,tickBorderDash:X,tickBorderDashOffset:$}))}return this._ticksLength=f,this._borderValue=x,m}_computeLabelItems(t){const n=this.axis,s=this.options,{position:i,ticks:a}=s,o=this.isHorizontal(),c=this.ticks,{align:l,crossAlign:u,padding:d,mirror:f}=a,h=Pp(s.grid),m=h+d,A=f?-d:m,g=-ho(this.labelRotation),p=[];let b,x,v,y,N,P,M,k,D,O,L,F,_="middle";if(i==="top")P=this.bottom-A,M=this._getXAxisLabelAlignment();else if(i==="bottom")P=this.top+A,M=this._getXAxisLabelAlignment();else if(i==="left"){const T=this._getYAxisLabelAlignment(h);M=T.textAlign,N=T.x}else if(i==="right"){const T=this._getYAxisLabelAlignment(h);M=T.textAlign,N=T.x}else if(n==="x"){if(i==="center")P=(t.top+t.bottom)/2+m;else if(Fn(i)){const T=Object.keys(i)[0],w=i[T];P=this.chart.scales[T].getPixelForValue(w)+m}M=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")N=(t.left+t.right)/2-m;else if(Fn(i)){const T=Object.keys(i)[0],w=i[T];N=this.chart.scales[T].getPixelForValue(w)}M=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?_="top":l==="end"&&(_="bottom"));const E=this._getLabelSizes();for(b=0,x=c.length;b<x;++b){v=c[b],y=v.label;const T=a.setContext(this.getContext(b));k=this.getPixelForTick(b)+a.labelOffset,D=this._resolveTickFontOptions(b),O=D.lineHeight,L=Fr(y)?y.length:1;const w=L/2,C=T.color,j=T.textStrokeColor,S=T.textStrokeWidth;let I=M;o?(N=k,M==="inner"&&(b===x-1?I=this.options.reverse?"left":"right":b===0?I=this.options.reverse?"right":"left":I="center"),i==="top"?u==="near"||g!==0?F=-L*O+O/2:u==="center"?F=-E.highest.height/2-w*O+O:F=-E.highest.height+O/2:u==="near"||g!==0?F=O/2:u==="center"?F=E.highest.height/2-w*O:F=E.highest.height-L*O,f&&(F*=-1),g!==0&&!T.showLabelBackdrop&&(N+=O/2*Math.sin(g))):(P=k,F=(1-L)*O/2);let R;if(T.showLabelBackdrop){const U=fi(T.backdropPadding),z=E.heights[b],V=E.widths[b];let X=F-U.top,$=0-U.left;switch(_){case"middle":X-=z/2;break;case"bottom":X-=z;break}switch(M){case"center":$-=V/2;break;case"right":$-=V;break;case"inner":b===x-1?$-=V:b>0&&($-=V/2);break}R={left:$,top:X,width:V+U.width,height:z+U.height,color:T.backdropColor}}p.push({label:y,font:D,textOffset:F,options:{rotation:g,color:C,strokeColor:j,strokeWidth:S,textAlign:I,textBaseline:_,translation:[N,P],backdrop:R}})}return p}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-ho(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:s,mirror:i,padding:a}}=this.options,o=this._getLabelSizes(),c=t+a,l=o.widest.width;let u,d;return n==="left"?i?(d=this.right+a,s==="near"?u="left":s==="center"?(u="center",d+=l/2):(u="right",d+=l)):(d=this.right-c,s==="near"?u="right":s==="center"?(u="center",d-=l/2):(u="left",d=this.left)):n==="right"?i?(d=this.left+a,s==="near"?u="right":s==="center"?(u="center",d-=l/2):(u="left",d-=l)):(d=this.left+c,s==="near"?u="left":s==="center"?(u="center",d+=l/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:s,top:i,width:a,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(s,i,a,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(a=>a.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,o;const c=(l,u,d)=>{!d.width||!d.color||(s.save(),s.lineWidth=d.width,s.strokeStyle=d.color,s.setLineDash(d.borderDash||[]),s.lineDashOffset=d.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(u.x,u.y),s.stroke(),s.restore())};if(n.display)for(a=0,o=i.length;a<o;++a){const l=i[a];n.drawOnChartArea&&c({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&c({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:s,grid:i}}=this,a=s.setContext(this.getContext()),o=s.display?a.width:0;if(!o)return;const c=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,d,f,h;this.isHorizontal()?(u=ad(t,this.left,o)-o/2,d=ad(t,this.right,c)+c/2,f=h=l):(f=ad(t,this.top,o)-o/2,h=ad(t,this.bottom,c)+c/2,u=d=l),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(u,f),n.lineTo(d,h),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&n2(s,i);const a=this.getLabelItems(t);for(const o of a){const c=o.options,l=o.font,u=o.label,d=o.textOffset;xh(s,u,0,d,l,c)}i&&r2(s)}drawTitle(){const{ctx:t,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const a=Ts(s.font),o=fi(s.padding),c=s.align;let l=a.lineHeight/2;n==="bottom"||n==="center"||Fn(n)?(l+=o.bottom,Fr(s.text)&&(l+=a.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:u,titleY:d,maxWidth:f,rotation:h}=hPe(this,l,n,c);xh(t,s.text,0,0,a,{color:s.color,maxWidth:f,rotation:h,textAlign:dPe(c,n,i),textBaseline:"middle",translation:[u,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,s=vn(t.grid&&t.grid.z,-1),i=vn(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Ph.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:s,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let a,o;for(a=0,o=n.length;a<o;++a){const c=n[a];c[s]===this.id&&(!t||c.type===t)&&i.push(c)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Ts(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Vx{constructor(t,n,s){this.type=t,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let s;pPe(n)&&(s=this.register(n));const i=this.items,a=t.id,o=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in i||(i[a]=t,fPe(t,o,s),this.override&&$r.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,s=t.id,i=this.scope;s in n&&delete n[s],i&&s in $r[i]&&(delete $r[i][s],this.override&&delete gh[s])}}function fPe(e,t,n){const s=Mg(Object.create(null),[n?$r.get(n):{},$r.get(t),e.defaults]);$r.set(t,s),e.defaultRoutes&&mPe(t,e.defaultRoutes),e.descriptors&&$r.describe(t,e.descriptors)}function mPe(e,t){Object.keys(t).forEach(n=>{const s=n.split("."),i=s.pop(),a=[e].concat(s).join("."),o=t[n].split("."),c=o.pop(),l=o.join(".");$r.route(a,i,l,c)})}function pPe(e){return"id"in e&&"defaults"in e}class APe{constructor(){this.controllers=new Vx(go,"datasets",!0),this.elements=new Vx(bc,"elements"),this.plugins=new Vx(Object,"plugins"),this.scales=new Vx(Ph,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,s){[...n].forEach(i=>{const a=s||this._getRegistryForType(i);s||a.isForType(i)||a===this.plugins&&i.id?this._exec(t,a,i):lr(i,o=>{const c=s||this._getRegistryForType(o);this._exec(t,c,o)})})}_exec(t,n,s){const i=Lk(t);xr(s["before"+i],[],s),n[t](s),xr(s["after"+i],[],s)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(t))return s}return this.plugins}_get(t,n,s){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return i}}var Lo=new APe;class gPe{constructor(){this._init=[]}notify(t,n,s,i){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(a,t,n,s);return n==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,s,i){i=i||{};for(const a of t){const o=a.plugin,c=o[s],l=[n,i,a.options];if(xr(c,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Dn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const s=t&&t.config,i=vn(s.options&&s.options.plugins,{}),a=xPe(s);return i===!1&&!n?[]:vPe(t,a,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],s=this._cache,i=(a,o)=>a.filter(c=>!o.some(l=>c.plugin.id===l.plugin.id));this._notify(i(n,s),t,"stop"),this._notify(i(s,n),t,"start")}}function xPe(e){const t={},n=[],s=Object.keys(Lo.plugins.items);for(let a=0;a<s.length;a++)n.push(Lo.getPlugin(s[a]));const i=e.plugins||[];for(let a=0;a<i.length;a++){const o=i[a];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function bPe(e,t){return!t&&e===!1?null:e===!0?{}:e}function vPe(e,{plugins:t,localIds:n},s,i){const a=[],o=e.getContext();for(const c of t){const l=c.id,u=bPe(s[l],i);u!==null&&a.push({plugin:c,options:yPe(e.config,{plugin:c,local:n[l]},u,o)})}return a}function yPe(e,{plugin:t,local:n},s,i){const a=e.pluginScopeKeys(t),o=e.getOptionScopes(s,a);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function HS(e,t){const n=$r.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function wPe(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function jPe(e,t){return e===t?"_index_":"_value_"}function mM(e){if(e==="x"||e==="y"||e==="r")return e}function CPe(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function $S(e,...t){if(mM(e))return e;for(const n of t){const s=n.axis||CPe(n.position)||e.length>1&&mM(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function pM(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function NPe(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(n.length)return pM(e,"x",n[0])||pM(e,"y",n[0])}return{}}function SPe(e,t){const n=gh[e.type]||{scales:{}},s=t.scales||{},i=HS(e.type,t),a=Object.create(null);return Object.keys(s).forEach(o=>{const c=s[o];if(!Fn(c))return console.error(`Invalid scale configuration for scale: ${o}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=$S(o,c,NPe(o,e),$r.scales[c.type]),u=jPe(l,i),d=n.scales||{};a[o]=TA(Object.create(null),[{axis:l},c,d[l],d[u]])}),e.data.datasets.forEach(o=>{const c=o.type||e.type,l=o.indexAxis||HS(c,t),d=(gh[c]||{}).scales||{};Object.keys(d).forEach(f=>{const h=wPe(f,l),m=o[h+"AxisID"]||h;a[m]=a[m]||Object.create(null),TA(a[m],[{axis:h},s[m],d[f]])})}),Object.keys(a).forEach(o=>{const c=a[o];TA(c,[$r.scales[c.type],$r.scale])}),a}function wG(e){const t=e.options||(e.options={});t.plugins=vn(t.plugins,{}),t.scales=SPe(e,t)}function jG(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function TPe(e){return e=e||{},e.data=jG(e.data),wG(e),e}const AM=new Map,CG=new Set;function Kx(e,t){let n=AM.get(e);return n||(n=t(),AM.set(e,n),CG.add(n)),n}const Mp=(e,t,n)=>{const s=Du(t,n);s!==void 0&&e.add(s)};class kPe{constructor(t){this._config=TPe(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=jG(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),wG(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Kx(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Kx(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Kx(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,s=this.type;return Kx(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const s=this._scopeCache;let i=s.get(t);return(!i||n)&&(i=new Map,s.set(t,i)),i}getOptionScopes(t,n,s){const{options:i,type:a}=this,o=this._cachedScopes(t,s),c=o.get(n);if(c)return c;const l=new Set;n.forEach(d=>{t&&(l.add(t),d.forEach(f=>Mp(l,t,f))),d.forEach(f=>Mp(l,i,f)),d.forEach(f=>Mp(l,gh[a]||{},f)),d.forEach(f=>Mp(l,$r,f)),d.forEach(f=>Mp(l,RS,f))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),CG.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:t,type:n}=this;return[t,gh[n]||{},$r.datasets[n]||{},{type:n},$r,RS]}resolveNamedOptions(t,n,s,i=[""]){const a={$shared:!0},{resolver:o,subPrefixes:c}=gM(this._resolverCache,t,i);let l=o;if(BPe(o,n)){a.$shared=!1,s=Iu(s)?s():s;const u=this.createResolver(t,s,c);l=xm(o,s,u)}for(const u of n)a[u]=l[u];return a}createResolver(t,n,s=[""],i){const{resolver:a}=gM(this._resolverCache,t,s);return Fn(n)?xm(a,n,void 0,i):a}}function gM(e,t,n){let s=e.get(t);s||(s=new Map,e.set(t,s));const i=n.join();let a=s.get(i);return a||(a={resolver:Qk(t,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},s.set(i,a)),a}const _Pe=e=>Fn(e)&&Object.getOwnPropertyNames(e).some(t=>Iu(e[t]));function BPe(e,t){const{isScriptable:n,isIndexable:s}=nG(e);for(const i of t){const a=n(i),o=s(i),c=(o||a)&&e[i];if(a&&(Iu(c)||_Pe(c))||o&&Fr(c))return!0}return!1}var EPe="4.5.0";const PPe=["top","bottom","left","right","chartArea"];function xM(e,t){return e==="top"||e==="bottom"||PPe.indexOf(e)===-1&&t==="x"}function bM(e,t){return function(n,s){return n[e]===s[e]?n[t]-s[t]:n[e]-s[e]}}function vM(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),xr(n&&n.onComplete,[e],t)}function MPe(e){const t=e.chart,n=t.options.animation;xr(n&&n.onProgress,[e],t)}function NG(e){return Kk()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const lv={},yM=e=>{const t=NG(e);return Object.values(lv).filter(n=>n.canvas===t).pop()};function DPe(e,t,n){const s=Object.keys(e);for(const i of s){const a=+i;if(a>=t){const o=e[i];delete e[i],(n>0||a>t)&&(e[a+n]=o)}}}function IPe(e,t,n,s){return!n||e.type==="mouseout"?null:s?t:e}var Ec;let Ga=(Ec=class{static register(...t){Lo.add(...t),wM()}static unregister(...t){Lo.remove(...t),wM()}constructor(t,n){const s=this.config=new kPe(n),i=NG(t),a=yM(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||J8e(i)),this.platform.updateConfig(s);const c=this.platform.acquireContext(i,o.aspectRatio),l=c&&c.canvas,u=l&&l.height,d=l&&l.width;if(this.id=OBe(),this.ctx=c,this.canvas=l,this.width=d,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new gPe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=JBe(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],lv[this.id]=this,!c||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Il.listen(this,"complete",vM),Il.listen(this,"progress",MPe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:s,height:i,_aspectRatio:a}=this;return Dn(t)?n&&a?a:i?s/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Lo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():zP(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return HP(this.canvas,this.ctx),this}stop(){return Il.stop(this),this}resize(t,n){Il.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const s=this.options,i=this.canvas,a=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,n,a),c=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,zP(this,c,!0)&&(this.notifyPlugins("resize",{size:o}),xr(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};lr(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,s=this.scales,i=Object.keys(s).reduce((o,c)=>(o[c]=!1,o),{});let a=[];n&&(a=a.concat(Object.keys(n).map(o=>{const c=n[o],l=$S(o,c),u=l==="r",d=l==="x";return{options:c,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),lr(a,o=>{const c=o.options,l=c.id,u=$S(l,c),d=vn(c.type,o.dtype);(c.position===void 0||xM(c.position,u)!==xM(o.dposition))&&(c.position=o.dposition),i[l]=!0;let f=null;if(l in s&&s[l].type===d)f=s[l];else{const h=Lo.getScale(d);f=new h({id:l,type:d,ctx:this.ctx,chart:this}),s[f.id]=f}f.init(c,t)}),lr(i,(o,c)=>{o||delete s[c]}),lr(s,o=>{ci.configure(this,o,o.options),ci.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,s=t.length;if(t.sort((i,a)=>i.index-a.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);t.splice(n,s-n)}this._sortedMetasets=t.slice(0).sort(bM("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((s,i)=>{n.filter(a=>a===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const a=n[s];let o=this.getDatasetMeta(s);const c=a.type||this.config.type;if(o.type&&o.type!==c&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=c,o.indexAxis=a.indexAxis||HS(c,this.options),o.order=a.order||0,o.index=s,o.label=""+a.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=Lo.getController(c),{datasetElementType:u,dataElementType:d}=$r.datasets[c];Object.assign(l,{dataElementType:Lo.getElement(d),datasetElementType:u&&Lo.getElement(u)}),o.controller=new l(this,s),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){lr(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),h=!i&&a.indexOf(f)===-1;f.buildOrUpdateElements(h),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||lr(a,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(bM("z","_idx"));const{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){lr(this.scales,t=>{ci.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!PP(n,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:a}of n){const o=s==="_removeElements"?-a:a;DPe(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=a=>new Set(t.filter(o=>o[0]===a).map((o,c)=>c+","+o.splice(1).join(","))),i=s(0);for(let a=1;a<n;a++)if(!PP(i,s(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ci.update(this,this.width,this.height,t);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],lr(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Iu(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const s=this.getDatasetMeta(t),i={meta:s,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Il.has(this)?this.attached&&!Il.running(this)&&Il.start(this):(this.draw(),vM({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,s=[];let i,a;for(i=0,a=n.length;i<a;++i){const o=n[i];(!t||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,s={meta:t,index:t.index,cancelable:!0},i=fG(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&n2(n,i),t.controller.draw(),i&&r2(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return Kl(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,s,i){const a=P8e.modes[n];return typeof a=="function"?a(this,t,s,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],s=this._metasets;let i=s.filter(a=>a&&a._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=ed(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(t,n){const s=this.getDatasetMeta(t);s.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,s){const i=s?"show":"hide",a=this.getDatasetMeta(t),o=a.controller._resolveAnimations(void 0,i);Dg(n)?(a.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),o.update(a,{visible:s}),this.update(c=>c.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Il.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),HP(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete lv[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,s=(a,o)=>{n.addEventListener(this,a,o),t[a]=o},i=(a,o,c)=>{a.offsetX=o,a.offsetY=c,this._eventHandler(a)};lr(this.options.events,a=>s(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,s=(l,u)=>{n.addEventListener(this,l,u),t[l]=u},i=(l,u)=>{t[l]&&(n.removeEventListener(this,l,u),delete t[l])},a=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const c=()=>{i("attach",c),this.attached=!0,this.resize(),s("resize",a),s("detach",o)};o=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),s("attach",c)},n.isAttached(this.canvas)?c():o()}unbindEvents(){lr(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},lr(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,s){const i=s?"set":"remove";let a,o,c,l;for(n==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),c=0,l=t.length;c<l;++c){o=t[c];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],s=t.map(({datasetIndex:a,index:o})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[o],index:o}});!Ky(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(t,n,s){return this._plugins.notify(this,t,n,s)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,s){const i=this.options.hover,a=(l,u)=>l.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),o=a(n,t),c=s?t:a(t,n);o.length&&this.updateHoverStyle(o,i.mode,!1),c.length&&i.mode&&this.updateHoverStyle(c,i.mode,!0)}_eventHandler(t,n){const s={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const a=this._handleEvent(t,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(a||s.changed)&&this.render(),this}_handleEvent(t,n,s){const{_active:i=[],options:a}=this,o=n,c=this._getActiveElements(t,i,s,o),l=$Be(t),u=IPe(t,this._lastEvent,s,l);s&&(this._lastEvent=null,xr(a.onHover,[t,c,this],this),l&&xr(a.onClick,[t,c,this],this));const d=!Ky(c,i);return(d||n)&&(this._active=c,this._updateHoverStyles(c,i,n)),this._lastEvent=u,d}_getActiveElements(t,n,s,i){if(t.type==="mouseout")return[];if(!s)return n;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,i)}},gt(Ec,"defaults",$r),gt(Ec,"instances",lv),gt(Ec,"overrides",gh),gt(Ec,"registry",Lo),gt(Ec,"version",EPe),gt(Ec,"getChart",yM),Ec);function wM(){return lr(Ga.instances,e=>e._plugins.invalidate())}function OPe(e,t,n){const{startAngle:s,x:i,y:a,outerRadius:o,innerRadius:c,options:l}=t,{borderWidth:u,borderJoinStyle:d}=l,f=Math.min(u/o,si(s-n));if(e.beginPath(),e.arc(i,a,o-u/2,s+f/2,n-f/2),c>0){const h=Math.min(u/c,si(s-n));e.arc(i,a,c+u/2,n-h/2,s+h/2,!0)}else{const h=Math.min(u/2,o*si(s-n));if(d==="round")e.arc(i,a,h,n-Yn/2,s+Yn/2,!0);else if(d==="bevel"){const m=2*h*h,A=-m*Math.cos(n+Yn/2)+i,g=-m*Math.sin(n+Yn/2)+a,p=m*Math.cos(s+Yn/2)+i,b=m*Math.sin(s+Yn/2)+a;e.lineTo(A,g),e.lineTo(p,b)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function LPe(e,t,n){const{startAngle:s,pixelMargin:i,x:a,y:o,outerRadius:c,innerRadius:l}=t;let u=i/c;e.beginPath(),e.arc(a,o,c,s-u,n+u),l>i?(u=i/l,e.arc(a,o,l,n+u,s-u,!0)):e.arc(a,o,i,n+us,s-us),e.closePath(),e.clip()}function FPe(e){return $k(e,["outerStart","outerEnd","innerStart","innerEnd"])}function RPe(e,t,n,s){const i=FPe(e.options.borderRadius),a=(n-t)/2,o=Math.min(a,s*t/2),c=l=>{const u=(n-Math.min(a,l))*s/2;return Ls(l,0,Math.min(a,u))};return{outerStart:c(i.outerStart),outerEnd:c(i.outerEnd),innerStart:Ls(i.innerStart,0,o),innerEnd:Ls(i.innerEnd,0,o)}}function Qh(e,t,n,s){return{x:n+e*Math.cos(t),y:s+e*Math.sin(t)}}function Jy(e,t,n,s,i,a){const{x:o,y:c,startAngle:l,pixelMargin:u,innerRadius:d}=t,f=Math.max(t.outerRadius+s+n-u,0),h=d>0?d+s+n+u:0;let m=0;const A=i-l;if(s){const T=d>0?d-s:0,w=f>0?f-s:0,C=(T+w)/2,j=C!==0?A*C/(C+s):A;m=(A-j)/2}const g=Math.max(.001,A*f-n/Yn)/f,p=(A-g)/2,b=l+p+m,x=i-p-m,{outerStart:v,outerEnd:y,innerStart:N,innerEnd:P}=RPe(t,h,f,x-b),M=f-v,k=f-y,D=b+v/M,O=x-y/k,L=h+N,F=h+P,_=b+N/L,E=x-P/F;if(e.beginPath(),a){const T=(D+O)/2;if(e.arc(o,c,f,D,T),e.arc(o,c,f,T,O),y>0){const S=Qh(k,O,o,c);e.arc(S.x,S.y,y,O,x+us)}const w=Qh(F,x,o,c);if(e.lineTo(w.x,w.y),P>0){const S=Qh(F,E,o,c);e.arc(S.x,S.y,P,x+us,E+Math.PI)}const C=(x-P/h+(b+N/h))/2;if(e.arc(o,c,h,x-P/h,C,!0),e.arc(o,c,h,C,b+N/h,!0),N>0){const S=Qh(L,_,o,c);e.arc(S.x,S.y,N,_+Math.PI,b-us)}const j=Qh(M,b,o,c);if(e.lineTo(j.x,j.y),v>0){const S=Qh(M,D,o,c);e.arc(S.x,S.y,v,b-us,D)}}else{e.moveTo(o,c);const T=Math.cos(D)*f+o,w=Math.sin(D)*f+c;e.lineTo(T,w);const C=Math.cos(O)*f+o,j=Math.sin(O)*f+c;e.lineTo(C,j)}e.closePath()}function UPe(e,t,n,s,i){const{fullCircles:a,startAngle:o,circumference:c}=t;let l=t.endAngle;if(a){Jy(e,t,n,s,l,i);for(let u=0;u<a;++u)e.fill();isNaN(c)||(l=o+(c%Pr||Pr))}return Jy(e,t,n,s,l,i),e.fill(),l}function HPe(e,t,n,s,i){const{fullCircles:a,startAngle:o,circumference:c,options:l}=t,{borderWidth:u,borderJoinStyle:d,borderDash:f,borderDashOffset:h,borderRadius:m}=l,A=l.borderAlign==="inner";if(!u)return;e.setLineDash(f||[]),e.lineDashOffset=h,A?(e.lineWidth=u*2,e.lineJoin=d||"round"):(e.lineWidth=u,e.lineJoin=d||"bevel");let g=t.endAngle;if(a){Jy(e,t,n,s,g,i);for(let p=0;p<a;++p)e.stroke();isNaN(c)||(g=o+(c%Pr||Pr))}A&&LPe(e,t,g),l.selfJoin&&g-o>=Yn&&m===0&&d!=="miter"&&OPe(e,t,g),a||(Jy(e,t,n,s,g,i),e.stroke())}class iu extends bc{constructor(n){super();gt(this,"circumference");gt(this,"endAngle");gt(this,"fullCircles");gt(this,"innerRadius");gt(this,"outerRadius");gt(this,"pixelMargin");gt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,i){const a=this.getProps(["x","y"],i),{angle:o,distance:c}=KK(a,{x:n,y:s}),{startAngle:l,endAngle:u,innerRadius:d,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),m=(this.options.spacing+this.options.borderWidth)/2,A=vn(h,u-l),g=Ig(o,l,u)&&l!==u,p=A>=Pr||g,b=zl(c,d+m,f+m);return p&&b}getCenterPoint(n){const{x:s,y:i,startAngle:a,endAngle:o,innerRadius:c,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:d}=this.options,f=(a+o)/2,h=(c+l+d+u)/2;return{x:s+Math.cos(f)*h,y:i+Math.sin(f)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:i}=this,a=(s.offset||0)/4,o=(s.spacing||0)/2,c=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=i>Pr?Math.floor(i/Pr):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*a,Math.sin(l)*a);const u=1-Math.sin(Math.min(Yn,i||0)),d=a*u;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,UPe(n,this,d,o,c),HPe(n,this,d,o,c),n.restore()}}gt(iu,"id","arc"),gt(iu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),gt(iu,"defaultRoutes",{backgroundColor:"backgroundColor"}),gt(iu,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function SG(e,t,n=t){e.lineCap=vn(n.borderCapStyle,t.borderCapStyle),e.setLineDash(vn(n.borderDash,t.borderDash)),e.lineDashOffset=vn(n.borderDashOffset,t.borderDashOffset),e.lineJoin=vn(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=vn(n.borderWidth,t.borderWidth),e.strokeStyle=vn(n.borderColor,t.borderColor)}function $Pe(e,t,n){e.lineTo(n.x,n.y)}function QPe(e){return e.stepped?dEe:e.tension||e.cubicInterpolationMode==="monotone"?hEe:$Pe}function TG(e,t,n={}){const s=e.length,{start:i=0,end:a=s-1}=n,{start:o,end:c}=t,l=Math.max(i,o),u=Math.min(a,c),d=i<o&&a<o||i>c&&a>c;return{count:s,start:l,loop:t.loop,ilen:u<l&&!d?s+u-l:u-l}}function zPe(e,t,n,s){const{points:i,options:a}=t,{count:o,start:c,loop:l,ilen:u}=TG(i,n,s),d=QPe(a);let{move:f=!0,reverse:h}=s||{},m,A,g;for(m=0;m<=u;++m)A=i[(c+(h?u-m:m))%o],!A.skip&&(f?(e.moveTo(A.x,A.y),f=!1):d(e,g,A,h,a.stepped),g=A);return l&&(A=i[(c+(h?u:0))%o],d(e,g,A,h,a.stepped)),!!l}function VPe(e,t,n,s){const i=t.points,{count:a,start:o,ilen:c}=TG(i,n,s),{move:l=!0,reverse:u}=s||{};let d=0,f=0,h,m,A,g,p,b;const x=y=>(o+(u?c-y:y))%a,v=()=>{g!==p&&(e.lineTo(d,p),e.lineTo(d,g),e.lineTo(d,b))};for(l&&(m=i[x(0)],e.moveTo(m.x,m.y)),h=0;h<=c;++h){if(m=i[x(h)],m.skip)continue;const y=m.x,N=m.y,P=y|0;P===A?(N<g?g=N:N>p&&(p=N),d=(f*d+y)/++f):(v(),e.lineTo(y,N),A=P,f=0,g=p=N),b=N}v()}function QS(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?VPe:zPe}function KPe(e){return e.stepped?zEe:e.tension||e.cubicInterpolationMode==="monotone"?VEe:bd}function GPe(e,t,n,s){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,s)&&i.closePath()),SG(e,t.options),e.stroke(i)}function WPe(e,t,n,s){const{segments:i,options:a}=t,o=QS(t);for(const c of i)SG(e,a,c.style),e.beginPath(),o(e,t,c,{start:n,end:n+s-1})&&e.closePath(),e.stroke()}const qPe=typeof Path2D=="function";function XPe(e,t,n,s){qPe&&!t.options.segment?GPe(e,t,n,s):WPe(e,t,n,s)}class Jo extends bc{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;OEe(this._points,s,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=YEe(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,s=t.length;return s&&n[t[s-1].end]}interpolate(t,n){const s=this.options,i=t[n],a=this.points,o=hG(this,{property:n,start:i,end:i});if(!o.length)return;const c=[],l=KPe(s);let u,d;for(u=0,d=o.length;u<d;++u){const{start:f,end:h}=o[u],m=a[f],A=a[h];if(m===A){c.push(m);continue}const g=Math.abs((i-m[n])/(A[n]-m[n])),p=l(m,A,g,s.stepped);p[n]=t[n],c.push(p)}return c.length===1?c[0]:c}pathSegment(t,n,s){return QS(this)(t,this,n,s)}path(t,n,s){const i=this.segments,a=QS(this);let o=this._loop;n=n||0,s=s||this.points.length-n;for(const c of i)o&=a(t,this,c,{start:n,end:n+s-1});return!!o}draw(t,n,s,i){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),XPe(t,this,s,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}gt(Jo,"id","line"),gt(Jo,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),gt(Jo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),gt(Jo,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function jM(e,t,n,s){const i=e.options,{[n]:a}=e.getProps([n],s);return Math.abs(t-a)<i.radius+i.hitRadius}class If extends bc{constructor(n){super();gt(this,"parsed");gt(this,"skip");gt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,i){const a=this.options,{x:o,y:c}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(s-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(n,s){return jM(this,n,"x",s)}inYRange(n,s){return jM(this,n,"y",s)}getCenterPoint(n){const{x:s,y:i}=this.getProps(["x","y"],n);return{x:s,y:i}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const i=s&&n.borderWidth||0;return(s+i)*2}draw(n,s){const i=this.options;this.skip||i.radius<.1||!Kl(this,s,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,US(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}gt(If,"id","point"),gt(If,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),gt(If,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function kG(e,t){const{x:n,y:s,base:i,width:a,height:o}=e.getProps(["x","y","base","width","height"],t);let c,l,u,d,f;return e.horizontal?(f=o/2,c=Math.min(n,i),l=Math.max(n,i),u=s-f,d=s+f):(f=a/2,c=n-f,l=n+f,u=Math.min(s,i),d=Math.max(s,i)),{left:c,top:u,right:l,bottom:d}}function au(e,t,n,s){return e?0:Ls(t,n,s)}function YPe(e,t,n){const s=e.options.borderWidth,i=e.borderSkipped,a=tG(s);return{t:au(i.top,a.top,0,n),r:au(i.right,a.right,0,t),b:au(i.bottom,a.bottom,0,n),l:au(i.left,a.left,0,t)}}function ZPe(e,t,n){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,a=Ud(i),o=Math.min(t,n),c=e.borderSkipped,l=s||Fn(i);return{topLeft:au(!l||c.top||c.left,a.topLeft,0,o),topRight:au(!l||c.top||c.right,a.topRight,0,o),bottomLeft:au(!l||c.bottom||c.left,a.bottomLeft,0,o),bottomRight:au(!l||c.bottom||c.right,a.bottomRight,0,o)}}function JPe(e){const t=kG(e),n=t.right-t.left,s=t.bottom-t.top,i=YPe(e,n/2,s/2),a=ZPe(e,n/2,s/2);return{outer:{x:t.left,y:t.top,w:n,h:s,radius:a},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function xC(e,t,n,s){const i=t===null,a=n===null,c=e&&!(i&&a)&&kG(e,s);return c&&(i||zl(t,c.left,c.right))&&(a||zl(n,c.top,c.bottom))}function eMe(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function tMe(e,t){e.rect(t.x,t.y,t.w,t.h)}function bC(e,t,n={}){const s=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,a=(e.x+e.w!==n.x+n.w?t:0)-s,o=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+s,y:e.y+i,w:e.w+a,h:e.h+o,radius:e.radius}}class Of extends bc{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:s,backgroundColor:i}}=this,{inner:a,outer:o}=JPe(this),c=eMe(o.radius)?Og:tMe;t.save(),(o.w!==a.w||o.h!==a.h)&&(t.beginPath(),c(t,bC(o,n,a)),t.clip(),c(t,bC(a,-n,o)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),c(t,bC(a,n)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,n,s){return xC(this,t,n,s)}inXRange(t,n){return xC(this,t,null,n)}inYRange(t,n){return xC(this,null,t,n)}getCenterPoint(t){const{x:n,y:s,base:i,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(n+i)/2:n,y:a?s:(s+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}gt(Of,"id","bar"),gt(Of,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),gt(Of,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var nMe=Object.freeze({__proto__:null,ArcElement:iu,BarElement:Of,LineElement:Jo,PointElement:If});const zS=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],CM=zS.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function _G(e){return zS[e%zS.length]}function BG(e){return CM[e%CM.length]}function rMe(e,t){return e.borderColor=_G(t),e.backgroundColor=BG(t),++t}function sMe(e,t){return e.backgroundColor=e.data.map(()=>_G(t++)),t}function iMe(e,t){return e.backgroundColor=e.data.map(()=>BG(t++)),t}function aMe(e){let t=0;return(n,s)=>{const i=e.getDatasetMeta(s).controller;i instanceof Sd?t=sMe(n,t):i instanceof MA?t=iMe(n,t):i&&(t=rMe(n,t))}}function NM(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function oMe(e){return e&&(e.borderColor||e.backgroundColor)}function lMe(){return $r.borderColor!=="rgba(0,0,0,0.1)"||$r.backgroundColor!=="rgba(0,0,0,0.1)"}var cMe={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:s},options:i}=e.config,{elements:a}=i,o=NM(s)||oMe(i)||a&&NM(a)||lMe();if(!n.forceOverride&&o)return;const c=aMe(e);s.forEach(c)}};function uMe(e,t,n,s,i){const a=i.samples||s;if(a>=n)return e.slice(t,t+n);const o=[],c=(n-2)/(a-2);let l=0;const u=t+n-1;let d=t,f,h,m,A,g;for(o[l++]=e[d],f=0;f<a-2;f++){let p=0,b=0,x;const v=Math.floor((f+1)*c)+1+t,y=Math.min(Math.floor((f+2)*c)+1,n)+t,N=y-v;for(x=v;x<y;x++)p+=e[x].x,b+=e[x].y;p/=N,b/=N;const P=Math.floor(f*c)+1+t,M=Math.min(Math.floor((f+1)*c)+1,n)+t,{x:k,y:D}=e[d];for(m=A=-1,x=P;x<M;x++)A=.5*Math.abs((k-p)*(e[x].y-D)-(k-e[x].x)*(b-D)),A>m&&(m=A,h=e[x],g=x);o[l++]=h,d=g}return o[l++]=e[u],o}function dMe(e,t,n,s){let i=0,a=0,o,c,l,u,d,f,h,m,A,g;const p=[],b=t+n-1,x=e[t].x,y=e[b].x-x;for(o=t;o<t+n;++o){c=e[o],l=(c.x-x)/y*s,u=c.y;const N=l|0;if(N===d)u<A?(A=u,f=o):u>g&&(g=u,h=o),i=(a*i+c.x)/++a;else{const P=o-1;if(!Dn(f)&&!Dn(h)){const M=Math.min(f,h),k=Math.max(f,h);M!==m&&M!==P&&p.push({...e[M],x:i}),k!==m&&k!==P&&p.push({...e[k],x:i})}o>0&&P!==m&&p.push(e[P]),p.push(c),d=N,a=0,A=g=u,f=h=m=o}}return p}function EG(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function SM(e){e.data.datasets.forEach(t=>{EG(t)})}function hMe(e,t){const n=t.length;let s=0,i;const{iScale:a}=e,{min:o,max:c,minDefined:l,maxDefined:u}=a.getUserBounds();return l&&(s=Ls(Vl(t,a.axis,o).lo,0,n-1)),u?i=Ls(Vl(t,a.axis,c).hi+1,s,n)-s:i=n-s,{start:s,count:i}}var fMe={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){SM(e);return}const s=e.width;e.data.datasets.forEach((i,a)=>{const{_data:o,indexAxis:c}=i,l=e.getDatasetMeta(a),u=o||i.data;if(eA([c,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const d=e.scales[l.xAxisID];if(d.type!=="linear"&&d.type!=="time"||e.options.parsing)return;let{start:f,count:h}=hMe(l,u);const m=n.threshold||4*s;if(h<=m){EG(i);return}Dn(o)&&(i._data=u,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let A;switch(n.algorithm){case"lttb":A=uMe(u,f,h,s,n);break;case"min-max":A=dMe(u,f,h,s);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=A})},destroy(e){SM(e)}};function mMe(e,t,n){const s=e.segments,i=e.points,a=t.points,o=[];for(const c of s){let{start:l,end:u}=c;u=a2(l,u,i);const d=VS(n,i[l],i[u],c.loop);if(!t.segments){o.push({source:c,target:d,start:i[l],end:i[u]});continue}const f=hG(t,d);for(const h of f){const m=VS(n,a[h.start],a[h.end],h.loop),A=dG(c,i,m);for(const g of A)o.push({source:g,target:h,start:{[n]:TM(d,m,"start",Math.max)},end:{[n]:TM(d,m,"end",Math.min)}})}}return o}function VS(e,t,n,s){if(s)return;let i=t[e],a=n[e];return e==="angle"&&(i=si(i),a=si(a)),{property:e,start:i,end:a}}function pMe(e,t){const{x:n=null,y:s=null}=e||{},i=t.points,a=[];return t.segments.forEach(({start:o,end:c})=>{c=a2(o,c,i);const l=i[o],u=i[c];s!==null?(a.push({x:l.x,y:s}),a.push({x:u.x,y:s})):n!==null&&(a.push({x:n,y:l.y}),a.push({x:n,y:u.y}))}),a}function a2(e,t,n){for(;t>e;t--){const s=n[t];if(!isNaN(s.x)&&!isNaN(s.y))break}return t}function TM(e,t,n,s){return e&&t?s(e[n],t[n]):e?e[n]:t?t[n]:0}function PG(e,t){let n=[],s=!1;return Fr(e)?(s=!0,n=e):n=pMe(e,t),n.length?new Jo({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function kM(e){return e&&e.fill!==!1}function AMe(e,t,n){let i=e[t].fill;const a=[t];let o;if(!n)return i;for(;i!==!1&&a.indexOf(i)===-1;){if(!ns(i))return i;if(o=e[i],!o)return!1;if(o.visible)return i;a.push(i),i=o.fill}return!1}function gMe(e,t,n){const s=yMe(e);if(Fn(s))return isNaN(s.value)?!1:s;let i=parseFloat(s);return ns(i)&&Math.floor(i)===i?xMe(s[0],t,i,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function xMe(e,t,n,s){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=s?!1:n}function bMe(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:Fn(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function vMe(e,t,n){let s;return e==="start"?s=n:e==="end"?s=t.options.reverse?t.min:t.max:Fn(e)?s=e.value:s=t.getBaseValue(),s}function yMe(e){const t=e.options,n=t.fill;let s=vn(n&&n.target,n);return s===void 0&&(s=!!t.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function wMe(e){const{scale:t,index:n,line:s}=e,i=[],a=s.segments,o=s.points,c=jMe(t,n);c.push(PG({x:null,y:t.bottom},s));for(let l=0;l<a.length;l++){const u=a[l];for(let d=u.start;d<=u.end;d++)CMe(i,o[d],c)}return new Jo({points:i,options:{}})}function jMe(e,t){const n=[],s=e.getMatchingVisibleMetas("line");for(let i=0;i<s.length;i++){const a=s[i];if(a.index===t)break;a.hidden||n.unshift(a.dataset)}return n}function CMe(e,t,n){const s=[];for(let i=0;i<n.length;i++){const a=n[i],{first:o,last:c,point:l}=NMe(a,t,"x");if(!(!l||o&&c)){if(o)s.unshift(l);else if(e.push(l),!c)break}}e.push(...s)}function NMe(e,t,n){const s=e.interpolate(t,n);if(!s)return{};const i=s[n],a=e.segments,o=e.points;let c=!1,l=!1;for(let u=0;u<a.length;u++){const d=a[u],f=o[d.start][n],h=o[d.end][n];if(zl(i,f,h)){c=i===f,l=i===h;break}}return{first:c,last:l,point:s}}class MG{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,s){const{x:i,y:a,radius:o}=this;return n=n||{start:0,end:Pr},t.arc(i,a,o,n.end,n.start,!0),!s.bounds}interpolate(t){const{x:n,y:s,radius:i}=this,a=t.angle;return{x:n+Math.cos(a)*i,y:s+Math.sin(a)*i,angle:a}}}function SMe(e){const{chart:t,fill:n,line:s}=e;if(ns(n))return TMe(t,n);if(n==="stack")return wMe(e);if(n==="shape")return!0;const i=kMe(e);return i instanceof MG?i:PG(i,s)}function TMe(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function kMe(e){return(e.scale||{}).getPointPositionForValue?BMe(e):_Me(e)}function _Me(e){const{scale:t={},fill:n}=e,s=bMe(n,t);if(ns(s)){const i=t.isHorizontal();return{x:i?s:null,y:i?null:s}}return null}function BMe(e){const{scale:t,fill:n}=e,s=t.options,i=t.getLabels().length,a=s.reverse?t.max:t.min,o=vMe(n,t,a),c=[];if(s.grid.circular){const l=t.getPointPositionForValue(0,a);return new MG({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)c.push(t.getPointPositionForValue(l,o));return c}function vC(e,t,n){const s=SMe(t),{chart:i,index:a,line:o,scale:c,axis:l}=t,u=o.options,d=u.fill,f=u.backgroundColor,{above:h=f,below:m=f}=d||{},A=i.getDatasetMeta(a),g=fG(i,A);s&&o.points.length&&(n2(e,n),EMe(e,{line:o,target:s,above:h,below:m,area:n,scale:c,axis:l,clip:g}),r2(e))}function EMe(e,t){const{line:n,target:s,above:i,below:a,area:o,scale:c,clip:l}=t,u=n._loop?"angle":t.axis;e.save();let d=a;a!==i&&(u==="x"?(_M(e,s,o.top),yC(e,{line:n,target:s,color:i,scale:c,property:u,clip:l}),e.restore(),e.save(),_M(e,s,o.bottom)):u==="y"&&(BM(e,s,o.left),yC(e,{line:n,target:s,color:a,scale:c,property:u,clip:l}),e.restore(),e.save(),BM(e,s,o.right),d=i)),yC(e,{line:n,target:s,color:d,scale:c,property:u,clip:l}),e.restore()}function _M(e,t,n){const{segments:s,points:i}=t;let a=!0,o=!1;e.beginPath();for(const c of s){const{start:l,end:u}=c,d=i[l],f=i[a2(l,u,i)];a?(e.moveTo(d.x,d.y),a=!1):(e.lineTo(d.x,n),e.lineTo(d.x,d.y)),o=!!t.pathSegment(e,c,{move:o}),o?e.closePath():e.lineTo(f.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function BM(e,t,n){const{segments:s,points:i}=t;let a=!0,o=!1;e.beginPath();for(const c of s){const{start:l,end:u}=c,d=i[l],f=i[a2(l,u,i)];a?(e.moveTo(d.x,d.y),a=!1):(e.lineTo(n,d.y),e.lineTo(d.x,d.y)),o=!!t.pathSegment(e,c,{move:o}),o?e.closePath():e.lineTo(n,f.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function yC(e,t){const{line:n,target:s,property:i,color:a,scale:o,clip:c}=t,l=mMe(n,s,i);for(const{source:u,target:d,start:f,end:h}of l){const{style:{backgroundColor:m=a}={}}=u,A=s!==!0;e.save(),e.fillStyle=m,PMe(e,o,c,A&&VS(i,f,h)),e.beginPath();const g=!!n.pathSegment(e,u);let p;if(A){g?e.closePath():EM(e,s,h,i);const b=!!s.pathSegment(e,d,{move:g,reverse:!0});p=g&&b,p||EM(e,s,f,i)}e.closePath(),e.fill(p?"evenodd":"nonzero"),e.restore()}}function PMe(e,t,n,s){const i=t.chart.chartArea,{property:a,start:o,end:c}=s||{};if(a==="x"||a==="y"){let l,u,d,f;a==="x"?(l=o,u=i.top,d=c,f=i.bottom):(l=i.left,u=o,d=i.right,f=c),e.beginPath(),n&&(l=Math.max(l,n.left),d=Math.min(d,n.right),u=Math.max(u,n.top),f=Math.min(f,n.bottom)),e.rect(l,u,d-l,f-u),e.clip()}}function EM(e,t,n,s){const i=t.interpolate(n,s);i&&e.lineTo(i.x,i.y)}var MMe={id:"filler",afterDatasetsUpdate(e,t,n){const s=(e.data.datasets||[]).length,i=[];let a,o,c,l;for(o=0;o<s;++o)a=e.getDatasetMeta(o),c=a.dataset,l=null,c&&c.options&&c instanceof Jo&&(l={visible:e.isDatasetVisible(o),index:o,fill:gMe(c,o,s),chart:e,axis:a.controller.options.indexAxis,scale:a.vScale,line:c}),a.$filler=l,i.push(l);for(o=0;o<s;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=AMe(i,o,n.propagate))},beforeDraw(e,t,n){const s=n.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),a=e.chartArea;for(let o=i.length-1;o>=0;--o){const c=i[o].$filler;c&&(c.line.updateControlPoints(a,c.axis),s&&c.fill&&vC(e.ctx,c,a))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=e.getSortedVisibleDatasetMetas();for(let i=s.length-1;i>=0;--i){const a=s[i].$filler;kM(a)&&vC(e.ctx,a,e.chartArea)}},beforeDatasetDraw(e,t,n){const s=t.meta.$filler;!kM(s)||n.drawTime!=="beforeDatasetDraw"||vC(e.ctx,s,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const PM=(e,t)=>{let{boxHeight:n=t,boxWidth:s=t}=e;return e.usePointStyle&&(n=Math.min(n,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}},DMe=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class MM extends bc{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,s){this.maxWidth=t,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=xr(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(s=>t.filter(s,this.chart.data))),t.sort&&(n=n.sort((s,i)=>t.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,i=Ts(s.font),a=i.size,o=this._computeTitleHeight(),{boxWidth:c,itemHeight:l}=PM(s,a);let u,d;n.font=i.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(o,a,c,l)+10):(d=this.maxHeight,u=this._fitCols(o,i,c,l)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,n,s,i){const{ctx:a,maxWidth:o,options:{labels:{padding:c}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],d=i+c;let f=t;a.textAlign="left",a.textBaseline="middle";let h=-1,m=-d;return this.legendItems.forEach((A,g)=>{const p=s+n/2+a.measureText(A.text).width;(g===0||u[u.length-1]+p+2*c>o)&&(f+=d,u[u.length-(g>0?0:1)]=0,m+=d,h++),l[g]={left:0,top:m,row:h,width:p,height:i},u[u.length-1]+=p+c}),f}_fitCols(t,n,s,i){const{ctx:a,maxHeight:o,options:{labels:{padding:c}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],d=o-t;let f=c,h=0,m=0,A=0,g=0;return this.legendItems.forEach((p,b)=>{const{itemWidth:x,itemHeight:v}=IMe(s,n,a,p,i);b>0&&m+v+2*c>d&&(f+=h+c,u.push({width:h,height:m}),A+=h+c,g++,h=m=0),l[b]={left:A,top:m,col:g,width:x,height:v},h=Math.max(h,x),m+=v+c}),f+=h,u.push({width:h,height:m}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:a}}=this,o=Df(a,this.left,this.width);if(this.isHorizontal()){let c=0,l=ri(s,this.left+i,this.right-this.lineWidths[c]);for(const u of n)c!==u.row&&(c=u.row,l=ri(s,this.left+i,this.right-this.lineWidths[c])),u.top+=this.top+t+i,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+i}else{let c=0,l=ri(s,this.top+t+i,this.bottom-this.columnSizes[c].height);for(const u of n)u.col!==c&&(c=u.col,l=ri(s,this.top+t+i,this.bottom-this.columnSizes[c].height)),u.top=l,u.left+=this.left+i,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;n2(t,this),this._draw(),r2(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:s,ctx:i}=this,{align:a,labels:o}=t,c=$r.color,l=Df(t.rtl,this.left,this.width),u=Ts(o.font),{padding:d}=o,f=u.size,h=f/2;let m;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:A,boxHeight:g,itemHeight:p}=PM(o,f),b=function(P,M,k){if(isNaN(A)||A<=0||isNaN(g)||g<0)return;i.save();const D=vn(k.lineWidth,1);if(i.fillStyle=vn(k.fillStyle,c),i.lineCap=vn(k.lineCap,"butt"),i.lineDashOffset=vn(k.lineDashOffset,0),i.lineJoin=vn(k.lineJoin,"miter"),i.lineWidth=D,i.strokeStyle=vn(k.strokeStyle,c),i.setLineDash(vn(k.lineDash,[])),o.usePointStyle){const O={radius:g*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:D},L=l.xPlus(P,A/2),F=M+h;eG(i,O,L,F,o.pointStyleWidth&&A)}else{const O=M+Math.max((f-g)/2,0),L=l.leftForLtr(P,A),F=Ud(k.borderRadius);i.beginPath(),Object.values(F).some(_=>_!==0)?Og(i,{x:L,y:O,w:A,h:g,radius:F}):i.rect(L,O,A,g),i.fill(),D!==0&&i.stroke()}i.restore()},x=function(P,M,k){xh(i,k.text,P,M+p/2,u,{strikethrough:k.hidden,textAlign:l.textAlign(k.textAlign)})},v=this.isHorizontal(),y=this._computeTitleHeight();v?m={x:ri(a,this.left+d,this.right-s[0]),y:this.top+d+y,line:0}:m={x:this.left+d,y:ri(a,this.top+y+d,this.bottom-n[0].height),line:0},lG(this.ctx,t.textDirection);const N=p+d;this.legendItems.forEach((P,M)=>{i.strokeStyle=P.fontColor,i.fillStyle=P.fontColor;const k=i.measureText(P.text).width,D=l.textAlign(P.textAlign||(P.textAlign=o.textAlign)),O=A+h+k;let L=m.x,F=m.y;l.setWidth(this.width),v?M>0&&L+O+d>this.right&&(F=m.y+=N,m.line++,L=m.x=ri(a,this.left+d,this.right-s[m.line])):M>0&&F+N>this.bottom&&(L=m.x=L+n[m.line].width+d,m.line++,F=m.y=ri(a,this.top+y+d,this.bottom-n[m.line].height));const _=l.x(L);if(b(_,F,P),L=eEe(D,L+A+h,v?L+O:this.right,t.rtl),x(l.x(L),F,P),v)m.x+=O+d;else if(typeof P.text!="string"){const E=u.lineHeight;m.y+=DG(P,E)+d}else m.y+=N}),cG(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,s=Ts(n.font),i=fi(n.padding);if(!n.display)return;const a=Df(t.rtl,this.left,this.width),o=this.ctx,c=n.position,l=s.size/2,u=i.top+l;let d,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+u,f=ri(t.align,f,this.right-h);else{const A=this.columnSizes.reduce((g,p)=>Math.max(g,p.height),0);d=u+ri(t.align,this.top,this.bottom-A-t.labels.padding-this._computeTitleHeight())}const m=ri(c,f,f+h);o.textAlign=a.textAlign(Uk(c)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,xh(o,n.text,m,d,s)}_computeTitleHeight(){const t=this.options.title,n=Ts(t.font),s=fi(t.padding);return t.display?n.lineHeight+s.height:0}_getLegendItemAt(t,n){let s,i,a;if(zl(t,this.left,this.right)&&zl(n,this.top,this.bottom)){for(a=this.legendHitBoxes,s=0;s<a.length;++s)if(i=a[s],zl(t,i.left,i.left+i.width)&&zl(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(t){const n=this.options;if(!FMe(t.type,n))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,a=DMe(i,s);i&&!a&&xr(n.onLeave,[t,i,this],this),this._hoveredItem=s,s&&!a&&xr(n.onHover,[t,s,this],this)}else s&&xr(n.onClick,[t,s,this],this)}}function IMe(e,t,n,s,i){const a=OMe(s,e,t,n),o=LMe(i,s,t.lineHeight);return{itemWidth:a,itemHeight:o}}function OMe(e,t,n,s){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((a,o)=>a.length>o.length?a:o)),t+n.size/2+s.measureText(i).width}function LMe(e,t,n){let s=e;return typeof t.text!="string"&&(s=DG(t,n)),s}function DG(e,t){const n=e.text?e.text.length:0;return t*n}function FMe(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var I0={id:"legend",_element:MM,start(e,t,n){const s=e.legend=new MM({ctx:e.ctx,options:n,chart:e});ci.configure(e,s,n),ci.addBox(e,s)},stop(e){ci.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const s=e.legend;ci.configure(e,s,n),s.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const s=t.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),t.hidden=!0):(i.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:a,useBorderRadius:o,borderRadius:c}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),d=fi(u.borderWidth);return{text:t[l.index].label,fillStyle:u.backgroundColor,fontColor:a,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:s||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:o&&(c||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class qk extends bc{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const i=Fr(s.text)?s.text.length:1;this._padding=fi(s.padding);const a=i*Ts(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:s,bottom:i,right:a,options:o}=this,c=o.align;let l=0,u,d,f;return this.isHorizontal()?(d=ri(c,s,a),f=n+t,u=a-s):(o.position==="left"?(d=s+t,f=ri(c,i,n),l=Yn*-.5):(d=a-t,f=ri(c,n,i),l=Yn*.5),u=i-n),{titleX:d,titleY:f,maxWidth:u,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const s=Ts(n.font),a=s.lineHeight/2+this._padding.top,{titleX:o,titleY:c,maxWidth:l,rotation:u}=this._drawArgs(a);xh(t,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:u,textAlign:Uk(n.align),textBaseline:"middle",translation:[o,c]})}}function RMe(e,t){const n=new qk({ctx:e.ctx,options:t,chart:e});ci.configure(e,n,t),ci.addBox(e,n),e.titleBlock=n}var Xk={id:"title",_element:qk,start(e,t,n){RMe(e,n)},stop(e){const t=e.titleBlock;ci.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const s=e.titleBlock;ci.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Gx=new WeakMap;var UMe={id:"subtitle",start(e,t,n){const s=new qk({ctx:e.ctx,options:n,chart:e});ci.configure(e,s,n),ci.addBox(e,s),Gx.set(e,s)},stop(e){ci.removeBox(e,Gx.get(e)),Gx.delete(e)},beforeUpdate(e,t,n){const s=Gx.get(e);ci.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const nA={average(e){if(!e.length)return!1;let t,n,s=new Set,i=0,a=0;for(t=0,n=e.length;t<n;++t){const c=e[t].element;if(c&&c.hasValue()){const l=c.tooltipPosition();s.add(l.x),i+=l.y,++a}}return a===0||s.size===0?!1:{x:[...s].reduce((c,l)=>c+l)/s.size,y:i/a}},nearest(e,t){if(!e.length)return!1;let n=t.x,s=t.y,i=Number.POSITIVE_INFINITY,a,o,c;for(a=0,o=e.length;a<o;++a){const l=e[a].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),d=FS(t,u);d<i&&(i=d,c=l)}}if(c){const l=c.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function Io(e,t){return t&&(Fr(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Ol(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function HMe(e,t){const{element:n,datasetIndex:s,index:i}=t,a=e.getDatasetMeta(s).controller,{label:o,value:c}=a.getLabelAndValue(i);return{chart:e,label:o,parsed:a.getParsed(i),raw:e.data.datasets[s].data[i],formattedValue:c,dataset:a.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function DM(e,t){const n=e.chart.ctx,{body:s,footer:i,title:a}=e,{boxWidth:o,boxHeight:c}=t,l=Ts(t.bodyFont),u=Ts(t.titleFont),d=Ts(t.footerFont),f=a.length,h=i.length,m=s.length,A=fi(t.padding);let g=A.height,p=0,b=s.reduce((y,N)=>y+N.before.length+N.lines.length+N.after.length,0);if(b+=e.beforeBody.length+e.afterBody.length,f&&(g+=f*u.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),b){const y=t.displayColors?Math.max(c,l.lineHeight):l.lineHeight;g+=m*y+(b-m)*l.lineHeight+(b-1)*t.bodySpacing}h&&(g+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let x=0;const v=function(y){p=Math.max(p,n.measureText(y).width+x)};return n.save(),n.font=u.string,lr(e.title,v),n.font=l.string,lr(e.beforeBody.concat(e.afterBody),v),x=t.displayColors?o+2+t.boxPadding:0,lr(s,y=>{lr(y.before,v),lr(y.lines,v),lr(y.after,v)}),x=0,n.font=d.string,lr(e.footer,v),n.restore(),p+=A.width,{width:p,height:g}}function $Me(e,t){const{y:n,height:s}=t;return n<s/2?"top":n>e.height-s/2?"bottom":"center"}function QMe(e,t,n,s){const{x:i,width:a}=s,o=n.caretSize+n.caretPadding;if(e==="left"&&i+a+o>t.width||e==="right"&&i-a-o<0)return!0}function zMe(e,t,n,s){const{x:i,width:a}=n,{width:o,chartArea:{left:c,right:l}}=e;let u="center";return s==="center"?u=i<=(c+l)/2?"left":"right":i<=a/2?u="left":i>=o-a/2&&(u="right"),QMe(u,e,t,n)&&(u="center"),u}function IM(e,t,n){const s=n.yAlign||t.yAlign||$Me(e,n);return{xAlign:n.xAlign||t.xAlign||zMe(e,t,n,s),yAlign:s}}function VMe(e,t){let{x:n,width:s}=e;return t==="right"?n-=s:t==="center"&&(n-=s/2),n}function KMe(e,t,n){let{y:s,height:i}=e;return t==="top"?s+=n:t==="bottom"?s-=i+n:s-=i/2,s}function OM(e,t,n,s){const{caretSize:i,caretPadding:a,cornerRadius:o}=e,{xAlign:c,yAlign:l}=n,u=i+a,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:m}=Ud(o);let A=VMe(t,c);const g=KMe(t,l,u);return l==="center"?c==="left"?A+=u:c==="right"&&(A-=u):c==="left"?A-=Math.max(d,h)+i:c==="right"&&(A+=Math.max(f,m)+i),{x:Ls(A,0,s.width-t.width),y:Ls(g,0,s.height-t.height)}}function Wx(e,t,n){const s=fi(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function LM(e){return Io([],Ol(e))}function GMe(e,t,n){return ed(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function FM(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const IG={beforeTitle:Sl,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:Sl,beforeBody:Sl,beforeLabel:Sl,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Dn(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Sl,afterBody:Sl,beforeFooter:Sl,footer:Sl,afterFooter:Sl};function Li(e,t,n,s){const i=e[t].call(n,s);return typeof i>"u"?IG[t].call(n,s):i}class KS extends bc{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,a=new mG(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=GMe(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:s}=n,i=Li(s,"beforeTitle",this,t),a=Li(s,"title",this,t),o=Li(s,"afterTitle",this,t);let c=[];return c=Io(c,Ol(i)),c=Io(c,Ol(a)),c=Io(c,Ol(o)),c}getBeforeBody(t,n){return LM(Li(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:s}=n,i=[];return lr(t,a=>{const o={before:[],lines:[],after:[]},c=FM(s,a);Io(o.before,Ol(Li(c,"beforeLabel",this,a))),Io(o.lines,Li(c,"label",this,a)),Io(o.after,Ol(Li(c,"afterLabel",this,a))),i.push(o)}),i}getAfterBody(t,n){return LM(Li(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:s}=n,i=Li(s,"beforeFooter",this,t),a=Li(s,"footer",this,t),o=Li(s,"afterFooter",this,t);let c=[];return c=Io(c,Ol(i)),c=Io(c,Ol(a)),c=Io(c,Ol(o)),c}_createItems(t){const n=this._active,s=this.chart.data,i=[],a=[],o=[];let c=[],l,u;for(l=0,u=n.length;l<u;++l)c.push(HMe(this.chart,n[l]));return t.filter&&(c=c.filter((d,f,h)=>t.filter(d,f,h,s))),t.itemSort&&(c=c.sort((d,f)=>t.itemSort(d,f,s))),lr(c,d=>{const f=FM(t.callbacks,d);i.push(Li(f,"labelColor",this,d)),a.push(Li(f,"labelPointStyle",this,d)),o.push(Li(f,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=o,this.dataPoints=c,c}update(t,n){const s=this.options.setContext(this.getContext()),i=this._active;let a,o=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{const c=nA[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=DM(this,s),u=Object.assign({},c,l),d=IM(this.chart,s,u),f=OM(s,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,a={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}this._tooltipItems=o,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,s,i){const a=this.getCaretPosition(t,s,i);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(t,n,s){const{xAlign:i,yAlign:a}=this,{caretSize:o,cornerRadius:c}=s,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:f}=Ud(c),{x:h,y:m}=t,{width:A,height:g}=n;let p,b,x,v,y,N;return a==="center"?(y=m+g/2,i==="left"?(p=h,b=p-o,v=y+o,N=y-o):(p=h+A,b=p+o,v=y-o,N=y+o),x=p):(i==="left"?b=h+Math.max(l,d)+o:i==="right"?b=h+A-Math.max(u,f)-o:b=this.caretX,a==="top"?(v=m,y=v-o,p=b-o,x=b+o):(v=m+g,y=v+o,p=b+o,x=b-o),N=v),{x1:p,x2:b,x3:x,y1:v,y2:y,y3:N}}drawTitle(t,n,s){const i=this.title,a=i.length;let o,c,l;if(a){const u=Df(s.rtl,this.x,this.width);for(t.x=Wx(this,s.titleAlign,s),n.textAlign=u.textAlign(s.titleAlign),n.textBaseline="middle",o=Ts(s.titleFont),c=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,l=0;l<a;++l)n.fillText(i[l],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+c,l+1===a&&(t.y+=s.titleMarginBottom-c)}}_drawColorBox(t,n,s,i,a){const o=this.labelColors[s],c=this.labelPointStyles[s],{boxHeight:l,boxWidth:u}=a,d=Ts(a.bodyFont),f=Wx(this,"left",a),h=i.x(f),m=l<d.lineHeight?(d.lineHeight-l)/2:0,A=n.y+m;if(a.usePointStyle){const g={radius:Math.min(u,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},p=i.leftForLtr(h,u)+u/2,b=A+l/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,US(t,g,p,b),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,US(t,g,p,b)}else{t.lineWidth=Fn(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const g=i.leftForLtr(h,u),p=i.leftForLtr(i.xPlus(h,1),u-2),b=Ud(o.borderRadius);Object.values(b).some(x=>x!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,Og(t,{x:g,y:A,w:u,h:l,radius:b}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Og(t,{x:p,y:A+1,w:u-2,h:l-2,radius:b}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(g,A,u,l),t.strokeRect(g,A,u,l),t.fillStyle=o.backgroundColor,t.fillRect(p,A+1,u-2,l-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,n,s){const{body:i}=this,{bodySpacing:a,bodyAlign:o,displayColors:c,boxHeight:l,boxWidth:u,boxPadding:d}=s,f=Ts(s.bodyFont);let h=f.lineHeight,m=0;const A=Df(s.rtl,this.x,this.width),g=function(k){n.fillText(k,A.x(t.x+m),t.y+h/2),t.y+=h+a},p=A.textAlign(o);let b,x,v,y,N,P,M;for(n.textAlign=o,n.textBaseline="middle",n.font=f.string,t.x=Wx(this,p,s),n.fillStyle=s.bodyColor,lr(this.beforeBody,g),m=c&&p!=="right"?o==="center"?u/2+d:u+2+d:0,y=0,P=i.length;y<P;++y){for(b=i[y],x=this.labelTextColors[y],n.fillStyle=x,lr(b.before,g),v=b.lines,c&&v.length&&(this._drawColorBox(n,t,y,A,s),h=Math.max(f.lineHeight,l)),N=0,M=v.length;N<M;++N)g(v[N]),h=f.lineHeight;lr(b.after,g)}m=0,h=f.lineHeight,lr(this.afterBody,g),t.y-=a}drawFooter(t,n,s){const i=this.footer,a=i.length;let o,c;if(a){const l=Df(s.rtl,this.x,this.width);for(t.x=Wx(this,s.footerAlign,s),t.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",o=Ts(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,c=0;c<a;++c)n.fillText(i[c],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+s.footerSpacing}}drawBackground(t,n,s,i){const{xAlign:a,yAlign:o}=this,{x:c,y:l}=t,{width:u,height:d}=s,{topLeft:f,topRight:h,bottomLeft:m,bottomRight:A}=Ud(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(c+f,l),o==="top"&&this.drawCaret(t,n,s,i),n.lineTo(c+u-h,l),n.quadraticCurveTo(c+u,l,c+u,l+h),o==="center"&&a==="right"&&this.drawCaret(t,n,s,i),n.lineTo(c+u,l+d-A),n.quadraticCurveTo(c+u,l+d,c+u-A,l+d),o==="bottom"&&this.drawCaret(t,n,s,i),n.lineTo(c+m,l+d),n.quadraticCurveTo(c,l+d,c,l+d-m),o==="center"&&a==="left"&&this.drawCaret(t,n,s,i),n.lineTo(c,l+f),n.quadraticCurveTo(c,l,c+f,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,s=this.$animations,i=s&&s.x,a=s&&s.y;if(i||a){const o=nA[t.position].call(this,this._active,this._eventPosition);if(!o)return;const c=this._size=DM(this,t),l=Object.assign({},o,this._size),u=IM(n,t,l),d=OM(t,l,u,n);(i._to!==d.x||a._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=c.width,this.height=c.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=fi(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(t.save(),t.globalAlpha=s,this.drawBackground(a,t,i,n),lG(t,n.textDirection),a.y+=o.top,this.drawTitle(a,t,n),this.drawBody(a,t,n),this.drawFooter(a,t,n),cG(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const s=this._active,i=t.map(({datasetIndex:c,index:l})=>{const u=this.chart.getDatasetMeta(c);if(!u)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:u.data[l],index:l}}),a=!Ky(s,i),o=this._positionChanged(i,n);(a||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],o=this._getActiveElements(t,a,n,s),c=this._positionChanged(o,t),l=n||!Ky(o,a)||c;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,s,i){const a=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,a.mode,a,s);return a.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:s,caretY:i,options:a}=this,o=nA[a.position].call(this,t,n);return o!==!1&&(s!==o.x||i!==o.y)}}gt(KS,"positioners",nA);var O0={id:"tooltip",_element:KS,positioners:nA,afterInit(e,t,n){n&&(e.tooltip=new KS({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:IG},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},WMe=Object.freeze({__proto__:null,Colors:cMe,Decimation:fMe,Filler:MMe,Legend:I0,SubTitle:UMe,Title:Xk,Tooltip:O0});const qMe=(e,t,n,s)=>(typeof t=="string"?(n=e.push(t)-1,s.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function XMe(e,t,n,s){const i=e.indexOf(t);if(i===-1)return qMe(e,t,n,s);const a=e.lastIndexOf(t);return i!==a?n:i}const YMe=(e,t)=>e===null?null:Ls(Math.round(e),0,t);function RM(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class bh extends Ph{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:a}of n)s[i]===a&&s.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Dn(t))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===t?n:XMe(s,t,vn(n,t),this._addedLabels),YMe(n,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const t=this.min,n=this.max,s=this.options.offset,i=[];let a=this.getLabels();a=t===0&&n===a.length-1?a:a.slice(t,n+1),this._valueRange=Math.max(a.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=t;o<=n;o++)i.push({value:o});return i}getLabelForValue(t){return RM.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}gt(bh,"id","category"),gt(bh,"defaults",{ticks:{callback:RM}});function ZMe(e,t){const n=[],{bounds:i,step:a,min:o,max:c,precision:l,count:u,maxTicks:d,maxDigits:f,includeBounds:h}=e,m=a||1,A=d-1,{min:g,max:p}=t,b=!Dn(o),x=!Dn(c),v=!Dn(u),y=(p-g)/(f+1);let N=DP((p-g)/A/m)*m,P,M,k,D;if(N<1e-14&&!b&&!x)return[{value:g},{value:p}];D=Math.ceil(p/N)-Math.floor(g/N),D>A&&(N=DP(D*N/A/m)*m),Dn(l)||(P=Math.pow(10,l),N=Math.ceil(N*P)/P),i==="ticks"?(M=Math.floor(g/N)*N,k=Math.ceil(p/N)*N):(M=g,k=p),b&&x&&a&&GBe((c-o)/a,N/1e3)?(D=Math.round(Math.min((c-o)/N,d)),N=(c-o)/D,M=o,k=c):v?(M=b?o:M,k=x?c:k,D=u-1,N=(k-M)/D):(D=(k-M)/N,kA(D,Math.round(D),N/1e3)?D=Math.round(D):D=Math.ceil(D));const O=Math.max(IP(N),IP(M));P=Math.pow(10,Dn(l)?O:l),M=Math.round(M*P)/P,k=Math.round(k*P)/P;let L=0;for(b&&(h&&M!==o?(n.push({value:o}),M<o&&L++,kA(Math.round((M+L*N)*P)/P,o,UM(o,y,e))&&L++):M<o&&L++);L<D;++L){const F=Math.round((M+L*N)*P)/P;if(x&&F>c)break;n.push({value:F})}return x&&h&&k!==c?n.length&&kA(n[n.length-1].value,c,UM(c,y,e))?n[n.length-1].value=c:n.push({value:c}):(!x||k===c)&&n.push({value:k}),n}function UM(e,t,{horizontal:n,minRotation:s}){const i=ho(s),a=(n?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/a,o)}class ew extends Ph{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Dn(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:a}=this;const o=l=>i=n?i:l,c=l=>a=s?a:l;if(t){const l=cl(i),u=cl(a);l<0&&u<0?c(0):l>0&&u>0&&o(0)}if(i===a){let l=a===0?1:Math.abs(a*.05);c(a+l),t||o(i-l)}this.min=i,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=t,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,o=ZMe(i,a);return t.bounds==="ticks"&&VK(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const i=(s-n)/Math.max(t.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(t){return D0(t,this.chart.options.locale,this.options.ticks.format)}}class vh extends ew{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=ns(t)?t:0,this.max=ns(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,s=ho(this.options.ticks.minRotation),i=(t?Math.sin(s):Math.cos(s))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}gt(vh,"id","linear"),gt(vh,"defaults",{ticks:{callback:t2.formatters.numeric}});const Fg=e=>Math.floor(su(e)),ld=(e,t)=>Math.pow(10,Fg(e)+t);function HM(e){return e/Math.pow(10,Fg(e))===1}function $M(e,t,n){const s=Math.pow(10,n),i=Math.floor(e/s);return Math.ceil(t/s)-i}function JMe(e,t){const n=t-e;let s=Fg(n);for(;$M(e,t,s)>10;)s++;for(;$M(e,t,s)<10;)s--;return Math.min(s,Fg(e))}function eDe(e,{min:t,max:n}){t=oa(e.min,t);const s=[],i=Fg(t);let a=JMe(t,n),o=a<0?Math.pow(10,Math.abs(a)):1;const c=Math.pow(10,a),l=i>a?Math.pow(10,i):0,u=Math.round((t-l)*o)/o,d=Math.floor((t-l)/c/10)*c*10;let f=Math.floor((u-d)/Math.pow(10,a)),h=oa(e.min,Math.round((l+d+f*Math.pow(10,a))*o)/o);for(;h<n;)s.push({value:h,major:HM(h),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(a++,f=2,o=a>=0?1:o),h=Math.round((l+d+f*Math.pow(10,a))*o)/o;const m=oa(e.max,h);return s.push({value:m,major:HM(m),significand:f}),s}class GS extends Ph{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const s=ew.prototype.parse.apply(this,[t,n]);if(s===0){this._zero=!0;return}return ns(s)&&s>0?s:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=ns(t)?Math.max(0,t):null,this.max=ns(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ns(this._userMin)&&(this.min=t===ld(this.min,0)?ld(this.min,-1):ld(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let s=this.min,i=this.max;const a=c=>s=t?s:c,o=c=>i=n?i:c;s===i&&(s<=0?(a(1),o(10)):(a(ld(s,-1)),o(ld(i,1)))),s<=0&&a(ld(i,-1)),i<=0&&o(ld(s,1)),this.min=s,this.max=i}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},s=eDe(n,this);return t.bounds==="ticks"&&VK(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(t){return t===void 0?"0":D0(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=su(t),this._valueRange=su(this.max)-su(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(su(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}gt(GS,"id","logarithmic"),gt(GS,"defaults",{ticks:{callback:t2.formatters.logarithmic,major:{enabled:!0}}});function WS(e){const t=e.ticks;if(t.display&&e.display){const n=fi(t.backdropPadding);return vn(t.font&&t.font.size,$r.font.size)+n.height}return 0}function tDe(e,t,n){return n=Fr(n)?n:[n],{w:uEe(e,t.string,n),h:n.length*t.lineHeight}}function QM(e,t,n,s,i){return e===s||e===i?{start:t-n/2,end:t+n/2}:e<s||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function nDe(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),s=[],i=[],a=e._pointLabels.length,o=e.options.pointLabels,c=o.centerPointLabels?Yn/a:0;for(let l=0;l<a;l++){const u=o.setContext(e.getPointLabelContext(l));i[l]=u.padding;const d=e.getPointPosition(l,e.drawingArea+i[l],c),f=Ts(u.font),h=tDe(e.ctx,f,e._pointLabels[l]);s[l]=h;const m=si(e.getIndexAngle(l)+c),A=Math.round(Fk(m)),g=QM(A,d.x,h.w,0,180),p=QM(A,d.y,h.h,90,270);rDe(n,t,m,g,p)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=aDe(e,s,i)}function rDe(e,t,n,s,i){const a=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let c=0,l=0;s.start<t.l?(c=(t.l-s.start)/a,e.l=Math.min(e.l,t.l-c)):s.end>t.r&&(c=(s.end-t.r)/a,e.r=Math.max(e.r,t.r+c)),i.start<t.t?(l=(t.t-i.start)/o,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function sDe(e,t,n){const s=e.drawingArea,{extra:i,additionalAngle:a,padding:o,size:c}=n,l=e.getPointPosition(t,s+i+o,a),u=Math.round(Fk(si(l.angle+us))),d=cDe(l.y,c.h,u),f=oDe(u),h=lDe(l.x,c.w,f);return{visible:!0,x:l.x,y:d,textAlign:f,left:h,top:d,right:h+c.w,bottom:d+c.h}}function iDe(e,t){if(!t)return!0;const{left:n,top:s,right:i,bottom:a}=e;return!(Kl({x:n,y:s},t)||Kl({x:n,y:a},t)||Kl({x:i,y:s},t)||Kl({x:i,y:a},t))}function aDe(e,t,n){const s=[],i=e._pointLabels.length,a=e.options,{centerPointLabels:o,display:c}=a.pointLabels,l={extra:WS(a)/2,additionalAngle:o?Yn/i:0};let u;for(let d=0;d<i;d++){l.padding=n[d],l.size=t[d];const f=sDe(e,d,l);s.push(f),c==="auto"&&(f.visible=iDe(f,u),f.visible&&(u=f))}return s}function oDe(e){return e===0||e===180?"center":e<180?"left":"right"}function lDe(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function cDe(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function uDe(e,t,n){const{left:s,top:i,right:a,bottom:o}=n,{backdropColor:c}=t;if(!Dn(c)){const l=Ud(t.borderRadius),u=fi(t.backdropPadding);e.fillStyle=c;const d=s-u.left,f=i-u.top,h=a-s+u.width,m=o-i+u.height;Object.values(l).some(A=>A!==0)?(e.beginPath(),Og(e,{x:d,y:f,w:h,h:m,radius:l}),e.fill()):e.fillRect(d,f,h,m)}}function dDe(e,t){const{ctx:n,options:{pointLabels:s}}=e;for(let i=t-1;i>=0;i--){const a=e._pointLabelItems[i];if(!a.visible)continue;const o=s.setContext(e.getPointLabelContext(i));uDe(n,o,a);const c=Ts(o.font),{x:l,y:u,textAlign:d}=a;xh(n,e._pointLabels[i],l,u+c.lineHeight/2,c,{color:o.color,textAlign:d,textBaseline:"middle"})}}function OG(e,t,n,s){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,Pr);else{let a=e.getPointPosition(0,t);i.moveTo(a.x,a.y);for(let o=1;o<s;o++)a=e.getPointPosition(o,t),i.lineTo(a.x,a.y)}}function hDe(e,t,n,s,i){const a=e.ctx,o=t.circular,{color:c,lineWidth:l}=t;!o&&!s||!c||!l||n<0||(a.save(),a.strokeStyle=c,a.lineWidth=l,a.setLineDash(i.dash||[]),a.lineDashOffset=i.dashOffset,a.beginPath(),OG(e,n,o,s),a.closePath(),a.stroke(),a.restore())}function fDe(e,t,n){return ed(e,{label:n,index:t,type:"pointLabel"})}class rA extends ew{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=fi(WS(this.options)/2),n=this.width=this.maxWidth-t.width,s=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+s/2+t.top),this.drawingArea=Math.floor(Math.min(n,s)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=ns(t)&&!isNaN(t)?t:0,this.max=ns(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/WS(this.options))}generateTickLabels(t){ew.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,s)=>{const i=xr(this.options.pointLabels.callback,[n,s],this);return i||i===0?i:""}).filter((n,s)=>this.chart.getDataVisibility(s))}fit(){const t=this.options;t.display&&t.pointLabels.display?nDe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,s,i){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((s-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,s,i))}getIndexAngle(t){const n=Pr/(this._pointLabels.length||1),s=this.options.startAngle||0;return si(t*n+ho(s))}getDistanceFromCenterForValue(t){if(Dn(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(Dn(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const s=n[t];return fDe(this.getContext(),t,s)}}getPointPosition(t,n,s=0){const i=this.getIndexAngle(t)-us+s;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:s,right:i,bottom:a}=this._pointLabelItems[t];return{left:n,top:s,right:i,bottom:a}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const s=this.ctx;s.save(),s.beginPath(),OG(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),s.closePath(),s.fillStyle=t,s.fill(),s.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:s,grid:i,border:a}=n,o=this._pointLabels.length;let c,l,u;if(n.pointLabels.display&&dDe(this,o),i.display&&this.ticks.forEach((d,f)=>{if(f!==0||f===0&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);const h=this.getContext(f),m=i.setContext(h),A=a.setContext(h);hDe(this,m,l,o,A)}}),s.display){for(t.save(),c=o-1;c>=0;c--){const d=s.setContext(this.getPointLabelContext(c)),{color:f,lineWidth:h}=d;!h||!f||(t.lineWidth=h,t.strokeStyle=f,t.setLineDash(d.borderDash),t.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),u=this.getPointPosition(c,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(u.x,u.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,s=n.ticks;if(!s.display)return;const i=this.getIndexAngle(0);let a,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((c,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const u=s.setContext(this.getContext(l)),d=Ts(u.font);if(a=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){t.font=d.string,o=t.measureText(c.label).width,t.fillStyle=u.backdropColor;const f=fi(u.backdropPadding);t.fillRect(-o/2-f.left,-a-d.size/2-f.top,o+f.width,d.size+f.height)}xh(t,c.label,0,-a,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),t.restore()}drawTitle(){}}gt(rA,"id","radialLinear"),gt(rA,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:t2.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),gt(rA,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),gt(rA,"descriptors",{angleLines:{_fallback:"grid"}});const o2={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Qi=Object.keys(o2);function zM(e,t){return e-t}function VM(e,t){if(Dn(t))return null;const n=e._adapter,{parser:s,round:i,isoWeekday:a}=e._parseOpts;let o=t;return typeof s=="function"&&(o=s(o)),ns(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(gm(a)||a===!0)?n.startOf(o,"isoWeek",a):n.startOf(o,i)),+o)}function KM(e,t,n,s){const i=Qi.length;for(let a=Qi.indexOf(e);a<i-1;++a){const o=o2[Qi[a]],c=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(c*o.size))<=s)return Qi[a]}return Qi[i-1]}function mDe(e,t,n,s,i){for(let a=Qi.length-1;a>=Qi.indexOf(n);a--){const o=Qi[a];if(o2[o].common&&e._adapter.diff(i,s,o)>=t-1)return o}return Qi[n?Qi.indexOf(n):0]}function pDe(e){for(let t=Qi.indexOf(e)+1,n=Qi.length;t<n;++t)if(o2[Qi[t]].common)return Qi[t]}function GM(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:s,hi:i}=Rk(n,t),a=n[s]>=t?n[s]:n[i];e[a]=!0}}function ADe(e,t,n,s){const i=e._adapter,a=+i.startOf(t[0].value,s),o=t[t.length-1].value;let c,l;for(c=a;c<=o;c=+i.add(c,1,s))l=n[c],l>=0&&(t[l].major=!0);return t}function WM(e,t,n){const s=[],i={},a=t.length;let o,c;for(o=0;o<a;++o)c=t[o],i[c]=o,s.push({value:c,major:!1});return a===0||!n?s:ADe(e,s,i,n)}class Rg extends Ph{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const s=t.time||(t.time={}),i=this._adapter=new T8e._date(t.adapters.date);i.init(n),TA(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:VM(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,s=t.time.unit||"day";let{min:i,max:a,minDefined:o,maxDefined:c}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!c&&!isNaN(u.max)&&(a=Math.max(a,u.max))}(!o||!c)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=ns(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),a=ns(a)&&!isNaN(a)?a:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],s=t[t.length-1]),{min:n,max:s}}buildTicks(){const t=this.options,n=t.time,s=t.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,o=this.max,c=YBe(i,a,o);return this._unit=n.unit||(s.autoSkip?KM(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):mDe(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:pDe(this._unit),this.initOffsets(i),t.reverse&&c.reverse(),WM(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,s=0,i,a;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?s=a:s=(a-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=Ls(n,0,o),s=Ls(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const t=this._adapter,n=this.min,s=this.max,i=this.options,a=i.time,o=a.unit||KM(a.minUnit,n,s,this._getLabelCapacity(n)),c=vn(i.ticks.stepSize,1),l=o==="week"?a.isoWeekday:!1,u=gm(l)||l===!0,d={};let f=n,h,m;if(u&&(f=+t.startOf(f,"isoWeek",l)),f=+t.startOf(f,u?"day":o),t.diff(s,n,o)>1e5*c)throw new Error(n+" and "+s+" are too far apart with stepSize of "+c+" "+o);const A=i.ticks.source==="data"&&this.getDataTimestamps();for(h=f,m=0;h<s;h=+t.add(h,c,o),m++)GM(d,h,A);return(h===s||i.bounds==="ticks"||m===1)&&GM(d,h,A),Object.keys(d).sort(zM).map(g=>+g)}getLabelForValue(t){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(t,s.tooltipFormat):n.format(t,s.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,a=this._unit,o=n||i[a];return this._adapter.format(t,o)}_tickFormatFunction(t,n,s,i){const a=this.options,o=a.ticks.callback;if(o)return xr(o,[t,n,s],this);const c=a.time.displayFormats,l=this._unit,u=this._majorUnit,d=l&&c[l],f=u&&c[u],h=s[n],m=u&&f&&h&&h.major;return this._adapter.format(t,i||(m?f:d))}generateTickLabels(t){let n,s,i;for(n=0,s=t.length;n<s;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,s=this.ctx.measureText(t).width,i=ho(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(i),o=Math.sin(i),c=this._resolveTickFontOptions(0).size;return{w:s*a+c*o,h:s*o+c*a}}_getLabelCapacity(t){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,a=this._tickFormatFunction(t,0,WM(this,[t],this._majorUnit),i),o=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],n,s;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,s;if(t.length)return t;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)t.push(VM(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return WK(t.sort(zM))}}gt(Rg,"id","time"),gt(Rg,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function qx(e,t,n){let s=0,i=e.length-1,a,o,c,l;n?(t>=e[s].pos&&t<=e[i].pos&&({lo:s,hi:i}=Vl(e,"pos",t)),{pos:a,time:c}=e[s],{pos:o,time:l}=e[i]):(t>=e[s].time&&t<=e[i].time&&({lo:s,hi:i}=Vl(e,"time",t)),{time:a,pos:c}=e[s],{time:o,pos:l}=e[i]);const u=o-a;return u?c+(l-c)*(t-a)/u:c}class qS extends Rg{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=qx(n,this.min),this._tableRange=qx(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:s}=this,i=[],a=[];let o,c,l,u,d;for(o=0,c=t.length;o<c;++o)u=t[o],u>=n&&u<=s&&i.push(u);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,c=i.length;o<c;++o)d=i[o+1],l=i[o-1],u=i[o],Math.round((d+l)/2)!==u&&a.push({time:u,pos:o/(c-1)});return a}_generate(){const t=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,a)=>i-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?t=this.normalize(n.concat(s)):t=n.length?n:s,t=this._cache.all=t,t}getDecimalForValue(t){return(qx(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return qx(this._table,s*this._tableRange+this._minPos,!0)}}gt(qS,"id","timeseries"),gt(qS,"defaults",Rg.defaults);var gDe=Object.freeze({__proto__:null,CategoryScale:bh,LinearScale:vh,LogarithmicScale:GS,RadialLinearScale:rA,TimeScale:Rg,TimeSeriesScale:qS});const xDe=[S8e,nMe,WMe,gDe];Ga.register(...xDe);Ga.register(iu,O0,I0,bh,vh);const bDe=()=>{const[e,t]=B.useState("daily"),[n,s]=B.useState(new Date().toISOString().split("T")[0]),[i,a]=B.useState("2025"),[o,c]=B.useState("1"),[l,u]=B.useState("2025"),[d,f]=B.useState(null),[h,m]=B.useState(null),[A,g]=B.useState(null),[p,b]=B.useState([]),[x,v]=B.useState([]),[y,N]=B.useState({revenue:null,orderStatus:[],topProducts:[]}),[P,M]=B.useState("summary"),[k,D]=B.useState(!1),O=B.useRef(null),L=B.useRef(null),F=B.useRef(null),_=B.useRef(null),E=B.useRef(null),T=B.useRef(null),w=B.useRef(null),C=B.useRef(null),j=Array.from({length:76},(K,ne)=>2025+ne),S=Array.from({length:12},(K,ne)=>ne+1),I=new Date().toISOString().split("T")[0],R="https://bicacuatho.azurewebsites.net/api/ThongKe",U=(K,ne,ue,se,ie,q)=>{const Z=document.getElementById(K);if(!Z)return;const te=Z.getContext("2d");te&&(q.current&&q.current.destroy(),q.current=new Ga(te,{type:"line",data:{labels:ne,datasets:[{label:`${ie} - Doanh thu`,data:ue,borderColor:"rgba(54, 162, 235, 1)",backgroundColor:"rgba(54, 162, 235, 0.2)",borderWidth:2,tension:.4,fill:!0},{label:`${ie} - Đơn hàng`,data:se,borderColor:"rgba(255, 99, 132, 1)",backgroundColor:"rgba(255, 99, 132, 0.2)",borderWidth:2,tension:.4,fill:!0}]},options:{responsive:!1,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1}},scales:{x:{title:{display:!0,text:"Thời gian"}},y:{title:{display:!0,text:"Giá trị (VND/Đơn hàng)"},beginAtZero:!0,ticks:{callback:re=>re.toLocaleString()}}}}}))},z=(K,ne,ue,se)=>{const ie=document.getElementById(K);if(!ie)return;const q=ie.getContext("2d");q&&(se.current&&se.current.destroy(),se.current=new Ga(q,{type:"pie",data:{labels:ne.map(Z=>Z.tenTrangThai||Z.name),datasets:[{data:ne.map(Z=>Z.tongDonHang||Z.soLuongDaBan),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#FFCD56","#4BC0C0","#36A2EB","#FF6384"],hoverOffset:4,borderWidth:2,borderColor:"#fff"}]},options:{responsive:!0,plugins:{legend:{position:"bottom",labels:{font:{size:12},padding:15}},tooltip:{backgroundColor:"rgba(0,0,0,0.8)",cornerRadius:8,callbacks:{label:Z=>{const te=ne[Z.dataIndex];return te.statusBreakdown?[`${te.name}: ${te.soLuongDaBan} sản phẩm`,...te.statusBreakdown.map(re=>`${re.status}: ${re.soLuong} (${re.doanhThu.toLocaleString()} VND)`)]:`${te.tenTrangThai}: ${te.tongDonHang} đơn hàng`}}}}}}))},V=async(K=n)=>{if(!K)return null;D(!0);const[ne,ue,se]=K.split("-");try{const ie=await fetch(`${R}/Daily?year=${ne}&month=${ue}&day=${se}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!ie.ok)throw new Error("Failed to fetch daily statistics");const q=await ie.json();if(q.length===0)return null;const Z=q.map(Y=>`${Y.ngay}/${Y.thang}/${Y.nam}`),te=q.map(Y=>Y.tongDoanhThu),re=q.map(Y=>Y.tongDonHang);return{labels:Z,revenues:te,orders:re,totalRevenue:q.reduce((Y,oe)=>Y+oe.tongDoanhThu,0),totalOrders:q.reduce((Y,oe)=>Y+oe.tongDonHang,0)}}catch(ie){return console.error("Error fetching daily statistics:",ie),null}finally{D(!1)}},X=async()=>{if(!(!i||!o)){D(!0);try{const K=await fetch(`${R}/Monthly?year=${i}&month=${o}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!K.ok)throw new Error("Failed to fetch monthly statistics");const ne=await K.json();if(ne.length===0){m(null);return}const ue=ne.map(q=>`${q.ngay}/${q.thang}/${q.nam}`),se=ne.map(q=>q.tongDoanhThu),ie=ne.map(q=>q.tongDonHang);U("monthlyChart",ue,se,ie,"Thống kê theo tháng",L),m({totalRevenue:ne.reduce((q,Z)=>q+Z.tongDoanhThu,0),totalOrders:ne.reduce((q,Z)=>q+Z.tongDonHang,0)})}catch(K){console.error("Error fetching monthly statistics:",K),m(null)}finally{D(!1)}}},$=async()=>{if(l){D(!0);try{const K=await fetch(`${R}/Yearly?year=${l}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!K.ok)throw new Error("Failed to fetch yearly statistics");const ne=await K.json();if(ne.length===0){g(null);return}const ue=ne.map(q=>`${q.ngay}/${q.thang}/${q.nam}`),se=ne.map(q=>q.tongDoanhThu),ie=ne.map(q=>q.tongDonHang);U("yearlyChart",ue,se,ie,"Thống kê theo năm",F),g({totalRevenue:ne.reduce((q,Z)=>q+Z.tongDoanhThu,0),totalOrders:ne.reduce((q,Z)=>q+Z.tongDonHang,0)})}catch(K){console.error("Error fetching yearly statistics:",K),g(null)}finally{D(!1)}}},W=async(K,ne,ue)=>{let se=`${R}/OrderStatus`;if(K){const[ie,q,Z]=K.split("-");se+=`?year=${ie}&month=${q}&day=${Z}`}else ne&&ue?se+=`?year=${ne}&month=${ue}`:ne&&(se+=`?year=${ne}`);D(!0);try{const ie=await fetch(se,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!ie.ok)throw new Error("Failed to fetch order status statistics");const q=await ie.json();return q.length>0?q:[]}catch(ie){return console.error("Error fetching order status statistics:",ie),[]}finally{D(!1)}},H=async(K,ne,ue)=>{let se=`${R}/TopProducts`;if(K){const[ie,q,Z]=K.split("-");se+=`?year=${ie}&month=${q}&day=${Z}`}else ne&&ue?se+=`?year=${ne}&month=${ue}`:ne&&(se+=`?year=${ne}`);D(!0);try{const ie=await fetch(se,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!ie.ok)throw new Error("Failed to fetch top products statistics");const q=await ie.json();return q.length>0?q:[]}catch(ie){return console.error("Error fetching top products statistics:",ie),[]}finally{D(!1)}},Q=async()=>{D(!0);const K=await V(I),ne=await W(I),ue=await H(I);N({revenue:K,orderStatus:ne,topProducts:ue}),K&&U("todayRevenueChart",K.labels,K.revenues,K.orders,"Thống kê doanh thu hôm nay",T),ne.length>0&&z("todayOrderStatusChart",ne,"Thống kê trạng thái đơn hàng hôm nay",w),ue.length>0&&z("todayTopProductsChart",ue,"Top sản phẩm bán chạy hôm nay",C),D(!1)};B.useEffect(()=>{if(P==="summary"){Q();const K=setInterval(Q,6e4);return()=>clearInterval(K)}else P==="revenue"?e==="daily"?V().then(K=>{K?(f(K),U("dailyChart",K.labels,K.revenues,K.orders,"Thống kê theo ngày",O)):f(null)}):e==="monthly"?X():e==="yearly"&&$():P==="orderStatus"?W(e==="daily"?n:void 0,e==="monthly"?i:e==="yearly"?l:void 0,e==="monthly"?o:void 0).then(K=>{b(K),K.length>0&&z("orderStatusChart",K,"Thống kê trạng thái đơn hàng",_)}):P==="topProducts"&&H(e==="daily"?n:void 0,e==="monthly"?i:e==="yearly"?l:void 0,e==="monthly"?o:void 0).then(K=>{v(K),K.length>0&&z("topProductsChart",K,"Top Sản Phẩm Bán Chạy",E)})},[P,e,n,i,o,l]);const G=K=>{K.preventDefault(),V().then(ne=>{ne?(f(ne),U("dailyChart",ne.labels,ne.revenues,ne.orders,"Thống kê theo ngày",O)):f(null)})},J=K=>{K.preventDefault(),W(e==="daily"?n:void 0,e==="monthly"?i:e==="yearly"?l:void 0,e==="monthly"?o:void 0).then(ne=>{b(ne),ne.length>0&&z("orderStatusChart",ne,"Thống kê trạng thái đơn hàng",_)})},ee=K=>{K.preventDefault(),H(e==="daily"?n:void 0,e==="monthly"?i:e==="yearly"?l:void 0,e==="monthly"?o:void 0).then(ne=>{v(ne),ne.length>0&&z("topProductsChart",ne,"Top Sản Phẩm Bán Chạy",E)})};return r.jsxs("div",{className:"space-y-6 p-6 bg-gradient-to-br from-gray-50 to-blue-50 min-h-screen",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:r.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 flex items-center gap-3",children:[r.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),"Quản lý thống kê"]})}),k&&r.jsx("div",{className:"text-center py-8",children:r.jsxs("div",{className:"inline-flex items-center gap-2 text-blue-600",children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),r.jsx("span",{className:"text-lg font-medium",children:"Đang tải dữ liệu..."})]})}),r.jsxs(ia,{defaultValue:"summary",onValueChange:M,className:"space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-2 border border-gray-200",children:r.jsxs(Mi,{className:"bg-gray-100 p-1 rounded-md",children:[r.jsx(Bn,{value:"summary",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:"📊 Tổng hợp"}),r.jsx(Bn,{value:"revenue",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:"💰 Doanh thu"}),r.jsx(Bn,{value:"orderStatus",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:"📦 Trạng thái đơn hàng"}),r.jsx(Bn,{value:"topProducts",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:"🏆 Sản phẩm bán chạy"})]})}),r.jsx(Hn,{value:"summary",children:r.jsxs("div",{className:"space-y-6",children:[r.jsx(it,{className:"border-0 shadow-lg bg-gradient-to-r from-blue-600 via-purple-600 to-blue-800 text-white",children:r.jsxs(yt,{className:"pb-4",children:[r.jsx(jt,{className:"text-2xl font-bold text-center",children:"📈 Thống kê tổng hợp hôm nay"}),r.jsxs("p",{className:"text-center text-blue-100 text-lg font-medium",children:[new Date().toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," - ",new Date().toLocaleTimeString("vi-VN")]})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[r.jsxs(it,{className:"shadow-lg border-0 hover:shadow-xl transition-shadow duration-300",children:[r.jsx(yt,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-t-lg",children:r.jsx(jt,{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:"💰 Doanh thu & Đơn hàng"})}),r.jsx(dt,{className:"p-6",children:y.revenue?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-gray-50 rounded-lg p-3 flex justify-center",children:r.jsx("canvas",{id:"todayRevenueChart",width:"250",height:"180",className:"mx-auto"})}),r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-lg border border-green-200",children:[r.jsx("div",{className:"text-sm text-green-700 font-medium",children:"Tổng doanh thu"}),r.jsxs("div",{className:"text-2xl font-bold text-green-800",children:[y.revenue.totalRevenue.toLocaleString()," VND"]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 p-4 rounded-lg border border-blue-200",children:[r.jsx("div",{className:"text-sm text-blue-700 font-medium",children:"Tổng đơn hàng"}),r.jsx("div",{className:"text-2xl font-bold text-blue-800",children:y.revenue.totalOrders.toLocaleString()})]})]})]}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📊"}),r.jsx("p",{className:"text-gray-500 font-medium",children:"Không có dữ liệu doanh thu hôm nay"})]})})]}),r.jsxs(it,{className:"shadow-lg border-0 hover:shadow-xl transition-shadow duration-300",children:[r.jsx(yt,{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-t-lg",children:r.jsx(jt,{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:"📦 Trạng thái đơn hàng"})}),r.jsx(dt,{className:"p-6",children:y.orderStatus.length>0?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:r.jsx("canvas",{id:"todayOrderStatusChart",width:"250",height:"250",className:"mx-auto"})}),r.jsx("div",{className:"space-y-2",children:y.orderStatus.map((K,ne)=>r.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-3 rounded-lg border border-purple-200",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-medium text-purple-700",children:K.tenTrangThai}),r.jsxs("span",{className:"text-lg font-bold text-purple-800",children:[K.tongDonHang," đơn"]})]})},ne))})]}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📦"}),r.jsx("p",{className:"text-gray-500 font-medium",children:"Không có dữ liệu trạng thái đơn hàng"})]})})]}),r.jsxs(it,{className:"shadow-lg border-0 hover:shadow-xl transition-shadow duration-300 lg:col-span-2 xl:col-span-1",children:[r.jsx(yt,{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-t-lg",children:r.jsx(jt,{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:"🏆 Top sản phẩm bán chạy"})}),r.jsx(dt,{className:"p-6",children:y.topProducts.length>0?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:r.jsx("canvas",{id:"todayTopProductsChart",width:"250",height:"250",className:"mx-auto"})}),r.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 p-4 rounded-lg border border-amber-200",children:[r.jsx("div",{className:"text-sm text-amber-700 font-medium",children:"Số sản phẩm bán chạy"}),r.jsxs("div",{className:"text-2xl font-bold text-amber-800",children:[y.topProducts.length," sản phẩm"]})]})]}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"🏆"}),r.jsx("p",{className:"text-gray-500 font-medium",children:"Không có dữ liệu sản phẩm bán chạy"})]})})]})]}),y.topProducts.length>0&&r.jsxs(it,{className:"shadow-lg border-0",children:[r.jsx(yt,{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-t-lg",children:r.jsx(jt,{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:"📋 Chi tiết sản phẩm bán chạy hôm nay"})}),r.jsx(dt,{className:"p-6",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Rr,{children:[r.jsx(Ur,{children:r.jsxs(Ht,{className:"bg-gray-50",children:[r.jsx($e,{className:"font-bold text-gray-700",children:"Tên sản phẩm"}),r.jsx($e,{className:"font-bold text-gray-700",children:"Số lượng bán"}),r.jsx($e,{className:"font-bold text-gray-700",children:"Doanh thu"}),r.jsx($e,{className:"font-bold text-gray-700",children:"Trạng thái"})]})}),r.jsx(Hr,{children:y.topProducts.map((K,ne)=>{var ue;return r.jsxs(Ht,{className:ne%2===0?"bg-white":"bg-gray-50",children:[r.jsx(He,{className:"font-medium text-gray-900",children:K.name}),r.jsx(He,{className:"text-blue-600 font-semibold",children:K.soLuongDaBan}),r.jsxs(He,{className:"text-green-600 font-semibold",children:[K.doanhThu.toLocaleString()," VND"]}),r.jsx(He,{children:(ue=K.statusBreakdown)==null?void 0:ue.map((se,ie)=>r.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:[r.jsxs("span",{className:"font-medium",children:[se.status,":"]})," ",se.soLuong,r.jsxs("span",{className:"text-green-600 ml-1",children:["(",se.doanhThu.toLocaleString()," VND)"]})]},ie))})]},K.id)})})]})})})]})]})}),r.jsx(Hn,{value:"revenue",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("label",{htmlFor:"timeFilter",className:"font-medium",children:"Chọn khoảng thời gian:"}),r.jsxs(mn,{value:e,onValueChange:t,children:[r.jsx(cn,{className:"w-[180px]",children:r.jsx(pn,{placeholder:"Chọn khoảng thời gian"})}),r.jsxs(un,{children:[r.jsx(Qe,{value:"daily",children:"Theo ngày"}),r.jsx(Qe,{value:"monthly",children:"Theo tháng"}),r.jsx(Qe,{value:"yearly",children:"Theo năm"})]})]})]}),e==="daily"&&r.jsxs(it,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(jt,{children:"Thống kê theo ngày"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("input",{type:"date",value:n,onChange:K=>s(K.target.value),className:"border rounded-md p-2",style:{width:"350px"},"aria-label":"Chọn ngày thống kê"}),r.jsx(fe,{onClick:G,children:"Thống kê"})]}),d?r.jsxs(r.Fragment,{children:[r.jsx("canvas",{id:"dailyChart",width:"900",height:"500",style:{margin:"auto",display:"block"}}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("p",{children:["Tổng doanh thu: ",d.totalRevenue.toLocaleString()," VND"]}),r.jsxs("p",{children:["Tổng đơn hàng: ",d.totalOrders.toLocaleString()]})]})]}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]}),e==="monthly"&&r.jsxs(it,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(jt,{children:"Thống kê theo tháng"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsxs(mn,{value:i,onValueChange:a,children:[r.jsx(cn,{className:"w-[350px]",children:r.jsx(pn,{placeholder:"Chọn năm"})}),r.jsx(un,{children:j.map(K=>r.jsx(Qe,{value:K.toString(),children:K},K))})]}),r.jsxs(mn,{value:o,onValueChange:c,children:[r.jsx(cn,{className:"w-[350px]",children:r.jsx(pn,{placeholder:"Chọn tháng"})}),r.jsx(un,{children:S.map(K=>r.jsxs(Qe,{value:K.toString(),children:["Tháng ",K]},K))})]}),r.jsx(fe,{onClick:X,children:"Thống kê"})]}),h?r.jsxs(r.Fragment,{children:[r.jsx("canvas",{id:"monthlyChart",width:"900",height:"500",style:{margin:"auto",display:"block"}}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("p",{children:["Tổng doanh thu: ",h.totalRevenue.toLocaleString()," VND"]}),r.jsxs("p",{children:["Tổng đơn hàng: ",h.totalOrders.toLocaleString()]})]})]}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]}),e==="yearly"&&r.jsxs(it,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(jt,{children:"Thống kê theo năm"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsxs(mn,{value:l,onValueChange:u,children:[r.jsx(cn,{className:"w-[350px]",children:r.jsx(pn,{placeholder:"Chọn năm"})}),r.jsx(un,{children:j.map(K=>r.jsx(Qe,{value:K.toString(),children:K},K))})]}),r.jsx(fe,{onClick:$,children:"Thống kê"})]}),A?r.jsxs(r.Fragment,{children:[r.jsx("canvas",{id:"yearlyChart",width:"900",height:"500",style:{margin:"auto",display:"block"}}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("p",{children:["Tổng doanh thu: ",A.totalRevenue.toLocaleString()," VND"]}),r.jsxs("p",{children:["Tổng đơn hàng: ",A.totalOrders.toLocaleString()]})]})]}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]})]})}),r.jsx(Hn,{value:"orderStatus",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("label",{htmlFor:"timeFilter",className:"font-medium",children:"Chọn khoảng thời gian:"}),r.jsxs(mn,{value:e,onValueChange:t,children:[r.jsx(cn,{className:"w-[180px]",children:r.jsx(pn,{placeholder:"Chọn khoảng thời gian"})}),r.jsxs(un,{children:[r.jsx(Qe,{value:"daily",children:"Theo ngày"}),r.jsx(Qe,{value:"monthly",children:"Theo tháng"}),r.jsx(Qe,{value:"yearly",children:"Theo năm"})]})]})]}),e==="daily"&&r.jsxs(it,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(jt,{children:"Thống kê trạng thái đơn hàng theo ngày"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("input",{type:"date",value:n,onChange:K=>s(K.target.value),className:"border rounded-md p-2",style:{width:"350px"},"aria-label":"Chọn ngày thống kê"}),r.jsx(fe,{onClick:J,children:"Thống kê"})]}),p.length>0?r.jsx("canvas",{id:"orderStatusChart",width:"500",height:"500",style:{margin:"auto",display:"block"}}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]}),e==="monthly"&&r.jsxs(it,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(jt,{children:"Thống kê trạng thái đơn hàng theo tháng"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsxs(mn,{value:i,onValueChange:a,children:[r.jsx(cn,{className:"w-[350px]",children:r.jsx(pn,{placeholder:"Chọn năm"})}),r.jsx(un,{children:j.map(K=>r.jsx(Qe,{value:K.toString(),children:K},K))})]}),r.jsxs(mn,{value:o,onValueChange:c,children:[r.jsx(cn,{className:"w-[350px]",children:r.jsx(pn,{placeholder:"Chọn tháng"})}),r.jsx(un,{children:S.map(K=>r.jsxs(Qe,{value:K.toString(),children:["Tháng ",K]},K))})]}),r.jsx(fe,{onClick:J,children:"Thống kê"})]}),p.length>0?r.jsx("canvas",{id:"orderStatusChart",width:"500",height:"500",style:{margin:"auto",display:"block"}}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]}),e==="yearly"&&r.jsxs(it,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(jt,{children:"Thống kê trạng thái đơn hàng theo năm"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsxs(mn,{value:l,onValueChange:u,children:[r.jsx(cn,{className:"w-[350px]",children:r.jsx(pn,{placeholder:"Chọn năm"})}),r.jsx(un,{children:j.map(K=>r.jsx(Qe,{value:K.toString(),children:K},K))})]}),r.jsx(fe,{onClick:J,children:"Thống kê"})]}),p.length>0?r.jsx("canvas",{id:"orderStatusChart",width:"500",height:"500",style:{margin:"auto",display:"block"}}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]})]})}),r.jsx(Hn,{value:"topProducts",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("label",{htmlFor:"timeFilter",className:"font-medium",children:"Chọn khoảng thời gian:"}),r.jsxs(mn,{value:e,onValueChange:t,children:[r.jsx(cn,{className:"w-[180px]",children:r.jsx(pn,{placeholder:"Chọn khoảng thời gian"})}),r.jsxs(un,{children:[r.jsx(Qe,{value:"daily",children:"Theo ngày"}),r.jsx(Qe,{value:"monthly",children:"Theo tháng"}),r.jsx(Qe,{value:"yearly",children:"Theo năm"})]})]})]}),e==="daily"&&r.jsxs(it,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(jt,{children:"Sản phẩm bán chạy theo ngày"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("input",{type:"date",value:n,onChange:K=>s(K.target.value),className:"border rounded-md p-2",style:{width:"350px"},"aria-label":"Chọn ngày thống kê"}),r.jsx(fe,{onClick:ee,children:"Thống kê"})]}),x.length>0?r.jsxs(r.Fragment,{children:[r.jsx("canvas",{id:"topProductsChart",width:"500",height:"500",style:{margin:"auto",display:"block"}}),r.jsx("div",{className:"mt-4",children:r.jsxs(Rr,{children:[r.jsx(Ur,{children:r.jsxs(Ht,{children:[r.jsx($e,{children:"Tên sản phẩm"}),r.jsx($e,{children:"Thương hiệu"}),r.jsx($e,{children:"Chất liệu"}),r.jsx($e,{children:"Số lượng đã bán"}),r.jsx($e,{children:"Doanh thu"}),r.jsx($e,{children:"Trạng thái"})]})}),r.jsx(Hr,{children:x.map(K=>r.jsxs(Ht,{children:[r.jsx(He,{children:K.name}),r.jsx(He,{children:K.thuongHieu}),r.jsx(He,{children:K.chatLieu}),r.jsx(He,{children:K.soLuongDaBan}),r.jsxs(He,{children:[K.doanhThu.toLocaleString()," VND"]}),r.jsx(He,{children:K.statusBreakdown.map((ne,ue)=>r.jsxs("div",{children:[ne.status,": ",ne.soLuong," (Doanh thu: ",ne.doanhThu.toLocaleString()," VND)"]},ue))})]},K.id))})]})})]}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]}),e==="monthly"&&r.jsxs(it,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(jt,{children:"Sản phẩm bán chạy theo tháng"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsxs(mn,{value:i,onValueChange:a,children:[r.jsx(cn,{className:"w-[350px]",children:r.jsx(pn,{placeholder:"Chọn năm"})}),r.jsx(un,{children:j.map(K=>r.jsx(Qe,{value:K.toString(),children:K},K))})]}),r.jsxs(mn,{value:o,onValueChange:c,children:[r.jsx(cn,{className:"w-[350px]",children:r.jsx(pn,{placeholder:"Chọn tháng"})}),r.jsx(un,{children:S.map(K=>r.jsxs(Qe,{value:K.toString(),children:["Tháng ",K]},K))})]}),r.jsx(fe,{onClick:ee,children:"Thống kê"})]}),x.length>0?r.jsxs(r.Fragment,{children:[r.jsx("canvas",{id:"topProductsChart",width:"500",height:"500",style:{margin:"auto",display:"block"}}),r.jsx("div",{className:"mt-4",children:r.jsxs(Rr,{children:[r.jsx(Ur,{children:r.jsxs(Ht,{children:[r.jsx($e,{children:"Tên sản phẩm"}),r.jsx($e,{children:"Thương hiệu"}),r.jsx($e,{children:"Chất liệu"}),r.jsx($e,{children:"Số lượng đã bán"}),r.jsx($e,{children:"Doanh thu"}),r.jsx($e,{children:"Trạng thái"})]})}),r.jsx(Hr,{children:x.map(K=>r.jsxs(Ht,{children:[r.jsx(He,{children:K.name}),r.jsx(He,{children:K.thuongHieu}),r.jsx(He,{children:K.chatLieu}),r.jsx(He,{children:K.soLuongDaBan}),r.jsxs(He,{children:[K.doanhThu.toLocaleString()," VND"]}),r.jsx(He,{children:K.statusBreakdown.map((ne,ue)=>r.jsxs("div",{children:[ne.status,": ",ne.soLuong," (Doanh thu: ",ne.doanhThu.toLocaleString()," VND)"]},ue))})]},K.id))})]})})]}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]}),e==="yearly"&&r.jsxs(it,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(jt,{children:"Sản phẩm bán chạy theo năm"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsxs(mn,{value:l,onValueChange:u,children:[r.jsx(cn,{className:"w-[350px]",children:r.jsx(pn,{placeholder:"Chọn năm"})}),r.jsx(un,{children:j.map(K=>r.jsx(Qe,{value:K.toString(),children:K},K))})]}),r.jsx(fe,{onClick:ee,children:"Thống kê"})]}),x.length>0?r.jsxs(r.Fragment,{children:[r.jsx("canvas",{id:"topProductsChart",width:"500",height:"500",style:{margin:"auto",display:"block"}}),r.jsx("div",{className:"mt-4",children:r.jsxs(Rr,{children:[r.jsx(Ur,{children:r.jsxs(Ht,{children:[r.jsx($e,{children:"Tên sản phẩm"}),r.jsx($e,{children:"Thương hiệu"}),r.jsx($e,{children:"Chất liệu"}),r.jsx($e,{children:"Số lượng đã bán"}),r.jsx($e,{children:"Doanh thu"}),r.jsx($e,{children:"Trạng thái"})]})}),r.jsx(Hr,{children:x.map(K=>r.jsxs(Ht,{children:[r.jsx(He,{children:K.name}),r.jsx(He,{children:K.thuongHieu}),r.jsx(He,{children:K.chatLieu}),r.jsx(He,{children:K.soLuongDaBan}),r.jsxs(He,{children:[K.doanhThu.toLocaleString()," VND"]}),r.jsx(He,{children:K.statusBreakdown.map((ne,ue)=>r.jsxs("div",{children:[ne.status,": ",ne.soLuong," (Doanh thu: ",ne.doanhThu.toLocaleString()," VND)"]},ue))})]},K.id))})]})})]}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]})]})})]})]})},LG="label";function qM(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function vDe(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function FG(e,t){e.labels=t}function RG(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:LG;const s=[];e.datasets=t.map(i=>{const a=e.datasets.find(o=>o[n]===i[n]);return!a||!i.data||s.includes(a)?{...i}:(s.push(a),Object.assign(a,i),a)})}function yDe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:LG;const n={labels:[],datasets:[]};return FG(n,e.labels),RG(n,e.datasets,t),n}function wDe(e,t){const{height:n=150,width:s=300,redraw:i=!1,datasetIdKey:a,type:o,data:c,options:l,plugins:u=[],fallbackContent:d,updateMode:f,...h}=e,m=B.useRef(null),A=B.useRef(null),g=()=>{m.current&&(A.current=new Ga(m.current,{type:o,data:yDe(c,a),options:l&&{...l},plugins:u}),qM(t,A.current))},p=()=>{qM(t,null),A.current&&(A.current.destroy(),A.current=null)};return B.useEffect(()=>{!i&&A.current&&l&&vDe(A.current,l)},[i,l]),B.useEffect(()=>{!i&&A.current&&FG(A.current.config.data,c.labels)},[i,c.labels]),B.useEffect(()=>{!i&&A.current&&c.datasets&&RG(A.current.config.data,c.datasets,a)},[i,c.datasets]),B.useEffect(()=>{A.current&&(i?(p(),setTimeout(g)):A.current.update(f))},[i,l,c.labels,c.datasets,f]),B.useEffect(()=>{A.current&&(p(),setTimeout(g))},[o]),B.useEffect(()=>(g(),()=>p()),[]),je.createElement("canvas",{ref:m,role:"img",height:n,width:s,...h},d)}const jDe=B.forwardRef(wDe);function Yk(e,t){return Ga.register(t),B.forwardRef((n,s)=>je.createElement(jDe,{...n,ref:s,type:e}))}const UG=Yk("line",PA),HG=Yk("bar",EA),CDe=Yk("pie",Yy);Ga.register(bh,vh,Of,Xk,O0,I0,iu,If,Jo);const Tl="https://bicacuatho.azurewebsites.net",NDe=()=>{const[e,t]=B.useState([]),[n,s]=B.useState(!1),[i,a]=B.useState(""),[o,c]=B.useState(""),[l,u]=B.useState("all"),[d,f]=B.useState("all"),[h,m]=B.useState(1),[A,g]=B.useState("danhSachTaiKhoan"),p=10,[b,x]=B.useState(null),[v,y]=B.useState(!1),[N,P]=B.useState(!1),[M,k]=B.useState(!1),[D,O]=B.useState(!1),[L,F]=B.useState(null),[_,E]=B.useState(null),[T,w]=B.useState(null),[C,j]=B.useState(!1),[S,I]=B.useState({hoTen:"",email:"",taiKhoan:"",matKhau:"",vaiTro:"0"}),[R,U]=B.useState(!1),[z,V]=B.useState([]),[X,$]=B.useState(null),[W,H]=B.useState(""),[Q,G]=B.useState(""),[J,ee]=B.useState(""),[K,ne]=B.useState(""),[ue,se]=B.useState(""),[ie,q]=B.useState(""),[Z,te]=B.useState(""),[re,Y]=B.useState(0),[oe,ae]=B.useState(0),[ce,de]=B.useState(null),[pe,Ae]=B.useState(""),[le,he]=B.useState(0),[me,ve]=B.useState(null),[_e,Te]=B.useState(!1),[Ue,Ee]=B.useState(!1),[Me,Ie]=B.useState(null),[Ce,Pe]=B.useState(null),[ge,Ne]=B.useState({totalUsers:0,activeUsers:0,lockedUsers:0,usersToday:0,usersThisMonth:0,usersThisYear:0}),[ke,ze]=B.useState({admin:0,nhanvien:0,nguoidung:0}),[Re,Ve]=B.useState({active:0,locked:0}),[rt,Dt]=B.useState(Array(12).fill(0)),[xt,Qt]=B.useState(!1),[bt,Bt]=B.useState({}),Se={labels:["Admin","Nhân viên","Người dùng"],datasets:[{label:"Số lượng",data:[ke.admin,ke.nhanvien,ke.nguoidung],backgroundColor:["#FF6384","#36A2EB","#FFCE56"]}]},Le={labels:["Hoạt động","Khóa"],datasets:[{data:[Re.active,Re.locked],backgroundColor:["#36A2EB","#FF6384"]}]},Ge={labels:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],datasets:[{label:"Người dùng mới",data:rt,fill:!1,borderColor:"#42A5F5",tension:.1}]},at=B.useCallback(async()=>{s(!0),a("");try{const be=await fetch(`${Tl}/api/NguoiDung`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!be.ok)throw new Error("Lỗi khi tải danh sách người dùng");const nt=await be.json();t(nt)}catch(be){a(be.message)}finally{s(!1)}},[]);B.useEffect(()=>{at()},[at]);const zt=async()=>{try{const be=await fetch(`${Tl}/api/GiaoDien`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!be.ok)throw new Error("Lỗi khi tải avatar mặc định");const An=(await be.json()).find(Xt=>Xt.trangThai===1);An&&An.avt?x(`data:image/png;base64,${An.avt}`):x(null)}catch(be){console.error("Lỗi khi lấy avatar mặc định:",be.message),x(null)}},pt=async be=>{try{const nt=await fetch(`${Tl}/api/DanhSachDiaChi/maNguoiDung/${be}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!nt.ok)throw new Error("Lỗi khi tải danh sách địa chỉ");const Xt=(await nt.json()).sort((er,Oi)=>new Date(Oi.ngayTao).getTime()-new Date(er.ngayTao).getTime());V(Xt)}catch(nt){a(nt.message),V([])}},Ot=async be=>{$(be.maNguoiDung),U(!0),await pt(be.maNguoiDung)},Vt=B.useCallback(()=>{const be=new Date,nt=new Date(be.setHours(0,0,0,0)),An=new Date(be.getFullYear(),be.getMonth(),1),Xt=new Date(be.getFullYear(),0,1);let er=0,Oi=0,Bo=0,jc=0,td=0;e.forEach(Cc=>{Cc.trangThai===0?er++:Cc.trangThai===1&&Oi++;const Dh=new Date(Cc.ngayTao);Dh>=nt&&Bo++,Dh>=An&&jc++,Dh>=Xt&&td++}),Ne({totalUsers:e.length,activeUsers:er,lockedUsers:Oi,usersToday:Bo,usersThisMonth:jc,usersThisYear:td})},[e]),It=B.useCallback(()=>{const be={admin:0,nhanvien:0,nguoidung:0};e.forEach(nt=>{nt.vaiTro===1?be.admin++:nt.vaiTro===2?be.nhanvien++:be.nguoidung++}),ze(be)},[e]),nn=B.useCallback(()=>{const be={active:0,locked:0};e.forEach(nt=>{nt.trangThai===0?be.active++:nt.trangThai===1&&be.locked++}),Ve(be)},[e]),en=B.useCallback(()=>{const be=Array(12).fill(0),nt=new Date().getFullYear();e.forEach(An=>{const Xt=new Date(An.ngayTao);if(Xt.getFullYear()===nt){const er=Xt.getMonth();be[er]++}}),Dt(be)},[e]);B.useEffect(()=>{zt()},[]),B.useEffect(()=>{Vt(),It(),nn(),en()},[e,Vt,It,nn,en]);const xn=be=>be===1?"admin":be===2?"nhanvien":"nguoidung",vt=be=>be===1?"Nam":be===2?"Nữ":"Khác",Ze=e.filter(be=>{var er,Oi,Bo;const nt=o.toLowerCase(),An=((er=be.hoTen)==null?void 0:er.toLowerCase().includes(nt))||((Oi=be.email)==null?void 0:Oi.toLowerCase().includes(nt))||((Bo=be.taiKhoan)==null?void 0:Bo.toLowerCase().includes(nt)),Xt=l==="all"||xn(be.vaiTro)===l;if(A==="danhSachTaiKhoan"){const jc=d==="all"||d==="active"&&be.trangThai===0||d==="locked"&&be.trangThai===1;return An&&Xt&&jc&&(be.trangThai===0||be.trangThai===1)}else if(A==="khoiPhuc")return An&&Xt&&be.trangThai===2;return!1}).sort((be,nt)=>new Date(nt.ngayTao).getTime()-new Date(be.ngayTao).getTime()),mt=Math.ceil(Ze.length/p),gn=Ze.slice((h-1)*p,h*p);B.useEffect(()=>{m(1)},[A]);const xe=be=>be.length<=5?"Họ tên phải dài hơn 5 ký tự":"",Oe=be=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(be)?"":"Email không hợp lệ",qe=be=>be.length<=5?"Mật khẩu phải dài hơn 5 ký tự":"",Je=be=>be?be.length<=5?"Tài khoản phải dài hơn 5 ký tự":"":"Tài khoản không được để trống",kt=be=>be&&!/^\d{10}$/.test(be)?"Số điện thoại phải có đúng 10 chữ số":"",ot=be=>be&&!/^\d{12}$/.test(be)?"CCCD phải có đúng 12 chữ số":"",tt=be=>{if(be){const nt=new Date(be),An=new Date;let Xt=An.getFullYear()-nt.getFullYear();const er=An.getMonth()-nt.getMonth();if((er<0||er===0&&An.getDate()<nt.getDate())&&Xt--,Xt<15)return"Người dùng phải ít nhất 15 tuổi"}return""},Sn=(be,nt)=>nt===1&&!be?"Ngày kết thúc khóa là bắt buộc khi trạng thái là Khóa":nt===1&&be&&new Date(be)<=new Date?"Ngày kết thúc khóa phải là ngày trong tương lai":"",hn=(be,nt)=>e.find(Xt=>Xt.taiKhoan===be&&Xt.maNguoiDung!==nt)?"Tài khoản đã tồn tại":"",wn=(be,nt)=>e.find(Xt=>Xt.email===be&&Xt.maNguoiDung!==nt)?"Email đã tồn tại":"",qt=(be,nt)=>be&&e.find(Xt=>Xt.sdt===be&&Xt.maNguoiDung!==nt)?"Số điện thoại đã tồn tại":"",Kn=(be,nt)=>be&&e.find(Xt=>Xt.cccd===be&&Xt.maNguoiDung!==nt)?"CCCD đã tồn tại":"",Gn=be=>{const nt=be.currentTarget.value;/^\d{0,10}$/.test(nt)&&ee(nt)},Jn=be=>{const nt=be.currentTarget.value;/^\d{0,12}$/.test(nt)&&ne(nt)},Sr=()=>{I({hoTen:"",email:"",taiKhoan:"",matKhau:"",vaiTro:"0"}),Bt({}),y(!0)},Tr=be=>{w(be),P(!0)},Ps=be=>{if(!be||!be.maNguoiDung){we.fire({icon:"error",title:"Lỗi",text:"Không tìm thấy mã người dùng",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}w(be),H(be.hoTen||""),G(be.ngaySinh?new Date(be.ngaySinh).toISOString().split("T")[0]:""),ee(be.sdt||""),ne(be.cccd||""),se(be.email||""),q(be.taiKhoan||""),te(be.diaChi||""),Y(be.vaiTro||0),ae(be.trangThai||0),de(be.hinhAnh?be.hinhAnh.startsWith("data:image")?be.hinhAnh:`data:image/png;base64,${be.hinhAnh}`:null),Ae(be.moTa||""),he(be.gioiTinh||0),ve(be.trangThai===0?null:be.lockoutEndDate?new Date(be.lockoutEndDate).toISOString().split("T")[0]:null),Bt({}),k(!0)},Ii=(be,nt)=>{Ie(be),Pe(nt),Ee(!0)},vl=async()=>{if(!Me||Ce===null){we.fire({icon:"error",title:"Lỗi",text:"Không thể xác định người dùng hoặc trạng thái",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}Te(!0);try{const be={maNguoiDung:Me.maNguoiDung,hoTen:Me.hoTen,email:Me.email,taiKhoan:Me.taiKhoan,sdt:Me.sdt,cccd:Me.cccd,diaChi:Me.diaChi,vaiTro:Me.vaiTro,trangThai:Ce,...Ce===1?{cancelCount:4,lockoutEndDate:new Date(Date.now()+2592e5).toISOString()}:{cancelCount:0,lockoutEndDate:null}},nt=await fetch(`${Tl}/api/NguoiDung/${Me.maNguoiDung}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(be)});if(!nt.ok){const An=await nt.json();throw new Error(An.message||"Lỗi khi cập nhật trạng thái")}await at(),we.fire({icon:"success",title:"Thành công",text:"Cập nhật trạng thái thành công",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(be){we.fire({icon:"error",title:"Lỗi",text:be.message||"Lỗi khi cập nhật trạng thái",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{Te(!1),Ee(!1),Ie(null),Pe(null)}},vc=async be=>{be.preventDefault();const nt={};if(nt.hoTen=xe(S.hoTen),nt.email=Oe(S.email),nt.taiKhoan=Je(S.taiKhoan),nt.matKhau=qe(S.matKhau),nt.taiKhoanUnique=hn(S.taiKhoan),nt.emailUnique=wn(S.email),Bt(nt),!Object.values(nt).some(An=>An!=="")){s(!0);try{const An={HoTen:S.hoTen,Email:S.email,TaiKhoan:S.taiKhoan,MatKhau:S.matKhau,VaiTro:parseInt(S.vaiTro),TrangThai:0,NgayTao:new Date().toISOString()};if(!(await fetch(`${Tl}/api/NguoiDung`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:JSON.stringify(An)})).ok)throw new Error("Lỗi khi thêm người dùng");await at(),y(!1),I({hoTen:"",email:"",taiKhoan:"",matKhau:"",vaiTro:"0"}),we.fire({icon:"success",title:"Thành công",text:"Thêm người dùng thành công",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(An){we.fire({icon:"error",title:"Lỗi",text:An.message||"Lỗi khi thêm người dùng",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{s(!1)}}},yc=async()=>{if(_)try{L==="hide"?await fetch(`${Tl}/api/NguoiDung/${_.maNguoiDung}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:JSON.stringify({..._,trangThai:2})}):L==="restore"?await fetch(`${Tl}/api/NguoiDung/${_.maNguoiDung}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:JSON.stringify({..._,trangThai:0})}):L==="delete"&&await fetch(`${Tl}/api/NguoiDung/${_.maNguoiDung}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}}),await at(),we.fire({icon:"success",title:"Thành công",text:`Đã ${L==="hide"?"xóa":L==="restore"?"khôi phục":"xóa vĩnh viễn"} người dùng thành công`,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(be){we.fire({icon:"error",title:"Lỗi",text:be.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{O(!1),E(null),F(null)}},wc=be=>{be.preventDefault(),Qt(!0)},Wn=be=>{be.preventDefault(),Qt(!1)},On=be=>{be.preventDefault(),Qt(!1);const nt=be.dataTransfer.files[0];if(nt&&nt.type.startsWith("image/")){const An=URL.createObjectURL(nt);de(An)}else we.fire({icon:"error",title:"Lỗi",text:"Vui lòng chọn file hình ảnh",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})},_o=()=>{const be=document.getElementById("fileInput");be&&be.click()},yl=be=>{var An;const nt=(An=be.target.files)==null?void 0:An[0];if(nt){const Xt=URL.createObjectURL(nt);de(Xt)}},Mh=async be=>{be.preventDefault();const nt={};nt.chiTietHoTen=xe(W),nt.chiTietEmail=Oe(ue),nt.chiTietSdt=kt(J),nt.chiTietCccd=ot(K),nt.chiTietNgaySinh=tt(Q),nt.chiTietLockoutEndDate=Sn(me,oe);const An=T==null?void 0:T.maNguoiDung;if(nt.chiTietTaiKhoanUnique=hn(ie,An),nt.chiTietEmailUnique=wn(ue,An),nt.chiTietSdtUnique=qt(J,An),nt.chiTietCccdUnique=Kn(K,An),Bt(nt),Object.values(nt).some(er=>er!==""))return;if(!T||!T.maNguoiDung){we.fire({icon:"error",title:"Lỗi",text:"Không tìm thấy mã người dùng để cập nhật",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}const Xt=new FormData;if(Xt.append("MaNguoiDung",T.maNguoiDung),Xt.append("HoTen",W),Xt.append("NgaySinh",Q||""),Xt.append("Sdt",J||""),Xt.append("Cccd",K||""),Xt.append("Email",ue),Xt.append("TaiKhoan",ie),Xt.append("DiaChi",Z||""),Xt.append("VaiTro",re.toString()),Xt.append("TrangThai",oe.toString()),Xt.append("MoTa",pe||""),Xt.append("GioiTinh",le.toString()),oe===1&&me?Xt.append("LockoutEndDate",me):Xt.append("LockoutEndDate",""),ce&&ce.startsWith("blob:")){const Oi=await(await fetch(ce)).blob();Xt.append("HinhAnhFile",Oi,"avatar.jpg")}else if(ce&&!ce.startsWith("http")){const er=ce.startsWith("data:image")?ce.split(",")[1]:ce;Xt.append("HinhAnh",er||"")}Te(!0);try{const er=await fetch(`${Tl}/api/NguoiDung/chitiet/${T.maNguoiDung}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:Xt}),Oi=await er.json();if(!er.ok)throw new Error(Oi.message||"Lỗi khi cập nhật chi tiết người dùng");await at(),we.fire({icon:"success",title:"Thành công",text:"Cập nhật chi tiết người dùng thành công",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0}),k(!1)}catch(er){we.fire({icon:"error",title:"Lỗi",text:er.message||"Lỗi khi cập nhật chi tiết người dùng",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{Te(!1)}},Xs=be=>{if(!be)return"";const nt=new Date(be);return`${nt.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})}, ${nt.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})}`},Ys=be=>{m(be)};return n?r.jsx("div",{className:"text-center py-10",children:"Đang tải..."}):i?r.jsx("div",{className:"text-center py-10 text-red-500",children:i}):r.jsxs("div",{className:"py-6 space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsx("div",{children:r.jsx("h1",{className:"text-2xl font-bold flex items-center",children:"Quản lý người dùng"})}),r.jsxs(Jt,{open:v,onOpenChange:y,children:[r.jsx(H5,{asChild:!0,children:r.jsxs(fe,{className:"bg-purple-400 hover:bg-purple-500 text-white",onClick:Sr,children:[r.jsx(kL,{className:"h-4 w-4 mr-2"})," Thêm Người Dùng"]})}),r.jsxs(Wt,{children:[r.jsx(an,{children:r.jsx(tn,{children:"Thêm Người Dùng Mới"})}),r.jsxs("form",{onSubmit:vc,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(De,{htmlFor:"hoTen",children:"Họ Tên"}),r.jsxs("div",{className:"relative",children:[r.jsx($n,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{id:"hoTen",placeholder:"Nhập họ tên",value:S.hoTen,onChange:be=>I({...S,hoTen:be.target.value}),className:"pl-8",required:!0})]}),bt.hoTen&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:bt.hoTen})]}),r.jsxs("div",{children:[r.jsx(De,{htmlFor:"email",children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(Xi,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{id:"email",type:"email",placeholder:"Nhập email",value:S.email,onChange:be=>I({...S,email:be.target.value}),className:"pl-8",required:!0})]}),bt.email&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:bt.email}),bt.emailUnique&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:bt.emailUnique})]}),r.jsxs("div",{children:[r.jsx(De,{htmlFor:"taiKhoan",children:"Tài Khoản"}),r.jsxs("div",{className:"relative",children:[r.jsx($n,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{id:"taiKhoan",placeholder:"Nhập tài khoản",value:S.taiKhoan,onChange:be=>I({...S,taiKhoan:be.target.value}),className:"pl-8",required:!0})]}),bt.taiKhoan&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:bt.taiKhoan}),bt.taiKhoanUnique&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:bt.taiKhoanUnique})]}),r.jsxs("div",{children:[r.jsx(De,{htmlFor:"matKhau",children:"Mật Khẩu"}),r.jsxs("div",{className:"relative",children:[r.jsx(Vi,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{id:"matKhau",type:C?"text":"password",placeholder:"Nhập mật khẩu",value:S.matKhau,onChange:be=>I({...S,matKhau:be.target.value}),className:"pl-8 pr-10",required:!0}),r.jsx("button",{type:"button",onClick:()=>j(!C),className:"absolute right-5 top-2 h-4 w-4 text-muted-foreground",children:C?r.jsx(dr,{}):r.jsx(nl,{})})]}),bt.matKhau&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:bt.matKhau})]}),r.jsxs("div",{children:[r.jsx(De,{htmlFor:"vaiTro",children:"Vai Trò"}),r.jsxs("div",{className:"relative",children:[r.jsx($n,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsxs("select",{id:"vaiTro",value:S.vaiTro,onChange:be=>I({...S,vaiTro:be.target.value}),className:"w-full border rounded-md p-2 pl-8",children:[r.jsx("option",{value:"0",children:"Người dùng"}),r.jsx("option",{value:"1",children:"Admin"}),r.jsx("option",{value:"2",children:"Nhân viên"})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsxs(fe,{type:"button",onClick:()=>y(!1),disabled:n,children:[r.jsx(st,{className:"h-4 w-4 mr-2"})," Hủy"]}),r.jsx(fe,{type:"submit",disabled:n,children:n?r.jsxs(r.Fragment,{children:[r.jsx(N6,{className:"h-4 w-4 mr-2 animate-spin"})," Đang lưu..."]}):r.jsxs(r.Fragment,{children:[r.jsx(mr,{className:"h-4 w-4 mr-2"})," Thêm"]})})]})]})]})]})]}),r.jsxs(ia,{defaultValue:"danhSachTaiKhoan",value:A,onValueChange:g,className:"w-full",children:[r.jsxs(Mi,{className:"grid w-full md:w-auto grid-cols-3 md:grid-cols-3 gap-1",children:[r.jsxs(Bn,{value:"danhSachTaiKhoan",className:"flex items-center gap-2",children:[r.jsx($n,{className:"h-4 w-4"})," Danh sách tài khoản"]}),r.jsxs(Bn,{value:"khoiPhuc",className:"flex items-center gap-2",children:[r.jsx(Xl,{className:"h-4 w-4"})," Khôi phục"]}),r.jsxs(Bn,{value:"danhSachThongKe",className:"flex items-center gap-2",children:[r.jsx(fL,{className:"h-4 w-4"})," Danh sách thống kê"]})]}),r.jsxs(Hn,{value:"danhSachTaiKhoan",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[r.jsxs("div",{className:"relative flex-grow",children:[r.jsx(Un,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{placeholder:"Tìm kiếm người dùng...",className:"pl-8 pr-10",value:o,onChange:be=>c(be.target.value)}),o&&r.jsx("button",{onClick:()=>c(""),className:"absolute right-2.5 top-2.5 h-4 w-4 text-muted-foreground",children:r.jsx(st,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"relative",children:[r.jsx($n,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsxs("select",{value:l,onChange:be=>u(be.target.value),className:"border rounded-md p-2 pl-8",children:[r.jsx("option",{value:"all",children:"Tất cả vai trò"}),r.jsx("option",{value:"admin",children:"Admin"}),r.jsx("option",{value:"nhanvien",children:"Nhân viên"}),r.jsx("option",{value:"nguoidung",children:"Người dùng"})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx($n,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsxs("select",{value:d,onChange:be=>f(be.target.value),className:"border rounded-md p-2 pl-8",children:[r.jsx("option",{value:"all",children:"Tất cả trạng thái"}),r.jsx("option",{value:"active",children:"Hoạt động"}),r.jsx("option",{value:"locked",children:"Khóa"})]})]})]}),r.jsx("div",{className:"hidden md:block border rounded-lg overflow-hidden",children:r.jsxs(Rr,{children:[r.jsx(Ur,{children:r.jsxs(Ht,{children:[r.jsx($e,{className:"w-[50px]",children:"STT"}),r.jsx($e,{className:"w-[120px]",children:"Hình Ảnh"}),r.jsx($e,{children:"Họ Tên"}),r.jsx($e,{children:"Email"}),r.jsx($e,{children:"Tài Khoản"}),r.jsx($e,{children:"Vai Trò"}),r.jsx($e,{children:"Trạng Thái"}),r.jsx($e,{className:"w-[120px]",children:"Hành động"})]})}),r.jsx(Hr,{children:gn.length>0?gn.map((be,nt)=>r.jsxs(Ht,{className:"hover:bg-muted/50",children:[r.jsx(He,{align:"center",children:(h-1)*p+nt+1}),r.jsx(He,{align:"center",children:r.jsx("img",{src:be.hinhAnh?be.hinhAnh.startsWith("data:image")?be.hinhAnh:`data:image/png;base64,${be.hinhAnh}`:b||"https://gockienthuc.edu.vn/wp-content/uploads/2024/07/hinh-anh-avatar-trang-mac-dinh-doc-dao-khong-lao-nhao_6690f0076072b.webp",alt:"Avatar",className:"w-16 h-16 rounded-full mx-auto mt-4 object-cover cursor-pointer hover:scale-105 transition-transform",onClick:()=>Tr(be)})}),r.jsx(He,{children:be.hoTen}),r.jsx(He,{children:be.email}),r.jsx(He,{children:be.taiKhoan||""}),r.jsx(He,{children:be.vaiTro===1?"Admin":be.vaiTro===2?"Nhân viên":"Người dùng"}),r.jsx(He,{children:r.jsxs("label",{className:"relative inline-block w-[60px] h-[34px]",children:[r.jsx("input",{type:"checkbox",className:"opacity-0 w-0 h-0",checked:be.trangThai===0,onChange:An=>Ii(be,An.target.checked?0:1),disabled:_e}),r.jsx("span",{className:`absolute cursor-pointer inset-0 rounded-full transition-all duration-300 ease-in-out
                              before:absolute before:h-[30px] before:w-[30px] before:left-[2px] before:bottom-[2px]
                              before:bg-white before:rounded-full before:shadow-md before:transition-all before:duration-300 before:ease-in-out
                              ${be.trangThai===0?"bg-crocus-500 before:translate-x-[26px]":"bg-gray-400"} hover:scale-110 shadow-sm hover:shadow-md`}),r.jsx("span",{className:"sr-only",children:be.trangThai===0?"Hoạt động":"Khóa"})]})}),r.jsx(He,{align:"center",children:r.jsxs(yr,{children:[r.jsx(wr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsx(li,{className:"h-4 w-4"})})}),r.jsxs(Ar,{align:"end",children:[r.jsxs(ut,{onClick:()=>Ot(be),className:"text-gray-700",children:[r.jsx(ku,{className:"mr-2 h-4 w-4 text-gray-600"})," Địa chỉ"]}),r.jsxs(ut,{onClick:()=>Tr(be),className:"text-green-700",children:[r.jsx(dr,{className:"mr-2 h-4 w-4"})," Xem"]}),r.jsxs(ut,{onClick:()=>Ps(be),className:"text-blue-700",children:[r.jsx(nm,{className:"mr-2 h-4 w-4"})," Sửa"]}),r.jsxs(ut,{onClick:()=>{E(be),F("hide"),O(!0)},className:"text-red-700",children:[r.jsx(uo,{className:"mr-2 h-4 w-4"})," Xóa"]})]})]})})]},be.maNguoiDung)):r.jsx(Ht,{children:r.jsx(He,{colSpan:8,className:"text-center py-6 text-muted-foreground",children:"Không tìm thấy người dùng nào phù hợp với tìm kiếm của bạn."})})})]})}),r.jsx("div",{className:"md:hidden space-y-4",children:gn.map(be=>r.jsxs(it,{children:[r.jsx(yt,{className:"p-4 pb-2",children:r.jsxs(jt,{className:"text-base flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("img",{src:be.hinhAnh?be.hinhAnh.startsWith("data:image")?be.hinhAnh:`data:image/png;base64,${be.hinhAnh}`:b||"https://gockienthuc.edu.vn/wp-content/uploads/2024/07/hinh-anh-avatar-trang-mac-dinh-doc-dao-khong-lao-nhao_6690f0076072b.webp",alt:"Avatar",className:"w-8 h-8 rounded-full object-cover"}),r.jsx("span",{children:be.hoTen})]}),r.jsxs(yr,{children:[r.jsx(wr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsx(li,{className:"h-4 w-4"})})}),r.jsxs(Ar,{align:"end",children:[r.jsxs(ut,{onClick:()=>Ot(be),children:[r.jsx(ku,{className:"mr-2 h-4 w-4"})," Địa chỉ"]}),r.jsxs(ut,{onClick:()=>Tr(be),children:[r.jsx(dr,{className:"mr-2 h-4 w-4"})," Chi tiết"]}),r.jsxs(ut,{onClick:()=>Ps(be),children:[r.jsx(nm,{className:"mr-2 h-4 w-4"})," Sửa chi tiết"]}),r.jsxs(ut,{onClick:()=>{E(be),F("hide"),O(!0)},children:[r.jsx(uo,{className:"mr-2 h-4 w-4"})," Ẩn"]})]})]})]})}),r.jsxs(dt,{className:"p-4 pt-0 space-y-1",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:be.email}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:be.vaiTro===1?"Admin":be.vaiTro===2?"Nhân viên":"Người dùng"}),r.jsx("span",{children:new Date(be.ngayTao).toLocaleDateString()})]}),r.jsx("div",{children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${be.trangThai===0?"bg-crocus-100 text-crocus-800":"bg-gray-100 text-gray-800"}`,children:be.trangThai===0?"Hoạt động":"Khóa"})})]})]},be.maNguoiDung))}),mt>1&&r.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[r.jsxs(fe,{onClick:()=>Ys(h-1),disabled:h===1,variant:"outline",className:"flex items-center",children:[r.jsx(ss,{className:"h-4 w-4 mr-2"}),"Trước"]}),Array.from({length:mt},(be,nt)=>nt+1).map(be=>r.jsx(fe,{onClick:()=>Ys(be),variant:h===be?"default":"outline",className:h===be?"bg-purple-400 text-white hover:bg-purple-300":"",children:be},be)),r.jsxs(fe,{onClick:()=>Ys(h+1),disabled:h===mt,variant:"outline",className:"flex items-center",children:["Sau",r.jsx(jr,{className:"h-4 w-4 ml-2"})]})]})]}),r.jsxs(Hn,{value:"khoiPhuc",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[r.jsxs("div",{className:"relative flex-grow",children:[r.jsx(Un,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{placeholder:"Tìm kiếm người dùng...",className:"pl-8 pr-10",value:o,onChange:be=>c(be.target.value)}),o&&r.jsx("button",{onClick:()=>c(""),className:"absolute right-2.5 top-2.5 h-4 w-4 text-muted-foreground",children:r.jsx(st,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"relative",children:[r.jsx($n,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsxs("select",{value:l,onChange:be=>u(be.target.value),className:"border rounded-md p-2 pl-8",children:[r.jsx("option",{value:"all",children:"Tất cả vai trò"}),r.jsx("option",{value:"admin",children:"Admin"}),r.jsx("option",{value:"nhanvien",children:"Nhân viên"}),r.jsx("option",{value:"nguoidung",children:"Người dùng"})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx($n,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx("select",{value:d,onChange:be=>f(be.target.value),className:"border rounded-md p-2 pl-8",children:r.jsx("option",{value:"all",children:"Tất cả trạng thái"})})]})]}),r.jsx("div",{className:"hidden md:block border rounded-lg overflow-hidden",children:r.jsxs(Rr,{children:[r.jsx(Ur,{children:r.jsxs(Ht,{children:[r.jsx($e,{className:"w-[50px]",children:"STT"}),r.jsx($e,{className:"w-[120px]",children:"Hình Ảnh"}),r.jsx($e,{children:"Họ Tên"}),r.jsx($e,{children:"Email"}),r.jsx($e,{children:"Tài Khoản"}),r.jsx($e,{children:"Vai Trò"}),r.jsx($e,{children:"Trạng Thái"}),r.jsx($e,{className:"w-[120px]",children:"Hành động"})]})}),r.jsx(Hr,{children:gn.length>0?gn.map((be,nt)=>r.jsxs(Ht,{className:"hover:bg-muted/50",children:[r.jsx(He,{align:"center",children:(h-1)*p+nt+1}),r.jsx(He,{align:"center",children:r.jsx("img",{src:be.hinhAnh?be.hinhAnh.startsWith("data:image")?be.hinhAnh:`data:image/png;base64,${be.hinhAnh}`:b||"https://gockienthuc.edu.vn/wp-content/uploads/2024/07/hinh-anh-avatar-trang-mac-dinh-doc-dao-khong-lao-nhao_6690f0076072b.webp",alt:"Avatar",className:"w-16 h-16 rounded-full mx-auto mt-4 object-cover cursor-pointer hover:scale-105 transition-transform",onClick:()=>Tr(be)})}),r.jsx(He,{children:be.hoTen}),r.jsx(He,{children:be.email}),r.jsx(He,{children:be.taiKhoan||""}),r.jsx(He,{children:be.vaiTro===1?"Admin":be.vaiTro===2?"Nhân viên":"Người dùng"}),r.jsx(He,{children:r.jsxs("label",{className:"relative inline-block w-[60px] h-[34px]",children:[r.jsx("input",{type:"checkbox",className:"opacity-0 w-0 h-0",checked:be.trangThai===0,onChange:An=>{An.target.checked?(E(be),F("restore"),O(!0)):Ii(be,1)},disabled:_e}),r.jsx("span",{className:`absolute cursor-pointer inset-0 rounded-full transition-all duration-300 ease-in-out
                              before:absolute before:h-[30px] before:w-[30px] before:left-[2px] before:bottom-[2px]
                              before:bg-white before:rounded-full before:shadow-md before:transition-all before:duration-300 before:ease-in-out
                              ${be.trangThai===0?"bg-crocus-500 before:translate-x-[26px]":"bg-gray-400"} hover:scale-110 shadow-sm hover:shadow-md`}),r.jsx("span",{className:"sr-only",children:be.trangThai===0?"Hoạt động":"Ẩn"})]})}),r.jsx(He,{align:"center",children:r.jsxs(yr,{children:[r.jsx(wr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsx(li,{className:"h-4 w-4"})})}),r.jsxs(Ar,{align:"end",children:[r.jsxs(ut,{onClick:()=>Tr(be),className:"text-green-700",children:[r.jsx(dr,{className:"mr-2 h-4 w-4"})," Chi tiết"]}),r.jsxs(ut,{onClick:()=>{E(be),F("restore"),O(!0)},className:"text-blue-700",children:[r.jsx(Xl,{className:"mr-2 h-4 w-4"})," Khôi phục"]}),r.jsxs(ut,{onClick:()=>{E(be),F("delete"),O(!0)},className:"text-red-700",children:[r.jsx(uo,{className:"mr-2 h-4 w-4"})," Xóa vĩnh viễn"]})]})]})})]},be.maNguoiDung)):r.jsx(Ht,{children:r.jsx(He,{colSpan:8,className:"text-center py-6 text-muted-foreground",children:"Không có người dùng ẩn nào để hiển thị."})})})]})}),r.jsx("div",{className:"md:hidden space-y-4",children:gn.map(be=>r.jsxs(it,{children:[r.jsx(yt,{className:"p-4 pb-2",children:r.jsxs(jt,{className:"text-base flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("img",{src:be.hinhAnh?be.hinhAnh.startsWith("data:image")?be.hinhAnh:`data:image/png;base64,${be.hinhAnh}`:b||"https://gockienthuc.edu.vn/wp-content/uploads/2024/07/hinh-anh-avatar-trang-mac-dinh-doc-dao-khong-lao-nhao_6690f0076072b.webp",alt:"Avatar",className:"w-8 h-8 rounded-full object-cover"}),r.jsx("span",{children:be.hoTen})]}),r.jsxs(yr,{children:[r.jsx(wr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsx(li,{className:"h-4 w-4"})})}),r.jsxs(Ar,{align:"end",children:[r.jsxs(ut,{onClick:()=>Tr(be),children:[r.jsx(dr,{className:"mr-2 h-4 w-4"})," Chi tiết"]}),r.jsxs(ut,{onClick:()=>{E(be),F("restore"),O(!0)},children:[r.jsx(Xl,{className:"mr-2 h-4 w-4"})," Khôi phục"]}),r.jsxs(ut,{onClick:()=>{E(be),F("delete"),O(!0)},children:[r.jsx(uo,{className:"mr-2 h-4 w-4"})," Xóa vĩnh viễn"]})]})]})]})}),r.jsxs(dt,{className:"p-4 pt-0 space-y-1",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:be.email}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:be.vaiTro===1?"Admin":be.vaiTro===2?"Nhân viên":"Người dùng"}),r.jsx("span",{children:new Date(be.ngayTao).toLocaleDateString()})]}),r.jsx("div",{children:r.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-gray-100 text-gray-800",children:"Ẩn"})})]})]},be.maNguoiDung))}),mt>1&&r.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[r.jsxs(fe,{onClick:()=>Ys(h-1),disabled:h===1,variant:"outline",className:"flex items-center",children:[r.jsx(ss,{className:"h-4 w-4 mr-2"}),"Trước"]}),Array.from({length:mt},(be,nt)=>nt+1).map(be=>r.jsx(fe,{onClick:()=>Ys(be),variant:h===be?"default":"outline",className:h===be?"bg-purple-400 text-white hover:bg-purple-300":"",children:be},be)),r.jsxs(fe,{onClick:()=>Ys(h+1),disabled:h===mt,variant:"outline",className:"flex items-center",children:["Sau",r.jsx(jr,{className:"h-4 w-4 ml-2"})]})]})]}),r.jsxs(Hn,{value:"danhSachThongKe",children:[r.jsxs("div",{className:"mt-8",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Thống kê người dùng"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Người dùng mới hôm nay"}),r.jsx("p",{className:"text-2xl font-bold",children:ge.usersToday})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Tổng số người dùng"}),r.jsx("p",{className:"text-2xl font-bold",children:ge.totalUsers})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Người dùng hoạt động"}),r.jsx("p",{className:"text-2xl font-bold",children:ge.activeUsers})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Người dùng bị khóa"}),r.jsx("p",{className:"text-2xl font-bold",children:ge.lockedUsers})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Người dùng mới tháng này"}),r.jsx("p",{className:"text-2xl font-bold",children:ge.usersThisMonth})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Người dùng mới năm nay"}),r.jsx("p",{className:"text-2xl font-bold",children:ge.usersThisYear})]})]})]}),r.jsxs("div",{className:"mt-8",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Biểu đồ thống kê"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Số lượng người dùng theo vai trò"}),r.jsx(HG,{data:Se,options:{responsive:!0}})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Tỷ lệ người dùng hoạt động và bị khóa"}),r.jsx("div",{style:{height:"300px",width:"300px"},children:r.jsx(CDe,{data:Le,options:{responsive:!0,maintainAspectRatio:!1}})})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Người dùng mới theo tháng trong năm ",new Date().getFullYear()]}),r.jsx(UG,{data:Ge,options:{responsive:!0}})]})]})]})]})]}),r.jsx(Jt,{open:N,onOpenChange:P,children:r.jsxs(Wt,{className:"p-6 max-w-4xl w-full",children:[r.jsx(an,{children:r.jsx(tn,{children:"Chi Tiết Người Dùng"})}),T&&r.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[r.jsxs("div",{className:"col-span-1 space-y-4",children:[r.jsxs("div",{children:[r.jsx(De,{children:"Hình Ảnh"}),r.jsx("img",{src:T.hinhAnh?T.hinhAnh.startsWith("data:image")?T.hinhAnh:`data:image/png;base64,${T.hinhAnh}`:b||"https://gockienthuc.edu.vn/wp-content/uploads/2024/07/hinh-anh-avatar-trang-mac-dinh-doc-dao-khong-lao-nhao_6690f0076072b.webp",alt:"Avatar",className:"mt-2 w-64 h-64 object-cover rounded-full border-2 border-crocus-500"})]}),r.jsxs("div",{children:[r.jsx(De,{children:"Mô Tả"}),r.jsx("textarea",{value:T.moTa||"Chưa cập nhật",readOnly:!0,className:"w-full p-2 border rounded cursor-not-allowed text-black border-2 border-crocus-300",rows:4})]})]}),r.jsxs("div",{className:"col-span-1 space-y-4",children:[r.jsxs("div",{children:[r.jsx(De,{children:"Tài Khoản"}),r.jsxs("div",{className:"relative",children:[r.jsx($n,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{value:T.taiKhoan||"Chưa cập nhật",disabled:!0,className:"pl-8 text-black border-2 border-crocus-500"})]})]}),r.jsxs("div",{children:[r.jsx(De,{children:"Họ Tên"}),r.jsxs("div",{className:"relative",children:[r.jsx($n,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{value:T.hoTen||"Chưa cập nhật",disabled:!0,className:"pl-8 text-black border-2 border-crocus-500"})]})]}),r.jsxs("div",{children:[r.jsx(De,{children:"Vai Trò"}),r.jsxs("div",{className:"relative",children:[r.jsx($n,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{value:T.vaiTro===1?"Admin":T.vaiTro===2?"Nhân viên":"Người dùng",disabled:!0,className:"pl-8 text-black border-2 border-crocus-500"})]})]}),r.jsxs("div",{children:[r.jsx(De,{children:"Ngày Tạo"}),r.jsxs("div",{className:"relative",children:[r.jsx(ts,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{value:T.ngayTao?Xs(T.ngayTao):"Chưa cập nhật",disabled:!0,className:"pl-8 text-black border-2 border-crocus-500"})]})]}),r.jsxs("div",{children:[r.jsx(De,{children:"Giới Tính"}),r.jsxs("div",{className:"relative",children:[r.jsx($n,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{value:vt(T.gioiTinh||0),disabled:!0,className:"pl-8 text-black border-2 border-crocus-500"})]})]}),r.jsxs("div",{children:[r.jsx(De,{children:"Trạng Thái"}),r.jsxs("div",{className:"relative",children:[r.jsx(Vi,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{value:T.trangThai===0?"Hoạt động":T.trangThai===1?"Khóa":"Ẩn",disabled:!0,className:`pl-8 font-semibold border-2 border-crocus-500 ${T.trangThai===0?"text-green-600":T.trangThai===1?"text-red-600":"text-gray-600"}`})]})]})]}),r.jsxs("div",{className:"col-span-1 space-y-4",children:[r.jsxs("div",{children:[r.jsx(De,{children:"Ngày Sinh"}),r.jsxs("div",{className:"relative",children:[r.jsx(ts,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{value:T.ngaySinh?new Date(T.ngaySinh).toLocaleDateString("vi-VN"):"Chưa cập nhật",disabled:!0,className:"pl-8 text-black border-2 border-crocus-500"})]})]}),r.jsxs("div",{children:[r.jsx(De,{children:"Số Điện Thoại"}),r.jsxs("div",{className:"relative",children:[r.jsx(_u,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{value:T.sdt||"Chưa cập nhật",disabled:!0,className:"pl-8 text-black border-2 border-crocus-500"})]})]}),r.jsxs("div",{children:[r.jsx(De,{children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(Xi,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{value:T.email||"Chưa cập nhật",disabled:!0,className:"pl-8 text-black border-2 border-crocus-500"})]})]}),r.jsxs("div",{children:[r.jsx(De,{children:"CCCD"}),r.jsxs("div",{className:"relative",children:[r.jsx(Yd,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{value:T.cccd||"Chưa cập nhật",disabled:!0,className:"pl-8 text-black border-2 border-crocus-500"})]})]}),r.jsxs("div",{children:[r.jsx(De,{children:"Địa Chỉ"}),r.jsxs("div",{className:"relative",children:[r.jsx(KN,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{value:T.diaChi||"Chưa cập nhật",disabled:!0,className:"pl-8 text-black border-2 border-crocus-500"})]})]}),r.jsxs("div",{children:[r.jsx(De,{children:"Ngày Kết Thúc Khóa"}),r.jsxs("div",{className:"relative",children:[r.jsx(ts,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{value:T.lockoutEndDate?Xs(T.lockoutEndDate):"Chưa cập nhật",disabled:!0,className:"pl-8 text-black border-2 border-crocus-500"})]})]})]})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsxs(fe,{type:"button",onClick:()=>P(!1),children:[r.jsx(st,{className:"h-4 w-4 mr-2"})," Đóng"]})})]})}),r.jsx(Jt,{open:M,onOpenChange:k,children:r.jsxs(Wt,{className:"p-6 max-w-4xl w-full",children:[r.jsx(an,{children:r.jsx(tn,{children:"Cập Nhật Chi Tiết Người Dùng"})}),r.jsxs("form",{onSubmit:Mh,className:"grid grid-cols-3 gap-6",children:[r.jsxs("div",{className:"col-span-1 space-y-4",children:[r.jsxs("div",{children:[r.jsx(De,{children:"Hình Ảnh"}),r.jsx("div",{className:`mt-2 w-32 h-32 border-2 border-dashed rounded-lg relative flex items-center justify-center cursor-pointer ${xt?"border-crocus-500 bg-crocus-50":"border-gray-300"}`,onDragOver:wc,onDragLeave:Wn,onDrop:On,onClick:_o,children:ce?r.jsxs(r.Fragment,{children:[r.jsx("img",{src:ce,alt:"Avatar",className:"w-full h-full object-cover rounded-lg"}),r.jsx("button",{className:"absolute top-3 right-3 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center",onClick:be=>{be.stopPropagation(),de(null)},children:"X"})]}):r.jsx("span",{className:"text-gray-500 text-sm text-center",children:"Nhấp để chọn hình ảnh"})}),r.jsx("input",{type:"file",accept:"image/*",id:"fileInput",onChange:yl,className:"hidden"})]}),r.jsxs("div",{children:[r.jsx(De,{children:"Mô Tả"}),r.jsx("textarea",{value:pe,onChange:be=>Ae(be.target.value),className:"w-full p-2 border rounded text-muted-foreground focus:ring-2 focus:ring-purple-400 focus:outline-none",rows:3,placeholder:"Nhập mô tả..."})]}),oe===1&&r.jsxs("div",{children:[r.jsx(De,{children:"Ngày Kết Thúc Khóa"}),r.jsxs("div",{className:"relative",children:[r.jsx(ts,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{type:"date",value:me||"",onChange:be=>ve(be.target.value),min:new Date(new Date().setDate(new Date().getDate()+1)).toISOString().split("T")[0],className:"pl-8",required:oe===1})]}),bt.chiTietLockoutEndDate&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:bt.chiTietLockoutEndDate})]})]}),r.jsxs("div",{className:"col-span-1 space-y-4",children:[r.jsxs("div",{children:[r.jsx(De,{children:"Tài Khoản"}),r.jsxs("div",{className:"relative",children:[r.jsx($n,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{value:ie,onChange:be=>q(be.target.value),disabled:!0,className:"pl-8"})]}),bt.chiTietTaiKhoanUnique&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:bt.chiTietTaiKhoanUnique})]}),r.jsxs("div",{children:[r.jsx(De,{children:"Họ Tên"}),r.jsxs("div",{className:"relative",children:[r.jsx($n,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{value:W,placeholder:"Nhập họ tên",onChange:be=>H(be.target.value),required:!0,className:"pl-8"})]}),bt.chiTietHoTen&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:bt.chiTietHoTen})]}),r.jsxs("div",{children:[r.jsx(De,{children:"Vai Trò"}),r.jsxs("div",{className:"relative",children:[r.jsx($n,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{value:re===1?"Admin":re===2?"Nhân viên":"Người dùng",disabled:!0,className:"text-black pl-8"})]})]}),r.jsxs("div",{children:[r.jsx(De,{children:"Trạng Thái"}),r.jsxs("div",{className:"relative",children:[r.jsx($n,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsxs("select",{value:oe,onChange:be=>{const nt=parseInt(be.target.value);ae(nt),nt===0&&ve(null)},className:"w-full border rounded-md p-2 pl-8 focus:outline-none focus:ring-2 focus:ring-purple-400",children:[r.jsx("option",{value:0,children:"Hoạt động"}),r.jsx("option",{value:1,children:"Khóa"})]})]})]}),r.jsxs("div",{children:[r.jsx(De,{children:"Giới Tính"}),r.jsxs("div",{className:"relative",children:[r.jsx($n,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsxs("select",{value:le,onChange:be=>he(parseInt(be.target.value)),className:"w-full border rounded-md p-2 pl-8 focus:outline-none focus:ring-2 focus:ring-purple-400",children:[r.jsx("option",{value:1,children:"Nam"}),r.jsx("option",{value:2,children:"Nữ"}),r.jsx("option",{value:0,children:"Khác"})]})]})]})]}),r.jsxs("div",{className:"col-span-1 space-y-4",children:[r.jsxs("div",{children:[r.jsx(De,{children:"Ngày Sinh"}),r.jsxs("div",{className:"relative",children:[r.jsx(ts,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{type:"date",value:Q,onChange:be=>G(be.target.value),className:"pl-8"})]}),bt.chiTietNgaySinh&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:bt.chiTietNgaySinh})]}),r.jsxs("div",{children:[r.jsx(De,{children:"Số Điện Thoại"}),r.jsxs("div",{className:"relative",children:[r.jsx(_u,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{value:J,placeholder:"Nhập số điện thoại",onChange:be=>ee(be.target.value),onInput:Gn,maxLength:10,className:"pl-8"})]}),bt.chiTietSdt&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:bt.chiTietSdt}),bt.chiTietSdtUnique&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:bt.chiTietSdtUnique})]}),r.jsxs("div",{children:[r.jsx(De,{children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(Xi,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{value:ue,placeholder:"Nhập email",onChange:be=>se(be.target.value),required:!0,className:"pl-8"})]}),bt.chiTietEmail&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:bt.chiTietEmail}),bt.chiTietEmailUnique&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:bt.chiTietEmailUnique})]}),r.jsxs("div",{children:[r.jsx(De,{children:"CCCD"}),r.jsxs("div",{className:"relative",children:[r.jsx(Yd,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{value:K,placeholder:"Nhập CCCD",onChange:be=>ne(be.target.value),onInput:Jn,maxLength:12,className:"pl-8"})]}),bt.chiTietCccd&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:bt.chiTietCccd}),bt.chiTietCccdUnique&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:bt.chiTietCccdUnique})]}),r.jsxs("div",{children:[r.jsx(De,{children:"Địa Chỉ"}),r.jsxs("div",{className:"relative",children:[r.jsx(KN,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{value:Z,placeholder:"Nhập địa chỉ",onChange:be=>te(be.target.value),className:"pl-8"})]})]})]}),r.jsxs("div",{className:"col-span-3 flex justify-end space-x-2 mt-6",children:[r.jsxs(fe,{type:"button",onClick:()=>k(!1),disabled:_e,children:[r.jsx(st,{className:"h-4 w-4 mr-2"})," Hủy"]}),r.jsx(fe,{type:"submit",disabled:_e,children:_e?r.jsxs(r.Fragment,{children:[r.jsx(N6,{className:"h-4 w-4 mr-2 animate-spin"})," Đang cập nhật..."]}):r.jsxs(r.Fragment,{children:[r.jsx(e0,{className:"h-4 w-4 mr-2"})," Cập nhật"]})})]})]})]})}),r.jsx(Jt,{open:R,onOpenChange:U,children:r.jsxs(Wt,{className:"p-6 max-w-5xl w-full",children:[r.jsx(an,{children:r.jsx(tn,{children:"Danh Sách Địa Chỉ"})}),z.length>0?r.jsxs(Rr,{children:[r.jsx(Ur,{children:r.jsxs(Ht,{children:[r.jsx($e,{children:"STT"}),r.jsx($e,{children:"Họ Tên"}),r.jsx($e,{children:"Số Điện Thoại"}),r.jsx($e,{children:"Mô Tả"}),r.jsx($e,{children:"Tỉnh"}),r.jsx($e,{children:"Huyện"}),r.jsx($e,{children:"Xã"}),r.jsx($e,{children:"Địa Chỉ"}),r.jsx($e,{children:"Trạng Thái"})]})}),r.jsx(Hr,{children:z.map((be,nt)=>r.jsxs(Ht,{children:[r.jsx(He,{children:nt+1}),r.jsx(He,{children:be.hoTen||"Chưa cập nhật"}),r.jsx(He,{children:be.sdt||"Chưa cập nhật"}),r.jsx(He,{children:be.moTa||"Chưa cập nhật"}),r.jsx(He,{children:be.tinh||"Chưa cập nhật"}),r.jsx(He,{children:be.quanHuyen||"Chưa cập nhật"}),r.jsx(He,{children:be.phuongXa||"Chưa cập nhật"}),r.jsx(He,{children:be.diaChi||"Chưa cập nhật"}),r.jsx(He,{children:be.trangThai?"Hoạt động":"Không hoạt động"})]},be.maDiaChi))})]}):r.jsx("p",{children:"Không có địa chỉ nào cho người dùng này."}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsxs(fe,{type:"button",onClick:()=>U(!1),children:[r.jsx(st,{className:"h-4 w-4 mr-2"})," Đóng"]})})]})}),r.jsx(Jt,{open:Ue,onOpenChange:Ee,children:r.jsxs(Wt,{className:"p-6",children:[r.jsx(an,{children:r.jsx(tn,{children:"Xác nhận thay đổi trạng thái"})}),r.jsxs(Or,{children:["Bạn có chắc chắn muốn ",Ce===0?"mở khóa":"khóa"," tài khoản"," ",r.jsx("strong",{children:Me==null?void 0:Me.taiKhoan})," không?"]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[r.jsxs(fe,{type:"button",onClick:()=>Ee(!1),disabled:_e,children:[r.jsx(st,{className:"h-4 w-4 mr-2"})," Hủy"]}),r.jsxs(fe,{type:"button",onClick:vl,disabled:_e,children:[r.jsx(Sm,{className:"h-4 w-4 mr-2"})," ",_e?"Đang xử lý...":"Xác nhận"]})]})]})}),r.jsx(Jt,{open:D,onOpenChange:O,children:r.jsxs(Wt,{className:"p-6",children:[r.jsxs(tn,{children:[L==="hide"&&"Xác nhận xóa người dùng",L==="restore"&&"Xác nhận khôi phục người dùng",L==="delete"&&"Xác nhận xóa vĩnh viễn người dùng"]}),r.jsxs("p",{children:["Bạn có chắc chắn muốn ",L==="hide"?"xóa":L==="restore"?"khôi phục":"xóa vĩnh viễn"," người dùng ",_==null?void 0:_.hoTen," không?"]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[r.jsxs(fe,{onClick:()=>O(!1),variant:"outline",children:[r.jsx(Xd,{className:"w-4 h-4 mr-2"}),"Hủy"]}),r.jsxs(fe,{onClick:yc,variant:"destructive",children:[r.jsx(ra,{className:"w-4 h-4 mr-2"}),"Xác nhận"]})]})]})})]})},SDe=()=>r.jsxs("div",{className:"py-10 space-y-8",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Staff Management"}),r.jsxs(fe,{children:[r.jsx(mr,{className:"h-4 w-4 mr-2"}),"Add Staff"]})]}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsx(ye,{placeholder:"Search staff members...",className:"max-w-sm"})}),r.jsx("div",{className:"border rounded-lg",children:r.jsxs(Rr,{children:[r.jsx(Ur,{children:r.jsxs(Ht,{children:[r.jsx($e,{children:"Staff Member"}),r.jsx($e,{children:"Email"}),r.jsx($e,{children:"Role"}),r.jsx($e,{children:"Department"}),r.jsx($e,{children:"Status"})]})}),r.jsx(Hr,{children:r.jsxs(Ht,{children:[r.jsx(He,{className:"font-medium",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($n,{className:"h-4 w-4"}),r.jsx("span",{children:"Jane Smith"})]})}),r.jsx(He,{children:"jane@example.com"}),r.jsx(He,{children:"Manager"}),r.jsx(He,{children:"Sales"}),r.jsx(He,{children:r.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs",children:"Active"})})]})})]})})]}),TDe=$u("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 bg-green-50 text-green-700 dark:border-green-500 [&>svg]:text-green-500",warning:"border-yellow-500/50 bg-yellow-50 text-yellow-700 dark:border-yellow-500 [&>svg]:text-yellow-500",info:"border-blue-500/50 bg-blue-50 text-blue-700 dark:border-blue-500 [&>svg]:text-blue-500"}},defaultVariants:{variant:"default"}}),XS=B.forwardRef(({className:e,variant:t,children:n,icon:s,...i},a)=>{const o=()=>{if(s)return s;switch(t){case"success":return r.jsx(ZZ,{className:"h-4 w-4"});case"destructive":return r.jsx(Xd,{className:"h-4 w-4"});case"warning":return r.jsx(_T,{className:"h-4 w-4"});case"info":return r.jsx(ST,{className:"h-4 w-4"});default:return null}};return r.jsxs("div",{ref:a,role:"alert",className:Fe(TDe({variant:t}),e),...i,children:[o(),n]})});XS.displayName="Alert";const YS=B.forwardRef(({className:e,...t},n)=>r.jsx("h5",{ref:n,className:Fe("mb-1 font-medium leading-none tracking-tight",e),...t}));YS.displayName="AlertTitle";const ZS=B.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Fe("text-sm [&_p]:leading-relaxed",e),...t}));ZS.displayName="AlertDescription";const cd="https://bicacuatho.azurewebsites.net",kDe=({isOpen:e,onClose:t,children:n})=>e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-10",onClick:t,children:r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg relative w-full max-w-2xl h-auto max-h-[90vh] overflow-y-auto",onClick:s=>s.stopPropagation(),children:[r.jsx("button",{className:"absolute top-2 right-2 text-black hover:text-gray-700",onClick:t,children:r.jsx(st,{className:"h-6 w-6"})}),n]})}):null,_De=({isOpen:e,onClose:t,onConfirm:n,message:s})=>e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",onClick:t,children:r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg relative w-full max-w-2xl",onClick:i=>i.stopPropagation(),children:[r.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",onClick:t,children:r.jsx(st,{className:"h-6 w-6"})}),r.jsx("h2",{className:"text-xl font-bold",children:"Xác nhận"}),r.jsx("p",{className:"mt-4",children:s}),r.jsxs("div",{className:"flex justify-end space-x-4 mt-4",children:[r.jsxs(fe,{onClick:t,variant:"outline",className:"flex items-center gap-2",children:[r.jsx(st,{className:"h-5 w-5"})," Hủy"]}),r.jsxs(fe,{onClick:n,className:"bg-purple-400 text-white hover:bg-purple-300 flex items-center gap-2",children:[r.jsx(Sm,{className:"h-5 w-5"})," Đồng ý"]})]})]})}):null,Ma=({id:e,label:t,currentImage:n,onImageChange:s,error:i})=>{const[a,o]=B.useState(n?`data:image/png;base64,${n}`:null),c=B.useRef(null),l=h=>{h.preventDefault();const m=h.dataTransfer.files[0];if(m&&m.type.startsWith("image/")&&m.size<=5*1024*1024){const A=new FileReader;A.onload=()=>o(A.result),A.readAsDataURL(m),s(m)}else s(null),o(null)},u=h=>{var A;const m=(A=h.target.files)==null?void 0:A[0];if(m&&m.type.startsWith("image/")&&m.size<=5*1024*1024){const g=new FileReader;g.onload=()=>o(g.result),g.readAsDataURL(m),s(m)}else s(null),o(null)},d=()=>{var h;return(h=c.current)==null?void 0:h.click()},f=h=>{h.stopPropagation(),o(null),s(null)};return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-4 rounded-md text-center cursor-pointer",onClick:d,onDrop:l,onDragOver:h=>h.preventDefault(),children:[r.jsxs(De,{htmlFor:e,className:"flex items-center justify-center gap-2",children:[r.jsx(Wr,{className:"h-4 w-4"})," ",t]}),a?r.jsxs("div",{className:"relative mt-2",children:[r.jsx("img",{src:a,alt:"Preview",className:e==="logo"?"w-32 h-16 object-cover rounded-md":e==="avt"?"w-16 h-16 object-cover rounded-full":"w-32 h-16 object-cover rounded-md"}),r.jsx("button",{className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center",onClick:f,"aria-label":"Xóa ảnh",children:"X"})]}):r.jsx("p",{className:"text-gray-500",children:"Kéo thả hình ảnh hoặc nhấp để chọn tệp"}),r.jsx(ye,{type:"file",id:e,name:e,accept:"image/png,image/jpeg",className:"hidden",ref:c,onChange:u})]}),i&&r.jsx("p",{className:"text-red-500 text-sm",children:i})]})},BDe=({onSubmit:e,onCancel:t})=>{const[n,s]=B.useState(""),[i,a]=B.useState(null),[o,c]=B.useState(null),[l,u]=B.useState(null),[d,f]=B.useState(null),[h,m]=B.useState(null),[A,g]=B.useState(null),[p,b]=B.useState({}),x=()=>{const y={};return n?n.length<=5&&(y.tenGiaoDien="Tên giao diện phải trên 5 ký tự"):y.tenGiaoDien="Vui lòng nhập tên giao diện",i||(y.logo="Vui lòng chọn ảnh logo"),o||(y.avt="Vui lòng chọn ảnh avt"),l||(y.slider1="Vui lòng chọn ảnh slider1"),d||(y.slider2="Vui lòng chọn ảnh slider2"),h||(y.slider3="Vui lòng chọn ảnh slider3"),A||(y.slider4="Vui lòng chọn ảnh slider4"),y},v=y=>{y.preventDefault();const N=x();if(Object.keys(N).length>0){b(N);return}const P=new FormData;P.append("TenGiaoDien",n),i&&P.append("Logo",i),o&&P.append("Avt",o),l&&P.append("Slider1",l),d&&P.append("Slider2",d),h&&P.append("Slider3",h),A&&P.append("Slider4",A),P.append("TrangThai","0"),e(P)};return r.jsxs("form",{onSubmit:v,className:"space-y-4",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Thêm Mới Giao Diện"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs(De,{htmlFor:"tenGiaoDien",className:"flex items-center gap-2",children:[r.jsx(ul,{className:"h-6 w-6"})," Tên Giao Diện"]}),r.jsx(ye,{id:"tenGiaoDien",value:n,onChange:y=>s(y.target.value),placeholder:"Nhập tên giao diện"}),p.tenGiaoDien&&r.jsx("p",{className:"text-red-500 text-sm",children:p.tenGiaoDien})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"flex flex-col space-y-4",children:[r.jsx(Ma,{id:"logo",label:"Logo",onImageChange:a,error:p.logo}),r.jsx(Ma,{id:"avt",label:"Avt",onImageChange:c,error:p.avt})]}),r.jsxs("div",{className:"flex flex-col space-y-4",children:[r.jsx(Ma,{id:"slider1",label:"Slider 1",onImageChange:u,error:p.slider1}),r.jsx(Ma,{id:"slider2",label:"Slider 2",onImageChange:f,error:p.slider2})]}),r.jsxs("div",{className:"flex flex-col space-y-4",children:[r.jsx(Ma,{id:"slider3",label:"Slider 3",onImageChange:m,error:p.slider3}),r.jsx(Ma,{id:"slider4",label:"Slider 4",onImageChange:g,error:p.slider4})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-4",children:[r.jsxs(fe,{onClick:t,variant:"outline",className:"flex items-center gap-2",children:[r.jsx(st,{className:"h-5 w-5"})," Hủy"]}),r.jsxs(fe,{type:"submit",className:"bg-purple-400 text-white hover:bg-purple-300 flex items-center gap-2",children:[r.jsx(mr,{className:"h-5 w-5"})," Thêm"]})]})]})},EDe=({giaoDien:e,onSubmit:t,onCancel:n})=>{const[s,i]=B.useState(e.tenGiaoDien||""),[a,o]=B.useState(null),[c,l]=B.useState(null),[u,d]=B.useState(null),[f,h]=B.useState(null),[m,A]=B.useState(null),[g,p]=B.useState(null),[b,x]=B.useState({}),v=()=>{const N={};return s?s.length<=5&&(N.tenGiaoDien="Tên giao diện phải trên 5 ký tự"):N.tenGiaoDien="Vui lòng nhập tên giao diện",N},y=N=>{N.preventDefault();const P=v();if(Object.keys(P).length>0){x(P);return}const M=new FormData;M.append("MaGiaoDien",e.maGiaoDien.toString()),M.append("TenGiaoDien",s),M.append("TrangThai",e.trangThai.toString()),a&&M.append("Logo",a),c&&M.append("Avt",c),u&&M.append("Slider1",u),f&&M.append("Slider2",f),m&&M.append("Slider3",m),g&&M.append("Slider4",g),t(M)};return r.jsxs("form",{onSubmit:y,className:"space-y-4",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Chỉnh Sửa Giao Diện"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs(De,{htmlFor:"tenGiaoDien",className:"flex items-center gap-2",children:[r.jsx(ul,{className:"h-4 w-4"})," Tên Giao Diện"]}),r.jsx(ye,{id:"tenGiaoDien",value:s,onChange:N=>i(N.target.value),placeholder:"Nhập tên giao diện"}),b.tenGiaoDien&&r.jsx("p",{className:"text-red-500 text-sm",children:b.tenGiaoDien})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"flex flex-col space-y-4",children:[r.jsx(Ma,{id:"logo",label:"Logo",currentImage:e.logo,onImageChange:o,error:b.logo}),r.jsx(Ma,{id:"avt",label:"Avt",currentImage:e.avt,onImageChange:l,error:b.avt})]}),r.jsxs("div",{className:"flex flex-col space-y-4",children:[r.jsx(Ma,{id:"slider1",label:"Slider 1",currentImage:e.slider1,onImageChange:d,error:b.slider1}),r.jsx(Ma,{id:"slider2",label:"Slider 2",currentImage:e.slider2,onImageChange:h,error:b.slider2})]}),r.jsxs("div",{className:"flex flex-col space-y-4",children:[r.jsx(Ma,{id:"slider3",label:"Slider 3",currentImage:e.slider3,onImageChange:A,error:b.slider3}),r.jsx(Ma,{id:"slider4",label:"Slider 4",currentImage:e.slider4,onImageChange:p,error:b.slider4})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-4",children:[r.jsxs(fe,{onClick:n,variant:"outline",className:"flex items-center gap-2",children:[r.jsx(st,{className:"h-5 w-5"})," Hủy"]}),r.jsxs(fe,{type:"submit",className:"bg-purple-400 text-white hover:bg-purple-300 flex items-center gap-2",children:[r.jsx(e0,{className:"h-5 w-5"})," Cập nhật"]})]})]})},PDe=({giaoDien:e,onConfirm:t,onCancel:n})=>r.jsxs("div",{className:"space-y-4 min-h-[150px]",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Xác nhận xóa Giao Diện"}),r.jsxs("p",{children:["Bạn có chắc chắn muốn xóa giao diện ",e.tenGiaoDien," không?"]}),r.jsxs("div",{className:"flex justify-end space-x-4 mt-4",children:[r.jsxs(fe,{onClick:n,variant:"outline",className:"flex items-center gap-2",children:[r.jsx(st,{className:"h-5 w-5"})," Hủy"]}),r.jsxs(fe,{onClick:t,className:"bg-purple-400 text-white hover:bg-purple-300 flex items-center gap-2",children:[r.jsx(uo,{className:"h-5 w-5"})," Xóa"]})]})]}),MDe=({giaoDien:e,onConfirm:t,onCancel:n})=>r.jsxs("div",{className:"space-y-4 min-h-[150px]",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Xác nhận khôi phục Giao Diện"}),r.jsxs("p",{children:["Bạn có chắc chắn muốn khôi phục giao diện ",e.tenGiaoDien," không?"]}),r.jsxs("div",{className:"flex justify-end space-x-4 mt-4",children:[r.jsxs(fe,{onClick:n,variant:"outline",className:"flex items-center gap-2",children:[r.jsx(st,{className:"h-5 w-5"})," Hủy"]}),r.jsxs(fe,{onClick:t,className:"bg-purple-400 text-white hover:bg-purple-300 flex items-center gap-2",children:[r.jsx(Xl,{className:"h-5 w-5"})," Khôi phục"]})]})]}),DDe=({giaoDien:e,onConfirm:t,onCancel:n})=>r.jsxs("div",{className:"space-y-4 min-h-[150px]",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Xác nhận xóa vĩnh viễn Giao Diện"}),r.jsxs("p",{children:["Bạn có chắc chắn muốn xóa vĩnh viễn giao diện ",e.tenGiaoDien," không?"]}),r.jsxs("div",{className:"flex justify-end space-x-4 mt-4",children:[r.jsxs(fe,{onClick:n,variant:"outline",className:"flex items-center gap-2",children:[r.jsx(st,{className:"h-5 w-5"})," Hủy"]}),r.jsxs(fe,{onClick:t,className:"bg-purple-400 text-white hover:bg-purple-300 flex items-center gap-2",children:[r.jsx(uo,{className:"h-5 w-5"})," Xóa"]})]})]}),IDe=({giaoDien:e,onClose:t})=>r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Chi Tiết Giao Diện"}),r.jsxs("p",{children:[r.jsx("strong",{children:"Tên Giao Diện:"})," ",e.tenGiaoDien]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Logo"}),r.jsx("img",{src:`data:image/png;base64,${e.logo}`,alt:"Logo",className:"w-32 h-32 object-cover rounded-md"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Avt"}),r.jsx("img",{src:`data:image/png;base64,${e.avt}`,alt:"Avatar",className:"w-32 h-32 rounded-full"})]})]}),r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Slider 1"}),r.jsx("img",{src:`data:image/png;base64,${e.slider1}`,alt:"Slider1",className:"w-32 h-32 object-cover rounded-md"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Slider 2"}),r.jsx("img",{src:`data:image/png;base64,${e.slider2}`,alt:"Slider2",className:"w-32 h-32 object-cover rounded-md"})]})]}),r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Slider 3"}),r.jsx("img",{src:`data:image/png;base64,${e.slider3}`,alt:"Slider3",className:"w-32 h-32 object-cover rounded-md"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Slider 4"}),r.jsx("img",{src:`data:image/png;base64,${e.slider4}`,alt:"Slider4",className:"w-32 h-32 object-cover rounded-md"})]})]})]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Trạng thái:"})," ",e.trangThai===1?"Hoạt động":e.trangThai===0?"Không hoạt động":"Ẩn"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Ngày tạo:"})," ",new Date(e.ngayTao).toLocaleDateString()]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(fe,{onClick:t,variant:"outline",className:"flex items-center gap-2",children:[r.jsx(st,{className:"h-5 w-5"})," Đóng"]})})]}),zh=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"");function ODe(){const{theme:e,setTheme:t}=HL(),[n,s]=B.useState(100),[i,a]=B.useState("default"),[o,c]=B.useState([]),[l,u]=B.useState(!0),[d,f]=B.useState(null),[h,m]=B.useState(!1),[A,g]=B.useState(null),[p,b]=B.useState(null),[x,v]=B.useState(""),[y,N]=B.useState(1),P=4,[M,k]=B.useState(""),[D,O]=B.useState(""),[L,F]=B.useState(!1),[_,E]=B.useState(""),[T,w]=B.useState("");B.useEffect(()=>(document.documentElement.style.filter=`brightness(${n}%)`,()=>{document.documentElement.style.filter=""}),[n]),B.useEffect(()=>{document.documentElement.classList.remove("color-scheme-warm","color-scheme-cool"),i==="warm"?document.documentElement.classList.add("color-scheme-warm"):i==="cool"&&document.documentElement.classList.add("color-scheme-cool")},[i]);const C=async()=>{try{const de=await fetch(`${cd}/api/GiaoDien`);if(!de.ok){const le=await de.text();throw new Error(`Không thể tải dữ liệu: ${le}`)}const Ae=(await de.json()).sort((le,he)=>new Date(he.ngayTao).getTime()-new Date(le.ngayTao).getTime());c(Ae),u(!1)}catch(de){const pe=de instanceof Error?de.message:"Lỗi khi tải danh sách giao diện.";f(pe),u(!1)}};B.useEffect(()=>{C()},[]);const j=async de=>{try{const pe=await fetch(`${cd}/api/GiaoDien`,{method:"POST",body:de});if(!pe.ok){const Ae=await pe.text();throw new Error(`Lỗi khi tạo giao diện: ${Ae}`)}m(!1),g(null),C(),we.fire({title:"Thành công!",text:"Tạo giao diện thành công",icon:"success",timer:3e3,showConfirmButton:!1,timerProgressBar:!0,showCloseButton:!0}),N(1)}catch(pe){const Ae=pe instanceof Error?pe.message:"Lỗi khi tạo giao diện.";f(Ae),we.fire({title:"Lỗi!",text:Ae,icon:"error",timer:3e3,showConfirmButton:!1,timerProgressBar:!0,showCloseButton:!0})}},S=async de=>{if(p)try{const pe=await fetch(`${cd}/api/GiaoDien/${p.maGiaoDien}`,{method:"PUT",body:de});if(!pe.ok){const Ae=await pe.text();throw new Error(`Lỗi khi cập nhật: ${Ae}`)}m(!1),g(null),b(null),C(),we.fire({title:"Thành công!",text:"Cập nhật giao diện thành công",icon:"success",timer:3e3,showConfirmButton:!1,timerProgressBar:!0,showCloseButton:!0})}catch(pe){const Ae=pe instanceof Error?pe.message:"Lỗi khi cập nhật giao diện.";f(Ae),we.fire({title:"Lỗi!",text:Ae,icon:"error",timer:3e3,showConfirmButton:!1,timerProgressBar:!0,showCloseButton:!0})}},I=async()=>{if(p){if(p.trangThai===1){m(!1),g(null),b(null),we.fire({title:"Lỗi!",text:"Không thể xóa giao diện đang ở trạng thái hoạt động. Vui lòng chọn giao diện khác để kích hoạt trước khi xóa giao diện này.",icon:"error",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}try{const de=new FormData;de.append("MaGiaoDien",p.maGiaoDien.toString()),de.append("TenGiaoDien",p.tenGiaoDien),de.append("TrangThai","2");const pe=await fetch(`${cd}/api/GiaoDien/${p.maGiaoDien}`,{method:"PUT",body:de});if(!pe.ok){const he=await pe.text();throw new Error(`Lỗi khi xóa giao diện: ${he}`)}m(!1),g(null),b(null),C(),we.fire({title:"Thành công!",text:"xóa giao diện thành công",icon:"success",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});const Ae=o.filter(he=>he.trangThai!==2).length-1,le=Math.ceil(Ae/P);y>le&&N(le||1)}catch(de){const pe=de instanceof Error?de.message:"Lỗi khi xóa giao diện.";f(pe),we.fire({title:"Lỗi!",text:pe,icon:"error",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}}},R=async()=>{if(p)try{const de=new FormData;de.append("MaGiaoDien",p.maGiaoDien.toString()),de.append("TenGiaoDien",p.tenGiaoDien),de.append("TrangThai","0");const pe=await fetch(`${cd}/api/GiaoDien/${p.maGiaoDien}`,{method:"PUT",body:de});if(!pe.ok){const he=await pe.text();throw new Error(`Lỗi khi khôi phục giao diện: ${he}`)}m(!1),g(null),b(null),C(),we.fire({title:"Thành công!",text:"Khôi phục giao diện thành công",icon:"success",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});const Ae=o.filter(he=>he.trangThai===2).length-1,le=Math.ceil(Ae/P);y>le&&N(le||1)}catch(de){const pe=de instanceof Error?de.message:"Lỗi khi khôi phục giao diện.";f(pe),we.fire({title:"Lỗi!",text:pe,icon:"error",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}},U=async()=>{if(p)try{const de=await fetch(`${cd}/api/GiaoDien/${p.maGiaoDien}`,{method:"DELETE"});if(!de.ok){const le=await de.text();throw new Error(`Lỗi khi xóa vĩnh viễn: ${le}`)}m(!1),g(null),b(null),C(),we.fire({title:"Thành công!",text:"Xóa giao diện vĩnh viễn thành công",icon:"success",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});const pe=o.filter(le=>le.trangThai===2).length-1,Ae=Math.ceil(pe/P);y>Ae&&N(Ae||1)}catch(de){const pe=de instanceof Error?de.message:"Lỗi khi xóa vĩnh viễn giao diện.";f(pe),we.fire({title:"Lỗi!",text:pe,icon:"error",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}},z=async de=>{try{const pe=await fetch(`${cd}/api/GiaoDien/SetActive/${de}`,{method:"PUT"});if(!pe.ok){const Ae=await pe.text();throw new Error(`Lỗi khi cập nhật trạng thái: ${Ae}`)}m(!1),g(null),b(null),C(),we.fire({title:"Thành công!",text:"Cập nhật trạng thái thành công",icon:"success",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(pe){const Ae=pe instanceof Error?pe.message:"Lỗi khi cập nhật trạng thái.";f(Ae),we.fire({title:"Lỗi!",text:Ae,icon:"error",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}},V=de=>{b(de),v(`Bạn có muốn chuyển sang giao diện ${de.tenGiaoDien} không?`),g("confirm"),m(!0)},X=()=>{p&&z(p.maGiaoDien)},$=()=>{g("create"),m(!0)},W=de=>{b(de),g("edit"),m(!0)},H=de=>{b(de),g("hide"),m(!0)},Q=de=>{b(de),g("restore"),m(!0)},G=de=>{b(de),g("delete"),m(!0)},J=de=>{b(de),g("detail"),m(!0)},ee=o.filter(de=>{const pe=zh(M.toLowerCase()),Ae=zh(de.tenGiaoDien.toLowerCase()),le=zh(new Date(de.ngayTao).toLocaleDateString().toLowerCase()),he=Ae.includes(pe)||de.maGiaoDien.toString().includes(pe)||le.includes(pe),me=D===""||de.trangThai.toString()===D,ve=new Date(de.ngayTao).getTime(),_e=_?new Date(_).getTime():-1/0,Te=T?new Date(T).getTime():1/0,Ue=ve>=_e&&ve<=Te;return he&&me&&Ue&&(de.trangThai===0||de.trangThai===1)}),K=o.filter(de=>{const pe=zh(M.toLowerCase()),Ae=zh(de.tenGiaoDien.toLowerCase()),le=zh(new Date(de.ngayTao).toLocaleDateString().toLowerCase()),he=Ae.includes(pe)||de.maGiaoDien.toString().includes(pe)||le.includes(pe),me=D===""||de.trangThai.toString()===D,ve=new Date(de.ngayTao).getTime(),_e=_?new Date(_).getTime():-1/0,Te=T?new Date(T).getTime():1/0,Ue=ve>=_e&&ve<=Te;return he&&me&&Ue&&de.trangThai===2}),ne=ee.length,ue=K.length,se=Math.ceil(ne/P),ie=Math.ceil(ue/P),q=(y-1)*P,Z=q+P,te=ee.slice(q,Z),re=K.slice(q,Z),Y=(de,pe)=>{de>=1&&de<=(pe?ie:se)&&N(de)},oe=()=>{F(!L)},ae=de=>{E(de.target.value)},ce=de=>{w(de.target.value)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[r.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Quản Lý Cài đặt"}),r.jsxs(fe,{className:"bg-purple-400 hover:bg-purple-500 text-white",onClick:$,children:[r.jsx(mr,{className:"mr-2 h-4 w-4"})," Thêm Giao diện"]})]}),r.jsxs(ia,{defaultValue:"general",className:"w-full",children:[r.jsxs(Mi,{className:"grid w-full md:w-auto grid-cols-2 md:grid-cols-2 gap-1",children:[r.jsxs(Bn,{value:"general",className:"flex items-center gap-2",children:[r.jsx(ul,{className:"h-4 w-4"})," Giao diện"]}),r.jsxs(Bn,{value:"restore",className:"flex items-center gap-2",children:[r.jsx(Xl,{className:"h-4 w-4"})," Khôi phục"]})]}),r.jsx(Hn,{value:"appearance",className:"space-y-4 mt-4",children:r.jsxs(it,{children:[r.jsx(yt,{children:r.jsx(jt,{children:"Màu sắc"})}),r.jsxs(dt,{className:"space-y-6",children:[r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx(De,{htmlFor:"theme",children:"Chế độ giao diện"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(fe,{variant:e==="light"?"default":"outline",size:"sm",onClick:()=>t("light"),className:"flex items-center gap-1",children:[r.jsx(NL,{className:"h-4 w-4"})," Sáng"]}),r.jsxs(fe,{variant:e==="dark"?"default":"outline",size:"sm",onClick:()=>t("dark"),className:"flex items-center gap-1",children:[r.jsx(CL,{className:"h-4 w-4"})," Tối"]})]})]})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"flex justify-between",children:r.jsxs(De,{htmlFor:"brightness",children:["Độ sáng (",n,"%)"]})}),r.jsx(j1,{id:"brightness",min:50,max:150,step:5,defaultValue:[100],onValueChange:de=>s(de[0]),className:"w-full"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{children:"Bảng màu"}),r.jsxs("div",{className:"flex flex-col space-y-2 pt-1",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("input",{type:"radio",value:"default",id:"default",checked:i==="default",onChange:()=>a("default")}),r.jsxs(De,{htmlFor:"default",className:"flex items-center",children:[r.jsx("span",{className:"w-6 h-6 rounded-full bg-crocus-500 mr-2"}),"Mặc định"]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("input",{type:"radio",value:"warm",id:"warm",checked:i==="warm",onChange:()=>a("warm")}),r.jsxs(De,{htmlFor:"warm",className:"flex items-center",children:[r.jsx("span",{className:"w-6 h-6 rounded-full bg-amber-500 mr-2"}),"Ấm"]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("input",{type:"radio",value:"cool",id:"cool",checked:i==="cool",onChange:()=>a("cool")}),r.jsxs(De,{htmlFor:"cool",className:"flex items-center",children:[r.jsx("span",{className:"w-6 h-6 rounded-full bg-cyan-500 mr-2"}),"Mát"]})]})]})]})]})]})}),r.jsx(Hn,{value:"general",className:"space-y-4 mt-4",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between space-x-4 rounded-lg",children:[r.jsx("div",{className:"flex-1 relative",children:r.jsxs("div",{className:"relative",children:[r.jsx(Un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx(ye,{id:"searchTerm",value:M,onChange:de=>k(de.target.value),placeholder:"Tìm kiếm giao diện...",className:"w-full pl-10 pr-10"}),r.jsx(fe,{variant:"ghost",className:"absolute right-0 top-1/2 transform -translate-y-1/2 h-5 w-10 p-0",onClick:oe,children:r.jsx(ts,{className:"h-5 w-5 text-gray-400"})})]})}),r.jsx("div",{className:"ml-auto",children:r.jsxs("select",{id:"searchTrangThai",value:D,onChange:de=>O(de.target.value),className:"w-full p-2 border rounded-md",children:[r.jsx("option",{value:"",children:"Tất cả trạng thái"}),r.jsx("option",{value:"1",children:"Hoạt động"}),r.jsx("option",{value:"0",children:"Không hoạt động"})]})})]}),L&&r.jsx("div",{className:"p-4 bg-gray-50 rounded-lg shadow-md",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs(De,{htmlFor:"startDate",className:"flex items-center gap-2",children:[r.jsx(ts,{className:"h-4 w-4"})," Từ ngày"]}),r.jsx(ye,{id:"startDate",type:"date",value:_,onChange:ae,className:"w-full mt-2"})]}),r.jsxs("div",{children:[r.jsxs(De,{htmlFor:"endDate",className:"flex items-center gap-2",children:[r.jsx(ts,{className:"h-4 w-4"})," Đến ngày"]}),r.jsx(ye,{id:"endDate",type:"date",value:T,onChange:ce,className:"w-full mt-2"})]})]})})]}),l?r.jsx(Xv,{className:"h-64 w-full"}):r.jsxs(r.Fragment,{children:[d&&r.jsxs(XS,{variant:"destructive",children:[r.jsx(YS,{children:"Lỗi"}),r.jsx(ZS,{children:d})]}),ee.length===0?r.jsx("p",{className:"text-center text-gray-500",children:"Không có giao diện nào để hiển thị."}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:te.map(de=>r.jsxs(it,{className:de.trangThai===1?"border-2 border-purple-500 relative":"relative",children:[r.jsxs(dt,{className:"pt-6",children:[r.jsxs("p",{className:"text-lg font-semibold mb-4",children:["Tên Giao Diện: ",de.tenGiaoDien]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Logo"}),r.jsx("img",{src:`data:image/png;base64,${de.logo}`,alt:"Logo",className:"w-32 h-32 object-cover rounded-md"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Avt"}),r.jsx("img",{src:`data:image/png;base64,${de.avt}`,alt:"Avatar",className:"w-32 h-32 rounded-full"})]})]}),r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Slider 1"}),r.jsx("img",{src:`data:image/png;base64,${de.slider1}`,alt:"Slider1",className:"w-32 h-32 object-cover rounded-md"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Slider 2"}),r.jsx("img",{src:`data:image/png;base64,${de.slider2}`,alt:"Slider2",className:"w-32 h-32 object-cover rounded-md"})]})]}),r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Slider 3"}),r.jsx("img",{src:`data:image/png;base64,${de.slider3}`,alt:"Slider3",className:"w-32 h-32 object-cover rounded-md"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Slider 4"}),r.jsx("img",{src:`data:image/png;base64,${de.slider4}`,alt:"Slider4",className:"w-32 h-32 object-cover rounded-md"})]})]})]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-4 px-6 pb-6",children:[r.jsx("div",{className:"flex items-center",children:r.jsx("input",{type:"checkbox",checked:de.trangThai===1,onChange:()=>V(de),className:"w-8 h-8 text-purple-400 border-2 border-gray-300 rounded focus:ring-purple-500"})}),r.jsxs(yr,{children:[r.jsx(wr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",className:"text-2xl",children:r.jsxs("div",{className:"flex flex-col space-y-1",children:[r.jsx("span",{className:"w-1 h-1 bg-black rounded-full"}),r.jsx("span",{className:"w-1 h-1 bg-black rounded-full"}),r.jsx("span",{className:"w-1 h-1 bg-black rounded-full"})]})})}),r.jsxs(Ar,{className:"bottom-0 mb-2",children:[r.jsxs(ut,{onClick:()=>J(de),className:"text-green-700",children:[r.jsx(dr,{className:"mr-2 h-4 w-4"}),"Xem"]}),r.jsxs(ut,{onClick:()=>W(de),className:"text-blue-700",children:[r.jsx(nm,{className:"mr-2 h-4 w-4"}),"Sửa"]}),r.jsxs(ut,{onClick:()=>H(de),className:"text-red-700",children:[r.jsx(uo,{className:"mr-2 h-4 w-4"}),"Xóa"]})]})]})]})]},de.maGiaoDien))}),se>1&&r.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[r.jsxs(fe,{onClick:()=>Y(y-1,!1),disabled:y===1,variant:"outline",className:"flex items-center",children:[r.jsx(ss,{className:"h-4 w-4 mr-2"}),"Trước"]}),Array.from({length:se},(de,pe)=>pe+1).map(de=>r.jsx(fe,{onClick:()=>Y(de,!1),variant:y===de?"default":"outline",className:y===de?"bg-purple-400 text-white hover:bg-purple-300":"",children:de},de)),r.jsxs(fe,{onClick:()=>Y(y+1,!1),disabled:y===se,variant:"outline",className:"flex items-center",children:["Sau",r.jsx(jr,{className:"h-4 w-4 ml-2"})]})]})]})]})]})}),r.jsx(Hn,{value:"restore",className:"space-y-4 mt-4",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between space-x-4 rounded-lg",children:[r.jsx("div",{className:"flex-1 relative",children:r.jsxs("div",{className:"relative",children:[r.jsx(Un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx(ye,{id:"searchTerm",value:M,onChange:de=>k(de.target.value),placeholder:"Tìm kiếm giao diện...",className:"w-full pl-10 pr-10"}),r.jsx(fe,{variant:"ghost",className:"absolute right-0 top-1/2 transform -translate-y-1/2 h-5 w-10 p-0",onClick:oe,children:r.jsx(ts,{className:"h-5 w-5 text-gray-400"})})]})}),r.jsx("div",{className:"ml-auto",children:r.jsx("select",{id:"searchTrangThai",value:D,onChange:de=>O(de.target.value),className:"w-full p-2 border rounded-md",children:r.jsx("option",{value:"",children:"Tất cả trạng thái"})})})]}),L&&r.jsx("div",{className:"p-4 bg-gray-50 rounded-lg shadow-md",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs(De,{htmlFor:"startDate",className:"flex items-center gap-2",children:[r.jsx(ts,{className:"h-4 w-4"})," Từ ngày"]}),r.jsx(ye,{id:"startDate",type:"date",value:_,onChange:ae,className:"w-full mt-2"})]}),r.jsxs("div",{children:[r.jsxs(De,{htmlFor:"endDate",className:"flex items-center gap-2",children:[r.jsx(ts,{className:"h-4 w-4"})," Đến ngày"]}),r.jsx(ye,{id:"endDate",type:"date",value:T,onChange:ce,className:"w-full mt-2"})]})]})})]}),l?r.jsx(Xv,{className:"h-64 w-full"}):r.jsxs(r.Fragment,{children:[d&&r.jsxs(XS,{variant:"destructive",children:[r.jsx(YS,{children:"Lỗi"}),r.jsx(ZS,{children:d})]}),K.length===0?r.jsx("p",{className:"text-center text-gray-500",children:"Không có giao diện nào để hiển thị."}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:re.map(de=>r.jsxs(it,{className:"relative",children:[r.jsxs(dt,{className:"pt-6",children:[r.jsxs("p",{className:"text-lg font-semibold mb-4",children:["Tên Giao Diện: ",de.tenGiaoDien]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Logo"}),r.jsx("img",{src:`data:image/png;base64,${de.logo}`,alt:"Logo",className:"w-32 h-32 object-cover rounded-md"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Avt"}),r.jsx("img",{src:`data:image/png;base64,${de.avt}`,alt:"Avatar",className:"w-32 h-32 rounded-full"})]})]}),r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Slider 1"}),r.jsx("img",{src:`data:image/png;base64,${de.slider1}`,alt:"Slider1",className:"w-32 h-32 object-cover rounded-md"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Slider 2"}),r.jsx("img",{src:`data:image/png;base64,${de.slider2}`,alt:"Slider2",className:"w-32 h-32 object-cover rounded-md"})]})]}),r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Slider 3"}),r.jsx("img",{src:`data:image/png;base64,${de.slider3}`,alt:"Slider3",className:"w-32 h-32 object-cover rounded-md"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Slider 4"}),r.jsx("img",{src:`data:image/png;base64,${de.slider4}`,alt:"Slider4",className:"w-32 h-32 object-cover rounded-md"})]})]})]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-4 px-6 pb-6",children:[r.jsx("div",{className:"flex items-center"}),r.jsxs(yr,{children:[r.jsx(wr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",className:"text-2xl",children:r.jsxs("div",{className:"flex flex-col space-y-1",children:[r.jsx("span",{className:"w-1 h-1 bg-black rounded-full"}),r.jsx("span",{className:"w-1 h-1 bg-black rounded-full"}),r.jsx("span",{className:"w-1 h-1 bg-black rounded-full"})]})})}),r.jsxs(Ar,{className:"bottom-0 mb-2",children:[r.jsxs(ut,{onClick:()=>J(de),className:"text-green-700",children:[r.jsx(dr,{className:"mr-2 h-4 w-4"}),"Chi tiết"]}),r.jsxs(ut,{onClick:()=>Q(de),className:"text-blue-700",children:[r.jsx(Xl,{className:"mr-2 h-4 w-4"}),"Khôi phục"]}),r.jsxs(ut,{onClick:()=>G(de),className:"text-red-700",children:[r.jsx(uo,{className:"mr-2 h-4 w-4"}),"Xóa vĩnh viễn"]})]})]})]})]},de.maGiaoDien))}),ie>1&&r.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[r.jsxs(fe,{onClick:()=>Y(y-1,!0),disabled:y===1,variant:"outline",className:"flex items-center",children:[r.jsx(ss,{className:"h-4 w-4 mr-2"}),"Trước"]}),Array.from({length:ie},(de,pe)=>pe+1).map(de=>r.jsx(fe,{onClick:()=>Y(de,!0),variant:y===de?"default":"outline",className:y===de?"bg-purple-400 text-white hover:bg-purple-300":"",children:de},de)),r.jsxs(fe,{onClick:()=>Y(y+1,!0),disabled:y===ie,variant:"outline",className:"flex items-center",children:["Sau",r.jsx(jr,{className:"h-4 w-4 ml-2"})]})]})]})]})]})})]}),r.jsxs(kDe,{isOpen:h&&A!=="confirm",onClose:()=>{m(!1),g(null),b(null)},children:[A==="create"&&r.jsx(BDe,{onSubmit:j,onCancel:()=>{m(!1),g(null)}}),A==="edit"&&p&&r.jsx(EDe,{giaoDien:p,onSubmit:S,onCancel:()=>{m(!1),g(null),b(null)}}),A==="hide"&&p&&r.jsx(PDe,{giaoDien:p,onConfirm:I,onCancel:()=>{m(!1),g(null),b(null)}}),A==="restore"&&p&&r.jsx(MDe,{giaoDien:p,onConfirm:R,onCancel:()=>{m(!1),g(null),b(null)}}),A==="delete"&&p&&r.jsx(DDe,{giaoDien:p,onConfirm:U,onCancel:()=>{m(!1),g(null),b(null)}}),A==="detail"&&p&&r.jsx(IDe,{giaoDien:p,onClose:()=>{m(!1),g(null),b(null)}})]}),A==="confirm"&&r.jsx(_De,{isOpen:h,onClose:()=>{m(!1),g(null),b(null)},onConfirm:X,message:x})]})}function LDe(){return r.jsx("div",{className:"container mx-auto py-6",children:r.jsx(ODe,{})})}const wC=e=>{const t=new Date(e);return new Date(t.getTime()-t.getTimezoneOffset()*6e4).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"})},XM=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/đ/g,"d").replace(/Đ/g,"D"),YM=()=>{const[e,t]=B.useState(""),[n,s]=B.useState("all"),[i,a]=B.useState(""),[o,c]=B.useState(""),[l,u]=B.useState([]),[d,f]=B.useState(!0),[h,m]=B.useState(!1),[A,g]=B.useState(null),[p,b]=B.useState(!1),[x,v]=B.useState(null),[y,N]=B.useState(!1),[P,M]=B.useState(!1),[k,D]=B.useState({tenVoucher:"",giaTri:"",moTa:"",ngayBatDau:"",ngayKetThuc:"",dieuKien:"",giaTriToiDa:"",loaiVoucher:"0",hinhAnh:"",trangThai:0}),[O,L]=B.useState(null),[F,_]=B.useState(!1),[E,T]=B.useState(!1),[w,C]=B.useState(1),j=8,S=async()=>{try{f(!0);const Ce=localStorage.getItem("token"),Pe=await fetch("https://bicacuatho.azurewebsites.net/api/Voucher",{method:"GET",headers:{"Content-Type":"application/json",Authorization:Ce?`Bearer ${Ce}`:void 0}});if(!Pe.ok)throw new Error("Không thể lấy dữ liệu voucher");const Ne=(await Pe.json()).map(ke=>({...ke,giaTri:ke.giaTri??(ke.loaiVoucher===2,0),ngayBatDau:new Date(new Date(ke.ngayBatDau).getTime()-new Date(ke.ngayBatDau).getTimezoneOffset()*6e4).toISOString().split("T")[0],ngayKetThuc:new Date(new Date(ke.ngayKetThuc).getTime()-new Date(ke.ngayKetThuc).getTimezoneOffset()*6e4).toISOString().split("T")[0]}));u(Ne)}catch(Ce){console.error("Lỗi khi lấy danh sách voucher:",Ce),Yt.error("Có lỗi xảy ra khi tải danh sách voucher.")}finally{f(!1)}},I=Ce=>{Ce.preventDefault(),t(""),s("all"),a(""),c(""),C(1),S()},R=async()=>{if(A)try{const Ce=localStorage.getItem("token"),Pe=await fetch(`https://bicacuatho.azurewebsites.net/api/Voucher/${A.maVoucher}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:Ce?`Bearer ${Ce}`:void 0}});if(Pe.status===204)u(l.filter(ge=>ge.maVoucher!==A.maVoucher)),m(!1),g(null),Yt.success("Xóa voucher thành công!");else throw Pe.status===404?new Error("Voucher không tồn tại"):new Error("Không thể xóa voucher")}catch(Ce){console.error("Lỗi khi xóa voucher:",Ce),Yt.error(Ce.message||"Có lỗi xảy ra khi xóa voucher.")}},U=async()=>{const Ce=new Date().toISOString().split("T")[0];if(k.ngayBatDau<Ce){Yt.error("Ngày bắt đầu không được trước ngày hôm nay!");return}if(k.ngayKetThuc<k.ngayBatDau){Yt.error("Ngày kết thúc không được trước ngày bắt đầu!");return}if(k.loaiVoucher!=="2"&&parseFloat(k.giaTriToiDa)<=parseFloat(k.dieuKien)){Yt.error("Giá trị tối đa phải lớn hơn điều kiện!");return}if(!k.tenVoucher||!k.ngayBatDau||!k.ngayKetThuc||!k.dieuKien||k.loaiVoucher!=="2"&&!k.giaTriToiDa||k.loaiVoucher===void 0||k.loaiVoucher!=="2"&&!k.giaTri){Yt.error("Vui lòng điền đầy đủ các trường bắt buộc!");return}try{const Pe=localStorage.getItem("token"),ge=await fetch("https://bicacuatho.azurewebsites.net/api/Voucher",{method:"POST",headers:{"Content-Type":"application/json",Authorization:Pe?`Bearer ${Pe}`:void 0},body:JSON.stringify({tenVoucher:k.tenVoucher,giaTri:k.loaiVoucher==="2"?0:parseInt(k.giaTri,10),moTa:k.moTa||null,ngayBatDau:k.ngayBatDau,ngayKetThuc:k.ngayKetThuc,dieuKien:parseFloat(k.dieuKien),giaTriToiDa:k.loaiVoucher==="2"?0:parseFloat(k.giaTriToiDa),loaiVoucher:parseInt(k.loaiVoucher,10),hinhAnh:k.hinhAnh||null,trangThai:k.trangThai})});if(!ge.ok){const Ne=await ge.json();throw new Error(Ne.message||"Không thể thêm voucher")}await S(),N(!1),D({tenVoucher:"",giaTri:"",moTa:"",ngayBatDau:"",ngayKetThuc:"",dieuKien:"",giaTriToiDa:"",loaiVoucher:"0",hinhAnh:"",trangThai:0}),Yt.success("Thêm voucher thành công!")}catch(Pe){console.error("Lỗi khi thêm voucher:",Pe),Yt.error(Pe.message||"Có lỗi xảy ra khi thêm voucher.")}},z=async()=>{if(!O){Yt.error("Không có voucher để sửa!");return}if(O.ngayKetThuc<O.ngayBatDau){Yt.error("Ngày kết thúc không được trước ngày bắt đầu!");return}if(O.loaiVoucher!==2&&O.giaTriToiDa<=O.dieuKien){Yt.error("Giá trị tối đa phải lớn hơn điều kiện!");return}if(!O.tenVoucher||!O.ngayBatDau||!O.ngayKetThuc||!O.dieuKien||O.loaiVoucher!==2&&(!O.giaTri||!O.giaTriToiDa)||O.loaiVoucher===void 0){Yt.error("Vui lòng điền đầy đủ các trường bắt buộc!");return}const Ce={maVoucher:O.maVoucher,tenVoucher:O.tenVoucher,giaTri:O.loaiVoucher===2?0:O.giaTri??0,moTa:O.moTa||null,ngayBatDau:O.ngayBatDau,ngayKetThuc:O.ngayKetThuc,dieuKien:O.dieuKien,giaTriToiDa:O.loaiVoucher===2?0:O.giaTriToiDa??0,loaiVoucher:O.loaiVoucher,trangThai:O.trangThai,hinhAnh:O.hinhAnh||null};try{console.log("Sending payload to update voucher:",JSON.stringify(Ce,null,2));const Pe=localStorage.getItem("token"),ge=await fetch("https://bicacuatho.azurewebsites.net/api/Voucher",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:Pe?`Bearer ${Pe}`:void 0},body:JSON.stringify(Ce)});if(!ge.ok){let Ne="Không thể sửa voucher";try{Ne=(await ge.json()).message||Ne}catch{const ze=await ge.text();console.error("Non-JSON response from server:",ze),Ne=ze||"Lỗi server không xác định"}throw new Error(Ne)}await S(),M(!1),L(null),Yt.success("Sửa voucher thành công!")}catch(Pe){console.error("Lỗi khi sửa voucher:",Pe),Yt.error(Pe.message||"Có lỗi xảy ra khi sửa voucher.")}};B.useEffect(()=>{S()},[]);const V=l.filter(Ce=>{var Re;const Pe=XM(e.toLowerCase()),Ne=XM(((Re=Ce.tenVoucher)==null?void 0:Re.toLowerCase())||"").includes(Pe)||Ce.maVoucher.toString().includes(e.toLowerCase()),ke=n==="all"||n==="0"&&Ce.trangThai===0||n==="1"&&Ce.trangThai===1,ze=(!i||new Date(Ce.ngayBatDau)>=new Date(i))&&(!o||new Date(Ce.ngayKetThuc)<=new Date(o));return Ne&&ke&&ze}),X=w*j,$=X-j,W=V.slice($,X),H=Math.ceil(V.length/j),Q=Ce=>{g(Ce),m(!0)},G=Ce=>{v(Ce),b(!0)},J=Ce=>{L({...Ce,ngayBatDau:new Date(Ce.ngayBatDau).toISOString().split("T")[0],ngayKetThuc:new Date(Ce.ngayKetThuc).toISOString().split("T")[0]}),M(!0)},ee=Ce=>{D({...k,tenVoucher:Ce.target.value})},K=Ce=>{const Pe=Ce.target.value;if(k.loaiVoucher==="0")if(Pe==="")D({...k,giaTri:Pe});else{const ge=parseInt(Pe,10);ge>=1&&ge<=99?D({...k,giaTri:Pe}):Yt.error("Giá trị phần trăm phải từ 1 đến 99!")}else D({...k,giaTri:Pe})},ne=Ce=>{D({...k,moTa:Ce.target.value})},ue=Ce=>{D({...k,ngayBatDau:Ce.target.value})},se=Ce=>{D({...k,ngayKetThuc:Ce.target.value})},ie=Ce=>{D({...k,dieuKien:Ce.target.value})},q=Ce=>{D({...k,giaTriToiDa:Ce.target.value})},Z=Ce=>{O&&L({...O,tenVoucher:Ce.target.value})},te=Ce=>{if(O){const Pe=Ce.target.value;if(O.loaiVoucher===0)if(Pe==="")L({...O,giaTri:null});else{const ge=parseInt(Pe,10);ge>=1&&ge<=99?L({...O,giaTri:ge}):Yt.error("Giá trị phần trăm phải từ 1 đến 99!")}else L({...O,giaTri:Pe===""?null:parseInt(Pe,10)})}},re=Ce=>{O&&L({...O,moTa:Ce.target.value||null})},Y=Ce=>{O&&L({...O,ngayBatDau:Ce.target.value})},oe=Ce=>{O&&L({...O,ngayKetThuc:Ce.target.value})},ae=Ce=>{O&&L({...O,dieuKien:parseFloat(Ce.target.value)||0})},ce=Ce=>{O&&L({...O,giaTriToiDa:parseFloat(Ce.target.value)||0})},de=Ce=>{Ce.preventDefault(),_(!0)},pe=Ce=>{Ce.preventDefault(),_(!1)},Ae=Ce=>{Ce.preventDefault(),_(!1);const Pe=Ce.dataTransfer.files[0];setTimeout(()=>{Pe&&Pe.type.startsWith("image/")?le(Pe):Yt.error("Vui lòng chọn một tệp hình ảnh!")},0)},le=Ce=>{const Pe=new FileReader;Pe.onloadend=()=>{if(typeof Pe.result=="string"){const ge=Pe.result.split(",")[1];D({...k,hinhAnh:ge})}},Pe.readAsDataURL(Ce)},he=Ce=>{var ge;const Pe=(ge=Ce.target.files)==null?void 0:ge[0];Pe&&Pe.type.startsWith("image/")?le(Pe):Yt.error("Vui lòng chọn một tệp hình ảnh!")},me=Ce=>{Ce.preventDefault(),T(!0)},ve=Ce=>{Ce.preventDefault(),T(!1)},_e=Ce=>{Ce.preventDefault(),T(!1);const Pe=Ce.dataTransfer.files[0];setTimeout(()=>{Pe&&Pe.type.startsWith("image/")?Te(Pe):Yt.error("Vui lòng chọn một tệp hình ảnh!")},0)},Te=Ce=>{const Pe=new FileReader;Pe.onloadend=()=>{if(typeof Pe.result=="string"){const ge=Pe.result.split(",")[1];L({...O,hinhAnh:ge})}},Pe.readAsDataURL(Ce)},Ue=Ce=>{var ge;const Pe=(ge=Ce.target.files)==null?void 0:ge[0];Pe&&Pe.type.startsWith("image/")?Te(Pe):Yt.error("Vui lòng chọn một tệp hình ảnh!")},Ee=()=>{const Ce=[],ge=Math.floor(2.5);let Ne=Math.max(1,w-ge),ke=Math.min(H,w+ge);ke-Ne+1<5&&(Ne===1?ke=Math.min(H,Ne+5-1):Ne=Math.max(1,ke-5+1));for(let ze=Ne;ze<=ke;ze++)Ce.push(ze);return Ce},Me=Ce=>{switch(Ce){case 0:return"Giảm giá theo phần trăm";case 1:return"Giảm giá theo số tiền";case 2:return"Miễn phí vận chuyển";default:return"Không xác định"}},Ie=new Date().toISOString().split("T")[0];return r.jsxs("div",{className:"space-y-6",children:[r.jsx($m,{position:"top-right"}),r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsx("div",{children:r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Voucher"})}),r.jsxs(fe,{className:"bg-purple-400 hover:bg-purple-500 text-white",variant:"outline",size:"sm",onClick:()=>N(!0),children:[r.jsx(mr,{className:"h-4 w-4 mr-2"})," Thêm Voucher"]})]}),r.jsxs(it,{children:[r.jsx(yt,{className:"pb-3",children:r.jsx(jt,{children:"Danh sách voucher"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[r.jsxs("div",{className:"relative w-full sm:w-auto",children:[r.jsx(Un,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{type:"search",placeholder:"Tìm kiếm voucher (tên, mã)...",className:"pl-8 w-full sm:w-[300px]",value:e,onChange:Ce=>t(Ce.target.value)})]}),r.jsx("div",{className:"flex gap-2 self-end",children:r.jsxs(fe,{variant:"outline",size:"sm",className:"h-9",onClick:I,type:"button",children:[r.jsx(Xc,{className:"h-4 w-4 mr-2"}),"Làm Mới"]})})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[r.jsxs("div",{className:"w-full sm:w-48 space-y-1",children:[r.jsx(De,{htmlFor:"filterStatus",className:"text-sm font-medium text-gray-700",children:"Trạng Thái"}),r.jsxs(mn,{value:n,onValueChange:s,children:[r.jsx(cn,{id:"filterStatus",children:r.jsx(pn,{placeholder:"Trạng thái"})}),r.jsxs(un,{children:[r.jsx(Qe,{value:"all",children:"Tất cả trạng thái"}),r.jsx(Qe,{value:"0",children:"Đang Dùng"}),r.jsx(Qe,{value:"1",children:"Tạm Ngưng"})]})]})]}),r.jsxs("div",{className:"w-full sm:w-48 space-y-1",children:[r.jsx(De,{htmlFor:"filterStartDate",className:"text-sm font-medium text-gray-700",children:"Ngày Bắt Đầu"}),r.jsxs("div",{className:"relative",children:[r.jsx(ts,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{id:"filterStartDate",type:"date",placeholder:"Ngày bắt đầu",value:i,onChange:Ce=>a(Ce.target.value),max:o||void 0,className:"pl-8 border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-md"})]})]}),r.jsxs("div",{className:"w-full sm:w-48 space-y-1",children:[r.jsx(De,{htmlFor:"filterEndDate",className:"text-sm font-medium text-gray-700",children:"Ngày Kết Thúc"}),r.jsxs("div",{className:"relative",children:[r.jsx(ts,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{id:"filterEndDate",type:"date",placeholder:"Ngày kết thúc",value:o,onChange:Ce=>c(Ce.target.value),min:i||void 0,className:"pl-8 border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-md"})]})]})]})]}),d?r.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"Đang tải..."}):W.length>0?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:W.map(Ce=>r.jsxs(it,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(yt,{children:r.jsx(jt,{className:"text-lg truncate",children:Ce.tenVoucher})}),r.jsxs(dt,{className:"space-y-2",children:[Ce.hinhAnh&&r.jsx("img",{src:`data:image/jpeg;base64,${Ce.hinhAnh}`,alt:Ce.tenVoucher,className:"w-full h-48 object-cover rounded"}),r.jsxs("div",{children:[r.jsx("strong",{children:"ID:"})," ",Ce.maVoucher]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Giá trị: "}),Ce.loaiVoucher===0?`${Ce.giaTri??0}%`:Ce.loaiVoucher===1?`${Ce.giaTri!=null?Ce.giaTri.toLocaleString("vi-VN"):"0"} VND`:"Miễn phí vận chuyển"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Hết hạn:"})," ",wC(Ce.ngayKetThuc)]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Trạng thái:"}),r.jsx("span",{className:Ce.trangThai===1?"bg-red-100 text-red-800 px-2 py-1 rounded ml-2":"bg-green-100 text-green-800 px-2 py-1 rounded ml-2",children:Ce.trangThai===0?"Đang Dùng":"Tạm Ngưng"})]}),r.jsx("div",{className:"flex justify-end mt-4",children:r.jsxs(yr,{children:[r.jsx(wr,{asChild:!0,children:r.jsx(fe,{variant:"outline",size:"sm",children:r.jsx(vS,{})})}),r.jsxs(Ar,{align:"end",children:[r.jsxs(ut,{onClick:()=>G(Ce),className:"flex items-center text-gray-700 hover:text-blue-600",children:[r.jsx(wa,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Chi Tiết"})]}),r.jsxs(ut,{onClick:()=>J(Ce),className:"flex items-center text-gray-700 hover:text-green-600",children:[r.jsx(Aa,{className:"mr-2 h-4 w-4 text-green-500"}),r.jsx("span",{children:"Sửa"})]}),r.jsxs(ut,{onClick:()=>Q(Ce),className:"flex items-center text-gray-700 hover:text-red-600",children:[r.jsx(Ha,{className:"mr-2 h-4 w-4 text-red-500"}),r.jsx("span",{children:"Xóa"})]})]})]})})]})]},Ce.maVoucher))}):r.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"Không tìm thấy voucher nào phù hợp với bộ lọc của bạn."}),H>1&&r.jsxs("div",{className:"flex justify-center items-center gap-2 mt-4",children:[r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>C(1),disabled:w===1,children:"Đầu"}),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>C(Math.max(1,w-1)),disabled:w===1,children:"Trước"}),Ee().map(Ce=>r.jsx(fe,{variant:w===Ce?"default":"outline",size:"sm",onClick:()=>C(Ce),children:Ce},Ce)),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>C(Math.min(H,w+1)),disabled:w===H,children:"Sau"}),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>C(H),disabled:w===H,children:"Cuối"})]})]})]}),r.jsx(Jt,{open:h,onOpenChange:Ce=>{Ce||m(!1)},children:r.jsxs(Wt,{children:[r.jsxs(an,{children:[r.jsx(tn,{children:"Xác nhận xóa voucher"}),r.jsx(Or,{children:"Bạn có chắc chắn muốn xóa voucher này không? Hành động này không thể hoàn tác."})]}),r.jsxs(Rn,{children:[r.jsx(fe,{variant:"outline",onClick:()=>m(!1),children:"Hủy"}),r.jsx(fe,{variant:"destructive",onClick:R,children:"Xóa"})]})]})}),r.jsx(Jt,{open:p,onOpenChange:Ce=>{Ce||b(!1)},children:r.jsxs(Wt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[r.jsx(an,{children:r.jsx(tn,{children:"Chi Tiết Voucher"})}),x&&r.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-3 gap-3",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mã Voucher"}),r.jsx(ye,{value:x.maVoucher||"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tên Voucher"}),r.jsx(ye,{value:x.tenVoucher||"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Giá Trị"}),r.jsx(ye,{value:x.loaiVoucher===0?`${x.giaTri??0}%`:x.loaiVoucher===1?`${x.giaTri!=null?x.giaTri.toLocaleString("vi-VN"):"0"} VND`:"Miễn phí vận chuyển",disabled:!0,className:"mt-1 bg-gray-50"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ngày Bắt Đầu"}),r.jsx(ye,{value:x.ngayBatDau?wC(x.ngayBatDau):"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ngày Kết Thúc"}),r.jsx(ye,{value:x.ngayKetThuc?wC(x.ngayKetThuc):"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Điều Kiện Trên"}),r.jsx(ye,{value:x.dieuKien?`${x.dieuKien.toLocaleString("vi-VN")} VND`:"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-50"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Loại Voucher"}),r.jsx(ye,{value:Me(x.loaiVoucher),disabled:!0,className:"mt-1 bg-gray-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Giá Trị Tối Đa"}),r.jsx(ye,{value:x.giaTriToiDa?`${x.giaTriToiDa.toLocaleString("vi-VN")} VND`:"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Trạng Thái"}),r.jsx(ye,{value:x.trangThai===0?"Đang Dùng":"Tạm Ngưng",disabled:!0,className:"mt-1 bg-gray-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hình Ảnh"}),x.hinhAnh?r.jsx("img",{src:`data:image/jpeg;base64,${x.hinhAnh}`,alt:x.tenVoucher,className:"w-24 h-24 object-cover rounded mt-1 border"}):r.jsx(ye,{value:"Chưa có hình ảnh",disabled:!0,className:"mt-1 bg-gray-50"})]})]}),r.jsxs("div",{className:"md:col-span-3 space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mô Tả"}),r.jsx(ye,{value:x.moTa||"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mã Coupon"}),x.coupons&&x.coupons.length>0?r.jsx("ul",{className:"list-disc pl-5 mt-1 space-y-1 max-h-32 overflow-y-auto border rounded p-2 bg-gray-50",children:x.coupons.map(Ce=>r.jsx("li",{className:Ce.trangThai===1?"line-through text-gray-500":"text-gray-800",children:Ce.maNhap},Ce.id))}):r.jsx(ye,{value:"Không có mã",disabled:!0,className:"mt-1 bg-gray-50"})]})]})]}),r.jsx(Rn,{className:"mt-4",children:r.jsx(fe,{variant:"outline",onClick:()=>b(!1),children:"Đóng"})})]})}),r.jsx(Jt,{open:y,onOpenChange:Ce=>{Ce||N(!1)},children:r.jsxs(Wt,{className:"max-w-5xl",children:[r.jsx(an,{children:r.jsx(tn,{children:"Thêm Voucher Mới"})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tên Voucher"}),r.jsx(ye,{placeholder:"Tên Voucher",value:k.tenVoucher,onChange:ee,required:!0})]}),k.loaiVoucher!=="2"&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Giá trị ",k.loaiVoucher==="0"?"(%)":"(VND)"]}),r.jsx(ye,{type:"number",placeholder:`Giá trị ${k.loaiVoucher==="0"?"(%)":"(VND)"}`,value:k.giaTri,onChange:K,required:!0,...k.loaiVoucher==="0"?{min:1,max:99}:{}})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mô tả"}),r.jsx(ye,{placeholder:"Mô tả",value:k.moTa,onChange:ne})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ngày Bắt Đầu"}),r.jsx(ye,{type:"date",placeholder:"Ngày bắt đầu",value:k.ngayBatDau,onChange:ue,min:Ie,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ngày Kết Thúc"}),r.jsx(ye,{type:"date",placeholder:"Ngày kết thúc",value:k.ngayKetThuc,onChange:se,min:k.ngayBatDau||Ie,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Điều Kiện (VND)"}),r.jsx(ye,{type:"number",placeholder:"Điều kiện (VND)",value:k.dieuKien,onChange:ie,required:!0})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(De,{children:"Loại Voucher"}),r.jsxs(mn,{value:k.loaiVoucher,onValueChange:Ce=>D({...k,loaiVoucher:Ce,giaTri:Ce==="2"?"":k.giaTri,giaTriToiDa:Ce==="2"?"":k.giaTriToiDa}),children:[r.jsx(cn,{children:r.jsx(pn,{placeholder:"Loại voucher"})}),r.jsxs(un,{children:[r.jsx(Qe,{value:"0",children:"Giảm giá theo phần trăm"}),r.jsx(Qe,{value:"1",children:"Giảm giá theo số tiền"}),r.jsx(Qe,{value:"2",children:"Miễn phí vận chuyển"})]})]})]}),k.loaiVoucher!=="2"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Giá Trị Tối Đa (VND)"}),r.jsx(ye,{type:"number",placeholder:"Giá trị tối đa (VND)",value:k.giaTriToiDa,onChange:q,required:!0})]}),r.jsxs("div",{children:[r.jsx(De,{children:"Trạng Thái"}),r.jsxs(kg,{value:k.trangThai.toString(),onValueChange:Ce=>D({...k,trangThai:parseInt(Ce,10)}),className:"flex space-x-4 mt-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Oa,{value:"0",id:"dang-dung"}),r.jsx(De,{htmlFor:"dang-dung",children:"Đang Dùng"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Oa,{value:"1",id:"tam-ngung"}),r.jsx(De,{htmlFor:"tam-ngung",children:"Tạm Ngưng"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hình Ảnh"}),r.jsx("div",{className:`border-2 border-dashed rounded-lg p-4 text-center ${F?"border-blue-500 bg-blue-50":"border-gray-300"}`,onDragOver:de,onDragLeave:pe,onDrop:Ae,children:k.hinhAnh?r.jsx("img",{src:`data:image/jpeg;base64,${k.hinhAnh}`,alt:"Preview",className:"h-20 w-20 mx-auto object-cover rounded"}):r.jsxs("div",{children:[r.jsx(Wr,{className:"h-8 w-8 mx-auto text-gray-400"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Kéo và thả hình ảnh vào đây hoặc nhấp để chọn"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"fileInputCreate",onChange:he}),r.jsx("label",{htmlFor:"fileInputCreate",className:"cursor-pointer text-blue-500 hover:underline",children:"Chọn tệp"})]})}),k.hinhAnh&&r.jsx(fe,{variant:"outline",onClick:()=>D({...k,hinhAnh:""}),className:"w-full mt-2",children:"Xóa hình ảnh"})]})]})]}),r.jsxs(Rn,{className:"mt-4",children:[r.jsx(fe,{variant:"outline",onClick:()=>N(!1),children:"Hủy"}),r.jsx(fe,{onClick:U,children:"Thêm"})]})]})}),r.jsx(Jt,{open:P,onOpenChange:Ce=>{Ce||M(!1)},children:r.jsxs(Wt,{className:"max-w-5xl",children:[r.jsx(an,{children:r.jsx(tn,{children:"Sửa Voucher"})}),O&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tên Voucher"}),r.jsx(ye,{placeholder:"Tên Voucher",value:O.tenVoucher,onChange:Z,required:!0})]}),O.loaiVoucher!==2&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Giá trị ",O.loaiVoucher===0?"(%)":"(VND)"]}),r.jsx(ye,{type:"number",placeholder:`Giá trị ${O.loaiVoucher===0?"(%)":"(VND)"}`,value:O.giaTri??"",onChange:te,required:!0,...O.loaiVoucher===0?{min:1,max:99}:{}})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mô tả"}),r.jsx(ye,{placeholder:"Mô tả",value:O.moTa||"",onChange:re})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ngày Bắt Đầu"}),r.jsx(ye,{type:"date",placeholder:"Ngày bắt đầu",value:O.ngayBatDau,onChange:Y,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ngày Kết Thúc"}),r.jsx(ye,{type:"date",placeholder:"Ngày kết thúc",value:O.ngayKetThuc,onChange:oe,min:O.ngayBatDau,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Điều Kiện (VND)"}),r.jsx(ye,{type:"number",placeholder:"Điều kiện (VND)",value:O.dieuKien,onChange:ae,required:!0})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(De,{children:"Loại Voucher"}),r.jsxs(mn,{value:O.loaiVoucher.toString(),onValueChange:Ce=>L({...O,loaiVoucher:parseInt(Ce,10),giaTri:Ce==="2"?0:O.giaTri,giaTriToiDa:Ce==="2"?0:O.giaTriToiDa}),children:[r.jsx(cn,{children:r.jsx(pn,{placeholder:"Loại voucher"})}),r.jsxs(un,{children:[r.jsx(Qe,{value:"0",children:"Giảm giá theo phần trăm"}),r.jsx(Qe,{value:"1",children:"Giảm giá theo số tiền"}),r.jsx(Qe,{value:"2",children:"Miễn phí vận chuyển"})]})]})]}),O.loaiVoucher!==2&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Giá Trị Tối Đa (VND)"}),r.jsx(ye,{type:"number",placeholder:"Giá trị tối đa (VND)",value:O.giaTriToiDa,onChange:ce,required:!0})]}),r.jsxs("div",{children:[r.jsx(De,{children:"Trạng Thái"}),r.jsxs(kg,{value:O.trangThai.toString(),onValueChange:Ce=>L({...O,trangThai:parseInt(Ce,10)}),className:"flex space-x-4 mt-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Oa,{value:"0",id:"dang-dung-edit"}),r.jsx(De,{htmlFor:"dang-dung-edit",children:"Đang Dùng"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Oa,{value:"1",id:"tam-ngung-edit"}),r.jsx(De,{htmlFor:"tam-ngung-edit",children:"Tạm Ngưng"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hình Ảnh"}),r.jsx("div",{className:`border-2 border-dashed rounded-lg p-4 text-center ${E?"border-blue-500 bg-blue-50":"border-gray-300"}`,onDragOver:me,onDragLeave:ve,onDrop:_e,children:O.hinhAnh?r.jsx("img",{src:`data:image/jpeg;base64,${O.hinhAnh}`,alt:"Preview",className:"h-20 w-20 mx-auto object-cover rounded"}):r.jsxs("div",{children:[r.jsx(Wr,{className:"h-8 w-8 mx-auto text-gray-400"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Kéo và thả hình ảnh vào đây hoặc nhấp để chọn"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"fileInputEdit",onChange:Ue}),r.jsx("label",{htmlFor:"fileInputEdit",className:"cursor-pointer text-blue-500 hover:underline",children:"Chọn tệp"})]})}),O.hinhAnh&&r.jsx(fe,{variant:"outline",onClick:()=>L({...O,hinhAnh:""}),className:"w-full mt-2",children:"Xóa hình ảnh"})]})]})]}),r.jsxs(Rn,{className:"mt-4",children:[r.jsx(fe,{variant:"outline",onClick:()=>M(!1),children:"Hủy"}),r.jsx(fe,{onClick:z,children:"Lưu"})]})]})})]})};Ga.register(bh,vh,Of,Jo,If,Xk,O0,I0);const Xx=10,Vh="https://bicacuatho.azurewebsites.net",ZM=()=>{const[e,t]=B.useState([]),[n,s]=B.useState(""),[i,a]=B.useState(""),[o,c]=B.useState("all"),[l,u]=B.useState(!1),[d,f]=B.useState(""),[h,m]=B.useState(null),[A,g]=B.useState(!1),[p,b]=B.useState(""),[x,v]=B.useState(null),[y,N]=B.useState(1),[P,M]=B.useState(!1),[k,D]=B.useState([]),[O,L]=B.useState({}),[F,_]=B.useState(null),[E,T]=B.useState(!1),[w,C]=B.useState(!1);B.useEffect(()=>{j();const Z=setTimeout(()=>{a(n)},300);return()=>{clearTimeout(Z)}},[n]);const j=async()=>{u(!0);try{const Z=await fetch(`${Vh}/api/LienHe`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!Z.ok)throw new Error("Lỗi khi tải danh sách liên hệ");const te=await Z.json();t(te)}catch(Z){f(Z instanceof Error?Z.message:"Lỗi không xác định"),we.fire({icon:"error",title:"Lỗi",text:"Lỗi khi tải danh sách liên hệ: "+(Z instanceof Error?Z.message:"Lỗi không xác định"),timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{u(!1)}},S=B.useMemo(()=>{let Z=[...e].sort((te,re)=>re.maLienHe-te.maLienHe).filter(te=>{var re,Y,oe;return((re=te.hoTen)==null?void 0:re.toLowerCase().includes(i))||((Y=te.email)==null?void 0:Y.toLowerCase().includes(i))||((oe=te.sdt)==null?void 0:oe.toLowerCase().includes(i))});return o!=="all"&&(Z=Z.filter(te=>String(te.trangThai)===o)),Z},[e,i,o]),I=Math.ceil(S.length/Xx),R=S.slice((y-1)*Xx,y*Xx),U=R.every(Z=>k.includes(Z.maLienHe)),z=Z=>{s(Z.target.value.toLowerCase()),N(1)},V=Z=>{c(Z),N(1)},X=(Z,te)=>{_({contact:Z,newStatus:te})},$=()=>{_(null),T(!1)},W=async()=>{if(!F)return;const{contact:Z,newStatus:te}=F;T(!0),L(re=>({...re,[Z.maLienHe]:!0}));try{if(!(await fetch(`${Vh}/api/LienHe/${Z.maLienHe}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:JSON.stringify({...Z,trangThai:Number(te)})})).ok)throw new Error("Lỗi khi cập nhật trạng thái");t(Y=>Y.map(oe=>oe.maLienHe===Z.maLienHe?{...oe,trangThai:Number(te)}:oe)),we.fire({icon:"success",title:"Thành công",text:"Cập nhật trạng thái thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(re){f(re instanceof Error?re.message:"Lỗi không xác định"),we.fire({icon:"error",title:"Lỗi",text:"Lỗi khi cập nhật trạng thái: "+(re instanceof Error?re.message:"Lỗi không xác định"),timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{L(re=>({...re,[Z.maLienHe]:!1})),T(!1),$()}},H=Z=>{D(te=>te.includes(Z)?te.filter(re=>re!==Z):[...te,Z])},Q=()=>{if(U)D(Z=>Z.filter(te=>!R.some(re=>re.maLienHe===te)));else{const Z=R.map(te=>te.maLienHe);D(te=>[...new Set([...te,...Z])])}},G=async()=>{if(C(!0),!x&&k.length===0){we.fire({icon:"error",title:"Lỗi",text:"Vui lòng chọn ít nhất một liên hệ để xóa.",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0}),v(null),C(!1);return}try{if(k.length>0){if(!(await fetch(`${Vh}/api/LienHe/DeleteMultiple`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:JSON.stringify(k)})).ok)throw new Error("Lỗi khi xóa nhiều liên hệ");t(te=>te.filter(re=>!k.includes(re.maLienHe))),D([])}else if(x){if(!(await fetch(`${Vh}/api/LienHe/${x.maLienHe}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}})).ok)throw new Error("Lỗi khi xóa liên hệ");t(te=>te.filter(re=>re.maLienHe!==x.maLienHe))}v(null),N(1),we.fire({icon:"success",title:"Thành công",text:"Xóa liên hệ thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(Z){f(Z instanceof Error?Z.message:"Lỗi không xác định"),we.fire({icon:"error",title:"Lỗi",text:"Lỗi khi xóa liên hệ: "+(Z instanceof Error?Z.message:"Lỗi không xác định"),timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}C(!1)},J=Z=>{m(Z),g(!0),b("")},ee=()=>{g(!1),m(null),b(""),f("")},K=async()=>{if(!p.trim()){f("Nội dung hỗ trợ không được để trống.");return}M(!0);try{const Z={toEmail:h==null?void 0:h.email,message:p,hoTen:h==null?void 0:h.hoTen,sdt:h==null?void 0:h.sdt};if(!(await fetch(`${Vh}/api/LienHe/SupportEmail`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:JSON.stringify(Z)})).ok)throw new Error("Lỗi khi gửi email hỗ trợ");if(h){if(!(await fetch(`${Vh}/api/LienHe/${h.maLienHe}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:JSON.stringify({...h,trangThai:1})})).ok)throw new Error("Lỗi khi cập nhật trạng thái");t(Y=>Y.map(oe=>oe.maLienHe===h.maLienHe?{...oe,trangThai:1}:oe))}we.fire({icon:"success",title:"Thành công",text:"Gửi hỗ trợ thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0}),ee()}catch(Z){f(Z instanceof Error?Z.message:"Lỗi không xác định"),we.fire({icon:"error",title:"Lỗi",text:"Lỗi khi gửi email hỗ trợ: "+(Z instanceof Error?Z.message:"Lỗi không xác định"),timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{M(!1)}},ne=Z=>{N(Z)},ue={labels:["Tổng số liên hệ"],datasets:[{label:"Số lượng",data:[e.length],backgroundColor:["#9b87f5"]}]},se={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Tổng số lượng liên hệ"}}},ie=B.useMemo(()=>{const Z={};return e.forEach(te=>{const re=new Date(te.ngayTao).toISOString().split("T")[0];Z[re]=(Z[re]||0)+1}),{labels:Object.keys(Z).sort(),datasets:[{label:"Tổng số liên hệ",data:Object.keys(Z).sort().map(te=>Z[te]),borderColor:"#9b87f5",backgroundColor:"#9b87f5",fill:!1}]}},[e]),q={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Tăng giảm tổng số lượng liên hệ theo thời gian"}},scales:{x:{title:{display:!0,text:"Ngày"}},y:{title:{display:!0,text:"Số lượng liên hệ"},beginAtZero:!0}}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{children:r.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-800",children:"Quản lý liên hệ"})}),r.jsxs(ia,{defaultValue:"general",className:"w-full",children:[r.jsxs(Mi,{className:"grid w-full md:w-auto grid-cols-2 md:grid-cols-2 gap-1",children:[r.jsxs(Bn,{value:"general",className:"flex items-center gap-2",children:[r.jsx(ul,{className:"h-4 w-4"})," Danh sách liên hệ"]}),r.jsxs(Bn,{value:"statistics",className:"flex items-center gap-2",children:[r.jsx(GN,{className:"h-4 w-4"})," Danh sách thống kê"]})]}),r.jsxs(Hn,{value:"general",children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ye,{type:"search",placeholder:"Tìm kiếm liên hệ...",value:n,onChange:z,className:"w-full md:w-[820px] pl-10"}),r.jsx(Un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),r.jsxs(mn,{value:o,onValueChange:V,children:[r.jsx(cn,{className:"w-full md:w-[250px]",children:r.jsx(pn,{placeholder:"Lọc theo trạng thái"})}),r.jsxs(un,{children:[r.jsx(Qe,{value:"all",children:"Tất cả trạng thái"}),r.jsx(Qe,{value:"0",children:"Chưa xử lý"}),r.jsx(Qe,{value:"1",children:"Đã xử lý"})]})]}),k.length>0&&r.jsxs(fe,{variant:"destructive",onClick:()=>v({}),className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3]",children:[r.jsx(uo,{className:"h-4 w-4 mr-2"})," Xóa nhiều"]})]}),l?r.jsx("div",{className:"flex justify-center items-center",children:r.jsx(As,{className:"h-8 w-8 animate-spin text-[#9b87f5]"})}):d&&!A?r.jsx("p",{className:"text-red-500",children:d}):r.jsxs(r.Fragment,{children:[r.jsxs(it,{children:[r.jsx(yt,{children:r.jsx(jt,{children:"Danh sách liên hệ"})}),r.jsx(dt,{children:r.jsxs(Rr,{children:[r.jsx(Ur,{children:r.jsxs(Ht,{children:[r.jsx($e,{children:"STT"}),r.jsx($e,{children:"Họ Tên"}),r.jsx($e,{children:"Email"}),r.jsx($e,{children:"Số Điện Thoại"}),r.jsx($e,{children:"Nội Dung"}),r.jsx($e,{children:"Ngày Tạo"}),r.jsx($e,{children:"Trạng Thái"}),r.jsx($e,{children:"Hành Động"}),r.jsx($e,{children:r.jsx("input",{type:"checkbox",checked:U,onChange:Q})})]})}),r.jsx(Hr,{children:R.map((Z,te)=>r.jsxs(Ht,{children:[r.jsx(He,{children:(y-1)*Xx+te+1}),r.jsx(He,{children:Z.hoTen}),r.jsx(He,{children:Z.email}),r.jsx(He,{children:Z.sdt}),r.jsx(He,{children:Z.noiDung}),r.jsx(He,{children:new Date(Z.ngayTao).toLocaleString()}),r.jsx(He,{children:r.jsxs("div",{className:"flex items-center gap-2 relative",children:[O[Z.maLienHe]&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx("div",{className:"w-6 h-6 border-2 border-green-500 border-t-transparent rounded-full animate-spin"})}),r.jsxs("label",{className:"relative inline-block w-[60px] h-[34px]",children:[r.jsx("input",{type:"checkbox",className:"opacity-0 w-0 h-0",checked:Z.trangThai===1,onChange:re=>X(Z,re.target.checked?"1":"0"),disabled:O[Z.maLienHe]}),r.jsx("span",{className:`absolute cursor-pointer inset-0 rounded-full transition-all duration-300 ease-in-out
                                    before:absolute before:h-[30px] before:w-[30px] before:left-[2px] before:bottom-[2px]
                                    before:bg-white before:rounded-full before:shadow-md before:transition-all before:duration-300 before:ease-in-out
                                    ${Z.trangThai===1?"bg-[#9b87f5] before:translate-x-[26px]":"bg-[#9E9E9E]"} hover:scale-110 shadow-sm hover:shadow-md`}),r.jsx("span",{className:"sr-only",children:Z.trangThai===0?"Chưa xử lý":"Đã xử lý"})]})]})}),r.jsx(He,{children:r.jsxs(yr,{children:[r.jsx(wr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",children:r.jsx(li,{className:"h-4 w-4"})})}),r.jsxs(Ar,{align:"end",children:[r.jsxs(ut,{onClick:()=>J(Z),className:"text-green-700",children:[r.jsx(dr,{className:"mr-2 h-4 w-4"})," Chi tiết"]}),r.jsxs(ut,{onClick:()=>v(Z),className:"text-red-700",children:[r.jsx(uo,{className:"mr-2 h-4 w-4"})," Xóa"]})]})]})}),r.jsx(He,{children:r.jsx("input",{type:"checkbox",checked:k.includes(Z.maLienHe),onChange:()=>H(Z.maLienHe)})})]},Z.maLienHe))})]})})]}),I>1&&r.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[r.jsxs(fe,{onClick:()=>ne(y-1),disabled:y===1,variant:"outline",className:"flex items-center",children:[r.jsx(ss,{className:"h-4 w-4 mr-2"}),"Trước"]}),Array.from({length:I},(Z,te)=>te+1).map(Z=>r.jsx(fe,{onClick:()=>ne(Z),variant:y===Z?"default":"outline",className:y===Z?"bg-purple-400 text-white hover:bg-purple-300":"",children:Z},Z)),r.jsxs(fe,{onClick:()=>ne(y+1),disabled:y===I,variant:"outline",className:"flex items-center",children:["Sau",r.jsx(jr,{className:"h-4 w-4 ml-2"})]})]})]})]}),r.jsx(Hn,{value:"statistics",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(it,{children:[r.jsx(yt,{children:r.jsx(jt,{children:"Tổng số lượng liên hệ"})}),r.jsx(dt,{children:l?r.jsx("p",{children:"Đang tải dữ liệu thống kê..."}):d?r.jsx("p",{className:"text-red-500",children:d}):r.jsx(HG,{data:ue,options:se})})]}),r.jsxs(it,{children:[r.jsx(yt,{children:r.jsx(jt,{children:"Tăng giảm tổng số lượng liên hệ theo thời gian"})}),r.jsx(dt,{children:l?r.jsx("p",{children:"Đang tải dữ liệu thống kê..."}):d?r.jsx("p",{className:"text-red-500",children:d}):r.jsx(UG,{data:ie,options:q})})]})]})})]}),A&&h&&r.jsx(Jt,{open:!0,onOpenChange:ee,children:r.jsxs(Wt,{children:[r.jsx(an,{children:r.jsx(tn,{children:"Chi tiết liên hệ & Gửi hỗ trợ"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Họ Tên:"})," ",h.hoTen]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," ",h.email]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Số điện thoại:"})," ",h.sdt]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Nội dung:"})," ",h.noiDung]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Ngày tạo:"})," ",new Date(h.ngayTao).toLocaleString()]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Trạng thái:"})," ",h.trangThai===0?"Chưa xử lý":"Đã xử lý"]}),r.jsx("textarea",{value:p,onChange:Z=>b(Z.target.value),placeholder:"Nhập nội dung hỗ trợ...",className:"w-full rounded-md border border-gray-300 p-2",rows:5}),d&&r.jsx("p",{className:"text-red-500",children:d})]}),r.jsxs(Rn,{className:"flex justify-between items-center mt-4",children:[r.jsxs(fe,{variant:"ghost",onClick:ee,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Đóng"]}),r.jsxs(fe,{onClick:K,disabled:P,className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3]",children:[P?"Đang gửi...":"Gửi hỗ trợ",r.jsx(Xi,{className:"ml-2 h-4 w-4"})]})]})]})}),x&&r.jsx(Jt,{open:!0,onOpenChange:()=>v(null),children:r.jsxs(Wt,{children:[r.jsx(an,{children:r.jsx(tn,{children:"Xác nhận xóa"})}),r.jsx("div",{className:"space-y-4",children:k.length>0?r.jsxs("p",{children:["Bạn có chắc chắn muốn xóa ",k.length," liên hệ đã chọn không?"]}):r.jsxs("p",{children:["Bạn có chắc chắn muốn xóa liên hệ của ",r.jsx("strong",{children:x.hoTen})," không?"]})}),r.jsxs(Rn,{className:"flex justify-end space-x-2 mt-4",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>v(null),className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(Xd,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{variant:"destructive",onClick:G,disabled:w,className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3] flex items-center gap-2",children:[w?"Đang xóa...":"Xóa",r.jsx(uo,{className:"h-4 w-4 mr-2"})]})]})]})}),F&&r.jsx(Jt,{open:!0,onOpenChange:$,children:r.jsxs(Wt,{children:[r.jsx(an,{children:r.jsx(tn,{children:"Xác nhận thay đổi trạng thái"})}),r.jsx("div",{className:"space-y-4",children:r.jsxs("p",{children:["Bạn có chắc chắn muốn thay đổi trạng thái của liên hệ ",r.jsx("strong",{children:F.contact.hoTen})," không?"]})}),r.jsxs(Rn,{className:"flex justify-end space-x-2 mt-4",children:[r.jsxs(fe,{variant:"ghost",onClick:$,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(Xd,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:W,disabled:E,className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3] flex items-center gap-2",children:[E?"Đang xử lý...":"Xác nhận",r.jsx(ra,{className:"h-4 w-4"})]})]})]})})]})};function JM(e){return Es({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"},child:[]}]})(e)}const jC=e=>{try{return new Date(e).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"})}catch{return"Không xác định"}},eD=(e,t)=>{const n=e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-");let s=n,i=1;for(;t.includes(s);)s=`${n}-${i}`,i++;return s},tD=e=>`Hình ảnh cho bài viết: ${e}`,nD=()=>{var ae,ce,de,pe,Ae;const[e,t]=B.useState(""),[n,s]=B.useState([]),[i,a]=B.useState(!0),[o,c]=B.useState(null),[l,u]=B.useState("grid"),[d,f]=B.useState(""),[h,m]=B.useState(!1),[A,g]=B.useState(null),[p,b]=B.useState(!1),[x,v]=B.useState(null),[y,N]=B.useState(!1),[P,M]=B.useState(!1),[k,D]=B.useState({maBlog:null,maNguoiDung:"",tieuDe:"",noiDung:"",ngayTao:new Date().toISOString().split("T")[0],slug:"",metaTitle:"",metaDescription:"",hinhAnh:"",moTaHinhAnh:"",chuDe:"",isPublished:!1,tags:[]}),[O,L]=B.useState(null),[F,_]=B.useState(!1),[E,T]=B.useState(!1),[w,C]=B.useState(null),[j,S]=B.useState(1),[I,R]=B.useState({}),U=8;B.useEffect(()=>{const le=localStorage.getItem("userId");le?(C(le),D(he=>({...he,maNguoiDung:le}))):(c("Không tìm thấy mã người dùng. Vui lòng đăng nhập lại."),we.fire({icon:"error",title:"Lỗi",text:"Không tìm thấy mã người dùng. Vui lòng đăng nhập lại.",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0}))},[]);const z=async()=>{try{a(!0),c(null);const le=await fetch("https://bicacuatho.azurewebsites.net/api/Blog",{method:"GET",headers:{"Content-Type":"application/json"}});if(!le.ok)throw new Error(`HTTP error! status: ${le.status}`);const he=await le.json();s(he||[]);const me=[...new Set(he.map(Ue=>Ue.maNguoiDung))],ve=me.map(Ue=>fetch(`https://bicacuatho.azurewebsites.net/api/NguoiDung/${Ue}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then(Ee=>Ee.ok?Ee.json():null).catch(()=>null)),_e=await Promise.all(ve),Te=me.reduce((Ue,Ee,Me)=>(Ue[Ee]=_e[Me]||null,Ue),{});R(Te)}catch(le){console.error("Error fetching blogs:",le),c("Có lỗi xảy ra khi tải danh sách blog."),we.fire({icon:"error",title:"Lỗi",text:"Có lỗi xảy ra khi tải danh sách blog.",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0}),s([])}finally{a(!1)}},V=async()=>{if(A)try{const le=localStorage.getItem("token"),he=await fetch(`https://bicacuatho.azurewebsites.net/api/Blog/${A.maBlog}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${le}`}});if(he.status===204)s(n.filter(me=>me.maBlog!==A.maBlog)),m(!1),g(null),we.fire({icon:"success",title:"Thành công",text:"Xóa blog thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});else throw new Error(`HTTP error! status: ${he.status}`)}catch(le){console.error("Error deleting blog:",le),we.fire({icon:"error",title:"Lỗi",text:"Có lỗi xảy ra khi xóa blog.",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}},X=async()=>{if(!w){we.fire({icon:"error",title:"Lỗi",text:"Không tìm thấy mã người dùng.",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}if(!k.tieuDe||!k.noiDung||!k.chuDe){we.fire({icon:"warning",title:"Cảnh báo",text:"Vui lòng điền tiêu đề, nội dung và chủ đề!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}try{const le=n.map(Te=>Te.slug||""),he=eD(k.tieuDe,le),me=tD(k.tieuDe),ve=localStorage.getItem("token"),_e=await fetch("https://bicacuatho.azurewebsites.net/api/Blog/CreateBlog",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ve}`},body:JSON.stringify({...k,maNguoiDung:w,ngayTao:new Date(k.ngayTao).toISOString(),hinhAnh:k.hinhAnh||null,slug:he,moTaHinhAnh:me,chuDe:k.chuDe})});if(!_e.ok){const Te=await _e.json();throw new Error(Te.message||"Không thể thêm blog")}await z(),N(!1),D({maBlog:null,maNguoiDung:w||"",tieuDe:"",noiDung:"",ngayTao:new Date().toISOString().split("T")[0],slug:"",metaTitle:"",metaDescription:"",hinhAnh:"",moTaHinhAnh:"",chuDe:"",isPublished:!1,tags:[]}),we.fire({icon:"success",title:"Thành công",text:"Thêm blog thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(le){console.error("Error creating blog:",le),we.fire({icon:"error",title:"Lỗi",text:"Có lỗi xảy ra khi thêm blog.",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}},$=async()=>{if(!O||!O.tieuDe||!O.noiDung||!O.chuDe){we.fire({icon:"warning",title:"Cảnh báo",text:"Vui lòng điền tiêu đề, nội dung và chủ đề!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}try{const le=n.filter(Te=>Te.maBlog!==O.maBlog).map(Te=>Te.slug||""),he=eD(O.tieuDe,le),me=tD(O.tieuDe),ve=localStorage.getItem("token"),_e=await fetch(`https://bicacuatho.azurewebsites.net/api/Blog/${O.maBlog}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ve}`},body:JSON.stringify({...O,ngayTao:new Date(O.ngayTao).toISOString(),hinhAnh:O.hinhAnh||null,slug:he,moTaHinhAnh:me,chuDe:O.chuDe})});if(!_e.ok){const Te=await _e.json();throw new Error(Te.message||"Không thể sửa blog")}await z(),M(!1),L(null),we.fire({icon:"success",title:"Thành công",text:"Sửa blog thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(le){console.error("Error updating blog:",le),we.fire({icon:"error",title:"Lỗi",text:"Có lỗi xảy ra khi sửa blog.",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}};B.useEffect(()=>{z()},[]);const W=B.useMemo(()=>{const le=n.filter(he=>he.tieuDe.toLowerCase().includes(e.toLowerCase()));switch(d){case"title-asc":return[...le].sort((he,me)=>(he.tieuDe||"").localeCompare(me.tieuDe||""));case"title-desc":return[...le].sort((he,me)=>(me.tieuDe||"").localeCompare(he.tieuDe||""));case"date-asc":return[...le].sort((he,me)=>new Date(he.ngayTao).getTime()-new Date(me.ngayTao).getTime());case"date-desc":return[...le].sort((he,me)=>new Date(me.ngayTao).getTime()-new Date(he.ngayTao).getTime());default:return le}},[n,e,d]),H=j*U,Q=H-U,G=W.slice(Q,H),J=Math.ceil(W.length/U),ee=le=>{g(le),m(!0)},K=le=>{v(le),b(!0)},ne=le=>{L({...le,ngayTao:new Date(le.ngayTao).toISOString().split("T")[0],slug:le.slug||"",metaTitle:le.metaTitle||"",metaDescription:le.metaDescription||"",moTaHinhAnh:le.moTaHinhAnh||"",chuDe:le.chuDe||"",tags:le.tags||[]}),M(!0)},ue=le=>{const{name:he,value:me}=le.target;D({...k,[he]:me})},se=le=>{const{name:he,value:me}=le.target;L({...O,[he]:me})},ie=(le,he)=>{if(!le.type.startsWith("image/")){we.fire({icon:"error",title:"Lỗi",text:"Vui lòng chọn một tệp hình ảnh!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}const me=new FileReader;me.onloadend=()=>{if(typeof me.result=="string"){const ve=me.result.split(",")[1];he?L({...O,hinhAnh:ve}):D({...k,hinhAnh:ve})}},me.readAsDataURL(le)},q=(le,he)=>{le.preventDefault(),he?T(!0):_(!0)},Z=(le,he)=>{le.preventDefault(),he?T(!1):_(!1)},te=(le,he)=>{le.preventDefault(),he?T(!1):_(!1);const me=le.dataTransfer.files[0];me&&ie(me,he)},re=(le,he)=>{var ve;const me=(ve=le.target.files)==null?void 0:ve[0];me&&ie(me,he)},Y=()=>{const he=Math.floor(2.5);let me=Math.max(1,j-he),ve=Math.min(J,j+he);return ve-me+1<5&&(me===1?ve=Math.min(J,me+5-1):me=Math.max(1,ve-5+1)),Array.from({length:ve-me+1},(_e,Te)=>me+Te)},oe={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small","normal","large","huge"]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image"]]};return r.jsxs("div",{className:"space-y-8 p-6 bg-gray-50 min-h-screen",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsx("div",{children:r.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-800",children:"Quản lý bài viết"})}),r.jsxs(fe,{className:"bg-purple-400 hover:bg-purple-500 text-white",size:"lg",onClick:()=>N(!0),children:[r.jsx(_S,{className:"h-5 w-5 mr-2"})," Thêm Blog"]})]}),r.jsxs(it,{className:"shadow-lg rounded-xl bg-white",children:[r.jsx(yt,{className:"pb-4",children:r.jsx(jt,{className:"text-2xl font-bold text-gray-800",children:"Danh sách bài viết"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8 justify-between items-start sm:items-center",children:[r.jsxs("div",{className:"relative w-full sm:w-80",children:[r.jsx(B4e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx(ye,{type:"search",placeholder:"Tìm kiếm...",className:"pl-10 w-full bg-gray-50 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all",value:e,onChange:le=>t(le.target.value)})]}),r.jsxs("div",{className:"flex gap-2 self-end",children:[r.jsxs(yr,{children:[r.jsx(wr,{asChild:!0,children:r.jsxs(fe,{variant:"outline",size:"sm",className:"h-9 border-gray-300 text-gray-700 hover:bg-gray-100",children:[r.jsx(T4e,{className:"h-4 w-4 mr-2"}),d===""?"Sắp xếp":d==="title-asc"?"Tiêu đề: A - Z":d==="title-desc"?"Tiêu đề: Z - A":d==="date-asc"?"Cũ nhất":"Mới nhất"]})}),r.jsxs(Ar,{className:"rounded-lg shadow-lg",children:[r.jsx(ut,{onClick:()=>f(""),children:"Mặc định"}),r.jsx(ut,{onClick:()=>f("title-asc"),children:"Tiêu đề: A - Z"}),r.jsx(ut,{onClick:()=>f("title-desc"),children:"Tiêu đề: Z - A"}),r.jsx(ut,{onClick:()=>f("date-asc"),children:"Cũ nhất"}),r.jsx(ut,{onClick:()=>f("date-desc"),children:"Mới nhất"})]})]}),r.jsxs("div",{className:"flex border rounded-md",children:[r.jsx(fe,{variant:l==="grid"?"secondary":"ghost",size:"sm",className:"h-9 rounded-r-none",onClick:()=>u("grid"),"aria-label":"Chuyển sang chế độ lưới",children:r.jsx(k4e,{className:"h-4 w-4"})}),r.jsx(fe,{variant:l==="list"?"secondary":"ghost",size:"sm",className:"h-9 rounded-l-none",onClick:()=>u("list"),"aria-label":"Chuyển sang chế độ danh sách",children:r.jsx(_4e,{className:"h-4 w-4"})})]})]})]}),o&&r.jsx("div",{className:"text-center py-4 text-red-600 text-lg",children:o}),i?r.jsx("div",{className:"text-center py-8 text-gray-500 text-lg",children:"Đang tải..."}):G.length>0?l==="grid"?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:G.map(le=>{var me;const he=((me=I[le.maNguoiDung])==null?void 0:me.hoTen)||le.hoTen||le.maNguoiDung.replace(/\d+$/,"").trim()||"Không xác định";return r.jsxs(it,{className:"hover:shadow-xl transition-shadow duration-300 rounded-xl overflow-hidden bg-white group",children:[r.jsx("div",{className:"max-h-48 bg-purple-50 flex items-center justify-center overflow-hidden",children:le.hinhAnh?r.jsx("img",{src:`data:image/jpeg;base64,${le.hinhAnh}`,alt:le.moTaHinhAnh||le.tieuDe,className:"w-full max-h-48 object-contain"}):r.jsx("div",{className:"text-gray-400 text-sm",children:"Không có hình"})}),r.jsx(dt,{className:"p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800 whitespace-normal break-words",children:le.tieuDe}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Người tạo: ",he]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ngày tạo: ",jC(le.ngayTao)]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Chủ đề: ",le.chuDe||"Chưa xác định"]})]}),r.jsxs(yr,{children:[r.jsx(wr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(vS,{className:"h-4 w-4 text-gray-600"})})}),r.jsxs(Ar,{align:"end",className:"rounded-lg shadow-lg",children:[r.jsxs(ut,{onClick:()=>K(le),className:"flex items-center text-gray-700 hover:bg-blue-50 hover:text-blue-600",children:[r.jsx(wa,{className:"mr-2 h-4 w-4 text-blue-500"}),"Chi tiết"]}),r.jsxs(ut,{onClick:()=>ne(le),className:"flex items-center text-gray-700 hover:bg-green-50 hover:text-green-600",children:[r.jsx(Aa,{className:"mr-2 h-4 w-4 text-green-500"}),"Sửa"]}),r.jsxs(ut,{onClick:()=>ee(le),className:"flex items-center text-gray-700 hover:bg-red-50 hover:text-red-600",children:[r.jsx(Ha,{className:"mr-2 h-4 w-4 text-red-500"}),"Xóa"]})]})]})]})})]},le.maBlog)})}):r.jsx("div",{className:"border rounded-md divide-y",children:G.map(le=>{var me;const he=((me=I[le.maNguoiDung])==null?void 0:me.hoTen)||le.hoTen||le.maNguoiDung.replace(/\d+$/,"").trim()||"Không xác định";return r.jsxs("div",{className:"p-4 flex items-center gap-4 hover:bg-muted/50",children:[r.jsx("div",{className:"max-w-20 max-h-20 bg-purple-50 rounded-md flex items-center justify-center overflow-hidden",children:le.hinhAnh?r.jsx("img",{src:`data:image/jpeg;base64,${le.hinhAnh}`,alt:le.moTaHinhAnh||le.tieuDe,className:"max-w-full max-h-full object-contain rounded-md"}):r.jsx("div",{className:"text-gray-400 text-xs",children:"Không có hình"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-800 whitespace-normal break-words",children:le.tieuDe}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Người tạo: ",he]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ngày tạo: ",jC(le.ngayTao)]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Chủ đề: ",le.chuDe||"Chưa xác định"]})]}),r.jsxs(yr,{children:[r.jsx(wr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsx(vS,{className:"h-4 w-4 text-gray-600"})})}),r.jsxs(Ar,{align:"end",className:"rounded-lg shadow-lg",children:[r.jsxs(ut,{onClick:()=>K(le),className:"flex items-center text-gray-700 hover:bg-blue-50 hover:text-blue-600",children:[r.jsx(wa,{className:"mr-2 h-4 w-4 text-blue-500"}),"Chi tiết"]}),r.jsxs(ut,{onClick:()=>ne(le),className:"flex items-center text-gray-700 hover:bg-green-50 hover:text-green-600",children:[r.jsx(Aa,{className:"mr-2 h-4 w-4 text-green-500"}),"Sửa"]}),r.jsxs(ut,{onClick:()=>ee(le),className:"flex items-center text-gray-700 hover:bg-red-50 hover:text-red-600",children:[r.jsx(Ha,{className:"mr-2 h-4 w-4 text-red-500"}),"Xóa"]})]})]})]},le.maBlog)})}):r.jsx("div",{className:"text-center py-8 text-gray-500 text-lg",children:"Không tìm thấy blog nào phù hợp với tìm kiếm của bạn."}),J>1&&r.jsxs("div",{className:"flex justify-center items-center gap-2 mt-8",children:[r.jsx(fe,{variant:"outline",size:"sm",className:"border-gray-300 text-gray-700 hover:bg-gray-100 rounded-lg",onClick:()=>S(1),disabled:j===1,"aria-label":"First page",children:"Đầu"}),r.jsx(fe,{variant:"outline",size:"sm",className:"border-gray-300 text-gray-700 hover:bg-gray-100 rounded-lg",onClick:()=>S(le=>Math.max(1,le-1)),disabled:j===1,"aria-label":"Previous page",children:"Trước"}),Y().map(le=>r.jsx(fe,{variant:j===le?"default":"outline",size:"sm",className:`${j===le?"bg-purple-400 hover:bg-purple-500 text-white":"border-gray-300 text-gray-700 hover:bg-gray-100"} rounded-lg`,onClick:()=>S(le),"aria-label":`Page ${le}`,children:le},le)),r.jsx(fe,{variant:"outline",size:"sm",className:"border-gray-300 text-gray-700 hover:bg-gray-100 rounded-lg",onClick:()=>S(le=>Math.min(J,le+1)),disabled:j===J,"aria-label":"Next page",children:"Sau"}),r.jsx(fe,{variant:"outline",size:"sm",className:"border-gray-300 text-gray-700 hover:bg-gray-100 rounded-lg",onClick:()=>S(J),disabled:j===J,"aria-label":"Last page",children:"Cuối"})]})]})]}),r.jsx(Jt,{open:h,onOpenChange:m,children:r.jsxs(Wt,{className:"rounded-lg shadow-xl",children:[r.jsxs(an,{children:[r.jsx(tn,{className:"text-xl font-bold text-gray-800",children:"Xác nhận xóa blog"}),r.jsxs(Or,{className:"text-gray-600",children:['Bạn có chắc chắn muốn xóa blog "',A==null?void 0:A.tieuDe,'"? Hành động này không thể hoàn tác.']})]}),r.jsxs(Rn,{className:"mt-6",children:[r.jsxs(fe,{variant:"outline",className:"border-gray-300 text-gray-700 hover:bg-gray-100 rounded-lg",onClick:()=>m(!1),"aria-label":"Cancel delete blog",children:[r.jsx(Ad,{className:"h-4 w-4 mr-2"})," Hủy"]}),r.jsxs(fe,{variant:"destructive",className:"bg-red-600 hover:bg-red-700 text-white rounded-lg",onClick:V,"aria-label":"Confirm delete blog",children:[r.jsx(Ha,{className:"h-4 w-4 mr-2"})," Xóa"]})]})]})}),r.jsx(Jt,{open:p,onOpenChange:b,children:r.jsxs(Wt,{className:"max-w-5xl rounded-lg shadow-xl bg-white overflow-y-auto max-h-[80vh]",children:[r.jsx(an,{children:r.jsxs(tn,{className:"text-xl font-bold text-gray-800",children:["Chi tiết blog ",x==null?void 0:x.maBlog]})}),x&&r.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Mã Blog"}),r.jsx(ye,{value:x.maBlog??"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-100 border-gray-300 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Tiêu đề"}),r.jsx(ye,{value:x.tieuDe||"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-100 border-gray-300 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Người tạo"}),r.jsx(ye,{value:((ae=I[x.maNguoiDung])==null?void 0:ae.hoTen)||x.hoTen||x.maNguoiDung.replace(/\d+$/,"").trim()||"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-100 border-gray-300 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Chủ đề"}),r.jsx(ye,{value:x.chuDe||"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-100 border-gray-300 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Slug"}),r.jsx(ye,{value:x.slug||"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-100 border-gray-300 rounded-lg"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Ngày tạo"}),r.jsx(ye,{value:x.ngayTao?jC(x.ngayTao):"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-100 border-gray-300 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Hình ảnh"}),x.hinhAnh?r.jsx("img",{src:`data:image/jpeg;base64,${x.hinhAnh}`,alt:x.moTaHinhAnh||x.tieuDe,className:"max-w-full max-h-64 object-contain rounded-lg mt-1 border border-gray-200"}):r.jsx(ye,{value:"Chưa có hình ảnh",disabled:!0,className:"mt-1 bg-gray-100 border-gray-300 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Mô tả hình ảnh (ALT)"}),r.jsx(ye,{value:x.moTaHinhAnh||"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-100 border-gray-300 rounded-lg"})]})]}),r.jsxs("div",{className:"md:col-span-2 space-y-4",children:[r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Meta Title"}),r.jsx(ye,{value:x.metaTitle||"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-100 border-gray-300 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Meta Description"}),r.jsx(ye,{value:x.metaDescription||"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-100 border-gray-300 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Tags"}),r.jsx(ye,{value:((ce=x.tags)==null?void 0:ce.join(", "))||"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-100 border-gray-300 rounded-lg"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",id:"isPublishedDetail",checked:x.isPublished,disabled:!0,className:"h-5 w-5 text-purple-400 border-gray-300 rounded focus:ring-purple-500"}),r.jsx(De,{htmlFor:"isPublishedDetail",className:"text-sm font-semibold text-gray-700",children:"Công khai?"})]}),r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Nội dung"}),r.jsx("div",{className:"mt-1 w-full border border-gray-300 p-3",dangerouslySetInnerHTML:{__html:x.noiDung||"Chưa cập nhật"}})]})]})]}),r.jsx(Rn,{className:"mt-6",children:r.jsxs(fe,{variant:"outline",className:"border-gray-300 text-gray-700 hover:bg-gray-100 rounded-lg",onClick:()=>b(!1),"aria-label":"Đóng chi tiết blog",children:[r.jsx(Ad,{className:"h-4 w-4 mr-2"})," Đóng"]})})]})}),r.jsx(Jt,{open:y,onOpenChange:N,children:r.jsxs(Wt,{className:"max-w-5xl rounded-lg shadow-xl bg-white overflow-y-auto max-h-[80vh]",children:[r.jsx(an,{children:r.jsx(tn,{className:"text-xl font-bold text-gray-800",children:"Thêm blog mới"})}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Tiêu đề"}),r.jsx(ye,{name:"tieuDe",placeholder:"Tiêu đề",value:k.tieuDe,onChange:ue,required:!0,className:"mt-1 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Chủ đề"}),r.jsx(ye,{name:"chuDe",placeholder:"Chủ đề",value:k.chuDe,onChange:ue,required:!0,className:"mt-1 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Meta Title"}),r.jsx(ye,{name:"metaTitle",placeholder:"Tiêu đề SEO",value:k.metaTitle,onChange:ue,className:"mt-1 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Hình ảnh"}),r.jsx("div",{className:`relative border-2 border-dashed rounded-lg p-6 text-center transition-all duration-200 ${F?"border-purple-500 bg-purple-50":"border-gray-300 bg-gray-50"}`,onDragOver:le=>q(le,!1),onDragLeave:le=>Z(le,!1),onDrop:le=>te(le,!1),children:k.hinhAnh?r.jsxs("div",{className:"relative inline-block",children:[r.jsx("img",{src:`data:image/jpeg;base64,${k.hinhAnh}`,alt:k.moTaHinhAnh||k.tieuDe,className:"max-w-full max-h-48 object-contain rounded-lg border border-gray-200"}),r.jsx("button",{className:"absolute top-0 right-0 -mt-2 -mr-2 bg-white rounded-full p-1 shadow-md hover:bg-red-100",onClick:()=>D({...k,hinhAnh:""}),children:r.jsx(Ad,{className:"h-4 w-4 text-red-600"})})]}):r.jsxs("div",{children:[r.jsx(JM,{className:"h-10 w-10 mx-auto text-gray-400"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Kéo và thả hình ảnh vào đây hoặc nhấp để chọn"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"fileInputCreate",onChange:le=>re(le,!1)}),r.jsx("label",{htmlFor:"fileInputCreate",className:"cursor-pointer text-purple-600 hover:text-purple-700 font-semibold",children:"Chọn tệp"})]})})]})}),r.jsxs("div",{className:"md:col-span-2 space-y-4",children:[r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Meta Description"}),r.jsx(ye,{name:"metaDescription",placeholder:"Mô tả SEO",value:k.metaDescription,onChange:ue,className:"mt-1 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Tags (phân cách bằng dấu phẩy)"}),r.jsx(ye,{name:"tags",placeholder:"seo, marketing, tutorial",value:((de=k.tags)==null?void 0:de.map(le=>le.replace(/^#/,"")).join(", "))||"",onChange:le=>D({...k,tags:le.target.value.split(",").map(he=>he.trim()).filter(he=>he).map(he=>`#${he}`)}),className:"mt-1 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",id:"isPublished",checked:k.isPublished,onChange:le=>D({...k,isPublished:le.target.checked}),className:"h-5 w-5 text-purple-400 border-gray-300 rounded focus:ring-purple-500"}),r.jsx(De,{htmlFor:"isPublished",className:"text-sm font-semibold text-gray-700",children:"Công khai?"})]}),r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Nội dung"}),r.jsx(_g,{value:k.noiDung,onChange:le=>D({...k,noiDung:le}),modules:oe,className:"h-48 border rounded-lg mb-10"})]})]})]}),r.jsxs(Rn,{className:"mt-6",children:[r.jsxs(fe,{variant:"outline",className:"border-gray-300 text-gray-700 hover:bg-gray-100 rounded-lg",onClick:()=>N(!1),"aria-label":"Hủy thêm blog",children:[r.jsx(Ad,{className:"h-4 w-4 mr-2"})," Hủy"]}),r.jsxs(fe,{className:"bg-purple-400 hover:bg-purple-500 text-white rounded-lg",onClick:X,"aria-label":"Thêm blog",children:[r.jsx(_S,{className:"h-4 w-4 mr-2"})," Thêm"]})]})]})}),r.jsx(Jt,{open:P,onOpenChange:M,children:r.jsxs(Wt,{className:"max-w-5xl rounded-lg shadow-xl bg-white overflow-y-auto max-h-[80vh]",children:[r.jsx(an,{children:r.jsxs(tn,{className:"text-xl font-bold text-gray-800",children:["Sửa blog ",O==null?void 0:O.maBlog]})}),O&&r.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Mã người dùng"}),r.jsx(ye,{value:((pe=I[O.maNguoiDung])==null?void 0:pe.hoTen)||O.maNguoiDung.replace(/\d+$/,"").trim()||"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-100 border-gray-300 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Tiêu đề"}),r.jsx(ye,{name:"tieuDe",placeholder:"Tiêu đề",value:O.tieuDe,onChange:se,required:!0,className:"mt-1 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Chủ đề"}),r.jsx(ye,{name:"chuDe",placeholder:"Chủ đề",value:O.chuDe,onChange:se,required:!0,className:"mt-1 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Slug"}),r.jsx(ye,{name:"slug",placeholder:"slug-url",value:O.slug,onChange:se,className:"mt-1 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Hình ảnh"}),r.jsx("div",{className:`relative border-2 border-dashed rounded-lg p-6 text-center transition-all duration-200 ${E?"border-purple-500 bg-purple-50":"border-gray-300 bg-gray-50"}`,onDragOver:le=>q(le,!0),onDragLeave:le=>Z(le,!0),onDrop:le=>te(le,!0),children:O.hinhAnh?r.jsxs("div",{className:"relative inline-block",children:[r.jsx("img",{src:`data:image/jpeg;base64,${O.hinhAnh}`,alt:O.moTaHinhAnh||O.tieuDe,className:"max-w-full max-h-48 object-contain rounded-lg border border-gray-200"}),r.jsx("button",{type:"button",className:"absolute top-0 right-0 transform translate-x-1/2 -translate-y-1/2 bg-white rounded-full p-1 shadow-md hover:bg-red-100",onClick:()=>L({...O,hinhAnh:""}),children:r.jsx(Ad,{className:"h-4 w-4 text-red-600"})})]}):r.jsxs("div",{children:[r.jsx(JM,{className:"h-10 w-10 mx-auto text-gray-400"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Kéo và thả hình ảnh vào đây hoặc nhấp để chọn"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"fileInputEdit",onChange:le=>re(le,!0)}),r.jsx("label",{htmlFor:"fileInputEdit",className:"cursor-pointer text-purple-600 hover:text-purple-700 font-semibold",children:"Chọn tệp"})]})})]}),r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Mô tả hình ảnh (ALT)"}),r.jsx(ye,{name:"moTaHinhAnh",placeholder:"Mô tả hình ảnh",value:O.moTaHinhAnh,onChange:se,className:"mt-1 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),r.jsxs("div",{className:"md:col-span-2 space-y-4",children:[r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Meta Title"}),r.jsx(ye,{name:"metaTitle",placeholder:"Tiêu đề SEO",value:O.metaTitle,onChange:se,className:"mt-1 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Meta Description"}),r.jsx(ye,{name:"metaDescription",placeholder:"Mô tả SEO",value:O.metaDescription,onChange:se,className:"mt-1 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Tags (phân cách bằng dấu phẩy)"}),r.jsx(ye,{name:"tags",placeholder:"seo, marketing, tutorial",value:((Ae=O.tags)==null?void 0:Ae.map(le=>le.replace(/^#/,"")).join(", "))||"",onChange:le=>L({...O,tags:le.target.value.split(",").map(he=>he.trim()).filter(he=>he).map(he=>`#${he}`)}),className:"mt-1 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",id:"isPublishedEdit",checked:O.isPublished,onChange:le=>L({...O,isPublished:le.target.checked}),className:"h-5 w-5 text-purple-400 border-gray-300 rounded focus:ring-purple-500"}),r.jsx(De,{htmlFor:"isPublishedEdit",className:"text-sm font-semibold text-gray-700",children:"Công khai?"})]}),r.jsxs("div",{children:[r.jsx(De,{className:"block text-sm font-semibold text-gray-700",children:"Nội dung"}),r.jsx(_g,{value:O.noiDung,onChange:le=>L({...O,noiDung:le}),modules:oe,className:"h-48 border rounded-lg mb-10"})]})]})]}),r.jsxs(Rn,{className:"mt-6",children:[r.jsxs(fe,{variant:"outline",className:"border-gray-300 text-gray-700 hover:bg-gray-100 rounded-lg",onClick:()=>M(!1),"aria-label":"Hủy sửa blog",children:[r.jsx(Ad,{className:"h-4 w-4 mr-2"})," Hủy"]}),r.jsxs(fe,{className:"bg-purple-400 hover:bg-purple-500 text-white rounded-lg",onClick:$,"aria-label":"Lưu blog",children:[r.jsx(Aa,{className:"h-4 w-4 mr-2"})," Lưu"]})]})]})})]})};Ga.register(iu,O0,I0,bh,vh);const FDe=()=>{const[e,t]=B.useState("daily"),[n,s]=B.useState(new Date().toISOString().split("T")[0]),[i,a]=B.useState("2025"),[o,c]=B.useState("1"),[l,u]=B.useState("2025"),[d,f]=B.useState(null),[h,m]=B.useState(null),[A,g]=B.useState(null),[p,b]=B.useState([]),[x,v]=B.useState([]),[y,N]=B.useState({revenue:null,orderStatus:[],topProducts:[]}),[P,M]=B.useState("summary"),[k,D]=B.useState(!1),O=B.useRef(null),L=B.useRef(null),F=B.useRef(null),_=B.useRef(null),E=B.useRef(null),T=B.useRef(null),w=B.useRef(null),C=B.useRef(null),j=Array.from({length:76},(K,ne)=>2025+ne),S=Array.from({length:12},(K,ne)=>ne+1),I=new Date().toISOString().split("T")[0],R="https://bicacuatho.azurewebsites.net/api/ThongKe",U=(K,ne,ue,se,ie,q)=>{const Z=document.getElementById(K);if(!Z)return;const te=Z.getContext("2d");te&&(q.current&&q.current.destroy(),q.current=new Ga(te,{type:"line",data:{labels:ne,datasets:[{label:`${ie} - Doanh thu`,data:ue,borderColor:"rgba(54, 162, 235, 1)",backgroundColor:"rgba(54, 162, 235, 0.2)",borderWidth:2,tension:.4,fill:!0},{label:`${ie} - Đơn hàng`,data:se,borderColor:"rgba(255, 99, 132, 1)",backgroundColor:"rgba(255, 99, 132, 0.2)",borderWidth:2,tension:.4,fill:!0}]},options:{responsive:!1,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1}},scales:{x:{title:{display:!0,text:"Thời gian"}},y:{title:{display:!0,text:"Giá trị (VND/Đơn hàng)"},beginAtZero:!0,ticks:{callback:re=>re.toLocaleString()}}}}}))},z=(K,ne,ue,se)=>{const ie=document.getElementById(K);if(!ie)return;const q=ie.getContext("2d");q&&(se.current&&se.current.destroy(),se.current=new Ga(q,{type:"pie",data:{labels:ne.map(Z=>Z.tenTrangThai||Z.name),datasets:[{data:ne.map(Z=>Z.tongDonHang||Z.soLuongDaBan),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#FFCD56","#4BC0C0","#36A2EB","#FF6384"],hoverOffset:4,borderWidth:2,borderColor:"#fff"}]},options:{responsive:!0,plugins:{legend:{position:"bottom",labels:{font:{size:12},padding:15}},tooltip:{backgroundColor:"rgba(0,0,0,0.8)",cornerRadius:8,callbacks:{label:Z=>{const te=ne[Z.dataIndex];return te.statusBreakdown?[`${te.name}: ${te.soLuongDaBan} sản phẩm`,...te.statusBreakdown.map(re=>`${re.status}: ${re.soLuong} (${re.doanhThu.toLocaleString()} VND)`)]:`${te.tenTrangThai}: ${te.tongDonHang} đơn hàng`}}}}}}))},V=async(K=n)=>{if(!K)return null;D(!0);const[ne,ue,se]=K.split("-");try{const ie=await fetch(`${R}/Daily?year=${ne}&month=${ue}&day=${se}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!ie.ok)throw new Error("Failed to fetch daily statistics");const q=await ie.json();if(q.length===0)return null;const Z=q.map(Y=>`${Y.ngay}/${Y.thang}/${Y.nam}`),te=q.map(Y=>Y.tongDoanhThu),re=q.map(Y=>Y.tongDonHang);return{labels:Z,revenues:te,orders:re,totalRevenue:q.reduce((Y,oe)=>Y+oe.tongDoanhThu,0),totalOrders:q.reduce((Y,oe)=>Y+oe.tongDonHang,0)}}catch(ie){return console.error("Error fetching daily statistics:",ie),null}finally{D(!1)}},X=async()=>{if(!(!i||!o)){D(!0);try{const K=await fetch(`${R}/Monthly?year=${i}&month=${o}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!K.ok)throw new Error("Failed to fetch monthly statistics");const ne=await K.json();if(ne.length===0){m(null);return}const ue=ne.map(q=>`${q.ngay}/${q.thang}/${q.nam}`),se=ne.map(q=>q.tongDoanhThu),ie=ne.map(q=>q.tongDonHang);U("monthlyChart",ue,se,ie,"Thống kê theo tháng",L),m({totalRevenue:ne.reduce((q,Z)=>q+Z.tongDoanhThu,0),totalOrders:ne.reduce((q,Z)=>q+Z.tongDonHang,0)})}catch(K){console.error("Error fetching monthly statistics:",K),m(null)}finally{D(!1)}}},$=async()=>{if(l){D(!0);try{const K=await fetch(`${R}/Yearly?year=${l}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!K.ok)throw new Error("Failed to fetch yearly statistics");const ne=await K.json();if(ne.length===0){g(null);return}const ue=ne.map(q=>`${q.ngay}/${q.thang}/${q.nam}`),se=ne.map(q=>q.tongDoanhThu),ie=ne.map(q=>q.tongDonHang);U("yearlyChart",ue,se,ie,"Thống kê theo năm",F),g({totalRevenue:ne.reduce((q,Z)=>q+Z.tongDoanhThu,0),totalOrders:ne.reduce((q,Z)=>q+Z.tongDonHang,0)})}catch(K){console.error("Error fetching yearly statistics:",K),g(null)}finally{D(!1)}}},W=async(K,ne,ue)=>{let se=`${R}/OrderStatus`;if(K){const[ie,q,Z]=K.split("-");se+=`?year=${ie}&month=${q}&day=${Z}`}else ne&&ue?se+=`?year=${ne}&month=${ue}`:ne&&(se+=`?year=${ne}`);D(!0);try{const ie=await fetch(se,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!ie.ok)throw new Error("Failed to fetch order status statistics");const q=await ie.json();return q.length>0?q:[]}catch(ie){return console.error("Error fetching order status statistics:",ie),[]}finally{D(!1)}},H=async(K,ne,ue)=>{let se=`${R}/TopProducts`;if(K){const[ie,q,Z]=K.split("-");se+=`?year=${ie}&month=${q}&day=${Z}`}else ne&&ue?se+=`?year=${ne}&month=${ue}`:ne&&(se+=`?year=${ne}`);D(!0);try{const ie=await fetch(se,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!ie.ok)throw new Error("Failed to fetch top products statistics");const q=await ie.json();return q.length>0?q:[]}catch(ie){return console.error("Error fetching top products statistics:",ie),[]}finally{D(!1)}},Q=async()=>{D(!0);const K=await V(I),ne=await W(I),ue=await H(I);N({revenue:K,orderStatus:ne,topProducts:ue}),K&&U("todayRevenueChart",K.labels,K.revenues,K.orders,"Thống kê doanh thu hôm nay",T),ne.length>0&&z("todayOrderStatusChart",ne,"Thống kê trạng thái đơn hàng hôm nay",w),ue.length>0&&z("todayTopProductsChart",ue,"Top sản phẩm bán chạy hôm nay",C),D(!1)};B.useEffect(()=>{if(P==="summary"){Q();const K=setInterval(Q,6e4);return()=>clearInterval(K)}else P==="revenue"?e==="daily"?V().then(K=>{K?(f(K),U("dailyChart",K.labels,K.revenues,K.orders,"Thống kê theo ngày",O)):f(null)}):e==="monthly"?X():e==="yearly"&&$():P==="orderStatus"?W(e==="daily"?n:void 0,e==="monthly"?i:e==="yearly"?l:void 0,e==="monthly"?o:void 0).then(K=>{b(K),K.length>0&&z("orderStatusChart",K,"Thống kê trạng thái đơn hàng",_)}):P==="topProducts"&&H(e==="daily"?n:void 0,e==="monthly"?i:e==="yearly"?l:void 0,e==="monthly"?o:void 0).then(K=>{v(K),K.length>0&&z("topProductsChart",K,"Top Sản Phẩm Bán Chạy",E)})},[P,e,n,i,o,l]);const G=K=>{K.preventDefault(),V().then(ne=>{ne?(f(ne),U("dailyChart",ne.labels,ne.revenues,ne.orders,"Thống kê theo ngày",O)):f(null)})},J=K=>{K.preventDefault(),W(e==="daily"?n:void 0,e==="monthly"?i:e==="yearly"?l:void 0,e==="monthly"?o:void 0).then(ne=>{b(ne),ne.length>0&&z("orderStatusChart",ne,"Thống kê trạng thái đơn hàng",_)})},ee=K=>{K.preventDefault(),H(e==="daily"?n:void 0,e==="monthly"?i:e==="yearly"?l:void 0,e==="monthly"?o:void 0).then(ne=>{v(ne),ne.length>0&&z("topProductsChart",ne,"Top Sản Phẩm Bán Chạy",E)})};return r.jsxs("div",{className:"space-y-6 p-6 bg-gradient-to-br from-gray-50 to-blue-50 min-h-screen",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:r.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 flex items-center gap-3",children:[r.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),"Quản lý thống kê"]})}),k&&r.jsx("div",{className:"text-center py-8",children:r.jsxs("div",{className:"inline-flex items-center gap-2 text-blue-600",children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),r.jsx("span",{className:"text-lg font-medium",children:"Đang tải dữ liệu..."})]})}),r.jsxs(ia,{defaultValue:"summary",onValueChange:M,className:"space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-2 border border-gray-200",children:r.jsxs(Mi,{className:"bg-gray-100 p-1 rounded-md",children:[r.jsx(Bn,{value:"summary",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:"📊 Tổng hợp"}),r.jsx(Bn,{value:"revenue",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:"💰 Doanh thu"}),r.jsx(Bn,{value:"orderStatus",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:"📦 Trạng thái đơn hàng"}),r.jsx(Bn,{value:"topProducts",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:"🏆 Sản phẩm bán chạy"})]})}),r.jsx(Hn,{value:"summary",children:r.jsxs("div",{className:"space-y-6",children:[r.jsx(it,{className:"border-0 shadow-lg bg-gradient-to-r from-blue-600 via-purple-600 to-blue-800 text-white",children:r.jsxs(yt,{className:"pb-4",children:[r.jsx(jt,{className:"text-2xl font-bold text-center",children:"📈 Thống kê tổng hợp hôm nay"}),r.jsxs("p",{className:"text-center text-blue-100 text-lg font-medium",children:[new Date().toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," - ",new Date().toLocaleTimeString("vi-VN")]})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[r.jsxs(it,{className:"shadow-lg border-0 hover:shadow-xl transition-shadow duration-300",children:[r.jsx(yt,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-t-lg",children:r.jsx(jt,{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:"💰 Doanh thu & Đơn hàng"})}),r.jsx(dt,{className:"p-6",children:y.revenue?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-gray-50 rounded-lg p-3 flex justify-center",children:r.jsx("canvas",{id:"todayRevenueChart",width:"250",height:"180",className:"mx-auto"})}),r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-lg border border-green-200",children:[r.jsx("div",{className:"text-sm text-green-700 font-medium",children:"Tổng doanh thu"}),r.jsxs("div",{className:"text-2xl font-bold text-green-800",children:[y.revenue.totalRevenue.toLocaleString()," VND"]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 p-4 rounded-lg border border-blue-200",children:[r.jsx("div",{className:"text-sm text-blue-700 font-medium",children:"Tổng đơn hàng"}),r.jsx("div",{className:"text-2xl font-bold text-blue-800",children:y.revenue.totalOrders.toLocaleString()})]})]})]}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📊"}),r.jsx("p",{className:"text-gray-500 font-medium",children:"Không có dữ liệu doanh thu hôm nay"})]})})]}),r.jsxs(it,{className:"shadow-lg border-0 hover:shadow-xl transition-shadow duration-300",children:[r.jsx(yt,{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-t-lg",children:r.jsx(jt,{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:"📦 Trạng thái đơn hàng"})}),r.jsx(dt,{className:"p-6",children:y.orderStatus.length>0?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:r.jsx("canvas",{id:"todayOrderStatusChart",width:"250",height:"250",className:"mx-auto"})}),r.jsx("div",{className:"space-y-2",children:y.orderStatus.map((K,ne)=>r.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-3 rounded-lg border border-purple-200",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-medium text-purple-700",children:K.tenTrangThai}),r.jsxs("span",{className:"text-lg font-bold text-purple-800",children:[K.tongDonHang," đơn"]})]})},ne))})]}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📦"}),r.jsx("p",{className:"text-gray-500 font-medium",children:"Không có dữ liệu trạng thái đơn hàng"})]})})]}),r.jsxs(it,{className:"shadow-lg border-0 hover:shadow-xl transition-shadow duration-300 lg:col-span-2 xl:col-span-1",children:[r.jsx(yt,{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-t-lg",children:r.jsx(jt,{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:"🏆 Top sản phẩm bán chạy"})}),r.jsx(dt,{className:"p-6",children:y.topProducts.length>0?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:r.jsx("canvas",{id:"todayTopProductsChart",width:"250",height:"250",className:"mx-auto"})}),r.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 p-4 rounded-lg border border-amber-200",children:[r.jsx("div",{className:"text-sm text-amber-700 font-medium",children:"Số sản phẩm bán chạy"}),r.jsxs("div",{className:"text-2xl font-bold text-amber-800",children:[y.topProducts.length," sản phẩm"]})]})]}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"🏆"}),r.jsx("p",{className:"text-gray-500 font-medium",children:"Không có dữ liệu sản phẩm bán chạy"})]})})]})]}),y.topProducts.length>0&&r.jsxs(it,{className:"shadow-lg border-0",children:[r.jsx(yt,{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-t-lg",children:r.jsx(jt,{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:"📋 Chi tiết sản phẩm bán chạy hôm nay"})}),r.jsx(dt,{className:"p-6",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Rr,{children:[r.jsx(Ur,{children:r.jsxs(Ht,{className:"bg-gray-50",children:[r.jsx($e,{className:"font-bold text-gray-700",children:"Tên sản phẩm"}),r.jsx($e,{className:"font-bold text-gray-700",children:"Số lượng bán"}),r.jsx($e,{className:"font-bold text-gray-700",children:"Doanh thu"}),r.jsx($e,{className:"font-bold text-gray-700",children:"Trạng thái"})]})}),r.jsx(Hr,{children:y.topProducts.map((K,ne)=>{var ue;return r.jsxs(Ht,{className:ne%2===0?"bg-white":"bg-gray-50",children:[r.jsx(He,{className:"font-medium text-gray-900",children:K.name}),r.jsx(He,{className:"text-blue-600 font-semibold",children:K.soLuongDaBan}),r.jsxs(He,{className:"text-green-600 font-semibold",children:[K.doanhThu.toLocaleString()," VND"]}),r.jsx(He,{children:(ue=K.statusBreakdown)==null?void 0:ue.map((se,ie)=>r.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:[r.jsxs("span",{className:"font-medium",children:[se.status,":"]})," ",se.soLuong,r.jsxs("span",{className:"text-green-600 ml-1",children:["(",se.doanhThu.toLocaleString()," VND)"]})]},ie))})]},K.id)})})]})})})]})]})}),r.jsx(Hn,{value:"revenue",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("label",{htmlFor:"timeFilter",className:"font-medium",children:"Chọn khoảng thời gian:"}),r.jsxs(mn,{value:e,onValueChange:t,children:[r.jsx(cn,{className:"w-[180px]",children:r.jsx(pn,{placeholder:"Chọn khoảng thời gian"})}),r.jsxs(un,{children:[r.jsx(Qe,{value:"daily",children:"Theo ngày"}),r.jsx(Qe,{value:"monthly",children:"Theo tháng"}),r.jsx(Qe,{value:"yearly",children:"Theo năm"})]})]})]}),e==="daily"&&r.jsxs(it,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(jt,{children:"Thống kê theo ngày"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("input",{type:"date",value:n,onChange:K=>s(K.target.value),className:"border rounded-md p-2",style:{width:"350px"},"aria-label":"Chọn ngày thống kê"}),r.jsx(fe,{onClick:G,children:"Thống kê"})]}),d?r.jsxs(r.Fragment,{children:[r.jsx("canvas",{id:"dailyChart",width:"900",height:"500",style:{margin:"auto",display:"block"}}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("p",{children:["Tổng doanh thu: ",d.totalRevenue.toLocaleString()," VND"]}),r.jsxs("p",{children:["Tổng đơn hàng: ",d.totalOrders.toLocaleString()]})]})]}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]}),e==="monthly"&&r.jsxs(it,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(jt,{children:"Thống kê theo tháng"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsxs(mn,{value:i,onValueChange:a,children:[r.jsx(cn,{className:"w-[350px]",children:r.jsx(pn,{placeholder:"Chọn năm"})}),r.jsx(un,{children:j.map(K=>r.jsx(Qe,{value:K.toString(),children:K},K))})]}),r.jsxs(mn,{value:o,onValueChange:c,children:[r.jsx(cn,{className:"w-[350px]",children:r.jsx(pn,{placeholder:"Chọn tháng"})}),r.jsx(un,{children:S.map(K=>r.jsxs(Qe,{value:K.toString(),children:["Tháng ",K]},K))})]}),r.jsx(fe,{onClick:X,children:"Thống kê"})]}),h?r.jsxs(r.Fragment,{children:[r.jsx("canvas",{id:"monthlyChart",width:"900",height:"500",style:{margin:"auto",display:"block"}}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("p",{children:["Tổng doanh thu: ",h.totalRevenue.toLocaleString()," VND"]}),r.jsxs("p",{children:["Tổng đơn hàng: ",h.totalOrders.toLocaleString()]})]})]}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]}),e==="yearly"&&r.jsxs(it,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(jt,{children:"Thống kê theo năm"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsxs(mn,{value:l,onValueChange:u,children:[r.jsx(cn,{className:"w-[350px]",children:r.jsx(pn,{placeholder:"Chọn năm"})}),r.jsx(un,{children:j.map(K=>r.jsx(Qe,{value:K.toString(),children:K},K))})]}),r.jsx(fe,{onClick:$,children:"Thống kê"})]}),A?r.jsxs(r.Fragment,{children:[r.jsx("canvas",{id:"yearlyChart",width:"900",height:"500",style:{margin:"auto",display:"block"}}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("p",{children:["Tổng doanh thu: ",A.totalRevenue.toLocaleString()," VND"]}),r.jsxs("p",{children:["Tổng đơn hàng: ",A.totalOrders.toLocaleString()]})]})]}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]})]})}),r.jsx(Hn,{value:"orderStatus",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("label",{htmlFor:"timeFilter",className:"font-medium",children:"Chọn khoảng thời gian:"}),r.jsxs(mn,{value:e,onValueChange:t,children:[r.jsx(cn,{className:"w-[180px]",children:r.jsx(pn,{placeholder:"Chọn khoảng thời gian"})}),r.jsxs(un,{children:[r.jsx(Qe,{value:"daily",children:"Theo ngày"}),r.jsx(Qe,{value:"monthly",children:"Theo tháng"}),r.jsx(Qe,{value:"yearly",children:"Theo năm"})]})]})]}),e==="daily"&&r.jsxs(it,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(jt,{children:"Thống kê trạng thái đơn hàng theo ngày"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("input",{type:"date",value:n,onChange:K=>s(K.target.value),className:"border rounded-md p-2",style:{width:"350px"},"aria-label":"Chọn ngày thống kê"}),r.jsx(fe,{onClick:J,children:"Thống kê"})]}),p.length>0?r.jsx("canvas",{id:"orderStatusChart",width:"500",height:"500",style:{margin:"auto",display:"block"}}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]}),e==="monthly"&&r.jsxs(it,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(jt,{children:"Thống kê trạng thái đơn hàng theo tháng"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsxs(mn,{value:i,onValueChange:a,children:[r.jsx(cn,{className:"w-[350px]",children:r.jsx(pn,{placeholder:"Chọn năm"})}),r.jsx(un,{children:j.map(K=>r.jsx(Qe,{value:K.toString(),children:K},K))})]}),r.jsxs(mn,{value:o,onValueChange:c,children:[r.jsx(cn,{className:"w-[350px]",children:r.jsx(pn,{placeholder:"Chọn tháng"})}),r.jsx(un,{children:S.map(K=>r.jsxs(Qe,{value:K.toString(),children:["Tháng ",K]},K))})]}),r.jsx(fe,{onClick:J,children:"Thống kê"})]}),p.length>0?r.jsx("canvas",{id:"orderStatusChart",width:"500",height:"500",style:{margin:"auto",display:"block"}}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]}),e==="yearly"&&r.jsxs(it,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(jt,{children:"Thống kê trạng thái đơn hàng theo năm"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsxs(mn,{value:l,onValueChange:u,children:[r.jsx(cn,{className:"w-[350px]",children:r.jsx(pn,{placeholder:"Chọn năm"})}),r.jsx(un,{children:j.map(K=>r.jsx(Qe,{value:K.toString(),children:K},K))})]}),r.jsx(fe,{onClick:J,children:"Thống kê"})]}),p.length>0?r.jsx("canvas",{id:"orderStatusChart",width:"500",height:"500",style:{margin:"auto",display:"block"}}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]})]})}),r.jsx(Hn,{value:"topProducts",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("label",{htmlFor:"timeFilter",className:"font-medium",children:"Chọn khoảng thời gian:"}),r.jsxs(mn,{value:e,onValueChange:t,children:[r.jsx(cn,{className:"w-[180px]",children:r.jsx(pn,{placeholder:"Chọn khoảng thời gian"})}),r.jsxs(un,{children:[r.jsx(Qe,{value:"daily",children:"Theo ngày"}),r.jsx(Qe,{value:"monthly",children:"Theo tháng"}),r.jsx(Qe,{value:"yearly",children:"Theo năm"})]})]})]}),e==="daily"&&r.jsxs(it,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(jt,{children:"Sản phẩm bán chạy theo ngày"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("input",{type:"date",value:n,onChange:K=>s(K.target.value),className:"border rounded-md p-2",style:{width:"350px"},"aria-label":"Chọn ngày thống kê"}),r.jsx(fe,{onClick:ee,children:"Thống kê"})]}),x.length>0?r.jsxs(r.Fragment,{children:[r.jsx("canvas",{id:"topProductsChart",width:"500",height:"500",style:{margin:"auto",display:"block"}}),r.jsx("div",{className:"mt-4",children:r.jsxs(Rr,{children:[r.jsx(Ur,{children:r.jsxs(Ht,{children:[r.jsx($e,{children:"Tên sản phẩm"}),r.jsx($e,{children:"Thương hiệu"}),r.jsx($e,{children:"Chất liệu"}),r.jsx($e,{children:"Số lượng đã bán"}),r.jsx($e,{children:"Doanh thu"}),r.jsx($e,{children:"Trạng thái"})]})}),r.jsx(Hr,{children:x.map(K=>r.jsxs(Ht,{children:[r.jsx(He,{children:K.name}),r.jsx(He,{children:K.thuongHieu}),r.jsx(He,{children:K.chatLieu}),r.jsx(He,{children:K.soLuongDaBan}),r.jsxs(He,{children:[K.doanhThu.toLocaleString()," VND"]}),r.jsx(He,{children:K.statusBreakdown.map((ne,ue)=>r.jsxs("div",{children:[ne.status,": ",ne.soLuong," (Doanh thu: ",ne.doanhThu.toLocaleString()," VND)"]},ue))})]},K.id))})]})})]}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]}),e==="monthly"&&r.jsxs(it,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(jt,{children:"Sản phẩm bán chạy theo tháng"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsxs(mn,{value:i,onValueChange:a,children:[r.jsx(cn,{className:"w-[350px]",children:r.jsx(pn,{placeholder:"Chọn năm"})}),r.jsx(un,{children:j.map(K=>r.jsx(Qe,{value:K.toString(),children:K},K))})]}),r.jsxs(mn,{value:o,onValueChange:c,children:[r.jsx(cn,{className:"w-[350px]",children:r.jsx(pn,{placeholder:"Chọn tháng"})}),r.jsx(un,{children:S.map(K=>r.jsxs(Qe,{value:K.toString(),children:["Tháng ",K]},K))})]}),r.jsx(fe,{onClick:ee,children:"Thống kê"})]}),x.length>0?r.jsxs(r.Fragment,{children:[r.jsx("canvas",{id:"topProductsChart",width:"500",height:"500",style:{margin:"auto",display:"block"}}),r.jsx("div",{className:"mt-4",children:r.jsxs(Rr,{children:[r.jsx(Ur,{children:r.jsxs(Ht,{children:[r.jsx($e,{children:"Tên sản phẩm"}),r.jsx($e,{children:"Thương hiệu"}),r.jsx($e,{children:"Chất liệu"}),r.jsx($e,{children:"Số lượng đã bán"}),r.jsx($e,{children:"Doanh thu"}),r.jsx($e,{children:"Trạng thái"})]})}),r.jsx(Hr,{children:x.map(K=>r.jsxs(Ht,{children:[r.jsx(He,{children:K.name}),r.jsx(He,{children:K.thuongHieu}),r.jsx(He,{children:K.chatLieu}),r.jsx(He,{children:K.soLuongDaBan}),r.jsxs(He,{children:[K.doanhThu.toLocaleString()," VND"]}),r.jsx(He,{children:K.statusBreakdown.map((ne,ue)=>r.jsxs("div",{children:[ne.status,": ",ne.soLuong," (Doanh thu: ",ne.doanhThu.toLocaleString()," VND)"]},ue))})]},K.id))})]})})]}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]}),e==="yearly"&&r.jsxs(it,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(jt,{children:"Sản phẩm bán chạy theo năm"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsxs(mn,{value:l,onValueChange:u,children:[r.jsx(cn,{className:"w-[350px]",children:r.jsx(pn,{placeholder:"Chọn năm"})}),r.jsx(un,{children:j.map(K=>r.jsx(Qe,{value:K.toString(),children:K},K))})]}),r.jsx(fe,{onClick:ee,children:"Thống kê"})]}),x.length>0?r.jsxs(r.Fragment,{children:[r.jsx("canvas",{id:"topProductsChart",width:"500",height:"500",style:{margin:"auto",display:"block"}}),r.jsx("div",{className:"mt-4",children:r.jsxs(Rr,{children:[r.jsx(Ur,{children:r.jsxs(Ht,{children:[r.jsx($e,{children:"Tên sản phẩm"}),r.jsx($e,{children:"Thương hiệu"}),r.jsx($e,{children:"Chất liệu"}),r.jsx($e,{children:"Số lượng đã bán"}),r.jsx($e,{children:"Doanh thu"}),r.jsx($e,{children:"Trạng thái"})]})}),r.jsx(Hr,{children:x.map(K=>r.jsxs(Ht,{children:[r.jsx(He,{children:K.name}),r.jsx(He,{children:K.thuongHieu}),r.jsx(He,{children:K.chatLieu}),r.jsx(He,{children:K.soLuongDaBan}),r.jsxs(He,{children:[K.doanhThu.toLocaleString()," VND"]}),r.jsx(He,{children:K.statusBreakdown.map((ne,ue)=>r.jsxs("div",{children:[ne.status,": ",ne.soLuong," (Doanh thu: ",ne.doanhThu.toLocaleString()," VND)"]},ue))})]},K.id))})]})})]}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]})]})})]})]})},RDe=({formData:e})=>{const[t,n]=B.useState(new Set),[s,i]=B.useState(0);B.useRef(null);const a=async()=>{try{const o=window.open("","_blank","width=1400,height=900,scrollbars=yes,resizable=yes");if(!o){alert("Không thể mở cửa sổ preview. Vui lòng kiểm tra popup blocker!");return}const c=`
            <!DOCTYPE html>
            <html lang="vi">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Xem Trước Mô Tả Sản Phẩm</title>
                <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"><\/script>
                <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"><\/script>
                <script src="https://unpkg.com/@babel/standalone/babel.min.js"><\/script>
                <script src="https://unpkg.com/swiper@8/swiper-bundle.min.js"><\/script>
                <link href="https://unpkg.com/swiper@8/swiper-bundle.min.css" rel="stylesheet"/>
                <script src="https://cdn.tailwindcss.com"><\/script>
                <style>
                    .magnifier-container {
                        position: relative;
                        display: inline-block;
                        overflow: visible;
                    }
                    
                    .magnifier-glass {
                        position: absolute;
                        width: 227px;
                        height: 227px;
                        border: 3px solid #000;
                        background-color: #fff;
                        box-shadow: 0 0 10px rgba(0,0,0,0.5);
                        pointer-events: none;
                        z-index: 1000;
                    }
                    
                    ::-webkit-scrollbar {
                        width: 8px;
                    }
                    
                    ::-webkit-scrollbar-track {
                        background: #f1f1f1;
                        border-radius: 4px;
                    }
                    
                    ::-webkit-scrollbar-thumb {
                        background: #888;
                        border-radius: 4px;
                    }
                    
                    ::-webkit-scrollbar-thumb:hover {
                        background: #555;
                    }
                    
                    .title-content {
                        max-height: 0;
                        overflow: hidden;
                        transition: max-height 0.3s ease-out;
                    }
                    
                    .title-content.active {
                        max-height: 1000px;
                        transition: max-height 0.5s ease-in;
                    }
                    
                    .swiper-button-next,
                    .swiper-button-prev {
                        color: #3b82f6;
                        background: white;
                        border-radius: 50%;
                        width: 44px;
                        height: 44px;
                        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                    }
                    
                    .swiper-button-next::after,
                    .swiper-button-prev::after {
                        font-size: 18px;
                        font-weight: bold;
                    }
                    
                    .swiper-pagination-bullet {
                        background: #3b82f6;
                        opacity: 0.7;
                    }
                    
                    .swiper-pagination-bullet-active {
                        opacity: 1;
                    }
                    
                    .card-hover:hover {
                        transform: translateY(-2px);
                        box-shadow: 0 20px 40px rgba(0,0,0,0.1);
                    }
                    
                    .arrow-rotate {
                        transition: transform 0.3s ease;
                    }
                    
                    .arrow-rotate.rotated {
                        transform: rotate(180deg);
                    }
                    
                    .loading {
                        display: flex;
                        justify-content: center;
                        align-items: center;
                        height: 100vh;
                        background: #fff;
                    }
                    
                    .loading-spinner {
                        width: 50px;
                        height: 50px;
                        border: 4px solid #f3f3f3;
                        border-top: 4px solid #3b82f6;
                        border-radius: 50%;
                        animation: spin 1s linear infinite;
                    }
                    
                    @keyframes spin {
                        0% { transform: rotate(0deg); }
                        100% { transform: rotate(360deg); }
                    }

                    .main-image {
                        cursor: pointer;
                    }
                </style>
            </head>
            <body class="min-h-screen">
                <div id="loading" class="loading">
                    <div className="loading-spinner"></div>
                </div>
                <div id="root" style="display: none;"></div>
                <script type="text/babel">
                    const { useState, useEffect, useRef } = React;

                    const MagnifierComponent = ({ children, magnifierSize = 227, zoomLevel = 3, imageSrc }) => {
                        const [isVisible, setIsVisible] = useState(false);
                        const [position, setPosition] = useState({ x: 0, y: 0 });
                        const [backgroundPosition, setBackgroundPosition] = useState('0px 0px');
                        const containerRef = useRef(null);
                        const magnifierRef = useRef(null);

                        const handleMouseMove = (e) => {
                            if (!containerRef.current || !magnifierRef.current) return;

                            const rect = containerRef.current.getBoundingClientRect();
                            const x = e.clientX - rect.left;
                            const y = e.clientY - rect.top;

                            if (x < 0 || x > rect.width || y < 0 || y > rect.height) {
                                setIsVisible(false);
                                return;
                            }

                            let magnifierX = x + 20;
                            let magnifierY = y - magnifierSize - 20;

                            const viewportWidth = window.innerWidth;
                            const viewportHeight = window.innerHeight;
                            const absoluteX = e.clientX + 20;
                            const absoluteY = e.clientY - magnifierSize - 20;

                            if (absoluteX + magnifierSize > viewportWidth) {
                                magnifierX = x - magnifierSize - 20;
                            }
                            if (absoluteY < 0) {
                                magnifierY = y + 20;
                            }

                            setPosition({ x: magnifierX, y: magnifierY });

                            const backgroundX = -(x * zoomLevel - magnifierSize / 2);
                            const backgroundY = -(y * zoomLevel - magnifierSize / 2);
                            setBackgroundPosition(\`\${backgroundX}px \${backgroundY}px\`);
                        };

                        const handleMouseEnter = () => {
                            setIsVisible(true);
                        };

                        const handleMouseLeave = () => {
                            setIsVisible(false);
                        };

                        return (
                            <div
                                ref={containerRef}
                                className="magnifier-container"
                                style={{ position: 'relative', display: 'inline-block', overflow: 'visible' }}
                                onMouseMove={handleMouseMove}
                                onMouseEnter={handleMouseEnter}
                                onMouseLeave={handleMouseLeave}
                            >
                                {children}
                                {isVisible && (
                                    <div
                                        ref={magnifierRef}
                                        className="magnifier-glass"
                                        style={{
                                            position: 'absolute',
                                            width: \`\${magnifierSize}px\`,
                                            height: \`\${magnifierSize}px\`,
                                            border: '3px solid #000',
                                            backgroundColor: '#fff',
                                            boxShadow: '0 0 10px rgba(0,0,0,0.5)',
                                            pointerEvents: 'none',
                                            zIndex: 1000,
                                            left: \`\${position.x}px\`,
                                            top: \`\${position.y}px\`,
                                            backgroundImage: \`url(\${imageSrc})\`,
                                            backgroundSize: \`\${containerRef.current?.offsetWidth * zoomLevel}px \${containerRef.current?.offsetHeight * zoomLevel}px\`,
                                            backgroundPosition: backgroundPosition,
                                            backgroundRepeat: 'no-repeat',
                                        }}
                                    />
                                )}
                            </div>
                        );
                    };

                    const formData = ${JSON.stringify(e)};

                    const PreviewDes = ({ formData }) => {
                        const [activeTitles, setActiveTitles] = useState(new Set());
                        const [mainImageIndex, setMainImageIndex] = useState(0);
                        const mainImageRef = useRef(null);

                        const toggleTitle = (index) => {
                            const newActiveTitles = new Set(activeTitles);
                            if (newActiveTitles.has(index)) {
                                newActiveTitles.delete(index);
                            } else {
                                newActiveTitles.add(index);
                            }
                            setActiveTitles(newActiveTitles);
                        };

                        const handleSliderImageClick = (index) => {
                            setMainImageIndex(index + 1);
                        };

                        const handleMainImageClick = () => {
                            if (formData.MoTa.Picture[mainImageIndex]?.url) {
                                const imageSrc = \`data:image/jpeg;base64,\${formData.MoTa.Picture[mainImageIndex].url}\`;
                                const fullImageWindow = window.open('', '_blank', 'width=800,height=600,scrollbars=yes,resizable=yes');
                                
                                if (!fullImageWindow) {
                                    alert('Không thể mở cửa sổ ảnh. Vui lòng kiểm tra popup blocker!');
                                    return;
                                }

                                const fullImageHtml = \`
                                <!DOCTYPE html>
                                <html lang="vi">
                                <head>
                                    <meta charset="UTF-8">
                                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                                    <title>Ảnh Sản Phẩm Toàn Kích Thước</title>
                                    <style>
                                        body {
                                            margin: 0;
                                            padding: 0;
                                            background-color: #f1f1f1;
                                            display: flex;
                                            justify-content: center;
                                            align-items: center;
                                            min-height: 100vh;
                                        }
                                        img {
                                            max-width: 100%;
                                            max-height: 100vh;
                                            object-fit: contain;
                                        }
                                    </style>
                                </head>
                                <body>
                                    <img src="\${imageSrc}" alt="Full Size Product Image" />
                                </body>
                                </html>
                                \`;

                                fullImageWindow.document.write(fullImageHtml);
                                fullImageWindow.document.close();
                                fullImageWindow.focus();
                            }
                        };

                        useEffect(() => {
                            setTimeout(() => {
                                document.getElementById('loading').style.display = 'none';
                                document.getElementById('root').style.display = 'block';
                            }, 1000);

                            const swiper = new Swiper('.swiper', {
                                slidesPerView: 1,
                                spaceBetween: 16,
                                breakpoints: {
                                    640: {
                                        slidesPerView: 2,
                                    },
                                    1024: {
                                        slidesPerView: 3,
                                    },
                                },
                                pagination: {
                                    el: '.swiper-pagination',
                                    clickable: true,
                                },
                                navigation: {
                                    nextEl: '.swiper-button-next',
                                    prevEl: '.swiper-button-prev',
                                },
                                autoplay: {
                                    delay: 3000,
                                    disableOnInteraction: false,
                                },
                                loop: formData.MoTa.Picture.length > 1,
                            });

                            return () => {
                                if (swiper) {
                                    swiper.destroy(true, true);
                                }
                            };
                        }, []);

                        return (
                            <div className="min-h-screen p-4 lg:p-8">
                                <div className="max-w-6xl mx-auto">
                                    <div className="bg-white rounded-2xl shadow-xl p-6 lg:p-8 mb-8 card-hover transition-all duration-300">
                                        <div className="text-center">
                                            <div className="inline-block bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-2 rounded-full text-sm font-medium mb-4">
                                                Mô Tả Chi Tiết Của Sản Phẩm
                                            </div>
                                            {formData.MoTa.Header.title && (
                                                <h1 className="text-3xl lg:text-4xl font-bold text-gray-800 mb-2">
                                                    {formData.MoTa.Header.title}
                                                </h1>
                                            )}
                                            <div className="w-24 h-1 bg-gradient-to-r from-blue-500 to-purple-600 mx-auto rounded-full"></div>
                                        </div>
                                    </div>

                                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
                                        <div className="bg-white rounded-2xl shadow-xl p-6 lg:p-8 card-hover transition-all duration-300">
                                            <h2 className="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                                                <span className="w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm mr-3">📸</span>
                                                Hình ảnh sản phẩm
                                            </h2>
                                            
                                            {formData.MoTa.Picture[mainImageIndex]?.url && (
                                                <MagnifierComponent 
                                                    magnifierSize={227} 
                                                    zoomLevel={3} 
                                                    imageSrc={\`data:image/jpeg;base64,\${formData.MoTa.Picture[mainImageIndex].url}\`}
                                                >
                                                    <img 
                                                        ref={mainImageRef}
                                                        src={\`data:image/jpeg;base64,\${formData.MoTa.Picture[mainImageIndex].url}\`}
                                                        alt="Main Image"
                                                        className="w-full max-w-md mx-auto rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 main-image"
                                                        onClick={handleMainImageClick}
                                                    />
                                                </MagnifierComponent>
                                            )}

                                            {formData.MoTa.Picture.slice(1).length > 0 && (
                                                <div className="bg-gray-50 rounded-2xl p-4">
                                                    <h3 className="text-lg font-semibold mb-4 text-gray-700">🖼️ Thư viện ảnh</h3>
                                                    <div className="swiper">
                                                        <div className="swiper-wrapper">
                                                            {formData.MoTa.Picture.slice(1).map((pic, index) => (
                                                                pic.url && (
                                                                    <div key={index} className="swiper-slide">
                                                                        <img 
                                                                            src={\`data:image/jpeg;base64,\${pic.url}\`}
                                                                            alt={\`Gallery Image \${index + 1}\`}
                                                                            className="w-full h-48 object-cover rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300 cursor-pointer"
                                                                            onClick={() => handleSliderImageClick(index)}
                                                                        />
                                                                    </div>
                                                                )
                                                            ))}
                                                        </div>
                                                        <div className="swiper-pagination mt-4"></div>
                                                        <div className="swiper-button-prev"></div>
                                                        <div className="swiper-button-next"></div>
                                                    </div>
                                                </div>
                                            )}
                                        </div>

                                        <div className="space-y-6">
                                            {formData.MoTa.Title.map((title, titleIndex) => (
                                                <div key={titleIndex} className="bg-white rounded-2xl shadow-xl overflow-hidden card-hover transition-all duration-300">
                                                    {title.name && (
                                                        <div 
                                                            className="p-6 cursor-pointer hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100"
                                                            onClick={() => toggleTitle(titleIndex)}
                                                        >
                                                            <div className="flex items-center justify-between">
                                                                <h3 className="text-xl font-bold text-gray-800 flex items-center">
                                                                    <span className="w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm mr-3">
                                                                        {titleIndex + 1}
                                                                    </span>
                                                                    {title.name}
                                                                </h3>
                                                                <div className={\`arrow-rotate \${activeTitles.has(titleIndex) ? 'rotated' : ''}\`}>
                                                                    <svg className="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
                                                                    </svg>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    )}
                                                    <div className={\`title-content \${activeTitles.has(titleIndex) ? 'active' : ''}\`}>
                                                        <div className="p-6 pt-0">
                                                            {title.Subtitle.map((subtitle, subtitleIndex) => (
                                                                <div key={subtitleIndex} className="mb-6 last:mb-0">
                                                                    {subtitle.name && (
                                                                        <div className="bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 mb-3">
                                                                            <h4 className="text-lg font-semibold text-gray-700 flex items-center">
                                                                                <span className="w-6 h-6 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white text-xs mr-2">
                                                                                    ✓
                                                                                </span>
                                                                                {subtitle.name}
                                                                            </h4>
                                                                        </div>
                                                                    )}
                                                                    {subtitle.Description.content && (
                                                                        <div 
                                                                            className="text-gray-600 prose max-w-none pl-8 leading-relaxed"
                                                                            dangerouslySetInnerHTML={{ __html: subtitle.Description.content }}
                                                                        />
                                                                    )}
                                                                </div>
                                                            ))}
                                                        </div>
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        );
                    };

                    const App = () => (
                        <PreviewDes formData={formData} />
                    );

                    const rootElement = document.getElementById('root');
                    ReactDOM.render(<App />, rootElement);
                <\/script>
            </body>
            </html>
            `;o.document.write(c),o.document.close(),o.focus(),console.log("Preview window opened successfully")}catch(o){console.error("Error opening preview window:",o),alert("Có lỗi xảy ra khi mở preview. Vui lòng thử lại!")}};return r.jsx("button",{onClick:a,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg flex items-center justify-center gap-2",children:"Preview Mô Tả của Sản phẩm"})},UDe={toolbar:[[{header:[1,2,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["clean"]]},$G=({isOpen:e,onClose:t,moTaChiTiet:n})=>{const[s,i]=B.useState({MoTa:{Header:{},Picture:[{}],Title:[{Subtitle:[{Description:{}}]}]}}),[a,o]=B.useState(!1),[c,l]=B.useState(""),[u,d]=B.useState(!1),[f,h]=B.useState(!1),[m,A]=B.useState(null),[g,p]=B.useState([]),b=B.useRef(null),x=B.useRef(null);B.useEffect(()=>{var S;if(n){const{header:I,picture:R,title:U}=n.moTa||{};i({MaSanPham:n.maSanPham||null,MoTa:{Header:I||{},Picture:R&&Array.isArray(R)?R:[{}],Title:U&&Array.isArray(U)?U.map(z=>({name:z.name||"",Subtitle:z.subtitle&&Array.isArray(z.subtitle)?z.subtitle.map(V=>({name:V.name||"",Description:V.description||{}})):[{Description:{}}]})):[{Subtitle:[{Description:{}}]}]}}),A(((S=R==null?void 0:R[0])==null?void 0:S.url)||null),p(R&&Array.isArray(R)?R.slice(1).map(z=>z.url).filter(z=>z):[])}else i({MaSanPham:null,MoTa:{Header:{},Picture:[{}],Title:[{Subtitle:[{Description:{}}]}]}}),A(null),p([])},[n]);const v=(S,I=!1)=>{S.preventDefault(),S.stopPropagation(),I?h(!0):d(!0)},y=(S,I=!1)=>{S.preventDefault(),S.stopPropagation(),I?h(!1):d(!1)},N=(S,I=!1)=>{S.preventDefault(),S.stopPropagation(),I?h(!1):d(!1);const R=Array.from(S.dataTransfer.files);M(R,I)},P=(S,I=!1)=>{const R=Array.from(S.target.files);M(R,I)},M=(S,I)=>{S.forEach(R=>{if(R.type.startsWith("image/")){const U=new FileReader;U.onloadend=()=>{const z=U.result.replace(/^data:image\/[a-z]+;base64,/,"");I?(p(V=>[...V,z]),i(V=>({...V,MoTa:{...V.MoTa,Picture:V.MoTa.Picture.length===1&&!V.MoTa.Picture[0].url?[V.MoTa.Picture[0],{url:z}]:[...V.MoTa.Picture,{url:z}]}}))):(A(z),i(V=>({...V,MoTa:{...V.MoTa,Picture:[{url:z},...V.MoTa.Picture.slice(1)]}})))},U.readAsDataURL(R)}})},k=(S,I=!1)=>{I?(p(R=>R.filter((U,z)=>z!==S)),i(R=>({...R,MoTa:{...R.MoTa,Picture:[R.MoTa.Picture[0],...R.MoTa.Picture.slice(1).filter((U,z)=>z!==S)]}}))):(A(null),i(R=>({...R,MoTa:{...R.MoTa,Picture:[{},...R.MoTa.Picture.slice(1)]}})))},D=S=>{i(I=>({...I,MoTa:{...I.MoTa,Header:{title:S}}}))},O=(S,I)=>{i(R=>({...R,MoTa:{...R.MoTa,Title:R.MoTa.Title.map((U,z)=>z===S?{...U,name:I}:U)}}))},L=()=>{i(S=>({...S,MoTa:{...S.MoTa,Title:[...S.MoTa.Title,{Subtitle:[{Description:{}}]}]}}))},F=S=>{s.MoTa.Title.length>1&&i(I=>({...I,MoTa:{...I.MoTa,Title:I.MoTa.Title.filter((R,U)=>U!==S)}}))},_=(S,I,R)=>{i(U=>({...U,MoTa:{...U.MoTa,Title:U.MoTa.Title.map((z,V)=>V===S?{...z,Subtitle:z.Subtitle.map((X,$)=>$===I?{...X,name:R}:X)}:z)}}))},E=S=>{i(I=>({...I,MoTa:{...I.MoTa,Title:I.MoTa.Title.map((R,U)=>U===S?{...R,Subtitle:[...R.Subtitle,{Description:{}}]}:R)}}))},T=(S,I)=>{s.MoTa.Title[S].Subtitle.length>1&&i(U=>({...U,MoTa:{...U.MoTa,Title:U.MoTa.Title.map((z,V)=>V===S?{...z,Subtitle:z.Subtitle.filter((X,$)=>$!==I)}:z)}}))},w=(S,I,R)=>{i(U=>({...U,MoTa:{...U.MoTa,Title:U.MoTa.Title.map((z,V)=>V===S?{...z,Subtitle:z.Subtitle.map((X,$)=>$===I?{...X,Description:{content:R}}:X)}:z)}}))},C=()=>{const S=JSON.stringify([s],null,2);l(S),o(!0)},j=async()=>{const S=[{...s,MaSanPham:(n==null?void 0:n.maSanPham)||null,IdMoTa:(n==null?void 0:n.idMoTa)||null}];console.log(S);try{const I=await fetch("https://bicacuatho.azurewebsites.net/api/SanPham/MoTaSanPhamCreate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)});if(I.ok)we.fire({title:"Thành công!",text:"Lưu mô tả thành công!",icon:"success",timer:800,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{C(),t()});else{const R=await I.json();we.fire({title:"Lỗi!",text:R.message||"Có lỗi xảy ra khi lưu mô tả.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}}catch(I){console.error("Lỗi khi gửi dữ liệu:",I),we.fire({title:"Lỗi!",text:"Có lỗi xảy ra khi gửi dữ liệu tới API.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}};return r.jsx(Jt,{open:e,onOpenChange:t,children:r.jsxs(Wt,{className:"max-w-4xl p-6 bg-white rounded-lg shadow-lg max-h-[90vh] overflow-y-auto",children:[r.jsx(an,{children:r.jsx(tn,{className:"text-xl font-semibold text-gray-800",children:"Nhập Thông Tin Mô Tả Sản Phẩm"})}),r.jsxs("div",{className:"py-4 space-y-6",children:[r.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-base font-semibold text-gray-700 mb-3",children:"Tiêu đề"}),r.jsx(ye,{type:"text",className:"w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nhập tiêu đề chính",value:s.MoTa.Header.title||"",onChange:S=>D(S.target.value)})]}),r.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-base font-semibold text-gray-700 mb-3",children:"Ảnh Chính"}),r.jsxs("div",{className:`relative w-full h-40 border-2 border-dashed rounded-lg transition-all duration-200 cursor-pointer overflow-hidden ${u?"border-blue-500 bg-blue-50":m?"border-green-500 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragOver:S=>v(S),onDragLeave:S=>y(S),onDrop:S=>N(S),onClick:()=>{var S;return!m&&((S=b.current)==null?void 0:S.click())},children:[r.jsx("input",{type:"file",ref:b,onChange:S=>P(S),accept:"image/*",className:"hidden"}),m?r.jsxs("div",{className:"relative w-full h-full",children:[r.jsx("img",{src:`data:image/jpeg;base64,${m}`,alt:"Main Image Preview",className:"w-full h-full object-contain"}),r.jsx("button",{onClick:S=>{S.stopPropagation(),k(0)},className:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full w-8 h-8 flex items-center justify-center transition-colors shadow-lg z-10",children:r.jsx(st,{size:16})})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[r.jsx(Wr,{className:"w-10 h-10 mb-2"}),r.jsx("p",{className:"text-base font-medium",children:"Kéo thả ảnh vào đây"}),r.jsx("p",{className:"text-sm",children:"hoặc nhấp để chọn file"}),r.jsx("p",{className:"text-xs mt-1 text-gray-400",children:"PNG, JPG, GIF (1 ảnh duy nhất)"})]})]})]}),r.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-base font-semibold text-gray-700 mb-3",children:"Ảnh Slider"}),r.jsxs("div",{className:`relative w-full min-h-[160px] border-2 border-dashed rounded-lg transition-all duration-200 cursor-pointer ${f?"border-blue-500 bg-blue-50":g.length>0?"border-green-500 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragOver:S=>v(S,!0),onDragLeave:S=>y(S,!0),onDrop:S=>N(S,!0),onClick:()=>{var S;return(S=x.current)==null?void 0:S.click()},children:[r.jsx("input",{type:"file",ref:x,onChange:S=>P(S,!0),accept:"image/*",multiple:!0,className:"hidden"}),g.length>0?r.jsxs("div",{className:"p-4",children:[r.jsx("div",{className:"grid grid-cols-4 gap-4",children:g.map((S,I)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:`data:image/jpeg;base64,${S}`,alt:`Slider Image ${I+1}`,className:"w-full h-24 object-cover rounded-lg border-2 border-gray-300 group-hover:border-blue-400 transition-colors"}),r.jsx("button",{onClick:R=>{R.stopPropagation(),k(I,!0)},className:"absolute -top-2 -right-2 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center transition-colors shadow-lg opacity-0 group-hover:opacity-100",children:r.jsx(st,{size:12})})]},I))}),r.jsx("div",{className:"mt-4 text-center",children:r.jsxs("p",{className:"text-sm text-gray-600",children:[g.length," ảnh đã chọn - Click để thêm ảnh khác"]})})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-gray-500",children:[r.jsx(Wr,{className:"w-10 h-10 mb-2"}),r.jsx("p",{className:"text-base font-medium",children:"Kéo thả ảnh vào đây"}),r.jsx("p",{className:"text-sm",children:"hoặc nhấp để chọn file"}),r.jsx("p",{className:"text-xs mt-1 text-gray-400",children:"PNG, JPG, GIF (nhiều ảnh)"})]})]})]}),r.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-base font-semibold text-gray-700",children:"Mục Đề"}),r.jsxs(fe,{onClick:L,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[r.jsx(mr,{size:16}),"Thêm Mục Đề"]})]}),s.MoTa.Title.map((S,I)=>r.jsxs("div",{className:"bg-white p-4 rounded-lg mb-4 border border-gray-200",children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsxs("h4",{className:"text-sm font-medium text-gray-600",hidden:!0,children:["Mục Đề ",I+1]}),s.MoTa.Title.length>1&&r.jsx("button",{onClick:()=>F(I),className:"bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center transition-colors",children:r.jsx(st,{size:12})})]}),r.jsx("div",{className:"mb-4",children:r.jsx(ye,{type:"text",className:"w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Tên Mục Đề",value:S.name||"",onChange:R=>O(I,R.target.value)})}),r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h5",{className:"text-sm font-medium text-gray-600",hidden:!0,children:"Mục Đề Con"}),r.jsxs(fe,{onClick:()=>E(I),variant:"outline",size:"sm",className:"border-gray-300 text-gray-700 hover:bg-gray-100",children:[r.jsx(mr,{size:12}),"Thêm Mục Nhỏ"]})]}),r.jsx("div",{className:"space-y-3",children:S.Subtitle.map((R,U)=>r.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("h6",{className:"text-xs font-medium text-gray-500",hidden:!0,children:["Mục Nhỏ ",U+1]}),S.Subtitle.length>1&&r.jsx("button",{onClick:()=>T(I,U),className:"bg-red-500 hover:bg-red-600 text-white rounded-full w-5 h-5 flex items-center justify-center transition-colors",children:r.jsx(st,{size:10})})]}),r.jsx("div",{className:"mb-3",children:r.jsx(ye,{type:"text",className:"w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Tên Mục Nhỏ",value:R.name||"",onChange:z=>_(I,U,z.target.value)})}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 mb-2 block",hidden:!0,children:"Nội dung mô tả:"}),r.jsx(_g,{value:R.Description.content||"",onChange:z=>w(I,U,z),modules:UDe,className:"min-h-[100px] bg-white border border-gray-300 rounded-lg",placeholder:"Nội dung mô tả"})]})]},U))})]})]},I))]}),r.jsx("div",{className:"space-y-3",children:r.jsx(RDe,{formData:s})}),a&&r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 max-h-64 overflow-y-auto",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-2",children:"JSON Preview"}),r.jsx("pre",{className:"bg-gray-800 text-green-400 p-3 rounded-md text-xs overflow-x-auto",children:c||JSON.stringify([s],null,2)})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t mt-6",children:[r.jsx(fe,{variant:"outline",onClick:t,className:"border-gray-300 text-gray-700 hover:bg-gray-100 rounded-lg px-6",children:"Hủy"}),r.jsx(fe,{onClick:j,className:"bg-purple-500 hover:bg-purple-600 text-white px-6",children:"Lưu Mô Tả"})]})]})})},HDe=({isEditModalOpen:e,setIsEditModalOpen:t,selectedProduct:n,productData:s})=>{var re;const[i,a]=B.useState([{color:"#ffffff",image:null,sizes:[{size:"",price:"",giaNhap:"",quantity:"1"}]}]),[o,c]=B.useState(""),[l,u]=B.useState(""),[d,f]=B.useState(""),[h,m]=B.useState(""),[A,g]=B.useState(""),[p,b]=B.useState(""),[x,v]=B.useState([]),[y,N]=B.useState({}),[P,M]=B.useState([]),[k,D]=B.useState([]),[O,L]=B.useState([]),[F,_]=B.useState([]),[E,T]=B.useState(""),[w,C]=B.useState(!1),[j,S]=B.useState(!1),[I,R]=B.useState([]),U=B.useRef(null),z=B.useRef({});B.useEffect(()=>{const Y=async()=>{try{const ce=localStorage.getItem("token"),de=await fetch("https://bicacuatho.azurewebsites.net/api/LoaiSanPham",{method:"GET",headers:{"Content-Type":"application/json",Authorization:ce?`Bearer ${ce}`:void 0}});if(!de.ok)throw new Error("Không thể lấy danh sách loại sản phẩm.");const pe=await de.json();M(Array.isArray(pe)?pe.filter(Ae=>Ae.trangThai===1):[])}catch(ce){console.error("Lỗi khi lấy danh sách loại sản phẩm:",ce),we.fire({title:"Lỗi!",text:ce.message||"Không thể lấy danh sách loại sản phẩm.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}},oe=async()=>{try{const ce=localStorage.getItem("token"),de=await fetch("https://bicacuatho.azurewebsites.net/api/ThuongHieu",{method:"GET",headers:{"Content-Type":"application/json",Authorization:ce?`Bearer ${ce}`:void 0}});if(!de.ok)throw new Error("Không thể lấy danh sách thương hiệu.");const pe=await de.json();D(Array.isArray(pe)?pe:[])}catch(ce){console.error("Lỗi khi lấy danh sách thương hiệu:",ce),we.fire({title:"Lỗi!",text:ce.message||"Không thể lấy danh sách thương hiệu.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}},ae=async()=>{try{const ce=localStorage.getItem("token"),de=await fetch("https://bicacuatho.azurewebsites.net/api/HashTag",{method:"GET",headers:{"Content-Type":"application/json",Authorization:ce?`Bearer ${ce}`:void 0}});if(!de.ok)throw new Error("Không thể lấy danh sách hashtag.");const pe=await de.json();L(Array.isArray(pe)?pe:[])}catch(ce){console.error("Lỗi khi lấy danh sách hashtag:",ce),we.fire({title:"Lỗi!",text:ce.message||"Không thể lấy danh sách hashtag.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}};Y(),oe(),ae()},[]),B.useEffect(()=>{(async()=>{if(!d){R([]);return}try{const oe=localStorage.getItem("token"),ae=await fetch(`https://bicacuatho.azurewebsites.net/api/LoaiSanPham/${d}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:oe?`Bearer ${oe}`:void 0}});if(!ae.ok)throw new Error("Không thể lấy danh sách kích thước.");const ce=await ae.json();R(Array.isArray(ce.kichThuoc)?ce.kichThuoc:[])}catch(oe){console.error("Lỗi khi lấy danh sách kích thước:",oe),we.fire({title:"Lỗi!",text:oe.message||"Không thể lấy danh sách kích thước.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}),R([])}})()},[d]),B.useEffect(()=>{if(s&&s.length>0&&k.length>0&&P.length>0){const Y=s[0];c(Y.tenSanPham||""),u(String(Y.th||"")),f(String(Y.lsp||"")),m(Y.moTa||""),g(Y.chatLieu||""),b(String(Y.gioiTinh||"")),v(Y.hinhAnhs||[]),_((Y.listHashTag||[]).map(oe=>({ID:oe.id,Name:oe.name}))),V(s)}},[s,k,P]);const V=Y=>{if(Y&&Y.length>0){const oe=Y.map(ae=>{var ce;return{color:`#${ae.mauSac}`,image:((ce=ae.details[0])==null?void 0:ce.hinhAnh)||null,sizes:ae.details.map(de=>({size:de.kichThuoc.trim(),price:de.gia.toString(),giaNhap:de.giaNhap?de.giaNhap.toString():"",quantity:de.soLuong!=null?de.soLuong.toString():"0"}))}});a(oe)}},X=Y=>{Y.preventDefault(),Y.stopPropagation(),C(!0)},$=Y=>{Y.preventDefault(),Y.stopPropagation(),C(!1)},W=Y=>{Y.preventDefault(),Y.stopPropagation(),C(!1),Array.from(Y.dataTransfer.files).forEach(ae=>{if(ae.type.startsWith("image/")&&ae.size<=5*1024*1024){const ce=new FileReader;ce.onloadend=()=>{const de=ce.result.replace(/^data:image\/[a-z]+;base64,/,"");v(pe=>[...pe,de]),N(pe=>({...pe,images:""}))},ce.readAsDataURL(ae)}else we.fire({title:"Lỗi!",text:ae.type.startsWith("image/")?"Hình ảnh không được vượt quá 5MB.":"Vui lòng chọn tệp hình ảnh.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})})},H=Y=>{Array.from(Y.target.files).forEach(ae=>{if(ae.type.startsWith("image/")&&ae.size<=5*1024*1024){const ce=new FileReader;ce.onloadend=()=>{const de=ce.result.replace(/^data:image\/[a-z]+;base64,/,"");v(pe=>[...pe,de]),N(pe=>({...pe,images:""}))},ce.readAsDataURL(ae)}else we.fire({title:"Lỗi!",text:ae.type.startsWith("image/")?"Hình ảnh không được vượt quá 5MB.":"Vui lòng chọn tệp hình ảnh.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})})},Q=(Y,oe)=>{const ae=oe.target.files[0];if(ae&&ae.type.startsWith("image/")&&ae.size<=5*1024*1024){const ce=new FileReader;ce.onloadend=()=>{const de=ce.result.replace(/^data:image\/[a-z]+;base64,/,""),pe=[...i];pe[Y].image=de,a(pe)},ce.readAsDataURL(ae)}else we.fire({title:"Lỗi!",text:ae.type.startsWith("image/")?"Hình ảnh không được vượt quá 5MB.":"Vui lòng chọn tệp hình ảnh.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})},G=Y=>{v(oe=>oe.filter((ae,ce)=>ce!==Y))},J=Y=>{const oe=[...i];oe[Y].image=null,a(oe)},ee=()=>{a([...i,{color:"#ffffff",image:null,sizes:[{size:I.length>0?I[0]:"",price:"",giaNhap:"",quantity:"1"}]}])},K=Y=>{const oe=[...i];oe[Y].sizes.push({size:I.length>0?I[0]:"",price:"",giaNhap:"",quantity:"1"}),a(oe)},ne=(Y,oe)=>{const ae=[...i];ae[Y].sizes.splice(oe,1),a(ae)},ue=Y=>{const oe=i.filter((ae,ce)=>ce!==Y);a(oe)},se=(Y,oe,ae,ce)=>{const de=[...i];ae==="color"?de[Y].color=ce:de[Y].sizes[oe][ae]=ce,a(de)},ie=(Y,oe,ae)=>{const ce=[...i],de=parseInt(ce[Y].sizes[oe].quantity)||0,pe=Math.max(1,de+ae);ce[Y].sizes[oe].quantity=pe.toString(),a(ce)},q=Y=>{_(oe=>oe.some(ce=>ce.ID===Y.maHashTag)?oe.filter(ce=>ce.ID!==Y.maHashTag):[...oe,{ID:Y.maHashTag,Name:Y.tenHashTag}])},Z=async()=>{let Y={},oe=!1;const ae=new Set,ce=x.map(pe=>pe.startsWith("data:image")?pe.replace(/^data:image\/[a-z]+;base64,/,""):pe);if(o.trim()||(Y.tenSanPham="Tên sản phẩm không được để trống.",oe=!0),l||(Y.maThuongHieu="Vui lòng chọn thương hiệu.",oe=!0),d||(Y.loaiSanPham="Vui lòng chọn loại sản phẩm.",oe=!0),p||(Y.gioiTinh="Vui lòng chọn giới tính.",oe=!0),ce.length===0&&(Y.images="Vui lòng thêm ít nhất một hình ảnh.",oe=!0),A.trim()||(Y.chatLieu="Chất liệu không được để trống.",oe=!0),i.forEach((pe,Ae)=>{const le=pe.color.slice(1).toUpperCase();le?ae.has(le)?(Y[`${Ae}-mauSac`]=`- Màu ${le} đã tồn tại.`,oe=!0):ae.add(le):(Y[`${Ae}-mauSac`]=`- Vui lòng chọn màu sắc cho màu ${Ae+1}.`,oe=!0),pe.image||(Y[`${Ae}-image`]=`- Vui lòng thêm hình ảnh cho màu ${le}.`,oe=!0);const he=new Set;pe.sizes.forEach((me,ve)=>{me.size?he.has(me.size)?(Y[`${Ae}-details-${ve}-kichThuoc`]=`- Kích thước ${me.size} của màu ${le} đã tồn tại.`,oe=!0):he.add(me.size):(Y[`${Ae}-details-${ve}-kichThuoc`]=`- Vui lòng chọn kích thước cho màu ${le}.`,oe=!0),(!me.price||parseInt(me.price)<=0)&&(Y[`${Ae}-details-${ve}-gia`]=`- Giá của kích thước ${me.size} thuộc màu ${le} phải lớn hơn 0.`,oe=!0),(!me.giaNhap||parseInt(me.giaNhap)<=0)&&(Y[`${Ae}-details-${ve}-giaNhap`]=`- Giá nhập của kích thước ${me.size} thuộc màu ${le} phải lớn hơn 0.`,oe=!0)})}),oe){N(Y),we.fire({title:"Lỗi!",text:"Vui lòng điền đầy đủ và đúng thông tin trước khi cập nhật sản phẩm.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1});return}const de={data:i.map(pe=>({ID:(n==null?void 0:n.id)||"A00001",TenSanPham:o.trim(),MaThuongHieu:parseInt(l),LoaiSanPham:parseInt(d),MauSac:pe.color.slice(1).toUpperCase(),MoTa:h.trim()||null,ChatLieu:A.trim(),GioiTinh:parseInt(p),HinhAnhs:ce,Details:pe.sizes.map(Ae=>({KichThuoc:Ae.size.trim(),SoLuong:parseInt(Ae.quantity),Gia:parseInt(Ae.price),GiaNhap:parseInt(Ae.giaNhap),HinhAnh:pe.image||null}))})),hashtaglist:F.map(pe=>({ID:pe.ID,Name:pe.Name}))};try{const pe=localStorage.getItem("token"),Ae=await fetch("https://bicacuatho.azurewebsites.net/api/SanPham/EditSanPham",{method:"POST",headers:{"Content-Type":"application/json",Authorization:pe?`Bearer ${pe}`:void 0},body:JSON.stringify(de)});if(Ae.ok)we.fire({title:"Thành công!",text:"Cập nhật sản phẩm thành công!",icon:"success",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{t(!1),window.location.reload()});else{const le=await Ae.json();we.fire({title:"Lỗi!",text:le.message||"Có lỗi xảy ra khi cập nhật sản phẩm.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}}catch(pe){console.error("Lỗi khi gửi dữ liệu:",pe),we.fire({title:"Lỗi!",text:"Có lỗi xảy ra khi gửi dữ liệu tới API.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}},te=O.filter(Y=>Y.tenHashTag.toLowerCase().includes(E.toLowerCase()));return r.jsxs(r.Fragment,{children:[r.jsx(Jt,{open:e,onOpenChange:t,children:r.jsxs(Wt,{className:"max-w-7xl p-6 bg-white rounded-lg",children:[r.jsx(an,{children:r.jsx(tn,{className:"text-2xl font-bold text-gray-800",children:"Chỉnh Sửa Sản Phẩm"})}),r.jsxs("div",{className:"py-4 shadow-lg max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[r.jsxs("div",{className:"col-span-2 space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Tên Sản Phẩm"}),r.jsx(ye,{value:o,onChange:Y=>{c(Y.target.value),N({...y,tenSanPham:""})},className:"w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Nhập tên sản phẩm",maxLength:100}),y.tenSanPham&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.tenSanPham})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Chất Liệu"}),r.jsx(ye,{value:A,onChange:Y=>{g(Y.target.value),N({...y,chatLieu:""})},className:"w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Nhập chất liệu",maxLength:50}),y.chatLieu&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.chatLieu})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Thương Hiệu"}),r.jsxs("select",{value:l,onChange:Y=>{u(Y.target.value),N({...y,maThuongHieu:""})},className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"",children:"Chọn thương hiệu"}),k.map(Y=>r.jsx("option",{value:Y.maThuongHieu,children:Y.tenThuongHieu},Y.maThuongHieu))]}),y.maThuongHieu&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.maThuongHieu})]}),r.jsxs("div",{hidden:!0,children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Loại Sản Phẩm"}),r.jsxs("select",{value:d,onChange:Y=>{f(Y.target.value),N({...y,loaiSanPham:""})},className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"",children:"Chọn loại sản phẩm"}),P.map(Y=>r.jsxs("option",{value:Y.maLoaiSanPham,children:[Y.tenLoaiSanPham," (",Y.kiHieu,")"]},Y.maLoaiSanPham))]}),y.loaiSanPham&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.loaiSanPham})]})]}),r.jsx("div",{className:"grid grid-cols-2 gap-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Giới Tính"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",name:"gioiTinh",value:"1",checked:p==="1",onChange:Y=>{b(Y.target.value),N({...y,gioiTinh:""})},className:"h-4 w-4 text-purple-500 focus:ring-purple-500 border-gray-300"}),r.jsx("span",{className:"text-gray-700",children:"Nam"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",name:"gioiTinh",value:"2",checked:p==="2",onChange:Y=>{b(Y.target.value),N({...y,gioiTinh:""})},className:"h-4 w-4 text-purple-500 focus:ring-purple-500 border-gray-300"}),r.jsx("span",{className:"text-gray-700",children:"Nữ"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",name:"gioiTinh",value:"3",checked:p==="3",onChange:Y=>{b(Y.target.value),N({...y,gioiTinh:""})},className:"h-4 w-4 text-purple-500 focus:ring-purple-500 border-gray-300"}),r.jsx("span",{className:"text-gray-700",children:"Unisex"})]})]}),y.gioiTinh&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.gioiTinh})]})})]}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("label",{className:"block font-medium text-gray-700",children:"Màu Sắc và Kích Thước"}),r.jsxs(fe,{onClick:ee,className:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg flex items-center gap-2",disabled:!d,children:[r.jsx(mr,{size:16}),"Thêm Màu Sắc"]})]}),r.jsx("div",{className:"space-y-4",children:i.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-300 rounded-lg",children:[r.jsx("svg",{className:"w-12 h-12 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),r.jsx("p",{className:"text-sm",children:"Chưa có màu sắc hoặc kích thước nào"}),r.jsx("p",{className:"text-xs",children:'Nhấn "Thêm Màu Sắc" để bắt đầu'})]}):i.map((Y,oe)=>r.jsxs("div",{className:"relative border border-gray-200 rounded-lg p-4 bg-white shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"color",value:Y.color,onChange:ae=>se(oe,null,"color",ae.target.value),className:"w-12 h-12 border-2 border-gray-300 rounded-lg cursor-pointer"}),r.jsxs("span",{className:"font-medium text-gray-700",children:["Màu ",oe+1," (",Y.color.slice(1).toUpperCase(),")"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"file",ref:ae=>z.current[oe]=ae,onChange:ae=>Q(oe,ae),accept:"image/*",className:"hidden"}),Y.image?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:`data:image/jpeg;base64,${Y.image}`,alt:`Color ${oe+1}`,className:"w-12 h-12 object-cover rounded-lg border-2 border-gray-300"}),r.jsx("button",{onClick:()=>J(oe),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center hover:bg-red-600 transition-colors",children:r.jsx(st,{size:12})})]}):r.jsx("button",{onClick:()=>{var ae;return(ae=z.current[oe])==null?void 0:ae.click()},className:"w-12 h-12 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center hover:border-gray-400 transition-colors",children:r.jsx(Wr,{size:16,className:"text-gray-400"})})]})]}),r.jsx("button",{onClick:()=>ue(oe),className:"bg-red-500 hover:bg-red-600 text-white rounded-full w-8 h-8 flex items-center justify-center transition-colors",title:"Xóa màu sắc",children:r.jsx(za,{size:16})})]}),r.jsxs("div",{className:"grid grid-cols-12 gap-2 text-sm font-medium text-gray-600 mb-2 px-2",children:[r.jsx("div",{className:"col-span-2 text-center",children:"Kích thước"}),r.jsx("div",{className:"col-span-3 text-center",children:"Giá Nhập"}),r.jsx("div",{className:"col-span-3 text-center",children:"Đơn Giá"}),r.jsx("div",{className:"col-span-3 text-center",children:"Số Lượng"}),r.jsx("div",{className:"col-span-1 text-center",children:"Thao tác"})]}),r.jsx("div",{className:"space-y-2",children:Y.sizes.map((ae,ce)=>r.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[r.jsx("div",{className:"col-span-2",children:r.jsx("select",{value:ae.size,onChange:de=>se(oe,ce,"size",de.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",disabled:!d||I.length===0,children:I.length===0?r.jsx("option",{value:"",children:"Chọn loại sản phẩm trước"}):I.map(de=>r.jsx("option",{value:de,children:de},de))})}),r.jsx("div",{className:"col-span-3",children:r.jsx(ye,{type:"number",min:"1",placeholder:"Giá Nhập",value:ae.giaNhap,onChange:de=>se(oe,ce,"giaNhap",de.target.value),className:"w-full p-2 border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm"})}),r.jsx("div",{className:"col-span-3",children:r.jsx(ye,{type:"number",min:"1",placeholder:"Đơn Giá",value:ae.price,onChange:de=>se(oe,ce,"price",de.target.value),className:"w-full p-2 border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm"})}),r.jsx("div",{className:"col-span-3",children:r.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md",children:[r.jsx("button",{onClick:()=>ie(oe,ce,-1),className:"p-1 hover:bg-gray-100 transition-colors",children:r.jsx(Bw,{size:16})}),r.jsx(ye,{type:"number",min:"1",value:ae.quantity,onChange:de=>se(oe,ce,"quantity",de.target.value),className:"flex-1 border-0 text-center text-sm focus:ring-0"}),r.jsx("button",{onClick:()=>ie(oe,ce,1),className:"p-1 hover:bg-gray-100 transition-colors",children:r.jsx(mr,{size:16})})]})}),r.jsx("div",{className:"col-span-1 flex justify-center",children:Y.sizes.length>1?r.jsx("button",{onClick:()=>ne(oe,ce),className:"bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center transition-colors",title:"Xóa kích thước",children:r.jsx(st,{size:12})}):r.jsx("div",{className:"w-6 h-6"})})]},ce))}),r.jsx("div",{className:"flex justify-center mt-3",children:r.jsxs(fe,{onClick:()=>K(oe),variant:"outline",size:"sm",className:"flex items-center gap-2",disabled:!d||I.length===0,children:[r.jsx(mr,{size:14}),"Thêm Kích Thước"]})})]},oe))})]})]}),r.jsxs("div",{className:"col-span-1 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Hình Ảnh Chung"}),r.jsxs("div",{className:`relative w-full h-48 border-2 border-dashed rounded-lg transition-all duration-200 ${w?"border-purple-500 bg-purple-50":x.length>0?"border-green-500 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragOver:X,onDragLeave:$,onDrop:W,children:[r.jsx("input",{type:"file",ref:U,onChange:H,accept:"image/*",multiple:!0,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),x.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[r.jsx(Wr,{className:"w-12 h-12 mb-3"}),r.jsx("p",{className:"text-lg font-medium",children:"Kéo thả ảnh vào đây"}),r.jsx("p",{className:"text-sm",children:"hoặc nhấp để chọn file"}),r.jsx("p",{className:"text-xs mt-2 text-gray-400",children:"PNG, JPG, GIF (tối đa 5MB)"})]}):r.jsx("div",{className:"flex flex-wrap gap-2 p-2 overflow-y-auto h-full",children:x.map((Y,oe)=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:Y.startsWith("data:image")?Y:`data:image/jpeg;base64,${Y}`,alt:`Image ${oe}`,className:"w-16 h-16 object-cover rounded-lg"}),r.jsx("button",{onClick:()=>G(oe),className:"absolute -top-2 -right-2 bg-red-500 hover:bg-red-600 text-white rounded-full w-5 h-5 flex items-center justify-center transition-colors",children:r.jsx(st,{size:12})})]},oe))})]}),y.images&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.images})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Mô Tả Ngắn Gọn"}),r.jsx("textarea",{className:"w-full h-32 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors resize-none",value:h,onChange:Y=>m(Y.target.value),placeholder:"Nhập mô tả ngắn gọn về sản phẩm...",maxLength:500}),r.jsx(fe,{onClick:()=>S(!0),className:"w-full mt-2 bg-purple-600 hover:bg-purple-700 text-white py-3 rounded-lg",children:"Nhập Mô Tả Chi Tiết"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Hashtags"}),r.jsxs("div",{className:"relative mb-2",children:[r.jsx(Un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx(ye,{value:E,onChange:Y=>T(Y.target.value),placeholder:"Tìm kiếm hashtag...",className:"pl-10 w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsx("div",{className:"max-h-32 overflow-y-auto border border-gray-300 rounded-lg p-2",children:te.length===0?r.jsx("p",{className:"text-gray-500 text-sm",children:"Không tìm thấy hashtag"}):te.map(Y=>r.jsxs("div",{className:"flex items-center gap-2 p-2 hover:bg-gray-100 rounded-md cursor-pointer",onClick:()=>q(Y),children:[r.jsx("input",{type:"checkbox",checked:F.some(oe=>oe.ID===Y.maHashTag),readOnly:!0,className:"h-4 w-4 text-purple-500 focus:ring-purple-500 border-gray-300"}),r.jsx("span",{children:Y.tenHashTag})]},Y.maHashTag))}),F.length>0&&r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Hashtags đã chọn:"}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:F.map(Y=>r.jsxs("div",{className:"flex items-center gap-1 bg-purple-100 text-purple-800 text-sm px-2 py-1 rounded-full",children:[r.jsx("span",{children:Y.Name}),r.jsx("button",{onClick:()=>q({maHashTag:Y.ID,tenHashTag:Y.Name}),className:"text-purple-600 hover:text-purple-800",children:r.jsx(st,{size:14})})]},Y.ID))})]})]}),Object.keys(y).length>0&&r.jsxs("div",{className:"text-red-500 text-sm",children:[r.jsx("p",{className:"font-medium",children:"Đã xảy ra lỗi:"}),r.jsx("ul",{className:"list-disc pl-5 mt-1",children:Object.values(y).map((Y,oe)=>r.jsx("li",{children:Y},oe))})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[r.jsx(fe,{variant:"outline",onClick:()=>t(!1),className:"border-gray-300 text-gray-700 hover:bg-gray-100 rounded-lg px-6",children:"Hủy"}),r.jsx(fe,{onClick:Z,className:"bg-purple-500 hover:bg-purple-600 text-white px-6",children:"Lưu Thay Đổi"})]})]})]})}),r.jsx($G,{isOpen:j,onClose:()=>S(!1),moTaChiTiet:((re=s==null?void 0:s[0])==null?void 0:re.moTaChiTiet)||null})]})},$De=({isAddModalOpen:e,setIsAddModalOpen:t})=>{const[n,s]=B.useState([{color:"#ffffff",image:null,sizes:[{size:"",price:"",giaNhap:"",quantity:1}]}]),[i,a]=B.useState(""),[o,c]=B.useState(""),[l,u]=B.useState(""),[d,f]=B.useState(""),[h,m]=B.useState(""),[A,g]=B.useState(""),[p,b]=B.useState([]),[x,v]=B.useState({}),[y,N]=B.useState([]),[P,M]=B.useState([]),[k,D]=B.useState([]),[O,L]=B.useState([]),[F,_]=B.useState(""),[E,T]=B.useState(!1),[w,C]=B.useState(!1),[j,S]=B.useState([]),I=B.useRef(null),R=B.useRef({});B.useEffect(()=>{const q=async()=>{try{const re=localStorage.getItem("token"),Y=await fetch("https://bicacuatho.azurewebsites.net/api/LoaiSanPham",{method:"GET",headers:{"Content-Type":"application/json",Authorization:re?`Bearer ${re}`:""}});if(!Y.ok)throw Y.status===401?new Error("Không có quyền truy cập, vui lòng đăng nhập lại."):new Error("Không thể lấy danh sách loại sản phẩm.");const oe=await Y.json();N(Array.isArray(oe)?oe.filter(ae=>ae.trangThai===1):[])}catch(re){console.error("Lỗi khi lấy danh sách loại sản phẩm:",re),we.fire({title:"Lỗi!",text:re.message||"Không thể lấy danh sách loại sản phẩm.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}},Z=async()=>{try{const re=localStorage.getItem("token"),Y=await fetch("https://bicacuatho.azurewebsites.net/api/ThuongHieu",{method:"GET",headers:{"Content-Type":"application/json",Authorization:re?`Bearer ${re}`:""}});if(!Y.ok)throw Y.status===401?new Error("Không có quyền truy cập, vui lòng đăng nhập lại."):new Error("Không thể lấy danh sách thương hiệu.");const oe=await Y.json();M(Array.isArray(oe)?oe:[])}catch(re){console.error("Lỗi khi lấy danh sách thương hiệu:",re),we.fire({title:"Lỗi!",text:re.message||"Không thể lấy danh sách thương hiệu.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}},te=async()=>{try{const re=localStorage.getItem("token"),Y=await fetch("https://bicacuatho.azurewebsites.net/api/HashTag",{method:"GET",headers:{"Content-Type":"application/json",Authorization:re?`Bearer ${re}`:""}});if(!Y.ok)throw Y.status===401?new Error("Không có quyền truy cập, vui lòng đăng nhập lại."):new Error("Không thể lấy danh sách hashtag.");const oe=await Y.json();D(Array.isArray(oe)?oe:[])}catch(re){console.error("Lỗi khi lấy danh sách hashtag:",re),we.fire({title:"Lỗi!",text:re.message||"Không thể lấy danh sách hashtag.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}};q(),Z(),te()},[]),B.useEffect(()=>{(async()=>{if(!l){S([]);return}try{const Z=localStorage.getItem("token"),te=await fetch(`https://bicacuatho.azurewebsites.net/api/LoaiSanPham/${l}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:Z?`Bearer ${Z}`:""}});if(!te.ok)throw te.status===401?new Error("Không có quyền truy cập, vui lòng đăng nhập lại."):te.status===404?new Error("Loại sản phẩm không tồn tại."):new Error("Không thể lấy danh sách kích thước.");const re=await te.json();S(Array.isArray(re.kichThuoc)?re.kichThuoc:[]),s(n.map(Y=>({...Y,sizes:Y.sizes.map(oe=>({...oe,size:re.kichThuoc.length>0?re.kichThuoc[0]:""}))})))}catch(Z){console.error("Lỗi khi lấy danh sách kích thước:",Z),we.fire({title:"Lỗi!",text:Z.message||"Không thể lấy danh sách kích thước.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}),S([])}})()},[l]);const U=q=>{q.preventDefault(),q.stopPropagation(),T(!0)},z=q=>{q.preventDefault(),q.stopPropagation(),T(!1)},V=q=>{q.preventDefault(),q.stopPropagation(),T(!1),Array.from(q.dataTransfer.files).forEach(te=>{if(te.type.startsWith("image/")&&te.size<=5*1024*1024){const re=new FileReader;re.onloadend=()=>{const Y=re.result.replace(/^data:image\/[a-z]+;base64,/,"");b(oe=>[...oe,Y]),v(oe=>({...oe,images:""}))},re.readAsDataURL(te)}else we.fire({title:"Lỗi!",text:te.type.startsWith("image/")?"Hình ảnh không được vượt quá 5MB.":"Vui lòng chọn tệp hình ảnh.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})})},X=q=>{Array.from(q.target.files).forEach(te=>{if(te.type.startsWith("image/")&&te.size<=5*1024*1024){const re=new FileReader;re.onloadend=()=>{const Y=re.result.replace(/^data:image\/[a-z]+;base64,/,"");b(oe=>[...oe,Y]),v(oe=>({...oe,images:""}))},re.readAsDataURL(te)}else we.fire({title:"Lỗi!",text:te.type.startsWith("image/")?"Hình ảnh không được vượt quá 5MB.":"Vui lòng chọn tệp hình ảnh.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})})},$=(q,Z)=>{const te=Z.target.files[0];if(te&&te.type.startsWith("image/")&&te.size<=5*1024*1024){const re=new FileReader;re.onloadend=()=>{const Y=re.result.replace(/^data:image\/[a-z]+;base64,/,""),oe=[...n];oe[q].image=Y,s(oe)},re.readAsDataURL(te)}else we.fire({title:"Lỗi!",text:te.type.startsWith("image/")?"Hình ảnh không được vượt quá 5MB.":"Vui lòng chọn tệp hình ảnh.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})},W=q=>{b(Z=>Z.filter((te,re)=>re!==q))},H=q=>{const Z=[...n];Z[q].image=null,s(Z)},Q=()=>{s([...n,{color:"#ffffff",image:null,sizes:[{size:j.length>0?j[0]:"",price:"",giaNhap:"",quantity:1}]}])},G=q=>{const Z=[...n];Z[q].sizes.push({size:j.length>0?j[0]:"",price:"",giaNhap:"",quantity:1}),s(Z)},J=(q,Z)=>{const te=[...n];te[q].sizes.splice(Z,1),s(te)},ee=q=>{const Z=n.filter((te,re)=>re!==q);s(Z)},K=(q,Z,te,re)=>{const Y=[...n];te==="color"?Y[q].color=re:Y[q].sizes[Z][te]=re,s(Y)},ne=(q,Z,te)=>{const re=[...n],Y=parseInt(re[q].sizes[Z].quantity)||0,oe=Math.max(1,Y+te);re[q].sizes[Z].quantity=oe.toString(),s(re)},ue=q=>{L(Z=>Z.some(re=>re.ID===q.maHashTag)?Z.filter(re=>re.ID!==q.maHashTag):[...Z,{ID:q.maHashTag,Name:q.tenHashTag}])},se=async()=>{let q={},Z=!1;const te=new Set,re=p.map(oe=>oe.startsWith("data:image")?oe.replace(/^data:image\/[a-z]+;base64,/,""):oe);if(i.trim()||(q.tenSanPham="Tên sản phẩm không được để trống.",Z=!0),o||(q.maThuongHieu="Vui lòng chọn thương hiệu.",Z=!0),l||(q.loaiSanPham="Vui lòng chọn loại sản phẩm.",Z=!0),A||(q.gioiTinh="Vui lòng chọn giới tính.",Z=!0),re.length===0&&(q.images="Vui lòng thêm ít nhất một hình ảnh.",Z=!0),h.trim()||(q.chatLieu="Chất liệu không được để trống.",Z=!0),n.forEach((oe,ae)=>{const ce=oe.color.slice(1).toUpperCase();ce?te.has(ce)?(q[`${ae}-mauSac`]=`- Màu ${ce} đã tồn tại.`,Z=!0):te.add(ce):(q[`${ae}-mauSac`]=`- Vui lòng chọn màu sắc cho màu ${ae+1}.`,Z=!0),oe.image||(q[`${ae}-image`]=`- Vui lòng thêm hình ảnh cho màu ${ce}.`,Z=!0);const de=new Set;oe.sizes.forEach((pe,Ae)=>{pe.size?de.has(pe.size)?(q[`${ae}-details-${Ae}-kichThuoc`]=`- Kích thước ${pe.size} của màu ${ce} đã tồn tại.`,Z=!0):de.add(pe.size):(q[`${ae}-details-${Ae}-kichThuoc`]=`- Vui lòng chọn kích thước cho màu ${ce}.`,Z=!0),(!pe.quantity||parseInt(pe.quantity)<=0)&&(q[`${ae}-details-${Ae}-soLuong`]=`- Số lượng của kích thước ${pe.size} thuộc màu ${ce} phải lớn hơn 0.`,Z=!0),(!pe.price||parseInt(pe.price)<=0)&&(q[`${ae}-details-${Ae}-gia`]=`- Giá của kích thước ${pe.size} thuộc màu ${ce} phải lớn hơn 0.`,Z=!0),(!pe.giaNhap||parseInt(pe.giaNhap)<=0)&&(q[`${ae}-details-${Ae}-giaNhap`]=`- Giá nhập của kích thước ${pe.size} thuộc màu ${ce} phải lớn hơn 0.`,Z=!0)})}),Z){v(q),we.fire({title:"Lỗi!",text:"Vui lòng điền đầy đủ và đúng thông tin trước khi thêm sản phẩm.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1});return}const Y={data:n.map(oe=>({TenSanPham:i.trim(),MaThuongHieu:parseInt(o),LoaiSanPham:parseInt(l),MoTa:d.trim()||null,MauSac:oe.color.slice(1).toUpperCase(),ChatLieu:h.trim(),GioiTinh:parseInt(A),HinhAnhs:re,Details:oe.sizes.map(ae=>({KichThuoc:ae.size.trim(),SoLuong:parseInt(ae.quantity),Gia:parseInt(ae.price),GiaNhap:parseInt(ae.giaNhap),HinhAnh:oe.image||null}))})),ListHashTag:O.map(oe=>({ID:oe.ID,Name:oe.Name}))};try{const oe=localStorage.getItem("token"),ae=await fetch("https://bicacuatho.azurewebsites.net/api/SanPham/CreateSanPham",{method:"POST",headers:{"Content-Type":"application/json",Authorization:oe?`Bearer ${oe}`:""},body:JSON.stringify(Y)});if(ae.ok){const ce=await ae.json();we.fire({title:"Thành công!",text:"Thêm sản phẩm thành công!",icon:"success",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{window.location.reload(),t(!1),a(""),c(""),u(""),f(""),m(""),g(""),b([]),s([{color:"#ffffff",image:null,sizes:[{size:j.length>0?j[0]:"",price:"",giaNhap:"",quantity:1}]}]),L([]),v({}),C(!0)})}else{const ce=await ae.json();we.fire({title:"Lỗi!",text:ce.message||"Có lỗi xảy ra khi thêm sản phẩm.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}}catch(oe){console.error("Lỗi khi gửi dữ liệu:",oe),we.fire({title:"Lỗi!",text:"Có lỗi xảy ra khi gửi dữ liệu tới API.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}},ie=k.filter(q=>q.tenHashTag.toLowerCase().includes(F.toLowerCase()));return r.jsxs(Jt,{open:e,onOpenChange:t,children:[r.jsxs(Wt,{className:"max-w-7xl p-6 bg-white rounded-lg",children:[r.jsx(an,{children:r.jsx(tn,{className:"text-2xl font-bold text-gray-800",children:"Thêm sản phẩm mới"})}),r.jsxs("div",{className:"py-4 shadow-lg max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[r.jsxs("div",{className:"col-span-2 space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Tên Sản Phẩm"}),r.jsx(ye,{value:i,onChange:q=>{a(q.target.value),v({...x,tenSanPham:""})},className:"w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Nhập tên sản phẩm",maxLength:100}),x.tenSanPham&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.tenSanPham})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Chất Liệu"}),r.jsx(ye,{value:h,onChange:q=>{m(q.target.value),v({...x,chatLieu:""})},className:"w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Nhập chất liệu",maxLength:50}),x.chatLieu&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.chatLieu})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Thương Hiệu"}),r.jsxs("select",{value:o,onChange:q=>{c(q.target.value),v({...x,maThuongHieu:""})},className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"",children:"Chọn thương hiệu"}),P.map(q=>r.jsx("option",{value:q.maThuongHieu,children:q.tenThuongHieu},q.maThuongHieu))]}),x.maThuongHieu&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.maThuongHieu})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Loại Sản Phẩm"}),r.jsxs("select",{value:l,onChange:q=>{u(q.target.value),v({...x,loaiSanPham:""})},className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"",children:"Chọn loại sản phẩm"}),y.map(q=>r.jsxs("option",{value:q.maLoaiSanPham,children:[q.tenLoaiSanPham," (",q.kiHieu,")"]},q.maLoaiSanPham))]}),x.loaiSanPham&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.loaiSanPham})]})]}),r.jsx("div",{className:"grid grid-cols-2 gap-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Giới Tính"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",name:"gioiTinh",value:"1",checked:A==="1",onChange:q=>{g(q.target.value),v({...x,gioiTinh:""})},className:"h-4 w-4 text-purple-500 focus:ring-purple-500 border-gray-300"}),r.jsx("span",{className:"text-gray-700",children:"Nam"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",name:"gioiTinh",value:"2",checked:A==="2",onChange:q=>{g(q.target.value),v({...x,gioiTinh:""})},className:"h-4 w-4 text-purple-500 focus:ring-purple-500 border-gray-300"}),r.jsx("span",{className:"text-gray-700",children:"Nữ"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",name:"gioiTinh",value:"3",checked:A==="3",onChange:q=>{g(q.target.value),v({...x,gioiTinh:""})},className:"h-4 w-4 text-purple-500 focus:ring-purple-500 border-gray-300"}),r.jsx("span",{className:"text-gray-700",children:"Unisex"})]})]}),x.gioiTinh&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.gioiTinh})]})})]}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("label",{className:"block font-medium text-gray-700",children:"Màu sắc và kích thước"}),r.jsxs(fe,{onClick:Q,className:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg flex items-center gap-2",disabled:!l,children:[r.jsx(mr,{size:16}),"Thêm Màu Sắc"]})]}),r.jsx("div",{className:"space-y-4",children:n.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-300 rounded-lg",children:[r.jsx("svg",{className:"w-12 h-12 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),r.jsx("p",{className:"text-sm",children:"Chưa có màu sắc hoặc kích thước nào"}),r.jsx("p",{className:"text-xs",children:'Nhấn "Thêm Màu Sắc" để bắt đầu'})]}):n.map((q,Z)=>r.jsxs("div",{className:"relative border border-gray-200 rounded-lg p-4 bg-white shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"color",value:q.color,onChange:te=>K(Z,null,"color",te.target.value),className:"w-12 h-12 border-2 border-gray-300 rounded-lg cursor-pointer"}),r.jsxs("span",{className:"font-medium text-gray-700",children:["Màu ",Z+1," (",q.color.slice(1).toUpperCase(),")"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"file",ref:te=>R.current[Z]=te,onChange:te=>$(Z,te),accept:"image/*",className:"hidden"}),q.image?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:`data:image/jpeg;base64,${q.image}`,alt:`Color ${Z+1}`,className:"w-12 h-12 object-cover rounded-lg border-2 border-gray-300"}),r.jsx("button",{onClick:()=>H(Z),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center hover:bg-red-600 transition-colors",children:r.jsx(st,{size:12})})]}):r.jsx("button",{onClick:()=>{var te;return(te=R.current[Z])==null?void 0:te.click()},className:"w-12 h-12 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center hover:border-gray-400 transition-colors",children:r.jsx(Wr,{size:16,className:"text-gray-400"})})]})]}),r.jsx("button",{onClick:()=>ee(Z),className:"bg-red-500 hover:bg-red-600 text-white rounded-full w-8 h-8 flex items-center justify-center transition-colors",title:"Xóa màu sắc",children:r.jsx(za,{size:16})})]}),r.jsxs("div",{className:"grid grid-cols-12 gap-2 text-sm font-medium text-gray-600 mb-2 px-2",children:[r.jsx("div",{className:"col-span-2 text-center",children:"Kích thước"}),r.jsx("div",{className:"col-span-3 text-center",children:"Giá Nhập"}),r.jsx("div",{className:"col-span-3 text-center",children:"Đơn Giá"}),r.jsx("div",{className:"col-span-3 text-center",children:"Số Lượng"}),r.jsx("div",{className:"col-span-1 text-center",children:"Thao tác"})]}),r.jsx("div",{className:"space-y-2",children:q.sizes.map((te,re)=>r.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[r.jsx("div",{className:"col-span-2",children:r.jsx("select",{value:te.size,onChange:Y=>K(Z,re,"size",Y.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",disabled:!l||j.length===0,children:j.length===0?r.jsx("option",{value:"",children:"Chọn loại sản phẩm trước"}):j.map(Y=>r.jsx("option",{value:Y,children:Y},Y))})}),r.jsx("div",{className:"col-span-3",children:r.jsx(ye,{type:"number",min:"1",placeholder:"Giá Nhập",value:te.giaNhap,onChange:Y=>K(Z,re,"giaNhap",Y.target.value),className:"w-full p-2 border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm"})}),r.jsx("div",{className:"col-span-3",children:r.jsx(ye,{type:"number",min:"1",placeholder:"Đơn Giá",value:te.price,onChange:Y=>K(Z,re,"price",Y.target.value),className:"w-full p-2 border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm"})}),r.jsx("div",{className:"col-span-3",children:r.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md",children:[r.jsx("button",{onClick:()=>ne(Z,re,-1),className:"p-1 hover:bg-gray-100 transition-colors",children:r.jsx(Bw,{size:16})}),r.jsx(ye,{type:"number",min:"1",value:te.quantity,onChange:Y=>K(Z,re,"quantity",Y.target.value),className:"flex-1 border-0 text-center text-sm focus:ring-0"}),r.jsx("button",{onClick:()=>ne(Z,re,1),className:"p-1 hover:bg-gray-100 transition-colors",children:r.jsx(mr,{size:16})})]})}),r.jsx("div",{className:"col-span-1 flex justify-center",children:q.sizes.length>1?r.jsx("button",{onClick:()=>J(Z,re),className:"bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center transition-colors",title:"Xóa kích thước",children:r.jsx(st,{size:12})}):r.jsx("div",{className:"w-6 h-6"})})]},re))}),r.jsx("div",{className:"flex justify-center mt-3",children:r.jsxs(fe,{onClick:()=>G(Z),variant:"outline",size:"sm",className:"flex items-center gap-2",disabled:!l||j.length===0,children:[r.jsx(mr,{size:14}),"Thêm Kích Thước"]})})]},Z))})]})]}),r.jsxs("div",{className:"col-span-1 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Hình Ảnh Chung"}),r.jsxs("div",{className:`relative w-full h-48 border-2 border-dashed rounded-lg transition-all duration-200 ${E?"border-purple-500 bg-purple-50":p.length>0?"border-green-500 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragOver:U,onDragLeave:z,onDrop:V,children:[r.jsx("input",{type:"file",ref:I,onChange:X,accept:"image/*",multiple:!0,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),p.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[r.jsx(Wr,{className:"w-12 h-12 mb-3"}),r.jsx("p",{className:"text-lg font-medium",children:"Kéo thả ảnh vào đây"}),r.jsx("p",{className:"text-sm",children:"hoặc nhấp để chọn file"}),r.jsx("p",{className:"text-xs mt-2 text-gray-400",children:"PNG, JPG, GIF (tối đa 5MB)"})]}):r.jsx("div",{className:"flex flex-wrap gap-2 p-2 overflow-y-auto h-full",children:p.map((q,Z)=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:q.startsWith("data:image")?q:`data:image/jpeg;base64,${q}`,alt:`Image ${Z}`,className:"w-16 h-16 object-cover rounded-lg"}),r.jsx("button",{onClick:()=>W(Z),className:"absolute -top-2 -right-2 bg-red-500 hover:bg-red-600 text-white rounded-full w-5 h-5 flex items-center justify-center transition-colors",children:r.jsx(st,{size:12})})]},Z))})]}),x.images&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.images})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Mô Tả Ngắn Gọn"}),r.jsx("textarea",{className:"w-full h-32 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors resize-none",value:d,onChange:q=>f(q.target.value),placeholder:"Nhập mô tả ngắn gọn về sản phẩm...",maxLength:500}),r.jsx(fe,{onClick:()=>C(!0),className:"w-full mt-2 bg-purple-600 hover:bg-purple-700 text-white py-3 rounded-lg",children:"Nhập Mô Tả Chi Tiết"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Hashtags"}),r.jsxs("div",{className:"relative mb-2",children:[r.jsx(Un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx(ye,{value:F,onChange:q=>_(q.target.value),placeholder:"Tìm kiếm hashtag...",className:"pl-10 w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsx("div",{className:"max-h-32 overflow-y-auto border border-gray-300 rounded-lg p-2",children:ie.length===0?r.jsx("p",{className:"text-gray-500 text-sm",children:"Không tìm thấy hashtag"}):ie.map(q=>r.jsxs("div",{className:"flex items-center gap-2 p-2 hover:bg-gray-100 rounded-md cursor-pointer",onClick:()=>ue(q),children:[r.jsx("input",{type:"checkbox",checked:O.some(Z=>Z.ID===q.maHashTag),readOnly:!0,className:"h-4 w-4 text-purple-500 focus:ring-purple-500 border-gray-300"}),r.jsx("span",{children:q.tenHashTag})]},q.maHashTag))}),O.length>0&&r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Hashtags đã chọn:"}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:O.map(q=>r.jsxs("div",{className:"flex items-center gap-1 bg-purple-100 text-purple-800 text-sm px-2 py-1 rounded-full",children:[r.jsx("span",{children:q.Name}),r.jsx("button",{onClick:()=>ue({maHashTag:q.ID,tenHashTag:q.Name}),className:"text-purple-600 hover:text-purple-800",children:r.jsx(st,{size:14})})]},q.ID))})]})]}),Object.keys(x).length>0&&r.jsxs("div",{className:"text-red-500 text-sm",children:[r.jsx("p",{className:"font-medium",children:"Đã xảy ra lỗi:"}),r.jsx("ul",{className:"list-disc pl-5 mt-1",children:Object.values(x).map((q,Z)=>r.jsx("li",{children:q},Z))})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[r.jsx(fe,{variant:"outline",onClick:()=>t(!1),className:"border-gray-300 text-gray-700 hover:bg-gray-100 rounded-lg px-6",children:"Hủy"}),r.jsx(fe,{onClick:se,className:"bg-purple-500 hover:bg-purple-600 text-white px-6",children:"Thêm Sản Phẩm"})]})]})]}),r.jsx($G,{isOpen:w,onClose:()=>C(!1),moTaChiTiet:null})]})},QDe=({productId:e,isOpen:t,onClose:n})=>{const[s,i]=B.useState([]),[a,o]=B.useState(null),[c,l]=B.useState(""),[u,d]=B.useState(0),[f,h]=B.useState(!0),[m,A]=B.useState(null),[g,p]=B.useState(!1);if(B.useEffect(()=>{(async()=>{if(!(!e||!t))try{h(!0);const D=localStorage.getItem("token"),O=e.split("_")[0]||e,L=await fetch(`https://bicacuatho.azurewebsites.net/api/SanPham/SanPhamByIDSorted?id=${O}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:D?`Bearer ${D}`:void 0}});if(!L.ok)throw new Error("Không thể tải thông tin sản phẩm");const F=await L.json(),E=(Array.isArray(F)?F:[F]).map(T=>{var w;return{id:T.id,tenSanPham:T.tenSanPham,maThuongHieu:T.maThuongHieu,loaiSanPham:T.loaiSanPham,mauSac:T.mauSac,moTa:T.moTa||"Không có mô tả rút gọn",chatLieu:T.chatLieu,details:T.details.map(C=>({kichThuoc:C.kichThuoc.trim(),soLuong:C.soLuong,gia:C.gia,hinhAnh:C.hinhAnh,giaNhap:C.giaNhap})),hinhAnhs:((w=T.hinhAnhs)==null?void 0:w.map(C=>`data:image/jpeg;base64,${C}`))||[],moTaChiTiet:T.moTaChiTiet}});i(E),o(E[0]),E.length>0&&E[0].hinhAnhs.length>0&&l(E[0].hinhAnhs[0])}catch(D){A(D.message)}finally{h(!1)}})()},[e,t]),!t)return null;if(f)return r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:r.jsx("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-md w-full mx-4",children:r.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("p",{className:"text-lg text-gray-700 font-medium",children:"Đang tải thông tin sản phẩm..."})]})})});if(m||!s.length||!a)return r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:r.jsx("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-md w-full mx-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:r.jsx(st,{className:"h-6 w-6 text-red-600"})}),r.jsx("p",{className:"text-lg text-red-600 font-medium mb-4",children:m||"Không tìm thấy sản phẩm"}),r.jsx("button",{onClick:n,className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:"Đóng"})]})})});const b=[...a.hinhAnhs,...s.flatMap(k=>k.details.filter(D=>D.hinhAnh).map(D=>`data:image/jpeg;base64,${D.hinhAnh}`))].filter((k,D,O)=>k&&O.indexOf(k)===D),x=s.reduce((k,D)=>k+D.details.reduce((O,L)=>O+L.soLuong,0),0),v=s.reduce((k,D)=>k+D.details.reduce((O,L)=>O+Math.floor(Math.random()*100),0),0),y=3,N=Math.ceil(b.length/y),P=()=>{d(k=>k===0?N-1:k-1)},M=()=>{d(k=>k===N-1?0:k+1)};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-7xl h-[80vh] flex flex-col",children:[r.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-8 py-6 rounded-t-2xl z-10",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Chi Tiết Sản Phẩm"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Quản lý thông tin sản phẩm"})]}),r.jsx("div",{className:"flex gap-3",children:r.jsx("button",{onClick:n,className:"p-3 hover:bg-gray-100 rounded-xl transition-all duration-200","aria-label":"Đóng modal",title:"Đóng",children:r.jsx(st,{className:"h-6 w-6 text-gray-600"})})})]})}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-8 ",style:{maxHeight:"650px"},children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"aspect-square rounded-2xl overflow-hidden bg-gray-100 shadow-lg",children:r.jsx("img",{src:c||a.hinhAnhs[0]||"",alt:a.tenSanPham,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"})}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"overflow-hidden",children:r.jsx("div",{className:"flex transition-transform duration-300",style:{transform:`translateX(-${u*100}%)`},children:Array.from({length:N}).map((k,D)=>r.jsx("div",{className:"flex-shrink-0 w-full grid grid-cols-3 gap-4",children:b.slice(D*y,(D+1)*y).map((O,L)=>r.jsx("button",{onClick:()=>l(O),className:`aspect-square rounded-lg overflow-hidden transition-all duration-200 ${c===O?"ring-3 ring-blue-500 shadow-lg transform scale-105":"opacity-70 hover:opacity-100 hover:shadow-md"}`,children:r.jsx("img",{src:O,alt:`${a.tenSanPham} ${D*y+L+1}`,className:"w-full h-full object-cover"})},`slide-${D}-${L}`))},D))})}),N>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:P,className:"absolute left-0 top-1/2 -translate-y-1/2 bg-gray-800/70 text-white p-2 rounded-full hover:bg-gray-800","aria-label":"Previous slide",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),r.jsx("button",{onClick:M,className:"absolute right-0 top-1/2 -translate-y-1/2 bg-gray-800/70 text-white p-2 rounded-full hover:bg-gray-800","aria-label":"Next slide",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]})]})]}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:a.tenSanPham}),r.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:a.moTa})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-4 text-white",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(hr,{className:"h-8 w-8"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-100 text-sm",children:"Tổng tồn kho"}),r.jsx("p",{className:"text-2xl font-bold",children:x})]})]})}),r.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-xl p-4 text-white",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Id,{className:"h-8 w-8"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-green-100 text-sm",children:"Đã bán"}),r.jsx("p",{className:"text-2xl font-bold",children:v})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[r.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[r.jsx(dr,{className:"h-5 w-5 text-gray-600"}),"Thông tin cơ bản"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 text-sm",children:"Chất liệu"}),r.jsx("p",{className:"font-medium",children:a.chatLieu})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 text-sm",children:"Thương hiệu"}),r.jsx("p",{className:"font-medium",children:a.maThuongHieu})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 text-sm",children:"Loại sản phẩm"}),r.jsx("p",{className:"font-medium",children:a.loaiSanPham})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 text-sm",children:"Số biến thể"}),r.jsxs("p",{className:"font-medium",children:[s.length," màu sắc"]})]})]})]}),r.jsx("div",{className:"rounded-xl p-6 flex justify-center",children:r.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 p-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all duration-200","aria-label":"Xem chi tiết sản phẩm",title:"Chi Tiết Sản Phẩm",children:[r.jsx(dr,{className:"h-6 w-6"}),r.jsx("span",{children:"Xem chi tiết Mô Tả"})]})})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden mt-8",children:[r.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-8 py-6 border-b border-gray-200",children:[r.jsxs("h3",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(GN,{className:"h-6 w-6"}),"Tất cả biến thể sản phẩm"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Quản lý thông tin chi tiết từng biến thể"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50",children:[r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(GN,{className:"h-4 w-4"}),"Màu sắc"]})}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(WN,{className:"h-4 w-4"}),"Kích thước"]})}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(hr,{className:"h-4 w-4"}),"Tồn kho"]})}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Id,{className:"h-4 w-4"}),"Đã bán"]})}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(aJ,{className:"h-4 w-4"}),"Giá Nhập"]})}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(dJ,{className:"h-4 w-4"}),"Giá Nhập"]})}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900 border-b border-gray-200",children:"Trạng thái"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:s.map((k,D)=>k.details.map((O,L)=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[r.jsx("td",{className:"px-6 py-5",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white shadow-md",style:{backgroundColor:`#${k.mauSac}`},title:`#${k.mauSac}`}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-gray-900",children:["#",k.mauSac]}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Màu ",D+1]})]})]})}),r.jsx("td",{className:"px-6 py-5",children:r.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:O.kichThuoc})}),r.jsx("td",{className:"px-6 py-5",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`text-lg font-semibold ${O.soLuong>10?"text-green-600":O.soLuong>0?"text-yellow-600":"text-red-600"}`,children:O.soLuong}),r.jsx("span",{className:"text-gray-500 text-sm",children:"cái"})]})}),r.jsx("td",{className:"px-6 py-5",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg font-semibold text-gray-900",children:Math.floor(Math.random()*100)}),r.jsx("span",{className:"text-gray-500 text-sm",children:"cái"})]})}),r.jsx("td",{className:"px-6 py-5",children:r.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[(O.giaNhap/1e3).toFixed(3)," VND"]})}),r.jsx("td",{className:"px-6 py-5",children:r.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[(O.gia/1e3).toFixed(3)," VND"]})}),r.jsx("td",{className:"px-6 py-5",children:r.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${O.soLuong>10?"bg-green-100 text-green-800":O.soLuong>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:O.soLuong>10?"Còn hàng":O.soLuong>0?"Sắp hết":"Hết hàng"})})]},`${D}-${L}`)))})]})}),r.jsx("div",{className:"bg-gray-50 px-8 py-4 border-t border-gray-200",children:r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsxs("span",{className:"text-gray-600",children:["Tổng cộng: ",s.reduce((k,D)=>k+D.details.length,0)," biến thể"]}),r.jsxs("div",{className:"flex gap-6",children:[r.jsxs("span",{className:"text-gray-600",children:["Tổng tồn kho: ",r.jsx("span",{className:"font-semibold text-blue-600",children:x})]}),r.jsxs("span",{className:"text-gray-600",children:["Tổng đã bán: ",r.jsx("span",{className:"font-semibold text-green-600",children:v})]})]})]})})]})]}),r.jsx("div",{className:"bg-gray-100 px-8 py-4 border-t border-gray-200 text-center",children:r.jsx("p",{className:"text-sm text-gray-600",children:"© 2025 FashionHub. All rights reserved."})})]})}),g&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-7xl h-[80vh] flex flex-col",children:[r.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-8 py-6 rounded-t-2xl z-10",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Mô Tả Chi Tiết Sản Phẩm"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Xem chi tiết sản phẩm"})]}),r.jsx("button",{onClick:()=>p(!1),className:"p-3 hover:bg-gray-100 rounded-xl transition-all duration-200","aria-label":"Đóng modal",title:"Đóng",children:r.jsx(st,{className:"h-6 w-6 text-gray-600"})})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto p-8",style:{maxHeight:"650px"},children:r.jsx(jQ,{product:a})}),r.jsx("div",{className:"bg-gray-100 px-8 py-4 border-t border-gray-200 text-center",children:r.jsx("p",{className:"text-sm text-gray-600",children:"© 2025 FashionHub. All rights reserved."})})]})})]})};function Yx(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var QG={exports:{}};/*! ExcelJS 19-10-2023 */(function(e,t){(function(n){e.exports=n()})(function(){return function n(s,i,a){function o(u,d){if(!i[u]){if(!s[u]){var f=typeof Yx=="function"&&Yx;if(!d&&f)return f(u,!0);if(c)return c(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var m=i[u]={exports:{}};s[u][0].call(m.exports,function(A){return o(s[u][1][A]||A)},m,m.exports,n,s,i,a)}return i[u].exports}for(var c=typeof Yx=="function"&&Yx,l=0;l<a.length;l++)o(a[l]);return o}({1:[function(n,s,i){const a=n("fs"),o=n("fast-csv"),c=n("dayjs/plugin/customParseFormat"),l=n("dayjs/plugin/utc"),u=n("dayjs").extend(c).extend(l),d=n("../utils/stream-buf"),{fs:{exists:f}}=n("../utils/utils"),h={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};s.exports=class{constructor(m){this.workbook=m,this.worksheet=null}async readFile(m,A){if(A=A||{},!await f(m))throw new Error("File not found: "+m);const g=a.createReadStream(m),p=await this.read(g,A);return g.close(),p}read(m,A){return A=A||{},new Promise((g,p)=>{const b=this.workbook.addWorksheet(A.sheetName),x=A.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],v=A.map||function(N){if(N==="")return null;const P=Number(N);if(!Number.isNaN(P)&&P!==1/0)return P;const M=x.reduce((D,O)=>{if(D)return D;const L=u(N,O,!0);return L.isValid()?L:null},null);if(M)return new Date(M.valueOf());const k=h[N];return k!==void 0?k:N},y=o.parse(A.parserOptions).on("data",N=>{b.addRow(N.map(v))}).on("end",()=>{y.emit("worksheet",b)});y.on("worksheet",g).on("error",p),m.pipe(y)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(m,A){return new Promise((g,p)=>{A=A||{};const b=this.workbook.getWorksheet(A.sheetName||A.sheetId),x=o.format(A.formatterOptions);m.on("finish",()=>{g()}),x.on("error",p),x.pipe(m);const{dateFormat:v,dateUTC:y}=A,N=A.map||(k=>{if(k){if(k.text||k.hyperlink)return k.hyperlink||k.text||"";if(k.formula||k.result)return k.result||"";if(k instanceof Date)return v?y?u.utc(k).format(v):u(k).format(v):y?u.utc(k).format():u(k).format();if(k.error)return k.error;if(typeof k=="object")return JSON.stringify(k)}return k}),P=A.includeEmptyRows===void 0||A.includeEmptyRows;let M=1;b&&b.eachRow((k,D)=>{if(P)for(;M++<D-1;)x.write([]);const{values:O}=k;O.shift(),x.write(O.map(N)),M=D}),x.end()})}writeFile(m,A){const g={encoding:(A=A||{}).encoding||"utf8"},p=a.createWriteStream(m,g);return this.write(p,A)}async writeBuffer(m){const A=new d;return await this.write(A,m),A.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(n,s,i){const a=n("../utils/col-cache");class o{constructor(l,u){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=l,u)if(typeof u=="string"){const f=a.decodeAddress(u);this.nativeCol=f.col+d,this.nativeColOff=0,this.nativeRow=f.row+d,this.nativeRowOff=0}else u.nativeCol!==void 0?(this.nativeCol=u.nativeCol||0,this.nativeColOff=u.nativeColOff||0,this.nativeRow=u.nativeRow||0,this.nativeRowOff=u.nativeRowOff||0):u.col!==void 0?(this.col=u.col+d,this.row=u.row+d):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(l){return l instanceof o||l==null?l:new o(l)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(l){this.nativeCol=Math.floor(l),this.nativeColOff=Math.floor((l-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(l){this.nativeRow=Math.floor(l),this.nativeRowOff=Math.floor((l-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(l){this.nativeCol=l.nativeCol,this.nativeColOff=l.nativeColOff,this.nativeRow=l.nativeRow,this.nativeRowOff=l.nativeRowOff}}s.exports=o},{"../utils/col-cache":19}],3:[function(n,s,i){const a=n("../utils/col-cache"),o=n("../utils/under-dash"),c=n("./enums"),{slideFormula:l}=n("../utils/shared-formula"),u=n("./note");class d{constructor(m,A,g){if(!m||!A)throw new Error("A Cell needs a Row");this._row=m,this._column=A,a.validateAddress(g),this._address=g,this._value=f.create(d.Types.Null,this),this.style=this._mergeStyle(m.style,A.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(m){this.style.numFmt=m}get font(){return this.style.font}set font(m){this.style.font=m}get alignment(){return this.style.alignment}set alignment(m){this.style.alignment=m}get border(){return this.style.border}set border(m){this.style.border=m}get fill(){return this.style.fill}set fill(m){this.style.fill=m}get protection(){return this.style.protection}set protection(m){this.style.protection=m}_mergeStyle(m,A,g){const p=m&&m.numFmt||A&&A.numFmt;p&&(g.numFmt=p);const b=m&&m.font||A&&A.font;b&&(g.font=b);const x=m&&m.alignment||A&&A.alignment;x&&(g.alignment=x);const v=m&&m.border||A&&A.border;v&&(g.border=v);const y=m&&m.fill||A&&A.fill;y&&(g.fill=y);const N=m&&m.protection||A&&A.protection;return N&&(g.protection=N),g}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===d.Types.Merge}merge(m,A){this._value.release(),this._value=f.create(d.Types.Merge,this,m),A||(this.style=m.style)}unmerge(){this.type===d.Types.Merge&&(this._value.release(),this._value=f.create(d.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(m){return this._value.type===d.Types.Merge&&this._value.isMergedTo(m)}get master(){return this.type===d.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===d.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(m){this.type!==d.Types.Merge?(this._value.release(),this._value=f.create(f.getType(m),this,m)):this._value.master.value=m}get note(){return this._comment&&this._comment.note}set note(m){this._comment=new u(m)}get text(){return this._value.toString()}get html(){return o.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(m){this.type===d.Types.String&&(this._value=f.create(d.Types.Hyperlink,this,{text:this._value.value,hyperlink:m}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:m}=this._row;return{sheetName:m.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(m){this.names=[m]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(m){const{definedNames:A}=this.workbook;A.removeAllNames(this.fullAddress),m.forEach(g=>{A.addEx(this.fullAddress,g)})}addName(m){this.workbook.definedNames.addEx(this.fullAddress,m)}removeName(m){this.workbook.definedNames.removeEx(this.fullAddress,m)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(m){this._dataValidations.add(this.address,m)}get model(){const{model:m}=this._value;return m.style=this.style,this._comment&&(m.comment=this._comment.model),m}set model(m){if(this._value.release(),this._value=f.create(m.type,this),this._value.model=m,m.comment)switch(m.comment.type){case"note":this._comment=u.fromModel(m.comment)}m.style?this.style=m.style:this.style={}}}d.Types=c.ValueType;const f={getType:h=>h==null?d.Types.Null:h instanceof String||typeof h=="string"?d.Types.String:typeof h=="number"?d.Types.Number:typeof h=="boolean"?d.Types.Boolean:h instanceof Date?d.Types.Date:h.text&&h.hyperlink?d.Types.Hyperlink:h.formula||h.sharedFormula?d.Types.Formula:h.richText?d.Types.RichText:h.sharedString?d.Types.SharedString:h.error?d.Types.Error:d.Types.JSON,types:[{t:d.Types.Null,f:class{constructor(h){this.model={address:h.address,type:d.Types.Null}}get value(){return null}set value(h){}get type(){return d.Types.Null}get effectiveType(){return d.Types.Null}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){}toString(){return""}}},{t:d.Types.Number,f:class{constructor(h,m){this.model={address:h.address,type:d.Types.Number,value:m}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return d.Types.Number}get effectiveType(){return d.Types.Number}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.String,f:class{constructor(h,m){this.model={address:h.address,type:d.Types.String,value:m}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return d.Types.String}get effectiveType(){return d.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:d.Types.Date,f:class{constructor(h,m){this.model={address:h.address,type:d.Types.Date,value:m}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return d.Types.Date}get effectiveType(){return d.Types.Date}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.Hyperlink,f:class{constructor(h,m){this.model={address:h.address,type:d.Types.Hyperlink,text:m?m.text:void 0,hyperlink:m?m.hyperlink:void 0},m&&m.tooltip&&(this.model.tooltip=m.tooltip)}get value(){const h={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(h.tooltip=this.model.tooltip),h}set value(h){this.model={text:h.text,hyperlink:h.hyperlink},h.tooltip&&(this.model.tooltip=h.tooltip)}get text(){return this.model.text}set text(h){this.model.text=h}get hyperlink(){return this.model.hyperlink}set hyperlink(h){this.model.hyperlink=h}get type(){return d.Types.Hyperlink}get effectiveType(){return d.Types.Hyperlink}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:d.Types.Formula,f:class{constructor(h,m){this.cell=h,this.model={address:h.address,type:d.Types.Formula,shareType:m?m.shareType:void 0,ref:m?m.ref:void 0,formula:m?m.formula:void 0,sharedFormula:m?m.sharedFormula:void 0,result:m?m.result:void 0}}_copyModel(h){const m={},A=g=>{const p=h[g];p&&(m[g]=p)};return A("formula"),A("result"),A("ref"),A("shareType"),A("sharedFormula"),m}get value(){return this._copyModel(this.model)}set value(h){this.model=this._copyModel(h)}validate(h){switch(f.getType(h)){case d.Types.Null:case d.Types.String:case d.Types.Number:case d.Types.Date:break;case d.Types.Hyperlink:case d.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(h){this.model.formula=h}get formulaType(){return this.model.formula?c.FormulaType.Master:this.model.sharedFormula?c.FormulaType.Shared:c.FormulaType.None}get result(){return this.model.result}set result(h){this.model.result=h}get type(){return d.Types.Formula}get effectiveType(){const h=this.model.result;return h==null?c.ValueType.Null:h instanceof String||typeof h=="string"?c.ValueType.String:typeof h=="number"?c.ValueType.Number:h instanceof Date?c.ValueType.Date:h.text&&h.hyperlink?c.ValueType.Hyperlink:h.formula?c.ValueType.Formula:c.ValueType.Null}get address(){return this.model.address}set address(h){this.model.address=h}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:h}=this.cell,m=h.findCell(this.model.sharedFormula);this._translatedFormula=m&&l(m.formula,m.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:d.Types.Merge,f:class{constructor(h,m){this.model={address:h.address,type:d.Types.Merge,master:m?m.address:void 0},this._master=m,m&&m.addMergeRef()}get value(){return this._master.value}set value(h){h instanceof d?(this._master&&this._master.releaseMergeRef(),h.addMergeRef(),this._master=h):this._master.value=h}isMergedTo(h){return h===this._master}get master(){return this._master}get type(){return d.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:d.Types.JSON,f:class{constructor(h,m){this.model={address:h.address,type:d.Types.String,value:JSON.stringify(m),rawValue:m}}get value(){return this.model.rawValue}set value(h){this.model.rawValue=h,this.model.value=JSON.stringify(h)}get type(){return d.Types.String}get effectiveType(){return d.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:d.Types.SharedString,f:class{constructor(h,m){this.model={address:h.address,type:d.Types.SharedString,value:m}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return d.Types.SharedString}get effectiveType(){return d.Types.SharedString}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.RichText,f:class{constructor(h,m){this.model={address:h.address,type:d.Types.String,value:m}}get value(){return this.model.value}set value(h){this.model.value=h}toString(){return this.model.value.richText.map(h=>h.text).join("")}get type(){return d.Types.RichText}get effectiveType(){return d.Types.RichText}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:d.Types.Boolean,f:class{constructor(h,m){this.model={address:h.address,type:d.Types.Boolean,value:m}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return d.Types.Boolean}get effectiveType(){return d.Types.Boolean}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.Error,f:class{constructor(h,m){this.model={address:h.address,type:d.Types.Error,value:m}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return d.Types.Error}get effectiveType(){return d.Types.Error}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((h,m)=>(h[m.t]=m.f,h),[]),create(h,m,A){const g=this.types[h];if(!g)throw new Error("Could not create Value of type "+h);return new g(m,A)}};s.exports=d},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(n,s,i){const a=n("../utils/under-dash"),o=n("./enums"),c=n("../utils/col-cache");class l{constructor(d,f,h){this._worksheet=d,this._number=f,h!==!1&&(this.defn=h)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return c.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(d){d?(this.key=d.key,this.width=d.width!==void 0?d.width:9,this.outlineLevel=d.outlineLevel,d.style?this.style=d.style:this.style={},this.header=d.header,this._hidden=!!d.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(d){d!==void 0?(this._header=d,this.headers.forEach((f,h)=>{this._worksheet.getCell(h+1,this.number).value=f})):this._header=void 0}get key(){return this._key}set key(d){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=d,d&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(d){this._hidden=d}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(d){this._outlineLevel=d}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(d){return this.width===d.width&&this.hidden===d.hidden&&this.outlineLevel===d.outlineLevel&&a.isEqual(this.style,d.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const d=this.style;return!d||!(d.font||d.numFmt||d.alignment||d.border||d.fill||d.protection)}get headerCount(){return this.headers.length}eachCell(d,f){const h=this.number;f||(f=d,d=null),this._worksheet.eachRow(d,(m,A)=>{f(m.getCell(h),A)})}get values(){const d=[];return this.eachCell((f,h)=>{f&&f.type!==o.ValueType.Null&&(d[h]=f.value)}),d}set values(d){if(!d)return;const f=this.number;let h=0;d.hasOwnProperty("0")&&(h=1),d.forEach((m,A)=>{this._worksheet.getCell(A+h,f).value=m})}_applyStyle(d,f){return this.style[d]=f,this.eachCell(h=>{h[d]=f}),f}get numFmt(){return this.style.numFmt}set numFmt(d){this._applyStyle("numFmt",d)}get font(){return this.style.font}set font(d){this._applyStyle("font",d)}get alignment(){return this.style.alignment}set alignment(d){this._applyStyle("alignment",d)}get protection(){return this.style.protection}set protection(d){this._applyStyle("protection",d)}get border(){return this.style.border}set border(d){this._applyStyle("border",d)}get fill(){return this.style.fill}set fill(d){this._applyStyle("fill",d)}static toModel(d){const f=[];let h=null;return d&&d.forEach((m,A)=>{m.isDefault?h&&(h=null):h&&m.equivalentTo(h)?h.max=A+1:(h={min:A+1,max:A+1,width:m.width!==void 0?m.width:9,style:m.style,isCustomWidth:m.isCustomWidth,hidden:m.hidden,outlineLevel:m.outlineLevel,collapsed:m.collapsed},f.push(h))}),f.length?f:void 0}static fromModel(d,f){const h=[];let m=1,A=0;for(f=(f=f||[]).sort(function(g,p){return g.min-p.min});A<f.length;){const g=f[A++];for(;m<g.min;)h.push(new l(d,m++));for(;m<=g.max;)h.push(new l(d,m++,g))}return h.length?h:null}}s.exports=l},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(n,s,i){s.exports=class{constructor(a){this.model=a||{}}add(a,o){return this.model[a]=o}find(a){return this.model[a]}remove(a){this.model[a]=void 0}}},{}],6:[function(n,s,i){const a=n("../utils/under-dash"),o=n("../utils/col-cache"),c=n("../utils/cell-matrix"),l=n("./range"),u=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;s.exports=class{constructor(){this.matrixMap={}}getMatrix(d){return this.matrixMap[d]||(this.matrixMap[d]=new c)}add(d,f){const h=o.decodeEx(d);this.addEx(h,f)}addEx(d,f){const h=this.getMatrix(f);if(d.top)for(let m=d.left;m<=d.right;m++)for(let A=d.top;A<=d.bottom;A++){const g={sheetName:d.sheetName,address:o.n2l(m)+A,row:A,col:m};h.addCellEx(g)}else h.addCellEx(d)}remove(d,f){const h=o.decodeEx(d);this.removeEx(h,f)}removeEx(d,f){this.getMatrix(f).removeCellEx(d)}removeAllNames(d){a.each(this.matrixMap,f=>{f.removeCellEx(d)})}forEach(d){a.each(this.matrixMap,(f,h)=>{f.forEach(m=>{d(h,m)})})}getNames(d){return this.getNamesEx(o.decodeEx(d))}getNamesEx(d){return a.map(this.matrixMap,(f,h)=>f.findCellEx(d)&&h).filter(Boolean)}_explore(d,f){f.mark=!1;const{sheetName:h}=f,m=new l(f.row,f.col,f.row,f.col,h);let A,g;function p(x,v){const y=d.findCellAt(h,x,f.col);return!(!y||!y.mark)&&(m[v]=x,y.mark=!1,!0)}for(g=f.row-1;p(g,"top");g--);for(g=f.row+1;p(g,"bottom");g++);function b(x,v){const y=[];for(g=m.top;g<=m.bottom;g++){const N=d.findCellAt(h,g,x);if(!N||!N.mark)return!1;y.push(N)}m[v]=x;for(let N=0;N<y.length;N++)y[N].mark=!1;return!0}for(A=f.col-1;b(A,"left");A--);for(A=f.col+1;b(A,"right");A++);return m}getRanges(d,f){return(f=f||this.matrixMap[d])?(f.forEach(h=>{h.mark=!0}),{name:d,ranges:f.map(h=>h.mark&&this._explore(f,h)).filter(Boolean).map(h=>h.$shortRange)}):{name:d,ranges:[]}}normaliseMatrix(d,f){d.forEachInSheet(f,(h,m,A)=>{h&&(h.row===m&&h.col===A||(h.row=m,h.col=A,h.address=o.n2l(A)+m))})}spliceRows(d,f,h,m){a.each(this.matrixMap,A=>{A.spliceRows(d,f,h,m),this.normaliseMatrix(A,d)})}spliceColumns(d,f,h,m){a.each(this.matrixMap,A=>{A.spliceColumns(d,f,h,m),this.normaliseMatrix(A,d)})}get model(){return a.map(this.matrixMap,(d,f)=>this.getRanges(f,d)).filter(d=>d.ranges.length)}set model(d){const f=this.matrixMap={};d.forEach(h=>{const m=f[h.name]=new c;h.ranges.forEach(A=>{u.test(A.split("!").pop()||"")&&m.addCell(A)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(n,s,i){s.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(n,s,i){const a=n("../utils/col-cache"),o=n("./anchor");s.exports=class{constructor(c,l){this.worksheet=c,this.model=l}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(c){let{type:l,imageId:u,range:d,hyperlinks:f}=c;if(this.type=l,this.imageId=u,l==="image")if(typeof d=="string"){const h=a.decode(d);this.range={tl:new o(this.worksheet,{col:h.left,row:h.top},-1),br:new o(this.worksheet,{col:h.right,row:h.bottom},0),editAs:"oneCell"}}else this.range={tl:new o(this.worksheet,d.tl,0),br:d.br&&new o(this.worksheet,d.br,0),ext:d.ext,editAs:d.editAs,hyperlinks:f||d.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(n,s,i){const a=n("../utils/under-dash");class o{constructor(l){this.note=l}get model(){let l=null;switch(typeof this.note){case"string":l={type:"note",note:{texts:[{text:this.note}]}};break;default:l={type:"note",note:this.note}}return a.deepMerge({},o.DEFAULT_CONFIGS,l)}set model(l){const{note:u}=l,{texts:d}=u;d.length===1&&Object.keys(d[0]).length===1?this.note=d[0].text:this.note=u}static fromModel(l){const u=new o;return u.model=l,u}}o.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},s.exports=o},{"../utils/under-dash":26}],10:[function(n,s,i){const a=n("../utils/col-cache");class o{constructor(){this.decode(arguments)}setTLBR(l,u,d,f,h){if(arguments.length<4){const m=a.decodeAddress(l),A=a.decodeAddress(u);this.model={top:Math.min(m.row,A.row),left:Math.min(m.col,A.col),bottom:Math.max(m.row,A.row),right:Math.max(m.col,A.col),sheetName:d},this.setTLBR(m.row,m.col,A.row,A.col,h)}else this.model={top:Math.min(l,d),left:Math.min(u,f),bottom:Math.max(l,d),right:Math.max(u,f),sheetName:h}}decode(l){switch(l.length){case 5:this.setTLBR(l[0],l[1],l[2],l[3],l[4]);break;case 4:this.setTLBR(l[0],l[1],l[2],l[3]);break;case 3:this.setTLBR(l[0],l[1],l[2]);break;case 2:this.setTLBR(l[0],l[1]);break;case 1:{const u=l[0];if(u instanceof o)this.model={top:u.model.top,left:u.model.left,bottom:u.model.bottom,right:u.model.right,sheetName:u.sheetName};else if(u instanceof Array)this.decode(u);else if(u.top&&u.left&&u.bottom&&u.right)this.model={top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName};else{const d=a.decodeEx(u);d.top?this.model={top:d.top,left:d.left,bottom:d.bottom,right:d.right,sheetName:d.sheetName}:this.model={top:d.row,left:d.col,bottom:d.row,right:d.col,sheetName:d.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+l.length)}}get top(){return this.model.top||1}set top(l){this.model.top=l}get left(){return this.model.left||1}set left(l){this.model.left=l}get bottom(){return this.model.bottom||1}set bottom(l){this.model.bottom=l}get right(){return this.model.right||1}set right(l){this.model.right=l}get sheetName(){return this.model.sheetName}set sheetName(l){this.model.sheetName=l}get _serialisedSheetName(){const{sheetName:l}=this.model;return l?/^[a-zA-Z0-9]*$/.test(l)?l+"!":`'${l}'!`:""}expand(l,u,d,f){(!this.model.top||l<this.top)&&(this.top=l),(!this.model.left||u<this.left)&&(this.left=u),(!this.model.bottom||d>this.bottom)&&(this.bottom=d),(!this.model.right||f>this.right)&&(this.right=f)}expandRow(l){if(l){const{dimensions:u,number:d}=l;u&&this.expand(d,u.min,d,u.max)}}expandToAddress(l){const u=a.decodeEx(l);this.expand(u.row,u.col,u.row,u.col)}get tl(){return a.n2l(this.left)+this.top}get $t$l(){return`$${a.n2l(this.left)}$${this.top}`}get br(){return a.n2l(this.right)+this.bottom}get $b$r(){return`$${a.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&!(l.bottom<this.top)&&!(l.top>this.bottom)&&!(l.right<this.left)&&!(l.left>this.right)}contains(l){const u=a.decodeEx(l);return this.containsEx(u)}containsEx(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&l.row>=this.top&&l.row<=this.bottom&&l.col>=this.left&&l.col<=this.right}forEachAddress(l){for(let u=this.left;u<=this.right;u++)for(let d=this.top;d<=this.bottom;d++)l(a.encodeAddress(d,u),d,u)}}s.exports=o},{"../utils/col-cache":19}],11:[function(n,s,i){const a=n("../utils/under-dash"),o=n("./enums"),c=n("../utils/col-cache"),l=n("./cell");s.exports=class{constructor(u,d){this._worksheet=u,this._number=d,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(u){return this._cells[u-1]}getCellEx(u){let d=this._cells[u.col-1];if(!d){const f=this._worksheet.getColumn(u.col);d=new l(this,f,u.address),this._cells[u.col-1]=d}return d}getCell(u){if(typeof u=="string"){const d=this._worksheet.getColumnKey(u);u=d?d.number:c.l2n(u)}return this._cells[u-1]||this.getCellEx({address:c.encodeAddress(this._number,u),row:this._number,col:u})}splice(u,d){const f=u+d;for(var h=arguments.length,m=new Array(h>2?h-2:0),A=2;A<h;A++)m[A-2]=arguments[A];const g=m.length-d,p=this._cells.length;let b,x,v;if(g<0)for(b=u+m.length;b<=p;b++)v=this._cells[b-1],x=this._cells[b-g-1],x?(v=this.getCell(b),v.value=x.value,v.style=x.style,v._comment=x._comment):v&&(v.value=null,v.style={},v._comment=void 0);else if(g>0)for(b=p;b>=f;b--)x=this._cells[b-1],x?(v=this.getCell(b+g),v.value=x.value,v.style=x.style,v._comment=x._comment):this._cells[b+g-1]=void 0;for(b=0;b<m.length;b++)v=this.getCell(u+b),v.value=m[b],v.style={},v._comment=void 0}eachCell(u,d){if(d||(d=u,u=null),u&&u.includeEmpty){const f=this._cells.length;for(let h=1;h<=f;h++)d(this.getCell(h),h)}else this._cells.forEach((f,h)=>{f&&f.type!==o.ValueType.Null&&d(f,h+1)})}addPageBreak(u,d){const f=this._worksheet,h=Math.max(0,u-1)||0,m=Math.max(0,d-1)||16838,A={id:this._number,max:m,man:1};h&&(A.min=h),f.rowBreaks.push(A)}get values(){const u=[];return this._cells.forEach(d=>{d&&d.type!==o.ValueType.Null&&(u[d.col]=d.value)}),u}set values(u){if(this._cells=[],u)if(u instanceof Array){let d=0;u.hasOwnProperty("0")&&(d=1),u.forEach((f,h)=>{f!==void 0&&(this.getCellEx({address:c.encodeAddress(this._number,h+d),row:this._number,col:h+d}).value=f)})}else this._worksheet.eachColumnKey((d,f)=>{u[f]!==void 0&&(this.getCellEx({address:c.encodeAddress(this._number,d.number),row:this._number,col:d.number}).value=u[f])})}get hasValues(){return a.some(this._cells,u=>u&&u.type!==o.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let u=0;return this.eachCell(()=>{u++}),u}get dimensions(){let u=0,d=0;return this._cells.forEach(f=>{f&&f.type!==o.ValueType.Null&&((!u||u>f.col)&&(u=f.col),d<f.col&&(d=f.col))}),u>0?{min:u,max:d}:null}_applyStyle(u,d){return this.style[u]=d,this._cells.forEach(f=>{f&&(f[u]=d)}),d}get numFmt(){return this.style.numFmt}set numFmt(u){this._applyStyle("numFmt",u)}get font(){return this.style.font}set font(u){this._applyStyle("font",u)}get alignment(){return this.style.alignment}set alignment(u){this._applyStyle("alignment",u)}get protection(){return this.style.protection}set protection(u){this._applyStyle("protection",u)}get border(){return this.style.border}set border(u){this._applyStyle("border",u)}get fill(){return this.style.fill}set fill(u){this._applyStyle("fill",u)}get hidden(){return!!this._hidden}set hidden(u){this._hidden=u}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(u){this._outlineLevel=u}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const u=[];let d=0,f=0;return this._cells.forEach(h=>{if(h){const m=h.model;m&&((!d||d>h.col)&&(d=h.col),f<h.col&&(f=h.col),u.push(m))}}),this.height||u.length?{cells:u,number:this.number,min:d,max:f,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(u){if(u.number!==this._number)throw new Error("Invalid row number in model");let d;this._cells=[],u.cells.forEach(f=>{switch(f.type){case l.Types.Merge:break;default:{let h;if(f.address)h=c.decodeAddress(f.address);else if(d){const{row:m}=d,A=d.col+1;h={row:m,col:A,address:c.encodeAddress(m,A),$col$row:`$${c.n2l(A)}$${m}`}}d=h,this.getCellEx(h).model=f;break}}}),u.height?this.height=u.height:delete this.height,this.hidden=u.hidden,this.outlineLevel=u.outlineLevel||0,this.style=u.style&&JSON.parse(JSON.stringify(u.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(n,s,i){const a=n("../utils/col-cache");class o{constructor(l,u,d){this.table=l,this.column=u,this.index=d}_set(l,u){this.table.cacheState(),this.column[l]=u}get name(){return this.column.name}set name(l){this._set("name",l)}get filterButton(){return this.column.filterButton}set filterButton(l){this.column.filterButton=l}get style(){return this.column.style}set style(l){this.column.style=l}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(l){this._set("totalsRowLabel",l)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(l){this._set("totalsRowFunction",l)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(l){this._set("totalsRowResult",l)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(l){this._set("totalsRowFormula",l)}}s.exports=class{constructor(c,l){this.worksheet=c,l&&(this.table=l,this.validate(),this.store())}getFormula(c){switch(c.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${c.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${c.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${c.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${c.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${c.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${c.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${c.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${c.name}])`;case"custom":return c.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+c.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:c}=this,l=(g,p,b)=>{g[p]===void 0&&(g[p]=b)};l(c,"headerRow",!0),l(c,"totalsRow",!1),l(c,"style",{}),l(c.style,"theme","TableStyleMedium2"),l(c.style,"showFirstColumn",!1),l(c.style,"showLastColumn",!1),l(c.style,"showRowStripes",!1),l(c.style,"showColumnStripes",!1);const u=(g,p)=>{if(!g)throw new Error(p)};u(c.ref,"Table must have ref"),u(c.columns,"Table must have column definitions"),u(c.rows,"Table must have row definitions"),c.tl=a.decodeAddress(c.ref);const{row:d,col:f}=c.tl;u(d>0,"Table must be on valid row"),u(f>0,"Table must be on valid col");const{width:h,filterHeight:m,tableHeight:A}=this;c.autoFilterRef=a.encode(d,f,d+m-1,f+h-1),c.tableRef=a.encode(d,f,d+A-1,f+h-1),c.columns.forEach((g,p)=>{u(g.name,`Column ${p} must have a name`),p===0?l(g,"totalsRowLabel","Total"):(l(g,"totalsRowFunction","none"),g.totalsRowFormula=this.getFormula(g))})}store(){const c=(m,A)=>{A&&Object.keys(A).forEach(g=>{m[g]=A[g]})},{worksheet:l,table:u}=this,{row:d,col:f}=u.tl;let h=0;if(u.headerRow){const m=l.getRow(d+h++);u.columns.forEach((A,g)=>{const{style:p,name:b}=A,x=m.getCell(f+g);x.value=b,c(x,p)})}if(u.rows.forEach(m=>{const A=l.getRow(d+h++);m.forEach((g,p)=>{const b=A.getCell(f+p);b.value=g,c(b,u.columns[p].style)})}),u.totalsRow){const m=l.getRow(d+h++);u.columns.forEach((A,g)=>{const p=m.getCell(f+g);if(g===0)p.value=A.totalsRowLabel;else{const b=this.getFormula(A);p.value=b?{formula:A.totalsRowFormula,result:A.totalsRowResult}:null}c(p,A.style)})}}load(c){const{table:l}=this,{row:u,col:d}=l.tl;let f=0;if(l.headerRow){const h=c.getRow(u+f++);l.columns.forEach((m,A)=>{h.getCell(d+A).value=m.name})}if(l.rows.forEach(h=>{const m=c.getRow(u+f++);h.forEach((A,g)=>{m.getCell(d+g).value=A})}),l.totalsRow){const h=c.getRow(u+f++);l.columns.forEach((m,A)=>{const g=h.getCell(d+A);A===0?g.value=m.totalsRowLabel:this.getFormula(m)&&(g.value={formula:m.totalsRowFormula,result:m.totalsRowResult})})}}get model(){return this.table}set model(c){this.table=c}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const c=a.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let l=0;l<this._cache.tableHeight;l++){const u=this.worksheet.getRow(c.row+l);for(let d=0;d<this._cache.width;d++)u.getCell(c.col+d).value=null}else{for(let l=this.tableHeight;l<this._cache.tableHeight;l++){const u=this.worksheet.getRow(c.row+l);for(let d=0;d<this._cache.width;d++)u.getCell(c.col+d).value=null}for(let l=0;l<this.tableHeight;l++){const u=this.worksheet.getRow(c.row+l);for(let d=this.width;d<this._cache.width;d++)u.getCell(c.col+d).value=null}}this.store()}addRow(c,l){this.cacheState(),l===void 0?this.table.rows.push(c):this.table.rows.splice(l,0,c)}removeRows(c){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(c,l)}getColumn(c){const l=this.table.columns[c];return new o(this,l,c)}addColumn(c,l,u){this.cacheState(),u===void 0?(this.table.columns.push(c),this.table.rows.forEach((d,f)=>{d.push(l[f])})):(this.table.columns.splice(u,0,c),this.table.rows.forEach((d,f)=>{d.splice(u,0,l[f])}))}removeColumns(c){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(c,l),this.table.rows.forEach(u=>{u.splice(c,l)})}_assign(c,l,u){this.cacheState(),c[l]=u}get ref(){return this.table.ref}set ref(c){this._assign(this.table,"ref",c)}get name(){return this.table.name}set name(c){this.table.name=c}get displayName(){return this.table.displyName||this.table.name}set displayNamename(c){this.table.displayName=c}get headerRow(){return this.table.headerRow}set headerRow(c){this._assign(this.table,"headerRow",c)}get totalsRow(){return this.table.totalsRow}set totalsRow(c){this._assign(this.table,"totalsRow",c)}get theme(){return this.table.style.name}set theme(c){this.table.style.name=c}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(c){this.table.style.showFirstColumn=c}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(c){this.table.style.showLastColumn=c}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(c){this.table.style.showRowStripes=c}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(c){this.table.style.showColumnStripes=c}}},{"../utils/col-cache":19}],13:[function(n,s,i){const a=n("./worksheet"),o=n("./defined-names"),c=n("../xlsx/xlsx"),l=n("../csv/csv");s.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new o}get xlsx(){return this._xlsx||(this._xlsx=new c(this)),this._xlsx}get csv(){return this._csv||(this._csv=new l(this)),this._csv}get nextId(){for(let u=1;u<this._worksheets.length;u++)if(!this._worksheets[u])return u;return this._worksheets.length||1}addWorksheet(u,d){const f=this.nextId;d&&(typeof d=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),d={properties:{tabColor:{argb:d}}}):(d.argb||d.theme||d.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),d={properties:{tabColor:d}}));const h=this._worksheets.reduce((g,p)=>(p&&p.orderNo)>g?p.orderNo:g,0),m=Object.assign({},d,{id:f,name:u,orderNo:h+1,workbook:this}),A=new a(m);return this._worksheets[f]=A,A}removeWorksheetEx(u){delete this._worksheets[u.id]}removeWorksheet(u){const d=this.getWorksheet(u);d&&d.destroy()}getWorksheet(u){return u===void 0?this._worksheets.find(Boolean):typeof u=="number"?this._worksheets[u]:typeof u=="string"?this._worksheets.find(d=>d&&d.name===u):void 0}get worksheets(){return this._worksheets.slice(1).sort((u,d)=>u.orderNo-d.orderNo).filter(Boolean)}eachSheet(u){this.worksheets.forEach(d=>{u(d,d.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(u){const d=this.media.length;return this.media.push(Object.assign({},u,{type:"image"})),d}getImage(u){return this.media[u]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(u=>u.model),sheets:this.worksheets.map(u=>u.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(u){this.creator=u.creator,this.lastModifiedBy=u.lastModifiedBy,this.lastPrinted=u.lastPrinted,this.created=u.created,this.modified=u.modified,this.company=u.company,this.manager=u.manager,this.title=u.title,this.subject=u.subject,this.keywords=u.keywords,this.category=u.category,this.description=u.description,this.language=u.language,this.revision=u.revision,this.contentStatus=u.contentStatus,this.properties=u.properties,this.calcProperties=u.calcProperties,this._worksheets=[],u.worksheets.forEach(d=>{const{id:f,name:h,state:m}=d,A=u.sheets&&u.sheets.findIndex(g=>g.id===f);(this._worksheets[f]=new a({id:f,name:h,orderNo:A,state:m,workbook:this})).model=d}),this._definedNames.model=u.definedNames,this.views=u.views,this._themes=u.themes,this.media=u.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(n,s,i){const a=n("../utils/under-dash"),o=n("../utils/col-cache"),c=n("./range"),l=n("./row"),u=n("./column"),d=n("./enums"),f=n("./image"),h=n("./table"),m=n("./data-validations"),A=n("../utils/encryptor"),{copyStyle:g}=n("../utils/copy-style");s.exports=class{constructor(p){p=p||{},this._workbook=p.workbook,this.id=p.id,this.orderNo=p.orderNo,this.name=p.name,this.state=p.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},p.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!p.pageSetup||!p.pageSetup.fitToWidth&&!p.pageSetup.fitToHeight||p.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},p.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},p.headerFooter),this.dataValidations=new m,this.views=p.views||[],this.autoFilter=p.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(p){if(p===void 0&&(p="sheet"+this.id),this._name!==p){if(typeof p!="string")throw new Error("The name has to be a string.");if(p==="")throw new Error("The name can't be empty.");if(p==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(p))throw new Error(`Worksheet name ${p} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(p))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+p);if(p&&p.length>31&&(console.warn(`Worksheet name ${p} exceeds 31 chars. This will be truncated`),p=p.substring(0,31)),this._workbook._worksheets.find(b=>b&&b.name.toLowerCase()===p.toLowerCase()))throw new Error("Worksheet name already exists: "+p);this._name=p}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const p=new c;return this._rows.forEach(b=>{if(b){const x=b.dimensions;x&&p.expand(b.number,x.min,b.number,x.max)}}),p}get columns(){return this._columns}set columns(p){this._headerRowCount=p.reduce((v,y)=>{const N=(y.header?1:y.headers&&y.headers.length)||0;return Math.max(v,N)},0);let b=1;const x=this._columns=[];p.forEach(v=>{const y=new u(this,b++,!1);x.push(y),y.defn=v})}getColumnKey(p){return this._keys[p]}setColumnKey(p,b){this._keys[p]=b}deleteColumnKey(p){delete this._keys[p]}eachColumnKey(p){a.each(this._keys,p)}getColumn(p){if(typeof p=="string"){const b=this._keys[p];if(b)return b;p=o.l2n(p)}if(this._columns||(this._columns=[]),p>this._columns.length){let b=this._columns.length+1;for(;b<=p;)this._columns.push(new u(this,b++))}return this._columns[p-1]}spliceColumns(p,b){const x=this._rows.length;for(var v=arguments.length,y=new Array(v>2?v-2:0),N=2;N<v;N++)y[N-2]=arguments[N];if(y.length>0)for(let D=0;D<x;D++){const O=[p,b];y.forEach(F=>{O.push(F[D]||null)});const L=this.getRow(D+1);L.splice.apply(L,O)}else this._rows.forEach(D=>{D&&D.splice(p,b)});const P=y.length-b,M=p+b,k=this._columns.length;if(P<0)for(let D=p+y.length;D<=k;D++)this.getColumn(D).defn=this.getColumn(D-P).defn;else if(P>0)for(let D=k;D>=M;D--)this.getColumn(D+P).defn=this.getColumn(D).defn;for(let D=p;D<p+y.length;D++)this.getColumn(D).defn=null;this.workbook.definedNames.spliceColumns(this.name,p,b,y.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let p=0;return this.eachRow(b=>{p=Math.max(p,b.cellCount)}),p}get actualColumnCount(){const p=[];let b=0;return this.eachRow(x=>{x.eachCell(v=>{let{col:y}=v;p[y]||(p[y]=!0,b++)})}),b}_commitRow(){}get _lastRowNumber(){const p=this._rows;let b=p.length;for(;b>0&&p[b-1]===void 0;)b--;return b}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(p){return this._rows[p-1]}findRows(p,b){return this._rows.slice(p-1,p-1+b)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let p=0;return this.eachRow(()=>{p++}),p}getRow(p){let b=this._rows[p-1];return b||(b=this._rows[p-1]=new l(this,p)),b}getRows(p,b){if(b<1)return;const x=[];for(let v=p;v<p+b;v++)x.push(this.getRow(v));return x}addRow(p){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const x=this._nextRow,v=this.getRow(x);return v.values=p,this._setStyleOption(x,b[0]==="i"?b:"n"),v}addRows(p){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const x=[];return p.forEach(v=>{x.push(this.addRow(v,b))}),x}insertRow(p,b){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(p,0,b),this._setStyleOption(p,x),this.getRow(p)}insertRows(p,b){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(p,0,...b),x!=="n")for(let v=0;v<b.length;v++)x[0]==="o"&&this.findRow(b.length+p+v)!==void 0?this._copyStyle(b.length+p+v,p+v,x[1]==="+"):x[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p+v,x[1]==="+");return this.getRows(p,b.length)}_setStyleOption(p){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";b[0]==="o"&&this.findRow(p+1)!==void 0?this._copyStyle(p+1,p,b[1]==="+"):b[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p,b[1]==="+")}_copyStyle(p,b){let x=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const v=this.getRow(p),y=this.getRow(b);y.style=g(v.style),v.eachCell({includeEmpty:x},(N,P)=>{y.getCell(P).style=g(N.style)}),y.height=v.height}duplicateRow(p,b){let x=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const v=this._rows[p-1],y=new Array(b).fill(v.values);this.spliceRows(p+1,x?0:b,...y);for(let N=0;N<b;N++){const P=this._rows[p+N];P.style=v.style,P.height=v.height,v.eachCell({includeEmpty:!0},(M,k)=>{P.getCell(k).style=M.style})}}spliceRows(p,b){const x=p+b;for(var v=arguments.length,y=new Array(v>2?v-2:0),N=2;N<v;N++)y[N-2]=arguments[N];const P=y.length,M=P-b,k=this._rows.length;let D,O;if(M<0)for(p===k&&(this._rows[k-1]=void 0),D=x;D<=k;D++)if(O=this._rows[D-1],O){const L=this.getRow(D+M);L.values=O.values,L.style=O.style,L.height=O.height,O.eachCell({includeEmpty:!0},(F,_)=>{L.getCell(_).style=F.style}),this._rows[D-1]=void 0}else this._rows[D+M-1]=void 0;else if(M>0)for(D=k;D>=x;D--)if(O=this._rows[D-1],O){const L=this.getRow(D+M);L.values=O.values,L.style=O.style,L.height=O.height,O.eachCell({includeEmpty:!0},(F,_)=>{if(L.getCell(_).style=F.style,F._value.constructor.name==="MergeValue"){const E=this.getRow(F._row._number+P).getCell(_),T=F._value._master,w=this.getRow(T._row._number+P).getCell(T._column._number);E.merge(w)}})}else this._rows[D+M-1]=void 0;for(D=0;D<P;D++){const L=this.getRow(p+D);L.style={},L.values=y[D]}this.workbook.definedNames.spliceRows(this.name,p,b,P)}eachRow(p,b){if(b||(b=p,p=void 0),p&&p.includeEmpty){const x=this._rows.length;for(let v=1;v<=x;v++)b(this.getRow(v),v)}else this._rows.forEach(x=>{x&&x.hasValues&&b(x,x.number)})}getSheetValues(){const p=[];return this._rows.forEach(b=>{b&&(p[b.number]=b.values)}),p}findCell(p,b){const x=o.getAddress(p,b),v=this._rows[x.row-1];return v?v.findCell(x.col):void 0}getCell(p,b){const x=o.getAddress(p,b);return this.getRow(x.row).getCellEx(x)}mergeCells(){for(var p=arguments.length,b=new Array(p),x=0;x<p;x++)b[x]=arguments[x];const v=new c(b);this._mergeCellsInternal(v)}mergeCellsWithoutStyle(){for(var p=arguments.length,b=new Array(p),x=0;x<p;x++)b[x]=arguments[x];const v=new c(b);this._mergeCellsInternal(v,!0)}_mergeCellsInternal(p,b){a.each(this._merges,v=>{if(v.intersects(p))throw new Error("Cannot merge already merged cells")});const x=this.getCell(p.top,p.left);for(let v=p.top;v<=p.bottom;v++)for(let y=p.left;y<=p.right;y++)(v>p.top||y>p.left)&&this.getCell(v,y).merge(x,b);this._merges[x.address]=p}_unMergeMaster(p){const b=this._merges[p.address];if(b){for(let x=b.top;x<=b.bottom;x++)for(let v=b.left;v<=b.right;v++)this.getCell(x,v).unmerge();delete this._merges[p.address]}}get hasMerges(){return a.some(this._merges,Boolean)}unMergeCells(){for(var p=arguments.length,b=new Array(p),x=0;x<p;x++)b[x]=arguments[x];const v=new c(b);for(let y=v.top;y<=v.bottom;y++)for(let N=v.left;N<=v.right;N++){const P=this.findCell(y,N);P&&(P.type===d.ValueType.Merge?this._unMergeMaster(P.master):this._merges[P.address]&&this._unMergeMaster(P))}}fillFormula(p,b,x){let v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const y=o.decode(p),{top:N,left:P,bottom:M,right:k}=y,D=k-P+1,O=o.encodeAddress(N,P),L=v==="shared";let F;F=typeof x=="function"?x:Array.isArray(x)?Array.isArray(x[0])?(E,T)=>x[E-N][T-P]:(E,T)=>x[(E-N)*D+(T-P)]:()=>{};let _=!0;for(let E=N;E<=M;E++)for(let T=P;T<=k;T++)_?(this.getCell(E,T).value={shareType:v,formula:b,ref:p,result:F(E,T)},_=!1):this.getCell(E,T).value=L?{sharedFormula:O,result:F(E,T)}:F(E,T)}addImage(p,b){const x={type:"image",imageId:p,range:b};this._media.push(new f(this,x))}getImages(){return this._media.filter(p=>p.type==="image")}addBackgroundImage(p){const b={type:"background",imageId:p};this._media.push(new f(this,b))}getBackgroundImageId(){const p=this._media.find(b=>b.type==="background");return p&&p.imageId}protect(p,b){return new Promise(x=>{this.sheetProtection={sheet:!0},b&&"spinCount"in b&&(b.spinCount=Number.isFinite(b.spinCount)?Math.round(Math.max(0,b.spinCount)):1e5),p&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=A.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=b&&"spinCount"in b?b.spinCount:1e5,this.sheetProtection.hashValue=A.convertPasswordToHash(p,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),b&&(this.sheetProtection=Object.assign(this.sheetProtection,b),!p&&"spinCount"in b&&delete this.sheetProtection.spinCount),x()})}unprotect(){this.sheetProtection=null}addTable(p){const b=new h(this,p);return this.tables[p.name]=b,b}getTable(p){return this.tables[p]}removeTable(p){delete this.tables[p]}getTables(){return Object.values(this.tables)}addConditionalFormatting(p){this.conditionalFormattings.push(p)}removeConditionalFormatting(p){typeof p=="number"?this.conditionalFormattings.splice(p,1):this.conditionalFormattings=p instanceof Function?this.conditionalFormattings.filter(p):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(p){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=p}get model(){const p={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(v=>v.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(v=>v.model),conditionalFormattings:this.conditionalFormattings};p.cols=u.toModel(this.columns);const b=p.rows=[],x=p.dimensions=new c;return this._rows.forEach(v=>{const y=v&&v.model;y&&(x.expand(y.number,y.min,y.number,y.max),b.push(y))}),p.merges=[],a.each(this._merges,v=>{p.merges.push(v.range)}),p}_parseRows(p){this._rows=[],p.rows.forEach(b=>{const x=new l(this,b.number);this._rows[x.number-1]=x,x.model=b})}_parseMergeCells(p){a.each(p.mergeCells,b=>{this.mergeCellsWithoutStyle(b)})}set model(p){this.name=p.name,this._columns=u.fromModel(this,p.cols),this._parseRows(p),this._parseMergeCells(p),this.dataValidations=new m(p.dataValidations),this.properties=p.properties,this.pageSetup=p.pageSetup,this.headerFooter=p.headerFooter,this.views=p.views,this.autoFilter=p.autoFilter,this._media=p.media.map(b=>new f(this,b)),this.sheetProtection=p.sheetProtection,this.tables=p.tables.reduce((b,x)=>{const v=new h;return v.model=x,b[x.name]=v,b},{}),this.conditionalFormattings=p.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(n,s,i){n("core-js/modules/es.promise"),n("core-js/modules/es.promise.finally"),n("core-js/modules/es.object.assign"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.values"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.async-iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.find-index"),n("core-js/modules/es.array.find"),n("core-js/modules/es.string.from-code-point"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.number.is-nan"),n("regenerator-runtime/runtime");const a={Workbook:n("./doc/workbook")},o=n("./doc/enums");Object.keys(o).forEach(c=>{a[c]=o[c]}),s.exports=a},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(n,s,i){const a=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");i.bufferToString=function(o){return typeof o=="string"?o:a?a.decode(o):o.toString()}},{}],17:[function(n,s,i){const a=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:o}=n("buffer");i.stringToBuffer=function(c){return typeof c!="string"?c:a?o.from(a.encode(c).buffer):o.from(c)}},{buffer:220}],18:[function(n,s,i){const a=n("./under-dash"),o=n("./col-cache");s.exports=class{constructor(c){this.template=c,this.sheets={}}addCell(c){this.addCellEx(o.decodeEx(c))}getCell(c){return this.findCellEx(o.decodeEx(c),!0)}findCell(c){return this.findCellEx(o.decodeEx(c),!1)}findCellAt(c,l,u){const d=this.sheets[c],f=d&&d[l];return f&&f[u]}addCellEx(c){if(c.top)for(let l=c.top;l<=c.bottom;l++)for(let u=c.left;u<=c.right;u++)this.getCellAt(c.sheetName,l,u);else this.findCellEx(c,!0)}getCellEx(c){return this.findCellEx(c,!0)}findCellEx(c,l){const u=this.findSheet(c,l),d=this.findSheetRow(u,c,l);return this.findRowCell(d,c,l)}getCellAt(c,l,u){const d=this.sheets[c]||(this.sheets[c]=[]),f=d[l]||(d[l]=[]);return f[u]||(f[u]={sheetName:c,address:o.n2l(u)+l,row:l,col:u})}removeCellEx(c){const l=this.findSheet(c);if(!l)return;const u=this.findSheetRow(l,c);u&&delete u[c.col]}forEachInSheet(c,l){const u=this.sheets[c];u&&u.forEach((d,f)=>{d&&d.forEach((h,m)=>{h&&l(h,f,m)})})}forEach(c){a.each(this.sheets,(l,u)=>{this.forEachInSheet(u,c)})}map(c){const l=[];return this.forEach(u=>{l.push(c(u))}),l}findSheet(c,l){const u=c.sheetName;return this.sheets[u]?this.sheets[u]:l?this.sheets[u]=[]:void 0}findSheetRow(c,l,u){const{row:d}=l;return c&&c[d]?c[d]:u?c[d]=[]:void 0}findRowCell(c,l,u){const{col:d}=l;return c&&c[d]?c[d]:u?c[d]=this.template?Object.assign(l,JSON.parse(JSON.stringify(this.template))):l:void 0}spliceRows(c,l,u,d){const f=this.sheets[c];if(f){const h=[];for(let m=0;m<d;m++)h.push([]);f.splice(l,u,...h)}}spliceColumns(c,l,u,d){const f=this.sheets[c];if(f){const h=[];for(let m=0;m<d;m++)h.push(null);a.each(f,m=>{m.splice(l,u,...h)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(n,s,i){const a=/^[A-Z]+\d+$/,o={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:c=>c<=26?1:c<=676?2:3,_fill(c){let l,u,d,f,h,m=1;if(c>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&c>=1){for(;m<=26;)l=this._dictionary[m-1],this._n2l[m]=l,this._l2n[l]=m,m++;this._l2nFill=1}if(this._l2nFill<2&&c>=2){for(m=27;m<=702;)u=m-27,d=u%26,f=Math.floor(u/26),l=this._dictionary[f]+this._dictionary[d],this._n2l[m]=l,this._l2n[l]=m,m++;this._l2nFill=2}if(this._l2nFill<3&&c>=3){for(m=703;m<=16384;)u=m-703,d=u%26,f=Math.floor(u/26)%26,h=Math.floor(u/676),l=this._dictionary[h]+this._dictionary[f]+this._dictionary[d],this._n2l[m]=l,this._l2n[l]=m,m++;this._l2nFill=3}},l2n(c){if(this._l2n[c]||this._fill(c.length),!this._l2n[c])throw new Error("Out of bounds. Invalid column letter: "+c);return this._l2n[c]},n2l(c){if(c<1||c>16384)throw new Error(c+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[c]||this._fill(this._level(c)),this._n2l[c]},_hash:{},validateAddress(c){if(!a.test(c))throw new Error("Invalid Address: "+c);return!0},decodeAddress(c){const l=c.length<5&&this._hash[c];if(l)return l;let u=!1,d="",f=0,h=!1,m="",A=0;for(let p,b=0;b<c.length;b++)if(p=c.charCodeAt(b),!h&&p>=65&&p<=90)u=!0,d+=c[b],f=26*f+p-64;else if(p>=48&&p<=57)h=!0,m+=c[b],A=10*A+p-48;else if(h&&u&&p!==36)break;if(u){if(f>16384)throw new Error("Out of bounds. Invalid column letter: "+d)}else f=void 0;h||(A=void 0);const g={address:c=d+m,col:f,row:A,$col$row:`$${d}$${m}`};return f<=100&&A<=100&&(this._hash[c]=g,this._hash[g.$col$row]=g),g},getAddress(c,l){if(l){const u=this.n2l(l)+c;return this.decodeAddress(u)}return this.decodeAddress(c)},decode(c){const l=c.split(":");if(l.length===2){const u=this.decodeAddress(l[0]),d=this.decodeAddress(l[1]),f={top:Math.min(u.row,d.row),left:Math.min(u.col,d.col),bottom:Math.max(u.row,d.row),right:Math.max(u.col,d.col)};return f.tl=this.n2l(f.left)+f.top,f.br=this.n2l(f.right)+f.bottom,f.dimensions=`${f.tl}:${f.br}`,f}return this.decodeAddress(c)},decodeEx(c){const l=c.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),u=l[1]||l[2],d=l[3],f=d.split(":");if(f.length>1){let m=this.decodeAddress(f[0]),A=this.decodeAddress(f[1]);const g=Math.min(m.row,A.row),p=Math.min(m.col,A.col),b=Math.max(m.row,A.row),x=Math.max(m.col,A.col);return m=this.n2l(p)+g,A=this.n2l(x)+b,{top:g,left:p,bottom:b,right:x,sheetName:u,tl:{address:m,col:p,row:g,$col$row:`$${this.n2l(p)}$${g}`,sheetName:u},br:{address:A,col:x,row:b,$col$row:`$${this.n2l(x)}$${b}`,sheetName:u},dimensions:`${m}:${A}`}}if(d.startsWith("#"))return u?{sheetName:u,error:d}:{error:d};const h=this.decodeAddress(d);return u?{sheetName:u,...h}:h},encodeAddress:(c,l)=>o.n2l(l)+c,encode(){switch(arguments.length){case 2:return o.encodeAddress(arguments[0],arguments[1]);case 4:return`${o.encodeAddress(arguments[0],arguments[1])}:${o.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(c,l){const[u,d,,f,h]=c,[m,A]=l;return m>=u&&m<=f&&A>=d&&A<=h}};s.exports=o},{}],20:[function(n,s,i){const a=(c,l)=>({...c,...l.reduce((u,d)=>(c[d]&&(u[d]={...c[d]}),u),{})}),o=function(c,l,u){let d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];c[u]&&(l[u]=a(c[u],d))};i.copyStyle=c=>{if(!c)return c;if(l=c,Object.keys(l).length===0)return{};var l;const u={...c};return o(c,u,"font",["color"]),o(c,u,"alignment"),o(c,u,"protection"),c.border&&(o(c,u,"border"),o(c.border,u.border,"top",["color"]),o(c.border,u.border,"left",["color"]),o(c.border,u.border,"bottom",["color"]),o(c.border,u.border,"right",["color"]),o(c.border,u.border,"diagonal",["color"])),c.fill&&(o(c,u,"fill",["fgColor","bgColor","center"]),c.fill.stops&&(u.fill.stops=c.fill.stops.map(d=>a(d,["color"])))),u}},{}],21:[function(n,s,i){(function(a){(function(){const o=n("crypto"),c={hash(l){const u=o.createHash(l);for(var d=arguments.length,f=new Array(d>1?d-1:0),h=1;h<d;h++)f[h-1]=arguments[h];return u.update(a.concat(f)),u.digest()},convertPasswordToHash(l,u,d,f){if(u=u.toLowerCase(),o.getHashes().indexOf(u)<0)throw new Error(`Hash algorithm '${u}' not supported!`);const h=a.from(l,"utf16le");let m=this.hash(u,a.from(d,"base64"),h);for(let A=0;A<f;A++){const g=a.alloc(4);g.writeUInt32LE(A,0),m=this.hash(u,m,g)}return m.toString("base64")},randomBytes:l=>o.randomBytes(l)};s.exports=c}).call(this)}).call(this,n("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(n,s,i){const{SaxesParser:a}=n("saxes"),{PassThrough:o}=n("readable-stream"),{bufferToString:c}=n("./browser-buffer-decode");s.exports=async function*(l){l.pipe&&!l[Symbol.asyncIterator]&&(l=l.pipe(new o));const u=new a;let d;u.on("error",h=>{d=h});let f=[];u.on("opentag",h=>f.push({eventType:"opentag",value:h})),u.on("text",h=>f.push({eventType:"text",value:h})),u.on("closetag",h=>f.push({eventType:"closetag",value:h}));for await(const h of l){if(u.write(c(h)),d)throw d;yield f,f=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(n,s,i){const a=n("./col-cache"),o=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,c=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;s.exports={slideFormula:function(l,u,d){const f=a.decode(u),h=a.decode(d);return l.replace(o,(m,A,g,p,b)=>{if(b)return m;const x=c.exec(p);if(x){const v=x[1],y=x[2].toUpperCase(),N=x[3],P=x[4];if(y.length>3||y.length===3&&y>"XFD")return m;let M=a.l2n(y),k=parseInt(P,10);return v||(M+=h.col-f.col),N||(k+=h.row-f.row),(A||"")+(v||"")+a.n2l(M)+(N||"")+k}return m})}}},{"./col-cache":19}],24:[function(n,s,i){(function(a,o){(function(){const c=n("readable-stream"),l=n("./utils"),u=n("./string-buf");class d{constructor(p,b){this._data=p,this._encoding=b}get length(){return this.toBuffer().length}copy(p,b,x,v){return this.toBuffer().copy(p,b,x,v)}toBuffer(){return this._buffer||(this._buffer=o.from(this._data,this._encoding)),this._buffer}}class f{constructor(p){this._data=p}get length(){return this._data.length}copy(p,b,x,v){return this._data._buf.copy(p,b,x,v)}toBuffer(){return this._data.toBuffer()}}class h{constructor(p){this._data=p}get length(){return this._data.length}copy(p,b,x,v){this._data.copy(p,b,x,v)}toBuffer(){return this._data}}class m{constructor(p){this.size=p,this.buffer=o.alloc(p),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const p=o.alloc(this.iWrite-this.iRead);return this.buffer.copy(p,0,this.iRead,this.iWrite),p}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(p){let b;return p===0?null:p===void 0||p>=this.length?(b=this.toBuffer(),this.iRead=this.iWrite,b):(b=o.alloc(p),this.buffer.copy(b,0,this.iRead,p),this.iRead+=p,b)}write(p,b,x){const v=Math.min(x,this.size-this.iWrite);return p.copy(this.buffer,this.iWrite,b,b+v),this.iWrite+=v,v}}const A=function(g){g=g||{},this.bufSize=g.bufSize||1048576,this.buffers=[],this.batch=g.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};l.inherits(A,c.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return o.concat(this.buffers.map(g=>g.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const p=this.buffers[this.buffers.length-1];if(!p.full)return p}const g=new m(this.bufSize);return this.buffers.push(g),g},async _pipe(g){await Promise.all(this.pipes.map(function(p){return new Promise(b=>{p.write(g.toBuffer(),()=>{b()})})}))},_writeToBuffers(g){let p=0;const b=g.length;for(;p<b;)p+=this._getWritableBuffer().write(g,p,b-p)},async write(g,p,b){let x;if(p instanceof Function&&(b=p,p="utf8"),b=b||l.nop,g instanceof u)x=new f(g);else if(g instanceof o)x=new h(g);else{if(!(typeof g=="string"||g instanceof String||g instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");x=new d(g,p)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(x);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(x),a.nextTick(b)):(await this._pipe(x),b());else this.paused||this.emit("data",x.toBuffer()),this._writeToBuffers(x),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(g,p,b){const x=v=>{v?b(v):(this._flush(),this.pipes.forEach(y=>{y.end()}),this.emit("finish"))};g?this.write(g,p,x):x()},read(g){let p;if(g){for(p=[];g&&this.buffers.length&&!this.buffers[0].eod;){const b=this.buffers[0],x=b.read(g);g-=x.length,p.push(x),b.eod&&b.full&&this.buffers.shift()}return o.concat(p)}return p=this.buffers.map(b=>b.toBuffer()).filter(Boolean),this.buffers=[],o.concat(p)},setEncoding(g){this.encoding=g},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(g){this.pipes.push(g),!this.paused&&this.buffers.length&&this.end()},unpipe(g){this.pipes=this.pipes.filter(p=>p!==g)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),s.exports=A}).call(this)}).call(this,n("_process"),n("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(n,s,i){(function(a){(function(){s.exports=class{constructor(o){this._buf=a.alloc(o&&o.size||16384),this._encoding=o&&o.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=a.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(o){o=o||0,this._buffer=void 0,this._inPos=o}_grow(o){let c=2*this._buf.length;for(;c<o;)c*=2;const l=a.alloc(c);this._buf.copy(l,0),this._buf=l}addText(o){this._buffer=void 0;let c=this._inPos+this._buf.write(o,this._inPos,this._encoding);for(;c>=this._buf.length-4;)this._grow(this._inPos+o.length),c=this._inPos+this._buf.write(o,this._inPos,this._encoding);this._inPos=c}addStringBuf(o){o.length&&(this._buffer=void 0,this.length+o.length>this.capacity&&this._grow(this.length+o.length),o._buf.copy(this._buf,this._inPos,0,o.length),this._inPos+=o.length)}}}).call(this)}).call(this,n("buffer").Buffer)},{buffer:220}],26:[function(n,s,i){const{toString:a}=Object.prototype,o=/["&<>]/,c={each:function(l,u){l&&(Array.isArray(l)?l.forEach(u):Object.keys(l).forEach(d=>{u(l[d],d)}))},some:function(l,u){return!!l&&(Array.isArray(l)?l.some(u):Object.keys(l).some(d=>u(l[d],d)))},every:function(l,u){return!l||(Array.isArray(l)?l.every(u):Object.keys(l).every(d=>u(l[d],d)))},map:function(l,u){return l?Array.isArray(l)?l.map(u):Object.keys(l).map(d=>u(l[d],d)):[]},keyBy:(l,u)=>l.reduce((d,f)=>(d[f[u]]=f,d),{}),isEqual:function(l,u){const d=typeof l,f=typeof u,h=Array.isArray(l),m=Array.isArray(u);let A;if(d!==f)return!1;switch(typeof l){case"object":if(h||m)return!(!h||!m)&&l.length===u.length&&l.every((g,p)=>{const b=u[p];return c.isEqual(g,b)});if(l===null||u===null)return l===u;if(A=Object.keys(l),Object.keys(u).length!==A.length)return!1;for(const g of A)if(!u.hasOwnProperty(g))return!1;return c.every(l,(g,p)=>{const b=u[p];return c.isEqual(g,b)});default:return l===u}},escapeHtml(l){const u=o.exec(l);if(!u)return l;let d="",f="",h=0,m=u.index;for(;m<l.length;m++){switch(l.charAt(m)){case'"':f="&quot;";break;case"&":f="&amp;";break;case"'":f="&apos;";break;case"<":f="&lt;";break;case">":f="&gt;";break;default:continue}h!==m&&(d+=l.substring(h,m)),h=m+1,d+=f}return h!==m?d+l.substring(h,m):d},strcmp:(l,u)=>l<u?-1:l>u?1:0,isUndefined:l=>a.call(l)==="[object Undefined]",isObject:l=>a.call(l)==="[object Object]",deepMerge(){const l=arguments[0]||{},{length:u}=arguments;let d,f,h;function m(A,g){d=l[g],h=Array.isArray(A),c.isObject(A)||h?(h?(h=!1,f=d&&Array.isArray(d)?d:[]):f=d&&c.isObject(d)?d:{},l[g]=c.deepMerge(f,A)):c.isUndefined(A)||(l[g]=A)}for(let A=0;A<u;A++)c.each(arguments[A],m);return l}};s.exports=c},{}],27:[function(n,s,i){(function(a,o){(function(){const c=n("fs"),l=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,u={nop(){},promiseImmediate:d=>new Promise(f=>{a.setImmediate?o(()=>{f(d)}):setTimeout(()=>{f(d)},1)}),inherits:function(d,f,h,m){d.super_=f,m||(m=h,h=null),h&&Object.keys(h).forEach(g=>{Object.defineProperty(d,g,Object.getOwnPropertyDescriptor(h,g))});const A={constructor:{value:d,enumerable:!1,writable:!1,configurable:!0}};m&&Object.keys(m).forEach(g=>{A[g]=Object.getOwnPropertyDescriptor(m,g)}),d.prototype=Object.create(f.prototype,A)},dateToExcel:(d,f)=>25569+d.getTime()/864e5-(f?1462:0),excelToDate(d,f){const h=Math.round(24*(d-25569+(f?1462:0))*3600*1e3);return new Date(h)},parsePath(d){const f=d.lastIndexOf("/");return{path:d.substring(0,f),name:d.substring(f+1)}},getRelsPath(d){const f=u.parsePath(d);return`${f.path}/_rels/${f.name}.rels`},xmlEncode(d){const f=l.exec(d);if(!f)return d;let h="",m="",A=0,g=f.index;for(;g<d.length;g++){const p=d.charCodeAt(g);switch(p){case 34:m="&quot;";break;case 38:m="&amp;";break;case 39:m="&apos;";break;case 60:m="&lt;";break;case 62:m="&gt;";break;case 127:m="";break;default:if(p<=31&&(p<=8||p>=11&&p!==13)){m="";break}continue}A!==g&&(h+=d.substring(A,g)),A=g+1,m&&(h+=m)}return A!==g?h+d.substring(A,g):h},xmlDecode:d=>d.replace(/&([a-z]*);/g,f=>{switch(f){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return f}}),validInt(d){const f=parseInt(d,10);return Number.isNaN(f)?0:f},isDateFmt(d){return d?(d=(d=d.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:d=>new Promise(f=>{c.access(d,c.constants.F_OK,h=>{f(!h)})})},toIsoDateString:d=>d.toIsoString().subsstr(0,10),parseBoolean:d=>d===!0||d==="true"||d===1||d==="1"};s.exports=u}).call(this)}).call(this,typeof ln<"u"?ln:typeof self<"u"?self:typeof window<"u"?window:{},n("timers").setImmediate)},{fs:216,timers:523}],28:[function(n,s,i){const a=n("./under-dash"),o=n("./utils");function c(d,f,h){d.push(` ${f}="${o.xmlEncode(h.toString())}"`)}function l(d,f){if(f){const h=[];a.each(f,(m,A)=>{m!==void 0&&c(h,A,m)}),d.push(h.join(""))}}class u{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(f){const h=this._xml;h.push("<?xml"),l(h,f),h.push(`?>
`)}openNode(f,h){const m=this.tos,A=this._xml;m&&this.open&&A.push(">"),this._stack.push(f),A.push("<"),A.push(f),l(A,h),this.leaf=!0,this.open=!0}addAttribute(f,h){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");h!==void 0&&c(this._xml,f,h)}addAttributes(f){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");l(this._xml,f)}writeText(f){const h=this._xml;this.open&&(h.push(">"),this.open=!1),this.leaf=!1,h.push(o.xmlEncode(f.toString()))}writeXml(f){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(f)}closeNode(){const f=this._stack.pop(),h=this._xml;this.leaf?h.push("/>"):(h.push("</"),h.push(f),h.push(">")),this.open=!1,this.leaf=!1}leafNode(f,h,m){this.openNode(f,h),m!==void 0&&this.writeText(m),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const f=this._rollbacks.pop();this._xml.length>f.xml&&this._xml.splice(f.xml,this._xml.length-f.xml),this._stack.length>f.stack&&this._stack.splice(f.stack,this._stack.length-f.stack),this.leaf=f.leaf,this.open=f.open}get xml(){return this.closeAll(),this._xml.join("")}}u.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},s.exports=u},{"./under-dash":26,"./utils":27}],29:[function(n,s,i){(function(a){(function(){const o=n("events"),c=n("jszip"),l=n("./stream-buf"),{stringToBuffer:u}=n("./browser-buffer-encode");class d extends o.EventEmitter{constructor(h){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},h),this.zip=new c,this.stream=new l}append(h,m){m.hasOwnProperty("base64")&&m.base64?this.zip.file(m.name,h,{base64:!0}):(a.browser&&typeof h=="string"&&(h=u(h)),this.zip.file(m.name,h))}async finalize(){const h=await this.zip.generateAsync(this.options);this.stream.end(h),this.emit("finish")}read(h){return this.stream.read(h)}setEncoding(h){return this.stream.setEncoding(h)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(h,m){return this.stream.pipe(h,m)}unpipe(h){return this.stream.unpipe(h)}unshift(h){return this.stream.unshift(h)}wrap(h){return this.stream.wrap(h)}}s.exports={ZipWriter:d}}).call(this)}).call(this,n("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(n,s,i){s.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},28:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"年"m"月"d"日"',"zh-cn":'yyyy"年"m"月"d"日"',"ja-jp":'yyyy"年"m"月"d"日"',"ko-kr":'yyyy"년" mm"월" dd"일"'},32:{"zh-tw":'hh"時"mm"分"',"zh-cn":'h"时"mm"分"',"ja-jp":'h"時"mm"分"',"ko-kr":'h"시" mm"분"'},33:{"zh-tw":'hh"時"mm"分"ss"秒"',"zh-cn":'h"时"mm"分"ss"秒"',"ja-jp":'h"時"mm"分"ss"秒"',"ko-kr":'h"시" mm"분" ss"초"'},34:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},51:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},52:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'yyyy"年"m"月"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'m"月"d"日"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},55:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},58:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(n,s,i){s.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(n,s,i){const a=n("../../utils/parse-sax"),o=n("../../utils/xml-stream");class c{prepare(){}render(){}parseOpen(u){}parseText(u){}parseClose(u){}reconcile(u,d){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(u=>{u instanceof c?u.reset():u.xform&&u.xform.reset()})}mergeModel(u){this.model=Object.assign(this.model||{},u)}async parse(u){for await(const d of u)for(const{eventType:f,value:h}of d)if(f==="opentag")this.parseOpen(h);else if(f==="text")this.parseText(h);else if(f==="closetag"&&!this.parseClose(h.name))return this.model;return this.model}async parseStream(u){return this.parse(a(u))}get xml(){return this.toXml(this.model)}toXml(u){const d=new o;return this.render(d,u),d.xml}static toAttribute(u,d){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(u===void 0){if(f)return d}else if(f||u!==d)return u.toString()}static toStringAttribute(u,d){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(u,d,f)}static toStringValue(u,d){return u===void 0?d:u}static toBoolAttribute(u,d){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(u===void 0){if(f)return d}else if(f||u!==d)return u?"1":"0"}static toBoolValue(u,d){return u===void 0?d:u==="1"}static toIntAttribute(u,d){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(u,d,f)}static toIntValue(u,d){return u===void 0?d:parseInt(u,10)}static toFloatAttribute(u,d){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(u,d,f)}static toFloatValue(u,d){return u===void 0?d:parseFloat(u)}}s.exports=c},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(n,s,i){const a=n("../base-xform"),o=n("../../../utils/col-cache");function c(u){try{return o.decodeEx(u),!0}catch{return!1}}function l(u){const d=[];let f=!1,h="";return u.split(",").forEach(m=>{if(!m)return;const A=(m.match(/'/g)||[]).length;if(!A)return void(f?h+=m+",":c(m)&&d.push(m));const g=A%2==0;!f&&g&&c(m)?d.push(m):f&&!g?(f=!1,c(h+m)&&d.push(h+m),h=""):(f=!0,h+=m+",")}),d}s.exports=class extends a{render(u,d){u.openNode("definedName",{name:d.name,localSheetId:d.localSheetId}),u.writeText(d.ranges.join(",")),u.closeNode()}parseOpen(u){switch(u.name){case"definedName":return this._parsedName=u.attributes.name,this._parsedLocalSheetId=u.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(u){this._parsedText.push(u)}parseClose(){return this.model={name:this._parsedName,ranges:l(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(n,s,i){const a=n("../../../utils/utils"),o=n("../base-xform");s.exports=class extends o{render(c,l){c.leafNode("sheet",{sheetId:l.id,name:l.name,state:l.state,"r:id":l.rId})}parseOpen(c){return c.name==="sheet"&&(this.model={name:a.xmlDecode(c.attributes.name),id:parseInt(c.attributes.sheetId,10),state:c.attributes.state,rId:c.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{render(o,c){o.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:c.fullCalcOnLoad?1:void 0})}parseOpen(o){return o.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{render(o,c){o.leafNode("workbookPr",{date1904:c.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(o){return o.name==="workbookPr"&&(this.model={date1904:o.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{render(o,c){const l={xWindow:c.x||0,yWindow:c.y||0,windowWidth:c.width||12e3,windowHeight:c.height||24e3,firstSheet:c.firstSheet,activeTab:c.activeTab};c.visibility&&c.visibility!=="visible"&&(l.visibility=c.visibility),o.leafNode("workbookView",l)}parseOpen(o){if(o.name==="workbookView"){const c=this.model={},l=function(d,f,h){const m=f!==void 0?c[d]=f:h;m!==void 0&&(c[d]=m)},u=function(d,f,h){const m=f!==void 0?c[d]=parseInt(f,10):h;m!==void 0&&(c[d]=m)};return u("x",o.attributes.xWindow,0),u("y",o.attributes.yWindow,0),u("width",o.attributes.windowWidth,25e3),u("height",o.attributes.windowHeight,1e4),l("visibility",o.attributes.visibility,"visible"),u("activeTab",o.attributes.activeTab,void 0),u("firstSheet",o.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(n,s,i){const a=n("../../../utils/under-dash"),o=n("../../../utils/col-cache"),c=n("../../../utils/xml-stream"),l=n("../base-xform"),u=n("../static-xform"),d=n("../list-xform"),f=n("./defined-name-xform"),h=n("./sheet-xform"),m=n("./workbook-view-xform"),A=n("./workbook-properties-xform"),g=n("./workbook-calc-properties-xform");class p extends l{constructor(){super(),this.map={fileVersion:p.STATIC_XFORMS.fileVersion,workbookPr:new A,bookViews:new d({tag:"bookViews",count:!1,childXform:new m}),sheets:new d({tag:"sheets",count:!1,childXform:new h}),definedNames:new d({tag:"definedNames",count:!1,childXform:new f}),calcPr:new g}}prepare(x){x.sheets=x.worksheets;const v=[];let y=0;x.sheets.forEach(N=>{if(N.pageSetup&&N.pageSetup.printArea&&N.pageSetup.printArea.split("&&").forEach(P=>{const M=P.split(":"),k={name:"_xlnm.Print_Area",ranges:[`'${N.name}'!$${M[0]}:$${M[1]}`],localSheetId:y};v.push(k)}),N.pageSetup&&(N.pageSetup.printTitlesRow||N.pageSetup.printTitlesColumn)){const P=[];if(N.pageSetup.printTitlesColumn){const k=N.pageSetup.printTitlesColumn.split(":");P.push(`'${N.name}'!$${k[0]}:$${k[1]}`)}if(N.pageSetup.printTitlesRow){const k=N.pageSetup.printTitlesRow.split(":");P.push(`'${N.name}'!$${k[0]}:$${k[1]}`)}const M={name:"_xlnm.Print_Titles",ranges:P,localSheetId:y};v.push(M)}y++}),v.length&&(x.definedNames=x.definedNames.concat(v)),(x.media||[]).forEach((N,P)=>{N.name=N.type+(P+1)})}render(x,v){x.openXml(c.StdDocAttributes),x.openNode("workbook",p.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(x),this.map.workbookPr.render(x,v.properties),this.map.bookViews.render(x,v.views),this.map.sheets.render(x,v.sheets),this.map.definedNames.render(x,v.definedNames),this.map.calcPr.render(x,v.calcProperties),x.closeNode()}parseOpen(x){if(this.parser)return this.parser.parseOpen(x),!0;switch(x.name){case"workbook":return!0;default:return this.parser=this.map[x.name],this.parser&&this.parser.parseOpen(x),!0}}parseText(x){this.parser&&this.parser.parseText(x)}parseClose(x){if(this.parser)return this.parser.parseClose(x)||(this.parser=void 0),!0;switch(x){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(x){const v=(x.workbookRels||[]).reduce((k,D)=>(k[D.Id]=D,k),{}),y=[];let N,P=0;(x.sheets||[]).forEach(k=>{const D=v[k.rId];D&&(N=x.worksheetHash["xl/"+D.Target.replace(/^(\s|\/xl\/)+/,"")],N&&(N.name=k.name,N.id=k.id,N.state=k.state,y[P++]=N))});const M=[];a.each(x.definedNames,k=>{if(k.name==="_xlnm.Print_Area"){if(N=y[k.localSheetId],N){N.pageSetup||(N.pageSetup={});const D=o.decodeEx(k.ranges[0]);N.pageSetup.printArea=N.pageSetup.printArea?`${N.pageSetup.printArea}&&${D.dimensions}`:D.dimensions}}else if(k.name==="_xlnm.Print_Titles"){if(N=y[k.localSheetId],N){N.pageSetup||(N.pageSetup={});const D=k.ranges.join(","),O=/\$/g,L=/\$\d+:\$\d+/,F=D.match(L);if(F&&F.length){const T=F[0];N.pageSetup.printTitlesRow=T.replace(O,"")}const _=/\$[A-Z]+:\$[A-Z]+/,E=D.match(_);if(E&&E.length){const T=E[0];N.pageSetup.printTitlesColumn=T.replace(O,"")}}}else M.push(k)}),x.definedNames=M,x.media.forEach((k,D)=>{k.index=D})}}p.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},p.STATIC_XFORMS={fileVersion:new u({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},s.exports=p},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(n,s,i){const a=n("../strings/rich-text-xform"),o=n("../../../utils/utils"),c=n("../base-xform"),l=s.exports=function(u){this.model=u};o.inherits(l,c,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new a),this._richTextXform},render(u,d){d=d||this.model,u.openNode("comment",{ref:d.ref,authorId:0}),u.openNode("text"),d&&d.note&&d.note.texts&&d.note.texts.forEach(f=>{this.richTextXform.render(u,f)}),u.closeNode(),u.closeNode()},parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"comment":return this.model={type:"note",note:{texts:[]},...u.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(u),!0;default:return!1}},parseText(u){this.parser&&this.parser.parseText(u)},parseClose(u){switch(u){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(n,s,i){const a=n("../../../utils/xml-stream"),o=n("../../../utils/utils"),c=n("../base-xform"),l=n("./comment-xform"),u=s.exports=function(){this.map={comment:new l}};o.inherits(u,c,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(d,f){f=f||this.model,d.openXml(a.StdDocAttributes),d.openNode("comments",u.COMMENTS_ATTRIBUTES),d.openNode("authors"),d.leafNode("author",null,"Author"),d.closeNode(),d.openNode("commentList"),f.comments.forEach(h=>{this.map.comment.render(d,h)}),d.closeNode(),d.closeNode()},parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(d),!0;default:return!1}},parseText(d){this.parser&&this.parser.parseText(d)},parseClose(d){switch(d){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(d),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(n,s,i){const a=n("../../base-xform");s.exports=class extends a{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,c,l){(c===l[2]||this.tag==="x:SizeWithCells"&&c===l[1])&&o.leafNode(this.tag)}parseOpen(o){switch(o.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(n,s,i){const a=n("../../base-xform");s.exports=class extends a{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,c){o.leafNode(this.tag,null,c)}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{get tag(){return"x:Anchor"}getAnchorRect(o){const c=Math.floor(o.left),l=Math.floor(68*(o.left-c)),u=Math.floor(o.top),d=Math.floor(18*(o.top-u)),f=Math.floor(o.right),h=Math.floor(68*(o.right-f)),m=Math.floor(o.bottom);return[c,l,u,d,f,h,m,Math.floor(18*(o.bottom-m))]}getDefaultRect(o){const c=o.col,l=Math.max(o.row-2,0);return[c,6,l,14,c+2,2,l+4,16]}render(o,c){const l=c.anchor?this.getAnchorRect(c.anchor):this.getDefaultRect(c.refAddress);o.leafNode("x:Anchor",null,l.join(", "))}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../base-xform":32}],44:[function(n,s,i){const a=n("../base-xform"),o=n("./vml-anchor-xform"),c=n("./style/vml-protection-xform"),l=n("./style/vml-position-xform"),u=["twoCells","oneCells","absolute"];s.exports=class extends a{constructor(){super(),this.map={"x:Anchor":new o,"x:Locked":new c({tag:"x:Locked"}),"x:LockText":new c({tag:"x:LockText"}),"x:SizeWithCells":new l({tag:"x:SizeWithCells"}),"x:MoveWithCells":new l({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(d,f){const{protection:h,editAs:m}=f.note;d.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(d,m,u),this.map["x:SizeWithCells"].render(d,m,u),this.map["x:Anchor"].render(d,f),this.map["x:Locked"].render(d,h.locked),d.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(d,h.lockText),d.leafNode("x:Row",null,f.refAddress.row-1),d.leafNode("x:Column",null,f.refAddress.col-1),d.closeNode()}parseOpen(d){switch(d.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const d=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),f=Object.keys(d).length;this.model.editAs=u[f],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(n,s,i){const a=n("../../../utils/xml-stream"),o=n("../base-xform"),c=n("./vml-shape-xform");class l extends o{constructor(){super(),this.map={"v:shape":new c}}get tag(){return"xml"}render(d,f){d.openXml(a.StdDocAttributes),d.openNode(this.tag,l.DRAWING_ATTRIBUTES),d.openNode("o:shapelayout",{"v:ext":"edit"}),d.leafNode("o:idmap",{"v:ext":"edit",data:1}),d.closeNode(),d.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),d.leafNode("v:stroke",{joinstyle:"miter"}),d.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),d.closeNode(),f.comments.forEach((h,m)=>{this.map["v:shape"].render(d,h,m)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}reconcile(d,f){d.anchors.forEach(h=>{h.br?this.map["xdr:twoCellAnchor"].reconcile(h,f):this.map["xdr:oneCellAnchor"].reconcile(h,f)})}}l.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},s.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(n,s,i){const a=n("../base-xform"),o=n("./vml-textbox-xform"),c=n("./vml-client-data-xform");class l extends a{constructor(){super(),this.map={"v:textbox":new o,"x:ClientData":new c}}get tag(){return"v:shape"}render(d,f,h){d.openNode("v:shape",l.V_SHAPE_ATTRIBUTES(f,h)),d.leafNode("v:fill",{color2:"infoBackground [80]"}),d.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),d.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(d,f),this.map["x:ClientData"].render(d,f),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={margins:{insetmode:d.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}l.V_SHAPE_ATTRIBUTES=(u,d)=>({id:"_x0000_s"+(1025+d),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":u.note.margins&&u.note.margins.insetmode}),s.exports=l},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{get tag(){return"v:textbox"}conversionUnit(o,c,l){return`${parseFloat(o)*c.toFixed(2)}${l}`}reverseConversionUnit(o){return(o||"").split(",").map(c=>Number(parseFloat(this.conversionUnit(parseFloat(c),.1,"")).toFixed(2)))}render(o,c){const l={style:"mso-direction-alt:auto"};if(c&&c.note){let{inset:u}=c.note&&c.note.margins;Array.isArray(u)&&(u=u.map(d=>this.conversionUnit(d,10,"mm")).join(",")),u&&(l.inset=u)}o.openNode("v:textbox",l),o.leafNode("div",{style:"text-align:left"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:return this.model={inset:this.reverseConversionUnit(o.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(n,s,i){const a=n("./base-xform");s.exports=class extends a{createNewModel(o){return{}}parseOpen(o){return this.parser=this.parser||this.map[o.name],this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag&&(this.model=this.createNewModel(o),!0)}parseText(o){this.parser&&this.parser.parseText(o)}onParserClose(o,c){this.model[o]=c.model}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.onParserClose(o,this.parser),this.parser=void 0),!0):o!==this.tag}}},{"./base-xform":32}],49:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{render(o,c){o.openNode("HeadingPairs"),o.openNode("vt:vector",{size:2,baseType:"variant"}),o.openNode("vt:variant"),o.leafNode("vt:lpstr",void 0,"Worksheets"),o.closeNode(),o.openNode("vt:variant"),o.leafNode("vt:i4",void 0,c.length),o.closeNode(),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="HeadingPairs"}parseText(){}parseClose(o){return o!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{render(o,c){o.openNode("TitlesOfParts"),o.openNode("vt:vector",{size:c.length,baseType:"lpstr"}),c.forEach(l=>{o.leafNode("vt:lpstr",void 0,l.name)}),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="TitlesOfParts"}parseText(){}parseClose(o){return o!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(n,s,i){const a=n("../../../utils/xml-stream"),o=n("../base-xform"),c=n("../simple/string-xform"),l=n("./app-heading-pairs-xform"),u=n("./app-titles-of-parts-xform");class d extends o{constructor(){super(),this.map={Company:new c({tag:"Company"}),Manager:new c({tag:"Manager"}),HeadingPairs:new l,TitleOfParts:new u}}render(h,m){h.openXml(a.StdDocAttributes),h.openNode("Properties",d.PROPERTY_ATTRIBUTES),h.leafNode("Application",void 0,"Microsoft Excel"),h.leafNode("DocSecurity",void 0,"0"),h.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(h,m.worksheets),this.map.TitleOfParts.render(h,m.worksheets),this.map.Company.render(h,m.company||""),this.map.Manager.render(h,m.manager),h.leafNode("LinksUpToDate",void 0,"false"),h.leafNode("SharedDoc",void 0,"false"),h.leafNode("HyperlinksChanged",void 0,"false"),h.leafNode("AppVersion",void 0,"16.0300"),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"Properties":return!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}d.DateFormat=function(f){return f.toISOString().replace(/[.]\d{3,6}/,"")},d.DateAttrs={"xsi:type":"dcterms:W3CDTF"},d.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},s.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(n,s,i){const a=n("../../../utils/xml-stream"),o=n("../base-xform");class c extends o{render(u,d){u.openXml(a.StdDocAttributes),u.openNode("Types",c.PROPERTY_ATTRIBUTES);const f={};(d.media||[]).forEach(h=>{if(h.type==="image"){const m=h.extension;f[m]||(f[m]=!0,u.leafNode("Default",{Extension:m,ContentType:"image/"+m}))}}),u.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),u.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),u.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),d.worksheets.forEach(h=>{const m=`/xl/worksheets/sheet${h.id}.xml`;u.leafNode("Override",{PartName:m,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),u.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),u.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),d.sharedStrings&&d.sharedStrings.count&&u.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),d.tables&&d.tables.forEach(h=>{u.leafNode("Override",{PartName:"/xl/tables/"+h.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),d.drawings&&d.drawings.forEach(h=>{u.leafNode("Override",{PartName:`/xl/drawings/${h.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),d.commentRefs&&(u.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),d.commentRefs.forEach(h=>{let{commentName:m}=h;u.leafNode("Override",{PartName:`/xl/${m}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),u.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),u.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),u.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}c.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},s.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(n,s,i){const a=n("../../../utils/xml-stream"),o=n("../base-xform"),c=n("../simple/date-xform"),l=n("../simple/string-xform"),u=n("../simple/integer-xform");class d extends o{constructor(){super(),this.map={"dc:creator":new l({tag:"dc:creator"}),"dc:title":new l({tag:"dc:title"}),"dc:subject":new l({tag:"dc:subject"}),"dc:description":new l({tag:"dc:description"}),"dc:identifier":new l({tag:"dc:identifier"}),"dc:language":new l({tag:"dc:language"}),"cp:keywords":new l({tag:"cp:keywords"}),"cp:category":new l({tag:"cp:category"}),"cp:lastModifiedBy":new l({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new c({tag:"cp:lastPrinted",format:d.DateFormat}),"cp:revision":new u({tag:"cp:revision"}),"cp:version":new l({tag:"cp:version"}),"cp:contentStatus":new l({tag:"cp:contentStatus"}),"cp:contentType":new l({tag:"cp:contentType"}),"dcterms:created":new c({tag:"dcterms:created",attrs:d.DateAttrs,format:d.DateFormat}),"dcterms:modified":new c({tag:"dcterms:modified",attrs:d.DateAttrs,format:d.DateFormat})}}render(h,m){h.openXml(a.StdDocAttributes),h.openNode("cp:coreProperties",d.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(h,m.creator),this.map["dc:title"].render(h,m.title),this.map["dc:subject"].render(h,m.subject),this.map["dc:description"].render(h,m.description),this.map["dc:identifier"].render(h,m.identifier),this.map["dc:language"].render(h,m.language),this.map["cp:keywords"].render(h,m.keywords),this.map["cp:category"].render(h,m.category),this.map["cp:lastModifiedBy"].render(h,m.lastModifiedBy),this.map["cp:lastPrinted"].render(h,m.lastPrinted),this.map["cp:revision"].render(h,m.revision),this.map["cp:version"].render(h,m.version),this.map["cp:contentStatus"].render(h,m.contentStatus),this.map["cp:contentType"].render(h,m.contentType),this.map["dcterms:created"].render(h,m.created),this.map["dcterms:modified"].render(h,m.modified),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[h.name],this.parser)return this.parser.parseOpen(h),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(h))}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+h)}}}d.DateFormat=function(f){return f.toISOString().replace(/[.]\d{3}/,"")},d.DateAttrs={"xsi:type":"dcterms:W3CDTF"},d.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},s.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{render(o,c){o.leafNode("Relationship",c)}parseOpen(o){switch(o.name){case"Relationship":return this.model=o.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(n,s,i){const a=n("../../../utils/xml-stream"),o=n("../base-xform"),c=n("./relationship-xform");class l extends o{constructor(){super(),this.map={Relationship:new c}}render(d,f){f=f||this._values,d.openXml(a.StdDocAttributes),d.openNode("Relationships",l.RELATIONSHIPS_ATTRIBUTES),f.forEach(h=>{this.map.Relationship.render(d,h)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[d.name],this.parser)return this.parser.parseOpen(d),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(d))}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(d){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+d)}}}l.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},s.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset(),this.model={range:{editAs:o.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}reconcilePicture(o,c){if(o&&o.rId){const l=c.rels[o.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(l){const u=l[1],d=c.mediaIndex[u];return c.media[d]}}}}},{"../base-xform":32}],57:[function(n,s,i){const a=n("../base-xform"),o=n("./blip-xform");s.exports=class extends a{constructor(){super(),this.map={"a:blip":new o}}get tag(){return"xdr:blipFill"}render(c,l){c.openNode(this.tag),this.map["a:blip"].render(c,l),c.openNode("a:stretch"),c.leafNode("a:fillRect"),c.closeNode(),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{get tag(){return"a:blip"}render(o,c){o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":c.rId,cstate:"print"})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{get tag(){return"xdr:cNvPicPr"}render(o){o.openNode(this.tag),o.leafNode("a:picLocks",{noChangeAspect:"1"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(n,s,i){const a=n("../base-xform"),o=n("./hlink-click-xform"),c=n("./ext-lst-xform");s.exports=class extends a{constructor(){super(),this.map={"a:hlinkClick":new o,"a:extLst":new c}}get tag(){return"xdr:cNvPr"}render(l,u){l.openNode(this.tag,{id:u.index,name:"Picture "+u.index}),this.map["a:hlinkClick"].render(l,u),this.map["a:extLst"].render(l,u),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(n,s,i){const a=n("../base-xform"),o=n("../simple/integer-xform");s.exports=class extends a{constructor(c){super(),this.tag=c.tag,this.map={"xdr:col":new o({tag:"xdr:col",zero:!0}),"xdr:colOff":new o({tag:"xdr:colOff",zero:!0}),"xdr:row":new o({tag:"xdr:row",zero:!0}),"xdr:rowOff":new o({tag:"xdr:rowOff",zero:!0})}}render(c,l){c.openNode(this.tag),this.map["xdr:col"].render(c,l.nativeCol),this.map["xdr:colOff"].render(c,l.nativeColOff),this.map["xdr:row"].render(c,l.nativeRow),this.map["xdr:rowOff"].render(c,l.nativeRowOff),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(n,s,i){const a=n("../../../utils/col-cache"),o=n("../../../utils/xml-stream"),c=n("../base-xform"),l=n("./two-cell-anchor-xform"),u=n("./one-cell-anchor-xform");class d extends c{constructor(){super(),this.map={"xdr:twoCellAnchor":new l,"xdr:oneCellAnchor":new u}}prepare(h){h.anchors.forEach((m,A)=>{m.anchorType=function(g){return(typeof g.range=="string"?a.decode(g.range):g.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(m),this.map[m.anchorType].prepare(m,{index:A})})}get tag(){return"xdr:wsDr"}render(h,m){h.openXml(o.StdDocAttributes),h.openNode(this.tag,d.DRAWING_ATTRIBUTES),m.anchors.forEach(A=>{this.map[A.anchorType].render(h,A)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(h){case this.tag:return!1;default:return!0}}reconcile(h,m){h.anchors.forEach(A=>{A.br?this.map["xdr:twoCellAnchor"].reconcile(A,m):this.map["xdr:oneCellAnchor"].reconcile(A,m)})}}d.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},s.exports=d},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{get tag(){return"a:extLst"}render(o){o.openNode(this.tag),o.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),o.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),o.closeNode(),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{constructor(o){super(),this.tag=o.tag,this.map={}}render(o,c){o.openNode(this.tag);const l=Math.floor(9525*c.width),u=Math.floor(9525*c.height);o.addAttribute("cx",l),o.addAttribute("cy",u),o.closeNode()}parseOpen(o){return o.name===this.tag&&(this.model={width:parseInt(o.attributes.cx||"0",10)/9525,height:parseInt(o.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{get tag(){return"a:hlinkClick"}render(o,c){c.hyperlinks&&c.hyperlinks.rId&&o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":c.hyperlinks.rId,tooltip:c.hyperlinks.tooltip})}parseOpen(o){switch(o.name){case this.tag:return this.model={hyperlinks:{rId:o.attributes["r:id"],tooltip:o.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(n,s,i){const a=n("../base-xform"),o=n("./c-nv-pr-xform"),c=n("./c-nv-pic-pr-xform");s.exports=class extends a{constructor(){super(),this.map={"xdr:cNvPr":new o,"xdr:cNvPicPr":new c}}get tag(){return"xdr:nvPicPr"}render(l,u){l.openNode(this.tag),this.map["xdr:cNvPr"].render(l,u),this.map["xdr:cNvPicPr"].render(l,u),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(n,s,i){const a=n("./base-cell-anchor-xform"),o=n("../static-xform"),c=n("./cell-position-xform"),l=n("./ext-xform"),u=n("./pic-xform");s.exports=class extends a{constructor(){super(),this.map={"xdr:from":new c({tag:"xdr:from"}),"xdr:ext":new l({tag:"xdr:ext"}),"xdr:pic":new u,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(d,f){this.map["xdr:pic"].prepare(d.picture,f)}render(d,f){d.openNode(this.tag,{editAs:f.range.editAs||"oneCell"}),this.map["xdr:from"].render(d,f.range.tl),this.map["xdr:ext"].render(d,f.range.ext),this.map["xdr:pic"].render(d,f.picture),this.map["xdr:clientData"].render(d,{}),d.closeNode()}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(d,f){d.medium=this.reconcilePicture(d.picture,f)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(n,s,i){const a=n("../base-xform"),o=n("../static-xform"),c=n("./blip-fill-xform"),l=n("./nv-pic-pr-xform"),u=n("./sp-pr");s.exports=class extends a{constructor(){super(),this.map={"xdr:nvPicPr":new l,"xdr:blipFill":new c,"xdr:spPr":new o(u)}}get tag(){return"xdr:pic"}prepare(d,f){d.index=f.index+1}render(d,f){d.openNode(this.tag),this.map["xdr:nvPicPr"].render(d,f),this.map["xdr:blipFill"].render(d,f),this.map["xdr:spPr"].render(d,f),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset();break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(){}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(n,s,i){s.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(n,s,i){const a=n("./base-cell-anchor-xform"),o=n("../static-xform"),c=n("./cell-position-xform"),l=n("./pic-xform");s.exports=class extends a{constructor(){super(),this.map={"xdr:from":new c({tag:"xdr:from"}),"xdr:to":new c({tag:"xdr:to"}),"xdr:pic":new l,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(u,d){this.map["xdr:pic"].prepare(u.picture,d)}render(u,d){u.openNode(this.tag,{editAs:d.range.editAs||"oneCell"}),this.map["xdr:from"].render(u,d.range.tl),this.map["xdr:to"].render(u,d.range.br),this.map["xdr:pic"].render(u,d.picture),this.map["xdr:clientData"].render(u,{}),u.closeNode()}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(u,d){u.medium=this.reconcilePicture(u.picture,d)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(n,s,i){const a=n("./base-xform");s.exports=class extends a{constructor(o){super(),this.tag=o.tag,this.always=!!o.always,this.count=o.count,this.empty=o.empty,this.$count=o.$count||"count",this.$=o.$,this.childXform=o.childXform,this.maxItems=o.maxItems}prepare(o,c){const{childXform:l}=this;o&&o.forEach((u,d)=>{c.index=d,l.prepare(u,c)})}render(o,c){if(this.always||c&&c.length){o.openNode(this.tag,this.$),this.count&&o.addAttribute(this.$count,c&&c.length||0);const{childXform:l}=this;(c||[]).forEach((u,d)=>{l.render(o,u,d)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(o)&&(this.parser=this.childXform,!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(o,c){if(o){const{childXform:l}=this;o.forEach(u=>{l.reconcile(u,c)})}}}},{"./base-xform":32}],72:[function(n,s,i){const a=n("../../../utils/col-cache"),o=n("../base-xform");s.exports=class extends o{get tag(){return"autoFilter"}render(c,l){if(l)if(typeof l=="string")c.leafNode("autoFilter",{ref:l});else{const u=function(h){return typeof h=="string"?h:a.getAddress(h.row,h.column).address},d=u(l.from),f=u(l.to);d&&f&&c.leafNode("autoFilter",{ref:`${d}:${f}`})}}parseOpen(c){c.name==="autoFilter"&&(this.model=c.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(n,s,i){const a=n("../../../utils/utils"),o=n("../base-xform"),c=n("../../../doc/range"),l=n("../../../doc/enums"),u=n("../strings/rich-text-xform");function d(f){if(f==null)return l.ValueType.Null;if(f instanceof String||typeof f=="string")return l.ValueType.String;if(typeof f=="number")return l.ValueType.Number;if(typeof f=="boolean")return l.ValueType.Boolean;if(f instanceof Date)return l.ValueType.Date;if(f.text&&f.hyperlink)return l.ValueType.Hyperlink;if(f.formula)return l.ValueType.Formula;if(f.error)return l.ValueType.Error;throw new Error("I could not understand type of value")}s.exports=class extends o{constructor(){super(),this.richTextXForm=new u}get tag(){return"c"}prepare(f,h){const m=h.styles.addStyleModel(f.style||{},function(A){switch(A.type){case l.ValueType.Formula:return d(A.result);default:return A.type}}(f));switch(m&&(f.styleId=m),f.comment&&h.comments.push({...f.comment,ref:f.address}),f.type){case l.ValueType.String:case l.ValueType.RichText:h.sharedStrings&&(f.ssId=h.sharedStrings.add(f.value));break;case l.ValueType.Date:h.date1904&&(f.date1904=!0);break;case l.ValueType.Hyperlink:h.sharedStrings&&f.text!==void 0&&f.text!==null&&(f.ssId=h.sharedStrings.add(f.text)),h.hyperlinks.push({address:f.address,target:f.hyperlink,tooltip:f.tooltip});break;case l.ValueType.Merge:h.merges.add(f);break;case l.ValueType.Formula:if(h.date1904&&(f.date1904=!0),f.shareType==="shared"&&(f.si=h.siFormulae++),f.formula)h.formulae[f.address]=f;else if(f.sharedFormula){const A=h.formulae[f.sharedFormula];if(!A)throw new Error("Shared Formula master must exist above and or left of clone for cell "+f.address);A.si===void 0?(A.shareType="shared",A.si=h.siFormulae++,A.range=new c(A.address,f.address)):A.range&&A.range.expandToAddress(f.address),f.si=A.si}}}renderFormula(f,h){let m=null;switch(h.shareType){case"shared":m={t:"shared",ref:h.ref||h.range.range,si:h.si};break;case"array":m={t:"array",ref:h.ref};break;default:h.si!==void 0&&(m={t:"shared",si:h.si})}switch(d(h.result)){case l.ValueType.Null:f.leafNode("f",m,h.formula);break;case l.ValueType.String:f.addAttribute("t","str"),f.leafNode("f",m,h.formula),f.leafNode("v",null,h.result);break;case l.ValueType.Number:f.leafNode("f",m,h.formula),f.leafNode("v",null,h.result);break;case l.ValueType.Boolean:f.addAttribute("t","b"),f.leafNode("f",m,h.formula),f.leafNode("v",null,h.result?1:0);break;case l.ValueType.Error:f.addAttribute("t","e"),f.leafNode("f",m,h.formula),f.leafNode("v",null,h.result.error);break;case l.ValueType.Date:f.leafNode("f",m,h.formula),f.leafNode("v",null,a.dateToExcel(h.result,h.date1904));break;default:throw new Error("I could not understand type of value")}}render(f,h){if(h.type!==l.ValueType.Null||h.styleId){switch(f.openNode("c"),f.addAttribute("r",h.address),h.styleId&&f.addAttribute("s",h.styleId),h.type){case l.ValueType.Null:break;case l.ValueType.Number:f.leafNode("v",null,h.value);break;case l.ValueType.Boolean:f.addAttribute("t","b"),f.leafNode("v",null,h.value?"1":"0");break;case l.ValueType.Error:f.addAttribute("t","e"),f.leafNode("v",null,h.value.error);break;case l.ValueType.String:case l.ValueType.RichText:h.ssId!==void 0?(f.addAttribute("t","s"),f.leafNode("v",null,h.ssId)):h.value&&h.value.richText?(f.addAttribute("t","inlineStr"),f.openNode("is"),h.value.richText.forEach(m=>{this.richTextXForm.render(f,m)}),f.closeNode("is")):(f.addAttribute("t","str"),f.leafNode("v",null,h.value));break;case l.ValueType.Date:f.leafNode("v",null,a.dateToExcel(h.value,h.date1904));break;case l.ValueType.Hyperlink:h.ssId!==void 0?(f.addAttribute("t","s"),f.leafNode("v",null,h.ssId)):(f.addAttribute("t","str"),f.leafNode("v",null,h.text));break;case l.ValueType.Formula:this.renderFormula(f,h);break;case l.ValueType.Merge:}f.closeNode()}}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"c":return this.model={address:f.attributes.r},this.t=f.attributes.t,f.attributes.s&&(this.model.styleId=parseInt(f.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=f.attributes.si,this.model.shareType=f.attributes.t,this.model.ref=f.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){if(this.parser)this.parser.parseText(f);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+f:f;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+f:f:this.model.value=this.model.value?this.model.value+f:f}}parseClose(f){switch(f){case"c":{const{model:h}=this;if(h.formula||h.shareType)h.type=l.ValueType.Formula,h.value&&(this.t==="str"?h.result=a.xmlDecode(h.value):this.t==="b"?h.result=parseInt(h.value,10)!==0:this.t==="e"?h.result={error:h.value}:h.result=parseFloat(h.value),h.value=void 0);else if(h.value!==void 0)switch(this.t){case"s":h.type=l.ValueType.String,h.value=parseInt(h.value,10);break;case"str":h.type=l.ValueType.String,h.value=a.xmlDecode(h.value);break;case"inlineStr":h.type=l.ValueType.String;break;case"b":h.type=l.ValueType.Boolean,h.value=parseInt(h.value,10)!==0;break;case"e":h.type=l.ValueType.Error,h.value={error:h.value};break;default:h.type=l.ValueType.Number,h.value=parseFloat(h.value)}else h.styleId?h.type=l.ValueType.Null:h.type=l.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(f),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(f),!0)}}reconcile(f,h){const m=f.styleId&&h.styles&&h.styles.getStyleModel(f.styleId);switch(m&&(f.style=m),f.styleId!==void 0&&(f.styleId=void 0),f.type){case l.ValueType.String:typeof f.value=="number"&&h.sharedStrings&&(f.value=h.sharedStrings.getString(f.value)),f.value.richText&&(f.type=l.ValueType.RichText);break;case l.ValueType.Number:m&&a.isDateFmt(m.numFmt)&&(f.type=l.ValueType.Date,f.value=a.excelToDate(f.value,h.date1904));break;case l.ValueType.Formula:f.result!==void 0&&m&&a.isDateFmt(m.numFmt)&&(f.result=a.excelToDate(f.result,h.date1904)),f.shareType==="shared"&&(f.ref?h.formulae[f.si]=f.address:(f.sharedFormula=h.formulae[f.si],delete f.shareType),delete f.si)}const A=h.hyperlinkMap[f.address];A&&(f.type===l.ValueType.Formula?(f.text=f.result,f.result=void 0):(f.text=f.value,f.value=void 0),f.type=l.ValueType.Hyperlink,f.hyperlink=A);const g=h.commentsMap&&h.commentsMap[f.address];g&&(f.comment=g)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(n,s,i){const a=n("../../base-xform");s.exports=class extends a{get tag(){return"x14:cfIcon"}render(o,c){o.leafNode(this.tag,{iconSet:c.iconSet,iconId:c.iconId})}parseOpen(o){let{attributes:c}=o;this.model={iconSet:c.iconSet,iconId:a.toIntValue(c.iconId)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],75:[function(n,s,i){const{v4:a}=n("uuid"),o=n("../../base-xform"),c=n("../../composite-xform"),l=n("./databar-ext-xform"),u=n("./icon-set-ext-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class f extends c{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new l,"x14:iconSet":this.iconSetXform=new u}}get tag(){return"x14:cfRule"}static isExt(m){return m.type==="dataBar"?l.isExt(m):!(m.type!=="iconSet"||!m.custom&&!d[m.iconSet])}prepare(m){f.isExt(m)&&(m.x14Id=`{${a()}}`.toUpperCase())}render(m,A){if(f.isExt(A))switch(A.type){case"dataBar":this.renderDataBar(m,A);break;case"iconSet":this.renderIconSet(m,A)}}renderDataBar(m,A){m.openNode(this.tag,{type:"dataBar",id:A.x14Id}),this.databarXform.render(m,A),m.closeNode()}renderIconSet(m,A){m.openNode(this.tag,{type:"iconSet",priority:A.priority,id:A.x14Id||`{${a()}}`}),this.iconSetXform.render(m,A),m.closeNode()}createNewModel(m){let{attributes:A}=m;return{type:A.type,x14Id:A.id,priority:o.toIntValue(A.priority)}}onParserClose(m,A){Object.assign(this.model,A.model)}}s.exports=f},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(n,s,i){const a=n("../../composite-xform"),o=n("./f-ext-xform");s.exports=class extends a{constructor(){super(),this.map={"xm:f":this.fExtXform=new o}}get tag(){return"x14:cfvo"}render(c,l){c.openNode(this.tag,{type:l.type}),l.value!==void 0&&this.fExtXform.render(c,l.value),c.closeNode()}createNewModel(c){return{type:c.attributes.type}}onParserClose(c,l){switch(c){case"xm:f":this.model.value=l.model?parseFloat(l.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(n,s,i){const a=n("../../composite-xform"),o=n("./sqref-ext-xform"),c=n("./cf-rule-ext-xform");s.exports=class extends a{constructor(){super(),this.map={"xm:sqref":this.sqRef=new o,"x14:cfRule":this.cfRule=new c}}get tag(){return"x14:conditionalFormatting"}prepare(l,u){l.rules.forEach(d=>{this.cfRule.prepare(d,u)})}render(l,u){u.rules.some(c.isExt)&&(l.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),u.rules.filter(c.isExt).forEach(d=>this.cfRule.render(l,d)),this.sqRef.render(l,u.ref),l.closeNode())}createNewModel(){return{rules:[]}}onParserClose(l,u){switch(l){case"xm:sqref":this.model.ref=u.model;break;case"x14:cfRule":this.model.rules.push(u.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(n,s,i){const a=n("../../composite-xform"),o=n("./cf-rule-ext-xform"),c=n("./conditional-formatting-ext-xform");s.exports=class extends a{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new c}}get tag(){return"x14:conditionalFormattings"}hasContent(l){return l.hasExtContent===void 0&&(l.hasExtContent=l.some(u=>u.rules.some(o.isExt))),l.hasExtContent}prepare(l,u){l.forEach(d=>{this.cfXform.prepare(d,u)})}render(l,u){this.hasContent(u)&&(l.openNode(this.tag),u.forEach(d=>this.cfXform.render(l,d)),l.closeNode())}createNewModel(){return[]}onParserClose(l,u){this.model.push(u.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(n,s,i){const a=n("../../base-xform"),o=n("../../composite-xform"),c=n("../../style/color-xform"),l=n("./cfvo-ext-xform");s.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new l,"x14:borderColor":this.borderColorXform=new c("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new c("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new c("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new c("x14:axisColor")}}static isExt(u){return!u.gradient}get tag(){return"x14:dataBar"}render(u,d){u.openNode(this.tag,{minLength:a.toIntAttribute(d.minLength,0,!0),maxLength:a.toIntAttribute(d.maxLength,100,!0),border:a.toBoolAttribute(d.border,!1),gradient:a.toBoolAttribute(d.gradient,!0),negativeBarColorSameAsPositive:a.toBoolAttribute(d.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:a.toBoolAttribute(d.negativeBarBorderColorSameAsPositive,!0),axisPosition:a.toAttribute(d.axisPosition,"auto"),direction:a.toAttribute(d.direction,"leftToRight")}),d.cfvo.forEach(f=>{this.cfvoXform.render(u,f)}),this.borderColorXform.render(u,d.borderColor),this.negativeBorderColorXform.render(u,d.negativeBorderColor),this.negativeFillColorXform.render(u,d.negativeFillColor),this.axisColorXform.render(u,d.axisColor),u.closeNode()}createNewModel(u){let{attributes:d}=u;return{cfvo:[],minLength:a.toIntValue(d.minLength,0),maxLength:a.toIntValue(d.maxLength,100),border:a.toBoolValue(d.border,!1),gradient:a.toBoolValue(d.gradient,!0),negativeBarColorSameAsPositive:a.toBoolValue(d.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:a.toBoolValue(d.negativeBarBorderColorSameAsPositive,!0),axisPosition:a.toStringValue(d.axisPosition,"auto"),direction:a.toStringValue(d.direction,"leftToRight")}}onParserClose(u,d){const[,f]=u.split(":");switch(f){case"cfvo":this.model.cfvo.push(d.model);break;default:this.model[f]=d.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(n,s,i){const a=n("../../base-xform");s.exports=class extends a{get tag(){return"xm:f"}render(o,c){o.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],81:[function(n,s,i){const a=n("../../base-xform"),o=n("../../composite-xform"),c=n("./cfvo-ext-xform"),l=n("./cf-icon-ext-xform");s.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new c,"x14:cfIcon":this.cfIconXform=new l}}get tag(){return"x14:iconSet"}render(u,d){u.openNode(this.tag,{iconSet:a.toStringAttribute(d.iconSet),reverse:a.toBoolAttribute(d.reverse,!1),showValue:a.toBoolAttribute(d.showValue,!0),custom:a.toBoolAttribute(d.icons,!1)}),d.cfvo.forEach(f=>{this.cfvoXform.render(u,f)}),d.icons&&d.icons.forEach((f,h)=>{f.iconId=h,this.cfIconXform.render(u,f)}),u.closeNode()}createNewModel(u){let{attributes:d}=u;return{cfvo:[],iconSet:a.toStringValue(d.iconSet,"3TrafficLights"),reverse:a.toBoolValue(d.reverse,!1),showValue:a.toBoolValue(d.showValue,!0)}}onParserClose(u,d){const[,f]=u.split(":");switch(f){case"cfvo":this.model.cfvo.push(d.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(d.model);break;default:this.model[f]=d.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(n,s,i){const a=n("../../base-xform");s.exports=class extends a{get tag(){return"xm:sqref"}render(o,c){o.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],83:[function(n,s,i){const a=n("../../base-xform"),o=n("../../composite-xform"),c=n("../../../../doc/range"),l=n("./databar-xform"),u=n("./ext-lst-ref-xform"),d=n("./formula-xform"),f=n("./color-scale-xform"),h=n("./icon-set-xform"),m={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},A=p=>{const{type:b,operator:x}=p;switch(b){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:b};default:return{type:b,operator:x}}};class g extends o{constructor(){super(),this.map={dataBar:this.databarXform=new l,extLst:this.extLstRefXform=new u,formula:this.formulaXform=new d,colorScale:this.colorScaleXform=new f,iconSet:this.iconSetXform=new h}}get tag(){return"cfRule"}static isPrimitive(b){return b.type!=="iconSet"||!b.custom&&!m[b.iconSet]}render(b,x){switch(x.type){case"expression":this.renderExpression(b,x);break;case"cellIs":this.renderCellIs(b,x);break;case"top10":this.renderTop10(b,x);break;case"aboveAverage":this.renderAboveAverage(b,x);break;case"dataBar":this.renderDataBar(b,x);break;case"colorScale":this.renderColorScale(b,x);break;case"iconSet":this.renderIconSet(b,x);break;case"containsText":this.renderText(b,x);break;case"timePeriod":this.renderTimePeriod(b,x)}}renderExpression(b,x){b.openNode(this.tag,{type:"expression",dxfId:x.dxfId,priority:x.priority}),this.formulaXform.render(b,x.formulae[0]),b.closeNode()}renderCellIs(b,x){b.openNode(this.tag,{type:"cellIs",dxfId:x.dxfId,priority:x.priority,operator:x.operator}),x.formulae.forEach(v=>{this.formulaXform.render(b,v)}),b.closeNode()}renderTop10(b,x){b.leafNode(this.tag,{type:"top10",dxfId:x.dxfId,priority:x.priority,percent:a.toBoolAttribute(x.percent,!1),bottom:a.toBoolAttribute(x.bottom,!1),rank:a.toIntValue(x.rank,10,!0)})}renderAboveAverage(b,x){b.leafNode(this.tag,{type:"aboveAverage",dxfId:x.dxfId,priority:x.priority,aboveAverage:a.toBoolAttribute(x.aboveAverage,!0)})}renderDataBar(b,x){b.openNode(this.tag,{type:"dataBar",priority:x.priority}),this.databarXform.render(b,x),this.extLstRefXform.render(b,x),b.closeNode()}renderColorScale(b,x){b.openNode(this.tag,{type:"colorScale",priority:x.priority}),this.colorScaleXform.render(b,x),b.closeNode()}renderIconSet(b,x){g.isPrimitive(x)&&(b.openNode(this.tag,{type:"iconSet",priority:x.priority}),this.iconSetXform.render(b,x),b.closeNode())}renderText(b,x){b.openNode(this.tag,{type:x.operator,dxfId:x.dxfId,priority:x.priority,operator:a.toStringAttribute(x.operator,"containsText")});const v=(y=>{if(y.formulae&&y.formulae[0])return y.formulae[0];const N=new c(y.ref),{tl:P}=N;switch(y.operator){case"containsText":return`NOT(ISERROR(SEARCH("${y.text}",${P})))`;case"containsBlanks":return`LEN(TRIM(${P}))=0`;case"notContainsBlanks":return`LEN(TRIM(${P}))>0`;case"containsErrors":return`ISERROR(${P})`;case"notContainsErrors":return`NOT(ISERROR(${P}))`;default:return}})(x);v&&this.formulaXform.render(b,v),b.closeNode()}renderTimePeriod(b,x){b.openNode(this.tag,{type:"timePeriod",dxfId:x.dxfId,priority:x.priority,timePeriod:x.timePeriod});const v=(y=>{if(y.formulae&&y.formulae[0])return y.formulae[0];const N=new c(y.ref),{tl:P}=N;switch(y.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${P},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${P},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${P},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${P},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${P},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${P},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${P},1)=TODAY()-1`;case"today":return`FLOOR(${P},1)=TODAY()`;case"tomorrow":return`FLOOR(${P},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${P},1)<=6,FLOOR(${P},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${P})=MONTH(EDATE(TODAY(),0-1)),YEAR(${P})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${P})=MONTH(TODAY()),YEAR(${P})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${P})=MONTH(EDATE(TODAY(),0+1)),YEAR(${P})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(x);v&&this.formulaXform.render(b,v),b.closeNode()}createNewModel(b){let{attributes:x}=b;return{...A(x),dxfId:a.toIntValue(x.dxfId),priority:a.toIntValue(x.priority),timePeriod:x.timePeriod,percent:a.toBoolValue(x.percent),bottom:a.toBoolValue(x.bottom),rank:a.toIntValue(x.rank),aboveAverage:a.toBoolValue(x.aboveAverage)}}onParserClose(b,x){switch(b){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,x.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(x.model)}}}s.exports=g},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(n,s,i){const a=n("../../base-xform");s.exports=class extends a{get tag(){return"cfvo"}render(o,c){o.leafNode(this.tag,{type:c.type,val:c.value})}parseOpen(o){this.model={type:o.attributes.type,value:a.toFloatValue(o.attributes.val)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],85:[function(n,s,i){const a=n("../../composite-xform"),o=n("../../style/color-xform"),c=n("./cfvo-xform");s.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new c,color:this.colorXform=new o}}get tag(){return"colorScale"}render(l,u){l.openNode(this.tag),u.cfvo.forEach(d=>{this.cfvoXform.render(l,d)}),u.color.forEach(d=>{this.colorXform.render(l,d)}),l.closeNode()}createNewModel(l){return{cfvo:[],color:[]}}onParserClose(l,u){this.model[l].push(u.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(n,s,i){const a=n("../../composite-xform"),o=n("./cf-rule-xform");s.exports=class extends a{constructor(){super(),this.map={cfRule:new o}}get tag(){return"conditionalFormatting"}render(c,l){l.rules.some(o.isPrimitive)&&(c.openNode(this.tag,{sqref:l.ref}),l.rules.forEach(u=>{o.isPrimitive(u)&&(u.ref=l.ref,this.map.cfRule.render(c,u))}),c.closeNode())}createNewModel(c){let{attributes:l}=c;return{ref:l.sqref,rules:[]}}onParserClose(c,l){this.model.rules.push(l.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(n,s,i){const a=n("../../base-xform"),o=n("./conditional-formatting-xform");s.exports=class extends a{constructor(){super(),this.cfXform=new o}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(c,l){let u=c.reduce((d,f)=>Math.max(d,...f.rules.map(h=>h.priority||0)),1);c.forEach(d=>{d.rules.forEach(f=>{f.priority||(f.priority=u++),f.style&&(f.dxfId=l.styles.addDxfStyle(f.style))})})}render(c,l){l.forEach(u=>{this.cfXform.render(c,u)})}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return!!this.parser&&(!!this.parser.parseClose(c)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(c,l){c.forEach(u=>{u.rules.forEach(d=>{d.dxfId!==void 0&&(d.style=l.styles.getDxfStyle(d.dxfId),delete d.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(n,s,i){const a=n("../../composite-xform"),o=n("../../style/color-xform"),c=n("./cfvo-xform");s.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new c,color:this.colorXform=new o}}get tag(){return"dataBar"}render(l,u){l.openNode(this.tag),u.cfvo.forEach(d=>{this.cfvoXform.render(l,d)}),this.colorXform.render(l,u.color),l.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(l,u){switch(l){case"cfvo":this.model.cfvo.push(u.model);break;case"color":this.model.color=u.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(n,s,i){const a=n("../../base-xform"),o=n("../../composite-xform");class c extends a{get tag(){return"x14:id"}render(d,f){d.leafNode(this.tag,null,f)}parseOpen(){this.model=""}parseText(d){this.model+=d}parseClose(d){return d!==this.tag}}class l extends o{constructor(){super(),this.map={"x14:id":this.idXform=new c}}get tag(){return"ext"}render(d,f){d.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(d,f.x14Id),d.closeNode()}createNewModel(){return{}}onParserClose(d,f){this.model.x14Id=f.model}}s.exports=class extends o{constructor(){super(),this.map={ext:new l}}get tag(){return"extLst"}render(u,d){u.openNode(this.tag),this.map.ext.render(u,d),u.closeNode()}createNewModel(){return{}}onParserClose(u,d){Object.assign(this.model,d.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(n,s,i){const a=n("../../base-xform");s.exports=class extends a{get tag(){return"formula"}render(o,c){o.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],91:[function(n,s,i){const a=n("../../base-xform"),o=n("../../composite-xform"),c=n("./cfvo-xform");s.exports=class extends o{constructor(){super(),this.map={cfvo:this.cfvoXform=new c}}get tag(){return"iconSet"}render(l,u){l.openNode(this.tag,{iconSet:a.toStringAttribute(u.iconSet,"3TrafficLights"),reverse:a.toBoolAttribute(u.reverse,!1),showValue:a.toBoolAttribute(u.showValue,!0)}),u.cfvo.forEach(d=>{this.cfvoXform.render(l,d)}),l.closeNode()}createNewModel(l){let{attributes:u}=l;return{iconSet:a.toStringValue(u.iconSet,"3TrafficLights"),reverse:a.toBoolValue(u.reverse),showValue:a.toBoolValue(u.showValue),cfvo:[]}}onParserClose(l,u){this.model[l].push(u.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(n,s,i){const a=n("../../../utils/utils"),o=n("../base-xform");s.exports=class extends o{get tag(){return"col"}prepare(c,l){const u=l.styles.addStyleModel(c.style||{});u&&(c.styleId=u)}render(c,l){c.openNode("col"),c.addAttribute("min",l.min),c.addAttribute("max",l.max),l.width&&c.addAttribute("width",l.width),l.styleId&&c.addAttribute("style",l.styleId),l.hidden&&c.addAttribute("hidden","1"),l.bestFit&&c.addAttribute("bestFit","1"),l.outlineLevel&&c.addAttribute("outlineLevel",l.outlineLevel),l.collapsed&&c.addAttribute("collapsed","1"),c.addAttribute("customWidth","1"),c.closeNode()}parseOpen(c){if(c.name==="col"){const l=this.model={min:parseInt(c.attributes.min||"0",10),max:parseInt(c.attributes.max||"0",10),width:c.attributes.width===void 0?void 0:parseFloat(c.attributes.width||"0")};return c.attributes.style&&(l.styleId=parseInt(c.attributes.style,10)),a.parseBoolean(c.attributes.hidden)&&(l.hidden=!0),a.parseBoolean(c.attributes.bestFit)&&(l.bestFit=!0),c.attributes.outlineLevel&&(l.outlineLevel=parseInt(c.attributes.outlineLevel,10)),a.parseBoolean(c.attributes.collapsed)&&(l.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(c,l){c.styleId&&(c.style=l.styles.getStyleModel(c.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(n,s,i){const a=n("../../../utils/under-dash"),o=n("../../../utils/utils"),c=n("../../../utils/col-cache"),l=n("../base-xform"),u=n("../../../doc/range");function d(h,m,A,g){const p=m[A];p!==void 0?h[A]=p:g!==void 0&&(h[A]=g)}function f(h,m,A,g){const p=m[A];p!==void 0&&(h[A]=o.parseBoolean(p))}s.exports=class extends l{get tag(){return"dataValidations"}render(h,m){const A=function(g){const p=a.map(g,(v,y)=>({address:y,dataValidation:v,marked:!1})).sort((v,y)=>a.strcmp(v.address,y.address)),b=a.keyBy(p,"address"),x=(v,y,N)=>{for(let P=0;P<y;P++){const M=c.encodeAddress(v.row+P,N);if(!g[M]||!a.isEqual(g[v.address],g[M]))return!1}return!0};return p.map(v=>{if(!v.marked){const y=c.decodeEx(v.address);if(y.dimensions)return b[y.dimensions].marked=!0,{...v.dataValidation,sqref:v.address};let N=1,P=c.encodeAddress(y.row+N,y.col);for(;g[P]&&a.isEqual(v.dataValidation,g[P]);)N++,P=c.encodeAddress(y.row+N,y.col);let M=1;for(;x(y,N,y.col+M);)M++;for(let k=0;k<N;k++)for(let D=0;D<M;D++)P=c.encodeAddress(y.row+k,y.col+D),b[P].marked=!0;if(N>1||M>1){const k=y.row+(N-1),D=y.col+(M-1);return{...v.dataValidation,sqref:`${v.address}:${c.encodeAddress(k,D)}`}}return{...v.dataValidation,sqref:v.address}}return null}).filter(Boolean)}(m);A.length&&(h.openNode("dataValidations",{count:A.length}),A.forEach(g=>{h.openNode("dataValidation"),g.type!=="any"&&(h.addAttribute("type",g.type),g.operator&&g.type!=="list"&&g.operator!=="between"&&h.addAttribute("operator",g.operator),g.allowBlank&&h.addAttribute("allowBlank","1")),g.showInputMessage&&h.addAttribute("showInputMessage","1"),g.promptTitle&&h.addAttribute("promptTitle",g.promptTitle),g.prompt&&h.addAttribute("prompt",g.prompt),g.showErrorMessage&&h.addAttribute("showErrorMessage","1"),g.errorStyle&&h.addAttribute("errorStyle",g.errorStyle),g.errorTitle&&h.addAttribute("errorTitle",g.errorTitle),g.error&&h.addAttribute("error",g.error),h.addAttribute("sqref",g.sqref),(g.formulae||[]).forEach((p,b)=>{h.openNode("formula"+(b+1)),g.type==="date"?h.writeText(o.dateToExcel(new Date(p))):h.writeText(p),h.closeNode()}),h.closeNode()}),h.closeNode())}parseOpen(h){switch(h.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=h.attributes.sqref;const m={type:h.attributes.type||"any",formulae:[]};switch(h.attributes.type&&f(m,h.attributes,"allowBlank"),f(m,h.attributes,"showInputMessage"),f(m,h.attributes,"showErrorMessage"),m.type){case"any":case"list":case"custom":break;default:d(m,h.attributes,"operator","between")}return d(m,h.attributes,"promptTitle"),d(m,h.attributes,"prompt"),d(m,h.attributes,"errorStyle"),d(m,h.attributes,"errorTitle"),d(m,h.attributes,"error"),this._dataValidation=m,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(h){this._formula&&this._formula.push(h)}parseClose(h){switch(h){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(m=>{m.includes(":")?new u(m).forEachAddress(A=>{this.model[A]=this._dataValidation}):this.model[m]=this._dataValidation}),!0;case"formula1":case"formula2":{let m=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":m=parseInt(m,10);break;case"decimal":m=parseFloat(m);break;case"date":m=o.excelToDate(parseFloat(m))}return this._dataValidation.formulae.push(m),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{get tag(){return"dimension"}render(o,c){c&&o.leafNode("dimension",{ref:c})}parseOpen(o){return o.name==="dimension"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{get tag(){return"drawing"}render(o,c){c&&o.leafNode(this.tag,{"r:id":c.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(n,s,i){const a=n("../composite-xform"),o=n("./cf-ext/conditional-formattings-ext-xform");class c extends a{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new o}}get tag(){return"ext"}hasContent(u){return this.conditionalFormattings.hasContent(u.conditionalFormattings)}prepare(u,d){this.conditionalFormattings.prepare(u.conditionalFormattings,d)}render(u,d){u.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(u,d.conditionalFormattings),u.closeNode()}createNewModel(){return{}}onParserClose(u,d){this.model[u]=d.model}}s.exports=class extends a{constructor(){super(),this.map={ext:this.ext=new c}}get tag(){return"extLst"}prepare(l,u){this.ext.prepare(l,u)}hasContent(l){return this.ext.hasContent(l)}render(l,u){this.hasContent(u)&&(l.openNode("extLst"),this.ext.render(l,u),l.closeNode())}createNewModel(){return{}}onParserClose(l,u){Object.assign(this.model,u.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{get tag(){return"headerFooter"}render(o,c){if(c){o.addRollback();let l=!1;o.openNode("headerFooter"),c.differentFirst&&(o.addAttribute("differentFirst","1"),l=!0),c.differentOddEven&&(o.addAttribute("differentOddEven","1"),l=!0),c.oddHeader&&typeof c.oddHeader=="string"&&(o.leafNode("oddHeader",null,c.oddHeader),l=!0),c.oddFooter&&typeof c.oddFooter=="string"&&(o.leafNode("oddFooter",null,c.oddFooter),l=!0),c.evenHeader&&typeof c.evenHeader=="string"&&(o.leafNode("evenHeader",null,c.evenHeader),l=!0),c.evenFooter&&typeof c.evenFooter=="string"&&(o.leafNode("evenFooter",null,c.evenFooter),l=!0),c.firstHeader&&typeof c.firstHeader=="string"&&(o.leafNode("firstHeader",null,c.firstHeader),l=!0),c.firstFooter&&typeof c.firstFooter=="string"&&(o.leafNode("firstFooter",null,c.firstFooter),l=!0),l?(o.closeNode(),o.commit()):o.rollback()}}parseOpen(o){switch(o.name){case"headerFooter":return this.model={},o.attributes.differentFirst&&(this.model.differentFirst=parseInt(o.attributes.differentFirst,0)===1),o.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(o.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(o){switch(this.currentNode){case"oddHeader":this.model.oddHeader=o;break;case"oddFooter":this.model.oddFooter=o;break;case"evenHeader":this.model.evenHeader=o;break;case"evenFooter":this.model.evenFooter=o;break;case"firstHeader":this.model.firstHeader=o;break;case"firstFooter":this.model.firstFooter=o}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{get tag(){return"hyperlink"}render(o,c){this.isInternalLink(c)?o.leafNode("hyperlink",{ref:c.address,"r:id":c.rId,tooltip:c.tooltip,location:c.target}):o.leafNode("hyperlink",{ref:c.address,"r:id":c.rId,tooltip:c.tooltip})}parseOpen(o){return o.name==="hyperlink"&&(this.model={address:o.attributes.ref,rId:o.attributes["r:id"],tooltip:o.attributes.tooltip},o.attributes.location&&(this.model.target=o.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(o){return o.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(o.target)}}},{"../base-xform":32}],99:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{get tag(){return"mergeCell"}render(o,c){o.leafNode("mergeCell",{ref:c})}parseOpen(o){return o.name==="mergeCell"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(n,s,i){const a=n("../../../utils/under-dash"),o=n("../../../doc/range"),c=n("../../../utils/col-cache"),l=n("../../../doc/enums");s.exports=class{constructor(){this.merges={}}add(u){if(this.merges[u.master])this.merges[u.master].expandToAddress(u.address);else{const d=`${u.master}:${u.address}`;this.merges[u.master]=new o(d)}}get mergeCells(){return a.map(this.merges,u=>u.range)}reconcile(u,d){a.each(u,f=>{const h=c.decode(f);for(let m=h.top;m<=h.bottom;m++){const A=d[m-1];for(let g=h.left;g<=h.right;g++){const p=A.cells[g-1];p?p.type===l.ValueType.Merge&&(p.master=h.tl):A.cells[g]={type:l.ValueType.Null,address:c.encodeAddress(m,g)}}}})}getMasterAddress(u){const d=this.hash[u];return d&&d.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(n,s,i){const a=n("../base-xform"),o=c=>c!==void 0;s.exports=class extends a{get tag(){return"outlinePr"}render(c,l){return!(!l||!o(l.summaryBelow)&&!o(l.summaryRight))&&(c.leafNode(this.tag,{summaryBelow:o(l.summaryBelow)?Number(l.summaryBelow):void 0,summaryRight:o(l.summaryRight)?Number(l.summaryRight):void 0}),!0)}parseOpen(c){return c.name===this.tag&&(this.model={summaryBelow:o(c.attributes.summaryBelow)?!!Number(c.attributes.summaryBelow):void 0,summaryRight:o(c.attributes.summaryRight)?!!Number(c.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{get tag(){return"brk"}render(o,c){o.leafNode("brk",c)}parseOpen(o){return o.name==="brk"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(n,s,i){const a=n("../../../utils/under-dash"),o=n("../base-xform");s.exports=class extends o{get tag(){return"pageMargins"}render(c,l){if(l){const u={left:l.left,right:l.right,top:l.top,bottom:l.bottom,header:l.header,footer:l.footer};a.some(u,d=>d!==void 0)&&c.leafNode(this.tag,u)}}parseOpen(c){switch(c.name){case this.tag:return this.model={left:parseFloat(c.attributes.left||.7),right:parseFloat(c.attributes.right||.7),top:parseFloat(c.attributes.top||.75),bottom:parseFloat(c.attributes.bottom||.75),header:parseFloat(c.attributes.header||.3),footer:parseFloat(c.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{get tag(){return"pageSetUpPr"}render(o,c){return!(!c||!c.fitToPage)&&(o.leafNode(this.tag,{fitToPage:c.fitToPage?"1":void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={fitToPage:o.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(n,s,i){const a=n("../../../utils/under-dash"),o=n("../base-xform");function c(f){return f?"1":void 0}function l(f){switch(f){case"overThenDown":return f;default:return}}function u(f){switch(f){case"atEnd":case"asDisplyed":return f;default:return}}function d(f){switch(f){case"dash":case"blank":case"NA":return f;default:return}}s.exports=class extends o{get tag(){return"pageSetup"}render(f,h){if(h){const m={paperSize:h.paperSize,orientation:h.orientation,horizontalDpi:h.horizontalDpi,verticalDpi:h.verticalDpi,pageOrder:l(h.pageOrder),blackAndWhite:c(h.blackAndWhite),draft:c(h.draft),cellComments:u(h.cellComments),errors:d(h.errors),scale:h.scale,fitToWidth:h.fitToWidth,fitToHeight:h.fitToHeight,firstPageNumber:h.firstPageNumber,useFirstPageNumber:c(h.firstPageNumber),usePrinterDefaults:c(h.usePrinterDefaults),copies:h.copies};a.some(m,A=>A!==void 0)&&f.leafNode(this.tag,m)}}parseOpen(f){switch(f.name){case this.tag:return this.model={paperSize:(h=f.attributes.paperSize,h!==void 0?parseInt(h,10):void 0),orientation:f.attributes.orientation||"portrait",horizontalDpi:parseInt(f.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(f.attributes.verticalDpi||"4294967295",10),pageOrder:f.attributes.pageOrder||"downThenOver",blackAndWhite:f.attributes.blackAndWhite==="1",draft:f.attributes.draft==="1",cellComments:f.attributes.cellComments||"None",errors:f.attributes.errors||"displayed",scale:parseInt(f.attributes.scale||"100",10),fitToWidth:parseInt(f.attributes.fitToWidth||"1",10),fitToHeight:parseInt(f.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(f.attributes.firstPageNumber||"1",10),useFirstPageNumber:f.attributes.useFirstPageNumber==="1",usePrinterDefaults:f.attributes.usePrinterDefaults==="1",copies:parseInt(f.attributes.copies||"1",10)},!0;default:return!1}var h}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{get tag(){return"picture"}render(o,c){c&&o.leafNode(this.tag,{"r:id":c.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(n,s,i){const a=n("../../../utils/under-dash"),o=n("../base-xform");function c(l){return l?"1":void 0}s.exports=class extends o{get tag(){return"printOptions"}render(l,u){if(u){const d={headings:c(u.showRowColHeaders),gridLines:c(u.showGridLines),horizontalCentered:c(u.horizontalCentered),verticalCentered:c(u.verticalCentered)};a.some(d,f=>f!==void 0)&&l.leafNode(this.tag,d)}}parseOpen(l){switch(l.name){case this.tag:return this.model={showRowColHeaders:l.attributes.headings==="1",showGridLines:l.attributes.gridLines==="1",horizontalCentered:l.attributes.horizontalCentered==="1",verticalCentered:l.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(n,s,i){const a=n("./page-breaks-xform"),o=n("../list-xform");s.exports=class extends o{constructor(){super({tag:"rowBreaks",count:!0,childXform:new a})}render(c,l){if(l&&l.length){c.openNode(this.tag,this.$),this.count&&(c.addAttribute(this.$count,l.length),c.addAttribute("manualBreakCount",l.length));const{childXform:u}=this;l.forEach(d=>{u.render(c,d)}),c.closeNode()}else this.empty&&c.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(n,s,i){const a=n("../base-xform"),o=n("../../../utils/utils"),c=n("./cell-xform");s.exports=class extends a{constructor(l){super(),this.maxItems=l&&l.maxItems,this.map={c:new c}}get tag(){return"row"}prepare(l,u){const d=u.styles.addStyleModel(l.style);d&&(l.styleId=d);const f=this.map.c;l.cells.forEach(h=>{f.prepare(h,u)})}render(l,u,d){l.openNode("row"),l.addAttribute("r",u.number),u.height&&(l.addAttribute("ht",u.height),l.addAttribute("customHeight","1")),u.hidden&&l.addAttribute("hidden","1"),u.min>0&&u.max>0&&u.min<=u.max&&l.addAttribute("spans",`${u.min}:${u.max}`),u.styleId&&(l.addAttribute("s",u.styleId),l.addAttribute("customFormat","1")),l.addAttribute("x14ac:dyDescent","0.25"),u.outlineLevel&&l.addAttribute("outlineLevel",u.outlineLevel),u.collapsed&&l.addAttribute("collapsed","1");const f=this.map.c;u.cells.forEach(h=>{f.render(l,h,d)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;if(l.name==="row"){this.numRowsSeen+=1;const u=l.attributes.spans?l.attributes.spans.split(":").map(f=>parseInt(f,10)):[void 0,void 0],d=this.model={number:parseInt(l.attributes.r,10),min:u[0],max:u[1],cells:[]};return l.attributes.s&&(d.styleId=parseInt(l.attributes.s,10)),o.parseBoolean(l.attributes.hidden)&&(d.hidden=!0),o.parseBoolean(l.attributes.bestFit)&&(d.bestFit=!0),l.attributes.ht&&(d.height=parseFloat(l.attributes.ht)),l.attributes.outlineLevel&&(d.outlineLevel=parseInt(l.attributes.outlineLevel,10)),o.parseBoolean(l.attributes.collapsed)&&(d.collapsed=!0),!0}return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(l,u){l.style=l.styleId?u.styles.getStyleModel(l.styleId):{},l.styleId!==void 0&&(l.styleId=void 0);const d=this.map.c;l.cells.forEach(f=>{d.reconcile(f,u)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(n,s,i){const a=n("../../../utils/under-dash"),o=n("../base-xform");s.exports=class extends o{get tag(){return"sheetFormatPr"}render(c,l){if(l){const u={defaultRowHeight:l.defaultRowHeight,outlineLevelRow:l.outlineLevelRow,outlineLevelCol:l.outlineLevelCol,"x14ac:dyDescent":l.dyDescent};l.defaultColWidth&&(u.defaultColWidth=l.defaultColWidth),l.defaultRowHeight&&l.defaultRowHeight===15||(u.customHeight="1"),a.some(u,d=>d!==void 0)&&c.leafNode("sheetFormatPr",u)}}parseOpen(c){return c.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(c.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(c.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(c.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(c.attributes.outlineLevelCol||"0",10)},c.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(c.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(n,s,i){const a=n("../base-xform"),o=n("../style/color-xform"),c=n("./page-setup-properties-xform"),l=n("./outline-properties-xform");s.exports=class extends a{constructor(){super(),this.map={tabColor:new o("tabColor"),pageSetUpPr:new c,outlinePr:new l}}get tag(){return"sheetPr"}render(u,d){if(d){u.addRollback(),u.openNode("sheetPr");let f=!1;f=this.map.tabColor.render(u,d.tabColor)||f,f=this.map.pageSetUpPr.render(u,d.pageSetup)||f,f=this.map.outlinePr.render(u,d.outlineProperties)||f,f?(u.closeNode(),u.commit()):u.rollback()}}parseOpen(u){return this.parser?(this.parser.parseOpen(u),!0):u.name===this.tag?(this.reset(),!0):!!this.map[u.name]&&(this.parser=this.map[u.name],this.parser.parseOpen(u),!0)}parseText(u){return!!this.parser&&(this.parser.parseText(u),!0)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(n,s,i){const a=n("../../../utils/under-dash"),o=n("../base-xform");function c(u,d){return u?d:void 0}function l(u,d){return u===d||void 0}s.exports=class extends o{get tag(){return"sheetProtection"}render(u,d){if(d){const f={sheet:c(d.sheet,"1"),selectLockedCells:d.selectLockedCells===!1?"1":void 0,selectUnlockedCells:d.selectUnlockedCells===!1?"1":void 0,formatCells:c(d.formatCells,"0"),formatColumns:c(d.formatColumns,"0"),formatRows:c(d.formatRows,"0"),insertColumns:c(d.insertColumns,"0"),insertRows:c(d.insertRows,"0"),insertHyperlinks:c(d.insertHyperlinks,"0"),deleteColumns:c(d.deleteColumns,"0"),deleteRows:c(d.deleteRows,"0"),sort:c(d.sort,"0"),autoFilter:c(d.autoFilter,"0"),pivotTables:c(d.pivotTables,"0")};d.sheet&&(f.algorithmName=d.algorithmName,f.hashValue=d.hashValue,f.saltValue=d.saltValue,f.spinCount=d.spinCount,f.objects=c(d.objects===!1,"1"),f.scenarios=c(d.scenarios===!1,"1")),a.some(f,h=>h!==void 0)&&u.leafNode(this.tag,f)}}parseOpen(u){switch(u.name){case this.tag:return this.model={sheet:l(u.attributes.sheet,"1"),objects:u.attributes.objects!=="1"&&void 0,scenarios:u.attributes.scenarios!=="1"&&void 0,selectLockedCells:u.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:u.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:l(u.attributes.formatCells,"0"),formatColumns:l(u.attributes.formatColumns,"0"),formatRows:l(u.attributes.formatRows,"0"),insertColumns:l(u.attributes.insertColumns,"0"),insertRows:l(u.attributes.insertRows,"0"),insertHyperlinks:l(u.attributes.insertHyperlinks,"0"),deleteColumns:l(u.attributes.deleteColumns,"0"),deleteRows:l(u.attributes.deleteRows,"0"),sort:l(u.attributes.sort,"0"),autoFilter:l(u.attributes.autoFilter,"0"),pivotTables:l(u.attributes.pivotTables,"0")},u.attributes.algorithmName&&(this.model.algorithmName=u.attributes.algorithmName,this.model.hashValue=u.attributes.hashValue,this.model.saltValue=u.attributes.saltValue,this.model.spinCount=parseInt(u.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(n,s,i){const a=n("../../../utils/col-cache"),o=n("../base-xform"),c={frozen:"frozen",frozenSplit:"frozen",split:"split"};s.exports=class extends o{get tag(){return"sheetView"}prepare(l){switch(l.state){case"frozen":case"split":break;default:l.state="normal"}}render(l,u){l.openNode("sheetView",{workbookViewId:u.workbookViewId||0});const d=function(g,p,b){b&&l.addAttribute(g,p)};let f,h,m,A;switch(d("rightToLeft","1",u.rightToLeft===!0),d("tabSelected","1",u.tabSelected),d("showRuler","0",u.showRuler===!1),d("showRowColHeaders","0",u.showRowColHeaders===!1),d("showGridLines","0",u.showGridLines===!1),d("zoomScale",u.zoomScale,u.zoomScale),d("zoomScaleNormal",u.zoomScaleNormal,u.zoomScaleNormal),d("view",u.style,u.style),u.state){case"frozen":h=u.xSplit||0,m=u.ySplit||0,f=u.topLeftCell||a.getAddress(m+1,h+1).address,A=(u.xSplit&&u.ySplit?"bottomRight":u.xSplit&&"topRight")||"bottomLeft",l.leafNode("pane",{xSplit:u.xSplit||void 0,ySplit:u.ySplit||void 0,topLeftCell:f,activePane:A,state:"frozen"}),l.leafNode("selection",{pane:A,activeCell:u.activeCell,sqref:u.activeCell});break;case"split":u.activePane==="topLeft"&&(u.activePane=void 0),l.leafNode("pane",{xSplit:u.xSplit||void 0,ySplit:u.ySplit||void 0,topLeftCell:u.topLeftCell,activePane:u.activePane}),l.leafNode("selection",{pane:u.activePane,activeCell:u.activeCell,sqref:u.activeCell});break;case"normal":u.activeCell&&l.leafNode("selection",{activeCell:u.activeCell,sqref:u.activeCell})}l.closeNode()}parseOpen(l){switch(l.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(l.attributes.workbookViewId,10),rightToLeft:l.attributes.rightToLeft==="1",tabSelected:l.attributes.tabSelected==="1",showRuler:l.attributes.showRuler!=="0",showRowColHeaders:l.attributes.showRowColHeaders!=="0",showGridLines:l.attributes.showGridLines!=="0",zoomScale:parseInt(l.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(l.attributes.zoomScaleNormal||"100",10),style:l.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(l.attributes.xSplit||"0",10),ySplit:parseInt(l.attributes.ySplit||"0",10),topLeftCell:l.attributes.topLeftCell,activePane:l.attributes.activePane||"topLeft",state:l.attributes.state},!0;case"selection":{const u=l.attributes.pane||"topLeft";return this.selections[u]={pane:u,activeCell:l.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(l){let u,d;switch(l){case"sheetView":return this.sheetView&&this.pane?(u=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:c[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(u.activePane=this.pane.activePane),d=this.selections[this.pane.activePane],d&&d.activeCell&&(u.activeCell=d.activeCell),this.sheetView.style&&(u.style=this.sheetView.style)):(u=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},d=this.selections.topLeft,d&&d.activeCell&&(u.activeCell=d.activeCell),this.sheetView.style&&(u.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{get tag(){return"tablePart"}render(o,c){c&&o.leafNode(this.tag,{"r:id":c.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(n,s,i){const a=n("../../../utils/under-dash"),o=n("../../../utils/col-cache"),c=n("../../../utils/xml-stream"),l=n("../../rel-type"),u=n("./merges"),d=n("../base-xform"),f=n("../list-xform"),h=n("./row-xform"),m=n("./col-xform"),A=n("./dimension-xform"),g=n("./hyperlink-xform"),p=n("./merge-cell-xform"),b=n("./data-validations-xform"),x=n("./sheet-properties-xform"),v=n("./sheet-format-properties-xform"),y=n("./sheet-view-xform"),N=n("./sheet-protection-xform"),P=n("./page-margins-xform"),M=n("./page-setup-xform"),k=n("./print-options-xform"),D=n("./auto-filter-xform"),O=n("./picture-xform"),L=n("./drawing-xform"),F=n("./table-part-xform"),_=n("./row-breaks-xform"),E=n("./header-footer-xform"),T=n("./cf/conditional-formattings-xform"),w=n("./ext-lst-xform"),C=(S,I)=>{if(!I||!I.length)return S;if(!S||!S.length)return I;const R={},U={};return S.forEach(z=>{R[z.ref]=z,z.rules.forEach(V=>{const{x14Id:X}=V;X&&(U[X]=V)})}),I.forEach(z=>{z.rules.forEach(V=>{const X=U[V.x14Id];X?(($,W)=>{Object.keys(W).forEach(H=>{const Q=$[H],G=W[H];Q===void 0&&G!==void 0&&($[H]=G)})})(X,V):R[z.ref]?R[z.ref].rules.push(V):S.push({ref:z.ref,rules:[V]})})}),S};class j extends d{constructor(I){super();const{maxRows:R,maxCols:U,ignoreNodes:z}=I||{};this.ignoreNodes=z||[],this.map={sheetPr:new x,dimension:new A,sheetViews:new f({tag:"sheetViews",count:!1,childXform:new y}),sheetFormatPr:new v,cols:new f({tag:"cols",count:!1,childXform:new m}),sheetData:new f({tag:"sheetData",count:!1,empty:!0,childXform:new h({maxItems:U}),maxItems:R}),autoFilter:new D,mergeCells:new f({tag:"mergeCells",count:!0,childXform:new p}),rowBreaks:new _,hyperlinks:new f({tag:"hyperlinks",count:!1,childXform:new g}),pageMargins:new P,dataValidations:new b,pageSetup:new M,headerFooter:new E,printOptions:new k,picture:new O,drawing:new L,sheetProtection:new N,tableParts:new f({tag:"tableParts",count:!0,childXform:new F}),conditionalFormatting:new T,extLst:new w}}prepare(I,R){R.merges=new u,I.hyperlinks=R.hyperlinks=[],I.comments=R.comments=[],R.formulae={},R.siFormulae=0,this.map.cols.prepare(I.cols,R),this.map.sheetData.prepare(I.rows,R),this.map.conditionalFormatting.prepare(I.conditionalFormattings,R),I.mergeCells=R.merges.mergeCells;const U=I.rels=[];function z($){return"rId"+($.length+1)}if(I.hyperlinks.forEach($=>{const W=z(U);$.rId=W,U.push({Id:W,Type:l.Hyperlink,Target:$.target,TargetMode:"External"})}),I.comments.length>0){const $={Id:z(U),Type:l.Comments,Target:`../comments${I.id}.xml`};U.push($);const W={Id:z(U),Type:l.VmlDrawing,Target:`../drawings/vmlDrawing${I.id}.vml`};U.push(W),I.comments.forEach(H=>{H.refAddress=o.decodeAddress(H.ref)}),R.commentRefs.push({commentName:"comments"+I.id,vmlDrawing:"vmlDrawing"+I.id})}const V=[];let X;I.media.forEach($=>{if($.type==="background"){const W=z(U);X=R.media[$.imageId],U.push({Id:W,Type:l.Image,Target:`../media/${X.name}.${X.extension}`}),I.background={rId:W},I.image=R.media[$.imageId]}else if($.type==="image"){let{drawing:W}=I;X=R.media[$.imageId],W||(W=I.drawing={rId:z(U),name:"drawing"+ ++R.drawingsCount,anchors:[],rels:[]},R.drawings.push(W),U.push({Id:W.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${W.name}.xml`}));let H=this.preImageId===$.imageId?V[$.imageId]:V[W.rels.length];H||(H=z(W.rels),V[W.rels.length]=H,W.rels.push({Id:H,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${X.name}.${X.extension}`}));const Q={picture:{rId:H},range:$.range};if($.hyperlinks&&$.hyperlinks.hyperlink){const G=z(W.rels);V[W.rels.length]=G,Q.picture.hyperlinks={tooltip:$.hyperlinks.tooltip,rId:G},W.rels.push({Id:G,Type:l.Hyperlink,Target:$.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=$.imageId,W.anchors.push(Q)}}),I.tables.forEach($=>{const W=z(U);$.rId=W,U.push({Id:W,Type:l.Table,Target:"../tables/"+$.target}),$.columns.forEach(H=>{const{style:Q}=H;Q&&(H.dxfId=R.styles.addDxfStyle(Q))})}),this.map.extLst.prepare(I,R)}render(I,R){I.openXml(c.StdDocAttributes),I.openNode("worksheet",j.WORKSHEET_ATTRIBUTES);const U=R.properties?{defaultRowHeight:R.properties.defaultRowHeight,dyDescent:R.properties.dyDescent,outlineLevelCol:R.properties.outlineLevelCol,outlineLevelRow:R.properties.outlineLevelRow}:void 0;R.properties&&R.properties.defaultColWidth&&(U.defaultColWidth=R.properties.defaultColWidth);const z={outlineProperties:R.properties&&R.properties.outlineProperties,tabColor:R.properties&&R.properties.tabColor,pageSetup:R.pageSetup&&R.pageSetup.fitToPage?{fitToPage:R.pageSetup.fitToPage}:void 0},V=R.pageSetup&&R.pageSetup.margins,X={showRowColHeaders:R.pageSetup&&R.pageSetup.showRowColHeaders,showGridLines:R.pageSetup&&R.pageSetup.showGridLines,horizontalCentered:R.pageSetup&&R.pageSetup.horizontalCentered,verticalCentered:R.pageSetup&&R.pageSetup.verticalCentered},$=R.sheetProtection;this.map.sheetPr.render(I,z),this.map.dimension.render(I,R.dimensions),this.map.sheetViews.render(I,R.views),this.map.sheetFormatPr.render(I,U),this.map.cols.render(I,R.cols),this.map.sheetData.render(I,R.rows),this.map.sheetProtection.render(I,$),this.map.autoFilter.render(I,R.autoFilter),this.map.mergeCells.render(I,R.mergeCells),this.map.conditionalFormatting.render(I,R.conditionalFormattings),this.map.dataValidations.render(I,R.dataValidations),this.map.hyperlinks.render(I,R.hyperlinks),this.map.printOptions.render(I,X),this.map.pageMargins.render(I,V),this.map.pageSetup.render(I,R.pageSetup),this.map.headerFooter.render(I,R.headerFooter),this.map.rowBreaks.render(I,R.rowBreaks),this.map.drawing.render(I,R.drawing),this.map.picture.render(I,R.background),this.map.tableParts.render(I,R.tables),this.map.extLst.render(I,R),R.rels&&R.rels.forEach(W=>{W.Type===l.VmlDrawing&&I.leafNode("legacyDrawing",{"r:id":W.Id})}),I.closeNode()}parseOpen(I){return this.parser?(this.parser.parseOpen(I),!0):I.name==="worksheet"?(a.each(this.map,R=>{R.reset()}),!0):(this.map[I.name]&&!this.ignoreNodes.includes(I.name)&&(this.parser=this.map[I.name],this.parser.parseOpen(I)),!0)}parseText(I){this.parser&&this.parser.parseText(I)}parseClose(I){if(this.parser)return this.parser.parseClose(I)||(this.parser=void 0),!0;switch(I){case"worksheet":{const R=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(R.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(R.outlineProperties=this.map.sheetPr.model.outlineProperties);const U={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},z=Object.assign(U,this.map.pageSetup.model,this.map.printOptions.model),V=C(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:R,views:this.map.sheetViews.model,pageSetup:z,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:V},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(I,R){const U=(I.relationships||[]).reduce((V,X)=>{if(V[X.Id]=X,X.Type===l.Comments&&(I.comments=R.comments[X.Target].comments),X.Type===l.VmlDrawing&&I.comments&&I.comments.length){const $=R.vmlDrawings[X.Target].comments;I.comments.forEach((W,H)=>{W.note=Object.assign({},W.note,$[H])})}return V},{});if(R.commentsMap=(I.comments||[]).reduce((V,X)=>(X.ref&&(V[X.ref]=X),V),{}),R.hyperlinkMap=(I.hyperlinks||[]).reduce((V,X)=>(X.rId&&(V[X.address]=U[X.rId].Target),V),{}),R.formulae={},I.rows=I.rows&&I.rows.filter(Boolean)||[],I.rows.forEach(V=>{V.cells=V.cells&&V.cells.filter(Boolean)||[]}),this.map.cols.reconcile(I.cols,R),this.map.sheetData.reconcile(I.rows,R),this.map.conditionalFormatting.reconcile(I.conditionalFormattings,R),I.media=[],I.drawing){const V=U[I.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(V){const X=V[1];R.drawings[X].anchors.forEach($=>{if($.medium){const W={type:"image",imageId:$.medium.index,range:$.range,hyperlinks:$.picture.hyperlinks};I.media.push(W)}})}}const z=I.background&&U[I.background.rId];if(z){const V=z.Target.split("/media/")[1],X=R.mediaIndex&&R.mediaIndex[V];X!==void 0&&I.media.push({type:"background",imageId:X})}I.tables=(I.tables||[]).map(V=>{const X=U[V.rId];return R.tables[X.Target]}),delete I.relationships,delete I.hyperlinks,delete I.comments}}j.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},s.exports=j},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{constructor(o){super(),this.tag=o.tag,this.attr=o.attr}render(o,c){c&&(o.openNode(this.tag),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this._format=o.format||function(c){try{return Number.isNaN(c.getTime())?"":c.toISOString()}catch{return""}},this._parse=o.parse||function(c){return new Date(c)}}render(o,c){c&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,this._format(c)):o.writeText(this._format(c)),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=this._parse(o.attributes[this.attr]):this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this.zero=o.zero}render(o,c){(c||this.zero)&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,c):o.writeText(c),o.closeNode())}parseOpen(o){return o.name===this.tag&&(this.attr?this.model=parseInt(o.attributes[this.attr],10):this.text=[],!0)}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs}render(o,c){c!==void 0&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,c):o.writeText(c),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=o.attributes[this.attr]:this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(n,s,i){const a=n("./base-xform"),o=n("../../utils/xml-stream");s.exports=class extends a{constructor(c){super(),this._model=c}render(c){if(!this._xml){const l=new o;(function u(d,f){d.openNode(f.tag,f.$),f.c&&f.c.forEach(h=>{u(d,h)}),f.t&&d.writeText(f.t),d.closeNode()})(l,this._model),this._xml=l.xml}c.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(c){switch(c){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(n,s,i){const a=n("./text-xform"),o=n("./rich-text-xform"),c=n("../base-xform");s.exports=class extends c{constructor(){super(),this.map={r:new o,t:new a}}get tag(){return"rPh"}render(l,u){if(l.openNode(this.tag,{sb:u.sb||0,eb:u.eb||0}),u&&u.hasOwnProperty("richText")&&u.richText){const{r:d}=this.map;u.richText.forEach(f=>{d.render(l,f)})}else u&&this.map.t.render(l,u.text);l.closeNode()}parseOpen(l){const{name:u}=l;return this.parser?(this.parser.parseOpen(l),!0):u===this.tag?(this.model={sb:parseInt(l.attributes.sb,10),eb:parseInt(l.attributes.eb,10)},!0):(this.parser=this.map[u],!!this.parser&&(this.parser.parseOpen(l),!0))}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){switch(l){case"r":{let u=this.model.richText;u||(u=this.model.richText=[]),u.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(n,s,i){const a=n("./text-xform"),o=n("../style/font-xform"),c=n("../base-xform");class l extends c{constructor(d){super(),this.model=d}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new a)}get fontXform(){return this._fontXform||(this._fontXform=new o(l.FONT_OPTIONS))}render(d,f){f=f||this.model,d.openNode("r"),f.font&&this.fontXform.render(d,f.font),this.textXform.render(d,f.text),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(d),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){switch(d){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(d),!0}}}l.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},s.exports=l},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(n,s,i){const a=n("./text-xform"),o=n("./rich-text-xform"),c=n("./phonetic-text-xform"),l=n("../base-xform");s.exports=class extends l{constructor(u){super(),this.model=u,this.map={r:new o,t:new a,rPh:new c}}get tag(){return"si"}render(u,d){u.openNode(this.tag),d&&d.hasOwnProperty("richText")&&d.richText?d.richText.length?d.richText.forEach(f=>{this.map.r.render(u,f)}):this.map.t.render(u,""):d!=null&&this.map.t.render(u,d),u.closeNode()}parseOpen(u){const{name:d}=u;return this.parser?(this.parser.parseOpen(u),!0):d===this.tag?(this.model={},!0):(this.parser=this.map[d],!!this.parser&&(this.parser.parseOpen(u),!0))}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser){if(!this.parser.parseClose(u)){switch(u){case"r":{let d=this.model.richText;d||(d=this.model.richText=[]),d.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(n,s,i){const a=n("../../../utils/xml-stream"),o=n("../base-xform"),c=n("./shared-string-xform");s.exports=class extends o{constructor(l){super(),this.model=l||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new c)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(l){return this.model.values[l]}add(l){return l.richText?this.addRichText(l):this.addText(l)}addText(l){let u=this.hash[l];return u===void 0&&(u=this.hash[l]=this.model.values.length,this.model.values.push(l)),this.model.count++,u}addRichText(l){const u=this.sharedStringXform.toXml(l);let d=this.rich[u];return d===void 0&&(d=this.rich[u]=this.model.values.length,this.model.values.push(l)),this.model.count++,d}render(l,u){u=u||this._values,l.openXml(a.StdDocAttributes),l.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:u.count,uniqueCount:u.values.length});const d=this.sharedStringXform;u.values.forEach(f=>{d.render(l,f)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(l),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(l){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{get tag(){return"t"}render(o,c){o.openNode("t"),/^\s|\n|\s$/.test(c)&&o.addAttribute("xml:space","preserve"),o.writeText(c),o.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(o,c)=>String.fromCharCode(parseInt(c,16)))}parseOpen(o){switch(o.name){case"t":return this._text=[],!0;default:return!1}}parseText(o){this._text.push(o)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(n,s,i){const a=n("../../../doc/enums"),o=n("../../../utils/utils"),c=n("../base-xform"),l={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((d,f)=>(d[f]=!0,d),{}),horizontal(d){return this.horizontalValues[d]?d:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((d,f)=>(d[f]=!0,d),{}),vertical(d){return d==="middle"?"center":this.verticalValues[d]?d:void 0},wrapText:d=>!!d||void 0,shrinkToFit:d=>!!d||void 0,textRotation(d){switch(d){case"vertical":return d;default:return(d=o.validInt(d))>=-90&&d<=90?d:void 0}},indent:d=>(d=o.validInt(d),Math.max(0,d)),readingOrder(d){switch(d){case"ltr":return a.ReadingOrder.LeftToRight;case"rtl":return a.ReadingOrder.RightToLeft;default:return}}},u={toXml(d){if(d=l.textRotation(d)){if(d==="vertical")return 255;const f=Math.round(d);if(f>=0&&f<=90)return f;if(f<0&&f>=-90)return 90-f}},toModel(d){const f=o.validInt(d);if(f!==void 0){if(f===255)return"vertical";if(f>=0&&f<=90)return f;if(f>90&&f<=180)return 90-f}}};s.exports=class extends c{get tag(){return"alignment"}render(d,f){d.addRollback(),d.openNode("alignment");let h=!1;function m(A,g){g&&(d.addAttribute(A,g),h=!0)}m("horizontal",l.horizontal(f.horizontal)),m("vertical",l.vertical(f.vertical)),m("wrapText",!!l.wrapText(f.wrapText)&&"1"),m("shrinkToFit",!!l.shrinkToFit(f.shrinkToFit)&&"1"),m("indent",l.indent(f.indent)),m("textRotation",u.toXml(f.textRotation)),m("readingOrder",l.readingOrder(f.readingOrder)),d.closeNode(),h?d.commit():d.rollback()}parseOpen(d){const f={};let h=!1;function m(A,g,p){A&&(f[g]=p,h=!0)}m(d.attributes.horizontal,"horizontal",d.attributes.horizontal),m(d.attributes.vertical,"vertical",d.attributes.vertical==="center"?"middle":d.attributes.vertical),m(d.attributes.wrapText,"wrapText",o.parseBoolean(d.attributes.wrapText)),m(d.attributes.shrinkToFit,"shrinkToFit",o.parseBoolean(d.attributes.shrinkToFit)),m(d.attributes.indent,"indent",parseInt(d.attributes.indent,10)),m(d.attributes.textRotation,"textRotation",u.toModel(d.attributes.textRotation)),m(d.attributes.readingOrder,"readingOrder",d.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=h?f:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(n,s,i){const a=n("../base-xform"),o=n("../../../utils/utils"),c=n("./color-xform");class l extends a{constructor(d){super(),this.name=d,this.map={color:new c}}get tag(){return this.name}render(d,f,h){const m=f&&f.color||h||this.defaultColor;d.openNode(this.name),f&&f.style&&(d.addAttribute("style",f.style),m&&this.map.color.render(d,m)),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.name:{const{style:f}=d.attributes;return this.model=f?{style:f}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):(d===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(d){return l.validStyleValues[d]}}l.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((u,d)=>(u[d]=!0,u),{}),s.exports=class extends a{constructor(){super(),this.map={top:new l("top"),left:new l("left"),bottom:new l("bottom"),right:new l("right"),diagonal:new l("diagonal")}}render(u,d){const{color:f}=d;function h(m,A){m&&!m.color&&d.color&&(m={...m,color:d.color}),A.render(u,m,f)}u.openNode("border"),d.diagonal&&d.diagonal.style&&(d.diagonal.up&&u.addAttribute("diagonalUp","1"),d.diagonal.down&&u.addAttribute("diagonalDown","1")),h(d.left,this.map.left),h(d.right,this.map.right),h(d.top,this.map.top),h(d.bottom,this.map.bottom),h(d.diagonal,this.map.diagonal),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"border":return this.reset(),this.diagonalUp=o.parseBoolean(u.attributes.diagonalUp),this.diagonalDown=o.parseBoolean(u.attributes.diagonalDown),!0;default:return this.parser=this.map[u.name],!!this.parser&&(this.parser.parseOpen(u),!0)}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;if(u==="border"){const d=this.model={},f=function(h,m,A){m&&(A&&Object.assign(m,A),d[h]=m)};f("left",this.map.left.model),f("right",this.map.right.model),f("top",this.map.top.model),f("bottom",this.map.bottom.model),f("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{constructor(o){super(),this.name=o||"color"}get tag(){return this.name}render(o,c){return!!c&&(o.openNode(this.name),c.argb?o.addAttribute("rgb",c.argb):c.theme!==void 0?(o.addAttribute("theme",c.theme),c.tint!==void 0&&o.addAttribute("tint",c.tint)):c.indexed!==void 0?o.addAttribute("indexed",c.indexed):o.addAttribute("auto","1"),o.closeNode(),!0)}parseOpen(o){return o.name===this.name&&(o.attributes.rgb?this.model={argb:o.attributes.rgb}:o.attributes.theme?(this.model={theme:parseInt(o.attributes.theme,10)},o.attributes.tint&&(this.model.tint=parseFloat(o.attributes.tint))):o.attributes.indexed?this.model={indexed:parseInt(o.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(n,s,i){const a=n("../base-xform"),o=n("./alignment-xform"),c=n("./border-xform"),l=n("./fill-xform"),u=n("./font-xform"),d=n("./numfmt-xform"),f=n("./protection-xform");s.exports=class extends a{constructor(){super(),this.map={alignment:new o,border:new c,fill:new l,font:new u,numFmt:new d,protection:new f}}get tag(){return"dxf"}render(h,m){if(h.openNode(this.tag),m.font&&this.map.font.render(h,m.font),m.numFmt&&m.numFmtId){const A={id:m.numFmtId,formatCode:m.numFmt};this.map.numFmt.render(h,A)}m.fill&&this.map.fill.render(h,m.fill),m.alignment&&this.map.alignment.render(h,m.alignment),m.border&&this.map.border.render(h,m.border),m.protection&&this.map.protection.render(h,m.protection),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h),!0}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return this.parser?(this.parser.parseClose(h)||(this.parser=void 0),!0):h!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(n,s,i){const a=n("../base-xform"),o=n("./color-xform");class c extends a{constructor(){super(),this.map={color:new o}}get tag(){return"stop"}render(h,m){h.openNode("stop"),h.addAttribute("position",m.position),this.map.color.render(h,m.color),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"stop":return this.model={position:parseFloat(h.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(h),!0;default:return!1}}parseText(){}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class l extends a{constructor(){super(),this.map={fgColor:new o("fgColor"),bgColor:new o("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(h,m){h.openNode("patternFill"),h.addAttribute("patternType",m.pattern),m.fgColor&&this.map.fgColor.render(h,m.fgColor),m.bgColor&&this.map.bgColor.render(h,m.bgColor),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"patternFill":return this.model={type:"pattern",pattern:h.attributes.patternType},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.parser.model&&(this.model[h]=this.parser.model),this.parser=void 0),!0)}}class u extends a{constructor(){super(),this.map={stop:new c}}get name(){return"gradient"}get tag(){return"gradientFill"}render(h,m){switch(h.openNode("gradientFill"),m.gradient){case"angle":h.addAttribute("degree",m.degree);break;case"path":h.addAttribute("type","path"),m.center.left&&(h.addAttribute("left",m.center.left),m.center.right===void 0&&h.addAttribute("right",m.center.left)),m.center.right&&h.addAttribute("right",m.center.right),m.center.top&&(h.addAttribute("top",m.center.top),m.center.bottom===void 0&&h.addAttribute("bottom",m.center.top)),m.center.bottom&&h.addAttribute("bottom",m.center.bottom)}const A=this.map.stop;m.stops.forEach(g=>{A.render(h,g)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"gradientFill":{const m=this.model={stops:[]};return h.attributes.degree?(m.gradient="angle",m.degree=parseInt(h.attributes.degree,10)):h.attributes.type==="path"&&(m.gradient="path",m.center={left:h.attributes.left?parseFloat(h.attributes.left):0,top:h.attributes.top?parseFloat(h.attributes.top):0},h.attributes.right!==h.attributes.left&&(m.center.right=h.attributes.right?parseFloat(h.attributes.right):0),h.attributes.bottom!==h.attributes.top&&(m.center.bottom=h.attributes.bottom?parseFloat(h.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(h),!0;default:return!1}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class d extends a{constructor(){super(),this.map={patternFill:new l,gradientFill:new u}}get tag(){return"fill"}render(h,m){switch(h.addRollback(),h.openNode("fill"),m.type){case"pattern":this.map.patternFill.render(h,m);break;case"gradient":this.map.gradientFill.render(h,m);break;default:return void h.rollback()}h.closeNode(),h.commit()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"fill":return this.model={},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(h){return d.validPatternValues[h]}}d.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((f,h)=>(f[h]=!0,f),{}),d.StopXform=c,d.PatternFillXform=l,d.GradientFillXform=u,s.exports=d},{"../base-xform":32,"./color-xform":128}],131:[function(n,s,i){const a=n("./color-xform"),o=n("../simple/boolean-xform"),c=n("../simple/integer-xform"),l=n("../simple/string-xform"),u=n("./underline-xform"),d=n("../../../utils/under-dash"),f=n("../base-xform");class h extends f{constructor(A){super(),this.options=A||h.OPTIONS,this.map={b:{prop:"bold",xform:new o({tag:"b",attr:"val"})},i:{prop:"italic",xform:new o({tag:"i",attr:"val"})},u:{prop:"underline",xform:new u},charset:{prop:"charset",xform:new c({tag:"charset",attr:"val"})},color:{prop:"color",xform:new a},condense:{prop:"condense",xform:new o({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new o({tag:"extend",attr:"val"})},family:{prop:"family",xform:new c({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new o({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new l({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new l({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new o({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new o({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new c({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new l({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(A,g){const{map:p}=this;A.openNode(this.options.tagName),d.each(this.map,(b,x)=>{p[x].xform.render(A,g[b.prop])}),A.closeNode()}parseOpen(A){if(this.parser)return this.parser.parseOpen(A),!0;if(this.map[A.name])return this.parser=this.map[A.name].xform,this.parser.parseOpen(A);switch(A.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(A){this.parser&&this.parser.parseText(A)}parseClose(A){if(this.parser&&!this.parser.parseClose(A)){const g=this.map[A];return this.parser.model&&(this.model[g.prop]=this.parser.model),this.parser=void 0,!0}switch(A){case this.options.tagName:return!1;default:return!0}}}h.OPTIONS={tagName:"font",fontNameTag:"name"},s.exports=h},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(n,s,i){const a=n("../../../utils/under-dash"),o=n("../../defaultnumformats"),c=n("../base-xform"),l=function(){const d={};return a.each(o,(f,h)=>{f.f&&(d[f.f]=parseInt(h,10))}),d}();class u extends c{constructor(f,h){super(),this.id=f,this.formatCode=h}get tag(){return"numFmt"}render(f,h){f.leafNode("numFmt",{numFmtId:h.id,formatCode:h.formatCode})}parseOpen(f){switch(f.name){case"numFmt":return this.model={id:parseInt(f.attributes.numFmtId,10),formatCode:f.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}u.getDefaultFmtId=function(d){return l[d]},u.getDefaultFmtCode=function(d){return o[d]&&o[d].f},s.exports=u},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(n,s,i){const a=n("../base-xform"),o={boolean:(c,l)=>c===void 0?l:c};s.exports=class extends a{get tag(){return"protection"}render(c,l){c.addRollback(),c.openNode("protection");let u=!1;function d(f,h){h!==void 0&&(c.addAttribute(f,h),u=!0)}d("locked",o.boolean(l.locked,!0)?void 0:"0"),d("hidden",o.boolean(l.hidden,!1)?"1":void 0),c.closeNode(),u?c.commit():c.rollback()}parseOpen(c){const l={locked:c.attributes.locked!=="0",hidden:c.attributes.hidden==="1"},u=!l.locked||l.hidden;this.model=u?l:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(n,s,i){const a=n("../base-xform"),o=n("./alignment-xform"),c=n("./protection-xform");s.exports=class extends a{constructor(l){super(),this.xfId=!(!l||!l.xfId),this.map={alignment:new o,protection:new c}}get tag(){return"xf"}render(l,u){l.openNode("xf",{numFmtId:u.numFmtId||0,fontId:u.fontId||0,fillId:u.fillId||0,borderId:u.borderId||0}),this.xfId&&l.addAttribute("xfId",u.xfId||0),u.numFmtId&&l.addAttribute("applyNumberFormat","1"),u.fontId&&l.addAttribute("applyFont","1"),u.fillId&&l.addAttribute("applyFill","1"),u.borderId&&l.addAttribute("applyBorder","1"),u.alignment&&l.addAttribute("applyAlignment","1"),u.protection&&l.addAttribute("applyProtection","1"),u.alignment&&this.map.alignment.render(l,u.alignment),u.protection&&this.map.protection.render(l,u.protection),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"xf":return this.model={numFmtId:parseInt(l.attributes.numFmtId,10),fontId:parseInt(l.attributes.fontId,10),fillId:parseInt(l.attributes.fillId,10),borderId:parseInt(l.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(l.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(l),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):l!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(n,s,i){const a=n("../../../doc/enums"),o=n("../../../utils/xml-stream"),c=n("../base-xform"),l=n("../static-xform"),u=n("../list-xform"),d=n("./font-xform"),f=n("./fill-xform"),h=n("./border-xform"),m=n("./numfmt-xform"),A=n("./style-xform"),g=n("./dxf-xform");class p extends c{constructor(x){super(),this.map={numFmts:new u({tag:"numFmts",count:!0,childXform:new m}),fonts:new u({tag:"fonts",count:!0,childXform:new d,$:{"x14ac:knownFonts":1}}),fills:new u({tag:"fills",count:!0,childXform:new f}),borders:new u({tag:"borders",count:!0,childXform:new h}),cellStyleXfs:new u({tag:"cellStyleXfs",count:!0,childXform:new A}),cellXfs:new u({tag:"cellXfs",count:!0,childXform:new A({xfId:!0})}),dxfs:new u({tag:"dxfs",always:!0,count:!0,childXform:new g}),numFmt:new m,font:new d,fill:new f,border:new h,style:new A({xfId:!0}),cellStyles:p.STATIC_XFORMS.cellStyles,tableStyles:p.STATIC_XFORMS.tableStyles,extLst:p.STATIC_XFORMS.extLst},x&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(x,v){v=v||this.model,x.openXml(o.StdDocAttributes),x.openNode("styleSheet",p.STYLESHEET_ATTRIBUTES),this.index?(v.numFmts&&v.numFmts.length&&(x.openNode("numFmts",{count:v.numFmts.length}),v.numFmts.forEach(y=>{x.writeXml(y)}),x.closeNode()),v.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),x.openNode("fonts",{count:v.fonts.length,"x14ac:knownFonts":1}),v.fonts.forEach(y=>{x.writeXml(y)}),x.closeNode(),x.openNode("fills",{count:v.fills.length}),v.fills.forEach(y=>{x.writeXml(y)}),x.closeNode(),x.openNode("borders",{count:v.borders.length}),v.borders.forEach(y=>{x.writeXml(y)}),x.closeNode(),this.map.cellStyleXfs.render(x,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),x.openNode("cellXfs",{count:v.styles.length}),v.styles.forEach(y=>{x.writeXml(y)}),x.closeNode()):(this.map.numFmts.render(x,v.numFmts),this.map.fonts.render(x,v.fonts),this.map.fills.render(x,v.fills),this.map.borders.render(x,v.borders),this.map.cellStyleXfs.render(x,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(x,v.styles)),p.STATIC_XFORMS.cellStyles.render(x),this.map.dxfs.render(x,v.dxfs),p.STATIC_XFORMS.tableStyles.render(x),p.STATIC_XFORMS.extLst.render(x),x.closeNode()}parseOpen(x){if(this.parser)return this.parser.parseOpen(x),!0;switch(x.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[x.name],this.parser&&this.parser.parseOpen(x),!0}}parseText(x){this.parser&&this.parser.parseText(x)}parseClose(x){if(this.parser)return this.parser.parseClose(x)||(this.parser=void 0),!0;switch(x){case"styleSheet":{this.model={};const v=(y,N)=>{N.model&&N.model.length&&(this.model[y]=N.model)};if(v("numFmts",this.map.numFmts),v("fonts",this.map.fonts),v("fills",this.map.fills),v("borders",this.map.borders),v("styles",this.map.cellXfs),v("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const y=this.index.numFmt;this.model.numFmts.forEach(N=>{y[N.id]=N.formatCode})}return!1}default:return!0}}addStyleModel(x,v){if(!x)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(x))return this.weakMap.get(x);const y={};if(v=v||a.ValueType.Number,x.numFmt)y.numFmtId=this._addNumFmtStr(x.numFmt);else switch(v){case a.ValueType.Number:y.numFmtId=this._addNumFmtStr("General");break;case a.ValueType.Date:y.numFmtId=this._addNumFmtStr("mm-dd-yy")}x.font&&(y.fontId=this._addFont(x.font)),x.border&&(y.borderId=this._addBorder(x.border)),x.fill&&(y.fillId=this._addFill(x.fill)),x.alignment&&(y.alignment=x.alignment),x.protection&&(y.protection=x.protection);const N=this._addStyle(y);return this.weakMap&&this.weakMap.set(x,N),N}getStyleModel(x){const v=this.model.styles[x];if(!v)return null;let y=this.index.model[x];if(y)return y;if(y=this.index.model[x]={},v.numFmtId){const P=this.index.numFmt[v.numFmtId]||m.getDefaultFmtCode(v.numFmtId);P&&(y.numFmt=P)}function N(P,M,k){if(k||k===0){const D=M[k];D&&(y[P]=D)}}return N("font",this.model.fonts,v.fontId),N("border",this.model.borders,v.borderId),N("fill",this.model.fills,v.fillId),v.alignment&&(y.alignment=v.alignment),v.protection&&(y.protection=v.protection),y}addDxfStyle(x){return x.numFmt&&(x.numFmtId=this._addNumFmtStr(x.numFmt)),this.model.dxfs.push(x),this.model.dxfs.length-1}getDxfStyle(x){return this.model.dxfs[x]}_addStyle(x){const v=this.map.style.toXml(x);let y=this.index.style[v];return y===void 0&&(y=this.index.style[v]=this.model.styles.length,this.model.styles.push(v)),y}_addNumFmtStr(x){let v=m.getDefaultFmtId(x);if(v!==void 0||(v=this.index.numFmt[x],v!==void 0))return v;v=this.index.numFmt[x]=164+this.model.numFmts.length;const y=this.map.numFmt.toXml({id:v,formatCode:x});return this.model.numFmts.push(y),v}_addFont(x){const v=this.map.font.toXml(x);let y=this.index.font[v];return y===void 0&&(y=this.index.font[v]=this.model.fonts.length,this.model.fonts.push(v)),y}_addBorder(x){const v=this.map.border.toXml(x);let y=this.index.border[v];return y===void 0&&(y=this.index.border[v]=this.model.borders.length,this.model.borders.push(v)),y}_addFill(x){const v=this.map.fill.toXml(x);let y=this.index.fill[v];return y===void 0&&(y=this.index.fill[v]=this.model.fills.length,this.model.fills.push(v)),y}}p.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},p.STATIC_XFORMS={cellStyles:new l({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new l({tag:"dxfs",$:{count:0}}),tableStyles:new l({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new l({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},p.Mock=class extends p{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(b){return b.autodrain(),Promise.resolve()}addStyleModel(b,x){switch(x){case a.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const b={numFmtId:m.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(b)}return this._dateStyleId}getStyleModel(){return{}}},s.exports=p},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(n,s,i){const a=n("../base-xform");class o extends a{constructor(l){super(),this.model=l}get tag(){return"u"}render(l,u){if((u=u||this.model)===!0)l.leafNode("u");else{const d=o.Attributes[u];d&&l.leafNode("u",d)}}parseOpen(l){l.name==="u"&&(this.model=l.attributes.val||!0)}parseText(){}parseClose(){return!1}}o.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},s.exports=o},{"../base-xform":32}],137:[function(n,s,i){const a=n("../base-xform"),o=n("./filter-column-xform");s.exports=class extends a{constructor(){super(),this.map={filterColumn:new o}}get tag(){return"autoFilter"}prepare(c){c.columns.forEach((l,u)=>{this.map.filterColumn.prepare(l,{index:u})})}render(c,l){return c.openNode(this.tag,{ref:l.autoFilterRef}),l.columns.forEach(u=>{this.map.filterColumn.render(c,u)}),c.closeNode(),!0}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:return this.model={autoFilterRef:c.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[c.name],this.parser)return this.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{get tag(){return"customFilter"}render(o,c){o.leafNode(this.tag,{val:c.val,operator:c.operator})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val,operator:o.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(n,s,i){const a=n("../base-xform"),o=n("../list-xform"),c=n("./custom-filter-xform"),l=n("./filter-xform");s.exports=class extends a{constructor(){super(),this.map={customFilters:new o({tag:"customFilters",count:!1,empty:!0,childXform:new c}),filters:new o({tag:"filters",count:!1,empty:!0,childXform:new l})}}get tag(){return"filterColumn"}prepare(u,d){u.colId=d.index.toString()}render(u,d){return d.customFilters?(u.openNode(this.tag,{colId:d.colId,hiddenButton:d.filterButton?"0":"1"}),this.map.customFilters.render(u,d.customFilters),u.closeNode(),!0):(u.leafNode(this.tag,{colId:d.colId,hiddenButton:d.filterButton?"0":"1"}),!0)}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;const{attributes:d}=u;switch(u.name){case this.tag:return this.model={filterButton:d.hiddenButton==="0"},!0;default:if(this.parser=this.map[u.name],this.parser)return this.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{get tag(){return"filter"}render(o,c){o.leafNode(this.tag,{val:c.val})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{get tag(){return"tableColumn"}prepare(o,c){o.id=c.index+1}render(o,c){return o.leafNode(this.tag,{id:c.id.toString(),name:c.name,totalsRowLabel:c.totalsRowLabel,totalsRowFunction:c.totalsRowFunction,dxfId:c.dxfId}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:c}=o;return this.model={name:c.name,totalsRowLabel:c.totalsRowLabel,totalsRowFunction:c.totalsRowFunction,dxfId:c.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(n,s,i){const a=n("../base-xform");s.exports=class extends a{get tag(){return"tableStyleInfo"}render(o,c){return o.leafNode(this.tag,{name:c.theme?c.theme:void 0,showFirstColumn:c.showFirstColumn?"1":"0",showLastColumn:c.showLastColumn?"1":"0",showRowStripes:c.showRowStripes?"1":"0",showColumnStripes:c.showColumnStripes?"1":"0"}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:c}=o;return this.model={theme:c.name?c.name:null,showFirstColumn:c.showFirstColumn==="1",showLastColumn:c.showLastColumn==="1",showRowStripes:c.showRowStripes==="1",showColumnStripes:c.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(n,s,i){const a=n("../../../utils/xml-stream"),o=n("../base-xform"),c=n("../list-xform"),l=n("./auto-filter-xform"),u=n("./table-column-xform"),d=n("./table-style-info-xform");class f extends o{constructor(){super(),this.map={autoFilter:new l,tableColumns:new c({tag:"tableColumns",count:!0,empty:!0,childXform:new u}),tableStyleInfo:new d}}prepare(m,A){this.map.autoFilter.prepare(m),this.map.tableColumns.prepare(m.columns,A)}get tag(){return"table"}render(m,A){m.openXml(a.StdDocAttributes),m.openNode(this.tag,{...f.TABLE_ATTRIBUTES,id:A.id,name:A.name,displayName:A.displayName||A.name,ref:A.tableRef,totalsRowCount:A.totalsRow?"1":void 0,totalsRowShown:A.totalsRow?void 0:"1",headerRowCount:A.headerRow?"1":"0"}),this.map.autoFilter.render(m,A),this.map.tableColumns.render(m,A.columns),this.map.tableStyleInfo.render(m,A.style),m.closeNode()}parseOpen(m){if(this.parser)return this.parser.parseOpen(m),!0;const{name:A,attributes:g}=m;switch(A){case this.tag:this.reset(),this.model={name:g.name,displayName:g.displayName||g.name,tableRef:g.ref,totalsRow:g.totalsRowCount==="1",headerRow:g.headerRowCount==="1"};break;default:this.parser=this.map[m.name],this.parser&&this.parser.parseOpen(m)}return!0}parseText(m){this.parser&&this.parser.parseText(m)}parseClose(m){if(this.parser)return this.parser.parseClose(m)||(this.parser=void 0),!0;switch(m){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((A,g)=>{this.model.columns[g].filterButton=A.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(m,A){m.columns.forEach(g=>{g.dxfId!==void 0&&(g.style=A.styles.getDxfStyle(g.dxfId))})}}f.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},s.exports=f},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(n,s,i){(function(a,o){(function(){const c=n("fs"),l=n("jszip"),{PassThrough:u}=n("readable-stream"),d=n("../utils/zip-stream"),f=n("../utils/stream-buf"),h=n("../utils/utils"),m=n("../utils/xml-stream"),{bufferToString:A}=n("../utils/browser-buffer-decode"),g=n("./xform/style/styles-xform"),p=n("./xform/core/core-xform"),b=n("./xform/strings/shared-strings-xform"),x=n("./xform/core/relationships-xform"),v=n("./xform/core/content-types-xform"),y=n("./xform/core/app-xform"),N=n("./xform/book/workbook-xform"),P=n("./xform/sheet/worksheet-xform"),M=n("./xform/drawing/drawing-xform"),k=n("./xform/table/table-xform"),D=n("./xform/comment/comments-xform"),O=n("./xform/comment/vml-notes-xform"),L=n("./xml/theme1");class F{constructor(E){this.workbook=E}async readFile(E,T){if(!await h.fs.exists(E))throw new Error("File not found: "+E);const w=c.createReadStream(E);try{const C=await this.read(w,T);return w.close(),C}catch(C){throw w.close(),C}}parseRels(E){return new x().parseStream(E)}parseWorkbook(E){return new N().parseStream(E)}parseSharedStrings(E){return new b().parseStream(E)}reconcile(E,T){const w=new N,C=new P(T),j=new M,S=new k;w.reconcile(E);const I={media:E.media,mediaIndex:E.mediaIndex};Object.keys(E.drawings).forEach(z=>{const V=E.drawings[z],X=E.drawingRels[z];X&&(I.rels=X.reduce(($,W)=>($[W.Id]=W,$),{}),(V.anchors||[]).forEach($=>{const W=$.picture&&$.picture.hyperlinks;W&&I.rels[W.rId]&&(W.hyperlink=I.rels[W.rId].Target,delete W.rId)}),j.reconcile(V,I))});const R={styles:E.styles};Object.values(E.tables).forEach(z=>{S.reconcile(z,R)});const U={styles:E.styles,sharedStrings:E.sharedStrings,media:E.media,mediaIndex:E.mediaIndex,date1904:E.properties&&E.properties.date1904,drawings:E.drawings,comments:E.comments,tables:E.tables,vmlDrawings:E.vmlDrawings};E.worksheets.forEach(z=>{z.relationships=E.worksheetRels[z.sheetNo],C.reconcile(z,U)}),delete E.worksheetHash,delete E.worksheetRels,delete E.globalRels,delete E.sharedStrings,delete E.workbookRels,delete E.sheetDefs,delete E.styles,delete E.mediaIndex,delete E.drawings,delete E.drawingRels,delete E.vmlDrawings}async _processWorksheetEntry(E,T,w,C,j){const S=new P(C),I=await S.parseStream(E);I.sheetNo=w,T.worksheetHash[j]=I,T.worksheets.push(I)}async _processCommentEntry(E,T,w){const C=new D,j=await C.parseStream(E);T.comments[`../${w}.xml`]=j}async _processTableEntry(E,T,w){const C=new k,j=await C.parseStream(E);T.tables[`../tables/${w}.xml`]=j}async _processWorksheetRelsEntry(E,T,w){const C=new x,j=await C.parseStream(E);T.worksheetRels[w]=j}async _processMediaEntry(E,T,w){const C=w.lastIndexOf(".");if(C>=1){const j=w.substr(C+1),S=w.substr(0,C);await new Promise((I,R)=>{const U=new f;U.on("finish",()=>{T.mediaIndex[w]=T.media.length,T.mediaIndex[S]=T.media.length;const z={type:"image",name:S,extension:j,buffer:U.toBuffer()};T.media.push(z),I()}),E.on("error",z=>{R(z)}),E.pipe(U)})}}async _processDrawingEntry(E,T,w){const C=new M,j=await C.parseStream(E);T.drawings[w]=j}async _processDrawingRelsEntry(E,T,w){const C=new x,j=await C.parseStream(E);T.drawingRels[w]=j}async _processVmlDrawingEntry(E,T,w){const C=new O,j=await C.parseStream(E);T.vmlDrawings[`../drawings/${w}.vml`]=j}async _processThemeEntry(E,T,w){await new Promise((C,j)=>{const S=new f;E.on("error",j),S.on("error",j),S.on("finish",()=>{T.themes[w]=S.read().toString(),C()}),E.pipe(S)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(E,T){!E[Symbol.asyncIterator]&&E.pipe&&(E=E.pipe(new u));const w=[];for await(const C of E)w.push(C);return this.load(o.concat(w),T)}async load(E,T){let w;w=T&&T.base64?o.from(E.toString(),"base64"):E;const C={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},j=await l.loadAsync(w);for(const S of Object.values(j.files))if(!S.dir){let I,R=S.name;if(R[0]==="/"&&(R=R.substr(1)),R.match(/xl\/media\//)||R.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))I=new u,I.write(await S.async("nodebuffer"));else{let U;I=new u({writableObjectMode:!0,readableObjectMode:!0}),U=a.browser?A(await S.async("nodebuffer")):await S.async("string");const z=16384;for(let V=0;V<U.length;V+=z)I.write(U.substring(V,V+z))}switch(I.end(),R){case"_rels/.rels":C.globalRels=await this.parseRels(I);break;case"xl/workbook.xml":{const U=await this.parseWorkbook(I);C.sheets=U.sheets,C.definedNames=U.definedNames,C.views=U.views,C.properties=U.properties,C.calcProperties=U.calcProperties;break}case"xl/_rels/workbook.xml.rels":C.workbookRels=await this.parseRels(I);break;case"xl/sharedStrings.xml":C.sharedStrings=new b,await C.sharedStrings.parseStream(I);break;case"xl/styles.xml":C.styles=new g,await C.styles.parseStream(I);break;case"docProps/app.xml":{const U=new y,z=await U.parseStream(I);C.company=z.company,C.manager=z.manager;break}case"docProps/core.xml":{const U=new p,z=await U.parseStream(I);Object.assign(C,z);break}default:{let U=R.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(U){await this._processWorksheetEntry(I,C,U[1],T,R);break}if(U=R.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),U){await this._processWorksheetRelsEntry(I,C,U[1]);break}if(U=R.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),U){await this._processThemeEntry(I,C,U[1]);break}if(U=R.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),U){await this._processMediaEntry(I,C,U[1]);break}if(U=R.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),U){await this._processDrawingEntry(I,C,U[1]);break}if(U=R.match(/xl\/(comments\d+)[.]xml/),U){await this._processCommentEntry(I,C,U[1]);break}if(U=R.match(/xl\/tables\/(table\d+)[.]xml/),U){await this._processTableEntry(I,C,U[1]);break}if(U=R.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),U){await this._processDrawingRelsEntry(I,C,U[1]);break}if(U=R.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),U){await this._processVmlDrawingEntry(I,C,U[1]);break}}}}return this.reconcile(C,T),this.workbook.model=C,this.workbook}async addMedia(E,T){await Promise.all(T.media.map(async w=>{if(w.type==="image"){const C=`xl/media/${w.name}.${w.extension}`;if(w.filename){const j=await function(S,I){return new Promise((R,U)=>{c.readFile(S,I,(z,V)=>{z?U(z):R(V)})})}(w.filename);return E.append(j,{name:C})}if(w.buffer)return E.append(w.buffer,{name:C});if(w.base64){const j=w.base64,S=j.substring(j.indexOf(",")+1);return E.append(S,{name:C,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(E,T){const w=new M,C=new x;T.worksheets.forEach(j=>{const{drawing:S}=j;if(S){w.prepare(S,{});let I=w.toXml(S);E.append(I,{name:`xl/drawings/${S.name}.xml`}),I=C.toXml(S.rels),E.append(I,{name:`xl/drawings/_rels/${S.name}.xml.rels`})}})}addTables(E,T){const w=new k;T.worksheets.forEach(C=>{const{tables:j}=C;j.forEach(S=>{w.prepare(S,{});const I=w.toXml(S);E.append(I,{name:"xl/tables/"+S.target})})})}async addContentTypes(E,T){const w=new v().toXml(T);E.append(w,{name:"[Content_Types].xml"})}async addApp(E,T){const w=new y().toXml(T);E.append(w,{name:"docProps/app.xml"})}async addCore(E,T){const w=new p;E.append(w.toXml(T),{name:"docProps/core.xml"})}async addThemes(E,T){const w=T.themes||{theme1:L};Object.keys(w).forEach(C=>{const j=w[C],S=`xl/theme/${C}.xml`;E.append(j,{name:S})})}async addOfficeRels(E){const T=new x().toXml([{Id:"rId1",Type:F.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:F.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:F.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);E.append(T,{name:"_rels/.rels"})}async addWorkbookRels(E,T){let w=1;const C=[{Id:"rId"+w++,Type:F.RelType.Styles,Target:"styles.xml"},{Id:"rId"+w++,Type:F.RelType.Theme,Target:"theme/theme1.xml"}];T.sharedStrings.count&&C.push({Id:"rId"+w++,Type:F.RelType.SharedStrings,Target:"sharedStrings.xml"}),T.worksheets.forEach(S=>{S.rId="rId"+w++,C.push({Id:S.rId,Type:F.RelType.Worksheet,Target:`worksheets/sheet${S.id}.xml`})});const j=new x().toXml(C);E.append(j,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(E,T){T.sharedStrings&&T.sharedStrings.count&&E.append(T.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(E,T){const{xml:w}=T.styles;w&&E.append(w,{name:"xl/styles.xml"})}async addWorkbook(E,T){const w=new N;E.append(w.toXml(T),{name:"xl/workbook.xml"})}async addWorksheets(E,T){const w=new P,C=new x,j=new D,S=new O;T.worksheets.forEach(I=>{let R=new m;w.render(R,I),E.append(R.xml,{name:`xl/worksheets/sheet${I.id}.xml`}),I.rels&&I.rels.length&&(R=new m,C.render(R,I.rels),E.append(R.xml,{name:`xl/worksheets/_rels/sheet${I.id}.xml.rels`})),I.comments.length>0&&(R=new m,j.render(R,I),E.append(R.xml,{name:`xl/comments${I.id}.xml`}),R=new m,S.render(R,I),E.append(R.xml,{name:`xl/drawings/vmlDrawing${I.id}.vml`}))})}_finalize(E){return new Promise((T,w)=>{E.on("finish",()=>{T(this)}),E.on("error",w),E.finalize()})}prepareModel(E,T){E.creator=E.creator||"ExcelJS",E.lastModifiedBy=E.lastModifiedBy||"ExcelJS",E.created=E.created||new Date,E.modified=E.modified||new Date,E.useSharedStrings=T.useSharedStrings===void 0||T.useSharedStrings,E.useStyles=T.useStyles===void 0||T.useStyles,E.sharedStrings=new b,E.styles=E.useStyles?new g(!0):new g.Mock;const w=new N,C=new P;w.prepare(E);const j={sharedStrings:E.sharedStrings,styles:E.styles,date1904:E.properties.date1904,drawingsCount:0,media:E.media};j.drawings=E.drawings=[],j.commentRefs=E.commentRefs=[];let S=0;E.tables=[],E.worksheets.forEach(I=>{I.tables.forEach(R=>{S++,R.target=`table${S}.xml`,R.id=S,E.tables.push(R)}),C.prepare(I,j)})}async write(E,T){T=T||{};const{model:w}=this.workbook,C=new d.ZipWriter(T.zip);return C.pipe(E),this.prepareModel(w,T),await this.addContentTypes(C,w),await this.addOfficeRels(C,w),await this.addWorkbookRels(C,w),await this.addWorksheets(C,w),await this.addSharedStrings(C,w),await this.addDrawings(C,w),await this.addTables(C,w),await Promise.all([this.addThemes(C,w),this.addStyles(C,w)]),await this.addMedia(C,w),await Promise.all([this.addApp(C,w),this.addCore(C,w)]),await this.addWorkbook(C,w),this._finalize(C)}writeFile(E,T){const w=c.createWriteStream(E);return new Promise((C,j)=>{w.on("finish",()=>{C()}),w.on("error",S=>{j(S)}),this.write(w,T).then(()=>{w.end()}).catch(S=>{j(S)})})}async writeBuffer(E){const T=new f;return await this.write(T,E),T.read()}}F.RelType=n("./rel-type"),s.exports=F}).call(this)}).call(this,n("_process"),n("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(n,s,i){s.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(n,s,i){(function(a){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvFormatterStream=void 0;const o=n("stream"),c=n("./formatter");class l extends o.Transform{constructor(d){super({writableObjectMode:d.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=d,this.rowFormatter=new c.RowFormatter(d),this.hasWrittenBOM=!d.writeBOM}transform(d){return this.rowFormatter.rowTransform=d,this}_transform(d,f,h){let m=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(d,(A,g)=>A?(m=!0,h(A)):(g&&g.forEach(p=>{this.push(a.from(p,"utf8"))}),m=!0,h()))}catch(A){if(m)throw A;h(A)}}_flush(d){this.rowFormatter.finish((f,h)=>f?d(f):(h&&h.forEach(m=>{this.push(a.from(m,"utf8"))}),d()))}}i.CsvFormatterStream=l}).call(this)}).call(this,n("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(n,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FormatterOptions=void 0,i.FormatterOptions=class{constructor(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var o;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,a||{}),(a==null?void 0:a.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(a==null?void 0:a.quote)===!0?this.quote='"':(a==null?void 0:a.quote)===!1&&(this.quote=""),typeof(a==null?void 0:a.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((o=a.writeHeaders)===null||o===void 0||o),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(n,s,i){var a=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=void 0;const o=a(n("lodash.isboolean")),c=a(n("lodash.isnil")),l=a(n("lodash.escaperegexp"));i.FieldFormatter=class{constructor(u){this._headers=null,this.formatterOptions=u,u.headers!==null&&(this.headers=u.headers),this.REPLACE_REGEXP=new RegExp(u.quote,"g");const d=`[${u.delimiter}${l.default(u.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(d)}set headers(u){this._headers=u}shouldQuote(u,d){const f=d?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return o.default(f)?f:Array.isArray(f)?f[u]:this._headers!==null&&f[this._headers[u]]}format(u,d,f){const h=(""+(c.default(u)?"":u)).replace(/\0/g,""),{formatterOptions:m}=this;return m.quote!==""&&h.indexOf(m.quote)!==-1?this.quoteField(h.replace(this.REPLACE_REGEXP,m.escapedQuote)):h.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(d,f)?this.quoteField(h):h}quoteField(u){const{quote:d}=this.formatterOptions;return`${d}${u}${d}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(n,s,i){var a=function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowFormatter=void 0;const o=a(n("lodash.isfunction")),c=a(n("lodash.isequal")),l=n("./FieldFormatter"),u=n("../types");class d{constructor(h){this.rowCount=0,this.formatterOptions=h,this.fieldFormatter=new l.FieldFormatter(h),this.headers=h.headers,this.shouldWriteHeaders=h.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),h.transform&&(this.rowTransform=h.transform)}static isRowHashArray(h){return!!Array.isArray(h)&&Array.isArray(h[0])&&h[0].length===2}static isRowArray(h){return Array.isArray(h)&&!this.isRowHashArray(h)}static gatherHeaders(h){return d.isRowHashArray(h)?h.map(m=>m[0]):Array.isArray(h)?h:Object.keys(h)}static createTransform(h){return u.isSyncTransform(h)?(m,A)=>{let g=null;try{g=h(m)}catch(p){return A(p)}return A(null,g)}:(m,A)=>{h(m,A)}}set rowTransform(h){if(!o.default(h))throw new TypeError("The transform should be a function");this._rowTransform=d.createTransform(h)}format(h,m){this.callTransformer(h,(A,g)=>{if(A)return m(A);if(!h)return m(null);const p=[];if(g){const{shouldFormatColumns:b,headers:x}=this.checkHeaders(g);if(this.shouldWriteHeaders&&x&&!this.hasWrittenHeaders&&(p.push(this.formatColumns(x,!0)),this.hasWrittenHeaders=!0),b){const v=this.gatherColumns(g);p.push(this.formatColumns(v,!1))}}return m(null,p)})}finish(h){const m=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return h(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));m.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&m.push(this.formatterOptions.rowDelimiter),h(null,m)}checkHeaders(h){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const m=d.gatherHeaders(h);return this.headers=m,this.fieldFormatter.headers=m,this.shouldWriteHeaders?{shouldFormatColumns:!c.default(m,h),headers:m}:{shouldFormatColumns:!0,headers:null}}gatherColumns(h){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(h)?d.isRowHashArray(h)?this.headers.map((m,A)=>{const g=h[A];return g?g[1]:""}):d.isRowArray(h)&&!this.shouldWriteHeaders?h:this.headers.map((m,A)=>h[A]):this.headers.map(m=>h[m])}callTransformer(h,m){return this._rowTransform?this._rowTransform(h,m):m(null,h)}formatColumns(h,m){const A=h.map((p,b)=>this.fieldFormatter.format(p,b,m)).join(this.formatterOptions.delimiter),{rowCount:g}=this;return this.rowCount+=1,g?[this.formatterOptions.rowDelimiter,A].join(""):A}}i.RowFormatter=d},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(n,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=i.RowFormatter=void 0;var a=n("./RowFormatter");Object.defineProperty(i,"RowFormatter",{enumerable:!0,get:function(){return a.RowFormatter}});var o=n("./FieldFormatter");Object.defineProperty(i,"FieldFormatter",{enumerable:!0,get:function(){return o.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(n,s,i){(function(a){(function(){var o=Object.create?function(b,x,v,y){y===void 0&&(y=v),Object.defineProperty(b,y,{enumerable:!0,get:function(){return x[v]}})}:function(b,x,v,y){y===void 0&&(y=v),b[y]=x[v]},c=Object.create?function(b,x){Object.defineProperty(b,"default",{enumerable:!0,value:x})}:function(b,x){b.default=x},l=function(b){if(b&&b.__esModule)return b;var x={};if(b!=null)for(var v in b)v!=="default"&&Object.prototype.hasOwnProperty.call(b,v)&&o(x,b,v);return c(x,b),x},u=function(b,x){for(var v in b)v==="default"||Object.prototype.hasOwnProperty.call(x,v)||o(x,b,v)};Object.defineProperty(i,"__esModule",{value:!0}),i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=i.FormatterOptions=i.CsvFormatterStream=void 0;const d=n("util"),f=n("stream"),h=l(n("fs")),m=n("./FormatterOptions"),A=n("./CsvFormatterStream");u(n("./types"),i);var g=n("./CsvFormatterStream");Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return g.CsvFormatterStream}});var p=n("./FormatterOptions");Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return p.FormatterOptions}}),i.format=b=>new A.CsvFormatterStream(new m.FormatterOptions(b)),i.write=(b,x)=>{const v=i.format(x),y=d.promisify((N,P)=>{v.write(N,void 0,P)});return b.reduce((N,P)=>N.then(()=>y(P)),Promise.resolve()).then(()=>v.end()).catch(N=>{v.emit("error",N)}),v},i.writeToStream=(b,x,v)=>i.write(x,v).pipe(b),i.writeToBuffer=function(b){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const v=[],y=new f.Writable({write(N,P,M){v.push(N),M()}});return new Promise((N,P)=>{y.on("error",P).on("finish",()=>N(a.concat(v))),i.write(b,x).pipe(y)})},i.writeToString=(b,x)=>i.writeToBuffer(b,x).then(v=>v.toString()),i.writeToPath=(b,x,v)=>{const y=h.createWriteStream(b,{encoding:"utf8"});return i.write(x,v).pipe(y)}}).call(this)}).call(this,n("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(n,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncTransform=void 0,i.isSyncTransform=a=>a.length===1},{}],153:[function(n,s,i){(function(a){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=void 0;const o=n("string_decoder"),c=n("stream"),l=n("./transforms"),u=n("./parser");class d extends c.Transform{constructor(h){super({objectMode:h.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=h,this.parser=new u.Parser(h),this.headerTransformer=new l.HeaderTransformer(h),this.decoder=new o.StringDecoder(h.encoding),this.rowTransformerValidator=new l.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(h){return this.rowTransformerValidator.rowTransform=h,this}validate(h){return this.rowTransformerValidator.rowValidator=h,this}emit(h){if(h==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var m=arguments.length,A=new Array(m>1?m-1:0),g=1;g<m;g++)A[g-1]=arguments[g];return super.emit(h,...A)}_transform(h,m,A){if(this.hasHitRowLimit)return A();const g=d.wrapDoneCallback(A);try{const{lines:p}=this,b=p+this.decoder.write(h),x=this.parse(b,!0);return this.processRows(x,g)}catch(p){return g(p)}}_flush(h){const m=d.wrapDoneCallback(h);if(this.hasHitRowLimit)return m();try{const A=this.lines+this.decoder.end(),g=this.parse(A,!1);return this.processRows(g,m)}catch(A){return m(A)}}parse(h,m){if(!h)return[];const{line:A,rows:g}=this.parser.parse(h,m);return this.lines=A,g}processRows(h,m){const A=h.length,g=p=>{const b=y=>y?m(y):p%100!=0?g(p+1):void a(()=>g(p+1));if(this.checkAndEmitHeaders(),p>=A||this.hasHitRowLimit)return m();if(this.parsedLineCount+=1,this.shouldSkipLine)return b();const x=h[p];this.rowCount+=1,this.parsedRowCount+=1;const v=this.rowCount;return this.transformRow(x,(y,N)=>{if(y)return this.rowCount-=1,b(y);if(!N)return b(new Error("expected transform result"));if(N.isValid){if(N.row)return this.pushRow(N.row,b)}else this.emit("data-invalid",N.row,v,N.reason);return b()})};g(0)}transformRow(h,m){try{this.headerTransformer.transform(h,(A,g)=>A?m(A):g?g.isValid?g.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(g.row,m):this.skipRow(m):(this.rowCount-=1,this.parsedRowCount-=1,m(null,{row:null,isValid:!0})):this.shouldEmitRows?m(null,{isValid:!1,row:h}):this.skipRow(m):m(new Error("Expected result from header transform")))}catch(A){m(A)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(h){return this.rowCount-=1,h(null,{row:null,isValid:!0})}pushRow(h,m){try{this.parserOptions.objectMode?this.push(h):this.push(JSON.stringify(h)),m()}catch(A){m(A)}}static wrapDoneCallback(h){let m=!1;return function(A){if(A){if(m)throw A;return m=!0,void h(A)}for(var g=arguments.length,p=new Array(g>1?g-1:0),b=1;b<g;b++)p[b-1]=arguments[b];h(...p)}}}i.CsvParserStream=d}).call(this)}).call(this,n("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(n,s,i){var a=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(i,"__esModule",{value:!0}),i.ParserOptions=void 0;const o=a(n("lodash.escaperegexp")),c=a(n("lodash.isnil"));i.ParserOptions=class{constructor(l){var u;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,l||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=o.default(this.delimiter),this.escapeChar=(u=this.escape)!==null&&u!==void 0?u:this.quote,this.supportsComments=!c.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(n,s,i){var a=Object.create?function(g,p,b,x){x===void 0&&(x=b),Object.defineProperty(g,x,{enumerable:!0,get:function(){return p[b]}})}:function(g,p,b,x){x===void 0&&(x=b),g[x]=p[b]},o=Object.create?function(g,p){Object.defineProperty(g,"default",{enumerable:!0,value:p})}:function(g,p){g.default=p},c=function(g){if(g&&g.__esModule)return g;var p={};if(g!=null)for(var b in g)b!=="default"&&Object.prototype.hasOwnProperty.call(g,b)&&a(p,g,b);return o(p,g),p},l=function(g,p){for(var b in g)b==="default"||Object.prototype.hasOwnProperty.call(p,b)||a(p,g,b)};Object.defineProperty(i,"__esModule",{value:!0}),i.parseString=i.parseFile=i.parseStream=i.parse=i.ParserOptions=i.CsvParserStream=void 0;const u=c(n("fs")),d=n("stream"),f=n("./ParserOptions"),h=n("./CsvParserStream");l(n("./types"),i);var m=n("./CsvParserStream");Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return m.CsvParserStream}});var A=n("./ParserOptions");Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return A.ParserOptions}}),i.parse=g=>new h.CsvParserStream(new f.ParserOptions(g)),i.parseStream=(g,p)=>g.pipe(new h.CsvParserStream(new f.ParserOptions(p))),i.parseFile=function(g){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return u.createReadStream(g).pipe(new h.CsvParserStream(new f.ParserOptions(p)))},i.parseString=(g,p)=>{const b=new d.Readable;return b.push(g),b.push(null),b.pipe(new h.CsvParserStream(new f.ParserOptions(p)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(n,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Parser=void 0;const a=n("./Scanner"),o=n("./RowParser"),c=n("./Token");class l{constructor(d){this.parserOptions=d,this.rowParser=new o.RowParser(this.parserOptions)}static removeBOM(d){return d&&d.charCodeAt(0)===65279?d.slice(1):d}parse(d,f){const h=new a.Scanner({line:l.removeBOM(d),parserOptions:this.parserOptions,hasMoreData:f});return this.parserOptions.supportsComments?this.parseWithComments(h):this.parseWithoutComments(h)}parseWithoutComments(d){const f=[];let h=!0;for(;h;)h=this.parseRow(d,f);return{line:d.line,rows:f}}parseWithComments(d){const{parserOptions:f}=this,h=[];for(let m=d.nextCharacterToken;m!==null;m=d.nextCharacterToken)if(c.Token.isTokenComment(m,f)){if(d.advancePastLine()===null)return{line:d.lineFromCursor,rows:h};if(!d.hasMoreCharacters)return{line:d.lineFromCursor,rows:h};d.truncateToCursor()}else if(!this.parseRow(d,h))break;return{line:d.line,rows:h}}parseRow(d,f){if(!d.nextNonSpaceToken)return!1;const h=this.rowParser.parse(d);return h!==null&&(this.parserOptions.ignoreEmpty&&o.RowParser.isEmptyRow(h)||f.push(h),!0)}}i.Parser=l},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(n,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.RowParser=void 0;const a=n("./column"),o=n("./Token");i.RowParser=class{constructor(c){this.parserOptions=c,this.columnParser=new a.ColumnParser(c)}static isEmptyRow(c){return c.join("").replace(/\s+/g,"")===""}parse(c){const{parserOptions:l}=this,{hasMoreData:u}=c,d=c,f=[];let h=this.getStartToken(d,f);for(;h;){if(o.Token.isTokenRowDelimiter(h))return d.advancePastToken(h),!d.hasMoreCharacters&&o.Token.isTokenCarriageReturn(h,l)&&u?null:(d.truncateToCursor(),f);if(!this.shouldSkipColumnParse(d,h,f)){const m=this.columnParser.parse(d);if(m===null)return null;f.push(m)}h=d.nextNonSpaceToken}return u?null:(d.truncateToCursor(),f)}getStartToken(c,l){const u=c.nextNonSpaceToken;return u!==null&&o.Token.isTokenDelimiter(u,this.parserOptions)?(l.push(""),c.nextNonSpaceToken):u}shouldSkipColumnParse(c,l,u){const{parserOptions:d}=this;if(o.Token.isTokenDelimiter(l,d)){c.advancePastToken(l);const f=c.nextCharacterToken;if(!c.hasMoreCharacters||f!==null&&o.Token.isTokenRowDelimiter(f)||f!==null&&o.Token.isTokenDelimiter(f,d))return u.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(n,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Scanner=void 0;const a=n("./Token"),o=/((?:\r\n)|\n|\r)/;i.Scanner=class{constructor(c){this.cursor=0,this.line=c.line,this.lineLength=this.line.length,this.parserOptions=c.parserOptions,this.hasMoreData=c.hasMoreData,this.cursor=c.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:c}=this,l=this.parserOptions.NEXT_TOKEN_REGEXP;if(c.search(l)===-1)return null;const u=l.exec(c);if(u==null)return null;const d=u[1],f=this.cursor+(u.index||0);return new a.Token({token:d,startCursor:f,endCursor:f+d.length-1})}get nextCharacterToken(){const{cursor:c,lineLength:l}=this;return l<=c?null:new a.Token({token:this.line[c],startCursor:c,endCursor:c})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const c=o.exec(this.lineFromCursor);return c?(this.cursor+=(c.index||0)+c[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(c){return this.cursor=c,this}advanceToToken(c){return this.cursor=c.startCursor,this}advancePastToken(c){return this.cursor=c.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(n,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Token=void 0,i.Token=class{constructor(a){this.token=a.token,this.startCursor=a.startCursor,this.endCursor=a.endCursor}static isTokenRowDelimiter(a){const o=a.token;return o==="\r"||o===`
`||o===`\r
`}static isTokenCarriageReturn(a,o){return a.token===o.carriageReturn}static isTokenComment(a,o){return o.supportsComments&&!!a&&a.token===o.comment}static isTokenEscapeCharacter(a,o){return a.token===o.escapeChar}static isTokenQuote(a,o){return a.token===o.quote}static isTokenDelimiter(a,o){return a.token===o.delimiter}}},{}],160:[function(n,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=void 0,i.ColumnFormatter=class{constructor(a){a.trim?this.format=o=>o.trim():a.ltrim?this.format=o=>o.trimLeft():a.rtrim?this.format=o=>o.trimRight():this.format=o=>o}}},{}],161:[function(n,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnParser=void 0;const a=n("./NonQuotedColumnParser"),o=n("./QuotedColumnParser"),c=n("../Token");i.ColumnParser=class{constructor(l){this.parserOptions=l,this.quotedColumnParser=new o.QuotedColumnParser(l),this.nonQuotedColumnParser=new a.NonQuotedColumnParser(l)}parse(l){const{nextNonSpaceToken:u}=l;return u!==null&&c.Token.isTokenQuote(u,this.parserOptions)?(l.advanceToToken(u),this.quotedColumnParser.parse(l)):this.nonQuotedColumnParser.parse(l)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(n,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.NonQuotedColumnParser=void 0;const a=n("./ColumnFormatter"),o=n("../Token");i.NonQuotedColumnParser=class{constructor(c){this.parserOptions=c,this.columnFormatter=new a.ColumnFormatter(c)}parse(c){if(!c.hasMoreCharacters)return null;const{parserOptions:l}=this,u=[];let d=c.nextCharacterToken;for(;d&&!o.Token.isTokenDelimiter(d,l)&&!o.Token.isTokenRowDelimiter(d);d=c.nextCharacterToken)u.push(d.token),c.advancePastToken(d);return this.columnFormatter.format(u.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(n,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=void 0;const a=n("./ColumnFormatter"),o=n("../Token");i.QuotedColumnParser=class{constructor(c){this.parserOptions=c,this.columnFormatter=new a.ColumnFormatter(c)}parse(c){if(!c.hasMoreCharacters)return null;const l=c.cursor,{foundClosingQuote:u,col:d}=this.gatherDataBetweenQuotes(c);if(!u){if(c.advanceTo(l),!c.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${c.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(c),d}gatherDataBetweenQuotes(c){const{parserOptions:l}=this;let u=!1,d=!1;const f=[];let h=c.nextCharacterToken;for(;!d&&h!==null;h=c.nextCharacterToken){const m=o.Token.isTokenQuote(h,l);if(!u&&m)u=!0;else if(u)if(o.Token.isTokenEscapeCharacter(h,l)){c.advancePastToken(h);const A=c.nextCharacterToken;A!==null&&(o.Token.isTokenQuote(A,l)||o.Token.isTokenEscapeCharacter(A,l))?(f.push(A.token),h=A):m?d=!0:f.push(h.token)}else m?d=!0:f.push(h.token);c.advancePastToken(h)}return{col:this.columnFormatter.format(f.join("")),foundClosingQuote:d}}checkForMalformedColumn(c){const{parserOptions:l}=this,{nextNonSpaceToken:u}=c;if(u){const d=o.Token.isTokenDelimiter(u,l),f=o.Token.isTokenRowDelimiter(u);if(!d&&!f){const h=c.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${l.escapedDelimiter}' OR new line got: '${u.token}'. at '${h}`)}c.advanceToToken(u)}else c.hasMoreData||c.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(n,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=void 0;var a=n("./ColumnParser");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return a.ColumnParser}});var o=n("./NonQuotedColumnParser");Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}});var c=n("./QuotedColumnParser");Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return c.QuotedColumnParser}});var l=n("./ColumnFormatter");Object.defineProperty(i,"ColumnFormatter",{enumerable:!0,get:function(){return l.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(n,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=i.Token=i.Scanner=i.RowParser=i.Parser=void 0;var a=n("./Parser");Object.defineProperty(i,"Parser",{enumerable:!0,get:function(){return a.Parser}});var o=n("./RowParser");Object.defineProperty(i,"RowParser",{enumerable:!0,get:function(){return o.RowParser}});var c=n("./Scanner");Object.defineProperty(i,"Scanner",{enumerable:!0,get:function(){return c.Scanner}});var l=n("./Token");Object.defineProperty(i,"Token",{enumerable:!0,get:function(){return l.Token}});var u=n("./column");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return u.ColumnParser}}),Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return u.NonQuotedColumnParser}}),Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return u.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(n,s,i){var a=function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=void 0;const o=a(n("lodash.isundefined")),c=a(n("lodash.isfunction")),l=a(n("lodash.uniq")),u=a(n("lodash.groupby"));i.HeaderTransformer=class{constructor(d){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=d,d.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(d.headers)?this.setHeaders(d.headers):c.default(d.headers)&&(this.headersTransform=d.headers)}transform(d,f){return this.shouldMapRow(d)?f(null,this.processRow(d)):f(null,{row:null,isValid:!0})}shouldMapRow(d){const{parserOptions:f}=this;if(!this.headersTransform&&f.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(d)){if(this.headersTransform)this.setHeaders(this.headersTransform(d));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(d)}return!1}return!0}processRow(d){if(!this.headers)return{row:d,isValid:!0};const{parserOptions:f}=this;if(!f.discardUnmappedColumns&&d.length>this.headersLength){if(!f.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${d.length}`);return{row:d,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${d.length}`}}return f.strictColumnHandling&&d.length<this.headersLength?{row:d,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${d.length}`}:{row:this.mapHeaders(d),isValid:!0}}mapHeaders(d){const f={},{headers:h,headersLength:m}=this;for(let A=0;A<m;A+=1){const g=h[A];if(!o.default(g)){const p=d[A];o.default(p)?f[g]="":f[g]=p}}return f}setHeaders(d){var f;const h=d.filter(m=>!!m);if(l.default(h).length!==h.length){const m=u.default(h),A=Object.keys(m).filter(g=>m[g].length>1);throw new Error("Duplicate headers found "+JSON.stringify(A))}this.headers=d,this.receivedHeaders=!0,this.headersLength=((f=this.headers)===null||f===void 0?void 0:f.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(n,s,i){var a=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowTransformerValidator=void 0;const o=a(n("lodash.isfunction")),c=n("../types");class l{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(d){return c.isSyncTransform(d)?(f,h)=>{let m=null;try{m=d(f)}catch(A){return h(A)}return h(null,m)}:d}static createValidator(d){return c.isSyncValidate(d)?(f,h)=>{h(null,{row:f,isValid:d(f)})}:(f,h)=>{d(f,(m,A,g)=>m?h(m):h(null,A?{row:f,isValid:A,reason:g}:{row:f,isValid:!1,reason:g}))}}set rowTransform(d){if(!o.default(d))throw new TypeError("The transform should be a function");this._rowTransform=l.createTransform(d)}set rowValidator(d){if(!o.default(d))throw new TypeError("The validate should be a function");this._rowValidator=l.createValidator(d)}transformAndValidate(d,f){return this.callTransformer(d,(h,m)=>h?f(h):m?this.callValidator(m,(A,g)=>A?f(A):g&&!g.isValid?f(null,{row:m,isValid:!1,reason:g.reason}):f(null,{row:m,isValid:!0})):f(null,{row:null,isValid:!0}))}callTransformer(d,f){return this._rowTransform?this._rowTransform(d,f):f(null,d)}callValidator(d,f){return this._rowValidator?this._rowValidator(d,f):f(null,{row:d,isValid:!0})}}i.RowTransformerValidator=l},{"../types":169,"lodash.isfunction":446}],168:[function(n,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=i.RowTransformerValidator=void 0;var a=n("./RowTransformerValidator");Object.defineProperty(i,"RowTransformerValidator",{enumerable:!0,get:function(){return a.RowTransformerValidator}});var o=n("./HeaderTransformer");Object.defineProperty(i,"HeaderTransformer",{enumerable:!0,get:function(){return o.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(n,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncValidate=i.isSyncTransform=void 0,i.isSyncTransform=a=>a.length===1,i.isSyncValidate=a=>a.length===1},{}],170:[function(n,s,i){const a=i;a.bignum=n("bn.js"),a.define=n("./asn1/api").define,a.base=n("./asn1/base"),a.constants=n("./asn1/constants"),a.decoders=n("./asn1/decoders"),a.encoders=n("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(n,s,i){const a=n("./encoders"),o=n("./decoders"),c=n("inherits");function l(u,d){this.name=u,this.body=d,this.decoders={},this.encoders={}}i.define=function(u,d){return new l(u,d)},l.prototype._createNamed=function(u){const d=this.name;function f(h){this._initNamed(h,d)}return c(f,u),f.prototype._initNamed=function(h,m){u.call(this,h,m)},new f(this)},l.prototype._getDecoder=function(u){return u=u||"der",this.decoders.hasOwnProperty(u)||(this.decoders[u]=this._createNamed(o[u])),this.decoders[u]},l.prototype.decode=function(u,d,f){return this._getDecoder(d).decode(u,f)},l.prototype._getEncoder=function(u){return u=u||"der",this.encoders.hasOwnProperty(u)||(this.encoders[u]=this._createNamed(a[u])),this.encoders[u]},l.prototype.encode=function(u,d,f){return this._getEncoder(d).encode(u,f)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(n,s,i){const a=n("inherits"),o=n("../base/reporter").Reporter,c=n("safer-buffer").Buffer;function l(d,f){o.call(this,f),c.isBuffer(d)?(this.base=d,this.offset=0,this.length=d.length):this.error("Input not Buffer")}function u(d,f){if(Array.isArray(d))this.length=0,this.value=d.map(function(h){return u.isEncoderBuffer(h)||(h=new u(h,f)),this.length+=h.length,h},this);else if(typeof d=="number"){if(!(0<=d&&d<=255))return f.error("non-byte EncoderBuffer value");this.value=d,this.length=1}else if(typeof d=="string")this.value=d,this.length=c.byteLength(d);else{if(!c.isBuffer(d))return f.error("Unsupported type: "+typeof d);this.value=d,this.length=d.length}}a(l,o),i.DecoderBuffer=l,l.isDecoderBuffer=function(d){return d instanceof l?!0:typeof d=="object"&&c.isBuffer(d.base)&&d.constructor.name==="DecoderBuffer"&&typeof d.offset=="number"&&typeof d.length=="number"&&typeof d.save=="function"&&typeof d.restore=="function"&&typeof d.isEmpty=="function"&&typeof d.readUInt8=="function"&&typeof d.skip=="function"&&typeof d.raw=="function"},l.prototype.save=function(){return{offset:this.offset,reporter:o.prototype.save.call(this)}},l.prototype.restore=function(d){const f=new l(this.base);return f.offset=d.offset,f.length=this.offset,this.offset=d.offset,o.prototype.restore.call(this,d.reporter),f},l.prototype.isEmpty=function(){return this.offset===this.length},l.prototype.readUInt8=function(d){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(d||"DecoderBuffer overrun")},l.prototype.skip=function(d,f){if(!(this.offset+d<=this.length))return this.error(f||"DecoderBuffer overrun");const h=new l(this.base);return h._reporterState=this._reporterState,h.offset=this.offset,h.length=this.offset+d,this.offset+=d,h},l.prototype.raw=function(d){return this.base.slice(d?d.offset:this.offset,this.length)},i.EncoderBuffer=u,u.isEncoderBuffer=function(d){return d instanceof u?!0:typeof d=="object"&&d.constructor.name==="EncoderBuffer"&&typeof d.length=="number"&&typeof d.join=="function"},u.prototype.join=function(d,f){return d||(d=c.alloc(this.length)),f||(f=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(h){h.join(d,f),f+=h.length}):(typeof this.value=="number"?d[f]=this.value:typeof this.value=="string"?d.write(this.value,f):c.isBuffer(this.value)&&this.value.copy(d,f),f+=this.length)),d}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(n,s,i){const a=i;a.Reporter=n("./reporter").Reporter,a.DecoderBuffer=n("./buffer").DecoderBuffer,a.EncoderBuffer=n("./buffer").EncoderBuffer,a.Node=n("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(n,s,i){const a=n("../base/reporter").Reporter,o=n("../base/buffer").EncoderBuffer,c=n("../base/buffer").DecoderBuffer,l=n("minimalistic-assert"),u=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],d=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(u);function f(m,A,g){const p={};this._baseState=p,p.name=g,p.enc=m,p.parent=A||null,p.children=null,p.tag=null,p.args=null,p.reverseArgs=null,p.choice=null,p.optional=!1,p.any=!1,p.obj=!1,p.use=null,p.useDecoder=null,p.key=null,p.default=null,p.explicit=null,p.implicit=null,p.contains=null,p.parent||(p.children=[],this._wrap())}s.exports=f;const h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];f.prototype.clone=function(){const m=this._baseState,A={};h.forEach(function(p){A[p]=m[p]});const g=new this.constructor(A.parent);return g._baseState=A,g},f.prototype._wrap=function(){const m=this._baseState;d.forEach(function(A){this[A]=function(){const g=new this.constructor(this);return m.children.push(g),g[A].apply(g,arguments)}},this)},f.prototype._init=function(m){const A=this._baseState;l(A.parent===null),m.call(this),A.children=A.children.filter(function(g){return g._baseState.parent===this},this),l.equal(A.children.length,1,"Root node can have only one child")},f.prototype._useArgs=function(m){const A=this._baseState,g=m.filter(function(p){return p instanceof this.constructor},this);m=m.filter(function(p){return!(p instanceof this.constructor)},this),g.length!==0&&(l(A.children===null),A.children=g,g.forEach(function(p){p._baseState.parent=this},this)),m.length!==0&&(l(A.args===null),A.args=m,A.reverseArgs=m.map(function(p){if(typeof p!="object"||p.constructor!==Object)return p;const b={};return Object.keys(p).forEach(function(x){x==(0|x)&&(x|=0);const v=p[x];b[v]=x}),b}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(m){f.prototype[m]=function(){const A=this._baseState;throw new Error(m+" not implemented for encoding: "+A.enc)}}),u.forEach(function(m){f.prototype[m]=function(){const A=this._baseState,g=Array.prototype.slice.call(arguments);return l(A.tag===null),A.tag=m,this._useArgs(g),this}}),f.prototype.use=function(m){l(m);const A=this._baseState;return l(A.use===null),A.use=m,this},f.prototype.optional=function(){return this._baseState.optional=!0,this},f.prototype.def=function(m){const A=this._baseState;return l(A.default===null),A.default=m,A.optional=!0,this},f.prototype.explicit=function(m){const A=this._baseState;return l(A.explicit===null&&A.implicit===null),A.explicit=m,this},f.prototype.implicit=function(m){const A=this._baseState;return l(A.explicit===null&&A.implicit===null),A.implicit=m,this},f.prototype.obj=function(){const m=this._baseState,A=Array.prototype.slice.call(arguments);return m.obj=!0,A.length!==0&&this._useArgs(A),this},f.prototype.key=function(m){const A=this._baseState;return l(A.key===null),A.key=m,this},f.prototype.any=function(){return this._baseState.any=!0,this},f.prototype.choice=function(m){const A=this._baseState;return l(A.choice===null),A.choice=m,this._useArgs(Object.keys(m).map(function(g){return m[g]})),this},f.prototype.contains=function(m){const A=this._baseState;return l(A.use===null),A.contains=m,this},f.prototype._decode=function(m,A){const g=this._baseState;if(g.parent===null)return m.wrapResult(g.children[0]._decode(m,A));let p,b=g.default,x=!0,v=null;if(g.key!==null&&(v=m.enterKey(g.key)),g.optional){let y=null;if(g.explicit!==null?y=g.explicit:g.implicit!==null?y=g.implicit:g.tag!==null&&(y=g.tag),y!==null||g.any){if(x=this._peekTag(m,y,g.any),m.isError(x))return x}else{const N=m.save();try{g.choice===null?this._decodeGeneric(g.tag,m,A):this._decodeChoice(m,A),x=!0}catch{x=!1}m.restore(N)}}if(g.obj&&x&&(p=m.enterObject()),x){if(g.explicit!==null){const N=this._decodeTag(m,g.explicit);if(m.isError(N))return N;m=N}const y=m.offset;if(g.use===null&&g.choice===null){let N;g.any&&(N=m.save());const P=this._decodeTag(m,g.implicit!==null?g.implicit:g.tag,g.any);if(m.isError(P))return P;g.any?b=m.raw(N):m=P}if(A&&A.track&&g.tag!==null&&A.track(m.path(),y,m.length,"tagged"),A&&A.track&&g.tag!==null&&A.track(m.path(),m.offset,m.length,"content"),g.any||(b=g.choice===null?this._decodeGeneric(g.tag,m,A):this._decodeChoice(m,A)),m.isError(b))return b;if(g.any||g.choice!==null||g.children===null||g.children.forEach(function(N){N._decode(m,A)}),g.contains&&(g.tag==="octstr"||g.tag==="bitstr")){const N=new c(b);b=this._getUse(g.contains,m._reporterState.obj)._decode(N,A)}}return g.obj&&x&&(b=m.leaveObject(p)),g.key===null||b===null&&x!==!0?v!==null&&m.exitKey(v):m.leaveKey(v,g.key,b),b},f.prototype._decodeGeneric=function(m,A,g){const p=this._baseState;return m==="seq"||m==="set"?null:m==="seqof"||m==="setof"?this._decodeList(A,m,p.args[0],g):/str$/.test(m)?this._decodeStr(A,m,g):m==="objid"&&p.args?this._decodeObjid(A,p.args[0],p.args[1],g):m==="objid"?this._decodeObjid(A,null,null,g):m==="gentime"||m==="utctime"?this._decodeTime(A,m,g):m==="null_"?this._decodeNull(A,g):m==="bool"?this._decodeBool(A,g):m==="objDesc"?this._decodeStr(A,m,g):m==="int"||m==="enum"?this._decodeInt(A,p.args&&p.args[0],g):p.use!==null?this._getUse(p.use,A._reporterState.obj)._decode(A,g):A.error("unknown tag: "+m)},f.prototype._getUse=function(m,A){const g=this._baseState;return g.useDecoder=this._use(m,A),l(g.useDecoder._baseState.parent===null),g.useDecoder=g.useDecoder._baseState.children[0],g.implicit!==g.useDecoder._baseState.implicit&&(g.useDecoder=g.useDecoder.clone(),g.useDecoder._baseState.implicit=g.implicit),g.useDecoder},f.prototype._decodeChoice=function(m,A){const g=this._baseState;let p=null,b=!1;return Object.keys(g.choice).some(function(x){const v=m.save(),y=g.choice[x];try{const N=y._decode(m,A);if(m.isError(N))return!1;p={type:x,value:N},b=!0}catch{return m.restore(v),!1}return!0},this),b?p:m.error("Choice not matched")},f.prototype._createEncoderBuffer=function(m){return new o(m,this.reporter)},f.prototype._encode=function(m,A,g){const p=this._baseState;if(p.default!==null&&p.default===m)return;const b=this._encodeValue(m,A,g);return b===void 0||this._skipDefault(b,A,g)?void 0:b},f.prototype._encodeValue=function(m,A,g){const p=this._baseState;if(p.parent===null)return p.children[0]._encode(m,A||new a);let b=null;if(this.reporter=A,p.optional&&m===void 0){if(p.default===null)return;m=p.default}let x=null,v=!1;if(p.any)b=this._createEncoderBuffer(m);else if(p.choice)b=this._encodeChoice(m,A);else if(p.contains)x=this._getUse(p.contains,g)._encode(m,A),v=!0;else if(p.children)x=p.children.map(function(y){if(y._baseState.tag==="null_")return y._encode(null,A,m);if(y._baseState.key===null)return A.error("Child should have a key");const N=A.enterKey(y._baseState.key);if(typeof m!="object")return A.error("Child expected, but input is not object");const P=y._encode(m[y._baseState.key],A,m);return A.leaveKey(N),P},this).filter(function(y){return y}),x=this._createEncoderBuffer(x);else if(p.tag==="seqof"||p.tag==="setof"){if(!p.args||p.args.length!==1)return A.error("Too many args for : "+p.tag);if(!Array.isArray(m))return A.error("seqof/setof, but data is not Array");const y=this.clone();y._baseState.implicit=null,x=this._createEncoderBuffer(m.map(function(N){const P=this._baseState;return this._getUse(P.args[0],m)._encode(N,A)},y))}else p.use!==null?b=this._getUse(p.use,g)._encode(m,A):(x=this._encodePrimitive(p.tag,m),v=!0);if(!p.any&&p.choice===null){const y=p.implicit!==null?p.implicit:p.tag,N=p.implicit===null?"universal":"context";y===null?p.use===null&&A.error("Tag could be omitted only for .use()"):p.use===null&&(b=this._encodeComposite(y,v,N,x))}return p.explicit!==null&&(b=this._encodeComposite(p.explicit,!1,"context",b)),b},f.prototype._encodeChoice=function(m,A){const g=this._baseState,p=g.choice[m.type];return p||l(!1,m.type+" not found in "+JSON.stringify(Object.keys(g.choice))),p._encode(m.value,A)},f.prototype._encodePrimitive=function(m,A){const g=this._baseState;if(/str$/.test(m))return this._encodeStr(A,m);if(m==="objid"&&g.args)return this._encodeObjid(A,g.reverseArgs[0],g.args[1]);if(m==="objid")return this._encodeObjid(A,null,null);if(m==="gentime"||m==="utctime")return this._encodeTime(A,m);if(m==="null_")return this._encodeNull();if(m==="int"||m==="enum")return this._encodeInt(A,g.args&&g.reverseArgs[0]);if(m==="bool")return this._encodeBool(A);if(m==="objDesc")return this._encodeStr(A,m);throw new Error("Unsupported tag: "+m)},f.prototype._isNumstr=function(m){return/^[0-9 ]*$/.test(m)},f.prototype._isPrintstr=function(m){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(m)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(n,s,i){const a=n("inherits");function o(l){this._reporterState={obj:null,path:[],options:l||{},errors:[]}}function c(l,u){this.path=l,this.rethrow(u)}i.Reporter=o,o.prototype.isError=function(l){return l instanceof c},o.prototype.save=function(){const l=this._reporterState;return{obj:l.obj,pathLen:l.path.length}},o.prototype.restore=function(l){const u=this._reporterState;u.obj=l.obj,u.path=u.path.slice(0,l.pathLen)},o.prototype.enterKey=function(l){return this._reporterState.path.push(l)},o.prototype.exitKey=function(l){const u=this._reporterState;u.path=u.path.slice(0,l-1)},o.prototype.leaveKey=function(l,u,d){const f=this._reporterState;this.exitKey(l),f.obj!==null&&(f.obj[u]=d)},o.prototype.path=function(){return this._reporterState.path.join("/")},o.prototype.enterObject=function(){const l=this._reporterState,u=l.obj;return l.obj={},u},o.prototype.leaveObject=function(l){const u=this._reporterState,d=u.obj;return u.obj=l,d},o.prototype.error=function(l){let u;const d=this._reporterState,f=l instanceof c;if(u=f?l:new c(d.path.map(function(h){return"["+JSON.stringify(h)+"]"}).join(""),l.message||l,l.stack),!d.options.partial)throw u;return f||d.errors.push(u),u},o.prototype.wrapResult=function(l){const u=this._reporterState;return u.options.partial?{result:this.isError(l)?null:l,errors:u.errors}:l},a(c,Error),c.prototype.rethrow=function(l){if(this.message=l+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,c),!this.stack)try{throw new Error(this.message)}catch(u){this.stack=u.stack}return this}},{inherits:440}],176:[function(n,s,i){function a(o){const c={};return Object.keys(o).forEach(function(l){(0|l)==l&&(l|=0);const u=o[l];c[u]=l}),c}i.tagClass={0:"universal",1:"application",2:"context",3:"private"},i.tagClassByName=a(i.tagClass),i.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},i.tagByName=a(i.tag)},{}],177:[function(n,s,i){const a=i;a._reverse=function(o){const c={};return Object.keys(o).forEach(function(l){(0|l)==l&&(l|=0);const u=o[l];c[u]=l}),c},a.der=n("./der")},{"./der":176}],178:[function(n,s,i){const a=n("inherits"),o=n("bn.js"),c=n("../base/buffer").DecoderBuffer,l=n("../base/node"),u=n("../constants/der");function d(A){this.enc="der",this.name=A.name,this.entity=A,this.tree=new f,this.tree._init(A.body)}function f(A){l.call(this,"der",A)}function h(A,g){let p=A.readUInt8(g);if(A.isError(p))return p;const b=u.tagClass[p>>6],x=(32&p)==0;if((31&p)==31){let v=p;for(p=0;(128&v)==128;){if(v=A.readUInt8(g),A.isError(v))return v;p<<=7,p|=127&v}}else p&=31;return{cls:b,primitive:x,tag:p,tagStr:u.tag[p]}}function m(A,g,p){let b=A.readUInt8(p);if(A.isError(b))return b;if(!g&&b===128)return null;if(!(128&b))return b;const x=127&b;if(x>4)return A.error("length octect is too long");b=0;for(let v=0;v<x;v++){b<<=8;const y=A.readUInt8(p);if(A.isError(y))return y;b|=y}return b}s.exports=d,d.prototype.decode=function(A,g){return c.isDecoderBuffer(A)||(A=new c(A,g)),this.tree._decode(A,g)},a(f,l),f.prototype._peekTag=function(A,g,p){if(A.isEmpty())return!1;const b=A.save(),x=h(A,'Failed to peek tag: "'+g+'"');return A.isError(x)?x:(A.restore(b),x.tag===g||x.tagStr===g||x.tagStr+"of"===g||p)},f.prototype._decodeTag=function(A,g,p){const b=h(A,'Failed to decode tag of "'+g+'"');if(A.isError(b))return b;let x=m(A,b.primitive,'Failed to get length of "'+g+'"');if(A.isError(x))return x;if(!p&&b.tag!==g&&b.tagStr!==g&&b.tagStr+"of"!==g)return A.error('Failed to match tag: "'+g+'"');if(b.primitive||x!==null)return A.skip(x,'Failed to match body of: "'+g+'"');const v=A.save(),y=this._skipUntilEnd(A,'Failed to skip indefinite length body: "'+this.tag+'"');return A.isError(y)?y:(x=A.offset-v.offset,A.restore(v),A.skip(x,'Failed to match body of: "'+g+'"'))},f.prototype._skipUntilEnd=function(A,g){for(;;){const p=h(A,g);if(A.isError(p))return p;const b=m(A,p.primitive,g);if(A.isError(b))return b;let x;if(x=p.primitive||b!==null?A.skip(b):this._skipUntilEnd(A,g),A.isError(x))return x;if(p.tagStr==="end")break}},f.prototype._decodeList=function(A,g,p,b){const x=[];for(;!A.isEmpty();){const v=this._peekTag(A,"end");if(A.isError(v))return v;const y=p.decode(A,"der",b);if(A.isError(y)&&v)break;x.push(y)}return x},f.prototype._decodeStr=function(A,g){if(g==="bitstr"){const p=A.readUInt8();return A.isError(p)?p:{unused:p,data:A.raw()}}if(g==="bmpstr"){const p=A.raw();if(p.length%2==1)return A.error("Decoding of string type: bmpstr length mismatch");let b="";for(let x=0;x<p.length/2;x++)b+=String.fromCharCode(p.readUInt16BE(2*x));return b}if(g==="numstr"){const p=A.raw().toString("ascii");return this._isNumstr(p)?p:A.error("Decoding of string type: numstr unsupported characters")}if(g==="octstr"||g==="objDesc")return A.raw();if(g==="printstr"){const p=A.raw().toString("ascii");return this._isPrintstr(p)?p:A.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(g)?A.raw().toString():A.error("Decoding of string type: "+g+" unsupported")},f.prototype._decodeObjid=function(A,g,p){let b;const x=[];let v=0,y=0;for(;!A.isEmpty();)y=A.readUInt8(),v<<=7,v|=127&y,!(128&y)&&(x.push(v),v=0);128&y&&x.push(v);const N=x[0]/40|0,P=x[0]%40;if(b=p?x:[N,P].concat(x.slice(1)),g){let M=g[b.join(" ")];M===void 0&&(M=g[b.join(".")]),M!==void 0&&(b=M)}return b},f.prototype._decodeTime=function(A,g){const p=A.raw().toString();let b,x,v,y,N,P;if(g==="gentime")b=0|p.slice(0,4),x=0|p.slice(4,6),v=0|p.slice(6,8),y=0|p.slice(8,10),N=0|p.slice(10,12),P=0|p.slice(12,14);else{if(g!=="utctime")return A.error("Decoding "+g+" time is not supported yet");b=0|p.slice(0,2),x=0|p.slice(2,4),v=0|p.slice(4,6),y=0|p.slice(6,8),N=0|p.slice(8,10),P=0|p.slice(10,12),b=b<70?2e3+b:1900+b}return Date.UTC(b,x-1,v,y,N,P,0)},f.prototype._decodeNull=function(){return null},f.prototype._decodeBool=function(A){const g=A.readUInt8();return A.isError(g)?g:g!==0},f.prototype._decodeInt=function(A,g){const p=A.raw();let b=new o(p);return g&&(b=g[b.toString(10)]||b),b},f.prototype._use=function(A,g){return typeof A=="function"&&(A=A(g)),A._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(n,s,i){const a=i;a.der=n("./der"),a.pem=n("./pem")},{"./der":178,"./pem":180}],180:[function(n,s,i){const a=n("inherits"),o=n("safer-buffer").Buffer,c=n("./der");function l(u){c.call(this,u),this.enc="pem"}a(l,c),s.exports=l,l.prototype.decode=function(u,d){const f=u.toString().split(/[\r\n]+/g),h=d.label.toUpperCase(),m=/^-----(BEGIN|END) ([^-]+)-----$/;let A=-1,g=-1;for(let x=0;x<f.length;x++){const v=f[x].match(m);if(v!==null&&v[2]===h){if(A!==-1){if(v[1]!=="END")break;g=x;break}if(v[1]!=="BEGIN")break;A=x}}if(A===-1||g===-1)throw new Error("PEM section not found for: "+h);const p=f.slice(A+1,g).join("");p.replace(/[^a-z0-9+/=]+/gi,"");const b=o.from(p,"base64");return c.prototype.decode.call(this,b,d)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(n,s,i){const a=n("inherits"),o=n("safer-buffer").Buffer,c=n("../base/node"),l=n("../constants/der");function u(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new d,this.tree._init(h.body)}function d(h){c.call(this,"der",h)}function f(h){return h<10?"0"+h:h}s.exports=u,u.prototype.encode=function(h,m){return this.tree._encode(h,m).join()},a(d,c),d.prototype._encodeComposite=function(h,m,A,g){const p=function(v,y,N,P){let M;if(v==="seqof"?v="seq":v==="setof"&&(v="set"),l.tagByName.hasOwnProperty(v))M=l.tagByName[v];else{if(typeof v!="number"||(0|v)!==v)return P.error("Unknown tag: "+v);M=v}return M>=31?P.error("Multi-octet tag encoding unsupported"):(y||(M|=32),M|=l.tagClassByName[N||"universal"]<<6,M)}(h,m,A,this.reporter);if(g.length<128){const v=o.alloc(2);return v[0]=p,v[1]=g.length,this._createEncoderBuffer([v,g])}let b=1;for(let v=g.length;v>=256;v>>=8)b++;const x=o.alloc(2+b);x[0]=p,x[1]=128|b;for(let v=1+b,y=g.length;y>0;v--,y>>=8)x[v]=255&y;return this._createEncoderBuffer([x,g])},d.prototype._encodeStr=function(h,m){if(m==="bitstr")return this._createEncoderBuffer([0|h.unused,h.data]);if(m==="bmpstr"){const A=o.alloc(2*h.length);for(let g=0;g<h.length;g++)A.writeUInt16BE(h.charCodeAt(g),2*g);return this._createEncoderBuffer(A)}return m==="numstr"?this._isNumstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: numstr supports only digits and space"):m==="printstr"?this._isPrintstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(m)||m==="objDesc"?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: "+m+" unsupported")},d.prototype._encodeObjid=function(h,m,A){if(typeof h=="string"){if(!m)return this.reporter.error("string objid given, but no values map found");if(!m.hasOwnProperty(h))return this.reporter.error("objid not found in values map");h=m[h].split(/[\s.]+/g);for(let x=0;x<h.length;x++)h[x]|=0}else if(Array.isArray(h)){h=h.slice();for(let x=0;x<h.length;x++)h[x]|=0}if(!Array.isArray(h))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(h));if(!A){if(h[1]>=40)return this.reporter.error("Second objid identifier OOB");h.splice(0,2,40*h[0]+h[1])}let g=0;for(let x=0;x<h.length;x++){let v=h[x];for(g++;v>=128;v>>=7)g++}const p=o.alloc(g);let b=p.length-1;for(let x=h.length-1;x>=0;x--){let v=h[x];for(p[b--]=127&v;(v>>=7)>0;)p[b--]=128|127&v}return this._createEncoderBuffer(p)},d.prototype._encodeTime=function(h,m){let A;const g=new Date(h);return m==="gentime"?A=[f(g.getUTCFullYear()),f(g.getUTCMonth()+1),f(g.getUTCDate()),f(g.getUTCHours()),f(g.getUTCMinutes()),f(g.getUTCSeconds()),"Z"].join(""):m==="utctime"?A=[f(g.getUTCFullYear()%100),f(g.getUTCMonth()+1),f(g.getUTCDate()),f(g.getUTCHours()),f(g.getUTCMinutes()),f(g.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+m+" time is not supported yet"),this._encodeStr(A,"octstr")},d.prototype._encodeNull=function(){return this._createEncoderBuffer("")},d.prototype._encodeInt=function(h,m){if(typeof h=="string"){if(!m)return this.reporter.error("String int or enum given, but no values map");if(!m.hasOwnProperty(h))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(h));h=m[h]}if(typeof h!="number"&&!o.isBuffer(h)){const p=h.toArray();!h.sign&&128&p[0]&&p.unshift(0),h=o.from(p)}if(o.isBuffer(h)){let p=h.length;h.length===0&&p++;const b=o.alloc(p);return h.copy(b),h.length===0&&(b[0]=0),this._createEncoderBuffer(b)}if(h<128)return this._createEncoderBuffer(h);if(h<256)return this._createEncoderBuffer([0,h]);let A=1;for(let p=h;p>=256;p>>=8)A++;const g=new Array(A);for(let p=g.length-1;p>=0;p--)g[p]=255&h,h>>=8;return 128&g[0]&&g.unshift(0),this._createEncoderBuffer(o.from(g))},d.prototype._encodeBool=function(h){return this._createEncoderBuffer(h?255:0)},d.prototype._use=function(h,m){return typeof h=="function"&&(h=h(m)),h._getEncoder("der").tree},d.prototype._skipDefault=function(h,m,A){const g=this._baseState;let p;if(g.default===null)return!1;const b=h.join();if(g.defaultBuffer===void 0&&(g.defaultBuffer=this._encodeValue(g.default,m,A).join()),b.length!==g.defaultBuffer.length)return!1;for(p=0;p<b.length;p++)if(b[p]!==g.defaultBuffer[p])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(n,s,i){const a=i;a.der=n("./der"),a.pem=n("./pem")},{"./der":181,"./pem":183}],183:[function(n,s,i){const a=n("inherits"),o=n("./der");function c(l){o.call(this,l),this.enc="pem"}a(c,o),s.exports=c,c.prototype.encode=function(l,u){const d=o.prototype.encode.call(this,l).toString("base64"),f=["-----BEGIN "+u.label+"-----"];for(let h=0;h<d.length;h+=64)f.push(d.slice(h,h+64));return f.push("-----END "+u.label+"-----"),f.join(`
`)}},{"./der":181,inherits:440}],184:[function(n,s,i){(function(a,o){function c(_,E){if(!_)throw new Error(E||"Assertion failed")}function l(_,E){_.super_=E;var T=function(){};T.prototype=E.prototype,_.prototype=new T,_.prototype.constructor=_}function u(_,E,T){if(u.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&(E!=="le"&&E!=="be"||(T=E,E=10),this._init(_||0,E||10,T||"be"))}var d;typeof a=="object"?a.exports=u:(void 0).BN=u,u.BN=u,u.wordSize=26;try{d=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:n("buffer").Buffer}catch{}function f(_,E){var T=_.charCodeAt(E);return T>=65&&T<=70?T-55:T>=97&&T<=102?T-87:T-48&15}function h(_,E,T){var w=f(_,T);return T-1>=E&&(w|=f(_,T-1)<<4),w}function m(_,E,T,w){for(var C=0,j=Math.min(_.length,T),S=E;S<j;S++){var I=_.charCodeAt(S)-48;C*=w,C+=I>=49?I-49+10:I>=17?I-17+10:I}return C}u.isBN=function(_){return _ instanceof u||_!==null&&typeof _=="object"&&_.constructor.wordSize===u.wordSize&&Array.isArray(_.words)},u.max=function(_,E){return _.cmp(E)>0?_:E},u.min=function(_,E){return _.cmp(E)<0?_:E},u.prototype._init=function(_,E,T){if(typeof _=="number")return this._initNumber(_,E,T);if(typeof _=="object")return this._initArray(_,E,T);E==="hex"&&(E=16),c(E===(0|E)&&E>=2&&E<=36);var w=0;(_=_.toString().replace(/\s+/g,""))[0]==="-"&&(w++,this.negative=1),w<_.length&&(E===16?this._parseHex(_,w,T):(this._parseBase(_,E,w),T==="le"&&this._initArray(this.toArray(),E,T)))},u.prototype._initNumber=function(_,E,T){_<0&&(this.negative=1,_=-_),_<67108864?(this.words=[67108863&_],this.length=1):_<4503599627370496?(this.words=[67108863&_,_/67108864&67108863],this.length=2):(c(_<9007199254740992),this.words=[67108863&_,_/67108864&67108863,1],this.length=3),T==="le"&&this._initArray(this.toArray(),E,T)},u.prototype._initArray=function(_,E,T){if(c(typeof _.length=="number"),_.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(_.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var C,j,S=0;if(T==="be")for(w=_.length-1,C=0;w>=0;w-=3)j=_[w]|_[w-1]<<8|_[w-2]<<16,this.words[C]|=j<<S&67108863,this.words[C+1]=j>>>26-S&67108863,(S+=24)>=26&&(S-=26,C++);else if(T==="le")for(w=0,C=0;w<_.length;w+=3)j=_[w]|_[w+1]<<8|_[w+2]<<16,this.words[C]|=j<<S&67108863,this.words[C+1]=j>>>26-S&67108863,(S+=24)>=26&&(S-=26,C++);return this.strip()},u.prototype._parseHex=function(_,E,T){this.length=Math.ceil((_.length-E)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var C,j=0,S=0;if(T==="be")for(w=_.length-1;w>=E;w-=2)C=h(_,E,w)<<j,this.words[S]|=67108863&C,j>=18?(j-=18,S+=1,this.words[S]|=C>>>26):j+=8;else for(w=(_.length-E)%2==0?E+1:E;w<_.length;w+=2)C=h(_,E,w)<<j,this.words[S]|=67108863&C,j>=18?(j-=18,S+=1,this.words[S]|=C>>>26):j+=8;this.strip()},u.prototype._parseBase=function(_,E,T){this.words=[0],this.length=1;for(var w=0,C=1;C<=67108863;C*=E)w++;w--,C=C/E|0;for(var j=_.length-T,S=j%w,I=Math.min(j,j-S)+T,R=0,U=T;U<I;U+=w)R=m(_,U,U+w,E),this.imuln(C),this.words[0]+R<67108864?this.words[0]+=R:this._iaddn(R);if(S!==0){var z=1;for(R=m(_,U,_.length,E),U=0;U<S;U++)z*=E;this.imuln(z),this.words[0]+R<67108864?this.words[0]+=R:this._iaddn(R)}this.strip()},u.prototype.copy=function(_){_.words=new Array(this.length);for(var E=0;E<this.length;E++)_.words[E]=this.words[E];_.length=this.length,_.negative=this.negative,_.red=this.red},u.prototype.clone=function(){var _=new u(null);return this.copy(_),_},u.prototype._expand=function(_){for(;this.length<_;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var A=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function b(_,E,T){T.negative=E.negative^_.negative;var w=_.length+E.length|0;T.length=w,w=w-1|0;var C=0|_.words[0],j=0|E.words[0],S=C*j,I=67108863&S,R=S/67108864|0;T.words[0]=I;for(var U=1;U<w;U++){for(var z=R>>>26,V=67108863&R,X=Math.min(U,E.length-1),$=Math.max(0,U-_.length+1);$<=X;$++){var W=U-$|0;z+=(S=(C=0|_.words[W])*(j=0|E.words[$])+V)/67108864|0,V=67108863&S}T.words[U]=0|V,R=0|z}return R!==0?T.words[U]=0|R:T.length--,T.strip()}u.prototype.toString=function(_,E){var T;if(E=0|E||1,(_=_||10)===16||_==="hex"){T="";for(var w=0,C=0,j=0;j<this.length;j++){var S=this.words[j],I=(16777215&(S<<w|C)).toString(16);T=(C=S>>>24-w&16777215)!==0||j!==this.length-1?A[6-I.length]+I+T:I+T,(w+=2)>=26&&(w-=26,j--)}for(C!==0&&(T=C.toString(16)+T);T.length%E!=0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}if(_===(0|_)&&_>=2&&_<=36){var R=g[_],U=p[_];T="";var z=this.clone();for(z.negative=0;!z.isZero();){var V=z.modn(U).toString(_);T=(z=z.idivn(U)).isZero()?V+T:A[R-V.length]+V+T}for(this.isZero()&&(T="0"+T);T.length%E!=0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}c(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var _=this.words[0];return this.length===2?_+=67108864*this.words[1]:this.length===3&&this.words[2]===1?_+=4503599627370496+67108864*this.words[1]:this.length>2&&c(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-_:_},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(_,E){return c(d!==void 0),this.toArrayLike(d,_,E)},u.prototype.toArray=function(_,E){return this.toArrayLike(Array,_,E)},u.prototype.toArrayLike=function(_,E,T){var w=this.byteLength(),C=T||Math.max(1,w);c(w<=C,"byte array longer than desired length"),c(C>0,"Requested array length <= 0"),this.strip();var j,S,I=E==="le",R=new _(C),U=this.clone();if(I){for(S=0;!U.isZero();S++)j=U.andln(255),U.iushrn(8),R[S]=j;for(;S<C;S++)R[S]=0}else{for(S=0;S<C-w;S++)R[S]=0;for(S=0;!U.isZero();S++)j=U.andln(255),U.iushrn(8),R[C-S-1]=j}return R},Math.clz32?u.prototype._countBits=function(_){return 32-Math.clz32(_)}:u.prototype._countBits=function(_){var E=_,T=0;return E>=4096&&(T+=13,E>>>=13),E>=64&&(T+=7,E>>>=7),E>=8&&(T+=4,E>>>=4),E>=2&&(T+=2,E>>>=2),T+E},u.prototype._zeroBits=function(_){if(_===0)return 26;var E=_,T=0;return!(8191&E)&&(T+=13,E>>>=13),!(127&E)&&(T+=7,E>>>=7),!(15&E)&&(T+=4,E>>>=4),!(3&E)&&(T+=2,E>>>=2),!(1&E)&&T++,T},u.prototype.bitLength=function(){var _=this.words[this.length-1],E=this._countBits(_);return 26*(this.length-1)+E},u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var _=0,E=0;E<this.length;E++){var T=this._zeroBits(this.words[E]);if(_+=T,T!==26)break}return _},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(_){return this.negative!==0?this.abs().inotn(_).iaddn(1):this.clone()},u.prototype.fromTwos=function(_){return this.testn(_-1)?this.notn(_).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(_){for(;this.length<_.length;)this.words[this.length++]=0;for(var E=0;E<_.length;E++)this.words[E]=this.words[E]|_.words[E];return this.strip()},u.prototype.ior=function(_){return c((this.negative|_.negative)==0),this.iuor(_)},u.prototype.or=function(_){return this.length>_.length?this.clone().ior(_):_.clone().ior(this)},u.prototype.uor=function(_){return this.length>_.length?this.clone().iuor(_):_.clone().iuor(this)},u.prototype.iuand=function(_){var E;E=this.length>_.length?_:this;for(var T=0;T<E.length;T++)this.words[T]=this.words[T]&_.words[T];return this.length=E.length,this.strip()},u.prototype.iand=function(_){return c((this.negative|_.negative)==0),this.iuand(_)},u.prototype.and=function(_){return this.length>_.length?this.clone().iand(_):_.clone().iand(this)},u.prototype.uand=function(_){return this.length>_.length?this.clone().iuand(_):_.clone().iuand(this)},u.prototype.iuxor=function(_){var E,T;this.length>_.length?(E=this,T=_):(E=_,T=this);for(var w=0;w<T.length;w++)this.words[w]=E.words[w]^T.words[w];if(this!==E)for(;w<E.length;w++)this.words[w]=E.words[w];return this.length=E.length,this.strip()},u.prototype.ixor=function(_){return c((this.negative|_.negative)==0),this.iuxor(_)},u.prototype.xor=function(_){return this.length>_.length?this.clone().ixor(_):_.clone().ixor(this)},u.prototype.uxor=function(_){return this.length>_.length?this.clone().iuxor(_):_.clone().iuxor(this)},u.prototype.inotn=function(_){c(typeof _=="number"&&_>=0);var E=0|Math.ceil(_/26),T=_%26;this._expand(E),T>0&&E--;for(var w=0;w<E;w++)this.words[w]=67108863&~this.words[w];return T>0&&(this.words[w]=~this.words[w]&67108863>>26-T),this.strip()},u.prototype.notn=function(_){return this.clone().inotn(_)},u.prototype.setn=function(_,E){c(typeof _=="number"&&_>=0);var T=_/26|0,w=_%26;return this._expand(T+1),this.words[T]=E?this.words[T]|1<<w:this.words[T]&~(1<<w),this.strip()},u.prototype.iadd=function(_){var E,T,w;if(this.negative!==0&&_.negative===0)return this.negative=0,E=this.isub(_),this.negative^=1,this._normSign();if(this.negative===0&&_.negative!==0)return _.negative=0,E=this.isub(_),_.negative=1,E._normSign();this.length>_.length?(T=this,w=_):(T=_,w=this);for(var C=0,j=0;j<w.length;j++)E=(0|T.words[j])+(0|w.words[j])+C,this.words[j]=67108863&E,C=E>>>26;for(;C!==0&&j<T.length;j++)E=(0|T.words[j])+C,this.words[j]=67108863&E,C=E>>>26;if(this.length=T.length,C!==0)this.words[this.length]=C,this.length++;else if(T!==this)for(;j<T.length;j++)this.words[j]=T.words[j];return this},u.prototype.add=function(_){var E;return _.negative!==0&&this.negative===0?(_.negative=0,E=this.sub(_),_.negative^=1,E):_.negative===0&&this.negative!==0?(this.negative=0,E=_.sub(this),this.negative=1,E):this.length>_.length?this.clone().iadd(_):_.clone().iadd(this)},u.prototype.isub=function(_){if(_.negative!==0){_.negative=0;var E=this.iadd(_);return _.negative=1,E._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(_),this.negative=1,this._normSign();var T,w,C=this.cmp(_);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;C>0?(T=this,w=_):(T=_,w=this);for(var j=0,S=0;S<w.length;S++)j=(E=(0|T.words[S])-(0|w.words[S])+j)>>26,this.words[S]=67108863&E;for(;j!==0&&S<T.length;S++)j=(E=(0|T.words[S])+j)>>26,this.words[S]=67108863&E;if(j===0&&S<T.length&&T!==this)for(;S<T.length;S++)this.words[S]=T.words[S];return this.length=Math.max(this.length,S),T!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(_){return this.clone().isub(_)};var x=function(_,E,T){var w,C,j,S=_.words,I=E.words,R=T.words,U=0,z=0|S[0],V=8191&z,X=z>>>13,$=0|S[1],W=8191&$,H=$>>>13,Q=0|S[2],G=8191&Q,J=Q>>>13,ee=0|S[3],K=8191&ee,ne=ee>>>13,ue=0|S[4],se=8191&ue,ie=ue>>>13,q=0|S[5],Z=8191&q,te=q>>>13,re=0|S[6],Y=8191&re,oe=re>>>13,ae=0|S[7],ce=8191&ae,de=ae>>>13,pe=0|S[8],Ae=8191&pe,le=pe>>>13,he=0|S[9],me=8191&he,ve=he>>>13,_e=0|I[0],Te=8191&_e,Ue=_e>>>13,Ee=0|I[1],Me=8191&Ee,Ie=Ee>>>13,Ce=0|I[2],Pe=8191&Ce,ge=Ce>>>13,Ne=0|I[3],ke=8191&Ne,ze=Ne>>>13,Re=0|I[4],Ve=8191&Re,rt=Re>>>13,Dt=0|I[5],xt=8191&Dt,Qt=Dt>>>13,bt=0|I[6],Bt=8191&bt,Se=bt>>>13,Le=0|I[7],Ge=8191&Le,at=Le>>>13,zt=0|I[8],pt=8191&zt,Ot=zt>>>13,Vt=0|I[9],It=8191&Vt,nn=Vt>>>13;T.negative=_.negative^E.negative,T.length=19;var en=(U+(w=Math.imul(V,Te))|0)+((8191&(C=(C=Math.imul(V,Ue))+Math.imul(X,Te)|0))<<13)|0;U=((j=Math.imul(X,Ue))+(C>>>13)|0)+(en>>>26)|0,en&=67108863,w=Math.imul(W,Te),C=(C=Math.imul(W,Ue))+Math.imul(H,Te)|0,j=Math.imul(H,Ue);var xn=(U+(w=w+Math.imul(V,Me)|0)|0)+((8191&(C=(C=C+Math.imul(V,Ie)|0)+Math.imul(X,Me)|0))<<13)|0;U=((j=j+Math.imul(X,Ie)|0)+(C>>>13)|0)+(xn>>>26)|0,xn&=67108863,w=Math.imul(G,Te),C=(C=Math.imul(G,Ue))+Math.imul(J,Te)|0,j=Math.imul(J,Ue),w=w+Math.imul(W,Me)|0,C=(C=C+Math.imul(W,Ie)|0)+Math.imul(H,Me)|0,j=j+Math.imul(H,Ie)|0;var vt=(U+(w=w+Math.imul(V,Pe)|0)|0)+((8191&(C=(C=C+Math.imul(V,ge)|0)+Math.imul(X,Pe)|0))<<13)|0;U=((j=j+Math.imul(X,ge)|0)+(C>>>13)|0)+(vt>>>26)|0,vt&=67108863,w=Math.imul(K,Te),C=(C=Math.imul(K,Ue))+Math.imul(ne,Te)|0,j=Math.imul(ne,Ue),w=w+Math.imul(G,Me)|0,C=(C=C+Math.imul(G,Ie)|0)+Math.imul(J,Me)|0,j=j+Math.imul(J,Ie)|0,w=w+Math.imul(W,Pe)|0,C=(C=C+Math.imul(W,ge)|0)+Math.imul(H,Pe)|0,j=j+Math.imul(H,ge)|0;var Be=(U+(w=w+Math.imul(V,ke)|0)|0)+((8191&(C=(C=C+Math.imul(V,ze)|0)+Math.imul(X,ke)|0))<<13)|0;U=((j=j+Math.imul(X,ze)|0)+(C>>>13)|0)+(Be>>>26)|0,Be&=67108863,w=Math.imul(se,Te),C=(C=Math.imul(se,Ue))+Math.imul(ie,Te)|0,j=Math.imul(ie,Ue),w=w+Math.imul(K,Me)|0,C=(C=C+Math.imul(K,Ie)|0)+Math.imul(ne,Me)|0,j=j+Math.imul(ne,Ie)|0,w=w+Math.imul(G,Pe)|0,C=(C=C+Math.imul(G,ge)|0)+Math.imul(J,Pe)|0,j=j+Math.imul(J,ge)|0,w=w+Math.imul(W,ke)|0,C=(C=C+Math.imul(W,ze)|0)+Math.imul(H,ke)|0,j=j+Math.imul(H,ze)|0;var Ze=(U+(w=w+Math.imul(V,Ve)|0)|0)+((8191&(C=(C=C+Math.imul(V,rt)|0)+Math.imul(X,Ve)|0))<<13)|0;U=((j=j+Math.imul(X,rt)|0)+(C>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,w=Math.imul(Z,Te),C=(C=Math.imul(Z,Ue))+Math.imul(te,Te)|0,j=Math.imul(te,Ue),w=w+Math.imul(se,Me)|0,C=(C=C+Math.imul(se,Ie)|0)+Math.imul(ie,Me)|0,j=j+Math.imul(ie,Ie)|0,w=w+Math.imul(K,Pe)|0,C=(C=C+Math.imul(K,ge)|0)+Math.imul(ne,Pe)|0,j=j+Math.imul(ne,ge)|0,w=w+Math.imul(G,ke)|0,C=(C=C+Math.imul(G,ze)|0)+Math.imul(J,ke)|0,j=j+Math.imul(J,ze)|0,w=w+Math.imul(W,Ve)|0,C=(C=C+Math.imul(W,rt)|0)+Math.imul(H,Ve)|0,j=j+Math.imul(H,rt)|0;var mt=(U+(w=w+Math.imul(V,xt)|0)|0)+((8191&(C=(C=C+Math.imul(V,Qt)|0)+Math.imul(X,xt)|0))<<13)|0;U=((j=j+Math.imul(X,Qt)|0)+(C>>>13)|0)+(mt>>>26)|0,mt&=67108863,w=Math.imul(Y,Te),C=(C=Math.imul(Y,Ue))+Math.imul(oe,Te)|0,j=Math.imul(oe,Ue),w=w+Math.imul(Z,Me)|0,C=(C=C+Math.imul(Z,Ie)|0)+Math.imul(te,Me)|0,j=j+Math.imul(te,Ie)|0,w=w+Math.imul(se,Pe)|0,C=(C=C+Math.imul(se,ge)|0)+Math.imul(ie,Pe)|0,j=j+Math.imul(ie,ge)|0,w=w+Math.imul(K,ke)|0,C=(C=C+Math.imul(K,ze)|0)+Math.imul(ne,ke)|0,j=j+Math.imul(ne,ze)|0,w=w+Math.imul(G,Ve)|0,C=(C=C+Math.imul(G,rt)|0)+Math.imul(J,Ve)|0,j=j+Math.imul(J,rt)|0,w=w+Math.imul(W,xt)|0,C=(C=C+Math.imul(W,Qt)|0)+Math.imul(H,xt)|0,j=j+Math.imul(H,Qt)|0;var gn=(U+(w=w+Math.imul(V,Bt)|0)|0)+((8191&(C=(C=C+Math.imul(V,Se)|0)+Math.imul(X,Bt)|0))<<13)|0;U=((j=j+Math.imul(X,Se)|0)+(C>>>13)|0)+(gn>>>26)|0,gn&=67108863,w=Math.imul(ce,Te),C=(C=Math.imul(ce,Ue))+Math.imul(de,Te)|0,j=Math.imul(de,Ue),w=w+Math.imul(Y,Me)|0,C=(C=C+Math.imul(Y,Ie)|0)+Math.imul(oe,Me)|0,j=j+Math.imul(oe,Ie)|0,w=w+Math.imul(Z,Pe)|0,C=(C=C+Math.imul(Z,ge)|0)+Math.imul(te,Pe)|0,j=j+Math.imul(te,ge)|0,w=w+Math.imul(se,ke)|0,C=(C=C+Math.imul(se,ze)|0)+Math.imul(ie,ke)|0,j=j+Math.imul(ie,ze)|0,w=w+Math.imul(K,Ve)|0,C=(C=C+Math.imul(K,rt)|0)+Math.imul(ne,Ve)|0,j=j+Math.imul(ne,rt)|0,w=w+Math.imul(G,xt)|0,C=(C=C+Math.imul(G,Qt)|0)+Math.imul(J,xt)|0,j=j+Math.imul(J,Qt)|0,w=w+Math.imul(W,Bt)|0,C=(C=C+Math.imul(W,Se)|0)+Math.imul(H,Bt)|0,j=j+Math.imul(H,Se)|0;var xe=(U+(w=w+Math.imul(V,Ge)|0)|0)+((8191&(C=(C=C+Math.imul(V,at)|0)+Math.imul(X,Ge)|0))<<13)|0;U=((j=j+Math.imul(X,at)|0)+(C>>>13)|0)+(xe>>>26)|0,xe&=67108863,w=Math.imul(Ae,Te),C=(C=Math.imul(Ae,Ue))+Math.imul(le,Te)|0,j=Math.imul(le,Ue),w=w+Math.imul(ce,Me)|0,C=(C=C+Math.imul(ce,Ie)|0)+Math.imul(de,Me)|0,j=j+Math.imul(de,Ie)|0,w=w+Math.imul(Y,Pe)|0,C=(C=C+Math.imul(Y,ge)|0)+Math.imul(oe,Pe)|0,j=j+Math.imul(oe,ge)|0,w=w+Math.imul(Z,ke)|0,C=(C=C+Math.imul(Z,ze)|0)+Math.imul(te,ke)|0,j=j+Math.imul(te,ze)|0,w=w+Math.imul(se,Ve)|0,C=(C=C+Math.imul(se,rt)|0)+Math.imul(ie,Ve)|0,j=j+Math.imul(ie,rt)|0,w=w+Math.imul(K,xt)|0,C=(C=C+Math.imul(K,Qt)|0)+Math.imul(ne,xt)|0,j=j+Math.imul(ne,Qt)|0,w=w+Math.imul(G,Bt)|0,C=(C=C+Math.imul(G,Se)|0)+Math.imul(J,Bt)|0,j=j+Math.imul(J,Se)|0,w=w+Math.imul(W,Ge)|0,C=(C=C+Math.imul(W,at)|0)+Math.imul(H,Ge)|0,j=j+Math.imul(H,at)|0;var Oe=(U+(w=w+Math.imul(V,pt)|0)|0)+((8191&(C=(C=C+Math.imul(V,Ot)|0)+Math.imul(X,pt)|0))<<13)|0;U=((j=j+Math.imul(X,Ot)|0)+(C>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,w=Math.imul(me,Te),C=(C=Math.imul(me,Ue))+Math.imul(ve,Te)|0,j=Math.imul(ve,Ue),w=w+Math.imul(Ae,Me)|0,C=(C=C+Math.imul(Ae,Ie)|0)+Math.imul(le,Me)|0,j=j+Math.imul(le,Ie)|0,w=w+Math.imul(ce,Pe)|0,C=(C=C+Math.imul(ce,ge)|0)+Math.imul(de,Pe)|0,j=j+Math.imul(de,ge)|0,w=w+Math.imul(Y,ke)|0,C=(C=C+Math.imul(Y,ze)|0)+Math.imul(oe,ke)|0,j=j+Math.imul(oe,ze)|0,w=w+Math.imul(Z,Ve)|0,C=(C=C+Math.imul(Z,rt)|0)+Math.imul(te,Ve)|0,j=j+Math.imul(te,rt)|0,w=w+Math.imul(se,xt)|0,C=(C=C+Math.imul(se,Qt)|0)+Math.imul(ie,xt)|0,j=j+Math.imul(ie,Qt)|0,w=w+Math.imul(K,Bt)|0,C=(C=C+Math.imul(K,Se)|0)+Math.imul(ne,Bt)|0,j=j+Math.imul(ne,Se)|0,w=w+Math.imul(G,Ge)|0,C=(C=C+Math.imul(G,at)|0)+Math.imul(J,Ge)|0,j=j+Math.imul(J,at)|0,w=w+Math.imul(W,pt)|0,C=(C=C+Math.imul(W,Ot)|0)+Math.imul(H,pt)|0,j=j+Math.imul(H,Ot)|0;var qe=(U+(w=w+Math.imul(V,It)|0)|0)+((8191&(C=(C=C+Math.imul(V,nn)|0)+Math.imul(X,It)|0))<<13)|0;U=((j=j+Math.imul(X,nn)|0)+(C>>>13)|0)+(qe>>>26)|0,qe&=67108863,w=Math.imul(me,Me),C=(C=Math.imul(me,Ie))+Math.imul(ve,Me)|0,j=Math.imul(ve,Ie),w=w+Math.imul(Ae,Pe)|0,C=(C=C+Math.imul(Ae,ge)|0)+Math.imul(le,Pe)|0,j=j+Math.imul(le,ge)|0,w=w+Math.imul(ce,ke)|0,C=(C=C+Math.imul(ce,ze)|0)+Math.imul(de,ke)|0,j=j+Math.imul(de,ze)|0,w=w+Math.imul(Y,Ve)|0,C=(C=C+Math.imul(Y,rt)|0)+Math.imul(oe,Ve)|0,j=j+Math.imul(oe,rt)|0,w=w+Math.imul(Z,xt)|0,C=(C=C+Math.imul(Z,Qt)|0)+Math.imul(te,xt)|0,j=j+Math.imul(te,Qt)|0,w=w+Math.imul(se,Bt)|0,C=(C=C+Math.imul(se,Se)|0)+Math.imul(ie,Bt)|0,j=j+Math.imul(ie,Se)|0,w=w+Math.imul(K,Ge)|0,C=(C=C+Math.imul(K,at)|0)+Math.imul(ne,Ge)|0,j=j+Math.imul(ne,at)|0,w=w+Math.imul(G,pt)|0,C=(C=C+Math.imul(G,Ot)|0)+Math.imul(J,pt)|0,j=j+Math.imul(J,Ot)|0;var Je=(U+(w=w+Math.imul(W,It)|0)|0)+((8191&(C=(C=C+Math.imul(W,nn)|0)+Math.imul(H,It)|0))<<13)|0;U=((j=j+Math.imul(H,nn)|0)+(C>>>13)|0)+(Je>>>26)|0,Je&=67108863,w=Math.imul(me,Pe),C=(C=Math.imul(me,ge))+Math.imul(ve,Pe)|0,j=Math.imul(ve,ge),w=w+Math.imul(Ae,ke)|0,C=(C=C+Math.imul(Ae,ze)|0)+Math.imul(le,ke)|0,j=j+Math.imul(le,ze)|0,w=w+Math.imul(ce,Ve)|0,C=(C=C+Math.imul(ce,rt)|0)+Math.imul(de,Ve)|0,j=j+Math.imul(de,rt)|0,w=w+Math.imul(Y,xt)|0,C=(C=C+Math.imul(Y,Qt)|0)+Math.imul(oe,xt)|0,j=j+Math.imul(oe,Qt)|0,w=w+Math.imul(Z,Bt)|0,C=(C=C+Math.imul(Z,Se)|0)+Math.imul(te,Bt)|0,j=j+Math.imul(te,Se)|0,w=w+Math.imul(se,Ge)|0,C=(C=C+Math.imul(se,at)|0)+Math.imul(ie,Ge)|0,j=j+Math.imul(ie,at)|0,w=w+Math.imul(K,pt)|0,C=(C=C+Math.imul(K,Ot)|0)+Math.imul(ne,pt)|0,j=j+Math.imul(ne,Ot)|0;var kt=(U+(w=w+Math.imul(G,It)|0)|0)+((8191&(C=(C=C+Math.imul(G,nn)|0)+Math.imul(J,It)|0))<<13)|0;U=((j=j+Math.imul(J,nn)|0)+(C>>>13)|0)+(kt>>>26)|0,kt&=67108863,w=Math.imul(me,ke),C=(C=Math.imul(me,ze))+Math.imul(ve,ke)|0,j=Math.imul(ve,ze),w=w+Math.imul(Ae,Ve)|0,C=(C=C+Math.imul(Ae,rt)|0)+Math.imul(le,Ve)|0,j=j+Math.imul(le,rt)|0,w=w+Math.imul(ce,xt)|0,C=(C=C+Math.imul(ce,Qt)|0)+Math.imul(de,xt)|0,j=j+Math.imul(de,Qt)|0,w=w+Math.imul(Y,Bt)|0,C=(C=C+Math.imul(Y,Se)|0)+Math.imul(oe,Bt)|0,j=j+Math.imul(oe,Se)|0,w=w+Math.imul(Z,Ge)|0,C=(C=C+Math.imul(Z,at)|0)+Math.imul(te,Ge)|0,j=j+Math.imul(te,at)|0,w=w+Math.imul(se,pt)|0,C=(C=C+Math.imul(se,Ot)|0)+Math.imul(ie,pt)|0,j=j+Math.imul(ie,Ot)|0;var ot=(U+(w=w+Math.imul(K,It)|0)|0)+((8191&(C=(C=C+Math.imul(K,nn)|0)+Math.imul(ne,It)|0))<<13)|0;U=((j=j+Math.imul(ne,nn)|0)+(C>>>13)|0)+(ot>>>26)|0,ot&=67108863,w=Math.imul(me,Ve),C=(C=Math.imul(me,rt))+Math.imul(ve,Ve)|0,j=Math.imul(ve,rt),w=w+Math.imul(Ae,xt)|0,C=(C=C+Math.imul(Ae,Qt)|0)+Math.imul(le,xt)|0,j=j+Math.imul(le,Qt)|0,w=w+Math.imul(ce,Bt)|0,C=(C=C+Math.imul(ce,Se)|0)+Math.imul(de,Bt)|0,j=j+Math.imul(de,Se)|0,w=w+Math.imul(Y,Ge)|0,C=(C=C+Math.imul(Y,at)|0)+Math.imul(oe,Ge)|0,j=j+Math.imul(oe,at)|0,w=w+Math.imul(Z,pt)|0,C=(C=C+Math.imul(Z,Ot)|0)+Math.imul(te,pt)|0,j=j+Math.imul(te,Ot)|0;var tt=(U+(w=w+Math.imul(se,It)|0)|0)+((8191&(C=(C=C+Math.imul(se,nn)|0)+Math.imul(ie,It)|0))<<13)|0;U=((j=j+Math.imul(ie,nn)|0)+(C>>>13)|0)+(tt>>>26)|0,tt&=67108863,w=Math.imul(me,xt),C=(C=Math.imul(me,Qt))+Math.imul(ve,xt)|0,j=Math.imul(ve,Qt),w=w+Math.imul(Ae,Bt)|0,C=(C=C+Math.imul(Ae,Se)|0)+Math.imul(le,Bt)|0,j=j+Math.imul(le,Se)|0,w=w+Math.imul(ce,Ge)|0,C=(C=C+Math.imul(ce,at)|0)+Math.imul(de,Ge)|0,j=j+Math.imul(de,at)|0,w=w+Math.imul(Y,pt)|0,C=(C=C+Math.imul(Y,Ot)|0)+Math.imul(oe,pt)|0,j=j+Math.imul(oe,Ot)|0;var Sn=(U+(w=w+Math.imul(Z,It)|0)|0)+((8191&(C=(C=C+Math.imul(Z,nn)|0)+Math.imul(te,It)|0))<<13)|0;U=((j=j+Math.imul(te,nn)|0)+(C>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,w=Math.imul(me,Bt),C=(C=Math.imul(me,Se))+Math.imul(ve,Bt)|0,j=Math.imul(ve,Se),w=w+Math.imul(Ae,Ge)|0,C=(C=C+Math.imul(Ae,at)|0)+Math.imul(le,Ge)|0,j=j+Math.imul(le,at)|0,w=w+Math.imul(ce,pt)|0,C=(C=C+Math.imul(ce,Ot)|0)+Math.imul(de,pt)|0,j=j+Math.imul(de,Ot)|0;var hn=(U+(w=w+Math.imul(Y,It)|0)|0)+((8191&(C=(C=C+Math.imul(Y,nn)|0)+Math.imul(oe,It)|0))<<13)|0;U=((j=j+Math.imul(oe,nn)|0)+(C>>>13)|0)+(hn>>>26)|0,hn&=67108863,w=Math.imul(me,Ge),C=(C=Math.imul(me,at))+Math.imul(ve,Ge)|0,j=Math.imul(ve,at),w=w+Math.imul(Ae,pt)|0,C=(C=C+Math.imul(Ae,Ot)|0)+Math.imul(le,pt)|0,j=j+Math.imul(le,Ot)|0;var wn=(U+(w=w+Math.imul(ce,It)|0)|0)+((8191&(C=(C=C+Math.imul(ce,nn)|0)+Math.imul(de,It)|0))<<13)|0;U=((j=j+Math.imul(de,nn)|0)+(C>>>13)|0)+(wn>>>26)|0,wn&=67108863,w=Math.imul(me,pt),C=(C=Math.imul(me,Ot))+Math.imul(ve,pt)|0,j=Math.imul(ve,Ot);var qt=(U+(w=w+Math.imul(Ae,It)|0)|0)+((8191&(C=(C=C+Math.imul(Ae,nn)|0)+Math.imul(le,It)|0))<<13)|0;U=((j=j+Math.imul(le,nn)|0)+(C>>>13)|0)+(qt>>>26)|0,qt&=67108863;var Kn=(U+(w=Math.imul(me,It))|0)+((8191&(C=(C=Math.imul(me,nn))+Math.imul(ve,It)|0))<<13)|0;return U=((j=Math.imul(ve,nn))+(C>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,R[0]=en,R[1]=xn,R[2]=vt,R[3]=Be,R[4]=Ze,R[5]=mt,R[6]=gn,R[7]=xe,R[8]=Oe,R[9]=qe,R[10]=Je,R[11]=kt,R[12]=ot,R[13]=tt,R[14]=Sn,R[15]=hn,R[16]=wn,R[17]=qt,R[18]=Kn,U!==0&&(R[19]=U,T.length++),T};function v(_,E,T){return new y().mulp(_,E,T)}function y(_,E){this.x=_,this.y=E}Math.imul||(x=b),u.prototype.mulTo=function(_,E){var T=this.length+_.length;return this.length===10&&_.length===10?x(this,_,E):T<63?b(this,_,E):T<1024?function(w,C,j){j.negative=C.negative^w.negative,j.length=w.length+C.length;for(var S=0,I=0,R=0;R<j.length-1;R++){var U=I;I=0;for(var z=67108863&S,V=Math.min(R,C.length-1),X=Math.max(0,R-w.length+1);X<=V;X++){var $=R-X,W=(0|w.words[$])*(0|C.words[X]),H=67108863&W;z=67108863&(H=H+z|0),I+=(U=(U=U+(W/67108864|0)|0)+(H>>>26)|0)>>>26,U&=67108863}j.words[R]=z,S=U,U=I}return S!==0?j.words[R]=S:j.length--,j.strip()}(this,_,E):v(this,_,E)},y.prototype.makeRBT=function(_){for(var E=new Array(_),T=u.prototype._countBits(_)-1,w=0;w<_;w++)E[w]=this.revBin(w,T,_);return E},y.prototype.revBin=function(_,E,T){if(_===0||_===T-1)return _;for(var w=0,C=0;C<E;C++)w|=(1&_)<<E-C-1,_>>=1;return w},y.prototype.permute=function(_,E,T,w,C,j){for(var S=0;S<j;S++)w[S]=E[_[S]],C[S]=T[_[S]]},y.prototype.transform=function(_,E,T,w,C,j){this.permute(j,_,E,T,w,C);for(var S=1;S<C;S<<=1)for(var I=S<<1,R=Math.cos(2*Math.PI/I),U=Math.sin(2*Math.PI/I),z=0;z<C;z+=I)for(var V=R,X=U,$=0;$<S;$++){var W=T[z+$],H=w[z+$],Q=T[z+$+S],G=w[z+$+S],J=V*Q-X*G;G=V*G+X*Q,Q=J,T[z+$]=W+Q,w[z+$]=H+G,T[z+$+S]=W-Q,w[z+$+S]=H-G,$!==I&&(J=R*V-U*X,X=R*X+U*V,V=J)}},y.prototype.guessLen13b=function(_,E){var T=1|Math.max(E,_),w=1&T,C=0;for(T=T/2|0;T;T>>>=1)C++;return 1<<C+1+w},y.prototype.conjugate=function(_,E,T){if(!(T<=1))for(var w=0;w<T/2;w++){var C=_[w];_[w]=_[T-w-1],_[T-w-1]=C,C=E[w],E[w]=-E[T-w-1],E[T-w-1]=-C}},y.prototype.normalize13b=function(_,E){for(var T=0,w=0;w<E/2;w++){var C=8192*Math.round(_[2*w+1]/E)+Math.round(_[2*w]/E)+T;_[w]=67108863&C,T=C<67108864?0:C/67108864|0}return _},y.prototype.convert13b=function(_,E,T,w){for(var C=0,j=0;j<E;j++)C+=0|_[j],T[2*j]=8191&C,C>>>=13,T[2*j+1]=8191&C,C>>>=13;for(j=2*E;j<w;++j)T[j]=0;c(C===0),c((-8192&C)==0)},y.prototype.stub=function(_){for(var E=new Array(_),T=0;T<_;T++)E[T]=0;return E},y.prototype.mulp=function(_,E,T){var w=2*this.guessLen13b(_.length,E.length),C=this.makeRBT(w),j=this.stub(w),S=new Array(w),I=new Array(w),R=new Array(w),U=new Array(w),z=new Array(w),V=new Array(w),X=T.words;X.length=w,this.convert13b(_.words,_.length,S,w),this.convert13b(E.words,E.length,U,w),this.transform(S,j,I,R,w,C),this.transform(U,j,z,V,w,C);for(var $=0;$<w;$++){var W=I[$]*z[$]-R[$]*V[$];R[$]=I[$]*V[$]+R[$]*z[$],I[$]=W}return this.conjugate(I,R,w),this.transform(I,R,X,j,w,C),this.conjugate(X,j,w),this.normalize13b(X,w),T.negative=_.negative^E.negative,T.length=_.length+E.length,T.strip()},u.prototype.mul=function(_){var E=new u(null);return E.words=new Array(this.length+_.length),this.mulTo(_,E)},u.prototype.mulf=function(_){var E=new u(null);return E.words=new Array(this.length+_.length),v(this,_,E)},u.prototype.imul=function(_){return this.clone().mulTo(_,this)},u.prototype.imuln=function(_){c(typeof _=="number"),c(_<67108864);for(var E=0,T=0;T<this.length;T++){var w=(0|this.words[T])*_,C=(67108863&w)+(67108863&E);E>>=26,E+=w/67108864|0,E+=C>>>26,this.words[T]=67108863&C}return E!==0&&(this.words[T]=E,this.length++),this},u.prototype.muln=function(_){return this.clone().imuln(_)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(_){var E=function(j){for(var S=new Array(j.bitLength()),I=0;I<S.length;I++){var R=I/26|0,U=I%26;S[I]=(j.words[R]&1<<U)>>>U}return S}(_);if(E.length===0)return new u(1);for(var T=this,w=0;w<E.length&&E[w]===0;w++,T=T.sqr());if(++w<E.length)for(var C=T.sqr();w<E.length;w++,C=C.sqr())E[w]!==0&&(T=T.mul(C));return T},u.prototype.iushln=function(_){c(typeof _=="number"&&_>=0);var E,T=_%26,w=(_-T)/26,C=67108863>>>26-T<<26-T;if(T!==0){var j=0;for(E=0;E<this.length;E++){var S=this.words[E]&C,I=(0|this.words[E])-S<<T;this.words[E]=I|j,j=S>>>26-T}j&&(this.words[E]=j,this.length++)}if(w!==0){for(E=this.length-1;E>=0;E--)this.words[E+w]=this.words[E];for(E=0;E<w;E++)this.words[E]=0;this.length+=w}return this.strip()},u.prototype.ishln=function(_){return c(this.negative===0),this.iushln(_)},u.prototype.iushrn=function(_,E,T){var w;c(typeof _=="number"&&_>=0),w=E?(E-E%26)/26:0;var C=_%26,j=Math.min((_-C)/26,this.length),S=67108863^67108863>>>C<<C,I=T;if(w-=j,w=Math.max(0,w),I){for(var R=0;R<j;R++)I.words[R]=this.words[R];I.length=j}if(j!==0)if(this.length>j)for(this.length-=j,R=0;R<this.length;R++)this.words[R]=this.words[R+j];else this.words[0]=0,this.length=1;var U=0;for(R=this.length-1;R>=0&&(U!==0||R>=w);R--){var z=0|this.words[R];this.words[R]=U<<26-C|z>>>C,U=z&S}return I&&U!==0&&(I.words[I.length++]=U),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(_,E,T){return c(this.negative===0),this.iushrn(_,E,T)},u.prototype.shln=function(_){return this.clone().ishln(_)},u.prototype.ushln=function(_){return this.clone().iushln(_)},u.prototype.shrn=function(_){return this.clone().ishrn(_)},u.prototype.ushrn=function(_){return this.clone().iushrn(_)},u.prototype.testn=function(_){c(typeof _=="number"&&_>=0);var E=_%26,T=(_-E)/26,w=1<<E;return!(this.length<=T)&&!!(this.words[T]&w)},u.prototype.imaskn=function(_){c(typeof _=="number"&&_>=0);var E=_%26,T=(_-E)/26;if(c(this.negative===0,"imaskn works only with positive numbers"),this.length<=T)return this;if(E!==0&&T++,this.length=Math.min(T,this.length),E!==0){var w=67108863^67108863>>>E<<E;this.words[this.length-1]&=w}return this.strip()},u.prototype.maskn=function(_){return this.clone().imaskn(_)},u.prototype.iaddn=function(_){return c(typeof _=="number"),c(_<67108864),_<0?this.isubn(-_):this.negative!==0?this.length===1&&(0|this.words[0])<_?(this.words[0]=_-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(_),this.negative=1,this):this._iaddn(_)},u.prototype._iaddn=function(_){this.words[0]+=_;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},u.prototype.isubn=function(_){if(c(typeof _=="number"),c(_<67108864),_<0)return this.iaddn(-_);if(this.negative!==0)return this.negative=0,this.iaddn(_),this.negative=1,this;if(this.words[0]-=_,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this.strip()},u.prototype.addn=function(_){return this.clone().iaddn(_)},u.prototype.subn=function(_){return this.clone().isubn(_)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(_,E,T){var w,C,j=_.length+T;this._expand(j);var S=0;for(w=0;w<_.length;w++){C=(0|this.words[w+T])+S;var I=(0|_.words[w])*E;S=((C-=67108863&I)>>26)-(I/67108864|0),this.words[w+T]=67108863&C}for(;w<this.length-T;w++)S=(C=(0|this.words[w+T])+S)>>26,this.words[w+T]=67108863&C;if(S===0)return this.strip();for(c(S===-1),S=0,w=0;w<this.length;w++)S=(C=-(0|this.words[w])+S)>>26,this.words[w]=67108863&C;return this.negative=1,this.strip()},u.prototype._wordDiv=function(_,E){var T=(this.length,_.length),w=this.clone(),C=_,j=0|C.words[C.length-1];(T=26-this._countBits(j))!==0&&(C=C.ushln(T),w.iushln(T),j=0|C.words[C.length-1]);var S,I=w.length-C.length;if(E!=="mod"){(S=new u(null)).length=I+1,S.words=new Array(S.length);for(var R=0;R<S.length;R++)S.words[R]=0}var U=w.clone()._ishlnsubmul(C,1,I);U.negative===0&&(w=U,S&&(S.words[I]=1));for(var z=I-1;z>=0;z--){var V=67108864*(0|w.words[C.length+z])+(0|w.words[C.length+z-1]);for(V=Math.min(V/j|0,67108863),w._ishlnsubmul(C,V,z);w.negative!==0;)V--,w.negative=0,w._ishlnsubmul(C,1,z),w.isZero()||(w.negative^=1);S&&(S.words[z]=V)}return S&&S.strip(),w.strip(),E!=="div"&&T!==0&&w.iushrn(T),{div:S||null,mod:w}},u.prototype.divmod=function(_,E,T){return c(!_.isZero()),this.isZero()?{div:new u(0),mod:new u(0)}:this.negative!==0&&_.negative===0?(j=this.neg().divmod(_,E),E!=="mod"&&(w=j.div.neg()),E!=="div"&&(C=j.mod.neg(),T&&C.negative!==0&&C.iadd(_)),{div:w,mod:C}):this.negative===0&&_.negative!==0?(j=this.divmod(_.neg(),E),E!=="mod"&&(w=j.div.neg()),{div:w,mod:j.mod}):this.negative&_.negative?(j=this.neg().divmod(_.neg(),E),E!=="div"&&(C=j.mod.neg(),T&&C.negative!==0&&C.isub(_)),{div:j.div,mod:C}):_.length>this.length||this.cmp(_)<0?{div:new u(0),mod:this}:_.length===1?E==="div"?{div:this.divn(_.words[0]),mod:null}:E==="mod"?{div:null,mod:new u(this.modn(_.words[0]))}:{div:this.divn(_.words[0]),mod:new u(this.modn(_.words[0]))}:this._wordDiv(_,E);var w,C,j},u.prototype.div=function(_){return this.divmod(_,"div",!1).div},u.prototype.mod=function(_){return this.divmod(_,"mod",!1).mod},u.prototype.umod=function(_){return this.divmod(_,"mod",!0).mod},u.prototype.divRound=function(_){var E=this.divmod(_);if(E.mod.isZero())return E.div;var T=E.div.negative!==0?E.mod.isub(_):E.mod,w=_.ushrn(1),C=_.andln(1),j=T.cmp(w);return j<0||C===1&&j===0?E.div:E.div.negative!==0?E.div.isubn(1):E.div.iaddn(1)},u.prototype.modn=function(_){c(_<=67108863);for(var E=(1<<26)%_,T=0,w=this.length-1;w>=0;w--)T=(E*T+(0|this.words[w]))%_;return T},u.prototype.idivn=function(_){c(_<=67108863);for(var E=0,T=this.length-1;T>=0;T--){var w=(0|this.words[T])+67108864*E;this.words[T]=w/_|0,E=w%_}return this.strip()},u.prototype.divn=function(_){return this.clone().idivn(_)},u.prototype.egcd=function(_){c(_.negative===0),c(!_.isZero());var E=this,T=_.clone();E=E.negative!==0?E.umod(_):E.clone();for(var w=new u(1),C=new u(0),j=new u(0),S=new u(1),I=0;E.isEven()&&T.isEven();)E.iushrn(1),T.iushrn(1),++I;for(var R=T.clone(),U=E.clone();!E.isZero();){for(var z=0,V=1;!(E.words[0]&V)&&z<26;++z,V<<=1);if(z>0)for(E.iushrn(z);z-- >0;)(w.isOdd()||C.isOdd())&&(w.iadd(R),C.isub(U)),w.iushrn(1),C.iushrn(1);for(var X=0,$=1;!(T.words[0]&$)&&X<26;++X,$<<=1);if(X>0)for(T.iushrn(X);X-- >0;)(j.isOdd()||S.isOdd())&&(j.iadd(R),S.isub(U)),j.iushrn(1),S.iushrn(1);E.cmp(T)>=0?(E.isub(T),w.isub(j),C.isub(S)):(T.isub(E),j.isub(w),S.isub(C))}return{a:j,b:S,gcd:T.iushln(I)}},u.prototype._invmp=function(_){c(_.negative===0),c(!_.isZero());var E=this,T=_.clone();E=E.negative!==0?E.umod(_):E.clone();for(var w,C=new u(1),j=new u(0),S=T.clone();E.cmpn(1)>0&&T.cmpn(1)>0;){for(var I=0,R=1;!(E.words[0]&R)&&I<26;++I,R<<=1);if(I>0)for(E.iushrn(I);I-- >0;)C.isOdd()&&C.iadd(S),C.iushrn(1);for(var U=0,z=1;!(T.words[0]&z)&&U<26;++U,z<<=1);if(U>0)for(T.iushrn(U);U-- >0;)j.isOdd()&&j.iadd(S),j.iushrn(1);E.cmp(T)>=0?(E.isub(T),C.isub(j)):(T.isub(E),j.isub(C))}return(w=E.cmpn(1)===0?C:j).cmpn(0)<0&&w.iadd(_),w},u.prototype.gcd=function(_){if(this.isZero())return _.abs();if(_.isZero())return this.abs();var E=this.clone(),T=_.clone();E.negative=0,T.negative=0;for(var w=0;E.isEven()&&T.isEven();w++)E.iushrn(1),T.iushrn(1);for(;;){for(;E.isEven();)E.iushrn(1);for(;T.isEven();)T.iushrn(1);var C=E.cmp(T);if(C<0){var j=E;E=T,T=j}else if(C===0||T.cmpn(1)===0)break;E.isub(T)}return T.iushln(w)},u.prototype.invm=function(_){return this.egcd(_).a.umod(_)},u.prototype.isEven=function(){return(1&this.words[0])==0},u.prototype.isOdd=function(){return(1&this.words[0])==1},u.prototype.andln=function(_){return this.words[0]&_},u.prototype.bincn=function(_){c(typeof _=="number");var E=_%26,T=(_-E)/26,w=1<<E;if(this.length<=T)return this._expand(T+1),this.words[T]|=w,this;for(var C=w,j=T;C!==0&&j<this.length;j++){var S=0|this.words[j];C=(S+=C)>>>26,S&=67108863,this.words[j]=S}return C!==0&&(this.words[j]=C,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(_){var E,T=_<0;if(this.negative!==0&&!T)return-1;if(this.negative===0&&T)return 1;if(this.strip(),this.length>1)E=1;else{T&&(_=-_),c(_<=67108863,"Number is too big");var w=0|this.words[0];E=w===_?0:w<_?-1:1}return this.negative!==0?0|-E:E},u.prototype.cmp=function(_){if(this.negative!==0&&_.negative===0)return-1;if(this.negative===0&&_.negative!==0)return 1;var E=this.ucmp(_);return this.negative!==0?0|-E:E},u.prototype.ucmp=function(_){if(this.length>_.length)return 1;if(this.length<_.length)return-1;for(var E=0,T=this.length-1;T>=0;T--){var w=0|this.words[T],C=0|_.words[T];if(w!==C){w<C?E=-1:w>C&&(E=1);break}}return E},u.prototype.gtn=function(_){return this.cmpn(_)===1},u.prototype.gt=function(_){return this.cmp(_)===1},u.prototype.gten=function(_){return this.cmpn(_)>=0},u.prototype.gte=function(_){return this.cmp(_)>=0},u.prototype.ltn=function(_){return this.cmpn(_)===-1},u.prototype.lt=function(_){return this.cmp(_)===-1},u.prototype.lten=function(_){return this.cmpn(_)<=0},u.prototype.lte=function(_){return this.cmp(_)<=0},u.prototype.eqn=function(_){return this.cmpn(_)===0},u.prototype.eq=function(_){return this.cmp(_)===0},u.red=function(_){return new L(_)},u.prototype.toRed=function(_){return c(!this.red,"Already a number in reduction context"),c(this.negative===0,"red works only with positives"),_.convertTo(this)._forceRed(_)},u.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(_){return this.red=_,this},u.prototype.forceRed=function(_){return c(!this.red,"Already a number in reduction context"),this._forceRed(_)},u.prototype.redAdd=function(_){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,_)},u.prototype.redIAdd=function(_){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,_)},u.prototype.redSub=function(_){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,_)},u.prototype.redISub=function(_){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,_)},u.prototype.redShl=function(_){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,_)},u.prototype.redMul=function(_){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.mul(this,_)},u.prototype.redIMul=function(_){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.imul(this,_)},u.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(_){return c(this.red&&!_.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,_)};var N={k256:null,p224:null,p192:null,p25519:null};function P(_,E){this.name=_,this.p=new u(E,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function M(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function k(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function D(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function O(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function L(_){if(typeof _=="string"){var E=u._prime(_);this.m=E.p,this.prime=E}else c(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}function F(_){L.call(this,_),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}P.prototype._tmp=function(){var _=new u(null);return _.words=new Array(Math.ceil(this.n/13)),_},P.prototype.ireduce=function(_){var E,T=_;do this.split(T,this.tmp),E=(T=(T=this.imulK(T)).iadd(this.tmp)).bitLength();while(E>this.n);var w=E<this.n?-1:T.ucmp(this.p);return w===0?(T.words[0]=0,T.length=1):w>0?T.isub(this.p):T.strip!==void 0?T.strip():T._strip(),T},P.prototype.split=function(_,E){_.iushrn(this.n,0,E)},P.prototype.imulK=function(_){return _.imul(this.k)},l(M,P),M.prototype.split=function(_,E){for(var T=Math.min(_.length,9),w=0;w<T;w++)E.words[w]=_.words[w];if(E.length=T,_.length<=9)return _.words[0]=0,void(_.length=1);var C=_.words[9];for(E.words[E.length++]=4194303&C,w=10;w<_.length;w++){var j=0|_.words[w];_.words[w-10]=(4194303&j)<<4|C>>>22,C=j}C>>>=22,_.words[w-10]=C,C===0&&_.length>10?_.length-=10:_.length-=9},M.prototype.imulK=function(_){_.words[_.length]=0,_.words[_.length+1]=0,_.length+=2;for(var E=0,T=0;T<_.length;T++){var w=0|_.words[T];E+=977*w,_.words[T]=67108863&E,E=64*w+(E/67108864|0)}return _.words[_.length-1]===0&&(_.length--,_.words[_.length-1]===0&&_.length--),_},l(k,P),l(D,P),l(O,P),O.prototype.imulK=function(_){for(var E=0,T=0;T<_.length;T++){var w=19*(0|_.words[T])+E,C=67108863&w;w>>>=26,_.words[T]=C,E=w}return E!==0&&(_.words[_.length++]=E),_},u._prime=function(_){if(N[_])return N[_];var E;if(_==="k256")E=new M;else if(_==="p224")E=new k;else if(_==="p192")E=new D;else{if(_!=="p25519")throw new Error("Unknown prime "+_);E=new O}return N[_]=E,E},L.prototype._verify1=function(_){c(_.negative===0,"red works only with positives"),c(_.red,"red works only with red numbers")},L.prototype._verify2=function(_,E){c((_.negative|E.negative)==0,"red works only with positives"),c(_.red&&_.red===E.red,"red works only with red numbers")},L.prototype.imod=function(_){return this.prime?this.prime.ireduce(_)._forceRed(this):_.umod(this.m)._forceRed(this)},L.prototype.neg=function(_){return _.isZero()?_.clone():this.m.sub(_)._forceRed(this)},L.prototype.add=function(_,E){this._verify2(_,E);var T=_.add(E);return T.cmp(this.m)>=0&&T.isub(this.m),T._forceRed(this)},L.prototype.iadd=function(_,E){this._verify2(_,E);var T=_.iadd(E);return T.cmp(this.m)>=0&&T.isub(this.m),T},L.prototype.sub=function(_,E){this._verify2(_,E);var T=_.sub(E);return T.cmpn(0)<0&&T.iadd(this.m),T._forceRed(this)},L.prototype.isub=function(_,E){this._verify2(_,E);var T=_.isub(E);return T.cmpn(0)<0&&T.iadd(this.m),T},L.prototype.shl=function(_,E){return this._verify1(_),this.imod(_.ushln(E))},L.prototype.imul=function(_,E){return this._verify2(_,E),this.imod(_.imul(E))},L.prototype.mul=function(_,E){return this._verify2(_,E),this.imod(_.mul(E))},L.prototype.isqr=function(_){return this.imul(_,_.clone())},L.prototype.sqr=function(_){return this.mul(_,_)},L.prototype.sqrt=function(_){if(_.isZero())return _.clone();var E=this.m.andln(3);if(c(E%2==1),E===3){var T=this.m.add(new u(1)).iushrn(2);return this.pow(_,T)}for(var w=this.m.subn(1),C=0;!w.isZero()&&w.andln(1)===0;)C++,w.iushrn(1);c(!w.isZero());var j=new u(1).toRed(this),S=j.redNeg(),I=this.m.subn(1).iushrn(1),R=this.m.bitLength();for(R=new u(2*R*R).toRed(this);this.pow(R,I).cmp(S)!==0;)R.redIAdd(S);for(var U=this.pow(R,w),z=this.pow(_,w.addn(1).iushrn(1)),V=this.pow(_,w),X=C;V.cmp(j)!==0;){for(var $=V,W=0;$.cmp(j)!==0;W++)$=$.redSqr();c(W<X);var H=this.pow(U,new u(1).iushln(X-W-1));z=z.redMul(H),U=H.redSqr(),V=V.redMul(U),X=W}return z},L.prototype.invm=function(_){var E=_._invmp(this.m);return E.negative!==0?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},L.prototype.pow=function(_,E){if(E.isZero())return new u(1).toRed(this);if(E.cmpn(1)===0)return _.clone();var T=new Array(16);T[0]=new u(1).toRed(this),T[1]=_;for(var w=2;w<T.length;w++)T[w]=this.mul(T[w-1],_);var C=T[0],j=0,S=0,I=E.bitLength()%26;for(I===0&&(I=26),w=E.length-1;w>=0;w--){for(var R=E.words[w],U=I-1;U>=0;U--){var z=R>>U&1;C!==T[0]&&(C=this.sqr(C)),z!==0||j!==0?(j<<=1,j|=z,(++S===4||w===0&&U===0)&&(C=this.mul(C,T[j]),S=0,j=0)):S=0}I=26}return C},L.prototype.convertTo=function(_){var E=_.umod(this.m);return E===_?E.clone():E},L.prototype.convertFrom=function(_){var E=_.clone();return E.red=null,E},u.mont=function(_){return new F(_)},l(F,L),F.prototype.convertTo=function(_){return this.imod(_.ushln(this.shift))},F.prototype.convertFrom=function(_){var E=this.imod(_.mul(this.rinv));return E.red=null,E},F.prototype.imul=function(_,E){if(_.isZero()||E.isZero())return _.words[0]=0,_.length=1,_;var T=_.imul(E),w=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=T.isub(w).iushrn(this.shift),j=C;return C.cmp(this.m)>=0?j=C.isub(this.m):C.cmpn(0)<0&&(j=C.iadd(this.m)),j._forceRed(this)},F.prototype.mul=function(_,E){if(_.isZero()||E.isZero())return new u(0)._forceRed(this);var T=_.mul(E),w=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=T.isub(w).iushrn(this.shift),j=C;return C.cmp(this.m)>=0?j=C.isub(this.m):C.cmpn(0)<0&&(j=C.iadd(this.m)),j._forceRed(this)},F.prototype.invm=function(_){return this.imod(_._invmp(this.m).mul(this.r2))._forceRed(this)}})(s===void 0||s)},{buffer:188}],185:[function(n,s,i){i.byteLength=function(m){var A=f(m),g=A[0],p=A[1];return 3*(g+p)/4-p},i.toByteArray=function(m){var A,g,p=f(m),b=p[0],x=p[1],v=new c(function(P,M,k){return 3*(M+k)/4-k}(0,b,x)),y=0,N=x>0?b-4:b;for(g=0;g<N;g+=4)A=o[m.charCodeAt(g)]<<18|o[m.charCodeAt(g+1)]<<12|o[m.charCodeAt(g+2)]<<6|o[m.charCodeAt(g+3)],v[y++]=A>>16&255,v[y++]=A>>8&255,v[y++]=255&A;return x===2&&(A=o[m.charCodeAt(g)]<<2|o[m.charCodeAt(g+1)]>>4,v[y++]=255&A),x===1&&(A=o[m.charCodeAt(g)]<<10|o[m.charCodeAt(g+1)]<<4|o[m.charCodeAt(g+2)]>>2,v[y++]=A>>8&255,v[y++]=255&A),v},i.fromByteArray=function(m){for(var A,g=m.length,p=g%3,b=[],x=0,v=g-p;x<v;x+=16383)b.push(h(m,x,x+16383>v?v:x+16383));return p===1?(A=m[g-1],b.push(a[A>>2]+a[A<<4&63]+"==")):p===2&&(A=(m[g-2]<<8)+m[g-1],b.push(a[A>>10]+a[A>>4&63]+a[A<<2&63]+"=")),b.join("")};for(var a=[],o=[],c=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,d=l.length;u<d;++u)a[u]=l[u],o[l.charCodeAt(u)]=u;function f(m){var A=m.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=m.indexOf("=");return g===-1&&(g=A),[g,g===A?0:4-g%4]}function h(m,A,g){for(var p,b,x=[],v=A;v<g;v+=3)p=(m[v]<<16&16711680)+(m[v+1]<<8&65280)+(255&m[v+2]),x.push(a[(b=p)>>18&63]+a[b>>12&63]+a[b>>6&63]+a[63&b]);return x.join("")}o[45]=62,o[95]=63},{}],186:[function(n,s,i){(function(a,o){function c(T,w){if(!T)throw new Error(w||"Assertion failed")}function l(T,w){T.super_=w;var C=function(){};C.prototype=w.prototype,T.prototype=new C,T.prototype.constructor=T}function u(T,w,C){if(u.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&(w!=="le"&&w!=="be"||(C=w,w=10),this._init(T||0,w||10,C||"be"))}var d;typeof a=="object"?a.exports=u:(void 0).BN=u,u.BN=u,u.wordSize=26;try{d=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:n("buffer").Buffer}catch{}function f(T,w){var C=T.charCodeAt(w);return C>=48&&C<=57?C-48:C>=65&&C<=70?C-55:C>=97&&C<=102?C-87:void c(!1,"Invalid character in "+T)}function h(T,w,C){var j=f(T,C);return C-1>=w&&(j|=f(T,C-1)<<4),j}function m(T,w,C,j){for(var S=0,I=0,R=Math.min(T.length,C),U=w;U<R;U++){var z=T.charCodeAt(U)-48;S*=j,I=z>=49?z-49+10:z>=17?z-17+10:z,c(z>=0&&I<j,"Invalid character"),S+=I}return S}function A(T,w){T.words=w.words,T.length=w.length,T.negative=w.negative,T.red=w.red}if(u.isBN=function(T){return T instanceof u||T!==null&&typeof T=="object"&&T.constructor.wordSize===u.wordSize&&Array.isArray(T.words)},u.max=function(T,w){return T.cmp(w)>0?T:w},u.min=function(T,w){return T.cmp(w)<0?T:w},u.prototype._init=function(T,w,C){if(typeof T=="number")return this._initNumber(T,w,C);if(typeof T=="object")return this._initArray(T,w,C);w==="hex"&&(w=16),c(w===(0|w)&&w>=2&&w<=36);var j=0;(T=T.toString().replace(/\s+/g,""))[0]==="-"&&(j++,this.negative=1),j<T.length&&(w===16?this._parseHex(T,j,C):(this._parseBase(T,w,j),C==="le"&&this._initArray(this.toArray(),w,C)))},u.prototype._initNumber=function(T,w,C){T<0&&(this.negative=1,T=-T),T<67108864?(this.words=[67108863&T],this.length=1):T<4503599627370496?(this.words=[67108863&T,T/67108864&67108863],this.length=2):(c(T<9007199254740992),this.words=[67108863&T,T/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),w,C)},u.prototype._initArray=function(T,w,C){if(c(typeof T.length=="number"),T.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(T.length/3),this.words=new Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var S,I,R=0;if(C==="be")for(j=T.length-1,S=0;j>=0;j-=3)I=T[j]|T[j-1]<<8|T[j-2]<<16,this.words[S]|=I<<R&67108863,this.words[S+1]=I>>>26-R&67108863,(R+=24)>=26&&(R-=26,S++);else if(C==="le")for(j=0,S=0;j<T.length;j+=3)I=T[j]|T[j+1]<<8|T[j+2]<<16,this.words[S]|=I<<R&67108863,this.words[S+1]=I>>>26-R&67108863,(R+=24)>=26&&(R-=26,S++);return this._strip()},u.prototype._parseHex=function(T,w,C){this.length=Math.ceil((T.length-w)/6),this.words=new Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var S,I=0,R=0;if(C==="be")for(j=T.length-1;j>=w;j-=2)S=h(T,w,j)<<I,this.words[R]|=67108863&S,I>=18?(I-=18,R+=1,this.words[R]|=S>>>26):I+=8;else for(j=(T.length-w)%2==0?w+1:w;j<T.length;j+=2)S=h(T,w,j)<<I,this.words[R]|=67108863&S,I>=18?(I-=18,R+=1,this.words[R]|=S>>>26):I+=8;this._strip()},u.prototype._parseBase=function(T,w,C){this.words=[0],this.length=1;for(var j=0,S=1;S<=67108863;S*=w)j++;j--,S=S/w|0;for(var I=T.length-C,R=I%j,U=Math.min(I,I-R)+C,z=0,V=C;V<U;V+=j)z=m(T,V,V+j,w),this.imuln(S),this.words[0]+z<67108864?this.words[0]+=z:this._iaddn(z);if(R!==0){var X=1;for(z=m(T,V,T.length,w),V=0;V<R;V++)X*=w;this.imuln(X),this.words[0]+z<67108864?this.words[0]+=z:this._iaddn(z)}this._strip()},u.prototype.copy=function(T){T.words=new Array(this.length);for(var w=0;w<this.length;w++)T.words[w]=this.words[w];T.length=this.length,T.negative=this.negative,T.red=this.red},u.prototype._move=function(T){A(T,this)},u.prototype.clone=function(){var T=new u(null);return this.copy(T),T},u.prototype._expand=function(T){for(;this.length<T;)this.words[this.length++]=0;return this},u.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{u.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{u.prototype.inspect=g}else u.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(T,w){var C;if(w=0|w||1,(T=T||10)===16||T==="hex"){C="";for(var j=0,S=0,I=0;I<this.length;I++){var R=this.words[I],U=(16777215&(R<<j|S)).toString(16);S=R>>>24-j&16777215,(j+=2)>=26&&(j-=26,I--),C=S!==0||I!==this.length-1?p[6-U.length]+U+C:U+C}for(S!==0&&(C=S.toString(16)+C);C.length%w!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(T===(0|T)&&T>=2&&T<=36){var z=b[T],V=x[T];C="";var X=this.clone();for(X.negative=0;!X.isZero();){var $=X.modrn(V).toString(T);C=(X=X.idivn(V)).isZero()?$+C:p[z-$.length]+$+C}for(this.isZero()&&(C="0"+C);C.length%w!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}c(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var T=this.words[0];return this.length===2?T+=67108864*this.words[1]:this.length===3&&this.words[2]===1?T+=4503599627370496+67108864*this.words[1]:this.length>2&&c(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-T:T},u.prototype.toJSON=function(){return this.toString(16,2)},d&&(u.prototype.toBuffer=function(T,w){return this.toArrayLike(d,T,w)}),u.prototype.toArray=function(T,w){return this.toArrayLike(Array,T,w)};function v(T,w,C){C.negative=w.negative^T.negative;var j=T.length+w.length|0;C.length=j,j=j-1|0;var S=0|T.words[0],I=0|w.words[0],R=S*I,U=67108863&R,z=R/67108864|0;C.words[0]=U;for(var V=1;V<j;V++){for(var X=z>>>26,$=67108863&z,W=Math.min(V,w.length-1),H=Math.max(0,V-T.length+1);H<=W;H++){var Q=V-H|0;X+=(R=(S=0|T.words[Q])*(I=0|w.words[H])+$)/67108864|0,$=67108863&R}C.words[V]=0|$,z=0|X}return z!==0?C.words[V]=0|z:C.length--,C._strip()}u.prototype.toArrayLike=function(T,w,C){this._strip();var j=this.byteLength(),S=C||Math.max(1,j);c(j<=S,"byte array longer than desired length"),c(S>0,"Requested array length <= 0");var I=function(R,U){return R.allocUnsafe?R.allocUnsafe(U):new R(U)}(T,S);return this["_toArrayLike"+(w==="le"?"LE":"BE")](I,j),I},u.prototype._toArrayLikeLE=function(T,w){for(var C=0,j=0,S=0,I=0;S<this.length;S++){var R=this.words[S]<<I|j;T[C++]=255&R,C<T.length&&(T[C++]=R>>8&255),C<T.length&&(T[C++]=R>>16&255),I===6?(C<T.length&&(T[C++]=R>>24&255),j=0,I=0):(j=R>>>24,I+=2)}if(C<T.length)for(T[C++]=j;C<T.length;)T[C++]=0},u.prototype._toArrayLikeBE=function(T,w){for(var C=T.length-1,j=0,S=0,I=0;S<this.length;S++){var R=this.words[S]<<I|j;T[C--]=255&R,C>=0&&(T[C--]=R>>8&255),C>=0&&(T[C--]=R>>16&255),I===6?(C>=0&&(T[C--]=R>>24&255),j=0,I=0):(j=R>>>24,I+=2)}if(C>=0)for(T[C--]=j;C>=0;)T[C--]=0},Math.clz32?u.prototype._countBits=function(T){return 32-Math.clz32(T)}:u.prototype._countBits=function(T){var w=T,C=0;return w>=4096&&(C+=13,w>>>=13),w>=64&&(C+=7,w>>>=7),w>=8&&(C+=4,w>>>=4),w>=2&&(C+=2,w>>>=2),C+w},u.prototype._zeroBits=function(T){if(T===0)return 26;var w=T,C=0;return!(8191&w)&&(C+=13,w>>>=13),!(127&w)&&(C+=7,w>>>=7),!(15&w)&&(C+=4,w>>>=4),!(3&w)&&(C+=2,w>>>=2),!(1&w)&&C++,C},u.prototype.bitLength=function(){var T=this.words[this.length-1],w=this._countBits(T);return 26*(this.length-1)+w},u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var T=0,w=0;w<this.length;w++){var C=this._zeroBits(this.words[w]);if(T+=C,C!==26)break}return T},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(T){return this.negative!==0?this.abs().inotn(T).iaddn(1):this.clone()},u.prototype.fromTwos=function(T){return this.testn(T-1)?this.notn(T).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(T){for(;this.length<T.length;)this.words[this.length++]=0;for(var w=0;w<T.length;w++)this.words[w]=this.words[w]|T.words[w];return this._strip()},u.prototype.ior=function(T){return c((this.negative|T.negative)==0),this.iuor(T)},u.prototype.or=function(T){return this.length>T.length?this.clone().ior(T):T.clone().ior(this)},u.prototype.uor=function(T){return this.length>T.length?this.clone().iuor(T):T.clone().iuor(this)},u.prototype.iuand=function(T){var w;w=this.length>T.length?T:this;for(var C=0;C<w.length;C++)this.words[C]=this.words[C]&T.words[C];return this.length=w.length,this._strip()},u.prototype.iand=function(T){return c((this.negative|T.negative)==0),this.iuand(T)},u.prototype.and=function(T){return this.length>T.length?this.clone().iand(T):T.clone().iand(this)},u.prototype.uand=function(T){return this.length>T.length?this.clone().iuand(T):T.clone().iuand(this)},u.prototype.iuxor=function(T){var w,C;this.length>T.length?(w=this,C=T):(w=T,C=this);for(var j=0;j<C.length;j++)this.words[j]=w.words[j]^C.words[j];if(this!==w)for(;j<w.length;j++)this.words[j]=w.words[j];return this.length=w.length,this._strip()},u.prototype.ixor=function(T){return c((this.negative|T.negative)==0),this.iuxor(T)},u.prototype.xor=function(T){return this.length>T.length?this.clone().ixor(T):T.clone().ixor(this)},u.prototype.uxor=function(T){return this.length>T.length?this.clone().iuxor(T):T.clone().iuxor(this)},u.prototype.inotn=function(T){c(typeof T=="number"&&T>=0);var w=0|Math.ceil(T/26),C=T%26;this._expand(w),C>0&&w--;for(var j=0;j<w;j++)this.words[j]=67108863&~this.words[j];return C>0&&(this.words[j]=~this.words[j]&67108863>>26-C),this._strip()},u.prototype.notn=function(T){return this.clone().inotn(T)},u.prototype.setn=function(T,w){c(typeof T=="number"&&T>=0);var C=T/26|0,j=T%26;return this._expand(C+1),this.words[C]=w?this.words[C]|1<<j:this.words[C]&~(1<<j),this._strip()},u.prototype.iadd=function(T){var w,C,j;if(this.negative!==0&&T.negative===0)return this.negative=0,w=this.isub(T),this.negative^=1,this._normSign();if(this.negative===0&&T.negative!==0)return T.negative=0,w=this.isub(T),T.negative=1,w._normSign();this.length>T.length?(C=this,j=T):(C=T,j=this);for(var S=0,I=0;I<j.length;I++)w=(0|C.words[I])+(0|j.words[I])+S,this.words[I]=67108863&w,S=w>>>26;for(;S!==0&&I<C.length;I++)w=(0|C.words[I])+S,this.words[I]=67108863&w,S=w>>>26;if(this.length=C.length,S!==0)this.words[this.length]=S,this.length++;else if(C!==this)for(;I<C.length;I++)this.words[I]=C.words[I];return this},u.prototype.add=function(T){var w;return T.negative!==0&&this.negative===0?(T.negative=0,w=this.sub(T),T.negative^=1,w):T.negative===0&&this.negative!==0?(this.negative=0,w=T.sub(this),this.negative=1,w):this.length>T.length?this.clone().iadd(T):T.clone().iadd(this)},u.prototype.isub=function(T){if(T.negative!==0){T.negative=0;var w=this.iadd(T);return T.negative=1,w._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(T),this.negative=1,this._normSign();var C,j,S=this.cmp(T);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(C=this,j=T):(C=T,j=this);for(var I=0,R=0;R<j.length;R++)I=(w=(0|C.words[R])-(0|j.words[R])+I)>>26,this.words[R]=67108863&w;for(;I!==0&&R<C.length;R++)I=(w=(0|C.words[R])+I)>>26,this.words[R]=67108863&w;if(I===0&&R<C.length&&C!==this)for(;R<C.length;R++)this.words[R]=C.words[R];return this.length=Math.max(this.length,R),C!==this&&(this.negative=1),this._strip()},u.prototype.sub=function(T){return this.clone().isub(T)};var y=function(T,w,C){var j,S,I,R=T.words,U=w.words,z=C.words,V=0,X=0|R[0],$=8191&X,W=X>>>13,H=0|R[1],Q=8191&H,G=H>>>13,J=0|R[2],ee=8191&J,K=J>>>13,ne=0|R[3],ue=8191&ne,se=ne>>>13,ie=0|R[4],q=8191&ie,Z=ie>>>13,te=0|R[5],re=8191&te,Y=te>>>13,oe=0|R[6],ae=8191&oe,ce=oe>>>13,de=0|R[7],pe=8191&de,Ae=de>>>13,le=0|R[8],he=8191&le,me=le>>>13,ve=0|R[9],_e=8191&ve,Te=ve>>>13,Ue=0|U[0],Ee=8191&Ue,Me=Ue>>>13,Ie=0|U[1],Ce=8191&Ie,Pe=Ie>>>13,ge=0|U[2],Ne=8191&ge,ke=ge>>>13,ze=0|U[3],Re=8191&ze,Ve=ze>>>13,rt=0|U[4],Dt=8191&rt,xt=rt>>>13,Qt=0|U[5],bt=8191&Qt,Bt=Qt>>>13,Se=0|U[6],Le=8191&Se,Ge=Se>>>13,at=0|U[7],zt=8191&at,pt=at>>>13,Ot=0|U[8],Vt=8191&Ot,It=Ot>>>13,nn=0|U[9],en=8191&nn,xn=nn>>>13;C.negative=T.negative^w.negative,C.length=19;var vt=(V+(j=Math.imul($,Ee))|0)+((8191&(S=(S=Math.imul($,Me))+Math.imul(W,Ee)|0))<<13)|0;V=((I=Math.imul(W,Me))+(S>>>13)|0)+(vt>>>26)|0,vt&=67108863,j=Math.imul(Q,Ee),S=(S=Math.imul(Q,Me))+Math.imul(G,Ee)|0,I=Math.imul(G,Me);var Be=(V+(j=j+Math.imul($,Ce)|0)|0)+((8191&(S=(S=S+Math.imul($,Pe)|0)+Math.imul(W,Ce)|0))<<13)|0;V=((I=I+Math.imul(W,Pe)|0)+(S>>>13)|0)+(Be>>>26)|0,Be&=67108863,j=Math.imul(ee,Ee),S=(S=Math.imul(ee,Me))+Math.imul(K,Ee)|0,I=Math.imul(K,Me),j=j+Math.imul(Q,Ce)|0,S=(S=S+Math.imul(Q,Pe)|0)+Math.imul(G,Ce)|0,I=I+Math.imul(G,Pe)|0;var Ze=(V+(j=j+Math.imul($,Ne)|0)|0)+((8191&(S=(S=S+Math.imul($,ke)|0)+Math.imul(W,Ne)|0))<<13)|0;V=((I=I+Math.imul(W,ke)|0)+(S>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,j=Math.imul(ue,Ee),S=(S=Math.imul(ue,Me))+Math.imul(se,Ee)|0,I=Math.imul(se,Me),j=j+Math.imul(ee,Ce)|0,S=(S=S+Math.imul(ee,Pe)|0)+Math.imul(K,Ce)|0,I=I+Math.imul(K,Pe)|0,j=j+Math.imul(Q,Ne)|0,S=(S=S+Math.imul(Q,ke)|0)+Math.imul(G,Ne)|0,I=I+Math.imul(G,ke)|0;var mt=(V+(j=j+Math.imul($,Re)|0)|0)+((8191&(S=(S=S+Math.imul($,Ve)|0)+Math.imul(W,Re)|0))<<13)|0;V=((I=I+Math.imul(W,Ve)|0)+(S>>>13)|0)+(mt>>>26)|0,mt&=67108863,j=Math.imul(q,Ee),S=(S=Math.imul(q,Me))+Math.imul(Z,Ee)|0,I=Math.imul(Z,Me),j=j+Math.imul(ue,Ce)|0,S=(S=S+Math.imul(ue,Pe)|0)+Math.imul(se,Ce)|0,I=I+Math.imul(se,Pe)|0,j=j+Math.imul(ee,Ne)|0,S=(S=S+Math.imul(ee,ke)|0)+Math.imul(K,Ne)|0,I=I+Math.imul(K,ke)|0,j=j+Math.imul(Q,Re)|0,S=(S=S+Math.imul(Q,Ve)|0)+Math.imul(G,Re)|0,I=I+Math.imul(G,Ve)|0;var gn=(V+(j=j+Math.imul($,Dt)|0)|0)+((8191&(S=(S=S+Math.imul($,xt)|0)+Math.imul(W,Dt)|0))<<13)|0;V=((I=I+Math.imul(W,xt)|0)+(S>>>13)|0)+(gn>>>26)|0,gn&=67108863,j=Math.imul(re,Ee),S=(S=Math.imul(re,Me))+Math.imul(Y,Ee)|0,I=Math.imul(Y,Me),j=j+Math.imul(q,Ce)|0,S=(S=S+Math.imul(q,Pe)|0)+Math.imul(Z,Ce)|0,I=I+Math.imul(Z,Pe)|0,j=j+Math.imul(ue,Ne)|0,S=(S=S+Math.imul(ue,ke)|0)+Math.imul(se,Ne)|0,I=I+Math.imul(se,ke)|0,j=j+Math.imul(ee,Re)|0,S=(S=S+Math.imul(ee,Ve)|0)+Math.imul(K,Re)|0,I=I+Math.imul(K,Ve)|0,j=j+Math.imul(Q,Dt)|0,S=(S=S+Math.imul(Q,xt)|0)+Math.imul(G,Dt)|0,I=I+Math.imul(G,xt)|0;var xe=(V+(j=j+Math.imul($,bt)|0)|0)+((8191&(S=(S=S+Math.imul($,Bt)|0)+Math.imul(W,bt)|0))<<13)|0;V=((I=I+Math.imul(W,Bt)|0)+(S>>>13)|0)+(xe>>>26)|0,xe&=67108863,j=Math.imul(ae,Ee),S=(S=Math.imul(ae,Me))+Math.imul(ce,Ee)|0,I=Math.imul(ce,Me),j=j+Math.imul(re,Ce)|0,S=(S=S+Math.imul(re,Pe)|0)+Math.imul(Y,Ce)|0,I=I+Math.imul(Y,Pe)|0,j=j+Math.imul(q,Ne)|0,S=(S=S+Math.imul(q,ke)|0)+Math.imul(Z,Ne)|0,I=I+Math.imul(Z,ke)|0,j=j+Math.imul(ue,Re)|0,S=(S=S+Math.imul(ue,Ve)|0)+Math.imul(se,Re)|0,I=I+Math.imul(se,Ve)|0,j=j+Math.imul(ee,Dt)|0,S=(S=S+Math.imul(ee,xt)|0)+Math.imul(K,Dt)|0,I=I+Math.imul(K,xt)|0,j=j+Math.imul(Q,bt)|0,S=(S=S+Math.imul(Q,Bt)|0)+Math.imul(G,bt)|0,I=I+Math.imul(G,Bt)|0;var Oe=(V+(j=j+Math.imul($,Le)|0)|0)+((8191&(S=(S=S+Math.imul($,Ge)|0)+Math.imul(W,Le)|0))<<13)|0;V=((I=I+Math.imul(W,Ge)|0)+(S>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,j=Math.imul(pe,Ee),S=(S=Math.imul(pe,Me))+Math.imul(Ae,Ee)|0,I=Math.imul(Ae,Me),j=j+Math.imul(ae,Ce)|0,S=(S=S+Math.imul(ae,Pe)|0)+Math.imul(ce,Ce)|0,I=I+Math.imul(ce,Pe)|0,j=j+Math.imul(re,Ne)|0,S=(S=S+Math.imul(re,ke)|0)+Math.imul(Y,Ne)|0,I=I+Math.imul(Y,ke)|0,j=j+Math.imul(q,Re)|0,S=(S=S+Math.imul(q,Ve)|0)+Math.imul(Z,Re)|0,I=I+Math.imul(Z,Ve)|0,j=j+Math.imul(ue,Dt)|0,S=(S=S+Math.imul(ue,xt)|0)+Math.imul(se,Dt)|0,I=I+Math.imul(se,xt)|0,j=j+Math.imul(ee,bt)|0,S=(S=S+Math.imul(ee,Bt)|0)+Math.imul(K,bt)|0,I=I+Math.imul(K,Bt)|0,j=j+Math.imul(Q,Le)|0,S=(S=S+Math.imul(Q,Ge)|0)+Math.imul(G,Le)|0,I=I+Math.imul(G,Ge)|0;var qe=(V+(j=j+Math.imul($,zt)|0)|0)+((8191&(S=(S=S+Math.imul($,pt)|0)+Math.imul(W,zt)|0))<<13)|0;V=((I=I+Math.imul(W,pt)|0)+(S>>>13)|0)+(qe>>>26)|0,qe&=67108863,j=Math.imul(he,Ee),S=(S=Math.imul(he,Me))+Math.imul(me,Ee)|0,I=Math.imul(me,Me),j=j+Math.imul(pe,Ce)|0,S=(S=S+Math.imul(pe,Pe)|0)+Math.imul(Ae,Ce)|0,I=I+Math.imul(Ae,Pe)|0,j=j+Math.imul(ae,Ne)|0,S=(S=S+Math.imul(ae,ke)|0)+Math.imul(ce,Ne)|0,I=I+Math.imul(ce,ke)|0,j=j+Math.imul(re,Re)|0,S=(S=S+Math.imul(re,Ve)|0)+Math.imul(Y,Re)|0,I=I+Math.imul(Y,Ve)|0,j=j+Math.imul(q,Dt)|0,S=(S=S+Math.imul(q,xt)|0)+Math.imul(Z,Dt)|0,I=I+Math.imul(Z,xt)|0,j=j+Math.imul(ue,bt)|0,S=(S=S+Math.imul(ue,Bt)|0)+Math.imul(se,bt)|0,I=I+Math.imul(se,Bt)|0,j=j+Math.imul(ee,Le)|0,S=(S=S+Math.imul(ee,Ge)|0)+Math.imul(K,Le)|0,I=I+Math.imul(K,Ge)|0,j=j+Math.imul(Q,zt)|0,S=(S=S+Math.imul(Q,pt)|0)+Math.imul(G,zt)|0,I=I+Math.imul(G,pt)|0;var Je=(V+(j=j+Math.imul($,Vt)|0)|0)+((8191&(S=(S=S+Math.imul($,It)|0)+Math.imul(W,Vt)|0))<<13)|0;V=((I=I+Math.imul(W,It)|0)+(S>>>13)|0)+(Je>>>26)|0,Je&=67108863,j=Math.imul(_e,Ee),S=(S=Math.imul(_e,Me))+Math.imul(Te,Ee)|0,I=Math.imul(Te,Me),j=j+Math.imul(he,Ce)|0,S=(S=S+Math.imul(he,Pe)|0)+Math.imul(me,Ce)|0,I=I+Math.imul(me,Pe)|0,j=j+Math.imul(pe,Ne)|0,S=(S=S+Math.imul(pe,ke)|0)+Math.imul(Ae,Ne)|0,I=I+Math.imul(Ae,ke)|0,j=j+Math.imul(ae,Re)|0,S=(S=S+Math.imul(ae,Ve)|0)+Math.imul(ce,Re)|0,I=I+Math.imul(ce,Ve)|0,j=j+Math.imul(re,Dt)|0,S=(S=S+Math.imul(re,xt)|0)+Math.imul(Y,Dt)|0,I=I+Math.imul(Y,xt)|0,j=j+Math.imul(q,bt)|0,S=(S=S+Math.imul(q,Bt)|0)+Math.imul(Z,bt)|0,I=I+Math.imul(Z,Bt)|0,j=j+Math.imul(ue,Le)|0,S=(S=S+Math.imul(ue,Ge)|0)+Math.imul(se,Le)|0,I=I+Math.imul(se,Ge)|0,j=j+Math.imul(ee,zt)|0,S=(S=S+Math.imul(ee,pt)|0)+Math.imul(K,zt)|0,I=I+Math.imul(K,pt)|0,j=j+Math.imul(Q,Vt)|0,S=(S=S+Math.imul(Q,It)|0)+Math.imul(G,Vt)|0,I=I+Math.imul(G,It)|0;var kt=(V+(j=j+Math.imul($,en)|0)|0)+((8191&(S=(S=S+Math.imul($,xn)|0)+Math.imul(W,en)|0))<<13)|0;V=((I=I+Math.imul(W,xn)|0)+(S>>>13)|0)+(kt>>>26)|0,kt&=67108863,j=Math.imul(_e,Ce),S=(S=Math.imul(_e,Pe))+Math.imul(Te,Ce)|0,I=Math.imul(Te,Pe),j=j+Math.imul(he,Ne)|0,S=(S=S+Math.imul(he,ke)|0)+Math.imul(me,Ne)|0,I=I+Math.imul(me,ke)|0,j=j+Math.imul(pe,Re)|0,S=(S=S+Math.imul(pe,Ve)|0)+Math.imul(Ae,Re)|0,I=I+Math.imul(Ae,Ve)|0,j=j+Math.imul(ae,Dt)|0,S=(S=S+Math.imul(ae,xt)|0)+Math.imul(ce,Dt)|0,I=I+Math.imul(ce,xt)|0,j=j+Math.imul(re,bt)|0,S=(S=S+Math.imul(re,Bt)|0)+Math.imul(Y,bt)|0,I=I+Math.imul(Y,Bt)|0,j=j+Math.imul(q,Le)|0,S=(S=S+Math.imul(q,Ge)|0)+Math.imul(Z,Le)|0,I=I+Math.imul(Z,Ge)|0,j=j+Math.imul(ue,zt)|0,S=(S=S+Math.imul(ue,pt)|0)+Math.imul(se,zt)|0,I=I+Math.imul(se,pt)|0,j=j+Math.imul(ee,Vt)|0,S=(S=S+Math.imul(ee,It)|0)+Math.imul(K,Vt)|0,I=I+Math.imul(K,It)|0;var ot=(V+(j=j+Math.imul(Q,en)|0)|0)+((8191&(S=(S=S+Math.imul(Q,xn)|0)+Math.imul(G,en)|0))<<13)|0;V=((I=I+Math.imul(G,xn)|0)+(S>>>13)|0)+(ot>>>26)|0,ot&=67108863,j=Math.imul(_e,Ne),S=(S=Math.imul(_e,ke))+Math.imul(Te,Ne)|0,I=Math.imul(Te,ke),j=j+Math.imul(he,Re)|0,S=(S=S+Math.imul(he,Ve)|0)+Math.imul(me,Re)|0,I=I+Math.imul(me,Ve)|0,j=j+Math.imul(pe,Dt)|0,S=(S=S+Math.imul(pe,xt)|0)+Math.imul(Ae,Dt)|0,I=I+Math.imul(Ae,xt)|0,j=j+Math.imul(ae,bt)|0,S=(S=S+Math.imul(ae,Bt)|0)+Math.imul(ce,bt)|0,I=I+Math.imul(ce,Bt)|0,j=j+Math.imul(re,Le)|0,S=(S=S+Math.imul(re,Ge)|0)+Math.imul(Y,Le)|0,I=I+Math.imul(Y,Ge)|0,j=j+Math.imul(q,zt)|0,S=(S=S+Math.imul(q,pt)|0)+Math.imul(Z,zt)|0,I=I+Math.imul(Z,pt)|0,j=j+Math.imul(ue,Vt)|0,S=(S=S+Math.imul(ue,It)|0)+Math.imul(se,Vt)|0,I=I+Math.imul(se,It)|0;var tt=(V+(j=j+Math.imul(ee,en)|0)|0)+((8191&(S=(S=S+Math.imul(ee,xn)|0)+Math.imul(K,en)|0))<<13)|0;V=((I=I+Math.imul(K,xn)|0)+(S>>>13)|0)+(tt>>>26)|0,tt&=67108863,j=Math.imul(_e,Re),S=(S=Math.imul(_e,Ve))+Math.imul(Te,Re)|0,I=Math.imul(Te,Ve),j=j+Math.imul(he,Dt)|0,S=(S=S+Math.imul(he,xt)|0)+Math.imul(me,Dt)|0,I=I+Math.imul(me,xt)|0,j=j+Math.imul(pe,bt)|0,S=(S=S+Math.imul(pe,Bt)|0)+Math.imul(Ae,bt)|0,I=I+Math.imul(Ae,Bt)|0,j=j+Math.imul(ae,Le)|0,S=(S=S+Math.imul(ae,Ge)|0)+Math.imul(ce,Le)|0,I=I+Math.imul(ce,Ge)|0,j=j+Math.imul(re,zt)|0,S=(S=S+Math.imul(re,pt)|0)+Math.imul(Y,zt)|0,I=I+Math.imul(Y,pt)|0,j=j+Math.imul(q,Vt)|0,S=(S=S+Math.imul(q,It)|0)+Math.imul(Z,Vt)|0,I=I+Math.imul(Z,It)|0;var Sn=(V+(j=j+Math.imul(ue,en)|0)|0)+((8191&(S=(S=S+Math.imul(ue,xn)|0)+Math.imul(se,en)|0))<<13)|0;V=((I=I+Math.imul(se,xn)|0)+(S>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,j=Math.imul(_e,Dt),S=(S=Math.imul(_e,xt))+Math.imul(Te,Dt)|0,I=Math.imul(Te,xt),j=j+Math.imul(he,bt)|0,S=(S=S+Math.imul(he,Bt)|0)+Math.imul(me,bt)|0,I=I+Math.imul(me,Bt)|0,j=j+Math.imul(pe,Le)|0,S=(S=S+Math.imul(pe,Ge)|0)+Math.imul(Ae,Le)|0,I=I+Math.imul(Ae,Ge)|0,j=j+Math.imul(ae,zt)|0,S=(S=S+Math.imul(ae,pt)|0)+Math.imul(ce,zt)|0,I=I+Math.imul(ce,pt)|0,j=j+Math.imul(re,Vt)|0,S=(S=S+Math.imul(re,It)|0)+Math.imul(Y,Vt)|0,I=I+Math.imul(Y,It)|0;var hn=(V+(j=j+Math.imul(q,en)|0)|0)+((8191&(S=(S=S+Math.imul(q,xn)|0)+Math.imul(Z,en)|0))<<13)|0;V=((I=I+Math.imul(Z,xn)|0)+(S>>>13)|0)+(hn>>>26)|0,hn&=67108863,j=Math.imul(_e,bt),S=(S=Math.imul(_e,Bt))+Math.imul(Te,bt)|0,I=Math.imul(Te,Bt),j=j+Math.imul(he,Le)|0,S=(S=S+Math.imul(he,Ge)|0)+Math.imul(me,Le)|0,I=I+Math.imul(me,Ge)|0,j=j+Math.imul(pe,zt)|0,S=(S=S+Math.imul(pe,pt)|0)+Math.imul(Ae,zt)|0,I=I+Math.imul(Ae,pt)|0,j=j+Math.imul(ae,Vt)|0,S=(S=S+Math.imul(ae,It)|0)+Math.imul(ce,Vt)|0,I=I+Math.imul(ce,It)|0;var wn=(V+(j=j+Math.imul(re,en)|0)|0)+((8191&(S=(S=S+Math.imul(re,xn)|0)+Math.imul(Y,en)|0))<<13)|0;V=((I=I+Math.imul(Y,xn)|0)+(S>>>13)|0)+(wn>>>26)|0,wn&=67108863,j=Math.imul(_e,Le),S=(S=Math.imul(_e,Ge))+Math.imul(Te,Le)|0,I=Math.imul(Te,Ge),j=j+Math.imul(he,zt)|0,S=(S=S+Math.imul(he,pt)|0)+Math.imul(me,zt)|0,I=I+Math.imul(me,pt)|0,j=j+Math.imul(pe,Vt)|0,S=(S=S+Math.imul(pe,It)|0)+Math.imul(Ae,Vt)|0,I=I+Math.imul(Ae,It)|0;var qt=(V+(j=j+Math.imul(ae,en)|0)|0)+((8191&(S=(S=S+Math.imul(ae,xn)|0)+Math.imul(ce,en)|0))<<13)|0;V=((I=I+Math.imul(ce,xn)|0)+(S>>>13)|0)+(qt>>>26)|0,qt&=67108863,j=Math.imul(_e,zt),S=(S=Math.imul(_e,pt))+Math.imul(Te,zt)|0,I=Math.imul(Te,pt),j=j+Math.imul(he,Vt)|0,S=(S=S+Math.imul(he,It)|0)+Math.imul(me,Vt)|0,I=I+Math.imul(me,It)|0;var Kn=(V+(j=j+Math.imul(pe,en)|0)|0)+((8191&(S=(S=S+Math.imul(pe,xn)|0)+Math.imul(Ae,en)|0))<<13)|0;V=((I=I+Math.imul(Ae,xn)|0)+(S>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,j=Math.imul(_e,Vt),S=(S=Math.imul(_e,It))+Math.imul(Te,Vt)|0,I=Math.imul(Te,It);var Gn=(V+(j=j+Math.imul(he,en)|0)|0)+((8191&(S=(S=S+Math.imul(he,xn)|0)+Math.imul(me,en)|0))<<13)|0;V=((I=I+Math.imul(me,xn)|0)+(S>>>13)|0)+(Gn>>>26)|0,Gn&=67108863;var Jn=(V+(j=Math.imul(_e,en))|0)+((8191&(S=(S=Math.imul(_e,xn))+Math.imul(Te,en)|0))<<13)|0;return V=((I=Math.imul(Te,xn))+(S>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,z[0]=vt,z[1]=Be,z[2]=Ze,z[3]=mt,z[4]=gn,z[5]=xe,z[6]=Oe,z[7]=qe,z[8]=Je,z[9]=kt,z[10]=ot,z[11]=tt,z[12]=Sn,z[13]=hn,z[14]=wn,z[15]=qt,z[16]=Kn,z[17]=Gn,z[18]=Jn,V!==0&&(z[19]=V,C.length++),C};function N(T,w,C){C.negative=w.negative^T.negative,C.length=T.length+w.length;for(var j=0,S=0,I=0;I<C.length-1;I++){var R=S;S=0;for(var U=67108863&j,z=Math.min(I,w.length-1),V=Math.max(0,I-T.length+1);V<=z;V++){var X=I-V,$=(0|T.words[X])*(0|w.words[V]),W=67108863&$;U=67108863&(W=W+U|0),S+=(R=(R=R+($/67108864|0)|0)+(W>>>26)|0)>>>26,R&=67108863}C.words[I]=U,j=R,R=S}return j!==0?C.words[I]=j:C.length--,C._strip()}function P(T,w,C){return N(T,w,C)}Math.imul||(y=v),u.prototype.mulTo=function(T,w){var C=this.length+T.length;return this.length===10&&T.length===10?y(this,T,w):C<63?v(this,T,w):C<1024?N(this,T,w):P(this,T,w)},u.prototype.mul=function(T){var w=new u(null);return w.words=new Array(this.length+T.length),this.mulTo(T,w)},u.prototype.mulf=function(T){var w=new u(null);return w.words=new Array(this.length+T.length),P(this,T,w)},u.prototype.imul=function(T){return this.clone().mulTo(T,this)},u.prototype.imuln=function(T){var w=T<0;w&&(T=-T),c(typeof T=="number"),c(T<67108864);for(var C=0,j=0;j<this.length;j++){var S=(0|this.words[j])*T,I=(67108863&S)+(67108863&C);C>>=26,C+=S/67108864|0,C+=I>>>26,this.words[j]=67108863&I}return C!==0&&(this.words[j]=C,this.length++),w?this.ineg():this},u.prototype.muln=function(T){return this.clone().imuln(T)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(T){var w=function(I){for(var R=new Array(I.bitLength()),U=0;U<R.length;U++){var z=U/26|0,V=U%26;R[U]=I.words[z]>>>V&1}return R}(T);if(w.length===0)return new u(1);for(var C=this,j=0;j<w.length&&w[j]===0;j++,C=C.sqr());if(++j<w.length)for(var S=C.sqr();j<w.length;j++,S=S.sqr())w[j]!==0&&(C=C.mul(S));return C},u.prototype.iushln=function(T){c(typeof T=="number"&&T>=0);var w,C=T%26,j=(T-C)/26,S=67108863>>>26-C<<26-C;if(C!==0){var I=0;for(w=0;w<this.length;w++){var R=this.words[w]&S,U=(0|this.words[w])-R<<C;this.words[w]=U|I,I=R>>>26-C}I&&(this.words[w]=I,this.length++)}if(j!==0){for(w=this.length-1;w>=0;w--)this.words[w+j]=this.words[w];for(w=0;w<j;w++)this.words[w]=0;this.length+=j}return this._strip()},u.prototype.ishln=function(T){return c(this.negative===0),this.iushln(T)},u.prototype.iushrn=function(T,w,C){var j;c(typeof T=="number"&&T>=0),j=w?(w-w%26)/26:0;var S=T%26,I=Math.min((T-S)/26,this.length),R=67108863^67108863>>>S<<S,U=C;if(j-=I,j=Math.max(0,j),U){for(var z=0;z<I;z++)U.words[z]=this.words[z];U.length=I}if(I!==0)if(this.length>I)for(this.length-=I,z=0;z<this.length;z++)this.words[z]=this.words[z+I];else this.words[0]=0,this.length=1;var V=0;for(z=this.length-1;z>=0&&(V!==0||z>=j);z--){var X=0|this.words[z];this.words[z]=V<<26-S|X>>>S,V=X&R}return U&&V!==0&&(U.words[U.length++]=V),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},u.prototype.ishrn=function(T,w,C){return c(this.negative===0),this.iushrn(T,w,C)},u.prototype.shln=function(T){return this.clone().ishln(T)},u.prototype.ushln=function(T){return this.clone().iushln(T)},u.prototype.shrn=function(T){return this.clone().ishrn(T)},u.prototype.ushrn=function(T){return this.clone().iushrn(T)},u.prototype.testn=function(T){c(typeof T=="number"&&T>=0);var w=T%26,C=(T-w)/26,j=1<<w;return!(this.length<=C)&&!!(this.words[C]&j)},u.prototype.imaskn=function(T){c(typeof T=="number"&&T>=0);var w=T%26,C=(T-w)/26;if(c(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(w!==0&&C++,this.length=Math.min(C,this.length),w!==0){var j=67108863^67108863>>>w<<w;this.words[this.length-1]&=j}return this._strip()},u.prototype.maskn=function(T){return this.clone().imaskn(T)},u.prototype.iaddn=function(T){return c(typeof T=="number"),c(T<67108864),T<0?this.isubn(-T):this.negative!==0?this.length===1&&(0|this.words[0])<=T?(this.words[0]=T-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(T),this.negative=1,this):this._iaddn(T)},u.prototype._iaddn=function(T){this.words[0]+=T;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},u.prototype.isubn=function(T){if(c(typeof T=="number"),c(T<67108864),T<0)return this.iaddn(-T);if(this.negative!==0)return this.negative=0,this.iaddn(T),this.negative=1,this;if(this.words[0]-=T,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},u.prototype.addn=function(T){return this.clone().iaddn(T)},u.prototype.subn=function(T){return this.clone().isubn(T)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(T,w,C){var j,S,I=T.length+C;this._expand(I);var R=0;for(j=0;j<T.length;j++){S=(0|this.words[j+C])+R;var U=(0|T.words[j])*w;R=((S-=67108863&U)>>26)-(U/67108864|0),this.words[j+C]=67108863&S}for(;j<this.length-C;j++)R=(S=(0|this.words[j+C])+R)>>26,this.words[j+C]=67108863&S;if(R===0)return this._strip();for(c(R===-1),R=0,j=0;j<this.length;j++)R=(S=-(0|this.words[j])+R)>>26,this.words[j]=67108863&S;return this.negative=1,this._strip()},u.prototype._wordDiv=function(T,w){var C=(this.length,T.length),j=this.clone(),S=T,I=0|S.words[S.length-1];(C=26-this._countBits(I))!==0&&(S=S.ushln(C),j.iushln(C),I=0|S.words[S.length-1]);var R,U=j.length-S.length;if(w!=="mod"){(R=new u(null)).length=U+1,R.words=new Array(R.length);for(var z=0;z<R.length;z++)R.words[z]=0}var V=j.clone()._ishlnsubmul(S,1,U);V.negative===0&&(j=V,R&&(R.words[U]=1));for(var X=U-1;X>=0;X--){var $=67108864*(0|j.words[S.length+X])+(0|j.words[S.length+X-1]);for($=Math.min($/I|0,67108863),j._ishlnsubmul(S,$,X);j.negative!==0;)$--,j.negative=0,j._ishlnsubmul(S,1,X),j.isZero()||(j.negative^=1);R&&(R.words[X]=$)}return R&&R._strip(),j._strip(),w!=="div"&&C!==0&&j.iushrn(C),{div:R||null,mod:j}},u.prototype.divmod=function(T,w,C){return c(!T.isZero()),this.isZero()?{div:new u(0),mod:new u(0)}:this.negative!==0&&T.negative===0?(I=this.neg().divmod(T,w),w!=="mod"&&(j=I.div.neg()),w!=="div"&&(S=I.mod.neg(),C&&S.negative!==0&&S.iadd(T)),{div:j,mod:S}):this.negative===0&&T.negative!==0?(I=this.divmod(T.neg(),w),w!=="mod"&&(j=I.div.neg()),{div:j,mod:I.mod}):this.negative&T.negative?(I=this.neg().divmod(T.neg(),w),w!=="div"&&(S=I.mod.neg(),C&&S.negative!==0&&S.isub(T)),{div:I.div,mod:S}):T.length>this.length||this.cmp(T)<0?{div:new u(0),mod:this}:T.length===1?w==="div"?{div:this.divn(T.words[0]),mod:null}:w==="mod"?{div:null,mod:new u(this.modrn(T.words[0]))}:{div:this.divn(T.words[0]),mod:new u(this.modrn(T.words[0]))}:this._wordDiv(T,w);var j,S,I},u.prototype.div=function(T){return this.divmod(T,"div",!1).div},u.prototype.mod=function(T){return this.divmod(T,"mod",!1).mod},u.prototype.umod=function(T){return this.divmod(T,"mod",!0).mod},u.prototype.divRound=function(T){var w=this.divmod(T);if(w.mod.isZero())return w.div;var C=w.div.negative!==0?w.mod.isub(T):w.mod,j=T.ushrn(1),S=T.andln(1),I=C.cmp(j);return I<0||S===1&&I===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},u.prototype.modrn=function(T){var w=T<0;w&&(T=-T),c(T<=67108863);for(var C=(1<<26)%T,j=0,S=this.length-1;S>=0;S--)j=(C*j+(0|this.words[S]))%T;return w?-j:j},u.prototype.modn=function(T){return this.modrn(T)},u.prototype.idivn=function(T){var w=T<0;w&&(T=-T),c(T<=67108863);for(var C=0,j=this.length-1;j>=0;j--){var S=(0|this.words[j])+67108864*C;this.words[j]=S/T|0,C=S%T}return this._strip(),w?this.ineg():this},u.prototype.divn=function(T){return this.clone().idivn(T)},u.prototype.egcd=function(T){c(T.negative===0),c(!T.isZero());var w=this,C=T.clone();w=w.negative!==0?w.umod(T):w.clone();for(var j=new u(1),S=new u(0),I=new u(0),R=new u(1),U=0;w.isEven()&&C.isEven();)w.iushrn(1),C.iushrn(1),++U;for(var z=C.clone(),V=w.clone();!w.isZero();){for(var X=0,$=1;!(w.words[0]&$)&&X<26;++X,$<<=1);if(X>0)for(w.iushrn(X);X-- >0;)(j.isOdd()||S.isOdd())&&(j.iadd(z),S.isub(V)),j.iushrn(1),S.iushrn(1);for(var W=0,H=1;!(C.words[0]&H)&&W<26;++W,H<<=1);if(W>0)for(C.iushrn(W);W-- >0;)(I.isOdd()||R.isOdd())&&(I.iadd(z),R.isub(V)),I.iushrn(1),R.iushrn(1);w.cmp(C)>=0?(w.isub(C),j.isub(I),S.isub(R)):(C.isub(w),I.isub(j),R.isub(S))}return{a:I,b:R,gcd:C.iushln(U)}},u.prototype._invmp=function(T){c(T.negative===0),c(!T.isZero());var w=this,C=T.clone();w=w.negative!==0?w.umod(T):w.clone();for(var j,S=new u(1),I=new u(0),R=C.clone();w.cmpn(1)>0&&C.cmpn(1)>0;){for(var U=0,z=1;!(w.words[0]&z)&&U<26;++U,z<<=1);if(U>0)for(w.iushrn(U);U-- >0;)S.isOdd()&&S.iadd(R),S.iushrn(1);for(var V=0,X=1;!(C.words[0]&X)&&V<26;++V,X<<=1);if(V>0)for(C.iushrn(V);V-- >0;)I.isOdd()&&I.iadd(R),I.iushrn(1);w.cmp(C)>=0?(w.isub(C),S.isub(I)):(C.isub(w),I.isub(S))}return(j=w.cmpn(1)===0?S:I).cmpn(0)<0&&j.iadd(T),j},u.prototype.gcd=function(T){if(this.isZero())return T.abs();if(T.isZero())return this.abs();var w=this.clone(),C=T.clone();w.negative=0,C.negative=0;for(var j=0;w.isEven()&&C.isEven();j++)w.iushrn(1),C.iushrn(1);for(;;){for(;w.isEven();)w.iushrn(1);for(;C.isEven();)C.iushrn(1);var S=w.cmp(C);if(S<0){var I=w;w=C,C=I}else if(S===0||C.cmpn(1)===0)break;w.isub(C)}return C.iushln(j)},u.prototype.invm=function(T){return this.egcd(T).a.umod(T)},u.prototype.isEven=function(){return(1&this.words[0])==0},u.prototype.isOdd=function(){return(1&this.words[0])==1},u.prototype.andln=function(T){return this.words[0]&T},u.prototype.bincn=function(T){c(typeof T=="number");var w=T%26,C=(T-w)/26,j=1<<w;if(this.length<=C)return this._expand(C+1),this.words[C]|=j,this;for(var S=j,I=C;S!==0&&I<this.length;I++){var R=0|this.words[I];S=(R+=S)>>>26,R&=67108863,this.words[I]=R}return S!==0&&(this.words[I]=S,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(T){var w,C=T<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;if(this._strip(),this.length>1)w=1;else{C&&(T=-T),c(T<=67108863,"Number is too big");var j=0|this.words[0];w=j===T?0:j<T?-1:1}return this.negative!==0?0|-w:w},u.prototype.cmp=function(T){if(this.negative!==0&&T.negative===0)return-1;if(this.negative===0&&T.negative!==0)return 1;var w=this.ucmp(T);return this.negative!==0?0|-w:w},u.prototype.ucmp=function(T){if(this.length>T.length)return 1;if(this.length<T.length)return-1;for(var w=0,C=this.length-1;C>=0;C--){var j=0|this.words[C],S=0|T.words[C];if(j!==S){j<S?w=-1:j>S&&(w=1);break}}return w},u.prototype.gtn=function(T){return this.cmpn(T)===1},u.prototype.gt=function(T){return this.cmp(T)===1},u.prototype.gten=function(T){return this.cmpn(T)>=0},u.prototype.gte=function(T){return this.cmp(T)>=0},u.prototype.ltn=function(T){return this.cmpn(T)===-1},u.prototype.lt=function(T){return this.cmp(T)===-1},u.prototype.lten=function(T){return this.cmpn(T)<=0},u.prototype.lte=function(T){return this.cmp(T)<=0},u.prototype.eqn=function(T){return this.cmpn(T)===0},u.prototype.eq=function(T){return this.cmp(T)===0},u.red=function(T){return new _(T)},u.prototype.toRed=function(T){return c(!this.red,"Already a number in reduction context"),c(this.negative===0,"red works only with positives"),T.convertTo(this)._forceRed(T)},u.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(T){return this.red=T,this},u.prototype.forceRed=function(T){return c(!this.red,"Already a number in reduction context"),this._forceRed(T)},u.prototype.redAdd=function(T){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,T)},u.prototype.redIAdd=function(T){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,T)},u.prototype.redSub=function(T){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,T)},u.prototype.redISub=function(T){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,T)},u.prototype.redShl=function(T){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,T)},u.prototype.redMul=function(T){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.mul(this,T)},u.prototype.redIMul=function(T){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.imul(this,T)},u.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(T){return c(this.red&&!T.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,T)};var M={k256:null,p224:null,p192:null,p25519:null};function k(T,w){this.name=T,this.p=new u(w,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function D(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function O(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function L(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function F(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(T){if(typeof T=="string"){var w=u._prime(T);this.m=w.p,this.prime=w}else c(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}function E(T){_.call(this,T),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}k.prototype._tmp=function(){var T=new u(null);return T.words=new Array(Math.ceil(this.n/13)),T},k.prototype.ireduce=function(T){var w,C=T;do this.split(C,this.tmp),w=(C=(C=this.imulK(C)).iadd(this.tmp)).bitLength();while(w>this.n);var j=w<this.n?-1:C.ucmp(this.p);return j===0?(C.words[0]=0,C.length=1):j>0?C.isub(this.p):C.strip!==void 0?C.strip():C._strip(),C},k.prototype.split=function(T,w){T.iushrn(this.n,0,w)},k.prototype.imulK=function(T){return T.imul(this.k)},l(D,k),D.prototype.split=function(T,w){for(var C=Math.min(T.length,9),j=0;j<C;j++)w.words[j]=T.words[j];if(w.length=C,T.length<=9)return T.words[0]=0,void(T.length=1);var S=T.words[9];for(w.words[w.length++]=4194303&S,j=10;j<T.length;j++){var I=0|T.words[j];T.words[j-10]=(4194303&I)<<4|S>>>22,S=I}S>>>=22,T.words[j-10]=S,S===0&&T.length>10?T.length-=10:T.length-=9},D.prototype.imulK=function(T){T.words[T.length]=0,T.words[T.length+1]=0,T.length+=2;for(var w=0,C=0;C<T.length;C++){var j=0|T.words[C];w+=977*j,T.words[C]=67108863&w,w=64*j+(w/67108864|0)}return T.words[T.length-1]===0&&(T.length--,T.words[T.length-1]===0&&T.length--),T},l(O,k),l(L,k),l(F,k),F.prototype.imulK=function(T){for(var w=0,C=0;C<T.length;C++){var j=19*(0|T.words[C])+w,S=67108863&j;j>>>=26,T.words[C]=S,w=j}return w!==0&&(T.words[T.length++]=w),T},u._prime=function(T){if(M[T])return M[T];var w;if(T==="k256")w=new D;else if(T==="p224")w=new O;else if(T==="p192")w=new L;else{if(T!=="p25519")throw new Error("Unknown prime "+T);w=new F}return M[T]=w,w},_.prototype._verify1=function(T){c(T.negative===0,"red works only with positives"),c(T.red,"red works only with red numbers")},_.prototype._verify2=function(T,w){c((T.negative|w.negative)==0,"red works only with positives"),c(T.red&&T.red===w.red,"red works only with red numbers")},_.prototype.imod=function(T){return this.prime?this.prime.ireduce(T)._forceRed(this):(A(T,T.umod(this.m)._forceRed(this)),T)},_.prototype.neg=function(T){return T.isZero()?T.clone():this.m.sub(T)._forceRed(this)},_.prototype.add=function(T,w){this._verify2(T,w);var C=T.add(w);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},_.prototype.iadd=function(T,w){this._verify2(T,w);var C=T.iadd(w);return C.cmp(this.m)>=0&&C.isub(this.m),C},_.prototype.sub=function(T,w){this._verify2(T,w);var C=T.sub(w);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},_.prototype.isub=function(T,w){this._verify2(T,w);var C=T.isub(w);return C.cmpn(0)<0&&C.iadd(this.m),C},_.prototype.shl=function(T,w){return this._verify1(T),this.imod(T.ushln(w))},_.prototype.imul=function(T,w){return this._verify2(T,w),this.imod(T.imul(w))},_.prototype.mul=function(T,w){return this._verify2(T,w),this.imod(T.mul(w))},_.prototype.isqr=function(T){return this.imul(T,T.clone())},_.prototype.sqr=function(T){return this.mul(T,T)},_.prototype.sqrt=function(T){if(T.isZero())return T.clone();var w=this.m.andln(3);if(c(w%2==1),w===3){var C=this.m.add(new u(1)).iushrn(2);return this.pow(T,C)}for(var j=this.m.subn(1),S=0;!j.isZero()&&j.andln(1)===0;)S++,j.iushrn(1);c(!j.isZero());var I=new u(1).toRed(this),R=I.redNeg(),U=this.m.subn(1).iushrn(1),z=this.m.bitLength();for(z=new u(2*z*z).toRed(this);this.pow(z,U).cmp(R)!==0;)z.redIAdd(R);for(var V=this.pow(z,j),X=this.pow(T,j.addn(1).iushrn(1)),$=this.pow(T,j),W=S;$.cmp(I)!==0;){for(var H=$,Q=0;H.cmp(I)!==0;Q++)H=H.redSqr();c(Q<W);var G=this.pow(V,new u(1).iushln(W-Q-1));X=X.redMul(G),V=G.redSqr(),$=$.redMul(V),W=Q}return X},_.prototype.invm=function(T){var w=T._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},_.prototype.pow=function(T,w){if(w.isZero())return new u(1).toRed(this);if(w.cmpn(1)===0)return T.clone();var C=new Array(16);C[0]=new u(1).toRed(this),C[1]=T;for(var j=2;j<C.length;j++)C[j]=this.mul(C[j-1],T);var S=C[0],I=0,R=0,U=w.bitLength()%26;for(U===0&&(U=26),j=w.length-1;j>=0;j--){for(var z=w.words[j],V=U-1;V>=0;V--){var X=z>>V&1;S!==C[0]&&(S=this.sqr(S)),X!==0||I!==0?(I<<=1,I|=X,(++R===4||j===0&&V===0)&&(S=this.mul(S,C[I]),R=0,I=0)):R=0}U=26}return S},_.prototype.convertTo=function(T){var w=T.umod(this.m);return w===T?w.clone():w},_.prototype.convertFrom=function(T){var w=T.clone();return w.red=null,w},u.mont=function(T){return new E(T)},l(E,_),E.prototype.convertTo=function(T){return this.imod(T.ushln(this.shift))},E.prototype.convertFrom=function(T){var w=this.imod(T.mul(this.rinv));return w.red=null,w},E.prototype.imul=function(T,w){if(T.isZero()||w.isZero())return T.words[0]=0,T.length=1,T;var C=T.imul(w),j=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=C.isub(j).iushrn(this.shift),I=S;return S.cmp(this.m)>=0?I=S.isub(this.m):S.cmpn(0)<0&&(I=S.iadd(this.m)),I._forceRed(this)},E.prototype.mul=function(T,w){if(T.isZero()||w.isZero())return new u(0)._forceRed(this);var C=T.mul(w),j=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=C.isub(j).iushrn(this.shift),I=S;return S.cmp(this.m)>=0?I=S.isub(this.m):S.cmpn(0)<0&&(I=S.iadd(this.m)),I._forceRed(this)},E.prototype.invm=function(T){return this.imod(T._invmp(this.m).mul(this.r2))._forceRed(this)}})(s===void 0||s)},{buffer:188}],187:[function(n,s,i){var a;function o(l){this.rand=l}if(s.exports=function(l){return a||(a=new o(null)),a.generate(l)},s.exports.Rand=o,o.prototype.generate=function(l){return this._rand(l)},o.prototype._rand=function(l){if(this.rand.getBytes)return this.rand.getBytes(l);for(var u=new Uint8Array(l),d=0;d<u.length;d++)u[d]=this.rand.getByte();return u},typeof self=="object")self.crypto&&self.crypto.getRandomValues?o.prototype._rand=function(l){var u=new Uint8Array(l);return self.crypto.getRandomValues(u),u}:self.msCrypto&&self.msCrypto.getRandomValues?o.prototype._rand=function(l){var u=new Uint8Array(l);return self.msCrypto.getRandomValues(u),u}:typeof window=="object"&&(o.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var c=n("crypto");if(typeof c.randomBytes!="function")throw new Error("Not supported");o.prototype._rand=function(l){return c.randomBytes(l)}}catch{}},{crypto:188}],188:[function(n,s,i){},{}],189:[function(n,s,i){var a=n("safe-buffer").Buffer;function o(h){a.isBuffer(h)||(h=a.from(h));for(var m=h.length/4|0,A=new Array(m),g=0;g<m;g++)A[g]=h.readUInt32BE(4*g);return A}function c(h){for(;0<h.length;h++)h[0]=0}function l(h,m,A,g,p){for(var b,x,v,y,N=A[0],P=A[1],M=A[2],k=A[3],D=h[0]^m[0],O=h[1]^m[1],L=h[2]^m[2],F=h[3]^m[3],_=4,E=1;E<p;E++)b=N[D>>>24]^P[O>>>16&255]^M[L>>>8&255]^k[255&F]^m[_++],x=N[O>>>24]^P[L>>>16&255]^M[F>>>8&255]^k[255&D]^m[_++],v=N[L>>>24]^P[F>>>16&255]^M[D>>>8&255]^k[255&O]^m[_++],y=N[F>>>24]^P[D>>>16&255]^M[O>>>8&255]^k[255&L]^m[_++],D=b,O=x,L=v,F=y;return b=(g[D>>>24]<<24|g[O>>>16&255]<<16|g[L>>>8&255]<<8|g[255&F])^m[_++],x=(g[O>>>24]<<24|g[L>>>16&255]<<16|g[F>>>8&255]<<8|g[255&D])^m[_++],v=(g[L>>>24]<<24|g[F>>>16&255]<<16|g[D>>>8&255]<<8|g[255&O])^m[_++],y=(g[F>>>24]<<24|g[D>>>16&255]<<16|g[O>>>8&255]<<8|g[255&L])^m[_++],[b>>>=0,x>>>=0,v>>>=0,y>>>=0]}var u=[0,1,2,4,8,16,32,64,128,27,54],d=function(){for(var h=new Array(256),m=0;m<256;m++)h[m]=m<128?m<<1:m<<1^283;for(var A=[],g=[],p=[[],[],[],[]],b=[[],[],[],[]],x=0,v=0,y=0;y<256;++y){var N=v^v<<1^v<<2^v<<3^v<<4;N=N>>>8^255&N^99,A[x]=N,g[N]=x;var P=h[x],M=h[P],k=h[M],D=257*h[N]^16843008*N;p[0][x]=D<<24|D>>>8,p[1][x]=D<<16|D>>>16,p[2][x]=D<<8|D>>>24,p[3][x]=D,D=16843009*k^65537*M^257*P^16843008*x,b[0][N]=D<<24|D>>>8,b[1][N]=D<<16|D>>>16,b[2][N]=D<<8|D>>>24,b[3][N]=D,x===0?x=v=1:(x=P^h[h[h[k^P]]],v^=h[h[v]])}return{SBOX:A,INV_SBOX:g,SUB_MIX:p,INV_SUB_MIX:b}}();function f(h){this._key=o(h),this._reset()}f.blockSize=16,f.keySize=32,f.prototype.blockSize=f.blockSize,f.prototype.keySize=f.keySize,f.prototype._reset=function(){for(var h=this._key,m=h.length,A=m+6,g=4*(A+1),p=[],b=0;b<m;b++)p[b]=h[b];for(b=m;b<g;b++){var x=p[b-1];b%m==0?(x=x<<8|x>>>24,x=d.SBOX[x>>>24]<<24|d.SBOX[x>>>16&255]<<16|d.SBOX[x>>>8&255]<<8|d.SBOX[255&x],x^=u[b/m|0]<<24):m>6&&b%m==4&&(x=d.SBOX[x>>>24]<<24|d.SBOX[x>>>16&255]<<16|d.SBOX[x>>>8&255]<<8|d.SBOX[255&x]),p[b]=p[b-m]^x}for(var v=[],y=0;y<g;y++){var N=g-y,P=p[N-(y%4?0:4)];v[y]=y<4||N<=4?P:d.INV_SUB_MIX[0][d.SBOX[P>>>24]]^d.INV_SUB_MIX[1][d.SBOX[P>>>16&255]]^d.INV_SUB_MIX[2][d.SBOX[P>>>8&255]]^d.INV_SUB_MIX[3][d.SBOX[255&P]]}this._nRounds=A,this._keySchedule=p,this._invKeySchedule=v},f.prototype.encryptBlockRaw=function(h){return l(h=o(h),this._keySchedule,d.SUB_MIX,d.SBOX,this._nRounds)},f.prototype.encryptBlock=function(h){var m=this.encryptBlockRaw(h),A=a.allocUnsafe(16);return A.writeUInt32BE(m[0],0),A.writeUInt32BE(m[1],4),A.writeUInt32BE(m[2],8),A.writeUInt32BE(m[3],12),A},f.prototype.decryptBlock=function(h){var m=(h=o(h))[1];h[1]=h[3],h[3]=m;var A=l(h,this._invKeySchedule,d.INV_SUB_MIX,d.INV_SBOX,this._nRounds),g=a.allocUnsafe(16);return g.writeUInt32BE(A[0],0),g.writeUInt32BE(A[3],4),g.writeUInt32BE(A[2],8),g.writeUInt32BE(A[1],12),g},f.prototype.scrub=function(){c(this._keySchedule),c(this._invKeySchedule),c(this._key)},s.exports.AES=f},{"safe-buffer":494}],190:[function(n,s,i){var a=n("./aes"),o=n("safe-buffer").Buffer,c=n("cipher-base"),l=n("inherits"),u=n("./ghash"),d=n("buffer-xor"),f=n("./incr32");function h(m,A,g,p){c.call(this);var b=o.alloc(4,0);this._cipher=new a.AES(A);var x=this._cipher.encryptBlock(b);this._ghash=new u(x),g=function(v,y,N){if(y.length===12)return v._finID=o.concat([y,o.from([0,0,0,1])]),o.concat([y,o.from([0,0,0,2])]);var P=new u(N),M=y.length,k=M%16;P.update(y),k&&(k=16-k,P.update(o.alloc(k,0))),P.update(o.alloc(8,0));var D=8*M,O=o.alloc(8);O.writeUIntBE(D,0,8),P.update(O),v._finID=P.state;var L=o.from(v._finID);return f(L),L}(this,g,x),this._prev=o.from(g),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=p,this._alen=0,this._len=0,this._mode=m,this._authTag=null,this._called=!1}l(h,c),h.prototype._update=function(m){if(!this._called&&this._alen){var A=16-this._alen%16;A<16&&(A=o.alloc(A,0),this._ghash.update(A))}this._called=!0;var g=this._mode.encrypt(this,m);return this._decrypt?this._ghash.update(m):this._ghash.update(g),this._len+=m.length,g},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var m=d(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(A,g){var p=0;A.length!==g.length&&p++;for(var b=Math.min(A.length,g.length),x=0;x<b;++x)p+=A[x]^g[x];return p}(m,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=m,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!o.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(m){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=m},h.prototype.setAAD=function(m){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(m),this._alen+=m.length},s.exports=h},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(n,s,i){var a=n("./encrypter"),o=n("./decrypter"),c=n("./modes/list.json");i.createCipher=i.Cipher=a.createCipher,i.createCipheriv=i.Cipheriv=a.createCipheriv,i.createDecipher=i.Decipher=o.createDecipher,i.createDecipheriv=i.Decipheriv=o.createDecipheriv,i.listCiphers=i.getCiphers=function(){return Object.keys(c)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(n,s,i){var a=n("./authCipher"),o=n("safe-buffer").Buffer,c=n("./modes"),l=n("./streamCipher"),u=n("cipher-base"),d=n("./aes"),f=n("evp_bytestokey");function h(g,p,b){u.call(this),this._cache=new m,this._last=void 0,this._cipher=new d.AES(p),this._prev=o.from(b),this._mode=g,this._autopadding=!0}function m(){this.cache=o.allocUnsafe(0)}function A(g,p,b){var x=c[g.toLowerCase()];if(!x)throw new TypeError("invalid suite type");if(typeof b=="string"&&(b=o.from(b)),x.mode!=="GCM"&&b.length!==x.iv)throw new TypeError("invalid iv length "+b.length);if(typeof p=="string"&&(p=o.from(p)),p.length!==x.key/8)throw new TypeError("invalid key length "+p.length);return x.type==="stream"?new l(x.module,p,b,!0):x.type==="auth"?new a(x.module,p,b,!0):new h(x.module,p,b)}n("inherits")(h,u),h.prototype._update=function(g){var p,b;this._cache.add(g);for(var x=[];p=this._cache.get(this._autopadding);)b=this._mode.decrypt(this,p),x.push(b);return o.concat(x)},h.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return function(p){var b=p[15];if(b<1||b>16)throw new Error("unable to decrypt data");for(var x=-1;++x<b;)if(p[x+(16-b)]!==b)throw new Error("unable to decrypt data");if(b!==16)return p.slice(0,16-b)}(this._mode.decrypt(this,g));if(g)throw new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this},m.prototype.add=function(g){this.cache=o.concat([this.cache,g])},m.prototype.get=function(g){var p;if(g){if(this.cache.length>16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p}else if(this.cache.length>=16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p;return null},m.prototype.flush=function(){if(this.cache.length)return this.cache},i.createDecipher=function(g,p){var b=c[g.toLowerCase()];if(!b)throw new TypeError("invalid suite type");var x=f(p,!1,b.key,b.iv);return A(g,x.key,x.iv)},i.createDecipheriv=A},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(n,s,i){var a=n("./modes"),o=n("./authCipher"),c=n("safe-buffer").Buffer,l=n("./streamCipher"),u=n("cipher-base"),d=n("./aes"),f=n("evp_bytestokey");function h(p,b,x){u.call(this),this._cache=new A,this._cipher=new d.AES(b),this._prev=c.from(x),this._mode=p,this._autopadding=!0}n("inherits")(h,u),h.prototype._update=function(p){var b,x;this._cache.add(p);for(var v=[];b=this._cache.get();)x=this._mode.encrypt(this,b),v.push(x);return c.concat(v)};var m=c.alloc(16,16);function A(){this.cache=c.allocUnsafe(0)}function g(p,b,x){var v=a[p.toLowerCase()];if(!v)throw new TypeError("invalid suite type");if(typeof b=="string"&&(b=c.from(b)),b.length!==v.key/8)throw new TypeError("invalid key length "+b.length);if(typeof x=="string"&&(x=c.from(x)),v.mode!=="GCM"&&x.length!==v.iv)throw new TypeError("invalid iv length "+x.length);return v.type==="stream"?new l(v.module,b,x):v.type==="auth"?new o(v.module,b,x):new h(v.module,b,x)}h.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return p=this._mode.encrypt(this,p),this._cipher.scrub(),p;if(!p.equals(m))throw this._cipher.scrub(),new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this},A.prototype.add=function(p){this.cache=c.concat([this.cache,p])},A.prototype.get=function(){if(this.cache.length>15){var p=this.cache.slice(0,16);return this.cache=this.cache.slice(16),p}return null},A.prototype.flush=function(){for(var p=16-this.cache.length,b=c.allocUnsafe(p),x=-1;++x<p;)b.writeUInt8(p,x);return c.concat([this.cache,b])},i.createCipheriv=g,i.createCipher=function(p,b){var x=a[p.toLowerCase()];if(!x)throw new TypeError("invalid suite type");var v=f(b,!1,x.key,x.iv);return g(p,v.key,v.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(n,s,i){var a=n("safe-buffer").Buffer,o=a.alloc(16,0);function c(u){var d=a.allocUnsafe(16);return d.writeUInt32BE(u[0]>>>0,0),d.writeUInt32BE(u[1]>>>0,4),d.writeUInt32BE(u[2]>>>0,8),d.writeUInt32BE(u[3]>>>0,12),d}function l(u){this.h=u,this.state=a.alloc(16,0),this.cache=a.allocUnsafe(0)}l.prototype.ghash=function(u){for(var d=-1;++d<u.length;)this.state[d]^=u[d];this._multiply()},l.prototype._multiply=function(){for(var u,d,f,h=[(u=this.h).readUInt32BE(0),u.readUInt32BE(4),u.readUInt32BE(8),u.readUInt32BE(12)],m=[0,0,0,0],A=-1;++A<128;){for(this.state[~~(A/8)]&1<<7-A%8&&(m[0]^=h[0],m[1]^=h[1],m[2]^=h[2],m[3]^=h[3]),f=(1&h[3])!=0,d=3;d>0;d--)h[d]=h[d]>>>1|(1&h[d-1])<<31;h[0]=h[0]>>>1,f&&(h[0]=h[0]^225<<24)}this.state=c(m)},l.prototype.update=function(u){var d;for(this.cache=a.concat([this.cache,u]);this.cache.length>=16;)d=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(d)},l.prototype.final=function(u,d){return this.cache.length&&this.ghash(a.concat([this.cache,o],16)),this.ghash(c([0,u,0,d])),this.state},s.exports=l},{"safe-buffer":494}],195:[function(n,s,i){s.exports=function(a){for(var o,c=a.length;c--;){if((o=a.readUInt8(c))!==255){o++,a.writeUInt8(o,c);break}a.writeUInt8(0,c)}}},{}],196:[function(n,s,i){var a=n("buffer-xor");i.encrypt=function(o,c){var l=a(c,o._prev);return o._prev=o._cipher.encryptBlock(l),o._prev},i.decrypt=function(o,c){var l=o._prev;o._prev=c;var u=o._cipher.decryptBlock(c);return a(u,l)}},{"buffer-xor":219}],197:[function(n,s,i){var a=n("safe-buffer").Buffer,o=n("buffer-xor");function c(l,u,d){var f=u.length,h=o(u,l._cache);return l._cache=l._cache.slice(f),l._prev=a.concat([l._prev,d?u:h]),h}i.encrypt=function(l,u,d){for(var f,h=a.allocUnsafe(0);u.length;){if(l._cache.length===0&&(l._cache=l._cipher.encryptBlock(l._prev),l._prev=a.allocUnsafe(0)),!(l._cache.length<=u.length)){h=a.concat([h,c(l,u,d)]);break}f=l._cache.length,h=a.concat([h,c(l,u.slice(0,f),d)]),u=u.slice(f)}return h}},{"buffer-xor":219,"safe-buffer":494}],198:[function(n,s,i){var a=n("safe-buffer").Buffer;function o(l,u,d){for(var f,h,m=-1,A=0;++m<8;)f=u&1<<7-m?128:0,A+=(128&(h=l._cipher.encryptBlock(l._prev)[0]^f))>>m%8,l._prev=c(l._prev,d?f:h);return A}function c(l,u){var d=l.length,f=-1,h=a.allocUnsafe(l.length);for(l=a.concat([l,a.from([u])]);++f<d;)h[f]=l[f]<<1|l[f+1]>>7;return h}i.encrypt=function(l,u,d){for(var f=u.length,h=a.allocUnsafe(f),m=-1;++m<f;)h[m]=o(l,u[m],d);return h}},{"safe-buffer":494}],199:[function(n,s,i){var a=n("safe-buffer").Buffer;function o(c,l,u){var d=c._cipher.encryptBlock(c._prev)[0]^l;return c._prev=a.concat([c._prev.slice(1),a.from([u?l:d])]),d}i.encrypt=function(c,l,u){for(var d=l.length,f=a.allocUnsafe(d),h=-1;++h<d;)f[h]=o(c,l[h],u);return f}},{"safe-buffer":494}],200:[function(n,s,i){var a=n("buffer-xor"),o=n("safe-buffer").Buffer,c=n("../incr32");function l(u){var d=u._cipher.encryptBlockRaw(u._prev);return c(u._prev),d}i.encrypt=function(u,d){var f=Math.ceil(d.length/16),h=u._cache.length;u._cache=o.concat([u._cache,o.allocUnsafe(16*f)]);for(var m=0;m<f;m++){var A=l(u),g=h+16*m;u._cache.writeUInt32BE(A[0],g+0),u._cache.writeUInt32BE(A[1],g+4),u._cache.writeUInt32BE(A[2],g+8),u._cache.writeUInt32BE(A[3],g+12)}var p=u._cache.slice(0,d.length);return u._cache=u._cache.slice(d.length),a(d,p)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(n,s,i){i.encrypt=function(a,o){return a._cipher.encryptBlock(o)},i.decrypt=function(a,o){return a._cipher.decryptBlock(o)}},{}],202:[function(n,s,i){var a={ECB:n("./ecb"),CBC:n("./cbc"),CFB:n("./cfb"),CFB8:n("./cfb8"),CFB1:n("./cfb1"),OFB:n("./ofb"),CTR:n("./ctr"),GCM:n("./ctr")},o=n("./list.json");for(var c in o)o[c].module=a[o[c].mode];s.exports=o},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(n,s,i){s.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(n,s,i){(function(a){(function(){var o=n("buffer-xor");function c(l){return l._prev=l._cipher.encryptBlock(l._prev),l._prev}i.encrypt=function(l,u){for(;l._cache.length<u.length;)l._cache=a.concat([l._cache,c(l)]);var d=l._cache.slice(0,u.length);return l._cache=l._cache.slice(u.length),o(u,d)}}).call(this)}).call(this,n("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(n,s,i){var a=n("./aes"),o=n("safe-buffer").Buffer,c=n("cipher-base");function l(u,d,f,h){c.call(this),this._cipher=new a.AES(d),this._prev=o.from(f),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=h,this._mode=u}n("inherits")(l,c),l.prototype._update=function(u){return this._mode.encrypt(this,u,this._decrypt)},l.prototype._final=function(){this._cipher.scrub()},s.exports=l},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(n,s,i){var a=n("browserify-des"),o=n("browserify-aes/browser"),c=n("browserify-aes/modes"),l=n("browserify-des/modes"),u=n("evp_bytestokey");function d(h,m,A){if(h=h.toLowerCase(),c[h])return o.createCipheriv(h,m,A);if(l[h])return new a({key:m,iv:A,mode:h});throw new TypeError("invalid suite type")}function f(h,m,A){if(h=h.toLowerCase(),c[h])return o.createDecipheriv(h,m,A);if(l[h])return new a({key:m,iv:A,mode:h,decrypt:!0});throw new TypeError("invalid suite type")}i.createCipher=i.Cipher=function(h,m){var A,g;if(h=h.toLowerCase(),c[h])A=c[h].key,g=c[h].iv;else{if(!l[h])throw new TypeError("invalid suite type");A=8*l[h].key,g=l[h].iv}var p=u(m,!1,A,g);return d(h,p.key,p.iv)},i.createCipheriv=i.Cipheriv=d,i.createDecipher=i.Decipher=function(h,m){var A,g;if(h=h.toLowerCase(),c[h])A=c[h].key,g=c[h].iv;else{if(!l[h])throw new TypeError("invalid suite type");A=8*l[h].key,g=l[h].iv}var p=u(m,!1,A,g);return f(h,p.key,p.iv)},i.createDecipheriv=i.Decipheriv=f,i.listCiphers=i.getCiphers=function(){return Object.keys(l).concat(o.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(n,s,i){var a=n("cipher-base"),o=n("des.js"),c=n("inherits"),l=n("safe-buffer").Buffer,u={"des-ede3-cbc":o.CBC.instantiate(o.EDE),"des-ede3":o.EDE,"des-ede-cbc":o.CBC.instantiate(o.EDE),"des-ede":o.EDE,"des-cbc":o.CBC.instantiate(o.DES),"des-ecb":o.DES};function d(f){a.call(this);var h,m=f.mode.toLowerCase(),A=u[m];h=f.decrypt?"decrypt":"encrypt";var g=f.key;l.isBuffer(g)||(g=l.from(g)),m!=="des-ede"&&m!=="des-ede-cbc"||(g=l.concat([g,g.slice(0,8)]));var p=f.iv;l.isBuffer(p)||(p=l.from(p)),this._des=A.create({key:g,iv:p,type:h})}u.des=u["des-cbc"],u.des3=u["des-ede3-cbc"],s.exports=d,c(d,a),d.prototype._update=function(f){return l.from(this._des.update(f))},d.prototype._final=function(){return l.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(n,s,i){i["des-ecb"]={key:8,iv:0},i["des-cbc"]=i.des={key:8,iv:8},i["des-ede3-cbc"]=i.des3={key:24,iv:8},i["des-ede3"]={key:24,iv:0},i["des-ede-cbc"]={key:16,iv:8},i["des-ede"]={key:16,iv:0}},{}],209:[function(n,s,i){(function(a){(function(){var o=n("bn.js"),c=n("randombytes");function l(d){var f,h=d.modulus.byteLength();do f=new o(c(h));while(f.cmp(d.modulus)>=0||!f.umod(d.prime1)||!f.umod(d.prime2));return f}function u(d,f){var h=function(M){var k=l(M);return{blinder:k.toRed(o.mont(M.modulus)).redPow(new o(M.publicExponent)).fromRed(),unblinder:k.invm(M.modulus)}}(f),m=f.modulus.byteLength(),A=new o(d).mul(h.blinder).umod(f.modulus),g=A.toRed(o.mont(f.prime1)),p=A.toRed(o.mont(f.prime2)),b=f.coefficient,x=f.prime1,v=f.prime2,y=g.redPow(f.exponent1).fromRed(),N=p.redPow(f.exponent2).fromRed(),P=y.isub(N).imul(b).umod(x).imul(v);return N.iadd(P).imul(h.unblinder).umod(f.modulus).toArrayLike(a,"be",m)}u.getr=l,s.exports=u}).call(this)}).call(this,n("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(n,s,i){s.exports=n("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(n,s,i){s.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(n,s,i){s.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(n,s,i){var a=n("safe-buffer").Buffer,o=n("create-hash"),c=n("readable-stream"),l=n("inherits"),u=n("./sign"),d=n("./verify"),f=n("./algorithms.json");function h(p){c.Writable.call(this);var b=f[p];if(!b)throw new Error("Unknown message digest");this._hashType=b.hash,this._hash=o(b.hash),this._tag=b.id,this._signType=b.sign}function m(p){c.Writable.call(this);var b=f[p];if(!b)throw new Error("Unknown message digest");this._hash=o(b.hash),this._tag=b.id,this._signType=b.sign}function A(p){return new h(p)}function g(p){return new m(p)}Object.keys(f).forEach(function(p){f[p].id=a.from(f[p].id,"hex"),f[p.toLowerCase()]=f[p]}),l(h,c.Writable),h.prototype._write=function(p,b,x){this._hash.update(p),x()},h.prototype.update=function(p,b){return typeof p=="string"&&(p=a.from(p,b)),this._hash.update(p),this},h.prototype.sign=function(p,b){this.end();var x=this._hash.digest(),v=u(x,p,this._hashType,this._signType,this._tag);return b?v.toString(b):v},l(m,c.Writable),m.prototype._write=function(p,b,x){this._hash.update(p),x()},m.prototype.update=function(p,b){return typeof p=="string"&&(p=a.from(p,b)),this._hash.update(p),this},m.prototype.verify=function(p,b,x){typeof b=="string"&&(b=a.from(b,x)),this.end();var v=this._hash.digest();return d(b,v,p,this._signType,this._tag)},s.exports={Sign:A,Verify:g,createSign:A,createVerify:g}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(n,s,i){var a=n("safe-buffer").Buffer,o=n("create-hmac"),c=n("browserify-rsa"),l=n("elliptic").ec,u=n("bn.js"),d=n("parse-asn1"),f=n("./curves.json");function h(p,b,x,v){if((p=a.from(p.toArray())).length<b.byteLength()){var y=a.alloc(b.byteLength()-p.length);p=a.concat([y,p])}var N=x.length,P=function(D,O){D=(D=m(D,O)).mod(O);var L=a.from(D.toArray());if(L.length<O.byteLength()){var F=a.alloc(O.byteLength()-L.length);L=a.concat([F,L])}return L}(x,b),M=a.alloc(N);M.fill(1);var k=a.alloc(N);return k=o(v,k).update(M).update(a.from([0])).update(p).update(P).digest(),M=o(v,k).update(M).digest(),{k:k=o(v,k).update(M).update(a.from([1])).update(p).update(P).digest(),v:M=o(v,k).update(M).digest()}}function m(p,b){var x=new u(p),v=(p.length<<3)-b.bitLength();return v>0&&x.ishrn(v),x}function A(p,b,x){var v,y;do{for(v=a.alloc(0);8*v.length<p.bitLength();)b.v=o(x,b.k).update(b.v).digest(),v=a.concat([v,b.v]);y=m(v,p),b.k=o(x,b.k).update(b.v).update(a.from([0])).digest(),b.v=o(x,b.k).update(b.v).digest()}while(y.cmp(p)!==-1);return y}function g(p,b,x,v){return p.toRed(u.mont(x)).redPow(b).fromRed().mod(v)}s.exports=function(p,b,x,v,y){var N=d(b);if(N.curve){if(v!=="ecdsa"&&v!=="ecdsa/rsa")throw new Error("wrong private key type");return function(D,O){var L=f[O.curve.join(".")];if(!L)throw new Error("unknown curve "+O.curve.join("."));var F=new l(L).keyFromPrivate(O.privateKey).sign(D);return a.from(F.toDER())}(p,N)}if(N.type==="dsa"){if(v!=="dsa")throw new Error("wrong private key type");return function(D,O,L){for(var F,_=O.params.priv_key,E=O.params.p,T=O.params.q,w=O.params.g,C=new u(0),j=m(D,T).mod(T),S=!1,I=h(_,T,D,L);S===!1;)F=A(T,I,L),C=g(w,F,E,T),(S=F.invm(T).imul(j.add(_.mul(C))).mod(T)).cmpn(0)===0&&(S=!1,C=new u(0));return function(R,U){R=R.toArray(),U=U.toArray(),128&R[0]&&(R=[0].concat(R)),128&U[0]&&(U=[0].concat(U));var z=[48,R.length+U.length+4,2,R.length];return z=z.concat(R,[2,U.length],U),a.from(z)}(C,S)}(p,N,x)}if(v!=="rsa"&&v!=="ecdsa/rsa")throw new Error("wrong private key type");p=a.concat([y,p]);for(var P=N.modulus.byteLength(),M=[0,1];p.length+M.length+1<P;)M.push(255);M.push(0);for(var k=-1;++k<p.length;)M.push(p[k]);return c(M,N)},s.exports.getKey=h,s.exports.makeKey=A},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(n,s,i){var a=n("safe-buffer").Buffer,o=n("bn.js"),c=n("elliptic").ec,l=n("parse-asn1"),u=n("./curves.json");function d(f,h){if(f.cmpn(0)<=0)throw new Error("invalid sig");if(f.cmp(h)>=h)throw new Error("invalid sig")}s.exports=function(f,h,m,A,g){var p=l(m);if(p.type==="ec"){if(A!=="ecdsa"&&A!=="ecdsa/rsa")throw new Error("wrong public key type");return function(M,k,D){var O=u[D.data.algorithm.curve.join(".")];if(!O)throw new Error("unknown curve "+D.data.algorithm.curve.join("."));var L=new c(O),F=D.data.subjectPrivateKey.data;return L.verify(k,M,F)}(f,h,p)}if(p.type==="dsa"){if(A!=="dsa")throw new Error("wrong public key type");return function(M,k,D){var O=D.data.p,L=D.data.q,F=D.data.g,_=D.data.pub_key,E=l.signature.decode(M,"der"),T=E.s,w=E.r;d(T,L),d(w,L);var C=o.mont(O),j=T.invm(L);return F.toRed(C).redPow(new o(k).mul(j).mod(L)).fromRed().mul(_.toRed(C).redPow(w.mul(j).mod(L)).fromRed()).mod(O).mod(L).cmp(w)===0}(f,h,p)}if(A!=="rsa"&&A!=="ecdsa/rsa")throw new Error("wrong public key type");h=a.concat([g,h]);for(var b=p.modulus.byteLength(),x=[1],v=0;h.length+x.length+2<b;)x.push(255),v++;x.push(0);for(var y=-1;++y<h.length;)x.push(h[y]);x=a.from(x);var N=o.mont(p.modulus);f=(f=new o(f).toRed(N)).redPow(new o(p.publicExponent)),f=a.from(f.fromRed().toArray());var P=v<8?1:0;for(b=Math.min(f.length,x.length),f.length!==x.length&&(P=1),y=-1;++y<b;)P|=f[y]^x[y];return P===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(n,s,i){},{}],217:[function(n,s,i){var a=n("buffer"),o=a.Buffer;function c(u,d){for(var f in u)d[f]=u[f]}function l(u,d,f){return o(u,d,f)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?s.exports=a:(c(a,i),i.Buffer=l),c(o,l),l.from=function(u,d,f){if(typeof u=="number")throw new TypeError("Argument must not be a number");return o(u,d,f)},l.alloc=function(u,d,f){if(typeof u!="number")throw new TypeError("Argument must be a number");var h=o(u);return d!==void 0?typeof f=="string"?h.fill(d,f):h.fill(d):h.fill(0),h},l.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return o(u)},l.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(u)}},{buffer:220}],218:[function(n,s,i){var a=n("safe-buffer").Buffer,o=a.isEncoding||function(p){switch((p=""+p)&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function c(p){var b;switch(this.encoding=function(x){var v=function(y){if(!y)return"utf8";for(var N;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(N)return;y=(""+y).toLowerCase(),N=!0}}(x);if(typeof v!="string"&&(a.isEncoding===o||!o(x)))throw new Error("Unknown encoding: "+x);return v||x}(p),this.encoding){case"utf16le":this.text=d,this.end=f,b=4;break;case"utf8":this.fillLast=u,b=4;break;case"base64":this.text=h,this.end=m,b=3;break;default:return this.write=A,void(this.end=g)}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(b)}function l(p){return p<=127?0:p>>5==6?2:p>>4==14?3:p>>3==30?4:p>>6==2?-1:-2}function u(p){var b=this.lastTotal-this.lastNeed,x=function(v,y,N){if((192&y[0])!=128)return v.lastNeed=0,"�";if(v.lastNeed>1&&y.length>1){if((192&y[1])!=128)return v.lastNeed=1,"�";if(v.lastNeed>2&&y.length>2&&(192&y[2])!=128)return v.lastNeed=2,"�"}}(this,p);return x!==void 0?x:this.lastNeed<=p.length?(p.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(p.copy(this.lastChar,b,0,p.length),void(this.lastNeed-=p.length))}function d(p,b){if((p.length-b)%2==0){var x=p.toString("utf16le",b);if(x){var v=x.charCodeAt(x.length-1);if(v>=55296&&v<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],x.slice(0,-1)}return x}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",b,p.length-1)}function f(p){var b=p&&p.length?this.write(p):"";if(this.lastNeed){var x=this.lastTotal-this.lastNeed;return b+this.lastChar.toString("utf16le",0,x)}return b}function h(p,b){var x=(p.length-b)%3;return x===0?p.toString("base64",b):(this.lastNeed=3-x,this.lastTotal=3,x===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",b,p.length-x))}function m(p){var b=p&&p.length?this.write(p):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function A(p){return p.toString(this.encoding)}function g(p){return p&&p.length?this.write(p):""}i.StringDecoder=c,c.prototype.write=function(p){if(p.length===0)return"";var b,x;if(this.lastNeed){if((b=this.fillLast(p))===void 0)return"";x=this.lastNeed,this.lastNeed=0}else x=0;return x<p.length?b?b+this.text(p,x):this.text(p,x):b||""},c.prototype.end=function(p){var b=p&&p.length?this.write(p):"";return this.lastNeed?b+"�":b},c.prototype.text=function(p,b){var x=function(y,N,P){var M=N.length-1;if(M<P)return 0;var k=l(N[M]);return k>=0?(k>0&&(y.lastNeed=k-1),k):--M<P||k===-2?0:(k=l(N[M]))>=0?(k>0&&(y.lastNeed=k-2),k):--M<P||k===-2?0:(k=l(N[M]))>=0?(k>0&&(k===2?k=0:y.lastNeed=k-3),k):0}(this,p,b);if(!this.lastNeed)return p.toString("utf8",b);this.lastTotal=x;var v=p.length-(x-this.lastNeed);return p.copy(this.lastChar,0,v),p.toString("utf8",b,v)},c.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length}},{"safe-buffer":217}],219:[function(n,s,i){(function(a){(function(){s.exports=function(o,c){for(var l=Math.min(o.length,c.length),u=new a(l),d=0;d<l;++d)u[d]=o[d]^c[d];return u}}).call(this)}).call(this,n("buffer").Buffer)},{buffer:220}],220:[function(n,s,i){(function(a){(function(){var o=n("base64-js"),c=n("ieee754");i.Buffer=u,i.SlowBuffer=function(H){return+H!=H&&(H=0),u.alloc(+H)},i.INSPECT_MAX_BYTES=50;function l(H){if(H>2147483647)throw new RangeError('The value "'+H+'" is invalid for option "size"');var Q=new Uint8Array(H);return Q.__proto__=u.prototype,Q}function u(H,Q,G){if(typeof H=="number"){if(typeof Q=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(H)}return d(H,Q,G)}function d(H,Q,G){if(typeof H=="string")return function(K,ne){if(typeof ne=="string"&&ne!==""||(ne="utf8"),!u.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);var ue=0|g(K,ne),se=l(ue),ie=se.write(K,ne);return ie!==ue&&(se=se.slice(0,ie)),se}(H,Q);if(ArrayBuffer.isView(H))return m(H);if(H==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H);if($(H,ArrayBuffer)||H&&$(H.buffer,ArrayBuffer))return function(K,ne,ue){if(ne<0||K.byteLength<ne)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<ne+(ue||0))throw new RangeError('"length" is outside of buffer bounds');var se;return se=ne===void 0&&ue===void 0?new Uint8Array(K):ue===void 0?new Uint8Array(K,ne):new Uint8Array(K,ne,ue),se.__proto__=u.prototype,se}(H,Q,G);if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var J=H.valueOf&&H.valueOf();if(J!=null&&J!==H)return u.from(J,Q,G);var ee=function(K){if(u.isBuffer(K)){var ne=0|A(K.length),ue=l(ne);return ue.length===0||K.copy(ue,0,0,ne),ue}if(K.length!==void 0)return typeof K.length!="number"||W(K.length)?l(0):m(K);if(K.type==="Buffer"&&Array.isArray(K.data))return m(K.data)}(H);if(ee)return ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return u.from(H[Symbol.toPrimitive]("string"),Q,G);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}function f(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function h(H){return f(H),l(H<0?0:0|A(H))}function m(H){for(var Q=H.length<0?0:0|A(H.length),G=l(Q),J=0;J<Q;J+=1)G[J]=255&H[J];return G}function A(H){if(H>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|H}function g(H,Q){if(u.isBuffer(H))return H.length;if(ArrayBuffer.isView(H)||$(H,ArrayBuffer))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);var G=H.length,J=arguments.length>2&&arguments[2]===!0;if(!J&&G===0)return 0;for(var ee=!1;;)switch(Q){case"ascii":case"latin1":case"binary":return G;case"utf8":case"utf-8":return z(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*G;case"hex":return G>>>1;case"base64":return V(H).length;default:if(ee)return J?-1:z(H).length;Q=(""+Q).toLowerCase(),ee=!0}}function p(H,Q,G){var J=!1;if((Q===void 0||Q<0)&&(Q=0),Q>this.length||((G===void 0||G>this.length)&&(G=this.length),G<=0)||(G>>>=0)<=(Q>>>=0))return"";for(H||(H="utf8");;)switch(H){case"hex":return E(this,Q,G);case"utf8":case"utf-8":return L(this,Q,G);case"ascii":return F(this,Q,G);case"latin1":case"binary":return _(this,Q,G);case"base64":return O(this,Q,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,Q,G);default:if(J)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),J=!0}}function b(H,Q,G){var J=H[Q];H[Q]=H[G],H[G]=J}function x(H,Q,G,J,ee){if(H.length===0)return-1;if(typeof G=="string"?(J=G,G=0):G>2147483647?G=2147483647:G<-2147483648&&(G=-2147483648),W(G=+G)&&(G=ee?0:H.length-1),G<0&&(G=H.length+G),G>=H.length){if(ee)return-1;G=H.length-1}else if(G<0){if(!ee)return-1;G=0}if(typeof Q=="string"&&(Q=u.from(Q,J)),u.isBuffer(Q))return Q.length===0?-1:v(H,Q,G,J,ee);if(typeof Q=="number")return Q&=255,typeof Uint8Array.prototype.indexOf=="function"?ee?Uint8Array.prototype.indexOf.call(H,Q,G):Uint8Array.prototype.lastIndexOf.call(H,Q,G):v(H,[Q],G,J,ee);throw new TypeError("val must be string, number or Buffer")}function v(H,Q,G,J,ee){var K,ne=1,ue=H.length,se=Q.length;if(J!==void 0&&((J=String(J).toLowerCase())==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(H.length<2||Q.length<2)return-1;ne=2,ue/=2,se/=2,G/=2}function ie(re,Y){return ne===1?re[Y]:re.readUInt16BE(Y*ne)}if(ee){var q=-1;for(K=G;K<ue;K++)if(ie(H,K)===ie(Q,q===-1?0:K-q)){if(q===-1&&(q=K),K-q+1===se)return q*ne}else q!==-1&&(K-=K-q),q=-1}else for(G+se>ue&&(G=ue-se),K=G;K>=0;K--){for(var Z=!0,te=0;te<se;te++)if(ie(H,K+te)!==ie(Q,te)){Z=!1;break}if(Z)return K}return-1}function y(H,Q,G,J){G=Number(G)||0;var ee=H.length-G;J?(J=Number(J))>ee&&(J=ee):J=ee;var K=Q.length;J>K/2&&(J=K/2);for(var ne=0;ne<J;++ne){var ue=parseInt(Q.substr(2*ne,2),16);if(W(ue))return ne;H[G+ne]=ue}return ne}function N(H,Q,G,J){return X(z(Q,H.length-G),H,G,J)}function P(H,Q,G,J){return X(function(ee){for(var K=[],ne=0;ne<ee.length;++ne)K.push(255&ee.charCodeAt(ne));return K}(Q),H,G,J)}function M(H,Q,G,J){return P(H,Q,G,J)}function k(H,Q,G,J){return X(V(Q),H,G,J)}function D(H,Q,G,J){return X(function(ee,K){for(var ne,ue,se,ie=[],q=0;q<ee.length&&!((K-=2)<0);++q)ne=ee.charCodeAt(q),ue=ne>>8,se=ne%256,ie.push(se),ie.push(ue);return ie}(Q,H.length-G),H,G,J)}function O(H,Q,G){return Q===0&&G===H.length?o.fromByteArray(H):o.fromByteArray(H.slice(Q,G))}function L(H,Q,G){G=Math.min(H.length,G);for(var J=[],ee=Q;ee<G;){var K,ne,ue,se,ie=H[ee],q=null,Z=ie>239?4:ie>223?3:ie>191?2:1;if(ee+Z<=G)switch(Z){case 1:ie<128&&(q=ie);break;case 2:(192&(K=H[ee+1]))==128&&(se=(31&ie)<<6|63&K)>127&&(q=se);break;case 3:K=H[ee+1],ne=H[ee+2],(192&K)==128&&(192&ne)==128&&(se=(15&ie)<<12|(63&K)<<6|63&ne)>2047&&(se<55296||se>57343)&&(q=se);break;case 4:K=H[ee+1],ne=H[ee+2],ue=H[ee+3],(192&K)==128&&(192&ne)==128&&(192&ue)==128&&(se=(15&ie)<<18|(63&K)<<12|(63&ne)<<6|63&ue)>65535&&se<1114112&&(q=se)}q===null?(q=65533,Z=1):q>65535&&(q-=65536,J.push(q>>>10&1023|55296),q=56320|1023&q),J.push(q),ee+=Z}return function(te){var re=te.length;if(re<=4096)return String.fromCharCode.apply(String,te);for(var Y="",oe=0;oe<re;)Y+=String.fromCharCode.apply(String,te.slice(oe,oe+=4096));return Y}(J)}i.kMaxLength=2147483647,u.TYPED_ARRAY_SUPPORT=function(){try{var H=new Uint8Array(1);return H.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},H.foo()===42}catch{return!1}}(),u.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),u.poolSize=8192,u.from=function(H,Q,G){return d(H,Q,G)},u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,u.alloc=function(H,Q,G){return function(J,ee,K){return f(J),J<=0?l(J):ee!==void 0?typeof K=="string"?l(J).fill(ee,K):l(J).fill(ee):l(J)}(H,Q,G)},u.allocUnsafe=function(H){return h(H)},u.allocUnsafeSlow=function(H){return h(H)},u.isBuffer=function(H){return H!=null&&H._isBuffer===!0&&H!==u.prototype},u.compare=function(H,Q){if($(H,Uint8Array)&&(H=u.from(H,H.offset,H.byteLength)),$(Q,Uint8Array)&&(Q=u.from(Q,Q.offset,Q.byteLength)),!u.isBuffer(H)||!u.isBuffer(Q))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(H===Q)return 0;for(var G=H.length,J=Q.length,ee=0,K=Math.min(G,J);ee<K;++ee)if(H[ee]!==Q[ee]){G=H[ee],J=Q[ee];break}return G<J?-1:J<G?1:0},u.isEncoding=function(H){switch(String(H).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(H,Q){if(!Array.isArray(H))throw new TypeError('"list" argument must be an Array of Buffers');if(H.length===0)return u.alloc(0);var G;if(Q===void 0)for(Q=0,G=0;G<H.length;++G)Q+=H[G].length;var J=u.allocUnsafe(Q),ee=0;for(G=0;G<H.length;++G){var K=H[G];if($(K,Uint8Array)&&(K=u.from(K)),!u.isBuffer(K))throw new TypeError('"list" argument must be an Array of Buffers');K.copy(J,ee),ee+=K.length}return J},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var H=this.length;if(H%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Q=0;Q<H;Q+=2)b(this,Q,Q+1);return this},u.prototype.swap32=function(){var H=this.length;if(H%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Q=0;Q<H;Q+=4)b(this,Q,Q+3),b(this,Q+1,Q+2);return this},u.prototype.swap64=function(){var H=this.length;if(H%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Q=0;Q<H;Q+=8)b(this,Q,Q+7),b(this,Q+1,Q+6),b(this,Q+2,Q+5),b(this,Q+3,Q+4);return this},u.prototype.toString=function(){var H=this.length;return H===0?"":arguments.length===0?L(this,0,H):p.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(H){if(!u.isBuffer(H))throw new TypeError("Argument must be a Buffer");return this===H||u.compare(this,H)===0},u.prototype.inspect=function(){var H="",Q=i.INSPECT_MAX_BYTES;return H=this.toString("hex",0,Q).replace(/(.{2})/g,"$1 ").trim(),this.length>Q&&(H+=" ... "),"<Buffer "+H+">"},u.prototype.compare=function(H,Q,G,J,ee){if($(H,Uint8Array)&&(H=u.from(H,H.offset,H.byteLength)),!u.isBuffer(H))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof H);if(Q===void 0&&(Q=0),G===void 0&&(G=H?H.length:0),J===void 0&&(J=0),ee===void 0&&(ee=this.length),Q<0||G>H.length||J<0||ee>this.length)throw new RangeError("out of range index");if(J>=ee&&Q>=G)return 0;if(J>=ee)return-1;if(Q>=G)return 1;if(this===H)return 0;for(var K=(ee>>>=0)-(J>>>=0),ne=(G>>>=0)-(Q>>>=0),ue=Math.min(K,ne),se=this.slice(J,ee),ie=H.slice(Q,G),q=0;q<ue;++q)if(se[q]!==ie[q]){K=se[q],ne=ie[q];break}return K<ne?-1:ne<K?1:0},u.prototype.includes=function(H,Q,G){return this.indexOf(H,Q,G)!==-1},u.prototype.indexOf=function(H,Q,G){return x(this,H,Q,G,!0)},u.prototype.lastIndexOf=function(H,Q,G){return x(this,H,Q,G,!1)},u.prototype.write=function(H,Q,G,J){if(Q===void 0)J="utf8",G=this.length,Q=0;else if(G===void 0&&typeof Q=="string")J=Q,G=this.length,Q=0;else{if(!isFinite(Q))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Q>>>=0,isFinite(G)?(G>>>=0,J===void 0&&(J="utf8")):(J=G,G=void 0)}var ee=this.length-Q;if((G===void 0||G>ee)&&(G=ee),H.length>0&&(G<0||Q<0)||Q>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");for(var K=!1;;)switch(J){case"hex":return y(this,H,Q,G);case"utf8":case"utf-8":return N(this,H,Q,G);case"ascii":return P(this,H,Q,G);case"latin1":case"binary":return M(this,H,Q,G);case"base64":return k(this,H,Q,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,H,Q,G);default:if(K)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),K=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function F(H,Q,G){var J="";G=Math.min(H.length,G);for(var ee=Q;ee<G;++ee)J+=String.fromCharCode(127&H[ee]);return J}function _(H,Q,G){var J="";G=Math.min(H.length,G);for(var ee=Q;ee<G;++ee)J+=String.fromCharCode(H[ee]);return J}function E(H,Q,G){var J=H.length;(!Q||Q<0)&&(Q=0),(!G||G<0||G>J)&&(G=J);for(var ee="",K=Q;K<G;++K)ee+=U(H[K]);return ee}function T(H,Q,G){for(var J=H.slice(Q,G),ee="",K=0;K<J.length;K+=2)ee+=String.fromCharCode(J[K]+256*J[K+1]);return ee}function w(H,Q,G){if(H%1!=0||H<0)throw new RangeError("offset is not uint");if(H+Q>G)throw new RangeError("Trying to access beyond buffer length")}function C(H,Q,G,J,ee,K){if(!u.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(Q>ee||Q<K)throw new RangeError('"value" argument is out of bounds');if(G+J>H.length)throw new RangeError("Index out of range")}function j(H,Q,G,J,ee,K){if(G+J>H.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("Index out of range")}function S(H,Q,G,J,ee){return Q=+Q,G>>>=0,ee||j(H,0,G,4),c.write(H,Q,G,J,23,4),G+4}function I(H,Q,G,J,ee){return Q=+Q,G>>>=0,ee||j(H,0,G,8),c.write(H,Q,G,J,52,8),G+8}u.prototype.slice=function(H,Q){var G=this.length;(H=~~H)<0?(H+=G)<0&&(H=0):H>G&&(H=G),(Q=Q===void 0?G:~~Q)<0?(Q+=G)<0&&(Q=0):Q>G&&(Q=G),Q<H&&(Q=H);var J=this.subarray(H,Q);return J.__proto__=u.prototype,J},u.prototype.readUIntLE=function(H,Q,G){H>>>=0,Q>>>=0,G||w(H,Q,this.length);for(var J=this[H],ee=1,K=0;++K<Q&&(ee*=256);)J+=this[H+K]*ee;return J},u.prototype.readUIntBE=function(H,Q,G){H>>>=0,Q>>>=0,G||w(H,Q,this.length);for(var J=this[H+--Q],ee=1;Q>0&&(ee*=256);)J+=this[H+--Q]*ee;return J},u.prototype.readUInt8=function(H,Q){return H>>>=0,Q||w(H,1,this.length),this[H]},u.prototype.readUInt16LE=function(H,Q){return H>>>=0,Q||w(H,2,this.length),this[H]|this[H+1]<<8},u.prototype.readUInt16BE=function(H,Q){return H>>>=0,Q||w(H,2,this.length),this[H]<<8|this[H+1]},u.prototype.readUInt32LE=function(H,Q){return H>>>=0,Q||w(H,4,this.length),(this[H]|this[H+1]<<8|this[H+2]<<16)+16777216*this[H+3]},u.prototype.readUInt32BE=function(H,Q){return H>>>=0,Q||w(H,4,this.length),16777216*this[H]+(this[H+1]<<16|this[H+2]<<8|this[H+3])},u.prototype.readIntLE=function(H,Q,G){H>>>=0,Q>>>=0,G||w(H,Q,this.length);for(var J=this[H],ee=1,K=0;++K<Q&&(ee*=256);)J+=this[H+K]*ee;return J>=(ee*=128)&&(J-=Math.pow(2,8*Q)),J},u.prototype.readIntBE=function(H,Q,G){H>>>=0,Q>>>=0,G||w(H,Q,this.length);for(var J=Q,ee=1,K=this[H+--J];J>0&&(ee*=256);)K+=this[H+--J]*ee;return K>=(ee*=128)&&(K-=Math.pow(2,8*Q)),K},u.prototype.readInt8=function(H,Q){return H>>>=0,Q||w(H,1,this.length),128&this[H]?-1*(255-this[H]+1):this[H]},u.prototype.readInt16LE=function(H,Q){H>>>=0,Q||w(H,2,this.length);var G=this[H]|this[H+1]<<8;return 32768&G?4294901760|G:G},u.prototype.readInt16BE=function(H,Q){H>>>=0,Q||w(H,2,this.length);var G=this[H+1]|this[H]<<8;return 32768&G?4294901760|G:G},u.prototype.readInt32LE=function(H,Q){return H>>>=0,Q||w(H,4,this.length),this[H]|this[H+1]<<8|this[H+2]<<16|this[H+3]<<24},u.prototype.readInt32BE=function(H,Q){return H>>>=0,Q||w(H,4,this.length),this[H]<<24|this[H+1]<<16|this[H+2]<<8|this[H+3]},u.prototype.readFloatLE=function(H,Q){return H>>>=0,Q||w(H,4,this.length),c.read(this,H,!0,23,4)},u.prototype.readFloatBE=function(H,Q){return H>>>=0,Q||w(H,4,this.length),c.read(this,H,!1,23,4)},u.prototype.readDoubleLE=function(H,Q){return H>>>=0,Q||w(H,8,this.length),c.read(this,H,!0,52,8)},u.prototype.readDoubleBE=function(H,Q){return H>>>=0,Q||w(H,8,this.length),c.read(this,H,!1,52,8)},u.prototype.writeUIntLE=function(H,Q,G,J){H=+H,Q>>>=0,G>>>=0,J||C(this,H,Q,G,Math.pow(2,8*G)-1,0);var ee=1,K=0;for(this[Q]=255&H;++K<G&&(ee*=256);)this[Q+K]=H/ee&255;return Q+G},u.prototype.writeUIntBE=function(H,Q,G,J){H=+H,Q>>>=0,G>>>=0,J||C(this,H,Q,G,Math.pow(2,8*G)-1,0);var ee=G-1,K=1;for(this[Q+ee]=255&H;--ee>=0&&(K*=256);)this[Q+ee]=H/K&255;return Q+G},u.prototype.writeUInt8=function(H,Q,G){return H=+H,Q>>>=0,G||C(this,H,Q,1,255,0),this[Q]=255&H,Q+1},u.prototype.writeUInt16LE=function(H,Q,G){return H=+H,Q>>>=0,G||C(this,H,Q,2,65535,0),this[Q]=255&H,this[Q+1]=H>>>8,Q+2},u.prototype.writeUInt16BE=function(H,Q,G){return H=+H,Q>>>=0,G||C(this,H,Q,2,65535,0),this[Q]=H>>>8,this[Q+1]=255&H,Q+2},u.prototype.writeUInt32LE=function(H,Q,G){return H=+H,Q>>>=0,G||C(this,H,Q,4,4294967295,0),this[Q+3]=H>>>24,this[Q+2]=H>>>16,this[Q+1]=H>>>8,this[Q]=255&H,Q+4},u.prototype.writeUInt32BE=function(H,Q,G){return H=+H,Q>>>=0,G||C(this,H,Q,4,4294967295,0),this[Q]=H>>>24,this[Q+1]=H>>>16,this[Q+2]=H>>>8,this[Q+3]=255&H,Q+4},u.prototype.writeIntLE=function(H,Q,G,J){if(H=+H,Q>>>=0,!J){var ee=Math.pow(2,8*G-1);C(this,H,Q,G,ee-1,-ee)}var K=0,ne=1,ue=0;for(this[Q]=255&H;++K<G&&(ne*=256);)H<0&&ue===0&&this[Q+K-1]!==0&&(ue=1),this[Q+K]=(H/ne>>0)-ue&255;return Q+G},u.prototype.writeIntBE=function(H,Q,G,J){if(H=+H,Q>>>=0,!J){var ee=Math.pow(2,8*G-1);C(this,H,Q,G,ee-1,-ee)}var K=G-1,ne=1,ue=0;for(this[Q+K]=255&H;--K>=0&&(ne*=256);)H<0&&ue===0&&this[Q+K+1]!==0&&(ue=1),this[Q+K]=(H/ne>>0)-ue&255;return Q+G},u.prototype.writeInt8=function(H,Q,G){return H=+H,Q>>>=0,G||C(this,H,Q,1,127,-128),H<0&&(H=255+H+1),this[Q]=255&H,Q+1},u.prototype.writeInt16LE=function(H,Q,G){return H=+H,Q>>>=0,G||C(this,H,Q,2,32767,-32768),this[Q]=255&H,this[Q+1]=H>>>8,Q+2},u.prototype.writeInt16BE=function(H,Q,G){return H=+H,Q>>>=0,G||C(this,H,Q,2,32767,-32768),this[Q]=H>>>8,this[Q+1]=255&H,Q+2},u.prototype.writeInt32LE=function(H,Q,G){return H=+H,Q>>>=0,G||C(this,H,Q,4,2147483647,-2147483648),this[Q]=255&H,this[Q+1]=H>>>8,this[Q+2]=H>>>16,this[Q+3]=H>>>24,Q+4},u.prototype.writeInt32BE=function(H,Q,G){return H=+H,Q>>>=0,G||C(this,H,Q,4,2147483647,-2147483648),H<0&&(H=4294967295+H+1),this[Q]=H>>>24,this[Q+1]=H>>>16,this[Q+2]=H>>>8,this[Q+3]=255&H,Q+4},u.prototype.writeFloatLE=function(H,Q,G){return S(this,H,Q,!0,G)},u.prototype.writeFloatBE=function(H,Q,G){return S(this,H,Q,!1,G)},u.prototype.writeDoubleLE=function(H,Q,G){return I(this,H,Q,!0,G)},u.prototype.writeDoubleBE=function(H,Q,G){return I(this,H,Q,!1,G)},u.prototype.copy=function(H,Q,G,J){if(!u.isBuffer(H))throw new TypeError("argument should be a Buffer");if(G||(G=0),J||J===0||(J=this.length),Q>=H.length&&(Q=H.length),Q||(Q=0),J>0&&J<G&&(J=G),J===G||H.length===0||this.length===0)return 0;if(Q<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),H.length-Q<J-G&&(J=H.length-Q+G);var ee=J-G;if(this===H&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(Q,G,J);else if(this===H&&G<Q&&Q<J)for(var K=ee-1;K>=0;--K)H[K+Q]=this[K+G];else Uint8Array.prototype.set.call(H,this.subarray(G,J),Q);return ee},u.prototype.fill=function(H,Q,G,J){if(typeof H=="string"){if(typeof Q=="string"?(J=Q,Q=0,G=this.length):typeof G=="string"&&(J=G,G=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!u.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(H.length===1){var ee=H.charCodeAt(0);(J==="utf8"&&ee<128||J==="latin1")&&(H=ee)}}else typeof H=="number"&&(H&=255);if(Q<0||this.length<Q||this.length<G)throw new RangeError("Out of range index");if(G<=Q)return this;var K;if(Q>>>=0,G=G===void 0?this.length:G>>>0,H||(H=0),typeof H=="number")for(K=Q;K<G;++K)this[K]=H;else{var ne=u.isBuffer(H)?H:u.from(H,J),ue=ne.length;if(ue===0)throw new TypeError('The value "'+H+'" is invalid for argument "value"');for(K=0;K<G-Q;++K)this[K+Q]=ne[K%ue]}return this};var R=/[^+/0-9A-Za-z-_]/g;function U(H){return H<16?"0"+H.toString(16):H.toString(16)}function z(H,Q){var G;Q=Q||1/0;for(var J=H.length,ee=null,K=[],ne=0;ne<J;++ne){if((G=H.charCodeAt(ne))>55295&&G<57344){if(!ee){if(G>56319){(Q-=3)>-1&&K.push(239,191,189);continue}if(ne+1===J){(Q-=3)>-1&&K.push(239,191,189);continue}ee=G;continue}if(G<56320){(Q-=3)>-1&&K.push(239,191,189),ee=G;continue}G=65536+(ee-55296<<10|G-56320)}else ee&&(Q-=3)>-1&&K.push(239,191,189);if(ee=null,G<128){if((Q-=1)<0)break;K.push(G)}else if(G<2048){if((Q-=2)<0)break;K.push(G>>6|192,63&G|128)}else if(G<65536){if((Q-=3)<0)break;K.push(G>>12|224,G>>6&63|128,63&G|128)}else{if(!(G<1114112))throw new Error("Invalid code point");if((Q-=4)<0)break;K.push(G>>18|240,G>>12&63|128,G>>6&63|128,63&G|128)}}return K}function V(H){return o.toByteArray(function(Q){if((Q=(Q=Q.split("=")[0]).trim().replace(R,"")).length<2)return"";for(;Q.length%4!=0;)Q+="=";return Q}(H))}function X(H,Q,G,J){for(var ee=0;ee<J&&!(ee+G>=Q.length||ee>=H.length);++ee)Q[ee+G]=H[ee];return ee}function $(H,Q){return H instanceof Q||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===Q.name}function W(H){return H!=H}}).call(this)}).call(this,n("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(n,s,i){var a=n("safe-buffer").Buffer,o=n("stream").Transform,c=n("string_decoder").StringDecoder;function l(u){o.call(this),this.hashMode=typeof u=="string",this.hashMode?this[u]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n("inherits")(l,o),l.prototype.update=function(u,d,f){typeof u=="string"&&(u=a.from(u,d));var h=this._update(u);return this.hashMode?this:(f&&(h=this._toString(h,f)),h)},l.prototype.setAutoPadding=function(){},l.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},l.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},l.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},l.prototype._transform=function(u,d,f){var h;try{this.hashMode?this._update(u):this.push(this._update(u))}catch(m){h=m}finally{f(h)}},l.prototype._flush=function(u){var d;try{this.push(this.__final())}catch(f){d=f}u(d)},l.prototype._finalOrDigest=function(u){var d=this.__final()||a.alloc(0);return u&&(d=this._toString(d,u,!0)),d},l.prototype._toString=function(u,d,f){if(this._decoder||(this._decoder=new c(d),this._encoding=d),this._encoding!==d)throw new Error("can't switch encodings");var h=this._decoder.write(u);return f&&(h+=this._decoder.end()),h},s.exports=l},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(n,s,i){var a=n("../internals/is-callable"),o=n("../internals/try-to-string"),c=TypeError;s.exports=function(l){if(a(l))return l;throw new c(o(l)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(n,s,i){var a=n("../internals/is-constructor"),o=n("../internals/try-to-string"),c=TypeError;s.exports=function(l){if(a(l))return l;throw new c(o(l)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(n,s,i){var a=n("../internals/is-callable"),o=String,c=TypeError;s.exports=function(l){if(typeof l=="object"||a(l))return l;throw new c("Can't set "+o(l)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(n,s,i){var a=n("../internals/well-known-symbol"),o=n("../internals/object-create"),c=n("../internals/object-define-property").f,l=a("unscopables"),u=Array.prototype;u[l]===void 0&&c(u,l,{configurable:!0,value:o(null)}),s.exports=function(d){u[l][d]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(n,s,i){var a=n("../internals/object-is-prototype-of"),o=TypeError;s.exports=function(c,l){if(a(l,c))return c;throw new o("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(n,s,i){var a=n("../internals/is-object"),o=String,c=TypeError;s.exports=function(l){if(a(l))return l;throw new c(o(l)+" is not an object")}},{"../internals/is-object":289}],228:[function(n,s,i){var a=n("../internals/to-indexed-object"),o=n("../internals/to-absolute-index"),c=n("../internals/length-of-array-like"),l=function(u){return function(d,f,h){var m,A=a(d),g=c(A),p=o(h,g);if(u&&f!=f){for(;g>p;)if((m=A[p++])!=m)return!0}else for(;g>p;p++)if((u||p in A)&&A[p]===f)return u||p||0;return!u&&-1}};s.exports={includes:l(!0),indexOf:l(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(n,s,i){var a=n("../internals/function-bind-context"),o=n("../internals/function-uncurry-this"),c=n("../internals/indexed-object"),l=n("../internals/to-object"),u=n("../internals/length-of-array-like"),d=n("../internals/array-species-create"),f=o([].push),h=function(m){var A=m===1,g=m===2,p=m===3,b=m===4,x=m===6,v=m===7,y=m===5||x;return function(N,P,M,k){for(var D,O,L=l(N),F=c(L),_=a(P,M),E=u(F),T=0,w=k||d,C=A?w(N,E):g||v?w(N,0):void 0;E>T;T++)if((y||T in F)&&(O=_(D=F[T],T,L),m))if(A)C[T]=O;else if(O)switch(m){case 3:return!0;case 5:return D;case 6:return T;case 2:f(C,D)}else switch(m){case 4:return!1;case 7:f(C,D)}return x?-1:p||b?b:C}};s.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(n,s,i){var a=n("../internals/to-absolute-index"),o=n("../internals/length-of-array-like"),c=n("../internals/create-property"),l=Array,u=Math.max;s.exports=function(d,f,h){for(var m=o(d),A=a(f,m),g=a(h===void 0?m:h,m),p=l(u(g-A,0)),b=0;A<g;A++,b++)c(p,b,d[A]);return p.length=b,p}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(n,s,i){var a=n("../internals/function-uncurry-this");s.exports=a([].slice)},{"../internals/function-uncurry-this":268}],232:[function(n,s,i){var a=n("../internals/is-array"),o=n("../internals/is-constructor"),c=n("../internals/is-object"),l=n("../internals/well-known-symbol")("species"),u=Array;s.exports=function(d){var f;return a(d)&&(f=d.constructor,(o(f)&&(f===u||a(f.prototype))||c(f)&&(f=f[l])===null)&&(f=void 0)),f===void 0?u:f}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(n,s,i){var a=n("../internals/array-species-constructor");s.exports=function(o,c){return new(a(o))(c===0?0:c)}},{"../internals/array-species-constructor":232}],234:[function(n,s,i){var a=n("../internals/well-known-symbol")("iterator"),o=!1;try{var c=0,l={next:function(){return{done:!!c++}},return:function(){o=!0}};l[a]=function(){return this},Array.from(l,function(){throw 2})}catch{}s.exports=function(u,d){try{if(!d&&!o)return!1}catch{return!1}var f=!1;try{var h={};h[a]=function(){return{next:function(){return{done:f=!0}}}},u(h)}catch{}return f}},{"../internals/well-known-symbol":357}],235:[function(n,s,i){var a=n("../internals/function-uncurry-this"),o=a({}.toString),c=a("".slice);s.exports=function(l){return c(o(l),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(n,s,i){var a=n("../internals/to-string-tag-support"),o=n("../internals/is-callable"),c=n("../internals/classof-raw"),l=n("../internals/well-known-symbol")("toStringTag"),u=Object,d=c(function(){return arguments}())==="Arguments";s.exports=a?c:function(f){var h,m,A;return f===void 0?"Undefined":f===null?"Null":typeof(m=function(g,p){try{return g[p]}catch{}}(h=u(f),l))=="string"?m:d?c(h):(A=c(h))==="Object"&&o(h.callee)?"Arguments":A}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(n,s,i){var a=n("../internals/has-own-property"),o=n("../internals/own-keys"),c=n("../internals/object-get-own-property-descriptor"),l=n("../internals/object-define-property");s.exports=function(u,d,f){for(var h=o(d),m=l.f,A=c.f,g=0;g<h.length;g++){var p=h[g];a(u,p)||f&&a(f,p)||m(u,p,A(d,p))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(n,s,i){var a=n("../internals/well-known-symbol")("match");s.exports=function(o){var c=/./;try{"/./"[o](c)}catch{try{return c[a]=!1,"/./"[o](c)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(n,s,i){var a=n("../internals/fails");s.exports=!a(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},{"../internals/fails":260}],240:[function(n,s,i){s.exports=function(a,o){return{value:a,done:o}}},{}],241:[function(n,s,i){var a=n("../internals/descriptors"),o=n("../internals/object-define-property"),c=n("../internals/create-property-descriptor");s.exports=a?function(l,u,d){return o.f(l,u,c(1,d))}:function(l,u,d){return l[u]=d,l}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(n,s,i){s.exports=function(a,o){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:o}}},{}],243:[function(n,s,i){var a=n("../internals/to-property-key"),o=n("../internals/object-define-property"),c=n("../internals/create-property-descriptor");s.exports=function(l,u,d){var f=a(u);f in l?o.f(l,f,c(0,d)):l[f]=d}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(n,s,i){var a=n("../internals/make-built-in"),o=n("../internals/object-define-property");s.exports=function(c,l,u){return u.get&&a(u.get,l,{getter:!0}),u.set&&a(u.set,l,{setter:!0}),o.f(c,l,u)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(n,s,i){var a=n("../internals/is-callable"),o=n("../internals/object-define-property"),c=n("../internals/make-built-in"),l=n("../internals/define-global-property");s.exports=function(u,d,f,h){h||(h={});var m=h.enumerable,A=h.name!==void 0?h.name:d;if(a(f)&&c(f,A,h),h.global)m?u[d]=f:l(d,f);else{try{h.unsafe?u[d]&&(m=!0):delete u[d]}catch{}m?u[d]=f:o.f(u,d,{value:f,enumerable:!1,configurable:!h.nonConfigurable,writable:!h.nonWritable})}return u}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(n,s,i){var a=n("../internals/global"),o=Object.defineProperty;s.exports=function(c,l){try{o(a,c,{value:l,configurable:!0,writable:!0})}catch{a[c]=l}return l}},{"../internals/global":274}],247:[function(n,s,i){var a=n("../internals/fails");s.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(n,s,i){var a=typeof document=="object"&&document.all,o=a===void 0&&a!==void 0;s.exports={all:a,IS_HTMLDDA:o}},{}],249:[function(n,s,i){var a=n("../internals/global"),o=n("../internals/is-object"),c=a.document,l=o(c)&&o(c.createElement);s.exports=function(u){return l?c.createElement(u):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(n,s,i){var a=n("../internals/engine-is-deno"),o=n("../internals/engine-is-node");s.exports=!a&&!o&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(n,s,i){s.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(n,s,i){var a=n("../internals/engine-user-agent");s.exports=/ipad|iphone|ipod/i.test(a)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(n,s,i){var a=n("../internals/engine-user-agent");s.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(a)},{"../internals/engine-user-agent":256}],254:[function(n,s,i){var a=n("../internals/global"),o=n("../internals/classof-raw");s.exports=o(a.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(n,s,i){var a=n("../internals/engine-user-agent");s.exports=/web0s(?!.*chrome)/i.test(a)},{"../internals/engine-user-agent":256}],256:[function(n,s,i){s.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(n,s,i){var a,o,c=n("../internals/global"),l=n("../internals/engine-user-agent"),u=c.process,d=c.Deno,f=u&&u.versions||d&&d.version,h=f&&f.v8;h&&(o=(a=h.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&l&&(!(a=l.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=l.match(/Chrome\/(\d+)/))&&(o=+a[1]),s.exports=o},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(n,s,i){s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(n,s,i){var a=n("../internals/global"),o=n("../internals/object-get-own-property-descriptor").f,c=n("../internals/create-non-enumerable-property"),l=n("../internals/define-built-in"),u=n("../internals/define-global-property"),d=n("../internals/copy-constructor-properties"),f=n("../internals/is-forced");s.exports=function(h,m){var A,g,p,b,x,v=h.target,y=h.global,N=h.stat;if(A=y?a:N?a[v]||u(v,{}):(a[v]||{}).prototype)for(g in m){if(b=m[g],p=h.dontCallGetSet?(x=o(A,g))&&x.value:A[g],!f(y?g:v+(N?".":"#")+g,h.forced)&&p!==void 0){if(typeof b==typeof p)continue;d(b,p)}(h.sham||p&&p.sham)&&c(b,"sham",!0),l(A,g,b,h)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(n,s,i){s.exports=function(a){try{return!!a()}catch{return!0}}},{}],261:[function(n,s,i){var a=n("../internals/function-bind-native"),o=Function.prototype,c=o.apply,l=o.call;s.exports=typeof Reflect=="object"&&Reflect.apply||(a?l.bind(c):function(){return l.apply(c,arguments)})},{"../internals/function-bind-native":263}],262:[function(n,s,i){var a=n("../internals/function-uncurry-this-clause"),o=n("../internals/a-callable"),c=n("../internals/function-bind-native"),l=a(a.bind);s.exports=function(u,d){return o(u),d===void 0?u:c?l(u,d):function(){return u.apply(d,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(n,s,i){var a=n("../internals/fails");s.exports=!a(function(){var o=(function(){}).bind();return typeof o!="function"||o.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(n,s,i){var a=n("../internals/function-bind-native"),o=Function.prototype.call;s.exports=a?o.bind(o):function(){return o.apply(o,arguments)}},{"../internals/function-bind-native":263}],265:[function(n,s,i){var a=n("../internals/descriptors"),o=n("../internals/has-own-property"),c=Function.prototype,l=a&&Object.getOwnPropertyDescriptor,u=o(c,"name"),d=u&&(function(){}).name==="something",f=u&&(!a||a&&l(c,"name").configurable);s.exports={EXISTS:u,PROPER:d,CONFIGURABLE:f}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(n,s,i){var a=n("../internals/function-uncurry-this"),o=n("../internals/a-callable");s.exports=function(c,l,u){try{return a(o(Object.getOwnPropertyDescriptor(c,l)[u]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(n,s,i){var a=n("../internals/classof-raw"),o=n("../internals/function-uncurry-this");s.exports=function(c){if(a(c)==="Function")return o(c)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(n,s,i){var a=n("../internals/function-bind-native"),o=Function.prototype,c=o.call,l=a&&o.bind.bind(c,c);s.exports=a?l:function(u){return function(){return c.apply(u,arguments)}}},{"../internals/function-bind-native":263}],269:[function(n,s,i){var a=n("../internals/global"),o=n("../internals/is-callable"),c=function(l){return o(l)?l:void 0};s.exports=function(l,u){return arguments.length<2?c(a[l]):a[l]&&a[l][u]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(n,s,i){var a=n("../internals/classof"),o=n("../internals/get-method"),c=n("../internals/is-null-or-undefined"),l=n("../internals/iterators"),u=n("../internals/well-known-symbol")("iterator");s.exports=function(d){if(!c(d))return o(d,u)||o(d,"@@iterator")||l[a(d)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(n,s,i){var a=n("../internals/function-call"),o=n("../internals/a-callable"),c=n("../internals/an-object"),l=n("../internals/try-to-string"),u=n("../internals/get-iterator-method"),d=TypeError;s.exports=function(f,h){var m=arguments.length<2?u(f):h;if(o(m))return c(a(m,f));throw new d(l(f)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(n,s,i){var a=n("../internals/function-uncurry-this"),o=n("../internals/is-array"),c=n("../internals/is-callable"),l=n("../internals/classof-raw"),u=n("../internals/to-string"),d=a([].push);s.exports=function(f){if(c(f))return f;if(o(f)){for(var h=f.length,m=[],A=0;A<h;A++){var g=f[A];typeof g=="string"?d(m,g):typeof g!="number"&&l(g)!=="Number"&&l(g)!=="String"||d(m,u(g))}var p=m.length,b=!0;return function(x,v){if(b)return b=!1,v;if(o(this))return v;for(var y=0;y<p;y++)if(m[y]===x)return v}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(n,s,i){var a=n("../internals/a-callable"),o=n("../internals/is-null-or-undefined");s.exports=function(c,l){var u=c[l];return o(u)?void 0:a(u)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(n,s,i){(function(a){(function(){var o=function(c){return c&&c.Math===Math&&c};s.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof a=="object"&&a)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof ln<"u"?ln:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(n,s,i){var a=n("../internals/function-uncurry-this"),o=n("../internals/to-object"),c=a({}.hasOwnProperty);s.exports=Object.hasOwn||function(l,u){return c(o(l),u)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(n,s,i){s.exports={}},{}],277:[function(n,s,i){s.exports=function(a,o){try{arguments.length===1?console.error(a):console.error(a,o)}catch{}}},{}],278:[function(n,s,i){var a=n("../internals/get-built-in");s.exports=a("document","documentElement")},{"../internals/get-built-in":269}],279:[function(n,s,i){var a=n("../internals/descriptors"),o=n("../internals/fails"),c=n("../internals/document-create-element");s.exports=!a&&!o(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(n,s,i){var a=n("../internals/function-uncurry-this"),o=n("../internals/fails"),c=n("../internals/classof-raw"),l=Object,u=a("".split);s.exports=o(function(){return!l("z").propertyIsEnumerable(0)})?function(d){return c(d)==="String"?u(d,""):l(d)}:l},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(n,s,i){var a=n("../internals/function-uncurry-this"),o=n("../internals/is-callable"),c=n("../internals/shared-store"),l=a(Function.toString);o(c.inspectSource)||(c.inspectSource=function(u){return l(u)}),s.exports=c.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(n,s,i){var a,o,c,l=n("../internals/weak-map-basic-detection"),u=n("../internals/global"),d=n("../internals/is-object"),f=n("../internals/create-non-enumerable-property"),h=n("../internals/has-own-property"),m=n("../internals/shared-store"),A=n("../internals/shared-key"),g=n("../internals/hidden-keys"),p=u.TypeError,b=u.WeakMap;if(l||m.state){var x=m.state||(m.state=new b);x.get=x.get,x.has=x.has,x.set=x.set,a=function(y,N){if(x.has(y))throw new p("Object already initialized");return N.facade=y,x.set(y,N),N},o=function(y){return x.get(y)||{}},c=function(y){return x.has(y)}}else{var v=A("state");g[v]=!0,a=function(y,N){if(h(y,v))throw new p("Object already initialized");return N.facade=y,f(y,v,N),N},o=function(y){return h(y,v)?y[v]:{}},c=function(y){return h(y,v)}}s.exports={set:a,get:o,has:c,enforce:function(y){return c(y)?o(y):a(y,{})},getterFor:function(y){return function(N){var P;if(!d(N)||(P=o(N)).type!==y)throw new p("Incompatible receiver, "+y+" required");return P}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(n,s,i){var a=n("../internals/well-known-symbol"),o=n("../internals/iterators"),c=a("iterator"),l=Array.prototype;s.exports=function(u){return u!==void 0&&(o.Array===u||l[c]===u)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(n,s,i){var a=n("../internals/classof-raw");s.exports=Array.isArray||function(o){return a(o)==="Array"}},{"../internals/classof-raw":235}],285:[function(n,s,i){var a=n("../internals/document-all"),o=a.all;s.exports=a.IS_HTMLDDA?function(c){return typeof c=="function"||c===o}:function(c){return typeof c=="function"}},{"../internals/document-all":248}],286:[function(n,s,i){var a=n("../internals/function-uncurry-this"),o=n("../internals/fails"),c=n("../internals/is-callable"),l=n("../internals/classof"),u=n("../internals/get-built-in"),d=n("../internals/inspect-source"),f=function(){},h=[],m=u("Reflect","construct"),A=/^\s*(?:class|function)\b/,g=a(A.exec),p=!A.test(f),b=function(v){if(!c(v))return!1;try{return m(f,h,v),!0}catch{return!1}},x=function(v){if(!c(v))return!1;switch(l(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!g(A,d(v))}catch{return!0}};x.sham=!0,s.exports=!m||o(function(){var v;return b(b.call)||!b(Object)||!b(function(){v=!0})||v})?x:b},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(n,s,i){var a=n("../internals/fails"),o=n("../internals/is-callable"),c=/#|\.prototype\./,l=function(m,A){var g=d[u(m)];return g===h||g!==f&&(o(A)?a(A):!!A)},u=l.normalize=function(m){return String(m).replace(c,".").toLowerCase()},d=l.data={},f=l.NATIVE="N",h=l.POLYFILL="P";s.exports=l},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(n,s,i){s.exports=function(a){return a==null}},{}],289:[function(n,s,i){var a=n("../internals/is-callable"),o=n("../internals/document-all"),c=o.all;s.exports=o.IS_HTMLDDA?function(l){return typeof l=="object"?l!==null:a(l)||l===c}:function(l){return typeof l=="object"?l!==null:a(l)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(n,s,i){s.exports=!1},{}],291:[function(n,s,i){var a=n("../internals/is-object"),o=n("../internals/classof-raw"),c=n("../internals/well-known-symbol")("match");s.exports=function(l){var u;return a(l)&&((u=l[c])!==void 0?!!u:o(l)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(n,s,i){var a=n("../internals/get-built-in"),o=n("../internals/is-callable"),c=n("../internals/object-is-prototype-of"),l=n("../internals/use-symbol-as-uid"),u=Object;s.exports=l?function(d){return typeof d=="symbol"}:function(d){var f=a("Symbol");return o(f)&&c(f.prototype,u(d))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(n,s,i){var a=n("../internals/function-bind-context"),o=n("../internals/function-call"),c=n("../internals/an-object"),l=n("../internals/try-to-string"),u=n("../internals/is-array-iterator-method"),d=n("../internals/length-of-array-like"),f=n("../internals/object-is-prototype-of"),h=n("../internals/get-iterator"),m=n("../internals/get-iterator-method"),A=n("../internals/iterator-close"),g=TypeError,p=function(x,v){this.stopped=x,this.result=v},b=p.prototype;s.exports=function(x,v,y){var N,P,M,k,D,O,L,F=y&&y.that,_=!(!y||!y.AS_ENTRIES),E=!(!y||!y.IS_RECORD),T=!(!y||!y.IS_ITERATOR),w=!(!y||!y.INTERRUPTED),C=a(v,F),j=function(I){return N&&A(N,"normal",I),new p(!0,I)},S=function(I){return _?(c(I),w?C(I[0],I[1],j):C(I[0],I[1])):w?C(I,j):C(I)};if(E)N=x.iterator;else if(T)N=x;else{if(!(P=m(x)))throw new g(l(x)+" is not iterable");if(u(P)){for(M=0,k=d(x);k>M;M++)if((D=S(x[M]))&&f(b,D))return D;return new p(!1)}N=h(x,P)}for(O=E?x.next:N.next;!(L=o(O,N)).done;){try{D=S(L.value)}catch(I){A(N,"throw",I)}if(typeof D=="object"&&D&&f(b,D))return D}return new p(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(n,s,i){var a=n("../internals/function-call"),o=n("../internals/an-object"),c=n("../internals/get-method");s.exports=function(l,u,d){var f,h;o(l);try{if(!(f=c(l,"return"))){if(u==="throw")throw d;return d}f=a(f,l)}catch(m){h=!0,f=m}if(u==="throw")throw d;if(h)throw f;return o(f),d}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(n,s,i){var a=n("../internals/iterators-core").IteratorPrototype,o=n("../internals/object-create"),c=n("../internals/create-property-descriptor"),l=n("../internals/set-to-string-tag"),u=n("../internals/iterators"),d=function(){return this};s.exports=function(f,h,m,A){var g=h+" Iterator";return f.prototype=o(a,{next:c(+!A,m)}),l(f,g,!1,!0),u[g]=d,f}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(n,s,i){var a=n("../internals/export"),o=n("../internals/function-call"),c=n("../internals/is-pure"),l=n("../internals/function-name"),u=n("../internals/is-callable"),d=n("../internals/iterator-create-constructor"),f=n("../internals/object-get-prototype-of"),h=n("../internals/object-set-prototype-of"),m=n("../internals/set-to-string-tag"),A=n("../internals/create-non-enumerable-property"),g=n("../internals/define-built-in"),p=n("../internals/well-known-symbol"),b=n("../internals/iterators"),x=n("../internals/iterators-core"),v=l.PROPER,y=l.CONFIGURABLE,N=x.IteratorPrototype,P=x.BUGGY_SAFARI_ITERATORS,M=p("iterator"),k=function(){return this};s.exports=function(D,O,L,F,_,E,T){d(L,O,F);var w,C,j,S=function($){if($===_&&V)return V;if(!P&&$&&$ in U)return U[$];switch($){case"keys":case"values":case"entries":return function(){return new L(this,$)}}return function(){return new L(this)}},I=O+" Iterator",R=!1,U=D.prototype,z=U[M]||U["@@iterator"]||_&&U[_],V=!P&&z||S(_),X=O==="Array"&&U.entries||z;if(X&&(w=f(X.call(new D)))!==Object.prototype&&w.next&&(c||f(w)===N||(h?h(w,N):u(w[M])||g(w,M,k)),m(w,I,!0,!0),c&&(b[I]=k)),v&&_==="values"&&z&&z.name!=="values"&&(!c&&y?A(U,"name","values"):(R=!0,V=function(){return o(z,this)})),_)if(C={values:S("values"),keys:E?V:S("keys"),entries:S("entries")},T)for(j in C)(P||R||!(j in U))&&g(U,j,C[j]);else a({target:O,proto:!0,forced:P||R},C);return c&&!T||U[M]===V||g(U,M,V,{name:_}),b[O]=V,C}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(n,s,i){var a,o,c,l=n("../internals/fails"),u=n("../internals/is-callable"),d=n("../internals/is-object"),f=n("../internals/object-create"),h=n("../internals/object-get-prototype-of"),m=n("../internals/define-built-in"),A=n("../internals/well-known-symbol"),g=n("../internals/is-pure"),p=A("iterator"),b=!1;[].keys&&("next"in(c=[].keys())?(o=h(h(c)))!==Object.prototype&&(a=o):b=!0),!d(a)||l(function(){var x={};return a[p].call(x)!==x})?a={}:g&&(a=f(a)),u(a[p])||m(a,p,function(){return this}),s.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:b}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(n,s,i){arguments[4][276][0].apply(i,arguments)},{dup:276}],299:[function(n,s,i){var a=n("../internals/to-length");s.exports=function(o){return a(o.length)}},{"../internals/to-length":343}],300:[function(n,s,i){var a=n("../internals/function-uncurry-this"),o=n("../internals/fails"),c=n("../internals/is-callable"),l=n("../internals/has-own-property"),u=n("../internals/descriptors"),d=n("../internals/function-name").CONFIGURABLE,f=n("../internals/inspect-source"),h=n("../internals/internal-state"),m=h.enforce,A=h.get,g=String,p=Object.defineProperty,b=a("".slice),x=a("".replace),v=a([].join),y=u&&!o(function(){return p(function(){},"length",{value:8}).length!==8}),N=String(String).split("String"),P=s.exports=function(M,k,D){b(g(k),0,7)==="Symbol("&&(k="["+x(g(k),/^Symbol\(([^)]*)\)/,"$1")+"]"),D&&D.getter&&(k="get "+k),D&&D.setter&&(k="set "+k),(!l(M,"name")||d&&M.name!==k)&&(u?p(M,"name",{value:k,configurable:!0}):M.name=k),y&&D&&l(D,"arity")&&M.length!==D.arity&&p(M,"length",{value:D.arity});try{D&&l(D,"constructor")&&D.constructor?u&&p(M,"prototype",{writable:!1}):M.prototype&&(M.prototype=void 0)}catch{}var O=m(M);return l(O,"source")||(O.source=v(N,typeof k=="string"?k:"")),M};Function.prototype.toString=P(function(){return c(this)&&A(this).source||f(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(n,s,i){var a=Math.ceil,o=Math.floor;s.exports=Math.trunc||function(c){var l=+c;return(l>0?o:a)(l)}},{}],302:[function(n,s,i){var a,o,c,l,u,d=n("../internals/global"),f=n("../internals/function-bind-context"),h=n("../internals/object-get-own-property-descriptor").f,m=n("../internals/task").set,A=n("../internals/queue"),g=n("../internals/engine-is-ios"),p=n("../internals/engine-is-ios-pebble"),b=n("../internals/engine-is-webos-webkit"),x=n("../internals/engine-is-node"),v=d.MutationObserver||d.WebKitMutationObserver,y=d.document,N=d.process,P=d.Promise,M=h(d,"queueMicrotask"),k=M&&M.value;if(!k){var D=new A,O=function(){var L,F;for(x&&(L=N.domain)&&L.exit();F=D.get();)try{F()}catch(_){throw D.head&&a(),_}L&&L.enter()};g||x||b||!v||!y?!p&&P&&P.resolve?((l=P.resolve(void 0)).constructor=P,u=f(l.then,l),a=function(){u(O)}):x?a=function(){N.nextTick(O)}:(m=f(m,d),a=function(){m(O)}):(o=!0,c=y.createTextNode(""),new v(O).observe(c,{characterData:!0}),a=function(){c.data=o=!o}),k=function(L){D.head||a(),D.add(L)}}s.exports=k},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(n,s,i){var a=n("../internals/a-callable"),o=TypeError,c=function(l){var u,d;this.promise=new l(function(f,h){if(u!==void 0||d!==void 0)throw new o("Bad Promise constructor");u=f,d=h}),this.resolve=a(u),this.reject=a(d)};s.exports.f=function(l){return new c(l)}},{"../internals/a-callable":222}],304:[function(n,s,i){var a=n("../internals/is-regexp"),o=TypeError;s.exports=function(c){if(a(c))throw new o("The method doesn't accept regular expressions");return c}},{"../internals/is-regexp":291}],305:[function(n,s,i){var a=n("../internals/descriptors"),o=n("../internals/function-uncurry-this"),c=n("../internals/function-call"),l=n("../internals/fails"),u=n("../internals/object-keys"),d=n("../internals/object-get-own-property-symbols"),f=n("../internals/object-property-is-enumerable"),h=n("../internals/to-object"),m=n("../internals/indexed-object"),A=Object.assign,g=Object.defineProperty,p=o([].concat);s.exports=!A||l(function(){if(a&&A({b:1},A(g({},"a",{enumerable:!0,get:function(){g(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var b={},x={},v=Symbol("assign detection");return b[v]=7,"abcdefghijklmnopqrst".split("").forEach(function(y){x[y]=y}),A({},b)[v]!==7||u(A({},x)).join("")!=="abcdefghijklmnopqrst"})?function(b,x){for(var v=h(b),y=arguments.length,N=1,P=d.f,M=f.f;y>N;)for(var k,D=m(arguments[N++]),O=P?p(u(D),P(D)):u(D),L=O.length,F=0;L>F;)k=O[F++],a&&!c(M,D,k)||(v[k]=D[k]);return v}:A},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(n,s,i){var a,o=n("../internals/an-object"),c=n("../internals/object-define-properties"),l=n("../internals/enum-bug-keys"),u=n("../internals/hidden-keys"),d=n("../internals/html"),f=n("../internals/document-create-element"),h=n("../internals/shared-key"),m=h("IE_PROTO"),A=function(){},g=function(x){return"<script>"+x+"<\/script>"},p=function(x){x.write(g("")),x.close();var v=x.parentWindow.Object;return x=null,v},b=function(){try{a=new ActiveXObject("htmlfile")}catch{}var x,v;b=typeof document<"u"?document.domain&&a?p(a):((v=f("iframe")).style.display="none",d.appendChild(v),v.src="javascript:",(x=v.contentWindow.document).open(),x.write(g("document.F=Object")),x.close(),x.F):p(a);for(var y=l.length;y--;)delete b.prototype[l[y]];return b()};u[m]=!0,s.exports=Object.create||function(x,v){var y;return x!==null?(A.prototype=o(x),y=new A,A.prototype=null,y[m]=x):y=b(),v===void 0?y:c.f(y,v)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(n,s,i){var a=n("../internals/descriptors"),o=n("../internals/v8-prototype-define-bug"),c=n("../internals/object-define-property"),l=n("../internals/an-object"),u=n("../internals/to-indexed-object"),d=n("../internals/object-keys");i.f=a&&!o?Object.defineProperties:function(f,h){l(f);for(var m,A=u(h),g=d(h),p=g.length,b=0;p>b;)c.f(f,m=g[b++],A[m]);return f}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(n,s,i){var a=n("../internals/descriptors"),o=n("../internals/ie8-dom-define"),c=n("../internals/v8-prototype-define-bug"),l=n("../internals/an-object"),u=n("../internals/to-property-key"),d=TypeError,f=Object.defineProperty,h=Object.getOwnPropertyDescriptor;i.f=a?c?function(m,A,g){if(l(m),A=u(A),l(g),typeof m=="function"&&A==="prototype"&&"value"in g&&"writable"in g&&!g.writable){var p=h(m,A);p&&p.writable&&(m[A]=g.value,g={configurable:"configurable"in g?g.configurable:p.configurable,enumerable:"enumerable"in g?g.enumerable:p.enumerable,writable:!1})}return f(m,A,g)}:f:function(m,A,g){if(l(m),A=u(A),l(g),o)try{return f(m,A,g)}catch{}if("get"in g||"set"in g)throw new d("Accessors not supported");return"value"in g&&(m[A]=g.value),m}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(n,s,i){var a=n("../internals/descriptors"),o=n("../internals/function-call"),c=n("../internals/object-property-is-enumerable"),l=n("../internals/create-property-descriptor"),u=n("../internals/to-indexed-object"),d=n("../internals/to-property-key"),f=n("../internals/has-own-property"),h=n("../internals/ie8-dom-define"),m=Object.getOwnPropertyDescriptor;i.f=a?m:function(A,g){if(A=u(A),g=d(g),h)try{return m(A,g)}catch{}if(f(A,g))return l(!o(c.f,A,g),A[g])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(n,s,i){var a=n("../internals/classof-raw"),o=n("../internals/to-indexed-object"),c=n("../internals/object-get-own-property-names").f,l=n("../internals/array-slice-simple"),u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];s.exports.f=function(d){return u&&a(d)==="Window"?function(f){try{return c(f)}catch{return l(u)}}(d):c(o(d))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(n,s,i){var a=n("../internals/object-keys-internal"),o=n("../internals/enum-bug-keys").concat("length","prototype");i.f=Object.getOwnPropertyNames||function(c){return a(c,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(n,s,i){i.f=Object.getOwnPropertySymbols},{}],313:[function(n,s,i){var a=n("../internals/has-own-property"),o=n("../internals/is-callable"),c=n("../internals/to-object"),l=n("../internals/shared-key"),u=n("../internals/correct-prototype-getter"),d=l("IE_PROTO"),f=Object,h=f.prototype;s.exports=u?f.getPrototypeOf:function(m){var A=c(m);if(a(A,d))return A[d];var g=A.constructor;return o(g)&&A instanceof g?g.prototype:A instanceof f?h:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(n,s,i){var a=n("../internals/function-uncurry-this");s.exports=a({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(n,s,i){var a=n("../internals/function-uncurry-this"),o=n("../internals/has-own-property"),c=n("../internals/to-indexed-object"),l=n("../internals/array-includes").indexOf,u=n("../internals/hidden-keys"),d=a([].push);s.exports=function(f,h){var m,A=c(f),g=0,p=[];for(m in A)!o(u,m)&&o(A,m)&&d(p,m);for(;h.length>g;)o(A,m=h[g++])&&(~l(p,m)||d(p,m));return p}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(n,s,i){var a=n("../internals/object-keys-internal"),o=n("../internals/enum-bug-keys");s.exports=Object.keys||function(c){return a(c,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(n,s,i){var a={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,c=o&&!a.call({1:2},1);i.f=c?function(l){var u=o(this,l);return!!u&&u.enumerable}:a},{}],318:[function(n,s,i){var a=n("../internals/function-uncurry-this-accessor"),o=n("../internals/an-object"),c=n("../internals/a-possible-prototype");s.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var l,u=!1,d={};try{(l=a(Object.prototype,"__proto__","set"))(d,[]),u=d instanceof Array}catch{}return function(f,h){return o(f),c(h),u?l(f,h):f.__proto__=h,f}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(n,s,i){var a=n("../internals/descriptors"),o=n("../internals/fails"),c=n("../internals/function-uncurry-this"),l=n("../internals/object-get-prototype-of"),u=n("../internals/object-keys"),d=n("../internals/to-indexed-object"),f=c(n("../internals/object-property-is-enumerable").f),h=c([].push),m=a&&o(function(){var g=Object.create(null);return g[2]=2,!f(g,2)}),A=function(g){return function(p){for(var b,x=d(p),v=u(x),y=m&&l(x)===null,N=v.length,P=0,M=[];N>P;)b=v[P++],a&&!(y?b in x:f(x,b))||h(M,g?[b,x[b]]:x[b]);return M}};s.exports={entries:A(!0),values:A(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(n,s,i){var a=n("../internals/function-call"),o=n("../internals/is-callable"),c=n("../internals/is-object"),l=TypeError;s.exports=function(u,d){var f,h;if(d==="string"&&o(f=u.toString)&&!c(h=a(f,u))||o(f=u.valueOf)&&!c(h=a(f,u))||d!=="string"&&o(f=u.toString)&&!c(h=a(f,u)))return h;throw new l("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(n,s,i){var a=n("../internals/get-built-in"),o=n("../internals/function-uncurry-this"),c=n("../internals/object-get-own-property-names"),l=n("../internals/object-get-own-property-symbols"),u=n("../internals/an-object"),d=o([].concat);s.exports=a("Reflect","ownKeys")||function(f){var h=c.f(u(f)),m=l.f;return m?d(h,m(f)):h}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(n,s,i){var a=n("../internals/global");s.exports=a},{"../internals/global":274}],323:[function(n,s,i){s.exports=function(a){try{return{error:!1,value:a()}}catch(o){return{error:!0,value:o}}}},{}],324:[function(n,s,i){var a=n("../internals/global"),o=n("../internals/promise-native-constructor"),c=n("../internals/is-callable"),l=n("../internals/is-forced"),u=n("../internals/inspect-source"),d=n("../internals/well-known-symbol"),f=n("../internals/engine-is-browser"),h=n("../internals/engine-is-deno"),m=n("../internals/is-pure"),A=n("../internals/engine-v8-version"),g=o&&o.prototype,p=d("species"),b=!1,x=c(a.PromiseRejectionEvent),v=l("Promise",function(){var y=u(o),N=y!==String(o);if(!N&&A===66||m&&(!g.catch||!g.finally))return!0;if(!A||A<51||!/native code/.test(y)){var P=new o(function(k){k(1)}),M=function(k){k(function(){},function(){})};if((P.constructor={})[p]=M,!(b=P.then(function(){})instanceof M))return!0}return!N&&(f||h)&&!x});s.exports={CONSTRUCTOR:v,REJECTION_EVENT:x,SUBCLASSING:b}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(n,s,i){var a=n("../internals/global");s.exports=a.Promise},{"../internals/global":274}],326:[function(n,s,i){var a=n("../internals/an-object"),o=n("../internals/is-object"),c=n("../internals/new-promise-capability");s.exports=function(l,u){if(a(l),o(u)&&u.constructor===l)return u;var d=c.f(l);return(0,d.resolve)(u),d.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(n,s,i){var a=n("../internals/promise-native-constructor"),o=n("../internals/check-correctness-of-iteration"),c=n("../internals/promise-constructor-detection").CONSTRUCTOR;s.exports=c||!o(function(l){a.all(l).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(n,s,i){var a=function(){this.head=null,this.tail=null};a.prototype={add:function(o){var c={item:o,next:null},l=this.tail;l?l.next=c:this.head=c,this.tail=c},get:function(){var o=this.head;if(o)return(this.head=o.next)===null&&(this.tail=null),o.item}},s.exports=a},{}],329:[function(n,s,i){var a=n("../internals/is-null-or-undefined"),o=TypeError;s.exports=function(c){if(a(c))throw new o("Can't call method on "+c);return c}},{"../internals/is-null-or-undefined":288}],330:[function(n,s,i){var a=n("../internals/get-built-in"),o=n("../internals/define-built-in-accessor"),c=n("../internals/well-known-symbol"),l=n("../internals/descriptors"),u=c("species");s.exports=function(d){var f=a(d);l&&f&&!f[u]&&o(f,u,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(n,s,i){var a=n("../internals/object-define-property").f,o=n("../internals/has-own-property"),c=n("../internals/well-known-symbol")("toStringTag");s.exports=function(l,u,d){l&&!d&&(l=l.prototype),l&&!o(l,c)&&a(l,c,{configurable:!0,value:u})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(n,s,i){var a=n("../internals/shared"),o=n("../internals/uid"),c=a("keys");s.exports=function(l){return c[l]||(c[l]=o(l))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(n,s,i){var a=n("../internals/global"),o=n("../internals/define-global-property"),c=a["__core-js_shared__"]||o("__core-js_shared__",{});s.exports=c},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(n,s,i){var a=n("../internals/is-pure"),o=n("../internals/shared-store");(s.exports=function(c,l){return o[c]||(o[c]=l!==void 0?l:{})})("versions",[]).push({version:"3.33.0",mode:a?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(n,s,i){var a=n("../internals/an-object"),o=n("../internals/a-constructor"),c=n("../internals/is-null-or-undefined"),l=n("../internals/well-known-symbol")("species");s.exports=function(u,d){var f,h=a(u).constructor;return h===void 0||c(f=a(h)[l])?d:o(f)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(n,s,i){var a=n("../internals/engine-v8-version"),o=n("../internals/fails"),c=n("../internals/global").String;s.exports=!!Object.getOwnPropertySymbols&&!o(function(){var l=Symbol("symbol detection");return!c(l)||!(Object(l)instanceof Symbol)||!Symbol.sham&&a&&a<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(n,s,i){var a=n("../internals/function-call"),o=n("../internals/get-built-in"),c=n("../internals/well-known-symbol"),l=n("../internals/define-built-in");s.exports=function(){var u=o("Symbol"),d=u&&u.prototype,f=d&&d.valueOf,h=c("toPrimitive");d&&!d[h]&&l(d,h,function(m){return a(f,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(n,s,i){var a=n("../internals/symbol-constructor-detection");s.exports=a&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(n,s,i){var a,o,c,l,u=n("../internals/global"),d=n("../internals/function-apply"),f=n("../internals/function-bind-context"),h=n("../internals/is-callable"),m=n("../internals/has-own-property"),A=n("../internals/fails"),g=n("../internals/html"),p=n("../internals/array-slice"),b=n("../internals/document-create-element"),x=n("../internals/validate-arguments-length"),v=n("../internals/engine-is-ios"),y=n("../internals/engine-is-node"),N=u.setImmediate,P=u.clearImmediate,M=u.process,k=u.Dispatch,D=u.Function,O=u.MessageChannel,L=u.String,F=0,_={};A(function(){a=u.location});var E=function(j){if(m(_,j)){var S=_[j];delete _[j],S()}},T=function(j){return function(){E(j)}},w=function(j){E(j.data)},C=function(j){u.postMessage(L(j),a.protocol+"//"+a.host)};N&&P||(N=function(j){x(arguments.length,1);var S=h(j)?j:D(j),I=p(arguments,1);return _[++F]=function(){d(S,void 0,I)},o(F),F},P=function(j){delete _[j]},y?o=function(j){M.nextTick(T(j))}:k&&k.now?o=function(j){k.now(T(j))}:O&&!v?(l=(c=new O).port2,c.port1.onmessage=w,o=f(l.postMessage,l)):u.addEventListener&&h(u.postMessage)&&!u.importScripts&&a&&a.protocol!=="file:"&&!A(C)?(o=C,u.addEventListener("message",w,!1)):o="onreadystatechange"in b("script")?function(j){g.appendChild(b("script")).onreadystatechange=function(){g.removeChild(this),E(j)}}:function(j){setTimeout(T(j),0)}),s.exports={set:N,clear:P}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(n,s,i){var a=n("../internals/to-integer-or-infinity"),o=Math.max,c=Math.min;s.exports=function(l,u){var d=a(l);return d<0?o(d+u,0):c(d,u)}},{"../internals/to-integer-or-infinity":342}],341:[function(n,s,i){var a=n("../internals/indexed-object"),o=n("../internals/require-object-coercible");s.exports=function(c){return a(o(c))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(n,s,i){var a=n("../internals/math-trunc");s.exports=function(o){var c=+o;return c!=c||c===0?0:a(c)}},{"../internals/math-trunc":301}],343:[function(n,s,i){var a=n("../internals/to-integer-or-infinity"),o=Math.min;s.exports=function(c){return c>0?o(a(c),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(n,s,i){var a=n("../internals/require-object-coercible"),o=Object;s.exports=function(c){return o(a(c))}},{"../internals/require-object-coercible":329}],345:[function(n,s,i){var a=n("../internals/function-call"),o=n("../internals/is-object"),c=n("../internals/is-symbol"),l=n("../internals/get-method"),u=n("../internals/ordinary-to-primitive"),d=n("../internals/well-known-symbol"),f=TypeError,h=d("toPrimitive");s.exports=function(m,A){if(!o(m)||c(m))return m;var g,p=l(m,h);if(p){if(A===void 0&&(A="default"),g=a(p,m,A),!o(g)||c(g))return g;throw new f("Can't convert object to primitive value")}return A===void 0&&(A="number"),u(m,A)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(n,s,i){var a=n("../internals/to-primitive"),o=n("../internals/is-symbol");s.exports=function(c){var l=a(c,"string");return o(l)?l:l+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(n,s,i){var a={};a[n("../internals/well-known-symbol")("toStringTag")]="z",s.exports=String(a)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(n,s,i){var a=n("../internals/classof"),o=String;s.exports=function(c){if(a(c)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return o(c)}},{"../internals/classof":236}],349:[function(n,s,i){var a=String;s.exports=function(o){try{return a(o)}catch{return"Object"}}},{}],350:[function(n,s,i){var a=n("../internals/function-uncurry-this"),o=0,c=Math.random(),l=a(1 .toString);s.exports=function(u){return"Symbol("+(u===void 0?"":u)+")_"+l(++o+c,36)}},{"../internals/function-uncurry-this":268}],351:[function(n,s,i){var a=n("../internals/symbol-constructor-detection");s.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(n,s,i){var a=n("../internals/descriptors"),o=n("../internals/fails");s.exports=a&&o(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(n,s,i){var a=TypeError;s.exports=function(o,c){if(o<c)throw new a("Not enough arguments");return o}},{}],354:[function(n,s,i){var a=n("../internals/global"),o=n("../internals/is-callable"),c=a.WeakMap;s.exports=o(c)&&/native code/.test(String(c))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(n,s,i){var a=n("../internals/path"),o=n("../internals/has-own-property"),c=n("../internals/well-known-symbol-wrapped"),l=n("../internals/object-define-property").f;s.exports=function(u){var d=a.Symbol||(a.Symbol={});o(d,u)||l(d,u,{value:c.f(u)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(n,s,i){var a=n("../internals/well-known-symbol");i.f=a},{"../internals/well-known-symbol":357}],357:[function(n,s,i){var a=n("../internals/global"),o=n("../internals/shared"),c=n("../internals/has-own-property"),l=n("../internals/uid"),u=n("../internals/symbol-constructor-detection"),d=n("../internals/use-symbol-as-uid"),f=a.Symbol,h=o("wks"),m=d?f.for||f:f&&f.withoutSetter||l;s.exports=function(A){return c(h,A)||(h[A]=u&&c(f,A)?f[A]:m("Symbol."+A)),h[A]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(n,s,i){var a=n("../internals/export"),o=n("../internals/array-iteration").findIndex,c=n("../internals/add-to-unscopables"),l=!0;"findIndex"in[]&&Array(1).findIndex(function(){l=!1}),a({target:"Array",proto:!0,forced:l},{findIndex:function(u){return o(this,u,arguments.length>1?arguments[1]:void 0)}}),c("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(n,s,i){var a=n("../internals/export"),o=n("../internals/array-iteration").find,c=n("../internals/add-to-unscopables"),l=!0;"find"in[]&&Array(1).find(function(){l=!1}),a({target:"Array",proto:!0,forced:l},{find:function(u){return o(this,u,arguments.length>1?arguments[1]:void 0)}}),c("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(n,s,i){var a=n("../internals/export"),o=n("../internals/array-includes").includes,c=n("../internals/fails"),l=n("../internals/add-to-unscopables");a({target:"Array",proto:!0,forced:c(function(){return!Array(1).includes()})},{includes:function(u){return o(this,u,arguments.length>1?arguments[1]:void 0)}}),l("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(n,s,i){var a=n("../internals/to-indexed-object"),o=n("../internals/add-to-unscopables"),c=n("../internals/iterators"),l=n("../internals/internal-state"),u=n("../internals/object-define-property").f,d=n("../internals/iterator-define"),f=n("../internals/create-iter-result-object"),h=n("../internals/is-pure"),m=n("../internals/descriptors"),A=l.set,g=l.getterFor("Array Iterator");s.exports=d(Array,"Array",function(b,x){A(this,{type:"Array Iterator",target:a(b),index:0,kind:x})},function(){var b=g(this),x=b.target,v=b.kind,y=b.index++;if(!x||y>=x.length)return b.target=void 0,f(void 0,!0);switch(v){case"keys":return f(y,!1);case"values":return f(x[y],!1)}return f([y,x[y]],!1)},"values");var p=c.Arguments=c.Array;if(o("keys"),o("values"),o("entries"),!h&&m&&p.name!=="values")try{u(p,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(n,s,i){var a=n("../internals/export"),o=n("../internals/get-built-in"),c=n("../internals/function-apply"),l=n("../internals/function-call"),u=n("../internals/function-uncurry-this"),d=n("../internals/fails"),f=n("../internals/is-callable"),h=n("../internals/is-symbol"),m=n("../internals/array-slice"),A=n("../internals/get-json-replacer-function"),g=n("../internals/symbol-constructor-detection"),p=String,b=o("JSON","stringify"),x=u(/./.exec),v=u("".charAt),y=u("".charCodeAt),N=u("".replace),P=u(1 .toString),M=/[\uD800-\uDFFF]/g,k=/^[\uD800-\uDBFF]$/,D=/^[\uDC00-\uDFFF]$/,O=!g||d(function(){var E=o("Symbol")("stringify detection");return b([E])!=="[null]"||b({a:E})!=="{}"||b(Object(E))!=="{}"}),L=d(function(){return b("\uDF06\uD834")!=='"\\udf06\\ud834"'||b("\uDEAD")!=='"\\udead"'}),F=function(E,T){var w=m(arguments),C=A(T);if(f(C)||E!==void 0&&!h(E))return w[1]=function(j,S){if(f(C)&&(S=l(C,this,p(j),S)),!h(S))return S},c(b,null,w)},_=function(E,T,w){var C=v(w,T-1),j=v(w,T+1);return x(k,E)&&!x(D,j)||x(D,E)&&!x(k,C)?"\\u"+P(y(E,0),16):E};b&&a({target:"JSON",stat:!0,arity:3,forced:O||L},{stringify:function(E,T,w){var C=m(arguments),j=c(O?F:b,null,C);return L&&typeof j=="string"?N(j,M,_):j}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(n,s,i){n("../internals/export")({target:"Number",stat:!0},{isNaN:function(a){return a!=a}})},{"../internals/export":259}],364:[function(n,s,i){var a=n("../internals/export"),o=n("../internals/object-assign");a({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(n,s,i){var a=n("../internals/export"),o=n("../internals/symbol-constructor-detection"),c=n("../internals/fails"),l=n("../internals/object-get-own-property-symbols"),u=n("../internals/to-object");a({target:"Object",stat:!0,forced:!o||c(function(){l.f(1)})},{getOwnPropertySymbols:function(d){var f=l.f;return f?f(u(d)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(n,s,i){var a=n("../internals/export"),o=n("../internals/to-object"),c=n("../internals/object-keys");a({target:"Object",stat:!0,forced:n("../internals/fails")(function(){c(1)})},{keys:function(l){return c(o(l))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(n,s,i){var a=n("../internals/export"),o=n("../internals/object-to-array").values;a({target:"Object",stat:!0},{values:function(c){return o(c)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(n,s,i){var a=n("../internals/export"),o=n("../internals/function-call"),c=n("../internals/a-callable"),l=n("../internals/new-promise-capability"),u=n("../internals/perform"),d=n("../internals/iterate");a({target:"Promise",stat:!0,forced:n("../internals/promise-statics-incorrect-iteration")},{all:function(f){var h=this,m=l.f(h),A=m.resolve,g=m.reject,p=u(function(){var b=c(h.resolve),x=[],v=0,y=1;d(f,function(N){var P=v++,M=!1;y++,o(b,h,N).then(function(k){M||(M=!0,x[P]=k,--y||A(x))},g)}),--y||A(x)});return p.error&&g(p.value),m.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(n,s,i){var a=n("../internals/export"),o=n("../internals/is-pure"),c=n("../internals/promise-constructor-detection").CONSTRUCTOR,l=n("../internals/promise-native-constructor"),u=n("../internals/get-built-in"),d=n("../internals/is-callable"),f=n("../internals/define-built-in"),h=l&&l.prototype;if(a({target:"Promise",proto:!0,forced:c,real:!0},{catch:function(A){return this.then(void 0,A)}}),!o&&d(l)){var m=u("Promise").prototype.catch;h.catch!==m&&f(h,"catch",m,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(n,s,i){var a,o,c,l=n("../internals/export"),u=n("../internals/is-pure"),d=n("../internals/engine-is-node"),f=n("../internals/global"),h=n("../internals/function-call"),m=n("../internals/define-built-in"),A=n("../internals/object-set-prototype-of"),g=n("../internals/set-to-string-tag"),p=n("../internals/set-species"),b=n("../internals/a-callable"),x=n("../internals/is-callable"),v=n("../internals/is-object"),y=n("../internals/an-instance"),N=n("../internals/species-constructor"),P=n("../internals/task").set,M=n("../internals/microtask"),k=n("../internals/host-report-errors"),D=n("../internals/perform"),O=n("../internals/queue"),L=n("../internals/internal-state"),F=n("../internals/promise-native-constructor"),_=n("../internals/promise-constructor-detection"),E=n("../internals/new-promise-capability"),T=_.CONSTRUCTOR,w=_.REJECTION_EVENT,C=_.SUBCLASSING,j=L.getterFor("Promise"),S=L.set,I=F&&F.prototype,R=F,U=I,z=f.TypeError,V=f.document,X=f.process,$=E.f,W=$,H=!!(V&&V.createEvent&&f.dispatchEvent),Q=function(Z){var te;return!(!v(Z)||!x(te=Z.then))&&te},G=function(Z,te){var re,Y,oe,ae=te.value,ce=te.state===1,de=ce?Z.ok:Z.fail,pe=Z.resolve,Ae=Z.reject,le=Z.domain;try{de?(ce||(te.rejection===2&&ue(te),te.rejection=1),de===!0?re=ae:(le&&le.enter(),re=de(ae),le&&(le.exit(),oe=!0)),re===Z.promise?Ae(new z("Promise-chain cycle")):(Y=Q(re))?h(Y,re,pe,Ae):pe(re)):Ae(ae)}catch(he){le&&!oe&&le.exit(),Ae(he)}},J=function(Z,te){Z.notified||(Z.notified=!0,M(function(){for(var re,Y=Z.reactions;re=Y.get();)G(re,Z);Z.notified=!1,te&&!Z.rejection&&K(Z)}))},ee=function(Z,te,re){var Y,oe;H?((Y=V.createEvent("Event")).promise=te,Y.reason=re,Y.initEvent(Z,!1,!0),f.dispatchEvent(Y)):Y={promise:te,reason:re},!w&&(oe=f["on"+Z])?oe(Y):Z==="unhandledrejection"&&k("Unhandled promise rejection",re)},K=function(Z){h(P,f,function(){var te,re=Z.facade,Y=Z.value;if(ne(Z)&&(te=D(function(){d?X.emit("unhandledRejection",Y,re):ee("unhandledrejection",re,Y)}),Z.rejection=d||ne(Z)?2:1,te.error))throw te.value})},ne=function(Z){return Z.rejection!==1&&!Z.parent},ue=function(Z){h(P,f,function(){var te=Z.facade;d?X.emit("rejectionHandled",te):ee("rejectionhandled",te,Z.value)})},se=function(Z,te,re){return function(Y){Z(te,Y,re)}},ie=function(Z,te,re){Z.done||(Z.done=!0,re&&(Z=re),Z.value=te,Z.state=2,J(Z,!0))},q=function(Z,te,re){if(!Z.done){Z.done=!0,re&&(Z=re);try{if(Z.facade===te)throw new z("Promise can't be resolved itself");var Y=Q(te);Y?M(function(){var oe={done:!1};try{h(Y,te,se(q,oe,Z),se(ie,oe,Z))}catch(ae){ie(oe,ae,Z)}}):(Z.value=te,Z.state=1,J(Z,!1))}catch(oe){ie({done:!1},oe,Z)}}};if(T&&(U=(R=function(Z){y(this,U),b(Z),h(a,this);var te=j(this);try{Z(se(q,te),se(ie,te))}catch(re){ie(te,re)}}).prototype,(a=function(Z){S(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new O,rejection:!1,state:0,value:void 0})}).prototype=m(U,"then",function(Z,te){var re=j(this),Y=$(N(this,R));return re.parent=!0,Y.ok=!x(Z)||Z,Y.fail=x(te)&&te,Y.domain=d?X.domain:void 0,re.state===0?re.reactions.add(Y):M(function(){G(Y,re)}),Y.promise}),o=function(){var Z=new a,te=j(Z);this.promise=Z,this.resolve=se(q,te),this.reject=se(ie,te)},E.f=$=function(Z){return Z===R||Z===void 0?new o(Z):W(Z)},!u&&x(F)&&I!==Object.prototype)){c=I.then,C||m(I,"then",function(Z,te){var re=this;return new R(function(Y,oe){h(c,re,Y,oe)}).then(Z,te)},{unsafe:!0});try{delete I.constructor}catch{}A&&A(I,U)}l({global:!0,constructor:!0,wrap:!0,forced:T},{Promise:R}),g(R,"Promise",!1,!0),p("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(n,s,i){var a=n("../internals/export"),o=n("../internals/is-pure"),c=n("../internals/promise-native-constructor"),l=n("../internals/fails"),u=n("../internals/get-built-in"),d=n("../internals/is-callable"),f=n("../internals/species-constructor"),h=n("../internals/promise-resolve"),m=n("../internals/define-built-in"),A=c&&c.prototype;if(a({target:"Promise",proto:!0,real:!0,forced:!!c&&l(function(){A.finally.call({then:function(){}},function(){})})},{finally:function(p){var b=f(this,u("Promise")),x=d(p);return this.then(x?function(v){return h(b,p()).then(function(){return v})}:p,x?function(v){return h(b,p()).then(function(){throw v})}:p)}}),!o&&d(c)){var g=u("Promise").prototype.finally;A.finally!==g&&m(A,"finally",g,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(n,s,i){n("../modules/es.promise.constructor"),n("../modules/es.promise.all"),n("../modules/es.promise.catch"),n("../modules/es.promise.race"),n("../modules/es.promise.reject"),n("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(n,s,i){var a=n("../internals/export"),o=n("../internals/function-call"),c=n("../internals/a-callable"),l=n("../internals/new-promise-capability"),u=n("../internals/perform"),d=n("../internals/iterate");a({target:"Promise",stat:!0,forced:n("../internals/promise-statics-incorrect-iteration")},{race:function(f){var h=this,m=l.f(h),A=m.reject,g=u(function(){var p=c(h.resolve);d(f,function(b){o(p,h,b).then(m.resolve,A)})});return g.error&&A(g.value),m.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(n,s,i){var a=n("../internals/export"),o=n("../internals/function-call"),c=n("../internals/new-promise-capability");a({target:"Promise",stat:!0,forced:n("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(l){var u=c.f(this);return o(u.reject,void 0,l),u.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(n,s,i){var a=n("../internals/export"),o=n("../internals/get-built-in"),c=n("../internals/is-pure"),l=n("../internals/promise-native-constructor"),u=n("../internals/promise-constructor-detection").CONSTRUCTOR,d=n("../internals/promise-resolve"),f=o("Promise"),h=c&&!u;a({target:"Promise",stat:!0,forced:c||u},{resolve:function(m){return d(h&&this===f?l:this,m)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(n,s,i){var a=n("../internals/export"),o=n("../internals/function-uncurry-this"),c=n("../internals/to-absolute-index"),l=RangeError,u=String.fromCharCode,d=String.fromCodePoint,f=o([].join);a({target:"String",stat:!0,arity:1,forced:!!d&&d.length!==1},{fromCodePoint:function(h){for(var m,A=[],g=arguments.length,p=0;g>p;){if(m=+arguments[p++],c(m,1114111)!==m)throw new l(m+" is not a valid code point");A[p]=m<65536?u(m):u(55296+((m-=65536)>>10),m%1024+56320)}return f(A,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(n,s,i){var a=n("../internals/export"),o=n("../internals/function-uncurry-this"),c=n("../internals/not-a-regexp"),l=n("../internals/require-object-coercible"),u=n("../internals/to-string"),d=n("../internals/correct-is-regexp-logic"),f=o("".indexOf);a({target:"String",proto:!0,forced:!d("includes")},{includes:function(h){return!!~f(u(l(this)),u(c(h)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(n,s,i){n("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(n,s,i){var a=n("../internals/export"),o=n("../internals/global"),c=n("../internals/function-call"),l=n("../internals/function-uncurry-this"),u=n("../internals/is-pure"),d=n("../internals/descriptors"),f=n("../internals/symbol-constructor-detection"),h=n("../internals/fails"),m=n("../internals/has-own-property"),A=n("../internals/object-is-prototype-of"),g=n("../internals/an-object"),p=n("../internals/to-indexed-object"),b=n("../internals/to-property-key"),x=n("../internals/to-string"),v=n("../internals/create-property-descriptor"),y=n("../internals/object-create"),N=n("../internals/object-keys"),P=n("../internals/object-get-own-property-names"),M=n("../internals/object-get-own-property-names-external"),k=n("../internals/object-get-own-property-symbols"),D=n("../internals/object-get-own-property-descriptor"),O=n("../internals/object-define-property"),L=n("../internals/object-define-properties"),F=n("../internals/object-property-is-enumerable"),_=n("../internals/define-built-in"),E=n("../internals/define-built-in-accessor"),T=n("../internals/shared"),w=n("../internals/shared-key"),C=n("../internals/hidden-keys"),j=n("../internals/uid"),S=n("../internals/well-known-symbol"),I=n("../internals/well-known-symbol-wrapped"),R=n("../internals/well-known-symbol-define"),U=n("../internals/symbol-define-to-primitive"),z=n("../internals/set-to-string-tag"),V=n("../internals/internal-state"),X=n("../internals/array-iteration").forEach,$=w("hidden"),W=V.set,H=V.getterFor("Symbol"),Q=Object.prototype,G=o.Symbol,J=G&&G.prototype,ee=o.RangeError,K=o.TypeError,ne=o.QObject,ue=D.f,se=O.f,ie=M.f,q=F.f,Z=l([].push),te=T("symbols"),re=T("op-symbols"),Y=T("wks"),oe=!ne||!ne.prototype||!ne.prototype.findChild,ae=function(_e,Te,Ue){var Ee=ue(Q,Te);Ee&&delete Q[Te],se(_e,Te,Ue),Ee&&_e!==Q&&se(Q,Te,Ee)},ce=d&&h(function(){return y(se({},"a",{get:function(){return se(this,"a",{value:7}).a}})).a!==7})?ae:se,de=function(_e,Te){var Ue=te[_e]=y(J);return W(Ue,{type:"Symbol",tag:_e,description:Te}),d||(Ue.description=Te),Ue},pe=function(_e,Te,Ue){_e===Q&&pe(re,Te,Ue),g(_e);var Ee=b(Te);return g(Ue),m(te,Ee)?(Ue.enumerable?(m(_e,$)&&_e[$][Ee]&&(_e[$][Ee]=!1),Ue=y(Ue,{enumerable:v(0,!1)})):(m(_e,$)||se(_e,$,v(1,{})),_e[$][Ee]=!0),ce(_e,Ee,Ue)):se(_e,Ee,Ue)},Ae=function(_e,Te){g(_e);var Ue=p(Te),Ee=N(Ue).concat(ve(Ue));return X(Ee,function(Me){d&&!c(le,Ue,Me)||pe(_e,Me,Ue[Me])}),_e},le=function(_e){var Te=b(_e),Ue=c(q,this,Te);return!(this===Q&&m(te,Te)&&!m(re,Te))&&(!(Ue||!m(this,Te)||!m(te,Te)||m(this,$)&&this[$][Te])||Ue)},he=function(_e,Te){var Ue=p(_e),Ee=b(Te);if(Ue!==Q||!m(te,Ee)||m(re,Ee)){var Me=ue(Ue,Ee);return!Me||!m(te,Ee)||m(Ue,$)&&Ue[$][Ee]||(Me.enumerable=!0),Me}},me=function(_e){var Te=ie(p(_e)),Ue=[];return X(Te,function(Ee){m(te,Ee)||m(C,Ee)||Z(Ue,Ee)}),Ue},ve=function(_e){var Te=_e===Q,Ue=ie(Te?re:p(_e)),Ee=[];return X(Ue,function(Me){!m(te,Me)||Te&&!m(Q,Me)||Z(Ee,te[Me])}),Ee};f||(_(J=(G=function(){if(A(J,this))throw new K("Symbol is not a constructor");var _e=arguments.length&&arguments[0]!==void 0?x(arguments[0]):void 0,Te=j(_e),Ue=function(Ee){this===Q&&c(Ue,re,Ee),m(this,$)&&m(this[$],Te)&&(this[$][Te]=!1);var Me=v(1,Ee);try{ce(this,Te,Me)}catch(Ie){if(!(Ie instanceof ee))throw Ie;ae(this,Te,Me)}};return d&&oe&&ce(Q,Te,{configurable:!0,set:Ue}),de(Te,_e)}).prototype,"toString",function(){return H(this).tag}),_(G,"withoutSetter",function(_e){return de(j(_e),_e)}),F.f=le,O.f=pe,L.f=Ae,D.f=he,P.f=M.f=me,k.f=ve,I.f=function(_e){return de(S(_e),_e)},d&&(E(J,"description",{configurable:!0,get:function(){return H(this).description}}),u||_(Q,"propertyIsEnumerable",le,{unsafe:!0}))),a({global:!0,constructor:!0,wrap:!0,forced:!f,sham:!f},{Symbol:G}),X(N(Y),function(_e){R(_e)}),a({target:"Symbol",stat:!0,forced:!f},{useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),a({target:"Object",stat:!0,forced:!f,sham:!d},{create:function(_e,Te){return Te===void 0?y(_e):Ae(y(_e),Te)},defineProperty:pe,defineProperties:Ae,getOwnPropertyDescriptor:he}),a({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:me}),U(),z(G,"Symbol"),C[$]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(n,s,i){var a=n("../internals/export"),o=n("../internals/get-built-in"),c=n("../internals/has-own-property"),l=n("../internals/to-string"),u=n("../internals/shared"),d=n("../internals/symbol-registry-detection"),f=u("string-to-symbol-registry"),h=u("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!d},{for:function(m){var A=l(m);if(c(f,A))return f[A];var g=o("Symbol")(A);return f[A]=g,h[g]=A,g}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(n,s,i){n("../modules/es.symbol.constructor"),n("../modules/es.symbol.for"),n("../modules/es.symbol.key-for"),n("../modules/es.json.stringify"),n("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(n,s,i){var a=n("../internals/export"),o=n("../internals/has-own-property"),c=n("../internals/is-symbol"),l=n("../internals/try-to-string"),u=n("../internals/shared"),d=n("../internals/symbol-registry-detection"),f=u("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!d},{keyFor:function(h){if(!c(h))throw new TypeError(l(h)+" is not a symbol");if(o(f,h))return f[h]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(n,s,i){function a(o){return Object.prototype.toString.call(o)}i.isArray=function(o){return Array.isArray?Array.isArray(o):a(o)==="[object Array]"},i.isBoolean=function(o){return typeof o=="boolean"},i.isNull=function(o){return o===null},i.isNullOrUndefined=function(o){return o==null},i.isNumber=function(o){return typeof o=="number"},i.isString=function(o){return typeof o=="string"},i.isSymbol=function(o){return typeof o=="symbol"},i.isUndefined=function(o){return o===void 0},i.isRegExp=function(o){return a(o)==="[object RegExp]"},i.isObject=function(o){return typeof o=="object"&&o!==null},i.isDate=function(o){return a(o)==="[object Date]"},i.isError=function(o){return a(o)==="[object Error]"||o instanceof Error},i.isFunction=function(o){return typeof o=="function"},i.isPrimitive=function(o){return o===null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||typeof o=="symbol"||o===void 0},i.isBuffer=n("buffer").Buffer.isBuffer},{buffer:220}],384:[function(n,s,i){(function(a){(function(){var o=n("elliptic"),c=n("bn.js");s.exports=function(f){return new u(f)};var l={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function u(f){this.curveType=l[f],this.curveType||(this.curveType={name:f}),this.curve=new o.ec(this.curveType.name),this.keys=void 0}function d(f,h,m){Array.isArray(f)||(f=f.toArray());var A=new a(f);if(m&&A.length<m){var g=new a(m-A.length);g.fill(0),A=a.concat([g,A])}return h?A.toString(h):A}l.p224=l.secp224r1,l.p256=l.secp256r1=l.prime256v1,l.p192=l.secp192r1=l.prime192v1,l.p384=l.secp384r1,l.p521=l.secp521r1,u.prototype.generateKeys=function(f,h){return this.keys=this.curve.genKeyPair(),this.getPublicKey(f,h)},u.prototype.computeSecret=function(f,h,m){return h=h||"utf8",a.isBuffer(f)||(f=new a(f,h)),d(this.curve.keyFromPublic(f).getPublic().mul(this.keys.getPrivate()).getX(),m,this.curveType.byteLength)},u.prototype.getPublicKey=function(f,h){var m=this.keys.getPublic(h==="compressed",!0);return h==="hybrid"&&(m[m.length-1]%2?m[0]=7:m[0]=6),d(m,f)},u.prototype.getPrivateKey=function(f){return d(this.keys.getPrivate(),f)},u.prototype.setPublicKey=function(f,h){return h=h||"utf8",a.isBuffer(f)||(f=new a(f,h)),this.keys._importPublic(f),this},u.prototype.setPrivateKey=function(f,h){h=h||"utf8",a.isBuffer(f)||(f=new a(f,h));var m=new c(f);return m=m.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(m),this}}).call(this)}).call(this,n("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(n,s,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],386:[function(n,s,i){var a=n("inherits"),o=n("md5.js"),c=n("ripemd160"),l=n("sha.js"),u=n("cipher-base");function d(f){u.call(this,"digest"),this._hash=f}a(d,u),d.prototype._update=function(f){this._hash.update(f)},d.prototype._final=function(){return this._hash.digest()},s.exports=function(f){return(f=f.toLowerCase())==="md5"?new o:f==="rmd160"||f==="ripemd160"?new c:new d(l(f))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(n,s,i){var a=n("md5.js");s.exports=function(o){return new a().update(o).digest()}},{"md5.js":450}],388:[function(n,s,i){var a=n("inherits"),o=n("./legacy"),c=n("cipher-base"),l=n("safe-buffer").Buffer,u=n("create-hash/md5"),d=n("ripemd160"),f=n("sha.js"),h=l.alloc(128);function m(A,g){c.call(this,"digest"),typeof g=="string"&&(g=l.from(g));var p=A==="sha512"||A==="sha384"?128:64;this._alg=A,this._key=g,g.length>p?g=(A==="rmd160"?new d:f(A)).update(g).digest():g.length<p&&(g=l.concat([g,h],p));for(var b=this._ipad=l.allocUnsafe(p),x=this._opad=l.allocUnsafe(p),v=0;v<p;v++)b[v]=54^g[v],x[v]=92^g[v];this._hash=A==="rmd160"?new d:f(A),this._hash.update(b)}a(m,c),m.prototype._update=function(A){this._hash.update(A)},m.prototype._final=function(){var A=this._hash.digest();return(this._alg==="rmd160"?new d:f(this._alg)).update(this._opad).update(A).digest()},s.exports=function(A,g){return(A=A.toLowerCase())==="rmd160"||A==="ripemd160"?new m("rmd160",g):A==="md5"?new o(u,g):new m(A,g)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(n,s,i){var a=n("inherits"),o=n("safe-buffer").Buffer,c=n("cipher-base"),l=o.alloc(128);function u(d,f){c.call(this,"digest"),typeof f=="string"&&(f=o.from(f)),this._alg=d,this._key=f,f.length>64?f=d(f):f.length<64&&(f=o.concat([f,l],64));for(var h=this._ipad=o.allocUnsafe(64),m=this._opad=o.allocUnsafe(64),A=0;A<64;A++)h[A]=54^f[A],m[A]=92^f[A];this._hash=[h]}a(u,c),u.prototype._update=function(d){this._hash.push(d)},u.prototype._final=function(){var d=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,d]))},s.exports=u},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(n,s,i){i.randomBytes=i.rng=i.pseudoRandomBytes=i.prng=n("randombytes"),i.createHash=i.Hash=n("create-hash"),i.createHmac=i.Hmac=n("create-hmac");var a=n("browserify-sign/algos"),o=Object.keys(a),c=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(o);i.getHashes=function(){return c};var l=n("pbkdf2");i.pbkdf2=l.pbkdf2,i.pbkdf2Sync=l.pbkdf2Sync;var u=n("browserify-cipher");i.Cipher=u.Cipher,i.createCipher=u.createCipher,i.Cipheriv=u.Cipheriv,i.createCipheriv=u.createCipheriv,i.Decipher=u.Decipher,i.createDecipher=u.createDecipher,i.Decipheriv=u.Decipheriv,i.createDecipheriv=u.createDecipheriv,i.getCiphers=u.getCiphers,i.listCiphers=u.listCiphers;var d=n("diffie-hellman");i.DiffieHellmanGroup=d.DiffieHellmanGroup,i.createDiffieHellmanGroup=d.createDiffieHellmanGroup,i.getDiffieHellman=d.getDiffieHellman,i.createDiffieHellman=d.createDiffieHellman,i.DiffieHellman=d.DiffieHellman;var f=n("browserify-sign");i.createSign=f.createSign,i.Sign=f.Sign,i.createVerify=f.createVerify,i.Verify=f.Verify,i.createECDH=n("create-ecdh");var h=n("public-encrypt");i.publicEncrypt=h.publicEncrypt,i.privateEncrypt=h.privateEncrypt,i.publicDecrypt=h.publicDecrypt,i.privateDecrypt=h.privateDecrypt;var m=n("randomfill");i.randomFill=m.randomFill,i.randomFillSync=m.randomFillSync,i.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},i.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(n,s,i){(function(a,o){typeof i=="object"&&s!==void 0?s.exports=o():(a=typeof globalThis<"u"?globalThis:a||self).dayjs=o()})(void 0,function(){var a=6e4,o=36e5,c="millisecond",l="second",u="minute",d="hour",f="day",h="week",m="month",A="quarter",g="year",p="date",b="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(w){var C=["th","st","nd","rd"],j=w%100;return"["+w+(C[(j-20)%10]||C[j]||C[0])+"]"}},N=function(w,C,j){var S=String(w);return!S||S.length>=C?w:""+Array(C+1-S.length).join(j)+w},P={s:N,z:function(w){var C=-w.utcOffset(),j=Math.abs(C),S=Math.floor(j/60),I=j%60;return(C<=0?"+":"-")+N(S,2,"0")+":"+N(I,2,"0")},m:function w(C,j){if(C.date()<j.date())return-w(j,C);var S=12*(j.year()-C.year())+(j.month()-C.month()),I=C.clone().add(S,m),R=j-I<0,U=C.clone().add(S+(R?-1:1),m);return+(-(S+(j-I)/(R?I-U:U-I))||0)},a:function(w){return w<0?Math.ceil(w)||0:Math.floor(w)},p:function(w){return{M:m,y:g,w:h,d:f,D:p,h:d,m:u,s:l,ms:c,Q:A}[w]||String(w||"").toLowerCase().replace(/s$/,"")},u:function(w){return w===void 0}},M="en",k={};k[M]=y;var D="$isDayjsObject",O=function(w){return w instanceof E||!(!w||!w[D])},L=function w(C,j,S){var I;if(!C)return M;if(typeof C=="string"){var R=C.toLowerCase();k[R]&&(I=R),j&&(k[R]=j,I=R);var U=C.split("-");if(!I&&U.length>1)return w(U[0])}else{var z=C.name;k[z]=C,I=z}return!S&&I&&(M=I),I||!S&&M},F=function(w,C){if(O(w))return w.clone();var j=typeof C=="object"?C:{};return j.date=w,j.args=arguments,new E(j)},_=P;_.l=L,_.i=O,_.w=function(w,C){return F(w,{locale:C.$L,utc:C.$u,x:C.$x,$offset:C.$offset})};var E=function(){function w(j){this.$L=L(j.locale,null,!0),this.parse(j),this.$x=this.$x||j.x||{},this[D]=!0}var C=w.prototype;return C.parse=function(j){this.$d=function(S){var I=S.date,R=S.utc;if(I===null)return new Date(NaN);if(_.u(I))return new Date;if(I instanceof Date)return new Date(I);if(typeof I=="string"&&!/Z$/i.test(I)){var U=I.match(x);if(U){var z=U[2]-1||0,V=(U[7]||"0").substring(0,3);return R?new Date(Date.UTC(U[1],z,U[3]||1,U[4]||0,U[5]||0,U[6]||0,V)):new Date(U[1],z,U[3]||1,U[4]||0,U[5]||0,U[6]||0,V)}}return new Date(I)}(j),this.init()},C.init=function(){var j=this.$d;this.$y=j.getFullYear(),this.$M=j.getMonth(),this.$D=j.getDate(),this.$W=j.getDay(),this.$H=j.getHours(),this.$m=j.getMinutes(),this.$s=j.getSeconds(),this.$ms=j.getMilliseconds()},C.$utils=function(){return _},C.isValid=function(){return this.$d.toString()!==b},C.isSame=function(j,S){var I=F(j);return this.startOf(S)<=I&&I<=this.endOf(S)},C.isAfter=function(j,S){return F(j)<this.startOf(S)},C.isBefore=function(j,S){return this.endOf(S)<F(j)},C.$g=function(j,S,I){return _.u(j)?this[S]:this.set(I,j)},C.unix=function(){return Math.floor(this.valueOf()/1e3)},C.valueOf=function(){return this.$d.getTime()},C.startOf=function(j,S){var I=this,R=!!_.u(S)||S,U=_.p(j),z=function(J,ee){var K=_.w(I.$u?Date.UTC(I.$y,ee,J):new Date(I.$y,ee,J),I);return R?K:K.endOf(f)},V=function(J,ee){return _.w(I.toDate()[J].apply(I.toDate("s"),(R?[0,0,0,0]:[23,59,59,999]).slice(ee)),I)},X=this.$W,$=this.$M,W=this.$D,H="set"+(this.$u?"UTC":"");switch(U){case g:return R?z(1,0):z(31,11);case m:return R?z(1,$):z(0,$+1);case h:var Q=this.$locale().weekStart||0,G=(X<Q?X+7:X)-Q;return z(R?W-G:W+(6-G),$);case f:case p:return V(H+"Hours",0);case d:return V(H+"Minutes",1);case u:return V(H+"Seconds",2);case l:return V(H+"Milliseconds",3);default:return this.clone()}},C.endOf=function(j){return this.startOf(j,!1)},C.$set=function(j,S){var I,R=_.p(j),U="set"+(this.$u?"UTC":""),z=(I={},I[f]=U+"Date",I[p]=U+"Date",I[m]=U+"Month",I[g]=U+"FullYear",I[d]=U+"Hours",I[u]=U+"Minutes",I[l]=U+"Seconds",I[c]=U+"Milliseconds",I)[R],V=R===f?this.$D+(S-this.$W):S;if(R===m||R===g){var X=this.clone().set(p,1);X.$d[z](V),X.init(),this.$d=X.set(p,Math.min(this.$D,X.daysInMonth())).$d}else z&&this.$d[z](V);return this.init(),this},C.set=function(j,S){return this.clone().$set(j,S)},C.get=function(j){return this[_.p(j)]()},C.add=function(j,S){var I,R=this;j=Number(j);var U=_.p(S),z=function($){var W=F(R);return _.w(W.date(W.date()+Math.round($*j)),R)};if(U===m)return this.set(m,this.$M+j);if(U===g)return this.set(g,this.$y+j);if(U===f)return z(1);if(U===h)return z(7);var V=(I={},I[u]=a,I[d]=o,I[l]=1e3,I)[U]||1,X=this.$d.getTime()+j*V;return _.w(X,this)},C.subtract=function(j,S){return this.add(-1*j,S)},C.format=function(j){var S=this,I=this.$locale();if(!this.isValid())return I.invalidDate||b;var R=j||"YYYY-MM-DDTHH:mm:ssZ",U=_.z(this),z=this.$H,V=this.$m,X=this.$M,$=I.weekdays,W=I.months,H=I.meridiem,Q=function(ee,K,ne,ue){return ee&&(ee[K]||ee(S,R))||ne[K].slice(0,ue)},G=function(ee){return _.s(z%12||12,ee,"0")},J=H||function(ee,K,ne){var ue=ee<12?"AM":"PM";return ne?ue.toLowerCase():ue};return R.replace(v,function(ee,K){return K||function(ne){switch(ne){case"YY":return String(S.$y).slice(-2);case"YYYY":return _.s(S.$y,4,"0");case"M":return X+1;case"MM":return _.s(X+1,2,"0");case"MMM":return Q(I.monthsShort,X,W,3);case"MMMM":return Q(W,X);case"D":return S.$D;case"DD":return _.s(S.$D,2,"0");case"d":return String(S.$W);case"dd":return Q(I.weekdaysMin,S.$W,$,2);case"ddd":return Q(I.weekdaysShort,S.$W,$,3);case"dddd":return $[S.$W];case"H":return String(z);case"HH":return _.s(z,2,"0");case"h":return G(1);case"hh":return G(2);case"a":return J(z,V,!0);case"A":return J(z,V,!1);case"m":return String(V);case"mm":return _.s(V,2,"0");case"s":return String(S.$s);case"ss":return _.s(S.$s,2,"0");case"SSS":return _.s(S.$ms,3,"0");case"Z":return U}return null}(ee)||U.replace(":","")})},C.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},C.diff=function(j,S,I){var R,U=this,z=_.p(S),V=F(j),X=(V.utcOffset()-this.utcOffset())*a,$=this-V,W=function(){return _.m(U,V)};switch(z){case g:R=W()/12;break;case m:R=W();break;case A:R=W()/3;break;case h:R=($-X)/6048e5;break;case f:R=($-X)/864e5;break;case d:R=$/o;break;case u:R=$/a;break;case l:R=$/1e3;break;default:R=$}return I?R:_.a(R)},C.daysInMonth=function(){return this.endOf(m).$D},C.$locale=function(){return k[this.$L]},C.locale=function(j,S){if(!j)return this.$L;var I=this.clone(),R=L(j,S,!0);return R&&(I.$L=R),I},C.clone=function(){return _.w(this.$d,this)},C.toDate=function(){return new Date(this.valueOf())},C.toJSON=function(){return this.isValid()?this.toISOString():null},C.toISOString=function(){return this.$d.toISOString()},C.toString=function(){return this.$d.toUTCString()},w}(),T=E.prototype;return F.prototype=T,[["$ms",c],["$s",l],["$m",u],["$H",d],["$W",f],["$M",m],["$y",g],["$D",p]].forEach(function(w){T[w[1]]=function(C){return this.$g(C,w[0],w[1])}}),F.extend=function(w,C){return w.$i||(w(C,E,F),w.$i=!0),F},F.locale=L,F.isDayjs=O,F.unix=function(w){return F(1e3*w)},F.en=k[M],F.Ls=k,F.p={},F})},{}],392:[function(n,s,i){(function(a,o){typeof i=="object"&&s!==void 0?s.exports=o():(a=typeof globalThis<"u"?globalThis:a||self).dayjs_plugin_customParseFormat=o()})(void 0,function(){var a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},o=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,c=/\d\d/,l=/\d\d?/,u=/\d*[^-_:/,()\s\d]+/,d={},f=function(x){return(x=+x)+(x>68?1900:2e3)},h=function(x){return function(v){this[x]=+v}},m=[/[+-]\d\d:?(\d\d)?|Z/,function(x){(this.zone||(this.zone={})).offset=function(v){if(!v||v==="Z")return 0;var y=v.match(/([+-]|\d\d)/g),N=60*y[1]+(+y[2]||0);return N===0?0:y[0]==="+"?-N:N}(x)}],A=function(x){var v=d[x];return v&&(v.indexOf?v:v.s.concat(v.f))},g=function(x,v){var y,N=d.meridiem;if(N){for(var P=1;P<=24;P+=1)if(x.indexOf(N(P,0,v))>-1){y=P>12;break}}else y=x===(v?"pm":"PM");return y},p={A:[u,function(x){this.afternoon=g(x,!1)}],a:[u,function(x){this.afternoon=g(x,!0)}],S:[/\d/,function(x){this.milliseconds=100*+x}],SS:[c,function(x){this.milliseconds=10*+x}],SSS:[/\d{3}/,function(x){this.milliseconds=+x}],s:[l,h("seconds")],ss:[l,h("seconds")],m:[l,h("minutes")],mm:[l,h("minutes")],H:[l,h("hours")],h:[l,h("hours")],HH:[l,h("hours")],hh:[l,h("hours")],D:[l,h("day")],DD:[c,h("day")],Do:[u,function(x){var v=d.ordinal,y=x.match(/\d+/);if(this.day=y[0],v)for(var N=1;N<=31;N+=1)v(N).replace(/\[|\]/g,"")===x&&(this.day=N)}],M:[l,h("month")],MM:[c,h("month")],MMM:[u,function(x){var v=A("months"),y=(A("monthsShort")||v.map(function(N){return N.slice(0,3)})).indexOf(x)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[u,function(x){var v=A("months").indexOf(x)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,h("year")],YY:[c,function(x){this.year=f(x)}],YYYY:[/\d{4}/,h("year")],Z:m,ZZ:m};function b(x){var v,y;v=x,y=d&&d.formats;for(var N=(x=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(F,_,E){var T=E&&E.toUpperCase();return _||y[E]||a[E]||y[T].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(w,C,j){return C||j.slice(1)})})).match(o),P=N.length,M=0;M<P;M+=1){var k=N[M],D=p[k],O=D&&D[0],L=D&&D[1];N[M]=L?{regex:O,parser:L}:k.replace(/^\[|\]$/g,"")}return function(F){for(var _={},E=0,T=0;E<P;E+=1){var w=N[E];if(typeof w=="string")T+=w.length;else{var C=w.regex,j=w.parser,S=F.slice(T),I=C.exec(S)[0];j.call(_,I),F=F.replace(I,"")}}return function(R){var U=R.afternoon;if(U!==void 0){var z=R.hours;U?z<12&&(R.hours+=12):z===12&&(R.hours=0),delete R.afternoon}}(_),_}}return function(x,v,y){y.p.customParseFormat=!0,x&&x.parseTwoDigitYear&&(f=x.parseTwoDigitYear);var N=v.prototype,P=N.parse;N.parse=function(M){var k=M.date,D=M.utc,O=M.args;this.$u=D;var L=O[1];if(typeof L=="string"){var F=O[2]===!0,_=O[3]===!0,E=F||_,T=O[2];_&&(T=O[2]),d=this.$locale(),!F&&T&&(d=y.Ls[T]),this.$d=function(S,I,R){try{if(["x","X"].indexOf(I)>-1)return new Date((I==="X"?1e3:1)*S);var U=b(I)(S),z=U.year,V=U.month,X=U.day,$=U.hours,W=U.minutes,H=U.seconds,Q=U.milliseconds,G=U.zone,J=new Date,ee=X||(z||V?1:J.getDate()),K=z||J.getFullYear(),ne=0;z&&!V||(ne=V>0?V-1:J.getMonth());var ue=$||0,se=W||0,ie=H||0,q=Q||0;return G?new Date(Date.UTC(K,ne,ee,ue,se,ie,q+60*G.offset*1e3)):R?new Date(Date.UTC(K,ne,ee,ue,se,ie,q)):new Date(K,ne,ee,ue,se,ie,q)}catch{return new Date("")}}(k,L,D),this.init(),T&&T!==!0&&(this.$L=this.locale(T).$L),E&&k!=this.format(L)&&(this.$d=new Date("")),d={}}else if(L instanceof Array)for(var w=L.length,C=1;C<=w;C+=1){O[1]=L[C-1];var j=y.apply(this,O);if(j.isValid()){this.$d=j.$d,this.$L=j.$L,this.init();break}C===w&&(this.$d=new Date(""))}else P.call(this,M)}}})},{}],393:[function(n,s,i){(function(a,o){typeof i=="object"&&s!==void 0?s.exports=o():(a=typeof globalThis<"u"?globalThis:a||self).dayjs_plugin_utc=o()})(void 0,function(){var a="minute",o=/[+-]\d\d(?::?\d\d)?/g,c=/([+-]|\d\d)/g;return function(l,u,d){var f=u.prototype;d.utc=function(x){var v={date:x,utc:!0,args:arguments};return new u(v)},f.utc=function(x){var v=d(this.toDate(),{locale:this.$L,utc:!0});return x?v.add(this.utcOffset(),a):v},f.local=function(){return d(this.toDate(),{locale:this.$L,utc:!1})};var h=f.parse;f.parse=function(x){x.utc&&(this.$u=!0),this.$utils().u(x.$offset)||(this.$offset=x.$offset),h.call(this,x)};var m=f.init;f.init=function(){if(this.$u){var x=this.$d;this.$y=x.getUTCFullYear(),this.$M=x.getUTCMonth(),this.$D=x.getUTCDate(),this.$W=x.getUTCDay(),this.$H=x.getUTCHours(),this.$m=x.getUTCMinutes(),this.$s=x.getUTCSeconds(),this.$ms=x.getUTCMilliseconds()}else m.call(this)};var A=f.utcOffset;f.utcOffset=function(x,v){var y=this.$utils().u;if(y(x))return this.$u?0:y(this.$offset)?A.call(this):this.$offset;if(typeof x=="string"&&(x=function(k){k===void 0&&(k="");var D=k.match(o);if(!D)return null;var O=(""+D[0]).match(c)||["-",0,0],L=O[0],F=60*+O[1]+ +O[2];return F===0?0:L==="+"?F:-F}(x))===null)return this;var N=Math.abs(x)<=16?60*x:x,P=this;if(v)return P.$offset=N,P.$u=x===0,P;if(x!==0){var M=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(P=this.local().add(N+M,a)).$offset=N,P.$x.$localOffset=M}else P=this.utc();return P};var g=f.format;f.format=function(x){var v=x||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return g.call(this,v)},f.valueOf=function(){var x=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*x},f.isUTC=function(){return!!this.$u},f.toISOString=function(){return this.toDate().toISOString()},f.toString=function(){return this.toDate().toUTCString()};var p=f.toDate;f.toDate=function(x){return x==="s"&&this.$offset?d(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var b=f.diff;f.diff=function(x,v,y){if(x&&this.$u===x.$u)return b.call(this,x,v,y);var N=this.local(),P=d(x).local();return b.call(N,P,v,y)}}})},{}],394:[function(n,s,i){i.utils=n("./des/utils"),i.Cipher=n("./des/cipher"),i.DES=n("./des/des"),i.CBC=n("./des/cbc"),i.EDE=n("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(n,s,i){var a=n("minimalistic-assert"),o=n("inherits"),c={};function l(u){a.equal(u.length,8,"Invalid IV length"),this.iv=new Array(8);for(var d=0;d<this.iv.length;d++)this.iv[d]=u[d]}i.instantiate=function(u){function d(A){u.call(this,A),this._cbcInit()}o(d,u);for(var f=Object.keys(c),h=0;h<f.length;h++){var m=f[h];d.prototype[m]=c[m]}return d.create=function(A){return new d(A)},d},c._cbcInit=function(){var u=new l(this.options.iv);this._cbcState=u},c._update=function(u,d,f,h){var m=this._cbcState,A=this.constructor.super_.prototype,g=m.iv;if(this.type==="encrypt"){for(var p=0;p<this.blockSize;p++)g[p]^=u[d+p];for(A._update.call(this,g,0,f,h),p=0;p<this.blockSize;p++)g[p]=f[h+p]}else{for(A._update.call(this,u,d,f,h),p=0;p<this.blockSize;p++)f[h+p]^=g[p];for(p=0;p<this.blockSize;p++)g[p]=u[d+p]}}},{inherits:440,"minimalistic-assert":453}],396:[function(n,s,i){var a=n("minimalistic-assert");function o(c){this.options=c,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=c.padding!==!1}s.exports=o,o.prototype._init=function(){},o.prototype.update=function(c){return c.length===0?[]:this.type==="decrypt"?this._updateDecrypt(c):this._updateEncrypt(c)},o.prototype._buffer=function(c,l){for(var u=Math.min(this.buffer.length-this.bufferOff,c.length-l),d=0;d<u;d++)this.buffer[this.bufferOff+d]=c[l+d];return this.bufferOff+=u,u},o.prototype._flushBuffer=function(c,l){return this._update(this.buffer,0,c,l),this.bufferOff=0,this.blockSize},o.prototype._updateEncrypt=function(c){var l=0,u=0,d=(this.bufferOff+c.length)/this.blockSize|0,f=new Array(d*this.blockSize);this.bufferOff!==0&&(l+=this._buffer(c,l),this.bufferOff===this.buffer.length&&(u+=this._flushBuffer(f,u)));for(var h=c.length-(c.length-l)%this.blockSize;l<h;l+=this.blockSize)this._update(c,l,f,u),u+=this.blockSize;for(;l<c.length;l++,this.bufferOff++)this.buffer[this.bufferOff]=c[l];return f},o.prototype._updateDecrypt=function(c){for(var l=0,u=0,d=Math.ceil((this.bufferOff+c.length)/this.blockSize)-1,f=new Array(d*this.blockSize);d>0;d--)l+=this._buffer(c,l),u+=this._flushBuffer(f,u);return l+=this._buffer(c,l),f},o.prototype.final=function(c){var l,u;return c&&(l=this.update(c)),u=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),l?l.concat(u):u},o.prototype._pad=function(c,l){if(l===0)return!1;for(;l<c.length;)c[l++]=0;return!0},o.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var c=new Array(this.blockSize);return this._update(this.buffer,0,c,0),c},o.prototype._unpad=function(c){return c},o.prototype._finalDecrypt=function(){a.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var c=new Array(this.blockSize);return this._flushBuffer(c,0),this._unpad(c)}},{"minimalistic-assert":453}],397:[function(n,s,i){var a=n("minimalistic-assert"),o=n("inherits"),c=n("./utils"),l=n("./cipher");function u(){this.tmp=new Array(2),this.keys=null}function d(h){l.call(this,h);var m=new u;this._desState=m,this.deriveKeys(m,h.key)}o(d,l),s.exports=d,d.create=function(h){return new d(h)};var f=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];d.prototype.deriveKeys=function(h,m){h.keys=new Array(32),a.equal(m.length,this.blockSize,"Invalid key length");var A=c.readUInt32BE(m,0),g=c.readUInt32BE(m,4);c.pc1(A,g,h.tmp,0),A=h.tmp[0],g=h.tmp[1];for(var p=0;p<h.keys.length;p+=2){var b=f[p>>>1];A=c.r28shl(A,b),g=c.r28shl(g,b),c.pc2(A,g,h.keys,p)}},d.prototype._update=function(h,m,A,g){var p=this._desState,b=c.readUInt32BE(h,m),x=c.readUInt32BE(h,m+4);c.ip(b,x,p.tmp,0),b=p.tmp[0],x=p.tmp[1],this.type==="encrypt"?this._encrypt(p,b,x,p.tmp,0):this._decrypt(p,b,x,p.tmp,0),b=p.tmp[0],x=p.tmp[1],c.writeUInt32BE(A,b,g),c.writeUInt32BE(A,x,g+4)},d.prototype._pad=function(h,m){if(this.padding===!1)return!1;for(var A=h.length-m,g=m;g<h.length;g++)h[g]=A;return!0},d.prototype._unpad=function(h){if(this.padding===!1)return h;for(var m=h[h.length-1],A=h.length-m;A<h.length;A++)a.equal(h[A],m);return h.slice(0,h.length-m)},d.prototype._encrypt=function(h,m,A,g,p){for(var b=m,x=A,v=0;v<h.keys.length;v+=2){var y=h.keys[v],N=h.keys[v+1];c.expand(x,h.tmp,0),y^=h.tmp[0],N^=h.tmp[1];var P=c.substitute(y,N),M=x;x=(b^c.permute(P))>>>0,b=M}c.rip(x,b,g,p)},d.prototype._decrypt=function(h,m,A,g,p){for(var b=A,x=m,v=h.keys.length-2;v>=0;v-=2){var y=h.keys[v],N=h.keys[v+1];c.expand(b,h.tmp,0),y^=h.tmp[0],N^=h.tmp[1];var P=c.substitute(y,N),M=b;b=(x^c.permute(P))>>>0,x=M}c.rip(b,x,g,p)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(n,s,i){var a=n("minimalistic-assert"),o=n("inherits"),c=n("./cipher"),l=n("./des");function u(f,h){a.equal(h.length,24,"Invalid key length");var m=h.slice(0,8),A=h.slice(8,16),g=h.slice(16,24);this.ciphers=f==="encrypt"?[l.create({type:"encrypt",key:m}),l.create({type:"decrypt",key:A}),l.create({type:"encrypt",key:g})]:[l.create({type:"decrypt",key:g}),l.create({type:"encrypt",key:A}),l.create({type:"decrypt",key:m})]}function d(f){c.call(this,f);var h=new u(this.type,this.options.key);this._edeState=h}o(d,c),s.exports=d,d.create=function(f){return new d(f)},d.prototype._update=function(f,h,m,A){var g=this._edeState;g.ciphers[0]._update(f,h,m,A),g.ciphers[1]._update(m,A,m,A),g.ciphers[2]._update(m,A,m,A)},d.prototype._pad=l.prototype._pad,d.prototype._unpad=l.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(n,s,i){i.readUInt32BE=function(l,u){return(l[0+u]<<24|l[1+u]<<16|l[2+u]<<8|l[3+u])>>>0},i.writeUInt32BE=function(l,u,d){l[0+d]=u>>>24,l[1+d]=u>>>16&255,l[2+d]=u>>>8&255,l[3+d]=255&u},i.ip=function(l,u,d,f){for(var h=0,m=0,A=6;A>=0;A-=2){for(var g=0;g<=24;g+=8)h<<=1,h|=u>>>g+A&1;for(g=0;g<=24;g+=8)h<<=1,h|=l>>>g+A&1}for(A=6;A>=0;A-=2){for(g=1;g<=25;g+=8)m<<=1,m|=u>>>g+A&1;for(g=1;g<=25;g+=8)m<<=1,m|=l>>>g+A&1}d[f+0]=h>>>0,d[f+1]=m>>>0},i.rip=function(l,u,d,f){for(var h=0,m=0,A=0;A<4;A++)for(var g=24;g>=0;g-=8)h<<=1,h|=u>>>g+A&1,h<<=1,h|=l>>>g+A&1;for(A=4;A<8;A++)for(g=24;g>=0;g-=8)m<<=1,m|=u>>>g+A&1,m<<=1,m|=l>>>g+A&1;d[f+0]=h>>>0,d[f+1]=m>>>0},i.pc1=function(l,u,d,f){for(var h=0,m=0,A=7;A>=5;A--){for(var g=0;g<=24;g+=8)h<<=1,h|=u>>g+A&1;for(g=0;g<=24;g+=8)h<<=1,h|=l>>g+A&1}for(g=0;g<=24;g+=8)h<<=1,h|=u>>g+A&1;for(A=1;A<=3;A++){for(g=0;g<=24;g+=8)m<<=1,m|=u>>g+A&1;for(g=0;g<=24;g+=8)m<<=1,m|=l>>g+A&1}for(g=0;g<=24;g+=8)m<<=1,m|=l>>g+A&1;d[f+0]=h>>>0,d[f+1]=m>>>0},i.r28shl=function(l,u){return l<<u&268435455|l>>>28-u};var a=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];i.pc2=function(l,u,d,f){for(var h=0,m=0,A=a.length>>>1,g=0;g<A;g++)h<<=1,h|=l>>>a[g]&1;for(g=A;g<a.length;g++)m<<=1,m|=u>>>a[g]&1;d[f+0]=h>>>0,d[f+1]=m>>>0},i.expand=function(l,u,d){var f=0,h=0;f=(1&l)<<5|l>>>27;for(var m=23;m>=15;m-=4)f<<=6,f|=l>>>m&63;for(m=11;m>=3;m-=4)h|=l>>>m&63,h<<=6;h|=(31&l)<<1|l>>>31,u[d+0]=f>>>0,u[d+1]=h>>>0};var o=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];i.substitute=function(l,u){for(var d=0,f=0;f<4;f++)d<<=4,d|=o[64*f+(l>>>18-6*f&63)];for(f=0;f<4;f++)d<<=4,d|=o[256+64*f+(u>>>18-6*f&63)];return d>>>0};var c=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];i.permute=function(l){for(var u=0,d=0;d<c.length;d++)u<<=1,u|=l>>>c[d]&1;return u>>>0},i.padSplit=function(l,u,d){for(var f=l.toString(2);f.length<u;)f="0"+f;for(var h=[],m=0;m<u;m+=d)h.push(f.slice(m,m+d));return h.join(" ")}},{}],400:[function(n,s,i){(function(a){(function(){var o=n("./lib/generatePrime"),c=n("./lib/primes.json"),l=n("./lib/dh"),u={binary:!0,hex:!0,base64:!0};i.DiffieHellmanGroup=i.createDiffieHellmanGroup=i.getDiffieHellman=function(d){var f=new a(c[d].prime,"hex"),h=new a(c[d].gen,"hex");return new l(f,h)},i.createDiffieHellman=i.DiffieHellman=function d(f,h,m,A){return a.isBuffer(h)||u[h]===void 0?d(f,"binary",h,m):(h=h||"binary",A=A||"binary",m=m||new a([2]),a.isBuffer(m)||(m=new a(m,A)),typeof f=="number"?new l(o(f,m),m,!0):(a.isBuffer(f)||(f=new a(f,h)),new l(f,m,!0)))}}).call(this)}).call(this,n("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(n,s,i){(function(a){(function(){var o=n("bn.js"),c=new(n("miller-rabin")),l=new o(24),u=new o(11),d=new o(10),f=new o(3),h=new o(7),m=n("./generatePrime"),A=n("randombytes");function g(y,N){return N=N||"utf8",a.isBuffer(y)||(y=new a(y,N)),this._pub=new o(y),this}function p(y,N){return N=N||"utf8",a.isBuffer(y)||(y=new a(y,N)),this._priv=new o(y),this}s.exports=x;var b={};function x(y,N,P){this.setGenerator(N),this.__prime=new o(y),this._prime=o.mont(this.__prime),this._primeLen=y.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,P?(this.setPublicKey=g,this.setPrivateKey=p):this._primeCode=8}function v(y,N){var P=new a(y.toArray());return N?P.toString(N):P}Object.defineProperty(x.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(y,N){var P=N.toString("hex"),M=[P,y.toString(16)].join("_");if(M in b)return b[M];var k,D=0;if(y.isEven()||!m.simpleSieve||!m.fermatTest(y)||!c.test(y))return D+=1,D+=P==="02"||P==="05"?8:4,b[M]=D,D;switch(c.test(y.shrn(1))||(D+=2),P){case"02":y.mod(l).cmp(u)&&(D+=8);break;case"05":(k=y.mod(d)).cmp(f)&&k.cmp(h)&&(D+=8);break;default:D+=4}return b[M]=D,D}(this.__prime,this.__gen)),this._primeCode}}),x.prototype.generateKeys=function(){return this._priv||(this._priv=new o(A(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},x.prototype.computeSecret=function(y){var N=(y=(y=new o(y)).toRed(this._prime)).redPow(this._priv).fromRed(),P=new a(N.toArray()),M=this.getPrime();if(P.length<M.length){var k=new a(M.length-P.length);k.fill(0),P=a.concat([k,P])}return P},x.prototype.getPublicKey=function(y){return v(this._pub,y)},x.prototype.getPrivateKey=function(y){return v(this._priv,y)},x.prototype.getPrime=function(y){return v(this.__prime,y)},x.prototype.getGenerator=function(y){return v(this._gen,y)},x.prototype.setGenerator=function(y,N){return N=N||"utf8",a.isBuffer(y)||(y=new a(y,N)),this.__gen=y,this._gen=new o(y),this}}).call(this)}).call(this,n("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(n,s,i){var a=n("randombytes");s.exports=y,y.simpleSieve=x,y.fermatTest=v;var o=n("bn.js"),c=new o(24),l=new(n("miller-rabin")),u=new o(1),d=new o(2),f=new o(5),h=(new o(16),new o(8),new o(10)),m=new o(3),A=(new o(7),new o(11)),g=new o(4),p=(new o(12),null);function b(){if(p!==null)return p;var N=[];N[0]=2;for(var P=1,M=3;M<1048576;M+=2){for(var k=Math.ceil(Math.sqrt(M)),D=0;D<P&&N[D]<=k&&M%N[D]!=0;D++);P!==D&&N[D]<=k||(N[P++]=M)}return p=N,N}function x(N){for(var P=b(),M=0;M<P.length;M++)if(N.modn(P[M])===0)return N.cmpn(P[M])===0;return!0}function v(N){var P=o.mont(N);return d.toRed(P).redPow(N.subn(1)).fromRed().cmpn(1)===0}function y(N,P){if(N<16)return new o(P===2||P===5?[140,123]:[140,39]);var M,k;for(P=new o(P);;){for(M=new o(a(Math.ceil(N/8)));M.bitLength()>N;)M.ishrn(1);if(M.isEven()&&M.iadd(u),M.testn(1)||M.iadd(d),P.cmp(d)){if(!P.cmp(f))for(;M.mod(h).cmp(m);)M.iadd(g)}else for(;M.mod(c).cmp(A);)M.iadd(g);if(x(k=M.shrn(1))&&x(M)&&v(k)&&v(M)&&l.test(k)&&l.test(M))return M}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(n,s,i){s.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(n,s,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],405:[function(n,s,i){var a=i;a.version=n("../package.json").version,a.utils=n("./elliptic/utils"),a.rand=n("brorand"),a.curve=n("./elliptic/curve"),a.curves=n("./elliptic/curves"),a.ec=n("./elliptic/ec"),a.eddsa=n("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(n,s,i){var a=n("bn.js"),o=n("../utils"),c=o.getNAF,l=o.getJSF,u=o.assert;function d(h,m){this.type=h,this.p=new a(m.p,16),this.red=m.prime?a.red(m.prime):a.mont(this.p),this.zero=new a(0).toRed(this.red),this.one=new a(1).toRed(this.red),this.two=new a(2).toRed(this.red),this.n=m.n&&new a(m.n,16),this.g=m.g&&this.pointFromJSON(m.g,m.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var A=this.n&&this.p.div(this.n);!A||A.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function f(h,m){this.curve=h,this.type=m,this.precomputed=null}s.exports=d,d.prototype.point=function(){throw new Error("Not implemented")},d.prototype.validate=function(){throw new Error("Not implemented")},d.prototype._fixedNafMul=function(h,m){u(h.precomputed);var A=h._getDoubles(),g=c(m,1,this._bitLength),p=(1<<A.step+1)-(A.step%2==0?2:1);p/=3;var b,x,v=[];for(b=0;b<g.length;b+=A.step){x=0;for(var y=b+A.step-1;y>=b;y--)x=(x<<1)+g[y];v.push(x)}for(var N=this.jpoint(null,null,null),P=this.jpoint(null,null,null),M=p;M>0;M--){for(b=0;b<v.length;b++)(x=v[b])===M?P=P.mixedAdd(A.points[b]):x===-M&&(P=P.mixedAdd(A.points[b].neg()));N=N.add(P)}return N.toP()},d.prototype._wnafMul=function(h,m){var A=4,g=h._getNAFPoints(A);A=g.wnd;for(var p=g.points,b=c(m,A,this._bitLength),x=this.jpoint(null,null,null),v=b.length-1;v>=0;v--){for(var y=0;v>=0&&b[v]===0;v--)y++;if(v>=0&&y++,x=x.dblp(y),v<0)break;var N=b[v];u(N!==0),x=h.type==="affine"?N>0?x.mixedAdd(p[N-1>>1]):x.mixedAdd(p[-N-1>>1].neg()):N>0?x.add(p[N-1>>1]):x.add(p[-N-1>>1].neg())}return h.type==="affine"?x.toP():x},d.prototype._wnafMulAdd=function(h,m,A,g,p){var b,x,v,y=this._wnafT1,N=this._wnafT2,P=this._wnafT3,M=0;for(b=0;b<g;b++){var k=(v=m[b])._getNAFPoints(h);y[b]=k.wnd,N[b]=k.points}for(b=g-1;b>=1;b-=2){var D=b-1,O=b;if(y[D]===1&&y[O]===1){var L=[m[D],null,null,m[O]];m[D].y.cmp(m[O].y)===0?(L[1]=m[D].add(m[O]),L[2]=m[D].toJ().mixedAdd(m[O].neg())):m[D].y.cmp(m[O].y.redNeg())===0?(L[1]=m[D].toJ().mixedAdd(m[O]),L[2]=m[D].add(m[O].neg())):(L[1]=m[D].toJ().mixedAdd(m[O]),L[2]=m[D].toJ().mixedAdd(m[O].neg()));var F=[-3,-1,-5,-7,0,7,5,1,3],_=l(A[D],A[O]);for(M=Math.max(_[0].length,M),P[D]=new Array(M),P[O]=new Array(M),x=0;x<M;x++){var E=0|_[0][x],T=0|_[1][x];P[D][x]=F[3*(E+1)+(T+1)],P[O][x]=0,N[D]=L}}else P[D]=c(A[D],y[D],this._bitLength),P[O]=c(A[O],y[O],this._bitLength),M=Math.max(P[D].length,M),M=Math.max(P[O].length,M)}var w=this.jpoint(null,null,null),C=this._wnafT4;for(b=M;b>=0;b--){for(var j=0;b>=0;){var S=!0;for(x=0;x<g;x++)C[x]=0|P[x][b],C[x]!==0&&(S=!1);if(!S)break;j++,b--}if(b>=0&&j++,w=w.dblp(j),b<0)break;for(x=0;x<g;x++){var I=C[x];I!==0&&(I>0?v=N[x][I-1>>1]:I<0&&(v=N[x][-I-1>>1].neg()),w=v.type==="affine"?w.mixedAdd(v):w.add(v))}}for(b=0;b<g;b++)N[b]=null;return p?w:w.toP()},d.BasePoint=f,f.prototype.eq=function(){throw new Error("Not implemented")},f.prototype.validate=function(){return this.curve.validate(this)},d.prototype.decodePoint=function(h,m){h=o.toArray(h,m);var A=this.p.byteLength();if((h[0]===4||h[0]===6||h[0]===7)&&h.length-1==2*A)return h[0]===6?u(h[h.length-1]%2==0):h[0]===7&&u(h[h.length-1]%2==1),this.point(h.slice(1,1+A),h.slice(1+A,1+2*A));if((h[0]===2||h[0]===3)&&h.length-1===A)return this.pointFromX(h.slice(1,1+A),h[0]===3);throw new Error("Unknown point format")},f.prototype.encodeCompressed=function(h){return this.encode(h,!0)},f.prototype._encode=function(h){var m=this.curve.p.byteLength(),A=this.getX().toArray("be",m);return h?[this.getY().isEven()?2:3].concat(A):[4].concat(A,this.getY().toArray("be",m))},f.prototype.encode=function(h,m){return o.encode(this._encode(m),h)},f.prototype.precompute=function(h){if(this.precomputed)return this;var m={doubles:null,naf:null,beta:null};return m.naf=this._getNAFPoints(8),m.doubles=this._getDoubles(4,h),m.beta=this._getBeta(),this.precomputed=m,this},f.prototype._hasDoubles=function(h){if(!this.precomputed)return!1;var m=this.precomputed.doubles;return!!m&&m.points.length>=Math.ceil((h.bitLength()+1)/m.step)},f.prototype._getDoubles=function(h,m){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var A=[this],g=this,p=0;p<m;p+=h){for(var b=0;b<h;b++)g=g.dbl();A.push(g)}return{step:h,points:A}},f.prototype._getNAFPoints=function(h){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var m=[this],A=(1<<h)-1,g=A===1?null:this.dbl(),p=1;p<A;p++)m[p]=m[p-1].add(g);return{wnd:h,points:m}},f.prototype._getBeta=function(){return null},f.prototype.dblp=function(h){for(var m=this,A=0;A<h;A++)m=m.dbl();return m}},{"../utils":419,"bn.js":420}],407:[function(n,s,i){var a=n("../utils"),o=n("bn.js"),c=n("inherits"),l=n("./base"),u=a.assert;function d(h){this.twisted=(0|h.a)!=1,this.mOneA=this.twisted&&(0|h.a)==-1,this.extended=this.mOneA,l.call(this,"edwards",h),this.a=new o(h.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(h.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(h.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),u(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|h.c)==1}function f(h,m,A,g,p){l.BasePoint.call(this,h,"projective"),m===null&&A===null&&g===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(m,16),this.y=new o(A,16),this.z=g?new o(g,16):this.curve.one,this.t=p&&new o(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}c(d,l),s.exports=d,d.prototype._mulA=function(h){return this.mOneA?h.redNeg():this.a.redMul(h)},d.prototype._mulC=function(h){return this.oneC?h:this.c.redMul(h)},d.prototype.jpoint=function(h,m,A,g){return this.point(h,m,A,g)},d.prototype.pointFromX=function(h,m){(h=new o(h,16)).red||(h=h.toRed(this.red));var A=h.redSqr(),g=this.c2.redSub(this.a.redMul(A)),p=this.one.redSub(this.c2.redMul(this.d).redMul(A)),b=g.redMul(p.redInvm()),x=b.redSqrt();if(x.redSqr().redSub(b).cmp(this.zero)!==0)throw new Error("invalid point");var v=x.fromRed().isOdd();return(m&&!v||!m&&v)&&(x=x.redNeg()),this.point(h,x)},d.prototype.pointFromY=function(h,m){(h=new o(h,16)).red||(h=h.toRed(this.red));var A=h.redSqr(),g=A.redSub(this.c2),p=A.redMul(this.d).redMul(this.c2).redSub(this.a),b=g.redMul(p.redInvm());if(b.cmp(this.zero)===0){if(m)throw new Error("invalid point");return this.point(this.zero,h)}var x=b.redSqrt();if(x.redSqr().redSub(b).cmp(this.zero)!==0)throw new Error("invalid point");return x.fromRed().isOdd()!==m&&(x=x.redNeg()),this.point(x,h)},d.prototype.validate=function(h){if(h.isInfinity())return!0;h.normalize();var m=h.x.redSqr(),A=h.y.redSqr(),g=m.redMul(this.a).redAdd(A),p=this.c2.redMul(this.one.redAdd(this.d.redMul(m).redMul(A)));return g.cmp(p)===0},c(f,l.BasePoint),d.prototype.pointFromJSON=function(h){return f.fromJSON(this,h)},d.prototype.point=function(h,m,A,g){return new f(this,h,m,A,g)},f.fromJSON=function(h,m){return new f(h,m[0],m[1],m[2])},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},f.prototype._extDbl=function(){var h=this.x.redSqr(),m=this.y.redSqr(),A=this.z.redSqr();A=A.redIAdd(A);var g=this.curve._mulA(h),p=this.x.redAdd(this.y).redSqr().redISub(h).redISub(m),b=g.redAdd(m),x=b.redSub(A),v=g.redSub(m),y=p.redMul(x),N=b.redMul(v),P=p.redMul(v),M=x.redMul(b);return this.curve.point(y,N,M,P)},f.prototype._projDbl=function(){var h,m,A,g,p,b,x=this.x.redAdd(this.y).redSqr(),v=this.x.redSqr(),y=this.y.redSqr();if(this.curve.twisted){var N=(g=this.curve._mulA(v)).redAdd(y);this.zOne?(h=x.redSub(v).redSub(y).redMul(N.redSub(this.curve.two)),m=N.redMul(g.redSub(y)),A=N.redSqr().redSub(N).redSub(N)):(p=this.z.redSqr(),b=N.redSub(p).redISub(p),h=x.redSub(v).redISub(y).redMul(b),m=N.redMul(g.redSub(y)),A=N.redMul(b))}else g=v.redAdd(y),p=this.curve._mulC(this.z).redSqr(),b=g.redSub(p).redSub(p),h=this.curve._mulC(x.redISub(g)).redMul(b),m=this.curve._mulC(g).redMul(v.redISub(y)),A=g.redMul(b);return this.curve.point(h,m,A)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},f.prototype._extAdd=function(h){var m=this.y.redSub(this.x).redMul(h.y.redSub(h.x)),A=this.y.redAdd(this.x).redMul(h.y.redAdd(h.x)),g=this.t.redMul(this.curve.dd).redMul(h.t),p=this.z.redMul(h.z.redAdd(h.z)),b=A.redSub(m),x=p.redSub(g),v=p.redAdd(g),y=A.redAdd(m),N=b.redMul(x),P=v.redMul(y),M=b.redMul(y),k=x.redMul(v);return this.curve.point(N,P,k,M)},f.prototype._projAdd=function(h){var m,A,g=this.z.redMul(h.z),p=g.redSqr(),b=this.x.redMul(h.x),x=this.y.redMul(h.y),v=this.curve.d.redMul(b).redMul(x),y=p.redSub(v),N=p.redAdd(v),P=this.x.redAdd(this.y).redMul(h.x.redAdd(h.y)).redISub(b).redISub(x),M=g.redMul(y).redMul(P);return this.curve.twisted?(m=g.redMul(N).redMul(x.redSub(this.curve._mulA(b))),A=y.redMul(N)):(m=g.redMul(N).redMul(x.redSub(b)),A=this.curve._mulC(y).redMul(N)),this.curve.point(M,m,A)},f.prototype.add=function(h){return this.isInfinity()?h:h.isInfinity()?this:this.curve.extended?this._extAdd(h):this._projAdd(h)},f.prototype.mul=function(h){return this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve._wnafMul(this,h)},f.prototype.mulAdd=function(h,m,A){return this.curve._wnafMulAdd(1,[this,m],[h,A],2,!1)},f.prototype.jmulAdd=function(h,m,A){return this.curve._wnafMulAdd(1,[this,m],[h,A],2,!0)},f.prototype.normalize=function(){if(this.zOne)return this;var h=this.z.redInvm();return this.x=this.x.redMul(h),this.y=this.y.redMul(h),this.t&&(this.t=this.t.redMul(h)),this.z=this.curve.one,this.zOne=!0,this},f.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},f.prototype.getX=function(){return this.normalize(),this.x.fromRed()},f.prototype.getY=function(){return this.normalize(),this.y.fromRed()},f.prototype.eq=function(h){return this===h||this.getX().cmp(h.getX())===0&&this.getY().cmp(h.getY())===0},f.prototype.eqXToP=function(h){var m=h.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(m)===0)return!0;for(var A=h.clone(),g=this.curve.redN.redMul(this.z);;){if(A.iadd(this.curve.n),A.cmp(this.curve.p)>=0)return!1;if(m.redIAdd(g),this.x.cmp(m)===0)return!0}},f.prototype.toP=f.prototype.normalize,f.prototype.mixedAdd=f.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(n,s,i){var a=i;a.base=n("./base"),a.short=n("./short"),a.mont=n("./mont"),a.edwards=n("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(n,s,i){var a=n("bn.js"),o=n("inherits"),c=n("./base"),l=n("../utils");function u(f){c.call(this,"mont",f),this.a=new a(f.a,16).toRed(this.red),this.b=new a(f.b,16).toRed(this.red),this.i4=new a(4).toRed(this.red).redInvm(),this.two=new a(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function d(f,h,m){c.BasePoint.call(this,f,"projective"),h===null&&m===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new a(h,16),this.z=new a(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(u,c),s.exports=u,u.prototype.validate=function(f){var h=f.normalize().x,m=h.redSqr(),A=m.redMul(h).redAdd(m.redMul(this.a)).redAdd(h);return A.redSqrt().redSqr().cmp(A)===0},o(d,c.BasePoint),u.prototype.decodePoint=function(f,h){return this.point(l.toArray(f,h),1)},u.prototype.point=function(f,h){return new d(this,f,h)},u.prototype.pointFromJSON=function(f){return d.fromJSON(this,f)},d.prototype.precompute=function(){},d.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},d.fromJSON=function(f,h){return new d(f,h[0],h[1]||f.one)},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.z.cmpn(0)===0},d.prototype.dbl=function(){var f=this.x.redAdd(this.z).redSqr(),h=this.x.redSub(this.z).redSqr(),m=f.redSub(h),A=f.redMul(h),g=m.redMul(h.redAdd(this.curve.a24.redMul(m)));return this.curve.point(A,g)},d.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.diffAdd=function(f,h){var m=this.x.redAdd(this.z),A=this.x.redSub(this.z),g=f.x.redAdd(f.z),p=f.x.redSub(f.z).redMul(m),b=g.redMul(A),x=h.z.redMul(p.redAdd(b).redSqr()),v=h.x.redMul(p.redISub(b).redSqr());return this.curve.point(x,v)},d.prototype.mul=function(f){for(var h=f.clone(),m=this,A=this.curve.point(null,null),g=[];h.cmpn(0)!==0;h.iushrn(1))g.push(h.andln(1));for(var p=g.length-1;p>=0;p--)g[p]===0?(m=m.diffAdd(A,this),A=A.dbl()):(A=m.diffAdd(A,this),m=m.dbl());return A},d.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.eq=function(f){return this.getX().cmp(f.getX())===0},d.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},d.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(n,s,i){var a=n("../utils"),o=n("bn.js"),c=n("inherits"),l=n("./base"),u=a.assert;function d(m){l.call(this,"short",m),this.a=new o(m.a,16).toRed(this.red),this.b=new o(m.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(m),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function f(m,A,g,p){l.BasePoint.call(this,m,"affine"),A===null&&g===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(A,16),this.y=new o(g,16),p&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(m,A,g,p){l.BasePoint.call(this,m,"jacobian"),A===null&&g===null&&p===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(A,16),this.y=new o(g,16),this.z=new o(p,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}c(d,l),s.exports=d,d.prototype._getEndomorphism=function(m){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var A,g;if(m.beta)A=new o(m.beta,16).toRed(this.red);else{var p=this._getEndoRoots(this.p);A=(A=p[0].cmp(p[1])<0?p[0]:p[1]).toRed(this.red)}if(m.lambda)g=new o(m.lambda,16);else{var b=this._getEndoRoots(this.n);this.g.mul(b[0]).x.cmp(this.g.x.redMul(A))===0?g=b[0]:(g=b[1],u(this.g.mul(g).x.cmp(this.g.x.redMul(A))===0))}return{beta:A,lambda:g,basis:m.basis?m.basis.map(function(x){return{a:new o(x.a,16),b:new o(x.b,16)}}):this._getEndoBasis(g)}}},d.prototype._getEndoRoots=function(m){var A=m===this.p?this.red:o.mont(m),g=new o(2).toRed(A).redInvm(),p=g.redNeg(),b=new o(3).toRed(A).redNeg().redSqrt().redMul(g);return[p.redAdd(b).fromRed(),p.redSub(b).fromRed()]},d.prototype._getEndoBasis=function(m){for(var A,g,p,b,x,v,y,N,P,M=this.n.ushrn(Math.floor(this.n.bitLength()/2)),k=m,D=this.n.clone(),O=new o(1),L=new o(0),F=new o(0),_=new o(1),E=0;k.cmpn(0)!==0;){var T=D.div(k);N=D.sub(T.mul(k)),P=F.sub(T.mul(O));var w=_.sub(T.mul(L));if(!p&&N.cmp(M)<0)A=y.neg(),g=O,p=N.neg(),b=P;else if(p&&++E==2)break;y=N,D=k,k=N,F=O,O=P,_=L,L=w}x=N.neg(),v=P;var C=p.sqr().add(b.sqr());return x.sqr().add(v.sqr()).cmp(C)>=0&&(x=A,v=g),p.negative&&(p=p.neg(),b=b.neg()),x.negative&&(x=x.neg(),v=v.neg()),[{a:p,b},{a:x,b:v}]},d.prototype._endoSplit=function(m){var A=this.endo.basis,g=A[0],p=A[1],b=p.b.mul(m).divRound(this.n),x=g.b.neg().mul(m).divRound(this.n),v=b.mul(g.a),y=x.mul(p.a),N=b.mul(g.b),P=x.mul(p.b);return{k1:m.sub(v).sub(y),k2:N.add(P).neg()}},d.prototype.pointFromX=function(m,A){(m=new o(m,16)).red||(m=m.toRed(this.red));var g=m.redSqr().redMul(m).redIAdd(m.redMul(this.a)).redIAdd(this.b),p=g.redSqrt();if(p.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var b=p.fromRed().isOdd();return(A&&!b||!A&&b)&&(p=p.redNeg()),this.point(m,p)},d.prototype.validate=function(m){if(m.inf)return!0;var A=m.x,g=m.y,p=this.a.redMul(A),b=A.redSqr().redMul(A).redIAdd(p).redIAdd(this.b);return g.redSqr().redISub(b).cmpn(0)===0},d.prototype._endoWnafMulAdd=function(m,A,g){for(var p=this._endoWnafT1,b=this._endoWnafT2,x=0;x<m.length;x++){var v=this._endoSplit(A[x]),y=m[x],N=y._getBeta();v.k1.negative&&(v.k1.ineg(),y=y.neg(!0)),v.k2.negative&&(v.k2.ineg(),N=N.neg(!0)),p[2*x]=y,p[2*x+1]=N,b[2*x]=v.k1,b[2*x+1]=v.k2}for(var P=this._wnafMulAdd(1,p,b,2*x,g),M=0;M<2*x;M++)p[M]=null,b[M]=null;return P},c(f,l.BasePoint),d.prototype.point=function(m,A,g){return new f(this,m,A,g)},d.prototype.pointFromJSON=function(m,A){return f.fromJSON(this,m,A)},f.prototype._getBeta=function(){if(this.curve.endo){var m=this.precomputed;if(m&&m.beta)return m.beta;var A=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(m){var g=this.curve,p=function(b){return g.point(b.x.redMul(g.endo.beta),b.y)};m.beta=A,A.precomputed={beta:null,naf:m.naf&&{wnd:m.naf.wnd,points:m.naf.points.map(p)},doubles:m.doubles&&{step:m.doubles.step,points:m.doubles.points.map(p)}}}return A}},f.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},f.fromJSON=function(m,A,g){typeof A=="string"&&(A=JSON.parse(A));var p=m.point(A[0],A[1],g);if(!A[2])return p;function b(v){return m.point(v[0],v[1],g)}var x=A[2];return p.precomputed={beta:null,doubles:x.doubles&&{step:x.doubles.step,points:[p].concat(x.doubles.points.map(b))},naf:x.naf&&{wnd:x.naf.wnd,points:[p].concat(x.naf.points.map(b))}},p},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.inf},f.prototype.add=function(m){if(this.inf)return m;if(m.inf)return this;if(this.eq(m))return this.dbl();if(this.neg().eq(m))return this.curve.point(null,null);if(this.x.cmp(m.x)===0)return this.curve.point(null,null);var A=this.y.redSub(m.y);A.cmpn(0)!==0&&(A=A.redMul(this.x.redSub(m.x).redInvm()));var g=A.redSqr().redISub(this.x).redISub(m.x),p=A.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,p)},f.prototype.dbl=function(){if(this.inf)return this;var m=this.y.redAdd(this.y);if(m.cmpn(0)===0)return this.curve.point(null,null);var A=this.curve.a,g=this.x.redSqr(),p=m.redInvm(),b=g.redAdd(g).redIAdd(g).redIAdd(A).redMul(p),x=b.redSqr().redISub(this.x.redAdd(this.x)),v=b.redMul(this.x.redSub(x)).redISub(this.y);return this.curve.point(x,v)},f.prototype.getX=function(){return this.x.fromRed()},f.prototype.getY=function(){return this.y.fromRed()},f.prototype.mul=function(m){return m=new o(m,16),this.isInfinity()?this:this._hasDoubles(m)?this.curve._fixedNafMul(this,m):this.curve.endo?this.curve._endoWnafMulAdd([this],[m]):this.curve._wnafMul(this,m)},f.prototype.mulAdd=function(m,A,g){var p=[this,A],b=[m,g];return this.curve.endo?this.curve._endoWnafMulAdd(p,b):this.curve._wnafMulAdd(1,p,b,2)},f.prototype.jmulAdd=function(m,A,g){var p=[this,A],b=[m,g];return this.curve.endo?this.curve._endoWnafMulAdd(p,b,!0):this.curve._wnafMulAdd(1,p,b,2,!0)},f.prototype.eq=function(m){return this===m||this.inf===m.inf&&(this.inf||this.x.cmp(m.x)===0&&this.y.cmp(m.y)===0)},f.prototype.neg=function(m){if(this.inf)return this;var A=this.curve.point(this.x,this.y.redNeg());if(m&&this.precomputed){var g=this.precomputed,p=function(b){return b.neg()};A.precomputed={naf:g.naf&&{wnd:g.naf.wnd,points:g.naf.points.map(p)},doubles:g.doubles&&{step:g.doubles.step,points:g.doubles.points.map(p)}}}return A},f.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},c(h,l.BasePoint),d.prototype.jpoint=function(m,A,g){return new h(this,m,A,g)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var m=this.z.redInvm(),A=m.redSqr(),g=this.x.redMul(A),p=this.y.redMul(A).redMul(m);return this.curve.point(g,p)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(m){if(this.isInfinity())return m;if(m.isInfinity())return this;var A=m.z.redSqr(),g=this.z.redSqr(),p=this.x.redMul(A),b=m.x.redMul(g),x=this.y.redMul(A.redMul(m.z)),v=m.y.redMul(g.redMul(this.z)),y=p.redSub(b),N=x.redSub(v);if(y.cmpn(0)===0)return N.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var P=y.redSqr(),M=P.redMul(y),k=p.redMul(P),D=N.redSqr().redIAdd(M).redISub(k).redISub(k),O=N.redMul(k.redISub(D)).redISub(x.redMul(M)),L=this.z.redMul(m.z).redMul(y);return this.curve.jpoint(D,O,L)},h.prototype.mixedAdd=function(m){if(this.isInfinity())return m.toJ();if(m.isInfinity())return this;var A=this.z.redSqr(),g=this.x,p=m.x.redMul(A),b=this.y,x=m.y.redMul(A).redMul(this.z),v=g.redSub(p),y=b.redSub(x);if(v.cmpn(0)===0)return y.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var N=v.redSqr(),P=N.redMul(v),M=g.redMul(N),k=y.redSqr().redIAdd(P).redISub(M).redISub(M),D=y.redMul(M.redISub(k)).redISub(b.redMul(P)),O=this.z.redMul(v);return this.curve.jpoint(k,D,O)},h.prototype.dblp=function(m){if(m===0)return this;if(this.isInfinity())return this;if(!m)return this.dbl();var A;if(this.curve.zeroA||this.curve.threeA){var g=this;for(A=0;A<m;A++)g=g.dbl();return g}var p=this.curve.a,b=this.curve.tinv,x=this.x,v=this.y,y=this.z,N=y.redSqr().redSqr(),P=v.redAdd(v);for(A=0;A<m;A++){var M=x.redSqr(),k=P.redSqr(),D=k.redSqr(),O=M.redAdd(M).redIAdd(M).redIAdd(p.redMul(N)),L=x.redMul(k),F=O.redSqr().redISub(L.redAdd(L)),_=L.redISub(F),E=O.redMul(_);E=E.redIAdd(E).redISub(D);var T=P.redMul(y);A+1<m&&(N=N.redMul(D)),x=F,y=T,P=E}return this.curve.jpoint(x,P.redMul(b),y)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var m,A,g;if(this.zOne){var p=this.x.redSqr(),b=this.y.redSqr(),x=b.redSqr(),v=this.x.redAdd(b).redSqr().redISub(p).redISub(x);v=v.redIAdd(v);var y=p.redAdd(p).redIAdd(p),N=y.redSqr().redISub(v).redISub(v),P=x.redIAdd(x);P=(P=P.redIAdd(P)).redIAdd(P),m=N,A=y.redMul(v.redISub(N)).redISub(P),g=this.y.redAdd(this.y)}else{var M=this.x.redSqr(),k=this.y.redSqr(),D=k.redSqr(),O=this.x.redAdd(k).redSqr().redISub(M).redISub(D);O=O.redIAdd(O);var L=M.redAdd(M).redIAdd(M),F=L.redSqr(),_=D.redIAdd(D);_=(_=_.redIAdd(_)).redIAdd(_),m=F.redISub(O).redISub(O),A=L.redMul(O.redISub(m)).redISub(_),g=(g=this.y.redMul(this.z)).redIAdd(g)}return this.curve.jpoint(m,A,g)},h.prototype._threeDbl=function(){var m,A,g;if(this.zOne){var p=this.x.redSqr(),b=this.y.redSqr(),x=b.redSqr(),v=this.x.redAdd(b).redSqr().redISub(p).redISub(x);v=v.redIAdd(v);var y=p.redAdd(p).redIAdd(p).redIAdd(this.curve.a),N=y.redSqr().redISub(v).redISub(v);m=N;var P=x.redIAdd(x);P=(P=P.redIAdd(P)).redIAdd(P),A=y.redMul(v.redISub(N)).redISub(P),g=this.y.redAdd(this.y)}else{var M=this.z.redSqr(),k=this.y.redSqr(),D=this.x.redMul(k),O=this.x.redSub(M).redMul(this.x.redAdd(M));O=O.redAdd(O).redIAdd(O);var L=D.redIAdd(D),F=(L=L.redIAdd(L)).redAdd(L);m=O.redSqr().redISub(F),g=this.y.redAdd(this.z).redSqr().redISub(k).redISub(M);var _=k.redSqr();_=(_=(_=_.redIAdd(_)).redIAdd(_)).redIAdd(_),A=O.redMul(L.redISub(m)).redISub(_)}return this.curve.jpoint(m,A,g)},h.prototype._dbl=function(){var m=this.curve.a,A=this.x,g=this.y,p=this.z,b=p.redSqr().redSqr(),x=A.redSqr(),v=g.redSqr(),y=x.redAdd(x).redIAdd(x).redIAdd(m.redMul(b)),N=A.redAdd(A),P=(N=N.redIAdd(N)).redMul(v),M=y.redSqr().redISub(P.redAdd(P)),k=P.redISub(M),D=v.redSqr();D=(D=(D=D.redIAdd(D)).redIAdd(D)).redIAdd(D);var O=y.redMul(k).redISub(D),L=g.redAdd(g).redMul(p);return this.curve.jpoint(M,O,L)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var m=this.x.redSqr(),A=this.y.redSqr(),g=this.z.redSqr(),p=A.redSqr(),b=m.redAdd(m).redIAdd(m),x=b.redSqr(),v=this.x.redAdd(A).redSqr().redISub(m).redISub(p),y=(v=(v=(v=v.redIAdd(v)).redAdd(v).redIAdd(v)).redISub(x)).redSqr(),N=p.redIAdd(p);N=(N=(N=N.redIAdd(N)).redIAdd(N)).redIAdd(N);var P=b.redIAdd(v).redSqr().redISub(x).redISub(y).redISub(N),M=A.redMul(P);M=(M=M.redIAdd(M)).redIAdd(M);var k=this.x.redMul(y).redISub(M);k=(k=k.redIAdd(k)).redIAdd(k);var D=this.y.redMul(P.redMul(N.redISub(P)).redISub(v.redMul(y)));D=(D=(D=D.redIAdd(D)).redIAdd(D)).redIAdd(D);var O=this.z.redAdd(v).redSqr().redISub(g).redISub(y);return this.curve.jpoint(k,D,O)},h.prototype.mul=function(m,A){return m=new o(m,A),this.curve._wnafMul(this,m)},h.prototype.eq=function(m){if(m.type==="affine")return this.eq(m.toJ());if(this===m)return!0;var A=this.z.redSqr(),g=m.z.redSqr();if(this.x.redMul(g).redISub(m.x.redMul(A)).cmpn(0)!==0)return!1;var p=A.redMul(this.z),b=g.redMul(m.z);return this.y.redMul(b).redISub(m.y.redMul(p)).cmpn(0)===0},h.prototype.eqXToP=function(m){var A=this.z.redSqr(),g=m.toRed(this.curve.red).redMul(A);if(this.x.cmp(g)===0)return!0;for(var p=m.clone(),b=this.curve.redN.redMul(A);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(g.redIAdd(b),this.x.cmp(g)===0)return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(n,s,i){var a,o=i,c=n("hash.js"),l=n("./curve"),u=n("./utils").assert;function d(h){h.type==="short"?this.curve=new l.short(h):h.type==="edwards"?this.curve=new l.edwards(h):this.curve=new l.mont(h),this.g=this.curve.g,this.n=this.curve.n,this.hash=h.hash,u(this.g.validate(),"Invalid curve"),u(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function f(h,m){Object.defineProperty(o,h,{configurable:!0,enumerable:!0,get:function(){var A=new d(m);return Object.defineProperty(o,h,{configurable:!0,enumerable:!0,value:A}),A}})}o.PresetCurve=d,f("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:c.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),f("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:c.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),f("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:c.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),f("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:c.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),f("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:c.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),f("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:c.sha256,gRed:!1,g:["9"]}),f("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:c.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{a=n("./precomputed/secp256k1")}catch{a=void 0}f("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:c.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(n,s,i){var a=n("bn.js"),o=n("hmac-drbg"),c=n("../utils"),l=n("../curves"),u=n("brorand"),d=c.assert,f=n("./key"),h=n("./signature");function m(A){if(!(this instanceof m))return new m(A);typeof A=="string"&&(d(Object.prototype.hasOwnProperty.call(l,A),"Unknown curve "+A),A=l[A]),A instanceof l.PresetCurve&&(A={curve:A}),this.curve=A.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=A.curve.g,this.g.precompute(A.curve.n.bitLength()+1),this.hash=A.hash||A.curve.hash}s.exports=m,m.prototype.keyPair=function(A){return new f(this,A)},m.prototype.keyFromPrivate=function(A,g){return f.fromPrivate(this,A,g)},m.prototype.keyFromPublic=function(A,g){return f.fromPublic(this,A,g)},m.prototype.genKeyPair=function(A){A||(A={});for(var g=new o({hash:this.hash,pers:A.pers,persEnc:A.persEnc||"utf8",entropy:A.entropy||u(this.hash.hmacStrength),entropyEnc:A.entropy&&A.entropyEnc||"utf8",nonce:this.n.toArray()}),p=this.n.byteLength(),b=this.n.sub(new a(2));;){var x=new a(g.generate(p));if(!(x.cmp(b)>0))return x.iaddn(1),this.keyFromPrivate(x)}},m.prototype._truncateToN=function(A,g){var p=8*A.byteLength()-this.n.bitLength();return p>0&&(A=A.ushrn(p)),!g&&A.cmp(this.n)>=0?A.sub(this.n):A},m.prototype.sign=function(A,g,p,b){typeof p=="object"&&(b=p,p=null),b||(b={}),g=this.keyFromPrivate(g,p),A=this._truncateToN(new a(A,16));for(var x=this.n.byteLength(),v=g.getPrivate().toArray("be",x),y=A.toArray("be",x),N=new o({hash:this.hash,entropy:v,nonce:y,pers:b.pers,persEnc:b.persEnc||"utf8"}),P=this.n.sub(new a(1)),M=0;;M++){var k=b.k?b.k(M):new a(N.generate(this.n.byteLength()));if(!((k=this._truncateToN(k,!0)).cmpn(1)<=0||k.cmp(P)>=0)){var D=this.g.mul(k);if(!D.isInfinity()){var O=D.getX(),L=O.umod(this.n);if(L.cmpn(0)!==0){var F=k.invm(this.n).mul(L.mul(g.getPrivate()).iadd(A));if((F=F.umod(this.n)).cmpn(0)!==0){var _=(D.getY().isOdd()?1:0)|(O.cmp(L)!==0?2:0);return b.canonical&&F.cmp(this.nh)>0&&(F=this.n.sub(F),_^=1),new h({r:L,s:F,recoveryParam:_})}}}}}},m.prototype.verify=function(A,g,p,b){A=this._truncateToN(new a(A,16)),p=this.keyFromPublic(p,b);var x=(g=new h(g,"hex")).r,v=g.s;if(x.cmpn(1)<0||x.cmp(this.n)>=0||v.cmpn(1)<0||v.cmp(this.n)>=0)return!1;var y,N=v.invm(this.n),P=N.mul(A).umod(this.n),M=N.mul(x).umod(this.n);return this.curve._maxwellTrick?!(y=this.g.jmulAdd(P,p.getPublic(),M)).isInfinity()&&y.eqXToP(x):!(y=this.g.mulAdd(P,p.getPublic(),M)).isInfinity()&&y.getX().umod(this.n).cmp(x)===0},m.prototype.recoverPubKey=function(A,g,p,b){d((3&p)===p,"The recovery param is more than two bits"),g=new h(g,b);var x=this.n,v=new a(A),y=g.r,N=g.s,P=1&p,M=p>>1;if(y.cmp(this.curve.p.umod(this.curve.n))>=0&&M)throw new Error("Unable to find sencond key candinate");y=M?this.curve.pointFromX(y.add(this.curve.n),P):this.curve.pointFromX(y,P);var k=g.r.invm(x),D=x.sub(v).mul(k).umod(x),O=N.mul(k).umod(x);return this.g.mulAdd(D,y,O)},m.prototype.getKeyRecoveryParam=function(A,g,p,b){if((g=new h(g,b)).recoveryParam!==null)return g.recoveryParam;for(var x=0;x<4;x++){var v;try{v=this.recoverPubKey(A,g,x)}catch{continue}if(v.eq(p))return x}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(n,s,i){var a=n("bn.js"),o=n("../utils").assert;function c(l,u){this.ec=l,this.priv=null,this.pub=null,u.priv&&this._importPrivate(u.priv,u.privEnc),u.pub&&this._importPublic(u.pub,u.pubEnc)}s.exports=c,c.fromPublic=function(l,u,d){return u instanceof c?u:new c(l,{pub:u,pubEnc:d})},c.fromPrivate=function(l,u,d){return u instanceof c?u:new c(l,{priv:u,privEnc:d})},c.prototype.validate=function(){var l=this.getPublic();return l.isInfinity()?{result:!1,reason:"Invalid public key"}:l.validate()?l.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},c.prototype.getPublic=function(l,u){return typeof l=="string"&&(u=l,l=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),u?this.pub.encode(u,l):this.pub},c.prototype.getPrivate=function(l){return l==="hex"?this.priv.toString(16,2):this.priv},c.prototype._importPrivate=function(l,u){this.priv=new a(l,u||16),this.priv=this.priv.umod(this.ec.curve.n)},c.prototype._importPublic=function(l,u){if(l.x||l.y)return this.ec.curve.type==="mont"?o(l.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||o(l.x&&l.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(l.x,l.y));this.pub=this.ec.curve.decodePoint(l,u)},c.prototype.derive=function(l){return l.validate()||o(l.validate(),"public point not validated"),l.mul(this.priv).getX()},c.prototype.sign=function(l,u,d){return this.ec.sign(l,this,u,d)},c.prototype.verify=function(l,u){return this.ec.verify(l,u,this)},c.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(n,s,i){var a=n("bn.js"),o=n("../utils"),c=o.assert;function l(m,A){if(m instanceof l)return m;this._importDER(m,A)||(c(m.r&&m.s,"Signature without r or s"),this.r=new a(m.r,16),this.s=new a(m.s,16),m.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=m.recoveryParam)}function u(){this.place=0}function d(m,A){var g=m[A.place++];if(!(128&g))return g;var p=15&g;if(p===0||p>4)return!1;for(var b=0,x=0,v=A.place;x<p;x++,v++)b<<=8,b|=m[v],b>>>=0;return!(b<=127)&&(A.place=v,b)}function f(m){for(var A=0,g=m.length-1;!m[A]&&!(128&m[A+1])&&A<g;)A++;return A===0?m:m.slice(A)}function h(m,A){if(A<128)m.push(A);else{var g=1+(Math.log(A)/Math.LN2>>>3);for(m.push(128|g);--g;)m.push(A>>>(g<<3)&255);m.push(A)}}s.exports=l,l.prototype._importDER=function(m,A){m=o.toArray(m,A);var g=new u;if(m[g.place++]!==48)return!1;var p=d(m,g);if(p===!1||p+g.place!==m.length||m[g.place++]!==2)return!1;var b=d(m,g);if(b===!1)return!1;var x=m.slice(g.place,b+g.place);if(g.place+=b,m[g.place++]!==2)return!1;var v=d(m,g);if(v===!1||m.length!==v+g.place)return!1;var y=m.slice(g.place,v+g.place);if(x[0]===0){if(!(128&x[1]))return!1;x=x.slice(1)}if(y[0]===0){if(!(128&y[1]))return!1;y=y.slice(1)}return this.r=new a(x),this.s=new a(y),this.recoveryParam=null,!0},l.prototype.toDER=function(m){var A=this.r.toArray(),g=this.s.toArray();for(128&A[0]&&(A=[0].concat(A)),128&g[0]&&(g=[0].concat(g)),A=f(A),g=f(g);!(g[0]||128&g[1]);)g=g.slice(1);var p=[2];h(p,A.length),(p=p.concat(A)).push(2),h(p,g.length);var b=p.concat(g),x=[48];return h(x,b.length),x=x.concat(b),o.encode(x,m)}},{"../utils":419,"bn.js":420}],415:[function(n,s,i){var a=n("hash.js"),o=n("../curves"),c=n("../utils"),l=c.assert,u=c.parseBytes,d=n("./key"),f=n("./signature");function h(m){if(l(m==="ed25519","only tested with ed25519 so far"),!(this instanceof h))return new h(m);m=o[m].curve,this.curve=m,this.g=m.g,this.g.precompute(m.n.bitLength()+1),this.pointClass=m.point().constructor,this.encodingLength=Math.ceil(m.n.bitLength()/8),this.hash=a.sha512}s.exports=h,h.prototype.sign=function(m,A){m=u(m);var g=this.keyFromSecret(A),p=this.hashInt(g.messagePrefix(),m),b=this.g.mul(p),x=this.encodePoint(b),v=this.hashInt(x,g.pubBytes(),m).mul(g.priv()),y=p.add(v).umod(this.curve.n);return this.makeSignature({R:b,S:y,Rencoded:x})},h.prototype.verify=function(m,A,g){m=u(m),A=this.makeSignature(A);var p=this.keyFromPublic(g),b=this.hashInt(A.Rencoded(),p.pubBytes(),m),x=this.g.mul(A.S());return A.R().add(p.pub().mul(b)).eq(x)},h.prototype.hashInt=function(){for(var m=this.hash(),A=0;A<arguments.length;A++)m.update(arguments[A]);return c.intFromLE(m.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(m){return d.fromPublic(this,m)},h.prototype.keyFromSecret=function(m){return d.fromSecret(this,m)},h.prototype.makeSignature=function(m){return m instanceof f?m:new f(this,m)},h.prototype.encodePoint=function(m){var A=m.getY().toArray("le",this.encodingLength);return A[this.encodingLength-1]|=m.getX().isOdd()?128:0,A},h.prototype.decodePoint=function(m){var A=(m=c.parseBytes(m)).length-1,g=m.slice(0,A).concat(-129&m[A]),p=(128&m[A])!=0,b=c.intFromLE(g);return this.curve.pointFromY(b,p)},h.prototype.encodeInt=function(m){return m.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(m){return c.intFromLE(m)},h.prototype.isPoint=function(m){return m instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(n,s,i){var a=n("../utils"),o=a.assert,c=a.parseBytes,l=a.cachedProperty;function u(d,f){this.eddsa=d,this._secret=c(f.secret),d.isPoint(f.pub)?this._pub=f.pub:this._pubBytes=c(f.pub)}u.fromPublic=function(d,f){return f instanceof u?f:new u(d,{pub:f})},u.fromSecret=function(d,f){return f instanceof u?f:new u(d,{secret:f})},u.prototype.secret=function(){return this._secret},l(u,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),l(u,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),l(u,"privBytes",function(){var d=this.eddsa,f=this.hash(),h=d.encodingLength-1,m=f.slice(0,d.encodingLength);return m[0]&=248,m[h]&=127,m[h]|=64,m}),l(u,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),l(u,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),l(u,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),u.prototype.sign=function(d){return o(this._secret,"KeyPair can only verify"),this.eddsa.sign(d,this)},u.prototype.verify=function(d,f){return this.eddsa.verify(d,f,this)},u.prototype.getSecret=function(d){return o(this._secret,"KeyPair is public only"),a.encode(this.secret(),d)},u.prototype.getPublic=function(d){return a.encode(this.pubBytes(),d)},s.exports=u},{"../utils":419}],417:[function(n,s,i){var a=n("bn.js"),o=n("../utils"),c=o.assert,l=o.cachedProperty,u=o.parseBytes;function d(f,h){this.eddsa=f,typeof h!="object"&&(h=u(h)),Array.isArray(h)&&(h={R:h.slice(0,f.encodingLength),S:h.slice(f.encodingLength)}),c(h.R&&h.S,"Signature without R or S"),f.isPoint(h.R)&&(this._R=h.R),h.S instanceof a&&(this._S=h.S),this._Rencoded=Array.isArray(h.R)?h.R:h.Rencoded,this._Sencoded=Array.isArray(h.S)?h.S:h.Sencoded}l(d,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),l(d,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),l(d,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),l(d,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),d.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},d.prototype.toHex=function(){return o.encode(this.toBytes(),"hex").toUpperCase()},s.exports=d},{"../utils":419,"bn.js":420}],418:[function(n,s,i){s.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(n,s,i){var a=i,o=n("bn.js"),c=n("minimalistic-assert"),l=n("minimalistic-crypto-utils");a.assert=c,a.toArray=l.toArray,a.zero2=l.zero2,a.toHex=l.toHex,a.encode=l.encode,a.getNAF=function(u,d,f){var h=new Array(Math.max(u.bitLength(),f)+1);h.fill(0);for(var m=1<<d+1,A=u.clone(),g=0;g<h.length;g++){var p,b=A.andln(m-1);A.isOdd()?(p=b>(m>>1)-1?(m>>1)-b:b,A.isubn(p)):p=0,h[g]=p,A.iushrn(1)}return h},a.getJSF=function(u,d){var f=[[],[]];u=u.clone(),d=d.clone();for(var h,m=0,A=0;u.cmpn(-m)>0||d.cmpn(-A)>0;){var g,p,b=u.andln(3)+m&3,x=d.andln(3)+A&3;b===3&&(b=-1),x===3&&(x=-1),g=1&b?(h=u.andln(7)+m&7)!==3&&h!==5||x!==2?b:-b:0,f[0].push(g),p=1&x?(h=d.andln(7)+A&7)!==3&&h!==5||b!==2?x:-x:0,f[1].push(p),2*m===g+1&&(m=1-m),2*A===p+1&&(A=1-A),u.iushrn(1),d.iushrn(1)}return f},a.cachedProperty=function(u,d,f){var h="_"+d;u.prototype[d]=function(){return this[h]!==void 0?this[h]:this[h]=f.call(this)}},a.parseBytes=function(u){return typeof u=="string"?a.toArray(u,"hex"):u},a.intFromLE=function(u){return new o(u,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(n,s,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],421:[function(n,s,i){s.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(n,s,i){var a=Object.create||function(k){var D=function(){};return D.prototype=k,new D},o=Object.keys||function(k){var D=[];for(var O in k)Object.prototype.hasOwnProperty.call(k,O)&&D.push(O);return O},c=Function.prototype.bind||function(k){var D=this;return function(){return D.apply(k,arguments)}};function l(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=a(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}s.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._maxListeners=void 0;var u,d=10;try{var f={};Object.defineProperty&&Object.defineProperty(f,"x",{value:0}),u=f.x===0}catch{u=!1}function h(k){return k._maxListeners===void 0?l.defaultMaxListeners:k._maxListeners}function m(k,D,O){if(D)k.call(O);else for(var L=k.length,F=M(k,L),_=0;_<L;++_)F[_].call(O)}function A(k,D,O,L){if(D)k.call(O,L);else for(var F=k.length,_=M(k,F),E=0;E<F;++E)_[E].call(O,L)}function g(k,D,O,L,F){if(D)k.call(O,L,F);else for(var _=k.length,E=M(k,_),T=0;T<_;++T)E[T].call(O,L,F)}function p(k,D,O,L,F,_){if(D)k.call(O,L,F,_);else for(var E=k.length,T=M(k,E),w=0;w<E;++w)T[w].call(O,L,F,_)}function b(k,D,O,L){if(D)k.apply(O,L);else for(var F=k.length,_=M(k,F),E=0;E<F;++E)_[E].apply(O,L)}function x(k,D,O,L){var F,_,E;if(typeof O!="function")throw new TypeError('"listener" argument must be a function');if((_=k._events)?(_.newListener&&(k.emit("newListener",D,O.listener?O.listener:O),_=k._events),E=_[D]):(_=k._events=a(null),k._eventsCount=0),E){if(typeof E=="function"?E=_[D]=L?[O,E]:[E,O]:L?E.unshift(O):E.push(O),!E.warned&&(F=h(k))&&F>0&&E.length>F){E.warned=!0;var T=new Error("Possible EventEmitter memory leak detected. "+E.length+' "'+String(D)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');T.name="MaxListenersExceededWarning",T.emitter=k,T.type=D,T.count=E.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",T.name,T.message)}}else E=_[D]=O,++k._eventsCount;return k}function v(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var k=new Array(arguments.length),D=0;D<k.length;++D)k[D]=arguments[D];this.listener.apply(this.target,k)}}function y(k,D,O){var L={fired:!1,wrapFn:void 0,target:k,type:D,listener:O},F=c.call(v,L);return F.listener=O,L.wrapFn=F,F}function N(k,D,O){var L=k._events;if(!L)return[];var F=L[D];return F?typeof F=="function"?O?[F.listener||F]:[F]:O?function(_){for(var E=new Array(_.length),T=0;T<E.length;++T)E[T]=_[T].listener||_[T];return E}(F):M(F,F.length):[]}function P(k){var D=this._events;if(D){var O=D[k];if(typeof O=="function")return 1;if(O)return O.length}return 0}function M(k,D){for(var O=new Array(D),L=0;L<D;++L)O[L]=k[L];return O}u?Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(k){if(typeof k!="number"||k<0||k!=k)throw new TypeError('"defaultMaxListeners" must be a positive number');d=k}}):l.defaultMaxListeners=d,l.prototype.setMaxListeners=function(k){if(typeof k!="number"||k<0||isNaN(k))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=k,this},l.prototype.getMaxListeners=function(){return h(this)},l.prototype.emit=function(k){var D,O,L,F,_,E,T=k==="error";if(E=this._events)T=T&&E.error==null;else if(!T)return!1;if(T){if(arguments.length>1&&(D=arguments[1]),D instanceof Error)throw D;var w=new Error('Unhandled "error" event. ('+D+")");throw w.context=D,w}if(!(O=E[k]))return!1;var C=typeof O=="function";switch(L=arguments.length){case 1:m(O,C,this);break;case 2:A(O,C,this,arguments[1]);break;case 3:g(O,C,this,arguments[1],arguments[2]);break;case 4:p(O,C,this,arguments[1],arguments[2],arguments[3]);break;default:for(F=new Array(L-1),_=1;_<L;_++)F[_-1]=arguments[_];b(O,C,this,F)}return!0},l.prototype.addListener=function(k,D){return x(this,k,D,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(k,D){return x(this,k,D,!0)},l.prototype.once=function(k,D){if(typeof D!="function")throw new TypeError('"listener" argument must be a function');return this.on(k,y(this,k,D)),this},l.prototype.prependOnceListener=function(k,D){if(typeof D!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(k,y(this,k,D)),this},l.prototype.removeListener=function(k,D){var O,L,F,_,E;if(typeof D!="function")throw new TypeError('"listener" argument must be a function');if(!(L=this._events))return this;if(!(O=L[k]))return this;if(O===D||O.listener===D)--this._eventsCount==0?this._events=a(null):(delete L[k],L.removeListener&&this.emit("removeListener",k,O.listener||D));else if(typeof O!="function"){for(F=-1,_=O.length-1;_>=0;_--)if(O[_]===D||O[_].listener===D){E=O[_].listener,F=_;break}if(F<0)return this;F===0?O.shift():function(T,w){for(var C=w,j=C+1,S=T.length;j<S;C+=1,j+=1)T[C]=T[j];T.pop()}(O,F),O.length===1&&(L[k]=O[0]),L.removeListener&&this.emit("removeListener",k,E||D)}return this},l.prototype.removeAllListeners=function(k){var D,O,L;if(!(O=this._events))return this;if(!O.removeListener)return arguments.length===0?(this._events=a(null),this._eventsCount=0):O[k]&&(--this._eventsCount==0?this._events=a(null):delete O[k]),this;if(arguments.length===0){var F,_=o(O);for(L=0;L<_.length;++L)(F=_[L])!=="removeListener"&&this.removeAllListeners(F);return this.removeAllListeners("removeListener"),this._events=a(null),this._eventsCount=0,this}if(typeof(D=O[k])=="function")this.removeListener(k,D);else if(D)for(L=D.length-1;L>=0;L--)this.removeListener(k,D[L]);return this},l.prototype.listeners=function(k){return N(this,k,!0)},l.prototype.rawListeners=function(k){return N(this,k,!1)},l.listenerCount=function(k,D){return typeof k.listenerCount=="function"?k.listenerCount(D):P.call(k,D)},l.prototype.listenerCount=P,l.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(n,s,i){var a=n("safe-buffer").Buffer,o=n("md5.js");s.exports=function(c,l,u,d){if(a.isBuffer(c)||(c=a.from(c,"binary")),l&&(a.isBuffer(l)||(l=a.from(l,"binary")),l.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var f=u/8,h=a.alloc(f),m=a.alloc(d||0),A=a.alloc(0);f>0||d>0;){var g=new o;g.update(A),g.update(c),l&&g.update(l),A=g.digest();var p=0;if(f>0){var b=h.length-f;p=Math.min(f,A.length),A.copy(h,b,0,p),f-=p}if(p<A.length&&d>0){var x=m.length-d,v=Math.min(d,A.length-p);A.copy(m,x,p,p+v),d-=v}}return A.fill(0),{key:h,iv:m}}},{"md5.js":450,"safe-buffer":494}],424:[function(n,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=i.ParserOptions=i.parseFile=i.parseStream=i.parseString=i.parse=i.FormatterOptions=i.CsvFormatterStream=i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=void 0;var a=n("@fast-csv/format");Object.defineProperty(i,"format",{enumerable:!0,get:function(){return a.format}}),Object.defineProperty(i,"write",{enumerable:!0,get:function(){return a.write}}),Object.defineProperty(i,"writeToStream",{enumerable:!0,get:function(){return a.writeToStream}}),Object.defineProperty(i,"writeToBuffer",{enumerable:!0,get:function(){return a.writeToBuffer}}),Object.defineProperty(i,"writeToString",{enumerable:!0,get:function(){return a.writeToString}}),Object.defineProperty(i,"writeToPath",{enumerable:!0,get:function(){return a.writeToPath}}),Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return a.CsvFormatterStream}}),Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return a.FormatterOptions}});var o=n("@fast-csv/parse");Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return o.parse}}),Object.defineProperty(i,"parseString",{enumerable:!0,get:function(){return o.parseString}}),Object.defineProperty(i,"parseStream",{enumerable:!0,get:function(){return o.parseStream}}),Object.defineProperty(i,"parseFile",{enumerable:!0,get:function(){return o.parseFile}}),Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return o.ParserOptions}}),Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return o.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(n,s,i){var a=n("safe-buffer").Buffer,o=n("readable-stream").Transform;function c(l){o.call(this),this._block=a.allocUnsafe(l),this._blockSize=l,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n("inherits")(c,o),c.prototype._transform=function(l,u,d){var f=null;try{this.update(l,u)}catch(h){f=h}d(f)},c.prototype._flush=function(l){var u=null;try{this.push(this.digest())}catch(d){u=d}l(u)},c.prototype.update=function(l,u){if(function(g,p){if(!a.isBuffer(g)&&typeof g!="string")throw new TypeError(p+" must be a string or a buffer")}(l,"Data"),this._finalized)throw new Error("Digest already called");a.isBuffer(l)||(l=a.from(l,u));for(var d=this._block,f=0;this._blockOffset+l.length-f>=this._blockSize;){for(var h=this._blockOffset;h<this._blockSize;)d[h++]=l[f++];this._update(),this._blockOffset=0}for(;f<l.length;)d[this._blockOffset++]=l[f++];for(var m=0,A=8*l.length;A>0;++m)this._length[m]+=A,(A=this._length[m]/4294967296|0)>0&&(this._length[m]-=4294967296*A);return this},c.prototype._update=function(){throw new Error("_update is not implemented")},c.prototype.digest=function(l){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var u=this._digest();l!==void 0&&(u=u.toString(l)),this._block.fill(0),this._blockOffset=0;for(var d=0;d<4;++d)this._length[d]=0;return u},c.prototype._digest=function(){throw new Error("_digest is not implemented")},s.exports=c},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(n,s,i){var a=i;a.utils=n("./hash/utils"),a.common=n("./hash/common"),a.sha=n("./hash/sha"),a.ripemd=n("./hash/ripemd"),a.hmac=n("./hash/hmac"),a.sha1=a.sha.sha1,a.sha256=a.sha.sha256,a.sha224=a.sha.sha224,a.sha384=a.sha.sha384,a.sha512=a.sha.sha512,a.ripemd160=a.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(n,s,i){var a=n("./utils"),o=n("minimalistic-assert");function c(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}i.BlockHash=c,c.prototype.update=function(l,u){if(l=a.toArray(l,u),this.pending?this.pending=this.pending.concat(l):this.pending=l,this.pendingTotal+=l.length,this.pending.length>=this._delta8){var d=(l=this.pending).length%this._delta8;this.pending=l.slice(l.length-d,l.length),this.pending.length===0&&(this.pending=null),l=a.join32(l,0,l.length-d,this.endian);for(var f=0;f<l.length;f+=this._delta32)this._update(l,f,f+this._delta32)}return this},c.prototype.digest=function(l){return this.update(this._pad()),o(this.pending===null),this._digest(l)},c.prototype._pad=function(){var l=this.pendingTotal,u=this._delta8,d=u-(l+this.padLength)%u,f=new Array(d+this.padLength);f[0]=128;for(var h=1;h<d;h++)f[h]=0;if(l<<=3,this.endian==="big"){for(var m=8;m<this.padLength;m++)f[h++]=0;f[h++]=0,f[h++]=0,f[h++]=0,f[h++]=0,f[h++]=l>>>24&255,f[h++]=l>>>16&255,f[h++]=l>>>8&255,f[h++]=255&l}else for(f[h++]=255&l,f[h++]=l>>>8&255,f[h++]=l>>>16&255,f[h++]=l>>>24&255,f[h++]=0,f[h++]=0,f[h++]=0,f[h++]=0,m=8;m<this.padLength;m++)f[h++]=0;return f}},{"./utils":437,"minimalistic-assert":453}],428:[function(n,s,i){var a=n("./utils"),o=n("minimalistic-assert");function c(l,u,d){if(!(this instanceof c))return new c(l,u,d);this.Hash=l,this.blockSize=l.blockSize/8,this.outSize=l.outSize/8,this.inner=null,this.outer=null,this._init(a.toArray(u,d))}s.exports=c,c.prototype._init=function(l){l.length>this.blockSize&&(l=new this.Hash().update(l).digest()),o(l.length<=this.blockSize);for(var u=l.length;u<this.blockSize;u++)l.push(0);for(u=0;u<l.length;u++)l[u]^=54;for(this.inner=new this.Hash().update(l),u=0;u<l.length;u++)l[u]^=106;this.outer=new this.Hash().update(l)},c.prototype.update=function(l,u){return this.inner.update(l,u),this},c.prototype.digest=function(l){return this.outer.update(this.inner.digest()),this.outer.digest(l)}},{"./utils":437,"minimalistic-assert":453}],429:[function(n,s,i){var a=n("./utils"),o=n("./common"),c=a.rotl32,l=a.sum32,u=a.sum32_3,d=a.sum32_4,f=o.BlockHash;function h(){if(!(this instanceof h))return new h;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function m(y,N,P,M){return y<=15?N^P^M:y<=31?N&P|~N&M:y<=47?(N|~P)^M:y<=63?N&M|P&~M:N^(P|~M)}function A(y){return y<=15?0:y<=31?1518500249:y<=47?1859775393:y<=63?2400959708:2840853838}function g(y){return y<=15?1352829926:y<=31?1548603684:y<=47?1836072691:y<=63?2053994217:0}a.inherits(h,f),i.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(y,N){for(var P=this.h[0],M=this.h[1],k=this.h[2],D=this.h[3],O=this.h[4],L=P,F=M,_=k,E=D,T=O,w=0;w<80;w++){var C=l(c(d(P,m(w,M,k,D),y[p[w]+N],A(w)),x[w]),O);P=O,O=D,D=c(k,10),k=M,M=C,C=l(c(d(L,m(79-w,F,_,E),y[b[w]+N],g(w)),v[w]),T),L=T,T=E,E=c(_,10),_=F,F=C}C=u(this.h[1],k,E),this.h[1]=u(this.h[2],D,T),this.h[2]=u(this.h[3],O,L),this.h[3]=u(this.h[4],P,F),this.h[4]=u(this.h[0],M,_),this.h[0]=C},h.prototype._digest=function(y){return y==="hex"?a.toHex32(this.h,"little"):a.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],x=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(n,s,i){i.sha1=n("./sha/1"),i.sha224=n("./sha/224"),i.sha256=n("./sha/256"),i.sha384=n("./sha/384"),i.sha512=n("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(n,s,i){var a=n("../utils"),o=n("../common"),c=n("./common"),l=a.rotl32,u=a.sum32,d=a.sum32_5,f=c.ft_1,h=o.BlockHash,m=[1518500249,1859775393,2400959708,3395469782];function A(){if(!(this instanceof A))return new A;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}a.inherits(A,h),s.exports=A,A.blockSize=512,A.outSize=160,A.hmacStrength=80,A.padLength=64,A.prototype._update=function(g,p){for(var b=this.W,x=0;x<16;x++)b[x]=g[p+x];for(;x<b.length;x++)b[x]=l(b[x-3]^b[x-8]^b[x-14]^b[x-16],1);var v=this.h[0],y=this.h[1],N=this.h[2],P=this.h[3],M=this.h[4];for(x=0;x<b.length;x++){var k=~~(x/20),D=d(l(v,5),f(k,y,N,P),M,b[x],m[k]);M=P,P=N,N=l(y,30),y=v,v=D}this.h[0]=u(this.h[0],v),this.h[1]=u(this.h[1],y),this.h[2]=u(this.h[2],N),this.h[3]=u(this.h[3],P),this.h[4]=u(this.h[4],M)},A.prototype._digest=function(g){return g==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(n,s,i){var a=n("../utils"),o=n("./256");function c(){if(!(this instanceof c))return new c;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}a.inherits(c,o),s.exports=c,c.blockSize=512,c.outSize=224,c.hmacStrength=192,c.padLength=64,c.prototype._digest=function(l){return l==="hex"?a.toHex32(this.h.slice(0,7),"big"):a.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(n,s,i){var a=n("../utils"),o=n("../common"),c=n("./common"),l=n("minimalistic-assert"),u=a.sum32,d=a.sum32_4,f=a.sum32_5,h=c.ch32,m=c.maj32,A=c.s0_256,g=c.s1_256,p=c.g0_256,b=c.g1_256,x=o.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;x.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}a.inherits(y,x),s.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(N,P){for(var M=this.W,k=0;k<16;k++)M[k]=N[P+k];for(;k<M.length;k++)M[k]=d(b(M[k-2]),M[k-7],p(M[k-15]),M[k-16]);var D=this.h[0],O=this.h[1],L=this.h[2],F=this.h[3],_=this.h[4],E=this.h[5],T=this.h[6],w=this.h[7];for(l(this.k.length===M.length),k=0;k<M.length;k++){var C=f(w,g(_),h(_,E,T),this.k[k],M[k]),j=u(A(D),m(D,O,L));w=T,T=E,E=_,_=u(F,C),F=L,L=O,O=D,D=u(C,j)}this.h[0]=u(this.h[0],D),this.h[1]=u(this.h[1],O),this.h[2]=u(this.h[2],L),this.h[3]=u(this.h[3],F),this.h[4]=u(this.h[4],_),this.h[5]=u(this.h[5],E),this.h[6]=u(this.h[6],T),this.h[7]=u(this.h[7],w)},y.prototype._digest=function(N){return N==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(n,s,i){var a=n("../utils"),o=n("./512");function c(){if(!(this instanceof c))return new c;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}a.inherits(c,o),s.exports=c,c.blockSize=1024,c.outSize=384,c.hmacStrength=192,c.padLength=128,c.prototype._digest=function(l){return l==="hex"?a.toHex32(this.h.slice(0,12),"big"):a.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(n,s,i){var a=n("../utils"),o=n("../common"),c=n("minimalistic-assert"),l=a.rotr64_hi,u=a.rotr64_lo,d=a.shr64_hi,f=a.shr64_lo,h=a.sum64,m=a.sum64_hi,A=a.sum64_lo,g=a.sum64_4_hi,p=a.sum64_4_lo,b=a.sum64_5_hi,x=a.sum64_5_lo,v=o.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function N(){if(!(this instanceof N))return new N;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function P(j,S,I,R,U){var z=j&I^~j&U;return z<0&&(z+=4294967296),z}function M(j,S,I,R,U,z){var V=S&R^~S&z;return V<0&&(V+=4294967296),V}function k(j,S,I,R,U){var z=j&I^j&U^I&U;return z<0&&(z+=4294967296),z}function D(j,S,I,R,U,z){var V=S&R^S&z^R&z;return V<0&&(V+=4294967296),V}function O(j,S){var I=l(j,S,28)^l(S,j,2)^l(S,j,7);return I<0&&(I+=4294967296),I}function L(j,S){var I=u(j,S,28)^u(S,j,2)^u(S,j,7);return I<0&&(I+=4294967296),I}function F(j,S){var I=l(j,S,14)^l(j,S,18)^l(S,j,9);return I<0&&(I+=4294967296),I}function _(j,S){var I=u(j,S,14)^u(j,S,18)^u(S,j,9);return I<0&&(I+=4294967296),I}function E(j,S){var I=l(j,S,1)^l(j,S,8)^d(j,S,7);return I<0&&(I+=4294967296),I}function T(j,S){var I=u(j,S,1)^u(j,S,8)^f(j,S,7);return I<0&&(I+=4294967296),I}function w(j,S){var I=l(j,S,19)^l(S,j,29)^d(j,S,6);return I<0&&(I+=4294967296),I}function C(j,S){var I=u(j,S,19)^u(S,j,29)^f(j,S,6);return I<0&&(I+=4294967296),I}a.inherits(N,v),s.exports=N,N.blockSize=1024,N.outSize=512,N.hmacStrength=192,N.padLength=128,N.prototype._prepareBlock=function(j,S){for(var I=this.W,R=0;R<32;R++)I[R]=j[S+R];for(;R<I.length;R+=2){var U=w(I[R-4],I[R-3]),z=C(I[R-4],I[R-3]),V=I[R-14],X=I[R-13],$=E(I[R-30],I[R-29]),W=T(I[R-30],I[R-29]),H=I[R-32],Q=I[R-31];I[R]=g(U,z,V,X,$,W,H,Q),I[R+1]=p(U,z,V,X,$,W,H,Q)}},N.prototype._update=function(j,S){this._prepareBlock(j,S);var I=this.W,R=this.h[0],U=this.h[1],z=this.h[2],V=this.h[3],X=this.h[4],$=this.h[5],W=this.h[6],H=this.h[7],Q=this.h[8],G=this.h[9],J=this.h[10],ee=this.h[11],K=this.h[12],ne=this.h[13],ue=this.h[14],se=this.h[15];c(this.k.length===I.length);for(var ie=0;ie<I.length;ie+=2){var q=ue,Z=se,te=F(Q,G),re=_(Q,G),Y=P(Q,G,J,ee,K),oe=M(Q,G,J,ee,K,ne),ae=this.k[ie],ce=this.k[ie+1],de=I[ie],pe=I[ie+1],Ae=b(q,Z,te,re,Y,oe,ae,ce,de,pe),le=x(q,Z,te,re,Y,oe,ae,ce,de,pe);q=O(R,U),Z=L(R,U),te=k(R,U,z,V,X),re=D(R,U,z,V,X,$);var he=m(q,Z,te,re),me=A(q,Z,te,re);ue=K,se=ne,K=J,ne=ee,J=Q,ee=G,Q=m(W,H,Ae,le),G=A(H,H,Ae,le),W=X,H=$,X=z,$=V,z=R,V=U,R=m(Ae,le,he,me),U=A(Ae,le,he,me)}h(this.h,0,R,U),h(this.h,2,z,V),h(this.h,4,X,$),h(this.h,6,W,H),h(this.h,8,Q,G),h(this.h,10,J,ee),h(this.h,12,K,ne),h(this.h,14,ue,se)},N.prototype._digest=function(j){return j==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(n,s,i){var a=n("../utils").rotr32;function o(u,d,f){return u&d^~u&f}function c(u,d,f){return u&d^u&f^d&f}function l(u,d,f){return u^d^f}i.ft_1=function(u,d,f,h){return u===0?o(d,f,h):u===1||u===3?l(d,f,h):u===2?c(d,f,h):void 0},i.ch32=o,i.maj32=c,i.p32=l,i.s0_256=function(u){return a(u,2)^a(u,13)^a(u,22)},i.s1_256=function(u){return a(u,6)^a(u,11)^a(u,25)},i.g0_256=function(u){return a(u,7)^a(u,18)^u>>>3},i.g1_256=function(u){return a(u,17)^a(u,19)^u>>>10}},{"../utils":437}],437:[function(n,s,i){var a=n("minimalistic-assert"),o=n("inherits");function c(f,h){return(64512&f.charCodeAt(h))==55296&&!(h<0||h+1>=f.length)&&(64512&f.charCodeAt(h+1))==56320}function l(f){return(f>>>24|f>>>8&65280|f<<8&16711680|(255&f)<<24)>>>0}function u(f){return f.length===1?"0"+f:f}function d(f){return f.length===7?"0"+f:f.length===6?"00"+f:f.length===5?"000"+f:f.length===4?"0000"+f:f.length===3?"00000"+f:f.length===2?"000000"+f:f.length===1?"0000000"+f:f}i.inherits=o,i.toArray=function(f,h){if(Array.isArray(f))return f.slice();if(!f)return[];var m=[];if(typeof f=="string")if(h){if(h==="hex")for((f=f.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(f="0"+f),g=0;g<f.length;g+=2)m.push(parseInt(f[g]+f[g+1],16))}else for(var A=0,g=0;g<f.length;g++){var p=f.charCodeAt(g);p<128?m[A++]=p:p<2048?(m[A++]=p>>6|192,m[A++]=63&p|128):c(f,g)?(p=65536+((1023&p)<<10)+(1023&f.charCodeAt(++g)),m[A++]=p>>18|240,m[A++]=p>>12&63|128,m[A++]=p>>6&63|128,m[A++]=63&p|128):(m[A++]=p>>12|224,m[A++]=p>>6&63|128,m[A++]=63&p|128)}else for(g=0;g<f.length;g++)m[g]=0|f[g];return m},i.toHex=function(f){for(var h="",m=0;m<f.length;m++)h+=u(f[m].toString(16));return h},i.htonl=l,i.toHex32=function(f,h){for(var m="",A=0;A<f.length;A++){var g=f[A];h==="little"&&(g=l(g)),m+=d(g.toString(16))}return m},i.zero2=u,i.zero8=d,i.join32=function(f,h,m,A){var g=m-h;a(g%4==0);for(var p=new Array(g/4),b=0,x=h;b<p.length;b++,x+=4){var v;v=A==="big"?f[x]<<24|f[x+1]<<16|f[x+2]<<8|f[x+3]:f[x+3]<<24|f[x+2]<<16|f[x+1]<<8|f[x],p[b]=v>>>0}return p},i.split32=function(f,h){for(var m=new Array(4*f.length),A=0,g=0;A<f.length;A++,g+=4){var p=f[A];h==="big"?(m[g]=p>>>24,m[g+1]=p>>>16&255,m[g+2]=p>>>8&255,m[g+3]=255&p):(m[g+3]=p>>>24,m[g+2]=p>>>16&255,m[g+1]=p>>>8&255,m[g]=255&p)}return m},i.rotr32=function(f,h){return f>>>h|f<<32-h},i.rotl32=function(f,h){return f<<h|f>>>32-h},i.sum32=function(f,h){return f+h>>>0},i.sum32_3=function(f,h,m){return f+h+m>>>0},i.sum32_4=function(f,h,m,A){return f+h+m+A>>>0},i.sum32_5=function(f,h,m,A,g){return f+h+m+A+g>>>0},i.sum64=function(f,h,m,A){var g=f[h],p=A+f[h+1]>>>0,b=(p<A?1:0)+m+g;f[h]=b>>>0,f[h+1]=p},i.sum64_hi=function(f,h,m,A){return(h+A>>>0<h?1:0)+f+m>>>0},i.sum64_lo=function(f,h,m,A){return h+A>>>0},i.sum64_4_hi=function(f,h,m,A,g,p,b,x){var v=0,y=h;return v+=(y=y+A>>>0)<h?1:0,v+=(y=y+p>>>0)<p?1:0,f+m+g+b+(v+=(y=y+x>>>0)<x?1:0)>>>0},i.sum64_4_lo=function(f,h,m,A,g,p,b,x){return h+A+p+x>>>0},i.sum64_5_hi=function(f,h,m,A,g,p,b,x,v,y){var N=0,P=h;return N+=(P=P+A>>>0)<h?1:0,N+=(P=P+p>>>0)<p?1:0,N+=(P=P+x>>>0)<x?1:0,f+m+g+b+v+(N+=(P=P+y>>>0)<y?1:0)>>>0},i.sum64_5_lo=function(f,h,m,A,g,p,b,x,v,y){return h+A+p+x+y>>>0},i.rotr64_hi=function(f,h,m){return(h<<32-m|f>>>m)>>>0},i.rotr64_lo=function(f,h,m){return(f<<32-m|h>>>m)>>>0},i.shr64_hi=function(f,h,m){return f>>>m},i.shr64_lo=function(f,h,m){return(f<<32-m|h>>>m)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(n,s,i){var a=n("hash.js"),o=n("minimalistic-crypto-utils"),c=n("minimalistic-assert");function l(u){if(!(this instanceof l))return new l(u);this.hash=u.hash,this.predResist=!!u.predResist,this.outLen=this.hash.outSize,this.minEntropy=u.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var d=o.toArray(u.entropy,u.entropyEnc||"hex"),f=o.toArray(u.nonce,u.nonceEnc||"hex"),h=o.toArray(u.pers,u.persEnc||"hex");c(d.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(d,f,h)}s.exports=l,l.prototype._init=function(u,d,f){var h=u.concat(d).concat(f);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var m=0;m<this.V.length;m++)this.K[m]=0,this.V[m]=1;this._update(h),this._reseed=1,this.reseedInterval=281474976710656},l.prototype._hmac=function(){return new a.hmac(this.hash,this.K)},l.prototype._update=function(u){var d=this._hmac().update(this.V).update([0]);u&&(d=d.update(u)),this.K=d.digest(),this.V=this._hmac().update(this.V).digest(),u&&(this.K=this._hmac().update(this.V).update([1]).update(u).digest(),this.V=this._hmac().update(this.V).digest())},l.prototype.reseed=function(u,d,f,h){typeof d!="string"&&(h=f,f=d,d=null),u=o.toArray(u,d),f=o.toArray(f,h),c(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(u.concat(f||[])),this._reseed=1},l.prototype.generate=function(u,d,f,h){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof d!="string"&&(h=f,f=d,d=null),f&&(f=o.toArray(f,h||"hex"),this._update(f));for(var m=[];m.length<u;)this.V=this._hmac().update(this.V).digest(),m=m.concat(this.V);var A=m.slice(0,u);return this._update(f),this._reseed++,o.encode(A,d)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(n,s,i){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */i.read=function(a,o,c,l,u){var d,f,h=8*u-l-1,m=(1<<h)-1,A=m>>1,g=-7,p=c?u-1:0,b=c?-1:1,x=a[o+p];for(p+=b,d=x&(1<<-g)-1,x>>=-g,g+=h;g>0;d=256*d+a[o+p],p+=b,g-=8);for(f=d&(1<<-g)-1,d>>=-g,g+=l;g>0;f=256*f+a[o+p],p+=b,g-=8);if(d===0)d=1-A;else{if(d===m)return f?NaN:1/0*(x?-1:1);f+=Math.pow(2,l),d-=A}return(x?-1:1)*f*Math.pow(2,d-l)},i.write=function(a,o,c,l,u,d){var f,h,m,A=8*d-u-1,g=(1<<A)-1,p=g>>1,b=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=l?0:d-1,v=l?1:-1,y=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(h=isNaN(o)?1:0,f=g):(f=Math.floor(Math.log(o)/Math.LN2),o*(m=Math.pow(2,-f))<1&&(f--,m*=2),(o+=f+p>=1?b/m:b*Math.pow(2,1-p))*m>=2&&(f++,m/=2),f+p>=g?(h=0,f=g):f+p>=1?(h=(o*m-1)*Math.pow(2,u),f+=p):(h=o*Math.pow(2,p-1)*Math.pow(2,u),f=0));u>=8;a[c+x]=255&h,x+=v,h/=256,u-=8);for(f=f<<u|h,A+=u;A>0;a[c+x]=255&f,x+=v,f/=256,A-=8);a[c+x-v]|=128*y}},{}],440:[function(n,s,i){typeof Object.create=="function"?s.exports=function(a,o){o&&(a.super_=o,a.prototype=Object.create(o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:s.exports=function(a,o){if(o){a.super_=o;var c=function(){};c.prototype=o.prototype,a.prototype=new c,a.prototype.constructor=a}}},{}],441:[function(n,s,i){(function(a,o,c,l,u,d,f,h){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(m){typeof i=="object"&&s!==void 0?s.exports=m():(typeof window<"u"?window:o!==void 0?o:typeof self<"u"?self:this).JSZip=m()})(function(){return function m(A,g,p){function b(y,N){if(!g[y]){if(!A[y]){var P=typeof n=="function"&&n;if(!N&&P)return P(y,!0);if(x)return x(y,!0);var M=new Error("Cannot find module '"+y+"'");throw M.code="MODULE_NOT_FOUND",M}var k=g[y]={exports:{}};A[y][0].call(k.exports,function(D){return b(A[y][1][D]||D)},k,k.exports,m,A,g,p)}return g[y].exports}for(var x=typeof n=="function"&&n,v=0;v<p.length;v++)b(p[v]);return b}({1:[function(m,A,g){var p=m("./utils"),b=m("./support"),x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";g.encode=function(v){for(var y,N,P,M,k,D,O,L=[],F=0,_=v.length,E=_,T=p.getTypeOf(v)!=="string";F<v.length;)E=_-F,P=T?(y=v[F++],N=F<_?v[F++]:0,F<_?v[F++]:0):(y=v.charCodeAt(F++),N=F<_?v.charCodeAt(F++):0,F<_?v.charCodeAt(F++):0),M=y>>2,k=(3&y)<<4|N>>4,D=1<E?(15&N)<<2|P>>6:64,O=2<E?63&P:64,L.push(x.charAt(M)+x.charAt(k)+x.charAt(D)+x.charAt(O));return L.join("")},g.decode=function(v){var y,N,P,M,k,D,O=0,L=0,F="data:";if(v.substr(0,F.length)===F)throw new Error("Invalid base64 input, it looks like a data url.");var _,E=3*(v=v.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(v.charAt(v.length-1)===x.charAt(64)&&E--,v.charAt(v.length-2)===x.charAt(64)&&E--,E%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=b.uint8array?new Uint8Array(0|E):new Array(0|E);O<v.length;)y=x.indexOf(v.charAt(O++))<<2|(M=x.indexOf(v.charAt(O++)))>>4,N=(15&M)<<4|(k=x.indexOf(v.charAt(O++)))>>2,P=(3&k)<<6|(D=x.indexOf(v.charAt(O++))),_[L++]=y,k!==64&&(_[L++]=N),D!==64&&(_[L++]=P);return _}},{"./support":30,"./utils":32}],2:[function(m,A,g){var p=m("./external"),b=m("./stream/DataWorker"),x=m("./stream/Crc32Probe"),v=m("./stream/DataLengthProbe");function y(N,P,M,k,D){this.compressedSize=N,this.uncompressedSize=P,this.crc32=M,this.compression=k,this.compressedContent=D}y.prototype={getContentWorker:function(){var N=new b(p.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new v("data_length")),P=this;return N.on("end",function(){if(this.streamInfo.data_length!==P.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),N},getCompressedWorker:function(){return new b(p.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},y.createWorkerFrom=function(N,P,M){return N.pipe(new x).pipe(new v("uncompressedSize")).pipe(P.compressWorker(M)).pipe(new v("compressedSize")).withStreamInfo("compression",P)},A.exports=y},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(m,A,g){var p=m("./stream/GenericWorker");g.STORE={magic:"\0\0",compressWorker:function(){return new p("STORE compression")},uncompressWorker:function(){return new p("STORE decompression")}},g.DEFLATE=m("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(m,A,g){var p=m("./utils"),b=function(){for(var x,v=[],y=0;y<256;y++){x=y;for(var N=0;N<8;N++)x=1&x?3988292384^x>>>1:x>>>1;v[y]=x}return v}();A.exports=function(x,v){return x!==void 0&&x.length?p.getTypeOf(x)!=="string"?function(y,N,P,M){var k=b,D=0+P;y^=-1;for(var O=0;O<D;O++)y=y>>>8^k[255&(y^N[O])];return-1^y}(0|v,x,x.length):function(y,N,P,M){var k=b,D=0+P;y^=-1;for(var O=0;O<D;O++)y=y>>>8^k[255&(y^N.charCodeAt(O))];return-1^y}(0|v,x,x.length):0}},{"./utils":32}],5:[function(m,A,g){g.base64=!1,g.binary=!1,g.dir=!1,g.createFolders=!0,g.date=null,g.compression=null,g.compressionOptions=null,g.comment=null,g.unixPermissions=null,g.dosPermissions=null},{}],6:[function(m,A,g){var p;p=typeof Promise<"u"?Promise:m("lie"),A.exports={Promise:p}},{lie:37}],7:[function(m,A,g){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",b=m("pako"),x=m("./utils"),v=m("./stream/GenericWorker"),y=p?"uint8array":"array";function N(P,M){v.call(this,"FlateWorker/"+P),this._pako=null,this._pakoAction=P,this._pakoOptions=M,this.meta={}}g.magic="\b\0",x.inherits(N,v),N.prototype.processChunk=function(P){this.meta=P.meta,this._pako===null&&this._createPako(),this._pako.push(x.transformTo(y,P.data),!1)},N.prototype.flush=function(){v.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},N.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this._pako=null},N.prototype._createPako=function(){this._pako=new b[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var P=this;this._pako.onData=function(M){P.push({data:M,meta:P.meta})}},g.compressWorker=function(P){return new N("Deflate",P)},g.uncompressWorker=function(){return new N("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(m,A,g){function p(k,D){var O,L="";for(O=0;O<D;O++)L+=String.fromCharCode(255&k),k>>>=8;return L}function b(k,D,O,L,F,_){var E,T,w=k.file,C=k.compression,j=_!==y.utf8encode,S=x.transformTo("string",_(w.name)),I=x.transformTo("string",y.utf8encode(w.name)),R=w.comment,U=x.transformTo("string",_(R)),z=x.transformTo("string",y.utf8encode(R)),V=I.length!==w.name.length,X=z.length!==R.length,$="",W="",H="",Q=w.dir,G=w.date,J={crc32:0,compressedSize:0,uncompressedSize:0};D&&!O||(J.crc32=k.crc32,J.compressedSize=k.compressedSize,J.uncompressedSize=k.uncompressedSize);var ee=0;D&&(ee|=8),j||!V&&!X||(ee|=2048);var K=0,ne=0;Q&&(K|=16),F==="UNIX"?(ne=798,K|=function(se,ie){var q=se;return se||(q=ie?16893:33204),(65535&q)<<16}(w.unixPermissions,Q)):(ne=20,K|=function(se){return 63&(se||0)}(w.dosPermissions)),E=G.getUTCHours(),E<<=6,E|=G.getUTCMinutes(),E<<=5,E|=G.getUTCSeconds()/2,T=G.getUTCFullYear()-1980,T<<=4,T|=G.getUTCMonth()+1,T<<=5,T|=G.getUTCDate(),V&&(W=p(1,1)+p(N(S),4)+I,$+="up"+p(W.length,2)+W),X&&(H=p(1,1)+p(N(U),4)+z,$+="uc"+p(H.length,2)+H);var ue="";return ue+=`
\0`,ue+=p(ee,2),ue+=C.magic,ue+=p(E,2),ue+=p(T,2),ue+=p(J.crc32,4),ue+=p(J.compressedSize,4),ue+=p(J.uncompressedSize,4),ue+=p(S.length,2),ue+=p($.length,2),{fileRecord:P.LOCAL_FILE_HEADER+ue+S+$,dirRecord:P.CENTRAL_FILE_HEADER+p(ne,2)+ue+p(U.length,2)+"\0\0\0\0"+p(K,4)+p(L,4)+S+$+U}}var x=m("../utils"),v=m("../stream/GenericWorker"),y=m("../utf8"),N=m("../crc32"),P=m("../signature");function M(k,D,O,L){v.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=D,this.zipPlatform=O,this.encodeFileName=L,this.streamFiles=k,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}x.inherits(M,v),M.prototype.push=function(k){var D=k.meta.percent||0,O=this.entriesCount,L=this._sources.length;this.accumulate?this.contentBuffer.push(k):(this.bytesWritten+=k.data.length,v.prototype.push.call(this,{data:k.data,meta:{currentFile:this.currentFile,percent:O?(D+100*(O-L-1))/O:100}}))},M.prototype.openedSource=function(k){this.currentSourceOffset=this.bytesWritten,this.currentFile=k.file.name;var D=this.streamFiles&&!k.file.dir;if(D){var O=b(k,D,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:O.fileRecord,meta:{percent:0}})}else this.accumulate=!0},M.prototype.closedSource=function(k){this.accumulate=!1;var D=this.streamFiles&&!k.file.dir,O=b(k,D,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(O.dirRecord),D)this.push({data:function(L){return P.DATA_DESCRIPTOR+p(L.crc32,4)+p(L.compressedSize,4)+p(L.uncompressedSize,4)}(k),meta:{percent:100}});else for(this.push({data:O.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},M.prototype.flush=function(){for(var k=this.bytesWritten,D=0;D<this.dirRecords.length;D++)this.push({data:this.dirRecords[D],meta:{percent:100}});var O=this.bytesWritten-k,L=function(F,_,E,T,w){var C=x.transformTo("string",w(T));return P.CENTRAL_DIRECTORY_END+"\0\0\0\0"+p(F,2)+p(F,2)+p(_,4)+p(E,4)+p(C.length,2)+C}(this.dirRecords.length,O,k,this.zipComment,this.encodeFileName);this.push({data:L,meta:{percent:100}})},M.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},M.prototype.registerPrevious=function(k){this._sources.push(k);var D=this;return k.on("data",function(O){D.processChunk(O)}),k.on("end",function(){D.closedSource(D.previous.streamInfo),D._sources.length?D.prepareNextSource():D.end()}),k.on("error",function(O){D.error(O)}),this},M.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},M.prototype.error=function(k){var D=this._sources;if(!v.prototype.error.call(this,k))return!1;for(var O=0;O<D.length;O++)try{D[O].error(k)}catch{}return!0},M.prototype.lock=function(){v.prototype.lock.call(this);for(var k=this._sources,D=0;D<k.length;D++)k[D].lock()},A.exports=M},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(m,A,g){var p=m("../compressions"),b=m("./ZipFileWorker");g.generateWorker=function(x,v,y){var N=new b(v.streamFiles,y,v.platform,v.encodeFileName),P=0;try{x.forEach(function(M,k){P++;var D=function(_,E){var T=_||E,w=p[T];if(!w)throw new Error(T+" is not a valid compression method !");return w}(k.options.compression,v.compression),O=k.options.compressionOptions||v.compressionOptions||{},L=k.dir,F=k.date;k._compressWorker(D,O).withStreamInfo("file",{name:M,dir:L,date:F,comment:k.comment||"",unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions}).pipe(N)}),N.entriesCount=P}catch(M){N.error(M)}return N}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(m,A,g){function p(){if(!(this instanceof p))return new p;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var b=new p;for(var x in this)typeof this[x]!="function"&&(b[x]=this[x]);return b}}(p.prototype=m("./object")).loadAsync=m("./load"),p.support=m("./support"),p.defaults=m("./defaults"),p.version="3.10.1",p.loadAsync=function(b,x){return new p().loadAsync(b,x)},p.external=m("./external"),A.exports=p},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(m,A,g){var p=m("./utils"),b=m("./external"),x=m("./utf8"),v=m("./zipEntries"),y=m("./stream/Crc32Probe"),N=m("./nodejsUtils");function P(M){return new b.Promise(function(k,D){var O=M.decompressed.getContentWorker().pipe(new y);O.on("error",function(L){D(L)}).on("end",function(){O.streamInfo.crc32!==M.decompressed.crc32?D(new Error("Corrupted zip : CRC32 mismatch")):k()}).resume()})}A.exports=function(M,k){var D=this;return k=p.extend(k||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:x.utf8decode}),N.isNode&&N.isStream(M)?b.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):p.prepareContent("the loaded zip file",M,!0,k.optimizedBinaryString,k.base64).then(function(O){var L=new v(k);return L.load(O),L}).then(function(O){var L=[b.Promise.resolve(O)],F=O.files;if(k.checkCRC32)for(var _=0;_<F.length;_++)L.push(P(F[_]));return b.Promise.all(L)}).then(function(O){for(var L=O.shift(),F=L.files,_=0;_<F.length;_++){var E=F[_],T=E.fileNameStr,w=p.resolve(E.fileNameStr);D.file(w,E.decompressed,{binary:!0,optimizedBinaryString:!0,date:E.date,dir:E.dir,comment:E.fileCommentStr.length?E.fileCommentStr:null,unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions,createFolders:k.createFolders}),E.dir||(D.file(w).unsafeOriginalName=T)}return L.zipComment.length&&(D.comment=L.zipComment),D})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(m,A,g){var p=m("../utils"),b=m("../stream/GenericWorker");function x(v,y){b.call(this,"Nodejs stream input adapter for "+v),this._upstreamEnded=!1,this._bindStream(y)}p.inherits(x,b),x.prototype._bindStream=function(v){var y=this;(this._stream=v).pause(),v.on("data",function(N){y.push({data:N,meta:{percent:0}})}).on("error",function(N){y.isPaused?this.generatedError=N:y.error(N)}).on("end",function(){y.isPaused?y._upstreamEnded=!0:y.end()})},x.prototype.pause=function(){return!!b.prototype.pause.call(this)&&(this._stream.pause(),!0)},x.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},A.exports=x},{"../stream/GenericWorker":28,"../utils":32}],13:[function(m,A,g){var p=m("readable-stream").Readable;function b(x,v,y){p.call(this,v),this._helper=x;var N=this;x.on("data",function(P,M){N.push(P)||N._helper.pause(),y&&y(M)}).on("error",function(P){N.emit("error",P)}).on("end",function(){N.push(null)})}m("../utils").inherits(b,p),b.prototype._read=function(){this._helper.resume()},A.exports=b},{"../utils":32,"readable-stream":16}],14:[function(m,A,g){A.exports={isNode:c!==void 0,newBufferFrom:function(p,b){if(c.from&&c.from!==Uint8Array.from)return c.from(p,b);if(typeof p=="number")throw new Error('The "data" argument must not be a number');return new c(p,b)},allocBuffer:function(p){if(c.alloc)return c.alloc(p);var b=new c(p);return b.fill(0),b},isBuffer:function(p){return c.isBuffer(p)},isStream:function(p){return p&&typeof p.on=="function"&&typeof p.pause=="function"&&typeof p.resume=="function"}}},{}],15:[function(m,A,g){function p(w,C,j){var S,I=x.getTypeOf(C),R=x.extend(j||{},N);R.date=R.date||new Date,R.compression!==null&&(R.compression=R.compression.toUpperCase()),typeof R.unixPermissions=="string"&&(R.unixPermissions=parseInt(R.unixPermissions,8)),R.unixPermissions&&16384&R.unixPermissions&&(R.dir=!0),R.dosPermissions&&16&R.dosPermissions&&(R.dir=!0),R.dir&&(w=F(w)),R.createFolders&&(S=L(w))&&_.call(this,S,!0);var U=I==="string"&&R.binary===!1&&R.base64===!1;j&&j.binary!==void 0||(R.binary=!U),(C instanceof P&&C.uncompressedSize===0||R.dir||!C||C.length===0)&&(R.base64=!1,R.binary=!0,C="",R.compression="STORE",I="string");var z;z=C instanceof P||C instanceof v?C:D.isNode&&D.isStream(C)?new O(w,C):x.prepareContent(w,C,R.binary,R.optimizedBinaryString,R.base64);var V=new M(w,z,R);this.files[w]=V}var b=m("./utf8"),x=m("./utils"),v=m("./stream/GenericWorker"),y=m("./stream/StreamHelper"),N=m("./defaults"),P=m("./compressedObject"),M=m("./zipObject"),k=m("./generate"),D=m("./nodejsUtils"),O=m("./nodejs/NodejsStreamInputAdapter"),L=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var C=w.lastIndexOf("/");return 0<C?w.substring(0,C):""},F=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},_=function(w,C){return C=C!==void 0?C:N.createFolders,w=F(w),this.files[w]||p.call(this,w,null,{dir:!0,createFolders:C}),this.files[w]};function E(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var C,j,S;for(C in this.files)S=this.files[C],(j=C.slice(this.root.length,C.length))&&C.slice(0,this.root.length)===this.root&&w(j,S)},filter:function(w){var C=[];return this.forEach(function(j,S){w(j,S)&&C.push(S)}),C},file:function(w,C,j){if(arguments.length!==1)return w=this.root+w,p.call(this,w,C,j),this;if(E(w)){var S=w;return this.filter(function(R,U){return!U.dir&&S.test(R)})}var I=this.files[this.root+w];return I&&!I.dir?I:null},folder:function(w){if(!w)return this;if(E(w))return this.filter(function(I,R){return R.dir&&w.test(I)});var C=this.root+w,j=_.call(this,C),S=this.clone();return S.root=j.name,S},remove:function(w){w=this.root+w;var C=this.files[w];if(C||(w.slice(-1)!=="/"&&(w+="/"),C=this.files[w]),C&&!C.dir)delete this.files[w];else for(var j=this.filter(function(I,R){return R.name.slice(0,w.length)===w}),S=0;S<j.length;S++)delete this.files[j[S].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var C,j={};try{if((j=x.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:b.utf8encode})).type=j.type.toLowerCase(),j.compression=j.compression.toUpperCase(),j.type==="binarystring"&&(j.type="string"),!j.type)throw new Error("No output type specified.");x.checkSupport(j.type),j.platform!=="darwin"&&j.platform!=="freebsd"&&j.platform!=="linux"&&j.platform!=="sunos"||(j.platform="UNIX"),j.platform==="win32"&&(j.platform="DOS");var S=j.comment||this.comment||"";C=k.generateWorker(this,j,S)}catch(I){(C=new v("error")).error(I)}return new y(C,j.type||"string",j.mimeType)},generateAsync:function(w,C){return this.generateInternalStream(w).accumulate(C)},generateNodeStream:function(w,C){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(C)}};A.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(m,A,g){A.exports=m("stream")},{stream:void 0}],17:[function(m,A,g){var p=m("./DataReader");function b(x){p.call(this,x);for(var v=0;v<this.data.length;v++)x[v]=255&x[v]}m("../utils").inherits(b,p),b.prototype.byteAt=function(x){return this.data[this.zero+x]},b.prototype.lastIndexOfSignature=function(x){for(var v=x.charCodeAt(0),y=x.charCodeAt(1),N=x.charCodeAt(2),P=x.charCodeAt(3),M=this.length-4;0<=M;--M)if(this.data[M]===v&&this.data[M+1]===y&&this.data[M+2]===N&&this.data[M+3]===P)return M-this.zero;return-1},b.prototype.readAndCheckSignature=function(x){var v=x.charCodeAt(0),y=x.charCodeAt(1),N=x.charCodeAt(2),P=x.charCodeAt(3),M=this.readData(4);return v===M[0]&&y===M[1]&&N===M[2]&&P===M[3]},b.prototype.readData=function(x){if(this.checkOffset(x),x===0)return[];var v=this.data.slice(this.zero+this.index,this.zero+this.index+x);return this.index+=x,v},A.exports=b},{"../utils":32,"./DataReader":18}],18:[function(m,A,g){var p=m("../utils");function b(x){this.data=x,this.length=x.length,this.index=0,this.zero=0}b.prototype={checkOffset:function(x){this.checkIndex(this.index+x)},checkIndex:function(x){if(this.length<this.zero+x||x<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+x+"). Corrupted zip ?")},setIndex:function(x){this.checkIndex(x),this.index=x},skip:function(x){this.setIndex(this.index+x)},byteAt:function(){},readInt:function(x){var v,y=0;for(this.checkOffset(x),v=this.index+x-1;v>=this.index;v--)y=(y<<8)+this.byteAt(v);return this.index+=x,y},readString:function(x){return p.transformTo("string",this.readData(x))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var x=this.readInt(4);return new Date(Date.UTC(1980+(x>>25&127),(x>>21&15)-1,x>>16&31,x>>11&31,x>>5&63,(31&x)<<1))}},A.exports=b},{"../utils":32}],19:[function(m,A,g){var p=m("./Uint8ArrayReader");function b(x){p.call(this,x)}m("../utils").inherits(b,p),b.prototype.readData=function(x){this.checkOffset(x);var v=this.data.slice(this.zero+this.index,this.zero+this.index+x);return this.index+=x,v},A.exports=b},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(m,A,g){var p=m("./DataReader");function b(x){p.call(this,x)}m("../utils").inherits(b,p),b.prototype.byteAt=function(x){return this.data.charCodeAt(this.zero+x)},b.prototype.lastIndexOfSignature=function(x){return this.data.lastIndexOf(x)-this.zero},b.prototype.readAndCheckSignature=function(x){return x===this.readData(4)},b.prototype.readData=function(x){this.checkOffset(x);var v=this.data.slice(this.zero+this.index,this.zero+this.index+x);return this.index+=x,v},A.exports=b},{"../utils":32,"./DataReader":18}],21:[function(m,A,g){var p=m("./ArrayReader");function b(x){p.call(this,x)}m("../utils").inherits(b,p),b.prototype.readData=function(x){if(this.checkOffset(x),x===0)return new Uint8Array(0);var v=this.data.subarray(this.zero+this.index,this.zero+this.index+x);return this.index+=x,v},A.exports=b},{"../utils":32,"./ArrayReader":17}],22:[function(m,A,g){var p=m("../utils"),b=m("../support"),x=m("./ArrayReader"),v=m("./StringReader"),y=m("./NodeBufferReader"),N=m("./Uint8ArrayReader");A.exports=function(P){var M=p.getTypeOf(P);return p.checkSupport(M),M!=="string"||b.uint8array?M==="nodebuffer"?new y(P):b.uint8array?new N(p.transformTo("uint8array",P)):new x(p.transformTo("array",P)):new v(P)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(m,A,g){g.LOCAL_FILE_HEADER="PK",g.CENTRAL_FILE_HEADER="PK",g.CENTRAL_DIRECTORY_END="PK",g.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",g.ZIP64_CENTRAL_DIRECTORY_END="PK",g.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(m,A,g){var p=m("./GenericWorker"),b=m("../utils");function x(v){p.call(this,"ConvertWorker to "+v),this.destType=v}b.inherits(x,p),x.prototype.processChunk=function(v){this.push({data:b.transformTo(this.destType,v.data),meta:v.meta})},A.exports=x},{"../utils":32,"./GenericWorker":28}],25:[function(m,A,g){var p=m("./GenericWorker"),b=m("../crc32");function x(){p.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}m("../utils").inherits(x,p),x.prototype.processChunk=function(v){this.streamInfo.crc32=b(v.data,this.streamInfo.crc32||0),this.push(v)},A.exports=x},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(m,A,g){var p=m("../utils"),b=m("./GenericWorker");function x(v){b.call(this,"DataLengthProbe for "+v),this.propName=v,this.withStreamInfo(v,0)}p.inherits(x,b),x.prototype.processChunk=function(v){if(v){var y=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=y+v.data.length}b.prototype.processChunk.call(this,v)},A.exports=x},{"../utils":32,"./GenericWorker":28}],27:[function(m,A,g){var p=m("../utils"),b=m("./GenericWorker");function x(v){b.call(this,"DataWorker");var y=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,v.then(function(N){y.dataIsReady=!0,y.data=N,y.max=N&&N.length||0,y.type=p.getTypeOf(N),y.isPaused||y._tickAndRepeat()},function(N){y.error(N)})}p.inherits(x,b),x.prototype.cleanUp=function(){b.prototype.cleanUp.call(this),this.data=null},x.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,p.delay(this._tickAndRepeat,[],this)),!0)},x.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(p.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},x.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var v=null,y=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":v=this.data.substring(this.index,y);break;case"uint8array":v=this.data.subarray(this.index,y);break;case"array":case"nodebuffer":v=this.data.slice(this.index,y)}return this.index=y,this.push({data:v,meta:{percent:this.max?this.index/this.max*100:0}})},A.exports=x},{"../utils":32,"./GenericWorker":28}],28:[function(m,A,g){function p(b){this.name=b||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}p.prototype={push:function(b){this.emit("data",b)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(b){this.emit("error",b)}return!0},error:function(b){return!this.isFinished&&(this.isPaused?this.generatedError=b:(this.isFinished=!0,this.emit("error",b),this.previous&&this.previous.error(b),this.cleanUp()),!0)},on:function(b,x){return this._listeners[b].push(x),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(b,x){if(this._listeners[b])for(var v=0;v<this._listeners[b].length;v++)this._listeners[b][v].call(this,x)},pipe:function(b){return b.registerPrevious(this)},registerPrevious:function(b){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=b.streamInfo,this.mergeStreamInfo(),this.previous=b;var x=this;return b.on("data",function(v){x.processChunk(v)}),b.on("end",function(){x.end()}),b.on("error",function(v){x.error(v)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var b=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),b=!0),this.previous&&this.previous.resume(),!b},flush:function(){},processChunk:function(b){this.push(b)},withStreamInfo:function(b,x){return this.extraStreamInfo[b]=x,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var b in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,b)&&(this.streamInfo[b]=this.extraStreamInfo[b])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var b="Worker "+this.name;return this.previous?this.previous+" -> "+b:b}},A.exports=p},{}],29:[function(m,A,g){var p=m("../utils"),b=m("./ConvertWorker"),x=m("./GenericWorker"),v=m("../base64"),y=m("../support"),N=m("../external"),P=null;if(y.nodestream)try{P=m("../nodejs/NodejsStreamOutputAdapter")}catch{}function M(k,D,O){var L=D;switch(D){case"blob":case"arraybuffer":L="uint8array";break;case"base64":L="string"}try{this._internalType=L,this._outputType=D,this._mimeType=O,p.checkSupport(L),this._worker=k.pipe(new b(L)),k.lock()}catch(F){this._worker=new x("error"),this._worker.error(F)}}M.prototype={accumulate:function(k){return function(D,O){return new N.Promise(function(L,F){var _=[],E=D._internalType,T=D._outputType,w=D._mimeType;D.on("data",function(C,j){_.push(C),O&&O(j)}).on("error",function(C){_=[],F(C)}).on("end",function(){try{var C=function(j,S,I){switch(j){case"blob":return p.newBlob(p.transformTo("arraybuffer",S),I);case"base64":return v.encode(S);default:return p.transformTo(j,S)}}(T,function(j,S){var I,R=0,U=null,z=0;for(I=0;I<S.length;I++)z+=S[I].length;switch(j){case"string":return S.join("");case"array":return Array.prototype.concat.apply([],S);case"uint8array":for(U=new Uint8Array(z),I=0;I<S.length;I++)U.set(S[I],R),R+=S[I].length;return U;case"nodebuffer":return c.concat(S);default:throw new Error("concat : unsupported type '"+j+"'")}}(E,_),w);L(C)}catch(j){F(j)}_=[]}).resume()})}(this,k)},on:function(k,D){var O=this;return k==="data"?this._worker.on(k,function(L){D.call(O,L.data,L.meta)}):this._worker.on(k,function(){p.delay(D,arguments,O)}),this},resume:function(){return p.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(k){if(p.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new P(this,{objectMode:this._outputType!=="nodebuffer"},k)}},A.exports=M},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(m,A,g){if(g.base64=!0,g.array=!0,g.string=!0,g.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",g.nodebuffer=c!==void 0,g.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")g.blob=!1;else{var p=new ArrayBuffer(0);try{g.blob=new Blob([p],{type:"application/zip"}).size===0}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);b.append(p),g.blob=b.getBlob("application/zip").size===0}catch{g.blob=!1}}}try{g.nodestream=!!m("readable-stream").Readable}catch{g.nodestream=!1}},{"readable-stream":16}],31:[function(m,A,g){for(var p=m("./utils"),b=m("./support"),x=m("./nodejsUtils"),v=m("./stream/GenericWorker"),y=new Array(256),N=0;N<256;N++)y[N]=252<=N?6:248<=N?5:240<=N?4:224<=N?3:192<=N?2:1;function P(){v.call(this,"utf-8 decode"),this.leftOver=null}function M(){v.call(this,"utf-8 encode")}y[254]=y[254]=1,g.utf8encode=function(k){return b.nodebuffer?x.newBufferFrom(k,"utf-8"):function(D){var O,L,F,_,E,T=D.length,w=0;for(_=0;_<T;_++)(64512&(L=D.charCodeAt(_)))==55296&&_+1<T&&(64512&(F=D.charCodeAt(_+1)))==56320&&(L=65536+(L-55296<<10)+(F-56320),_++),w+=L<128?1:L<2048?2:L<65536?3:4;for(O=b.uint8array?new Uint8Array(w):new Array(w),_=E=0;E<w;_++)(64512&(L=D.charCodeAt(_)))==55296&&_+1<T&&(64512&(F=D.charCodeAt(_+1)))==56320&&(L=65536+(L-55296<<10)+(F-56320),_++),L<128?O[E++]=L:(L<2048?O[E++]=192|L>>>6:(L<65536?O[E++]=224|L>>>12:(O[E++]=240|L>>>18,O[E++]=128|L>>>12&63),O[E++]=128|L>>>6&63),O[E++]=128|63&L);return O}(k)},g.utf8decode=function(k){return b.nodebuffer?p.transformTo("nodebuffer",k).toString("utf-8"):function(D){var O,L,F,_,E=D.length,T=new Array(2*E);for(O=L=0;O<E;)if((F=D[O++])<128)T[L++]=F;else if(4<(_=y[F]))T[L++]=65533,O+=_-1;else{for(F&=_===2?31:_===3?15:7;1<_&&O<E;)F=F<<6|63&D[O++],_--;1<_?T[L++]=65533:F<65536?T[L++]=F:(F-=65536,T[L++]=55296|F>>10&1023,T[L++]=56320|1023&F)}return T.length!==L&&(T.subarray?T=T.subarray(0,L):T.length=L),p.applyFromCharCode(T)}(k=p.transformTo(b.uint8array?"uint8array":"array",k))},p.inherits(P,v),P.prototype.processChunk=function(k){var D=p.transformTo(b.uint8array?"uint8array":"array",k.data);if(this.leftOver&&this.leftOver.length){if(b.uint8array){var O=D;(D=new Uint8Array(O.length+this.leftOver.length)).set(this.leftOver,0),D.set(O,this.leftOver.length)}else D=this.leftOver.concat(D);this.leftOver=null}var L=function(_,E){var T;for((E=E||_.length)>_.length&&(E=_.length),T=E-1;0<=T&&(192&_[T])==128;)T--;return T<0||T===0?E:T+y[_[T]]>E?T:E}(D),F=D;L!==D.length&&(b.uint8array?(F=D.subarray(0,L),this.leftOver=D.subarray(L,D.length)):(F=D.slice(0,L),this.leftOver=D.slice(L,D.length))),this.push({data:g.utf8decode(F),meta:k.meta})},P.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:g.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},g.Utf8DecodeWorker=P,p.inherits(M,v),M.prototype.processChunk=function(k){this.push({data:g.utf8encode(k.data),meta:k.meta})},g.Utf8EncodeWorker=M},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(m,A,g){var p=m("./support"),b=m("./base64"),x=m("./nodejsUtils"),v=m("./external");function y(O){return O}function N(O,L){for(var F=0;F<O.length;++F)L[F]=255&O.charCodeAt(F);return L}m("setimmediate"),g.newBlob=function(O,L){g.checkSupport("blob");try{return new Blob([O],{type:L})}catch{try{var F=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return F.append(O),F.getBlob(L)}catch{throw new Error("Bug : can't construct the Blob.")}}};var P={stringifyByChunk:function(O,L,F){var _=[],E=0,T=O.length;if(T<=F)return String.fromCharCode.apply(null,O);for(;E<T;)L==="array"||L==="nodebuffer"?_.push(String.fromCharCode.apply(null,O.slice(E,Math.min(E+F,T)))):_.push(String.fromCharCode.apply(null,O.subarray(E,Math.min(E+F,T)))),E+=F;return _.join("")},stringifyByChar:function(O){for(var L="",F=0;F<O.length;F++)L+=String.fromCharCode(O[F]);return L},applyCanBeUsed:{uint8array:function(){try{return p.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return p.nodebuffer&&String.fromCharCode.apply(null,x.allocBuffer(1)).length===1}catch{return!1}}()}};function M(O){var L=65536,F=g.getTypeOf(O),_=!0;if(F==="uint8array"?_=P.applyCanBeUsed.uint8array:F==="nodebuffer"&&(_=P.applyCanBeUsed.nodebuffer),_)for(;1<L;)try{return P.stringifyByChunk(O,F,L)}catch{L=Math.floor(L/2)}return P.stringifyByChar(O)}function k(O,L){for(var F=0;F<O.length;F++)L[F]=O[F];return L}g.applyFromCharCode=M;var D={};D.string={string:y,array:function(O){return N(O,new Array(O.length))},arraybuffer:function(O){return D.string.uint8array(O).buffer},uint8array:function(O){return N(O,new Uint8Array(O.length))},nodebuffer:function(O){return N(O,x.allocBuffer(O.length))}},D.array={string:M,array:y,arraybuffer:function(O){return new Uint8Array(O).buffer},uint8array:function(O){return new Uint8Array(O)},nodebuffer:function(O){return x.newBufferFrom(O)}},D.arraybuffer={string:function(O){return M(new Uint8Array(O))},array:function(O){return k(new Uint8Array(O),new Array(O.byteLength))},arraybuffer:y,uint8array:function(O){return new Uint8Array(O)},nodebuffer:function(O){return x.newBufferFrom(new Uint8Array(O))}},D.uint8array={string:M,array:function(O){return k(O,new Array(O.length))},arraybuffer:function(O){return O.buffer},uint8array:y,nodebuffer:function(O){return x.newBufferFrom(O)}},D.nodebuffer={string:M,array:function(O){return k(O,new Array(O.length))},arraybuffer:function(O){return D.nodebuffer.uint8array(O).buffer},uint8array:function(O){return k(O,new Uint8Array(O.length))},nodebuffer:y},g.transformTo=function(O,L){if(L=L||"",!O)return L;g.checkSupport(O);var F=g.getTypeOf(L);return D[F][O](L)},g.resolve=function(O){for(var L=O.split("/"),F=[],_=0;_<L.length;_++){var E=L[_];E==="."||E===""&&_!==0&&_!==L.length-1||(E===".."?F.pop():F.push(E))}return F.join("/")},g.getTypeOf=function(O){return typeof O=="string"?"string":Object.prototype.toString.call(O)==="[object Array]"?"array":p.nodebuffer&&x.isBuffer(O)?"nodebuffer":p.uint8array&&O instanceof Uint8Array?"uint8array":p.arraybuffer&&O instanceof ArrayBuffer?"arraybuffer":void 0},g.checkSupport=function(O){if(!p[O.toLowerCase()])throw new Error(O+" is not supported by this platform")},g.MAX_VALUE_16BITS=65535,g.MAX_VALUE_32BITS=-1,g.pretty=function(O){var L,F,_="";for(F=0;F<(O||"").length;F++)_+="\\x"+((L=O.charCodeAt(F))<16?"0":"")+L.toString(16).toUpperCase();return _},g.delay=function(O,L,F){h(function(){O.apply(F||null,L||[])})},g.inherits=function(O,L){function F(){}F.prototype=L.prototype,O.prototype=new F},g.extend=function(){var O,L,F={};for(O=0;O<arguments.length;O++)for(L in arguments[O])Object.prototype.hasOwnProperty.call(arguments[O],L)&&F[L]===void 0&&(F[L]=arguments[O][L]);return F},g.prepareContent=function(O,L,F,_,E){return v.Promise.resolve(L).then(function(T){return p.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new v.Promise(function(w,C){var j=new FileReader;j.onload=function(S){w(S.target.result)},j.onerror=function(S){C(S.target.error)},j.readAsArrayBuffer(T)}):T}).then(function(T){var w=g.getTypeOf(T);return w?(w==="arraybuffer"?T=g.transformTo("uint8array",T):w==="string"&&(E?T=b.decode(T):F&&_!==!0&&(T=function(C){return N(C,p.uint8array?new Uint8Array(C.length):new Array(C.length))}(T))),T):v.Promise.reject(new Error("Can't read the data of '"+O+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(m,A,g){var p=m("./reader/readerFor"),b=m("./utils"),x=m("./signature"),v=m("./zipEntry"),y=m("./support");function N(P){this.files=[],this.loadOptions=P}N.prototype={checkSignature:function(P){if(!this.reader.readAndCheckSignature(P)){this.reader.index-=4;var M=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+b.pretty(M)+", expected "+b.pretty(P)+")")}},isSignature:function(P,M){var k=this.reader.index;this.reader.setIndex(P);var D=this.reader.readString(4)===M;return this.reader.setIndex(k),D},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var P=this.reader.readData(this.zipCommentLength),M=y.uint8array?"uint8array":"array",k=b.transformTo(M,P);this.zipComment=this.loadOptions.decodeFileName(k)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var P,M,k,D=this.zip64EndOfCentralSize-44;0<D;)P=this.reader.readInt(2),M=this.reader.readInt(4),k=this.reader.readData(M),this.zip64ExtensibleData[P]={id:P,length:M,value:k}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var P,M;for(P=0;P<this.files.length;P++)M=this.files[P],this.reader.setIndex(M.localHeaderOffset),this.checkSignature(x.LOCAL_FILE_HEADER),M.readLocalPart(this.reader),M.handleUTF8(),M.processAttributes()},readCentralDir:function(){var P;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(x.CENTRAL_FILE_HEADER);)(P=new v({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(P);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var P=this.reader.lastIndexOfSignature(x.CENTRAL_DIRECTORY_END);if(P<0)throw this.isSignature(0,x.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(P);var M=P;if(this.checkSignature(x.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===b.MAX_VALUE_16BITS||this.diskWithCentralDirStart===b.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===b.MAX_VALUE_16BITS||this.centralDirRecords===b.MAX_VALUE_16BITS||this.centralDirSize===b.MAX_VALUE_32BITS||this.centralDirOffset===b.MAX_VALUE_32BITS){if(this.zip64=!0,(P=this.reader.lastIndexOfSignature(x.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(P),this.checkSignature(x.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,x.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(x.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(x.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var k=this.centralDirOffset+this.centralDirSize;this.zip64&&(k+=20,k+=12+this.zip64EndOfCentralSize);var D=M-k;if(0<D)this.isSignature(M,x.CENTRAL_FILE_HEADER)||(this.reader.zero=D);else if(D<0)throw new Error("Corrupted zip: missing "+Math.abs(D)+" bytes.")},prepareReader:function(P){this.reader=p(P)},load:function(P){this.prepareReader(P),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},A.exports=N},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(m,A,g){var p=m("./reader/readerFor"),b=m("./utils"),x=m("./compressedObject"),v=m("./crc32"),y=m("./utf8"),N=m("./compressions"),P=m("./support");function M(k,D){this.options=k,this.loadOptions=D}M.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(k){var D,O;if(k.skip(22),this.fileNameLength=k.readInt(2),O=k.readInt(2),this.fileName=k.readData(this.fileNameLength),k.skip(O),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((D=function(L){for(var F in N)if(Object.prototype.hasOwnProperty.call(N,F)&&N[F].magic===L)return N[F];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+b.pretty(this.compressionMethod)+" unknown (inner file : "+b.transformTo("string",this.fileName)+")");this.decompressed=new x(this.compressedSize,this.uncompressedSize,this.crc32,D,k.readData(this.compressedSize))},readCentralPart:function(k){this.versionMadeBy=k.readInt(2),k.skip(2),this.bitFlag=k.readInt(2),this.compressionMethod=k.readString(2),this.date=k.readDate(),this.crc32=k.readInt(4),this.compressedSize=k.readInt(4),this.uncompressedSize=k.readInt(4);var D=k.readInt(2);if(this.extraFieldsLength=k.readInt(2),this.fileCommentLength=k.readInt(2),this.diskNumberStart=k.readInt(2),this.internalFileAttributes=k.readInt(2),this.externalFileAttributes=k.readInt(4),this.localHeaderOffset=k.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");k.skip(D),this.readExtraFields(k),this.parseZIP64ExtraField(k),this.fileComment=k.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var k=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),k==0&&(this.dosPermissions=63&this.externalFileAttributes),k==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var k=p(this.extraFields[1].value);this.uncompressedSize===b.MAX_VALUE_32BITS&&(this.uncompressedSize=k.readInt(8)),this.compressedSize===b.MAX_VALUE_32BITS&&(this.compressedSize=k.readInt(8)),this.localHeaderOffset===b.MAX_VALUE_32BITS&&(this.localHeaderOffset=k.readInt(8)),this.diskNumberStart===b.MAX_VALUE_32BITS&&(this.diskNumberStart=k.readInt(4))}},readExtraFields:function(k){var D,O,L,F=k.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});k.index+4<F;)D=k.readInt(2),O=k.readInt(2),L=k.readData(O),this.extraFields[D]={id:D,length:O,value:L};k.setIndex(F)},handleUTF8:function(){var k=P.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=y.utf8decode(this.fileName),this.fileCommentStr=y.utf8decode(this.fileComment);else{var D=this.findExtraFieldUnicodePath();if(D!==null)this.fileNameStr=D;else{var O=b.transformTo(k,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(O)}var L=this.findExtraFieldUnicodeComment();if(L!==null)this.fileCommentStr=L;else{var F=b.transformTo(k,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(F)}}},findExtraFieldUnicodePath:function(){var k=this.extraFields[28789];if(k){var D=p(k.value);return D.readInt(1)!==1||v(this.fileName)!==D.readInt(4)?null:y.utf8decode(D.readData(k.length-5))}return null},findExtraFieldUnicodeComment:function(){var k=this.extraFields[25461];if(k){var D=p(k.value);return D.readInt(1)!==1||v(this.fileComment)!==D.readInt(4)?null:y.utf8decode(D.readData(k.length-5))}return null}},A.exports=M},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(m,A,g){function p(D,O,L){this.name=D,this.dir=L.dir,this.date=L.date,this.comment=L.comment,this.unixPermissions=L.unixPermissions,this.dosPermissions=L.dosPermissions,this._data=O,this._dataBinary=L.binary,this.options={compression:L.compression,compressionOptions:L.compressionOptions}}var b=m("./stream/StreamHelper"),x=m("./stream/DataWorker"),v=m("./utf8"),y=m("./compressedObject"),N=m("./stream/GenericWorker");p.prototype={internalStream:function(D){var O=null,L="string";try{if(!D)throw new Error("No output type specified.");var F=(L=D.toLowerCase())==="string"||L==="text";L!=="binarystring"&&L!=="text"||(L="string"),O=this._decompressWorker();var _=!this._dataBinary;_&&!F&&(O=O.pipe(new v.Utf8EncodeWorker)),!_&&F&&(O=O.pipe(new v.Utf8DecodeWorker))}catch(E){(O=new N("error")).error(E)}return new b(O,L,"")},async:function(D,O){return this.internalStream(D).accumulate(O)},nodeStream:function(D,O){return this.internalStream(D||"nodebuffer").toNodejsStream(O)},_compressWorker:function(D,O){if(this._data instanceof y&&this._data.compression.magic===D.magic)return this._data.getCompressedWorker();var L=this._decompressWorker();return this._dataBinary||(L=L.pipe(new v.Utf8EncodeWorker)),y.createWorkerFrom(L,D,O)},_decompressWorker:function(){return this._data instanceof y?this._data.getContentWorker():this._data instanceof N?this._data:new x(this._data)}};for(var P=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],M=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},k=0;k<P.length;k++)p.prototype[P[k]]=M;A.exports=p},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(m,A,g){(function(p){var b,x,v=p.MutationObserver||p.WebKitMutationObserver;if(v){var y=0,N=new v(D),P=p.document.createTextNode("");N.observe(P,{characterData:!0}),b=function(){P.data=y=++y%2}}else if(p.setImmediate||p.MessageChannel===void 0)b="document"in p&&"onreadystatechange"in p.document.createElement("script")?function(){var O=p.document.createElement("script");O.onreadystatechange=function(){D(),O.onreadystatechange=null,O.parentNode.removeChild(O),O=null},p.document.documentElement.appendChild(O)}:function(){setTimeout(D,0)};else{var M=new p.MessageChannel;M.port1.onmessage=D,b=function(){M.port2.postMessage(0)}}var k=[];function D(){var O,L;x=!0;for(var F=k.length;F;){for(L=k,k=[],O=-1;++O<F;)L[O]();F=k.length}x=!1}A.exports=function(O){k.push(O)!==1||x||b()}}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(m,A,g){var p=m("immediate");function b(){}var x={},v=["REJECTED"],y=["FULFILLED"],N=["PENDING"];function P(F){if(typeof F!="function")throw new TypeError("resolver must be a function");this.state=N,this.queue=[],this.outcome=void 0,F!==b&&O(this,F)}function M(F,_,E){this.promise=F,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}function k(F,_,E){p(function(){var T;try{T=_(E)}catch(w){return x.reject(F,w)}T===F?x.reject(F,new TypeError("Cannot resolve promise with itself")):x.resolve(F,T)})}function D(F){var _=F&&F.then;if(F&&(typeof F=="object"||typeof F=="function")&&typeof _=="function")return function(){_.apply(F,arguments)}}function O(F,_){var E=!1;function T(j){E||(E=!0,x.reject(F,j))}function w(j){E||(E=!0,x.resolve(F,j))}var C=L(function(){_(w,T)});C.status==="error"&&T(C.value)}function L(F,_){var E={};try{E.value=F(_),E.status="success"}catch(T){E.status="error",E.value=T}return E}(A.exports=P).prototype.finally=function(F){if(typeof F!="function")return this;var _=this.constructor;return this.then(function(E){return _.resolve(F()).then(function(){return E})},function(E){return _.resolve(F()).then(function(){throw E})})},P.prototype.catch=function(F){return this.then(null,F)},P.prototype.then=function(F,_){if(typeof F!="function"&&this.state===y||typeof _!="function"&&this.state===v)return this;var E=new this.constructor(b);return this.state!==N?k(E,this.state===y?F:_,this.outcome):this.queue.push(new M(E,F,_)),E},M.prototype.callFulfilled=function(F){x.resolve(this.promise,F)},M.prototype.otherCallFulfilled=function(F){k(this.promise,this.onFulfilled,F)},M.prototype.callRejected=function(F){x.reject(this.promise,F)},M.prototype.otherCallRejected=function(F){k(this.promise,this.onRejected,F)},x.resolve=function(F,_){var E=L(D,_);if(E.status==="error")return x.reject(F,E.value);var T=E.value;if(T)O(F,T);else{F.state=y,F.outcome=_;for(var w=-1,C=F.queue.length;++w<C;)F.queue[w].callFulfilled(_)}return F},x.reject=function(F,_){F.state=v,F.outcome=_;for(var E=-1,T=F.queue.length;++E<T;)F.queue[E].callRejected(_);return F},P.resolve=function(F){return F instanceof this?F:x.resolve(new this(b),F)},P.reject=function(F){var _=new this(b);return x.reject(_,F)},P.all=function(F){var _=this;if(Object.prototype.toString.call(F)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=F.length,T=!1;if(!E)return this.resolve([]);for(var w=new Array(E),C=0,j=-1,S=new this(b);++j<E;)I(F[j],j);return S;function I(R,U){_.resolve(R).then(function(z){w[U]=z,++C!==E||T||(T=!0,x.resolve(S,w))},function(z){T||(T=!0,x.reject(S,z))})}},P.race=function(F){if(Object.prototype.toString.call(F)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=F.length,E=!1;if(!_)return this.resolve([]);for(var T,w=-1,C=new this(b);++w<_;)T=F[w],this.resolve(T).then(function(j){E||(E=!0,x.resolve(C,j))},function(j){E||(E=!0,x.reject(C,j))});return C}},{immediate:36}],38:[function(m,A,g){var p={};(0,m("./lib/utils/common").assign)(p,m("./lib/deflate"),m("./lib/inflate"),m("./lib/zlib/constants")),A.exports=p},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(m,A,g){var p=m("./zlib/deflate"),b=m("./utils/common"),x=m("./utils/strings"),v=m("./zlib/messages"),y=m("./zlib/zstream"),N=Object.prototype.toString;function P(k){if(!(this instanceof P))return new P(k);this.options=b.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},k||{});var D=this.options;D.raw&&0<D.windowBits?D.windowBits=-D.windowBits:D.gzip&&0<D.windowBits&&D.windowBits<16&&(D.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var O=p.deflateInit2(this.strm,D.level,D.method,D.windowBits,D.memLevel,D.strategy);if(O!==0)throw new Error(v[O]);if(D.header&&p.deflateSetHeader(this.strm,D.header),D.dictionary){var L;if(L=typeof D.dictionary=="string"?x.string2buf(D.dictionary):N.call(D.dictionary)==="[object ArrayBuffer]"?new Uint8Array(D.dictionary):D.dictionary,(O=p.deflateSetDictionary(this.strm,L))!==0)throw new Error(v[O]);this._dict_set=!0}}function M(k,D){var O=new P(D);if(O.push(k,!0),O.err)throw O.msg||v[O.err];return O.result}P.prototype.push=function(k,D){var O,L,F=this.strm,_=this.options.chunkSize;if(this.ended)return!1;L=D===~~D?D:D===!0?4:0,typeof k=="string"?F.input=x.string2buf(k):N.call(k)==="[object ArrayBuffer]"?F.input=new Uint8Array(k):F.input=k,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new b.Buf8(_),F.next_out=0,F.avail_out=_),(O=p.deflate(F,L))!==1&&O!==0)return this.onEnd(O),!(this.ended=!0);F.avail_out!==0&&(F.avail_in!==0||L!==4&&L!==2)||(this.options.to==="string"?this.onData(x.buf2binstring(b.shrinkBuf(F.output,F.next_out))):this.onData(b.shrinkBuf(F.output,F.next_out)))}while((0<F.avail_in||F.avail_out===0)&&O!==1);return L===4?(O=p.deflateEnd(this.strm),this.onEnd(O),this.ended=!0,O===0):L!==2||(this.onEnd(0),!(F.avail_out=0))},P.prototype.onData=function(k){this.chunks.push(k)},P.prototype.onEnd=function(k){k===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=b.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg},g.Deflate=P,g.deflate=M,g.deflateRaw=function(k,D){return(D=D||{}).raw=!0,M(k,D)},g.gzip=function(k,D){return(D=D||{}).gzip=!0,M(k,D)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(m,A,g){var p=m("./zlib/inflate"),b=m("./utils/common"),x=m("./utils/strings"),v=m("./zlib/constants"),y=m("./zlib/messages"),N=m("./zlib/zstream"),P=m("./zlib/gzheader"),M=Object.prototype.toString;function k(O){if(!(this instanceof k))return new k(O);this.options=b.assign({chunkSize:16384,windowBits:0,to:""},O||{});var L=this.options;L.raw&&0<=L.windowBits&&L.windowBits<16&&(L.windowBits=-L.windowBits,L.windowBits===0&&(L.windowBits=-15)),!(0<=L.windowBits&&L.windowBits<16)||O&&O.windowBits||(L.windowBits+=32),15<L.windowBits&&L.windowBits<48&&!(15&L.windowBits)&&(L.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new N,this.strm.avail_out=0;var F=p.inflateInit2(this.strm,L.windowBits);if(F!==v.Z_OK)throw new Error(y[F]);this.header=new P,p.inflateGetHeader(this.strm,this.header)}function D(O,L){var F=new k(L);if(F.push(O,!0),F.err)throw F.msg||y[F.err];return F.result}k.prototype.push=function(O,L){var F,_,E,T,w,C,j=this.strm,S=this.options.chunkSize,I=this.options.dictionary,R=!1;if(this.ended)return!1;_=L===~~L?L:L===!0?v.Z_FINISH:v.Z_NO_FLUSH,typeof O=="string"?j.input=x.binstring2buf(O):M.call(O)==="[object ArrayBuffer]"?j.input=new Uint8Array(O):j.input=O,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new b.Buf8(S),j.next_out=0,j.avail_out=S),(F=p.inflate(j,v.Z_NO_FLUSH))===v.Z_NEED_DICT&&I&&(C=typeof I=="string"?x.string2buf(I):M.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,F=p.inflateSetDictionary(this.strm,C)),F===v.Z_BUF_ERROR&&R===!0&&(F=v.Z_OK,R=!1),F!==v.Z_STREAM_END&&F!==v.Z_OK)return this.onEnd(F),!(this.ended=!0);j.next_out&&(j.avail_out!==0&&F!==v.Z_STREAM_END&&(j.avail_in!==0||_!==v.Z_FINISH&&_!==v.Z_SYNC_FLUSH)||(this.options.to==="string"?(E=x.utf8border(j.output,j.next_out),T=j.next_out-E,w=x.buf2string(j.output,E),j.next_out=T,j.avail_out=S-T,T&&b.arraySet(j.output,j.output,E,T,0),this.onData(w)):this.onData(b.shrinkBuf(j.output,j.next_out)))),j.avail_in===0&&j.avail_out===0&&(R=!0)}while((0<j.avail_in||j.avail_out===0)&&F!==v.Z_STREAM_END);return F===v.Z_STREAM_END&&(_=v.Z_FINISH),_===v.Z_FINISH?(F=p.inflateEnd(this.strm),this.onEnd(F),this.ended=!0,F===v.Z_OK):_!==v.Z_SYNC_FLUSH||(this.onEnd(v.Z_OK),!(j.avail_out=0))},k.prototype.onData=function(O){this.chunks.push(O)},k.prototype.onEnd=function(O){O===v.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=b.flattenChunks(this.chunks)),this.chunks=[],this.err=O,this.msg=this.strm.msg},g.Inflate=k,g.inflate=D,g.inflateRaw=function(O,L){return(L=L||{}).raw=!0,D(O,L)},g.ungzip=D},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(m,A,g){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";g.assign=function(v){for(var y=Array.prototype.slice.call(arguments,1);y.length;){var N=y.shift();if(N){if(typeof N!="object")throw new TypeError(N+"must be non-object");for(var P in N)N.hasOwnProperty(P)&&(v[P]=N[P])}}return v},g.shrinkBuf=function(v,y){return v.length===y?v:v.subarray?v.subarray(0,y):(v.length=y,v)};var b={arraySet:function(v,y,N,P,M){if(y.subarray&&v.subarray)v.set(y.subarray(N,N+P),M);else for(var k=0;k<P;k++)v[M+k]=y[N+k]},flattenChunks:function(v){var y,N,P,M,k,D;for(y=P=0,N=v.length;y<N;y++)P+=v[y].length;for(D=new Uint8Array(P),y=M=0,N=v.length;y<N;y++)k=v[y],D.set(k,M),M+=k.length;return D}},x={arraySet:function(v,y,N,P,M){for(var k=0;k<P;k++)v[M+k]=y[N+k]},flattenChunks:function(v){return[].concat.apply([],v)}};g.setTyped=function(v){v?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,b)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,x))},g.setTyped(p)},{}],42:[function(m,A,g){var p=m("./common"),b=!0,x=!0;try{String.fromCharCode.apply(null,[0])}catch{b=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{x=!1}for(var v=new p.Buf8(256),y=0;y<256;y++)v[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;function N(P,M){if(M<65537&&(P.subarray&&x||!P.subarray&&b))return String.fromCharCode.apply(null,p.shrinkBuf(P,M));for(var k="",D=0;D<M;D++)k+=String.fromCharCode(P[D]);return k}v[254]=v[254]=1,g.string2buf=function(P){var M,k,D,O,L,F=P.length,_=0;for(O=0;O<F;O++)(64512&(k=P.charCodeAt(O)))==55296&&O+1<F&&(64512&(D=P.charCodeAt(O+1)))==56320&&(k=65536+(k-55296<<10)+(D-56320),O++),_+=k<128?1:k<2048?2:k<65536?3:4;for(M=new p.Buf8(_),O=L=0;L<_;O++)(64512&(k=P.charCodeAt(O)))==55296&&O+1<F&&(64512&(D=P.charCodeAt(O+1)))==56320&&(k=65536+(k-55296<<10)+(D-56320),O++),k<128?M[L++]=k:(k<2048?M[L++]=192|k>>>6:(k<65536?M[L++]=224|k>>>12:(M[L++]=240|k>>>18,M[L++]=128|k>>>12&63),M[L++]=128|k>>>6&63),M[L++]=128|63&k);return M},g.buf2binstring=function(P){return N(P,P.length)},g.binstring2buf=function(P){for(var M=new p.Buf8(P.length),k=0,D=M.length;k<D;k++)M[k]=P.charCodeAt(k);return M},g.buf2string=function(P,M){var k,D,O,L,F=M||P.length,_=new Array(2*F);for(k=D=0;k<F;)if((O=P[k++])<128)_[D++]=O;else if(4<(L=v[O]))_[D++]=65533,k+=L-1;else{for(O&=L===2?31:L===3?15:7;1<L&&k<F;)O=O<<6|63&P[k++],L--;1<L?_[D++]=65533:O<65536?_[D++]=O:(O-=65536,_[D++]=55296|O>>10&1023,_[D++]=56320|1023&O)}return N(_,D)},g.utf8border=function(P,M){var k;for((M=M||P.length)>P.length&&(M=P.length),k=M-1;0<=k&&(192&P[k])==128;)k--;return k<0||k===0?M:k+v[P[k]]>M?k:M}},{"./common":41}],43:[function(m,A,g){A.exports=function(p,b,x,v){for(var y=65535&p|0,N=p>>>16&65535|0,P=0;x!==0;){for(x-=P=2e3<x?2e3:x;N=N+(y=y+b[v++]|0)|0,--P;);y%=65521,N%=65521}return y|N<<16|0}},{}],44:[function(m,A,g){A.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(m,A,g){var p=function(){for(var b,x=[],v=0;v<256;v++){b=v;for(var y=0;y<8;y++)b=1&b?3988292384^b>>>1:b>>>1;x[v]=b}return x}();A.exports=function(b,x,v,y){var N=p,P=y+v;b^=-1;for(var M=y;M<P;M++)b=b>>>8^N[255&(b^x[M])];return-1^b}},{}],46:[function(m,A,g){var p,b=m("../utils/common"),x=m("./trees"),v=m("./adler32"),y=m("./crc32"),N=m("./messages"),P=-2,M=258,k=262,D=113;function O($,W){return $.msg=N[W],W}function L($){return($<<1)-(4<$?9:0)}function F($){for(var W=$.length;0<=--W;)$[W]=0}function _($){var W=$.state,H=W.pending;H>$.avail_out&&(H=$.avail_out),H!==0&&(b.arraySet($.output,W.pending_buf,W.pending_out,H,$.next_out),$.next_out+=H,W.pending_out+=H,$.total_out+=H,$.avail_out-=H,W.pending-=H,W.pending===0&&(W.pending_out=0))}function E($,W){x._tr_flush_block($,0<=$.block_start?$.block_start:-1,$.strstart-$.block_start,W),$.block_start=$.strstart,_($.strm)}function T($,W){$.pending_buf[$.pending++]=W}function w($,W){$.pending_buf[$.pending++]=W>>>8&255,$.pending_buf[$.pending++]=255&W}function C($,W){var H,Q,G=$.max_chain_length,J=$.strstart,ee=$.prev_length,K=$.nice_match,ne=$.strstart>$.w_size-k?$.strstart-($.w_size-k):0,ue=$.window,se=$.w_mask,ie=$.prev,q=$.strstart+M,Z=ue[J+ee-1],te=ue[J+ee];$.prev_length>=$.good_match&&(G>>=2),K>$.lookahead&&(K=$.lookahead);do if(ue[(H=W)+ee]===te&&ue[H+ee-1]===Z&&ue[H]===ue[J]&&ue[++H]===ue[J+1]){J+=2,H++;do;while(ue[++J]===ue[++H]&&ue[++J]===ue[++H]&&ue[++J]===ue[++H]&&ue[++J]===ue[++H]&&ue[++J]===ue[++H]&&ue[++J]===ue[++H]&&ue[++J]===ue[++H]&&ue[++J]===ue[++H]&&J<q);if(Q=M-(q-J),J=q-M,ee<Q){if($.match_start=W,K<=(ee=Q))break;Z=ue[J+ee-1],te=ue[J+ee]}}while((W=ie[W&se])>ne&&--G!=0);return ee<=$.lookahead?ee:$.lookahead}function j($){var W,H,Q,G,J,ee,K,ne,ue,se,ie=$.w_size;do{if(G=$.window_size-$.lookahead-$.strstart,$.strstart>=ie+(ie-k)){for(b.arraySet($.window,$.window,ie,ie,0),$.match_start-=ie,$.strstart-=ie,$.block_start-=ie,W=H=$.hash_size;Q=$.head[--W],$.head[W]=ie<=Q?Q-ie:0,--H;);for(W=H=ie;Q=$.prev[--W],$.prev[W]=ie<=Q?Q-ie:0,--H;);G+=ie}if($.strm.avail_in===0)break;if(ee=$.strm,K=$.window,ne=$.strstart+$.lookahead,se=void 0,(ue=G)<(se=ee.avail_in)&&(se=ue),H=se===0?0:(ee.avail_in-=se,b.arraySet(K,ee.input,ee.next_in,se,ne),ee.state.wrap===1?ee.adler=v(ee.adler,K,se,ne):ee.state.wrap===2&&(ee.adler=y(ee.adler,K,se,ne)),ee.next_in+=se,ee.total_in+=se,se),$.lookahead+=H,$.lookahead+$.insert>=3)for(J=$.strstart-$.insert,$.ins_h=$.window[J],$.ins_h=($.ins_h<<$.hash_shift^$.window[J+1])&$.hash_mask;$.insert&&($.ins_h=($.ins_h<<$.hash_shift^$.window[J+3-1])&$.hash_mask,$.prev[J&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=J,J++,$.insert--,!($.lookahead+$.insert<3)););}while($.lookahead<k&&$.strm.avail_in!==0)}function S($,W){for(var H,Q;;){if($.lookahead<k){if(j($),$.lookahead<k&&W===0)return 1;if($.lookahead===0)break}if(H=0,$.lookahead>=3&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+3-1])&$.hash_mask,H=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),H!==0&&$.strstart-H<=$.w_size-k&&($.match_length=C($,H)),$.match_length>=3)if(Q=x._tr_tally($,$.strstart-$.match_start,$.match_length-3),$.lookahead-=$.match_length,$.match_length<=$.max_lazy_match&&$.lookahead>=3){for($.match_length--;$.strstart++,$.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+3-1])&$.hash_mask,H=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart,--$.match_length!=0;);$.strstart++}else $.strstart+=$.match_length,$.match_length=0,$.ins_h=$.window[$.strstart],$.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+1])&$.hash_mask;else Q=x._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++;if(Q&&(E($,!1),$.strm.avail_out===0))return 1}return $.insert=$.strstart<2?$.strstart:2,W===4?(E($,!0),$.strm.avail_out===0?3:4):$.last_lit&&(E($,!1),$.strm.avail_out===0)?1:2}function I($,W){for(var H,Q,G;;){if($.lookahead<k){if(j($),$.lookahead<k&&W===0)return 1;if($.lookahead===0)break}if(H=0,$.lookahead>=3&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+3-1])&$.hash_mask,H=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),$.prev_length=$.match_length,$.prev_match=$.match_start,$.match_length=2,H!==0&&$.prev_length<$.max_lazy_match&&$.strstart-H<=$.w_size-k&&($.match_length=C($,H),$.match_length<=5&&($.strategy===1||$.match_length===3&&4096<$.strstart-$.match_start)&&($.match_length=2)),$.prev_length>=3&&$.match_length<=$.prev_length){for(G=$.strstart+$.lookahead-3,Q=x._tr_tally($,$.strstart-1-$.prev_match,$.prev_length-3),$.lookahead-=$.prev_length-1,$.prev_length-=2;++$.strstart<=G&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+3-1])&$.hash_mask,H=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),--$.prev_length!=0;);if($.match_available=0,$.match_length=2,$.strstart++,Q&&(E($,!1),$.strm.avail_out===0))return 1}else if($.match_available){if((Q=x._tr_tally($,0,$.window[$.strstart-1]))&&E($,!1),$.strstart++,$.lookahead--,$.strm.avail_out===0)return 1}else $.match_available=1,$.strstart++,$.lookahead--}return $.match_available&&(Q=x._tr_tally($,0,$.window[$.strstart-1]),$.match_available=0),$.insert=$.strstart<2?$.strstart:2,W===4?(E($,!0),$.strm.avail_out===0?3:4):$.last_lit&&(E($,!1),$.strm.avail_out===0)?1:2}function R($,W,H,Q,G){this.good_length=$,this.max_lazy=W,this.nice_length=H,this.max_chain=Q,this.func=G}function U(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new b.Buf16(1146),this.dyn_dtree=new b.Buf16(122),this.bl_tree=new b.Buf16(78),F(this.dyn_ltree),F(this.dyn_dtree),F(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new b.Buf16(16),this.heap=new b.Buf16(573),F(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new b.Buf16(573),F(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function z($){var W;return $&&$.state?($.total_in=$.total_out=0,$.data_type=2,(W=$.state).pending=0,W.pending_out=0,W.wrap<0&&(W.wrap=-W.wrap),W.status=W.wrap?42:D,$.adler=W.wrap===2?0:1,W.last_flush=0,x._tr_init(W),0):O($,P)}function V($){var W=z($);return W===0&&function(H){H.window_size=2*H.w_size,F(H.head),H.max_lazy_match=p[H.level].max_lazy,H.good_match=p[H.level].good_length,H.nice_match=p[H.level].nice_length,H.max_chain_length=p[H.level].max_chain,H.strstart=0,H.block_start=0,H.lookahead=0,H.insert=0,H.match_length=H.prev_length=2,H.match_available=0,H.ins_h=0}($.state),W}function X($,W,H,Q,G,J){if(!$)return P;var ee=1;if(W===-1&&(W=6),Q<0?(ee=0,Q=-Q):15<Q&&(ee=2,Q-=16),G<1||9<G||H!==8||Q<8||15<Q||W<0||9<W||J<0||4<J)return O($,P);Q===8&&(Q=9);var K=new U;return($.state=K).strm=$,K.wrap=ee,K.gzhead=null,K.w_bits=Q,K.w_size=1<<K.w_bits,K.w_mask=K.w_size-1,K.hash_bits=G+7,K.hash_size=1<<K.hash_bits,K.hash_mask=K.hash_size-1,K.hash_shift=~~((K.hash_bits+3-1)/3),K.window=new b.Buf8(2*K.w_size),K.head=new b.Buf16(K.hash_size),K.prev=new b.Buf16(K.w_size),K.lit_bufsize=1<<G+6,K.pending_buf_size=4*K.lit_bufsize,K.pending_buf=new b.Buf8(K.pending_buf_size),K.d_buf=1*K.lit_bufsize,K.l_buf=3*K.lit_bufsize,K.level=W,K.strategy=J,K.method=H,V($)}p=[new R(0,0,0,0,function($,W){var H=65535;for(H>$.pending_buf_size-5&&(H=$.pending_buf_size-5);;){if($.lookahead<=1){if(j($),$.lookahead===0&&W===0)return 1;if($.lookahead===0)break}$.strstart+=$.lookahead,$.lookahead=0;var Q=$.block_start+H;if(($.strstart===0||$.strstart>=Q)&&($.lookahead=$.strstart-Q,$.strstart=Q,E($,!1),$.strm.avail_out===0)||$.strstart-$.block_start>=$.w_size-k&&(E($,!1),$.strm.avail_out===0))return 1}return $.insert=0,W===4?(E($,!0),$.strm.avail_out===0?3:4):($.strstart>$.block_start&&(E($,!1),$.strm.avail_out),1)}),new R(4,4,8,4,S),new R(4,5,16,8,S),new R(4,6,32,32,S),new R(4,4,16,16,I),new R(8,16,32,32,I),new R(8,16,128,128,I),new R(8,32,128,256,I),new R(32,128,258,1024,I),new R(32,258,258,4096,I)],g.deflateInit=function($,W){return X($,W,8,15,8,0)},g.deflateInit2=X,g.deflateReset=V,g.deflateResetKeep=z,g.deflateSetHeader=function($,W){return $&&$.state?$.state.wrap!==2?P:($.state.gzhead=W,0):P},g.deflate=function($,W){var H,Q,G,J;if(!$||!$.state||5<W||W<0)return $?O($,P):P;if(Q=$.state,!$.output||!$.input&&$.avail_in!==0||Q.status===666&&W!==4)return O($,$.avail_out===0?-5:P);if(Q.strm=$,H=Q.last_flush,Q.last_flush=W,Q.status===42)if(Q.wrap===2)$.adler=0,T(Q,31),T(Q,139),T(Q,8),Q.gzhead?(T(Q,(Q.gzhead.text?1:0)+(Q.gzhead.hcrc?2:0)+(Q.gzhead.extra?4:0)+(Q.gzhead.name?8:0)+(Q.gzhead.comment?16:0)),T(Q,255&Q.gzhead.time),T(Q,Q.gzhead.time>>8&255),T(Q,Q.gzhead.time>>16&255),T(Q,Q.gzhead.time>>24&255),T(Q,Q.level===9?2:2<=Q.strategy||Q.level<2?4:0),T(Q,255&Q.gzhead.os),Q.gzhead.extra&&Q.gzhead.extra.length&&(T(Q,255&Q.gzhead.extra.length),T(Q,Q.gzhead.extra.length>>8&255)),Q.gzhead.hcrc&&($.adler=y($.adler,Q.pending_buf,Q.pending,0)),Q.gzindex=0,Q.status=69):(T(Q,0),T(Q,0),T(Q,0),T(Q,0),T(Q,0),T(Q,Q.level===9?2:2<=Q.strategy||Q.level<2?4:0),T(Q,3),Q.status=D);else{var ee=8+(Q.w_bits-8<<4)<<8;ee|=(2<=Q.strategy||Q.level<2?0:Q.level<6?1:Q.level===6?2:3)<<6,Q.strstart!==0&&(ee|=32),ee+=31-ee%31,Q.status=D,w(Q,ee),Q.strstart!==0&&(w(Q,$.adler>>>16),w(Q,65535&$.adler)),$.adler=1}if(Q.status===69)if(Q.gzhead.extra){for(G=Q.pending;Q.gzindex<(65535&Q.gzhead.extra.length)&&(Q.pending!==Q.pending_buf_size||(Q.gzhead.hcrc&&Q.pending>G&&($.adler=y($.adler,Q.pending_buf,Q.pending-G,G)),_($),G=Q.pending,Q.pending!==Q.pending_buf_size));)T(Q,255&Q.gzhead.extra[Q.gzindex]),Q.gzindex++;Q.gzhead.hcrc&&Q.pending>G&&($.adler=y($.adler,Q.pending_buf,Q.pending-G,G)),Q.gzindex===Q.gzhead.extra.length&&(Q.gzindex=0,Q.status=73)}else Q.status=73;if(Q.status===73)if(Q.gzhead.name){G=Q.pending;do{if(Q.pending===Q.pending_buf_size&&(Q.gzhead.hcrc&&Q.pending>G&&($.adler=y($.adler,Q.pending_buf,Q.pending-G,G)),_($),G=Q.pending,Q.pending===Q.pending_buf_size)){J=1;break}J=Q.gzindex<Q.gzhead.name.length?255&Q.gzhead.name.charCodeAt(Q.gzindex++):0,T(Q,J)}while(J!==0);Q.gzhead.hcrc&&Q.pending>G&&($.adler=y($.adler,Q.pending_buf,Q.pending-G,G)),J===0&&(Q.gzindex=0,Q.status=91)}else Q.status=91;if(Q.status===91)if(Q.gzhead.comment){G=Q.pending;do{if(Q.pending===Q.pending_buf_size&&(Q.gzhead.hcrc&&Q.pending>G&&($.adler=y($.adler,Q.pending_buf,Q.pending-G,G)),_($),G=Q.pending,Q.pending===Q.pending_buf_size)){J=1;break}J=Q.gzindex<Q.gzhead.comment.length?255&Q.gzhead.comment.charCodeAt(Q.gzindex++):0,T(Q,J)}while(J!==0);Q.gzhead.hcrc&&Q.pending>G&&($.adler=y($.adler,Q.pending_buf,Q.pending-G,G)),J===0&&(Q.status=103)}else Q.status=103;if(Q.status===103&&(Q.gzhead.hcrc?(Q.pending+2>Q.pending_buf_size&&_($),Q.pending+2<=Q.pending_buf_size&&(T(Q,255&$.adler),T(Q,$.adler>>8&255),$.adler=0,Q.status=D)):Q.status=D),Q.pending!==0){if(_($),$.avail_out===0)return Q.last_flush=-1,0}else if($.avail_in===0&&L(W)<=L(H)&&W!==4)return O($,-5);if(Q.status===666&&$.avail_in!==0)return O($,-5);if($.avail_in!==0||Q.lookahead!==0||W!==0&&Q.status!==666){var K=Q.strategy===2?function(ne,ue){for(var se;;){if(ne.lookahead===0&&(j(ne),ne.lookahead===0)){if(ue===0)return 1;break}if(ne.match_length=0,se=x._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++,se&&(E(ne,!1),ne.strm.avail_out===0))return 1}return ne.insert=0,ue===4?(E(ne,!0),ne.strm.avail_out===0?3:4):ne.last_lit&&(E(ne,!1),ne.strm.avail_out===0)?1:2}(Q,W):Q.strategy===3?function(ne,ue){for(var se,ie,q,Z,te=ne.window;;){if(ne.lookahead<=M){if(j(ne),ne.lookahead<=M&&ue===0)return 1;if(ne.lookahead===0)break}if(ne.match_length=0,ne.lookahead>=3&&0<ne.strstart&&(ie=te[q=ne.strstart-1])===te[++q]&&ie===te[++q]&&ie===te[++q]){Z=ne.strstart+M;do;while(ie===te[++q]&&ie===te[++q]&&ie===te[++q]&&ie===te[++q]&&ie===te[++q]&&ie===te[++q]&&ie===te[++q]&&ie===te[++q]&&q<Z);ne.match_length=M-(Z-q),ne.match_length>ne.lookahead&&(ne.match_length=ne.lookahead)}if(ne.match_length>=3?(se=x._tr_tally(ne,1,ne.match_length-3),ne.lookahead-=ne.match_length,ne.strstart+=ne.match_length,ne.match_length=0):(se=x._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++),se&&(E(ne,!1),ne.strm.avail_out===0))return 1}return ne.insert=0,ue===4?(E(ne,!0),ne.strm.avail_out===0?3:4):ne.last_lit&&(E(ne,!1),ne.strm.avail_out===0)?1:2}(Q,W):p[Q.level].func(Q,W);if(K!==3&&K!==4||(Q.status=666),K===1||K===3)return $.avail_out===0&&(Q.last_flush=-1),0;if(K===2&&(W===1?x._tr_align(Q):W!==5&&(x._tr_stored_block(Q,0,0,!1),W===3&&(F(Q.head),Q.lookahead===0&&(Q.strstart=0,Q.block_start=0,Q.insert=0))),_($),$.avail_out===0))return Q.last_flush=-1,0}return W!==4?0:Q.wrap<=0?1:(Q.wrap===2?(T(Q,255&$.adler),T(Q,$.adler>>8&255),T(Q,$.adler>>16&255),T(Q,$.adler>>24&255),T(Q,255&$.total_in),T(Q,$.total_in>>8&255),T(Q,$.total_in>>16&255),T(Q,$.total_in>>24&255)):(w(Q,$.adler>>>16),w(Q,65535&$.adler)),_($),0<Q.wrap&&(Q.wrap=-Q.wrap),Q.pending!==0?0:1)},g.deflateEnd=function($){var W;return $&&$.state?(W=$.state.status)!==42&&W!==69&&W!==73&&W!==91&&W!==103&&W!==D&&W!==666?O($,P):($.state=null,W===D?O($,-3):0):P},g.deflateSetDictionary=function($,W){var H,Q,G,J,ee,K,ne,ue,se=W.length;if(!$||!$.state||(J=(H=$.state).wrap)===2||J===1&&H.status!==42||H.lookahead)return P;for(J===1&&($.adler=v($.adler,W,se,0)),H.wrap=0,se>=H.w_size&&(J===0&&(F(H.head),H.strstart=0,H.block_start=0,H.insert=0),ue=new b.Buf8(H.w_size),b.arraySet(ue,W,se-H.w_size,H.w_size,0),W=ue,se=H.w_size),ee=$.avail_in,K=$.next_in,ne=$.input,$.avail_in=se,$.next_in=0,$.input=W,j(H);H.lookahead>=3;){for(Q=H.strstart,G=H.lookahead-2;H.ins_h=(H.ins_h<<H.hash_shift^H.window[Q+3-1])&H.hash_mask,H.prev[Q&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=Q,Q++,--G;);H.strstart=Q,H.lookahead=2,j(H)}return H.strstart+=H.lookahead,H.block_start=H.strstart,H.insert=H.lookahead,H.lookahead=0,H.match_length=H.prev_length=2,H.match_available=0,$.next_in=K,$.input=ne,$.avail_in=ee,H.wrap=J,0},g.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(m,A,g){A.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(m,A,g){A.exports=function(p,b){var x,v,y,N,P,M,k,D,O,L,F,_,E,T,w,C,j,S,I,R,U,z,V,X,$;x=p.state,v=p.next_in,X=p.input,y=v+(p.avail_in-5),N=p.next_out,$=p.output,P=N-(b-p.avail_out),M=N+(p.avail_out-257),k=x.dmax,D=x.wsize,O=x.whave,L=x.wnext,F=x.window,_=x.hold,E=x.bits,T=x.lencode,w=x.distcode,C=(1<<x.lenbits)-1,j=(1<<x.distbits)-1;e:do{E<15&&(_+=X[v++]<<E,E+=8,_+=X[v++]<<E,E+=8),S=T[_&C];t:for(;;){if(_>>>=I=S>>>24,E-=I,(I=S>>>16&255)==0)$[N++]=65535&S;else{if(!(16&I)){if(!(64&I)){S=T[(65535&S)+(_&(1<<I)-1)];continue t}if(32&I){x.mode=12;break e}p.msg="invalid literal/length code",x.mode=30;break e}R=65535&S,(I&=15)&&(E<I&&(_+=X[v++]<<E,E+=8),R+=_&(1<<I)-1,_>>>=I,E-=I),E<15&&(_+=X[v++]<<E,E+=8,_+=X[v++]<<E,E+=8),S=w[_&j];n:for(;;){if(_>>>=I=S>>>24,E-=I,!(16&(I=S>>>16&255))){if(!(64&I)){S=w[(65535&S)+(_&(1<<I)-1)];continue n}p.msg="invalid distance code",x.mode=30;break e}if(U=65535&S,E<(I&=15)&&(_+=X[v++]<<E,(E+=8)<I&&(_+=X[v++]<<E,E+=8)),k<(U+=_&(1<<I)-1)){p.msg="invalid distance too far back",x.mode=30;break e}if(_>>>=I,E-=I,(I=N-P)<U){if(O<(I=U-I)&&x.sane){p.msg="invalid distance too far back",x.mode=30;break e}if(V=F,(z=0)===L){if(z+=D-I,I<R){for(R-=I;$[N++]=F[z++],--I;);z=N-U,V=$}}else if(L<I){if(z+=D+L-I,(I-=L)<R){for(R-=I;$[N++]=F[z++],--I;);if(z=0,L<R){for(R-=I=L;$[N++]=F[z++],--I;);z=N-U,V=$}}}else if(z+=L-I,I<R){for(R-=I;$[N++]=F[z++],--I;);z=N-U,V=$}for(;2<R;)$[N++]=V[z++],$[N++]=V[z++],$[N++]=V[z++],R-=3;R&&($[N++]=V[z++],1<R&&($[N++]=V[z++]))}else{for(z=N-U;$[N++]=$[z++],$[N++]=$[z++],$[N++]=$[z++],2<(R-=3););R&&($[N++]=$[z++],1<R&&($[N++]=$[z++]))}break}}break}}while(v<y&&N<M);v-=R=E>>3,_&=(1<<(E-=R<<3))-1,p.next_in=v,p.next_out=N,p.avail_in=v<y?y-v+5:5-(v-y),p.avail_out=N<M?M-N+257:257-(N-M),x.hold=_,x.bits=E}},{}],49:[function(m,A,g){var p=m("../utils/common"),b=m("./adler32"),x=m("./crc32"),v=m("./inffast"),y=m("./inftrees"),N=-2;function P(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function M(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new p.Buf16(320),this.work=new p.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(C){var j;return C&&C.state?(j=C.state,C.total_in=C.total_out=j.total=0,C.msg="",j.wrap&&(C.adler=1&j.wrap),j.mode=1,j.last=0,j.havedict=0,j.dmax=32768,j.head=null,j.hold=0,j.bits=0,j.lencode=j.lendyn=new p.Buf32(852),j.distcode=j.distdyn=new p.Buf32(592),j.sane=1,j.back=-1,0):N}function D(C){var j;return C&&C.state?((j=C.state).wsize=0,j.whave=0,j.wnext=0,k(C)):N}function O(C,j){var S,I;return C&&C.state?(I=C.state,j<0?(S=0,j=-j):(S=1+(j>>4),j<48&&(j&=15)),j&&(j<8||15<j)?N:(I.window!==null&&I.wbits!==j&&(I.window=null),I.wrap=S,I.wbits=j,D(C))):N}function L(C,j){var S,I;return C?(I=new M,(C.state=I).window=null,(S=O(C,j))!==0&&(C.state=null),S):N}var F,_,E=!0;function T(C){if(E){var j;for(F=new p.Buf32(512),_=new p.Buf32(32),j=0;j<144;)C.lens[j++]=8;for(;j<256;)C.lens[j++]=9;for(;j<280;)C.lens[j++]=7;for(;j<288;)C.lens[j++]=8;for(y(1,C.lens,0,288,F,0,C.work,{bits:9}),j=0;j<32;)C.lens[j++]=5;y(2,C.lens,0,32,_,0,C.work,{bits:5}),E=!1}C.lencode=F,C.lenbits=9,C.distcode=_,C.distbits=5}function w(C,j,S,I){var R,U=C.state;return U.window===null&&(U.wsize=1<<U.wbits,U.wnext=0,U.whave=0,U.window=new p.Buf8(U.wsize)),I>=U.wsize?(p.arraySet(U.window,j,S-U.wsize,U.wsize,0),U.wnext=0,U.whave=U.wsize):(I<(R=U.wsize-U.wnext)&&(R=I),p.arraySet(U.window,j,S-I,R,U.wnext),(I-=R)?(p.arraySet(U.window,j,S-I,I,0),U.wnext=I,U.whave=U.wsize):(U.wnext+=R,U.wnext===U.wsize&&(U.wnext=0),U.whave<U.wsize&&(U.whave+=R))),0}g.inflateReset=D,g.inflateReset2=O,g.inflateResetKeep=k,g.inflateInit=function(C){return L(C,15)},g.inflateInit2=L,g.inflate=function(C,j){var S,I,R,U,z,V,X,$,W,H,Q,G,J,ee,K,ne,ue,se,ie,q,Z,te,re,Y,oe=0,ae=new p.Buf8(4),ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return N;(S=C.state).mode===12&&(S.mode=13),z=C.next_out,R=C.output,X=C.avail_out,U=C.next_in,I=C.input,V=C.avail_in,$=S.hold,W=S.bits,H=V,Q=X,te=0;e:for(;;)switch(S.mode){case 1:if(S.wrap===0){S.mode=13;break}for(;W<16;){if(V===0)break e;V--,$+=I[U++]<<W,W+=8}if(2&S.wrap&&$===35615){ae[S.check=0]=255&$,ae[1]=$>>>8&255,S.check=x(S.check,ae,2,0),W=$=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&$)<<8)+($>>8))%31){C.msg="incorrect header check",S.mode=30;break}if((15&$)!=8){C.msg="unknown compression method",S.mode=30;break}if(W-=4,Z=8+(15&($>>>=4)),S.wbits===0)S.wbits=Z;else if(Z>S.wbits){C.msg="invalid window size",S.mode=30;break}S.dmax=1<<Z,C.adler=S.check=1,S.mode=512&$?10:12,W=$=0;break;case 2:for(;W<16;){if(V===0)break e;V--,$+=I[U++]<<W,W+=8}if(S.flags=$,(255&S.flags)!=8){C.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){C.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=$>>8&1),512&S.flags&&(ae[0]=255&$,ae[1]=$>>>8&255,S.check=x(S.check,ae,2,0)),W=$=0,S.mode=3;case 3:for(;W<32;){if(V===0)break e;V--,$+=I[U++]<<W,W+=8}S.head&&(S.head.time=$),512&S.flags&&(ae[0]=255&$,ae[1]=$>>>8&255,ae[2]=$>>>16&255,ae[3]=$>>>24&255,S.check=x(S.check,ae,4,0)),W=$=0,S.mode=4;case 4:for(;W<16;){if(V===0)break e;V--,$+=I[U++]<<W,W+=8}S.head&&(S.head.xflags=255&$,S.head.os=$>>8),512&S.flags&&(ae[0]=255&$,ae[1]=$>>>8&255,S.check=x(S.check,ae,2,0)),W=$=0,S.mode=5;case 5:if(1024&S.flags){for(;W<16;){if(V===0)break e;V--,$+=I[U++]<<W,W+=8}S.length=$,S.head&&(S.head.extra_len=$),512&S.flags&&(ae[0]=255&$,ae[1]=$>>>8&255,S.check=x(S.check,ae,2,0)),W=$=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(V<(G=S.length)&&(G=V),G&&(S.head&&(Z=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),p.arraySet(S.head.extra,I,U,G,Z)),512&S.flags&&(S.check=x(S.check,I,G,U)),V-=G,U+=G,S.length-=G),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(V===0)break e;for(G=0;Z=I[U+G++],S.head&&Z&&S.length<65536&&(S.head.name+=String.fromCharCode(Z)),Z&&G<V;);if(512&S.flags&&(S.check=x(S.check,I,G,U)),V-=G,U+=G,Z)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(V===0)break e;for(G=0;Z=I[U+G++],S.head&&Z&&S.length<65536&&(S.head.comment+=String.fromCharCode(Z)),Z&&G<V;);if(512&S.flags&&(S.check=x(S.check,I,G,U)),V-=G,U+=G,Z)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;W<16;){if(V===0)break e;V--,$+=I[U++]<<W,W+=8}if($!==(65535&S.check)){C.msg="header crc mismatch",S.mode=30;break}W=$=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),C.adler=S.check=0,S.mode=12;break;case 10:for(;W<32;){if(V===0)break e;V--,$+=I[U++]<<W,W+=8}C.adler=S.check=P($),W=$=0,S.mode=11;case 11:if(S.havedict===0)return C.next_out=z,C.avail_out=X,C.next_in=U,C.avail_in=V,S.hold=$,S.bits=W,2;C.adler=S.check=1,S.mode=12;case 12:if(j===5||j===6)break e;case 13:if(S.last){$>>>=7&W,W-=7&W,S.mode=27;break}for(;W<3;){if(V===0)break e;V--,$+=I[U++]<<W,W+=8}switch(S.last=1&$,W-=1,3&($>>>=1)){case 0:S.mode=14;break;case 1:if(T(S),S.mode=20,j!==6)break;$>>>=2,W-=2;break e;case 2:S.mode=17;break;case 3:C.msg="invalid block type",S.mode=30}$>>>=2,W-=2;break;case 14:for($>>>=7&W,W-=7&W;W<32;){if(V===0)break e;V--,$+=I[U++]<<W,W+=8}if((65535&$)!=($>>>16^65535)){C.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&$,W=$=0,S.mode=15,j===6)break e;case 15:S.mode=16;case 16:if(G=S.length){if(V<G&&(G=V),X<G&&(G=X),G===0)break e;p.arraySet(R,I,U,G,z),V-=G,U+=G,X-=G,z+=G,S.length-=G;break}S.mode=12;break;case 17:for(;W<14;){if(V===0)break e;V--,$+=I[U++]<<W,W+=8}if(S.nlen=257+(31&$),$>>>=5,W-=5,S.ndist=1+(31&$),$>>>=5,W-=5,S.ncode=4+(15&$),$>>>=4,W-=4,286<S.nlen||30<S.ndist){C.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;W<3;){if(V===0)break e;V--,$+=I[U++]<<W,W+=8}S.lens[ce[S.have++]]=7&$,$>>>=3,W-=3}for(;S.have<19;)S.lens[ce[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,re={bits:S.lenbits},te=y(0,S.lens,0,19,S.lencode,0,S.work,re),S.lenbits=re.bits,te){C.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;ne=(oe=S.lencode[$&(1<<S.lenbits)-1])>>>16&255,ue=65535&oe,!((K=oe>>>24)<=W);){if(V===0)break e;V--,$+=I[U++]<<W,W+=8}if(ue<16)$>>>=K,W-=K,S.lens[S.have++]=ue;else{if(ue===16){for(Y=K+2;W<Y;){if(V===0)break e;V--,$+=I[U++]<<W,W+=8}if($>>>=K,W-=K,S.have===0){C.msg="invalid bit length repeat",S.mode=30;break}Z=S.lens[S.have-1],G=3+(3&$),$>>>=2,W-=2}else if(ue===17){for(Y=K+3;W<Y;){if(V===0)break e;V--,$+=I[U++]<<W,W+=8}W-=K,Z=0,G=3+(7&($>>>=K)),$>>>=3,W-=3}else{for(Y=K+7;W<Y;){if(V===0)break e;V--,$+=I[U++]<<W,W+=8}W-=K,Z=0,G=11+(127&($>>>=K)),$>>>=7,W-=7}if(S.have+G>S.nlen+S.ndist){C.msg="invalid bit length repeat",S.mode=30;break}for(;G--;)S.lens[S.have++]=Z}}if(S.mode===30)break;if(S.lens[256]===0){C.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,re={bits:S.lenbits},te=y(1,S.lens,0,S.nlen,S.lencode,0,S.work,re),S.lenbits=re.bits,te){C.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,re={bits:S.distbits},te=y(2,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,re),S.distbits=re.bits,te){C.msg="invalid distances set",S.mode=30;break}if(S.mode=20,j===6)break e;case 20:S.mode=21;case 21:if(6<=V&&258<=X){C.next_out=z,C.avail_out=X,C.next_in=U,C.avail_in=V,S.hold=$,S.bits=W,v(C,Q),z=C.next_out,R=C.output,X=C.avail_out,U=C.next_in,I=C.input,V=C.avail_in,$=S.hold,W=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;ne=(oe=S.lencode[$&(1<<S.lenbits)-1])>>>16&255,ue=65535&oe,!((K=oe>>>24)<=W);){if(V===0)break e;V--,$+=I[U++]<<W,W+=8}if(ne&&!(240&ne)){for(se=K,ie=ne,q=ue;ne=(oe=S.lencode[q+(($&(1<<se+ie)-1)>>se)])>>>16&255,ue=65535&oe,!(se+(K=oe>>>24)<=W);){if(V===0)break e;V--,$+=I[U++]<<W,W+=8}$>>>=se,W-=se,S.back+=se}if($>>>=K,W-=K,S.back+=K,S.length=ue,ne===0){S.mode=26;break}if(32&ne){S.back=-1,S.mode=12;break}if(64&ne){C.msg="invalid literal/length code",S.mode=30;break}S.extra=15&ne,S.mode=22;case 22:if(S.extra){for(Y=S.extra;W<Y;){if(V===0)break e;V--,$+=I[U++]<<W,W+=8}S.length+=$&(1<<S.extra)-1,$>>>=S.extra,W-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;ne=(oe=S.distcode[$&(1<<S.distbits)-1])>>>16&255,ue=65535&oe,!((K=oe>>>24)<=W);){if(V===0)break e;V--,$+=I[U++]<<W,W+=8}if(!(240&ne)){for(se=K,ie=ne,q=ue;ne=(oe=S.distcode[q+(($&(1<<se+ie)-1)>>se)])>>>16&255,ue=65535&oe,!(se+(K=oe>>>24)<=W);){if(V===0)break e;V--,$+=I[U++]<<W,W+=8}$>>>=se,W-=se,S.back+=se}if($>>>=K,W-=K,S.back+=K,64&ne){C.msg="invalid distance code",S.mode=30;break}S.offset=ue,S.extra=15&ne,S.mode=24;case 24:if(S.extra){for(Y=S.extra;W<Y;){if(V===0)break e;V--,$+=I[U++]<<W,W+=8}S.offset+=$&(1<<S.extra)-1,$>>>=S.extra,W-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){C.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(X===0)break e;if(G=Q-X,S.offset>G){if((G=S.offset-G)>S.whave&&S.sane){C.msg="invalid distance too far back",S.mode=30;break}J=G>S.wnext?(G-=S.wnext,S.wsize-G):S.wnext-G,G>S.length&&(G=S.length),ee=S.window}else ee=R,J=z-S.offset,G=S.length;for(X<G&&(G=X),X-=G,S.length-=G;R[z++]=ee[J++],--G;);S.length===0&&(S.mode=21);break;case 26:if(X===0)break e;R[z++]=S.length,X--,S.mode=21;break;case 27:if(S.wrap){for(;W<32;){if(V===0)break e;V--,$|=I[U++]<<W,W+=8}if(Q-=X,C.total_out+=Q,S.total+=Q,Q&&(C.adler=S.check=S.flags?x(S.check,R,Q,z-Q):b(S.check,R,Q,z-Q)),Q=X,(S.flags?$:P($))!==S.check){C.msg="incorrect data check",S.mode=30;break}W=$=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;W<32;){if(V===0)break e;V--,$+=I[U++]<<W,W+=8}if($!==(4294967295&S.total)){C.msg="incorrect length check",S.mode=30;break}W=$=0}S.mode=29;case 29:te=1;break e;case 30:te=-3;break e;case 31:return-4;case 32:default:return N}return C.next_out=z,C.avail_out=X,C.next_in=U,C.avail_in=V,S.hold=$,S.bits=W,(S.wsize||Q!==C.avail_out&&S.mode<30&&(S.mode<27||j!==4))&&w(C,C.output,C.next_out,Q-C.avail_out)?(S.mode=31,-4):(H-=C.avail_in,Q-=C.avail_out,C.total_in+=H,C.total_out+=Q,S.total+=Q,S.wrap&&Q&&(C.adler=S.check=S.flags?x(S.check,R,Q,C.next_out-Q):b(S.check,R,Q,C.next_out-Q)),C.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(H==0&&Q===0||j===4)&&te===0&&(te=-5),te)},g.inflateEnd=function(C){if(!C||!C.state)return N;var j=C.state;return j.window&&(j.window=null),C.state=null,0},g.inflateGetHeader=function(C,j){var S;return C&&C.state&&2&(S=C.state).wrap?((S.head=j).done=!1,0):N},g.inflateSetDictionary=function(C,j){var S,I=j.length;return C&&C.state?(S=C.state).wrap!==0&&S.mode!==11?N:S.mode===11&&b(1,j,I,0)!==S.check?-3:w(C,j,I,I)?(S.mode=31,-4):(S.havedict=1,0):N},g.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(m,A,g){var p=m("../utils/common"),b=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],x=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],v=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],y=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];A.exports=function(N,P,M,k,D,O,L,F){var _,E,T,w,C,j,S,I,R,U=F.bits,z=0,V=0,X=0,$=0,W=0,H=0,Q=0,G=0,J=0,ee=0,K=null,ne=0,ue=new p.Buf16(16),se=new p.Buf16(16),ie=null,q=0;for(z=0;z<=15;z++)ue[z]=0;for(V=0;V<k;V++)ue[P[M+V]]++;for(W=U,$=15;1<=$&&ue[$]===0;$--);if($<W&&(W=$),$===0)return D[O++]=20971520,D[O++]=20971520,F.bits=1,0;for(X=1;X<$&&ue[X]===0;X++);for(W<X&&(W=X),z=G=1;z<=15;z++)if(G<<=1,(G-=ue[z])<0)return-1;if(0<G&&(N===0||$!==1))return-1;for(se[1]=0,z=1;z<15;z++)se[z+1]=se[z]+ue[z];for(V=0;V<k;V++)P[M+V]!==0&&(L[se[P[M+V]]++]=V);if(j=N===0?(K=ie=L,19):N===1?(K=b,ne-=257,ie=x,q-=257,256):(K=v,ie=y,-1),z=X,C=O,Q=V=ee=0,T=-1,w=(J=1<<(H=W))-1,N===1&&852<J||N===2&&592<J)return 1;for(;;){for(S=z-Q,R=L[V]<j?(I=0,L[V]):L[V]>j?(I=ie[q+L[V]],K[ne+L[V]]):(I=96,0),_=1<<z-Q,X=E=1<<H;D[C+(ee>>Q)+(E-=_)]=S<<24|I<<16|R|0,E!==0;);for(_=1<<z-1;ee&_;)_>>=1;if(_!==0?(ee&=_-1,ee+=_):ee=0,V++,--ue[z]==0){if(z===$)break;z=P[M+L[V]]}if(W<z&&(ee&w)!==T){for(Q===0&&(Q=W),C+=X,G=1<<(H=z-Q);H+Q<$&&!((G-=ue[H+Q])<=0);)H++,G<<=1;if(J+=1<<H,N===1&&852<J||N===2&&592<J)return 1;D[T=ee&w]=W<<24|H<<16|C-O|0}}return ee!==0&&(D[C+ee]=z-Q<<24|64<<16|0),F.bits=W,0}},{"../utils/common":41}],51:[function(m,A,g){A.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(m,A,g){var p=m("../utils/common");function b(ie){for(var q=ie.length;0<=--q;)ie[q]=0}var x=256,v=286,y=30,N=15,P=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=new Array(576);b(O);var L=new Array(60);b(L);var F=new Array(512);b(F);var _=new Array(256);b(_);var E=new Array(29);b(E);var T,w,C,j=new Array(y);function S(ie,q,Z,te,re){this.static_tree=ie,this.extra_bits=q,this.extra_base=Z,this.elems=te,this.max_length=re,this.has_stree=ie&&ie.length}function I(ie,q){this.dyn_tree=ie,this.max_code=0,this.stat_desc=q}function R(ie){return ie<256?F[ie]:F[256+(ie>>>7)]}function U(ie,q){ie.pending_buf[ie.pending++]=255&q,ie.pending_buf[ie.pending++]=q>>>8&255}function z(ie,q,Z){ie.bi_valid>16-Z?(ie.bi_buf|=q<<ie.bi_valid&65535,U(ie,ie.bi_buf),ie.bi_buf=q>>16-ie.bi_valid,ie.bi_valid+=Z-16):(ie.bi_buf|=q<<ie.bi_valid&65535,ie.bi_valid+=Z)}function V(ie,q,Z){z(ie,Z[2*q],Z[2*q+1])}function X(ie,q){for(var Z=0;Z|=1&ie,ie>>>=1,Z<<=1,0<--q;);return Z>>>1}function $(ie,q,Z){var te,re,Y=new Array(16),oe=0;for(te=1;te<=N;te++)Y[te]=oe=oe+Z[te-1]<<1;for(re=0;re<=q;re++){var ae=ie[2*re+1];ae!==0&&(ie[2*re]=X(Y[ae]++,ae))}}function W(ie){var q;for(q=0;q<v;q++)ie.dyn_ltree[2*q]=0;for(q=0;q<y;q++)ie.dyn_dtree[2*q]=0;for(q=0;q<19;q++)ie.bl_tree[2*q]=0;ie.dyn_ltree[512]=1,ie.opt_len=ie.static_len=0,ie.last_lit=ie.matches=0}function H(ie){8<ie.bi_valid?U(ie,ie.bi_buf):0<ie.bi_valid&&(ie.pending_buf[ie.pending++]=ie.bi_buf),ie.bi_buf=0,ie.bi_valid=0}function Q(ie,q,Z,te){var re=2*q,Y=2*Z;return ie[re]<ie[Y]||ie[re]===ie[Y]&&te[q]<=te[Z]}function G(ie,q,Z){for(var te=ie.heap[Z],re=Z<<1;re<=ie.heap_len&&(re<ie.heap_len&&Q(q,ie.heap[re+1],ie.heap[re],ie.depth)&&re++,!Q(q,te,ie.heap[re],ie.depth));)ie.heap[Z]=ie.heap[re],Z=re,re<<=1;ie.heap[Z]=te}function J(ie,q,Z){var te,re,Y,oe,ae=0;if(ie.last_lit!==0)for(;te=ie.pending_buf[ie.d_buf+2*ae]<<8|ie.pending_buf[ie.d_buf+2*ae+1],re=ie.pending_buf[ie.l_buf+ae],ae++,te===0?V(ie,re,q):(V(ie,(Y=_[re])+x+1,q),(oe=P[Y])!==0&&z(ie,re-=E[Y],oe),V(ie,Y=R(--te),Z),(oe=M[Y])!==0&&z(ie,te-=j[Y],oe)),ae<ie.last_lit;);V(ie,256,q)}function ee(ie,q){var Z,te,re,Y=q.dyn_tree,oe=q.stat_desc.static_tree,ae=q.stat_desc.has_stree,ce=q.stat_desc.elems,de=-1;for(ie.heap_len=0,ie.heap_max=573,Z=0;Z<ce;Z++)Y[2*Z]!==0?(ie.heap[++ie.heap_len]=de=Z,ie.depth[Z]=0):Y[2*Z+1]=0;for(;ie.heap_len<2;)Y[2*(re=ie.heap[++ie.heap_len]=de<2?++de:0)]=1,ie.depth[re]=0,ie.opt_len--,ae&&(ie.static_len-=oe[2*re+1]);for(q.max_code=de,Z=ie.heap_len>>1;1<=Z;Z--)G(ie,Y,Z);for(re=ce;Z=ie.heap[1],ie.heap[1]=ie.heap[ie.heap_len--],G(ie,Y,1),te=ie.heap[1],ie.heap[--ie.heap_max]=Z,ie.heap[--ie.heap_max]=te,Y[2*re]=Y[2*Z]+Y[2*te],ie.depth[re]=(ie.depth[Z]>=ie.depth[te]?ie.depth[Z]:ie.depth[te])+1,Y[2*Z+1]=Y[2*te+1]=re,ie.heap[1]=re++,G(ie,Y,1),2<=ie.heap_len;);ie.heap[--ie.heap_max]=ie.heap[1],function(pe,Ae){var le,he,me,ve,_e,Te,Ue=Ae.dyn_tree,Ee=Ae.max_code,Me=Ae.stat_desc.static_tree,Ie=Ae.stat_desc.has_stree,Ce=Ae.stat_desc.extra_bits,Pe=Ae.stat_desc.extra_base,ge=Ae.stat_desc.max_length,Ne=0;for(ve=0;ve<=N;ve++)pe.bl_count[ve]=0;for(Ue[2*pe.heap[pe.heap_max]+1]=0,le=pe.heap_max+1;le<573;le++)ge<(ve=Ue[2*Ue[2*(he=pe.heap[le])+1]+1]+1)&&(ve=ge,Ne++),Ue[2*he+1]=ve,Ee<he||(pe.bl_count[ve]++,_e=0,Pe<=he&&(_e=Ce[he-Pe]),Te=Ue[2*he],pe.opt_len+=Te*(ve+_e),Ie&&(pe.static_len+=Te*(Me[2*he+1]+_e)));if(Ne!==0){do{for(ve=ge-1;pe.bl_count[ve]===0;)ve--;pe.bl_count[ve]--,pe.bl_count[ve+1]+=2,pe.bl_count[ge]--,Ne-=2}while(0<Ne);for(ve=ge;ve!==0;ve--)for(he=pe.bl_count[ve];he!==0;)Ee<(me=pe.heap[--le])||(Ue[2*me+1]!==ve&&(pe.opt_len+=(ve-Ue[2*me+1])*Ue[2*me],Ue[2*me+1]=ve),he--)}}(ie,q),$(Y,de,ie.bl_count)}function K(ie,q,Z){var te,re,Y=-1,oe=q[1],ae=0,ce=7,de=4;for(oe===0&&(ce=138,de=3),q[2*(Z+1)+1]=65535,te=0;te<=Z;te++)re=oe,oe=q[2*(te+1)+1],++ae<ce&&re===oe||(ae<de?ie.bl_tree[2*re]+=ae:re!==0?(re!==Y&&ie.bl_tree[2*re]++,ie.bl_tree[32]++):ae<=10?ie.bl_tree[34]++:ie.bl_tree[36]++,Y=re,de=(ae=0)===oe?(ce=138,3):re===oe?(ce=6,3):(ce=7,4))}function ne(ie,q,Z){var te,re,Y=-1,oe=q[1],ae=0,ce=7,de=4;for(oe===0&&(ce=138,de=3),te=0;te<=Z;te++)if(re=oe,oe=q[2*(te+1)+1],!(++ae<ce&&re===oe)){if(ae<de)for(;V(ie,re,ie.bl_tree),--ae!=0;);else re!==0?(re!==Y&&(V(ie,re,ie.bl_tree),ae--),V(ie,16,ie.bl_tree),z(ie,ae-3,2)):ae<=10?(V(ie,17,ie.bl_tree),z(ie,ae-3,3)):(V(ie,18,ie.bl_tree),z(ie,ae-11,7));Y=re,de=(ae=0)===oe?(ce=138,3):re===oe?(ce=6,3):(ce=7,4)}}b(j);var ue=!1;function se(ie,q,Z,te){z(ie,0+(te?1:0),3),function(re,Y,oe,ae){H(re),U(re,oe),U(re,~oe),p.arraySet(re.pending_buf,re.window,Y,oe,re.pending),re.pending+=oe}(ie,q,Z)}g._tr_init=function(ie){ue||(function(){var q,Z,te,re,Y,oe=new Array(16);for(re=te=0;re<28;re++)for(E[re]=te,q=0;q<1<<P[re];q++)_[te++]=re;for(_[te-1]=re,re=Y=0;re<16;re++)for(j[re]=Y,q=0;q<1<<M[re];q++)F[Y++]=re;for(Y>>=7;re<y;re++)for(j[re]=Y<<7,q=0;q<1<<M[re]-7;q++)F[256+Y++]=re;for(Z=0;Z<=N;Z++)oe[Z]=0;for(q=0;q<=143;)O[2*q+1]=8,q++,oe[8]++;for(;q<=255;)O[2*q+1]=9,q++,oe[9]++;for(;q<=279;)O[2*q+1]=7,q++,oe[7]++;for(;q<=287;)O[2*q+1]=8,q++,oe[8]++;for($(O,287,oe),q=0;q<y;q++)L[2*q+1]=5,L[2*q]=X(q,5);T=new S(O,P,257,v,N),w=new S(L,M,0,y,N),C=new S(new Array(0),k,0,19,7)}(),ue=!0),ie.l_desc=new I(ie.dyn_ltree,T),ie.d_desc=new I(ie.dyn_dtree,w),ie.bl_desc=new I(ie.bl_tree,C),ie.bi_buf=0,ie.bi_valid=0,W(ie)},g._tr_stored_block=se,g._tr_flush_block=function(ie,q,Z,te){var re,Y,oe=0;0<ie.level?(ie.strm.data_type===2&&(ie.strm.data_type=function(ae){var ce,de=4093624447;for(ce=0;ce<=31;ce++,de>>>=1)if(1&de&&ae.dyn_ltree[2*ce]!==0)return 0;if(ae.dyn_ltree[18]!==0||ae.dyn_ltree[20]!==0||ae.dyn_ltree[26]!==0)return 1;for(ce=32;ce<x;ce++)if(ae.dyn_ltree[2*ce]!==0)return 1;return 0}(ie)),ee(ie,ie.l_desc),ee(ie,ie.d_desc),oe=function(ae){var ce;for(K(ae,ae.dyn_ltree,ae.l_desc.max_code),K(ae,ae.dyn_dtree,ae.d_desc.max_code),ee(ae,ae.bl_desc),ce=18;3<=ce&&ae.bl_tree[2*D[ce]+1]===0;ce--);return ae.opt_len+=3*(ce+1)+5+5+4,ce}(ie),re=ie.opt_len+3+7>>>3,(Y=ie.static_len+3+7>>>3)<=re&&(re=Y)):re=Y=Z+5,Z+4<=re&&q!==-1?se(ie,q,Z,te):ie.strategy===4||Y===re?(z(ie,2+(te?1:0),3),J(ie,O,L)):(z(ie,4+(te?1:0),3),function(ae,ce,de,pe){var Ae;for(z(ae,ce-257,5),z(ae,de-1,5),z(ae,pe-4,4),Ae=0;Ae<pe;Ae++)z(ae,ae.bl_tree[2*D[Ae]+1],3);ne(ae,ae.dyn_ltree,ce-1),ne(ae,ae.dyn_dtree,de-1)}(ie,ie.l_desc.max_code+1,ie.d_desc.max_code+1,oe+1),J(ie,ie.dyn_ltree,ie.dyn_dtree)),W(ie),te&&H(ie)},g._tr_tally=function(ie,q,Z){return ie.pending_buf[ie.d_buf+2*ie.last_lit]=q>>>8&255,ie.pending_buf[ie.d_buf+2*ie.last_lit+1]=255&q,ie.pending_buf[ie.l_buf+ie.last_lit]=255&Z,ie.last_lit++,q===0?ie.dyn_ltree[2*Z]++:(ie.matches++,q--,ie.dyn_ltree[2*(_[Z]+x+1)]++,ie.dyn_dtree[2*R(q)]++),ie.last_lit===ie.lit_bufsize-1},g._tr_align=function(ie){z(ie,2,3),V(ie,256,O),function(q){q.bi_valid===16?(U(q,q.bi_buf),q.bi_buf=0,q.bi_valid=0):8<=q.bi_valid&&(q.pending_buf[q.pending++]=255&q.bi_buf,q.bi_buf>>=8,q.bi_valid-=8)}(ie)}},{"../utils/common":41}],53:[function(m,A,g){A.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(m,A,g){(function(p){(function(b,x){if(!b.setImmediate){var v,y,N,P,M=1,k={},D=!1,O=b.document,L=Object.getPrototypeOf&&Object.getPrototypeOf(b);L=L&&L.setTimeout?L:b,v={}.toString.call(b.process)==="[object process]"?function(T){a.nextTick(function(){_(T)})}:function(){if(b.postMessage&&!b.importScripts){var T=!0,w=b.onmessage;return b.onmessage=function(){T=!1},b.postMessage("","*"),b.onmessage=w,T}}()?(P="setImmediate$"+Math.random()+"$",b.addEventListener?b.addEventListener("message",E,!1):b.attachEvent("onmessage",E),function(T){b.postMessage(P+T,"*")}):b.MessageChannel?((N=new MessageChannel).port1.onmessage=function(T){_(T.data)},function(T){N.port2.postMessage(T)}):O&&"onreadystatechange"in O.createElement("script")?(y=O.documentElement,function(T){var w=O.createElement("script");w.onreadystatechange=function(){_(T),w.onreadystatechange=null,y.removeChild(w),w=null},y.appendChild(w)}):function(T){setTimeout(_,0,T)},L.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var w=new Array(arguments.length-1),C=0;C<w.length;C++)w[C]=arguments[C+1];var j={callback:T,args:w};return k[M]=j,v(M),M++},L.clearImmediate=F}function F(T){delete k[T]}function _(T){if(D)setTimeout(_,0,T);else{var w=k[T];if(w){D=!0;try{(function(C){var j=C.callback,S=C.args;switch(S.length){case 0:j();break;case 1:j(S[0]);break;case 2:j(S[0],S[1]);break;case 3:j(S[0],S[1],S[2]);break;default:j.apply(void 0,S)}})(w)}finally{F(T),D=!1}}}}function E(T){T.source===b&&typeof T.data=="string"&&T.data.indexOf(P)===0&&_(+T.data.slice(P.length))}})(typeof self>"u"?p===void 0?this:p:self)}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,n("_process"),typeof ln<"u"?ln:typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],n("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(n,s,i){(function(a){(function(){var o=/[\\^$.*+?()[\]{}|]/g,c=RegExp(o.source),l=typeof a=="object"&&a&&a.Object===Object&&a,u=typeof self=="object"&&self&&self.Object===Object&&self,d=l||u||Function("return this")(),f=Object.prototype.toString,h=d.Symbol,m=h?h.prototype:void 0,A=m?m.toString:void 0;function g(p){if(typeof p=="string")return p;if(function(x){return typeof x=="symbol"||function(v){return!!v&&typeof v=="object"}(x)&&f.call(x)=="[object Symbol]"}(p))return A?A.call(p):"";var b=p+"";return b=="0"&&1/p==-1/0?"-0":b}s.exports=function(p){var b;return(p=(b=p)==null?"":g(b))&&c.test(p)?p.replace(o,"\\$&"):p}}).call(this)}).call(this,typeof ln<"u"?ln:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(n,s,i){(function(a){(function(){var o="[object Arguments]",c="[object Map]",l="[object Object]",u="[object Set]",d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/,h=/^\./,m=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,A=/\\(\\)?/g,g=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,b={};b["[object Float32Array]"]=b["[object Float64Array]"]=b["[object Int8Array]"]=b["[object Int16Array]"]=b["[object Int32Array]"]=b["[object Uint8Array]"]=b["[object Uint8ClampedArray]"]=b["[object Uint16Array]"]=b["[object Uint32Array]"]=!0,b[o]=b["[object Array]"]=b["[object ArrayBuffer]"]=b["[object Boolean]"]=b["[object DataView]"]=b["[object Date]"]=b["[object Error]"]=b["[object Function]"]=b[c]=b["[object Number]"]=b[l]=b["[object RegExp]"]=b[u]=b["[object String]"]=b["[object WeakMap]"]=!1;var x=typeof a=="object"&&a&&a.Object===Object&&a,v=typeof self=="object"&&self&&self.Object===Object&&self,y=x||v||Function("return this")(),N=typeof i=="object"&&i&&!i.nodeType&&i,P=N&&typeof s=="object"&&s&&!s.nodeType&&s,M=P&&P.exports===N&&x.process,k=function(){try{return M&&M.binding("util")}catch{}}(),D=k&&k.isTypedArray;function O(xe,Oe,qe,Je){for(var kt=-1,ot=xe?xe.length:0;++kt<ot;){var tt=xe[kt];Oe(Je,tt,qe(tt),xe)}return Je}function L(xe,Oe){for(var qe=-1,Je=xe?xe.length:0;++qe<Je;)if(Oe(xe[qe],qe,xe))return!0;return!1}function F(xe){var Oe=!1;if(xe!=null&&typeof xe.toString!="function")try{Oe=!!(xe+"")}catch{}return Oe}function _(xe){var Oe=-1,qe=Array(xe.size);return xe.forEach(function(Je,kt){qe[++Oe]=[kt,Je]}),qe}function E(xe){var Oe=-1,qe=Array(xe.size);return xe.forEach(function(Je){qe[++Oe]=Je}),qe}var T,w,C,j=Array.prototype,S=Function.prototype,I=Object.prototype,R=y["__core-js_shared__"],U=(T=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+T:"",z=S.toString,V=I.hasOwnProperty,X=I.toString,$=RegExp("^"+z.call(V).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=y.Symbol,H=y.Uint8Array,Q=I.propertyIsEnumerable,G=j.splice,J=(w=Object.keys,C=Object,function(xe){return w(C(xe))}),ee=Ve(y,"DataView"),K=Ve(y,"Map"),ne=Ve(y,"Promise"),ue=Ve(y,"Set"),se=Ve(y,"WeakMap"),ie=Ve(Object,"create"),q=Le(ee),Z=Le(K),te=Le(ne),re=Le(ue),Y=Le(se),oe=W?W.prototype:void 0,ae=oe?oe.valueOf:void 0,ce=oe?oe.toString:void 0;function de(xe){var Oe=-1,qe=xe?xe.length:0;for(this.clear();++Oe<qe;){var Je=xe[Oe];this.set(Je[0],Je[1])}}function pe(xe){var Oe=-1,qe=xe?xe.length:0;for(this.clear();++Oe<qe;){var Je=xe[Oe];this.set(Je[0],Je[1])}}function Ae(xe){var Oe=-1,qe=xe?xe.length:0;for(this.clear();++Oe<qe;){var Je=xe[Oe];this.set(Je[0],Je[1])}}function le(xe){var Oe=-1,qe=xe?xe.length:0;for(this.__data__=new Ae;++Oe<qe;)this.add(xe[Oe])}function he(xe){this.__data__=new pe(xe)}function me(xe,Oe){var qe=Vt(xe)||Ot(xe)?function(tt,Sn){for(var hn=-1,wn=Array(tt);++hn<tt;)wn[hn]=Sn(hn);return wn}(xe.length,String):[],Je=qe.length,kt=!!Je;for(var ot in xe)!V.call(xe,ot)||kt&&(ot=="length"||Dt(ot,Je))||qe.push(ot);return qe}function ve(xe,Oe){for(var qe=xe.length;qe--;)if(pt(xe[qe][0],Oe))return qe;return-1}function _e(xe,Oe,qe,Je){return Ue(xe,function(kt,ot,tt){Oe(Je,kt,qe(kt),tt)}),Je}de.prototype.clear=function(){this.__data__=ie?ie(null):{}},de.prototype.delete=function(xe){return this.has(xe)&&delete this.__data__[xe]},de.prototype.get=function(xe){var Oe=this.__data__;if(ie){var qe=Oe[xe];return qe==="__lodash_hash_undefined__"?void 0:qe}return V.call(Oe,xe)?Oe[xe]:void 0},de.prototype.has=function(xe){var Oe=this.__data__;return ie?Oe[xe]!==void 0:V.call(Oe,xe)},de.prototype.set=function(xe,Oe){return this.__data__[xe]=ie&&Oe===void 0?"__lodash_hash_undefined__":Oe,this},pe.prototype.clear=function(){this.__data__=[]},pe.prototype.delete=function(xe){var Oe=this.__data__,qe=ve(Oe,xe);return!(qe<0)&&(qe==Oe.length-1?Oe.pop():G.call(Oe,qe,1),!0)},pe.prototype.get=function(xe){var Oe=this.__data__,qe=ve(Oe,xe);return qe<0?void 0:Oe[qe][1]},pe.prototype.has=function(xe){return ve(this.__data__,xe)>-1},pe.prototype.set=function(xe,Oe){var qe=this.__data__,Je=ve(qe,xe);return Je<0?qe.push([xe,Oe]):qe[Je][1]=Oe,this},Ae.prototype.clear=function(){this.__data__={hash:new de,map:new(K||pe),string:new de}},Ae.prototype.delete=function(xe){return Re(this,xe).delete(xe)},Ae.prototype.get=function(xe){return Re(this,xe).get(xe)},Ae.prototype.has=function(xe){return Re(this,xe).has(xe)},Ae.prototype.set=function(xe,Oe){return Re(this,xe).set(xe,Oe),this},le.prototype.add=le.prototype.push=function(xe){return this.__data__.set(xe,"__lodash_hash_undefined__"),this},le.prototype.has=function(xe){return this.__data__.has(xe)},he.prototype.clear=function(){this.__data__=new pe},he.prototype.delete=function(xe){return this.__data__.delete(xe)},he.prototype.get=function(xe){return this.__data__.get(xe)},he.prototype.has=function(xe){return this.__data__.has(xe)},he.prototype.set=function(xe,Oe){var qe=this.__data__;if(qe instanceof pe){var Je=qe.__data__;if(!K||Je.length<199)return Je.push([xe,Oe]),this;qe=this.__data__=new Ae(Je)}return qe.set(xe,Oe),this};var Te,Ue=(Te=function(xe,Oe){return xe&&Ee(xe,Oe,mt)},function(xe,Oe){if(xe==null)return xe;if(!It(xe))return Te(xe,Oe);for(var qe=xe.length,Je=-1,kt=Object(xe);++Je<qe&&Oe(kt[Je],Je,kt)!==!1;);return xe}),Ee=function(xe){return function(Oe,qe,Je){for(var kt=-1,ot=Object(Oe),tt=Je(Oe),Sn=tt.length;Sn--;){var hn=tt[++kt];if(qe(ot[hn],hn,ot)===!1)break}return Oe}}();function Me(xe,Oe){for(var qe=0,Je=(Oe=xt(Oe,xe)?[Oe]:ke(Oe)).length;xe!=null&&qe<Je;)xe=xe[Se(Oe[qe++])];return qe&&qe==Je?xe:void 0}function Ie(xe,Oe){return xe!=null&&Oe in Object(xe)}function Ce(xe,Oe,qe,Je,kt){return xe===Oe||(xe==null||Oe==null||!xn(xe)&&!vt(Oe)?xe!=xe&&Oe!=Oe:function(ot,tt,Sn,hn,wn,qt){var Kn=Vt(ot),Gn=Vt(tt),Jn="[object Array]",Sr="[object Array]";Kn||(Jn=(Jn=rt(ot))==o?l:Jn),Gn||(Sr=(Sr=rt(tt))==o?l:Sr);var Tr=Jn==l&&!F(ot),Ps=Sr==l&&!F(tt),Ii=Jn==Sr;if(Ii&&!Tr)return qt||(qt=new he),Kn||Ze(ot)?ze(ot,tt,Sn,hn,wn,qt):function(Wn,On,_o,yl,Mh,Xs,Ys){switch(_o){case"[object DataView]":if(Wn.byteLength!=On.byteLength||Wn.byteOffset!=On.byteOffset)return!1;Wn=Wn.buffer,On=On.buffer;case"[object ArrayBuffer]":return!(Wn.byteLength!=On.byteLength||!yl(new H(Wn),new H(On)));case"[object Boolean]":case"[object Date]":case"[object Number]":return pt(+Wn,+On);case"[object Error]":return Wn.name==On.name&&Wn.message==On.message;case"[object RegExp]":case"[object String]":return Wn==On+"";case c:var be=_;case u:var nt=2&Xs;if(be||(be=E),Wn.size!=On.size&&!nt)return!1;var An=Ys.get(Wn);if(An)return An==On;Xs|=1,Ys.set(Wn,On);var Xt=ze(be(Wn),be(On),yl,Mh,Xs,Ys);return Ys.delete(Wn),Xt;case"[object Symbol]":if(ae)return ae.call(Wn)==ae.call(On)}return!1}(ot,tt,Jn,Sn,hn,wn,qt);if(!(2&wn)){var vl=Tr&&V.call(ot,"__wrapped__"),vc=Ps&&V.call(tt,"__wrapped__");if(vl||vc){var yc=vl?ot.value():ot,wc=vc?tt.value():tt;return qt||(qt=new he),Sn(yc,wc,hn,wn,qt)}}return Ii?(qt||(qt=new he),function(Wn,On,_o,yl,Mh,Xs){var Ys=2&Mh,be=mt(Wn),nt=be.length,An=mt(On).length;if(nt!=An&&!Ys)return!1;for(var Xt=nt;Xt--;){var er=be[Xt];if(!(Ys?er in On:V.call(On,er)))return!1}var Oi=Xs.get(Wn);if(Oi&&Xs.get(On))return Oi==On;var Bo=!0;Xs.set(Wn,On),Xs.set(On,Wn);for(var jc=Ys;++Xt<nt;){er=be[Xt];var td=Wn[er],Cc=On[er];if(yl)var Dh=Ys?yl(Cc,td,er,On,Wn,Xs):yl(td,Cc,er,Wn,On,Xs);if(!(Dh===void 0?td===Cc||_o(td,Cc,yl,Mh,Xs):Dh)){Bo=!1;break}jc||(jc=er=="constructor")}if(Bo&&!jc){var R0=Wn.constructor,U0=On.constructor;R0==U0||!("constructor"in Wn)||!("constructor"in On)||typeof R0=="function"&&R0 instanceof R0&&typeof U0=="function"&&U0 instanceof U0||(Bo=!1)}return Xs.delete(Wn),Xs.delete(On),Bo}(ot,tt,Sn,hn,wn,qt)):!1}(xe,Oe,Ce,qe,Je,kt))}function Pe(xe){return!(!xn(xe)||function(Oe){return!!U&&U in Oe}(xe))&&(nn(xe)||F(xe)?$:g).test(Le(xe))}function ge(xe){return typeof xe=="function"?xe:xe==null?gn:typeof xe=="object"?Vt(xe)?function(Je,kt){return xt(Je)&&Qt(kt)?bt(Se(Je),kt):function(ot){var tt=function(Sn,hn,wn){var qt=Sn==null?void 0:Me(Sn,hn);return qt===void 0?wn:qt}(ot,Je);return tt===void 0&&tt===kt?function(Sn,hn){return Sn!=null&&function(wn,qt,Kn){qt=xt(qt,wn)?[qt]:ke(qt);for(var Gn,Jn=-1,Sr=qt.length;++Jn<Sr;){var Tr=Se(qt[Jn]);if(!(Gn=wn!=null&&Kn(wn,Tr)))break;wn=wn[Tr]}return Gn||!!(Sr=wn?wn.length:0)&&en(Sr)&&Dt(Tr,Sr)&&(Vt(wn)||Ot(wn))}(Sn,hn,Ie)}(ot,Je):Ce(kt,tt,void 0,3)}}(xe[0],xe[1]):function(Je){var kt=function(ot){for(var tt=mt(ot),Sn=tt.length;Sn--;){var hn=tt[Sn],wn=ot[hn];tt[Sn]=[hn,wn,Qt(wn)]}return tt}(Je);return kt.length==1&&kt[0][2]?bt(kt[0][0],kt[0][1]):function(ot){return ot===Je||function(tt,Sn,hn,wn){var qt=hn.length,Kn=qt;if(tt==null)return!Kn;for(tt=Object(tt);qt--;){var Gn=hn[qt];if(Gn[2]?Gn[1]!==tt[Gn[0]]:!(Gn[0]in tt))return!1}for(;++qt<Kn;){var Jn=(Gn=hn[qt])[0],Sr=tt[Jn],Tr=Gn[1];if(Gn[2]){if(Sr===void 0&&!(Jn in tt))return!1}else{var Ps=new he,Ii;if(!(Ii===void 0?Ce(Tr,Sr,wn,3,Ps):Ii))return!1}}return!0}(ot,Je,kt)}}(xe):xt(Oe=xe)?(qe=Se(Oe),function(Je){return Je==null?void 0:Je[qe]}):function(Je){return function(kt){return Me(kt,Je)}}(Oe);var Oe,qe}function Ne(xe){if(qe=(Oe=xe)&&Oe.constructor,Je=typeof qe=="function"&&qe.prototype||I,Oe!==Je)return J(xe);var Oe,qe,Je,kt=[];for(var ot in Object(xe))V.call(xe,ot)&&ot!="constructor"&&kt.push(ot);return kt}function ke(xe){return Vt(xe)?xe:Bt(xe)}function ze(xe,Oe,qe,Je,kt,ot){var tt=2&kt,Sn=xe.length,hn=Oe.length;if(Sn!=hn&&!(tt&&hn>Sn))return!1;var wn=ot.get(xe);if(wn&&ot.get(Oe))return wn==Oe;var qt=-1,Kn=!0,Gn=1&kt?new le:void 0;for(ot.set(xe,Oe),ot.set(Oe,xe);++qt<Sn;){var Jn=xe[qt],Sr=Oe[qt];if(Je)var Tr=tt?Je(Sr,Jn,qt,Oe,xe,ot):Je(Jn,Sr,qt,xe,Oe,ot);if(Tr!==void 0){if(Tr)continue;Kn=!1;break}if(Gn){if(!L(Oe,function(Ps,Ii){if(!Gn.has(Ii)&&(Jn===Ps||qe(Jn,Ps,Je,kt,ot)))return Gn.add(Ii)})){Kn=!1;break}}else if(Jn!==Sr&&!qe(Jn,Sr,Je,kt,ot)){Kn=!1;break}}return ot.delete(xe),ot.delete(Oe),Kn}function Re(xe,Oe){var qe,Je,kt=xe.__data__;return((Je=typeof(qe=Oe))=="string"||Je=="number"||Je=="symbol"||Je=="boolean"?qe!=="__proto__":qe===null)?kt[typeof Oe=="string"?"string":"hash"]:kt.map}function Ve(xe,Oe){var qe=function(Je,kt){return Je==null?void 0:Je[kt]}(xe,Oe);return Pe(qe)?qe:void 0}var rt=function(xe){return X.call(xe)};function Dt(xe,Oe){return!!(Oe=Oe??9007199254740991)&&(typeof xe=="number"||p.test(xe))&&xe>-1&&xe%1==0&&xe<Oe}function xt(xe,Oe){if(Vt(xe))return!1;var qe=typeof xe;return!(qe!="number"&&qe!="symbol"&&qe!="boolean"&&xe!=null&&!Be(xe))||f.test(xe)||!d.test(xe)||Oe!=null&&xe in Object(Oe)}function Qt(xe){return xe==xe&&!xn(xe)}function bt(xe,Oe){return function(qe){return qe!=null&&qe[xe]===Oe&&(Oe!==void 0||xe in Object(qe))}}(ee&&rt(new ee(new ArrayBuffer(1)))!="[object DataView]"||K&&rt(new K)!=c||ne&&rt(ne.resolve())!="[object Promise]"||ue&&rt(new ue)!=u||se&&rt(new se)!="[object WeakMap]")&&(rt=function(xe){var Oe=X.call(xe),qe=Oe==l?xe.constructor:void 0,Je=qe?Le(qe):void 0;if(Je)switch(Je){case q:return"[object DataView]";case Z:return c;case te:return"[object Promise]";case re:return u;case Y:return"[object WeakMap]"}return Oe});var Bt=zt(function(xe){var Oe;xe=(Oe=xe)==null?"":function(Je){if(typeof Je=="string")return Je;if(Be(Je))return ce?ce.call(Je):"";var kt=Je+"";return kt=="0"&&1/Je==-1/0?"-0":kt}(Oe);var qe=[];return h.test(xe)&&qe.push(""),xe.replace(m,function(Je,kt,ot,tt){qe.push(ot?tt.replace(A,"$1"):kt||Je)}),qe});function Se(xe){if(typeof xe=="string"||Be(xe))return xe;var Oe=xe+"";return Oe=="0"&&1/xe==-1/0?"-0":Oe}function Le(xe){if(xe!=null){try{return z.call(xe)}catch{}try{return xe+""}catch{}}return""}var Ge,at=(Ge=function(xe,Oe,qe){V.call(xe,qe)?xe[qe].push(Oe):xe[qe]=[Oe]},function(xe,Oe){var qe=Vt(xe)?O:_e,Je={};return qe(xe,Ge,ge(Oe),Je)});function zt(xe,Oe){if(typeof xe!="function"||Oe&&typeof Oe!="function")throw new TypeError("Expected a function");var qe=function(){var Je=arguments,kt=Oe?Oe.apply(this,Je):Je[0],ot=qe.cache;if(ot.has(kt))return ot.get(kt);var tt=xe.apply(this,Je);return qe.cache=ot.set(kt,tt),tt};return qe.cache=new(zt.Cache||Ae),qe}function pt(xe,Oe){return xe===Oe||xe!=xe&&Oe!=Oe}function Ot(xe){return function(Oe){return vt(Oe)&&It(Oe)}(xe)&&V.call(xe,"callee")&&(!Q.call(xe,"callee")||X.call(xe)==o)}zt.Cache=Ae;var Vt=Array.isArray;function It(xe){return xe!=null&&en(xe.length)&&!nn(xe)}function nn(xe){var Oe=xn(xe)?X.call(xe):"";return Oe=="[object Function]"||Oe=="[object GeneratorFunction]"}function en(xe){return typeof xe=="number"&&xe>-1&&xe%1==0&&xe<=9007199254740991}function xn(xe){var Oe=typeof xe;return!!xe&&(Oe=="object"||Oe=="function")}function vt(xe){return!!xe&&typeof xe=="object"}function Be(xe){return typeof xe=="symbol"||vt(xe)&&X.call(xe)=="[object Symbol]"}var Ze=D?function(xe){return function(Oe){return xe(Oe)}}(D):function(xe){return vt(xe)&&en(xe.length)&&!!b[X.call(xe)]};function mt(xe){return It(xe)?me(xe):Ne(xe)}function gn(xe){return xe}s.exports=at}).call(this)}).call(this,typeof ln<"u"?ln:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(n,s,i){var a=Object.prototype.toString;s.exports=function(o){return o===!0||o===!1||function(c){return!!c&&typeof c=="object"}(o)&&a.call(o)=="[object Boolean]"}},{}],445:[function(n,s,i){(function(a){(function(){var o="[object Arguments]",c="[object Map]",l="[object Object]",u="[object Set]",d=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h[o]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h["[object Function]"]=h[c]=h["[object Number]"]=h[l]=h["[object RegExp]"]=h[u]=h["[object String]"]=h["[object WeakMap]"]=!1;var m=typeof a=="object"&&a&&a.Object===Object&&a,A=typeof self=="object"&&self&&self.Object===Object&&self,g=m||A||Function("return this")(),p=typeof i=="object"&&i&&!i.nodeType&&i,b=p&&typeof s=="object"&&s&&!s.nodeType&&s,x=b&&b.exports===p,v=x&&m.process,y=function(){try{return v&&v.binding&&v.binding("util")}catch{}}(),N=y&&y.isTypedArray;function P(Se,Le){for(var Ge=-1,at=Se==null?0:Se.length;++Ge<at;)if(Le(Se[Ge],Ge,Se))return!0;return!1}function M(Se){var Le=-1,Ge=Array(Se.size);return Se.forEach(function(at,zt){Ge[++Le]=[zt,at]}),Ge}function k(Se){var Le=-1,Ge=Array(Se.size);return Se.forEach(function(at){Ge[++Le]=at}),Ge}var D,O,L,F=Array.prototype,_=Function.prototype,E=Object.prototype,T=g["__core-js_shared__"],w=_.toString,C=E.hasOwnProperty,j=(D=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+D:"",S=E.toString,I=RegExp("^"+w.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=x?g.Buffer:void 0,U=g.Symbol,z=g.Uint8Array,V=E.propertyIsEnumerable,X=F.splice,$=U?U.toStringTag:void 0,W=Object.getOwnPropertySymbols,H=R?R.isBuffer:void 0,Q=(O=Object.keys,L=Object,function(Se){return O(L(Se))}),G=Ie(g,"DataView"),J=Ie(g,"Map"),ee=Ie(g,"Promise"),K=Ie(g,"Set"),ne=Ie(g,"WeakMap"),ue=Ie(Object,"create"),se=Ne(G),ie=Ne(J),q=Ne(ee),Z=Ne(K),te=Ne(ne),re=U?U.prototype:void 0,Y=re?re.valueOf:void 0;function oe(Se){var Le=-1,Ge=Se==null?0:Se.length;for(this.clear();++Le<Ge;){var at=Se[Le];this.set(at[0],at[1])}}function ae(Se){var Le=-1,Ge=Se==null?0:Se.length;for(this.clear();++Le<Ge;){var at=Se[Le];this.set(at[0],at[1])}}function ce(Se){var Le=-1,Ge=Se==null?0:Se.length;for(this.clear();++Le<Ge;){var at=Se[Le];this.set(at[0],at[1])}}function de(Se){var Le=-1,Ge=Se==null?0:Se.length;for(this.__data__=new ce;++Le<Ge;)this.add(Se[Le])}function pe(Se){var Le=this.__data__=new ae(Se);this.size=Le.size}function Ae(Se,Le){var Ge=Re(Se),at=!Ge&&ze(Se),zt=!Ge&&!at&&Ve(Se),pt=!Ge&&!at&&!zt&&bt(Se),Ot=Ge||at||zt||pt,Vt=Ot?function(en,xn){for(var vt=-1,Be=Array(en);++vt<en;)Be[vt]=xn(vt);return Be}(Se.length,String):[],It=Vt.length;for(var nn in Se)!C.call(Se,nn)||Ot&&(nn=="length"||zt&&(nn=="offset"||nn=="parent")||pt&&(nn=="buffer"||nn=="byteLength"||nn=="byteOffset")||ge(nn,It))||Vt.push(nn);return Vt}function le(Se,Le){for(var Ge=Se.length;Ge--;)if(ke(Se[Ge][0],Le))return Ge;return-1}function he(Se){return Se==null?Se===void 0?"[object Undefined]":"[object Null]":$&&$ in Object(Se)?function(Le){var Ge=C.call(Le,$),at=Le[$];try{Le[$]=void 0;var zt=!0}catch{}var pt=S.call(Le);return zt&&(Ge?Le[$]=at:delete Le[$]),pt}(Se):function(Le){return S.call(Le)}(Se)}function me(Se){return Qt(Se)&&he(Se)==o}function ve(Se,Le,Ge,at,zt){return Se===Le||(Se==null||Le==null||!Qt(Se)&&!Qt(Le)?Se!=Se&&Le!=Le:function(pt,Ot,Vt,It,nn,en){var xn=Re(pt),vt=Re(Ot),Be=xn?"[object Array]":Pe(pt),Ze=vt?"[object Array]":Pe(Ot),mt=(Be=Be==o?l:Be)==l,gn=(Ze=Ze==o?l:Ze)==l,xe=Be==Ze;if(xe&&Ve(pt)){if(!Ve(Ot))return!1;xn=!0,mt=!1}if(xe&&!mt)return en||(en=new pe),xn||bt(pt)?Ue(pt,Ot,Vt,It,nn,en):function(ot,tt,Sn,hn,wn,qt,Kn){switch(Sn){case"[object DataView]":if(ot.byteLength!=tt.byteLength||ot.byteOffset!=tt.byteOffset)return!1;ot=ot.buffer,tt=tt.buffer;case"[object ArrayBuffer]":return!(ot.byteLength!=tt.byteLength||!qt(new z(ot),new z(tt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ke(+ot,+tt);case"[object Error]":return ot.name==tt.name&&ot.message==tt.message;case"[object RegExp]":case"[object String]":return ot==tt+"";case c:var Gn=M;case u:var Jn=1&hn;if(Gn||(Gn=k),ot.size!=tt.size&&!Jn)return!1;var Sr=Kn.get(ot);if(Sr)return Sr==tt;hn|=2,Kn.set(ot,tt);var Tr=Ue(Gn(ot),Gn(tt),hn,wn,qt,Kn);return Kn.delete(ot),Tr;case"[object Symbol]":if(Y)return Y.call(ot)==Y.call(tt)}return!1}(pt,Ot,Be,Vt,It,nn,en);if(!(1&Vt)){var Oe=mt&&C.call(pt,"__wrapped__"),qe=gn&&C.call(Ot,"__wrapped__");if(Oe||qe){var Je=Oe?pt.value():pt,kt=qe?Ot.value():Ot;return en||(en=new pe),nn(Je,kt,Vt,It,en)}}return xe?(en||(en=new pe),function(ot,tt,Sn,hn,wn,qt){var Kn=1&Sn,Gn=Ee(ot),Jn=Gn.length,Sr=Ee(tt).length;if(Jn!=Sr&&!Kn)return!1;for(var Tr=Jn;Tr--;){var Ps=Gn[Tr];if(!(Kn?Ps in tt:C.call(tt,Ps)))return!1}var Ii=qt.get(ot);if(Ii&&qt.get(tt))return Ii==tt;var vl=!0;qt.set(ot,tt),qt.set(tt,ot);for(var vc=Kn;++Tr<Jn;){Ps=Gn[Tr];var yc=ot[Ps],wc=tt[Ps];if(hn)var Wn=Kn?hn(wc,yc,Ps,tt,ot,qt):hn(yc,wc,Ps,ot,tt,qt);if(!(Wn===void 0?yc===wc||wn(yc,wc,Sn,hn,qt):Wn)){vl=!1;break}vc||(vc=Ps=="constructor")}if(vl&&!vc){var On=ot.constructor,_o=tt.constructor;On==_o||!("constructor"in ot)||!("constructor"in tt)||typeof On=="function"&&On instanceof On&&typeof _o=="function"&&_o instanceof _o||(vl=!1)}return qt.delete(ot),qt.delete(tt),vl}(pt,Ot,Vt,It,nn,en)):!1}(Se,Le,Ge,at,ve,zt))}function _e(Se){return!(!xt(Se)||function(Le){return!!j&&j in Le}(Se))&&(rt(Se)?I:d).test(Ne(Se))}function Te(Se){if(Ge=(Le=Se)&&Le.constructor,at=typeof Ge=="function"&&Ge.prototype||E,Le!==at)return Q(Se);var Le,Ge,at,zt=[];for(var pt in Object(Se))C.call(Se,pt)&&pt!="constructor"&&zt.push(pt);return zt}function Ue(Se,Le,Ge,at,zt,pt){var Ot=1&Ge,Vt=Se.length,It=Le.length;if(Vt!=It&&!(Ot&&It>Vt))return!1;var nn=pt.get(Se);if(nn&&pt.get(Le))return nn==Le;var en=-1,xn=!0,vt=2&Ge?new de:void 0;for(pt.set(Se,Le),pt.set(Le,Se);++en<Vt;){var Be=Se[en],Ze=Le[en];if(at)var mt=Ot?at(Ze,Be,en,Le,Se,pt):at(Be,Ze,en,Se,Le,pt);if(mt!==void 0){if(mt)continue;xn=!1;break}if(vt){if(!P(Le,function(gn,xe){if(Oe=xe,!vt.has(Oe)&&(Be===gn||zt(Be,gn,Ge,at,pt)))return vt.push(xe);var Oe})){xn=!1;break}}else if(Be!==Ze&&!zt(Be,Ze,Ge,at,pt)){xn=!1;break}}return pt.delete(Se),pt.delete(Le),xn}function Ee(Se){return function(Le,Ge,at){var zt=Ge(Le);return Re(Le)?zt:function(pt,Ot){for(var Vt=-1,It=Ot.length,nn=pt.length;++Vt<It;)pt[nn+Vt]=Ot[Vt];return pt}(zt,at(Le))}(Se,Bt,Ce)}function Me(Se,Le){var Ge,at,zt=Se.__data__;return((at=typeof(Ge=Le))=="string"||at=="number"||at=="symbol"||at=="boolean"?Ge!=="__proto__":Ge===null)?zt[typeof Le=="string"?"string":"hash"]:zt.map}function Ie(Se,Le){var Ge=function(at,zt){return at==null?void 0:at[zt]}(Se,Le);return _e(Ge)?Ge:void 0}oe.prototype.clear=function(){this.__data__=ue?ue(null):{},this.size=0},oe.prototype.delete=function(Se){var Le=this.has(Se)&&delete this.__data__[Se];return this.size-=Le?1:0,Le},oe.prototype.get=function(Se){var Le=this.__data__;if(ue){var Ge=Le[Se];return Ge==="__lodash_hash_undefined__"?void 0:Ge}return C.call(Le,Se)?Le[Se]:void 0},oe.prototype.has=function(Se){var Le=this.__data__;return ue?Le[Se]!==void 0:C.call(Le,Se)},oe.prototype.set=function(Se,Le){var Ge=this.__data__;return this.size+=this.has(Se)?0:1,Ge[Se]=ue&&Le===void 0?"__lodash_hash_undefined__":Le,this},ae.prototype.clear=function(){this.__data__=[],this.size=0},ae.prototype.delete=function(Se){var Le=this.__data__,Ge=le(Le,Se);return!(Ge<0)&&(Ge==Le.length-1?Le.pop():X.call(Le,Ge,1),--this.size,!0)},ae.prototype.get=function(Se){var Le=this.__data__,Ge=le(Le,Se);return Ge<0?void 0:Le[Ge][1]},ae.prototype.has=function(Se){return le(this.__data__,Se)>-1},ae.prototype.set=function(Se,Le){var Ge=this.__data__,at=le(Ge,Se);return at<0?(++this.size,Ge.push([Se,Le])):Ge[at][1]=Le,this},ce.prototype.clear=function(){this.size=0,this.__data__={hash:new oe,map:new(J||ae),string:new oe}},ce.prototype.delete=function(Se){var Le=Me(this,Se).delete(Se);return this.size-=Le?1:0,Le},ce.prototype.get=function(Se){return Me(this,Se).get(Se)},ce.prototype.has=function(Se){return Me(this,Se).has(Se)},ce.prototype.set=function(Se,Le){var Ge=Me(this,Se),at=Ge.size;return Ge.set(Se,Le),this.size+=Ge.size==at?0:1,this},de.prototype.add=de.prototype.push=function(Se){return this.__data__.set(Se,"__lodash_hash_undefined__"),this},de.prototype.has=function(Se){return this.__data__.has(Se)},pe.prototype.clear=function(){this.__data__=new ae,this.size=0},pe.prototype.delete=function(Se){var Le=this.__data__,Ge=Le.delete(Se);return this.size=Le.size,Ge},pe.prototype.get=function(Se){return this.__data__.get(Se)},pe.prototype.has=function(Se){return this.__data__.has(Se)},pe.prototype.set=function(Se,Le){var Ge=this.__data__;if(Ge instanceof ae){var at=Ge.__data__;if(!J||at.length<199)return at.push([Se,Le]),this.size=++Ge.size,this;Ge=this.__data__=new ce(at)}return Ge.set(Se,Le),this.size=Ge.size,this};var Ce=W?function(Se){return Se==null?[]:(Se=Object(Se),function(Le,Ge){for(var at=-1,zt=Le==null?0:Le.length,pt=0,Ot=[];++at<zt;){var Vt=Le[at];Ge(Vt,at,Le)&&(Ot[pt++]=Vt)}return Ot}(W(Se),function(Le){return V.call(Se,Le)}))}:function(){return[]},Pe=he;function ge(Se,Le){return!!(Le=Le??9007199254740991)&&(typeof Se=="number"||f.test(Se))&&Se>-1&&Se%1==0&&Se<Le}function Ne(Se){if(Se!=null){try{return w.call(Se)}catch{}try{return Se+""}catch{}}return""}function ke(Se,Le){return Se===Le||Se!=Se&&Le!=Le}(G&&Pe(new G(new ArrayBuffer(1)))!="[object DataView]"||J&&Pe(new J)!=c||ee&&Pe(ee.resolve())!="[object Promise]"||K&&Pe(new K)!=u||ne&&Pe(new ne)!="[object WeakMap]")&&(Pe=function(Se){var Le=he(Se),Ge=Le==l?Se.constructor:void 0,at=Ge?Ne(Ge):"";if(at)switch(at){case se:return"[object DataView]";case ie:return c;case q:return"[object Promise]";case Z:return u;case te:return"[object WeakMap]"}return Le});var ze=me(function(){return arguments}())?me:function(Se){return Qt(Se)&&C.call(Se,"callee")&&!V.call(Se,"callee")},Re=Array.isArray,Ve=H||function(){return!1};function rt(Se){if(!xt(Se))return!1;var Le=he(Se);return Le=="[object Function]"||Le=="[object GeneratorFunction]"||Le=="[object AsyncFunction]"||Le=="[object Proxy]"}function Dt(Se){return typeof Se=="number"&&Se>-1&&Se%1==0&&Se<=9007199254740991}function xt(Se){var Le=typeof Se;return Se!=null&&(Le=="object"||Le=="function")}function Qt(Se){return Se!=null&&typeof Se=="object"}var bt=N?function(Se){return function(Le){return Se(Le)}}(N):function(Se){return Qt(Se)&&Dt(Se.length)&&!!h[he(Se)]};function Bt(Se){return(Le=Se)!=null&&Dt(Le.length)&&!rt(Le)?Ae(Se):Te(Se);var Le}s.exports=function(Se,Le){return ve(Se,Le)}}).call(this)}).call(this,typeof ln<"u"?ln:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(n,s,i){(function(a){(function(){var o=typeof a=="object"&&a&&a.Object===Object&&a,c=typeof self=="object"&&self&&self.Object===Object&&self,l=o||c||Function("return this")(),u=Object.prototype,d=u.hasOwnProperty,f=u.toString,h=l.Symbol,m=h?h.toStringTag:void 0;function A(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":m&&m in Object(g)?function(p){var b=d.call(p,m),x=p[m];try{p[m]=void 0;var v=!0}catch{}var y=f.call(p);return v&&(b?p[m]=x:delete p[m]),y}(g):function(p){return f.call(p)}(g)}s.exports=function(g){if(!function(b){var x=typeof b;return b!=null&&(x=="object"||x=="function")}(g))return!1;var p=A(g);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}}).call(this)}).call(this,typeof ln<"u"?ln:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(n,s,i){s.exports=function(a){return a==null}},{}],448:[function(n,s,i){s.exports=function(a){return a===void 0}},{}],449:[function(n,s,i){(function(a){(function(){var o=/^\[object .+?Constructor\]$/,c=typeof a=="object"&&a&&a.Object===Object&&a,l=typeof self=="object"&&self&&self.Object===Object&&self,u=c||l||Function("return this")();function d(U,z){return!!(U&&U.length)&&function(V,X,$){if(X!=X)return function(Q,G,J,ee){for(var K=Q.length,ne=J+-1;++ne<K;)if(G(Q[ne],ne,Q))return ne;return-1}(V,f,$);for(var W=$-1,H=V.length;++W<H;)if(V[W]===X)return W;return-1}(U,z,0)>-1}function f(U){return U!=U}function h(U,z){return U.has(z)}function m(U){var z=-1,V=Array(U.size);return U.forEach(function(X){V[++z]=X}),V}var A,g=Array.prototype,p=Function.prototype,b=Object.prototype,x=u["__core-js_shared__"],v=(A=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",y=p.toString,N=b.hasOwnProperty,P=b.toString,M=RegExp("^"+y.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=g.splice,D=I(u,"Map"),O=I(u,"Set"),L=I(Object,"create");function F(U){var z=-1,V=U?U.length:0;for(this.clear();++z<V;){var X=U[z];this.set(X[0],X[1])}}function _(U){var z=-1,V=U?U.length:0;for(this.clear();++z<V;){var X=U[z];this.set(X[0],X[1])}}function E(U){var z=-1,V=U?U.length:0;for(this.clear();++z<V;){var X=U[z];this.set(X[0],X[1])}}function T(U){var z=-1,V=U?U.length:0;for(this.__data__=new E;++z<V;)this.add(U[z])}function w(U,z){for(var V,X,$=U.length;$--;)if((V=U[$][0])===(X=z)||V!=V&&X!=X)return $;return-1}function C(U){return!(!R(U)||(z=U,v&&v in z))&&(function(V){var X=R(V)?P.call(V):"";return X=="[object Function]"||X=="[object GeneratorFunction]"}(U)||function(V){var X=!1;if(V!=null&&typeof V.toString!="function")try{X=!!(V+"")}catch{}return X}(U)?M:o).test(function(V){if(V!=null){try{return y.call(V)}catch{}try{return V+""}catch{}}return""}(U));var z}F.prototype.clear=function(){this.__data__=L?L(null):{}},F.prototype.delete=function(U){return this.has(U)&&delete this.__data__[U]},F.prototype.get=function(U){var z=this.__data__;if(L){var V=z[U];return V==="__lodash_hash_undefined__"?void 0:V}return N.call(z,U)?z[U]:void 0},F.prototype.has=function(U){var z=this.__data__;return L?z[U]!==void 0:N.call(z,U)},F.prototype.set=function(U,z){return this.__data__[U]=L&&z===void 0?"__lodash_hash_undefined__":z,this},_.prototype.clear=function(){this.__data__=[]},_.prototype.delete=function(U){var z=this.__data__,V=w(z,U);return!(V<0)&&(V==z.length-1?z.pop():k.call(z,V,1),!0)},_.prototype.get=function(U){var z=this.__data__,V=w(z,U);return V<0?void 0:z[V][1]},_.prototype.has=function(U){return w(this.__data__,U)>-1},_.prototype.set=function(U,z){var V=this.__data__,X=w(V,U);return X<0?V.push([U,z]):V[X][1]=z,this},E.prototype.clear=function(){this.__data__={hash:new F,map:new(D||_),string:new F}},E.prototype.delete=function(U){return S(this,U).delete(U)},E.prototype.get=function(U){return S(this,U).get(U)},E.prototype.has=function(U){return S(this,U).has(U)},E.prototype.set=function(U,z){return S(this,U).set(U,z),this},T.prototype.add=T.prototype.push=function(U){return this.__data__.set(U,"__lodash_hash_undefined__"),this},T.prototype.has=function(U){return this.__data__.has(U)};var j=O&&1/m(new O([,-0]))[1]==1/0?function(U){return new O(U)}:function(){};function S(U,z){var V,X,$=U.__data__;return((X=typeof(V=z))=="string"||X=="number"||X=="symbol"||X=="boolean"?V!=="__proto__":V===null)?$[typeof z=="string"?"string":"hash"]:$.map}function I(U,z){var V=function(X,$){return X==null?void 0:X[$]}(U,z);return C(V)?V:void 0}function R(U){var z=typeof U;return!!U&&(z=="object"||z=="function")}s.exports=function(U){return U&&U.length?function(z,V,X){var $=-1,W=d,H=z.length,Q=!0,G=[],J=G;if(H>=200){var ee=j(z);if(ee)return m(ee);Q=!1,W=h,J=new T}else J=G;e:for(;++$<H;){var K=z[$],ne=K;if(K=K!==0?K:0,Q&&ne==ne){for(var ue=J.length;ue--;)if(J[ue]===ne)continue e;G.push(K)}else W(J,ne,X)||(J!==G&&J.push(ne),G.push(K))}return G}(U):[]}}).call(this)}).call(this,typeof ln<"u"?ln:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(n,s,i){var a=n("inherits"),o=n("hash-base"),c=n("safe-buffer").Buffer,l=new Array(16);function u(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function d(g,p){return g<<p|g>>>32-p}function f(g,p,b,x,v,y,N){return d(g+(p&b|~p&x)+v+y|0,N)+p|0}function h(g,p,b,x,v,y,N){return d(g+(p&x|b&~x)+v+y|0,N)+p|0}function m(g,p,b,x,v,y,N){return d(g+(p^b^x)+v+y|0,N)+p|0}function A(g,p,b,x,v,y,N){return d(g+(b^(p|~x))+v+y|0,N)+p|0}a(u,o),u.prototype._update=function(){for(var g=l,p=0;p<16;++p)g[p]=this._block.readInt32LE(4*p);var b=this._a,x=this._b,v=this._c,y=this._d;b=f(b,x,v,y,g[0],3614090360,7),y=f(y,b,x,v,g[1],3905402710,12),v=f(v,y,b,x,g[2],606105819,17),x=f(x,v,y,b,g[3],3250441966,22),b=f(b,x,v,y,g[4],4118548399,7),y=f(y,b,x,v,g[5],1200080426,12),v=f(v,y,b,x,g[6],2821735955,17),x=f(x,v,y,b,g[7],4249261313,22),b=f(b,x,v,y,g[8],1770035416,7),y=f(y,b,x,v,g[9],2336552879,12),v=f(v,y,b,x,g[10],4294925233,17),x=f(x,v,y,b,g[11],2304563134,22),b=f(b,x,v,y,g[12],1804603682,7),y=f(y,b,x,v,g[13],4254626195,12),v=f(v,y,b,x,g[14],2792965006,17),b=h(b,x=f(x,v,y,b,g[15],1236535329,22),v,y,g[1],4129170786,5),y=h(y,b,x,v,g[6],3225465664,9),v=h(v,y,b,x,g[11],643717713,14),x=h(x,v,y,b,g[0],3921069994,20),b=h(b,x,v,y,g[5],3593408605,5),y=h(y,b,x,v,g[10],38016083,9),v=h(v,y,b,x,g[15],3634488961,14),x=h(x,v,y,b,g[4],3889429448,20),b=h(b,x,v,y,g[9],568446438,5),y=h(y,b,x,v,g[14],3275163606,9),v=h(v,y,b,x,g[3],4107603335,14),x=h(x,v,y,b,g[8],1163531501,20),b=h(b,x,v,y,g[13],2850285829,5),y=h(y,b,x,v,g[2],4243563512,9),v=h(v,y,b,x,g[7],1735328473,14),b=m(b,x=h(x,v,y,b,g[12],2368359562,20),v,y,g[5],4294588738,4),y=m(y,b,x,v,g[8],2272392833,11),v=m(v,y,b,x,g[11],1839030562,16),x=m(x,v,y,b,g[14],4259657740,23),b=m(b,x,v,y,g[1],2763975236,4),y=m(y,b,x,v,g[4],1272893353,11),v=m(v,y,b,x,g[7],4139469664,16),x=m(x,v,y,b,g[10],3200236656,23),b=m(b,x,v,y,g[13],681279174,4),y=m(y,b,x,v,g[0],3936430074,11),v=m(v,y,b,x,g[3],3572445317,16),x=m(x,v,y,b,g[6],76029189,23),b=m(b,x,v,y,g[9],3654602809,4),y=m(y,b,x,v,g[12],3873151461,11),v=m(v,y,b,x,g[15],530742520,16),b=A(b,x=m(x,v,y,b,g[2],3299628645,23),v,y,g[0],4096336452,6),y=A(y,b,x,v,g[7],1126891415,10),v=A(v,y,b,x,g[14],2878612391,15),x=A(x,v,y,b,g[5],4237533241,21),b=A(b,x,v,y,g[12],1700485571,6),y=A(y,b,x,v,g[3],2399980690,10),v=A(v,y,b,x,g[10],4293915773,15),x=A(x,v,y,b,g[1],2240044497,21),b=A(b,x,v,y,g[8],1873313359,6),y=A(y,b,x,v,g[15],4264355552,10),v=A(v,y,b,x,g[6],2734768916,15),x=A(x,v,y,b,g[13],1309151649,21),b=A(b,x,v,y,g[4],4149444226,6),y=A(y,b,x,v,g[11],3174756917,10),v=A(v,y,b,x,g[2],718787259,15),x=A(x,v,y,b,g[9],3951481745,21),this._a=this._a+b|0,this._b=this._b+x|0,this._c=this._c+v|0,this._d=this._d+y|0},u.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var g=c.allocUnsafe(16);return g.writeInt32LE(this._a,0),g.writeInt32LE(this._b,4),g.writeInt32LE(this._c,8),g.writeInt32LE(this._d,12),g},s.exports=u},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(n,s,i){var a=n("bn.js"),o=n("brorand");function c(l){this.rand=l||new o.Rand}s.exports=c,c.create=function(l){return new c(l)},c.prototype._randbelow=function(l){var u=l.bitLength(),d=Math.ceil(u/8);do var f=new a(this.rand.generate(d));while(f.cmp(l)>=0);return f},c.prototype._randrange=function(l,u){var d=u.sub(l);return l.add(this._randbelow(d))},c.prototype.test=function(l,u,d){var f=l.bitLength(),h=a.mont(l),m=new a(1).toRed(h);u||(u=Math.max(1,f/48|0));for(var A=l.subn(1),g=0;!A.testn(g);g++);for(var p=l.shrn(g),b=A.toRed(h);u>0;u--){var x=this._randrange(new a(2),A);d&&d(x);var v=x.toRed(h).redPow(p);if(v.cmp(m)!==0&&v.cmp(b)!==0){for(var y=1;y<g;y++){if((v=v.redSqr()).cmp(m)===0)return!1;if(v.cmp(b)===0)break}if(y===g)return!1}}return!0},c.prototype.getDivisor=function(l,u){var d=l.bitLength(),f=a.mont(l),h=new a(1).toRed(f);u||(u=Math.max(1,d/48|0));for(var m=l.subn(1),A=0;!m.testn(A);A++);for(var g=l.shrn(A),p=m.toRed(f);u>0;u--){var b=this._randrange(new a(2),m),x=l.gcd(b);if(x.cmpn(1)!==0)return x;var v=b.toRed(f).redPow(g);if(v.cmp(h)!==0&&v.cmp(p)!==0){for(var y=1;y<A;y++){if((v=v.redSqr()).cmp(h)===0)return v.fromRed().subn(1).gcd(l);if(v.cmp(p)===0)break}if(y===A)return(v=v.redSqr()).fromRed().subn(1).gcd(l)}}return!1}},{"bn.js":452,brorand:187}],452:[function(n,s,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],453:[function(n,s,i){function a(o,c){if(!o)throw new Error(c||"Assertion failed")}s.exports=a,a.equal=function(o,c,l){if(o!=c)throw new Error(l||"Assertion failed: "+o+" != "+c)}},{}],454:[function(n,s,i){var a=i;function o(l){return l.length===1?"0"+l:l}function c(l){for(var u="",d=0;d<l.length;d++)u+=o(l[d].toString(16));return u}a.toArray=function(l,u){if(Array.isArray(l))return l.slice();if(!l)return[];var d=[];if(typeof l!="string"){for(var f=0;f<l.length;f++)d[f]=0|l[f];return d}if(u==="hex")for((l=l.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(l="0"+l),f=0;f<l.length;f+=2)d.push(parseInt(l[f]+l[f+1],16));else for(f=0;f<l.length;f++){var h=l.charCodeAt(f),m=h>>8,A=255&h;m?d.push(m,A):d.push(A)}return d},a.zero2=o,a.toHex=c,a.encode=function(l,u){return u==="hex"?c(l):l}},{}],455:[function(n,s,i){s.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(n,s,i){var a=n("asn1.js");i.certificate=n("./certificate");var o=a.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});i.RSAPrivateKey=o;var c=a.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});i.RSAPublicKey=c;var l=a.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(u),this.key("subjectPublicKey").bitstr())});i.PublicKey=l;var u=a.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),d=a.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(u),this.key("subjectPrivateKey").octstr())});i.PrivateKey=d;var f=a.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});i.EncryptedPrivateKey=f;var h=a.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});i.DSAPrivateKey=h,i.DSAparam=a.define("DSAparam",function(){this.int()});var m=a.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(A),this.key("publicKey").optional().explicit(1).bitstr())});i.ECPrivateKey=m;var A=a.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});i.signature=a.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(n,s,i){var a=n("asn1.js"),o=a.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),c=a.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),l=a.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),u=a.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())}),d=a.define("RelativeDistinguishedName",function(){this.setof(c)}),f=a.define("RDNSequence",function(){this.seqof(d)}),h=a.define("Name",function(){this.choice({rdnSequence:this.use(f)})}),m=a.define("Validity",function(){this.seq().obj(this.key("notBefore").use(o),this.key("notAfter").use(o))}),A=a.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),g=a.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(l),this.key("issuer").use(h),this.key("validity").use(m),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(u),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(A).optional())}),p=a.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(g),this.key("signatureAlgorithm").use(l),this.key("signatureValue").bitstr())});s.exports=p},{"asn1.js":170}],458:[function(n,s,i){var a=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,c=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,l=n("evp_bytestokey"),u=n("browserify-aes"),d=n("safe-buffer").Buffer;s.exports=function(f,h){var m,A=f.toString(),g=A.match(a);if(g){var p="aes"+g[1],b=d.from(g[2],"hex"),x=d.from(g[3].replace(/[\r\n]/g,""),"base64"),v=l(h,b.slice(0,8),parseInt(g[1],10)).key,y=[],N=u.createDecipheriv(p,v,b);y.push(N.update(x)),y.push(N.final()),m=d.concat(y)}else{var P=A.match(c);m=d.from(P[2].replace(/[\r\n]/g,""),"base64")}return{tag:A.match(o)[1],data:m}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(n,s,i){var a=n("./asn1"),o=n("./aesid.json"),c=n("./fixProc"),l=n("browserify-aes"),u=n("pbkdf2"),d=n("safe-buffer").Buffer;function f(h){var m;typeof h!="object"||d.isBuffer(h)||(m=h.passphrase,h=h.key),typeof h=="string"&&(h=d.from(h));var A,g,p=c(h,m),b=p.tag,x=p.data;switch(b){case"CERTIFICATE":g=a.certificate.decode(x,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(g||(g=a.PublicKey.decode(x,"der")),A=g.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPublicKey.decode(g.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return g.subjectPrivateKey=g.subjectPublicKey,{type:"ec",data:g};case"1.2.840.10040.4.1":return g.algorithm.params.pub_key=a.DSAparam.decode(g.subjectPublicKey.data,"der"),{type:"dsa",data:g.algorithm.params};default:throw new Error("unknown key id "+A)}case"ENCRYPTED PRIVATE KEY":x=function(v,y){var N=v.algorithm.decrypt.kde.kdeparams.salt,P=parseInt(v.algorithm.decrypt.kde.kdeparams.iters.toString(),10),M=o[v.algorithm.decrypt.cipher.algo.join(".")],k=v.algorithm.decrypt.cipher.iv,D=v.subjectPrivateKey,O=parseInt(M.split("-")[1],10)/8,L=u.pbkdf2Sync(y,N,P,O,"sha1"),F=l.createDecipheriv(M,L,k),_=[];return _.push(F.update(D)),_.push(F.final()),d.concat(_)}(x=a.EncryptedPrivateKey.decode(x,"der"),m);case"PRIVATE KEY":switch(A=(g=a.PrivateKey.decode(x,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPrivateKey.decode(g.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:g.algorithm.curve,privateKey:a.ECPrivateKey.decode(g.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return g.algorithm.params.priv_key=a.DSAparam.decode(g.subjectPrivateKey,"der"),{type:"dsa",params:g.algorithm.params};default:throw new Error("unknown key id "+A)}case"RSA PUBLIC KEY":return a.RSAPublicKey.decode(x,"der");case"RSA PRIVATE KEY":return a.RSAPrivateKey.decode(x,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:a.DSAPrivateKey.decode(x,"der")};case"EC PRIVATE KEY":return{curve:(x=a.ECPrivateKey.decode(x,"der")).parameters.value,privateKey:x.privateKey};default:throw new Error("unknown key type "+b)}}s.exports=f,f.signature=a.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(n,s,i){i.pbkdf2=n("./lib/async"),i.pbkdf2Sync=n("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(n,s,i){(function(a){(function(){var o,c,l=n("safe-buffer").Buffer,u=n("./precondition"),d=n("./default-encoding"),f=n("./sync"),h=n("./to-buffer"),m=a.crypto&&a.crypto.subtle,A={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},g=[];function p(){return c||(c=a.process&&a.process.nextTick?a.process.nextTick:a.queueMicrotask?a.queueMicrotask:a.setImmediate?a.setImmediate:a.setTimeout)}function b(x,v,y,N,P){return m.importKey("raw",x,{name:"PBKDF2"},!1,["deriveBits"]).then(function(M){return m.deriveBits({name:"PBKDF2",salt:v,iterations:y,hash:{name:P}},M,N<<3)}).then(function(M){return l.from(M)})}s.exports=function(x,v,y,N,P,M){typeof P=="function"&&(M=P,P=void 0);var k=A[(P=P||"sha1").toLowerCase()];if(k&&typeof a.Promise=="function"){if(u(y,N),x=h(x,d,"Password"),v=h(v,d,"Salt"),typeof M!="function")throw new Error("No callback provided to pbkdf2");(function(D,O){D.then(function(L){p()(function(){O(null,L)})},function(L){p()(function(){O(L)})})})(function(D){if(a.process&&!a.process.browser||!m||!m.importKey||!m.deriveBits)return Promise.resolve(!1);if(g[D]!==void 0)return g[D];var O=b(o=o||l.alloc(8),o,10,128,D).then(function(){return!0}).catch(function(){return!1});return g[D]=O,O}(k).then(function(D){return D?b(x,v,y,N,k):f(x,v,y,N,P)}),M)}else p()(function(){var D;try{D=f(x,v,y,N,P)}catch(O){return M(O)}M(null,D)})}}).call(this)}).call(this,typeof ln<"u"?ln:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(n,s,i){(function(a,o){(function(){var c;o.process&&o.process.browser?c="utf-8":o.process&&o.process.version?c=parseInt(a.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":c="utf-8",s.exports=c}).call(this)}).call(this,n("_process"),typeof ln<"u"?ln:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(n,s,i){var a=Math.pow(2,30)-1;s.exports=function(o,c){if(typeof o!="number")throw new TypeError("Iterations not a number");if(o<0)throw new TypeError("Bad iterations");if(typeof c!="number")throw new TypeError("Key length not a number");if(c<0||c>a||c!=c)throw new TypeError("Bad key length")}},{}],464:[function(n,s,i){var a=n("create-hash/md5"),o=n("ripemd160"),c=n("sha.js"),l=n("safe-buffer").Buffer,u=n("./precondition"),d=n("./default-encoding"),f=n("./to-buffer"),h=l.alloc(128),m={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function A(g,p,b){var x=function(k){function D(O){return c(k).update(O).digest()}return k==="rmd160"||k==="ripemd160"?function(O){return new o().update(O).digest()}:k==="md5"?a:D}(g),v=g==="sha512"||g==="sha384"?128:64;p.length>v?p=x(p):p.length<v&&(p=l.concat([p,h],v));for(var y=l.allocUnsafe(v+m[g]),N=l.allocUnsafe(v+m[g]),P=0;P<v;P++)y[P]=54^p[P],N[P]=92^p[P];var M=l.allocUnsafe(v+b+4);y.copy(M,0,0,v),this.ipad1=M,this.ipad2=y,this.opad=N,this.alg=g,this.blocksize=v,this.hash=x,this.size=m[g]}A.prototype.run=function(g,p){return g.copy(p,this.blocksize),this.hash(p).copy(this.opad,this.blocksize),this.hash(this.opad)},s.exports=function(g,p,b,x,v){u(b,x);var y=new A(v=v||"sha1",g=f(g,d,"Password"),(p=f(p,d,"Salt")).length),N=l.allocUnsafe(x),P=l.allocUnsafe(p.length+4);p.copy(P,0,0,p.length);for(var M=0,k=m[v],D=Math.ceil(x/k),O=1;O<=D;O++){P.writeUInt32BE(O,p.length);for(var L=y.run(P,y.ipad1),F=L,_=1;_<b;_++){F=y.run(F,y.ipad2);for(var E=0;E<k;E++)L[E]^=F[E]}L.copy(N,M),M+=k}return N}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(n,s,i){var a=n("safe-buffer").Buffer;s.exports=function(o,c,l){if(a.isBuffer(o))return o;if(typeof o=="string")return a.from(o,c);if(ArrayBuffer.isView(o))return a.from(o.buffer);throw new TypeError(l+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(n,s,i){(function(a){(function(){a===void 0||!a.version||a.version.indexOf("v0.")===0||a.version.indexOf("v1.")===0&&a.version.indexOf("v1.8.")!==0?s.exports={nextTick:function(o,c,l,u){if(typeof o!="function")throw new TypeError('"callback" argument must be a function');var d,f,h=arguments.length;switch(h){case 0:case 1:return a.nextTick(o);case 2:return a.nextTick(function(){o.call(null,c)});case 3:return a.nextTick(function(){o.call(null,c,l)});case 4:return a.nextTick(function(){o.call(null,c,l,u)});default:for(d=new Array(h-1),f=0;f<d.length;)d[f++]=arguments[f];return a.nextTick(function(){o.apply(null,d)})}}}:s.exports=a}).call(this)}).call(this,n("_process"))},{_process:467}],467:[function(n,s,i){var a,o,c=s.exports={};function l(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function d(v){if(a===setTimeout)return setTimeout(v,0);if((a===l||!a)&&setTimeout)return a=setTimeout,setTimeout(v,0);try{return a(v,0)}catch{try{return a.call(null,v,0)}catch{return a.call(this,v,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:l}catch{a=l}try{o=typeof clearTimeout=="function"?clearTimeout:u}catch{o=u}})();var f,h=[],m=!1,A=-1;function g(){m&&f&&(m=!1,f.length?h=f.concat(h):A=-1,h.length&&p())}function p(){if(!m){var v=d(g);m=!0;for(var y=h.length;y;){for(f=h,h=[];++A<y;)f&&f[A].run();A=-1,y=h.length}f=null,m=!1,function(N){if(o===clearTimeout)return clearTimeout(N);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(N);try{o(N)}catch{try{return o.call(null,N)}catch{return o.call(this,N)}}}(v)}}function b(v,y){this.fun=v,this.array=y}function x(){}c.nextTick=function(v){var y=new Array(arguments.length-1);if(arguments.length>1)for(var N=1;N<arguments.length;N++)y[N-1]=arguments[N];h.push(new b(v,y)),h.length!==1||m||d(p)},b.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=x,c.addListener=x,c.once=x,c.off=x,c.removeListener=x,c.removeAllListeners=x,c.emit=x,c.prependListener=x,c.prependOnceListener=x,c.listeners=function(v){return[]},c.binding=function(v){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(v){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],468:[function(n,s,i){i.publicEncrypt=n("./publicEncrypt"),i.privateDecrypt=n("./privateDecrypt"),i.privateEncrypt=function(a,o){return i.publicEncrypt(a,o,!0)},i.publicDecrypt=function(a,o){return i.privateDecrypt(a,o,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(n,s,i){var a=n("create-hash"),o=n("safe-buffer").Buffer;function c(l){var u=o.allocUnsafe(4);return u.writeUInt32BE(l,0),u}s.exports=function(l,u){for(var d,f=o.alloc(0),h=0;f.length<u;)d=c(h++),f=o.concat([f,a("sha1").update(l).update(d).digest()]);return f.slice(0,u)}},{"create-hash":386,"safe-buffer":494}],470:[function(n,s,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],471:[function(n,s,i){var a=n("parse-asn1"),o=n("./mgf"),c=n("./xor"),l=n("bn.js"),u=n("browserify-rsa"),d=n("create-hash"),f=n("./withPublic"),h=n("safe-buffer").Buffer;s.exports=function(m,A,g){var p;p=m.padding?m.padding:g?1:4;var b,x=a(m),v=x.modulus.byteLength();if(A.length>v||new l(A).cmp(x.modulus)>=0)throw new Error("decryption error");b=g?f(new l(A),x):u(A,x);var y=h.alloc(v-b.length);if(b=h.concat([y,b],v),p===4)return function(N,P){var M=N.modulus.byteLength(),k=d("sha1").update(h.alloc(0)).digest(),D=k.length;if(P[0]!==0)throw new Error("decryption error");var O=P.slice(1,D+1),L=P.slice(D+1),F=c(O,o(L,D)),_=c(L,o(F,M-D-1));if(function(T,w){T=h.from(T),w=h.from(w);var C=0,j=T.length;T.length!==w.length&&(C++,j=Math.min(T.length,w.length));for(var S=-1;++S<j;)C+=T[S]^w[S];return C}(k,_.slice(0,D)))throw new Error("decryption error");for(var E=D;_[E]===0;)E++;if(_[E++]!==1)throw new Error("decryption error");return _.slice(E)}(x,b);if(p===1)return function(N,P,M){for(var k=P.slice(0,2),D=2,O=0;P[D++]!==0;)if(D>=P.length){O++;break}var L=P.slice(2,D-1);if((k.toString("hex")!=="0002"&&!M||k.toString("hex")!=="0001"&&M)&&O++,L.length<8&&O++,O)throw new Error("decryption error");return P.slice(D)}(0,b,g);if(p===3)return b;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(n,s,i){var a=n("parse-asn1"),o=n("randombytes"),c=n("create-hash"),l=n("./mgf"),u=n("./xor"),d=n("bn.js"),f=n("./withPublic"),h=n("browserify-rsa"),m=n("safe-buffer").Buffer;s.exports=function(A,g,p){var b;b=A.padding?A.padding:p?1:4;var x,v=a(A);if(b===4)x=function(y,N){var P=y.modulus.byteLength(),M=N.length,k=c("sha1").update(m.alloc(0)).digest(),D=k.length,O=2*D;if(M>P-O-2)throw new Error("message too long");var L=m.alloc(P-M-O-2),F=P-D-1,_=o(D),E=u(m.concat([k,L,m.alloc(1,1),N],F),l(_,F)),T=u(_,l(E,D));return new d(m.concat([m.alloc(1),T,E],P))}(v,g);else if(b===1)x=function(y,N,P){var M,k=N.length,D=y.modulus.byteLength();if(k>D-11)throw new Error("message too long");return M=P?m.alloc(D-k-3,255):function(O){for(var L,F=m.allocUnsafe(O),_=0,E=o(2*O),T=0;_<O;)T===E.length&&(E=o(2*O),T=0),(L=E[T++])&&(F[_++]=L);return F}(D-k-3),new d(m.concat([m.from([0,P?1:2]),M,m.alloc(1),N],D))}(v,g,p);else{if(b!==3)throw new Error("unknown padding");if((x=new d(g)).cmp(v.modulus)>=0)throw new Error("data too long for modulus")}return p?h(x,v):f(x,v)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(n,s,i){var a=n("bn.js"),o=n("safe-buffer").Buffer;s.exports=function(c,l){return o.from(c.toRed(a.mont(l.modulus)).redPow(new a(l.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(n,s,i){s.exports=function(a,o){for(var c=a.length,l=-1;++l<c;)a[l]^=o[l];return a}},{}],475:[function(n,s,i){(function(a,o){(function(){var c=n("safe-buffer").Buffer,l=o.crypto||o.msCrypto;l&&l.getRandomValues?s.exports=function(u,d){if(u>4294967295)throw new RangeError("requested too many random bytes");var f=c.allocUnsafe(u);if(u>0)if(u>65536)for(var h=0;h<u;h+=65536)l.getRandomValues(f.slice(h,h+65536));else l.getRandomValues(f);return typeof d=="function"?a.nextTick(function(){d(null,f)}):f}:s.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,n("_process"),typeof ln<"u"?ln:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(n,s,i){(function(a,o){(function(){function c(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var l=n("safe-buffer"),u=n("randombytes"),d=l.Buffer,f=l.kMaxLength,h=o.crypto||o.msCrypto,m=Math.pow(2,32)-1;function A(b,x){if(typeof b!="number"||b!=b)throw new TypeError("offset must be a number");if(b>m||b<0)throw new TypeError("offset must be a uint32");if(b>f||b>x)throw new RangeError("offset out of range")}function g(b,x,v){if(typeof b!="number"||b!=b)throw new TypeError("size must be a number");if(b>m||b<0)throw new TypeError("size must be a uint32");if(b+x>v||b>f)throw new RangeError("buffer too small")}function p(b,x,v,y){if(a.browser){var N=b.buffer,P=new Uint8Array(N,x,v);return h.getRandomValues(P),y?void a.nextTick(function(){y(null,b)}):b}if(!y)return u(v).copy(b,x),b;u(v,function(M,k){if(M)return y(M);k.copy(b,x),y(null,b)})}h&&h.getRandomValues||!a.browser?(i.randomFill=function(b,x,v,y){if(!(d.isBuffer(b)||b instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof x=="function")y=x,x=0,v=b.length;else if(typeof v=="function")y=v,v=b.length-x;else if(typeof y!="function")throw new TypeError('"cb" argument must be a function');return A(x,b.length),g(v,x,b.length),p(b,x,v,y)},i.randomFillSync=function(b,x,v){if(x===void 0&&(x=0),!(d.isBuffer(b)||b instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return A(x,b.length),v===void 0&&(v=b.length-x),g(v,x,b.length),p(b,x,v)}):(i.randomFill=c,i.randomFillSync=c)}).call(this)}).call(this,n("_process"),typeof ln<"u"?ln:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(n,s,i){var a={};function o(l,u,d){d||(d=Error);var f=function(h){var m,A;function g(p,b,x){return h.call(this,function(v,y,N){return typeof u=="string"?u:u(v,y,N)}(p,b,x))||this}return A=h,(m=g).prototype=Object.create(A.prototype),m.prototype.constructor=m,m.__proto__=A,g}(d);f.prototype.name=d.name,f.prototype.code=l,a[l]=f}function c(l,u){if(Array.isArray(l)){var d=l.length;return l=l.map(function(f){return String(f)}),d>2?"one of ".concat(u," ").concat(l.slice(0,d-1).join(", "),", or ")+l[d-1]:d===2?"one of ".concat(u," ").concat(l[0]," or ").concat(l[1]):"of ".concat(u," ").concat(l[0])}return"of ".concat(u," ").concat(String(l))}o("ERR_INVALID_OPT_VALUE",function(l,u){return'The value "'+u+'" is invalid for option "'+l+'"'},TypeError),o("ERR_INVALID_ARG_TYPE",function(l,u,d){var f,h,m;if(typeof u=="string"&&(h="not ",u.substr(0,h.length)===h)?(f="must not be",u=u.replace(/^not /,"")):f="must be",function(g,p,b){return(b===void 0||b>g.length)&&(b=g.length),g.substring(b-p.length,b)===p}(l," argument"))m="The ".concat(l," ").concat(f," ").concat(c(u,"type"));else{var A=function(g,p,b){return typeof b!="number"&&(b=0),!(b+p.length>g.length)&&g.indexOf(p,b)!==-1}(l,".")?"property":"argument";m='The "'.concat(l,'" ').concat(A," ").concat(f," ").concat(c(u,"type"))}return m+=". Received type ".concat(typeof d)},TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.codes=a},{}],478:[function(n,s,i){(function(a){(function(){var o=Object.keys||function(g){var p=[];for(var b in g)p.push(b);return p};s.exports=h;var c=n("./_stream_readable"),l=n("./_stream_writable");n("inherits")(h,c);for(var u=o(l.prototype),d=0;d<u.length;d++){var f=u[d];h.prototype[f]||(h.prototype[f]=l.prototype[f])}function h(g){if(!(this instanceof h))return new h(g);c.call(this,g),l.call(this,g),this.allowHalfOpen=!0,g&&(g.readable===!1&&(this.readable=!1),g.writable===!1&&(this.writable=!1),g.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",m)))}function m(){this._writableState.ended||a.nextTick(A,this)}function A(g){g.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}})}).call(this)}).call(this,n("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(n,s,i){s.exports=o;var a=n("./_stream_transform");function o(c){if(!(this instanceof o))return new o(c);a.call(this,c)}n("inherits")(o,a),o.prototype._transform=function(c,l,u){u(null,c)}},{"./_stream_transform":481,inherits:440}],480:[function(n,s,i){(function(a,o){(function(){var c;s.exports=F,F.ReadableState=L,n("events").EventEmitter;var l=function(H,Q){return H.listeners(Q).length},u=n("./internal/streams/stream"),d=n("buffer").Buffer,f=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,m=n("util");h=m&&m.debuglog?m.debuglog("stream"):function(){};var A,g,p,b=n("./internal/streams/buffer_list"),x=n("./internal/streams/destroy"),v=n("./internal/streams/state").getHighWaterMark,y=n("../errors").codes,N=y.ERR_INVALID_ARG_TYPE,P=y.ERR_STREAM_PUSH_AFTER_EOF,M=y.ERR_METHOD_NOT_IMPLEMENTED,k=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n("inherits")(F,u);var D=x.errorOrDestroy,O=["error","close","destroy","pause","resume"];function L(H,Q,G){c=c||n("./_stream_duplex"),H=H||{},typeof G!="boolean"&&(G=Q instanceof c),this.objectMode=!!H.objectMode,G&&(this.objectMode=this.objectMode||!!H.readableObjectMode),this.highWaterMark=v(this,H,"readableHighWaterMark",G),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=H.emitClose!==!1,this.autoDestroy=!!H.autoDestroy,this.destroyed=!1,this.defaultEncoding=H.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,H.encoding&&(A||(A=n("string_decoder/").StringDecoder),this.decoder=new A(H.encoding),this.encoding=H.encoding)}function F(H){if(c=c||n("./_stream_duplex"),!(this instanceof F))return new F(H);var Q=this instanceof c;this._readableState=new L(H,this,Q),this.readable=!0,H&&(typeof H.read=="function"&&(this._read=H.read),typeof H.destroy=="function"&&(this._destroy=H.destroy)),u.call(this)}function _(H,Q,G,J,ee){h("readableAddChunk",Q);var K,ne=H._readableState;if(Q===null)ne.reading=!1,function(ue,se){if(h("onEofChunk"),!se.ended){if(se.decoder){var ie=se.decoder.end();ie&&ie.length&&(se.buffer.push(ie),se.length+=se.objectMode?1:ie.length)}se.ended=!0,se.sync?w(ue):(se.needReadable=!1,se.emittedReadable||(se.emittedReadable=!0,C(ue)))}}(H,ne);else if(ee||(K=function(ue,se){var ie;q=se,d.isBuffer(q)||q instanceof f||typeof se=="string"||se===void 0||ue.objectMode||(ie=new N("chunk",["string","Buffer","Uint8Array"],se));var q;return ie}(ne,Q)),K)D(H,K);else if(ne.objectMode||Q&&Q.length>0)if(typeof Q=="string"||ne.objectMode||Object.getPrototypeOf(Q)===d.prototype||(Q=function(ue){return d.from(ue)}(Q)),J)ne.endEmitted?D(H,new k):E(H,ne,Q,!0);else if(ne.ended)D(H,new P);else{if(ne.destroyed)return!1;ne.reading=!1,ne.decoder&&!G?(Q=ne.decoder.write(Q),ne.objectMode||Q.length!==0?E(H,ne,Q,!1):j(H,ne)):E(H,ne,Q,!1)}else J||(ne.reading=!1,j(H,ne));return!ne.ended&&(ne.length<ne.highWaterMark||ne.length===0)}function E(H,Q,G,J){Q.flowing&&Q.length===0&&!Q.sync?(Q.awaitDrain=0,H.emit("data",G)):(Q.length+=Q.objectMode?1:G.length,J?Q.buffer.unshift(G):Q.buffer.push(G),Q.needReadable&&w(H)),j(H,Q)}Object.defineProperty(F.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(H){this._readableState&&(this._readableState.destroyed=H)}}),F.prototype.destroy=x.destroy,F.prototype._undestroy=x.undestroy,F.prototype._destroy=function(H,Q){Q(H)},F.prototype.push=function(H,Q){var G,J=this._readableState;return J.objectMode?G=!0:typeof H=="string"&&((Q=Q||J.defaultEncoding)!==J.encoding&&(H=d.from(H,Q),Q=""),G=!0),_(this,H,Q,!1,G)},F.prototype.unshift=function(H){return _(this,H,null,!0,!1)},F.prototype.isPaused=function(){return this._readableState.flowing===!1},F.prototype.setEncoding=function(H){A||(A=n("string_decoder/").StringDecoder);var Q=new A(H);this._readableState.decoder=Q,this._readableState.encoding=this._readableState.decoder.encoding;for(var G=this._readableState.buffer.head,J="";G!==null;)J+=Q.write(G.data),G=G.next;return this._readableState.buffer.clear(),J!==""&&this._readableState.buffer.push(J),this._readableState.length=J.length,this};function T(H,Q){return H<=0||Q.length===0&&Q.ended?0:Q.objectMode?1:H!=H?Q.flowing&&Q.length?Q.buffer.head.data.length:Q.length:(H>Q.highWaterMark&&(Q.highWaterMark=function(G){return G>=1073741824?G=1073741824:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G}(H)),H<=Q.length?H:Q.ended?Q.length:(Q.needReadable=!0,0))}function w(H){var Q=H._readableState;h("emitReadable",Q.needReadable,Q.emittedReadable),Q.needReadable=!1,Q.emittedReadable||(h("emitReadable",Q.flowing),Q.emittedReadable=!0,a.nextTick(C,H))}function C(H){var Q=H._readableState;h("emitReadable_",Q.destroyed,Q.length,Q.ended),Q.destroyed||!Q.length&&!Q.ended||(H.emit("readable"),Q.emittedReadable=!1),Q.needReadable=!Q.flowing&&!Q.ended&&Q.length<=Q.highWaterMark,z(H)}function j(H,Q){Q.readingMore||(Q.readingMore=!0,a.nextTick(S,H,Q))}function S(H,Q){for(;!Q.reading&&!Q.ended&&(Q.length<Q.highWaterMark||Q.flowing&&Q.length===0);){var G=Q.length;if(h("maybeReadMore read 0"),H.read(0),G===Q.length)break}Q.readingMore=!1}function I(H){var Q=H._readableState;Q.readableListening=H.listenerCount("readable")>0,Q.resumeScheduled&&!Q.paused?Q.flowing=!0:H.listenerCount("data")>0&&H.resume()}function R(H){h("readable nexttick read 0"),H.read(0)}function U(H,Q){h("resume",Q.reading),Q.reading||H.read(0),Q.resumeScheduled=!1,H.emit("resume"),z(H),Q.flowing&&!Q.reading&&H.read(0)}function z(H){var Q=H._readableState;for(h("flow",Q.flowing);Q.flowing&&H.read()!==null;);}function V(H,Q){return Q.length===0?null:(Q.objectMode?G=Q.buffer.shift():!H||H>=Q.length?(G=Q.decoder?Q.buffer.join(""):Q.buffer.length===1?Q.buffer.first():Q.buffer.concat(Q.length),Q.buffer.clear()):G=Q.buffer.consume(H,Q.decoder),G);var G}function X(H){var Q=H._readableState;h("endReadable",Q.endEmitted),Q.endEmitted||(Q.ended=!0,a.nextTick($,Q,H))}function $(H,Q){if(h("endReadableNT",H.endEmitted,H.length),!H.endEmitted&&H.length===0&&(H.endEmitted=!0,Q.readable=!1,Q.emit("end"),H.autoDestroy)){var G=Q._writableState;(!G||G.autoDestroy&&G.finished)&&Q.destroy()}}function W(H,Q){for(var G=0,J=H.length;G<J;G++)if(H[G]===Q)return G;return-1}F.prototype.read=function(H){h("read",H),H=parseInt(H,10);var Q=this._readableState,G=H;if(H!==0&&(Q.emittedReadable=!1),H===0&&Q.needReadable&&((Q.highWaterMark!==0?Q.length>=Q.highWaterMark:Q.length>0)||Q.ended))return h("read: emitReadable",Q.length,Q.ended),Q.length===0&&Q.ended?X(this):w(this),null;if((H=T(H,Q))===0&&Q.ended)return Q.length===0&&X(this),null;var J,ee=Q.needReadable;return h("need readable",ee),(Q.length===0||Q.length-H<Q.highWaterMark)&&h("length less than watermark",ee=!0),Q.ended||Q.reading?h("reading or ended",ee=!1):ee&&(h("do read"),Q.reading=!0,Q.sync=!0,Q.length===0&&(Q.needReadable=!0),this._read(Q.highWaterMark),Q.sync=!1,Q.reading||(H=T(G,Q))),(J=H>0?V(H,Q):null)===null?(Q.needReadable=Q.length<=Q.highWaterMark,H=0):(Q.length-=H,Q.awaitDrain=0),Q.length===0&&(Q.ended||(Q.needReadable=!0),G!==H&&Q.ended&&X(this)),J!==null&&this.emit("data",J),J},F.prototype._read=function(H){D(this,new M("_read()"))},F.prototype.pipe=function(H,Q){var G=this,J=this._readableState;switch(J.pipesCount){case 0:J.pipes=H;break;case 1:J.pipes=[J.pipes,H];break;default:J.pipes.push(H)}J.pipesCount+=1,h("pipe count=%d opts=%j",J.pipesCount,Q);var ee=(!Q||Q.end!==!1)&&H!==a.stdout&&H!==a.stderr?ne:re;function K(Y,oe){h("onunpipe"),Y===G&&oe&&oe.hasUnpiped===!1&&(oe.hasUnpiped=!0,h("cleanup"),H.removeListener("close",Z),H.removeListener("finish",te),H.removeListener("drain",ue),H.removeListener("error",q),H.removeListener("unpipe",K),G.removeListener("end",ne),G.removeListener("end",re),G.removeListener("data",ie),se=!0,!J.awaitDrain||H._writableState&&!H._writableState.needDrain||ue())}function ne(){h("onend"),H.end()}J.endEmitted?a.nextTick(ee):G.once("end",ee),H.on("unpipe",K);var ue=function(Y){return function(){var oe=Y._readableState;h("pipeOnDrain",oe.awaitDrain),oe.awaitDrain&&oe.awaitDrain--,oe.awaitDrain===0&&l(Y,"data")&&(oe.flowing=!0,z(Y))}}(G);H.on("drain",ue);var se=!1;function ie(Y){h("ondata");var oe=H.write(Y);h("dest.write",oe),oe===!1&&((J.pipesCount===1&&J.pipes===H||J.pipesCount>1&&W(J.pipes,H)!==-1)&&!se&&(h("false write response, pause",J.awaitDrain),J.awaitDrain++),G.pause())}function q(Y){h("onerror",Y),re(),H.removeListener("error",q),l(H,"error")===0&&D(H,Y)}function Z(){H.removeListener("finish",te),re()}function te(){h("onfinish"),H.removeListener("close",Z),re()}function re(){h("unpipe"),G.unpipe(H)}return G.on("data",ie),function(Y,oe,ae){if(typeof Y.prependListener=="function")return Y.prependListener(oe,ae);Y._events&&Y._events[oe]?Array.isArray(Y._events[oe])?Y._events[oe].unshift(ae):Y._events[oe]=[ae,Y._events[oe]]:Y.on(oe,ae)}(H,"error",q),H.once("close",Z),H.once("finish",te),H.emit("pipe",G),J.flowing||(h("pipe resume"),G.resume()),H},F.prototype.unpipe=function(H){var Q=this._readableState,G={hasUnpiped:!1};if(Q.pipesCount===0)return this;if(Q.pipesCount===1)return H&&H!==Q.pipes||(H||(H=Q.pipes),Q.pipes=null,Q.pipesCount=0,Q.flowing=!1,H&&H.emit("unpipe",this,G)),this;if(!H){var J=Q.pipes,ee=Q.pipesCount;Q.pipes=null,Q.pipesCount=0,Q.flowing=!1;for(var K=0;K<ee;K++)J[K].emit("unpipe",this,{hasUnpiped:!1});return this}var ne=W(Q.pipes,H);return ne===-1||(Q.pipes.splice(ne,1),Q.pipesCount-=1,Q.pipesCount===1&&(Q.pipes=Q.pipes[0]),H.emit("unpipe",this,G)),this},F.prototype.on=function(H,Q){var G=u.prototype.on.call(this,H,Q),J=this._readableState;return H==="data"?(J.readableListening=this.listenerCount("readable")>0,J.flowing!==!1&&this.resume()):H==="readable"&&(J.endEmitted||J.readableListening||(J.readableListening=J.needReadable=!0,J.flowing=!1,J.emittedReadable=!1,h("on readable",J.length,J.reading),J.length?w(this):J.reading||a.nextTick(R,this))),G},F.prototype.addListener=F.prototype.on,F.prototype.removeListener=function(H,Q){var G=u.prototype.removeListener.call(this,H,Q);return H==="readable"&&a.nextTick(I,this),G},F.prototype.removeAllListeners=function(H){var Q=u.prototype.removeAllListeners.apply(this,arguments);return H!=="readable"&&H!==void 0||a.nextTick(I,this),Q},F.prototype.resume=function(){var H=this._readableState;return H.flowing||(h("resume"),H.flowing=!H.readableListening,function(Q,G){G.resumeScheduled||(G.resumeScheduled=!0,a.nextTick(U,Q,G))}(this,H)),H.paused=!1,this},F.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},F.prototype.wrap=function(H){var Q=this,G=this._readableState,J=!1;for(var ee in H.on("end",function(){if(h("wrapped end"),G.decoder&&!G.ended){var ne=G.decoder.end();ne&&ne.length&&Q.push(ne)}Q.push(null)}),H.on("data",function(ne){h("wrapped data"),G.decoder&&(ne=G.decoder.write(ne)),G.objectMode&&ne==null||(G.objectMode||ne&&ne.length)&&(Q.push(ne)||(J=!0,H.pause()))}),H)this[ee]===void 0&&typeof H[ee]=="function"&&(this[ee]=function(ne){return function(){return H[ne].apply(H,arguments)}}(ee));for(var K=0;K<O.length;K++)H.on(O[K],this.emit.bind(this,O[K]));return this._read=function(ne){h("wrapped _read",ne),J&&(J=!1,H.resume())},this},typeof Symbol=="function"&&(F.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=n("./internal/streams/async_iterator")),g(this)}),Object.defineProperty(F.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(F.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(F.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(H){this._readableState&&(this._readableState.flowing=H)}}),F._fromList=V,Object.defineProperty(F.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(F.from=function(H,Q){return p===void 0&&(p=n("./internal/streams/from")),p(F,H,Q)})}).call(this)}).call(this,n("_process"),typeof ln<"u"?ln:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(n,s,i){s.exports=h;var a=n("../errors").codes,o=a.ERR_METHOD_NOT_IMPLEMENTED,c=a.ERR_MULTIPLE_CALLBACK,l=a.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=a.ERR_TRANSFORM_WITH_LENGTH_0,d=n("./_stream_duplex");function f(g,p){var b=this._transformState;b.transforming=!1;var x=b.writecb;if(x===null)return this.emit("error",new c);b.writechunk=null,b.writecb=null,p!=null&&this.push(p),x(g);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function h(g){if(!(this instanceof h))return new h(g);d.call(this,g),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,g&&(typeof g.transform=="function"&&(this._transform=g.transform),typeof g.flush=="function"&&(this._flush=g.flush)),this.on("prefinish",m)}function m(){var g=this;typeof this._flush!="function"||this._readableState.destroyed?A(this,null,null):this._flush(function(p,b){A(g,p,b)})}function A(g,p,b){if(p)return g.emit("error",p);if(b!=null&&g.push(b),g._writableState.length)throw new u;if(g._transformState.transforming)throw new l;return g.push(null)}n("inherits")(h,d),h.prototype.push=function(g,p){return this._transformState.needTransform=!1,d.prototype.push.call(this,g,p)},h.prototype._transform=function(g,p,b){b(new o("_transform()"))},h.prototype._write=function(g,p,b){var x=this._transformState;if(x.writecb=b,x.writechunk=g,x.writeencoding=p,!x.transforming){var v=this._readableState;(x.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},h.prototype._read=function(g){var p=this._transformState;p.writechunk===null||p.transforming?p.needTransform=!0:(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform))},h.prototype._destroy=function(g,p){d.prototype._destroy.call(this,g,function(b){p(b)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(n,s,i){(function(a,o){(function(){function c(S){var I=this;this.next=null,this.entry=null,this.finish=function(){(function(R,U,z){var V=R.entry;for(R.entry=null;V;){var X=V.callback;U.pendingcb--,X(z),V=V.next}U.corkedRequestsFree.next=R})(I,S)}}var l;s.exports=F,F.WritableState=L;var u={deprecate:n("util-deprecate")},d=n("./internal/streams/stream"),f=n("buffer").Buffer,h=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},m,A=n("./internal/streams/destroy"),g=n("./internal/streams/state").getHighWaterMark,p=n("../errors").codes,b=p.ERR_INVALID_ARG_TYPE,x=p.ERR_METHOD_NOT_IMPLEMENTED,v=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,N=p.ERR_STREAM_DESTROYED,P=p.ERR_STREAM_NULL_VALUES,M=p.ERR_STREAM_WRITE_AFTER_END,k=p.ERR_UNKNOWN_ENCODING,D=A.errorOrDestroy;function O(){}function L(S,I,R){l=l||n("./_stream_duplex"),S=S||{},typeof R!="boolean"&&(R=I instanceof l),this.objectMode=!!S.objectMode,R&&(this.objectMode=this.objectMode||!!S.writableObjectMode),this.highWaterMark=g(this,S,"writableHighWaterMark",R),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var U=S.decodeStrings===!1;this.decodeStrings=!U,this.defaultEncoding=S.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(z){(function(V,X){var $=V._writableState,W=$.sync,H=$.writecb;if(typeof H!="function")throw new v;if(function(G){G.writing=!1,G.writecb=null,G.length-=G.writelen,G.writelen=0}($),X)(function(G,J,ee,K,ne){--J.pendingcb,ee?(a.nextTick(ne,K),a.nextTick(j,G,J),G._writableState.errorEmitted=!0,D(G,K)):(ne(K),G._writableState.errorEmitted=!0,D(G,K),j(G,J))})(V,$,W,X,H);else{var Q=w($)||V.destroyed;Q||$.corked||$.bufferProcessing||!$.bufferedRequest||T(V,$),W?a.nextTick(E,V,$,Q,H):E(V,$,Q,H)}})(I,z)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=S.emitClose!==!1,this.autoDestroy=!!S.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new c(this)}function F(S){var I=this instanceof(l=l||n("./_stream_duplex"));if(!I&&!m.call(F,this))return new F(S);this._writableState=new L(S,this,I),this.writable=!0,S&&(typeof S.write=="function"&&(this._write=S.write),typeof S.writev=="function"&&(this._writev=S.writev),typeof S.destroy=="function"&&(this._destroy=S.destroy),typeof S.final=="function"&&(this._final=S.final)),d.call(this)}function _(S,I,R,U,z,V,X){I.writelen=U,I.writecb=X,I.writing=!0,I.sync=!0,I.destroyed?I.onwrite(new N("write")):R?S._writev(z,I.onwrite):S._write(z,V,I.onwrite),I.sync=!1}function E(S,I,R,U){R||function(z,V){V.length===0&&V.needDrain&&(V.needDrain=!1,z.emit("drain"))}(S,I),I.pendingcb--,U(),j(S,I)}function T(S,I){I.bufferProcessing=!0;var R=I.bufferedRequest;if(S._writev&&R&&R.next){var U=I.bufferedRequestCount,z=new Array(U),V=I.corkedRequestsFree;V.entry=R;for(var X=0,$=!0;R;)z[X]=R,R.isBuf||($=!1),R=R.next,X+=1;z.allBuffers=$,_(S,I,!0,I.length,z,"",V.finish),I.pendingcb++,I.lastBufferedRequest=null,V.next?(I.corkedRequestsFree=V.next,V.next=null):I.corkedRequestsFree=new c(I),I.bufferedRequestCount=0}else{for(;R;){var W=R.chunk,H=R.encoding,Q=R.callback;if(_(S,I,!1,I.objectMode?1:W.length,W,H,Q),R=R.next,I.bufferedRequestCount--,I.writing)break}R===null&&(I.lastBufferedRequest=null)}I.bufferedRequest=R,I.bufferProcessing=!1}function w(S){return S.ending&&S.length===0&&S.bufferedRequest===null&&!S.finished&&!S.writing}function C(S,I){S._final(function(R){I.pendingcb--,R&&D(S,R),I.prefinished=!0,S.emit("prefinish"),j(S,I)})}function j(S,I){var R=w(I);if(R&&(function(z,V){V.prefinished||V.finalCalled||(typeof z._final!="function"||V.destroyed?(V.prefinished=!0,z.emit("prefinish")):(V.pendingcb++,V.finalCalled=!0,a.nextTick(C,z,V)))}(S,I),I.pendingcb===0&&(I.finished=!0,S.emit("finish"),I.autoDestroy))){var U=S._readableState;(!U||U.autoDestroy&&U.endEmitted)&&S.destroy()}return R}n("inherits")(F,d),L.prototype.getBuffer=function(){for(var S=this.bufferedRequest,I=[];S;)I.push(S),S=S.next;return I},function(){try{Object.defineProperty(L.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(F,Symbol.hasInstance,{value:function(S){return!!m.call(this,S)||this===F&&S&&S._writableState instanceof L}})):m=function(S){return S instanceof this},F.prototype.pipe=function(){D(this,new y)},F.prototype.write=function(S,I,R){var U,z=this._writableState,V=!1,X=!z.objectMode&&(U=S,f.isBuffer(U)||U instanceof h);return X&&!f.isBuffer(S)&&(S=function($){return f.from($)}(S)),typeof I=="function"&&(R=I,I=null),X?I="buffer":I||(I=z.defaultEncoding),typeof R!="function"&&(R=O),z.ending?function($,W){var H=new M;D($,H),a.nextTick(W,H)}(this,R):(X||function($,W,H,Q){var G;return H===null?G=new P:typeof H=="string"||W.objectMode||(G=new b("chunk",["string","Buffer"],H)),!G||(D($,G),a.nextTick(Q,G),!1)}(this,z,S,R))&&(z.pendingcb++,V=function($,W,H,Q,G,J){if(!H){var ee=function(se,ie,q){return se.objectMode||se.decodeStrings===!1||typeof ie!="string"||(ie=f.from(ie,q)),ie}(W,Q,G);Q!==ee&&(H=!0,G="buffer",Q=ee)}var K=W.objectMode?1:Q.length;W.length+=K;var ne=W.length<W.highWaterMark;if(ne||(W.needDrain=!0),W.writing||W.corked){var ue=W.lastBufferedRequest;W.lastBufferedRequest={chunk:Q,encoding:G,isBuf:H,callback:J,next:null},ue?ue.next=W.lastBufferedRequest:W.bufferedRequest=W.lastBufferedRequest,W.bufferedRequestCount+=1}else _($,W,!1,K,Q,G,J);return ne}(this,z,X,S,I,R)),V},F.prototype.cork=function(){this._writableState.corked++},F.prototype.uncork=function(){var S=this._writableState;S.corked&&(S.corked--,S.writing||S.corked||S.bufferProcessing||!S.bufferedRequest||T(this,S))},F.prototype.setDefaultEncoding=function(S){if(typeof S=="string"&&(S=S.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((S+"").toLowerCase())>-1))throw new k(S);return this._writableState.defaultEncoding=S,this},Object.defineProperty(F.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(F.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),F.prototype._write=function(S,I,R){R(new x("_write()"))},F.prototype._writev=null,F.prototype.end=function(S,I,R){var U=this._writableState;return typeof S=="function"?(R=S,S=null,I=null):typeof I=="function"&&(R=I,I=null),S!=null&&this.write(S,I),U.corked&&(U.corked=1,this.uncork()),U.ending||function(z,V,X){V.ending=!0,j(z,V),X&&(V.finished?a.nextTick(X):z.once("finish",X)),V.ended=!0,z.writable=!1}(this,U,R),this},Object.defineProperty(F.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(F.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(S){this._writableState&&(this._writableState.destroyed=S)}}),F.prototype.destroy=A.destroy,F.prototype._undestroy=A.undestroy,F.prototype._destroy=function(S,I){I(S)}}).call(this)}).call(this,n("_process"),typeof ln<"u"?ln:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(n,s,i){(function(a){(function(){var o;function c(N,P,M){return(P=function(k){var D=function(O,L){if(typeof O!="object"||O===null)return O;var F=O[Symbol.toPrimitive];if(F!==void 0){var _=F.call(O,L);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(O)}(k,"string");return typeof D=="symbol"?D:String(D)}(P))in N?Object.defineProperty(N,P,{value:M,enumerable:!0,configurable:!0,writable:!0}):N[P]=M,N}var l=n("./end-of-stream"),u=Symbol("lastResolve"),d=Symbol("lastReject"),f=Symbol("error"),h=Symbol("ended"),m=Symbol("lastPromise"),A=Symbol("handlePromise"),g=Symbol("stream");function p(N,P){return{value:N,done:P}}function b(N){var P=N[u];if(P!==null){var M=N[g].read();M!==null&&(N[m]=null,N[u]=null,N[d]=null,P(p(M,!1)))}}function x(N){a.nextTick(b,N)}var v=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((c(o={get stream(){return this[g]},next:function(){var N=this,P=this[f];if(P!==null)return Promise.reject(P);if(this[h])return Promise.resolve(p(void 0,!0));if(this[g].destroyed)return new Promise(function(O,L){a.nextTick(function(){N[f]?L(N[f]):O(p(void 0,!0))})});var M,k=this[m];if(k)M=new Promise(function(O,L){return function(F,_){O.then(function(){L[h]?F(p(void 0,!0)):L[A](F,_)},_)}}(k,this));else{var D=this[g].read();if(D!==null)return Promise.resolve(p(D,!1));M=new Promise(this[A])}return this[m]=M,M}},Symbol.asyncIterator,function(){return this}),c(o,"return",function(){var N=this;return new Promise(function(P,M){N[g].destroy(null,function(k){k?M(k):P(p(void 0,!0))})})}),o),v);s.exports=function(N){var P,M=Object.create(y,(c(P={},g,{value:N,writable:!0}),c(P,u,{value:null,writable:!0}),c(P,d,{value:null,writable:!0}),c(P,f,{value:null,writable:!0}),c(P,h,{value:N._readableState.endEmitted,writable:!0}),c(P,A,{value:function(k,D){var O=M[g].read();O?(M[m]=null,M[u]=null,M[d]=null,k(p(O,!1))):(M[u]=k,M[d]=D)},writable:!0}),P));return M[m]=null,l(N,function(k){if(k&&k.code!=="ERR_STREAM_PREMATURE_CLOSE"){var D=M[d];return D!==null&&(M[m]=null,M[u]=null,M[d]=null,D(k)),void(M[f]=k)}var O=M[u];O!==null&&(M[m]=null,M[u]=null,M[d]=null,O(p(void 0,!0))),M[h]=!0}),N.on("readable",x.bind(null,M)),M}}).call(this)}).call(this,n("_process"))},{"./end-of-stream":486,_process:467}],484:[function(n,s,i){function a(m,A){var g=Object.keys(m);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(m);A&&(p=p.filter(function(b){return Object.getOwnPropertyDescriptor(m,b).enumerable})),g.push.apply(g,p)}return g}function o(m){for(var A=1;A<arguments.length;A++){var g=arguments[A]!=null?arguments[A]:{};A%2?a(Object(g),!0).forEach(function(p){c(m,p,g[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(g)):a(Object(g)).forEach(function(p){Object.defineProperty(m,p,Object.getOwnPropertyDescriptor(g,p))})}return m}function c(m,A,g){return(A=u(A))in m?Object.defineProperty(m,A,{value:g,enumerable:!0,configurable:!0,writable:!0}):m[A]=g,m}function l(m,A){for(var g=0;g<A.length;g++){var p=A[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,u(p.key),p)}}function u(m){var A=function(g,p){if(typeof g!="object"||g===null)return g;var b=g[Symbol.toPrimitive];if(b!==void 0){var x=b.call(g,p);if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(g)}(m,"string");return typeof A=="symbol"?A:String(A)}var d=n("buffer").Buffer,f=n("util").inspect,h=f&&f.custom||"inspect";s.exports=function(){function m(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,m),this.head=null,this.tail=null,this.length=0}var A,g;return A=m,(g=[{key:"push",value:function(p){var b={data:p,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length}},{key:"unshift",value:function(p){var b={data:p,next:this.head};this.length===0&&(this.tail=b),this.head=b,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var b=this.head,x=""+b.data;b=b.next;)x+=p+b.data;return x}},{key:"concat",value:function(p){if(this.length===0)return d.alloc(0);for(var b,x,v,y=d.allocUnsafe(p>>>0),N=this.head,P=0;N;)b=N.data,x=y,v=P,d.prototype.copy.call(b,x,v),P+=N.data.length,N=N.next;return y}},{key:"consume",value:function(p,b){var x;return p<this.head.data.length?(x=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):x=p===this.head.data.length?this.shift():b?this._getString(p):this._getBuffer(p),x}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var b=this.head,x=1,v=b.data;for(p-=v.length;b=b.next;){var y=b.data,N=p>y.length?y.length:p;if(N===y.length?v+=y:v+=y.slice(0,p),(p-=N)==0){N===y.length?(++x,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=y.slice(N));break}++x}return this.length-=x,v}},{key:"_getBuffer",value:function(p){var b=d.allocUnsafe(p),x=this.head,v=1;for(x.data.copy(b),p-=x.data.length;x=x.next;){var y=x.data,N=p>y.length?y.length:p;if(y.copy(b,b.length-p,0,N),(p-=N)==0){N===y.length?(++v,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=y.slice(N));break}++v}return this.length-=v,b}},{key:h,value:function(p,b){return f(this,o(o({},b),{},{depth:0,customInspect:!1}))}}])&&l(A.prototype,g),Object.defineProperty(A,"prototype",{writable:!1}),m}()},{buffer:220,util:188}],485:[function(n,s,i){(function(a){(function(){function o(u,d){l(u,d),c(u)}function c(u){u._writableState&&!u._writableState.emitClose||u._readableState&&!u._readableState.emitClose||u.emit("close")}function l(u,d){u.emit("error",d)}s.exports={destroy:function(u,d){var f=this,h=this._readableState&&this._readableState.destroyed,m=this._writableState&&this._writableState.destroyed;return h||m?(d?d(u):u&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(l,this,u)):a.nextTick(l,this,u)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(u||null,function(A){!d&&A?f._writableState?f._writableState.errorEmitted?a.nextTick(c,f):(f._writableState.errorEmitted=!0,a.nextTick(o,f,A)):a.nextTick(o,f,A):d?(a.nextTick(c,f),d(A)):a.nextTick(c,f)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(u,d){var f=u._readableState,h=u._writableState;f&&f.autoDestroy||h&&h.autoDestroy?u.destroy(d):u.emit("error",d)}}}).call(this)}).call(this,n("_process"))},{_process:467}],486:[function(n,s,i){var a=n("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function o(){}s.exports=function c(l,u,d){if(typeof u=="function")return c(l,null,u);u||(u={}),d=function(N){var P=!1;return function(){if(!P){P=!0;for(var M=arguments.length,k=new Array(M),D=0;D<M;D++)k[D]=arguments[D];N.apply(this,k)}}}(d||o);var f=u.readable||u.readable!==!1&&l.readable,h=u.writable||u.writable!==!1&&l.writable,m=function(){l.writable||g()},A=l._writableState&&l._writableState.finished,g=function(){h=!1,A=!0,f||d.call(l)},p=l._readableState&&l._readableState.endEmitted,b=function(){f=!1,p=!0,h||d.call(l)},x=function(N){d.call(l,N)},v=function(){var N;return f&&!p?(l._readableState&&l._readableState.ended||(N=new a),d.call(l,N)):h&&!A?(l._writableState&&l._writableState.ended||(N=new a),d.call(l,N)):void 0},y=function(){l.req.on("finish",g)};return function(N){return N.setHeader&&typeof N.abort=="function"}(l)?(l.on("complete",g),l.on("abort",v),l.req?y():l.on("request",y)):h&&!l._writableState&&(l.on("end",m),l.on("close",m)),l.on("end",b),l.on("finish",g),u.error!==!1&&l.on("error",x),l.on("close",v),function(){l.removeListener("complete",g),l.removeListener("abort",v),l.removeListener("request",y),l.req&&l.req.removeListener("finish",g),l.removeListener("end",m),l.removeListener("close",m),l.removeListener("finish",g),l.removeListener("end",b),l.removeListener("error",x),l.removeListener("close",v)}}},{"../../../errors":477}],487:[function(n,s,i){s.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(n,s,i){var a,o=n("../../../errors").codes,c=o.ERR_MISSING_ARGS,l=o.ERR_STREAM_DESTROYED;function u(A){if(A)throw A}function d(A,g,p,b){b=function(y){var N=!1;return function(){N||(N=!0,y.apply(void 0,arguments))}}(b);var x=!1;A.on("close",function(){x=!0}),a===void 0&&(a=n("./end-of-stream")),a(A,{readable:g,writable:p},function(y){if(y)return b(y);x=!0,b()});var v=!1;return function(y){if(!x&&!v)return v=!0,function(N){return N.setHeader&&typeof N.abort=="function"}(A)?A.abort():typeof A.destroy=="function"?A.destroy():void b(y||new l("pipe"))}}function f(A){A()}function h(A,g){return A.pipe(g)}function m(A){return A.length?typeof A[A.length-1]!="function"?u:A.pop():u}s.exports=function(){for(var A=arguments.length,g=new Array(A),p=0;p<A;p++)g[p]=arguments[p];var b,x=m(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new c("streams");var v=g.map(function(y,N){var P=N<g.length-1;return d(y,P,N>0,function(M){b||(b=M),M&&v.forEach(f),P||(v.forEach(f),x(b))})});return g.reduce(h)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(n,s,i){var a=n("../../../errors").codes.ERR_INVALID_OPT_VALUE;s.exports={getHighWaterMark:function(o,c,l,u){var d=function(f,h,m){return f.highWaterMark!=null?f.highWaterMark:h?f[m]:null}(c,u,l);if(d!=null){if(!isFinite(d)||Math.floor(d)!==d||d<0)throw new a(u?l:"highWaterMark",d);return Math.floor(d)}return o.objectMode?16:16384}}},{"../../../errors":477}],490:[function(n,s,i){s.exports=n("events").EventEmitter},{events:422}],491:[function(n,s,i){(i=s.exports=n("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=n("./lib/_stream_writable.js"),i.Duplex=n("./lib/_stream_duplex.js"),i.Transform=n("./lib/_stream_transform.js"),i.PassThrough=n("./lib/_stream_passthrough.js"),i.finished=n("./lib/internal/streams/end-of-stream.js"),i.pipeline=n("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(n,s,i){var a=function(o){var c=Object.prototype,l=c.hasOwnProperty,u=Object.defineProperty||function(j,S,I){j[S]=I.value},d=typeof Symbol=="function"?Symbol:{},f=d.iterator||"@@iterator",h=d.asyncIterator||"@@asyncIterator",m=d.toStringTag||"@@toStringTag";function A(j,S,I){return Object.defineProperty(j,S,{value:I,enumerable:!0,configurable:!0,writable:!0}),j[S]}try{A({},"")}catch{A=function(S,I,R){return S[I]=R}}function g(j,S,I,R){var U=S&&S.prototype instanceof x?S:x,z=Object.create(U.prototype),V=new T(R||[]);return u(z,"_invoke",{value:L(j,I,V)}),z}function p(j,S,I){try{return{type:"normal",arg:j.call(S,I)}}catch(R){return{type:"throw",arg:R}}}o.wrap=g;var b={};function x(){}function v(){}function y(){}var N={};A(N,f,function(){return this});var P=Object.getPrototypeOf,M=P&&P(P(w([])));M&&M!==c&&l.call(M,f)&&(N=M);var k=y.prototype=x.prototype=Object.create(N);function D(j){["next","throw","return"].forEach(function(S){A(j,S,function(I){return this._invoke(S,I)})})}function O(j,S){var I;u(this,"_invoke",{value:function(R,U){function z(){return new S(function(V,X){(function $(W,H,Q,G){var J=p(j[W],j,H);if(J.type!=="throw"){var ee=J.arg,K=ee.value;return K&&typeof K=="object"&&l.call(K,"__await")?S.resolve(K.__await).then(function(ne){$("next",ne,Q,G)},function(ne){$("throw",ne,Q,G)}):S.resolve(K).then(function(ne){ee.value=ne,Q(ee)},function(ne){return $("throw",ne,Q,G)})}G(J.arg)})(R,U,V,X)})}return I=I?I.then(z,z):z()}})}function L(j,S,I){var R="suspendedStart";return function(U,z){if(R==="executing")throw new Error("Generator is already running");if(R==="completed"){if(U==="throw")throw z;return C()}for(I.method=U,I.arg=z;;){var V=I.delegate;if(V){var X=F(V,I);if(X){if(X===b)continue;return X}}if(I.method==="next")I.sent=I._sent=I.arg;else if(I.method==="throw"){if(R==="suspendedStart")throw R="completed",I.arg;I.dispatchException(I.arg)}else I.method==="return"&&I.abrupt("return",I.arg);R="executing";var $=p(j,S,I);if($.type==="normal"){if(R=I.done?"completed":"suspendedYield",$.arg===b)continue;return{value:$.arg,done:I.done}}$.type==="throw"&&(R="completed",I.method="throw",I.arg=$.arg)}}}function F(j,S){var I=S.method,R=j.iterator[I];if(R===void 0)return S.delegate=null,I==="throw"&&j.iterator.return&&(S.method="return",S.arg=void 0,F(j,S),S.method==="throw")||I!=="return"&&(S.method="throw",S.arg=new TypeError("The iterator does not provide a '"+I+"' method")),b;var U=p(R,j.iterator,S.arg);if(U.type==="throw")return S.method="throw",S.arg=U.arg,S.delegate=null,b;var z=U.arg;return z?z.done?(S[j.resultName]=z.value,S.next=j.nextLoc,S.method!=="return"&&(S.method="next",S.arg=void 0),S.delegate=null,b):z:(S.method="throw",S.arg=new TypeError("iterator result is not an object"),S.delegate=null,b)}function _(j){var S={tryLoc:j[0]};1 in j&&(S.catchLoc=j[1]),2 in j&&(S.finallyLoc=j[2],S.afterLoc=j[3]),this.tryEntries.push(S)}function E(j){var S=j.completion||{};S.type="normal",delete S.arg,j.completion=S}function T(j){this.tryEntries=[{tryLoc:"root"}],j.forEach(_,this),this.reset(!0)}function w(j){if(j){var S=j[f];if(S)return S.call(j);if(typeof j.next=="function")return j;if(!isNaN(j.length)){var I=-1,R=function U(){for(;++I<j.length;)if(l.call(j,I))return U.value=j[I],U.done=!1,U;return U.value=void 0,U.done=!0,U};return R.next=R}}return{next:C}}function C(){return{value:void 0,done:!0}}return v.prototype=y,u(k,"constructor",{value:y,configurable:!0}),u(y,"constructor",{value:v,configurable:!0}),v.displayName=A(y,m,"GeneratorFunction"),o.isGeneratorFunction=function(j){var S=typeof j=="function"&&j.constructor;return!!S&&(S===v||(S.displayName||S.name)==="GeneratorFunction")},o.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,y):(j.__proto__=y,A(j,m,"GeneratorFunction")),j.prototype=Object.create(k),j},o.awrap=function(j){return{__await:j}},D(O.prototype),A(O.prototype,h,function(){return this}),o.AsyncIterator=O,o.async=function(j,S,I,R,U){U===void 0&&(U=Promise);var z=new O(g(j,S,I,R),U);return o.isGeneratorFunction(S)?z:z.next().then(function(V){return V.done?V.value:z.next()})},D(k),A(k,m,"Generator"),A(k,f,function(){return this}),A(k,"toString",function(){return"[object Generator]"}),o.keys=function(j){var S=Object(j),I=[];for(var R in S)I.push(R);return I.reverse(),function U(){for(;I.length;){var z=I.pop();if(z in S)return U.value=z,U.done=!1,U}return U.done=!0,U}},o.values=w,T.prototype={constructor:T,reset:function(j){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!j)for(var S in this)S.charAt(0)==="t"&&l.call(this,S)&&!isNaN(+S.slice(1))&&(this[S]=void 0)},stop:function(){this.done=!0;var j=this.tryEntries[0].completion;if(j.type==="throw")throw j.arg;return this.rval},dispatchException:function(j){if(this.done)throw j;var S=this;function I($,W){return z.type="throw",z.arg=j,S.next=$,W&&(S.method="next",S.arg=void 0),!!W}for(var R=this.tryEntries.length-1;R>=0;--R){var U=this.tryEntries[R],z=U.completion;if(U.tryLoc==="root")return I("end");if(U.tryLoc<=this.prev){var V=l.call(U,"catchLoc"),X=l.call(U,"finallyLoc");if(V&&X){if(this.prev<U.catchLoc)return I(U.catchLoc,!0);if(this.prev<U.finallyLoc)return I(U.finallyLoc)}else if(V){if(this.prev<U.catchLoc)return I(U.catchLoc,!0)}else{if(!X)throw new Error("try statement without catch or finally");if(this.prev<U.finallyLoc)return I(U.finallyLoc)}}}},abrupt:function(j,S){for(var I=this.tryEntries.length-1;I>=0;--I){var R=this.tryEntries[I];if(R.tryLoc<=this.prev&&l.call(R,"finallyLoc")&&this.prev<R.finallyLoc){var U=R;break}}U&&(j==="break"||j==="continue")&&U.tryLoc<=S&&S<=U.finallyLoc&&(U=null);var z=U?U.completion:{};return z.type=j,z.arg=S,U?(this.method="next",this.next=U.finallyLoc,b):this.complete(z)},complete:function(j,S){if(j.type==="throw")throw j.arg;return j.type==="break"||j.type==="continue"?this.next=j.arg:j.type==="return"?(this.rval=this.arg=j.arg,this.method="return",this.next="end"):j.type==="normal"&&S&&(this.next=S),b},finish:function(j){for(var S=this.tryEntries.length-1;S>=0;--S){var I=this.tryEntries[S];if(I.finallyLoc===j)return this.complete(I.completion,I.afterLoc),E(I),b}},catch:function(j){for(var S=this.tryEntries.length-1;S>=0;--S){var I=this.tryEntries[S];if(I.tryLoc===j){var R=I.completion;if(R.type==="throw"){var U=R.arg;E(I)}return U}}throw new Error("illegal catch attempt")},delegateYield:function(j,S,I){return this.delegate={iterator:w(j),resultName:S,nextLoc:I},this.method==="next"&&(this.arg=void 0),b}},o}(typeof s=="object"?s.exports:{});try{regeneratorRuntime=a}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},{}],493:[function(n,s,i){var a=n("buffer").Buffer,o=n("inherits"),c=n("hash-base"),l=new Array(16),u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],m=[0,1518500249,1859775393,2400959708,2840853838],A=[1352829926,1548603684,1836072691,2053994217,0];function g(){c.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(P,M){return P<<M|P>>>32-M}function b(P,M,k,D,O,L,F,_){return p(P+(M^k^D)+L+F|0,_)+O|0}function x(P,M,k,D,O,L,F,_){return p(P+(M&k|~M&D)+L+F|0,_)+O|0}function v(P,M,k,D,O,L,F,_){return p(P+((M|~k)^D)+L+F|0,_)+O|0}function y(P,M,k,D,O,L,F,_){return p(P+(M&D|k&~D)+L+F|0,_)+O|0}function N(P,M,k,D,O,L,F,_){return p(P+(M^(k|~D))+L+F|0,_)+O|0}o(g,c),g.prototype._update=function(){for(var P=l,M=0;M<16;++M)P[M]=this._block.readInt32LE(4*M);for(var k=0|this._a,D=0|this._b,O=0|this._c,L=0|this._d,F=0|this._e,_=0|this._a,E=0|this._b,T=0|this._c,w=0|this._d,C=0|this._e,j=0;j<80;j+=1){var S,I;j<16?(S=b(k,D,O,L,F,P[u[j]],m[0],f[j]),I=N(_,E,T,w,C,P[d[j]],A[0],h[j])):j<32?(S=x(k,D,O,L,F,P[u[j]],m[1],f[j]),I=y(_,E,T,w,C,P[d[j]],A[1],h[j])):j<48?(S=v(k,D,O,L,F,P[u[j]],m[2],f[j]),I=v(_,E,T,w,C,P[d[j]],A[2],h[j])):j<64?(S=y(k,D,O,L,F,P[u[j]],m[3],f[j]),I=x(_,E,T,w,C,P[d[j]],A[3],h[j])):(S=N(k,D,O,L,F,P[u[j]],m[4],f[j]),I=b(_,E,T,w,C,P[d[j]],A[4],h[j])),k=F,F=L,L=p(O,10),O=D,D=S,_=C,C=w,w=p(T,10),T=E,E=I}var R=this._b+O+w|0;this._b=this._c+L+C|0,this._c=this._d+F+_|0,this._d=this._e+k+E|0,this._e=this._a+D+T|0,this._a=R},g.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var P=a.alloc?a.alloc(20):new a(20);return P.writeInt32LE(this._a,0),P.writeInt32LE(this._b,4),P.writeInt32LE(this._c,8),P.writeInt32LE(this._d,12),P.writeInt32LE(this._e,16),P},s.exports=g},{buffer:220,"hash-base":425,inherits:440}],494:[function(n,s,i){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var a=n("buffer"),o=a.Buffer;function c(u,d){for(var f in u)d[f]=u[f]}function l(u,d,f){return o(u,d,f)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?s.exports=a:(c(a,i),i.Buffer=l),l.prototype=Object.create(o.prototype),c(o,l),l.from=function(u,d,f){if(typeof u=="number")throw new TypeError("Argument must not be a number");return o(u,d,f)},l.alloc=function(u,d,f){if(typeof u!="number")throw new TypeError("Argument must be a number");var h=o(u);return d!==void 0?typeof f=="string"?h.fill(d,f):h.fill(d):h.fill(0),h},l.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return o(u)},l.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(u)}},{buffer:220}],495:[function(n,s,i){(function(a){(function(){var o,c=n("buffer"),l=c.Buffer,u={};for(o in c)c.hasOwnProperty(o)&&o!=="SlowBuffer"&&o!=="Buffer"&&(u[o]=c[o]);var d=u.Buffer={};for(o in l)l.hasOwnProperty(o)&&o!=="allocUnsafe"&&o!=="allocUnsafeSlow"&&(d[o]=l[o]);if(u.Buffer.prototype=l.prototype,d.from&&d.from!==Uint8Array.from||(d.from=function(f,h,m){if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof f);if(f&&f.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);return l(f,h,m)}),d.alloc||(d.alloc=function(f,h,m){if(typeof f!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof f);if(f<0||f>=2*(1<<30))throw new RangeError('The value "'+f+'" is invalid for option "size"');var A=l(f);return h&&h.length!==0?typeof m=="string"?A.fill(h,m):A.fill(h):A.fill(0),A}),!u.kStringMaxLength)try{u.kStringMaxLength=a.binding("buffer").kStringMaxLength}catch{}u.constants||(u.constants={MAX_LENGTH:u.kMaxLength},u.kStringMaxLength&&(u.constants.MAX_STRING_LENGTH=u.kStringMaxLength)),s.exports=u}).call(this)}).call(this,n("_process"))},{_process:467,buffer:220}],496:[function(n,s,i){Object.defineProperty(i,"__esModule",{value:!0});const a=n("xmlchars/xml/1.0/ed5"),o=n("xmlchars/xml/1.1/ed2"),c=n("xmlchars/xmlns/1.0/ed3");var l=a.isS,u=a.isChar,d=a.isNameStartChar,f=a.isNameChar,h=a.S_LIST,m=a.NAME_RE,A=o.isChar,g=c.isNCNameStartChar,p=c.isNCNameChar,b=c.NC_NAME_RE;const x="http://www.w3.org/XML/1998/namespace",v="http://www.w3.org/2000/xmlns/",y={__proto__:null,xml:x,xmlns:v},N={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},P=w=>w===34||w===39,M=[34,39],k=[...M,91,62],D=[...M,60,93],O=[61,63,...h],L=[...h,62,38,60];function F(w,C,j){switch(C){case"xml":j!==x&&w.fail(`xml prefix must be bound to ${x}.`);break;case"xmlns":j!==v&&w.fail(`xmlns prefix must be bound to ${v}.`)}switch(j){case v:w.fail(C===""?`the default namespace may not be set to ${j}.`:`may not assign a prefix (even "xmlns") to the URI ${v}.`);break;case x:switch(C){case"xml":break;case"":w.fail(`the default namespace may not be set to ${j}.`);break;default:w.fail("may not assign the xml namespace to another prefix.")}}}const _=w=>b.test(w),E=w=>m.test(w);i.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const T={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};i.SaxesParser=class{constructor(w){this.opt=w??{},this.fragmentOpt=!!this.opt.fragment;const C=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,C){this.nameStartCheck=g,this.nameCheck=p,this.isName=_,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},y);const j=this.opt.additionalNamespaces;j!=null&&(function(S,I){for(const R of Object.keys(I))F(S,R,I[R])}(this,j),Object.assign(this.ns,j))}else this.nameStartCheck=d,this.nameCheck=f,this.isName=E,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var w;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:C}=this;this.state=C?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=C,this.xmlDeclPossible=!C,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:j}=this.opt;if(j===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");j="1.0"}this.setXMLVersion(j),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(N),(w=this.readyHandler)===null||w===void 0||w.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(w,C){this[T[w]]=C}off(w){this[T[w]]=void 0}makeError(w){var C;let j=(C=this.fileName)!==null&&C!==void 0?C:"";return this.trackPosition&&(j.length>0&&(j+=":"),j+=`${this.line}:${this.column}`),j.length>0&&(j+=": "),new Error(j+w)}fail(w){const C=this.makeError(w),j=this.errorHandler;if(j===void 0)throw C;return j(C),this}write(w){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let C=!1;w===null?(C=!0,w=""):typeof w=="object"&&(w=w.toString()),this.carriedFromPrevious!==void 0&&(w=`${this.carriedFromPrevious}${w}`,this.carriedFromPrevious=void 0);let j=w.length;const S=w.charCodeAt(j-1);!C&&(S===13||S>=55296&&S<=56319)&&(this.carriedFromPrevious=w[j-1],j--,w=w.slice(0,j));const{stateTable:I}=this;for(this.chunk=w,this.i=0;this.i<j;)I[this.state].call(this);return this.chunkPosition+=j,C?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:w,i:C}=this;if(this.prevI=C,this.i=C+1,C>=w.length)return-1;const j=w.charCodeAt(C);if(this.column++,j<55296){if(j>=32||j===9)return j;switch(j){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return w.charCodeAt(C+1)===10&&(this.i=C+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),j}}if(j>56319)return j>=57344&&j<=65533||this.fail("disallowed character."),j;const S=65536+1024*(j-55296)+(w.charCodeAt(C+1)-56320);return this.i=C+2,S>1114111&&this.fail("disallowed character."),S}getCode11(){const{chunk:w,i:C}=this;if(this.prevI=C,this.i=C+1,C>=w.length)return-1;const j=w.charCodeAt(C);if(this.column++,j<55296){if(j>31&&j<127||j>159&&j!==8232||j===9)return j;switch(j){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const I=w.charCodeAt(C+1);I!==10&&I!==133||(this.i=C+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),j}}if(j>56319)return j>=57344&&j<=65533||this.fail("disallowed character."),j;const S=65536+1024*(j-55296)+(w.charCodeAt(C+1)-56320);return this.i=C+2,S>1114111&&this.fail("disallowed character."),S}getCodeNorm(){const w=this.getCode();return w===-2?10:w}unget(){this.i=this.prevI,this.column--}captureTo(w){let{i:C}=this;const{chunk:j}=this;for(;;){const S=this.getCode(),I=S===-2,R=I?10:S;if(R===-1||w.includes(R))return this.text+=j.slice(C,this.prevI),R;I&&(this.text+=j.slice(C,this.prevI)+`
`,C=this.i)}}captureToChar(w){let{i:C}=this;const{chunk:j}=this;for(;;){let S=this.getCode();switch(S){case-2:this.text+=j.slice(C,this.prevI)+`
`,C=this.i,S=10;break;case-1:return this.text+=j.slice(C),!1}if(S===w)return this.text+=j.slice(C,this.prevI),!0}}captureNameChars(){const{chunk:w,i:C}=this;for(;;){const j=this.getCode();if(j===-1)return this.name+=w.slice(C),-1;if(!f(j))return this.name+=w.slice(C,this.prevI),j===-2?10:j}}skipSpaces(){for(;;){const w=this.getCodeNorm();if(w===-1||!l(w))return w}}setXMLVersion(w){this.currentXMLVersion=w,w==="1.0"?(this.isChar=u,this.getCode=this.getCode10):(this.isChar=A,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const w=this.i,C=this.skipSpaces();switch(this.prevI!==w&&(this.xmlDeclPossible=!1),C){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var w;const C=this.captureTo(k);switch(C){case 62:(w=this.doctypeHandler)===null||w===void 0||w.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(C),C===91?this.state=4:P(C)&&(this.state=3,this.q=C)}}sDoctypeQuote(){const w=this.q;this.captureToChar(w)&&(this.text+=String.fromCodePoint(w),this.q=null,this.state=2)}sDTD(){const w=this.captureTo(D);w!==-1&&(this.text+=String.fromCodePoint(w),w===93?this.state=2:w===60?this.state=6:P(w)&&(this.state=5,this.q=w))}sDTDQuoted(){const w=this.q;this.captureToChar(w)&&(this.text+=String.fromCodePoint(w),this.state=4,this.q=null)}sDTDOpenWaka(){const w=this.getCodeNorm();switch(this.text+=String.fromCodePoint(w),w){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const w=String.fromCodePoint(this.getCodeNorm()),C=this.openWakaBang+=w;this.text+=w,C!=="-"&&(this.state=C==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),this.state=w===45?10:8}sDTDCommentEnded(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),w===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),w===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:w}=this;const{chunk:C}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=C.slice(w,this.prevI)+`
`,w=this.i;break;case 59:{const{entityReturnState:j}=this,S=this.entity+C.slice(w,this.prevI);let I;this.state=j,S===""?(this.fail("empty entity name."),I="&;"):(I=this.parseEntity(S),this.entity=""),j===13&&this.textHandler===void 0||(this.text+=I);break e}case-1:this.entity+=C.slice(w);break e}}sOpenWaka(){const w=this.getCode();if(d(w))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(w){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var w;const C=this.getCodeNorm();C===45?(this.state=19,(w=this.commentHandler)===null||w===void 0||w.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(C),this.state=17)}sCommentEnded(){const w=this.getCodeNorm();w!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(w),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const w=this.getCodeNorm();w===93?this.state=22:(this.text+="]"+String.fromCodePoint(w),this.state=20)}sCDataEnding2(){var w;const C=this.getCodeNorm();switch(C){case 62:(w=this.cdataHandler)===null||w===void 0||w.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(C),this.state=20}}sPIFirstChar(){const w=this.getCodeNorm();this.nameStartCheck(w)?(this.piTarget+=String.fromCodePoint(w),this.state=24):w===63||l(w)?(this.fail("processing instruction without a target."),this.state=w===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(w),this.state=24)}sPIRest(){const{chunk:w,i:C}=this;for(;;){const j=this.getCodeNorm();if(j===-1)return void(this.piTarget+=w.slice(C));if(!this.nameCheck(j)){this.piTarget+=w.slice(C,this.prevI);const S=j===63;S||l(j)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=S?33:27):this.state=S?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(j));break}}}sPIBody(){if(this.text.length===0){const w=this.getCodeNorm();w===63?this.state=26:l(w)||(this.text=String.fromCodePoint(w))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var w;const C=this.getCodeNorm();if(C===62){const{piTarget:j}=this;j.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(w=this.piHandler)===null||w===void 0||w.call(this,{target:j,body:this.text}),this.piTarget=this.text="",this.state=13}else C===63?this.text+="?":(this.text+="?"+String.fromCodePoint(C),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const w=this.skipSpaces();w!==63?w!==-1&&(this.state=28,this.name=String.fromCodePoint(w)):this.state=33}sXMLDeclName(){const w=this.captureTo(O);if(w===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(l(w)||w===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=w===61?30:29}}sXMLDeclEq(){const w=this.getCodeNorm();if(w===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(w)||(w!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const w=this.getCodeNorm();if(w===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(w)||(P(w)?this.q=w:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const w=this.captureTo([this.q,63]);if(w===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(w===-1)return;const C=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const j=C;this.xmlDecl.version=j,/^1\.[0-9]+$/.test(j)?this.opt.forceXMLVersion||this.setXMLVersion(j):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(C)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=C;break;case"standalone":C!=="yes"&&C!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=C}this.name="",this.state=32}sXMLDeclSeparator(){const w=this.getCodeNorm();w!==63?(l(w)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var w;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(w=this.xmldeclHandler)===null||w===void 0||w.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var w;const C=this.captureNameChars();if(C===-1)return;const j=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=j.ns=Object.create(null)),(w=this.openTagStartHandler)===null||w===void 0||w.call(this,j),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),C){case 62:this.openTag();break;case 47:this.state=35;break;default:l(C)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const w=this.skipSpaces();w!==-1&&(d(w)?(this.unget(),this.state=37):w===62?this.openTag():w===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const w=this.captureNameChars();w===61?this.state=39:l(w)?this.state=38:w===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):w!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const w=this.skipSpaces();switch(w){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",w===62?this.openTag():d(w)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const w=this.getCodeNorm();P(w)?(this.q=w,this.state=40):l(w)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:w,chunk:C}=this;let{i:j}=this;for(;;)switch(this.getCode()){case w:return this.pushAttrib(this.name,this.text+C.slice(j,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=C.slice(j,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=C.slice(j,this.prevI)+" ",j=this.i;break;case 60:return this.text+=C.slice(j,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=C.slice(j))}}sAttribValueClosed(){const w=this.getCodeNorm();l(w)?this.state=36:w===62?this.openTag():w===47?this.state=35:d(w)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const w=this.captureTo(L);switch(w){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",w===62?this.openTag():this.state=36}}sCloseTag(){const w=this.captureNameChars();w===62?this.closeTag():l(w)?this.state=44:w!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:w,forbiddenState:C}=this;const{chunk:j,textHandler:S}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,S!==void 0){const{text:I}=this,R=j.slice(w,this.prevI);I.length!==0?(S(I+R),this.text=""):R.length!==0&&S(R)}C=0;break e;case 38:this.state=14,this.entityReturnState=13,S!==void 0&&(this.text+=j.slice(w,this.prevI)),C=0;break e;case 93:switch(C){case 0:C=1;break;case 1:C=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:C===2&&this.fail('the string "]]>" is disallowed in char data.'),C=0;break;case-2:S!==void 0&&(this.text+=j.slice(w,this.prevI)+`
`),w=this.i,C=0;break;case-1:S!==void 0&&(this.text+=j.slice(w));break e;default:C=0}this.forbiddenState=C}handleTextOutsideRoot(){let{i:w}=this;const{chunk:C,textHandler:j}=this;let S=!1;e:for(;;){const I=this.getCode();switch(I){case 60:if(this.state=15,j!==void 0){const{text:R}=this,U=C.slice(w,this.prevI);R.length!==0?(j(R+U),this.text=""):U.length!==0&&j(U)}break e;case 38:this.state=14,this.entityReturnState=13,j!==void 0&&(this.text+=C.slice(w,this.prevI)),S=!0;break e;case-2:j!==void 0&&(this.text+=C.slice(w,this.prevI)+`
`),w=this.i;break;case-1:j!==void 0&&(this.text+=C.slice(w));break e;default:l(I)||(S=!0)}}S&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(w,C){var j;const{prefix:S,local:I}=this.qname(w),R={name:w,prefix:S,local:I,value:C};if(this.attribList.push(R),(j=this.attributeHandler)===null||j===void 0||j.call(this,R),S==="xmlns"){const U=C.trim();this.currentXMLVersion==="1.0"&&U===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[I]=U,F(this,I,U)}else if(w==="xmlns"){const U=C.trim();this.topNS[""]=U,F(this,"",U)}}pushAttribPlain(w,C){var j;const S={name:w,value:C};this.attribList.push(S),(j=this.attributeHandler)===null||j===void 0||j.call(this,S)}end(){var w,C;this.sawRoot||this.fail("document must contain a root element.");const{tags:j}=this;for(;j.length>0;){const I=j.pop();this.fail("unclosed tag: "+I.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:S}=this;return S.length!==0&&((w=this.textHandler)===null||w===void 0||w.call(this,S),this.text=""),this._closed=!0,(C=this.endHandler)===null||C===void 0||C.call(this),this._init(),this}resolve(w){var C,j;let S=this.topNS[w];if(S!==void 0)return S;const{tags:I}=this;for(let R=I.length-1;R>=0;R--)if(S=I[R].ns[w],S!==void 0)return S;return S=this.ns[w],S!==void 0?S:(j=(C=this.opt).resolvePrefix)===null||j===void 0?void 0:j.call(C,w)}qname(w){const C=w.indexOf(":");if(C===-1)return{prefix:"",local:w};const j=w.slice(C+1),S=w.slice(0,C);return(S===""||j===""||j.includes(":"))&&this.fail(`malformed name: ${w}.`),{prefix:S,local:j}}processAttribsNS(){var w;const{attribList:C}=this,j=this.tag;{const{prefix:R,local:U}=this.qname(j.name);j.prefix=R,j.local=U;const z=j.uri=(w=this.resolve(R))!==null&&w!==void 0?w:"";R!==""&&(R==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),z===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(R)}.`),j.uri=R))}if(C.length===0)return;const{attributes:S}=j,I=new Set;for(const R of C){const{name:U,prefix:z,local:V}=R;let X,$;z===""?(X=U==="xmlns"?v:"",$=U):(X=this.resolve(z),X===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(z)}.`),X=z),$=`{${X}}${V}`),I.has($)&&this.fail(`duplicate attribute: ${$}.`),I.add($),R.uri=X,S[U]=R}this.attribList=[]}processAttribsPlain(){const{attribList:w}=this,C=this.tag.attributes;for(const{name:j,value:S}of w)C[j]!==void 0&&this.fail(`duplicate attribute: ${j}.`),C[j]=S;this.attribList=[]}openTag(){var w;this.processAttribs();const{tags:C}=this,j=this.tag;j.isSelfClosing=!1,(w=this.openTagHandler)===null||w===void 0||w.call(this,j),C.push(j),this.state=13,this.name=""}openSelfClosingTag(){var w,C,j;this.processAttribs();const{tags:S}=this,I=this.tag;I.isSelfClosing=!0,(w=this.openTagHandler)===null||w===void 0||w.call(this,I),(C=this.closeTagHandler)===null||C===void 0||C.call(this,I),(this.tag=(j=S[S.length-1])!==null&&j!==void 0?j:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:w,name:C}=this;if(this.state=13,this.name="",C==="")return this.fail("weird empty close tag."),void(this.text+="</>");const j=this.closeTagHandler;let S=w.length;for(;S-- >0;){const I=this.tag=w.pop();if(this.topNS=I.ns,j==null||j(I),I.name===C)break;this.fail("unexpected close tag.")}S===0?this.closedRoot=!0:S<0&&(this.fail(`unmatched closing tag: ${C}.`),this.text+=`</${C}>`)}parseEntity(w){if(w[0]!=="#"){const j=this.ENTITIES[w];return j!==void 0?j:(this.fail(this.isName(w)?"undefined entity.":"disallowed character in entity name."),`&${w};`)}let C=NaN;return w[1]==="x"&&/^#x[0-9a-f]+$/i.test(w)?C=parseInt(w.slice(2),16):/^#[0-9]+$/.test(w)&&(C=parseInt(w.slice(1),10)),this.isChar(C)?String.fromCodePoint(C):(this.fail("malformed character entity."),`&${w};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(n,s,i){var a=n("safe-buffer").Buffer;function o(c,l){this._block=a.alloc(c),this._finalSize=l,this._blockSize=c,this._len=0}o.prototype.update=function(c,l){typeof c=="string"&&(l=l||"utf8",c=a.from(c,l));for(var u=this._block,d=this._blockSize,f=c.length,h=this._len,m=0;m<f;){for(var A=h%d,g=Math.min(f-m,d-A),p=0;p<g;p++)u[A+p]=c[m+p];m+=g,(h+=g)%d==0&&this._update(u)}return this._len+=f,this},o.prototype.digest=function(c){var l=this._len%this._blockSize;this._block[l]=128,this._block.fill(0,l+1),l>=this._finalSize&&(this._update(this._block),this._block.fill(0));var u=8*this._len;if(u<=4294967295)this._block.writeUInt32BE(u,this._blockSize-4);else{var d=(4294967295&u)>>>0,f=(u-d)/4294967296;this._block.writeUInt32BE(f,this._blockSize-8),this._block.writeUInt32BE(d,this._blockSize-4)}this._update(this._block);var h=this._hash();return c?h.toString(c):h},o.prototype._update=function(){throw new Error("_update must be implemented by subclass")},s.exports=o},{"safe-buffer":494}],498:[function(n,s,i){var a=s.exports=function(o){o=o.toLowerCase();var c=a[o];if(!c)throw new Error(o+" is not supported (we accept pull requests)");return new c};a.sha=n("./sha"),a.sha1=n("./sha1"),a.sha224=n("./sha224"),a.sha256=n("./sha256"),a.sha384=n("./sha384"),a.sha512=n("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(n,s,i){var a=n("inherits"),o=n("./hash"),c=n("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);function d(){this.init(),this._w=u,o.call(this,64,56)}function f(m){return m<<30|m>>>2}function h(m,A,g,p){return m===0?A&g|~A&p:m===2?A&g|A&p|g&p:A^g^p}a(d,o),d.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},d.prototype._update=function(m){for(var A,g=this._w,p=0|this._a,b=0|this._b,x=0|this._c,v=0|this._d,y=0|this._e,N=0;N<16;++N)g[N]=m.readInt32BE(4*N);for(;N<80;++N)g[N]=g[N-3]^g[N-8]^g[N-14]^g[N-16];for(var P=0;P<80;++P){var M=~~(P/20),k=0|((A=p)<<5|A>>>27)+h(M,b,x,v)+y+g[P]+l[M];y=v,v=x,x=f(b),b=p,p=k}this._a=p+this._a|0,this._b=b+this._b|0,this._c=x+this._c|0,this._d=v+this._d|0,this._e=y+this._e|0},d.prototype._hash=function(){var m=c.allocUnsafe(20);return m.writeInt32BE(0|this._a,0),m.writeInt32BE(0|this._b,4),m.writeInt32BE(0|this._c,8),m.writeInt32BE(0|this._d,12),m.writeInt32BE(0|this._e,16),m},s.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(n,s,i){var a=n("inherits"),o=n("./hash"),c=n("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);function d(){this.init(),this._w=u,o.call(this,64,56)}function f(A){return A<<5|A>>>27}function h(A){return A<<30|A>>>2}function m(A,g,p,b){return A===0?g&p|~g&b:A===2?g&p|g&b|p&b:g^p^b}a(d,o),d.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},d.prototype._update=function(A){for(var g,p=this._w,b=0|this._a,x=0|this._b,v=0|this._c,y=0|this._d,N=0|this._e,P=0;P<16;++P)p[P]=A.readInt32BE(4*P);for(;P<80;++P)p[P]=(g=p[P-3]^p[P-8]^p[P-14]^p[P-16])<<1|g>>>31;for(var M=0;M<80;++M){var k=~~(M/20),D=f(b)+m(k,x,v,y)+N+p[M]+l[k]|0;N=y,y=v,v=h(x),x=b,b=D}this._a=b+this._a|0,this._b=x+this._b|0,this._c=v+this._c|0,this._d=y+this._d|0,this._e=N+this._e|0},d.prototype._hash=function(){var A=c.allocUnsafe(20);return A.writeInt32BE(0|this._a,0),A.writeInt32BE(0|this._b,4),A.writeInt32BE(0|this._c,8),A.writeInt32BE(0|this._d,12),A.writeInt32BE(0|this._e,16),A},s.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(n,s,i){var a=n("inherits"),o=n("./sha256"),c=n("./hash"),l=n("safe-buffer").Buffer,u=new Array(64);function d(){this.init(),this._w=u,c.call(this,64,56)}a(d,o),d.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},d.prototype._hash=function(){var f=l.allocUnsafe(28);return f.writeInt32BE(this._a,0),f.writeInt32BE(this._b,4),f.writeInt32BE(this._c,8),f.writeInt32BE(this._d,12),f.writeInt32BE(this._e,16),f.writeInt32BE(this._f,20),f.writeInt32BE(this._g,24),f},s.exports=d},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(n,s,i){var a=n("inherits"),o=n("./hash"),c=n("safe-buffer").Buffer,l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],u=new Array(64);function d(){this.init(),this._w=u,o.call(this,64,56)}function f(p,b,x){return x^p&(b^x)}function h(p,b,x){return p&b|x&(p|b)}function m(p){return(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10)}function A(p){return(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7)}function g(p){return(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3}a(d,o),d.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},d.prototype._update=function(p){for(var b,x=this._w,v=0|this._a,y=0|this._b,N=0|this._c,P=0|this._d,M=0|this._e,k=0|this._f,D=0|this._g,O=0|this._h,L=0;L<16;++L)x[L]=p.readInt32BE(4*L);for(;L<64;++L)x[L]=0|(((b=x[L-2])>>>17|b<<15)^(b>>>19|b<<13)^b>>>10)+x[L-7]+g(x[L-15])+x[L-16];for(var F=0;F<64;++F){var _=O+A(M)+f(M,k,D)+l[F]+x[F]|0,E=m(v)+h(v,y,N)|0;O=D,D=k,k=M,M=P+_|0,P=N,N=y,y=v,v=_+E|0}this._a=v+this._a|0,this._b=y+this._b|0,this._c=N+this._c|0,this._d=P+this._d|0,this._e=M+this._e|0,this._f=k+this._f|0,this._g=D+this._g|0,this._h=O+this._h|0},d.prototype._hash=function(){var p=c.allocUnsafe(32);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p.writeInt32BE(this._h,28),p},s.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(n,s,i){var a=n("inherits"),o=n("./sha512"),c=n("./hash"),l=n("safe-buffer").Buffer,u=new Array(160);function d(){this.init(),this._w=u,c.call(this,128,112)}a(d,o),d.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},d.prototype._hash=function(){var f=l.allocUnsafe(48);function h(m,A,g){f.writeInt32BE(m,g),f.writeInt32BE(A,g+4)}return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),f},s.exports=d},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(n,s,i){var a=n("inherits"),o=n("./hash"),c=n("safe-buffer").Buffer,l=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],u=new Array(160);function d(){this.init(),this._w=u,o.call(this,128,112)}function f(y,N,P){return P^y&(N^P)}function h(y,N,P){return y&N|P&(y|N)}function m(y,N){return(y>>>28|N<<4)^(N>>>2|y<<30)^(N>>>7|y<<25)}function A(y,N){return(y>>>14|N<<18)^(y>>>18|N<<14)^(N>>>9|y<<23)}function g(y,N){return(y>>>1|N<<31)^(y>>>8|N<<24)^y>>>7}function p(y,N){return(y>>>1|N<<31)^(y>>>8|N<<24)^(y>>>7|N<<25)}function b(y,N){return(y>>>19|N<<13)^(N>>>29|y<<3)^y>>>6}function x(y,N){return(y>>>19|N<<13)^(N>>>29|y<<3)^(y>>>6|N<<26)}function v(y,N){return y>>>0<N>>>0?1:0}a(d,o),d.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},d.prototype._update=function(y){for(var N=this._w,P=0|this._ah,M=0|this._bh,k=0|this._ch,D=0|this._dh,O=0|this._eh,L=0|this._fh,F=0|this._gh,_=0|this._hh,E=0|this._al,T=0|this._bl,w=0|this._cl,C=0|this._dl,j=0|this._el,S=0|this._fl,I=0|this._gl,R=0|this._hl,U=0;U<32;U+=2)N[U]=y.readInt32BE(4*U),N[U+1]=y.readInt32BE(4*U+4);for(;U<160;U+=2){var z=N[U-30],V=N[U-30+1],X=g(z,V),$=p(V,z),W=b(z=N[U-4],V=N[U-4+1]),H=x(V,z),Q=N[U-14],G=N[U-14+1],J=N[U-32],ee=N[U-32+1],K=$+G|0,ne=X+Q+v(K,$)|0;ne=(ne=ne+W+v(K=K+H|0,H)|0)+J+v(K=K+ee|0,ee)|0,N[U]=ne,N[U+1]=K}for(var ue=0;ue<160;ue+=2){ne=N[ue],K=N[ue+1];var se=h(P,M,k),ie=h(E,T,w),q=m(P,E),Z=m(E,P),te=A(O,j),re=A(j,O),Y=l[ue],oe=l[ue+1],ae=f(O,L,F),ce=f(j,S,I),de=R+re|0,pe=_+te+v(de,R)|0;pe=(pe=(pe=pe+ae+v(de=de+ce|0,ce)|0)+Y+v(de=de+oe|0,oe)|0)+ne+v(de=de+K|0,K)|0;var Ae=Z+ie|0,le=q+se+v(Ae,Z)|0;_=F,R=I,F=L,I=S,L=O,S=j,O=D+pe+v(j=C+de|0,C)|0,D=k,C=w,k=M,w=T,M=P,T=E,P=pe+le+v(E=de+Ae|0,de)|0}this._al=this._al+E|0,this._bl=this._bl+T|0,this._cl=this._cl+w|0,this._dl=this._dl+C|0,this._el=this._el+j|0,this._fl=this._fl+S|0,this._gl=this._gl+I|0,this._hl=this._hl+R|0,this._ah=this._ah+P+v(this._al,E)|0,this._bh=this._bh+M+v(this._bl,T)|0,this._ch=this._ch+k+v(this._cl,w)|0,this._dh=this._dh+D+v(this._dl,C)|0,this._eh=this._eh+O+v(this._el,j)|0,this._fh=this._fh+L+v(this._fl,S)|0,this._gh=this._gh+F+v(this._gl,I)|0,this._hh=this._hh+_+v(this._hl,R)|0},d.prototype._hash=function(){var y=c.allocUnsafe(64);function N(P,M,k){y.writeInt32BE(P,k),y.writeInt32BE(M,k+4)}return N(this._ah,this._al,0),N(this._bh,this._bl,8),N(this._ch,this._cl,16),N(this._dh,this._dl,24),N(this._eh,this._el,32),N(this._fh,this._fl,40),N(this._gh,this._gl,48),N(this._hh,this._hl,56),y},s.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(n,s,i){s.exports=o;var a=n("events").EventEmitter;function o(){a.call(this)}n("inherits")(o,a),o.Readable=n("readable-stream/readable.js"),o.Writable=n("readable-stream/writable.js"),o.Duplex=n("readable-stream/duplex.js"),o.Transform=n("readable-stream/transform.js"),o.PassThrough=n("readable-stream/passthrough.js"),o.Stream=o,o.prototype.pipe=function(c,l){var u=this;function d(b){c.writable&&c.write(b)===!1&&u.pause&&u.pause()}function f(){u.readable&&u.resume&&u.resume()}u.on("data",d),c.on("drain",f),c._isStdio||l&&l.end===!1||(u.on("end",m),u.on("close",A));var h=!1;function m(){h||(h=!0,c.end())}function A(){h||(h=!0,typeof c.destroy=="function"&&c.destroy())}function g(b){if(p(),a.listenerCount(this,"error")===0)throw b}function p(){u.removeListener("data",d),c.removeListener("drain",f),u.removeListener("end",m),u.removeListener("close",A),u.removeListener("error",g),c.removeListener("error",g),u.removeListener("end",p),u.removeListener("close",p),c.removeListener("close",p)}return u.on("error",g),c.on("error",g),u.on("end",p),u.on("close",p),c.on("close",p),c.emit("pipe",u),c}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(n,s,i){var a={}.toString;s.exports=Array.isArray||function(o){return a.call(o)=="[object Array]"}},{}],507:[function(n,s,i){s.exports=n("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(n,s,i){var a=n("process-nextick-args"),o=Object.keys||function(p){var b=[];for(var x in p)b.push(x);return b};s.exports=m;var c=Object.create(n("core-util-is"));c.inherits=n("inherits");var l=n("./_stream_readable"),u=n("./_stream_writable");c.inherits(m,l);for(var d=o(u.prototype),f=0;f<d.length;f++){var h=d[f];m.prototype[h]||(m.prototype[h]=u.prototype[h])}function m(p){if(!(this instanceof m))return new m(p);l.call(this,p),u.call(this,p),p&&p.readable===!1&&(this.readable=!1),p&&p.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,p&&p.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",A)}function A(){this.allowHalfOpen||this._writableState.ended||a.nextTick(g,this)}function g(p){p.end()}Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(m.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),m.prototype._destroy=function(p,b){this.push(null),this.end(),a.nextTick(b,p)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(n,s,i){s.exports=c;var a=n("./_stream_transform"),o=Object.create(n("core-util-is"));function c(l){if(!(this instanceof c))return new c(l);a.call(this,l)}o.inherits=n("inherits"),o.inherits(c,a),c.prototype._transform=function(l,u,d){d(null,l)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(n,s,i){(function(a,o){(function(){var c=n("process-nextick-args");s.exports=P;var l,u=n("isarray");P.ReadableState=N,n("events").EventEmitter;var d=function(R,U){return R.listeners(U).length},f=n("./internal/streams/stream"),h=n("safe-buffer").Buffer,m=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},A=Object.create(n("core-util-is"));A.inherits=n("inherits");var g=n("util"),p=void 0;p=g&&g.debuglog?g.debuglog("stream"):function(){};var b,x=n("./internal/streams/BufferList"),v=n("./internal/streams/destroy");A.inherits(P,f);var y=["error","close","destroy","pause","resume"];function N(R,U){R=R||{};var z=U instanceof(l=l||n("./_stream_duplex"));this.objectMode=!!R.objectMode,z&&(this.objectMode=this.objectMode||!!R.readableObjectMode);var V=R.highWaterMark,X=R.readableHighWaterMark,$=this.objectMode?16:16384;this.highWaterMark=V||V===0?V:z&&(X||X===0)?X:$,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new x,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(b||(b=n("string_decoder/").StringDecoder),this.decoder=new b(R.encoding),this.encoding=R.encoding)}function P(R){if(l=l||n("./_stream_duplex"),!(this instanceof P))return new P(R);this._readableState=new N(R,this),this.readable=!0,R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy)),f.call(this)}function M(R,U,z,V,X){var $,W=R._readableState;return U===null?(W.reading=!1,function(H,Q){if(!Q.ended){if(Q.decoder){var G=Q.decoder.end();G&&G.length&&(Q.buffer.push(G),Q.length+=Q.objectMode?1:G.length)}Q.ended=!0,O(H)}}(R,W)):(X||($=function(H,Q){var G;J=Q,h.isBuffer(J)||J instanceof m||typeof Q=="string"||Q===void 0||H.objectMode||(G=new TypeError("Invalid non-string/buffer chunk"));var J;return G}(W,U)),$?R.emit("error",$):W.objectMode||U&&U.length>0?(typeof U=="string"||W.objectMode||Object.getPrototypeOf(U)===h.prototype||(U=function(H){return h.from(H)}(U)),V?W.endEmitted?R.emit("error",new Error("stream.unshift() after end event")):k(R,W,U,!0):W.ended?R.emit("error",new Error("stream.push() after EOF")):(W.reading=!1,W.decoder&&!z?(U=W.decoder.write(U),W.objectMode||U.length!==0?k(R,W,U,!1):F(R,W)):k(R,W,U,!1))):V||(W.reading=!1)),function(H){return!H.ended&&(H.needReadable||H.length<H.highWaterMark||H.length===0)}(W)}function k(R,U,z,V){U.flowing&&U.length===0&&!U.sync?(R.emit("data",z),R.read(0)):(U.length+=U.objectMode?1:z.length,V?U.buffer.unshift(z):U.buffer.push(z),U.needReadable&&O(R)),F(R,U)}Object.defineProperty(P.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(R){this._readableState&&(this._readableState.destroyed=R)}}),P.prototype.destroy=v.destroy,P.prototype._undestroy=v.undestroy,P.prototype._destroy=function(R,U){this.push(null),U(R)},P.prototype.push=function(R,U){var z,V=this._readableState;return V.objectMode?z=!0:typeof R=="string"&&((U=U||V.defaultEncoding)!==V.encoding&&(R=h.from(R,U),U=""),z=!0),M(this,R,U,!1,z)},P.prototype.unshift=function(R){return M(this,R,null,!0,!1)},P.prototype.isPaused=function(){return this._readableState.flowing===!1},P.prototype.setEncoding=function(R){return b||(b=n("string_decoder/").StringDecoder),this._readableState.decoder=new b(R),this._readableState.encoding=R,this};function D(R,U){return R<=0||U.length===0&&U.ended?0:U.objectMode?1:R!=R?U.flowing&&U.length?U.buffer.head.data.length:U.length:(R>U.highWaterMark&&(U.highWaterMark=function(z){return z>=8388608?z=8388608:(z--,z|=z>>>1,z|=z>>>2,z|=z>>>4,z|=z>>>8,z|=z>>>16,z++),z}(R)),R<=U.length?R:U.ended?U.length:(U.needReadable=!0,0))}function O(R){var U=R._readableState;U.needReadable=!1,U.emittedReadable||(p("emitReadable",U.flowing),U.emittedReadable=!0,U.sync?c.nextTick(L,R):L(R))}function L(R){p("emit readable"),R.emit("readable"),w(R)}function F(R,U){U.readingMore||(U.readingMore=!0,c.nextTick(_,R,U))}function _(R,U){for(var z=U.length;!U.reading&&!U.flowing&&!U.ended&&U.length<U.highWaterMark&&(p("maybeReadMore read 0"),R.read(0),z!==U.length);)z=U.length;U.readingMore=!1}function E(R){p("readable nexttick read 0"),R.read(0)}function T(R,U){U.reading||(p("resume read 0"),R.read(0)),U.resumeScheduled=!1,U.awaitDrain=0,R.emit("resume"),w(R),U.flowing&&!U.reading&&R.read(0)}function w(R){var U=R._readableState;for(p("flow",U.flowing);U.flowing&&R.read()!==null;);}function C(R,U){return U.length===0?null:(U.objectMode?z=U.buffer.shift():!R||R>=U.length?(z=U.decoder?U.buffer.join(""):U.buffer.length===1?U.buffer.head.data:U.buffer.concat(U.length),U.buffer.clear()):z=function(V,X,$){var W;return V<X.head.data.length?(W=X.head.data.slice(0,V),X.head.data=X.head.data.slice(V)):W=V===X.head.data.length?X.shift():$?function(H,Q){var G=Q.head,J=1,ee=G.data;for(H-=ee.length;G=G.next;){var K=G.data,ne=H>K.length?K.length:H;if(ne===K.length?ee+=K:ee+=K.slice(0,H),(H-=ne)===0){ne===K.length?(++J,G.next?Q.head=G.next:Q.head=Q.tail=null):(Q.head=G,G.data=K.slice(ne));break}++J}return Q.length-=J,ee}(V,X):function(H,Q){var G=h.allocUnsafe(H),J=Q.head,ee=1;for(J.data.copy(G),H-=J.data.length;J=J.next;){var K=J.data,ne=H>K.length?K.length:H;if(K.copy(G,G.length-H,0,ne),(H-=ne)===0){ne===K.length?(++ee,J.next?Q.head=J.next:Q.head=Q.tail=null):(Q.head=J,J.data=K.slice(ne));break}++ee}return Q.length-=ee,G}(V,X),W}(R,U.buffer,U.decoder),z);var z}function j(R){var U=R._readableState;if(U.length>0)throw new Error('"endReadable()" called on non-empty stream');U.endEmitted||(U.ended=!0,c.nextTick(S,U,R))}function S(R,U){R.endEmitted||R.length!==0||(R.endEmitted=!0,U.readable=!1,U.emit("end"))}function I(R,U){for(var z=0,V=R.length;z<V;z++)if(R[z]===U)return z;return-1}P.prototype.read=function(R){p("read",R),R=parseInt(R,10);var U=this._readableState,z=R;if(R!==0&&(U.emittedReadable=!1),R===0&&U.needReadable&&(U.length>=U.highWaterMark||U.ended))return p("read: emitReadable",U.length,U.ended),U.length===0&&U.ended?j(this):O(this),null;if((R=D(R,U))===0&&U.ended)return U.length===0&&j(this),null;var V,X=U.needReadable;return p("need readable",X),(U.length===0||U.length-R<U.highWaterMark)&&p("length less than watermark",X=!0),U.ended||U.reading?p("reading or ended",X=!1):X&&(p("do read"),U.reading=!0,U.sync=!0,U.length===0&&(U.needReadable=!0),this._read(U.highWaterMark),U.sync=!1,U.reading||(R=D(z,U))),(V=R>0?C(R,U):null)===null?(U.needReadable=!0,R=0):U.length-=R,U.length===0&&(U.ended||(U.needReadable=!0),z!==R&&U.ended&&j(this)),V!==null&&this.emit("data",V),V},P.prototype._read=function(R){this.emit("error",new Error("_read() is not implemented"))},P.prototype.pipe=function(R,U){var z=this,V=this._readableState;switch(V.pipesCount){case 0:V.pipes=R;break;case 1:V.pipes=[V.pipes,R];break;default:V.pipes.push(R)}V.pipesCount+=1,p("pipe count=%d opts=%j",V.pipesCount,U);var X=(!U||U.end!==!1)&&R!==a.stdout&&R!==a.stderr?W:ue;function $(se,ie){p("onunpipe"),se===z&&ie&&ie.hasUnpiped===!1&&(ie.hasUnpiped=!0,p("cleanup"),R.removeListener("close",K),R.removeListener("finish",ne),R.removeListener("drain",H),R.removeListener("error",ee),R.removeListener("unpipe",$),z.removeListener("end",W),z.removeListener("end",ue),z.removeListener("data",J),Q=!0,!V.awaitDrain||R._writableState&&!R._writableState.needDrain||H())}function W(){p("onend"),R.end()}V.endEmitted?c.nextTick(X):z.once("end",X),R.on("unpipe",$);var H=function(se){return function(){var ie=se._readableState;p("pipeOnDrain",ie.awaitDrain),ie.awaitDrain&&ie.awaitDrain--,ie.awaitDrain===0&&d(se,"data")&&(ie.flowing=!0,w(se))}}(z);R.on("drain",H);var Q=!1,G=!1;function J(se){p("ondata"),G=!1,R.write(se)!==!1||G||((V.pipesCount===1&&V.pipes===R||V.pipesCount>1&&I(V.pipes,R)!==-1)&&!Q&&(p("false write response, pause",V.awaitDrain),V.awaitDrain++,G=!0),z.pause())}function ee(se){p("onerror",se),ue(),R.removeListener("error",ee),d(R,"error")===0&&R.emit("error",se)}function K(){R.removeListener("finish",ne),ue()}function ne(){p("onfinish"),R.removeListener("close",K),ue()}function ue(){p("unpipe"),z.unpipe(R)}return z.on("data",J),function(se,ie,q){if(typeof se.prependListener=="function")return se.prependListener(ie,q);se._events&&se._events[ie]?u(se._events[ie])?se._events[ie].unshift(q):se._events[ie]=[q,se._events[ie]]:se.on(ie,q)}(R,"error",ee),R.once("close",K),R.once("finish",ne),R.emit("pipe",z),V.flowing||(p("pipe resume"),z.resume()),R},P.prototype.unpipe=function(R){var U=this._readableState,z={hasUnpiped:!1};if(U.pipesCount===0)return this;if(U.pipesCount===1)return R&&R!==U.pipes||(R||(R=U.pipes),U.pipes=null,U.pipesCount=0,U.flowing=!1,R&&R.emit("unpipe",this,z)),this;if(!R){var V=U.pipes,X=U.pipesCount;U.pipes=null,U.pipesCount=0,U.flowing=!1;for(var $=0;$<X;$++)V[$].emit("unpipe",this,{hasUnpiped:!1});return this}var W=I(U.pipes,R);return W===-1||(U.pipes.splice(W,1),U.pipesCount-=1,U.pipesCount===1&&(U.pipes=U.pipes[0]),R.emit("unpipe",this,z)),this},P.prototype.on=function(R,U){var z=f.prototype.on.call(this,R,U);if(R==="data")this._readableState.flowing!==!1&&this.resume();else if(R==="readable"){var V=this._readableState;V.endEmitted||V.readableListening||(V.readableListening=V.needReadable=!0,V.emittedReadable=!1,V.reading?V.length&&O(this):c.nextTick(E,this))}return z},P.prototype.addListener=P.prototype.on,P.prototype.resume=function(){var R=this._readableState;return R.flowing||(p("resume"),R.flowing=!0,function(U,z){z.resumeScheduled||(z.resumeScheduled=!0,c.nextTick(T,U,z))}(this,R)),this},P.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},P.prototype.wrap=function(R){var U=this,z=this._readableState,V=!1;for(var X in R.on("end",function(){if(p("wrapped end"),z.decoder&&!z.ended){var W=z.decoder.end();W&&W.length&&U.push(W)}U.push(null)}),R.on("data",function(W){p("wrapped data"),z.decoder&&(W=z.decoder.write(W)),z.objectMode&&W==null||(z.objectMode||W&&W.length)&&(U.push(W)||(V=!0,R.pause()))}),R)this[X]===void 0&&typeof R[X]=="function"&&(this[X]=function(W){return function(){return R[W].apply(R,arguments)}}(X));for(var $=0;$<y.length;$++)R.on(y[$],this.emit.bind(this,y[$]));return this._read=function(W){p("wrapped _read",W),V&&(V=!1,R.resume())},this},Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),P._fromList=C}).call(this)}).call(this,n("_process"),typeof ln<"u"?ln:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(n,s,i){s.exports=l;var a=n("./_stream_duplex"),o=Object.create(n("core-util-is"));function c(f,h){var m=this._transformState;m.transforming=!1;var A=m.writecb;if(!A)return this.emit("error",new Error("write callback called multiple times"));m.writechunk=null,m.writecb=null,h!=null&&this.push(h),A(f);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function l(f){if(!(this instanceof l))return new l(f);a.call(this,f),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",u)}function u(){var f=this;typeof this._flush=="function"?this._flush(function(h,m){d(f,h,m)}):d(this,null,null)}function d(f,h,m){if(h)return f.emit("error",h);if(m!=null&&f.push(m),f._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(f._transformState.transforming)throw new Error("Calling transform done when still transforming");return f.push(null)}o.inherits=n("inherits"),o.inherits(l,a),l.prototype.push=function(f,h){return this._transformState.needTransform=!1,a.prototype.push.call(this,f,h)},l.prototype._transform=function(f,h,m){throw new Error("_transform() is not implemented")},l.prototype._write=function(f,h,m){var A=this._transformState;if(A.writecb=m,A.writechunk=f,A.writeencoding=h,!A.transforming){var g=this._readableState;(A.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},l.prototype._read=function(f){var h=this._transformState;h.writechunk!==null&&h.writecb&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},l.prototype._destroy=function(f,h){var m=this;a.prototype._destroy.call(this,f,function(A){h(A),m.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(n,s,i){(function(a,o,c){(function(){var l=n("process-nextick-args");function u(F){var _=this;this.next=null,this.entry=null,this.finish=function(){(function(E,T,w){var C=E.entry;for(E.entry=null;C;){var j=C.callback;T.pendingcb--,j(w),C=C.next}T.corkedRequestsFree.next=E})(_,F)}}s.exports=N;var d,f=!a.browser&&["v0.10","v0.9."].indexOf(a.version.slice(0,5))>-1?c:l.nextTick;N.WritableState=y;var h=Object.create(n("core-util-is"));h.inherits=n("inherits");var m={deprecate:n("util-deprecate")},A=n("./internal/streams/stream"),g=n("safe-buffer").Buffer,p=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},b,x=n("./internal/streams/destroy");function v(){}function y(F,_){d=d||n("./_stream_duplex"),F=F||{};var E=_ instanceof d;this.objectMode=!!F.objectMode,E&&(this.objectMode=this.objectMode||!!F.writableObjectMode);var T=F.highWaterMark,w=F.writableHighWaterMark,C=this.objectMode?16:16384;this.highWaterMark=T||T===0?T:E&&(w||w===0)?w:C,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var j=F.decodeStrings===!1;this.decodeStrings=!j,this.defaultEncoding=F.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(S){(function(I,R){var U=I._writableState,z=U.sync,V=U.writecb;if(function($){$.writing=!1,$.writecb=null,$.length-=$.writelen,$.writelen=0}(U),R)(function($,W,H,Q,G){--W.pendingcb,H?(l.nextTick(G,Q),l.nextTick(L,$,W),$._writableState.errorEmitted=!0,$.emit("error",Q)):(G(Q),$._writableState.errorEmitted=!0,$.emit("error",Q),L($,W))})(I,U,z,R,V);else{var X=D(U);X||U.corked||U.bufferProcessing||!U.bufferedRequest||k(I,U),z?f(M,I,U,X,V):M(I,U,X,V)}})(_,S)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}function N(F){if(d=d||n("./_stream_duplex"),!(b.call(N,this)||this instanceof d))return new N(F);this._writableState=new y(F,this),this.writable=!0,F&&(typeof F.write=="function"&&(this._write=F.write),typeof F.writev=="function"&&(this._writev=F.writev),typeof F.destroy=="function"&&(this._destroy=F.destroy),typeof F.final=="function"&&(this._final=F.final)),A.call(this)}function P(F,_,E,T,w,C,j){_.writelen=T,_.writecb=j,_.writing=!0,_.sync=!0,E?F._writev(w,_.onwrite):F._write(w,C,_.onwrite),_.sync=!1}function M(F,_,E,T){E||function(w,C){C.length===0&&C.needDrain&&(C.needDrain=!1,w.emit("drain"))}(F,_),_.pendingcb--,T(),L(F,_)}function k(F,_){_.bufferProcessing=!0;var E=_.bufferedRequest;if(F._writev&&E&&E.next){var T=_.bufferedRequestCount,w=new Array(T),C=_.corkedRequestsFree;C.entry=E;for(var j=0,S=!0;E;)w[j]=E,E.isBuf||(S=!1),E=E.next,j+=1;w.allBuffers=S,P(F,_,!0,_.length,w,"",C.finish),_.pendingcb++,_.lastBufferedRequest=null,C.next?(_.corkedRequestsFree=C.next,C.next=null):_.corkedRequestsFree=new u(_),_.bufferedRequestCount=0}else{for(;E;){var I=E.chunk,R=E.encoding,U=E.callback;if(P(F,_,!1,_.objectMode?1:I.length,I,R,U),E=E.next,_.bufferedRequestCount--,_.writing)break}E===null&&(_.lastBufferedRequest=null)}_.bufferedRequest=E,_.bufferProcessing=!1}function D(F){return F.ending&&F.length===0&&F.bufferedRequest===null&&!F.finished&&!F.writing}function O(F,_){F._final(function(E){_.pendingcb--,E&&F.emit("error",E),_.prefinished=!0,F.emit("prefinish"),L(F,_)})}function L(F,_){var E=D(_);return E&&(function(T,w){w.prefinished||w.finalCalled||(typeof T._final=="function"?(w.pendingcb++,w.finalCalled=!0,l.nextTick(O,T,w)):(w.prefinished=!0,T.emit("prefinish")))}(F,_),_.pendingcb===0&&(_.finished=!0,F.emit("finish"))),E}h.inherits(N,A),y.prototype.getBuffer=function(){for(var F=this.bufferedRequest,_=[];F;)_.push(F),F=F.next;return _},function(){try{Object.defineProperty(y.prototype,"buffer",{get:m.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(b=Function.prototype[Symbol.hasInstance],Object.defineProperty(N,Symbol.hasInstance,{value:function(F){return!!b.call(this,F)||this===N&&F&&F._writableState instanceof y}})):b=function(F){return F instanceof this},N.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},N.prototype.write=function(F,_,E){var T,w=this._writableState,C=!1,j=!w.objectMode&&(T=F,g.isBuffer(T)||T instanceof p);return j&&!g.isBuffer(F)&&(F=function(S){return g.from(S)}(F)),typeof _=="function"&&(E=_,_=null),j?_="buffer":_||(_=w.defaultEncoding),typeof E!="function"&&(E=v),w.ended?function(S,I){var R=new Error("write after end");S.emit("error",R),l.nextTick(I,R)}(this,E):(j||function(S,I,R,U){var z=!0,V=!1;return R===null?V=new TypeError("May not write null values to stream"):typeof R=="string"||R===void 0||I.objectMode||(V=new TypeError("Invalid non-string/buffer chunk")),V&&(S.emit("error",V),l.nextTick(U,V),z=!1),z}(this,w,F,E))&&(w.pendingcb++,C=function(S,I,R,U,z,V){if(!R){var X=function(Q,G,J){return Q.objectMode||Q.decodeStrings===!1||typeof G!="string"||(G=g.from(G,J)),G}(I,U,z);U!==X&&(R=!0,z="buffer",U=X)}var $=I.objectMode?1:U.length;I.length+=$;var W=I.length<I.highWaterMark;if(W||(I.needDrain=!0),I.writing||I.corked){var H=I.lastBufferedRequest;I.lastBufferedRequest={chunk:U,encoding:z,isBuf:R,callback:V,next:null},H?H.next=I.lastBufferedRequest:I.bufferedRequest=I.lastBufferedRequest,I.bufferedRequestCount+=1}else P(S,I,!1,$,U,z,V);return W}(this,w,j,F,_,E)),C},N.prototype.cork=function(){this._writableState.corked++},N.prototype.uncork=function(){var F=this._writableState;F.corked&&(F.corked--,F.writing||F.corked||F.bufferProcessing||!F.bufferedRequest||k(this,F))},N.prototype.setDefaultEncoding=function(F){if(typeof F=="string"&&(F=F.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((F+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+F);return this._writableState.defaultEncoding=F,this},Object.defineProperty(N.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),N.prototype._write=function(F,_,E){E(new Error("_write() is not implemented"))},N.prototype._writev=null,N.prototype.end=function(F,_,E){var T=this._writableState;typeof F=="function"?(E=F,F=null,_=null):typeof _=="function"&&(E=_,_=null),F!=null&&this.write(F,_),T.corked&&(T.corked=1,this.uncork()),T.ending||function(w,C,j){C.ending=!0,L(w,C),j&&(C.finished?l.nextTick(j):w.once("finish",j)),C.ended=!0,w.writable=!1}(this,T,E)},Object.defineProperty(N.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(F){this._writableState&&(this._writableState.destroyed=F)}}),N.prototype.destroy=x.destroy,N.prototype._undestroy=x.undestroy,N.prototype._destroy=function(F,_){this.end(),_(F)}}).call(this)}).call(this,n("_process"),typeof ln<"u"?ln:typeof self<"u"?self:typeof window<"u"?window:{},n("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(n,s,i){var a=n("safe-buffer").Buffer,o=n("util");s.exports=function(){function c(){(function(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")})(this,c),this.head=null,this.tail=null,this.length=0}return c.prototype.push=function(l){var u={data:l,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length},c.prototype.unshift=function(l){var u={data:l,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length},c.prototype.shift=function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}},c.prototype.clear=function(){this.head=this.tail=null,this.length=0},c.prototype.join=function(l){if(this.length===0)return"";for(var u=this.head,d=""+u.data;u=u.next;)d+=l+u.data;return d},c.prototype.concat=function(l){if(this.length===0)return a.alloc(0);for(var u,d,f,h=a.allocUnsafe(l>>>0),m=this.head,A=0;m;)u=m.data,d=h,f=A,u.copy(d,f),A+=m.data.length,m=m.next;return h},c}(),o&&o.inspect&&o.inspect.custom&&(s.exports.prototype[o.inspect.custom]=function(){var c=o.inspect({length:this.length});return this.constructor.name+" "+c})},{"safe-buffer":520,util:188}],514:[function(n,s,i){var a=n("process-nextick-args");function o(c,l){c.emit("error",l)}s.exports={destroy:function(c,l){var u=this,d=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return d||f?(l?l(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(o,this,c)):a.nextTick(o,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(h){!l&&h?u._writableState?u._writableState.errorEmitted||(u._writableState.errorEmitted=!0,a.nextTick(o,u,h)):a.nextTick(o,u,h):l&&l(h)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(n,s,i){arguments[4][490][0].apply(i,arguments)},{dup:490,events:422}],516:[function(n,s,i){s.exports=n("./readable").PassThrough},{"./readable":517}],517:[function(n,s,i){(i=s.exports=n("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=n("./lib/_stream_writable.js"),i.Duplex=n("./lib/_stream_duplex.js"),i.Transform=n("./lib/_stream_transform.js"),i.PassThrough=n("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(n,s,i){s.exports=n("./readable").Transform},{"./readable":517}],519:[function(n,s,i){s.exports=n("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(n,s,i){arguments[4][217][0].apply(i,arguments)},{buffer:220,dup:217}],521:[function(n,s,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":520}],522:[function(n,s,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":494}],523:[function(n,s,i){(function(a,o){(function(){var c=n("process/browser.js").nextTick,l=Function.prototype.apply,u=Array.prototype.slice,d={},f=0;function h(m,A){this._id=m,this._clearFn=A}i.setTimeout=function(){return new h(l.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new h(l.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(m){m.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(m,A){clearTimeout(m._idleTimeoutId),m._idleTimeout=A},i.unenroll=function(m){clearTimeout(m._idleTimeoutId),m._idleTimeout=-1},i._unrefActive=i.active=function(m){clearTimeout(m._idleTimeoutId);var A=m._idleTimeout;A>=0&&(m._idleTimeoutId=setTimeout(function(){m._onTimeout&&m._onTimeout()},A))},i.setImmediate=typeof a=="function"?a:function(m){var A=f++,g=!(arguments.length<2)&&u.call(arguments,1);return d[A]=!0,c(function(){d[A]&&(g?m.apply(null,g):m.call(null),i.clearImmediate(A))}),A},i.clearImmediate=typeof o=="function"?o:function(m){delete d[m]}}).call(this)}).call(this,n("timers").setImmediate,n("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(n,s,i){(function(a){(function(){function o(c){try{if(!a.localStorage)return!1}catch{return!1}var l=a.localStorage[c];return l!=null&&String(l).toLowerCase()==="true"}s.exports=function(c,l){if(o("noDeprecation"))return c;var u=!1;return function(){if(!u){if(o("throwDeprecation"))throw new Error(l);o("traceDeprecation")?console.trace(l):console.warn(l),u=!0}return c.apply(this,arguments)}}}).call(this)}).call(this,typeof ln<"u"?ln:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(n,s,i){typeof Object.create=="function"?s.exports=function(a,o){a.super_=o,a.prototype=Object.create(o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:s.exports=function(a,o){a.super_=o;var c=function(){};c.prototype=o.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],526:[function(n,s,i){s.exports=function(a){return a&&typeof a=="object"&&typeof a.copy=="function"&&typeof a.fill=="function"&&typeof a.readUInt8=="function"}},{}],527:[function(n,s,i){(function(a,o){(function(){var c=/%[sdj%]/g;i.format=function(w){if(!y(w)){for(var C=[],j=0;j<arguments.length;j++)C.push(d(arguments[j]));return C.join(" ")}j=1;for(var S=arguments,I=S.length,R=String(w).replace(c,function(z){if(z==="%%")return"%";if(j>=I)return z;switch(z){case"%s":return String(S[j++]);case"%d":return Number(S[j++]);case"%j":try{return JSON.stringify(S[j++])}catch{return"[Circular]"}default:return z}}),U=S[j];j<I;U=S[++j])x(U)||!M(U)?R+=" "+U:R+=" "+d(U);return R},i.deprecate=function(w,C){if(N(o.process))return function(){return i.deprecate(w,C).apply(this,arguments)};if(a.noDeprecation===!0)return w;var j=!1;return function(){if(!j){if(a.throwDeprecation)throw new Error(C);a.traceDeprecation?console.trace(C):console.error(C),j=!0}return w.apply(this,arguments)}};var l,u={};function d(w,C){var j={seen:[],stylize:h};return arguments.length>=3&&(j.depth=arguments[2]),arguments.length>=4&&(j.colors=arguments[3]),b(C)?j.showHidden=C:C&&i._extend(j,C),N(j.showHidden)&&(j.showHidden=!1),N(j.depth)&&(j.depth=2),N(j.colors)&&(j.colors=!1),N(j.customInspect)&&(j.customInspect=!0),j.colors&&(j.stylize=f),m(j,w,j.depth)}function f(w,C){var j=d.styles[C];return j?"\x1B["+d.colors[j][0]+"m"+w+"\x1B["+d.colors[j][1]+"m":w}function h(w,C){return w}function m(w,C,j){if(w.customInspect&&C&&O(C.inspect)&&C.inspect!==i.inspect&&(!C.constructor||C.constructor.prototype!==C)){var S=C.inspect(j,w);return y(S)||(S=m(w,S,j)),S}var I=function(H,Q){if(N(Q))return H.stylize("undefined","undefined");if(y(Q)){var G="'"+JSON.stringify(Q).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return H.stylize(G,"string")}if(v(Q))return H.stylize(""+Q,"number");if(b(Q))return H.stylize(""+Q,"boolean");if(x(Q))return H.stylize("null","null")}(w,C);if(I)return I;var R=Object.keys(C),U=function(H){var Q={};return H.forEach(function(G,J){Q[G]=!0}),Q}(R);if(w.showHidden&&(R=Object.getOwnPropertyNames(C)),D(C)&&(R.indexOf("message")>=0||R.indexOf("description")>=0))return A(C);if(R.length===0){if(O(C)){var z=C.name?": "+C.name:"";return w.stylize("[Function"+z+"]","special")}if(P(C))return w.stylize(RegExp.prototype.toString.call(C),"regexp");if(k(C))return w.stylize(Date.prototype.toString.call(C),"date");if(D(C))return A(C)}var V,X="",$=!1,W=["{","}"];return p(C)&&($=!0,W=["[","]"]),O(C)&&(X=" [Function"+(C.name?": "+C.name:"")+"]"),P(C)&&(X=" "+RegExp.prototype.toString.call(C)),k(C)&&(X=" "+Date.prototype.toUTCString.call(C)),D(C)&&(X=" "+A(C)),R.length!==0||$&&C.length!=0?j<0?P(C)?w.stylize(RegExp.prototype.toString.call(C),"regexp"):w.stylize("[Object]","special"):(w.seen.push(C),V=$?function(H,Q,G,J,ee){for(var K=[],ne=0,ue=Q.length;ne<ue;++ne)T(Q,String(ne))?K.push(g(H,Q,G,J,String(ne),!0)):K.push("");return ee.forEach(function(se){se.match(/^\d+$/)||K.push(g(H,Q,G,J,se,!0))}),K}(w,C,j,U,R):R.map(function(H){return g(w,C,j,U,H,$)}),w.seen.pop(),function(H,Q,G){return H.reduce(function(J,ee){return ee.indexOf(`
`)>=0,J+ee.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?G[0]+(Q===""?"":Q+`
 `)+" "+H.join(`,
  `)+" "+G[1]:G[0]+Q+" "+H.join(", ")+" "+G[1]}(V,X,W)):W[0]+X+W[1]}function A(w){return"["+Error.prototype.toString.call(w)+"]"}function g(w,C,j,S,I,R){var U,z,V;if((V=Object.getOwnPropertyDescriptor(C,I)||{value:C[I]}).get?z=V.set?w.stylize("[Getter/Setter]","special"):w.stylize("[Getter]","special"):V.set&&(z=w.stylize("[Setter]","special")),T(S,I)||(U="["+I+"]"),z||(w.seen.indexOf(V.value)<0?(z=x(j)?m(w,V.value,null):m(w,V.value,j-1)).indexOf(`
`)>-1&&(z=R?z.split(`
`).map(function(X){return"  "+X}).join(`
`).substr(2):`
`+z.split(`
`).map(function(X){return"   "+X}).join(`
`)):z=w.stylize("[Circular]","special")),N(U)){if(R&&I.match(/^\d+$/))return z;(U=JSON.stringify(""+I)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(U=U.substr(1,U.length-2),U=w.stylize(U,"name")):(U=U.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),U=w.stylize(U,"string"))}return U+": "+z}function p(w){return Array.isArray(w)}function b(w){return typeof w=="boolean"}function x(w){return w===null}function v(w){return typeof w=="number"}function y(w){return typeof w=="string"}function N(w){return w===void 0}function P(w){return M(w)&&L(w)==="[object RegExp]"}function M(w){return typeof w=="object"&&w!==null}function k(w){return M(w)&&L(w)==="[object Date]"}function D(w){return M(w)&&(L(w)==="[object Error]"||w instanceof Error)}function O(w){return typeof w=="function"}function L(w){return Object.prototype.toString.call(w)}function F(w){return w<10?"0"+w.toString(10):w.toString(10)}i.debuglog=function(w){if(N(l)&&(l=a.env.NODE_DEBUG||""),w=w.toUpperCase(),!u[w])if(new RegExp("\\b"+w+"\\b","i").test(l)){var C=a.pid;u[w]=function(){var j=i.format.apply(i,arguments);console.error("%s %d: %s",w,C,j)}}else u[w]=function(){};return u[w]},i.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=p,i.isBoolean=b,i.isNull=x,i.isNullOrUndefined=function(w){return w==null},i.isNumber=v,i.isString=y,i.isSymbol=function(w){return typeof w=="symbol"},i.isUndefined=N,i.isRegExp=P,i.isObject=M,i.isDate=k,i.isError=D,i.isFunction=O,i.isPrimitive=function(w){return w===null||typeof w=="boolean"||typeof w=="number"||typeof w=="string"||typeof w=="symbol"||w===void 0},i.isBuffer=n("./support/isBuffer");var _=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(){var w=new Date,C=[F(w.getHours()),F(w.getMinutes()),F(w.getSeconds())].join(":");return[w.getDate(),_[w.getMonth()],C].join(" ")}function T(w,C){return Object.prototype.hasOwnProperty.call(w,C)}i.log=function(){console.log("%s - %s",E(),i.format.apply(i,arguments))},i.inherits=n("inherits"),i._extend=function(w,C){if(!C||!M(C))return w;for(var j=Object.keys(C),S=j.length;S--;)w[j[S]]=C[j[S]];return w}}).call(this)}).call(this,n("_process"),typeof ln<"u"?ln:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(n,s,i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"v1",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(i,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(i,"v4",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(i,"v5",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(i,"NIL",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(i,"validate",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(i,"stringify",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return m.default}});var a=A(n("./v1.js")),o=A(n("./v3.js")),c=A(n("./v4.js")),l=A(n("./v5.js")),u=A(n("./nil.js")),d=A(n("./version.js")),f=A(n("./validate.js")),h=A(n("./stringify.js")),m=A(n("./parse.js"));function A(g){return g&&g.__esModule?g:{default:g}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(n,s,i){function a(m){return 14+(m+64>>>9<<4)+1}function o(m,A){const g=(65535&m)+(65535&A);return(m>>16)+(A>>16)+(g>>16)<<16|65535&g}function c(m,A,g,p,b,x){return o((v=o(o(A,m),o(p,x)))<<(y=b)|v>>>32-y,g);var v,y}function l(m,A,g,p,b,x,v){return c(A&g|~A&p,m,A,b,x,v)}function u(m,A,g,p,b,x,v){return c(A&p|g&~p,m,A,b,x,v)}function d(m,A,g,p,b,x,v){return c(A^g^p,m,A,b,x,v)}function f(m,A,g,p,b,x,v){return c(g^(A|~p),m,A,b,x,v)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var h=function(m){if(typeof m=="string"){const A=unescape(encodeURIComponent(m));m=new Uint8Array(A.length);for(let g=0;g<A.length;++g)m[g]=A.charCodeAt(g)}return function(A){const g=[],p=32*A.length;for(let b=0;b<p;b+=8){const x=A[b>>5]>>>b%32&255,v=parseInt("0123456789abcdef".charAt(x>>>4&15)+"0123456789abcdef".charAt(15&x),16);g.push(v)}return g}(function(A,g){A[g>>5]|=128<<g%32,A[a(g)-1]=g;let p=1732584193,b=-271733879,x=-1732584194,v=271733878;for(let y=0;y<A.length;y+=16){const N=p,P=b,M=x,k=v;p=l(p,b,x,v,A[y],7,-680876936),v=l(v,p,b,x,A[y+1],12,-389564586),x=l(x,v,p,b,A[y+2],17,606105819),b=l(b,x,v,p,A[y+3],22,-1044525330),p=l(p,b,x,v,A[y+4],7,-176418897),v=l(v,p,b,x,A[y+5],12,1200080426),x=l(x,v,p,b,A[y+6],17,-1473231341),b=l(b,x,v,p,A[y+7],22,-45705983),p=l(p,b,x,v,A[y+8],7,1770035416),v=l(v,p,b,x,A[y+9],12,-1958414417),x=l(x,v,p,b,A[y+10],17,-42063),b=l(b,x,v,p,A[y+11],22,-1990404162),p=l(p,b,x,v,A[y+12],7,1804603682),v=l(v,p,b,x,A[y+13],12,-40341101),x=l(x,v,p,b,A[y+14],17,-1502002290),b=l(b,x,v,p,A[y+15],22,1236535329),p=u(p,b,x,v,A[y+1],5,-165796510),v=u(v,p,b,x,A[y+6],9,-1069501632),x=u(x,v,p,b,A[y+11],14,643717713),b=u(b,x,v,p,A[y],20,-373897302),p=u(p,b,x,v,A[y+5],5,-701558691),v=u(v,p,b,x,A[y+10],9,38016083),x=u(x,v,p,b,A[y+15],14,-660478335),b=u(b,x,v,p,A[y+4],20,-405537848),p=u(p,b,x,v,A[y+9],5,568446438),v=u(v,p,b,x,A[y+14],9,-1019803690),x=u(x,v,p,b,A[y+3],14,-187363961),b=u(b,x,v,p,A[y+8],20,1163531501),p=u(p,b,x,v,A[y+13],5,-1444681467),v=u(v,p,b,x,A[y+2],9,-51403784),x=u(x,v,p,b,A[y+7],14,1735328473),b=u(b,x,v,p,A[y+12],20,-1926607734),p=d(p,b,x,v,A[y+5],4,-378558),v=d(v,p,b,x,A[y+8],11,-2022574463),x=d(x,v,p,b,A[y+11],16,1839030562),b=d(b,x,v,p,A[y+14],23,-35309556),p=d(p,b,x,v,A[y+1],4,-1530992060),v=d(v,p,b,x,A[y+4],11,1272893353),x=d(x,v,p,b,A[y+7],16,-155497632),b=d(b,x,v,p,A[y+10],23,-1094730640),p=d(p,b,x,v,A[y+13],4,681279174),v=d(v,p,b,x,A[y],11,-358537222),x=d(x,v,p,b,A[y+3],16,-722521979),b=d(b,x,v,p,A[y+6],23,76029189),p=d(p,b,x,v,A[y+9],4,-640364487),v=d(v,p,b,x,A[y+12],11,-421815835),x=d(x,v,p,b,A[y+15],16,530742520),b=d(b,x,v,p,A[y+2],23,-995338651),p=f(p,b,x,v,A[y],6,-198630844),v=f(v,p,b,x,A[y+7],10,1126891415),x=f(x,v,p,b,A[y+14],15,-1416354905),b=f(b,x,v,p,A[y+5],21,-57434055),p=f(p,b,x,v,A[y+12],6,1700485571),v=f(v,p,b,x,A[y+3],10,-1894986606),x=f(x,v,p,b,A[y+10],15,-1051523),b=f(b,x,v,p,A[y+1],21,-2054922799),p=f(p,b,x,v,A[y+8],6,1873313359),v=f(v,p,b,x,A[y+15],10,-30611744),x=f(x,v,p,b,A[y+6],15,-1560198380),b=f(b,x,v,p,A[y+13],21,1309151649),p=f(p,b,x,v,A[y+4],6,-145523070),v=f(v,p,b,x,A[y+11],10,-1120210379),x=f(x,v,p,b,A[y+2],15,718787259),b=f(b,x,v,p,A[y+9],21,-343485551),p=o(p,N),b=o(b,P),x=o(x,M),v=o(v,k)}return[p,b,x,v]}(function(A){if(A.length===0)return[];const g=8*A.length,p=new Uint32Array(a(g));for(let b=0;b<g;b+=8)p[b>>5]|=(255&A[b/8])<<b%32;return p}(m),8*m.length))};i.default=h},{}],530:[function(n,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(n,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,o=(a=n("./validate.js"))&&a.__esModule?a:{default:a},c=function(l){if(!(0,o.default)(l))throw TypeError("Invalid UUID");let u;const d=new Uint8Array(16);return d[0]=(u=parseInt(l.slice(0,8),16))>>>24,d[1]=u>>>16&255,d[2]=u>>>8&255,d[3]=255&u,d[4]=(u=parseInt(l.slice(9,13),16))>>>8,d[5]=255&u,d[6]=(u=parseInt(l.slice(14,18),16))>>>8,d[7]=255&u,d[8]=(u=parseInt(l.slice(19,23),16))>>>8,d[9]=255&u,d[10]=(u=parseInt(l.slice(24,36),16))/1099511627776&255,d[11]=u/4294967296&255,d[12]=u>>>24&255,d[13]=u>>>16&255,d[14]=u>>>8&255,d[15]=255&u,d};i.default=c},{"./validate.js":541}],532:[function(n,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(n,s,i){let a;Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){if(!a&&(a=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(o)};const o=new Uint8Array(16)},{}],534:[function(n,s,i){function a(l,u,d,f){switch(l){case 0:return u&d^~u&f;case 1:return u^d^f;case 2:return u&d^u&f^d&f;case 3:return u^d^f}}function o(l,u){return l<<u|l>>>32-u}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var c=function(l){const u=[1518500249,1859775393,2400959708,3395469782],d=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof l=="string"){const A=unescape(encodeURIComponent(l));l=[];for(let g=0;g<A.length;++g)l.push(A.charCodeAt(g))}else Array.isArray(l)||(l=Array.prototype.slice.call(l));l.push(128);const f=l.length/4+2,h=Math.ceil(f/16),m=new Array(h);for(let A=0;A<h;++A){const g=new Uint32Array(16);for(let p=0;p<16;++p)g[p]=l[64*A+4*p]<<24|l[64*A+4*p+1]<<16|l[64*A+4*p+2]<<8|l[64*A+4*p+3];m[A]=g}m[h-1][14]=8*(l.length-1)/Math.pow(2,32),m[h-1][14]=Math.floor(m[h-1][14]),m[h-1][15]=8*(l.length-1)&4294967295;for(let A=0;A<h;++A){const g=new Uint32Array(80);for(let N=0;N<16;++N)g[N]=m[A][N];for(let N=16;N<80;++N)g[N]=o(g[N-3]^g[N-8]^g[N-14]^g[N-16],1);let p=d[0],b=d[1],x=d[2],v=d[3],y=d[4];for(let N=0;N<80;++N){const P=Math.floor(N/20),M=o(p,5)+a(P,b,x,v)+y+u[P]+g[N]>>>0;y=v,v=x,x=o(b,30)>>>0,b=p,p=M}d[0]=d[0]+p>>>0,d[1]=d[1]+b>>>0,d[2]=d[2]+x>>>0,d[3]=d[3]+v>>>0,d[4]=d[4]+y>>>0}return[d[0]>>24&255,d[0]>>16&255,d[0]>>8&255,255&d[0],d[1]>>24&255,d[1]>>16&255,d[1]>>8&255,255&d[1],d[2]>>24&255,d[2]>>16&255,d[2]>>8&255,255&d[2],d[3]>>24&255,d[3]>>16&255,d[3]>>8&255,255&d[3],d[4]>>24&255,d[4]>>16&255,d[4]>>8&255,255&d[4]]};i.default=c},{}],535:[function(n,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,o=(a=n("./validate.js"))&&a.__esModule?a:{default:a};const c=[];for(let u=0;u<256;++u)c.push((u+256).toString(16).substr(1));var l=function(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const f=(c[u[d+0]]+c[u[d+1]]+c[u[d+2]]+c[u[d+3]]+"-"+c[u[d+4]]+c[u[d+5]]+"-"+c[u[d+6]]+c[u[d+7]]+"-"+c[u[d+8]]+c[u[d+9]]+"-"+c[u[d+10]]+c[u[d+11]]+c[u[d+12]]+c[u[d+13]]+c[u[d+14]]+c[u[d+15]]).toLowerCase();if(!(0,o.default)(f))throw TypeError("Stringified UUID is invalid");return f};i.default=l},{"./validate.js":541}],536:[function(n,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=c(n("./rng.js")),o=c(n("./stringify.js"));function c(m){return m&&m.__esModule?m:{default:m}}let l,u,d=0,f=0;var h=function(m,A,g){let p=A&&g||0;const b=A||new Array(16);let x=(m=m||{}).node||l,v=m.clockseq!==void 0?m.clockseq:u;if(x==null||v==null){const D=m.random||(m.rng||a.default)();x==null&&(x=l=[1|D[0],D[1],D[2],D[3],D[4],D[5]]),v==null&&(v=u=16383&(D[6]<<8|D[7]))}let y=m.msecs!==void 0?m.msecs:Date.now(),N=m.nsecs!==void 0?m.nsecs:f+1;const P=y-d+(N-f)/1e4;if(P<0&&m.clockseq===void 0&&(v=v+1&16383),(P<0||y>d)&&m.nsecs===void 0&&(N=0),N>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=y,f=N,u=v,y+=122192928e5;const M=(1e4*(268435455&y)+N)%4294967296;b[p++]=M>>>24&255,b[p++]=M>>>16&255,b[p++]=M>>>8&255,b[p++]=255&M;const k=y/4294967296*1e4&268435455;b[p++]=k>>>8&255,b[p++]=255&k,b[p++]=k>>>24&15|16,b[p++]=k>>>16&255,b[p++]=v>>>8|128,b[p++]=255&v;for(let D=0;D<6;++D)b[p+D]=x[D];return A||(0,o.default)(b)};i.default=h},{"./rng.js":533,"./stringify.js":535}],537:[function(n,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=c(n("./v35.js")),o=c(n("./md5.js"));function c(u){return u&&u.__esModule?u:{default:u}}var l=(0,a.default)("v3",48,o.default);i.default=l},{"./md5.js":529,"./v35.js":538}],538:[function(n,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(d,f,h){function m(A,g,p,b){if(typeof A=="string"&&(A=function(v){v=unescape(encodeURIComponent(v));const y=[];for(let N=0;N<v.length;++N)y.push(v.charCodeAt(N));return y}(A)),typeof g=="string"&&(g=(0,o.default)(g)),g.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let x=new Uint8Array(16+A.length);if(x.set(g),x.set(A,g.length),x=h(x),x[6]=15&x[6]|f,x[8]=63&x[8]|128,p){b=b||0;for(let v=0;v<16;++v)p[b+v]=x[v];return p}return(0,a.default)(x)}try{m.name=d}catch{}return m.DNS=l,m.URL=u,m},i.URL=i.DNS=void 0;var a=c(n("./stringify.js")),o=c(n("./parse.js"));function c(d){return d&&d.__esModule?d:{default:d}}const l="6ba7b810-9dad-11d1-80b4-00c04fd430c8";i.DNS=l;const u="6ba7b811-9dad-11d1-80b4-00c04fd430c8";i.URL=u},{"./parse.js":531,"./stringify.js":535}],539:[function(n,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=c(n("./rng.js")),o=c(n("./stringify.js"));function c(u){return u&&u.__esModule?u:{default:u}}var l=function(u,d,f){const h=(u=u||{}).random||(u.rng||a.default)();if(h[6]=15&h[6]|64,h[8]=63&h[8]|128,d){f=f||0;for(let m=0;m<16;++m)d[f+m]=h[m];return d}return(0,o.default)(h)};i.default=l},{"./rng.js":533,"./stringify.js":535}],540:[function(n,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=c(n("./v35.js")),o=c(n("./sha1.js"));function c(u){return u&&u.__esModule?u:{default:u}}var l=(0,a.default)("v5",80,o.default);i.default=l},{"./sha1.js":534,"./v35.js":538}],541:[function(n,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,o=(a=n("./regex.js"))&&a.__esModule?a:{default:a},c=function(l){return typeof l=="string"&&o.default.test(l)};i.default=c},{"./regex.js":532}],542:[function(n,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,o=(a=n("./validate.js"))&&a.__esModule?a:{default:a},c=function(l){if(!(0,o.default)(l))throw TypeError("Invalid UUID");return parseInt(l.substr(14,1),16)};i.default=c},{"./validate.js":541}],543:[function(n,s,i){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR=`	
\r -퟿-�𐀀-􏿿`,i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function a(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(o){return o>=32&&o<=55295||o===10||o===13||o===9||o>=57344&&o<=65533||o>=65536&&o<=1114111},i.isS=function(o){return o===32||o===10||o===13||o===9},i.isNameStartChar=a,i.isNameChar=function(o){return a(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],544:[function(n,s,i){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR="-퟿-�𐀀-􏿿",i.RESTRICTED_CHAR="-\b\v\f---",i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.RESTRICTED_CHAR_RE=new RegExp("^["+i.RESTRICTED_CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function a(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(o){return o>=1&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},i.isRestrictedChar=function(o){return o>=1&&o<=8||o===11||o===12||o>=14&&o<=31||o>=127&&o<=132||o>=134&&o<=159},i.isCharAndNotRestricted=function(o){return o===9||o===10||o===13||o>31&&o<127||o===133||o>159&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},i.isS=function(o){return o===32||o===10||o===13||o===9},i.isNameStartChar=a,i.isNameChar=function(o){return a(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],545:[function(n,s,i){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function a(o){return o>=65&&o<=90||o===95||o>=97&&o<=122||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8204&&o<=8205||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}Object.defineProperty(i,"__esModule",{value:!0}),i.NC_NAME_START_CHAR="A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",i.NC_NAME_CHAR="-"+i.NC_NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",i.NC_NAME_START_CHAR_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]$","u"),i.NC_NAME_CHAR_RE=new RegExp("^["+i.NC_NAME_CHAR+"]$","u"),i.NC_NAME_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]["+i.NC_NAME_CHAR+"]*$","u"),i.isNCNameStartChar=a,i.isNCNameChar=function(o){return a(o)||o===45||o===46||o>=48&&o<=57||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}]},{},[15])(15)})})(QG);var zDe=QG.exports;const VDe=mc(zDe);/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var JS=function(e,t){return JS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},JS(e,t)};function ko(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");JS(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var e3=function(){return e3=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},e3.apply(this,arguments)};function xi(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(d){try{u(s.next(d))}catch(f){o(f)}}function l(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(c,l)}u((s=s.apply(e,[])).next())})}function ni(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(u){return function(d){return l([u,d])}}function l(u){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],i=0}finally{s=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Zx(e,t,n){if(arguments.length===2)for(var s=0,i=t.length,a;s<i;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||t)}var fc=function(){function e(t,n,s,i){this.left=t,this.top=n,this.width=s,this.height=i}return e.prototype.add=function(t,n,s,i){return new e(this.left+t,this.top+n,this.width+s,this.height+i)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var s=Array.from(n).find(function(i){return i.width!==0});return s?new e(s.left+t.windowBounds.left,s.top+t.windowBounds.top,s.width,s.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),l2=function(e,t){return fc.fromClientRect(e,t.getBoundingClientRect())},KDe=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var s=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),i=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new fc(0,0,s,i)},c2=function(e){for(var t=[],n=0,s=e.length;n<s;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<s){var a=e.charCodeAt(n++);(a&64512)===56320?t.push(((i&1023)<<10)+(a&1023)+65536):(t.push(i),n--)}else t.push(i)}return t},as=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var s=[],i=-1,a="";++i<n;){var o=e[i];o<=65535?s.push(o):(o-=65536,s.push((o>>10)+55296,o%1024+56320)),(i+1===n||s.length>16384)&&(a+=String.fromCharCode.apply(String,s),s.length=0)}return a},rD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",GDe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Jx=0;Jx<rD.length;Jx++)GDe[rD.charCodeAt(Jx)]=Jx;var sD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sA=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var eb=0;eb<sD.length;eb++)sA[sD.charCodeAt(eb)]=eb;var WDe=function(e){var t=e.length*.75,n=e.length,s,i=0,a,o,c,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),d=Array.isArray(u)?u:new Uint8Array(u);for(s=0;s<n;s+=4)a=sA[e.charCodeAt(s)],o=sA[e.charCodeAt(s+1)],c=sA[e.charCodeAt(s+2)],l=sA[e.charCodeAt(s+3)],d[i++]=a<<2|o>>4,d[i++]=(o&15)<<4|c>>2,d[i++]=(c&3)<<6|l&63;return u},qDe=function(e){for(var t=e.length,n=[],s=0;s<t;s+=2)n.push(e[s+1]<<8|e[s]);return n},XDe=function(e){for(var t=e.length,n=[],s=0;s<t;s+=4)n.push(e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s]);return n},$d=5,Zk=11,CC=2,YDe=Zk-$d,zG=65536>>$d,ZDe=1<<$d,NC=ZDe-1,JDe=1024>>$d,eIe=zG+JDe,tIe=eIe,nIe=32,rIe=tIe+nIe,sIe=65536>>Zk,iIe=1<<YDe,aIe=iIe-1,iD=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},oIe=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},lIe=function(e,t){var n=WDe(e),s=Array.isArray(n)?XDe(n):new Uint32Array(n),i=Array.isArray(n)?qDe(n):new Uint16Array(n),a=24,o=iD(i,a/2,s[4]/2),c=s[5]===2?iD(i,(a+s[4])/2):oIe(s,Math.ceil((a+s[4])/4));return new cIe(s[0],s[1],s[2],s[3],o,c)},cIe=function(){function e(t,n,s,i,a,o){this.initialValue=t,this.errorValue=n,this.highStart=s,this.highValueIndex=i,this.index=a,this.data=o}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>$d],n=(n<<CC)+(t&NC),this.data[n];if(t<=65535)return n=this.index[zG+(t-55296>>$d)],n=(n<<CC)+(t&NC),this.data[n];if(t<this.highStart)return n=rIe-sIe+(t>>Zk),n=this.index[n],n+=t>>$d&aIe,n=this.index[n],n=(n<<CC)+(t&NC),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),aD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uIe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var tb=0;tb<aD.length;tb++)uIe[aD.charCodeAt(tb)]=tb;var dIe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",oD=50,hIe=1,VG=2,KG=3,fIe=4,mIe=5,lD=7,GG=8,cD=9,ou=10,t3=11,uD=12,n3=13,pIe=14,iA=15,r3=16,nb=17,Dp=18,AIe=19,dD=20,s3=21,Ip=22,SC=23,Kh=24,aa=25,aA=26,oA=27,Gh=28,gIe=29,vd=30,xIe=31,rb=32,sb=33,i3=34,a3=35,o3=36,Ug=37,l3=38,cv=39,uv=40,TC=41,WG=42,bIe=43,vIe=[9001,65288],qG="!",Ln="×",ib="÷",c3=lIe(dIe),kl=[vd,o3],u3=[hIe,VG,KG,mIe],XG=[ou,GG],hD=[oA,aA],yIe=u3.concat(XG),fD=[l3,cv,uv,i3,a3],wIe=[iA,n3],jIe=function(e,t){t===void 0&&(t="strict");var n=[],s=[],i=[];return e.forEach(function(a,o){var c=c3.get(a);if(c>oD?(i.push(!0),c-=oD):i.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return s.push(o),n.push(r3);if(c===fIe||c===t3){if(o===0)return s.push(o),n.push(vd);var l=n[o-1];return yIe.indexOf(l)===-1?(s.push(s[o-1]),n.push(l)):(s.push(o),n.push(vd))}if(s.push(o),c===xIe)return n.push(t==="strict"?s3:Ug);if(c===WG||c===gIe)return n.push(vd);if(c===bIe)return a>=131072&&a<=196605||a>=196608&&a<=262141?n.push(Ug):n.push(vd);n.push(c)}),[s,n,i]},kC=function(e,t,n,s){var i=s[n];if(Array.isArray(e)?e.indexOf(i)!==-1:e===i)for(var a=n;a<=s.length;){a++;var o=s[a];if(o===t)return!0;if(o!==ou)break}if(i===ou)for(var a=n;a>0;){a--;var c=s[a];if(Array.isArray(e)?e.indexOf(c)!==-1:e===c)for(var l=n;l<=s.length;){l++;var o=s[l];if(o===t)return!0;if(o!==ou)break}if(c!==ou)break}return!1},mD=function(e,t){for(var n=e;n>=0;){var s=t[n];if(s===ou)n--;else return s}return 0},CIe=function(e,t,n,s,i){if(n[s]===0)return Ln;var a=s-1;if(Array.isArray(i)&&i[a]===!0)return Ln;var o=a-1,c=a+1,l=t[a],u=o>=0?t[o]:0,d=t[c];if(l===VG&&d===KG)return Ln;if(u3.indexOf(l)!==-1)return qG;if(u3.indexOf(d)!==-1||XG.indexOf(d)!==-1)return Ln;if(mD(a,t)===GG)return ib;if(c3.get(e[a])===t3||(l===rb||l===sb)&&c3.get(e[c])===t3||l===lD||d===lD||l===cD||[ou,n3,iA].indexOf(l)===-1&&d===cD||[nb,Dp,AIe,Kh,Gh].indexOf(d)!==-1||mD(a,t)===Ip||kC(SC,Ip,a,t)||kC([nb,Dp],s3,a,t)||kC(uD,uD,a,t))return Ln;if(l===ou)return ib;if(l===SC||d===SC)return Ln;if(d===r3||l===r3)return ib;if([n3,iA,s3].indexOf(d)!==-1||l===pIe||u===o3&&wIe.indexOf(l)!==-1||l===Gh&&d===o3||d===dD||kl.indexOf(d)!==-1&&l===aa||kl.indexOf(l)!==-1&&d===aa||l===oA&&[Ug,rb,sb].indexOf(d)!==-1||[Ug,rb,sb].indexOf(l)!==-1&&d===aA||kl.indexOf(l)!==-1&&hD.indexOf(d)!==-1||hD.indexOf(l)!==-1&&kl.indexOf(d)!==-1||[oA,aA].indexOf(l)!==-1&&(d===aa||[Ip,iA].indexOf(d)!==-1&&t[c+1]===aa)||[Ip,iA].indexOf(l)!==-1&&d===aa||l===aa&&[aa,Gh,Kh].indexOf(d)!==-1)return Ln;if([aa,Gh,Kh,nb,Dp].indexOf(d)!==-1)for(var f=a;f>=0;){var h=t[f];if(h===aa)return Ln;if([Gh,Kh].indexOf(h)!==-1)f--;else break}if([oA,aA].indexOf(d)!==-1)for(var f=[nb,Dp].indexOf(l)!==-1?o:a;f>=0;){var h=t[f];if(h===aa)return Ln;if([Gh,Kh].indexOf(h)!==-1)f--;else break}if(l3===l&&[l3,cv,i3,a3].indexOf(d)!==-1||[cv,i3].indexOf(l)!==-1&&[cv,uv].indexOf(d)!==-1||[uv,a3].indexOf(l)!==-1&&d===uv||fD.indexOf(l)!==-1&&[dD,aA].indexOf(d)!==-1||fD.indexOf(d)!==-1&&l===oA||kl.indexOf(l)!==-1&&kl.indexOf(d)!==-1||l===Kh&&kl.indexOf(d)!==-1||kl.concat(aa).indexOf(l)!==-1&&d===Ip&&vIe.indexOf(e[c])===-1||kl.concat(aa).indexOf(d)!==-1&&l===Dp)return Ln;if(l===TC&&d===TC){for(var m=n[a],A=1;m>0&&(m--,t[m]===TC);)A++;if(A%2!==0)return Ln}return l===rb&&d===sb?Ln:ib},NIe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=jIe(e,t.lineBreak),s=n[0],i=n[1],a=n[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(i=i.map(function(c){return[aa,vd,WG].indexOf(c)!==-1?Ug:c}));var o=t.wordBreak==="keep-all"?a.map(function(c,l){return c&&e[l]>=19968&&e[l]<=40959}):void 0;return[s,i,o]},SIe=function(){function e(t,n,s,i){this.codePoints=t,this.required=n===qG,this.start=s,this.end=i}return e.prototype.slice=function(){return as.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),TIe=function(e,t){var n=c2(e),s=NIe(n,t),i=s[0],a=s[1],o=s[2],c=n.length,l=0,u=0;return{next:function(){if(u>=c)return{done:!0,value:null};for(var d=Ln;u<c&&(d=CIe(n,a,i,++u,o))===Ln;);if(d!==Ln||u===c){var f=new SIe(n,d,l,u);return l=u,{value:f,done:!1}}return{done:!0,value:null}}}},kIe=1,_Ie=2,L0=4,pD=8,tw=10,AD=47,DA=92,BIe=9,EIe=32,ab=34,Op=61,PIe=35,MIe=36,DIe=37,ob=39,lb=40,Lp=41,IIe=95,Hi=45,OIe=33,LIe=60,FIe=62,RIe=64,UIe=91,HIe=93,$Ie=61,QIe=123,cb=63,zIe=125,gD=124,VIe=126,KIe=128,xD=65533,_C=42,Td=43,GIe=44,WIe=58,qIe=59,Hg=46,XIe=0,YIe=8,ZIe=11,JIe=14,eOe=31,tOe=127,Do=-1,YG=48,ZG=97,JG=101,nOe=102,rOe=117,sOe=122,eW=65,tW=69,nW=70,iOe=85,aOe=90,ii=function(e){return e>=YG&&e<=57},oOe=function(e){return e>=55296&&e<=57343},Wh=function(e){return ii(e)||e>=eW&&e<=nW||e>=ZG&&e<=nOe},lOe=function(e){return e>=ZG&&e<=sOe},cOe=function(e){return e>=eW&&e<=aOe},uOe=function(e){return lOe(e)||cOe(e)},dOe=function(e){return e>=KIe},ub=function(e){return e===tw||e===BIe||e===EIe},nw=function(e){return uOe(e)||dOe(e)||e===IIe},bD=function(e){return nw(e)||ii(e)||e===Hi},hOe=function(e){return e>=XIe&&e<=YIe||e===ZIe||e>=JIe&&e<=eOe||e===tOe},Rc=function(e,t){return e!==DA?!1:t!==tw},db=function(e,t,n){return e===Hi?nw(t)||Rc(t,n):nw(e)?!0:!!(e===DA&&Rc(e,t))},BC=function(e,t,n){return e===Td||e===Hi?ii(t)?!0:t===Hg&&ii(n):ii(e===Hg?t:e)},fOe=function(e){var t=0,n=1;(e[t]===Td||e[t]===Hi)&&(e[t]===Hi&&(n=-1),t++);for(var s=[];ii(e[t]);)s.push(e[t++]);var i=s.length?parseInt(as.apply(void 0,s),10):0;e[t]===Hg&&t++;for(var a=[];ii(e[t]);)a.push(e[t++]);var o=a.length,c=o?parseInt(as.apply(void 0,a),10):0;(e[t]===tW||e[t]===JG)&&t++;var l=1;(e[t]===Td||e[t]===Hi)&&(e[t]===Hi&&(l=-1),t++);for(var u=[];ii(e[t]);)u.push(e[t++]);var d=u.length?parseInt(as.apply(void 0,u),10):0;return n*(i+c*Math.pow(10,-o))*Math.pow(10,l*d)},mOe={type:2},pOe={type:3},AOe={type:4},gOe={type:13},xOe={type:8},bOe={type:21},vOe={type:9},yOe={type:10},wOe={type:11},jOe={type:12},COe={type:14},hb={type:23},NOe={type:1},SOe={type:25},TOe={type:24},kOe={type:26},_Oe={type:27},BOe={type:28},EOe={type:29},POe={type:31},d3={type:32},rW=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(c2(t))},e.prototype.read=function(){for(var t=[],n=this.consumeToken();n!==d3;)t.push(n),n=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case ab:return this.consumeStringToken(ab);case PIe:var n=this.peekCodePoint(0),s=this.peekCodePoint(1),i=this.peekCodePoint(2);if(bD(n)||Rc(s,i)){var a=db(n,s,i)?_Ie:kIe,o=this.consumeName();return{type:5,value:o,flags:a}}break;case MIe:if(this.peekCodePoint(0)===Op)return this.consumeCodePoint(),gOe;break;case ob:return this.consumeStringToken(ob);case lb:return mOe;case Lp:return pOe;case _C:if(this.peekCodePoint(0)===Op)return this.consumeCodePoint(),COe;break;case Td:if(BC(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case GIe:return AOe;case Hi:var c=t,l=this.peekCodePoint(0),u=this.peekCodePoint(1);if(BC(c,l,u))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(db(c,l,u))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(l===Hi&&u===FIe)return this.consumeCodePoint(),this.consumeCodePoint(),TOe;break;case Hg:if(BC(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case AD:if(this.peekCodePoint(0)===_C)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===_C&&(d=this.consumeCodePoint(),d===AD))return this.consumeToken();if(d===Do)return this.consumeToken()}break;case WIe:return kOe;case qIe:return _Oe;case LIe:if(this.peekCodePoint(0)===OIe&&this.peekCodePoint(1)===Hi&&this.peekCodePoint(2)===Hi)return this.consumeCodePoint(),this.consumeCodePoint(),SOe;break;case RIe:var f=this.peekCodePoint(0),h=this.peekCodePoint(1),m=this.peekCodePoint(2);if(db(f,h,m)){var o=this.consumeName();return{type:7,value:o}}break;case UIe:return BOe;case DA:if(Rc(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case HIe:return EOe;case $Ie:if(this.peekCodePoint(0)===Op)return this.consumeCodePoint(),xOe;break;case QIe:return wOe;case zIe:return jOe;case rOe:case iOe:var A=this.peekCodePoint(0),g=this.peekCodePoint(1);return A===Td&&(Wh(g)||g===cb)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case gD:if(this.peekCodePoint(0)===Op)return this.consumeCodePoint(),vOe;if(this.peekCodePoint(0)===gD)return this.consumeCodePoint(),bOe;break;case VIe:if(this.peekCodePoint(0)===Op)return this.consumeCodePoint(),yOe;break;case Do:return d3}return ub(t)?(this.consumeWhiteSpace(),POe):ii(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):nw(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:as(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],n=this.consumeCodePoint();Wh(n)&&t.length<6;)t.push(n),n=this.consumeCodePoint();for(var s=!1;n===cb&&t.length<6;)t.push(n),n=this.consumeCodePoint(),s=!0;if(s){var i=parseInt(as.apply(void 0,t.map(function(l){return l===cb?YG:l})),16),a=parseInt(as.apply(void 0,t.map(function(l){return l===cb?nW:l})),16);return{type:30,start:i,end:a}}var o=parseInt(as.apply(void 0,t),16);if(this.peekCodePoint(0)===Hi&&Wh(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var c=[];Wh(n)&&c.length<6;)c.push(n),n=this.consumeCodePoint();var a=parseInt(as.apply(void 0,c),16);return{type:30,start:o,end:a}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===lb?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===lb?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Do)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===ob||n===ab){var s=this.consumeStringToken(this.consumeCodePoint());return s.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Do||this.peekCodePoint(0)===Lp)?(this.consumeCodePoint(),{type:22,value:s.value}):(this.consumeBadUrlRemnants(),hb)}for(;;){var i=this.consumeCodePoint();if(i===Do||i===Lp)return{type:22,value:as.apply(void 0,t)};if(ub(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Do||this.peekCodePoint(0)===Lp?(this.consumeCodePoint(),{type:22,value:as.apply(void 0,t)}):(this.consumeBadUrlRemnants(),hb);if(i===ab||i===ob||i===lb||hOe(i))return this.consumeBadUrlRemnants(),hb;if(i===DA)if(Rc(i,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),hb;else t.push(i)}},e.prototype.consumeWhiteSpace=function(){for(;ub(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===Lp||t===Do)return;Rc(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var n=5e4,s="";t>0;){var i=Math.min(n,t);s+=as.apply(void 0,this._value.splice(0,i)),t-=i}return this._value.shift(),s},e.prototype.consumeStringToken=function(t){var n="",s=0;do{var i=this._value[s];if(i===Do||i===void 0||i===t)return n+=this.consumeStringSlice(s),{type:0,value:n};if(i===tw)return this._value.splice(0,s),NOe;if(i===DA){var a=this._value[s+1];a!==Do&&a!==void 0&&(a===tw?(n+=this.consumeStringSlice(s),s=-1,this._value.shift()):Rc(i,a)&&(n+=this.consumeStringSlice(s),n+=as(this.consumeEscapedCodePoint()),s=-1))}s++}while(!0)},e.prototype.consumeNumber=function(){var t=[],n=L0,s=this.peekCodePoint(0);for((s===Td||s===Hi)&&t.push(this.consumeCodePoint());ii(this.peekCodePoint(0));)t.push(this.consumeCodePoint());s=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(s===Hg&&ii(i))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=pD;ii(this.peekCodePoint(0));)t.push(this.consumeCodePoint());s=this.peekCodePoint(0),i=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((s===tW||s===JG)&&((i===Td||i===Hi)&&ii(a)||ii(i)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=pD;ii(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[fOe(t),n]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),n=t[0],s=t[1],i=this.peekCodePoint(0),a=this.peekCodePoint(1),o=this.peekCodePoint(2);if(db(i,a,o)){var c=this.consumeName();return{type:15,number:n,flags:s,unit:c}}return i===DIe?(this.consumeCodePoint(),{type:16,number:n,flags:s}):{type:17,number:n,flags:s}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Wh(t)){for(var n=as(t);Wh(this.peekCodePoint(0))&&n.length<6;)n+=as(this.consumeCodePoint());ub(this.peekCodePoint(0))&&this.consumeCodePoint();var s=parseInt(n,16);return s===0||oOe(s)||s>1114111?xD:s}return t===Do?xD:t},e.prototype.consumeName=function(){for(var t="";;){var n=this.consumeCodePoint();if(bD(n))t+=as(n);else if(Rc(n,this.peekCodePoint(0)))t+=as(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),t}},e}(),sW=function(){function e(t){this._tokens=t}return e.create=function(t){var n=new rW;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var n=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var n=this.consumeComponentValue();if(n.type===32)return t;t.push(n),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var n={type:t,values:[]},s=this.consumeToken();;){if(s.type===32||DOe(s,t))return n;this.reconsumeToken(s),n.values.push(this.consumeComponentValue()),s=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var n={name:t.value,values:[],type:18};;){var s=this.consumeToken();if(s.type===32||s.type===3)return n;this.reconsumeToken(s),n.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?d3:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),F0=function(e){return e.type===15},Jm=function(e){return e.type===17},fr=function(e){return e.type===20},MOe=function(e){return e.type===0},h3=function(e,t){return fr(e)&&e.value===t},iW=function(e){return e.type!==31},vm=function(e){return e.type!==31&&e.type!==4},xl=function(e){var t=[],n=[];return e.forEach(function(s){if(s.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(n),n=[];return}s.type!==31&&n.push(s)}),n.length&&t.push(n),t},DOe=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},Ou=function(e){return e.type===17||e.type===15},bs=function(e){return e.type===16||Ou(e)},aW=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Ks={type:17,number:0,flags:L0},Jk={type:16,number:50,flags:L0},lu={type:16,number:100,flags:L0},lA=function(e,t,n){var s=e[0],i=e[1];return[br(s,t),br(typeof i<"u"?i:s,n)]},br=function(e,t){if(e.type===16)return e.number/100*t;if(F0(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},oW="deg",lW="grad",cW="rad",uW="turn",u2={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case oW:return Math.PI*t.number/180;case lW:return Math.PI/200*t.number;case cW:return t.number;case uW:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},dW=function(e){return e.type===15&&(e.unit===oW||e.unit===lW||e.unit===cW||e.unit===uW)},hW=function(e){var t=e.filter(fr).map(function(n){return n.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ks,Ks];case"to top":case"bottom":return La(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ks,lu];case"to right":case"left":return La(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[lu,lu];case"to bottom":case"top":return La(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[lu,Ks];case"to left":case"right":return La(270)}return 0},La=function(e){return Math.PI*e/180},ju={name:"color",parse:function(e,t){if(t.type===18){var n=IOe[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(t.type===5){if(t.value.length===3){var s=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3);return cu(parseInt(s+s,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(t.value.length===4){var s=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3),o=t.value.substring(3,4);return cu(parseInt(s+s,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(o+o,16)/255)}if(t.value.length===6){var s=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6);return cu(parseInt(s,16),parseInt(i,16),parseInt(a,16),1)}if(t.value.length===8){var s=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6),o=t.value.substring(6,8);return cu(parseInt(s,16),parseInt(i,16),parseInt(a,16),parseInt(o,16)/255)}}if(t.type===20){var c=ec[t.value.toUpperCase()];if(typeof c<"u")return c}return ec.TRANSPARENT}},Cu=function(e){return(255&e)===0},Ms=function(e){var t=255&e,n=255&e>>8,s=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+s+","+n+","+t/255+")":"rgb("+i+","+s+","+n+")"},cu=function(e,t,n,s){return(e<<24|t<<16|n<<8|Math.round(s*255)<<0)>>>0},vD=function(e,t){if(e.type===17)return e.number;if(e.type===16){var n=t===3?1:255;return t===3?e.number/100*n:Math.round(e.number/100*n)}return 0},yD=function(e,t){var n=t.filter(vm);if(n.length===3){var s=n.map(vD),i=s[0],a=s[1],o=s[2];return cu(i,a,o,1)}if(n.length===4){var c=n.map(vD),i=c[0],a=c[1],o=c[2],l=c[3];return cu(i,a,o,l)}return 0};function EC(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<1/2?t:n<2/3?(t-e)*6*(2/3-n)+e:e}var wD=function(e,t){var n=t.filter(vm),s=n[0],i=n[1],a=n[2],o=n[3],c=(s.type===17?La(s.number):u2.parse(e,s))/(Math.PI*2),l=bs(i)?i.number/100:0,u=bs(a)?a.number/100:0,d=typeof o<"u"&&bs(o)?br(o,1):1;if(l===0)return cu(u*255,u*255,u*255,1);var f=u<=.5?u*(l+1):u+l-u*l,h=u*2-f,m=EC(h,f,c+1/3),A=EC(h,f,c),g=EC(h,f,c-1/3);return cu(m*255,A*255,g*255,d)},IOe={hsl:wD,hsla:wD,rgb:yD,rgba:yD},IA=function(e,t){return ju.parse(e,sW.create(t).parseComponentValue())},ec={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},OOe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(fr(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},LOe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},d2=function(e,t){var n=ju.parse(e,t[0]),s=t[1];return s&&bs(s)?{color:n,stop:s}:{color:n,stop:null}},jD=function(e,t){var n=e[0],s=e[e.length-1];n.stop===null&&(n.stop=Ks),s.stop===null&&(s.stop=lu);for(var i=[],a=0,o=0;o<e.length;o++){var c=e[o].stop;if(c!==null){var l=br(c,t);l>a?i.push(l):i.push(a),a=l}else i.push(null)}for(var u=null,o=0;o<i.length;o++){var d=i[o];if(d===null)u===null&&(u=o);else if(u!==null){for(var f=o-u,h=i[u-1],m=(d-h)/(f+1),A=1;A<=f;A++)i[u+A-1]=m*A;u=null}}return e.map(function(g,p){var b=g.color;return{color:b,stop:Math.max(Math.min(1,i[p]/t),0)}})},FOe=function(e,t,n){var s=t/2,i=n/2,a=br(e[0],t)-s,o=i-br(e[1],n);return(Math.atan2(o,a)+Math.PI*2)%(Math.PI*2)},ROe=function(e,t,n){var s=typeof e=="number"?e:FOe(e,t,n),i=Math.abs(t*Math.sin(s))+Math.abs(n*Math.cos(s)),a=t/2,o=n/2,c=i/2,l=Math.sin(s-Math.PI/2)*c,u=Math.cos(s-Math.PI/2)*c;return[i,a-u,a+u,o-l,o+l]},Ja=function(e,t){return Math.sqrt(e*e+t*t)},CD=function(e,t,n,s,i){var a=[[0,0],[0,t],[e,0],[e,t]];return a.reduce(function(o,c){var l=c[0],u=c[1],d=Ja(n-l,s-u);return(i?d<o.optimumDistance:d>o.optimumDistance)?{optimumCorner:c,optimumDistance:d}:o},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},UOe=function(e,t,n,s,i){var a=0,o=0;switch(e.size){case 0:e.shape===0?a=o=Math.min(Math.abs(t),Math.abs(t-s),Math.abs(n),Math.abs(n-i)):e.shape===1&&(a=Math.min(Math.abs(t),Math.abs(t-s)),o=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(e.shape===0)a=o=Math.min(Ja(t,n),Ja(t,n-i),Ja(t-s,n),Ja(t-s,n-i));else if(e.shape===1){var c=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(t),Math.abs(t-s)),l=CD(s,i,t,n,!0),u=l[0],d=l[1];a=Ja(u-t,(d-n)/c),o=c*a}break;case 1:e.shape===0?a=o=Math.max(Math.abs(t),Math.abs(t-s),Math.abs(n),Math.abs(n-i)):e.shape===1&&(a=Math.max(Math.abs(t),Math.abs(t-s)),o=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(e.shape===0)a=o=Math.max(Ja(t,n),Ja(t,n-i),Ja(t-s,n),Ja(t-s,n-i));else if(e.shape===1){var c=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(t),Math.abs(t-s)),f=CD(s,i,t,n,!1),u=f[0],d=f[1];a=Ja(u-t,(d-n)/c),o=c*a}break}return Array.isArray(e.size)&&(a=br(e.size[0],s),o=e.size.length===2?br(e.size[1],i):a),[a,o]},HOe=function(e,t){var n=La(180),s=[];return xl(t).forEach(function(i,a){if(a===0){var o=i[0];if(o.type===20&&o.value==="to"){n=hW(i);return}else if(dW(o)){n=u2.parse(e,o);return}}var c=d2(e,i);s.push(c)}),{angle:n,stops:s,type:1}},fb=function(e,t){var n=La(180),s=[];return xl(t).forEach(function(i,a){if(a===0){var o=i[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){n=hW(i);return}else if(dW(o)){n=(u2.parse(e,o)+La(270))%La(360);return}}var c=d2(e,i);s.push(c)}),{angle:n,stops:s,type:1}},$Oe=function(e,t){var n=La(180),s=[],i=1,a=0,o=3,c=[];return xl(t).forEach(function(l,u){var d=l[0];if(u===0){if(fr(d)&&d.value==="linear"){i=1;return}else if(fr(d)&&d.value==="radial"){i=2;return}}if(d.type===18){if(d.name==="from"){var f=ju.parse(e,d.values[0]);s.push({stop:Ks,color:f})}else if(d.name==="to"){var f=ju.parse(e,d.values[0]);s.push({stop:lu,color:f})}else if(d.name==="color-stop"){var h=d.values.filter(vm);if(h.length===2){var f=ju.parse(e,h[1]),m=h[0];Jm(m)&&s.push({stop:{type:16,number:m.number*100,flags:m.flags},color:f})}}}}),i===1?{angle:(n+La(180))%La(360),stops:s,type:i}:{size:o,shape:a,stops:s,position:c,type:i}},fW="closest-side",mW="farthest-side",pW="closest-corner",AW="farthest-corner",gW="circle",xW="ellipse",bW="cover",vW="contain",QOe=function(e,t){var n=0,s=3,i=[],a=[];return xl(t).forEach(function(o,c){var l=!0;if(c===0){var u=!1;l=o.reduce(function(f,h){if(u)if(fr(h))switch(h.value){case"center":return a.push(Jk),f;case"top":case"left":return a.push(Ks),f;case"right":case"bottom":return a.push(lu),f}else(bs(h)||Ou(h))&&a.push(h);else if(fr(h))switch(h.value){case gW:return n=0,!1;case xW:return n=1,!1;case"at":return u=!0,!1;case fW:return s=0,!1;case bW:case mW:return s=1,!1;case vW:case pW:return s=2,!1;case AW:return s=3,!1}else if(Ou(h)||bs(h))return Array.isArray(s)||(s=[]),s.push(h),!1;return f},l)}if(l){var d=d2(e,o);i.push(d)}}),{size:s,shape:n,stops:i,position:a,type:2}},mb=function(e,t){var n=0,s=3,i=[],a=[];return xl(t).forEach(function(o,c){var l=!0;if(c===0?l=o.reduce(function(d,f){if(fr(f))switch(f.value){case"center":return a.push(Jk),!1;case"top":case"left":return a.push(Ks),!1;case"right":case"bottom":return a.push(lu),!1}else if(bs(f)||Ou(f))return a.push(f),!1;return d},l):c===1&&(l=o.reduce(function(d,f){if(fr(f))switch(f.value){case gW:return n=0,!1;case xW:return n=1,!1;case vW:case fW:return s=0,!1;case mW:return s=1,!1;case pW:return s=2,!1;case bW:case AW:return s=3,!1}else if(Ou(f)||bs(f))return Array.isArray(s)||(s=[]),s.push(f),!1;return d},l)),l){var u=d2(e,o);i.push(u)}}),{size:s,shape:n,stops:i,position:a,type:2}},zOe=function(e){return e.type===1},VOe=function(e){return e.type===2},e_={name:"image",parse:function(e,t){if(t.type===22){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(t.type===18){var s=yW[t.name];if(typeof s>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return s(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function KOe(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!yW[e.name])}var yW={"linear-gradient":HOe,"-moz-linear-gradient":fb,"-ms-linear-gradient":fb,"-o-linear-gradient":fb,"-webkit-linear-gradient":fb,"radial-gradient":QOe,"-moz-radial-gradient":mb,"-ms-radial-gradient":mb,"-o-radial-gradient":mb,"-webkit-radial-gradient":mb,"-webkit-gradient":$Oe},GOe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t.filter(function(s){return vm(s)&&KOe(s)}).map(function(s){return e_.parse(e,s)})}},WOe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(fr(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},qOe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return xl(t).map(function(n){return n.filter(bs)}).map(aW)}},XOe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return xl(t).map(function(n){return n.filter(fr).map(function(s){return s.value}).join(" ")}).map(YOe)}},YOe=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Lf;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(Lf||(Lf={}));var ZOe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return xl(t).map(function(n){return n.filter(JOe)})}},JOe=function(e){return fr(e)||bs(e)},h2=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},e7e=h2("top"),t7e=h2("right"),n7e=h2("bottom"),r7e=h2("left"),f2=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,n){return aW(n.filter(bs))}}},s7e=f2("top-left"),i7e=f2("top-right"),a7e=f2("bottom-right"),o7e=f2("bottom-left"),m2=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},l7e=m2("top"),c7e=m2("right"),u7e=m2("bottom"),d7e=m2("left"),p2=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,n){return F0(n)?n.number:0}}},h7e=p2("top"),f7e=p2("right"),m7e=p2("bottom"),p7e=p2("left"),A7e={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},g7e={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},x7e={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(fr).reduce(function(n,s){return n|b7e(s.value)},0)}},b7e=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},v7e={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},y7e={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},rw;(function(e){e.NORMAL="normal",e.STRICT="strict"})(rw||(rw={}));var w7e={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return rw.STRICT;case"normal":default:return rw.NORMAL}}},j7e={name:"line-height",initialValue:"normal",prefix:!1,type:4},ND=function(e,t){return fr(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:bs(e)?br(e,t):t},C7e={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:e_.parse(e,t)}},N7e={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},f3={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},A2=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},S7e=A2("top"),T7e=A2("right"),k7e=A2("bottom"),_7e=A2("left"),B7e={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(fr).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},E7e={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},g2=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},P7e=g2("top"),M7e=g2("right"),D7e=g2("bottom"),I7e=g2("left"),O7e={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},L7e={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},F7e={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&h3(t[0],"none")?[]:xl(t).map(function(n){for(var s={color:ec.TRANSPARENT,offsetX:Ks,offsetY:Ks,blur:Ks},i=0,a=0;a<n.length;a++){var o=n[a];Ou(o)?(i===0?s.offsetX=o:i===1?s.offsetY=o:s.blur=o,i++):s.color=ju.parse(e,o)}return s})}},R7e={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},U7e={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var n=Q7e[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},H7e=function(e){var t=e.filter(function(n){return n.type===17}).map(function(n){return n.number});return t.length===6?t:null},$7e=function(e){var t=e.filter(function(l){return l.type===17}).map(function(l){return l.number}),n=t[0],s=t[1];t[2],t[3];var i=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],c=t[13];return t[14],t[15],t.length===16?[n,s,i,a,o,c]:null},Q7e={matrix:H7e,matrix3d:$7e},SD={type:16,number:50,flags:L0},z7e=[SD,SD],V7e={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(bs);return n.length!==2?z7e:[n[0],n[1]]}},K7e={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},OA;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(OA||(OA={}));var G7e={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return OA.BREAK_ALL;case"keep-all":return OA.KEEP_ALL;case"normal":default:return OA.NORMAL}}},W7e={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(Jm(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},wW={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},q7e={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Jm(t)?t.number:1}},X7e={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Y7e={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(fr).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},Z7e={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],s=[];return t.forEach(function(i){switch(i.type){case 20:case 0:n.push(i.value);break;case 17:n.push(i.number.toString());break;case 4:s.push(n.join(" ")),n.length=0;break}}),n.length&&s.push(n.join(" ")),s.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},J7e={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},eLe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(Jm(t))return t.number;if(fr(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},tLe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(fr).map(function(n){return n.value})}},nLe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Ns=function(e,t){return(e&t)!==0},rLe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t}},sLe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;for(var s=[],i=t.filter(iW),a=0;a<i.length;a++){var o=i[a],c=i[a+1];if(o.type===20){var l=c&&Jm(c)?c.number:1;s.push({counter:o.value,increment:l})}}return s}},iLe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var n=[],s=t.filter(iW),i=0;i<s.length;i++){var a=s[i],o=s[i+1];if(fr(a)&&a.value!=="none"){var c=o&&Jm(o)?o.number:0;n.push({counter:a.value,reset:c})}}return n}},aLe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(F0).map(function(n){return wW.parse(e,n)})}},oLe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;var s=[],i=t.filter(MOe);if(i.length%2!==0)return null;for(var a=0;a<i.length;a+=2){var o=i[a].value,c=i[a+1].value;s.push({open:o,close:c})}return s}},TD=function(e,t,n){if(!e)return"";var s=e[Math.min(t,e.length-1)];return s?n?s.open:s.close:""},lLe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&h3(t[0],"none")?[]:xl(t).map(function(n){for(var s={color:255,offsetX:Ks,offsetY:Ks,blur:Ks,spread:Ks,inset:!1},i=0,a=0;a<n.length;a++){var o=n[a];h3(o,"inset")?s.inset=!0:Ou(o)?(i===0?s.offsetX=o:i===1?s.offsetY=o:i===2?s.blur=o:s.spread=o,i++):s.color=ju.parse(e,o)}return s})}},cLe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],s=[];return t.filter(fr).forEach(function(i){switch(i.value){case"stroke":s.push(1);break;case"fill":s.push(0);break;case"markers":s.push(2);break}}),n.forEach(function(i){s.indexOf(i)===-1&&s.push(i)}),s}},uLe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},dLe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return F0(t)?t.number:0}},hLe=function(){function e(t,n){var s,i;this.animationDuration=_t(t,aLe,n.animationDuration),this.backgroundClip=_t(t,OOe,n.backgroundClip),this.backgroundColor=_t(t,LOe,n.backgroundColor),this.backgroundImage=_t(t,GOe,n.backgroundImage),this.backgroundOrigin=_t(t,WOe,n.backgroundOrigin),this.backgroundPosition=_t(t,qOe,n.backgroundPosition),this.backgroundRepeat=_t(t,XOe,n.backgroundRepeat),this.backgroundSize=_t(t,ZOe,n.backgroundSize),this.borderTopColor=_t(t,e7e,n.borderTopColor),this.borderRightColor=_t(t,t7e,n.borderRightColor),this.borderBottomColor=_t(t,n7e,n.borderBottomColor),this.borderLeftColor=_t(t,r7e,n.borderLeftColor),this.borderTopLeftRadius=_t(t,s7e,n.borderTopLeftRadius),this.borderTopRightRadius=_t(t,i7e,n.borderTopRightRadius),this.borderBottomRightRadius=_t(t,a7e,n.borderBottomRightRadius),this.borderBottomLeftRadius=_t(t,o7e,n.borderBottomLeftRadius),this.borderTopStyle=_t(t,l7e,n.borderTopStyle),this.borderRightStyle=_t(t,c7e,n.borderRightStyle),this.borderBottomStyle=_t(t,u7e,n.borderBottomStyle),this.borderLeftStyle=_t(t,d7e,n.borderLeftStyle),this.borderTopWidth=_t(t,h7e,n.borderTopWidth),this.borderRightWidth=_t(t,f7e,n.borderRightWidth),this.borderBottomWidth=_t(t,m7e,n.borderBottomWidth),this.borderLeftWidth=_t(t,p7e,n.borderLeftWidth),this.boxShadow=_t(t,lLe,n.boxShadow),this.color=_t(t,A7e,n.color),this.direction=_t(t,g7e,n.direction),this.display=_t(t,x7e,n.display),this.float=_t(t,v7e,n.cssFloat),this.fontFamily=_t(t,Z7e,n.fontFamily),this.fontSize=_t(t,J7e,n.fontSize),this.fontStyle=_t(t,nLe,n.fontStyle),this.fontVariant=_t(t,tLe,n.fontVariant),this.fontWeight=_t(t,eLe,n.fontWeight),this.letterSpacing=_t(t,y7e,n.letterSpacing),this.lineBreak=_t(t,w7e,n.lineBreak),this.lineHeight=_t(t,j7e,n.lineHeight),this.listStyleImage=_t(t,C7e,n.listStyleImage),this.listStylePosition=_t(t,N7e,n.listStylePosition),this.listStyleType=_t(t,f3,n.listStyleType),this.marginTop=_t(t,S7e,n.marginTop),this.marginRight=_t(t,T7e,n.marginRight),this.marginBottom=_t(t,k7e,n.marginBottom),this.marginLeft=_t(t,_7e,n.marginLeft),this.opacity=_t(t,q7e,n.opacity);var a=_t(t,B7e,n.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=_t(t,E7e,n.overflowWrap),this.paddingTop=_t(t,P7e,n.paddingTop),this.paddingRight=_t(t,M7e,n.paddingRight),this.paddingBottom=_t(t,D7e,n.paddingBottom),this.paddingLeft=_t(t,I7e,n.paddingLeft),this.paintOrder=_t(t,cLe,n.paintOrder),this.position=_t(t,L7e,n.position),this.textAlign=_t(t,O7e,n.textAlign),this.textDecorationColor=_t(t,X7e,(s=n.textDecorationColor)!==null&&s!==void 0?s:n.color),this.textDecorationLine=_t(t,Y7e,(i=n.textDecorationLine)!==null&&i!==void 0?i:n.textDecoration),this.textShadow=_t(t,F7e,n.textShadow),this.textTransform=_t(t,R7e,n.textTransform),this.transform=_t(t,U7e,n.transform),this.transformOrigin=_t(t,V7e,n.transformOrigin),this.visibility=_t(t,K7e,n.visibility),this.webkitTextStrokeColor=_t(t,uLe,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=_t(t,dLe,n.webkitTextStrokeWidth),this.wordBreak=_t(t,G7e,n.wordBreak),this.zIndex=_t(t,W7e,n.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return Cu(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Ns(this.display,4)||Ns(this.display,33554432)||Ns(this.display,268435456)||Ns(this.display,536870912)||Ns(this.display,67108864)||Ns(this.display,134217728)},e}(),fLe=function(){function e(t,n){this.content=_t(t,rLe,n.content),this.quotes=_t(t,oLe,n.quotes)}return e}(),kD=function(){function e(t,n){this.counterIncrement=_t(t,sLe,n.counterIncrement),this.counterReset=_t(t,iLe,n.counterReset)}return e}(),_t=function(e,t,n){var s=new rW,i=n!==null&&typeof n<"u"?n.toString():t.initialValue;s.write(i);var a=new sW(s.read());switch(t.type){case 2:var o=a.parseComponentValue();return t.parse(e,fr(o)?o.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return u2.parse(e,a.parseComponentValue());case"color":return ju.parse(e,a.parseComponentValue());case"image":return e_.parse(e,a.parseComponentValue());case"length":var c=a.parseComponentValue();return Ou(c)?c:Ks;case"length-percentage":var l=a.parseComponentValue();return bs(l)?l:Ks;case"time":return wW.parse(e,a.parseComponentValue())}break}},mLe="data-html2canvas-debug",pLe=function(e){var t=e.getAttribute(mLe);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},m3=function(e,t){var n=pLe(e);return n===1||t===n},bl=function(){function e(t,n){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,m3(n,3))debugger;this.styles=new hLe(t,window.getComputedStyle(n,null)),g3(n)&&(this.styles.animationDuration.some(function(s){return s>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=l2(this.context,n),m3(n,4)&&(this.flags|=16)}return e}(),ALe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",_D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cA=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var pb=0;pb<_D.length;pb++)cA[_D.charCodeAt(pb)]=pb;var gLe=function(e){var t=e.length*.75,n=e.length,s,i=0,a,o,c,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),d=Array.isArray(u)?u:new Uint8Array(u);for(s=0;s<n;s+=4)a=cA[e.charCodeAt(s)],o=cA[e.charCodeAt(s+1)],c=cA[e.charCodeAt(s+2)],l=cA[e.charCodeAt(s+3)],d[i++]=a<<2|o>>4,d[i++]=(o&15)<<4|c>>2,d[i++]=(c&3)<<6|l&63;return u},xLe=function(e){for(var t=e.length,n=[],s=0;s<t;s+=2)n.push(e[s+1]<<8|e[s]);return n},bLe=function(e){for(var t=e.length,n=[],s=0;s<t;s+=4)n.push(e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s]);return n},Qd=5,t_=11,PC=2,vLe=t_-Qd,jW=65536>>Qd,yLe=1<<Qd,MC=yLe-1,wLe=1024>>Qd,jLe=jW+wLe,CLe=jLe,NLe=32,SLe=CLe+NLe,TLe=65536>>t_,kLe=1<<vLe,_Le=kLe-1,BD=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},BLe=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},ELe=function(e,t){var n=gLe(e),s=Array.isArray(n)?bLe(n):new Uint32Array(n),i=Array.isArray(n)?xLe(n):new Uint16Array(n),a=24,o=BD(i,a/2,s[4]/2),c=s[5]===2?BD(i,(a+s[4])/2):BLe(s,Math.ceil((a+s[4])/4));return new PLe(s[0],s[1],s[2],s[3],o,c)},PLe=function(){function e(t,n,s,i,a,o){this.initialValue=t,this.errorValue=n,this.highStart=s,this.highValueIndex=i,this.index=a,this.data=o}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>Qd],n=(n<<PC)+(t&MC),this.data[n];if(t<=65535)return n=this.index[jW+(t-55296>>Qd)],n=(n<<PC)+(t&MC),this.data[n];if(t<this.highStart)return n=SLe-TLe+(t>>t_),n=this.index[n],n+=t>>Qd&_Le,n=this.index[n],n=(n<<PC)+(t&MC),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),ED="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",MLe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ab=0;Ab<ED.length;Ab++)MLe[ED.charCodeAt(Ab)]=Ab;var DLe=1,DC=2,IC=3,PD=4,MD=5,ILe=7,DD=8,OC=9,LC=10,ID=11,OD=12,LD=13,FD=14,FC=15,OLe=function(e){for(var t=[],n=0,s=e.length;n<s;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<s){var a=e.charCodeAt(n++);(a&64512)===56320?t.push(((i&1023)<<10)+(a&1023)+65536):(t.push(i),n--)}else t.push(i)}return t},LLe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var s=[],i=-1,a="";++i<n;){var o=e[i];o<=65535?s.push(o):(o-=65536,s.push((o>>10)+55296,o%1024+56320)),(i+1===n||s.length>16384)&&(a+=String.fromCharCode.apply(String,s),s.length=0)}return a},FLe=ELe(ALe),_a="×",RC="÷",RLe=function(e){return FLe.get(e)},ULe=function(e,t,n){var s=n-2,i=t[s],a=t[n-1],o=t[n];if(a===DC&&o===IC)return _a;if(a===DC||a===IC||a===PD||o===DC||o===IC||o===PD)return RC;if(a===DD&&[DD,OC,ID,OD].indexOf(o)!==-1||(a===ID||a===OC)&&(o===OC||o===LC)||(a===OD||a===LC)&&o===LC||o===LD||o===MD||o===ILe||a===DLe)return _a;if(a===LD&&o===FD){for(;i===MD;)i=t[--s];if(i===FD)return _a}if(a===FC&&o===FC){for(var c=0;i===FC;)c++,i=t[--s];if(c%2===0)return _a}return RC},HLe=function(e){var t=OLe(e),n=t.length,s=0,i=0,a=t.map(RLe);return{next:function(){if(s>=n)return{done:!0,value:null};for(var o=_a;s<n&&(o=ULe(t,a,++s))===_a;);if(o!==_a||s===n){var c=LLe.apply(null,t.slice(i,s));return i=s,{value:c,done:!1}}return{done:!0,value:null}}}},$Le=function(e){for(var t=HLe(e),n=[],s;!(s=t.next()).done;)s.value&&n.push(s.value.slice());return n},QLe=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var s=e.createElement("boundtest");s.style.height=t+"px",s.style.display="block",e.body.appendChild(s),n.selectNode(s);var i=n.getBoundingClientRect(),a=Math.round(i.height);if(e.body.removeChild(s),a===t)return!0}}return!1},zLe=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var s=t.firstChild,i=c2(s.data).map(function(l){return as(l)}),a=0,o={},c=i.every(function(l,u){n.setStart(s,a),n.setEnd(s,a+l.length);var d=n.getBoundingClientRect();a+=l.length;var f=d.x>o.x||d.y>o.y;return o=d,u===0?!0:f});return e.body.removeChild(t),c},VLe=function(){return typeof new Image().crossOrigin<"u"},KLe=function(){return typeof new XMLHttpRequest().responseType=="string"},GLe=function(e){var t=new Image,n=e.createElement("canvas"),s=n.getContext("2d");if(!s)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{s.drawImage(t,0,0),n.toDataURL()}catch{return!1}return!0},RD=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},WLe=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var s=t.getContext("2d");if(!s)return Promise.reject(!1);s.fillStyle="rgb(0, 255, 0)",s.fillRect(0,0,n,n);var i=new Image,a=t.toDataURL();i.src=a;var o=p3(n,n,0,0,i);return s.fillStyle="red",s.fillRect(0,0,n,n),UD(o).then(function(c){s.drawImage(c,0,0);var l=s.getImageData(0,0,n,n).data;s.fillStyle="red",s.fillRect(0,0,n,n);var u=e.createElement("div");return u.style.backgroundImage="url("+a+")",u.style.height=n+"px",RD(l)?UD(p3(n,n,0,0,u)):Promise.reject(!1)}).then(function(c){return s.drawImage(c,0,0),RD(s.getImageData(0,0,n,n).data)}).catch(function(){return!1})},p3=function(e,t,n,s,i){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),c=document.createElementNS(a,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),c.setAttributeNS(null,"width","100%"),c.setAttributeNS(null,"height","100%"),c.setAttributeNS(null,"x",n.toString()),c.setAttributeNS(null,"y",s.toString()),c.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(c),c.appendChild(i),o},UD=function(e){return new Promise(function(t,n){var s=new Image;s.onload=function(){return t(s)},s.onerror=n,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Qs={get SUPPORT_RANGE_BOUNDS(){var e=QLe(document);return Object.defineProperty(Qs,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Qs.SUPPORT_RANGE_BOUNDS&&zLe(document);return Object.defineProperty(Qs,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=GLe(document);return Object.defineProperty(Qs,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?WLe(document):Promise.resolve(!1);return Object.defineProperty(Qs,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=VLe();return Object.defineProperty(Qs,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=KLe();return Object.defineProperty(Qs,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Qs,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Qs,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},LA=function(){function e(t,n){this.text=t,this.bounds=n}return e}(),qLe=function(e,t,n,s){var i=ZLe(t,n),a=[],o=0;return i.forEach(function(c){if(n.textDecorationLine.length||c.trim().length>0)if(Qs.SUPPORT_RANGE_BOUNDS){var l=HD(s,o,c.length).getClientRects();if(l.length>1){var u=n_(c),d=0;u.forEach(function(h){a.push(new LA(h,fc.fromDOMRectList(e,HD(s,d+o,h.length).getClientRects()))),d+=h.length})}else a.push(new LA(c,fc.fromDOMRectList(e,l)))}else{var f=s.splitText(c.length);a.push(new LA(c,XLe(e,s))),s=f}else Qs.SUPPORT_RANGE_BOUNDS||(s=s.splitText(c.length));o+=c.length}),a},XLe=function(e,t){var n=t.ownerDocument;if(n){var s=n.createElement("html2canvaswrapper");s.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(s,t);var a=l2(e,s);return s.firstChild&&i.replaceChild(s.firstChild,s),a}}return fc.EMPTY},HD=function(e,t,n){var s=e.ownerDocument;if(!s)throw new Error("Node has no owner document");var i=s.createRange();return i.setStart(e,t),i.setEnd(e,t+n),i},n_=function(e){if(Qs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(n){return n.segment})}return $Le(e)},YLe=function(e,t){if(Qs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map(function(s){return s.segment})}return eFe(e,t)},ZLe=function(e,t){return t.letterSpacing!==0?n_(e):YLe(e,t)},JLe=[32,160,4961,65792,65793,4153,4241],eFe=function(e,t){for(var n=TIe(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),s=[],i,a=function(){if(i.value){var o=i.value.slice(),c=c2(o),l="";c.forEach(function(u){JLe.indexOf(u)===-1?l+=as(u):(l.length&&s.push(l),s.push(as(u)),l="")}),l.length&&s.push(l)}};!(i=n.next()).done;)a();return s},tFe=function(){function e(t,n,s){this.text=nFe(n.data,s.textTransform),this.textBounds=qLe(t,this.text,s,n)}return e}(),nFe=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(rFe,sFe);case 2:return e.toUpperCase();default:return e}},rFe=/(^|\s|:|-|\(|\))([a-z])/g,sFe=function(e,t,n){return e.length>0?t+n.toUpperCase():e},CW=function(e){ko(t,e);function t(n,s){var i=e.call(this,n,s)||this;return i.src=s.currentSrc||s.src,i.intrinsicWidth=s.naturalWidth,i.intrinsicHeight=s.naturalHeight,i.context.cache.addImage(i.src),i}return t}(bl),NW=function(e){ko(t,e);function t(n,s){var i=e.call(this,n,s)||this;return i.canvas=s,i.intrinsicWidth=s.width,i.intrinsicHeight=s.height,i}return t}(bl),SW=function(e){ko(t,e);function t(n,s){var i=e.call(this,n,s)||this,a=new XMLSerializer,o=l2(n,s);return s.setAttribute("width",o.width+"px"),s.setAttribute("height",o.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(s)),i.intrinsicWidth=s.width.baseVal.value,i.intrinsicHeight=s.height.baseVal.value,i.context.cache.addImage(i.svg),i}return t}(bl),TW=function(e){ko(t,e);function t(n,s){var i=e.call(this,n,s)||this;return i.value=s.value,i}return t}(bl),A3=function(e){ko(t,e);function t(n,s){var i=e.call(this,n,s)||this;return i.start=s.start,i.reversed=typeof s.reversed=="boolean"&&s.reversed===!0,i}return t}(bl),iFe=[{type:15,flags:0,unit:"px",number:3}],aFe=[{type:16,flags:0,number:50}],oFe=function(e){return e.width>e.height?new fc(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new fc(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},lFe=function(e){var t=e.type===cFe?new Array(e.value.length+1).join("•"):e.value;return t.length===0?e.placeholder||"":t},sw="checkbox",iw="radio",cFe="password",$D=707406591,r_=function(e){ko(t,e);function t(n,s){var i=e.call(this,n,s)||this;switch(i.type=s.type.toLowerCase(),i.checked=s.checked,i.value=lFe(s),(i.type===sw||i.type===iw)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=oFe(i.bounds)),i.type){case sw:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=iFe;break;case iw:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=aFe;break}return i}return t}(bl),kW=function(e){ko(t,e);function t(n,s){var i=e.call(this,n,s)||this,a=s.options[s.selectedIndex||0];return i.value=a&&a.text||"",i}return t}(bl),_W=function(e){ko(t,e);function t(n,s){var i=e.call(this,n,s)||this;return i.value=s.value,i}return t}(bl),BW=function(e){ko(t,e);function t(n,s){var i=e.call(this,n,s)||this;i.src=s.src,i.width=parseInt(s.width,10)||0,i.height=parseInt(s.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(s.contentWindow&&s.contentWindow.document&&s.contentWindow.document.documentElement){i.tree=PW(n,s.contentWindow.document.documentElement);var a=s.contentWindow.document.documentElement?IA(n,getComputedStyle(s.contentWindow.document.documentElement).backgroundColor):ec.TRANSPARENT,o=s.contentWindow.document.body?IA(n,getComputedStyle(s.contentWindow.document.body).backgroundColor):ec.TRANSPARENT;i.backgroundColor=Cu(a)?Cu(o)?i.styles.backgroundColor:o:a}}catch{}return i}return t}(bl),uFe=["OL","UL","MENU"],dv=function(e,t,n,s){for(var i=t.firstChild,a=void 0;i;i=a)if(a=i.nextSibling,MW(i)&&i.data.trim().length>0)n.textNodes.push(new tFe(e,i,n.styles));else if(bf(i))if(LW(i)&&i.assignedNodes)i.assignedNodes().forEach(function(c){return dv(e,c,n,s)});else{var o=EW(e,i);o.styles.isVisible()&&(dFe(i,o,s)?o.flags|=4:hFe(o.styles)&&(o.flags|=2),uFe.indexOf(i.tagName)!==-1&&(o.flags|=8),n.elements.push(o),i.slot,i.shadowRoot?dv(e,i.shadowRoot,o,s):!aw(i)&&!DW(i)&&!ow(i)&&dv(e,i,o,s))}},EW=function(e,t){return x3(t)?new CW(e,t):IW(t)?new NW(e,t):DW(t)?new SW(e,t):fFe(t)?new TW(e,t):mFe(t)?new A3(e,t):pFe(t)?new r_(e,t):ow(t)?new kW(e,t):aw(t)?new _W(e,t):OW(t)?new BW(e,t):new bl(e,t)},PW=function(e,t){var n=EW(e,t);return n.flags|=4,dv(e,t,n,n),n},dFe=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||s_(e)&&n.styles.isTransparent()},hFe=function(e){return e.isPositioned()||e.isFloating()},MW=function(e){return e.nodeType===Node.TEXT_NODE},bf=function(e){return e.nodeType===Node.ELEMENT_NODE},g3=function(e){return bf(e)&&typeof e.style<"u"&&!hv(e)},hv=function(e){return typeof e.className=="object"},fFe=function(e){return e.tagName==="LI"},mFe=function(e){return e.tagName==="OL"},pFe=function(e){return e.tagName==="INPUT"},AFe=function(e){return e.tagName==="HTML"},DW=function(e){return e.tagName==="svg"},s_=function(e){return e.tagName==="BODY"},IW=function(e){return e.tagName==="CANVAS"},QD=function(e){return e.tagName==="VIDEO"},x3=function(e){return e.tagName==="IMG"},OW=function(e){return e.tagName==="IFRAME"},zD=function(e){return e.tagName==="STYLE"},gFe=function(e){return e.tagName==="SCRIPT"},aw=function(e){return e.tagName==="TEXTAREA"},ow=function(e){return e.tagName==="SELECT"},LW=function(e){return e.tagName==="SLOT"},VD=function(e){return e.tagName.indexOf("-")>0},xFe=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var n=this.counters[t];return n&&n.length?n[n.length-1]:1},e.prototype.getCounterValues=function(t){var n=this.counters[t];return n||[]},e.prototype.pop=function(t){var n=this;t.forEach(function(s){return n.counters[s].pop()})},e.prototype.parse=function(t){var n=this,s=t.counterIncrement,i=t.counterReset,a=!0;s!==null&&s.forEach(function(c){var l=n.counters[c.counter];l&&c.increment!==0&&(a=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=c.increment)});var o=[];return a&&i.forEach(function(c){var l=n.counters[c.counter];o.push(c.counter),l||(l=n.counters[c.counter]=[]),l.push(c.reset)}),o},e}(),KD={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},GD={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},bFe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},vFe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},qh=function(e,t,n,s,i,a){return e<t||e>n?$g(e,i,a.length>0):s.integers.reduce(function(o,c,l){for(;e>=c;)e-=c,o+=s.values[l];return o},"")+a},FW=function(e,t,n,s){var i="";do n||e--,i=s(e)+i,e/=t;while(e*t>=t);return i},is=function(e,t,n,s,i){var a=n-t+1;return(e<0?"-":"")+(FW(Math.abs(e),a,s,function(o){return as(Math.floor(o%a)+t)})+i)},ud=function(e,t,n){n===void 0&&(n=". ");var s=t.length;return FW(Math.abs(e),s,!1,function(i){return t[Math.floor(i%s)]})+n},rf=1,Dc=2,Ic=4,uA=8,_l=function(e,t,n,s,i,a){if(e<-9999||e>9999)return $g(e,4,i.length>0);var o=Math.abs(e),c=i;if(o===0)return t[0]+c;for(var l=0;o>0&&l<=4;l++){var u=o%10;u===0&&Ns(a,rf)&&c!==""?c=t[u]+c:u>1||u===1&&l===0||u===1&&l===1&&Ns(a,Dc)||u===1&&l===1&&Ns(a,Ic)&&e>100||u===1&&l>1&&Ns(a,uA)?c=t[u]+(l>0?n[l-1]:"")+c:u===1&&l>0&&(c=n[l-1]+c),o=Math.floor(o/10)}return(e<0?s:"")+c},WD="十百千萬",qD="拾佰仟萬",XD="マイナス",UC="마이너스",$g=function(e,t,n){var s=n?". ":"",i=n?"、":"",a=n?", ":"",o=n?" ":"";switch(t){case 0:return"•"+o;case 1:return"◦"+o;case 2:return"◾"+o;case 5:var c=is(e,48,57,!0,s);return c.length<4?"0"+c:c;case 4:return ud(e,"〇一二三四五六七八九",i);case 6:return qh(e,1,3999,KD,3,s).toLowerCase();case 7:return qh(e,1,3999,KD,3,s);case 8:return is(e,945,969,!1,s);case 9:return is(e,97,122,!1,s);case 10:return is(e,65,90,!1,s);case 11:return is(e,1632,1641,!0,s);case 12:case 49:return qh(e,1,9999,GD,3,s);case 35:return qh(e,1,9999,GD,3,s).toLowerCase();case 13:return is(e,2534,2543,!0,s);case 14:case 30:return is(e,6112,6121,!0,s);case 15:return ud(e,"子丑寅卯辰巳午未申酉戌亥",i);case 16:return ud(e,"甲乙丙丁戊己庚辛壬癸",i);case 17:case 48:return _l(e,"零一二三四五六七八九",WD,"負",i,Dc|Ic|uA);case 47:return _l(e,"零壹貳參肆伍陸柒捌玖",qD,"負",i,rf|Dc|Ic|uA);case 42:return _l(e,"零一二三四五六七八九",WD,"负",i,Dc|Ic|uA);case 41:return _l(e,"零壹贰叁肆伍陆柒捌玖",qD,"负",i,rf|Dc|Ic|uA);case 26:return _l(e,"〇一二三四五六七八九","十百千万",XD,i,0);case 25:return _l(e,"零壱弐参四伍六七八九","拾百千万",XD,i,rf|Dc|Ic);case 31:return _l(e,"영일이삼사오육칠팔구","십백천만",UC,a,rf|Dc|Ic);case 33:return _l(e,"零一二三四五六七八九","十百千萬",UC,a,0);case 32:return _l(e,"零壹貳參四五六七八九","拾百千",UC,a,rf|Dc|Ic);case 18:return is(e,2406,2415,!0,s);case 20:return qh(e,1,19999,vFe,3,s);case 21:return is(e,2790,2799,!0,s);case 22:return is(e,2662,2671,!0,s);case 22:return qh(e,1,10999,bFe,3,s);case 23:return ud(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return ud(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return is(e,3302,3311,!0,s);case 28:return ud(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case 29:return ud(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case 34:return is(e,3792,3801,!0,s);case 37:return is(e,6160,6169,!0,s);case 38:return is(e,4160,4169,!0,s);case 39:return is(e,2918,2927,!0,s);case 40:return is(e,1776,1785,!0,s);case 43:return is(e,3046,3055,!0,s);case 44:return is(e,3174,3183,!0,s);case 45:return is(e,3664,3673,!0,s);case 46:return is(e,3872,3881,!0,s);case 3:default:return is(e,48,57,!0,s)}},RW="data-html2canvas-ignore",YD=function(){function e(t,n,s){if(this.context=t,this.options=s,this.scrolledElements=[],this.referenceElement=n,this.counters=new xFe,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,n){var s=this,i=yFe(t,n);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var a=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,c=i.contentWindow,l=c.document,u=CFe(i).then(function(){return xi(s,void 0,void 0,function(){var d,f;return ni(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(kFe),c&&(c.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(c.scrollY!==n.top||c.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(c.scrollX-n.left,c.scrollY-n.top,0,0))),d=this.options.onclone,f=this.clonedReferenceElement,typeof f>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,jFe(l)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(l,f)}).then(function(){return i})]:[2,i]}})})});return l.open(),l.write(SFe(document.doctype)+"<html></html>"),TFe(this.referenceElement.ownerDocument,a,o),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),u},e.prototype.createElementClone=function(t){if(m3(t,2))debugger;if(IW(t))return this.createCanvasClone(t);if(QD(t))return this.createVideoClone(t);if(zD(t))return this.createStyleClone(t);var n=t.cloneNode(!1);return x3(n)&&(x3(t)&&t.currentSrc&&t.currentSrc!==t.src&&(n.src=t.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),VD(n)?this.createCustomElementClone(n):n},e.prototype.createCustomElementClone=function(t){var n=document.createElement("html2canvascustomelement");return HC(t.style,n),n},e.prototype.createStyleClone=function(t){try{var n=t.sheet;if(n&&n.cssRules){var s=[].slice.call(n.cssRules,0).reduce(function(a,o){return o&&typeof o.cssText=="string"?a+o.cssText:a},""),i=t.cloneNode(!1);return i.textContent=s,i}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var n;if(this.options.inlineImages&&t.ownerDocument){var s=t.ownerDocument.createElement("img");try{return s.src=t.toDataURL(),s}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var i=t.cloneNode(!1);try{i.width=t.width,i.height=t.height;var a=t.getContext("2d"),o=i.getContext("2d");if(o)if(!this.options.allowTaint&&a)o.putImageData(a.getImageData(0,0,t.width,t.height),0,0);else{var c=(n=t.getContext("webgl2"))!==null&&n!==void 0?n:t.getContext("webgl");if(c){var l=c.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return i},e.prototype.createVideoClone=function(t){var n=t.ownerDocument.createElement("canvas");n.width=t.offsetWidth,n.height=t.offsetHeight;var s=n.getContext("2d");try{return s&&(s.drawImage(t,0,0,n.width,n.height),this.options.allowTaint||s.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var i=t.ownerDocument.createElement("canvas");return i.width=t.offsetWidth,i.height=t.offsetHeight,i},e.prototype.appendChildNode=function(t,n,s){(!bf(n)||!gFe(n)&&!n.hasAttribute(RW)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!bf(n)||!zD(n))&&t.appendChild(this.cloneNode(n,s))},e.prototype.cloneChildNodes=function(t,n,s){for(var i=this,a=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;a;a=a.nextSibling)if(bf(a)&&LW(a)&&typeof a.assignedNodes=="function"){var o=a.assignedNodes();o.length&&o.forEach(function(c){return i.appendChildNode(n,c,s)})}else this.appendChildNode(n,a,s)},e.prototype.cloneNode=function(t,n){if(MW(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var s=t.ownerDocument.defaultView;if(s&&bf(t)&&(g3(t)||hv(t))){var i=this.createElementClone(t);i.style.transitionProperty="none";var a=s.getComputedStyle(t),o=s.getComputedStyle(t,":before"),c=s.getComputedStyle(t,":after");this.referenceElement===t&&g3(i)&&(this.clonedReferenceElement=i),s_(i)&&EFe(i);var l=this.counters.parse(new kD(this.context,a)),u=this.resolvePseudoContent(t,i,o,FA.BEFORE);VD(t)&&(n=!0),QD(t)||this.cloneChildNodes(t,i,n),u&&i.insertBefore(u,i.firstChild);var d=this.resolvePseudoContent(t,i,c,FA.AFTER);return d&&i.appendChild(d),this.counters.pop(l),(a&&(this.options.copyStyles||hv(t))&&!OW(t)||n)&&HC(a,i),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([i,t.scrollLeft,t.scrollTop]),(aw(t)||ow(t))&&(aw(i)||ow(i))&&(i.value=t.value),i}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,n,s,i){var a=this;if(s){var o=s.content,c=n.ownerDocument;if(!(!c||!o||o==="none"||o==="-moz-alt-content"||s.display==="none")){this.counters.parse(new kD(this.context,s));var l=new fLe(this.context,s),u=c.createElement("html2canvaspseudoelement");HC(s,u),l.content.forEach(function(f){if(f.type===0)u.appendChild(c.createTextNode(f.value));else if(f.type===22){var h=c.createElement("img");h.src=f.value,h.style.opacity="1",u.appendChild(h)}else if(f.type===18){if(f.name==="attr"){var m=f.values.filter(fr);m.length&&u.appendChild(c.createTextNode(t.getAttribute(m[0].value)||""))}else if(f.name==="counter"){var A=f.values.filter(vm),g=A[0],p=A[1];if(g&&fr(g)){var b=a.counters.getCounterValue(g.value),x=p&&fr(p)?f3.parse(a.context,p.value):3;u.appendChild(c.createTextNode($g(b,x,!1)))}}else if(f.name==="counters"){var v=f.values.filter(vm),g=v[0],y=v[1],p=v[2];if(g&&fr(g)){var N=a.counters.getCounterValues(g.value),P=p&&fr(p)?f3.parse(a.context,p.value):3,M=y&&y.type===0?y.value:"",k=N.map(function(L){return $g(L,P,!1)}).join(M);u.appendChild(c.createTextNode(k))}}}else if(f.type===20)switch(f.value){case"open-quote":u.appendChild(c.createTextNode(TD(l.quotes,a.quoteDepth++,!0)));break;case"close-quote":u.appendChild(c.createTextNode(TD(l.quotes,--a.quoteDepth,!1)));break;default:u.appendChild(c.createTextNode(f.value))}}),u.className=b3+" "+v3;var d=i===FA.BEFORE?" "+b3:" "+v3;return hv(n)?n.className.baseValue+=d:n.className+=d,u}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),FA;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(FA||(FA={}));var yFe=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(RW,"true"),e.body.appendChild(n),n},wFe=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},jFe=function(e){return Promise.all([].slice.call(e.images,0).map(wFe))},CFe=function(e){return new Promise(function(t,n){var s=e.contentWindow;if(!s)return n("No window assigned for iframe");var i=s.document;s.onload=e.onload=function(){s.onload=e.onload=null;var a=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(a),t(e))},50)}})},NFe=["all","d","content"],HC=function(e,t){for(var n=e.length-1;n>=0;n--){var s=e.item(n);NFe.indexOf(s)===-1&&t.style.setProperty(s,e.getPropertyValue(s))}return t},SFe=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},TFe=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},kFe=function(e){var t=e[0],n=e[1],s=e[2];t.scrollLeft=n,t.scrollTop=s},_Fe=":before",BFe=":after",b3="___html2canvas___pseudoelement_before",v3="___html2canvas___pseudoelement_after",ZD=`{
    content: "" !important;
    display: none !important;
}`,EFe=function(e){PFe(e,"."+b3+_Fe+ZD+`
         .`+v3+BFe+ZD)},PFe=function(e,t){var n=e.ownerDocument;if(n){var s=n.createElement("style");s.textContent=t,e.appendChild(s)}},UW=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),MFe=function(){function e(t,n){this.context=t,this._options=n,this._cache={}}return e.prototype.addImage=function(t){var n=Promise.resolve();return this.has(t)||(QC(t)||LFe(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),n},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return xi(this,void 0,void 0,function(){var n,s,i,a,o=this;return ni(this,function(c){switch(c.label){case 0:return n=UW.isSameOrigin(t),s=!$C(t)&&this._options.useCORS===!0&&Qs.SUPPORT_CORS_IMAGES&&!n,i=!$C(t)&&!n&&!QC(t)&&typeof this._options.proxy=="string"&&Qs.SUPPORT_CORS_XHR&&!s,!n&&this._options.allowTaint===!1&&!$C(t)&&!QC(t)&&!i&&!s?[2]:(a=t,i?[4,this.proxy(a)]:[3,2]);case 1:a=c.sent(),c.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(l,u){var d=new Image;d.onload=function(){return l(d)},d.onerror=u,(FFe(a)||s)&&(d.crossOrigin="anonymous"),d.src=a,d.complete===!0&&setTimeout(function(){return l(d)},500),o._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,c.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var n=this,s=this._options.proxy;if(!s)throw new Error("No proxy defined");var i=t.substring(0,256);return new Promise(function(a,o){var c=Qs.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(c==="text")a(l.response);else{var f=new FileReader;f.addEventListener("load",function(){return a(f.result)},!1),f.addEventListener("error",function(h){return o(h)},!1),f.readAsDataURL(l.response)}else o("Failed to proxy resource "+i+" with status code "+l.status)},l.onerror=o;var u=s.indexOf("?")>-1?"&":"?";if(l.open("GET",""+s+u+"url="+encodeURIComponent(t)+"&responseType="+c),c!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=c),n._options.imageTimeout){var d=n._options.imageTimeout;l.timeout=d,l.ontimeout=function(){return o("Timed out ("+d+"ms) proxying "+i)}}l.send()})},e}(),DFe=/^data:image\/svg\+xml/i,IFe=/^data:image\/.*;base64,/i,OFe=/^data:image\/.*/i,LFe=function(e){return Qs.SUPPORT_SVG_DRAWING||!RFe(e)},$C=function(e){return OFe.test(e)},FFe=function(e){return IFe.test(e)},QC=function(e){return e.substr(0,4)==="blob"},RFe=function(e){return e.substr(-3).toLowerCase()==="svg"||DFe.test(e)},St=function(){function e(t,n){this.type=0,this.x=t,this.y=n}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),Xh=function(e,t,n){return new St(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},gb=function(){function e(t,n,s,i){this.type=1,this.start=t,this.startControl=n,this.endControl=s,this.end=i}return e.prototype.subdivide=function(t,n){var s=Xh(this.start,this.startControl,t),i=Xh(this.startControl,this.endControl,t),a=Xh(this.endControl,this.end,t),o=Xh(s,i,t),c=Xh(i,a,t),l=Xh(o,c,t);return n?new e(this.start,s,o,l):new e(l,c,a,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Da=function(e){return e.type===1},UFe=function(){function e(t){var n=t.styles,s=t.bounds,i=lA(n.borderTopLeftRadius,s.width,s.height),a=i[0],o=i[1],c=lA(n.borderTopRightRadius,s.width,s.height),l=c[0],u=c[1],d=lA(n.borderBottomRightRadius,s.width,s.height),f=d[0],h=d[1],m=lA(n.borderBottomLeftRadius,s.width,s.height),A=m[0],g=m[1],p=[];p.push((a+l)/s.width),p.push((A+f)/s.width),p.push((o+g)/s.height),p.push((u+h)/s.height);var b=Math.max.apply(Math,p);b>1&&(a/=b,o/=b,l/=b,u/=b,f/=b,h/=b,A/=b,g/=b);var x=s.width-l,v=s.height-h,y=s.width-f,N=s.height-g,P=n.borderTopWidth,M=n.borderRightWidth,k=n.borderBottomWidth,D=n.borderLeftWidth,O=br(n.paddingTop,t.bounds.width),L=br(n.paddingRight,t.bounds.width),F=br(n.paddingBottom,t.bounds.width),_=br(n.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||o>0?Mr(s.left+D/3,s.top+P/3,a-D/3,o-P/3,sr.TOP_LEFT):new St(s.left+D/3,s.top+P/3),this.topRightBorderDoubleOuterBox=a>0||o>0?Mr(s.left+x,s.top+P/3,l-M/3,u-P/3,sr.TOP_RIGHT):new St(s.left+s.width-M/3,s.top+P/3),this.bottomRightBorderDoubleOuterBox=f>0||h>0?Mr(s.left+y,s.top+v,f-M/3,h-k/3,sr.BOTTOM_RIGHT):new St(s.left+s.width-M/3,s.top+s.height-k/3),this.bottomLeftBorderDoubleOuterBox=A>0||g>0?Mr(s.left+D/3,s.top+N,A-D/3,g-k/3,sr.BOTTOM_LEFT):new St(s.left+D/3,s.top+s.height-k/3),this.topLeftBorderDoubleInnerBox=a>0||o>0?Mr(s.left+D*2/3,s.top+P*2/3,a-D*2/3,o-P*2/3,sr.TOP_LEFT):new St(s.left+D*2/3,s.top+P*2/3),this.topRightBorderDoubleInnerBox=a>0||o>0?Mr(s.left+x,s.top+P*2/3,l-M*2/3,u-P*2/3,sr.TOP_RIGHT):new St(s.left+s.width-M*2/3,s.top+P*2/3),this.bottomRightBorderDoubleInnerBox=f>0||h>0?Mr(s.left+y,s.top+v,f-M*2/3,h-k*2/3,sr.BOTTOM_RIGHT):new St(s.left+s.width-M*2/3,s.top+s.height-k*2/3),this.bottomLeftBorderDoubleInnerBox=A>0||g>0?Mr(s.left+D*2/3,s.top+N,A-D*2/3,g-k*2/3,sr.BOTTOM_LEFT):new St(s.left+D*2/3,s.top+s.height-k*2/3),this.topLeftBorderStroke=a>0||o>0?Mr(s.left+D/2,s.top+P/2,a-D/2,o-P/2,sr.TOP_LEFT):new St(s.left+D/2,s.top+P/2),this.topRightBorderStroke=a>0||o>0?Mr(s.left+x,s.top+P/2,l-M/2,u-P/2,sr.TOP_RIGHT):new St(s.left+s.width-M/2,s.top+P/2),this.bottomRightBorderStroke=f>0||h>0?Mr(s.left+y,s.top+v,f-M/2,h-k/2,sr.BOTTOM_RIGHT):new St(s.left+s.width-M/2,s.top+s.height-k/2),this.bottomLeftBorderStroke=A>0||g>0?Mr(s.left+D/2,s.top+N,A-D/2,g-k/2,sr.BOTTOM_LEFT):new St(s.left+D/2,s.top+s.height-k/2),this.topLeftBorderBox=a>0||o>0?Mr(s.left,s.top,a,o,sr.TOP_LEFT):new St(s.left,s.top),this.topRightBorderBox=l>0||u>0?Mr(s.left+x,s.top,l,u,sr.TOP_RIGHT):new St(s.left+s.width,s.top),this.bottomRightBorderBox=f>0||h>0?Mr(s.left+y,s.top+v,f,h,sr.BOTTOM_RIGHT):new St(s.left+s.width,s.top+s.height),this.bottomLeftBorderBox=A>0||g>0?Mr(s.left,s.top+N,A,g,sr.BOTTOM_LEFT):new St(s.left,s.top+s.height),this.topLeftPaddingBox=a>0||o>0?Mr(s.left+D,s.top+P,Math.max(0,a-D),Math.max(0,o-P),sr.TOP_LEFT):new St(s.left+D,s.top+P),this.topRightPaddingBox=l>0||u>0?Mr(s.left+Math.min(x,s.width-M),s.top+P,x>s.width+M?0:Math.max(0,l-M),Math.max(0,u-P),sr.TOP_RIGHT):new St(s.left+s.width-M,s.top+P),this.bottomRightPaddingBox=f>0||h>0?Mr(s.left+Math.min(y,s.width-D),s.top+Math.min(v,s.height-k),Math.max(0,f-M),Math.max(0,h-k),sr.BOTTOM_RIGHT):new St(s.left+s.width-M,s.top+s.height-k),this.bottomLeftPaddingBox=A>0||g>0?Mr(s.left+D,s.top+Math.min(N,s.height-k),Math.max(0,A-D),Math.max(0,g-k),sr.BOTTOM_LEFT):new St(s.left+D,s.top+s.height-k),this.topLeftContentBox=a>0||o>0?Mr(s.left+D+_,s.top+P+O,Math.max(0,a-(D+_)),Math.max(0,o-(P+O)),sr.TOP_LEFT):new St(s.left+D+_,s.top+P+O),this.topRightContentBox=l>0||u>0?Mr(s.left+Math.min(x,s.width+D+_),s.top+P+O,x>s.width+D+_?0:l-D+_,u-(P+O),sr.TOP_RIGHT):new St(s.left+s.width-(M+L),s.top+P+O),this.bottomRightContentBox=f>0||h>0?Mr(s.left+Math.min(y,s.width-(D+_)),s.top+Math.min(v,s.height+P+O),Math.max(0,f-(M+L)),h-(k+F),sr.BOTTOM_RIGHT):new St(s.left+s.width-(M+L),s.top+s.height-(k+F)),this.bottomLeftContentBox=A>0||g>0?Mr(s.left+D+_,s.top+N,Math.max(0,A-(D+_)),g-(k+F),sr.BOTTOM_LEFT):new St(s.left+D+_,s.top+s.height-(k+F))}return e}(),sr;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(sr||(sr={}));var Mr=function(e,t,n,s,i){var a=4*((Math.sqrt(2)-1)/3),o=n*a,c=s*a,l=e+n,u=t+s;switch(i){case sr.TOP_LEFT:return new gb(new St(e,u),new St(e,u-c),new St(l-o,t),new St(l,t));case sr.TOP_RIGHT:return new gb(new St(e,t),new St(e+o,t),new St(l,u-c),new St(l,u));case sr.BOTTOM_RIGHT:return new gb(new St(l,t),new St(l,t+c),new St(e+o,u),new St(e,u));case sr.BOTTOM_LEFT:default:return new gb(new St(l,u),new St(l-o,u),new St(e,t+c),new St(e,t))}},lw=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},HFe=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},cw=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},$Fe=function(){function e(t,n,s){this.offsetX=t,this.offsetY=n,this.matrix=s,this.type=0,this.target=6}return e}(),xb=function(){function e(t,n){this.path=t,this.target=n,this.type=1}return e}(),QFe=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),zFe=function(e){return e.type===0},HW=function(e){return e.type===1},VFe=function(e){return e.type===2},JD=function(e,t){return e.length===t.length?e.some(function(n,s){return n===t[s]}):!1},KFe=function(e,t,n,s,i){return e.map(function(a,o){switch(o){case 0:return a.add(t,n);case 1:return a.add(t+s,n);case 2:return a.add(t+s,n+i);case 3:return a.add(t,n+i)}return a})},$W=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),QW=function(){function e(t,n){if(this.container=t,this.parent=n,this.effects=[],this.curves=new UFe(this.container),this.container.styles.opacity<1&&this.effects.push(new QFe(this.container.styles.opacity)),this.container.styles.transform!==null){var s=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new $Fe(s,i,a))}if(this.container.styles.overflowX!==0){var o=lw(this.curves),c=cw(this.curves);JD(o,c)?this.effects.push(new xb(o,6)):(this.effects.push(new xb(o,2)),this.effects.push(new xb(c,4)))}}return e.prototype.getEffects=function(t){for(var n=[2,3].indexOf(this.container.styles.position)===-1,s=this.parent,i=this.effects.slice(0);s;){var a=s.effects.filter(function(l){return!HW(l)});if(n||s.container.styles.position!==0||!s.parent){if(i.unshift.apply(i,a),n=[2,3].indexOf(s.container.styles.position)===-1,s.container.styles.overflowX!==0){var o=lw(s.curves),c=cw(s.curves);JD(o,c)||i.unshift(new xb(c,6))}}else i.unshift.apply(i,a);s=s.parent}return i.filter(function(l){return Ns(l.target,t)})},e}(),y3=function(e,t,n,s){e.container.elements.forEach(function(i){var a=Ns(i.flags,4),o=Ns(i.flags,2),c=new QW(i,e);Ns(i.styles.display,2048)&&s.push(c);var l=Ns(i.flags,8)?[]:s;if(a||o){var u=a||i.styles.isPositioned()?n:t,d=new $W(c);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var f=i.styles.zIndex.order;if(f<0){var h=0;u.negativeZIndex.some(function(A,g){return f>A.element.container.styles.zIndex.order?(h=g,!1):h>0}),u.negativeZIndex.splice(h,0,d)}else if(f>0){var m=0;u.positiveZIndex.some(function(A,g){return f>=A.element.container.styles.zIndex.order?(m=g+1,!1):m>0}),u.positiveZIndex.splice(m,0,d)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else i.styles.isFloating()?u.nonPositionedFloats.push(d):u.nonPositionedInlineLevel.push(d);y3(c,d,a?d:n,l)}else i.styles.isInlineLevel()?t.inlineLevel.push(c):t.nonInlineLevel.push(c),y3(c,t,n,l);Ns(i.flags,8)&&zW(i,l)})},zW=function(e,t){for(var n=e instanceof A3?e.start:1,s=e instanceof A3?e.reversed:!1,i=0;i<t.length;i++){var a=t[i];a.container instanceof TW&&typeof a.container.value=="number"&&a.container.value!==0&&(n=a.container.value),a.listValue=$g(n,a.container.styles.listStyleType,!0),n+=s?-1:1}},GFe=function(e){var t=new QW(e,null),n=new $W(t),s=[];return y3(t,n,n,s),zW(t.container,s),n},eI=function(e,t){switch(t){case 0:return Fa(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Fa(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Fa(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Fa(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},WFe=function(e,t){switch(t){case 0:return Fa(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Fa(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Fa(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return Fa(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},qFe=function(e,t){switch(t){case 0:return Fa(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Fa(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Fa(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return Fa(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},XFe=function(e,t){switch(t){case 0:return bb(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return bb(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return bb(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return bb(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},bb=function(e,t){var n=[];return Da(e)?n.push(e.subdivide(.5,!1)):n.push(e),Da(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},Fa=function(e,t,n,s){var i=[];return Da(e)?i.push(e.subdivide(.5,!1)):i.push(e),Da(n)?i.push(n.subdivide(.5,!0)):i.push(n),Da(s)?i.push(s.subdivide(.5,!0).reverse()):i.push(s),Da(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},VW=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},uw=function(e){var t=e.styles,n=e.bounds,s=br(t.paddingLeft,n.width),i=br(t.paddingRight,n.width),a=br(t.paddingTop,n.width),o=br(t.paddingBottom,n.width);return n.add(s+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+s+i),-(t.borderTopWidth+t.borderBottomWidth+a+o))},YFe=function(e,t){return e===0?t.bounds:e===2?uw(t):VW(t)},ZFe=function(e,t){return e===0?t.bounds:e===2?uw(t):VW(t)},zC=function(e,t,n){var s=YFe(sf(e.styles.backgroundOrigin,t),e),i=ZFe(sf(e.styles.backgroundClip,t),e),a=JFe(sf(e.styles.backgroundSize,t),n,s),o=a[0],c=a[1],l=lA(sf(e.styles.backgroundPosition,t),s.width-o,s.height-c),u=e9e(sf(e.styles.backgroundRepeat,t),l,a,s,i),d=Math.round(s.left+l[0]),f=Math.round(s.top+l[1]);return[u,d,f,o,c]},Yh=function(e){return fr(e)&&e.value===Lf.AUTO},vb=function(e){return typeof e=="number"},JFe=function(e,t,n){var s=t[0],i=t[1],a=t[2],o=e[0],c=e[1];if(!o)return[0,0];if(bs(o)&&c&&bs(c))return[br(o,n.width),br(c,n.height)];var l=vb(a);if(fr(o)&&(o.value===Lf.CONTAIN||o.value===Lf.COVER)){if(vb(a)){var u=n.width/n.height;return u<a!=(o.value===Lf.COVER)?[n.width,n.width/a]:[n.height*a,n.height]}return[n.width,n.height]}var d=vb(s),f=vb(i),h=d||f;if(Yh(o)&&(!c||Yh(c))){if(d&&f)return[s,i];if(!l&&!h)return[n.width,n.height];if(h&&l){var m=d?s:i*a,A=f?i:s/a;return[m,A]}var g=d?s:n.width,p=f?i:n.height;return[g,p]}if(l){var b=0,x=0;return bs(o)?b=br(o,n.width):bs(c)&&(x=br(c,n.height)),Yh(o)?b=x*a:(!c||Yh(c))&&(x=b/a),[b,x]}var v=null,y=null;if(bs(o)?v=br(o,n.width):c&&bs(c)&&(y=br(c,n.height)),v!==null&&(!c||Yh(c))&&(y=d&&f?v/s*i:n.height),y!==null&&Yh(o)&&(v=d&&f?y/i*s:n.width),v!==null&&y!==null)return[v,y];throw new Error("Unable to calculate background-size for element")},sf=function(e,t){var n=e[t];return typeof n>"u"?e[0]:n},e9e=function(e,t,n,s,i){var a=t[0],o=t[1],c=n[0],l=n[1];switch(e){case 2:return[new St(Math.round(s.left),Math.round(s.top+o)),new St(Math.round(s.left+s.width),Math.round(s.top+o)),new St(Math.round(s.left+s.width),Math.round(l+s.top+o)),new St(Math.round(s.left),Math.round(l+s.top+o))];case 3:return[new St(Math.round(s.left+a),Math.round(s.top)),new St(Math.round(s.left+a+c),Math.round(s.top)),new St(Math.round(s.left+a+c),Math.round(s.height+s.top)),new St(Math.round(s.left+a),Math.round(s.height+s.top))];case 1:return[new St(Math.round(s.left+a),Math.round(s.top+o)),new St(Math.round(s.left+a+c),Math.round(s.top+o)),new St(Math.round(s.left+a+c),Math.round(s.top+o+l)),new St(Math.round(s.left+a),Math.round(s.top+o+l))];default:return[new St(Math.round(i.left),Math.round(i.top)),new St(Math.round(i.left+i.width),Math.round(i.top)),new St(Math.round(i.left+i.width),Math.round(i.height+i.top)),new St(Math.round(i.left),Math.round(i.height+i.top))]}},t9e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",tI="Hidden Text",n9e=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,n){var s=this._document.createElement("div"),i=this._document.createElement("img"),a=this._document.createElement("span"),o=this._document.body;s.style.visibility="hidden",s.style.fontFamily=t,s.style.fontSize=n,s.style.margin="0",s.style.padding="0",s.style.whiteSpace="nowrap",o.appendChild(s),i.src=t9e,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",a.style.fontFamily=t,a.style.fontSize=n,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(tI)),s.appendChild(a),s.appendChild(i);var c=i.offsetTop-a.offsetTop+2;s.removeChild(a),s.appendChild(this._document.createTextNode(tI)),s.style.lineHeight="normal",i.style.verticalAlign="super";var l=i.offsetTop-s.offsetTop+2;return o.removeChild(s),{baseline:c,middle:l}},e.prototype.getMetrics=function(t,n){var s=t+" "+n;return typeof this._data[s]>"u"&&(this._data[s]=this.parseMetrics(t,n)),this._data[s]},e}(),KW=function(){function e(t,n){this.context=t,this.options=n}return e}(),r9e=1e4,s9e=function(e){ko(t,e);function t(n,s){var i=e.call(this,n,s)||this;return i._activeEffects=[],i.canvas=s.canvas?s.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),s.canvas||(i.canvas.width=Math.floor(s.width*s.scale),i.canvas.height=Math.floor(s.height*s.scale),i.canvas.style.width=s.width+"px",i.canvas.style.height=s.height+"px"),i.fontMetrics=new n9e(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-s.x,-s.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+s.width+"x"+s.height+") with scale "+s.scale),i}return t.prototype.applyEffects=function(n){for(var s=this;this._activeEffects.length;)this.popEffect();n.forEach(function(i){return s.applyEffect(i)})},t.prototype.applyEffect=function(n){this.ctx.save(),VFe(n)&&(this.ctx.globalAlpha=n.opacity),zFe(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),HW(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(n){return xi(this,void 0,void 0,function(){var s;return ni(this,function(i){switch(i.label){case 0:return s=n.element.container.styles,s.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(n){return xi(this,void 0,void 0,function(){return ni(this,function(s){switch(s.label){case 0:if(Ns(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return s.sent(),[4,this.renderNodeContent(n)];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(n,s,i){var a=this;if(s===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+i);else{var o=n_(n.text);o.reduce(function(c,l){return a.ctx.fillText(l,c,n.bounds.top+i),c+a.ctx.measureText(l).width},n.bounds.left)}},t.prototype.createFontStyle=function(n){var s=n.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),i=c9e(n.fontFamily).join(", "),a=F0(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,s,n.fontWeight,a,i].join(" "),i,a]},t.prototype.renderTextNode=function(n,s){return xi(this,void 0,void 0,function(){var i,a,o,c,l,u,d,f,h=this;return ni(this,function(m){return i=this.createFontStyle(s),a=i[0],o=i[1],c=i[2],this.ctx.font=a,this.ctx.direction=s.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(o,c),u=l.baseline,d=l.middle,f=s.paintOrder,n.textBounds.forEach(function(A){f.forEach(function(g){switch(g){case 0:h.ctx.fillStyle=Ms(s.color),h.renderTextWithLetterSpacing(A,s.letterSpacing,u);var p=s.textShadow;p.length&&A.text.trim().length&&(p.slice(0).reverse().forEach(function(b){h.ctx.shadowColor=Ms(b.color),h.ctx.shadowOffsetX=b.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=b.offsetY.number*h.options.scale,h.ctx.shadowBlur=b.blur.number,h.renderTextWithLetterSpacing(A,s.letterSpacing,u)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),s.textDecorationLine.length&&(h.ctx.fillStyle=Ms(s.textDecorationColor||s.color),s.textDecorationLine.forEach(function(b){switch(b){case 1:h.ctx.fillRect(A.bounds.left,Math.round(A.bounds.top+u),A.bounds.width,1);break;case 2:h.ctx.fillRect(A.bounds.left,Math.round(A.bounds.top),A.bounds.width,1);break;case 3:h.ctx.fillRect(A.bounds.left,Math.ceil(A.bounds.top+d),A.bounds.width,1);break}}));break;case 1:s.webkitTextStrokeWidth&&A.text.trim().length&&(h.ctx.strokeStyle=Ms(s.webkitTextStrokeColor),h.ctx.lineWidth=s.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(A.text,A.bounds.left,A.bounds.top+u)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(n,s,i){if(i&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var a=uw(n),o=cw(s);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,n.intrinsicWidth,n.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(n){return xi(this,void 0,void 0,function(){var s,i,a,o,c,l,x,x,u,d,f,h,y,m,A,N,g,p,b,x,v,y,N;return ni(this,function(P){switch(P.label){case 0:this.applyEffects(n.getEffects(4)),s=n.container,i=n.curves,a=s.styles,o=0,c=s.textNodes,P.label=1;case 1:return o<c.length?(l=c[o],[4,this.renderTextNode(l,a)]):[3,4];case 2:P.sent(),P.label=3;case 3:return o++,[3,1];case 4:if(!(s instanceof CW))return[3,8];P.label=5;case 5:return P.trys.push([5,7,,8]),[4,this.context.cache.match(s.src)];case 6:return x=P.sent(),this.renderReplacedElement(s,i,x),[3,8];case 7:return P.sent(),this.context.logger.error("Error loading image "+s.src),[3,8];case 8:if(s instanceof NW&&this.renderReplacedElement(s,i,s.canvas),!(s instanceof SW))return[3,12];P.label=9;case 9:return P.trys.push([9,11,,12]),[4,this.context.cache.match(s.svg)];case 10:return x=P.sent(),this.renderReplacedElement(s,i,x),[3,12];case 11:return P.sent(),this.context.logger.error("Error loading svg "+s.svg.substring(0,255)),[3,12];case 12:return s instanceof BW&&s.tree?(u=new t(this.context,{scale:this.options.scale,backgroundColor:s.backgroundColor,x:0,y:0,width:s.width,height:s.height}),[4,u.render(s.tree)]):[3,14];case 13:d=P.sent(),s.width&&s.height&&this.ctx.drawImage(d,0,0,s.width,s.height,s.bounds.left,s.bounds.top,s.bounds.width,s.bounds.height),P.label=14;case 14:if(s instanceof r_&&(f=Math.min(s.bounds.width,s.bounds.height),s.type===sw?s.checked&&(this.ctx.save(),this.path([new St(s.bounds.left+f*.39363,s.bounds.top+f*.79),new St(s.bounds.left+f*.16,s.bounds.top+f*.5549),new St(s.bounds.left+f*.27347,s.bounds.top+f*.44071),new St(s.bounds.left+f*.39694,s.bounds.top+f*.5649),new St(s.bounds.left+f*.72983,s.bounds.top+f*.23),new St(s.bounds.left+f*.84,s.bounds.top+f*.34085),new St(s.bounds.left+f*.39363,s.bounds.top+f*.79)]),this.ctx.fillStyle=Ms($D),this.ctx.fill(),this.ctx.restore()):s.type===iw&&s.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(s.bounds.left+f/2,s.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ms($D),this.ctx.fill(),this.ctx.restore())),i9e(s)&&s.value.length){switch(h=this.createFontStyle(a),y=h[0],m=h[1],A=this.fontMetrics.getMetrics(y,m).baseline,this.ctx.font=y,this.ctx.fillStyle=Ms(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=o9e(s.styles.textAlign),N=uw(s),g=0,s.styles.textAlign){case 1:g+=N.width/2;break;case 2:g+=N.width;break}p=N.add(g,0,0,-N.height/2+1),this.ctx.save(),this.path([new St(N.left,N.top),new St(N.left+N.width,N.top),new St(N.left+N.width,N.top+N.height),new St(N.left,N.top+N.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new LA(s.value,p),a.letterSpacing,A),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Ns(s.styles.display,2048))return[3,20];if(s.styles.listStyleImage===null)return[3,19];if(b=s.styles.listStyleImage,b.type!==0)return[3,18];x=void 0,v=b.url,P.label=15;case 15:return P.trys.push([15,17,,18]),[4,this.context.cache.match(v)];case 16:return x=P.sent(),this.ctx.drawImage(x,s.bounds.left-(x.width+10),s.bounds.top),[3,18];case 17:return P.sent(),this.context.logger.error("Error loading list-style-image "+v),[3,18];case 18:return[3,20];case 19:n.listValue&&s.styles.listStyleType!==-1&&(y=this.createFontStyle(a)[0],this.ctx.font=y,this.ctx.fillStyle=Ms(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",N=new fc(s.bounds.left,s.bounds.top+br(s.styles.paddingTop,s.bounds.width),s.bounds.width,ND(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new LA(n.listValue,N),a.letterSpacing,ND(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),P.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(n){return xi(this,void 0,void 0,function(){var s,i,b,a,o,b,c,l,b,u,d,b,f,h,b,m,A,b,g,p,b;return ni(this,function(x){switch(x.label){case 0:if(Ns(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:x.sent(),s=0,i=n.negativeZIndex,x.label=2;case 2:return s<i.length?(b=i[s],[4,this.renderStack(b)]):[3,5];case 3:x.sent(),x.label=4;case 4:return s++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:x.sent(),a=0,o=n.nonInlineLevel,x.label=7;case 7:return a<o.length?(b=o[a],[4,this.renderNode(b)]):[3,10];case 8:x.sent(),x.label=9;case 9:return a++,[3,7];case 10:c=0,l=n.nonPositionedFloats,x.label=11;case 11:return c<l.length?(b=l[c],[4,this.renderStack(b)]):[3,14];case 12:x.sent(),x.label=13;case 13:return c++,[3,11];case 14:u=0,d=n.nonPositionedInlineLevel,x.label=15;case 15:return u<d.length?(b=d[u],[4,this.renderStack(b)]):[3,18];case 16:x.sent(),x.label=17;case 17:return u++,[3,15];case 18:f=0,h=n.inlineLevel,x.label=19;case 19:return f<h.length?(b=h[f],[4,this.renderNode(b)]):[3,22];case 20:x.sent(),x.label=21;case 21:return f++,[3,19];case 22:m=0,A=n.zeroOrAutoZIndexOrTransformedOrOpacity,x.label=23;case 23:return m<A.length?(b=A[m],[4,this.renderStack(b)]):[3,26];case 24:x.sent(),x.label=25;case 25:return m++,[3,23];case 26:g=0,p=n.positiveZIndex,x.label=27;case 27:return g<p.length?(b=p[g],[4,this.renderStack(b)]):[3,30];case 28:x.sent(),x.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},t.prototype.formatPath=function(n){var s=this;n.forEach(function(i,a){var o=Da(i)?i.start:i;a===0?s.ctx.moveTo(o.x,o.y):s.ctx.lineTo(o.x,o.y),Da(i)&&s.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},t.prototype.renderRepeat=function(n,s,i,a){this.path(n),this.ctx.fillStyle=s,this.ctx.translate(i,a),this.ctx.fill(),this.ctx.translate(-i,-a)},t.prototype.resizeImage=function(n,s,i){var a;if(n.width===s&&n.height===i)return n;var o=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,c=o.createElement("canvas");c.width=Math.max(1,s),c.height=Math.max(1,i);var l=c.getContext("2d");return l.drawImage(n,0,0,n.width,n.height,0,0,s,i),c},t.prototype.renderBackgroundImage=function(n){return xi(this,void 0,void 0,function(){var s,i,a,o,c,l;return ni(this,function(u){switch(u.label){case 0:s=n.styles.backgroundImage.length-1,i=function(d){var f,h,m,O,w,C,_,E,k,A,O,w,C,_,E,g,p,b,x,v,y,N,P,M,k,D,O,L,F,_,E,T,w,C,j,S,I,R,U,z,V,X;return ni(this,function($){switch($.label){case 0:if(d.type!==0)return[3,5];f=void 0,h=d.url,$.label=1;case 1:return $.trys.push([1,3,,4]),[4,a.context.cache.match(h)];case 2:return f=$.sent(),[3,4];case 3:return $.sent(),a.context.logger.error("Error loading background-image "+h),[3,4];case 4:return f&&(m=zC(n,s,[f.width,f.height,f.width/f.height]),O=m[0],w=m[1],C=m[2],_=m[3],E=m[4],k=a.ctx.createPattern(a.resizeImage(f,_,E),"repeat"),a.renderRepeat(O,k,w,C)),[3,6];case 5:zOe(d)?(A=zC(n,s,[null,null,null]),O=A[0],w=A[1],C=A[2],_=A[3],E=A[4],g=ROe(d.angle,_,E),p=g[0],b=g[1],x=g[2],v=g[3],y=g[4],N=document.createElement("canvas"),N.width=_,N.height=E,P=N.getContext("2d"),M=P.createLinearGradient(b,v,x,y),jD(d.stops,p).forEach(function(W){return M.addColorStop(W.stop,Ms(W.color))}),P.fillStyle=M,P.fillRect(0,0,_,E),_>0&&E>0&&(k=a.ctx.createPattern(N,"repeat"),a.renderRepeat(O,k,w,C))):VOe(d)&&(D=zC(n,s,[null,null,null]),O=D[0],L=D[1],F=D[2],_=D[3],E=D[4],T=d.position.length===0?[Jk]:d.position,w=br(T[0],_),C=br(T[T.length-1],E),j=UOe(d,w,C,_,E),S=j[0],I=j[1],S>0&&I>0&&(R=a.ctx.createRadialGradient(L+w,F+C,0,L+w,F+C,S),jD(d.stops,S*2).forEach(function(W){return R.addColorStop(W.stop,Ms(W.color))}),a.path(O),a.ctx.fillStyle=R,S!==I?(U=n.bounds.left+.5*n.bounds.width,z=n.bounds.top+.5*n.bounds.height,V=I/S,X=1/V,a.ctx.save(),a.ctx.translate(U,z),a.ctx.transform(1,0,0,V,0,0),a.ctx.translate(-U,-z),a.ctx.fillRect(L,X*(F-z)+z,_,E*X),a.ctx.restore()):a.ctx.fill())),$.label=6;case 6:return s--,[2]}})},a=this,o=0,c=n.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return o<c.length?(l=c[o],[5,i(l)]):[3,4];case 2:u.sent(),u.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(n,s,i){return xi(this,void 0,void 0,function(){return ni(this,function(a){return this.path(eI(i,s)),this.ctx.fillStyle=Ms(n),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(n,s,i,a){return xi(this,void 0,void 0,function(){var o,c;return ni(this,function(l){switch(l.label){case 0:return s<3?[4,this.renderSolidBorder(n,i,a)]:[3,2];case 1:return l.sent(),[2];case 2:return o=WFe(a,i),this.path(o),this.ctx.fillStyle=Ms(n),this.ctx.fill(),c=qFe(a,i),this.path(c),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(n){return xi(this,void 0,void 0,function(){var s,i,a,o,c,l,u,d,f=this;return ni(this,function(h){switch(h.label){case 0:return this.applyEffects(n.getEffects(2)),s=n.container.styles,i=!Cu(s.backgroundColor)||s.backgroundImage.length,a=[{style:s.borderTopStyle,color:s.borderTopColor,width:s.borderTopWidth},{style:s.borderRightStyle,color:s.borderRightColor,width:s.borderRightWidth},{style:s.borderBottomStyle,color:s.borderBottomColor,width:s.borderBottomWidth},{style:s.borderLeftStyle,color:s.borderLeftColor,width:s.borderLeftWidth}],o=a9e(sf(s.backgroundClip,0),n.curves),i||s.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Cu(s.backgroundColor)||(this.ctx.fillStyle=Ms(s.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),s.boxShadow.slice(0).reverse().forEach(function(m){f.ctx.save();var A=lw(n.curves),g=m.inset?0:r9e,p=KFe(A,-g+(m.inset?1:-1)*m.spread.number,(m.inset?1:-1)*m.spread.number,m.spread.number*(m.inset?-2:2),m.spread.number*(m.inset?-2:2));m.inset?(f.path(A),f.ctx.clip(),f.mask(p)):(f.mask(A),f.ctx.clip(),f.path(p)),f.ctx.shadowOffsetX=m.offsetX.number+g,f.ctx.shadowOffsetY=m.offsetY.number,f.ctx.shadowColor=Ms(m.color),f.ctx.shadowBlur=m.blur.number,f.ctx.fillStyle=m.inset?Ms(m.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),h.label=2;case 2:c=0,l=0,u=a,h.label=3;case 3:return l<u.length?(d=u[l],d.style!==0&&!Cu(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,c,n.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,c,n.curves,3)];case 6:return h.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,c,n.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,c,n.curves)];case 10:h.sent(),h.label=11;case 11:c++,h.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(n,s,i,a,o){return xi(this,void 0,void 0,function(){var c,l,u,d,f,h,m,A,g,p,b,x,v,y,N,P,N,P;return ni(this,function(M){return this.ctx.save(),c=XFe(a,i),l=eI(a,i),o===2&&(this.path(l),this.ctx.clip()),Da(l[0])?(u=l[0].start.x,d=l[0].start.y):(u=l[0].x,d=l[0].y),Da(l[1])?(f=l[1].end.x,h=l[1].end.y):(f=l[1].x,h=l[1].y),i===0||i===2?m=Math.abs(u-f):m=Math.abs(d-h),this.ctx.beginPath(),o===3?this.formatPath(c):this.formatPath(l.slice(0,2)),A=s<3?s*3:s*2,g=s<3?s*2:s,o===3&&(A=s,g=s),p=!0,m<=A*2?p=!1:m<=A*2+g?(b=m/(2*A+g),A*=b,g*=b):(x=Math.floor((m+g)/(A+g)),v=(m-x*A)/(x-1),y=(m-(x+1)*A)/x,g=y<=0||Math.abs(g-v)<Math.abs(g-y)?v:y),p&&(o===3?this.ctx.setLineDash([0,A+g]):this.ctx.setLineDash([A,g])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=s):this.ctx.lineWidth=s*2+1.1,this.ctx.strokeStyle=Ms(n),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Da(l[0])&&(N=l[3],P=l[0],this.ctx.beginPath(),this.formatPath([new St(N.end.x,N.end.y),new St(P.start.x,P.start.y)]),this.ctx.stroke()),Da(l[1])&&(N=l[1],P=l[2],this.ctx.beginPath(),this.formatPath([new St(N.end.x,N.end.y),new St(P.start.x,P.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(n){return xi(this,void 0,void 0,function(){var s;return ni(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ms(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),s=GFe(n),[4,this.renderStack(s)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(KW),i9e=function(e){return e instanceof _W||e instanceof kW?!0:e instanceof r_&&e.type!==iw&&e.type!==sw},a9e=function(e,t){switch(e){case 0:return lw(t);case 2:return HFe(t);case 1:default:return cw(t)}},o9e=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},l9e=["-apple-system","system-ui"],c9e=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return l9e.indexOf(t)===-1}):e},u9e=function(e){ko(t,e);function t(n,s){var i=e.call(this,n,s)||this;return i.canvas=s.canvas?s.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=s,i.canvas.width=Math.floor(s.width*s.scale),i.canvas.height=Math.floor(s.height*s.scale),i.canvas.style.width=s.width+"px",i.canvas.style.height=s.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-s.x,-s.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+s.width+"x"+s.height+" at "+s.x+","+s.y+") with scale "+s.scale),i}return t.prototype.render=function(n){return xi(this,void 0,void 0,function(){var s,i;return ni(this,function(a){switch(a.label){case 0:return s=p3(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,d9e(s)];case 1:return i=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ms(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(KW),d9e=function(e){return new Promise(function(t,n){var s=new Image;s.onload=function(){t(s)},s.onerror=n,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},h9e=function(){function e(t){var n=t.id,s=t.enabled;this.id=n,this.enabled=s,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Zx([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Zx([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Zx([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Zx([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),f9e=function(){function e(t,n){var s;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new h9e({id:this.instanceName,enabled:t.logging}),this.cache=(s=t.cache)!==null&&s!==void 0?s:new MFe(this,t)}return e.instanceCount=1,e}(),m9e=function(e,t){return t===void 0&&(t={}),p9e(e,t)};typeof window<"u"&&UW.setContext(window);var p9e=function(e,t){return xi(void 0,void 0,void 0,function(){var n,s,i,a,o,c,l,u,d,f,h,m,A,g,p,b,x,v,y,N,M,P,M,k,D,O,L,F,_,E,T,w,C,j,S,I,R,U,z,V;return ni(this,function(X){switch(X.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=e.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(s=n.defaultView,!s)throw new Error("Document is not attached to a Window");return i={allowTaint:(k=t.allowTaint)!==null&&k!==void 0?k:!1,imageTimeout:(D=t.imageTimeout)!==null&&D!==void 0?D:15e3,proxy:t.proxy,useCORS:(O=t.useCORS)!==null&&O!==void 0?O:!1},a=e3({logging:(L=t.logging)!==null&&L!==void 0?L:!0,cache:t.cache},i),o={windowWidth:(F=t.windowWidth)!==null&&F!==void 0?F:s.innerWidth,windowHeight:(_=t.windowHeight)!==null&&_!==void 0?_:s.innerHeight,scrollX:(E=t.scrollX)!==null&&E!==void 0?E:s.pageXOffset,scrollY:(T=t.scrollY)!==null&&T!==void 0?T:s.pageYOffset},c=new fc(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),l=new f9e(a,c),u=(w=t.foreignObjectRendering)!==null&&w!==void 0?w:!1,d={allowTaint:(C=t.allowTaint)!==null&&C!==void 0?C:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:u,copyStyles:u},l.logger.debug("Starting document clone with size "+c.width+"x"+c.height+" scrolled to "+-c.left+","+-c.top),f=new YD(l,e,d),h=f.clonedReferenceElement,h?[4,f.toIFrame(n,c)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return m=X.sent(),A=s_(h)||AFe(h)?KDe(h.ownerDocument):l2(l,h),g=A.width,p=A.height,b=A.left,x=A.top,v=A9e(l,h,t.backgroundColor),y={canvas:t.canvas,backgroundColor:v,scale:(S=(j=t.scale)!==null&&j!==void 0?j:s.devicePixelRatio)!==null&&S!==void 0?S:1,x:((I=t.x)!==null&&I!==void 0?I:0)+b,y:((R=t.y)!==null&&R!==void 0?R:0)+x,width:(U=t.width)!==null&&U!==void 0?U:Math.ceil(g),height:(z=t.height)!==null&&z!==void 0?z:Math.ceil(p)},u?(l.logger.debug("Document cloned, using foreign object rendering"),M=new u9e(l,y),[4,M.render(h)]):[3,3];case 2:return N=X.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+b+","+x+" with size "+g+"x"+p+" using computed rendering"),l.logger.debug("Starting DOM parsing"),P=PW(l,h),v===P.styles.backgroundColor&&(P.styles.backgroundColor=ec.TRANSPARENT),l.logger.debug("Starting renderer for element at "+y.x+","+y.y+" with size "+y.width+"x"+y.height),M=new s9e(l,y),[4,M.render(P)];case 4:N=X.sent(),X.label=5;case 5:return(!((V=t.removeContainer)!==null&&V!==void 0)||V)&&(YD.destroy(m)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,N]}})})},A9e=function(e,t,n){var s=t.ownerDocument,i=s.documentElement?IA(e,getComputedStyle(s.documentElement).backgroundColor):ec.TRANSPARENT,a=s.body?IA(e,getComputedStyle(s.body).backgroundColor):ec.TRANSPARENT,o=typeof n=="string"?IA(e,n):n===null?ec.TRANSPARENT:4294967295;return t===s.documentElement?Cu(i)?Cu(a)?o:a:i:o};const g9e=({children:e,magnifierSize:t=300,zoomLevel:n=2,sourceSize:s=150})=>{var p,b;const[i,a]=B.useState(!1),[o,c]=B.useState({x:0,y:0}),[l,u]=B.useState("0px 0px"),d=B.useRef(null),f=B.useRef(null),h=B.useRef(null);B.useEffect(()=>{if(i&&d.current&&f.current){const x=document.createElement("canvas");h.current=x;const v=x.getContext("2d");if(!v)return;const y=d.current.getBoundingClientRect(),N=window.devicePixelRatio||1;x.width=y.width*N,x.height=y.height*N,x.style.width=`${y.width}px`,x.style.height=`${y.height}px`,v.scale(N,N),m9e(d.current,{canvas:x,width:y.width,height:y.height,scale:N,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",logging:!1}).then(P=>{if(f.current){const M=P.toDataURL("image/png",1);f.current.style.backgroundImage=`url(${M})`}}).catch(P=>{console.error("Error capturing content with html2canvas:",P)})}return()=>{h.current&&(h.current=null)}},[i]);const m=x=>{if(!d.current||!f.current)return;const v=d.current.getBoundingClientRect(),y=x.clientX-v.left,N=x.clientY-v.top;let P=y+20,M=N-t-20;const k=window.innerWidth,D=x.clientX+20,O=x.clientY-t-20;D+t>k&&(P=y-t-20),O<0&&(M=N+20),c({x:P,y:M});const L=-((y-s/2)*n),F=-((N-s/2)*n);u(`${L}px ${F}px`)},A=()=>{a(!0)},g=()=>{a(!1)};return r.jsxs("div",{ref:d,className:"magnifier-container",style:{position:"relative",display:"inline-block"},onMouseMove:m,onMouseEnter:A,onMouseLeave:g,children:[e,i&&r.jsx("div",{ref:f,className:"magnifier-glass",style:{position:"absolute",width:`${t}px`,height:`${t}px`,border:"3px solid #000",backgroundColor:"#fff",boxShadow:"0 0 10px rgba(0,0,0,0.5)",pointerEvents:"none",zIndex:1e3,left:`${o.x}px`,top:`${o.y}px`,backgroundSize:`${((p=d.current)==null?void 0:p.offsetWidth)*n}px ${((b=d.current)==null?void 0:b.offsetHeight)*n}px`,backgroundPosition:l,backgroundRepeat:"no-repeat"}})]})},GW=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},WW=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),x9e=(e,t,n)=>{if(!e||!t)return;const s=e.getContext("2d");if(!s)return;const i={B:{" ":0,"!":1,'"':2,"#":3,$:4,"%":5,"&":6,"'":7,"(":8,")":9,"*":10,"+":11,",":12,"-":13,".":14,"/":15,0:16,1:17,2:18,3:19,4:20,5:21,6:22,7:23,8:24,9:25,":":26,";":27,"<":28,"=":29,">":30,"?":31,"@":32,A:33,B:34,C:35,D:36,E:37,F:38,G:39,H:40,I:41,J:42,K:43,L:44,M:45,N:46,O:47,P:48,Q:49,R:50,S:51,T:52,U:53,V:54,W:55,X:56,Y:57,Z:58,"[":59,"\\":60,"]":61,"^":62,_:63,"`":64,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,"{":91,"|":92,"}":93,"~":94,FNC3:95,FNC2:96,SHIFT:97,CODEC:98,F_latitude:99,FNC1:100,STARTB:104,STOP:106},PATTERNS:["11011001100","11001101100","11001100110","10010011000","10010001100","10001001100","10011001000","10011000100","10001100100","11001001000","11001000100","11000100100","10110011100","10011011100","10011001110","10111001100","10011101100","10011100110","11001110010","11001011100","11001001110","11011100100","11001110100","11101101110","11101001100","11100101100","11100100110","11101100100","11100110100","11100110010","11011011000","11011000110","11000110110","10100011000","10001011000","10001001110","10110001000","10001101000","10001100110","11010001000","11000101000","11000100110","10110111000","10110001110","10001101110","10111011000","10111000110","10001110110","11101110110","11010001110","11000101110","11011101000","11011100110","11011100010","11011011100","11011001110","11011000110","11000110110","11100010110","11100010011","11101011000","11101000110","11100101110","11101101000","11101100110","11101100010","11100111100","11100110011","11101111000","11000010100","10000101100","10000100110","10110010000","10110000100","10011010000","10011000010","10000110100","10000110010","11000010010","10001001010","10111010000","10111000010","10001010100","10001010010","11110111010","11000001110","11110001010","10100111000","10100001100","10010111000","10010001110","10000101110","10000100111","10111100100","10111100010","10110011110","10011110110","10011110011","11110100100","11110100010","11110010100","11110010010","11011010110","11010110110","11010110011","11010010111","11010010011","11010000111"]},a=t.replace(/[^A-Za-z0-9_]/g,"").slice(0,20);a!==t&&console.warn(`Barcode text sanitized from "${t}" to "${a}" due to invalid characters.`);let o=104,c=o;const l=["STARTB"];for(let h=0;h<a.length;h++){const m=a[h],A=i.B[m]??0;l.push(m),o+=A*(h+1),c=o%103}l.push(Object.keys(i.B)[c%94]),l.push("STOP");let u="";for(const h of l){const m=i.B[h];u+=i.PATTERNS[m]}e.width=n.width,e.height=n.height,s.fillStyle="#ffffff",s.fillRect(0,0,e.width,e.height);const d=u.length,f=e.width/d;s.imageSmoothingEnabled=!1,s.fillStyle="#000000";for(let h=0;h<u.length;h++)u[h]==="1"&&s.fillRect(h*f,0,Math.ceil(f),e.height)},b9e=e=>{const[t,n,s]=e.maSanPham.split("_"),i=GW(n),a=i?`RGB(${i.r},${i.g},${i.b})`:"N/A";return`
    <div class="preview-card-small" data-product-id="${e.maSanPham}" style="
      width: 105mm;
      height: 148mm;
      background: white;
      border: 1px solid #000;
      padding: 5mm;
      display: flex;
      flex-direction: column;
      align-items: center;
      font-family: Arial, sans-serif;
      font-size: 10px;
      color: #000;
      margin: 0 5mm;
    ">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2mm; border-bottom: 1px solid #000; padding-bottom: 2mm; width: 100%;">
        <div style="font-weight: bold; font-size: 12px; text-align: left; white-space: pre-line;">
          Cửa Hàng Thời Trang
FashionHub
        </div>
        <img src="../../../src/logoStatic.png" alt="FashionHub" style="height: 20mm; max-width: 60mm;" />
      </div>
      <div style="text-align: center; margin-bottom: 2mm; width: 100%; margin-top: 10mm">
        <div style="font-weight: bold; font-size: 25px;">${e.tenSanPham||"N/A"}</div>
      </div>
      <div style="text-align: center; margin-bottom: 2mm; width: 100%;">
        <canvas id="barcode-canvas-small-${e.maSanPham}" style="height: 8mm; width: 50mm; border: 1px solid #000; margin: 0 auto; display: block;"></canvas>
        <div style="font-size: 8px; margin-top: 1mm;">${e.maSanPham}</div>
      </div>
      <div style="text-align: center; margin-bottom: 2mm; width: 100%;">
        <div style="font-weight: bold; font-size: 9px;">SIZE</div>
        <div style="font-size: 10px;">${(s==null?void 0:s.trim())||"N/A"}</div>
      </div>
      <div style="text-align: center; margin-bottom: 2mm; width: 100%;">
        <div style="font-weight: bold; font-size: 9px;">MÀU</div>
        <div style="font-size: 8px;">${a}</div>
      </div>
      <div style="text-align: center; margin-bottom: 2mm; width: 100%;">
        <div style="font-weight: bold; font-size: 9px;">GIÁ</div>
        <div style="font-size: 10px; font-weight: bold;">${WW(e.gia||0)}</div>
      </div>
      <div style="text-align: center; margin-bottom: 2mm; width: 100%;">
        <div style="font-weight: bold; font-size: 9px;">CHẤT LIỆU</div>
        <div style="font-size: 10px;">${e.chatLieu||"N/A"}</div>
      </div>
      <div style="text-align: center; margin-bottom: 2mm; width: 100%;">
        <div style="font-weight: bold; font-size: 9px;">THƯƠNG HIỆU</div>
        <div style="font-size: 10px;">${e.thuongHieu||"N/A"}</div>
      </div>
      <div style="text-align: center; margin-bottom: 2mm; width: 100%;">
        <div style="font-weight: bold; font-size: 9px;">LOẠI SẢN PHẨM</div>
        <div style="font-size: 10px;">${e.loaiSanPham||"N/A"}</div>
      </div>
      <div style="text-align: center; margin-bottom: 2mm; padding: 1mm; width: 80%;">
        <img
          src="https://api.qrserver.com/v1/create-qr-code/?data=${encodeURIComponent(`http://localhost:8080/products/${e.maSanPham}`)}&size=120x120"
          alt="QR Code"
          style="width: 30mm; height: 30mm; border: 1px solid #000; margin: 0 auto; display: block;"
        />
      </div>
    </div>
  `},qW=async e=>{if(e.size===0){we.fire({title:"Thông báo",text:"Vui lòng chọn ít nhất một sản phẩm để in.",icon:"warning"});return}try{const t=[];for(const a of e){const o=await fetch(`https://bicacuatho.azurewebsites.net/api/SanPham/SanPhamByID?id=${a}`);if(!o.ok)throw new Error(`Không thể lấy dữ liệu cho sản phẩm ${a}`);const c=await o.json();t.push(...c)}if(t.length===0){we.fire({title:"Lỗi",text:"Không thể lấy dữ liệu sản phẩm từ API.",icon:"error"});return}const s=`
      <!DOCTYPE html>
      <html lang="vi">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>In danh sách sản phẩm</title>
        <style>
          body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
          }
          .container {
            width: 100%;
            margin: 0;
          }
          .no-print {
            text-align: center;
            margin-top: 20px;
          }
          @media print {
            .no-print { display: none; }
            body { margin: 0; }
            .card { page-break-inside: avoid; }
          }
        </style>
      </head>
      <body>
        <div class="container">
          ${t.map(a=>{const[o,c,l]=a.maSanPham.split("_"),u=GW(c),d=u?`RGB(${u.r},${u.g},${u.b})`:"N/A";return`
        <div class="card" style="
          width: 210mm;
          height: 297mm;
          background: white;
          border: 2px solid #000;
          padding: 8mm;
          display: flex;
          flex-direction: column;
          align-items: center;
          font-family: Arial, sans-serif;
          font-size: 14px;
          color: #000;
          page-break-inside: avoid;
        ">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5mm; border-bottom: 1px solid #000; padding-bottom: 5mm; width: 100%;">
            <div style="font-weight: bold; font-size: 16px; text-align: left; white-space: pre-line;">
              Cửa Hàng Thời Trang
FashionHub
            </div>
            <img src="../../../src/logoStatic.png" alt="FashionHub" style="height: 25mm; max-width: 80mm;" />
          </div>
          <div style="text-align: center; margin-bottom: 5mm; width: 100%; margin-top: 10mm;">
            <div style="font-weight: bold; font-size: 28px;">${a.tenSanPham||"N/A"}</div>
          </div>
          <div style="text-align: center; margin-bottom: 5mm; width: 100%;">
            <canvas id="barcode-canvas-${a.maSanPham}" style="height: 15mm; width: 100mm; border: 1px solid #000; margin: 0 auto; display: block;"></canvas>
            <div style="font-size: 12px; margin-top: 2mm; font-weight: bold;">${a.maSanPham}</div>
          </div>
          <div style="text-align: center; margin-bottom: 5mm; width: 100%;">
            <div style="font-weight: bold; font-size: 16px;">SIZE</div>
            <div style="font-size: 20px; font-weight: bold;">${(l==null?void 0:l.trim())||"N/A"}</div>
          </div>
          <div style="text-align: center; margin-bottom: 5mm; width: 100%;">
            <div style="font-weight: bold; font-size: 16px;">MÀU</div>
            <div style="font-size: 14px;">${d}</div>
          </div>
          <div style="text-align: center; margin-bottom: 5mm; width: 100%;">
            <div style="font-weight: bold; font-size: 16px;">GIÁ</div>
            <div style="font-size: 22px; font-weight: bold;">${WW(a.gia||0)}</div>
          </div>
          <div style="text-align: center; margin-bottom: 5mm; width: 100%;">
            <div style="font-weight: bold; font-size: 16px;">CHẤT LIỆU</div>
            <div style="font-size: 14px;">${a.chatLieu||"N/A"}</div>
          </div>
          <div style="text-align: center; margin-bottom: 5mm; width: 100%;">
            <div style="font-weight: bold; font-size: 16px;">THƯƠNG HIỆU</div>
            <div style="font-size: 14px;">${a.thuongHieu||"N/A"}</div>
          </div>
          <div style="text-align: center; margin-bottom: 5mm; width: 100%;">
            <div style="font-weight: bold; font-size: 16px;">LOẠI SẢN PHẨM</div>
            <div style="font-size: 14px;">${a.loaiSanPham||"N/A"}</div>
          </div>
          <div style="text-align: center; margin-bottom: 5mm; padding: 3mm; width: 70%;">
            <img
              src="https://api.qrserver.com/v1/create-qr-code/?data=${encodeURIComponent(`http://localhost:8080/products/${a.maSanPham}`)}&size=200x200"
              alt="QR Code"
              style="width: 60mm; height: 60mm; border: 1px solid #000; margin: 0 auto; display: block;"
            />
          </div>
          <div style="text-align: center; font-size: 12px; margin-top: auto; border-top: 1px solid #000; padding-top: 4mm; width: 100%;">
            Ngày in: ${new Date().toLocaleDateString("vi-VN")}
          </div>
        </div>
      `}).join("")}
          <div class="no-print">
            <button onclick="window.print()" style="background-color: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-size: 14px;">
              In trang
            </button>
            <button onclick="window.close()" style="background-color: #6c757d; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-size: 14px; margin-left: 10px;">
              Đóng
            </button>
          </div>
        </div>
        <script>
          // Function to generate CODE128 barcode
          function generateCode128Barcode(canvas, text, options) {
            const CODE128 = {
              B: {
                ' ': 0, '!': 1, '"': 2, '#': 3, '$': 4, '%': 5, '&': 6, "'": 7, '(': 8, ')': 9,
                '*': 10, '+': 11, ',': 12, '-': 13, '.': 14, '/': 15, '0': 16, '1': 17, '2': 18, '3': 19,
                '4': 20, '5': 21, '6': 22, '7': 23, '8': 24, '9': 25, ':': 26, ';': 27, '<': 28, '=': 29,
                '>': 30, '?': 31, '@': 32, 'A': 33, 'B': 34, 'C': 35, 'D': 36, 'E': 37, 'F': 38, 'G': 39,
                'H': 40, 'I': 41, 'J': 42, 'K': 43, 'L': 44, 'M': 45, 'N': 46, 'O': 47, 'P': 48, 'Q': 49,
                'R': 50, 'S': 51, 'T': 52, 'U': 53, 'V': 54, 'W': 55, 'X': 56, 'Y': 57, 'Z': 58, '[': 59,
                '\\\\': 60, ']': 61, '^': 62, '_': 63, '\`': 64, 'a': 65, 'b': 66, 'c': 67, 'd': 68, 'e': 69,
                'f': 70, 'g': 71, 'h': 72, 'i': 73, 'j': 74, 'k': 75, 'l': 76, 'm': 77, 'n': 78, 'o': 79,
                'p': 80, 'q': 81, 'r': 82, 's': 83, 't': 84, 'u': 85, 'v': 86, 'w': 87, 'x': 88, 'y': 89,
                'z': 90, '{': 91, '|': 92, '}': 93, '~': 94, 'FNC3': 95, 'FNC2': 96, 'SHIFT': 97, 'CODEC': 98,
                'FNC4': 99, 'FNC1': 100, 'STARTB': 104, 'STOP': 106,
              },
              PATTERNS: [
                '11011001100', '11001101100', '11001100110', '10010011000', '10010001100', '10001001100',
                '10011001000', '10011000100', '10001100100', '11001001000', '11001000100', '11000100100',
                '10110011100', '10011011100', '10011001110', '10111001100', '10011101100', '10011100110',
                '11001110010', '11001011100', '11001001110', '11011100100', '11001110100', '11101101110',
                '11101001100', '11100101100', '11100100110', '11101100100', '11100110100', '11100110010',
                '11011011000', '11011000110', '11000110110', '10100011000', '10001011000', '10001001110',
                '10110001000', '10001101000', '10001100110', '11010001000', '11000101000', '11000100110',
                '10110111000', '10110001110', '10001101110', '10111011000', '10111000110', '10001110110',
                '11101110110', '11010001110', '11000101110', '11011101000', '11011100110', '11011100010',
                '11011011100', '11011001110', '11011000110', '11000110110', '11100010110', '11100010011',
                '11101011000', '11101000110', '11100101110', '11101101000', '11101100110', '11101100010',
                '11100111100', '11100110011', '11101111000', '11000010100', '10000101100', '10000100110',
                '10110010000', '10110000100', '10011010000', '10011000010', '10000110100', '10000110010',
                '11000010010', '10001001010', '10111010000', '10111000010', '10001010100', '10001010010',
                '11110111010', '11000001110', '11110001010', '10100111000', '10100001100', '10010111000',
                '10010001110', '10000101110', '10000100111', '10111100100', '10111100010', '10110011110',
                '10011110110', '10011110011', '11110100100', '11110100010', '11110010100', '11110010010',
                '11011010110', '11010110110', '11010110011', '11010010111', '11010010011', '11010000111',
              ],
            };

            const sanitizedText = text.replace(/[^A-Za-z0-9_]/g, '').slice(0, 20);
            if (sanitizedText !== text) {
              console.warn("Barcode text sanitized from" +text +"to" +sanitizedText+  "due to invalid charascters.");
            }

            let sum = 104;
            let checksum = sum;
            const chars = ['STARTB'];

            for (let i = 0; i < sanitizedText.length; i++) {
              const char = sanitizedText[i];
              const value = CODE128.B[char] ?? 0;
              chars.push(char);
              sum += value * (i + 1);
              checksum = sum % 103;
            }

            chars.push(Object.keys(CODE128.B)[checksum % 94]);
            chars.push('STOP');

            let pattern = '';
            for (const char of chars) {
              const value = CODE128.B[char];
              pattern += CODE128.PATTERNS[value];
            }

            canvas.width = options.width;
            canvas.height = options.height;
            const ctx = canvas.getContext('2d');
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            const barCount = pattern.length;
            const barWidth = canvas.width / barCount;

            ctx.imageSmoothingEnabled = false;
            ctx.fillStyle = '#000000';
            for (let i = 0; i < pattern.length; i++) {
              if (pattern[i] === '1') {
                ctx.fillRect(i * barWidth, 0, Math.ceil(barWidth), canvas.height);
              }
            }
          }

          // Generate barcodes for all products
          ${t.map(a=>`
            const canvas_${a.maSanPham} = document.getElementById('barcode-canvas-${a.maSanPham}');
            if (canvas_${a.maSanPham}) {
              generateCode128Barcode(canvas_${a.maSanPham}, '${a.maSanPham}', { width: 250, height: 40 });
            }
          `).join(`
`)}
        <\/script>
      </body>
      </html>
    `,i=window.open("","_blank");i.document.write(s),i.document.close(),we.fire({title:"Thành công!",text:"Đã mở trang in sản phẩm thành công!",icon:"success",timer:3e3,timerProgressBar:!0,showConfirmButton:!1})}catch(t){we.fire({title:"Lỗi",text:`Không thể tạo trang in: ${t.message}`,icon:"error"})}},v9e=async e=>{if(e.size===0){we.fire({title:"Thông báo",text:"Vui lòng chọn ít nhất một sản phẩm để xem preview.",icon:"warning"});return}try{const t=[];for(const i of e)try{const a=await fetch(`https://bicacuatho.azurewebsites.net/api/SanPham/SanPhamByID?id=${i}`);if(!a.ok)throw new Error(`Không thể lấy dữ liệu cho sản phẩm ${i}`);const o=await a.json();t.push(...o)}catch(a){console.error(`Lỗi khi fetch sản phẩm ${i}:`,a)}if(t.length===0){we.fire({title:"Lỗi",text:"Không thể lấy dữ liệu sản phẩm từ API.",icon:"error"});return}const n=document.createElement("div");document.body.appendChild(n),await(async()=>{bo.render(r.jsx("div",{style:{maxWidth:"90vw",overflowX:"auto",padding:"0"},children:r.jsx("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start"},children:t.map(i=>r.jsx(g9e,{magnifierSize:300,zoomLevel:2,sourceSize:150,children:r.jsx("div",{dangerouslySetInnerHTML:{__html:b9e(i)}})},i.maSanPham))})}),n),t.forEach(i=>{const a=document.getElementById(`barcode-canvas-small-${i.maSanPham}`);a&&x9e(a,i.maSanPham,{width:150,height:25})})})(),we.fire({title:`Preview ${t.length} thẻ sản phẩm`,html:n,width:"90%",showCancelButton:!0,confirmButtonText:"In PDF",cancelButtonText:"Đóng",confirmButtonColor:"#000000",didClose:()=>{bo.unmountComponentAtNode(n),document.body.removeChild(n)}}).then(i=>{i.isConfirmed&&qW(e)})}catch(t){console.error("Lỗi khi preview:",t),we.fire({title:"Lỗi",text:`Không thể xem preview: ${t.message}`,icon:"error"})}},y9e=({isOpen:e,onClose:t,selectedProductIds:n})=>{const[s,i]=B.useState(""),[a,o]=B.useState(""),c=(u,d,f)=>{const h=u.map((v,y)=>{const[N,P,M]=v.id.split("_"),k=v.slNhap*v.giaNhap,D=v.slXuat*v.giaXuat,O=v.tonCuoi*v.giaTonCuoi;return`
        <tr>
          <td>${y+1}</td>
          <td>${N||"N/A"}</td>
          <td>${v.tenSanPham||"Không có tên"}</td>
          <td>${v.thuongHieu||"N/A"}</td>
          <td>${v.chatLieu||"N/A"}</td>
          <td>${v.loaiSanPham||"N/A"}</td>
          <td>${P||"N/A"}</td>
          <td>${M||"N/A"}</td>
          <td>${v.dvt||"N/A"}</td>
          <td style="text-align: right;">${v.slNhap.toLocaleString("vi-VN")}</td>
          <td style="text-align: right;">${k.toLocaleString("vi-VN")}</td>
          <td style="text-align: right;">${v.slXuat.toLocaleString("vi-VN")}</td>
          <td style="text-align: right;">${D.toLocaleString("vi-VN")}</td>
          <td style="text-align: right;">${v.tonCuoi.toLocaleString("vi-VN")}</td>
          <td style="text-align: right;">${O.toLocaleString("vi-VN")}</td>
        </tr>
      `}).join(""),m=u.reduce((v,y)=>v+y.slNhap,0),A=u.reduce((v,y)=>v+y.slNhap*y.giaNhap,0),g=u.reduce((v,y)=>v+y.slXuat,0),p=u.reduce((v,y)=>v+y.slXuat*y.giaXuat,0),b=u.reduce((v,y)=>v+y.tonCuoi,0),x=u.reduce((v,y)=>v+y.tonCuoi*y.giaTonCuoi,0);return`
      <!DOCTYPE html>
      <html lang="vi">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Báo cáo vật tư</title>
        <style>
          body {
            font-family: 'Times New Roman', serif;
            margin: 20px;
            font-size: 12px;
            line-height: 1.2;
          }
          .header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
          }
          .header-left {
            text-align: left;
          }
          .header-right {
            text-align: right;
          }
          .title {
            text-align: center;
            font-size: 16px;
            font-weight: bold;
            margin: 20px 0;
          }
          .subtitle {
            text-align: center;
            font-size: 12px;
            margin-bottom: 20px;
          }
          table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
          }
          th, td {
            border: 1px solid #000;
            padding: 4px;
            text-align: center;
          }
          th {
            background-color: #f0f0f0;
            font-weight: bold;
          }
          .total-row {
            font-weight: bold;
            background-color: #f5f5f5;
          }
          .signature {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
          }
          .signature-block {
            text-align: center;
            width: 30%;
          }
          @media print {
            body { margin: 0; }
            .no-print { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="header-left">
            <strong>Cửa Hàng Bán Quần Áo Thời Trang UltraStore</strong><br>
            Buôn Ma Thuật, Đắk Lắk<br>
            www.ultrastore......
          </div>
          <div class="header-right">
            <strong>Mẫu số S11-DN</strong><br>
            (Ban hành theo Thông tư số<br>
            200/2014/TT-BTC ngày 22/12/2014<br>
            của Bộ Tài Chính)
          </div>
        </div>
        <h1 class="title">BẢNG TỔNG HỢP SẢN PHẨM</h1>
        <div class="subtitle">
          Từ ngày ${d} đến ngày ${f}
        </div>
        <table>
          <thead>
            <tr>
              <th rowspan="2" style="width: 5%;">Stt</th>
              <th rowspan="2" style="width: 8%;">Mã vật tư</th>
              <th rowspan="2" style="width: 15%;">Tên vật tư</th>
              <th rowspan="2" style="width: 8%;">Thương hiệu</th>
              <th rowspan="2" style="width: 8%;">Chất liệu</th>
              <th rowspan="2" style="width: 8%;">Loại sản phẩm</th>
              <th rowspan="2" style="width: 8%;">Màu sắc</th>
              <th rowspan="2" style="width: 8%;">Kích thước</th>
              <th rowspan="2" style="width: 5%;">Đvt</th>
              <th colspan="2" style="width: 12%;">Nhập</th>
              <th colspan="2" style="width: 12%;">Xuất</th>
              <th colspan="2" style="width: 12%;">Tồn cuối</th>
            </tr>
            <tr>
              <th>Số lượng</th>
              <th>Giá trị</th>
              <th>Số lượng</th>
              <th>Giá trị</th>
              <th>Số lượng</th>
              <th>Giá trị</th>
            </tr>
          </thead>
          <tbody>
            ${h}
            <tr class="total-row">
              <td colspan="9" style="text-align: center; font-weight: bold;">Tổng cộng</td>
              <td style="text-align: right; font-weight: bold;">${m.toLocaleString("vi-VN")}</td>
              <td style="text-align: right; font-weight: bold;">${A.toLocaleString("vi-VN")}</td>
              <td style="text-align: right; font-weight: bold;">${g.toLocaleString("vi-VN")}</td>
              <td style="text-align: right; font-weight: bold;">${p.toLocaleString("vi-VN")}</td>
              <td style="text-align: right; font-weight: bold;">${b.toLocaleString("vi-VN")}</td>
              <td style="text-align: right; font-weight: bold;">${x.toLocaleString("vi-VN")}</td>
            </tr>
          </tbody>
        </table>
        <div style="text-align: right; margin-top: 20px;">
          Buôn Ma Thuật, Ngày.......tháng.......năm...............
        </div>
        <div class="signature">
          <div class="signature-block">
            <strong>NGƯỜI GHI SỔ</strong><br>
            <em>(Ký, họ tên)</em>
          </div>
          <div class="signature-block">
            <strong hidden>NGƯỜI KIỂM KÊ</strong><br>
            <em hidden>(Ký, họ tên)</em>
          </div>
          <div class="signature-block">
            <strong>CHỦ CỬA HÀNG</strong><br>
            <em>(Ký, họ tên, đóng dấu)</em>
          </div>
        </div>
        <div class="no-print" style="text-align: center; margin-top: 30px;">
          <button onclick="window.print()" style="background-color: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-size: 14px;">
            In báo cáo
          </button>
          <button onclick="window.close()" style="background-color: #6c757d; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-size: 14px; margin-left: 10px;">
            Đóng
          </button>
        </div>
      </body>
      </html>
    `},l=async()=>{if(!s||!a){we.fire({title:"Lỗi",text:"Vui lòng chọn cả ngày bắt đầu và ngày kết thúc",icon:"error"});return}if(n.size===0){we.fire({title:"Thông báo",text:"Vui lòng chọn ít nhất một sản phẩm để xuất báo cáo.",icon:"warning"});return}try{const u=await fetch("https://bicacuatho.azurewebsites.net/api/SanPham/ReportByDate",{method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")?`Bearer ${localStorage.getItem("token")}`:void 0},body:JSON.stringify({batDau:s,ketThuc:a,id:Array.from(n)})});if(u.ok){const d=await u.json(),f=c(d,s,a),h=window.open("","_blank");if(h)h.document.write(f),h.document.close();else throw new Error("Không thể mở tab mới. Vui lòng kiểm tra trình duyệt của bạn.");we.fire({title:"Thành công!",text:"Báo cáo vật tư đã được mở trong tab mới!",icon:"success",timer:3e3,timerProgressBar:!0,showConfirmButton:!1}),t()}else throw new Error("Lỗi khi tạo báo cáo từ server")}catch(u){we.fire({title:"Lỗi",text:`Không thể tạo báo cáo: ${u.message}`,icon:"error"})}};return r.jsx(Jt,{open:e,onOpenChange:t,children:r.jsxs(Wt,{children:[r.jsx(an,{children:r.jsx(tn,{children:"Chọn khoảng thời gian báo cáo"})}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"startDate",children:"Ngày bắt đầu"}),r.jsx(ye,{id:"startDate",type:"date",value:s,onChange:u=>i(u.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"endDate",children:"Ngày kết thúc"}),r.jsx(ye,{id:"endDate",type:"date",value:a,onChange:u=>o(u.target.value)})]})]}),r.jsxs(Rn,{children:[r.jsx(fe,{variant:"outline",onClick:t,children:"Hủy"}),r.jsx(fe,{onClick:l,children:"Tạo báo cáo"})]})]})})},nI=()=>{const[e,t]=B.useState([]),[n,s]=B.useState(!0),[i,a]=B.useState("grid"),[o,c]=B.useState(""),[l,u]=B.useState(!1),[d,f]=B.useState(!1),[h,m]=B.useState(!1),[A,g]=B.useState(!1),[p,b]=B.useState(null),[x,v]=B.useState(null),[y,N]=B.useState(null),[P,M]=B.useState(""),[k,D]=B.useState(1),[O,L]=B.useState(new Set),[F,_]=B.useState(!1),E=12,T=async()=>{try{const K=localStorage.getItem("token"),ne=await fetch("https://bicacuatho.azurewebsites.net/api/SanPham/ListSanPham",{method:"GET",headers:{"Content-Type":"application/json",Authorization:K?`Bearer ${K}`:void 0}});if(ne.ok){const ue=await ne.json();t(ue||[])}else console.error("Lỗi khi lấy danh sách sản phẩm:",ne.status),t([])}catch(K){console.error("Lỗi kết nối API danh sách sản phẩm:",K),t([])}finally{s(!1)}},w=async K=>{try{const ne=localStorage.getItem("token"),ue=await fetch(`https://bicacuatho.azurewebsites.net/api/SanPham/SanPhamByIDSorted?id=${K}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:ne?`Bearer ${ne}`:void 0}});if(ue.ok){const se=await ue.json();console.log(se),v(se||null)}else console.error("Lỗi khi lấy chi tiết sản phẩm:",ue.status),v(null)}catch(ne){console.error("Lỗi kết nối API chi tiết sản phẩm:",ne),v(null)}};B.useEffect(()=>{T()},[]);const j=(()=>{let K=[...e].filter(ne=>{var ue,se;return(((ue=ne.name)==null?void 0:ue.toLowerCase())||"").includes(o.toLowerCase())||(((se=ne.loaiSanPham)==null?void 0:se.toLowerCase())||"").includes(o.toLowerCase())});switch(P){case"price-asc":return K.sort((ne,ue)=>(ne.donGia||0)-(ue.donGia||0));case"price-desc":return K.sort((ne,ue)=>(ue.donGia||0)-(ne.donGia||0));case"name-asc":return K.sort((ne,ue)=>(ne.name||"").localeCompare(ue.name||""));case"name-desc":return K.sort((ne,ue)=>(ue.name||"").localeCompare(ne.name||""));default:return K}})(),S=k*E,I=S-E,R=j.slice(I,S),U=Math.ceil(j.length/E),z=K=>{D(K)},V=K=>{const ne=new Set(O);ne.has(K)?ne.delete(K):ne.add(K),L(ne)},X=()=>{if(O.size===R.length)L(new Set);else{const K=new Set(R.map(ne=>ne.id));L(K)}},$=()=>{_(!F),L(new Set)},W=async()=>{if(O.size===0){we.fire({title:"Thông báo",text:"Vui lòng chọn ít nhất một sản phẩm để xuất Excel.",icon:"warning"});return}try{const K=[];for(const ae of O){const ce=localStorage.getItem("token"),de=await fetch(`https://bicacuatho.azurewebsites.net/api/SanPham/SanPhamByID?id=${ae}`,{headers:{"Content-Type":"application/json",Authorization:ce?`Bearer ${ce}`:void 0}});if(!de.ok)throw new Error(`Không thể lấy dữ liệu cho sản phẩm ${ae}`);const pe=await de.json();K.push(...pe)}const ne=new VDe.Workbook,ue=ne.addWorksheet("Danh sách sản phẩm");ue.columns=[{header:"STT",key:"stt",width:10},{header:"Mã sản phẩm",key:"maSanPham",width:15},{header:"Tên sản phẩm",key:"tenSanPham",width:30},{header:"Loại sản phẩm",key:"loaiSanPham",width:20},{header:"Thương hiệu",key:"thuongHieu",width:20},{header:"Chất liệu",key:"chatLieu",width:15},{header:"Màu sắc",key:"mauSac",width:15},{header:"Kích thước",key:"kichThuoc",width:15},{header:"Đơn giá nhập (VND)",key:"giaNhap",width:20},{header:"Đơn giá bán (VND)",key:"giaBan",width:20},{header:"Số lượng còn lại",key:"soLuongConLai",width:18},{header:"Số lượng đã bán",key:"soLuongDaBan",width:18},{header:"Trạng thái",key:"trangThai",width:15},{header:"Mô tả",key:"moTa",width:50}],K.forEach((ae,ce)=>{const[de,pe,Ae]=ae.maSanPham.split("_"),le=ae.soLuongDaBan!=null?ae.soLuong-ae.soLuongDaBan:ae.soLuong;ue.addRow({stt:ce+1,maSanPham:de||"N/A",tenSanPham:ae.tenSanPham||"Không có tên",loaiSanPham:ae.thuongHieu,thuongHieu:ae.loaiSanPham,chatLieu:ae.chatLieu||"N/A",mauSac:pe||"N/A",kichThuoc:(Ae==null?void 0:Ae.trim())||"N/A",giaNhap:ae.giaNhap||0,giaBan:ae.gia||0,soLuongConLai:le,soLuongDaBan:ae.soLuongDaBan||0,trangThai:ae.trangThai===0?"Tạm ngừng bán":"Đang bán",moTa:ae.moTa||"Không có mô tả"})}),ue.getRow(1).eachCell(ae=>{ae.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFE7E6FF"}},ae.font={bold:!0,color:{argb:"FF000000"}},ae.alignment={horizontal:"center",vertical:"middle"},ae.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),ue.eachRow((ae,ce)=>{ce>1&&ae.eachCell(de=>{de.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},de.alignment={horizontal:"left",vertical:"middle"}})});const ie=ue.getColumn("giaNhap"),q=ue.getColumn("giaBan");ie.numFmt="#,##0",q.numFmt="#,##0";const Z=`SanPham_${new Date().toISOString().split("T")[0]}.xlsx`,te=await ne.xlsx.writeBuffer(),re=new Blob([te],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),Y=window.URL.createObjectURL(re),oe=document.createElement("a");oe.href=Y,oe.download=Z,document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),window.URL.revokeObjectURL(Y),we.fire({title:"Thành công!",text:`Đã xuất ${O.size} sản phẩm ra file Excel thành công!`,icon:"success",timer:3e3,timerProgressBar:!0,showConfirmButton:!1})}catch(K){we.fire({title:"Lỗi",text:`Không thể xuất Excel: ${K.message}`,icon:"error"})}},H=K=>{b(K),f(!0),w(K.id)},Q=K=>{N(K),m(!0)},G=async K=>{we.fire({title:"Bạn có chắc chắn?",text:`Sản phẩm ${K.name} mang mã ${K.id} sẽ chuyển sang trạng thái ngừng bán!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Ngừng Bán",cancelButtonText:"Hủy"}).then(async ne=>{if(ne.isConfirmed)try{const ue=localStorage.getItem("token");(await fetch(`https://bicacuatho.azurewebsites.net/api/SanPham/DeleteSanPham?id=${K.id}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:ue?`Bearer ${ue}`:void 0}})).ok?we.fire({title:"Thành công!",text:"Ngừng Bán sản phẩm thành công!",icon:"success",timer:3e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{T()}):we.fire({title:"Lỗi!",text:"Có lỗi xảy ra khi ngừng bán sản phẩm.",icon:"error"})}catch{we.fire({title:"Lỗi!",text:"Có lỗi hệ thống khi ngừng bán.",icon:"error"})}})},J=async K=>{we.fire({title:"Bạn có chắc chắn?",text:`Sản phẩm ${K.name} mang mã ${K.id} sẽ chuyển sang trạng thái đang bán!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Đang bán",cancelButtonText:"Hủy"}).then(async ne=>{if(ne.isConfirmed)try{const ue=localStorage.getItem("token");(await fetch(`https://bicacuatho.azurewebsites.net/api/SanPham/ActiveSanPham?id=${K.id}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:ue?`Bearer ${ue}`:void 0}})).ok?we.fire({title:"Thành công!",text:"Mở bán lại sản phẩm thành công!",icon:"success",timer:3e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{T()}):we.fire({title:"Lỗi!",text:"Có lỗi xảy ra khi mở bán lại sản phẩm.",icon:"error"})}catch{we.fire({title:"Lỗi!",text:"Có lỗi hệ thống khi mở bán lại.",icon:"error"})}})},ee=()=>{T()};return n?r.jsx("div",{className:"flex justify-center items-center h-screen",children:"Đang tải sản phẩm..."}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 w-full",children:[r.jsx("div",{children:r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Sản phẩm"})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(fe,{variant:F?"secondary":"outline",onClick:$,className:"flex items-center gap-2",children:[F?r.jsx(S6,{className:"h-4 w-4"}):r.jsx(Oee,{className:"h-4 w-4"}),F?"Thoát chế độ chọn":"Chọn sản phẩm"]}),F&&r.jsx(r.Fragment,{children:r.jsxs(yr,{children:[r.jsx(wr,{asChild:!0,children:r.jsxs(fe,{variant:"outline",className:"flex items-center gap-2 bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-300",disabled:O.size===0,children:[r.jsx(Wj,{className:"h-4 w-4"}),"Tùy Chọn (",O.size,")"]})}),r.jsxs(Ar,{children:[r.jsxs(ut,{onClick:()=>g(!0),children:[r.jsx(Wj,{className:"mr-2 h-4 w-4"}),"Báo cáo vật tư"]}),r.jsxs(ut,{onClick:W,disabled:O.size===0,children:[r.jsx(B2e,{className:"mr-2 h-4 w-4"}),"Xuất Excel"]}),r.jsxs(ut,{onClick:()=>v9e(O),children:[r.jsx(wa,{className:"mr-2 h-4 w-4"}),"Xem trước File PDF"]}),r.jsxs(ut,{onClick:()=>qW(O),children:[r.jsx(Wj,{className:"mr-2 h-4 w-4"}),"In Thành PDF"]})]})]})}),r.jsxs(fe,{className:"bg-purple-400 hover:bg-purple-500 text-white",onClick:()=>{console.log("Nút Thêm Sản Phẩm Mới được nhấn"),u(!0)},children:[r.jsx(mr,{className:"h-4 w-4 mr-2"}),"Thêm Sản Phẩm Mới"]})]})]}),r.jsxs(it,{children:[r.jsx(yt,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(jt,{children:"Tất cả sản phẩm"}),F&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fe,{variant:"outline",size:"sm",onClick:X,className:"flex items-center gap-2",children:O.size===R.length?r.jsxs(r.Fragment,{children:[r.jsx(Dy,{className:"h-3 w-3"})," Bỏ chọn tất cả"]}):r.jsxs(r.Fragment,{children:[r.jsx(S6,{className:"h-3 w-3"})," Chọn tất cả"]})}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["Đã chọn: ",O.size," sản phẩm"]})]})]})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6 justify-between items-start sm:items-center",children:[r.jsxs("div",{className:"relative w-full sm:w-auto",children:[r.jsx(Un,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{type:"search",placeholder:"Gõ tên sản phẩm cần tìm",className:"pl-8 w-full sm:w-[300px]",value:o,onChange:K=>c(K.target.value)})]}),r.jsxs("div",{className:"flex gap-2 self-end",children:[r.jsxs(yr,{children:[r.jsx(wr,{asChild:!0,children:r.jsxs(fe,{variant:"outline",size:"sm",className:"h-9",children:[r.jsx(Zd,{className:"h-4 w-4 mr-2"}),P===""?"Sắp xếp":P==="price-asc"?"Giá thấp - cao":P==="price-desc"?"Giá cao - thấp":P==="name-asc"?"A - Z":"Z - A"]})}),r.jsxs(Ar,{children:[r.jsx(ut,{onClick:()=>M(""),children:"Mặc định"}),r.jsx(ut,{onClick:()=>M("price-asc"),children:"Giá: Thấp đến Cao"}),r.jsx(ut,{onClick:()=>M("price-desc"),children:"Giá: Cao đến Thấp"}),r.jsx(ut,{onClick:()=>M("name-asc"),children:"Tên: A - Z"}),r.jsx(ut,{onClick:()=>M("name-desc"),children:"Tên: Z - A"})]})]}),r.jsxs("div",{className:"flex border rounded-md",children:[r.jsx(fe,{variant:i==="grid"?"secondary":"ghost",size:"sm",className:"h-9 rounded-r-none",onClick:()=>a("grid"),children:r.jsx(NT,{className:"h-4 w-4"})}),r.jsx(fe,{variant:i==="list"?"secondary":"ghost",size:"sm",className:"h-9 rounded-l-none",onClick:()=>a("list"),children:r.jsx(Jg,{className:"h-4 w-4"})})]})]})]}),i==="grid"?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",style:{gridAutoRows:"1fr"},children:R.map(K=>r.jsxs(it,{className:"hover-scale overflow-hidden group relative flex flex-col h-full",children:[F&&r.jsx("div",{className:"absolute top-2 left-2 z-10",children:r.jsx(Vs,{checked:O.has(K.id),onCheckedChange:()=>V(K.id),className:"bg-white border-2 border-gray-300 data-[state=checked]:bg-purple-500 data-[state=checked]:border-purple-500"})}),r.jsx("div",{className:"bg-purple-light flex items-center justify-center flex-1",children:r.jsx("img",{src:K.hinh&&K.hinh[0]?`data:image/jpeg;base64,${K.hinh[0]}`:"/placeholder-image.jpg",alt:K.name,className:"w-full h-full object-contain"})}),r.jsxs(dt,{className:"p-4 flex-shrink-0",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("div",{className:"flex-1 pr-2",children:r.jsx("h3",{className:"font-semibold text-2xl leading-tight line-clamp-2",children:K.name||"Không có tên"})}),!F&&r.jsxs(yr,{children:[r.jsx(wr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",children:r.jsx(li,{className:"h-3 w-3"})})}),r.jsxs(Ar,{align:"end",children:[r.jsxs(ut,{onClick:()=>H(K),children:[r.jsx(Aa,{className:"mr-2 h-4 w-4 text-blue-500"})," Chỉnh sửa"]}),r.jsxs(ut,{onClick:()=>Q(K.id),children:[r.jsx(wa,{className:"mr-2 h-4 w-4 text-green-500"})," Chi tiết"]}),K.trangThai===0?r.jsxs(ut,{onClick:()=>J(K),className:"text-green-600",children:[r.jsx(Xz,{className:"mr-2 h-4 w-4 text-green-500"})," Mở bán"]}):r.jsxs(ut,{onClick:()=>G(K),className:"text-red-600",children:[r.jsx(Ha,{className:"mr-2 h-4 w-4 text-red-500"})," Ngừng Bán"]})]})]})]}),r.jsx("div",{className:"mb-3",children:r.jsxs("p",{className:"text-xs text-muted-foreground line-clamp-1",children:["Thương hiệu: ",K.thuongHieu||"Không xác định"]})}),r.jsxs("div",{className:"mb-3",style:{height:"50px"},children:[r.jsxs("div",{className:"flex flex-wrap gap-1 mb-1",children:[r.jsxs(Kt,{className:"bg-blue-500 text-white hover:bg-blue-600 text-xs py-0 px-1",children:[r.jsx(Vr,{className:"h-2 w-2 mr-1"})," ",K.loaiSanPham||"N/A"]}),r.jsxs(Kt,{className:"bg-green-500 text-white hover:bg-green-600 text-xs py-0 px-1",children:[r.jsx(Vr,{className:"h-2 w-2 mr-1"})," ",K.chatLieu||"N/A"]}),r.jsx(Kt,{className:`${K.trangThai===0?"bg-red-500 text-white":"bg-teal-500 text-white"} text-xs py-0 px-1`,children:K.trangThai===0?"Tạm Ngừng":"Đang Bán"})]}),r.jsx("div",{className:"flex flex-wrap gap-1",children:(K.listHashTag||[]).slice(0,3).map(ne=>r.jsxs(Kt,{className:"bg-purple-500 text-white hover:bg-purple-600 text-xs py-0 px-1",children:[r.jsx(Vr,{className:"h-2 w-2 mr-1"})," #",ne.name]},ne.id))})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"text-2xl font-bold text-red-600",children:[(K.donGia/1e3).toFixed(3)||"0"," VND"]}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:["Số lượng còn: ",K.soLuong||0," sản phẩm"]})]})]})]},K.id))}):r.jsx("div",{className:"border rounded-md divide-y",children:R.map(K=>r.jsxs("div",{className:"p-4 flex items-center gap-4 hover:bg-muted/50",children:[F&&r.jsx(Vs,{checked:O.has(K.id),onCheckedChange:()=>V(K.id),className:"data-[state=checked]:bg-purple-500 data-[state=checked]:border-purple-500"}),r.jsx("div",{className:"h-20 w-20 bg-purple-light rounded-md flex items-center justify-center",children:r.jsx("img",{src:K.hinh&&K.hinh[0]?`data:image/jpeg;base64,${K.hinh[0]}`:"/placeholder-image.jpg",alt:K.name,className:"w-full h-full object-contain rounded-md"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold",children:K.name||"Không có tên"}),r.jsxs("p",{className:"text-2xl text-muted-foreground line-clamp-1",children:["Thương hiệu: ",K.thuongHieu||"Không xác định"]})]}),r.jsxs("div",{className:"flex flex-col gap-2",style:{height:"150px"},children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs(Kt,{className:"bg-blue-500 text-white hover:bg-blue-600",children:[r.jsx(Vr,{className:"h-3 w-3 mr-1"})," ",K.loaiSanPham||"N/A"]}),r.jsxs(Kt,{className:"bg-green-500 text-white hover:bg-green-600",children:[r.jsx(Vr,{className:"h-3 w-3 mr-1"})," ",K.chatLieu||"N/A"]})]}),r.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:(K.listHashTag||[]).slice(0,3).map(ne=>r.jsxs(Kt,{className:"bg-purple-500 text-white hover:bg-purple-600",children:[r.jsx(Vr,{className:"h-3 w-3 mr-1"})," #",ne.name]},ne.id))})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[(K.donGia/1e3).toFixed(3)||"0"," VND"]}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Số lượng: ",K.soLuong||0]})]}),!F&&r.jsxs(yr,{children:[r.jsx(wr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsx(li,{className:"h-4 w-4"})})}),r.jsxs(Ar,{align:"end",children:[r.jsx(ut,{onClick:()=>H(K),children:"Chỉnh Sửa"}),r.jsx(ut,{onClick:()=>Q(K.id),children:"Chi Tiết"}),K.trangThai===0?r.jsx(ut,{onClick:()=>J(K),className:"text-green-600",children:"Mở Bán"}):r.jsx(ut,{onClick:()=>G(K),className:"text-red-600",children:"Ngừng Bán"})]})]})]},K.id))}),R.length===0&&r.jsx("div",{className:"text-center py-10",children:r.jsx("p",{className:"text-muted-foreground",children:"Không tìm thấy sản phẩm nào"})}),U>1&&r.jsxs("div",{className:"flex justify-center items-center gap-2 mt-6",children:[r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>z(k-1),disabled:k===1,children:"Trước"}),Array.from({length:U},(K,ne)=>ne+1).map(K=>r.jsx(fe,{variant:k===K?"default":"outline",size:"sm",onClick:()=>z(K),children:K},K)),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>z(k+1),disabled:k===U,children:"Sau"})]})]})]}),r.jsx(HDe,{isEditModalOpen:d,setIsEditModalOpen:f,selectedProduct:p,productData:x}),r.jsx($De,{isAddModalOpen:l,setIsAddModalOpen:u,onSuccess:ee}),r.jsx(QDe,{productId:y,isOpen:h,onClose:()=>m(!1)}),r.jsx(y9e,{isOpen:A,onClose:()=>g(!1),selectedProductIds:O})]})},w9e=({isEditModalOpen:e,setIsEditModalOpen:t,comboId:n})=>{const[s,i]=B.useState(""),[a,o]=B.useState({ID:0,TenCombo:"",MoTa:"",SoLuong:0,Discount:0,HinhAnh:null,SanPham:[]}),[c,l]=B.useState([]),[u,d]=B.useState([]),[f,h]=B.useState(!1),[m,A]=B.useState({}),[g,p]=B.useState(!1),b=B.useRef(null);B.useEffect(()=>{e&&n&&(async()=>{h(!0);try{const _=localStorage.getItem("token"),E=await fetch(`https://bicacuatho.azurewebsites.net/api/Combo/ComboSanPhamViewAdmin?id=${n}`,{method:"GET",headers:{"Content-Type":"application/json"},Authorization:_?`Bearer ${_}`:void 0});if(!E.ok)throw new Error("Failed to fetch combo details");const T=await E.json();if(!T||!T.length||!T[0])throw new Error("No combo data returned from API");const w=T[0],C={ID:w.maCombo||0,TenCombo:w.name||"",MoTa:w.moTa||"",SoLuong:w.soLuong||0,Discount:w.Discount||0,HinhAnh:w.hinhAnh||null,SanPham:w.sanPhams&&Array.isArray(w.sanPhams)?w.sanPhams.map(j=>({MaSanPham:j.idSanPham||"",SoLuong:j.soLuong||1,TenSanPham:j.name||""})):[]};o(C)}catch(_){console.error("Error fetching combo details:",_),o({ID:0,TenCombo:"",MoTa:"",SoLuong:0,Discount:0,HinhAnh:null,SanPham:[]})}finally{h(!1)}})()},[e,n]),B.useEffect(()=>{e&&(async()=>{h(!0);try{const _=localStorage.getItem("token"),E=await fetch("https://bicacuatho.azurewebsites.net/api/SanPham/ListSanPham",{method:"GET",headers:{"Content-Type":"application/json"},Authorization:_?`Bearer ${_}`:void 0});if(!E.ok)throw new Error("Failed to fetch products");const T=await E.json();l(T||[]),d(T||[])}catch(_){console.error("Error fetching products:",_),l([]),d([])}finally{h(!1)}})()},[e]),B.useEffect(()=>{if(s){const F=c.filter(_=>{var E,T;return(((E=_.name)==null?void 0:E.toLowerCase())||"").includes(s.toLowerCase())||(((T=_.loaiSanPham)==null?void 0:T.toLowerCase())||"").includes(s.toLowerCase())});d(F)}else d(c)},[s,c]);const x=F=>{const _=F.target.files[0];_&&v(_)},v=F=>{const _=new FileReader;_.onloadend=()=>{o({...a,HinhAnh:_.result.replace(/^data:image\/[a-z]+;base64,/,"")}),A({...m,HinhAnh:""})},_.readAsDataURL(F)},y=F=>{F.preventDefault(),F.stopPropagation(),F.type==="dragenter"||F.type==="dragover"?p(!0):F.type==="dragleave"&&p(!1)},N=F=>{F.preventDefault(),F.stopPropagation(),p(!1),F.dataTransfer.files&&F.dataTransfer.files[0]&&v(F.dataTransfer.files[0])},P=()=>{b.current&&b.current.click()},M=F=>{const _=a.SanPham.find(E=>E.MaSanPham===F.id);o(_?{...a,SanPham:a.SanPham.map(E=>E.MaSanPham===F.id?{...E,SoLuong:E.SoLuong+1}:E)}:{...a,SanPham:[...a.SanPham,{MaSanPham:F.id,SoLuong:1,TenSanPham:F.name||"Không có tên"}]}),A({...m,SanPham:""})},k=(F,_)=>{o({...a,SanPham:a.SanPham.map(E=>E.MaSanPham===F?{...E,SoLuong:Math.max(1,E.SoLuong+_)}:E)})},D=F=>{const _=a.SanPham.filter(E=>E.MaSanPham!==F);o({...a,SanPham:_}),_.length===0&&A({...m,SanPham:"Combo phải có ít nhất 1 sản phẩm"})},O=()=>{const F={};return a.TenCombo.trim()||(F.TenCombo="Tên combo không được để trống"),a.MoTa.trim()||(F.MoTa="Mô tả không được để trống"),a.Discount<=1&&(F.Discount="Giảm giá phải lớn hơn 1"),a.HinhAnh||(F.HinhAnh="Vui lòng chọn ít nhất 1 hình ảnh"),a.SanPham.length===0&&(F.SanPham="Combo phải có ít nhất 1 sản phẩm"),a.SoLuong<0&&(F.SoLuong="Số lượng không thể nhỏ hơn 0"),A(F),Object.keys(F).length===0},L=async()=>{if(!O()){we.fire({title:"Lỗi!",text:"Vui lòng điền đầy đủ và đúng thông tin trước khi lưu",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1});return}try{const F={ID:a.ID,TenCombo:a.TenCombo,MoTa:a.MoTa,SoLuong:a.SoLuong,Discount:a.Discount,HinhAnh:a.HinhAnh,SanPham:a.SanPham.map(E=>({MaSanPham:E.MaSanPham,SoLuong:E.SoLuong}))};if(!(await fetch("https://bicacuatho.azurewebsites.net/api/Combo/EditComboSanPham",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)})).ok)throw new Error("Failed to update combo");we.fire({title:"Thành công!",text:"Cập nhật combo thành công!",icon:"success",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{t(!1),window.location.reload()})}catch(F){console.error("Error updating combo:",F),we.fire({title:"Lỗi!",text:"Có lỗi xảy ra khi cập nhật combo.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}};return r.jsx(Jt,{open:e,onOpenChange:t,children:r.jsxs(Wt,{className:"max-w-7xl p-6 overflow-y-auto max-h-[90vh]",children:[r.jsx(an,{children:r.jsx(tn,{className:"text-2xl font-bold",children:"Chỉnh sửa thông tin combo"})}),r.jsx("div",{className:"py-4",children:r.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[r.jsx("div",{className:"col-span-2",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Tên Combo"}),r.jsx(ye,{value:a.TenCombo,onChange:F=>{o({...a,TenCombo:F.target.value}),A({...m,TenCombo:""})},className:"w-full",placeholder:`\r
\r
Nhập tên combo`}),m.TenCombo&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.TenCombo})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Giảm Giá (%)"}),r.jsx(ye,{type:"number",min:"0",value:a.Discount,onChange:F=>{o({...a,Discount:parseInt(F.target.value)||0}),A({...m,Discount:""})},className:"w-full",placeholder:"Nhập giảm giá combo"}),m.Discount&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.Discount})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Hình Ảnh Combo"}),r.jsxs("div",{className:`relative w-full h-48 border-2 border-dashed rounded-lg transition-all duration-200 ${g?"border-blue-500 bg-blue-50":a.HinhAnh?"border-green-500 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:y,onDragLeave:y,onDragOver:y,onDrop:N,children:[r.jsx("input",{type:"file",accept:"image/*",ref:b,onChange:x,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),a.HinhAnh?r.jsxs("div",{className:"relative w-full h-full",children:[r.jsx("img",{src:`data:image/jpeg;base64,${a.HinhAnh}`,alt:"Combo Preview",className:"w-full h-full object-cover rounded-lg"}),r.jsx("div",{className:"absolute top-2 right-2 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-sm cursor-pointer hover:bg-opacity-70",onClick:P,children:"Nhấp để thay đổi"})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[r.jsx("svg",{className:"w-12 h-12 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),r.jsx("p",{className:"text-lg font-medium",children:"Kéo thả ảnh vào đây"}),r.jsx("p",{className:"text-sm",children:"hoặc nhấp để chọn file"}),r.jsx("p",{className:"text-xs mt-2 text-gray-400",children:"PNG, JPG, GIF (tối đa 5MB)"})]})]}),m.HinhAnh&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.HinhAnh})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Số Lượng"}),r.jsx(ye,{type:"number",min:"0",step:"1",value:a.SoLuong,onChange:F=>{o({...a,SoLuong:parseInt(F.target.value)||0}),A({...m,SoLuong:""})},className:"w-full max-w-xs",placeholder:"Nhập số lượng"}),m.SoLuong&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.SoLuong})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Mô Tả"}),r.jsx("textarea",{className:"w-full h-32 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none",value:a.MoTa,onChange:F=>{o({...a,MoTa:F.target.value}),A({...m,MoTa:""})},placeholder:"Nhập mô tả chi tiết về combo..."}),m.MoTa&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.MoTa})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Sản phẩm trong Combo"}),r.jsxs("div",{className:"max-h-64 overflow-y-auto border border-gray-200 rounded-lg p-4 bg-gray-50",children:[f?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Đang tải sản phẩm..."})]}):a.SanPham.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("svg",{className:"w-12 h-12 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),r.jsx("p",{children:"Chưa có sản phẩm trong combo"}),r.jsx("p",{className:"text-sm",children:"Thêm sản phẩm từ danh sách bên phải"})]}):r.jsx("div",{className:"space-y-3",children:a.SanPham.map(F=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200 shadow-sm",children:[r.jsx("div",{className:"flex-1",children:r.jsx("span",{className:"font-medium text-gray-800",children:F.TenSanPham})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>k(F.MaSanPham,-1),className:"h-8 w-8 p-0",children:"-"}),r.jsx("span",{className:"w-8 text-center font-medium",children:F.SoLuong}),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>k(F.MaSanPham,1),className:"h-8 w-8 p-0",children:"+"})]}),r.jsx(fe,{variant:"destructive",size:"sm",onClick:()=>D(F.MaSanPham),children:"Xóa"})]})]},F.MaSanPham))}),m.SanPham&&r.jsx("p",{className:"text-red-500 text-sm mt-2",children:m.SanPham})]})]})]})}),r.jsx("div",{className:"col-span-1",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Tìm kiếm sản phẩm"}),r.jsx(ye,{type:"text",placeholder:"Nhập tên sản phẩm...",value:s,onChange:F=>i(F.target.value),className:"w-full"})]}),r.jsx("div",{className:"h-96 overflow-y-auto border border-gray-200 rounded-lg p-4 bg-gray-50",children:f?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Đang tải sản phẩm..."})]}):u.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("svg",{className:"w-12 h-12 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("p",{children:"Không tìm thấy sản phẩm nào"})]}):r.jsx("div",{className:"space-y-2",children:u.map(F=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[r.jsx("img",{src:F.hinh&&F.hinh[0]?`data:image/jpeg;base64,${F.hinh[0]}`:"https://via.placeholder.com/40",alt:F.name,className:"w-10 h-10 object-cover rounded-lg flex-shrink-0"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"font-medium text-gray-800 text-sm truncate",children:F.name||"Không có tên"}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:F.loaiSanPham||"Chưa phân loại"})]})]}),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>M(F),className:"shrink-0 text-xs px-2 py-1",children:"Thêm"})]},F.id))})})]})})]})}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[r.jsx(fe,{variant:"outline",onClick:()=>t(!1),children:"Hủy"}),r.jsx(fe,{onClick:L,disabled:f,className:"px-6",children:"Lưu Thay Đổi"})]})]})})},j9e=({isCreateModalOpen:e,setIsCreateModalOpen:t})=>{const[n,s]=B.useState(""),[i,a]=B.useState({ID:0,TenCombo:"",MoTa:"",SoLuong:0,Discount:0,HinhAnh:null,SanPham:[]}),[o,c]=B.useState([]),[l,u]=B.useState([]),[d,f]=B.useState(!1),[h,m]=B.useState({}),[A,g]=B.useState(!1),p=B.useRef(null);B.useEffect(()=>{e&&(async()=>{f(!0);try{const F=localStorage.getItem("token"),_=await fetch("https://bicacuatho.azurewebsites.net/api/SanPham/ListSanPham",{method:"GET",headers:{"Content-Type":"application/json"},Authorization:F?`Bearer ${F}`:void 0});if(!_.ok)throw new Error("Failed to fetch products");const E=await _.json();console.log(E),c(E||[]),u(E||[])}catch(F){console.error("Error fetching products:",F),c([]),u([])}finally{f(!1)}})()},[e]),B.useEffect(()=>{if(n){const L=o.filter(F=>{var _,E;return(((_=F.name)==null?void 0:_.toLowerCase())||"").includes(n.toLowerCase())||(((E=F.loaiSanPham)==null?void 0:E.toLowerCase())||"").includes(n.toLowerCase())});u(L)}else u(o)},[n,o]);const b=L=>{const F=L.target.files[0];F&&x(F)},x=L=>{const F=new FileReader;F.onloadend=()=>{a({...i,HinhAnh:F.result.replace(/^data:image\/[a-z]+;base64,/,"")}),m({...h,HinhAnh:""})},F.readAsDataURL(L)},v=L=>{L.preventDefault(),L.stopPropagation(),L.type==="dragenter"||L.type==="dragover"?g(!0):L.type==="dragleave"&&g(!1)},y=L=>{L.preventDefault(),L.stopPropagation(),g(!1),L.dataTransfer.files&&L.dataTransfer.files[0]&&x(L.dataTransfer.files[0])},N=()=>{p.current&&p.current.click()},P=L=>{const F=i.SanPham.find(_=>_.MaSanPham===L.id);a(F?{...i,SanPham:i.SanPham.map(_=>_.MaSanPham===L.id?{..._,SoLuong:_.SoLuong+1}:_)}:{...i,SanPham:[...i.SanPham,{MaSanPham:L.id,SoLuong:1,TenSanPham:L.name||"Không có tên"}]}),m({...h,SanPham:""})},M=(L,F)=>{a({...i,SanPham:i.SanPham.map(_=>_.MaSanPham===L?{..._,SoLuong:Math.max(1,_.SoLuong+F)}:_)})},k=L=>{const F=i.SanPham.filter(_=>_.MaSanPham!==L);a({...i,SanPham:F}),F.length===0&&m({...h,SanPham:"Combo phải có ít nhất 1 sản phẩm"})},D=()=>{const L={};return i.TenCombo.trim()||(L.TenCombo="Tên combo không được để trống"),i.MoTa.trim()||(L.MoTa="Mô tả không được để trống"),i.Discount<=1&&(L.Discount="Giá phải lớn hơn 1"),i.HinhAnh||(L.HinhAnh="Vui lòng chọn ít nhất 1 hình ảnh"),i.SanPham.length===0&&(L.SanPham="Combo phải có ít nhất 1 sản phẩm"),i.SoLuong<0&&(L.SoLuong="Số lượng không thể nhỏ hơn 0"),m(L),Object.keys(L).length===0},O=async()=>{if(!D()){we.fire({title:"Lỗi!",text:"Vui lòng điền đầy đủ và đúng thông tin trước khi tạo combo",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1});return}try{const L={ID:i.ID,TenCombo:i.TenCombo,MoTa:i.MoTa,SoLuong:i.SoLuong,Discount:i.Discount,HinhAnh:i.HinhAnh,SanPham:i.SanPham.map(E=>({MaSanPham:E.MaSanPham,SoLuong:E.SoLuong}))},F=localStorage.getItem("token");if(!(await fetch("https://bicacuatho.azurewebsites.net/api/Combo/CreateComboSanPham",{method:"POST",headers:{"Content-Type":"application/json"},Authorization:F?`Bearer ${F}`:void 0,body:JSON.stringify(L)})).ok)throw new Error("Failed to create combo");we.fire({title:"Thành công!",text:"Tạo combo thành công!",icon:"success",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{t(!1),window.location.reload()})}catch(L){console.error("Error creating combo:",L),we.fire({title:"Lỗi!",text:"Có lỗi xảy ra khi tạo combo.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}};return r.jsx(Jt,{open:e,onOpenChange:t,children:r.jsxs(Wt,{className:"max-w-7xl p-6 overflow-y-auto max-h-[90vh]",children:[r.jsx(an,{children:r.jsx(tn,{className:"text-2xl font-bold",children:"Tạo mới combo"})}),r.jsx("div",{className:"py-4",children:r.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[r.jsxs("div",{className:"col-span-2",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Tên Combo"}),r.jsx(ye,{value:i.TenCombo,onChange:L=>{a({...i,TenCombo:L.target.value}),m({...h,TenCombo:""})},className:"w-full",placeholder:"Nhập tên combo"}),h.TenCombo&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.TenCombo})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Giảm Giá (%)"}),r.jsx(ye,{type:"number",min:"0",value:i.Discount,onChange:L=>{a({...i,Discount:parseInt(L.target.value)||0}),m({...h,Discount:""})},className:"w-full",placeholder:"Nhập giá combo"}),h.Discount&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.Discount})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Hình Ảnh Combo"}),r.jsxs("div",{className:`relative w-full h-48 border-2 border-dashed rounded-lg transition-all duration-200 ${A?"border-blue-500 bg-blue-50":i.HinhAnh?"border-green-500 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:v,onDragLeave:v,onDragOver:v,onDrop:y,children:[r.jsx("input",{type:"file",accept:"image/*",ref:p,onChange:b,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),i.HinhAnh?r.jsxs("div",{className:"relative w-full h-full",children:[r.jsx("img",{src:`data:image/jpeg;base64,${i.HinhAnh}`,alt:"Combo Preview",className:"w-full h-full object-cover rounded-lg"}),r.jsx("div",{className:"absolute top-2 right-2 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-sm cursor-pointer hover:bg-opacity-70",onClick:N,children:"Nhấp để thay đổi"})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[r.jsx("svg",{className:"w-12 h-12 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),r.jsx("p",{className:"text-lg font-medium",children:"Kéo thả ảnh vào đây"}),r.jsx("p",{className:"text-sm",children:"hoặc nhấp để chọn file"}),r.jsx("p",{className:"text-xs mt-2 text-gray-400",children:"PNG, JPG, GIF (tối đa 5MB)"})]})]}),h.HinhAnh&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.HinhAnh})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Số Lượng"}),r.jsx(ye,{type:"number",min:"0",step:"1",value:i.SoLuong,onChange:L=>{a({...i,SoLuong:parseInt(L.target.value)||0}),m({...h,SoLuong:""})},className:"w-full max-w-xs",placeholder:"Nhập số lượng"}),h.SoLuong&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.SoLuong})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Mô Tả"}),r.jsx("textarea",{className:"w-full h-32 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none",value:i.MoTa,onChange:L=>{a({...i,MoTa:L.target.value}),m({...h,MoTa:""})},placeholder:"Nhập mô tả chi tiết về combo..."}),h.MoTa&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.MoTa})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Sản phẩm trong Combo"}),r.jsxs("div",{className:"max-h-64 overflow-y-auto border border-gray-200 rounded-lg p-4 bg-gray-50",children:[i.SanPham.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("svg",{className:"w-12 h-12 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),r.jsx("p",{children:"Chưa có sản phẩm trong combo"}),r.jsx("p",{className:"text-sm",children:"Thêm sản phẩm từ danh sách bên phải"})]}):r.jsx("div",{className:"space-y-3",children:i.SanPham.map(L=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200 shadow-sm",children:[r.jsx("div",{className:"flex-1",children:r.jsx("span",{className:"font-medium text-gray-800",children:L.TenSanPham})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>M(L.MaSanPham,-1),className:"h-8 w-8 p-0",children:"-"}),r.jsx("span",{className:"w-8 text-center font-medium",children:L.SoLuong}),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>M(L.MaSanPham,1),className:"h-8 w-8 p-0",children:"+"})]}),r.jsx(fe,{variant:"destructive",size:"sm",onClick:()=>k(L.MaSanPham),children:"Xóa"})]})]},L.MaSanPham))}),h.SanPham&&r.jsx("p",{className:"text-red-500 text-sm mt-2",children:h.SanPham})]})]})]}),r.jsx("div",{className:"col-span-1",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Tìm kiếm sản phẩm"}),r.jsx(ye,{type:"text",placeholder:"Nhập tên sản phẩm...",value:n,onChange:L=>s(L.target.value),className:"w-full"})]}),r.jsx("div",{className:"h-96 overflow-y-auto border border-gray-200 rounded-lg p-4 bg-gray-50",children:d?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Đang tải sản phẩm..."})]}):l.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("svg",{className:"w-12 h-12 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("p",{children:"Không tìm thấy sản phẩm nào"})]}):r.jsx("div",{className:"space-y-2",children:l.map(L=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[r.jsx("img",{src:L.hinh&&L.hinh[0]?`data:image/jpeg;base64,${L.hinh[0]}`:"https://via.placeholder.com/40",alt:L.name,className:"w-10 h-10 object-cover rounded-lg flex-shrink-0"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"font-medium text-gray-800 text-sm truncate",children:L.name||"Không có tên"}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:L.loaiSanPham||"Chưa phân loại"})]})]}),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>P(L),className:"shrink-0 text-xs px-2 py-1",children:"Thêm"})]},L.id))})})]})})]})}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[r.jsx(fe,{variant:"outline",onClick:()=>t(!1),children:"Hủy"}),r.jsx(fe,{onClick:O,disabled:d,className:"px-6",children:"Tạo Combo"})]})]})})},C9e=({comboId:e,isOpen:t,onClose:n})=>{const[s,i]=B.useState(null),[a,o]=B.useState(!0),[c,l]=B.useState(null);return B.useEffect(()=>{(async()=>{if(!(!e||!t))try{o(!0);const d=localStorage.getItem("token"),f=await fetch(`https://bicacuatho.azurewebsites.net/api/Combo/ComboSanPhamViewAdmin?id=${e}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:d?`Bearer ${d}`:void 0}});if(!f.ok)throw new Error("Failed to fetch combo");const h=await f.json(),m=Array.isArray(h)?h[0]:h,A={maCombo:m.maCombo,name:m.name,description:m.moTa||"Không có mô tả",price:m.gia,quantity:m.soLuong,status:m.trangThai,createdDate:m.ngayTao,images:m.hinhAnh?`data:image/jpeg;base64,${m.hinhAnh}`:"/placeholder-image.jpg",products:m.sanPhams.map(g=>{var p;return{id:g.id,name:g.name,brand:g.thuongHieu,type:g.loaiSanPham,sizes:g.kichThuoc,quantity:g.soLuong,price:g.donGia,material:g.chatLieu,colors:g.mauSac.map(b=>`#${b}`),images:((p=g.hinh)==null?void 0:p.map(b=>`data:image/jpeg;base64,${b}`))||[]}})};i(A)}catch(d){l(d.message)}finally{o(!1)}})()},[e,t]),t?a?r.jsx(Jt,{open:t,onOpenChange:n,children:r.jsx(Wt,{children:r.jsx("p",{children:"Đang tải thông tin combo..."})})}):c||!s?r.jsx(Jt,{open:t,onOpenChange:n,children:r.jsxs(Wt,{children:[r.jsxs("p",{children:["Error: ",c||"Không tìm thấy combo"]}),r.jsx("button",{onClick:n,className:"mt-4 px-4 py-2 bg-red-500 text-white rounded",children:"Đóng"})]})}):r.jsx(Jt,{open:t,onOpenChange:n,children:r.jsxs(Wt,{className:"max-w-7xl max-h-[90vh] overflow-y-auto p-6",children:[r.jsxs(an,{children:[r.jsx(tn,{className:"text-2xl font-semibold",children:"Chi Tiết Combo"}),r.jsx(e$,{className:"absolute right-4 top-4 p-2 hover:bg-gray-100 rounded-full",children:r.jsx(st,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"rounded-xl overflow-hidden border border-gray-200",children:r.jsx("img",{src:s.images,alt:s.name,className:"w-full aspect-[4/5] object-cover"})})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-medium",children:s.name}),r.jsx("p",{className:"text-gray-600 mt-2",children:s.description})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:"Giá & Số lượng:"}),r.jsxs("ul",{className:"mt-2 space-y-2 text-gray-600",children:[r.jsxs("li",{children:["Giá: ",s.price," VND"]}),r.jsxs("li",{children:["Số lượng: ",s.quantity]}),r.jsxs("li",{children:["Trạng thái: ",s.status?"Đang bán":"Ngừng bán"]}),r.jsxs("li",{children:["Ngày tạo: ",new Date(s.createdDate).toLocaleDateString()]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Sản phẩm trong combo:"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm text-left text-gray-600 border-collapse",children:[r.jsx("thead",{className:"bg-gray-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 border-b font-medium",children:"Tên sản phẩm"}),r.jsx("th",{className:"px-4 py-2 border-b font-medium",children:"Thương hiệu"}),r.jsx("th",{className:"px-4 py-2 border-b font-medium",children:"Loại"}),r.jsx("th",{className:"px-4 py-2 border-b font-medium",children:"Chất liệu"}),r.jsx("th",{className:"px-4 py-2 border-b font-medium",children:"Kích thước"}),r.jsx("th",{className:"px-4 py-2 border-b font-medium",children:"Số lượng"}),r.jsx("th",{className:"px-4 py-2 border-b font-medium",children:"Giá (VND)"}),r.jsx("th",{className:"px-4 py-2 border-b font-medium",children:"Màu sắc"})]})}),r.jsx("tbody",{children:s.products.map((u,d)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-2 border-b",children:u.name}),r.jsx("td",{className:"px-4 py-2 border-b",children:u.brand}),r.jsx("td",{className:"px-4 py-2 border-b",children:u.type}),r.jsx("td",{className:"px-4 py-2 border-b",children:u.material}),r.jsx("td",{className:"px-4 py-2 border-b",children:u.sizes.join(", ")}),r.jsx("td",{className:"px-4 py-2 border-b",children:u.quantity}),r.jsx("td",{className:"px-4 py-2 border-b",children:u.price}),r.jsx("td",{className:"px-4 py-2 border-b",children:u.colors.map((f,h)=>r.jsx("span",{className:"inline-block w-4 h-4 rounded-full ml-1",style:{backgroundColor:f}},h))})]},d))})]})})]})]})]})]})}):null},rI=()=>{const[e,t]=B.useState([]),[n,s]=B.useState(!0),[i,a]=B.useState("grid"),[o,c]=B.useState(""),[l,u]=B.useState(!1),[d,f]=B.useState(!1),[h,m]=B.useState(!1),[A,g]=B.useState(null),[p,b]=B.useState(""),[x,v]=B.useState(1),y=12,N=async()=>{try{const j=localStorage.getItem("token"),S=await fetch("https://bicacuatho.azurewebsites.net/api/Combo/ComboSanPhamViewAdmin",{method:"GET",headers:{"Content-Type":"application/json",Authorization:j?`Bearer ${j}`:void 0}});if(S.ok){const R=(await S.json()||[]).map(U=>({...U,sanPham:U.sanPham||[]}));t(R),console.log(R)}else console.error("Lỗi khi lấy danh sách combo:",S.status),t([])}catch(j){console.error("Lỗi kết nối API danh sách combo:",j),t([])}finally{s(!1)}};B.useEffect(()=>{N()},[]);const M=(()=>{let j=[...e].filter(S=>{var I,R;return(((I=S.name)==null?void 0:I.toLowerCase())||"").includes(o.toLowerCase())||(((R=S.maCombo)==null?void 0:R.toString())||"").includes(o)});switch(p){case"price-asc":return j.sort((S,I)=>(S.gia||0)-(I.gia||0));case"price-desc":return j.sort((S,I)=>(I.gia||0)-(S.gia||0));case"name-asc":return j.sort((S,I)=>(S.name||"").localeCompare(I.name||""));case"name-desc":return j.sort((S,I)=>(I.name||"").localeCompare(S.name||""));default:return j}})(),k=x*y,D=k-y,O=M.slice(D,k),L=Math.ceil(M.length/y),F=j=>{v(j)},_=j=>{g(j.maCombo),f(!0)},E=j=>{g(j),m(!0)},T=async j=>{we.fire({title:"Bạn có chắc chắn?",text:`Combo ${j.name} mang mã ${j.maCombo} sẽ chuyển sang trạng thái ngừng bán!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Ngừng Bán",cancelButtonText:"Hủy"}).then(async S=>{if(S.isConfirmed)try{const I=localStorage.getItem("token");(await fetch(`https://bicacuatho.azurewebsites.net/api/Combo/DeleteCombo?id=${j.maCombo}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:I?`Bearer ${I}`:void 0}})).ok?we.fire({title:"Thành công!",text:"Ngừng bán combo thành công!",icon:"success",timer:3e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{N()}):we.fire({title:"Lỗi!",text:"Có lỗi xảy ra khi ngừng bán combo.",icon:"error",timer:3e3,timerProgressBar:!0,showConfirmButton:!1})}catch(I){console.error("Lỗi khi gửi dữ liệu:",I),we.fire({title:"Lỗi!",text:"Có lỗi xảy ra khi gửi dữ liệu tới API.",icon:"error",timer:3e3,timerProgressBar:!0,showConfirmButton:!1})}})},w=async j=>{we.fire({title:"Bạn có chắc chắn?",text:`Combo ${j.name} mang mã ${j.maCombo} sẽ chuyển sang trạng thái đang bán!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Đang Bán",cancelButtonText:"Hủy"}).then(async S=>{if(S.isConfirmed)try{const I=localStorage.getItem("token");(await fetch(`https://bicacuatho.azurewebsites.net/api/Combo/DeleteCombo?id=${j.maCombo}&status=true`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:I?`Bearer ${I}`:void 0}})).ok?we.fire({title:"Thành công!",text:"Mở bán lại combo thành công!",icon:"success",timer:3e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{N()}):we.fire({title:"Lỗi!",text:"Có lỗi xảy ra khi mở bán lại combo.",icon:"error",timer:3e3,timerProgressBar:!0,showConfirmButton:!1})}catch(I){console.error("Lỗi khi gửi dữ liệu:",I),we.fire({title:"Lỗi!",text:"Có lỗi xảy ra khi gửi dữ liệu tới API.",icon:"error",timer:3e3,timerProgressBar:!0,showConfirmButton:!1})}})},C=()=>{N(),u(!1)};return n?r.jsx("div",{className:"flex justify-center items-center h-screen",children:"Đang tải combo..."}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsx("div",{children:r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Combo"})}),r.jsxs(fe,{className:"bg-purple-400 hover:bg-purple-500 text-white",onClick:()=>u(!0),children:[r.jsx(mr,{className:"mr-2 h-4 w-4"})," Thêm Combo Mới"]})]}),r.jsxs(it,{children:[r.jsx(yt,{className:"pb-3",children:r.jsx(jt,{children:"Tất cả combo"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6 justify-between items-start sm:items-center",children:[r.jsxs("div",{className:"relative w-full sm:w-auto",children:[r.jsx(Un,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ye,{type:"search",placeholder:"Gõ tên combo hoặc mã combo cần tìm",className:"pl-8 w-full sm:w-[300px]",value:o,onChange:j=>c(j.target.value)})]}),r.jsxs("div",{className:"flex gap-2 self-end",children:[r.jsxs(yr,{children:[r.jsx(wr,{asChild:!0,children:r.jsxs(fe,{variant:"outline",size:"sm",className:"h-9",children:[r.jsx(Zd,{className:"h-4 w-4 mr-2"}),p===""?"Sắp xếp":p==="price-asc"?"Giá thấp - cao":p==="price-desc"?"Giá cao - thấp":p==="name-asc"?"A - Z":"Z - A"]})}),r.jsxs(Ar,{children:[r.jsx(ut,{onClick:()=>b(""),children:"Mặc định"}),r.jsx(ut,{onClick:()=>b("price-asc"),children:"Giá: Thấp đến Cao"}),r.jsx(ut,{onClick:()=>b("price-desc"),children:"Giá: Cao đến Thấp"}),r.jsx(ut,{onClick:()=>b("name-asc"),children:"Tên: A - Z"}),r.jsx(ut,{onClick:()=>b("name-desc"),children:"Tên: Z - A"})]})]}),r.jsxs("div",{className:"flex border rounded-md",children:[r.jsx(fe,{variant:i==="grid"?"secondary":"ghost",size:"sm",className:"h-9 rounded-r-none",onClick:()=>a("grid"),children:r.jsx(NT,{className:"h-4 w-4"})}),r.jsx(fe,{variant:i==="list"?"secondary":"ghost",size:"sm",className:"h-9 rounded-l-none",onClick:()=>a("list"),children:r.jsx(Jg,{className:"h-4 w-4"})})]})]})]}),i==="grid"?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:O.map(j=>r.jsxs(it,{className:"hover-scale overflow-hidden group",children:[r.jsx("div",{className:"h-40 bg-purple-light flex items-center justify-center",children:r.jsx("img",{src:j.hinhAnh?`data:image/jpeg;base64,${j.hinhAnh}`:"/placeholder-image.jpg",alt:j.name,className:"w-full h-full object-cover"})}),r.jsxs(dt,{className:"p-4",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:j.name||"Không có tên"}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:["Mã Combo: ",j.maCombo||"Không xác định"]})]}),r.jsxs(yr,{children:[r.jsx(wr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(li,{className:"h-4 w-4"})})}),r.jsxs(Ar,{align:"end",children:[r.jsxs(ut,{onClick:()=>E(j.maCombo),children:[r.jsx(wa,{className:"mr-2 h-4 w-4 text-blue-600"})," Chi Tiết"]}),r.jsxs(ut,{onClick:()=>_(j),children:[r.jsx(Aa,{className:"mr-2 h-4 w-4"})," Chỉnh sửa"]}),j.trangThai===!1?r.jsxs(ut,{onClick:()=>w(j),className:"text-green-600",children:[r.jsx(Xz,{className:"mr-2 h-4 w-4"})," Mở Bán"]}):r.jsxs(ut,{onClick:()=>T(j),className:"text-red-600",children:[r.jsx(Ha,{className:"mr-2 h-4 w-4"})," Ngừng bán"]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[r.jsxs(Kt,{variant:"outline",className:"bg-secondary text-white border-0",children:[r.jsx(Vr,{className:"h-3 w-3 mr-1"})," ",(j.sanPhams||[]).length," sản phẩm"]}),r.jsx(Kt,{variant:j.trangThai===!0?"default":"destructive",className:"flex flex-col justify-center items-center text-center h-full px-2",children:j.trangThai===!0?"Đang Bán":"Ngừng Bán"})]}),r.jsxs("div",{className:"flex justify-between items-center mt-3",children:[r.jsxs("span",{className:"font-bold text-purple",children:[(j.gia/1e3).toFixed(3)||"0"," VND"]}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:["Còn lại: ",j.soLuong||0," combo"]})]})]})]},j.maCombo))}):r.jsx("div",{className:"border rounded-md divide-y",children:O.map(j=>r.jsxs("div",{className:"p-4 flex items-center gap-4 hover:bg-muted/50",children:[r.jsx("div",{className:"h-12 w-12 bg-purple-light rounded-md flex items-center justify-center",children:r.jsx("img",{src:j.hinhAnh?`data:image/jpeg;base64,${j.hinhAnh}`:"/placeholder-image.jpg",alt:j.name,className:"w-full h-full object-cover rounded-md"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold",children:j.name||"Không có tên"}),r.jsxs("p",{className:"text-sm text-muted-foreground line-clamp-1",children:["Mã Combo: ",j.maCombo||"Không xác định"]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs(Kt,{variant:"outline",className:"bg-secondary text-white border-0",children:[(j.sanPhams||[]).length," sản phẩm"]})}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-bold text-purple",children:[(j.gia/1e3).toFixed(3)," VND"]}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Số lượng ",j.soLuong||0]})]}),r.jsxs(yr,{children:[r.jsx(wr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsx(li,{className:"h-4 w-4"})})}),r.jsxs(Ar,{align:"end",children:[r.jsx(ut,{onClick:()=>_(j),children:"Chỉnh Sửa"}),r.jsx(ut,{onClick:()=>E(j.maCombo),children:"Chi Tiết"}),j.trangThai===!1?r.jsx(ut,{onClick:()=>w(j),className:"text-green-600",children:"Mở Bán"}):r.jsx(ut,{onClick:()=>T(j),className:"text-red-600",children:"Ngừng Bán"})]})]})]},j.maCombo))}),O.length===0&&r.jsx("div",{className:"text-center py-10",children:r.jsx("p",{className:"text-muted-foreground",children:"Không tìm thấy combo nào"})}),L>1&&r.jsxs("div",{className:"flex justify-center items-center gap-2 mt-6",children:[r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>F(x-1),disabled:x===1,children:"Trước"}),Array.from({length:L},(j,S)=>S+1).map(j=>r.jsx(fe,{variant:x===j?"default":"outline",size:"sm",onClick:()=>F(j),children:j},j)),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>F(x+1),disabled:x===L,children:"Sau"})]})]})]}),r.jsx(w9e,{isEditModalOpen:d,setIsEditModalOpen:f,comboId:A}),r.jsx(j9e,{isCreateModalOpen:l,setIsCreateModalOpen:u,onAddSuccess:C}),r.jsx(C9e,{comboId:A,isOpen:h,onClose:()=>m(!1)})]})},Fp=10,dd="https://bicacuatho.azurewebsites.net",sI=()=>{const[e,t]=B.useState([]),[n,s]=B.useState(""),[i,a]=B.useState("active"),[o,c]=B.useState(!0),[l,u]=B.useState(!1),[d,f]=B.useState(!1),[h,m]=B.useState(!1),[A,g]=B.useState(!1),[p,b]=B.useState(!1),[x,v]=B.useState(!1),[y,N]=B.useState(!1),[P,M]=B.useState(null),[k,D]=B.useState(null),[O,L]=B.useState(null),[F,_]=B.useState(null),[E,T]=B.useState(""),[w,C]=B.useState(""),[j,S]=B.useState(null),[I,R]=B.useState(1),[U,z]=B.useState(!1),[V,X]=B.useState({ten:"",hinhAnh:""}),[$,W]=B.useState({ten:"",hinhAnh:""}),[H,Q]=B.useState(""),G=le=>le?le.startsWith("data:image")?le:`data:image/png;base64,${le}`:"",J=le=>le?le.startsWith("data:")?le.split(",")[1]:le:"",ee=B.useCallback(async()=>{var le,he;try{c(!0);const me=i==="active"?1:0,ve=await Nt.get(`${dd}/api/ThuongHieu?trangThai=${me}`);t(ve.data)}catch(me){we.fire({icon:"error",title:"Lỗi",text:"Lỗi khi tải danh sách thương hiệu: "+((he=(le=me.response)==null?void 0:le.data)==null?void 0:he.message)||me.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{c(!1)}},[i,dd]),K=le=>{s(le.target.value.toLowerCase()),R(1)},ne=B.useMemo(()=>{const le=i==="active"?1:0;return e.filter(me=>me.trangThai===le&&(me.tenThuongHieu.toLowerCase().includes(n)||me.maThuongHieu.toString().includes(n))).sort((me,ve)=>ve.maThuongHieu-me.maThuongHieu)},[e,n,i]),ue=Math.ceil(ne.length/Fp),se=ne.slice((I-1)*Fp,I*Fp),ie=le=>{R(le)},q=le=>{le.preventDefault(),z(!0)},Z=()=>z(!1),te=le=>{le.preventDefault(),z(!1);const he=le.dataTransfer.files[0];if(he&&he.size<=2*1024*1024){const me=new FileReader;me.onloadend=()=>C(me.result),me.readAsDataURL(he)}else we.fire({icon:"error",title:"Lỗi",text:"Hình ảnh phải nhỏ hơn 2MB!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})},re=le=>{var me;const he=(me=le.target.files)==null?void 0:me[0];if(he&&he.size<=2*1024*1024){const ve=new FileReader;ve.onloadend=()=>C(ve.result),ve.readAsDataURL(he)}else we.fire({icon:"error",title:"Lỗi",text:"Hình ảnh phải nhỏ hơn 2MB!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})},Y=()=>{let le=!0;const he={ten:"",hinhAnh:""};return E.trim()||(he.ten="Tên thương hiệu không được để trống!",le=!1),w||(he.hinhAnh="Hình ảnh không được để trống!",le=!1),X(he),le},oe=()=>{var me;let le=!0;const he={ten:"",hinhAnh:""};return(me=j==null?void 0:j.tenThuongHieu)!=null&&me.trim()||(he.ten="Tên thương hiệu không được để trống!",le=!1),j!=null&&j.hinhAnh||(he.hinhAnh="Hình ảnh không được để trống!",le=!1),W(he),le},ae=async()=>{if(Y())try{u(!0);const le=J(w),he=await Nt.post(`${dd}/api/ThuongHieu`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({TenThuongHieu:E,HinhAnh:le,TrangThai:1})});T(""),C(""),X({ten:"",hinhAnh:""}),f(!1),await ee(),we.fire({icon:"success",title:"Thành công",text:"Thêm thương hiệu thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(le){we.fire({icon:"error",title:"Lỗi",text:"Lỗi khi thêm thương hiệu: "+le.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{u(!1)}},ce=async()=>{if(!(!oe()||!j))try{u(!0),Q("");const le=localStorage.getItem("token"),he=J(j.hinhAnh||""),me=await fetch(`${dd}/api/ThuongHieu/${j.maThuongHieu}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:le?`Bearer ${le}`:void 0},body:JSON.stringify({MaThuongHieu:j.maThuongHieu,TenThuongHieu:j.tenThuongHieu,HinhAnh:he,TrangThai:j.trangThai})});if(!me.ok){const ve=await me.text();if(me.status===404)throw new Error("Thương hiệu không tồn tại");if(me.status===409){Q("Tên thương hiệu đã tồn tại");return}else if(me.status===500)throw new Error("Lỗi máy chủ, vui lòng thử lại sau");throw new Error(ve||"Không thể sửa thương hiệu")}m(!1),S(null),Q(""),await ee(),we.fire({icon:"success",title:"Thành công",text:"Sửa thương hiệu thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(le){we.fire({icon:"error",title:"Lỗi",text:"Lỗi khi sửa thương hiệu: "+le.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{u(!1)}},de=async()=>{if(P)try{u(!0);const le=localStorage.getItem("token"),he=await fetch(`${dd}/api/ThuongHieu/${P.maThuongHieu}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:le?`Bearer ${le}`:void 0},body:JSON.stringify({MaThuongHieu:P.maThuongHieu,TenThuongHieu:P.tenThuongHieu,HinhAnh:P.hinhAnh,TrangThai:P.trangThai===1?0:1})});if(!he.ok){const me=await he.text();throw he.status===404?new Error("Thương hiệu không tồn tại"):he.status===409?new Error("Tên thương hiệu đã tồn tại"):he.status===500?new Error("Lỗi máy chủ, vui lòng thử lại sau"):new Error(me||"Không thể xóa thương hiệu")}g(!1),M(null),R(1),await ee(),we.fire({icon:"success",title:"Thành công",text:"Xóa thương hiệu thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(le){we.fire({icon:"error",title:"Lỗi",text:"Lỗi khi xóa thương hiệu: "+le.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{u(!1)}},pe=async()=>{if(O)try{u(!0);const le=localStorage.getItem("token"),he=await fetch(`${dd}/api/ThuongHieu/${O.maThuongHieu}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:le?`Bearer ${le}`:void 0},body:JSON.stringify({MaThuongHieu:O.maThuongHieu,TenThuongHieu:O.tenThuongHieu,HinhAnh:O.hinhAnh,TrangThai:1})});if(!he.ok){const me=await he.text();throw he.status===404?new Error("Thương hiệu không tồn tại"):he.status===409?new Error("Tên thương hiệu đã tồn tại"):he.status===500?new Error("Lỗi máy chủ, vui lòng thử lại sau"):new Error(me||"Không thể khôi phục thương hiệu")}v(!1),L(null),R(1),await ee(),we.fire({icon:"success",title:"Thành công",text:"Khôi phục thương hiệu thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(le){we.fire({icon:"error",title:"Lỗi",text:"Lỗi khi khôi phục thương hiệu: "+le.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{u(!1)}},Ae=async()=>{if(k)try{u(!0);const le=localStorage.getItem("token"),he=await fetch(`${dd}/api/ThuongHieu/${k.maThuongHieu}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:le?`Bearer ${le}`:void 0}});if(!he.ok){const me=await he.text();throw he.status===404?new Error("Thương hiệu không tồn tại"):he.status===409?new Error("Không thể xóa vì có dữ liệu liên quan"):he.status===500?new Error("Lỗi máy chủ, vui lòng thử lại sau"):new Error(me||"Không thể xóa thương hiệu")}b(!1),D(null),R(1),await ee(),we.fire({icon:"success",title:"Thành công",text:"Xóa vĩnh viễn thương hiệu thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(le){we.fire({icon:"error",title:"Lỗi",text:"Lỗi khi xóa thương hiệu: "+le.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{u(!1)}};return B.useEffect(()=>{ee()},[ee]),r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-800",children:"Quản lý thương hiệu"}),i==="active"&&r.jsxs(fe,{className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3]",onClick:()=>f(!0),disabled:o||l,children:[r.jsx(Cg,{className:"mr-2 h-4 w-4"})," Thêm Thương Hiệu"]})]}),r.jsxs(ia,{defaultValue:"active",className:"w-full",onValueChange:le=>a(le),children:[r.jsxs(Mi,{className:"grid w-full md:w-auto grid-cols-2 gap-1",children:[r.jsxs(Bn,{value:"active",className:"flex items-center gap-2",children:[r.jsx(ul,{className:"h-4 w-4"})," Danh sách thương hiệu"]}),r.jsxs(Bn,{value:"inactive",className:"flex items-center gap-2",children:[r.jsx(ul,{className:"h-4 w-4"})," Khôi phục thương hiệu"]})]}),r.jsxs(Hn,{value:"active",children:[r.jsx("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(ye,{type:"search",placeholder:"Tìm kiếm thương hiệu...",value:n,onChange:K,className:"w-full md:w-[820px] pl-10"}),r.jsx(Un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})}),o?r.jsx("div",{className:"flex justify-center items-center",children:r.jsx(As,{className:"h-8 w-8 animate-spin text-[#9b87f5]"})}):r.jsxs(r.Fragment,{children:[r.jsxs(it,{children:[r.jsx(yt,{children:r.jsx(jt,{children:"Danh sách thương hiệu"})}),r.jsx(dt,{children:r.jsxs(Rr,{children:[r.jsx(Ur,{children:r.jsxs(Ht,{children:[r.jsx($e,{children:"STT"}),r.jsx($e,{children:"Hình Ảnh"}),r.jsx($e,{children:"Tên Thương Hiệu"}),r.jsx($e,{children:"Hành Động"})]})}),r.jsx(Hr,{children:se.length>0?se.map((le,he)=>r.jsxs(Ht,{className:"hover:bg-muted/50",children:[r.jsx(He,{children:(I-1)*Fp+he+1}),r.jsx(He,{children:le.hinhAnh?r.jsx("img",{src:G(le.hinhAnh),alt:le.tenThuongHieu,className:"h-12 w-12 object-cover rounded",onError:me=>me.currentTarget.src="/placeholder-image.jpg"}):"Không có hình"}),r.jsx(He,{children:le.tenThuongHieu}),r.jsx(He,{children:r.jsxs(yr,{children:[r.jsx(wr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsx(li,{className:"h-4 w-4"})})}),r.jsxs(Ar,{align:"end",children:[r.jsxs(ut,{onClick:()=>{_(le),N(!0)},className:"text-green-700",children:[r.jsx(wa,{className:"mr-2 h-4 w-4"})," Xem"]}),r.jsxs(ut,{onClick:()=>{S({...le}),m(!0)},className:"text-blue-700",children:[r.jsx(Aa,{className:"mr-2 h-4 w-4"})," Sửa"]}),r.jsxs(ut,{onClick:()=>{M(le),g(!0)},className:"text-red-700",children:[r.jsx(Ha,{className:"mr-2 h-4 w-4"})," Xóa"]})]})]})})]},le.maThuongHieu)):r.jsx(Ht,{children:r.jsx(He,{colSpan:5,className:"text-center py-6 text-muted-foreground",children:"Không tìm thấy thương hiệu nào."})})})]})})]}),ue>1&&r.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[r.jsxs(fe,{onClick:()=>ie(I-1),disabled:I===1,variant:"outline",className:"flex items-center",children:[r.jsx(ss,{className:"h-4 w-4 mr-2"}),"Trước"]}),Array.from({length:ue},(le,he)=>he+1).map(le=>r.jsx(fe,{onClick:()=>ie(le),variant:I===le?"default":"outline",className:I===le?"bg-[#9b87f5] text-white hover:bg-[#8a76e3]":"",children:le},le)),r.jsxs(fe,{onClick:()=>ie(I+1),disabled:I===ue,variant:"outline",className:"flex items-center",children:["Sau",r.jsx(jr,{className:"h-4 w-4 ml-2"})]})]})]})]}),r.jsxs(Hn,{value:"inactive",children:[r.jsx("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(ye,{type:"search",placeholder:"Tìm kiếm thương hiệu đã xóa...",value:n,onChange:K,className:"w-full md:w-[820px] pl-10"}),r.jsx(Un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})}),o?r.jsx("div",{className:"flex justify-center items-center",children:r.jsx(As,{className:"h-8 w-8 animate-spin text-[#9b87f5]"})}):r.jsxs(r.Fragment,{children:[r.jsxs(it,{children:[r.jsx(yt,{children:r.jsx(jt,{children:"Danh Sách Thương Hiệu Đã Xóa"})}),r.jsx(dt,{children:r.jsxs(Rr,{children:[r.jsx(Ur,{children:r.jsxs(Ht,{children:[r.jsx($e,{children:"STT"}),r.jsx($e,{children:"Hình Ảnh"}),r.jsx($e,{children:"Tên Thương Hiệu"}),r.jsx($e,{children:"Hành Động"})]})}),r.jsx(Hr,{children:se.length>0?se.map((le,he)=>r.jsxs(Ht,{className:"hover:bg-muted/50",children:[r.jsx(He,{children:(I-1)*Fp+he+1}),r.jsx(He,{children:le.hinhAnh?r.jsx("img",{src:G(le.hinhAnh),alt:le.tenThuongHieu,className:"h-12 w-12 object-cover rounded",onError:me=>me.currentTarget.src="/placeholder-image.jpg"}):"Không có hình"}),r.jsx(He,{children:le.tenThuongHieu}),r.jsx(He,{children:r.jsxs(yr,{children:[r.jsx(wr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsx(li,{className:"h-4 w-4"})})}),r.jsxs(Ar,{align:"end",children:[r.jsxs(ut,{onClick:()=>{_(le),N(!0)},className:"text-green-700",children:[r.jsx(wa,{className:"mr-2 h-4 w-4"})," Chi tiết"]}),r.jsxs(ut,{onClick:()=>{L(le),v(!0)},className:"text-blue-700",children:[r.jsx(mm,{className:"mr-2 h-4 w-4"})," Khôi phục"]}),r.jsxs(ut,{onClick:()=>{D(le),b(!0)},className:"text-red-700",children:[r.jsx(mh,{className:"mr-2 h-4 w-4"})," Xóa vĩnh viễn"]})]})]})})]},le.maThuongHieu)):r.jsx(Ht,{children:r.jsx(He,{colSpan:5,className:"text-center py-6 text-muted-foreground",children:"Không tìm thấy thương hiệu nào."})})})]})})]}),ue>1&&r.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[r.jsxs(fe,{onClick:()=>ie(I-1),disabled:I===1,variant:"outline",className:"flex items-center",children:[r.jsx(ss,{className:"h-4 w-4 mr-2"}),"Trước"]}),Array.from({length:ue},(le,he)=>he+1).map(le=>r.jsx(fe,{onClick:()=>ie(le),variant:I===le?"default":"outline",className:I===le?"bg-[#9b87f5] text-white hover:bg-[#8a76e3]":"",children:le},le)),r.jsxs(fe,{onClick:()=>ie(I+1),disabled:I===ue,variant:"outline",className:"flex items-center",children:["Sau",r.jsx(jr,{className:"h-4 w-4 ml-2"})]})]})]})]})]}),r.jsx(Jt,{open:d,onOpenChange:f,children:r.jsxs(Wt,{className:"max-w-4xl w-full",children:[r.jsxs(an,{children:[r.jsx(tn,{children:"Thêm Thương Hiệu"}),r.jsx(Or,{children:"Nhập thông tin thương hiệu mới."})]}),r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tên Thương Hiệu"}),r.jsx(ye,{value:E,onChange:le=>{T(le.target.value),X(he=>({...he,ten:""}))},placeholder:"Tên thương hiệu",disabled:l}),V.ten&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:V.ten})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hình Ảnh"}),r.jsx("div",{className:`border-2 border-dashed rounded-lg p-4 text-center ${U?"border-blue-500 bg-blue-50":"border-gray-300"}`,onDragOver:q,onDragLeave:Z,onDrop:te,children:w?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:w,alt:"Preview",className:"h-20 w-20 mx-auto object-cover rounded"}),r.jsx("button",{onClick:()=>C(""),className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center",disabled:l,children:"✕"})]}):r.jsxs("div",{children:[r.jsx(Wr,{className:"h-8 w-8 mx-auto text-gray-400"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Kéo và thả hình ảnh vào đây hoặc nhấp để chọn (Tối đa 2MB)"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"fileInputThem",onChange:re,disabled:l}),r.jsx("label",{htmlFor:"fileInputThem",className:"cursor-pointer text-blue-500 hover:underline",children:"Chọn tệp"})]})}),V.hinhAnh&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:V.hinhAnh})]})]}),r.jsxs(Rn,{className:"flex justify-end space-x-2 mt-4",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>f(!1),disabled:l,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:ae,disabled:l,className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3] flex items-center gap-2",children:[l?"Đang xử lý...":"Thêm",r.jsx(Cg,{className:"h-4 w-4"})]})]})]})}),r.jsx(Jt,{open:h,onOpenChange:m,children:r.jsxs(Wt,{className:"max-w-4xl w-full",children:[r.jsxs(an,{children:[r.jsx(tn,{children:"Sửa Thương Hiệu"}),r.jsx(Or,{children:"Cập nhật thông tin thương hiệu."})]}),j&&r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tên Thương Hiệu"}),r.jsx(ye,{value:j.tenThuongHieu,onChange:le=>{S({...j,tenThuongHieu:le.target.value}),W(he=>({...he,ten:""})),Q("")},placeholder:"Tên thương hiệu",disabled:l}),$.ten&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:$.ten}),H&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:H})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hình Ảnh"}),r.jsx("div",{className:`border-2 border-dashed rounded-lg p-4 text-center ${U?"border-blue-500 bg-blue-50":"border-gray-300"}`,onDragOver:q,onDragLeave:Z,onDrop:te,children:j.hinhAnh?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:G(j.hinhAnh),alt:"Preview",className:"h-20 w-20 mx-auto object-cover rounded"}),r.jsx("button",{onClick:()=>S({...j,hinhAnh:""}),className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center",disabled:l,children:"✕"})]}):r.jsxs("div",{children:[r.jsx(Wr,{className:"h-8 w-8 mx-auto text-gray-400"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Kéo và thả hình ảnh vào đây hoặc nhấp để chọn (Tối đa 2MB)"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"fileInputSua",onChange:le=>{var me;const he=(me=le.target.files)==null?void 0:me[0];if(he&&he.size<=2*1024*1024){const ve=new FileReader;ve.onloadend=()=>S({...j,hinhAnh:ve.result}),ve.readAsDataURL(he)}else we.fire({icon:"error",title:"Lỗi",text:"Hình ảnh phải nhỏ hơn 2MB!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})},disabled:l}),r.jsx("label",{htmlFor:"fileInputSua",className:"cursor-pointer text-blue-500 hover:underline",children:"Chọn tệp"})]})}),$.hinhAnh&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:$.hinhAnh})]})]}),r.jsxs(Rn,{className:"flex justify-end space-x-2 mt-4",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>m(!1),disabled:l,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:ce,disabled:l,className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3] flex items-center gap-2",children:[l?"Đang xử lý...":"Lưu",r.jsx(Aa,{className:"h-4 w-4"})]})]})]})}),r.jsx(Jt,{open:y,onOpenChange:N,children:r.jsxs(Wt,{className:"max-w-4xl w-full",children:[r.jsxs(an,{children:[r.jsx(tn,{children:"Chi Tiết Thương Hiệu"}),r.jsx(Or,{children:"Thông tin chi tiết của thương hiệu."})]}),F&&r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tên Thương Hiệu"}),r.jsx(ye,{value:F.tenThuongHieu,disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hình Ảnh"}),F.hinhAnh?r.jsx("img",{src:G(F.hinhAnh),alt:F.tenThuongHieu,className:"h-20 w-20 object-cover rounded"}):r.jsx("p",{children:"Không có hình ảnh"})]})]}),r.jsx(Rn,{className:"flex justify-end mt-4",children:r.jsxs(fe,{variant:"ghost",onClick:()=>N(!1),className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Đóng"]})})]})}),r.jsx(Jt,{open:A,onOpenChange:g,children:r.jsxs(Wt,{children:[r.jsxs(an,{children:[r.jsx(tn,{children:"Xác Nhận Xóa"}),r.jsxs(Or,{children:['Bạn có chắc chắn muốn xóa thương hiệu "',P==null?void 0:P.tenThuongHieu,'" không?']})]}),r.jsxs(Rn,{className:"flex justify-end space-x-2",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>g(!1),disabled:l,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:de,disabled:l,className:"bg-red-500 text-white hover:bg-red-600 flex items-center gap-2",children:[l?"Đang xử lý...":"Xóa",r.jsx(Ha,{className:"h-4 w-4"})]})]})]})}),r.jsx(Jt,{open:x,onOpenChange:v,children:r.jsxs(Wt,{children:[r.jsxs(an,{children:[r.jsx(tn,{children:"Xác Nhận Khôi Phục"}),r.jsxs(Or,{children:['Bạn có chắc chắn muốn khôi phục thương hiệu "',O==null?void 0:O.tenThuongHieu,'" không?']})]}),r.jsxs(Rn,{className:"flex justify-end space-x-2",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>v(!1),disabled:l,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:pe,disabled:l,className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3] flex items-center gap-2",children:[l?"Đang xử lý...":"Khôi phục",r.jsx(mm,{className:"h-4 w-4"})]})]})]})}),r.jsx(Jt,{open:p,onOpenChange:b,children:r.jsxs(Wt,{children:[r.jsxs(an,{children:[r.jsx(tn,{children:"Xác Nhận Xóa Vĩnh Viễn"}),r.jsxs(Or,{children:['Bạn có chắc chắn muốn xóa vĩnh viễn thương hiệu "',k==null?void 0:k.tenThuongHieu,'" không? Hành động này không thể hoàn tác.']})]}),r.jsxs(Rn,{className:"flex justify-end space-x-2",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>b(!1),disabled:l,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:Ae,disabled:l,className:"bg-red-500 text-white hover:bg-red-600 flex items-center gap-2",children:[l?"Đang xử lý...":"Xóa",r.jsx(mh,{className:"h-4 w-4"})]})]})]})})]})},Rp=10,hd="https://bicacuatho.azurewebsites.net",yb=e=>e?e.startsWith("data:image")?e:`data:image/png;base64,${e}`:"/placeholder-image.jpg",wb=e=>e?e.startsWith("data:")?e.split(",")[1]:e:null,iI=()=>{const[e,t]=B.useState([]),[n,s]=B.useState([]),[i,a]=B.useState([]),[o,c]=B.useState(""),[l,u]=B.useState("active"),[d,f]=B.useState(!0),[h,m]=B.useState(""),[A,g]=B.useState(!1),[p,b]=B.useState(!1),[x,v]=B.useState(!1),[y,N]=B.useState(!1),[P,M]=B.useState(!1),[k,D]=B.useState(!1),[O,L]=B.useState(null),[F,_]=B.useState(null),[E,T]=B.useState(null),[w,C]=B.useState(""),[j,S]=B.useState(""),[I,R]=B.useState([""]),[U,z]=B.useState(null),[V,X]=B.useState(null),[$,W]=B.useState(null),[H,Q]=B.useState(1),[G,J]=B.useState(!1),[ee,K]=B.useState({ten:"",kiHieu:"",kichThuoc:"",hinhAnh:""}),[ne,ue]=B.useState({ten:"",kichThuoc:"",hinhAnh:""}),[se,ie]=B.useState(!1),q=ge=>{const Ne=new Map,ke=l==="active"?1:0;return ge.forEach(ze=>{if(ze.trangThai!==ke)return;const Re=`${ze.tenLoaiSanPham}_${ze.kiHieu}`;Ne.has(Re)||Ne.set(Re,{tenLoaiSanPham:ze.tenLoaiSanPham,kiHieu:ze.kiHieu,hinhAnh:ze.hinhAnh,entries:[]}),Ne.get(Re).entries.push(ze)}),Array.from(Ne.values()).sort((ze,Re)=>ze.tenLoaiSanPham.localeCompare(Re.tenLoaiSanPham))},Z=B.useCallback(async()=>{f(!0);try{const ge=await fetch(`${hd}/api/LoaiSanPham?trangThai=${l==="active"?1:0}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!ge.ok){const ze=await ge.text();throw ge.status===401?new Error("Không có quyền truy cập, vui lòng đăng nhập lại."):ge.status===500?new Error("Lỗi máy chủ, vui lòng thử lại sau."):new Error(ze||"Không thể lấy danh sách loại sản phẩm.")}const Ne=await ge.json();t(Ne);const ke=q(Ne);s(ke),a(ke)}catch(ge){m(ge.message),we.fire({icon:"error",title:"Lỗi",text:"Lỗi khi tải danh sách loại sản phẩm: "+ge.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{f(!1)}},[l]),te=B.useCallback(async()=>{if(!o.trim()){a(n);return}f(!0);try{const ge=new URLSearchParams({tenLoai:o,trangThai:l==="active"?"1":"0"}),Ne=await fetch(`${hd}/api/LoaiSanPham/Search?${ge}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!Ne.ok){const Re=await Ne.text();throw Ne.status===401?new Error("Không có quyền truy cập, vui lòng đăng nhập lại."):Ne.status===500?new Error("Lỗi máy chủ, vui lòng thử lại sau."):new Error(Re||"Không thể tìm kiếm loại sản phẩm.")}const ke=await Ne.json(),ze=q(ke);a(ze),Q(1)}catch(ge){m(ge.message),we.fire({icon:"error",title:"Lỗi",text:"Lỗi khi tìm kiếm loại sản phẩm: "+ge.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{f(!1)}},[o,n,l]);B.useEffect(()=>{const ge=setTimeout(()=>{te()},300);return()=>clearTimeout(ge)},[o,l,te]),B.useEffect(()=>{Z()},[Z]);const re=ge=>{if(ge.size>2*1024*1024){we.fire({icon:"error",title:"Lỗi",text:"Kích thước hình ảnh không được vượt quá 2MB!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}const Ne=new FileReader;Ne.onloadend=()=>{const ke=Ne.result;A?(z(ke),K(ze=>({...ze,hinhAnh:""}))):p&&V&&(X({...V,hinhAnh:ke}),ue(ze=>({...ze,hinhAnh:""})))},Ne.onerror=()=>{we.fire({icon:"error",title:"Lỗi",text:"Không thể đọc tệp hình ảnh!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})},Ne.readAsDataURL(ge)},Y=ge=>{ge.preventDefault(),J(!0)},oe=ge=>{ge.preventDefault(),J(!1)},ae=ge=>{ge.preventDefault(),J(!1);const Ne=ge.dataTransfer.files[0];Ne&&Ne.type.startsWith("image/")?re(Ne):we.fire({icon:"error",title:"Lỗi",text:"Vui lòng chọn một tệp hình ảnh!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})},ce=ge=>{var ke;const Ne=(ke=ge.target.files)==null?void 0:ke[0];Ne&&Ne.type.startsWith("image/")?re(Ne):we.fire({icon:"error",title:"Lỗi",text:"Vui lòng chọn một tệp hình ảnh!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})},de=()=>{R([...I,""])},pe=ge=>{R(I.filter((Ne,ke)=>ke!==ge))},Ae=(ge,Ne)=>{const ke=[...I];ke[ge]=Ne,R(ke)},le=()=>{let ge=!0;const Ne={ten:"",kiHieu:"",kichThuoc:"",hinhAnh:""},ke=j.trim().toUpperCase();w.trim()?w.length>100&&(Ne.ten="Tên loại sản phẩm không được dài quá 100 ký tự!",ge=!1):(Ne.ten="Tên loại sản phẩm không được để trống!",ge=!1),j.trim()?ke.length!==1?(Ne.kiHieu="Ký hiệu phải đúng 1 ký tự!",ge=!1):/^[A-Z]$/.test(ke)?n.some(Re=>Re.kiHieu.toUpperCase()===ke&&Re.entries.some(Ve=>Ve.trangThai===1))&&(Ne.kiHieu="Ký hiệu đã tồn tại! Vui lòng chọn ký hiệu khác.",ge=!1):(Ne.kiHieu="Ký hiệu phải là chữ cái in hoa (A-Z)!",ge=!1):(Ne.kiHieu="Ký hiệu không được để trống!",ge=!1);const ze=I.map(Re=>Re.trim().toUpperCase()).filter(Re=>Re);return ze.length===0?(Ne.kichThuoc="Phải nhập ít nhất một kích thước!",ge=!1):(new Set(ze).size!==ze.length&&(Ne.kichThuoc="Các kích thước không được trùng lặp!",ge=!1),ze.some(Ve=>!/^[A-Z0-9]{1,3}$/.test(Ve))&&(Ne.kichThuoc="Kích thước phải là chữ cái in hoa hoặc số (1-3 ký tự, ví dụ: S, M, XL, 2XL)!",ge=!1)),U||(Ne.hinhAnh="Hình ảnh không được để trống!",ge=!1),K(Ne),ge},he=()=>{var ze;let ge=!0;const Ne={ten:"",kichThuoc:"",hinhAnh:""};(ze=V==null?void 0:V.tenLoaiSanPham)!=null&&ze.trim()?V.tenLoaiSanPham.length>100&&(Ne.ten="Tên loại sản phẩm không được dài quá 100 ký tự!",ge=!1):(Ne.ten="Tên loại sản phẩm không được để trống!",ge=!1);const ke=I.map(Re=>Re.trim().toUpperCase()).filter(Re=>Re);if(ke.length>0){new Set(ke).size!==ke.length&&(Ne.kichThuoc="Các kích thước mới không được trùng lặp!",ge=!1),ke.some(rt=>!/^[A-Z0-9]{1,3}$/.test(rt))&&(Ne.kichThuoc="Kích thước phải là chữ cái in hoa hoặc số (1-3 ký tự, ví dụ: S, M, XL, 2XL)!",ge=!1);const Ve=(V==null?void 0:V.entries.filter(rt=>rt.trangThai===1).flatMap(rt=>rt.kichThuoc||[]).map(rt=>rt.toUpperCase()))||[];ke.some(rt=>Ve.includes(rt))&&(Ne.kichThuoc="Kích thước mới không được trùng với kích thước hiện tại!",ge=!1)}return V!=null&&V.hinhAnh||(Ne.hinhAnh="Hình ảnh không được để trống!",ge=!1),ue(Ne),ge},me=async()=>{if(le()){ie(!0);try{const ge=wb(U),Ne=j.trim().toUpperCase(),ke=I.map(Re=>Re.trim().toUpperCase()).filter(Re=>Re),ze=await fetch(`${hd}/api/LoaiSanPham`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:JSON.stringify({tenLoaiSanPham:w.trim(),kiHieu:Ne,kichThuoc:ke.length>0?ke:null,hinhAnh:ge,trangThai:1})});if(!ze.ok){const Re=await ze.json();throw ze.status===400?new Error(Re.error||"Dữ liệu không hợp lệ, vui lòng kiểm tra lại."):ze.status===401?new Error("Không có quyền truy cập, vui lòng đăng nhập lại."):ze.status===409?new Error(Re.error||`Ký hiệu ${Ne} đã tồn tại trong cơ sở dữ liệu.`):ze.status===500?new Error("Lỗi máy chủ, vui lòng thử lại sau."):new Error("Không thể thêm loại sản phẩm.")}C(""),S(""),R([""]),z(null),K({ten:"",kiHieu:"",kichThuoc:"",hinhAnh:""}),g(!1),await Z(),we.fire({icon:"success",title:"Thành công",text:"Thêm loại sản phẩm thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(ge){m(ge.message),we.fire({icon:"error",title:"Lỗi",text:"Lỗi khi thêm loại sản phẩm: "+ge.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{ie(!1)}}},ve=async()=>{if(!(!V||!he())){ie(!0);try{const ge=wb(V.hinhAnh),Ne=V.kiHieu.toUpperCase(),ke=I.map(Ve=>Ve.trim().toUpperCase()).filter(Ve=>Ve),ze=V.entries.filter(Ve=>Ve.trangThai===1).map(Ve=>{const rt=[...Ve.kichThuoc||[],...ke].filter((Dt,xt,Qt)=>Dt&&Qt.indexOf(Dt)===xt);return fetch(`${hd}/api/LoaiSanPham/${Ve.maLoaiSanPham}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:JSON.stringify({maLoaiSanPham:Ve.maLoaiSanPham,tenLoaiSanPham:V.tenLoaiSanPham.trim(),kiHieu:Ne,kichThuoc:rt.length>0?rt:null,hinhAnh:ge,trangThai:1})})}),Re=await Promise.all(ze);for(const Ve of Re)if(!Ve.ok){const rt=await Ve.json();throw Ve.status===400?new Error(rt.error||"Dữ liệu không hợp lệ, vui lòng kiểm tra lại."):Ve.status===401?new Error("Không có quyền truy cập, vui lòng đăng nhập lại."):Ve.status===404?new Error(rt.error||"Loại sản phẩm không tồn tại."):Ve.status===500?new Error("Lỗi máy chủ, vui lòng thử lại sau."):new Error("Không thể cập nhật loại sản phẩm.")}b(!1),X(null),R([""]),ue({ten:"",kichThuoc:"",hinhAnh:""}),await Z(),we.fire({icon:"success",title:"Thành công",text:"Cập nhật loại sản phẩm thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(ge){m(ge.message),we.fire({icon:"error",title:"Lỗi",text:"Lỗi khi cập nhật loại sản phẩm: "+ge.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{ie(!1)}}},_e=async()=>{if(O){ie(!0);try{const ge=O.entries.filter(ke=>ke.trangThai===1).map(ke=>fetch(`${hd}/api/LoaiSanPham/${ke.maLoaiSanPham}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:JSON.stringify({maLoaiSanPham:ke.maLoaiSanPham,tenLoaiSanPham:ke.tenLoaiSanPham,kiHieu:ke.kiHieu,kichThuoc:ke.kichThuoc||null,hinhAnh:wb(ke.hinhAnh),trangThai:0})})),Ne=await Promise.all(ge);for(const ke of Ne)if(!ke.ok){const ze=await ke.json();throw ke.status===400?new Error(ze.error||"Dữ liệu không hợp lệ, vui lòng kiểm tra lại."):ke.status===401?new Error("Không có quyền truy cập, vui lòng đăng nhập lại."):ke.status===404?new Error(ze.error||"Loại sản phẩm không tồn tại."):ke.status===500?new Error("Lỗi máy chủ, vui lòng thử lại sau."):new Error("Không thể ẩn loại sản phẩm.")}v(!1),L(null),await Z(),we.fire({icon:"success",title:"Thành công",text:"Đã ẩn loại sản phẩm!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(ge){m(ge.message),we.fire({icon:"error",title:"Lỗi",text:"Lỗi khi ẩn loại sản phẩm: "+ge.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{ie(!1)}}},Te=async()=>{if(E){ie(!0);try{const ge=E.entries.filter(ke=>ke.trangThai===0).map(ke=>fetch(`${hd}/api/LoaiSanPham/${ke.maLoaiSanPham}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:JSON.stringify({maLoaiSanPham:ke.maLoaiSanPham,tenLoaiSanPham:ke.tenLoaiSanPham,kiHieu:ke.kiHieu,kichThuoc:ke.kichThuoc||null,hinhAnh:wb(ke.hinhAnh),trangThai:1})})),Ne=await Promise.all(ge);for(const ke of Ne)if(!ke.ok){const ze=await ke.json();throw ke.status===400?new Error(ze.error||"Dữ liệu không hợp lệ, vui lòng kiểm tra lại."):ke.status===401?new Error("Không có quyền truy cập, vui lòng đăng nhập lại."):ke.status===404?new Error(ze.error||"Loại sản phẩm không tồn tại."):ke.status===500?new Error("Lỗi máy chủ, vui lòng thử lại sau."):new Error("Không thể khôi phục loại sản phẩm.")}M(!1),T(null),await Z(),we.fire({icon:"success",title:"Thành công",text:"Đã khôi phục loại sản phẩm!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(ge){m(ge.message),we.fire({icon:"error",title:"Lỗi",text:"Lỗi khi khôi phục loại sản phẩm: "+ge.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{ie(!1)}}},Ue=async()=>{if(F){ie(!0);try{const ge=F.entries.map(ke=>fetch(`${hd}/api/LoaiSanPham/${ke.maLoaiSanPham}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`}})),Ne=await Promise.all(ge);for(const ke of Ne)if(!ke.ok){const ze=await ke.json();throw ke.status===401?new Error("Không có quyền truy cập, vui lòng đăng nhập lại."):ke.status===404?new Error(ze.error||"Loại sản phẩm không tồn tại."):ke.status===409?new Error(ze.error||"Không thể xóa vì có dữ liệu liên quan."):ke.status===500?new Error("Lỗi máy chủ, vui lòng thử lại sau."):new Error("Không thể xóa vĩnh viễn loại sản phẩm.")}N(!1),_(null),Q(1),await Z(),we.fire({icon:"success",title:"Thành công",text:"Đã xóa vĩnh viễn loại sản phẩm!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(ge){m(ge.message),we.fire({icon:"error",title:"Lỗi",text:"Lỗi khi xóa vĩnh viễn loại sản phẩm: "+ge.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{ie(!1)}}},Ee=ge=>{c(ge.target.value),Q(1)},Me=B.useMemo(()=>[...i].sort((ge,Ne)=>ge.tenLoaiSanPham.localeCompare(Ne.tenLoaiSanPham)),[i]),Ie=Math.ceil(Me.length/Rp),Ce=Me.slice((H-1)*Rp,H*Rp),Pe=ge=>{Q(ge)};return r.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-800",children:"Quản lý loại sản phẩm"}),r.jsxs(fe,{className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3]",onClick:()=>g(!0),disabled:d||se,children:[r.jsx(Cg,{className:"mr-2 h-4 w-4"})," Thêm loại sản phẩm"]})]}),r.jsxs(ia,{defaultValue:"active",className:"w-full",onValueChange:ge=>{u(ge),Q(1)},children:[r.jsxs(Mi,{className:"grid w-full md:w-auto grid-cols-2 gap-1",children:[r.jsxs(Bn,{value:"active",className:"flex items-center gap-2",children:[r.jsx(ul,{className:"h-4 w-4"})," Danh sách loại sản phẩm"]}),r.jsxs(Bn,{value:"inactive",className:"flex items-center gap-2",children:[r.jsx(ul,{className:"h-4 w-4"})," Khôi phục loại sản phẩm"]})]}),r.jsxs(Hn,{value:"active",children:[r.jsx("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:r.jsxs("div",{className:"relative w-full md:w-[820px]",children:[r.jsx(ye,{type:"search",placeholder:"Tìm kiếm loại sản phẩm...",value:o,onChange:Ee,className:"pl-10",disabled:d||se}),r.jsx(Un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})}),d?r.jsx("div",{className:"flex justify-center items-center",children:r.jsx(As,{className:"h-8 w-8 animate-spin text-[#9b87f5]"})}):h?r.jsx("p",{className:"text-red-500",children:h}):r.jsxs(r.Fragment,{children:[r.jsxs(it,{children:[r.jsx(yt,{children:r.jsx(jt,{children:"Danh sách loại sản phẩm"})}),r.jsx(dt,{children:r.jsxs(Rr,{children:[r.jsx(Ur,{children:r.jsxs(Ht,{children:[r.jsx($e,{children:"STT"}),r.jsx($e,{children:"Hình Ảnh"}),r.jsx($e,{children:"Tên Loại Sản Phẩm"}),r.jsx($e,{children:"Ký Hiệu"}),r.jsx($e,{children:"Kích Thước"}),r.jsx($e,{children:"Hành Động"})]})}),r.jsx(Hr,{children:Ce.length>0?Ce.map((ge,Ne)=>r.jsxs(Ht,{className:"hover:bg-muted/50",children:[r.jsx(He,{children:(H-1)*Rp+Ne+1}),r.jsx(He,{children:ge.hinhAnh?r.jsx("img",{src:yb(ge.hinhAnh),alt:ge.tenLoaiSanPham,className:"h-12 w-12 object-cover rounded",onError:ke=>ke.currentTarget.src="/placeholder-image.jpg"}):"Không có hình"}),r.jsx(He,{children:ge.tenLoaiSanPham}),r.jsx(He,{children:ge.kiHieu}),r.jsx(He,{children:ge.entries.map(ke=>(ke.kichThuoc||[]).join(", ")||"Không có").join("; ")}),r.jsx(He,{children:r.jsxs(yr,{children:[r.jsx(wr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsx(li,{className:"h-4 w-4"})})}),r.jsxs(Ar,{align:"end",children:[r.jsxs(ut,{onClick:()=>{W(ge),D(!0)},className:"text-green-700",children:[r.jsx(wa,{className:"mr-2 h-4 w-4"})," Xem"]}),r.jsxs(ut,{onClick:()=>{X({...ge,hinhAnh:ge.hinhAnh||null}),R([""]),ue({ten:"",kichThuoc:"",hinhAnh:""}),b(!0)},className:"text-blue-700",children:[r.jsx(Aa,{className:"mr-2 h-4 w-4"})," Sửa"]}),r.jsxs(ut,{onClick:()=>{L(ge),v(!0)},className:"text-red-700",children:[r.jsx(Ha,{className:"mr-2 h-4 w-4"})," Ẩn"]})]})]})})]},`${ge.kiHieu}_${ge.tenLoaiSanPham}`)):r.jsx(Ht,{children:r.jsx(He,{colSpan:6,className:"text-center py-6 text-muted-foreground",children:"Không tìm thấy loại sản phẩm nào."})})})]})})]}),Ie>1&&r.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[r.jsxs(fe,{onClick:()=>Pe(H-1),disabled:H===1||d||se,variant:"outline",className:"flex items-center",children:[r.jsx(ss,{className:"h-4 w-4 mr-2"}),"Trước"]}),Array.from({length:Ie},(ge,Ne)=>Ne+1).map(ge=>r.jsx(fe,{onClick:()=>Pe(ge),variant:H===ge?"default":"outline",className:H===ge?"bg-[#9b87f5] text-white hover:bg-[#8a76e3]":"",disabled:d||se,children:ge},ge)),r.jsxs(fe,{onClick:()=>Pe(H+1),disabled:H===Ie||d||se,variant:"outline",className:"flex items-center",children:["Sau",r.jsx(jr,{className:"h-4 w-4 ml-2"})]})]})]})]}),r.jsxs(Hn,{value:"inactive",children:[r.jsx("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:r.jsxs("div",{className:"relative w-full md:w-[820px]",children:[r.jsx(ye,{type:"search",placeholder:"Tìm kiếm loại sản phẩm...",value:o,onChange:Ee,className:"pl-10",disabled:d||se}),r.jsx(Un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})}),d?r.jsx("div",{className:"flex justify-center items-center",children:r.jsx(As,{className:"h-8 w-8 animate-spin text-[#9b87f5]"})}):h?r.jsx("p",{className:"text-red-500",children:h}):r.jsxs(r.Fragment,{children:[r.jsxs(it,{children:[r.jsx(yt,{children:r.jsx(jt,{children:"Danh sách loại sản phẩm đã ẩn"})}),r.jsx(dt,{children:r.jsxs(Rr,{children:[r.jsx(Ur,{children:r.jsxs(Ht,{children:[r.jsx($e,{children:"STT"}),r.jsx($e,{children:"Hình Ảnh"}),r.jsx($e,{children:"Tên Loại Sản Phẩm"}),r.jsx($e,{children:"Ký Hiệu"}),r.jsx($e,{children:"Kích Thước"}),r.jsx($e,{children:"Hành Động"})]})}),r.jsx(Hr,{children:Ce.length>0?Ce.map((ge,Ne)=>r.jsxs(Ht,{className:"hover:bg-muted/50",children:[r.jsx(He,{children:(H-1)*Rp+Ne+1}),r.jsx(He,{children:ge.hinhAnh?r.jsx("img",{src:yb(ge.hinhAnh),alt:ge.tenLoaiSanPham,className:"h-12 w-12 object-cover rounded",onError:ke=>ke.currentTarget.src="/placeholder-image.jpg"}):"Không có hình"}),r.jsx(He,{children:ge.tenLoaiSanPham}),r.jsx(He,{children:ge.kiHieu}),r.jsx(He,{children:ge.entries.map(ke=>(ke.kichThuoc||[]).join(", ")||"Không có").join("; ")}),r.jsx(He,{children:r.jsxs(yr,{children:[r.jsx(wr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsx(li,{className:"h-4 w-4"})})}),r.jsxs(Ar,{align:"end",children:[r.jsxs(ut,{onClick:()=>{W(ge),D(!0)},className:"text-green-700",children:[r.jsx(wa,{className:"mr-2 h-4 w-4"})," Chi tiết"]}),r.jsxs(ut,{onClick:()=>{T(ge),M(!0)},className:"text-blue-700",children:[r.jsx(mm,{className:"mr-2 h-4 w-4"})," Khôi phục"]}),r.jsxs(ut,{onClick:()=>{_(ge),N(!0)},className:"text-red-700",children:[r.jsx(mh,{className:"mr-2 h-4 w-4"})," Xóa vĩnh viễn"]})]})]})})]},`${ge.kiHieu}_${ge.tenLoaiSanPham}`)):r.jsx(Ht,{children:r.jsx(He,{colSpan:6,className:"text-center py-6 text-muted-foreground",children:"Không có loại sản phẩm nào để khôi phục."})})})]})})]}),Ie>1&&r.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[r.jsxs(fe,{onClick:()=>Pe(H-1),disabled:H===1||d||se,variant:"outline",className:"flex items-center",children:[r.jsx(ss,{className:"h-4 w-4 mr-2"}),"Trước"]}),Array.from({length:Ie},(ge,Ne)=>Ne+1).map(ge=>r.jsx(fe,{onClick:()=>Pe(ge),variant:H===ge?"default":"outline",className:H===ge?"bg-[#9b87f5] text-white hover:bg-[#8a76e3]":"",disabled:d||se,children:ge},ge)),r.jsxs(fe,{onClick:()=>Pe(H+1),disabled:H===Ie||d||se,variant:"outline",className:"flex items-center",children:["Sau",r.jsx(jr,{className:"h-4 w-4 ml-2"})]})]})]})]})]}),r.jsx(Jt,{open:A,onOpenChange:ge=>{g(ge),ge||(C(""),S(""),R([""]),z(null),K({ten:"",kiHieu:"",kichThuoc:"",hinhAnh:""}))},children:r.jsxs(Wt,{className:"max-w-4xl w-full",children:[r.jsxs(an,{children:[r.jsx(tn,{children:"Thêm Loại Sản Phẩm"}),r.jsx(Or,{children:"Nhập thông tin loại sản phẩm mới."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tên Loại Sản Phẩm"}),r.jsx(ye,{value:w,onChange:ge=>{C(ge.target.value),K(Ne=>({...Ne,ten:""}))},placeholder:"Tên loại sản phẩm",maxLength:100,disabled:se}),ee.ten&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:ee.ten})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ký Hiệu"}),r.jsx(ye,{value:j,onChange:ge=>{S(ge.target.value.toUpperCase()),K(Ne=>({...Ne,kiHieu:""}))},placeholder:"Ký hiệu (1 chữ cái in hoa)",maxLength:1,disabled:se}),ee.kiHieu&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:ee.kiHieu})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hình Ảnh"}),r.jsx("div",{className:`border-2 border-dashed rounded-lg p-4 text-center ${G?"border-blue-500 bg-blue-50":"border-gray-300"}`,onDragOver:Y,onDragLeave:oe,onDrop:ae,children:U?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:U,alt:"Preview",className:"h-32 w-64 mx-auto object-cover rounded"}),r.jsx("button",{onClick:()=>z(null),className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center",disabled:se,children:"✕"})]}):r.jsxs("div",{children:[r.jsx(Wr,{className:"h-8 w-8 mx-auto text-gray-400"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Kéo và thả hình ảnh vào đây hoặc nhấp để chọn (Tối đa 2MB)"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"fileInputThem",onChange:ce,disabled:se}),r.jsx("label",{htmlFor:"fileInputThem",className:"cursor-pointer text-blue-500 hover:underline",children:"Chọn tệp"})]})}),ee.hinhAnh&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:ee.hinhAnh})]})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kích Thước"}),r.jsxs("div",{className:"max-h-80 overflow-y-auto border border-gray-200 rounded-md p-2",children:[I.map((ge,Ne)=>r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(ye,{value:ge,onChange:ke=>{Ae(Ne,ke.target.value.toUpperCase()),K(ze=>({...ze,kichThuoc:""}))},placeholder:"Kích thước (ví dụ: S, M, XL)",maxLength:3,disabled:se}),I.length>1&&r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>pe(Ne),disabled:se,children:r.jsx(st,{className:"h-4 w-4"})})]},Ne)),r.jsxs(fe,{variant:"outline",size:"sm",onClick:de,className:"mt-2 w-full",disabled:se,children:[r.jsx(mr,{className:"h-4 w-4 mr-2"})," Thêm Kích Thước"]}),ee.kichThuoc&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:ee.kichThuoc})]})]})})]}),r.jsxs(Rn,{className:"flex justify-end space-x-2 mt-4",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>g(!1),disabled:se,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:me,disabled:se,className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3] flex items-center gap-2",children:[se?r.jsx(As,{className:"h-4 w-4 animate-spin"}):"Thêm",r.jsx(mr,{className:"h-4 w-4"})]})]})]})}),r.jsx(Jt,{open:p,onOpenChange:ge=>{b(ge),ge||(X(null),R([""]),ue({ten:"",kichThuoc:"",hinhAnh:""}))},children:r.jsxs(Wt,{className:"max-w-4xl w-full",children:[r.jsxs(an,{children:[r.jsx(tn,{children:"Sửa Loại Sản Phẩm"}),r.jsx(Or,{children:"Cập nhật thông tin loại sản phẩm."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tên Loại Sản Phẩm"}),r.jsx(ye,{value:(V==null?void 0:V.tenLoaiSanPham)||"",onChange:ge=>{X({...V,tenLoaiSanPham:ge.target.value}),ue(Ne=>({...Ne,ten:""}))},placeholder:"Tên loại sản phẩm",maxLength:100,disabled:se}),ne.ten&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:ne.ten})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ký Hiệu"}),r.jsx(ye,{value:(V==null?void 0:V.kiHieu)||"",onChange:()=>{},placeholder:"Ký hiệu",maxLength:1,disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kích Thước Hiện Tại"}),r.jsxs("div",{className:"max-h-60 overflow-y-auto border border-gray-200 rounded-md p-2",children:[V==null?void 0:V.entries.filter(ge=>ge.trangThai===1).map((ge,Ne)=>r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(ye,{value:(ge.kichThuoc||[]).join(", ")||"Không có",disabled:!0}),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>{L({...V,entries:[ge]}),v(!0)},disabled:se,children:r.jsx(nl,{className:"h-4 w-4"})})]},Ne)),(V==null?void 0:V.entries.filter(ge=>ge.trangThai===1).length)===0&&r.jsx("p",{className:"text-gray-500 text-sm",children:"Không có kích thước hoạt động."})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hình Ảnh"}),r.jsx("div",{className:`border-2 border-dashed rounded-lg p-4 text-center ${G?"border-blue-500 bg-blue-50":"border-gray-300"}`,onDragOver:Y,onDragLeave:oe,onDrop:ae,children:V!=null&&V.hinhAnh?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:yb(V.hinhAnh),alt:"Preview",className:"h-32 w-64 mx-auto object-cover rounded"}),r.jsx("button",{onClick:()=>X({...V,hinhAnh:null}),className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center",disabled:se,children:"✕"})]}):r.jsxs("div",{children:[r.jsx(Wr,{className:"h-8 w-8 mx-auto text-gray-400"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Kéo và thả hình ảnh vào đây hoặc nhấp để chọn (Tối đa 2MB)"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"fileInputSua",onChange:ce,disabled:se}),r.jsx("label",{htmlFor:"fileInputSua",className:"cursor-pointer text-blue-500 hover:underline",children:"Chọn tệp"})]})}),ne.hinhAnh&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:ne.hinhAnh})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Thêm Kích Thước Mới"}),r.jsxs("div",{className:"max-h-60 overflow-y-auto border border-gray-200 rounded-md p-2",children:[I.map((ge,Ne)=>r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(ye,{value:ge,onChange:ke=>{Ae(Ne,ke.target.value.toUpperCase()),ue(ze=>({...ze,kichThuoc:""}))},placeholder:"Kích thước (ví dụ: S, M, XL)",maxLength:3,disabled:se}),I.length>1&&r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>pe(Ne),disabled:se,children:r.jsx(st,{className:"h-4 w-4"})})]},Ne)),r.jsxs(fe,{variant:"outline",size:"sm",onClick:de,className:"mt-2 w-full",disabled:se,children:[r.jsx(mr,{className:"h-4 w-4 mr-2"})," Thêm Kích Thước"]}),ne.kichThuoc&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:ne.kichThuoc})]})]})]})]}),r.jsxs(Rn,{className:"flex justify-end space-x-2 mt-4",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>b(!1),disabled:se,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:ve,disabled:se,className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3] flex items-center gap-2",children:[se?r.jsx(As,{className:"h-4 w-4 animate-spin"}):"Lưu",r.jsx(Aa,{className:"h-4 w-4"})]})]})]})}),r.jsx(Jt,{open:k,onOpenChange:D,children:r.jsxs(Wt,{className:"max-w-4xl w-full",children:[r.jsx(an,{children:r.jsx(tn,{children:"Chi Tiết Loại Sản Phẩm"})}),$&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tên Loại Sản Phẩm"}),r.jsx(ye,{value:$.tenLoaiSanPham,disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ký Hiệu"}),r.jsx(ye,{value:$.kiHieu,disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hình Ảnh"}),$.hinhAnh?r.jsx("img",{src:yb($.hinhAnh),alt:$.tenLoaiSanPham,className:"h-32 w-64 object-cover rounded",onError:ge=>ge.currentTarget.src="/placeholder-image.jpg"}):r.jsx("p",{children:"Không có hình ảnh"})]})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Kích Thước"}),r.jsxs("div",{className:"max-h-80 overflow-y-auto border border-gray-200 rounded-md p-2",children:[$.entries.map((ge,Ne)=>r.jsx("div",{className:"flex items-center gap-2 mb-2",children:r.jsx(ye,{value:(ge.kichThuoc||[]).join(", ")||"Không có",disabled:!0})},Ne)),$.entries.length===0&&r.jsx("p",{className:"text-gray-500 text-sm",children:"Không có kích thước."})]})]})})]}),r.jsx(Rn,{className:"flex justify-end space-x-2 mt-4",children:r.jsxs(fe,{variant:"ghost",onClick:()=>D(!1),disabled:se,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Đóng"]})})]})}),r.jsx(Jt,{open:x,onOpenChange:v,children:r.jsxs(Wt,{children:[r.jsxs(an,{children:[r.jsx(tn,{children:"Xác nhận ẩn loại sản phẩm"}),r.jsx(Or,{children:"Bạn có chắc chắn muốn ẩn loại sản phẩm này không? Bạn có thể khôi phục lại sau."})]}),r.jsxs(Rn,{className:"flex justify-end space-x-2 mt-4",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>v(!1),disabled:se,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:_e,disabled:se,className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3] flex items-center gap-2",children:[se?r.jsx(As,{className:"h-4 w-4 animate-spin"}):"Ẩn",r.jsx(Ha,{className:"h-4 w-4"})]})]})]})}),r.jsx(Jt,{open:P,onOpenChange:M,children:r.jsxs(Wt,{children:[r.jsxs(an,{children:[r.jsx(tn,{children:"Xác nhận khôi phục loại sản phẩm"}),r.jsx(Or,{children:"Bạn có chắc chắn muốn khôi phục loại sản phẩm này không?"})]}),r.jsxs(Rn,{className:"flex justify-end space-x-2 mt-4",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>M(!1),disabled:se,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:Te,disabled:se,className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3] flex items-center gap-2",children:[se?r.jsx(As,{className:"h-4 w-4 animate-spin"}):"Khôi phục",r.jsx(mm,{className:"h-4 w-4"})]})]})]})}),r.jsx(Jt,{open:y,onOpenChange:N,children:r.jsxs(Wt,{children:[r.jsxs(an,{children:[r.jsx(tn,{children:"Xác nhận xóa vĩnh viễn loại sản phẩm"}),r.jsx(Or,{children:"Bạn có chắc chắn muốn xóa vĩnh viễn loại sản phẩm này không? Hành động này không thể hoàn tác."})]}),r.jsxs(Rn,{className:"flex justify-end space-x-2 mt-4",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>N(!1),disabled:se,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:Ue,disabled:se,className:"bg-red-500 text-white hover:bg-red-600 flex items-center gap-2",children:[se?r.jsx(As,{className:"h-4 w-4 animate-spin"}):"Xóa vĩnh viễn",r.jsx(mh,{className:"h-4 w-4"})]})]})]})})]})},Up=10,Zh="https://bicacuatho.azurewebsites.net",aI=()=>{const[e,t]=B.useState([]),[n,s]=B.useState(""),[i,a]=B.useState("active"),[o,c]=B.useState(!0),[l,u]=B.useState(!1),[d,f]=B.useState(!1),[h,m]=B.useState(!1),[A,g]=B.useState(!1),[p,b]=B.useState(!1),[x,v]=B.useState(!1),[y,N]=B.useState(!1),[P,M]=B.useState(null),[k,D]=B.useState(null),[O,L]=B.useState(null),[F,_]=B.useState(null),[E,T]=B.useState(""),[w,C]=B.useState(""),[j,S]=B.useState(null),[I,R]=B.useState(1),[U,z]=B.useState(!1),[V,X]=B.useState({ten:"",hinhAnh:""}),[$,W]=B.useState({ten:"",hinhAnh:""}),[H,Q]=B.useState(""),G=le=>le?le.startsWith("data:image")?le:`data:image/png;base64,${le}`:"",J=le=>le?le.startsWith("data:")?le.split(",")[1]:le:"",ee=B.useCallback(async()=>{try{c(!0);const he=await fetch(`${Zh}/api/HashTag?trangThai=${i==="active"?1:0}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!he.ok){const ve=await he.text();throw new Error(ve||"Không thể lấy danh sách hashtag")}const me=await he.json();t(me)}catch(le){we.fire({icon:"error",title:"Lỗi",text:"Lỗi khi tải danh sách hashtag: "+le.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{c(!1)}},[i]),K=le=>{s(le.target.value.toLowerCase()),R(1)},ne=B.useMemo(()=>{const le=i==="active"?1:0;return e.filter(me=>me.trangThai===le&&(me.tenHashTag.toLowerCase().includes(n)||me.maHashTag.toString().includes(n))).sort((me,ve)=>ve.maHashTag-me.maHashTag)},[e,n,i]),ue=Math.ceil(ne.length/Up),se=ne.slice((I-1)*Up,I*Up),ie=le=>{R(le)},q=le=>{le.preventDefault(),z(!0)},Z=()=>z(!1),te=le=>{le.preventDefault(),z(!1);const he=le.dataTransfer.files[0];if(he&&he.size<=2*1024*1024){const me=new FileReader;me.onloadend=()=>C(me.result),me.readAsDataURL(he)}else we.fire({icon:"error",title:"Lỗi",text:"Hình ảnh phải nhỏ hơn 2MB!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})},re=le=>{var me;const he=(me=le.target.files)==null?void 0:me[0];if(he&&he.size<=2*1024*1024){const ve=new FileReader;ve.onloadend=()=>C(ve.result),ve.readAsDataURL(he)}else we.fire({icon:"error",title:"Lỗi",text:"Hình ảnh phải nhỏ hơn 2MB!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})},Y=()=>{let le=!0;const he={ten:"",hinhAnh:""};return E.trim()||(he.ten="Tên hashtag không được để trống!",le=!1),w||(he.hinhAnh="Hình ảnh không được để trống!",le=!1),X(he),le},oe=()=>{var me;let le=!0;const he={ten:"",hinhAnh:""};return(me=j==null?void 0:j.tenHashTag)!=null&&me.trim()||(he.ten="Tên hashtag không được để trống!",le=!1),j!=null&&j.hinhAnh||(he.hinhAnh="Hình ảnh không được để trống!",le=!1),W(he),le},ae=async()=>{if(Y())try{u(!0);const le=J(w),he=await fetch(`${Zh}/api/HashTag`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({TenHashTag:E,HinhAnh:le,TrangThai:1})});if(!he.ok){const me=await he.text();throw new Error(me||"Không thể thêm hashtag")}T(""),C(""),X({ten:"",hinhAnh:""}),f(!1),await ee(),we.fire({icon:"success",title:"Thành công",text:"Thêm hashtag thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(le){we.fire({icon:"error",title:"Lỗi",text:"Lỗi khi thêm hashtag: "+le.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{u(!1)}},ce=async()=>{if(!(!oe()||!j))try{u(!0),Q("");const le=J(j.hinhAnh||""),he=await fetch(`${Zh}/api/HashTag/${j.maHashTag}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({MaHashTag:j.maHashTag,TenHashTag:j.tenHashTag,HinhAnh:le,TrangThai:j.trangThai})});if(!he.ok){const me=await he.text();if(he.status===404)throw new Error("Hashtag không tồn tại");if(he.status===409){Q("Tên hashtag đã tồn tại");return}else if(he.status===500)throw new Error("Lỗi máy chủ, vui lòng thử lại sau");throw new Error(me||"Không thể sửa hashtag")}m(!1),S(null),Q(""),await ee(),we.fire({icon:"success",title:"Thành công",text:"Sửa hashtag thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(le){we.fire({icon:"error",title:"Lỗi",text:"Lỗi khi sửa hashtag: "+le.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{u(!1)}},de=async()=>{if(P)try{u(!0);const le=await fetch(`${Zh}/api/HashTag/${P.maHashTag}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({MaHashTag:P.maHashTag,TenHashTag:P.tenHashTag,HinhAnh:P.hinhAnh,TrangThai:P.trangThai===1?0:1})});if(!le.ok){const he=await le.text();throw le.status===404?new Error("Hashtag không tồn tại"):le.status===409?new Error("Tên hashtag đã tồn tại"):le.status===500?new Error("Lỗi máy chủ, vui lòng thử lại sau"):new Error(he||"Không thể xóa hashtag")}g(!1),M(null),R(1),await ee(),we.fire({icon:"success",title:"Thành công",text:"Xóa hashtag thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(le){we.fire({icon:"error",title:"Lỗi",text:"Lỗi khi xóa hashtag: "+le.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{u(!1)}},pe=async()=>{if(O)try{u(!0);const le=await fetch(`${Zh}/api/HashTag/${O.maHashTag}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({MaHashTag:O.maHashTag,TenHashTag:O.tenHashTag,HinhAnh:O.hinhAnh,TrangThai:1})});if(!le.ok){const he=await le.text();throw le.status===404?new Error("Hashtag không tồn tại"):le.status===409?new Error("Tên hashtag đã tồn tại"):le.status===500?new Error("Lỗi máy chủ, vui lòng thử lại sau"):new Error(he||"Không thể khôi phục hashtag")}v(!1),L(null),R(1),await ee(),we.fire({icon:"success",title:"Thành công",text:"Khôi phục hashtag thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(le){we.fire({icon:"error",title:"Lỗi",text:"Lỗi khi khôi phục hashtag: "+le.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{u(!1)}},Ae=async()=>{if(k)try{u(!0);const le=await fetch(`${Zh}/api/HashTag/${k.maHashTag}`,{method:"DELETE"});if(!le.ok){const he=await le.text();throw le.status===404?new Error("Hashtag không tồn tại"):le.status===409?new Error("Không thể xóa vì có dữ liệu liên quan"):le.status===500?new Error("Lỗi máy chủ, vui lòng thử lại sau"):new Error(he||"Không thể xóa hashtag")}b(!1),D(null),R(1),await ee(),we.fire({icon:"success",title:"Thành công",text:"Xóa vĩnh viễn hashtag thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(le){we.fire({icon:"error",title:"Lỗi",text:"Lỗi khi xóa hashtag: "+le.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{u(!1)}};return B.useEffect(()=>{ee()},[ee]),r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-800",children:"Quản lý hashtag"}),i==="active"&&r.jsxs(fe,{className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3]",onClick:()=>f(!0),disabled:o||l,children:[r.jsx(Cg,{className:"mr-2 h-4 w-4"})," Thêm Hashtag"]})]}),r.jsxs(ia,{defaultValue:"active",className:"w-full",onValueChange:le=>a(le),children:[r.jsxs(Mi,{className:"grid w-full md:w-auto grid-cols-2 gap-1",children:[r.jsxs(Bn,{value:"active",className:"flex items-center gap-2",children:[r.jsx(ul,{className:"h-4 w-4"})," Danh sách hashtag"]}),r.jsxs(Bn,{value:"inactive",className:"flex items-center gap-2",children:[r.jsx(ul,{className:"h-4 w-4"})," Khôi phục hashtag"]})]}),r.jsxs(Hn,{value:"active",children:[r.jsx("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(ye,{type:"search",placeholder:"Tìm kiếm hashtag...",value:n,onChange:K,className:"w-full md:w-[820px] pl-10"}),r.jsx(Un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})}),o?r.jsx("div",{className:"flex justify-center items-center",children:r.jsx(As,{className:"h-8 w-8 animate-spin text-[#9b87f5]"})}):r.jsxs(r.Fragment,{children:[r.jsxs(it,{children:[r.jsx(yt,{children:r.jsx(jt,{children:"Danh sách hashtag"})}),r.jsx(dt,{children:r.jsxs(Rr,{children:[r.jsx(Ur,{children:r.jsxs(Ht,{children:[r.jsx($e,{children:"STT"}),r.jsx($e,{children:"Hình Ảnh"}),r.jsx($e,{children:"Tên Hashtag"}),r.jsx($e,{children:"Hành Động"})]})}),r.jsx(Hr,{children:se.length>0?se.map((le,he)=>r.jsxs(Ht,{className:"hover:bg-muted/50",children:[r.jsx(He,{children:(I-1)*Up+he+1}),r.jsx(He,{children:le.hinhAnh?r.jsx("img",{src:G(le.hinhAnh),alt:le.tenHashTag,className:"h-12 w-12 object-cover rounded",onError:me=>me.currentTarget.src="/placeholder-image.jpg"}):"Không có hình"}),r.jsx(He,{children:le.tenHashTag}),r.jsx(He,{children:r.jsxs(yr,{children:[r.jsx(wr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsx(li,{className:"h-4 w-4"})})}),r.jsxs(Ar,{align:"end",children:[r.jsxs(ut,{onClick:()=>{_(le),N(!0)},className:"text-green-700",children:[r.jsx(wa,{className:"mr-2 h-4 w-4"})," Xem"]}),r.jsxs(ut,{onClick:()=>{S({...le}),m(!0)},className:"text-blue-700",children:[r.jsx(Aa,{className:"mr-2 h-4 w-4"})," Sửa"]}),r.jsxs(ut,{onClick:()=>{M(le),g(!0)},className:"text-red-700",children:[r.jsx(Ha,{className:"mr-2 h-4 w-4"})," Xóa"]})]})]})})]},le.maHashTag)):r.jsx(Ht,{children:r.jsx(He,{colSpan:5,className:"text-center py-6 text-muted-foreground",children:"Không tìm thấy hashtag nào."})})})]})})]}),ue>1&&r.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[r.jsxs(fe,{onClick:()=>ie(I-1),disabled:I===1,variant:"outline",className:"flex items-center",children:[r.jsx(ss,{className:"h-4 w-4 mr-2"}),"Trước"]}),Array.from({length:ue},(le,he)=>he+1).map(le=>r.jsx(fe,{onClick:()=>ie(le),variant:I===le?"default":"outline",className:I===le?"bg-[#9b87f5] text-white hover:bg-[#8a76e3]":"",children:le},le)),r.jsxs(fe,{onClick:()=>ie(I+1),disabled:I===ue,variant:"outline",className:"flex items-center",children:["Sau",r.jsx(jr,{className:"h-4 w-4 ml-2"})]})]})]})]}),r.jsxs(Hn,{value:"inactive",children:[r.jsx("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(ye,{type:"search",placeholder:"Tìm kiếm hashtag đã xóa...",value:n,onChange:K,className:"w-full md:w-[820px] pl-10"}),r.jsx(Un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})}),o?r.jsx("div",{className:"flex justify-center items-center",children:r.jsx(As,{className:"h-8 w-8 animate-spin text-[#9b87f5]"})}):r.jsxs(r.Fragment,{children:[r.jsxs(it,{children:[r.jsx(yt,{children:r.jsx(jt,{children:"Danh Sách Hashtag Đã Xóa"})}),r.jsx(dt,{children:r.jsxs(Rr,{children:[r.jsx(Ur,{children:r.jsxs(Ht,{children:[r.jsx($e,{children:"STT"}),r.jsx($e,{children:"Hình Ảnh"}),r.jsx($e,{children:"Tên Hashtag"}),r.jsx($e,{children:"Hành Động"})]})}),r.jsx(Hr,{children:se.length>0?se.map((le,he)=>r.jsxs(Ht,{className:"hover:bg-muted/50",children:[r.jsx(He,{children:(I-1)*Up+he+1}),r.jsx(He,{children:le.hinhAnh?r.jsx("img",{src:G(le.hinhAnh),alt:le.tenHashTag,className:"h-12 w-12 object-cover rounded",onError:me=>me.currentTarget.src="/placeholder-image.jpg"}):"Không có hình"}),r.jsx(He,{children:le.tenHashTag}),r.jsx(He,{children:r.jsxs(yr,{children:[r.jsx(wr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsx(li,{className:"h-4 w-4"})})}),r.jsxs(Ar,{align:"end",children:[r.jsxs(ut,{onClick:()=>{_(le),N(!0)},className:"text-green-700",children:[r.jsx(wa,{className:"mr-2 h-4 w-4"})," Chi tiết"]}),r.jsxs(ut,{onClick:()=>{L(le),v(!0)},className:"text-blue-700",children:[r.jsx(mm,{className:"mr-2 h-4 w-4"})," Khôi phục"]}),r.jsxs(ut,{onClick:()=>{D(le),b(!0)},className:"text-red-700",children:[r.jsx(mh,{className:"mr-2 h-4 w-4"})," Xóa vĩnh viễn"]})]})]})})]},le.maHashTag)):r.jsx(Ht,{children:r.jsx(He,{colSpan:5,className:"text-center py-6 text-muted-foreground",children:"Không tìm thấy hashtag nào."})})})]})})]}),ue>1&&r.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[r.jsxs(fe,{onClick:()=>ie(I-1),disabled:I===1,variant:"outline",className:"flex items-center",children:[r.jsx(ss,{className:"h-4 w-4 mr-2"}),"Trước"]}),Array.from({length:ue},(le,he)=>he+1).map(le=>r.jsx(fe,{onClick:()=>ie(le),variant:I===le?"default":"outline",className:I===le?"bg-[#9b87f5] text-white hover:bg-[#8a76e3]":"",children:le},le)),r.jsxs(fe,{onClick:()=>ie(I+1),disabled:I===ue,variant:"outline",className:"flex items-center",children:["Sau",r.jsx(jr,{className:"h-4 w-4 ml-2"})]})]})]})]})]}),r.jsx(Jt,{open:d,onOpenChange:f,children:r.jsxs(Wt,{className:"max-w-4xl w-full",children:[r.jsxs(an,{children:[r.jsx(tn,{children:"Thêm Hashtag"}),r.jsx(Or,{children:"Nhập thông tin hashtag mới."})]}),r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tên Hashtag"}),r.jsx(ye,{value:E,onChange:le=>{T(le.target.value),X(he=>({...he,ten:""}))},placeholder:"Tên hashtag",disabled:l}),V.ten&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:V.ten})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hình Ảnh"}),r.jsx("div",{className:`border-2 border-dashed rounded-lg p-4 text-center ${U?"border-blue-500 bg-blue-50":"border-gray-300"}`,onDragOver:q,onDragLeave:Z,onDrop:te,children:w?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:w,alt:"Preview",className:"h-20 w-20 mx-auto object-cover rounded"}),r.jsx("button",{onClick:()=>C(""),className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center",disabled:l,children:"✕"})]}):r.jsxs("div",{children:[r.jsx(Wr,{className:"h-8 w-8 mx-auto text-gray-400"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Kéo và thả hình ảnh vào đây hoặc nhấp để chọn (Tối đa 2MB)"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"fileInputThem",onChange:re,disabled:l}),r.jsx("label",{htmlFor:"fileInputThem",className:"cursor-pointer text-blue-500 hover:underline",children:"Chọn tệp"})]})}),V.hinhAnh&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:V.hinhAnh})]})]}),r.jsxs(Rn,{className:"flex justify-end space-x-2 mt-4",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>f(!1),disabled:l,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:ae,disabled:l,className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3] flex items-center gap-2",children:[l?"Đang xử lý...":"Thêm",r.jsx(Cg,{className:"h-4 w-4"})]})]})]})}),r.jsx(Jt,{open:h,onOpenChange:m,children:r.jsxs(Wt,{className:"max-w-4xl w-full",children:[r.jsxs(an,{children:[r.jsx(tn,{children:"Sửa Hashtag"}),r.jsx(Or,{children:"Cập nhật thông tin hashtag."})]}),j&&r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tên Hashtag"}),r.jsx(ye,{value:j.tenHashTag,onChange:le=>{S({...j,tenHashTag:le.target.value}),W(he=>({...he,ten:""})),Q("")},placeholder:"Tên hashtag",disabled:l}),$.ten&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:$.ten}),H&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:H})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hình Ảnh"}),r.jsx("div",{className:`border-2 border-dashed rounded-lg p-4 text-center ${U?"border-blue-500 bg-blue-50":"border-gray-300"}`,onDragOver:q,onDragLeave:Z,onDrop:te,children:j.hinhAnh?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:G(j.hinhAnh),alt:"Preview",className:"h-20 w-20 mx-auto object-cover rounded"}),r.jsx("button",{onClick:()=>S({...j,hinhAnh:""}),className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center",disabled:l,children:"✕"})]}):r.jsxs("div",{children:[r.jsx(Wr,{className:"h-8 w-8 mx-auto text-gray-400"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Kéo và thả hình ảnh vào đây hoặc nhấp để chọn (Tối đa 2MB)"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"fileInputSua",onChange:le=>{var me;const he=(me=le.target.files)==null?void 0:me[0];if(he&&he.size<=2*1024*1024){const ve=new FileReader;ve.onloadend=()=>S({...j,hinhAnh:ve.result}),ve.readAsDataURL(he)}else we.fire({icon:"error",title:"Lỗi",text:"Hình ảnh phải nhỏ hơn 2MB!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})},disabled:l}),r.jsx("label",{htmlFor:"fileInputSua",className:"cursor-pointer text-blue-500 hover:underline",children:"Chọn tệp"})]})}),$.hinhAnh&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:$.hinhAnh})]})]}),r.jsxs(Rn,{className:"flex justify-end space-x-2 mt-4",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>m(!1),disabled:l,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:ce,disabled:l,className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3] flex items-center gap-2",children:[l?"Đang xử lý...":"Lưu",r.jsx(Aa,{className:"h-4 w-4"})]})]})]})}),r.jsx(Jt,{open:y,onOpenChange:N,children:r.jsxs(Wt,{className:"max-w-4xl w-full",children:[r.jsxs(an,{children:[r.jsx(tn,{children:"Chi Tiết Hashtag"}),r.jsx(Or,{children:"Thông tin chi tiết của hashtag."})]}),F&&r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tên Hashtag"}),r.jsx(ye,{value:F.tenHashTag,disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hình Ảnh"}),F.hinhAnh?r.jsx("img",{src:G(F.hinhAnh),alt:F.tenHashTag,className:"h-20 w-20 object-cover rounded"}):r.jsx("p",{children:"Không có hình ảnh"})]})]}),r.jsx(Rn,{className:"flex justify-end mt-4",children:r.jsxs(fe,{variant:"ghost",onClick:()=>N(!1),className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Đóng"]})})]})}),r.jsx(Jt,{open:A,onOpenChange:g,children:r.jsxs(Wt,{children:[r.jsxs(an,{children:[r.jsx(tn,{children:"Xác Nhận Xóa"}),r.jsxs(Or,{children:['Bạn có chắc chắn muốn xóa hashtag "',P==null?void 0:P.tenHashTag,'" không?']})]}),r.jsxs(Rn,{className:"flex justify-end space-x-2",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>g(!1),disabled:l,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:de,disabled:l,className:"bg-red-500 text-white hover:bg-red-600 flex items-center gap-2",children:[l?"Đang xử lý...":"Xóa",r.jsx(Ha,{className:"h-4 w-4"})]})]})]})}),r.jsx(Jt,{open:x,onOpenChange:v,children:r.jsxs(Wt,{children:[r.jsxs(an,{children:[r.jsx(tn,{children:"Xác Nhận Khôi Phục"}),r.jsxs(Or,{children:['Bạn có chắc chắn muốn khôi phục hashtag "',O==null?void 0:O.tenHashTag,'" không?']})]}),r.jsxs(Rn,{className:"flex justify-end space-x-2",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>v(!1),disabled:l,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:pe,disabled:l,className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3] flex items-center gap-2",children:[l?"Đang xử lý...":"Khôi phục",r.jsx(mm,{className:"h-4 w-4"})]})]})]})}),r.jsx(Jt,{open:p,onOpenChange:b,children:r.jsxs(Wt,{children:[r.jsxs(an,{children:[r.jsx(tn,{children:"Xác Nhận Xóa Vĩnh Viễn"}),r.jsxs(Or,{children:['Bạn có chắc chắn muốn xóa vĩnh viễn hashtag "',k==null?void 0:k.tenHashTag,'" không? Hành động này không thể hoàn tác.']})]}),r.jsxs(Rn,{className:"flex justify-end space-x-2",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>b(!1),disabled:l,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:Ae,disabled:l,className:"bg-red-500 text-white hover:bg-red-600 flex items-center gap-2",children:[l?"Đang xử lý...":"Xóa",r.jsx(mh,{className:"h-4 w-4"})]})]})]})})]})},N9e=()=>{const e=Bs(),t=gr();return B.useEffect(()=>{const n=new URLSearchParams(e.search),s=n.get("status"),i=n.get("orderId"),a=n.get("transactionId");n.get("message"),s==="success"&&i?(At.success("Thanh toán VnPay thành công!",{description:`Mã đơn hàng: ${i}${a?`, Mã giao dịch: ${a}`:""}`,duration:5e3,action:{label:"Xem chi tiết",onClick:()=>t("/user/orders",{state:{orderId:i}})}}),t("/",{state:{orderId:i}})):t("user/orders")},[e,t]),r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("p",{children:"Đang xử lý..."})})},S9e=()=>{const e=Bs();return B.useEffect(()=>{const t=new URLSearchParams(e.search),n=t.get("status"),s=t.get("message")||"Thanh toán không thành công. Vui lòng thử lại.";n==="failed"&&At.error("Thanh toán thất bại",{description:s,duration:5e3})},[e]),r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:r.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md w-full text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Thanh toán thất bại"}),r.jsx("p",{className:"text-gray-600 mb-6",children:new URLSearchParams(e.search).get("message")||"Đã xảy ra lỗi trong quá trình thanh toán. Vui lòng thử lại."}),r.jsxs("div",{className:"flex justify-center gap-4",children:[r.jsx(ct,{to:"/",children:r.jsx(fe,{variant:"outline",children:"Quay về trang chủ"})}),r.jsx(ct,{to:"/user/cart",children:r.jsx(fe,{children:"Quay về giỏ hàng"})})]})]})})},T9e=()=>{const[e,t]=B.useState(null),[n,s]=B.useState(null),[i,a]=B.useState(null),[o,c]=B.useState(null),[l,u]=B.useState(null),[d,f]=B.useState(!1),[h,m]=B.useState(1),[A,g]=B.useState(1),[p,b]=B.useState(1),[x,v]=B.useState(!1),y="https://bicacuatho.azurewebsites.net",N=(E,T,w)=>{if(E.preventDefault(),E.stopPropagation(),E.dataTransfer.files&&E.dataTransfer.files[0]){const C=E.dataTransfer.files[0];if(C.type.startsWith("image/")){T(C);const j=URL.createObjectURL(C);w(j)}}},P=(E,T)=>{const w=document.createElement("input");w.type="file",w.accept="image/*",w.onchange=C=>{const j=C.target;if(j.files&&j.files[0]){const S=j.files[0];E(S);const I=URL.createObjectURL(S);T(I)}},w.click()},M=E=>{E.preventDefault(),E.stopPropagation()},k=E=>{E(T=>Math.min(T+.1,3))},D=E=>{E(T=>Math.max(T-.1,.5))};B.useEffect(()=>()=>{i&&URL.revokeObjectURL(i),o&&URL.revokeObjectURL(o)},[i,o]);const O=E=>new Promise((T,w)=>{const C=new FileReader;C.onload=()=>{if(typeof C.result=="string"){const j=C.result.split(",")[1];T(j)}else w(new Error("Kết quả không phải là chuỗi"))},C.onerror=w,C.readAsDataURL(E)}),L=async()=>{if(!e||!n){we.fire({icon:"error",title:"Lỗi",text:"Vui lòng chọn cả hai tệp hình ảnh!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}f(!0);try{const E=await O(e),T=await O(n),w={textPrompt:"Mặc cái áo trong ảnh thứ hai lên người trong ảnh thứ nhất giúp tôi",imageBase64:[E,T]},C=await fetch(`${y}/api/GoogleApis/generate-image`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)}),j=await C.json();C.ok&&j.generatedImageBase64?(u(`data:image/jpeg;base64,${j.generatedImageBase64}`),b(1)):we.fire({icon:"error",title:"Lỗi",text:j.message||"Có lỗi xảy ra khi xử lý yêu cầu",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(E){console.error("Lỗi:",E),we.fire({icon:"error",title:"Lỗi",text:"Có lỗi xảy ra khi gửi yêu cầu đến API",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{f(!1)}},F=()=>{t(null),s(null),a(null),c(null),u(null),m(1),g(1),b(1)},_=()=>{v(!1)};return r.jsxs("div",{style:kn.containerWrapper,children:[r.jsx("div",{style:kn.headerContainer,children:r.jsxs("button",{onClick:()=>v(!x),style:kn.toggleButton,children:["Mặc đồ thử bằng AI",x?r.jsx(Tm,{size:18}):r.jsx(ml,{size:18})]})}),x&&r.jsxs("div",{style:kn.container,children:[r.jsxs("div",{style:kn.inputRow,children:[r.jsxs("div",{style:kn.inputColumn,children:[r.jsx("label",{style:kn.label,children:"Chọn tệp 1 (Người):"}),r.jsx("div",{style:kn.dropZone,onDrop:E=>N(E,t,a),onDragOver:M,onClick:()=>P(t,a),children:i?r.jsxs("div",{style:kn.imageContainer,children:[r.jsx("img",{src:i,alt:"Preview 1",style:{...kn.image,transform:`scale(${h})`,maxWidth:"200px",height:"250px"}}),r.jsx("button",{style:kn.removeButton,onClick:E=>{E.stopPropagation(),t(null),a(null),m(1)},children:"X"}),r.jsxs("div",{style:kn.zoomControls,children:[r.jsx("button",{style:kn.zoomButton,onClick:E=>{E.stopPropagation(),k(m)},children:"+"}),r.jsx("button",{style:kn.zoomButton,onClick:E=>{E.stopPropagation(),D(m)},children:"-"})]})]}):r.jsx("div",{style:{...kn.imagePlaceholder,width:"200px",height:"250px"},children:"Kéo thả và chọn tệp"})})]}),r.jsxs("div",{style:kn.inputColumn,children:[r.jsx("label",{style:kn.label,children:"Chọn tệp 2 (Áo):"}),r.jsx("div",{style:kn.dropZone,onDrop:E=>N(E,s,c),onDragOver:M,onClick:()=>P(s,c),children:o?r.jsxs("div",{style:kn.imageContainer,children:[r.jsx("img",{src:o,alt:"Preview 2",style:{...kn.image,transform:`scale(${A})`,maxWidth:"200px",height:"250px"}}),r.jsx("button",{style:kn.removeButton,onClick:E=>{E.stopPropagation(),s(null),c(null),g(1)},children:"X"}),r.jsxs("div",{style:kn.zoomControls,children:[r.jsx("button",{style:kn.zoomButton,onClick:E=>{E.stopPropagation(),k(g)},children:"+"}),r.jsx("button",{style:kn.zoomButton,onClick:E=>{E.stopPropagation(),D(g)},children:"-"})]})]}):r.jsx("div",{style:{...kn.imagePlaceholder,width:"200px",height:"250px"},children:"Kéo thả và chọn tệp"})})]}),r.jsxs("div",{style:kn.inputColumn,children:[r.jsx("label",{style:kn.label,children:"Kết quả:"}),r.jsx("div",{style:kn.dropZone,children:d?r.jsx("div",{style:{...kn.imagePlaceholder,width:"200px",height:"250px"},children:"Đang xử..."}):l?r.jsxs("div",{style:kn.imageContainer,children:[r.jsx("img",{src:l,alt:"Processed Output",style:{...kn.image,transform:`scale(${p})`,maxWidth:"200px",height:"250px"}}),r.jsxs("div",{style:kn.zoomControls,children:[r.jsx("button",{style:kn.zoomButton,onClick:E=>{E.stopPropagation(),k(b)},children:"+"}),r.jsx("button",{style:kn.zoomButton,onClick:E=>{E.stopPropagation(),D(b)},children:"-"})]})]}):r.jsx("div",{style:{...kn.imagePlaceholder,width:"200px",height:"250px"},children:"Chưa có kết quả"})})]})]}),r.jsxs("div",{style:kn.buttonRow,children:[r.jsxs("button",{onClick:L,disabled:d,style:{...kn.button,background:"#9b87f5"},children:[r.jsx(Wr,{size:16,style:{marginRight:"5px"}}),d?"Đang xử lý...":"Mặc đồ thử"]}),r.jsxs("button",{onClick:F,style:{...kn.button,background:"#ff4d4f"},children:[r.jsx(st,{size:16,style:{marginRight:"5px"}}),"Xóa toàn bộ ảnh"]}),r.jsxs("button",{onClick:_,style:{...kn.button,background:"#6c757d"},children:[r.jsx(nl,{size:16,style:{marginRight:"5px"}}),"Ẩn"]})]})]})]})},kn={containerWrapper:{maxWidth:"1200px",margin:"30px auto",position:"relative"},headerContainer:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginBottom:"10px"},toggleButton:{padding:"8px 12px",borderRadius:"4px",border:"1px solid #ccc",backgroundColor:"#f5f5ff",fontSize:"16px",fontWeight:"bold",cursor:"pointer",outline:"none",transition:"border-color 0.3s",display:"flex",alignItems:"center",gap:"6px"},container:{padding:"15px",border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#ffffff",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},inputRow:{display:"flex",justifyContent:"space-between",marginBottom:"15px"},inputColumn:{flex:1,margin:"0 8px"},label:{display:"block",textAlign:"center",fontWeight:"bold",marginBottom:"4px",fontSize:"12px"},dropZone:{width:"100%",height:"300px",border:"2px dashed #ccc",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#fafafa",cursor:"pointer",overflow:"hidden"},imageContainer:{position:"relative",display:"inline-block"},image:{width:"100%",maxWidth:"200px",height:"250px",objectFit:"contain",border:"1px solid #ddd",borderRadius:"4px",backgroundColor:"#fff",transition:"transform 0.2s ease-in-out"},imagePlaceholder:{width:"200px",height:"250px",display:"flex",alignItems:"center",justifyContent:"center",border:"1px dashed #ddd",borderRadius:"4px",backgroundColor:"#f0f0f0",color:"#666",fontSize:"18px",textAlign:"center"},removeButton:{position:"absolute",top:"8px",right:"8px",backgroundColor:"red",color:"white",border:"none",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},zoomControls:{position:"absolute",bottom:"8px",right:"8px",display:"flex",gap:"4px"},zoomButton:{backgroundColor:"#333",color:"white",border:"none",borderRadius:"4px",width:"25px",height:"25px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"16px"},buttonRow:{display:"flex",justifyContent:"center",marginTop:"15px",gap:"5px"},button:{width:"33.33%",padding:"8px",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",transition:"background 0.3s",display:"flex",alignItems:"center",justifyContent:"center"}};function k9e(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var XW=B,_9e=k9e(XW);function oI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B9e(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var E9e=!!(typeof window<"u"&&window.document&&window.document.createElement);function P9e(e,t,n){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function s(i){return i.displayName||i.name||"Component"}return function(a){if(typeof a!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],c;function l(){c=e(o.map(function(d){return d.props})),u.canUseDOM?t(c):n&&(c=n(c))}var u=function(d){B9e(f,d);function f(){return d.apply(this,arguments)||this}f.peek=function(){return c},f.rewind=function(){if(f.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var A=c;return c=void 0,o=[],A};var h=f.prototype;return h.UNSAFE_componentWillMount=function(){o.push(this),l()},h.componentDidUpdate=function(){l()},h.componentWillUnmount=function(){var A=o.indexOf(this);o.splice(A,1),l()},h.render=function(){return _9e.createElement(a,this.props)},f}(XW.PureComponent);return oI(u,"displayName","SideEffect("+s(a)+")"),oI(u,"canUseDOM",E9e),u}}var M9e=P9e;const D9e=mc(M9e);var I9e=typeof Element<"u",O9e=typeof Map=="function",L9e=typeof Set=="function",F9e=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function fv(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,s,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(s=n;s--!==0;)if(!fv(e[s],t[s]))return!1;return!0}var a;if(O9e&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(s=a.next()).done;)if(!t.has(s.value[0]))return!1;for(a=e.entries();!(s=a.next()).done;)if(!fv(s.value[1],t.get(s.value[0])))return!1;return!0}if(L9e&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(s=a.next()).done;)if(!t.has(s.value[0]))return!1;return!0}if(F9e&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(s=n;s--!==0;)if(e[s]!==t[s])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[s]))return!1;if(I9e&&e instanceof Element)return!1;for(s=n;s--!==0;)if(!((i[s]==="_owner"||i[s]==="__v"||i[s]==="__o")&&e.$$typeof)&&!fv(e[i[s]],t[i[s]]))return!1;return!0}return e!==e&&t!==t}var R9e=function(t,n){try{return fv(t,n)}catch(s){if((s.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw s}};const U9e=mc(R9e);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var lI=Object.getOwnPropertySymbols,H9e=Object.prototype.hasOwnProperty,$9e=Object.prototype.propertyIsEnumerable;function Q9e(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function z9e(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var s=Object.getOwnPropertyNames(t).map(function(a){return t[a]});if(s.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var V9e=z9e()?Object.assign:function(e,t){for(var n,s=Q9e(e),i,a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var o in n)H9e.call(n,o)&&(s[o]=n[o]);if(lI){i=lI(n);for(var c=0;c<i.length;c++)$9e.call(n,i[c])&&(s[i[c]]=n[i[c]])}}return s};const K9e=mc(V9e);var zd={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Cn={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Cn).map(function(e){return Cn[e]});var Dr={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},dw={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Qg={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},G9e=Object.keys(dw).reduce(function(e,t){return e[dw[t]]=t,e},{}),W9e=[Cn.NOSCRIPT,Cn.SCRIPT,Cn.STYLE],fo="data-react-helmet",q9e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X9e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Y9e=function(){function e(t,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),Fi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Z9e=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},cI=function(e,t){var n={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s]);return n},J9e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},w3=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},eRe=function(t){var n=Ff(t,Cn.TITLE),s=Ff(t,Qg.TITLE_TEMPLATE);if(s&&n)return s.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=Ff(t,Qg.DEFAULT_TITLE);return n||i||void 0},tRe=function(t){return Ff(t,Qg.ON_CHANGE_CLIENT_STATE)||function(){}},VC=function(t,n){return n.filter(function(s){return typeof s[t]<"u"}).map(function(s){return s[t]}).reduce(function(s,i){return Fi({},s,i)},{})},nRe=function(t,n){return n.filter(function(s){return typeof s[Cn.BASE]<"u"}).map(function(s){return s[Cn.BASE]}).reverse().reduce(function(s,i){if(!s.length)for(var a=Object.keys(i),o=0;o<a.length;o++){var c=a[o],l=c.toLowerCase();if(t.indexOf(l)!==-1&&i[l])return s.concat(i)}return s},[])},Hp=function(t,n,s){var i={};return s.filter(function(a){return Array.isArray(a[t])?!0:(typeof a[t]<"u"&&aRe("Helmet: "+t+' should be of type "Array". Instead found type "'+q9e(a[t])+'"'),!1)}).map(function(a){return a[t]}).reverse().reduce(function(a,o){var c={};o.filter(function(h){for(var m=void 0,A=Object.keys(h),g=0;g<A.length;g++){var p=A[g],b=p.toLowerCase();n.indexOf(b)!==-1&&!(m===Dr.REL&&h[m].toLowerCase()==="canonical")&&!(b===Dr.REL&&h[b].toLowerCase()==="stylesheet")&&(m=b),n.indexOf(p)!==-1&&(p===Dr.INNER_HTML||p===Dr.CSS_TEXT||p===Dr.ITEM_PROP)&&(m=p)}if(!m||!h[m])return!1;var x=h[m].toLowerCase();return i[m]||(i[m]={}),c[m]||(c[m]={}),i[m][x]?!1:(c[m][x]=!0,!0)}).reverse().forEach(function(h){return a.push(h)});for(var l=Object.keys(c),u=0;u<l.length;u++){var d=l[u],f=K9e({},i[d],c[d]);i[d]=f}return a},[]).reverse()},Ff=function(t,n){for(var s=t.length-1;s>=0;s--){var i=t[s];if(i.hasOwnProperty(n))return i[n]}return null},rRe=function(t){return{baseTag:nRe([Dr.HREF,Dr.TARGET],t),bodyAttributes:VC(zd.BODY,t),defer:Ff(t,Qg.DEFER),encode:Ff(t,Qg.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:VC(zd.HTML,t),linkTags:Hp(Cn.LINK,[Dr.REL,Dr.HREF],t),metaTags:Hp(Cn.META,[Dr.NAME,Dr.CHARSET,Dr.HTTPEQUIV,Dr.PROPERTY,Dr.ITEM_PROP],t),noscriptTags:Hp(Cn.NOSCRIPT,[Dr.INNER_HTML],t),onChangeClientState:tRe(t),scriptTags:Hp(Cn.SCRIPT,[Dr.SRC,Dr.INNER_HTML],t),styleTags:Hp(Cn.STYLE,[Dr.CSS_TEXT],t),title:eRe(t),titleAttributes:VC(zd.TITLE,t)}},j3=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){j3(t)},0)}}(),uI=function(t){return clearTimeout(t)},sRe=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||j3:global.requestAnimationFrame||j3,iRe=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||uI:global.cancelAnimationFrame||uI,aRe=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},$p=null,oRe=function(t){$p&&iRe($p),t.defer?$p=sRe(function(){dI(t,function(){$p=null})}):(dI(t),$p=null)},dI=function(t,n){var s=t.baseTag,i=t.bodyAttributes,a=t.htmlAttributes,o=t.linkTags,c=t.metaTags,l=t.noscriptTags,u=t.onChangeClientState,d=t.scriptTags,f=t.styleTags,h=t.title,m=t.titleAttributes;C3(Cn.BODY,i),C3(Cn.HTML,a),lRe(h,m);var A={baseTag:Jh(Cn.BASE,s),linkTags:Jh(Cn.LINK,o),metaTags:Jh(Cn.META,c),noscriptTags:Jh(Cn.NOSCRIPT,l),scriptTags:Jh(Cn.SCRIPT,d),styleTags:Jh(Cn.STYLE,f)},g={},p={};Object.keys(A).forEach(function(b){var x=A[b],v=x.newTags,y=x.oldTags;v.length&&(g[b]=v),y.length&&(p[b]=A[b].oldTags)}),n&&n(),u(t,g,p)},YW=function(t){return Array.isArray(t)?t.join(""):t},lRe=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=YW(t)),C3(Cn.TITLE,n)},C3=function(t,n){var s=document.getElementsByTagName(t)[0];if(s){for(var i=s.getAttribute(fo),a=i?i.split(","):[],o=[].concat(a),c=Object.keys(n),l=0;l<c.length;l++){var u=c[l],d=n[u]||"";s.getAttribute(u)!==d&&s.setAttribute(u,d),a.indexOf(u)===-1&&a.push(u);var f=o.indexOf(u);f!==-1&&o.splice(f,1)}for(var h=o.length-1;h>=0;h--)s.removeAttribute(o[h]);a.length===o.length?s.removeAttribute(fo):s.getAttribute(fo)!==c.join(",")&&s.setAttribute(fo,c.join(","))}},Jh=function(t,n){var s=document.head||document.querySelector(Cn.HEAD),i=s.querySelectorAll(t+"["+fo+"]"),a=Array.prototype.slice.call(i),o=[],c=void 0;return n&&n.length&&n.forEach(function(l){var u=document.createElement(t);for(var d in l)if(l.hasOwnProperty(d))if(d===Dr.INNER_HTML)u.innerHTML=l.innerHTML;else if(d===Dr.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=l.cssText:u.appendChild(document.createTextNode(l.cssText));else{var f=typeof l[d]>"u"?"":l[d];u.setAttribute(d,f)}u.setAttribute(fo,"true"),a.some(function(h,m){return c=m,u.isEqualNode(h)})?a.splice(c,1):o.push(u)}),a.forEach(function(l){return l.parentNode.removeChild(l)}),o.forEach(function(l){return s.appendChild(l)}),{oldTags:a,newTags:o}},ZW=function(t){return Object.keys(t).reduce(function(n,s){var i=typeof t[s]<"u"?s+'="'+t[s]+'"':""+s;return n?n+" "+i:i},"")},cRe=function(t,n,s,i){var a=ZW(s),o=YW(n);return a?"<"+t+" "+fo+'="true" '+a+">"+w3(o,i)+"</"+t+">":"<"+t+" "+fo+'="true">'+w3(o,i)+"</"+t+">"},uRe=function(t,n,s){return n.reduce(function(i,a){var o=Object.keys(a).filter(function(u){return!(u===Dr.INNER_HTML||u===Dr.CSS_TEXT)}).reduce(function(u,d){var f=typeof a[d]>"u"?d:d+'="'+w3(a[d],s)+'"';return u?u+" "+f:f},""),c=a.innerHTML||a.cssText||"",l=W9e.indexOf(t)===-1;return i+"<"+t+" "+fo+'="true" '+o+(l?"/>":">"+c+"</"+t+">")},"")},JW=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(s,i){return s[dw[i]||i]=t[i],s},n)},dRe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(s,i){return s[G9e[i]||i]=t[i],s},n)},hRe=function(t,n,s){var i,a=(i={key:n},i[fo]=!0,i),o=JW(s,a);return[je.createElement(Cn.TITLE,o,n)]},fRe=function(t,n){return n.map(function(s,i){var a,o=(a={key:i},a[fo]=!0,a);return Object.keys(s).forEach(function(c){var l=dw[c]||c;if(l===Dr.INNER_HTML||l===Dr.CSS_TEXT){var u=s.innerHTML||s.cssText;o.dangerouslySetInnerHTML={__html:u}}else o[l]=s[c]}),je.createElement(t,o)})},Bl=function(t,n,s){switch(t){case Cn.TITLE:return{toComponent:function(){return hRe(t,n.title,n.titleAttributes)},toString:function(){return cRe(t,n.title,n.titleAttributes,s)}};case zd.BODY:case zd.HTML:return{toComponent:function(){return JW(n)},toString:function(){return ZW(n)}};default:return{toComponent:function(){return fRe(t,n)},toString:function(){return uRe(t,n,s)}}}},eq=function(t){var n=t.baseTag,s=t.bodyAttributes,i=t.encode,a=t.htmlAttributes,o=t.linkTags,c=t.metaTags,l=t.noscriptTags,u=t.scriptTags,d=t.styleTags,f=t.title,h=f===void 0?"":f,m=t.titleAttributes;return{base:Bl(Cn.BASE,n,i),bodyAttributes:Bl(zd.BODY,s,i),htmlAttributes:Bl(zd.HTML,a,i),link:Bl(Cn.LINK,o,i),meta:Bl(Cn.META,c,i),noscript:Bl(Cn.NOSCRIPT,l,i),script:Bl(Cn.SCRIPT,u,i),style:Bl(Cn.STYLE,d,i),title:Bl(Cn.TITLE,{title:h,titleAttributes:m},i)}},mRe=function(t){var n,s;return s=n=function(i){Z9e(a,i);function a(){return X9e(this,a),J9e(this,i.apply(this,arguments))}return a.prototype.shouldComponentUpdate=function(c){return!U9e(this.props,c)},a.prototype.mapNestedChildrenToProps=function(c,l){if(!l)return null;switch(c.type){case Cn.SCRIPT:case Cn.NOSCRIPT:return{innerHTML:l};case Cn.STYLE:return{cssText:l}}throw new Error("<"+c.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},a.prototype.flattenArrayTypeChildren=function(c){var l,u=c.child,d=c.arrayTypeChildren,f=c.newChildProps,h=c.nestedChildren;return Fi({},d,(l={},l[u.type]=[].concat(d[u.type]||[],[Fi({},f,this.mapNestedChildrenToProps(u,h))]),l))},a.prototype.mapObjectTypeChildren=function(c){var l,u,d=c.child,f=c.newProps,h=c.newChildProps,m=c.nestedChildren;switch(d.type){case Cn.TITLE:return Fi({},f,(l={},l[d.type]=m,l.titleAttributes=Fi({},h),l));case Cn.BODY:return Fi({},f,{bodyAttributes:Fi({},h)});case Cn.HTML:return Fi({},f,{htmlAttributes:Fi({},h)})}return Fi({},f,(u={},u[d.type]=Fi({},h),u))},a.prototype.mapArrayTypeChildrenToProps=function(c,l){var u=Fi({},l);return Object.keys(c).forEach(function(d){var f;u=Fi({},u,(f={},f[d]=c[d],f))}),u},a.prototype.warnOnInvalidChildren=function(c,l){return!0},a.prototype.mapChildrenToProps=function(c,l){var u=this,d={};return je.Children.forEach(c,function(f){if(!(!f||!f.props)){var h=f.props,m=h.children,A=cI(h,["children"]),g=dRe(A);switch(u.warnOnInvalidChildren(f,m),f.type){case Cn.LINK:case Cn.META:case Cn.NOSCRIPT:case Cn.SCRIPT:case Cn.STYLE:d=u.flattenArrayTypeChildren({child:f,arrayTypeChildren:d,newChildProps:g,nestedChildren:m});break;default:l=u.mapObjectTypeChildren({child:f,newProps:l,newChildProps:g,nestedChildren:m});break}}}),l=this.mapArrayTypeChildrenToProps(d,l),l},a.prototype.render=function(){var c=this.props,l=c.children,u=cI(c,["children"]),d=Fi({},u);return l&&(d=this.mapChildrenToProps(l,d)),je.createElement(t,d)},Y9e(a,null,[{key:"canUseDOM",set:function(c){t.canUseDOM=c}}]),a}(je.Component),n.propTypes={base:_n.object,bodyAttributes:_n.object,children:_n.oneOfType([_n.arrayOf(_n.node),_n.node]),defaultTitle:_n.string,defer:_n.bool,encodeSpecialCharacters:_n.bool,htmlAttributes:_n.object,link:_n.arrayOf(_n.object),meta:_n.arrayOf(_n.object),noscript:_n.arrayOf(_n.object),onChangeClientState:_n.func,script:_n.arrayOf(_n.object),style:_n.arrayOf(_n.object),title:_n.string,titleAttributes:_n.object,titleTemplate:_n.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=eq({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},s},pRe=function(){return null},ARe=D9e(rRe,oRe,eq)(pRe),N3=mRe(ARe);N3.renderStatic=N3.rewind;const dA="https://via.placeholder.com/150",gRe=e=>{const n=new DOMParser().parseFromString(ch.sanitize(e,{ADD_TAGS:["img"],ADD_ATTR:["src"]}),"text/html"),s=[],i=c=>{var l;if(c.nodeType===3){const u=(l=c.textContent)==null?void 0:l.trim();u&&s.push(u)}else c.nodeType===1&&c.nodeName!=="IMG"&&c.childNodes.forEach(i)};i(n.body);const a=s.join(" ").trim(),o=Array.from(n.querySelectorAll("img")).map(c=>c.src);return{textContent:a,images:o}},xRe=B.memo(({entityId:e,type:t})=>{var _;const[n,s]=B.useState([]),[i,a]=B.useState(""),[o,c]=B.useState(new Set),[l,u]=B.useState(!1),[d,f]=B.useState(null),[h,m]=B.useState(!1),[A,g]=B.useState(!1),[p,b]=B.useState("newest"),[x,v]=B.useState(!1),y=(_=JSON.parse(localStorage.getItem("user")||"{}"))==null?void 0:_.maNguoiDung,N={toolbar:[[{header:[1,2,!1]}],["bold","italic","underline"],["image"],["clean"]]},P=B.useCallback(E=>{const T=document.createElement("input");T.setAttribute("type","file"),T.setAttribute("accept","image/*"),T.click(),T.onchange=()=>{var C;const w=(C=T.files)==null?void 0:C[0];if(w){const j=new FileReader;j.onload=()=>{const S=E.getSelection()||E.getSelection(!0);E.insertEmbed(S.index,"image",j.result)},j.readAsDataURL(w)}}},[]);B.useEffect(()=>{var T;const E=(T=document.querySelector(".quill"))==null?void 0:T.quill;E&&E.getModule("toolbar").addHandler("image",()=>P(E))},[P]);const M=B.useCallback(async()=>{if(!e){Yt.error("Mã blog không hợp lệ!"),m(!1);return}m(!0);try{const E=await fetch(`https://bicacuatho.azurewebsites.net/api/Comment/list?${t}Id=${e}&status=1`);if(!E.ok)throw new Error(E.status===404?"Không tìm thấy bình luận cho bài viết này.":"Lỗi khi tải bình luận");let T=await E.json(),w=[];if(y){const j=await fetch(`https://bicacuatho.azurewebsites.net/api/Comment/list?${t}Id=${e}&status=0&maNguoiDung=${y}`);j.ok&&(w=await j.json())}const C=[...T,...w].filter((j,S,I)=>S===I.findIndex(R=>R.maBinhLuan===j.maBinhLuan)).filter(j=>j.maBlog===e).map(j=>({...j,soTimBinhLuan:j.soTimBinhLuan||0})).sort((j,S)=>p==="newest"?new Date(S.ngayBinhLuan).getTime()-new Date(j.ngayBinhLuan).getTime():S.soTimBinhLuan-j.soTimBinhLuan);if(y){const j=`likedComments_${y}_${t}_${e}`,S=JSON.parse(localStorage.getItem(j)||"[]");c(new Set(S))}s(C)}catch(E){console.error("Error fetching comments:",E),Yt.error(E.message||"Có lỗi xảy ra khi tải bình luận!")}finally{m(!1)}},[e,t,p,y]);B.useEffect(()=>{M()},[M]);const k=B.useCallback(async()=>{if(!i.trim()){Yt.error("Vui lòng nhập nội dung bình luận!");return}if(!y){Yt.error("Vui lòng đăng nhập trước khi thêm bình luận!");return}const E=JSON.parse(localStorage.getItem("user")||"{}"),T={maBlog:e,maNguoiDung:y,noiDungBinhLuan:ch.sanitize(i,{ADD_TAGS:["img"],ADD_ATTR:["src"]}),ngayBinhLuan:new Date().toISOString(),trangThai:0,soTimBinhLuan:0},w={...T,maBinhLuan:Date.now(),hinhAnh:(E==null?void 0:E.hinhAnh)||dA,hoTen:E==null?void 0:E.hoTen};s(C=>[w,...C.filter(j=>j.maBinhLuan!==w.maBinhLuan)]),a(""),g(!0);try{const C=await fetch("https://bicacuatho.azurewebsites.net/api/Comment/add",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(T)});if(!C.ok){const j=await C.json();throw new Error(j.message||"Không thể thêm bình luận")}Yt.success("Bình luận đã được gửi và chờ duyệt!"),await M()}catch(C){console.error("Error adding comment:",C),s(j=>j.filter(S=>S.maBinhLuan!==w.maBinhLuan)),Yt.error(C.message||"Có lỗi xảy ra khi thêm bình luận!")}finally{g(!1)}},[y,e,i,M]),D=B.useCallback(async E=>{if(!y){Yt.error("Vui lòng đăng nhập để xóa bình luận!");return}f(E),u(!0)},[y]),O=B.useCallback(async()=>{if(d){g(!0);try{if(!(await fetch(`https://bicacuatho.azurewebsites.net/api/Comment/delete/${d}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Không thể xóa bình luận");Yt.success("Xóa bình luận thành công!"),await M()}catch(E){console.error("Error deleting comment:",E),Yt.error(E.message||"Có lỗi xảy ra khi xóa bình luận!")}finally{u(!1),f(null),g(!1)}}},[d,M]),L=B.useCallback(async E=>{if(!y){Yt.error("Vui lòng đăng nhập để thích bình luận!");return}const T=o.has(E),w=T?`https://bicacuatho.azurewebsites.net/api/Comment/Unlike/${E}`:`https://bicacuatho.azurewebsites.net/api/Comment/Like/${E}`;g(!0);try{if(!(await fetch(w,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Không thể cập nhật trạng thái thích");s(j=>j.map(S=>S.maBinhLuan===E?{...S,soTimBinhLuan:T?Math.max(0,S.soTimBinhLuan-1):S.soTimBinhLuan+1}:S).sort((S,I)=>p==="newest"?new Date(I.ngayBinhLuan).getTime()-new Date(S.ngayBinhLuan).getTime():I.soTimBinhLuan-S.soTimBinhLuan)),c(j=>{const S=new Set(j);T?S.delete(E):S.add(E);const I=`likedComments_${y}_${t}_${e}`;return localStorage.setItem(I,JSON.stringify([...S])),S}),Yt.success(T?"Đã bỏ thích bình luận!":"Đã thích bình luận!")}catch(C){console.error("Error updating like status:",C),Yt.error(C.message||"Có lỗi xảy ra khi cập nhật trạng thái thích!")}finally{g(!1)}},[y,o,p,t,e]),F=x?n:n.slice(0,3);return r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx($m,{position:"top-right"}),r.jsx(bRe,{isOpen:l,onClose:()=>u(!1),onConfirm:O}),r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(ql,{className:"w-5 h-5 text-purple-600"}),"Bình Luận (",n.filter(E=>E.trangThai===1).length,")"]}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:p,onChange:E=>b(E.target.value),className:"appearance-none pl-4 pr-8 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200","aria-label":"Sắp xếp bình luận",children:[r.jsx("option",{value:"newest",children:"Mới nhất"}),r.jsx("option",{value:"mostLiked",children:"Nhiều thích nhất"})]}),r.jsx(ml,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 pointer-events-none"})]})]}),n.some(E=>E.trangThai===0&&E.maNguoiDung===y)&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:r.jsx("p",{className:"text-sm text-yellow-700",children:"⏳ Bình luận của bạn đang chờ duyệt."})}),r.jsx("div",{className:"space-y-4 mb-6 max-h-[600px] overflow-y-auto",children:h?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(As,{className:"h-8 w-8 animate-spin mx-auto text-purple-500"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Đang tải bình luận..."})]}):n.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(ql,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),r.jsx("p",{children:"Chưa có bình luận nào."}),r.jsx("p",{className:"text-sm",children:"Hãy là người đầu tiên bình luận!"})]}):F.map(E=>{const{textContent:T,images:w}=gRe(E.noiDungBinhLuan||"Chưa cập nhật");return r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-100 hover:shadow-sm transition-shadow duration-200",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("img",{src:E.hinhAnh||dA,alt:`Ảnh đại diện của ${E.hoTen||E.maNguoiDung}`,className:"w-10 h-10 rounded-full object-cover border-2 border-white shadow-sm",onError:C=>C.currentTarget.src=dA})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-800 text-sm",children:E.hoTen||E.maNguoiDung}),r.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[r.jsx(ts,{className:"w-3 h-3"}),new Date(E.ngayBinhLuan).toLocaleDateString("vi-VN"),E.trangThai===0&&r.jsx("span",{className:"ml-2 px-2 py-1 bg-yellow-100 text-yellow-700 rounded-full text-xs",children:"Chờ duyệt"})]})]}),E.maNguoiDung===y&&r.jsx("button",{onClick:()=>D(E.maBinhLuan),className:"text-red-400 hover:text-red-600 transition-colors disabled:opacity-50 p-1 rounded-md hover:bg-red-50","aria-label":"Xóa bình luận",disabled:A,children:r.jsx(za,{className:"w-4 h-4"})})]}),r.jsx("div",{className:"text-gray-700 text-sm leading-relaxed mb-3 line-clamp-3",style:{whiteSpace:"pre-line"},children:T||"Chưa cập nhật"}),w.length>0&&r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:w.map((C,j)=>r.jsx("img",{src:C,alt:`Hình ảnh bình luận ${j+1}`,className:"w-48 h-auto object-contain rounded",style:{maxWidth:"225px"},onError:S=>{console.warn(`Failed to load comment image ${j+1}`),S.currentTarget.src=dA}},j))}),r.jsx("div",{className:"flex items-center",children:r.jsxs("button",{onClick:()=>L(E.maBinhLuan),className:"flex items-center gap-2 text-gray-500 hover:text-purple-600 disabled:opacity-50 transition-colors duration-200","aria-label":o.has(E.maBinhLuan)?"Bỏ thích bình luận":"Thích bình luận",disabled:A||E.trangThai===0,children:[r.jsx(di,{className:Fe("w-4 h-4 transition-colors duration-200",o.has(E.maBinhLuan)?"fill-red-500 text-red-500":"text-gray-400 hover:text-red-400")}),r.jsx("span",{className:"text-sm font-medium",children:E.soTimBinhLuan})]})})]})]})},E.maBinhLuan)})}),n.filter(E=>E.trangThai===1).length>3&&!x&&r.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:from-purple-600 hover:to-purple-700 transition-all duration-200 shadow-sm hover:shadow-md","aria-label":"Xem thêm bình luận",children:[r.jsx(dr,{className:"w-4 h-4"}),"Xem thêm bình luận"]}),r.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:r.jsxs("div",{className:"space-y-3",children:[r.jsx(_g,{value:i,onChange:a,modules:N,placeholder:"Chia sẻ suy nghĩ của bạn về bài viết này...",className:"bg-white rounded-lg border border-gray-200 focus-within:ring-2 focus-within:ring-purple-500",readOnly:A}),r.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:from-purple-600 hover:to-purple-700 disabled:from-gray-300 disabled:to-gray-400 transition-all duration-200 shadow-sm hover:shadow-md font-medium",disabled:A||!i.trim(),"aria-label":"Gửi bình luận",children:[A?r.jsx(As,{className:"w-4 h-4 animate-spin"}):r.jsx(ql,{className:"w-4 h-4"}),A?"Đang gửi...":"Gửi Bình Luận"]})]})})]})}),bRe=({isOpen:e,onClose:t,onConfirm:n})=>(B.useEffect(()=>{const s=i=>{i.key==="Escape"&&t()};if(e)return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[e,t]),e?r.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50 backdrop-blur-sm",role:"dialog","aria-labelledby":"confirm-modal-title",children:r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-2xl w-96 transform transition-all duration-200",children:[r.jsx("h3",{id:"confirm-modal-title",className:"text-lg font-semibold mb-4 text-gray-800",children:"Xác nhận xóa"}),r.jsx("p",{className:"mb-6 text-gray-600",children:"Bạn có chắc muốn xóa bình luận này không? Hành động này không thể hoàn tác."}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:t,"aria-label":"Hủy xóa bình luận",className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors duration-200",children:"Hủy"}),r.jsx("button",{onClick:n,"aria-label":"Xác nhận xóa bình luận",className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors duration-200",children:"Xóa"})]})]})}):null),vRe=()=>{var O;const{slug:e}=Mm(),[t,n]=B.useState(null),[s,i]=B.useState(null),[a,o]=B.useState([]),[c,l]=B.useState({}),[u,d]=B.useState(!0),[f,h]=B.useState(!1),[m,A]=B.useState(0),[g,p]=B.useState(!1);Dm();const b=(O=JSON.parse(localStorage.getItem("user")||"{}"))==null?void 0:O.maNguoiDung,x=B.useCallback(async()=>{if(!e){Yt.error("Slug không hợp lệ!"),d(!1);return}try{d(!0);const F=(await Nt.get(`https://bicacuatho.azurewebsites.net/api/Blog/slug/${e}`)).data;n(F),A(F.likes||0),h(b&&F.userLikes?F.userLikes.includes(b):!1);let _=null;F.maNguoiDung&&(_=await Nt.get(`https://bicacuatho.azurewebsites.net/api/NguoiDung/${F.maNguoiDung}`).catch(()=>null)),i((_==null?void 0:_.data)||null);const T=(await Nt.get("https://bicacuatho.azurewebsites.net/api/Blog")).data.filter(I=>I.isPublished&&I.maBlog!==F.maBlog&&I.chuDe===F.chuDe);o(T.slice(0,5));const w=[...new Set(T.map(I=>I.maNguoiDung))],C=w.map(I=>Nt.get(`https://bicacuatho.azurewebsites.net/api/NguoiDung/${I}`).catch(()=>null)),j=await Promise.all(C),S=w.reduce((I,R,U)=>{var z;return I[R]=((z=j[U])==null?void 0:z.data)||null,I},{});l(S)}catch(L){console.error("Lỗi khi tải dữ liệu:",L),Yt.error("Không thể tải bài viết hoặc bài viết liên quan. Vui lòng thử lại sau.")}finally{d(!1)}},[e,b]),v=B.useCallback(async()=>{if(!b){Yt.error("Vui lòng đăng nhập để thích bài viết!");return}p(!0);try{const L=f?`https://bicacuatho.azurewebsites.net/api/Blog/${t==null?void 0:t.maBlog}/unlike`:`https://bicacuatho.azurewebsites.net/api/Blog/${t==null?void 0:t.maBlog}/like`,F=await fetch(L,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(b)});if(!F.ok)throw new Error("Không thể cập nhật trạng thái thích");const _=await F.json();A(_.likes),h(!f),Yt.success(f?"Đã bỏ thích bài viết!":"Đã thích bài viết!")}catch(L){console.error("Error updating like status:",L),Yt.error(L.message||"Có lỗi xảy ra khi cập nhật trạng thái thích!")}finally{p(!1)}},[b,f,t]);if(B.useEffect(()=>{x()},[x]),u)return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(As,{className:"h-12 w-12 animate-spin mx-auto text-purple-500 mb-4"}),r.jsx("p",{className:"text-gray-600 text-lg",children:"Đang tải bài viết..."})]})});if(!t)return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"text-center bg-white rounded-xl shadow-lg p-8 max-w-md",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(ql,{className:"w-8 h-8 text-gray-400"})}),r.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Không tìm thấy bài viết"}),r.jsx("p",{className:"text-gray-600",children:"Bài viết không tồn tại hoặc đã bị xóa."})]})});const y=new Date(t.ngayTao).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"}),N={1:{text:"Admin",background:"bg-emerald-100",textColor:"text-emerald-700"},2:{text:"Nhân Viên",background:"bg-blue-100",textColor:"text-blue-700"},0:{text:"Khác",background:"bg-gray-100",textColor:"text-gray-700"}},{text:P,background:M,textColor:k}=N[(s==null?void 0:s.vaiTro)||0],D={"san-pham":"Giới Thiệu Sản Phẩm","phoi-do":"Gợi Ý Phối Đồ"};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50",children:[r.jsxs(N3,{children:[r.jsx("meta",{name:"description",content:t.metaDescription||"Bài viết chi tiết"}),r.jsx("meta",{property:"og:title",content:t.metaTitle||t.tieuDe}),r.jsx("meta",{property:"og:description",content:t.metaDescription||""}),t.hinhAnh&&r.jsx("meta",{property:"og:image",content:`data:image/jpeg;base64,${t.hinhAnh}`})]}),r.jsx($m,{position:"top-right"}),r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsxs("article",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden mb-8",children:[r.jsx("div",{className:"p-6 sm:p-8 border-b border-gray-100",children:r.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-800 leading-tight",children:t.tieuDe})}),t.hinhAnh&&r.jsx("div",{className:"relative",children:r.jsx("img",{src:`data:image/jpeg;base64,${t.hinhAnh}`,alt:t.moTaHinhAnh||t.tieuDe,className:"w-full h-auto max-h-96 object-contain",onError:L=>L.currentTarget.src=dA})}),r.jsx("div",{className:"p-6 sm:p-8",children:r.jsx("div",{className:"prose prose-sm sm:prose lg:prose-lg max-w-none ql-editor blog-content",dangerouslySetInnerHTML:{__html:ch.sanitize(t.noiDung,{ADD_ATTR:["style","src"]})}})}),r.jsxs("div",{className:"p-6 sm:p-8 border-t border-gray-100",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full flex items-center justify-center",children:r.jsx($n,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-800",children:(s==null?void 0:s.hoTen)||t.maNguoiDung}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ts,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-500",children:y})]})]})]}),(s==null?void 0:s.vaiTro)!==void 0&&r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${M} ${k}`,children:P})]}),r.jsxs("button",{onClick:v,className:Fe("flex items-center gap-2 px-6 py-3 rounded-lg font-medium transition-all duration-200 shadow-sm hover:shadow-md",f?"bg-gradient-to-r from-red-500 to-pink-500 text-white hover:from-red-600 hover:to-pink-600":"bg-gradient-to-r from-purple-500 to-purple-600 text-white hover:from-purple-600 hover:to-purple-700"),"aria-label":f?"Bỏ thích bài viết":"Thích bài viết",disabled:g,children:[g?r.jsx(As,{className:"w-5 h-5 animate-spin"}):r.jsx(di,{className:Fe("w-5 h-5",f?"fill-current":"")}),r.jsx("span",{children:f?"Đã thích":"Thích"}),r.jsx("span",{className:"bg-white bg-opacity-20 px-2 py-1 rounded-full text-sm",children:m})]})]}),t.tags&&t.tags.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((L,F)=>r.jsxs("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium",children:["#",D[L]||L]},F))})]})]}),r.jsx(xRe,{entityId:t.maBlog,type:"blog"})]}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 sticky top-4",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Bài viết liên quan"}),a.length===0?r.jsx("p",{className:"text-gray-500 text-sm",children:"Không có bài viết liên quan."}):r.jsx("div",{className:"space-y-4 max-h-[calc(100vh-8rem)] overflow-y-auto",children:a.map(L=>r.jsx(RQ,{post:L,nguoiDung:c[L.maNguoiDung]||null},L.maBlog))})]})})]})}),r.jsx("style",{children:`
        .blog-content {
          color: #374151;
          line-height: 1.7;
        }
        .blog-content h1, .blog-content h2, .blog-content h3, .blog-content h4, .blog-content h5, .blog-content h6 {
          color: #1f2937;
          margin-top: 2rem;
          margin-bottom: 1rem;
          font-weight: 600;
        }
        .blog-content p {
          margin-bottom: 1.5rem;
        }
        .blog-content img {
          max-width: 100%;
          height: auto;
          display: block;
          margin: 2rem auto;
          border-radius: 0.5rem;
          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        .blog-content blockquote {
          border-left: 4px solid #8b5cf6;
          padding-left: 1rem;
          margin: 1.5rem 0;
          background: #f8fafc;
          padding: 1rem;
          border-radius: 0.5rem;
          font-style: italic;
        }
        .blog-content ul, .blog-content ol {
          margin: 1.5rem 0;
          padding-left: 1.5rem;
        }
        .blog-content li {
          margin-bottom: 0.5rem;
        }
        .blog-content a {
          color: #8b5cf6;
          text-decoration: underline;
          transition: color 0.2s;
        }
        .blog-content a:hover {
          color: #7c3aed;
        }
        .blog-content code {
          background: #f1f5f9;
          padding: 0.25rem 0.5rem;
          border-radius: 0.25rem;
          font-size: 0.875em;
          color: #e11d48;
        }
        .blog-content pre {
          background: #1e293b;
          color: #e2e8f0;
          padding: 1rem;
          border-radius: 0.5rem;
          overflow-x: auto;
          margin: 1.5rem 0;
        }
        .blog-content pre code {
          background: transparent;
          padding: 0;
          color: inherit;
        }
        .blog-content table {
          width: 100%;
          border-collapse: collapse;
          margin: 1.5rem 0;
        }
        .blog-content th, .blog-content td {
          border: 1px solid #e5e7eb;
          padding: 0.75rem;
          text-align: left;
        }
        .blog-content th {
          background: #f9fafb;
          font-weight: 600;
        }
        .ql-size-small {
          font-size: 0.75rem !important;
        }
        .ql-size-normal {
          font-size: 1rem !important;
        }
        .ql-size-large {
          font-size: 1.5rem !important;
        }
        .ql-size-huge {
          font-size: 2.5rem !important;
        }
        .line-clamp-3 {
          display: -webkit-box;
          -webkit-line-clamp: 3;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }
        .quill {
          background: white;
          border-radius: 0.5rem;
        }
        .ql-toolbar.ql-snow {
          border: 1px solid #e5e7eb;
          border-top-left-radius: 0.5rem;
          border-top-right-radius: 0.5rem;
          background: #f9fafb;
        }
        .ql-container.ql-snow {
          border: 1px solid #e5e7eb;
          border-bottom-left-radius: 0.5rem;
          border-bottom-right-radius: 0.5rem;
        }
        .ql-editor {
          min-height: 100px;
          max-height: 200px;
          overflow-y: auto;
          color: #374151;
        }
        .ql-editor::before {
          color: #9ca3af;
        }
      `})]})},hI=()=>{const{toast:e}=Uu(),[t,n]=B.useState(!1),[s,i]=B.useState(null),[a,o]=B.useState({fullName:"",email:"",Phone:"",Address:"",Cccd:"",Born:"",image:null,imagePreview:null}),[c,l]=B.useState(""),[u,d]=B.useState(""),[f,h]=B.useState(""),m=B.useRef(null),A=localStorage.getItem("token");B.useEffect(()=>{A&&(async()=>{console.log("Token:",A);try{const k=(await Nt.get("https://bicacuatho.azurewebsites.net/api/UpdateProfile/profile",{headers:{Authorization:`Bearer ${A}`}})).data;i(k.maNguoiDung),o({fullName:k.hoTen||"",email:k.email||"",Phone:k.sdt||"",Address:k.diaChi||"",Cccd:k.cccd||"",Born:k.ngaySinh||"",image:null,imagePreview:k.hinhAnh?`data:image/jpg;base64,${k.hinhAnh}`:null})}catch{e({variant:"destructive",title:"Lỗi",description:"Không thể lấy thông tin người dùng."})}})()},[A,e]);const g=P=>{const{name:M,value:k}=P.target;o(D=>({...D,[M]:k}))},p=P=>{var k;const M=(k=P.target.files)==null?void 0:k[0];if(M){if(M.size>5*1024*1024){e({variant:"destructive",title:"Lỗi",description:"Kích thước ảnh không được vượt quá 5MB."});return}if(!["image/jpeg","image/jpg","image/png"].includes(M.type)){e({variant:"destructive",title:"Lỗi",description:"Chỉ chấp nhận file ảnh .jpg, .jpeg, .png."});return}const O=URL.createObjectURL(M);o(L=>({...L,image:M,imagePreview:O}))}},b=P=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(P),x=P=>/^[0-9]{10}$/.test(P),v=P=>/^[0-9]{12}$/.test(P),y=async P=>{var k,D;if(P.preventDefault(),n(!0),!a.fullName.trim()){e({variant:"destructive",title:"Lỗi",description:"Họ và tên không được để trống."}),n(!1);return}if(a.email&&!b(a.email)){e({variant:"destructive",title:"Lỗi",description:"Email không hợp lệ."}),n(!1);return}if(a.Phone&&!x(a.Phone)){e({variant:"destructive",title:"Lỗi",description:"Số điện thoại phải là 10 chữ số."}),n(!1);return}if(a.Cccd&&!v(a.Cccd)){e({variant:"destructive",title:"Lỗi",description:"CCCD phải là 12 chữ số."}),n(!1);return}if(a.Born&&new Date(a.Born)>new Date){e({variant:"destructive",title:"Lỗi",description:"Ngày sinh không được lớn hơn ngày hiện tại."}),n(!1);return}const M=new FormData;M.append("HoTen",a.fullName),M.append("Email",a.email),M.append("Sdt",a.Phone),M.append("DiaChi",a.Address),M.append("CCCD",a.Cccd),M.append("NgaySinh",a.Born),a.image&&M.append("HinhAnh",a.image);try{await Nt.put(`https://bicacuatho.azurewebsites.net/api/UpdateProfile/update-profile/${s}`,M,{headers:{Authorization:`Bearer ${A}`,"Content-Type":"multipart/form-data"}});const L=(await Nt.get("https://bicacuatho.azurewebsites.net/api/UpdateProfile/profile",{headers:{Authorization:`Bearer ${A}`}})).data;o(F=>({...F,imagePreview:L.hinhAnh?`data:image/jpg;base64,${L.hinhAnh}`:null})),e({title:"Cập nhật thành công",description:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ra,{className:"h-5 w-5 text-green-500"}),r.jsx("span",{children:"Thông tin cá nhân của bạn đã được cập nhật thành công!"})]}),className:"bg-green-100 border-green-500 text-green-800",duration:3e3})}catch(O){e({variant:"destructive",title:"Lỗi",description:((D=(k=O.response)==null?void 0:k.data)==null?void 0:D.message)||"Không thể cập nhật thông tin."})}finally{n(!1)}},N=async P=>{var k,D;if(P.preventDefault(),n(!0),!c){e({variant:"destructive",title:"Lỗi",description:"Mật khẩu hiện tại không được để trống."}),n(!1);return}if(!u){e({variant:"destructive",title:"Lỗi",description:"Mật khẩu mới không được để trống."}),n(!1);return}if(u.length<6){e({variant:"destructive",title:"Lỗi",description:"Mật khẩu mới phải có ít nhất 6 ký tự."}),n(!1);return}if(u!==f){e({variant:"destructive",title:"Lỗi",description:"Mật khẩu mới và xác nhận mật khẩu không khớp."}),n(!1);return}const M=new FormData;M.append("MatKhauCu",c),M.append("MatKhauMoi",u);try{await Nt.put(`https://bicacuatho.azurewebsites.net/api/UpdateProfile/update-password/${s}`,M,{headers:{Authorization:`Bearer ${A}`,"Content-Type":"multipart/form-data"}}),e({title:"Cập nhật thành công",description:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ra,{className:"h-5 w-5 text-green-500"}),r.jsx("span",{children:"Mật khẩu của bạn đã được thay đổi thành công!"})]}),className:"bg-green-100 border-green-500 text-green-800",duration:3e3}),l(""),d(""),h("")}catch(O){e({variant:"destructive",title:"Lỗi",description:((D=(k=O.response)==null?void 0:k.data)==null?void 0:D.message)||"Không thể đổi mật khẩu."})}finally{n(!1)}};return r.jsx("div",{className:"min-h-screen flex flex-col",children:r.jsx("main",{className:"flex-1 py-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-b from-background to-secondary/20",children:r.jsx("div",{className:"max-w-4xl mx-auto my-[50px]",children:r.jsx("div",{className:"colorful-card p-8 rounded-lg shadow-lg",children:r.jsxs(ia,{defaultValue:"personal-info",className:"w-full",children:[r.jsxs(Mi,{className:"grid w-full grid-cols-2 mb-8",children:[r.jsxs(Bn,{value:"personal-info",children:[r.jsx($n,{className:"mr-2 h-4 w-4"})," Thông tin cá nhân"]}),r.jsxs(Bn,{value:"change-password",children:[r.jsx(Vi,{className:"mr-2 h-4 w-4"})," Đổi mật khẩu"]})]}),r.jsx(Hn,{value:"personal-info",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-8",children:[r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"relative w-32 h-32 rounded-full overflow-hidden bg-secondary",children:a.imagePreview?r.jsx("img",{src:a.imagePreview,alt:"Preview",className:"w-full h-full object-cover"}):r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx(zN,{size:64})})}),r.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>{var P;return(P=m.current)==null?void 0:P.click()},children:[r.jsx(zN,{className:"mr-2 h-4 w-4"})," Thay đổi ảnh"]}),r.jsx("input",{type:"file",accept:"image/*",ref:m,hidden:!0,onChange:p})]}),r.jsx("div",{className:"flex-1",children:r.jsxs("form",{onSubmit:y,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(De,{htmlFor:"fullName",children:"Họ và tên"}),r.jsx(ye,{id:"fullName",name:"fullName",value:a.fullName,onChange:g})]}),r.jsxs("div",{children:[r.jsx(De,{htmlFor:"email",children:"Email"}),r.jsx(ye,{id:"email",name:"email",type:"email",value:a.email,onChange:g})]}),r.jsxs("div",{children:[r.jsx(De,{htmlFor:"Phone",children:"Số điện thoại"}),r.jsx(ye,{id:"Phone",name:"Phone",type:"tel",value:a.Phone,onChange:g})]}),r.jsxs("div",{children:[r.jsx(De,{htmlFor:"Address",children:"Địa chỉ"}),r.jsx(ye,{id:"Address",name:"Address",value:a.Address,onChange:g})]}),r.jsxs("div",{children:[r.jsx(De,{htmlFor:"Cccd",children:"Căn cước công dân"}),r.jsx(ye,{id:"Cccd",name:"Cccd",value:a.Cccd,onChange:g})]}),r.jsxs("div",{children:[r.jsx(De,{htmlFor:"Born",children:"Ngày sinh"}),r.jsx(ye,{id:"Born",name:"Born",type:"date",value:a.Born,onChange:g})]})]}),r.jsx(fe,{type:"submit",className:"w-full sm:w-auto gradient-bg",disabled:t,children:t?"Đang cập nhật...":r.jsxs(r.Fragment,{children:[r.jsx(e0,{className:"mr-2 h-4 w-4"})," Lưu thay đổi"]})})]})})]})}),r.jsx(Hn,{value:"change-password",children:r.jsxs("form",{onSubmit:N,className:"space-y-6 max-w-md mx-auto",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(De,{htmlFor:"current-password",children:"Mật khẩu hiện tại"}),r.jsx(ye,{id:"current-password",type:"password",value:c,onChange:P=>l(P.target.value),required:!0})]}),r.jsx(ji,{}),r.jsxs("div",{children:[r.jsx(De,{htmlFor:"new-password",children:"Mật khẩu mới"}),r.jsx(ye,{id:"new-password",type:"password",value:u,onChange:P=>d(P.target.value),required:!0})]}),r.jsxs("div",{children:[r.jsx(De,{htmlFor:"confirm-password",children:"Xác nhận mật khẩu mới"}),r.jsx(ye,{id:"confirm-password",type:"password",value:f,onChange:P=>h(P.target.value),required:!0})]})]}),r.jsx(fe,{type:"submit",className:"w-full sm:w-auto gradient-bg",disabled:t,children:t?"Đang xử lý...":r.jsxs(r.Fragment,{children:[r.jsx(Vi,{className:"mr-2 h-4 w-4"})," Đổi mật khẩu"]})})]})})]})})})})})},KC={"Hà Nội":{fee:4e4,time:"3 - 5 ngày"},"TP. Hồ Chí Minh":{fee:2e4,time:"2 - 3 ngày"},"Hải Phòng":{fee:45e3,time:"3 - 5 ngày"},"Đà Nẵng":{fee:3e4,time:"2 - 3 ngày"},"Cần Thơ":{fee:3e4,time:"2 - 4 ngày"},"An Giang":{fee:35e3,time:"3 - 4 ngày"},"Bà Rịa - Vũng Tàu":{fee:25e3,time:"2 - 3 ngày"},"Bắc Giang":{fee:45e3,time:"3 - 5 ngày"},"Bắc Kạn":{fee:5e4,time:"4 - 6 ngày"},"Bạc Liêu":{fee:35e3,time:"3 - 4 ngày"},"Bắc Ninh":{fee:4e4,time:"3 - 5 ngày"},"Bến Tre":{fee:3e4,time:"2 - 4 ngày"},"Bình Định":{fee:25e3,time:"2 - 3 ngày"},"Bình Dương":{fee:2e4,time:"2 - 3 ngày"},"Bình Phước":{fee:2e4,time:"2 - 3 ngày"},"Bình Thuận":{fee:25e3,time:"2 - 3 ngày"},"Cà Mau":{fee:35e3,time:"3 - 5 ngày"},"Cao Bằng":{fee:5e4,time:"4 - 6 ngày"},"Đắk Lắk":{fee:0,time:"Nội tỉnh"},"Đắk Nông":{fee:15e3,time:"1 - 2 ngày"},"Điện Biên":{fee:5e4,time:"4 - 6 ngày"},"Đồng Nai":{fee:2e4,time:"2 - 3 ngày"},"Đồng Tháp":{fee:3e4,time:"3 - 4 ngày"},"Gia Lai":{fee:15e3,time:"1 - 2 ngày"},"Hà Giang":{fee:5e4,time:"4 - 6 ngày"},"Hà Nam":{fee:45e3,time:"3 - 5 ngày"},"Hà Tĩnh":{fee:35e3,time:"3 - 4 ngày"},"Hải Dương":{fee:45e3,time:"3 - 5 ngày"},"Hậu Giang":{fee:35e3,time:"3 - 4 ngày"},"Hòa Bình":{fee:45e3,time:"3 - 5 ngày"},"Hưng Yên":{fee:4e4,time:"3 - 5 ngày"},"Khánh Hòa":{fee:25e3,time:"2 - 3 ngày"},"Kiên Giang":{fee:35e3,time:"3 - 4 ngày"},"Kon Tum":{fee:15e3,time:"1 - 2 ngày"},"Lai Châu":{fee:5e4,time:"4 - 6 ngày"},"Lâm Đồng":{fee:2e4,time:"1 - 2 ngày"},"Lạng Sơn":{fee:5e4,time:"4 - 6 ngày"},"Lào Cai":{fee:5e4,time:"4 - 6 ngày"},"Long An":{fee:3e4,time:"2 - 4 ngày"},"Nam Định":{fee:45e3,time:"3 - 5 ngày"},"Nghệ An":{fee:35e3,time:"3 - 4 ngày"},"Ninh Bình":{fee:45e3,time:"3 - 5 ngày"},"Ninh Thuận":{fee:25e3,time:"2 - 3 ngày"},"Phú Thọ":{fee:45e3,time:"3 - 5 ngày"},"Phú Yên":{fee:25e3,time:"2 - 3 ngày"},"Quảng Bình":{fee:35e3,time:"3 - 4 ngày"},"Quảng Nam":{fee:25e3,time:"2 - 3 ngày"},"Quảng Ngãi":{fee:25e3,time:"2 - 3 ngày"},"Quảng Ninh":{fee:5e4,time:"4 - 6 ngày"},"Quảng Trị":{fee:3e4,time:"3 - 4 ngày"},"Sóc Trăng":{fee:35e3,time:"3 - 4 ngày"},"Sơn La":{fee:5e4,time:"4 - 6 ngày"},"Tây Ninh":{fee:25e3,time:"2 - 3 ngày"},"Thái Bình":{fee:45e3,time:"3 - 5 ngày"},"Thái Nguyên":{fee:45e3,time:"3 - 5 ngày"},"Thanh Hóa":{fee:4e4,time:"3 - 4 ngày"},"Thừa Thiên Huế":{fee:3e4,time:"2 - 3 ngày"},"Tiền Giang":{fee:3e4,time:"2 - 3 ngày"},"Trà Vinh":{fee:3e4,time:"2 - 3 ngày"},"Tuyên Quang":{fee:5e4,time:"4 - 6 ngày"},"Vĩnh Long":{fee:3e4,time:"2 - 3 ngày"},"Vĩnh Phúc":{fee:45e3,time:"3 - 5 ngày"},"Yên Bái":{fee:5e4,time:"4 - 6 ngày"}},yRe={"ha noi":"Hà Nội","thanh pho ha noi":"Hà Nội","tp ho chi minh":"TP. Hồ Chí Minh","thanh pho ho chi minh":"TP. Hồ Chí Minh","hai phong":"Hải Phòng","thanh pho hai phong":"Hải Phòng","da nang":"Đà Nẵng","thanh pho da nang":"Đà Nẵng","can tho":"Cần Thơ","thanh pho can tho":"Cần Thơ","an giang":"An Giang","tinh an giang":"An Giang","ba ria vung tau":"Bà Rịa - Vũng Tàu","tinh ba ria vung tau":"Bà Rịa - Vũng Tàu","bac giang":"Bắc Giang","tinh bac giang":"Bắc Giang","bac kan":"Bắc Kạn","tinh bac kan":"Bắc Kạn","bac lieu":"Bạc Liêu","tinh bac lieu":"Bạc Liêu","bac ninh":"Bắc Ninh","tinh bac ninh":"Bắc Ninh","ben tre":"Bến Tre","tinh ben tre":"Bến Tre","binh dinh":"Bình Định","tinh binh dinh":"Bình Định","binh duong":"Bình Dương","tinh binh duong":"Bình Dương","binh phuoc":"Bình Phước","tinh binh phuoc":"Bình Phước","binh thuan":"Bình Thuận","tinh binh thuan":"Bình Thuận","ca mau":"Cà Mau","tinh ca mau":"Cà Mau","cao bang":"Cao Bằng","tinh cao bang":"Cao Bằng","dak lak":"Đắk Lắk","tinh dak lak":"Đắk Lắk","dak nong":"Đắk Nông","tinh dak nong":"Đắk Nông","dien bien":"Điện Biên","tinh dien bien":"Điện Biên","dong nai":"Đồng Nai","tinh dong nai":"Đồng Nai","dong thap":"Đồng Tháp","tinh dong thap":"Đồng Tháp","gia lai":"Gia Lai","tinh gia lai":"Gia Lai","ha giang":"Hà Giang","tinh ha giang":"Hà Giang","ha nam":"Hà Nam","tinh ha nam":"Hà Nam","ha tinh":"Hà Tĩnh","tinh ha tinh":"Hà Tĩnh","hai duong":"Hải Dương","tinh hai duong":"Hải Dương","hau giang":"Hậu Giang","tinh hau giang":"Hậu Giang","hoa binh":"Hòa Bình","tinh hoa binh":"Hòa Bình","hung yen":"Hưng Yên","tinh hung yen":"Hưng Yên","khanh hoa":"Khánh Hòa","tinh khanh hoa":"Khánh Hòa","kien giang":"Kiên Giang","tinh kien giang":"Kiên Giang","kon tum":"Kon Tum","tinh kon tum":"Kon Tum","lai chau":"Lai Châu","tinh lai chau":"Lai Châu","lam dong":"Lâm Đồng","tinh lam dong":"Lâm Đồng","lang son":"Lạng Sơn","tinh lang son":"Lạng Sơn","lao cai":"Lào Cai","tinh lao cai":"Lào Cai","long an":"Long An","tinh long an":"Long An","nam dinh":"Nam Định","tinh nam dinh":"Nam Định","nghe an":"Nghệ An","tinh nghe an":"Nghệ An","ninh binh":"Ninh Bình","tinh ninh binh":"Ninh Bình","ninh thuan":"Ninh Thuận","tinh ninh thuan":"Ninh Thuận","phu tho":"Phú Thọ","tinh phu tho":"Phú Thọ","phu yen":"Phú Yên","tinh phu yen":"Phú Yên","quang binh":"Quảng Bình","tinh quang binh":"Quảng Bình","quang nam":"Quảng Nam","tinh quang nam":"Quảng Nam","quang ngai":"Quảng Ngãi","tinh quang ngai":"Quảng Ngãi","quang ninh":"Quảng Ninh","tinh quang ninh":"Quảng Ninh","quang tri":"Quảng Trị","tinh quang tri":"Quảng Trị","soc trang":"Sóc Trăng","tinh soc trang":"Sóc Trăng","son la":"Sơn La","tinh son la":"Sơn La","tay ninh":"Tây Ninh","tinh tay ninh":"Tây Ninh","thai binh":"Thái Bình","tinh thai binh":"Thái Bình","thai nguyen":"Thái Nguyên","tinh thai nguyen":"Thái Nguyên","thanh hoa":"Thanh Hóa","tinh thanh hoa":"Thanh Hóa","thua thien hue":"Thừa Thiên Huế","tinh thua thien hue":"Thừa Thiên Huế","tien giang":"Tiền Giang","tinh tien giang":"Tiền Giang","tra vinh":"Trà Vinh","tinh tra vinh":"Trà Vinh","tuyen quang":"Tuyên Quang","tinh tuyen quang":"Tuyên Quang","vinh long":"Vĩnh Long","tinh vinh long":"Vĩnh Long","vinh phuc":"Vĩnh Phúc","tinh vinh phuc":"Vĩnh Phúc","yen bai":"Yên Bái","tinh yen bai":"Yên Bái"},wRe=()=>{const[e,t]=B.useState(!0),[n,s]=B.useState(!1),i=gr(),[a,o]=B.useState([]),[c,l]=B.useState(""),[u,d]=B.useState(!1),[f,h]=B.useState(0),[m,A]=B.useState(0),[g,p]=B.useState([]),[b,x]=B.useState([]),[v,y]=B.useState([]),[N,P]=B.useState([]),[M,k]=B.useState(!1),[D,O]=B.useState(0),[L,F]=B.useState("cod"),[_,E]=B.useState([]),[T,w]=B.useState(()=>{const H=localStorage.getItem("checkoutForm");return H?JSON.parse(H):{tenNguoiNhan:"",sdt:"",province:"",district:"",ward:"",specificAddress:""}}),C=H=>Math.round(H).toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),j=H=>H?H.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/^(thanh pho|tinh|quan|huyen|phuong|xa)\s+/i,"").replace(/\s+/g," ").trim():"",S=H=>{if(!H)return"";const Q=H.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/^(thanh pho|tinh)\s+/i,"").replace(/\s+/g," ").trim();return yRe[Q]||H.trim()};B.useEffect(()=>{localStorage.setItem("checkoutForm",JSON.stringify(T))},[T]),B.useEffect(()=>{(async()=>{var G;t(!0);const Q=localStorage.getItem("userId");if(!Q){we.fire({title:"Vui lòng đăng nhập!",text:"Bạn cần đăng nhập để thanh toán.",icon:"warning",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{i("/login")});return}try{const J=JSON.parse(localStorage.getItem("InstantBuy")||"[]");if(J.length===0){t(!1);return}const K=await(await fetch(`https://bicacuatho.azurewebsites.net/api/SanPham/ListSanPham?id=${(G=J[0])==null?void 0:G.IDSanPham}`)).json();E(K);const ne=J.map(te=>{var re,Y,oe;return{idSanPham:te.IDSanPham,tenSanPham:te.TenSanPham,mauSac:te.MauSac,kickThuoc:te.KichThuoc.trim(),soLuong:((re=K.find(ae=>ae.id===te.IDSanPham))==null?void 0:re.soLuong)||0,soLuongMua:te.SoLuong,tienSanPham:te.Gia,hinhAnh:((oe=(Y=K.find(ae=>ae.id===te.IDSanPham))==null?void 0:Y.hinhAnhs)==null?void 0:oe[0])||""}});o(ne);const ue=ne.reduce((te,re)=>te+re.tienSanPham*re.soLuongMua,0),ie=await(await fetch("https://provinces.open-api.vn/api/p/")).json();p(ie);const Z=await(await fetch(`https://bicacuatho.azurewebsites.net/api/DanhSachDiaChi/maNguoiDung/${Q}`)).json();P(Z.sort((te,re)=>re.trangThai-te.trangThai)),console.log(Z),A(ue+D)}catch(J){console.error("Error fetching data:",J),At.error("Không thể tải dữ liệu")}finally{t(!1)}})()},[i,D]);const I=async H=>{w(J=>({...J,province:H,district:"",ward:""})),x([]),y([]);const Q=g.find(J=>J.code.toString()===H);if(Q){const J=KC[Q.name.trim()]||{fee:0};O(J.fee)}const G=z();if(A(G-f+D),H)try{const ee=await(await fetch(`https://provinces.open-api.vn/api/p/${H}?depth=2`)).json();x(ee.districts||[])}catch(J){At.error("Không thể tải danh sách quận/huyện"),console.error("Error fetching districts:",J)}},R=async H=>{if(w(Q=>({...Q,district:H,ward:""})),y([]),H)try{const G=await(await fetch(`https://provinces.open-api.vn/api/d/${H}?depth=2`)).json();y(G.wards||[])}catch(Q){At.error("Không thể tải danh sách phường/xã"),console.error("Error fetching wards:",Q)}},U=async H=>{try{const Q=H.tinh,G=j(Q),J=g.find(ae=>j(ae.name)===G);if(!J)return;const K=await(await fetch(`https://provinces.open-api.vn/api/p/${J.code}?depth=2`)).json(),ne=j(H.quanHuyen),ue=K.districts.find(ae=>j(ae.name)===ne);if(!ue){At.error("Không thể tìm thấy quận/huyện tương ứng");return}const ie=await(await fetch(`https://provinces.open-api.vn/api/d/${ue.code}?depth=2`)).json(),q=j(H.phuongXa),Z=ie.wards.find(ae=>j(ae.name)===q);if(!Z){At.error("Địa chỉ không hoạt động, vui lòng đổi trạng thái cho nó");return}const te=S(Q),re=KC[te]||{fee:0,time:"Không xác định"};O(re.fee),x(K.districts||[]),y(ie.wards||[]);const Y=`${H.diaChi}, ${Z.name}, ${ue.name}, ${J.name}`;w({tenNguoiNhan:H.hoTen,sdt:H.sdt,province:J.code.toString(),district:ue.code.toString(),ward:Z.code.toString(),specificAddress:H.diaChi});const oe=z();A(oe-f+re.fee),k(!1)}catch{At.error("Không thể chọn địa chỉ, vui lòng thử lại")}},z=()=>a.reduce((H,Q)=>H+Q.tienSanPham*Q.soLuongMua,0),V=()=>z()-f+D,X=H=>{const{name:Q,value:G}=H.target;w(J=>({...J,[Q]:G}))},$=async()=>{if(!c){At.error("Vui lòng nhập mã giảm giá");return}try{const H=await fetch(`https://bicacuatho.azurewebsites.net/api/Voucher/ValidateInstant?code=${encodeURIComponent(c)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!H.ok)throw new Error(`HTTP error! Status: ${H.status}`);const Q=await H.json();Q.success?(d(!0),h(Q.discountAmount),A(z()-Q.discountAmount+D),At.success("Mã giảm giá đã được áp dụng!")):(d(!1),h(0),A(z()+D),At.error(Q.message))}catch(H){At.error("Mã giảm giá không hợp lệ hoặc đã hết hạn"),console.error("Error applying promo:",H)}},W=async H=>{var ee,K,ne;H.preventDefault(),s(!0);const Q=localStorage.getItem("userId");if(!Q){we.fire({title:"Vui lòng đăng nhập!",text:"Bạn cần đăng nhập để thanh toán.",icon:"warning",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{i("/login"),s(!1)});return}if(["tenNguoiNhan","sdt","province","district","ward","specificAddress"].filter(ue=>!T[ue]).length>0){At.error("Vui lòng điền đầy đủ thông tin giao hàng"),s(!1);return}try{const ue=g.find(de=>de.code.toString()===T.province);if(!ue){At.error("Vui lòng chọn tỉnh/thành phố hợp lệ"),s(!1);return}const se=S(ue.name),ie=((ee=KC[se])==null?void 0:ee.fee)||0;D!==ie&&O(ie);const Z=z()-f+ie,te=((K=b.find(de=>de.code.toString()===T.district))==null?void 0:K.name)||"",re=((ne=v.find(de=>de.code.toString()===T.ward))==null?void 0:ne.name)||"",Y=`${T.specificAddress}, ${re}, ${te}, ${ue.name}`,oe={userId:Q,items:a,couponCode:c||null,paymentMethod:L,tenNguoiNhan:T.tenNguoiNhan,sdt:T.sdt,diaChi:Y,discountAmount:f,shippingFee:ie,finalAmount:Z};console.log(oe);const ce=await(await fetch("https://bicacuatho.azurewebsites.net/api/CheckOut/InstantCheckOut",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)})).json();if(ce.success){if(L==="cod")At.success(ce.message,{description:`Mã đơn hàng: ${ce.orderId}`,duration:3e3,action:{label:"Xem chi tiết",onClick:()=>i("/user/orders",{state:{orderId:ce.orderId}})}}),o([]),l(""),d(!1),h(0),A(0),localStorage.removeItem("InstantBuy"),localStorage.removeItem("checkoutForm"),i("/",{state:{orderId:ce.orderId}});else if(L==="vnpay"){if(ce.finalAmount!==Z){At.error(`Tổng tiền VNPay (${C(ce.finalAmount)} VND) không khớp với kỳ vọng (${C(Z)} VND). Vui lòng thử lại.`),s(!1);return}window.location.href=ce.message}}else At.error(ce.message),s(!1)}catch(ue){At.error("Đã xảy ra lỗi trong quá trình thanh toán"),console.error("Error during checkout:",ue),s(!1)}};return r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx("main",{className:"flex-1 py-12 px-6",children:r.jsx("div",{className:"container mx-auto max-w-6xl my-[50px]",children:e?r.jsxs("div",{className:"text-center py-16",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-purple-600 mx-auto mb-4"}),r.jsx("p",{className:"text-lg",children:"Đang tải dữ liệu..."})]}):a.length>0?r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("form",{onSubmit:W,className:"bg-white p-6 rounded-lg shadow-sm border border-border",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Thông tin giao hàng"}),r.jsx("div",{className:"relative -top-[7px]",children:r.jsx(kk,{})}),r.jsx("div",{className:"space-x-2",children:r.jsx(fe,{type:"button",onClick:()=>k(!0),className:"bg-purple-600 hover:bg-purple-700 text-white",children:"Chọn địa chỉ có sẵn"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"tenNguoiNhan",children:"Tên người nhận"}),r.jsx(ye,{id:"tenNguoiNhan",name:"tenNguoiNhan",value:T.tenNguoiNhan,onChange:X,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"sdt",children:"Số điện thoại"}),r.jsx(ye,{id:"sdt",name:"sdt",type:"tel",value:T.sdt,onChange:X,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"province",children:"Tỉnh/Thành phố"}),r.jsxs("select",{id:"province",name:"province",value:T.province,onChange:H=>I(H.target.value),className:"w-full p-2 border rounded-md",required:!0,disabled:!0,children:[r.jsx("option",{value:"",children:"Chọn tỉnh/thành phố"}),g.map(H=>r.jsx("option",{value:H.code,children:H.name},H.code))]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"district",children:"Quận/Huyện"}),r.jsxs("select",{id:"district",name:"district",value:T.district,onChange:H=>R(H.target.value),className:"w-full p-2 border rounded-md",required:!0,disabled:!0,children:[r.jsx("option",{value:"",children:"Chọn quận/huyện"}),b.map(H=>r.jsx("option",{value:H.code,children:H.name},H.code))]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(De,{htmlFor:"ward",children:"Phường/Xã"}),r.jsxs("select",{id:"ward",name:"ward",value:T.ward,onChange:X,className:"w-full p-2 border rounded-md",required:!0,disabled:!0,children:[r.jsx("option",{value:"",children:"Chọn phường/xã"}),v.map(H=>r.jsx("option",{value:H.code,children:H.name},H.code))]})]}),r.jsxs("div",{className:"space-y-2 md:col-span-2",children:[r.jsx(De,{htmlFor:"specificAddress",children:"Địa chỉ cụ thể (số nhà, tên đường)"}),r.jsx(ye,{id:"specificAddress",name:"specificAddress",value:T.specificAddress,onChange:X,required:!0,readOnly:!0})]})]}),r.jsxs("div",{className:"space-y-2 mb-6",children:[r.jsx(De,{children:"Phương thức thanh toán"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"paymentMethod",value:"cod",checked:L==="cod",onChange:()=>F("cod"),className:"mr-2"}),"Thanh toán khi nhận hàng (COD)"]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"paymentMethod",value:"vnpay",checked:L==="vnpay",onChange:()=>F("vnpay"),className:"mr-2"}),"Thanh toán qua VNPay"]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-6",children:[r.jsx(fe,{type:"submit",className:'flex-1 sm:order-2 isSubmitting ? "opacity-50 cursor-not-allowed" : "hover:bg-blue-600"}',disabled:n,children:L==="cod"?"Xác nhận thanh toán COD":"Thanh toán qua VNPay"}),r.jsx(fe,{type:"button",variant:"outline",className:"flex-1 sm:order-1",onClick:()=>i("/"),children:"Quay lại trang Sản Phẩm"})]})]})}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-border sticky top-4",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Tóm tắt đơn hàng"}),r.jsxs("div",{className:"space-y-3 mb-6",children:[a.map(H=>{const Q=_.find(G=>G.id===H.idSanPham);return r.jsx("div",{className:"flex flex-col space-y-2",children:r.jsx("div",{className:"flex items-start gap-4",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("img",{src:`data:image/png;base64,${Q.hinh}`,alt:H.tenSanPham,className:"w-16 h-16 object-cover rounded-md"}),r.jsxs("span",{className:"text-muted-foreground font-medium",children:[H.tenSanPham," ",r.jsxs("span",{className:"text-xs",children:["x",H.soLuongMua]})]}),r.jsxs("span",{children:[C(H.tienSanPham*H.soLuongMua)," VND"]})]}),Q&&r.jsxs("div",{className:"text-sm text-muted-foreground mt-2",children:[r.jsxs("p",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("strong",{children:"Màu Sắc:"}),r.jsx("span",{className:'w-5 h-5 rounded-full border ? "border-crocus-500 ring-2 ring-crocus-500" : "border-gray-200 hover:border-gray-300"}',style:{backgroundColor:`#${H.mauSac}`},title:H.mauSac}),r.jsxs("span",{children:[" ",H.mauSac]})]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Kích thước:"})," ",H.kickThuoc]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Chất liệu:"})," ",Q.chatLieu]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Loại sản phẩm:"})," ",Q.loaiSanPham]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Thương hiệu:"})," ",Q.thuongHieu]})]})]})})},H.idSanPham)}),r.jsx("div",{className:"border-t my-3"}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Tổng tiền gốc"}),r.jsxs("span",{children:[C(z())," VND"]})]}),u&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Giảm giá"}),r.jsxs("span",{children:["-",C(f)," VND"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Phí giao hàng"}),r.jsxs("span",{children:[C(D)," VND"]})]}),r.jsxs("div",{className:"border-t pt-3 flex justify-between font-medium",children:[r.jsx("span",{children:"Tổng tiền"}),r.jsxs("span",{className:"text-lg",children:[C(V())," VND"]})]})]}),r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(ye,{placeholder:"Mã giảm giá (nếu có)",value:c,onChange:H=>l(H.target.value),className:"mr-2"}),r.jsx(fe,{size:"sm",onClick:$,children:"Áp Dụng"})]})]})})]}):r.jsxs("div",{className:"text-center py-16",children:[r.jsx(Rs,{className:"mx-auto h-16 w-16 text-muted-foreground/60 mb-4"}),r.jsx("h2",{className:"text-2xl font-medium mb-2",children:"Không có sản phẩm để thanh toán"}),r.jsx("p",{className:"text-muted-foreground mb-8",children:"Có vẻ như bạn chưa chọn sản phẩm nào để mua ngay."}),r.jsx(ct,{to:"/",children:r.jsx(fe,{children:"Tiếp tục mua sắm"})})]})})}),r.jsx(nh,{open:M,onOpenChange:H=>k(H),children:r.jsxs(rh,{children:[r.jsx(oc,{className:"fixed inset-0 bg-black/50"}),r.jsxs(lc,{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white p-6 rounded-lg shadow-lg max-w-2xl w-full overflow-y-auto max-h-[600px]",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Chọn địa chỉ giao hàng"}),N.length===0?r.jsx("p",{children:"Chưa có địa chỉ nào. Vui lòng thêm địa chỉ mới."}):r.jsx("div",{className:"space-y-4",children:N.map(H=>r.jsxs("div",{className:"border p-4 rounded-lg bg-white shadow-sm flex justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Họ tên:"})," ",H.hoTen]}),r.jsxs("p",{children:[r.jsx("strong",{children:"SĐT:"})," ",H.sdt]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Địa chỉ:"})," ",H.diaChi,","," ",H.phuongXa,", ",H.quanHuyen,", ",H.tinh]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Trạng thái:"})," ",H.trangThai===1?"Hoạt động":"Không hoạt động"]})]}),r.jsx(fe,{onClick:()=>U(H),className:"bg-purple-600 hover:bg-purple-700 text-white",children:"Chọn"})]},H.maDiaChi))}),r.jsx(fe,{variant:"outline",className:"mt-4",onClick:()=>k(!1),children:"Đóng"})]})]})})]})},jRe=()=>r.jsxs("section",{className:"py-16 px-6 max-w-6xl mx-auto text-gray-900 text-lg leading-relaxed",children:[r.jsx("h2",{className:"text-4xl font-bold text-crocus-600 mb-8 text-center",children:"Chính sách Bảo mật Thông tin Cá nhân"}),r.jsxs("p",{className:"mb-5",children:["Nhằm đảm bảo an toàn cho website và bảo mật thông tin cho người tiêu dùng, chúng tôi đưa ra một số chính sách bảo mật thông tin cho khách hàng cá nhân và tổ chức khi mua hàng tại website: ",r.jsx("strong",{children:"FashionHub"})]}),r.jsx("p",{className:"mb-5",children:"Chính sách bảo mật sẽ giải thích cách chúng tôi tiếp nhận, sử dụng và (trong trường hợp nào đó) tiết lộ thông tin cá nhân của bạn. Chính sách cũng sẽ giải thích các bước chúng tôi thực hiện để bảo mật thông tin cá nhân của khách hàng. Cuối cùng, chính sách bảo mật sẽ giải thích quyền lựa chọn của bạn về việc thu thập, sử dụng và tiết lộ thông tin cá nhân của mình."}),r.jsx("p",{className:"mb-8",children:"Bảo vệ dữ liệu cá nhân và gây dựng được niềm tin cho bạn là vấn đề rất quan trọng với công ty. Chúng tôi chỉ thu thập những thông tin cần thiết liên quan đến giao dịch mua bán."}),r.jsx("h3",{className:"text-3xl font-semibold text-crocus-600 mt-10 mb-4",children:"1. Mục đích thu nhập thông tin"}),r.jsxs("ul",{className:"list-disc list-inside mb-6",children:[r.jsx("li",{children:"Nắm bắt được các yêu cầu, mong muốn của khách hàng nhằm nâng cao chất lượng sản phẩm."}),r.jsx("li",{children:"Giúp khách hàng cập nhật các thông tin chương trình khuyến mại, giảm giá do chúng tôi tổ chức sớm nhất."}),r.jsx("li",{children:"Hỗ trợ khách hàng khi có khiếu nại, ý kiến một cách nhanh nhất."})]}),r.jsx("h3",{className:"text-3xl font-semibold text-crocus-600 mt-10 mb-4",children:"2. Phạm vi thu nhập thông tin"}),r.jsxs("ul",{className:"list-disc list-inside mb-6",children:[r.jsx("li",{children:"Họ và Tên"}),r.jsx("li",{children:"Địa Chỉ Email"}),r.jsx("li",{children:"Điện thoại"}),r.jsx("li",{children:"Nội dung cần liên hệ"})]}),r.jsx("h3",{className:"text-3xl font-semibold text-crocus-600 mt-10 mb-4",children:"3. Phạm vi sử dụng thông tin"}),r.jsxs("ul",{className:"list-disc list-inside mb-6",children:[r.jsx("li",{children:"Giao hàng cho quý khách đã mua hàng tại FashionHub"}),r.jsx("li",{children:"Thông báo về việc giao hàng và hỗ trợ cho khách hàng"}),r.jsx("li",{children:"Xử lý các đơn đặt hàng và cung cấp sản phẩm thông qua website: FashionHub"}),r.jsx("li",{children:"Lưu trữ thông tin giao dịch để giải quyết các vấn đề có thể phát sinh"})]}),r.jsx("p",{className:"mb-5",children:"Chúng tôi sẽ không chia sẻ thông tin khách hàng trừ các trường hợp:"}),r.jsxs("ul",{className:"list-disc list-inside mb-6",children:[r.jsx("li",{children:"Để bảo vệ FashionHub và các bên thứ ba khác nếu phù hợp với pháp luật"}),r.jsx("li",{children:"Theo yêu cầu pháp lý từ cơ quan chính phủ khi cần thiết"})]}),r.jsx("h3",{className:"text-3xl font-semibold text-crocus-600 mt-10 mb-4",children:"4. Cam kết bảo mật thông tin cá nhân khách hàng"}),r.jsx("p",{className:"mb-6",children:"Chúng tôi sẽ lưu trữ các thông tin cá nhân do khách hàng cung cấp trên hệ thống nội bộ trong quá trình cung cấp sản phẩm, cho đến khi hoàn thành mục đích thu thập hoặc khách yêu cầu hủy thông tin đã cung cấp."}),r.jsx("h3",{className:"text-3xl font-semibold text-crocus-600 mt-10 mb-4",children:"5. Những người hoặc tổ chức có thể được tiếp cận với thông tin"}),r.jsxs("ul",{className:"list-disc list-inside mb-6",children:[r.jsx("li",{children:"Chỉ sử dụng với sự đồng ý của khách hàng"}),r.jsx("li",{children:"Không cung cấp cho bên thứ 3 nếu không được sự đồng ý"}),r.jsx("li",{children:"Chỉ cung cấp trong trường hợp có lợi và được phép"}),r.jsx("li",{children:"Hoặc theo yêu cầu từ cơ quan chính phủ"})]}),r.jsx("h3",{className:"text-3xl font-semibold text-crocus-600 mt-10 mb-4",children:"6. Địa chỉ của đơn vị thu thập và quản lý thông tin cá nhân"}),r.jsxs("ul",{className:"list-disc list-inside mb-6",children:[r.jsx("li",{children:"Tên đơn vị: Hộ kinh doanh FashionHub - Buôn Mê Thuột"}),r.jsx("li",{children:"GPKD: Số 55555555 do Ủy ban nhân dân TP. Buôn Mê Thuột"}),r.jsx("li",{children:"Cấp ngày: 5 tháng 5 năm 2025"}),r.jsx("li",{children:"Địa chỉ: 123 Hà Huy Tập, TP. Buôn Mê Thuột, Đắk Lắk"}),r.jsx("li",{children:"Điện thoại: 0383.777.823"})]}),r.jsx("h3",{className:"text-3xl font-semibold text-crocus-600 mt-10 mb-4",children:"7. Phương tiện và công cụ để người dùng tiếp cận và chỉnh sửa dữ liệu cá nhân của mình"}),r.jsxs("p",{children:["Khách hàng có thể thực hiện các quyền trên bằng cách liên hệ với chúng tôi qua số điện thoại hoặc địa chỉ liên lạc được công bố trên website: ",r.jsx("strong",{children:"FashionHub"}),"."]})]}),CRe=()=>r.jsxs("section",{className:"py-16 px-6 max-w-6xl mx-auto text-gray-900 text-lg leading-relaxed",children:[r.jsx("h2",{className:"text-4xl font-bold text-crocus-600 mb-8 text-center",children:"Chính sách Đổi hàng & Bảo hành"}),r.jsxs("p",{className:"mb-6",children:["Nhằm mang lại các dịch vụ hậu mãi tốt hơn cho khách hàng mua sắm tại hệ thống ",r.jsx("strong",{children:"FashionHub"}),", từ ngày ",r.jsx("strong",{children:"01/09/2024"}),", FashionHub có chính sách đổi trả & bảo hành áp dụng như sau:"]}),r.jsx("h3",{className:"text-3xl font-semibold text-crocus-600 mt-10 mb-4",children:"Điều 1: Chính sách đổi hàng"}),r.jsxs("ul",{className:"list-disc list-inside mb-6",children:[r.jsx("li",{children:"Sản phẩm đổi trả trong thời hạn 15 ngày kể từ ngày mua trên hóa đơn (với khách mua tại store), 15 ngày kể từ ngày nhận hàng (với khách mua online)."}),r.jsx("li",{children:"Sản phẩm đổi còn nguyên tem, tags, hóa đơn mua hàng, không bị dính bẩn, hư hỏng bởi tác nhân bên ngoài cửa hàng sau khi mua."})]}),r.jsx("p",{className:"font-semibold mb-2",children:"Có thể đổi sang đơn hàng bất kỳ"}),r.jsxs("ul",{className:"list-disc list-inside mb-6",children:[r.jsx("li",{children:"Đơn hàng đổi có giá trị thấp hơn: FashionHub không hoàn phần chênh lệch."}),r.jsx("li",{children:"Đơn hàng đổi có giá trị cao hơn: khách hàng thanh toán phần chênh lệch."}),r.jsx("li",{children:"Đơn hàng trong CTKM: vui lòng đổi trong thời gian CTKM để được giá ưu đãi. Nếu đổi sau sẽ tính theo giá hiện tại."}),r.jsx("li",{children:"Không áp dụng đổi với các sản phẩm sale trên 30%, vớ, boxer."})]}),r.jsx("h3",{className:"text-3xl font-semibold text-crocus-600 mt-10 mb-4",children:"Điều 2: Chính sách đổi do lỗi kỹ thuật và hoàn tiền"}),r.jsx("p",{className:"font-semibold mb-2",children:"Điều kiện áp dụng:"}),r.jsxs("ul",{className:"list-disc list-inside mb-6",children:[r.jsx("li",{children:"Lỗi kỹ thuật: ố màu, phai màu, chất liệu, kiểu dáng, bung keo,..."}),r.jsx("li",{children:"Không giống mô tả hoặc không giống hình."})]}),r.jsxs("p",{className:"mb-4",children:[r.jsx("strong",{children:"Lưu ý:"})," Sản phẩm sẽ được đổi mới hoàn toàn miễn phí trong vòng 15 ngày kể từ ngày mua. (Sản phẩm chưa qua sử dụng)."]}),r.jsx("p",{className:"mb-6 font-semibold",children:"Trường hợp không được giải quyết:"}),r.jsx("ul",{className:"list-disc list-inside mb-6",children:r.jsx("li",{children:"Sản phẩm đã qua sử dụng."})}),r.jsx("h3",{className:"text-3xl font-semibold text-crocus-600 mt-10 mb-4",children:"Điều 3: Chính sách bảo hành"}),r.jsx("p",{className:"mb-4",children:"Các trường hợp và thời gian bảo hành:"}),r.jsxs("table",{className:"w-full text-left border mb-6 text-base",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-200 text-crocus-600 font-semibold",children:[r.jsx("th",{className:"border px-4 py-2",children:"Tên Sản Phẩm"}),r.jsx("th",{className:"border px-4 py-2",children:"Điều Kiện Bảo Hành"}),r.jsx("th",{className:"border px-4 py-2",children:"Thời Gian"})]})}),r.jsxs("tbody",{children:[r.jsxs("tr",{children:[r.jsx("td",{className:"border px-4 py-2",children:"Quần, Áo, Nón"}),r.jsx("td",{className:"border px-4 py-2",children:"Đường chỉ, dây kéo, khuy..."}),r.jsx("td",{className:"border px-4 py-2",children:"30 ngày"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"border px-4 py-2",children:"Mắt kính"}),r.jsx("td",{className:"border px-4 py-2",children:"Gãy lò xo, ve mũi, lỗi ốc vít, rơi mối hàn & nước xi"}),r.jsx("td",{className:"border px-4 py-2",children:"30 ngày"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"border px-4 py-2",children:"Thắt lưng"}),r.jsx("td",{className:"border px-4 py-2",children:"Dây lưng bong tróc, nổ da tự nhiên"}),r.jsx("td",{className:"border px-4 py-2",children:"30 ngày"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"border px-4 py-2",children:"Balo, Túi xách, Ví"}),r.jsx("td",{className:"border px-4 py-2",children:"Keo, Khóa, Dây kéo, Đường chỉ"}),r.jsx("td",{className:"border px-4 py-2",children:"30 ngày"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"border px-4 py-2",children:"Giày, Dép"}),r.jsx("td",{className:"border px-4 py-2",children:"Keo"}),r.jsx("td",{className:"border px-4 py-2",children:"Trọn đời"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"border px-4 py-2",children:"TechUrban Jeans (Smart, ICON105, ProCool)"}),r.jsx("td",{className:"border px-4 py-2",children:"Nút, khoá kéo"}),r.jsx("td",{className:"border px-4 py-2",children:"Trọn đời"})]})]})]}),r.jsx("p",{className:"mb-4 font-semibold",children:"Chính sách bảo hành giày - dép:"}),r.jsxs("ul",{className:"list-disc list-inside mb-6",children:[r.jsx("li",{children:"Trong 15 ngày kể từ lúc nhận hàng: nếu lỗi sẽ được đổi mới sản phẩm."}),r.jsx("li",{children:"Hỗ trợ bảo hành keo trọn đời."})]}),r.jsx("p",{className:"mb-4 font-semibold text-yellow-600",children:"Trường hợp không được bảo hành:"}),r.jsxs("ul",{className:"list-disc list-inside mb-6",children:[r.jsx("li",{children:"Giặt không đúng cách."}),r.jsx("li",{children:"Ảnh hưởng bởi hóa chất làm thay đổi màu, form, hình dáng."}),r.jsx("li",{children:"Rách, cháy, trầy xước, biến dạng do nhiệt độ, ẩm mốc, côn trùng,..."}),r.jsx("li",{children:"Sản phẩm vớ, boxer, khuyên tai, móc khóa, vòng tay, áo mưa, đồ lót,..."}),r.jsx("li",{children:"Lỗi do tai nạn, thiên tai,..."})]}),r.jsx("h3",{className:"text-3xl font-semibold text-crocus-600 mt-10 mb-4",children:"Điều 4: Chi phí đổi hàng"}),r.jsxs("ul",{className:"list-disc list-inside mb-6",children:[r.jsx("li",{children:"Miễn phí đổi hàng với lỗi do nhà sản xuất hoặc lỗi do vận chuyển."}),r.jsx("li",{children:"Nếu đổi vì lý do cá nhân (sai size, không hợp màu...), phí ship 1 chiều 20.000đ/đơn."}),r.jsx("li",{children:"FashionHub chỉ gửi sản phẩm mới sau khi nhận lại sản phẩm cũ."})]}),r.jsx("p",{className:"italic text-center mt-6 text-sm",children:"***Trong mọi trường hợp, quyết định của FashionHub là quyết định cuối cùng. Xin cảm ơn và hân hạnh được phục vụ quý khách."})]}),fI=()=>{const e=Bs(),{recipientId:t,recipientName:n}=e.state||{};return localStorage.setItem("userId","AD00012"),r.jsx("div",{className:"w-full h-[calc(100vh-64px)] flex flex-col",children:r.jsx(LK,{recipientId:t,recipientName:n})})},NRe=({endDate:e,promotionId:t})=>{const n=B.useRef(null),[s,i]=B.useState(!1);return B.useEffect(()=>{const a=new Date(e);a.setHours(23,59,59,999);const o=Math.floor(a.getTime()/1e3),c=Math.floor(Date.now()/1e3);if(o<=c){i(!0);return}if(!document.getElementById("flipdown-css")){const u=document.createElement("link");u.id="flipdown-css",u.rel="stylesheet",u.href="https://pbutcher.uk/flipdown/css/flipdown/flipdown.css",document.head.appendChild(u)}if(window.FlipDown)l();else{const u=document.createElement("script");u.src="https://pbutcher.uk/flipdown/js/flipdown/flipdown.js",u.onload=()=>{l()},document.body.appendChild(u)}function l(){if(n.current&&window.FlipDown)try{n.current.innerHTML="";const u=`flipdown-${t}`;n.current.id=u;const d=new window.FlipDown(o,u).start().ifEnded(()=>{i(!0),n.current&&(n.current.innerHTML='<h2 style="color: #fca5a5; font-weight: bold; text-align: center; padding: 20px;">Timer is ended</h2>')})}catch(u){console.error("FlipDown initialization error:",u),i(!0)}}return()=>{n.current&&(n.current.innerHTML="")}},[e,t]),s?r.jsx("div",{className:"bg-red-500/20 border border-red-300/50 rounded-xl p-4 text-center",children:r.jsx("p",{className:"text-red-300 font-bold text-lg",children:"⏰ Khuyến mại đã hết hạn"})}):r.jsxs("div",{className:"count-down",style:{width:"550px",maxHeight:"300px",marginLeft:"-105px",padding:"20px",overflow:"hidden",scale:"0.6"},children:[r.jsx("div",{ref:n,className:"flipdown",style:{margin:"auto",width:"600px",marginTop:"-30px",maxHeight:"200px",overflow:"hidden"}}),r.jsx("style",{jsx:!0,children:`
        * {
          box-sizing: border-box;
        }
        .count-down {
          width: 550px;
          max-height: 300px;
          margin: auto;
          padding: 20px;
          overflow: hidden;
        }
        .count-down .flipdown {
          margin: auto;
          width: 600px;
          margin-top: 30px;
          max-height: 200px;
          overflow: hidden;
        }
        .count-down h1 {
          text-align: center;
          font-weight: 400;
          font-size: 2em;
          margin-top: 0;
          margin-bottom: 10px;
        }
        @media (max-width: 550px) {
          .count-down {
            width: 100%;
            height: 362px;
          }
          .count-down h1 {
            font-size: 1.5em;
          }
        }
      `})]})},SRe=()=>{const[e,t]=B.useState([]),[n,s]=B.useState([]),[i,a]=B.useState(!0),[o,c]=B.useState(1),[l,u]=B.useState(!1),[d,f]=B.useState({discountType:"all",discountRange:"all",timeRemaining:"all"}),h=5;B.useEffect(()=>{m()},[]),B.useEffect(()=>{b()},[e,d]);const m=async()=>{try{a(!0);const k=await(await fetch("https://bicacuatho.azurewebsites.net/api/KhuyenMai/ListKhuyenMaiUser")).json();t(k)}catch(M){console.error("Error fetching promotions:",M),t([])}finally{a(!1)}},A=M=>M.percentChung!==null&&M.percentChung!==void 0?M.percentChung:M.danhSachKhuyenMai&&M.danhSachKhuyenMai.length>0?Math.max(...M.danhSachKhuyenMai.map(k=>k.percent||0)):0,g=M=>{const k=new Date,O=new Date(M)-k,L=Math.ceil(O/(1e3*60*60*24));return L<0?{text:"Đã hết hạn",status:"expired"}:L===0?{text:"Hết hạn hôm nay",status:"urgent"}:L===1?{text:"Còn 1 ngày",status:"urgent"}:L<=3?{text:`Còn ${L} ngày`,status:"warning"}:{text:`Còn ${L} ngày`,status:"normal"}},p=M=>{const k=new Date,O=new Date(M)-k,L=Math.ceil(O/(1e3*60*60*24));return L<=1?"urgent":L<=7?"ending-soon":L<=30?"active":"long-term"},b=()=>{let M=[...e];d.discountType!=="all"&&(M=M.filter(k=>{const D=k.percentChung!==null&&k.percentChung!==void 0;return d.discountType==="general"?D:!D})),d.discountRange!=="all"&&(M=M.filter(k=>{const D=A(k);switch(d.discountRange){case"0-20":return D>=0&&D<=20;case"21-40":return D>=21&&D<=40;case"41-60":return D>=41&&D<=60;case"60+":return D>60;default:return!0}})),d.timeRemaining!=="all"&&(M=M.filter(k=>p(k.ngayKetThuc)===d.timeRemaining)),s(M),c(1)},x=(M,k)=>{f(D=>({...D,[M]:k}))},v=Math.ceil(n.length/h),y=(o-1)*h,N=n.slice(y,y+h),P=M=>new Date(M).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"});return i?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-purple-200 border-t-purple-500 mx-auto"}),r.jsx(ha,{className:"w-8 h-8 text-purple-300 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 animate-pulse"})]}),r.jsx("p",{className:"mt-6 text-purple-200 text-lg font-medium",children:"Đang tải khuyến mại..."})]})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),r.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse animation-delay-2000"}),r.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-indigo-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse animation-delay-4000"})]}),r.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-12",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 p-4 rounded-full shadow-2xl",children:r.jsx(Go,{className:"w-12 h-12 text-white"})})}),r.jsx("h1",{className:"text-6xl font-extrabold bg-gradient-to-r from-yellow-300 via-pink-300 to-purple-300 bg-clip-text text-transparent mb-4 margin-bottom-2",children:"KHUYẾN MẠI HOT"}),r.jsx("p",{className:"text-xl text-purple-200 font-light max-w-2xl mx-auto",children:"🔥 Khám phá những deal siêu hót đang chờ bạn khám phá! Nhanh tay kẻo lỡ! 🔥"}),r.jsxs("div",{className:"flex items-center justify-center mt-6 space-x-2",children:[r.jsx(Lr,{className:"w-5 h-5 text-yellow-400 fill-current animate-pulse"}),r.jsx(Lr,{className:"w-5 h-5 text-yellow-400 fill-current animate-pulse animation-delay-200"}),r.jsx(Lr,{className:"w-5 h-5 text-yellow-400 fill-current animate-pulse animation-delay-400"}),r.jsx(Lr,{className:"w-5 h-5 text-yellow-400 fill-current animate-pulse animation-delay-600"}),r.jsx(Lr,{className:"w-5 h-5 text-yellow-400 fill-current animate-pulse animation-delay-800"})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("button",{onClick:()=>u(!l),className:"bg-white/10 backdrop-blur-md border border-white/20 text-white px-6 py-3 rounded-2xl font-semibold hover:bg-white/20 transition-all duration-300 flex items-center mx-auto shadow-xl",children:[r.jsx(Zd,{className:"w-5 h-5 mr-2"}),"Bộ lọc thông minh",r.jsx(jr,{className:`w-4 h-4 ml-2 transform transition-transform ${l?"rotate-90":""}`})]}),l&&r.jsx("div",{className:"mt-6 bg-white/10 backdrop-blur-md rounded-3xl p-8 border border-white/20 shadow-2xl",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"block text-white font-semibold text-lg flex items-center",children:[r.jsx(Vr,{className:"w-5 h-5 mr-2 text-purple-300"}),"Loại giảm giá"]}),r.jsxs("select",{value:d.discountType,onChange:M=>x("discountType",M.target.value),className:"w-full p-4 bg-white/20 backdrop-blur-md border border-white/30 rounded-2xl text-white placeholder-white/70 focus:ring-4 focus:ring-purple-500/50 focus:border-transparent transition-all duration-300",children:[r.jsx("option",{value:"all",className:"text-gray-800",children:"🌟 Tất cả"}),r.jsx("option",{value:"general",className:"text-gray-800",children:"🔥 Giảm giá chung"}),r.jsx("option",{value:"specific",className:"text-gray-800",children:"🎯 Giảm giá riêng"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"block text-white font-semibold text-lg flex items-center",children:[r.jsx(Ew,{className:"w-5 h-5 mr-2 text-green-300"}),"Mức giảm giá"]}),r.jsxs("select",{value:d.discountRange,onChange:M=>x("discountRange",M.target.value),className:"w-full p-4 bg-white/20 backdrop-blur-md border border-white/30 rounded-2xl text-white placeholder-white/70 focus:ring-4 focus:ring-purple-500/50 focus:border-transparent transition-all duration-300",children:[r.jsx("option",{value:"all",className:"text-gray-800",children:"💎 Tất cả"}),r.jsx("option",{value:"0-20",className:"text-gray-800",children:"🥉 0% - 20%"}),r.jsx("option",{value:"21-40",className:"text-gray-800",children:"🥈 21% - 40%"}),r.jsx("option",{value:"41-60",className:"text-gray-800",children:"🥇 41% - 60%"}),r.jsx("option",{value:"60+",className:"text-gray-800",children:"💥 Trên 60%"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"block text-white font-semibold text-lg flex items-center",children:[r.jsx(Kee,{className:"w-5 h-5 mr-2 text-red-300"}),"Thời gian"]}),r.jsxs("select",{value:d.timeRemaining,onChange:M=>x("timeRemaining",M.target.value),className:"w-full p-4 bg-white/20 backdrop-blur-md border border-white/30 rounded-2xl text-white placeholder-white/70 focus:ring-4 focus:ring-purple-500/50 focus:border-transparent transition-all duration-300",children:[r.jsx("option",{value:"all",className:"text-gray-800",children:"⏰ Tất cả"}),r.jsx("option",{value:"urgent",className:"text-gray-800",children:"🚨 Cực gấp (≤1 ngày)"}),r.jsx("option",{value:"ending-soon",className:"text-gray-800",children:"⚠️ Sắp hết (2-7 ngày)"}),r.jsx("option",{value:"active",className:"text-gray-800",children:"✨ Còn thời gian (8-30 ngày)"}),r.jsx("option",{value:"long-term",className:"text-gray-800",children:"🔮 Dài hạn (>30 ngày)"})]})]})]})})]}),r.jsx("div",{className:"mb-8 text-center",children:r.jsx("div",{className:"inline-block bg-white/10 backdrop-blur-md rounded-full px-6 py-3 border border-white/20",children:r.jsxs("p",{className:"text-white font-medium",children:["✨ Tìm thấy ",r.jsx("span",{className:"text-yellow-300 font-bold",children:N.length})," trong tổng số ",r.jsx("span",{className:"text-yellow-300 font-bold",children:n.length})," khuyến mại hot ✨"]})})}),N.length>0?r.jsx("div",{className:"grid gap-8 mb-12",children:N.map((M,k)=>{var _,E,T,w,C,j;const D=A(M),O=g(M.ngayKetThuc),L=M.percentChung!==null&&M.percentChung!==void 0,F=(T=(E=(_=M.moTa)==null?void 0:_.Picture)==null?void 0:E[0])==null?void 0:T.url;return r.jsxs("div",{className:`group relative bg-white/10 backdrop-blur-md rounded-3xl overflow-hidden border border-white/20 hover:bg-white/20 transition-all duration-500 hover:scale-[1.02] hover:shadow-2xl hover:shadow-purple-500/25 h-[700px] ${k%2===0?"animate-slide-in-left":"animate-slide-in-right"}`,style:{animationDelay:`${k*.1}s`},children:[r.jsx("div",{className:"absolute -top-2 -right-2 w-20 h-20 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full opacity-20 group-hover:opacity-30 transition-opacity duration-300"}),r.jsx("div",{className:"absolute -bottom-2 -left-2 w-16 h-16 bg-gradient-to-br from-purple-400 to-pink-500 rounded-full opacity-20 group-hover:opacity-30 transition-opacity duration-300"}),r.jsxs("div",{className:"md:flex relative z-10 h-full",children:[r.jsxs("div",{className:"md:w-2/5 relative overflow-hidden",children:[F?r.jsx("img",{src:F.startsWith("data:")?F:`data:image/jpeg;base64,${F}`,alt:M.tenKhuyenMai,className:"w-full h-80 md:h-full object-cover group-hover:scale-110 transition-transform duration-700"}):r.jsxs("div",{className:"w-full h-80 md:h-full bg-gradient-to-br from-purple-500 via-pink-500 to-red-500 flex items-center justify-center relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-black/20"}),r.jsxs("div",{className:"relative z-10 text-center",children:[r.jsxs("span",{className:"text-white text-8xl font-black drop-shadow-2xl",children:[D,"%"]}),r.jsx("div",{className:"text-white text-xl font-bold mt-2",children:"GIẢM GIÁ"})]}),r.jsx(ha,{className:"absolute top-4 left-4 w-8 h-8 text-yellow-300 animate-pulse"}),r.jsx(ha,{className:"absolute bottom-4 right-4 w-6 h-6 text-pink-300 animate-pulse animation-delay-1000"})]}),r.jsxs("div",{className:"absolute top-4 left-4 bg-gradient-to-r from-red-500 to-pink-600 text-white px-4 py-2 rounded-full font-black text-xl shadow-2xl animate-bounce",children:["-",D,"%"]}),r.jsx("div",{className:`absolute top-4 right-4 px-3 py-1 rounded-full text-sm font-bold shadow-lg ${L?"bg-gradient-to-r from-blue-500 to-cyan-500 text-white":"bg-gradient-to-r from-green-500 to-emerald-500 text-white"}`,children:L?"🔥 CHUNG":"🎯 RIÊNG"}),r.jsxs("div",{className:`absolute bottom-4 left-4 px-3 py-2 rounded-full text-sm font-bold shadow-lg ${O.status==="urgent"?"bg-gradient-to-r from-red-500 to-orange-500 text-white animate-pulse":O.status==="warning"?"bg-gradient-to-r from-orange-500 to-yellow-500 text-white":"bg-gradient-to-r from-green-500 to-blue-500 text-white"}`,children:[r.jsx(xu,{className:"w-4 h-4 inline mr-1"}),O.text]})]}),r.jsxs("div",{className:"md:w-3/5 p-8 flex flex-col justify-between h-full",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[r.jsxs("div",{className:"bg-blue-500/80 backdrop-blur-sm text-white px-4 py-2 rounded-xl flex items-center shadow-lg",children:[r.jsx(ts,{className:"w-4 h-4 mr-2"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-semibold",children:"Thời gian"}),r.jsxs("div",{children:[P(M.ngayBatDau)," - ",P(M.ngayKetThuc)]})]})]}),r.jsxs("div",{className:"bg-green-500/80 backdrop-blur-sm text-white px-4 py-2 rounded-xl flex items-center shadow-lg",children:[r.jsx(Go,{className:"w-4 h-4 mr-2"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-semibold",children:"Sản phẩm và Combo"}),r.jsxs("div",{children:["Áp dụng cho: ",L?"Tất cả đối tượng":`${((w=M.danhSachKhuyenMai)==null?void 0:w.length)||0} đối tượng`]})]})]}),r.jsxs("div",{className:`backdrop-blur-sm text-white px-4 py-2 rounded-xl flex items-center shadow-lg ${O.status==="urgent"?"bg-red-500/80":O.status==="warning"?"bg-orange-500/80":"bg-purple-500/80"}`,children:[r.jsx(xu,{className:"w-4 h-4 mr-2"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-semibold",children:"Còn lại"}),r.jsx("div",{children:O.text})]})]})]}),r.jsx("div",{className:"flex justify-between items-start mb-6",children:r.jsx("h2",{className:"text-3xl font-black text-white group-hover:text-yellow-300 transition-colors duration-300 flex-1 pr-4 leading-tight font-family: 'Poppins', sans-serif",children:M.tenKhuyenMai})}),L&&r.jsxs("div",{className:"mb-6 p-4 bg-purple-500/20 rounded-2xl border border-purple-300/30 backdrop-blur-sm",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx(Vr,{className:"w-5 h-5 text-purple-300 mr-2"}),r.jsx("span",{className:"text-purple-200 font-bold",children:"Áp dụng cho toàn bộ sản phẩm và combo"})]}),r.jsxs("p",{className:"text-purple-100 text-sm",children:["Tất cả sản phẩm và combo trong cửa hàng được giảm giá ",D,"%"]})]}),((j=(C=M.moTa)==null?void 0:C.header)==null?void 0:j.title)&&r.jsx("div",{className:"mb-6 p-4 bg-white/5 rounded-2xl border border-white/10",children:r.jsx("p",{className:"text-purple-100 text-lg leading-relaxed",children:M.moTa.header.title})}),!L&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"font-semibold text-white mb-3 text-sm opacity-80",children:"Sản phẩm và Combo khuyến mại:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:M.danhSachKhuyenMai&&M.danhSachKhuyenMai.length>0?r.jsxs(r.Fragment,{children:[M.danhSachKhuyenMai.slice(0,4).map((S,I)=>r.jsx("span",{className:"bg-white/10 backdrop-blur-sm text-white px-3 py-1 rounded-full text-sm border border-white/20",children:S.tenSanPhamCombo},I)),M.danhSachKhuyenMai.length>4&&r.jsxs("span",{className:"bg-purple-500/30 text-purple-200 px-3 py-1 rounded-full text-sm border border-purple-300/30",children:["+",M.danhSachKhuyenMai.length-4," khác"]})]}):r.jsx("span",{className:"text-purple-200 text-sm italic",children:"Không có sản phẩm cụ thể"})})]}),M.danhSachKhuyenMai&&M.danhSachKhuyenMai.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"font-bold text-white mb-3 text-lg",children:"📋 Danh sách sản phẩm và combo:"}),r.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:M.danhSachKhuyenMai.map((S,I)=>r.jsxs("div",{className:"flex justify-between items-center bg-white/5 rounded-lg p-3 border border-white/10",children:[r.jsx("div",{className:"flex-1",children:r.jsx("span",{className:"text-white font-medium",children:S.tenSanPhamCombo})}),r.jsxs("div",{className:"flex items-center space-x-3",children:[S.giaGoc&&S.giaMoi&&r.jsx("div",{className:"text-gray-300 line-through text-sm",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(S.giaGoc)}),r.jsxs("span",{className:"bg-red-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:["-",S.percent,"%"]})]})]},I))})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center mt-auto bg-white/5 rounded-2xl p-4 border border-white/10",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"w-full max-w-xs",children:r.jsx(NRe,{endDate:M.ngayKetThuc,promotionId:M.id})})}),r.jsx("div",{className:"flex justify-center items-center",children:r.jsx("button",{className:"bg-white text-purple-600 px-6 py-4 rounded-2xl font-black text-lg hover:bg-gradient-to-r hover:from-pink-400 hover:via-pink-500 hover:to-purple-500 hover:text-white transition-all duration-300 transform hover:scale-105 hover:shadow-2xl shadow-xl group-hover:animate-pulse w-full max-w-xs",children:r.jsx(ct,{to:`/khuyenmais/${M.id}`,className:"flex items-center justify-center",children:r.jsxs("span",{className:"flex items-center justify-center",children:[r.jsx(ha,{className:"w-5 h-5 mr-2"}),"XEM CHI TIẾT",r.jsx(ha,{className:"w-5 h-5 ml-2"})]})})})})]})]})]})]},M.id)})}):r.jsx("div",{className:"text-center py-16",children:r.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-12 border border-white/20 max-w-lg mx-auto",children:[r.jsx("div",{className:"text-purple-300 mb-6",children:r.jsx(Zd,{className:"w-20 h-20 mx-auto opacity-50"})}),r.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Không tìm thấy khuyến mại phù hợp"}),r.jsx("p",{className:"text-purple-200 text-lg",children:"Thử thay đổi bộ lọc để khám phá thêm deal hot khác nhé! 🔍"})]})}),v>1&&r.jsxs("div",{className:"flex justify-center items-center space-x-6",children:[r.jsxs("button",{onClick:()=>c(M=>Math.max(M-1,1)),disabled:o===1,className:"flex items-center px-6 py-3 bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl text-white hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 font-semibold shadow-xl",children:[r.jsx(ss,{className:"w-5 h-5 mr-2"}),"Trước"]}),r.jsx("div",{className:"flex space-x-3",children:Array.from({length:v},(M,k)=>k+1).map(M=>r.jsx("button",{onClick:()=>c(M),className:`w-12 h-12 rounded-2xl font-bold transition-all duration-300 shadow-xl ${o===M?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white scale-110":"bg-white/10 backdrop-blur-md border border-white/20 text-white hover:bg-white/20 hover:scale-105"}`,children:M},M))}),r.jsxs("button",{onClick:()=>c(M=>Math.min(M+1,v)),disabled:o===v,className:"flex items-center px-6 py-3 bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl text-white hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 font-semibold shadow-xl",children:["Sau",r.jsx(jr,{className:"w-5 h-5 ml-2"})]})]})]}),r.jsx("style",{jsx:!0,children:`
        @keyframes slide-in-left {
          from {
            opacity: 0;
            transform: translateX(-50px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
        
        @keyframes slide-in-right {
          from {
            opacity: 0;
            transform: translateX(50px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
        
        .animate-slide-in-left {
          animation: slide-in-left 0.8s ease-out forwards;
        }
        
        .animate-slide-in-right {
          animation: slide-in-right 0.8s ease-out forwards;
        }
        
        .animation-delay-200 {
          animation-delay: 200ms;
        }
        
        .animation-delay-400 {
          animation-delay: 400ms;
        }
        
        .animation-delay-600 {
          animation-delay: 600ms;
        }
        
        .animation-delay-800 {
          animation-delay: 800ms;
        }
        
        .animation-delay-1000 {
          animation-delay: 1000ms;
        }
        
        .animation-delay-2000 {
          animation-delay: 2000ms;
        }
        
        .animation-delay-4000 {
          animation-delay: 4000ms;
        }
      `})]})},TRe=({onCancel:e})=>{const[t,n]=B.useState({IdMoTa:"",MoTa:{Header:{Title:""},Pictures:[],Title:[{Name:"",Subtitle:[{Name:"",Description:{Content:""},Picture:{Url:null}}],Picture:{Url:null}}]}}),[s,i]=B.useState(0),[a,o]=B.useState(0),[c,l]=B.useState(!1),[u,d]=B.useState(null),f=B.useRef(null),h=B.useRef(new Set);B.useEffect(()=>()=>{h.current.forEach(_=>URL.revokeObjectURL(_)),h.current.clear()},[]);const m=(_,E)=>{const T=_.split(".");n(w=>{const C=R=>{if(R===null||typeof R!="object"||R instanceof File)return R;if(R instanceof Array)return R.map(C);const U={};for(let z in R)R.hasOwnProperty(z)&&(U[z]=C(R[z]));return U},j=C(w);let S=j;for(let R=0;R<T.length-1;R++){const U=T[R];if(U.includes("[")&&U.includes("]")){const[z,V]=U.split("["),X=parseInt(V.replace("]",""));S=S[z][X]}else S=S[U]}const I=T[T.length-1];if(I.includes("[")&&I.includes("]")){const[R,U]=I.split("["),z=parseInt(U.replace("]",""));S[R][z]=E}else S[I]=E;return j})},A=_=>{_.preventDefault(),_.currentTarget.classList.add("border-blue-400","bg-blue-50")},g=_=>{_.preventDefault(),_.currentTarget.classList.remove("border-blue-400","bg-blue-50")},p=(_,E,T=!1)=>{_.preventDefault(),_.currentTarget.classList.remove("border-blue-400","bg-blue-50");const w=Array.from(_.dataTransfer.files).filter(C=>C.type.startsWith("image/")?C.size>10*1024*1024?(alert(`File ${C.name} vượt quá giới hạn 10MB.`),!1):!0:(alert(`File ${C.name} không phải là hình ảnh.`),!1));if(T){const C=w.map(j=>{const S=URL.createObjectURL(j);return h.current.add(S),{file:j,preview:S}});n(j=>({...j,MoTa:{...j.MoTa,Pictures:[...j.MoTa.Pictures,...C]}}))}else if(w.length>0){const C=w[0],j=URL.createObjectURL(C);h.current.add(j),m(E,{file:C,preview:j})}},b=(_,E,T=!1)=>{const w=Array.from(_.target.files).filter(C=>C.type.startsWith("image/")?C.size>10485760?(alert(`File ${C.name} vượt quá giới hạn 10MB.`),!1):!0:(alert(`File ${C.name} không phải là hình ảnh.`),!1));if(T){const C=w.map(j=>{const S=URL.createObjectURL(j);return h.current.add(S),{file:j,preview:S}});n(j=>({...j,MoTa:{...j.MoTa,Pictures:[...j.MoTa.Pictures,...C]}}))}else if(w.length>0){const C=w[0],j=URL.createObjectURL(C);h.current.add(j),m(E,{file:C,preview:j})}},x=_=>{const E=t.MoTa.Pictures[_];E.preview&&(URL.revokeObjectURL(E.preview),h.current.delete(E.preview));const T=t.MoTa.Pictures.filter((w,C)=>C!==_);n(w=>({...w,MoTa:{...w.MoTa,Pictures:T}}))},v=_=>{const E=t.MoTa.Title[_].Picture.Url;E!=null&&E.preview&&(URL.revokeObjectURL(E.preview),h.current.delete(E.preview)),m(`MoTa.Title[${_}].Picture.Url`,null)},y=(_,E)=>{const T=t.MoTa.Title[_].Subtitle[E].Picture.Url;T!=null&&T.preview&&(URL.revokeObjectURL(T.preview),h.current.delete(T.preview)),m(`MoTa.Title[${_}].Subtitle[${E}].Picture.Url`,null)},N=()=>{n(_=>{const E=[..._.MoTa.Title,{Name:"",Subtitle:[{Name:"",Description:{Content:""},Picture:{Url:null}}],Picture:{Url:null}}];return{..._,MoTa:{..._.MoTa,Title:E}}}),i(t.MoTa.Title.length),o(0)},P=_=>{var w;if(t.MoTa.Title.length<=1)return;const E=t.MoTa.Title[_];(w=E.Picture.Url)!=null&&w.preview&&(URL.revokeObjectURL(E.Picture.Url.preview),h.current.delete(E.Picture.Url.preview)),E.Subtitle.forEach(C=>{var j;(j=C.Picture.Url)!=null&&j.preview&&(URL.revokeObjectURL(C.Picture.Url.preview),h.current.delete(C.Picture.Url.preview))});const T=t.MoTa.Title.filter((C,j)=>j!==_);n(C=>({...C,MoTa:{...C.MoTa,Title:T}})),i(Math.max(0,_-1)),o(0)},M=_=>{n(E=>{const T=[...E.MoTa.Title];return T[_]={...T[_],Subtitle:[...T[_].Subtitle,{Name:"",Description:{Content:""},Picture:{Url:null}}]},{...E,MoTa:{...E.MoTa,Title:T}}}),o(t.MoTa.Title[_].Subtitle.length)},k=(_,E)=>{var w;if(t.MoTa.Title[_].Subtitle.length<=1)return;const T=t.MoTa.Title[_].Subtitle[E];(w=T.Picture.Url)!=null&&w.preview&&(URL.revokeObjectURL(T.Picture.Url.preview),h.current.delete(T.Picture.Url.preview)),n(C=>{const j=[...C.MoTa.Title];return j[_]={...j[_],Subtitle:j[_].Subtitle.filter((S,I)=>I!==E)},{...C,MoTa:{...C.MoTa,Title:j}}}),o(Math.max(0,E-1))},D=_=>{const E=f.current;if(!E)return;const T=E.selectionStart,w=E.selectionEnd,C=E.value.substring(T,w);let j;switch(_){case"bold":j=`<strong>${C}</strong>`;break;case"italic":j=`<em>${C}</em>`;break;case"underline":j=`<u>${C}</u>`;break;case"p":j=`<p>${C}</p>`;break;case"h3":j=`<h3>${C}</h3>`;break;case"center":j=`<div style="text-align: center;">${C}</div>`;break;case"right":j=`<div style="text-align: right;">${C}</div>`;break;default:j=C}const S=E.value.substring(0,T)+j+E.value.substring(w),I=`MoTa.Title[${s}].Subtitle[${a}].Description.Content`;m(I,S),setTimeout(()=>{E.focus(),E.setSelectionRange(T,T+j.length)},0)},O=_=>{const E=f.current;if(!E)return;const T=E.selectionStart,w=E.selectionEnd,C=E.value.substring(T,w),j=`<span style="color: ${_};">${C}</span>`,S=E.value.substring(0,T)+j+E.value.substring(w),I=`MoTa.Title[${s}].Subtitle[${a}].Description.Content`;m(I,S)},L=_=>new Promise((E,T)=>{const w=new FileReader;w.readAsDataURL(_),w.onload=()=>{const C=w.result.split(",")[1];E(C)},w.onerror=C=>T(C)}),F=async()=>{var _,E;l(!0),d(null);try{if(!t.MoTa.Header.Title.trim())throw new Error("Tiêu đề Header là bắt buộc");const T=[];for(const I of t.MoTa.Pictures)if(I.file instanceof File){const R=await L(I.file);T.push({Url:R})}const w=[];for(const I of t.MoTa.Title){let R="";((_=I.Picture.Url)==null?void 0:_.file)instanceof File&&(R=await L(I.Picture.Url.file));const U=[];for(const z of I.Subtitle){let V="";((E=z.Picture.Url)==null?void 0:E.file)instanceof File&&(V=await L(z.Picture.Url.file)),U.push({Name:z.Name,Description:{Content:z.Description.Content},Picture:{Url:V}})}w.push({Name:I.Name,Subtitle:U,Picture:{Url:R}})}const C={Header:{Title:t.MoTa.Header.Title},Picture:T,Title:w};console.log("Sending data to API:",{...C,Picture:C.Picture?C.Picture.map((I,R)=>({...I,Url:I.Url?`[Binary Data - ${I.Url.length} characters]`:""})):[]});const j=await fetch("https://bicacuatho.azurewebsites.net/api/KhuyenMai/MoTaKhuyenMaiCreate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(!j.ok){const I=await j.text();throw console.error("API Error Response:",I),new Error(`Failed to save MoTaKhuyenMai: ${j.status} - ${I}`)}const S=await j.json();console.log("MoTaKhuyenMai saved successfully:",S),h.current.forEach(I=>URL.revokeObjectURL(I)),h.current.clear(),n({IdMoTa:"",MoTa:{Header:{Title:""},Pictures:[],Title:[{Name:"",Subtitle:[{Name:"",Description:{Content:""},Picture:{Url:null}}],Picture:{Url:null}}]}}),i(0),o(0),alert("Mô tả khuyến mãi đã được lưu thành công!"),e()}catch(T){console.error("Error saving MoTaKhuyenMai:",T),d(T.message),alert(`Lỗi khi lưu mô tả khuyến mãi: ${T.message}`)}finally{l(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:r.jsxs("div",{className:"container mx-auto p-6",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8 border border-gray-100",children:[r.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-6",children:"✨ Form Mô Tả Khuyến Mãi"}),u&&r.jsxs("div",{className:"mb-4 p-4 bg-red-100 text-red-700 rounded-lg",children:["Lỗi: ",u]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"🎯 Tiêu đề Header"}),r.jsx("input",{type:"text",value:t.MoTa.Header.Title,onChange:_=>m("MoTa.Header.Title",_.target.value),className:"w-full p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 text-lg",placeholder:"Nhập tiêu đề chính của khuyến mãi..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-4",children:"🖼️ Hình ảnh chính (Kéo thả nhiều ảnh)"}),r.jsxs("div",{onDragOver:A,onDragLeave:g,onDrop:_=>p(_,"",!0),className:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-blue-400 hover:bg-blue-50 transition-all duration-200 cursor-pointer",children:[r.jsx(Wr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-600 mb-2",children:"Kéo thả ảnh vào đây hoặc"}),r.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:_=>b(_,"",!0),className:"hidden",id:"main-pictures"}),r.jsx("label",{htmlFor:"main-pictures",className:"bg-blue-500 text-white px-6 py-2 rounded-lg cursor-pointer hover:bg-blue-600 transition-colors",children:"Chọn ảnh"})]}),t.MoTa.Pictures.length>0&&r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:t.MoTa.Pictures.map((_,E)=>_.file instanceof File?r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:_.preview,alt:`Preview ${E+1}`,className:"w-full h-24 object-cover rounded-lg border-2 border-gray-200 group-hover:border-blue-400 transition-colors"}),r.jsx("button",{type:"button",onClick:()=>x(E),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:r.jsx(st,{size:14})})]},E):null)})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 border border-gray-100",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:"📝 Tiêu đề"}),r.jsxs("button",{type:"button",onClick:N,className:"flex items-center gap-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white px-4 py-2 rounded-xl hover:from-green-600 hover:to-emerald-600 transition-all duration-200 shadow-lg",children:[r.jsx(mr,{size:16}),"Thêm Title"]})]}),r.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:t.MoTa.Title.map((_,E)=>{var T;return r.jsxs("div",{className:`p-4 rounded-xl border-2 cursor-pointer transition-all duration-200 ${s===E?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,onClick:()=>{i(E),o(0)},children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("h3",{className:"font-semibold text-gray-800",children:["Tiêu đề ",E+1]}),t.MoTa.Title.length>1&&r.jsx("button",{type:"button",onClick:w=>{w.stopPropagation(),P(E)},className:"text-red-500 hover:bg-red-100 p-1 rounded-full transition-colors",children:r.jsx(st,{size:16})})]}),r.jsx("input",{type:"text",value:_.Name,onChange:w=>{w.stopPropagation(),m(`MoTa.Title[${E}].Name`,w.target.value)},className:"w-full p-2 border border-gray-300 rounded-lg mb-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Tên tiêu đề...",onClick:w=>w.stopPropagation()}),r.jsx("div",{onDragOver:A,onDragLeave:g,onDrop:w=>{w.stopPropagation(),p(w,`MoTa.Title[${E}].Picture.Url`)},className:"border border-dashed border-gray-300 rounded-lg p-3 text-center hover:border-blue-400 hover:bg-blue-50 transition-all duration-200",onClick:w=>w.stopPropagation(),children:((T=_.Picture.Url)==null?void 0:T.file)instanceof File?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:_.Picture.Url.preview,alt:"Title preview",className:"w-full h-20 object-cover rounded-lg"}),r.jsx("button",{type:"button",onClick:w=>{w.stopPropagation(),v(E)},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:r.jsx(st,{size:12})})]}):r.jsxs(r.Fragment,{children:[r.jsx(tm,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Kéo thả ảnh của tiêu đề này"}),r.jsx("input",{type:"file",accept:"image/*",onChange:w=>{w.stopPropagation(),b(w,`MoTa.Title[${E}].Picture.Url`)},className:"hidden",id:`title-pic-${E}`}),r.jsx("label",{htmlFor:`title-pic-${E}`,className:"text-blue-500 cursor-pointer hover:underline text-sm",children:"hoặc chọn file"})]})}),r.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:[_.Subtitle.length," Mục đề"]})]},E)})})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 border border-gray-100",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:["📄 Các mục đề trong tiêu đề ",s+1]}),r.jsxs("button",{type:"button",onClick:()=>M(s),className:"flex items-center gap-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-2 rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all duration-200 shadow-lg",children:[r.jsx(mr,{size:16}),"Thêm Mục Đề"]})]}),t.MoTa.Title[s]&&r.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:t.MoTa.Title[s].Subtitle.map((_,E)=>{var T;return r.jsxs("div",{className:`p-4 rounded-xl border-2 transition-all duration-200 ${a===E?"border-purple-500 bg-purple-50 shadow-md":"border-gray-200 hover:border-gray-300"}`,children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsxs("h4",{className:"font-semibold text-gray-800",children:["Mục đề ",E+1]}),t.MoTa.Title[s].Subtitle.length>1&&r.jsx("button",{type:"button",onClick:()=>k(s,E),className:"text-red-500 hover:bg-red-100 p-1 rounded-full transition-colors",children:r.jsx(st,{size:16})})]}),r.jsx("input",{type:"text",value:_.Name,onChange:w=>{m(`MoTa.Title[${s}].Subtitle[${E}].Name`,w.target.value),o(E)},className:"w-full p-2 border border-gray-300 rounded-lg mb-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Tên Mục đề..."}),r.jsx("div",{onDragOver:A,onDragLeave:g,onDrop:w=>p(w,`MoTa.Title[${s}].Subtitle[${E}].Picture.Url`),className:"border border-dashed border-gray-300 rounded-lg p-3 text-center hover:border-purple-400 hover:bg-purple-50 transition-all duration-200 mb-3",children:((T=_.Picture.Url)==null?void 0:T.file)instanceof File?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:_.Picture.Url.preview,alt:"Subtitle preview",className:"w-full h-16 object-cover rounded-lg"}),r.jsx("button",{type:"button",onClick:()=>y(s,E),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:r.jsx(st,{size:10})})]}):r.jsxs(r.Fragment,{children:[r.jsx(tm,{className:"mx-auto h-6 w-6 text-gray-400 mb-1"}),r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Kéo thả ảnh của mục đề này"}),r.jsx("input",{type:"file",accept:"image/*",onChange:w=>b(w,`MoTa.Title[${s}].Subtitle[${E}].Picture.Url`),className:"hidden",id:`subtitle-pic-${s}-${E}`}),r.jsx("label",{htmlFor:`subtitle-pic-${s}-${E}`,className:"text-purple-500 cursor-pointer hover:underline text-xs",children:"chọn file"})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-2 mb-3",children:r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("button",{type:"button",onClick:()=>{o(E),setTimeout(()=>D("bold"),0)},className:"p-1 bg-white rounded hover:bg-blue-100 transition-colors",title:"Bold",children:r.jsx(hL,{size:16})}),r.jsx("button",{type:"button",onClick:()=>{o(E),setTimeout(()=>D("italic"),0)},className:"p-1 bg-white rounded hover:bg-blue-100 transition-colors",title:"Italic",children:r.jsx(xL,{size:16})}),r.jsx("button",{type:"button",onClick:()=>{o(E),setTimeout(()=>D("underline"),0)},className:"p-1 bg-white rounded hover:bg-blue-100 transition-colors",title:"Underline",children:r.jsx(TL,{size:16})}),r.jsx("button",{type:"button",onClick:()=>{o(E),setTimeout(()=>D("h3"),0)},className:"p-1 bg-white rounded hover:bg-blue-100 transition-colors text-xs font-bold",title:"Heading",children:"H3"}),r.jsx("button",{type:"button",onClick:()=>{o(E),setTimeout(()=>D("center"),0)},className:"p-1 bg-white rounded hover:bg-blue-100 transition-colors",title:"Center",children:r.jsx(cL,{size:16})}),r.jsx("div",{className:"flex gap-1",children:["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff"].map(w=>r.jsx("button",{type:"button",onClick:()=>{o(E),setTimeout(()=>O(w),0)},className:"w-4 h-4 rounded border border-gray-300",style:{backgroundColor:w},title:`Color ${w}`},w))})]})}),r.jsx("textarea",{ref:a===E?f:null,value:_.Description.Content,onChange:w=>{m(`MoTa.Title[${s}].Subtitle[${E}].Description.Content`,w.target.value),o(E)},onFocus:()=>o(E),rows:4,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none",placeholder:"Nhập mô tả chi tiết (có thể sử dụng HTML tags)..."})]},E)})})]})]}),r.jsxs("div",{className:"text-center mt-8 flex justify-center gap-4",children:[r.jsx("button",{type:"button",onClick:e,className:"bg-gray-300 text-gray-800 px-12 py-4 rounded-2xl hover:bg-gray-400 transition-all duration-200 font-bold text-lg",children:"Hủy"}),r.jsx("button",{type:"button",onClick:F,disabled:c,className:`bg-gradient-to-r from-blue-600 to-purple-600 text-white px-12 py-4 rounded-2xl transition-all duration-200 font-bold text-lg shadow-xl transform hover:scale-105 ${c?"opacity-50 cursor-not-allowed":"hover:from-blue-700 hover:to-purple-700"}`,children:c?"Đang lưu...":"Lưu mô tả"})]})]})})},kRe=()=>{const[e,t]=B.useState({promotionName:"",startDate:"",endDate:"",promotionImages:[],applyToAll:!1,discountPercentage:""}),[n,s]=B.useState(null),[i,a]=B.useState(!1),[o,c]=B.useState([]),[l,u]=B.useState([]),[d,f]=B.useState([]),[h,m]=B.useState([]),[A,g]=B.useState({}),[p,b]=B.useState({}),[x,v]=B.useState({}),[y,N]=B.useState({}),[P,M]=B.useState(""),[k,D]=B.useState(""),[O,L]=B.useState(!1),[F,_]=B.useState(!1),[E,T]=B.useState(!1),[w,C]=B.useState(!0),[j,S]=B.useState(!0),[I,R]=B.useState(null),[U,z]=B.useState(null);B.useEffect(()=>{(async()=>{try{C(!0);const ce=await fetch("https://bicacuatho.azurewebsites.net/api/SanPham/ListSanPham");if(!ce.ok)throw new Error("Failed to fetch products");const pe=(await ce.json()).map(Ae=>({id:Ae.id,name:Ae.name,price:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Ae.donGia),originalPrice:Ae.donGia,image:Ae.hinh&&Ae.hinh.length>0?Ae.hinh[0]:"/api/placeholder/60/60"}));c(pe)}catch(ce){R(ce.message)}finally{C(!1)}})()},[]),B.useEffect(()=>{(async()=>{try{S(!0);const ce=await fetch("https://bicacuatho.azurewebsites.net/api/Combo/ComboSanPhamView");if(!ce.ok)throw new Error("Failed to fetch combos");const pe=(await ce.json()).map(Ae=>({id:Ae.maCombo,name:Ae.name,price:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Ae.gia),originalPrice:Ae.gia,items:Ae.sanPhams.length,image:Ae.hinhAnh||"/api/placeholder/60/60"}));u(pe)}catch(ce){z(ce.message)}finally{S(!1)}})()},[]);const V=(ae,ce)=>{t(de=>({...de,[ae]:ce}))},X=ae=>{ae.preventDefault(),ae.stopPropagation(),ae.type==="dragenter"||ae.type==="dragover"?T(!0):ae.type==="dragleave"&&T(!1)},$=ae=>{if(ae.preventDefault(),ae.stopPropagation(),T(!1),ae.dataTransfer.files&&ae.dataTransfer.files.length>0){const ce=Array.from(ae.dataTransfer.files).filter(de=>de.type.startsWith("image/"));t(de=>({...de,promotionImages:[...de.promotionImages,...ce]}))}},W=ae=>{const ce=ae.target.files;if(ce&&ce.length>0){const de=Array.from(ce).filter(pe=>pe.type.startsWith("image/"));t(pe=>({...pe,promotionImages:[...pe.promotionImages,...de]}))}},H=ae=>{t(ce=>({...ce,promotionImages:ce.promotionImages.filter((de,pe)=>pe!==ae)}))},Q=ae=>{d.find(ce=>ce.id===ae.id)||(f(ce=>[...ce,ae]),g(ce=>({...ce,[ae.id]:""}))),M(""),L(!1)},G=ae=>{f(ce=>ce.filter(de=>de.id!==ae)),g(ce=>{const de={...ce};return delete de[ae],de}),v(ce=>{const de={...ce};return delete de[ae],de})},J=(ae,ce)=>{g(de=>({...de,[ae]:ce}))},ee=(ae,ce)=>{const de=parseFloat(ce);isNaN(de)||de<0||de>100?v(pe=>({...pe,[ae]:"Phần trăm giảm giá phải từ 0 đến 100"})):v(pe=>{const Ae={...pe};return delete Ae[ae],Ae})},K=ae=>{h.find(ce=>ce.id===ae.id)||(m(ce=>[...ce,ae]),b(ce=>({...ce,[ae.id]:""}))),D(""),_(!1)},ne=ae=>{m(ce=>ce.filter(de=>de.id!==ae)),b(ce=>{const de={...ce};return delete de[ae],de}),N(ce=>{const de={...ce};return delete de[ae],de})},ue=(ae,ce)=>{b(de=>({...de,[ae]:ce}))},se=(ae,ce)=>{const de=parseFloat(ce);isNaN(de)||de<0||de>100?N(pe=>({...pe,[ae]:"Phần trăm giảm giá phải từ 0 đến 100"})):N(pe=>{const Ae={...pe};return delete Ae[ae],Ae})},ie=(ae,ce)=>{const de=parseFloat(ce);if(isNaN(de)||de<0||de>100)return null;const pe=ae*(1-de/100);return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(pe)},q=o.filter(ae=>ae.name.toLowerCase().includes(P.toLowerCase())),Z=l.filter(ae=>ae.name.toLowerCase().includes(k.toLowerCase())),te=()=>{a(!0)},re=()=>{a(!1),s(null)},Y=ae=>new Promise((ce,de)=>{const pe=new FileReader;pe.onload=()=>{const Ae=pe.result.split(",")[1];ce(Ae)},pe.onerror=Ae=>de(Ae),pe.readAsDataURL(ae)}),oe=async()=>{try{if(!e.promotionName)throw new Error("Tên khuyến mãi là bắt buộc");if(!e.startDate)throw new Error("Thời gian bắt đầu là bắt buộc");if(!e.endDate)throw new Error("Thời gian kết thúc là bắt buộc");if(e.applyToAll&&!e.discountPercentage)throw new Error("Phần trăm giảm giá là bắt buộc khi áp dụng cho tất cả sản phẩm");const ae=await Promise.all(e.promotionImages.map(async Ae=>await Y(Ae))),ce={TenKhuyenMai:e.promotionName,BatDau:e.startDate?new Date(e.startDate).toISOString().split("T")[0]:null,KetThuc:e.endDate?new Date(e.endDate).toISOString().split("T")[0]:null,PercentChung:e.applyToAll&&parseInt(e.discountPercentage)||null,Pictures:ae.length>0?ae:null,All:e.applyToAll,ChiTiet:e.applyToAll?null:[...d.map(Ae=>({IdSanPham:Ae.id,IdCombo:null,TenSanPhamCombo:null,GiaMoi:A[Ae.id]?Ae.originalPrice*(1-parseFloat(A[Ae.id])/100):null,Percent:parseInt(A[Ae.id])||null,GiaGoc:Ae.originalPrice})),...h.map(Ae=>({IdSanPham:null,IdCombo:Ae.id,TenSanPhamCombo:Ae.name,GiaMoi:p[Ae.id]?Ae.originalPrice*(1-parseFloat(p[Ae.id])/100):null,Percent:parseInt(p[Ae.id])||null,GiaGoc:Ae.originalPrice}))]},de=await fetch("https://bicacuatho.azurewebsites.net/api/KhuyenMai/KhuyenMaiCreate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ce)});if(de.ok)localStorage.removeItem("promotionDescription");else{const Ae=await de.json();we.fire({title:"Thất bại!",text:"Tạo khuyến mại mới thất bại!",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}const pe=await de.json();t({promotionName:"",startDate:"",endDate:"",promotionImages:[],applyToAll:!1,discountPercentage:""}),f([]),m([]),g({}),b({}),s(null),we.fire({title:"Thành công!",text:"Tạo Khuyến mại mới thành công!",icon:"success",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{window.location.reload()})}catch(ae){console.error("Error saving promotion:",ae),we.fire({title:"Thất bại!",text:"Đã xảy ra lỗi khi tạo khuyến mại mới!",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}),alert("Lỗi khi lưu khuyến mãi: "+ae.message)}};return r.jsxs("div",{className:"max-w-7xl mx-auto p-6 bg-white",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Tạo Khuyến Mãi Mới"}),r.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Thông Tin Khuyến Mãi"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên Khuyến Mãi *"}),r.jsx("input",{type:"text",value:e.promotionName,onChange:ae=>V("promotionName",ae.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nhập tên khuyến mãi"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thời Gian Bắt Đầu *"}),r.jsx("input",{type:"datetime-local",value:e.startDate,onChange:ae=>V("startDate",ae.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thời Gian Kết Thúc *"}),r.jsx("input",{type:"datetime-local",value:e.endDate,onChange:ae=>V("endDate",ae.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{className:"mb-4",hidden:!0,children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hình Ảnh Khuyến Mãi"}),r.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-6 text-center transition-colors ${E?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:X,onDragLeave:X,onDragOver:X,onDrop:$,children:[r.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:W,className:"hidden",id:"image-upload"}),e.promotionImages.length>0?r.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:e.promotionImages.map((ae,ce)=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:URL.createObjectURL(ae),alt:`promotion-image-${ce}`,className:"w-24 h-24 object-cover rounded-md"}),r.jsx("button",{onClick:()=>H(ce),className:"absolute top-0 right-0 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:r.jsx(st,{className:"w-4 h-4"})})]},ce))}):r.jsxs("div",{className:"space-y-2",children:[r.jsx(Wr,{className:"w-8 h-8 mx-auto text-gray-400"}),r.jsxs("div",{className:"text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Kéo thả hình ảnh vào đây"})," hoặc"," ",r.jsx("label",{htmlFor:"image-upload",className:"text-blue-500 cursor-pointer hover:text-blue-600",children:"chọn file"})]}),r.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG, GIF tối đa 10MB (Có thể chọn nhiều hình)"})]}),e.promotionImages.length>0&&r.jsxs("label",{htmlFor:"image-upload",className:"block mt-4 inline-flex items-center px-4 py-2 bg-blue-500 text-white rounded-md cursor-pointer hover:bg-blue-600",children:[r.jsx(mr,{className:"w-4 h-4 mr-2"})," Thêm hình ảnh"]})]})]}),r.jsx("div",{className:"mb-4",children:r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:e.applyToAll,onChange:ae=>V("applyToAll",ae.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Khuyến mãi cho tất cả sản phẩm"})]})}),e.applyToAll&&r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"% Khuyến Mãi Cho Tất Cả *"}),r.jsxs("div",{className:"relative w-48",children:[r.jsx("input",{type:"number",min:"0",max:"100",value:e.discountPercentage,onChange:ae=>V("discountPercentage",ae.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"}),r.jsx("span",{className:"absolute right-3 top-2 text-gray-500",children:"%"})]})]})]}),!e.applyToAll&&r.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Sản Phẩm"}),r.jsxs("div",{className:"relative mb-4",children:[r.jsx(Un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Tìm kiếm sản phẩm...",value:P,onChange:ae=>{M(ae.target.value),L(ae.target.value.length>0)},onBlur:()=>setTimeout(()=>L(!1),200),onFocus:()=>L(P.length>0),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),w?r.jsx("p",{className:"text-gray-500 text-center py-4",children:"Đang tải sản phẩm..."}):I?r.jsxs("p",{className:"text-red-500 text-center py-4",children:["Lỗi: ",I]}):O&&q.length>0?r.jsx("div",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-40 overflow-y-auto shadow-lg",children:q.map(ae=>r.jsxs("div",{onClick:()=>Q(ae),className:"px-4 py-2 hover:bg-gray-100 cursor-pointer flex items-center space-x-2",children:[r.jsx("img",{src:`data:image/jpeg;base64,${ae.image}`,alt:ae.name,className:"w-6 h-6 rounded-md object-cover"}),r.jsx("span",{className:"text-sm",children:ae.name})]},ae.id))}):O&&r.jsx("p",{className:"text-gray-500 text-center py-4",children:"Không tìm thấy sản phẩm"})]}),r.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:d.length===0?r.jsx("p",{className:"text-gray-500 text-center py-8 text-sm",children:"Chưa có sản phẩm nào được chọn"}):d.map(ae=>r.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[r.jsx("img",{src:`data:image/jpeg;base64,${ae.image}`,alt:ae.name,className:"w-10 h-10 rounded-md object-cover mr-3 flex-shrink-0"}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h4",{className:"font-medium text-gray-900 truncate text-sm",children:ae.name}),r.jsxs("p",{className:"text-xs text-gray-600",children:["Giá gốc: ",r.jsx("span",{className:A[ae.id]&&!x[ae.id]?"line-through":"",children:ae.price}),A[ae.id]&&!x[ae.id]&&r.jsx("span",{className:"ml-2 text-blue-600",children:ie(ae.originalPrice,A[ae.id])})]})]})]}),r.jsx("button",{onClick:()=>G(ae.id),className:"p-1 text-red-500 hover:bg-red-50 rounded flex-shrink-0",children:r.jsx(st,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Giảm giá:"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",min:"0",max:"100",value:A[ae.id]||"",onChange:ce=>J(ae.id,ce.target.value),onBlur:()=>ee(ae.id,A[ae.id]),onKeyPress:ce=>{ce.key==="Enter"&&ee(ae.id,A[ae.id])},className:`w-16 px-2 py-1 pr-6 border ${x[ae.id]?"border-red-500":"border-gray-300"} rounded focus:outline-none focus:ring-1 focus:ring-blue-500 text-sm`,placeholder:"0"}),r.jsx("span",{className:"absolute right-2 top-1 text-gray-500 text-xs",children:"%"})]})]}),x[ae.id]&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:x[ae.id]})]},ae.id))})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Combo"}),r.jsxs("div",{className:"relative mb-4",children:[r.jsx(Un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Tìm kiếm combo...",value:k,onChange:ae=>{D(ae.target.value),_(ae.target.value.length>0)},onBlur:()=>setTimeout(()=>_(!1),200),onFocus:()=>_(k.length>0),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),j?r.jsx("p",{className:"text-gray-500 text-center py-4",children:"Đang tải combo..."}):U?r.jsxs("p",{className:"text-red-500 text-center py-4",children:["Lỗi: ",U]}):F&&Z.length>0?r.jsx("div",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-40 overflow-y-auto shadow-lg",children:Z.map(ae=>r.jsxs("div",{onClick:()=>K(ae),className:"px-4 py-2 hover:bg-gray-100 cursor-pointer flex items-center space-x-2",children:[r.jsx("img",{src:`data:image/jpeg;base64,${ae.image}`,alt:ae.name,className:"w-6 h-6 rounded-md object-cover"}),r.jsx("span",{className:"text-sm",children:ae.name})]},ae.id))}):F&&r.jsx("p",{className:"text-gray-500 text-center py-4",children:"Không tìm thấy combo"})]}),r.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:h.length===0?r.jsx("p",{className:"text-gray-500 text-center py-8 text-sm",children:"Chưa có combo nào được chọn"}):h.map(ae=>r.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[r.jsx("img",{src:`data:image/jpeg;base64,${ae.image}`,alt:ae.name,className:"w-10 h-10 rounded-md object-cover mr-3 flex-shrink-0"}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h4",{className:"font-medium text-gray-900 truncate text-sm",children:ae.name}),r.jsxs("p",{className:"text-xs text-gray-600",children:["Giá gốc: ",r.jsx("span",{className:p[ae.id]&&!y[ae.id]?"line-through":"",children:ae.price}),p[ae.id]&&!y[ae.id]&&r.jsx("span",{className:"ml-2 text-blue-600",children:ie(ae.originalPrice,p[ae.id])})]})]})]}),r.jsx("button",{onClick:()=>ne(ae.id),className:"p-1 text-red-500 hover:bg-red-50 rounded flex-shrink-0",children:r.jsx(st,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Giảm giá:"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",min:"0",max:"100",value:p[ae.id]||"",onChange:ce=>ue(ae.id,ce.target.value),onBlur:()=>se(ae.id,p[ae.id]),onKeyPress:ce=>{ce.key==="Enter"&&se(ae.id,p[ae.id])},className:`w-16 px-2 py-1 pr-6 border ${y[ae.id]?"border-red-500":"border-gray-300"} rounded focus:outline-none focus:ring-1 focus:ring-blue-500 text-sm`,placeholder:"0"}),r.jsx("span",{className:"absolute right-2 top-1 text-gray-500 text-xs",children:"%"})]})]}),y[ae.id]&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:y[ae.id]})]},ae.id))})]})]}),i&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-7xl max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Thêm Mô Tả"}),r.jsx("button",{onClick:re,className:"p-1 text-gray-500 hover:text-gray-700",children:r.jsx(st,{className:"w-6 h-6"})})]}),r.jsx(TRe,{onSave:ae=>{s(ae),a(!1)},onCancel:re})]})}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("button",{onClick:te,className:"flex items-center px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors",children:[r.jsx(CT,{className:"w-4 h-4 mr-2"}),"Thêm Mô Tả"]}),r.jsxs("div",{className:"space-x-3",children:[r.jsx("button",{className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",onClick:()=>{t({promotionName:"",startDate:"",endDate:"",promotionImages:[],applyToAll:!1,discountPercentage:""}),f([]),m([]),g({}),b({}),s(null),localStorage.removeItem("promotionDescription")},children:"Hủy"}),r.jsx("button",{className:"px-6 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",onClick:oe,children:"Lưu Khuyến Mãi"})]})]})]})},_Re=({promotionId:e,initialData:t,onSave:n,onCancel:s})=>{var C,j,S,I,R,U,z;const i={Header:{Title:""},Picture:[],Title:[{Name:"",Subtitle:[{Name:"",Description:{Content:""},Picture:{Url:null}}],Picture:{Url:null}}]},[a,o]=B.useState(t||{IdMoTa:e||"",MoTa:i}),[c,l]=B.useState(0),[u,d]=B.useState(0),[f,h]=B.useState(!1),[m,A]=B.useState(null),g=B.useRef(null),p=B.useRef(new Set);B.useEffect(()=>()=>{p.current.forEach(V=>URL.revokeObjectURL(V)),p.current.clear()},[]);const b=(V,X)=>{const $=V.split(".");o(W=>{const H=ee=>{if(ee===null||typeof ee!="object"||ee instanceof File)return ee;if(ee instanceof Array)return ee.map(H);const K={};for(let ne in ee)ee.hasOwnProperty(ne)&&(K[ne]=H(ee[ne]));return K},Q=H(W);let G=Q;for(let ee=0;ee<$.length-1;ee++){const K=$[ee];if(K.includes("[")&&K.includes("]")){const[ne,ue]=K.split("["),se=parseInt(ue.replace("]",""));G[ne]||(G[ne]=[]),G[ne][se]||(G[ne][se]={}),G=G[ne][se]}else G[K]||(G[K]={}),G=G[K]}const J=$[$.length-1];if(J.includes("[")&&J.includes("]")){const[ee,K]=J.split("["),ne=parseInt(K.replace("]",""));G[ee]||(G[ee]=[]),G[ee][ne]=X}else G[J]=X;return Q})},x=V=>{V.preventDefault(),V.currentTarget.classList.add("border-blue-400","bg-blue-50")},v=V=>{V.preventDefault(),V.currentTarget.classList.remove("border-blue-400","bg-blue-50")},y=(V,X,$=!1)=>{V.preventDefault(),V.currentTarget.classList.remove("border-blue-400","bg-blue-50");const W=Array.from(V.dataTransfer.files).filter(H=>H.type.startsWith("image/")?H.size>10*1024*1024?(alert(`File ${H.name} vượt quá giới hạn 10MB.`),!1):!0:(alert(`File ${H.name} không phải là hình ảnh.`),!1));if($){const H=W.map(Q=>{const G=URL.createObjectURL(Q);return p.current.add(G),{file:Q,preview:G}});o(Q=>({...Q,MoTa:{...Q.MoTa,Picture:[...Q.MoTa.Picture||[],...H]}}))}else if(W.length>0){const H=W[0],Q=URL.createObjectURL(H);p.current.add(Q),b(X,{file:H,preview:Q})}},N=(V,X,$=!1)=>{const W=Array.from(V.target.files).filter(H=>H.type.startsWith("image/")?H.size>10485760?(alert(`File ${H.name} vượt quá giới hạn 10MB.`),!1):!0:(alert(`File ${H.name} không phải là hình ảnh.`),!1));if($){const H=W.map(Q=>{const G=URL.createObjectURL(Q);return p.current.add(G),{file:Q,preview:G}});o(Q=>({...Q,MoTa:{...Q.MoTa,Picture:[...Q.MoTa.Picture||[],...H]}}))}else if(W.length>0){const H=W[0],Q=URL.createObjectURL(H);p.current.add(Q),b(X,{file:H,preview:Q})}},P=V=>{var W,H;const X=(W=a.MoTa)==null?void 0:W.Picture[V];X!=null&&X.preview&&(URL.revokeObjectURL(X.preview),p.current.delete(X.preview));const $=(((H=a.MoTa)==null?void 0:H.Picture)||[]).filter((Q,G)=>G!==V);o(Q=>({...Q,MoTa:{...Q.MoTa,Picture:$}}))},M=V=>{var $,W,H;const X=(H=(W=($=a.MoTa)==null?void 0:$.Title[V])==null?void 0:W.Picture)==null?void 0:H.Url;X!=null&&X.preview&&(URL.revokeObjectURL(X.preview),p.current.delete(X.preview)),b(`MoTa.Title[${V}].Picture.Url`,null)},k=(V,X)=>{var W,H,Q,G;const $=(G=(Q=(H=(W=a.MoTa)==null?void 0:W.Title[V])==null?void 0:H.Subtitle[X])==null?void 0:Q.Picture)==null?void 0:G.Url;$!=null&&$.preview&&(URL.revokeObjectURL($.preview),p.current.delete($.preview)),b(`MoTa.Title[${V}].Subtitle[${X}].Picture.Url`,null)},D=()=>{var V,X;o($=>({...$,MoTa:{...$.MoTa,Title:[...$.MoTa.Title||[],{Name:"",Subtitle:[{Name:"",Description:{Content:""},Picture:{Url:null}}],Picture:{Url:null}}]}})),l(((X=(V=a.MoTa)==null?void 0:V.Title)==null?void 0:X.length)||0),d(0)},O=V=>{var W,H,Q,G,J,ee,K;if(((H=(W=a.MoTa)==null?void 0:W.Title)==null?void 0:H.length)<=1)return;const X=(Q=a.MoTa)==null?void 0:Q.Title[V];(J=(G=X==null?void 0:X.Picture)==null?void 0:G.Url)!=null&&J.preview&&(URL.revokeObjectURL(X.Picture.Url.preview),p.current.delete(X.Picture.Url.preview)),(ee=X==null?void 0:X.Subtitle)==null||ee.forEach(ne=>{var ue,se;(se=(ue=ne==null?void 0:ne.Picture)==null?void 0:ue.Url)!=null&&se.preview&&(URL.revokeObjectURL(ne.Picture.Url.preview),p.current.delete(ne.Picture.Url.preview))});const $=(((K=a.MoTa)==null?void 0:K.Title)||[]).filter((ne,ue)=>ue!==V);o(ne=>({...ne,MoTa:{...ne.MoTa,Title:$}})),l(Math.max(0,V-1)),d(0)},L=V=>{var X,$,W;o(H=>{var G,J;const Q=[...((G=H.MoTa)==null?void 0:G.Title)||[]];return Q[V]={...Q[V],Subtitle:[...((J=Q[V])==null?void 0:J.Subtitle)||[],{Name:"",Description:{Content:""},Picture:{Url:null}}]},{...H,MoTa:{...H.MoTa,Title:Q}}}),d(((W=($=(X=a.MoTa)==null?void 0:X.Title[V])==null?void 0:$.Subtitle)==null?void 0:W.length)||0)},F=(V,X)=>{var W,H,Q,G,J,ee,K;if(((Q=(H=(W=a.MoTa)==null?void 0:W.Title[V])==null?void 0:H.Subtitle)==null?void 0:Q.length)<=1)return;const $=(J=(G=a.MoTa)==null?void 0:G.Title[V])==null?void 0:J.Subtitle[X];(K=(ee=$==null?void 0:$.Picture)==null?void 0:ee.Url)!=null&&K.preview&&(URL.revokeObjectURL($.Picture.Url.preview),p.current.delete($.Picture.Url.preview)),o(ne=>{var se,ie;const ue=[...((se=ne.MoTa)==null?void 0:se.Title)||[]];return ue[V]={...ue[V],Subtitle:(((ie=ue[V])==null?void 0:ie.Subtitle)||[]).filter((q,Z)=>Z!==X)},{...ne,MoTa:{...ne.MoTa,Title:ue}}}),d(Math.max(0,X-1))},_=V=>{const X=g.current;if(!X)return;const $=X.selectionStart,W=X.selectionEnd,H=X.value.substring($,W);let Q;switch(V){case"bold":Q=`<strong>${H}</strong>`;break;case"italic":Q=`<em>${H}</em>`;break;case"underline":Q=`<u>${H}</u>`;break;case"p":Q=`<p>${H}</p>`;break;case"h3":Q=`<h3>${H}</h3>`;break;case"center":Q=`<div style="text-align: center;">${H}</div>`;break;case"right":Q=`<div style="text-align: right;">${H}</div>`;break;default:Q=H}const G=X.value.substring(0,$)+Q+X.value.substring(W),J=`MoTa.Title[${c}].Subtitle[${u}].Description.Content`;b(J,G),setTimeout(()=>{X.focus(),X.setSelectionRange($,$+Q.length)},0)},E=V=>{const X=g.current;if(!X)return;const $=X.selectionStart,W=X.selectionEnd,H=X.value.substring($,W),Q=`<span style="color: ${V};">${H}</span>`,G=X.value.substring(0,$)+Q+X.value.substring(W),J=`MoTa.Title[${c}].Subtitle[${u}].Description.Content`;b(J,G)},T=V=>new Promise((X,$)=>{const W=new FileReader;W.readAsDataURL(V),W.onload=()=>{const H=W.result.split(",")[1];X(H)},W.onerror=H=>$(H)}),w=async()=>{var V,X,$,W,H,Q,G,J,ee,K,ne,ue,se,ie;h(!0),A(null);try{if(!(($=(X=(V=a.MoTa)==null?void 0:V.Header)==null?void 0:X.Title)!=null&&$.trim()))throw new Error("Tiêu đề Header là bắt buộc");const q=[];for(const oe of((W=a.MoTa)==null?void 0:W.Picture)||[])if(oe.file instanceof File){const ae=await T(oe.file);q.push({Url:ae})}else oe.Url&&q.push({Url:oe.Url});const Z=[];for(const oe of((H=a.MoTa)==null?void 0:H.Title)||[]){let ae=(Q=oe.Picture)==null?void 0:Q.Url;((J=(G=oe.Picture)==null?void 0:G.Url)==null?void 0:J.file)instanceof File&&(ae=await T(oe.Picture.Url.file));const ce=[];for(const de of oe.Subtitle||[]){let pe=(ee=de.Picture)==null?void 0:ee.Url;((ne=(K=de.Picture)==null?void 0:K.Url)==null?void 0:ne.file)instanceof File&&(pe=await T(de.Picture.Url.file)),ce.push({Name:de.Name||"",Description:{Content:((ue=de.Description)==null?void 0:ue.Content)||""},Picture:{Url:pe}})}Z.push({Name:oe.Name||"",Subtitle:ce,Picture:{Url:ae}})}const te={Header:{Title:((ie=(se=a.MoTa)==null?void 0:se.Header)==null?void 0:ie.Title)||""},Picture:q,Title:Z};console.log("Sending data to API:",{...te,Picture:te.Picture.map((oe,ae)=>({...oe,Url:oe.Url?`[Binary Data - ${oe.Url.length} characters]`:""}))});const re=await fetch("https://bicacuatho.azurewebsites.net/api/KhuyenMai/MoTaKhuyenMaiUpdate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(te)});if(!re.ok){const oe=await re.text();throw console.error("API Error Response:",oe),new Error(`Failed to update MoTaKhuyenMai: ${re.status} - ${oe}`)}const Y=await re.json();console.log("MoTaKhuyenMai updated successfully:",Y),p.current.forEach(oe=>URL.revokeObjectURL(oe)),p.current.clear(),n(te),alert("Mô tả khuyến mãi đã được cập nhật thành công!")}catch(q){console.error("Error updating MoTaKhuyenMai:",q),A(q.message),alert(`Lỗi khi cập nhật mô tả khuyến mãi: ${q.message}`)}finally{h(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:r.jsxs("div",{className:"container mx-auto p-6",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8 border border-gray-100",children:[r.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-6",children:"✨ Chỉnh Sửa Mô Tả Khuyến Mãi"}),m&&r.jsxs("div",{className:"mb-4 p-4 bg-red-100 text-red-700 rounded-lg",children:["Lỗi: ",m]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"🎯 Tiêu đề Header"}),r.jsx("input",{type:"text",value:((j=(C=a.MoTa)==null?void 0:C.Header)==null?void 0:j.Title)||"",onChange:V=>b("MoTa.Header.Title",V.target.value),className:"w-full p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 text-lg",placeholder:"Nhập tiêu đề chính của khuyến mãi..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-4",children:"🖼️ Hình ảnh chính (Kéo thả nhiều ảnh)"}),r.jsxs("div",{onDragOver:x,onDragLeave:v,onDrop:V=>y(V,"",!0),className:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-blue-400 hover:bg-blue-50 transition-all duration-200 cursor-pointer",children:[r.jsx(Wr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-600 mb-2",children:"Kéo thả ảnh vào đây hoặc"}),r.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:V=>N(V,"",!0),className:"hidden",id:"main-pictures"}),r.jsx("label",{htmlFor:"main-pictures",className:"bg-blue-500 text-white px-6 py-2 rounded-lg cursor-pointer hover:bg-blue-600 transition-colors",children:"Chọn ảnh"})]}),((I=(S=a.MoTa)==null?void 0:S.Picture)==null?void 0:I.length)>0&&r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:a.MoTa.Picture.map((V,X)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:V.url?`data:image/jpeg;base64,${V.url}`:V.preview,alt:`Preview ${X+1}`,className:"w-full h-24 object-cover rounded-lg border-2 border-gray-200 group-hover:border-blue-400 transition-colors"}),r.jsx("button",{type:"button",onClick:()=>P(X),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:r.jsx(st,{size:14})})]},X))})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 border border-gray-100",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:"📝 Tiêu đề"}),r.jsxs("button",{type:"button",onClick:D,className:"flex items-center gap-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white px-4 py-2 rounded-xl hover:from-green-600 hover:to-emerald-600 transition-all duration-200 shadow-lg",children:[r.jsx(mr,{size:16}),"Thêm Title"]})]}),r.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:(((R=a.MoTa)==null?void 0:R.Title)||[]).map((V,X)=>{var $,W,H,Q;return r.jsxs("div",{className:`p-4 rounded-xl border-2 cursor-pointer transition-all duration-200 ${c===X?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,onClick:()=>{l(X),d(0)},children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("h3",{className:"font-semibold text-gray-800",children:["Tiêu đề ",X+1]}),((W=($=a.MoTa)==null?void 0:$.Title)==null?void 0:W.length)>1&&r.jsx("button",{type:"button",onClick:G=>{G.stopPropagation(),O(X)},className:"text-red-500 hover:bg-red-100 p-1 rounded-full transition-colors",children:r.jsx(st,{size:16})})]}),r.jsx("input",{type:"text",value:V.Name||"",onChange:G=>{G.stopPropagation(),b(`MoTa.Title[${X}].Name`,G.target.value)},className:"w-full p-2 border border-gray-300 rounded-lg mb-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Tên tiêu đề...",onClick:G=>G.stopPropagation()}),r.jsx("div",{onDragOver:x,onDragLeave:v,onDrop:G=>{G.stopPropagation(),y(G,`MoTa.Title[${X}].Picture.Url`)},className:"border border-dashed border-gray-300 rounded-lg p-3 text-center hover:border-blue-400 hover:bg-blue-50 transition-all duration-200",onClick:G=>G.stopPropagation(),children:(H=V.Picture)!=null&&H.Url?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:V.Picture.Url.preview?V.Picture.Url.preview:`data:image/jpeg;base64,${V.Picture.Url}`,alt:"Title preview",className:"w-full h-20 object-cover rounded-lg"}),r.jsx("button",{type:"button",onClick:G=>{G.stopPropagation(),M(X)},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:r.jsx(st,{size:12})})]}):r.jsxs(r.Fragment,{children:[r.jsx(tm,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Kéo thả ảnh của tiêu đề này"}),r.jsx("input",{type:"file",accept:"image/*",onChange:G=>{G.stopPropagation(),N(G,`MoTa.Title[${X}].Picture.Url`)},className:"hidden",id:`title-pic-${X}`}),r.jsx("label",{htmlFor:`title-pic-${X}`,className:"text-blue-500 cursor-pointer hover:underline text-sm",children:"hoặc chọn file"})]})}),r.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:[((Q=V.Subtitle)==null?void 0:Q.length)||0," Mục đề"]})]},X)})})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 border border-gray-100",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:["📄 Các mục đề trong tiêu đề ",c+1]}),r.jsxs("button",{type:"button",onClick:()=>L(c),className:"flex items-center gap-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-2 rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all duration-200 shadow-lg",children:[r.jsx(mr,{size:16}),"Thêm Mục Đề"]})]}),(((z=(U=a.MoTa)==null?void 0:U.Title[c])==null?void 0:z.Subtitle)||[]).map((V,X)=>{var $,W,H,Q,G;return r.jsxs("div",{className:`p-4 rounded-xl border-2 transition-all duration-200 ${u===X?"border-purple-500 bg-purple-50 shadow-md":"border-gray-200 hover:border-gray-300"}`,children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsxs("h4",{className:"font-semibold text-gray-800",children:["Mục đề ",X+1]}),((H=(W=($=a.MoTa)==null?void 0:$.Title[c])==null?void 0:W.Subtitle)==null?void 0:H.length)>1&&r.jsx("button",{type:"button",onClick:()=>F(c,X),className:"text-red-500 hover:bg-red-100 p-1 rounded-full transition-colors",children:r.jsx(st,{size:16})})]}),r.jsx("input",{type:"text",value:V.Name||"",onChange:J=>{b(`MoTa.Title[${c}].Subtitle[${X}].Name`,J.target.value),d(X)},className:"w-full p-2 border border-gray-300 rounded-lg mb-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Tên Mục đề..."}),r.jsx("div",{onDragOver:x,onDragLeave:v,onDrop:J=>y(J,`MoTa.Title[${c}].Subtitle[${X}].Picture.Url`),className:"border border-dashed border-gray-300 rounded-lg p-3 text-center hover:border-purple-400 hover:bg-purple-50 transition-all duration-200 mb-3",children:(Q=V.Picture)!=null&&Q.Url?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:V.Picture.Url.preview?V.Picture.Url.preview:`data:image/jpeg;base64,${V.Picture.Url}`,alt:"Subtitle preview",className:"w-full h-16 object-cover rounded-lg"}),r.jsx("button",{type:"button",onClick:()=>k(c,X),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:r.jsx(st,{size:10})})]}):r.jsxs(r.Fragment,{children:[r.jsx(tm,{className:"mx-auto h-6 w-6 text-gray-400 mb-1"}),r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Kéo thả ảnh của mục đề này"}),r.jsx("input",{type:"file",accept:"image/*",onChange:J=>N(J,`MoTa.Title[${c}].Subtitle[${X}].Picture.Url`),className:"hidden",id:`subtitle-pic-${c}-${X}`}),r.jsx("label",{htmlFor:`subtitle-pic-${c}-${X}`,className:"text-purple-500 cursor-pointer hover:underline text-xs",children:"chọn file"})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-2 mb-3",children:r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("button",{type:"button",onClick:()=>{d(X),setTimeout(()=>_("bold"),0)},className:"p-1 bg-white rounded hover:bg-blue-100 transition-colors",title:"Bold",children:r.jsx(hL,{size:16})}),r.jsx("button",{type:"button",onClick:()=>{d(X),setTimeout(()=>_("italic"),0)},className:"p-1 bg-white rounded hover:bg-blue-100 transition-colors",title:"Italic",children:r.jsx(xL,{size:16})}),r.jsx("button",{type:"button",onClick:()=>{d(X),setTimeout(()=>_("underline"),0)},className:"p-1 bg-white rounded hover:bg-blue-100 transition-colors",title:"Underline",children:r.jsx(TL,{size:16})}),r.jsx("button",{type:"button",onClick:()=>{d(X),setTimeout(()=>_("h3"),0)},className:"p-1 bg-white rounded hover:bg-blue-100 transition-colors text-xs font-bold",title:"Heading",children:"H3"}),r.jsx("button",{type:"button",onClick:()=>{d(X),setTimeout(()=>_("center"),0)},className:"p-1 bg-white rounded hover:bg-blue-100 transition-colors",title:"Center",children:r.jsx(cL,{size:16})}),r.jsx("div",{className:"flex gap-1",children:["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff"].map(J=>r.jsx("button",{type:"button",onClick:()=>{d(X),setTimeout(()=>E(J),0)},className:"w-4 h-4 rounded border border-gray-300",style:{backgroundColor:J},title:`Color ${J}`},J))})]})}),r.jsx("textarea",{ref:u===X?g:null,value:((G=V.Description)==null?void 0:G.Content)||"",onChange:J=>{b(`MoTa.Title[${c}].Subtitle[${X}].Description.Content`,J.target.value),d(X)},onFocus:()=>d(X),rows:4,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none",placeholder:"Nhập mô tả chi tiết (có thể sử dụng HTML tags)..."})]},X)})]})]}),r.jsxs("div",{className:"text-center mt-8 flex justify-center gap-4",children:[r.jsx("button",{type:"button",onClick:s,className:"bg-gray-300 text-gray-800 px-12 py-4 rounded-2xl hover:bg-gray-400 transition-all duration-200 font-bold text-lg",children:"Hủy"}),r.jsx("button",{type:"button",onClick:w,disabled:f,className:`bg-gradient-to-r from-blue-600 to-purple-600 text-white px-12 py-4 rounded-2xl transition-all duration-200 font-bold text-lg shadow-xl transform hover:scale-105 ${f?"opacity-50 cursor-not-allowed":"hover:from-blue-700 hover:to-purple-700"}`,children:f?"Đang cập nhật...":"Cập nhật mô tả"})]})]})})},BRe=({promotionId:e,onClose:t})=>{const[n,s]=B.useState({promotionName:"",startDate:"",endDate:"",promotionImages:[],applyToAll:!1,discountPercentage:""}),[i,a]=B.useState(null),[o,c]=B.useState(!1),[l,u]=B.useState([]),[d,f]=B.useState([]),[h,m]=B.useState([]),[A,g]=B.useState([]),[p,b]=B.useState({}),[x,v]=B.useState({}),[y,N]=B.useState({}),[P,M]=B.useState({}),[k,D]=B.useState(""),[O,L]=B.useState(""),[F,_]=B.useState(!1),[E,T]=B.useState(!1),[w,C]=B.useState(!1),[j,S]=B.useState(!0),[I,R]=B.useState(!0),[U,z]=B.useState(null),[V,X]=B.useState(null),[$,W]=B.useState(!0),[H,Q]=B.useState(null);B.useEffect(()=>{(async()=>{var me,ve;try{W(!0);const _e=await fetch("https://bicacuatho.azurewebsites.net/api/KhuyenMai/ListKhuyenMaiAdmin");if(!_e.ok)throw new Error("Failed to fetch promotion");const Ue=(await _e.json()).find(Ne=>Ne.id===e);if(!Ue)throw new Error("Promotion not found");const Ee=Ue.ngayBatDau?new Date(Ue.ngayBatDau).toISOString().slice(0,16):"",Me=Ue.ngayKetThuc?new Date(Ue.ngayKetThuc).toISOString().slice(0,16):"";s({promotionName:Ue.tenKhuyenMai||"",startDate:Ee,endDate:Me,promotionImages:Ue.hinhAnh||[],applyToAll:Ue.percentChung!==null&&Ue.percentChung!==void 0,discountPercentage:Ue.percentChung?String(Ue.percentChung):""});const Ie=Ue.danhSachKhuyenMai.filter(Ne=>Ne.idSanPham).map(Ne=>({id:Ne.idSanPham,name:Ne.tenSanPhamCombo,price:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Ne.giaGoc),originalPrice:Ne.giaGoc,image:Ne.hinhAnh&&Ne.hinhAnh.length>0?Ne.hinhAnh[0]:"/api/placeholder/60/60"})),Ce=Ue.danhSachKhuyenMai.filter(Ne=>Ne.idCombo).map(Ne=>({id:Ne.idCombo,name:Ne.tenSanPhamCombo,price:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Ne.giaGoc),originalPrice:Ne.giaGoc,items:Ne.sanPhams?Ne.sanPhams.length:0,image:Ne.hinhAnh&&Ne.hinhAnh.length>0?Ne.hinhAnh[0]:"/api/placeholder/60/60"}));m(Ie),g(Ce);const Pe={},ge={};Ue.danhSachKhuyenMai.forEach(Ne=>{Ne.idSanPham?Pe[Ne.idSanPham]=String(Ne.percent||""):Ne.idCombo&&(ge[Ne.idCombo]=String(Ne.percent||""))}),b(Pe),v(ge),a({IdMoTa:Ue.id||"",MoTa:Ue.moTa?{Header:{Title:((me=Ue.moTa.header)==null?void 0:me.title)||""},Picture:Ue.moTa.Picture||[],Title:((ve=Ue.moTa.title)==null?void 0:ve.map(Ne=>{var ke,ze;return{Name:Ne.name||"",Picture:{Url:((ke=Ne.picture)==null?void 0:ke.url)||null},Subtitle:((ze=Ne.subtitle)==null?void 0:ze.map(Re=>{var Ve,rt;return{Name:Re.name||"",Description:{Content:((Ve=Re.description)==null?void 0:Ve.content)||""},Picture:{Url:((rt=Re.picture)==null?void 0:rt.url)||null}}}))||[{Name:"",Description:{Content:""},Picture:{Url:null}}]}}))||[{Name:"",Picture:{Url:null},Subtitle:[{Name:"",Description:{Content:""},Picture:{Url:null}}]}]}:{Header:{Title:""},Picture:[],Title:[{Name:"",Picture:{Url:null},Subtitle:[{Name:"",Description:{Content:""},Picture:{Url:null}}]}]}})}catch(_e){Q(_e.message)}finally{W(!1)}})()},[e]),B.useEffect(()=>{(async()=>{try{S(!0);const me=await fetch("https://bicacuatho.azurewebsites.net/api/SanPham/ListSanPham");if(!me.ok)throw new Error("Failed to fetch products");const _e=(await me.json()).map(Te=>({id:Te.id,name:Te.name,price:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Te.donGia),originalPrice:Te.donGia,image:Te.hinh&&Te.hinh.length>0?Te.hinh[0]:"/api/placeholder/60/60"}));u(_e)}catch(me){z(me.message)}finally{S(!1)}})()},[]),B.useEffect(()=>{(async()=>{try{R(!0);const me=await fetch("https://bicacuatho.azurewebsites.net/api/Combo/ComboSanPhamView");if(!me.ok)throw new Error("Failed to fetch combos");const _e=(await me.json()).map(Te=>({id:Te.maCombo,name:Te.name,price:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Te.gia),originalPrice:Te.gia,items:Te.sanPhams.length,image:Te.hinhAnh||"/api/placeholder/60/60"}));f(_e)}catch(me){X(me.message)}finally{R(!1)}})()},[]);const G=(he,me)=>{s(ve=>({...ve,[he]:me}))},J=he=>{he.preventDefault(),he.stopPropagation(),he.type==="dragenter"||he.type==="dragover"?C(!0):he.type==="dragleave"&&C(!1)},ee=he=>{if(he.preventDefault(),he.stopPropagation(),C(!1),he.dataTransfer.files&&he.dataTransfer.files.length>0){const me=Array.from(he.dataTransfer.files).filter(ve=>ve.type.startsWith("image/"));s(ve=>({...ve,promotionImages:[...ve.promotionImages,...me]}))}},K=he=>{const me=he.target.files;if(me&&me.length>0){const ve=Array.from(me).filter(_e=>_e.type.startsWith("image/"));s(_e=>({..._e,promotionImages:[..._e.promotionImages,...ve]}))}},ne=he=>{s(me=>({...me,promotionImages:me.promotionImages.filter((ve,_e)=>_e!==he)}))},ue=he=>{h.find(me=>me.id===he.id)||(m(me=>[...me,he]),b(me=>({...me,[he.id]:""}))),D(""),_(!1)},se=he=>{m(me=>me.filter(ve=>ve.id!==he)),b(me=>{const ve={...me};return delete ve[he],ve}),N(me=>{const ve={...me};return delete ve[he],ve})},ie=(he,me)=>{b(ve=>({...ve,[he]:me}))},q=(he,me)=>{const ve=parseFloat(me);isNaN(ve)||ve<0||ve>100?N(_e=>({..._e,[he]:"Phần trăm giảm giá phải từ 0 đến 100"})):N(_e=>{const Te={..._e};return delete Te[he],Te})},Z=he=>{A.find(me=>me.id===he.id)||(g(me=>[...me,he]),v(me=>({...me,[he.id]:""}))),L(""),T(!1)},te=he=>{g(me=>me.filter(ve=>ve.id!==he)),v(me=>{const ve={...me};return delete ve[he],ve}),M(me=>{const ve={...me};return delete ve[he],ve})},re=(he,me)=>{v(ve=>({...ve,[he]:me}))},Y=(he,me)=>{const ve=parseFloat(me);isNaN(ve)||ve<0||ve>100?M(_e=>({..._e,[he]:"Phần trăm giảm giá phải từ 0 đến 100"})):M(_e=>{const Te={..._e};return delete Te[he],Te})},oe=(he,me)=>{const ve=parseFloat(me);if(isNaN(ve)||ve<0||ve>100)return null;const _e=he*(1-ve/100);return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(_e)},ae=l.filter(he=>he.name.toLowerCase().includes(k.toLowerCase())),ce=d.filter(he=>he.name.toLowerCase().includes(O.toLowerCase())),de=()=>{c(!0)},pe=()=>{c(!1),a(null)},Ae=he=>new Promise((me,ve)=>{const _e=new FileReader;_e.onload=()=>{const Te=_e.result.split(",")[1];me(Te)},_e.onerror=Te=>ve(Te),_e.readAsDataURL(he)}),le=async()=>{try{if(!n.promotionName)throw new Error("Tên khuyến mãi là bắt buộc");if(!n.startDate)throw new Error("Thời gian bắt đầu là bắt buộc");if(!n.endDate)throw new Error("Thời gian kết thúc là bắt buộc");if(n.applyToAll&&!n.discountPercentage)throw new Error("Phần trăm giảm giá là bắt buộc khi áp dụng cho tất cả sản phẩm");const he=await Promise.all(n.promotionImages.filter(Te=>Te instanceof File).map(async Te=>await Ae(Te))),me={Id:e,TenKhuyenMai:n.promotionName,BatDau:n.startDate?new Date(n.startDate).toISOString().split("T")[0]:null,KetThuc:n.endDate?new Date(n.endDate).toISOString().split("T")[0]:null,PercentChung:n.applyToAll&&parseInt(n.discountPercentage)||null,Pictures:he.length>0?he:n.promotionImages,All:n.applyToAll,MoTa:i,ChiTiet:n.applyToAll?null:[...h.map(Te=>({IdSanPham:Te.id,IdCombo:null,TenSanPhamCombo:Te.name,GiaMoi:p[Te.id]?Te.originalPrice*(1-parseFloat(p[Te.id])/100):null,Percent:parseInt(p[Te.id])||null,GiaGoc:Te.originalPrice})),...A.map(Te=>({IdSanPham:null,IdCombo:Te.id,TenSanPhamCombo:Te.name,GiaMoi:x[Te.id]?Te.originalPrice*(1-parseFloat(x[Te.id])/100):null,Percent:parseInt(x[Te.id])||null,GiaGoc:Te.originalPrice}))]},ve=await fetch("https://bicacuatho.azurewebsites.net/api/KhuyenMai/KhuyenMaiUpdate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(me)});if(!ve.ok){const Te=await ve.json();we.fire({title:"Thất bại!",text:"Cập nhật thông tin khuyến mãi thất bại!",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}const _e=await ve.json();localStorage.removeItem("promotionDescription"),we.fire({title:"Thành công!",text:"Cập nhật thông tin khuyến mãi thành công!",icon:"success",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}),t()}catch(he){console.error("Error updating promotion:",he),we.fire({title:"Thất bại!",text:"Đã xảy ra lỗi"+he.message,icon:"success",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}),alert("Lỗi khi cập nhật khuyến mãi: "+he.message)}};return $?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):H?r.jsx("div",{className:"text-red-500 text-center",children:H}):r.jsxs("div",{className:"max-w-7xl mx-auto p-6 bg-white",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Chỉnh Sửa Khuyến Mãi"}),r.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Thông Tin Khuyến Mãi"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên Khuyến Mãi *"}),r.jsx("input",{type:"text",value:n.promotionName,onChange:he=>G("promotionName",he.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nhập tên khuyến mãi"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thời Gian Bắt Đầu *"}),r.jsx("input",{type:"datetime-local",value:n.startDate,onChange:he=>G("startDate",he.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thời Gian Kết Thúc *"}),r.jsx("input",{type:"datetime-local",value:n.endDate,onChange:he=>G("endDate",he.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{className:"mb-4",hidden:!0,children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hình Ảnh Khuyến Mãi"}),r.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-6 text-center transition-colors ${w?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:J,onDragLeave:J,onDragOver:J,onDrop:ee,children:[r.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:K,className:"hidden",id:"image-upload"}),n.promotionImages.length>0?r.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:n.promotionImages.map((he,me)=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:he instanceof File?URL.createObjectURL(he):`data:image/jpeg;base64,${he}`,alt:`promotion-image-${me}`,className:"w-24 h-24 object-cover rounded-md"}),r.jsx("button",{onClick:()=>ne(me),className:"absolute top-0 right-0 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:r.jsx(st,{className:"w-4 h-4"})})]},me))}):r.jsxs("div",{className:"space-y-2",children:[r.jsx(Wr,{className:"w-8 h-8 mx-auto text-gray-400"}),r.jsxs("div",{className:"text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Kéo thả hình ảnh vào đây"})," hoặc"," ",r.jsx("label",{htmlFor:"image-upload",className:"text-blue-500 cursor-pointer hover:text-blue-600",children:"chọn file"})]}),r.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG, GIF tối đa 10MB (Có thể chọn nhiều hình)"})]}),n.promotionImages.length>0&&r.jsxs("label",{htmlFor:"image-upload",className:"block mt-4 inline-flex items-center px-4 py-2 bg-blue-500 text-white rounded-md cursor-pointer hover:bg-blue-600",children:[r.jsx(mr,{className:"w-4 h-4 mr-2"})," Thêm hình ảnh"]})]})]}),r.jsx("div",{className:"mb-4",children:r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:n.applyToAll,onChange:he=>G("applyToAll",he.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Khuyến mãi cho tất cả sản phẩm"})]})}),n.applyToAll&&r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"% Khuyến Mãi Cho Tất Cả *"}),r.jsxs("div",{className:"relative w-48",children:[r.jsx("input",{type:"number",min:"0",max:"100",value:n.discountPercentage,onChange:he=>G("discountPercentage",he.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"}),r.jsx("span",{className:"absolute right-3 top-2 text-gray-500",children:"%"})]})]})]}),!n.applyToAll&&r.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Sản Phẩm"}),r.jsxs("div",{className:"relative mb-4",children:[r.jsx(Un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Tìm kiếm sản phẩm...",value:k,onChange:he=>{D(he.target.value),_(he.target.value.length>0)},onBlur:()=>setTimeout(()=>_(!1),200),onFocus:()=>_(k.length>0),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),j?r.jsx("p",{className:"text-gray-500 text-center py-4",children:"Đang tải sản phẩm..."}):U?r.jsxs("p",{className:"text-red-500 text-center py-4",children:["Lỗi: ",U]}):F&&ae.length>0?r.jsx("div",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-40 overflow-y-auto shadow-lg",children:ae.map(he=>r.jsxs("div",{onClick:()=>ue(he),className:"px-4 py-2 hover:bg-gray-100 cursor-pointer flex items-center space-x-2",children:[r.jsx("img",{src:`data:image/jpeg;base64,${he.image}`,alt:he.name,className:"w-6 h-6 rounded-md object-cover"}),r.jsx("span",{className:"text-sm",children:he.name})]},he.id))}):F&&r.jsx("p",{className:"text-gray-500 text-center py-4",children:"Không tìm thấy sản phẩm"})]}),r.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:h.length===0?r.jsx("p",{className:"text-gray-500 text-center py-8 text-sm",children:"Chưa có sản phẩm nào được chọn"}):h.map(he=>r.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[r.jsx("img",{src:`data:image/jpeg;base64,${he.image}`,alt:he.name,className:"w-10 h-10 rounded-md object-cover mr-3 flex-shrink-0"}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h4",{className:"font-medium text-gray-900 truncate text-sm",children:he.name}),r.jsxs("p",{className:"text-xs text-gray-600",children:["Giá gốc: ",r.jsx("span",{className:p[he.id]&&!y[he.id]?"line-through":"",children:he.price}),p[he.id]&&!y[he.id]&&r.jsx("span",{className:"ml-2 text-blue-600",children:oe(he.originalPrice,p[he.id])})]})]})]}),r.jsx("button",{onClick:()=>se(he.id),className:"p-1 text-red-500 hover:bg-red-50 rounded flex-shrink-0",children:r.jsx(st,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Giảm giá:"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",min:"0",max:"100",value:p[he.id]||"",onChange:me=>ie(he.id,me.target.value),onBlur:()=>q(he.id,p[he.id]),onKeyPress:me=>{me.key==="Enter"&&q(he.id,p[he.id])},className:`w-16 px-2 py-1 pr-6 border ${y[he.id]?"border-red-500":"border-gray-300"} rounded focus:outline-none focus:ring-1 focus:ring-blue-500 text-sm`,placeholder:"0"}),r.jsx("span",{className:"absolute right-2 top-1 text-gray-500 text-xs",children:"%"})]})]}),y[he.id]&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:y[he.id]})]},he.id))})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Combo"}),r.jsxs("div",{className:"relative mb-4",children:[r.jsx(Un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Tìm kiếm combo...",value:O,onChange:he=>{L(he.target.value),T(he.target.value.length>0)},onBlur:()=>setTimeout(()=>T(!1),200),onFocus:()=>T(O.length>0),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),I?r.jsx("p",{className:"text-gray-500 text-center py-4",children:"Đang tải combo..."}):V?r.jsxs("p",{className:"text-red-500 text-center py-4",children:["Lỗi: ",V]}):E&&ce.length>0?r.jsx("div",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-40 overflow-y-auto shadow-lg",children:ce.map(he=>r.jsxs("div",{onClick:()=>Z(he),className:"px-4 py-2 hover:bg-gray-100 cursor-pointer flex items-center space-x-2",children:[r.jsx("img",{src:`data:image/jpeg;base64,${he.image}`,alt:he.name,className:"w-6 h-6 rounded-md object-cover"}),r.jsx("span",{className:"text-sm",children:he.name})]},he.id))}):E&&r.jsx("p",{className:"text-gray-500 text-center py-4",children:"Không tìm thấy combo"})]}),r.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:A.length===0?r.jsx("p",{className:"text-gray-500 text-center py-8 text-sm",children:"Chưa có combo nào được chọn"}):A.map(he=>r.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[r.jsx("img",{src:`data:image/jpeg;base64,${he.image}`,alt:he.name,className:"w-10 h-10 rounded-md object-cover mr-3 flex-shrink-0"}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h4",{className:"font-medium text-gray-900 truncate text-sm",children:he.name}),r.jsxs("p",{className:"text-xs text-gray-600",children:["Giá gốc: ",r.jsx("span",{className:x[he.id]&&!P[he.id]?"line-through":"",children:he.price}),x[he.id]&&!P[he.id]&&r.jsx("span",{className:"ml-2 text-blue-600",children:oe(he.originalPrice,x[he.id])})]})]})]}),r.jsx("button",{onClick:()=>te(he.id),className:"p-1 text-red-500 hover:bg-red-50 rounded flex-shrink-0",children:r.jsx(st,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Giảm giá:"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",min:"0",max:"100",value:x[he.id]||"",onChange:me=>re(he.id,me.target.value),onBlur:()=>Y(he.id,x[he.id]),onKeyPress:me=>{me.key==="Enter"&&Y(he.id,x[he.id])},className:`w-16 px-2 py-1 pr-6 border ${P[he.id]?"border-red-500":"border-gray-300"} rounded focus:outline-none focus:ring-1 focus:ring-blue-500 text-sm`,placeholder:"0"}),r.jsx("span",{className:"absolute right-2 top-1 text-gray-500 text-xs",children:"%"})]})]}),P[he.id]&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:P[he.id]})]},he.id))})]})]}),o&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-7xl max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Chỉnh Sửa Mô Tả"}),r.jsx("button",{onClick:pe,className:"p-1 text-gray-500 hover:text-gray-700",children:r.jsx(st,{className:"w-6 h-6"})})]}),r.jsx(_Re,{promotionId:e,initialData:i,onSave:he=>{a(he),c(!1)},onCancel:pe})]})}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("button",{onClick:de,className:"flex items-center px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors",children:[r.jsx(CT,{className:"w-4 h-4 mr-2"}),"Chỉnh Sửa Mô Tả"]}),r.jsxs("div",{className:"space-x-3",children:[r.jsx("button",{className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",onClick:t,children:"Hủy"}),r.jsx("button",{className:"px-6 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",onClick:le,children:"Cập Nhật Khuyến Mãi"})]})]})]})},ERe=({promotion:e,onClose:t})=>{var k,D,O,L,F,_;const[n,s]=B.useState(0),[i,a]=B.useState(!1),[o,c]=B.useState(0),[l,u]=B.useState(!1),[d,f]=B.useState("overview"),h=E=>new Date(E).toLocaleDateString("vi-VN",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),m=(E,T)=>{const w=new Date,C=new Date(E),j=new Date(T);return w<C?{status:"upcoming",label:"Sắp diễn ra",color:"bg-blue-100 text-blue-800 border-blue-200",icon:xu,bgGradient:"from-blue-500 to-blue-600"}:w>j?{status:"expired",label:"Đã kết thúc",color:"bg-gray-100 text-gray-800 border-gray-200",icon:Xd,bgGradient:"from-gray-500 to-gray-600"}:{status:"active",label:"Đang diễn ra",color:"bg-green-100 text-green-800 border-green-200",icon:ra,bgGradient:"from-green-500 to-green-600"}},A=E=>{const T=new Date,C=new Date(E)-T;return Math.ceil(C/(1e3*60*60*24))},g=E=>E.percentChung!==null&&E.percentChung!==void 0?E.percentChung:!E.danhSachKhuyenMai||E.danhSachKhuyenMai.length===0?0:Math.max(...E.danhSachKhuyenMai.map(T=>T.percent)),p=E=>E.percentChung!==null&&E.percentChung!==void 0,b=E=>{if(!(e!=null&&e.hinhAnh))return;const T=e.hinhAnh.length-1;let w=n+E;w<0&&(w=T),w>T&&(w=0),s(w)},x=()=>{t&&t()};if(!e)return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50 flex items-center justify-center",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full mx-4 text-center",children:[r.jsx(hr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Không tìm thấy khuyến mãi"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Khuyến mãi có thể đã bị xóa hoặc không tồn tại"}),r.jsx("button",{onClick:x,className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:"Quay lại danh sách"})]})});const v=m(e.ngayBatDau,e.ngayKetThuc),y=A(e.ngayKetThuc),N=g(e),P=v.icon,M=[{key:"overview",label:"Tổng quan",icon:ST},{key:"products",label:"Sản phẩm",icon:hr},{key:"details",label:"Chi tiết",icon:dr}];return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50",children:[r.jsx("div",{className:"bg-white shadow-lg sticky top-0 z-40",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"flex items-center justify-between h-16",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{onClick:x,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:r.jsx(Nm,{className:"h-5 w-5 text-gray-600"})}),r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Chi tiết khuyến mãi"}),r.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${v.color}`,children:[r.jsx(P,{className:"h-4 w-4 inline mr-1"}),v.label]})]})})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden mb-8",children:[r.jsxs("div",{className:"relative",children:[e.hinhAnh&&e.hinhAnh.length>0&&r.jsxs("div",{className:"relative h-96 overflow-hidden",children:[r.jsx("img",{src:`data:image/jpeg;base64,${e.hinhAnh[n]}`,alt:e.tenKhuyenMai,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),e.hinhAnh.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>b(-1),className:"absolute left-4 top-1/2 transform -translate-y-1/2 p-3 bg-black/30 text-white rounded-full hover:bg-black/50 transition-colors backdrop-blur-sm",children:r.jsx(ss,{className:"h-6 w-6"})}),r.jsx("button",{onClick:()=>b(1),className:"absolute right-4 top-1/2 transform -translate-y-1/2 p-3 bg-black/30 text-white rounded-full hover:bg-black/50 transition-colors backdrop-blur-sm",children:r.jsx(jr,{className:"h-6 w-6"})}),r.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",children:e.hinhAnh.map((E,T)=>r.jsx("button",{onClick:()=>s(T),className:`w-3 h-3 rounded-full transition-colors ${T===n?"bg-white":"bg-white/50"}`},T))})]}),N>0&&r.jsx("div",{className:"absolute top-6 right-6 bg-gradient-to-r from-red-500 to-pink-500 text-white px-6 py-4 rounded-2xl shadow-lg transform rotate-3",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-3xl font-bold",children:["-",N,"%"]}),r.jsx("div",{className:"text-sm font-medium",children:p(e)?"Toàn bộ":"Tối đa"})]})}),r.jsx("div",{className:"absolute top-6 left-6",children:r.jsx("div",{className:`px-4 py-2 rounded-xl backdrop-blur-md border ${v.color} bg-white/20`,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(P,{className:"h-5 w-5"}),r.jsx("span",{className:"font-semibold",children:v.label})]})})})]}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8",children:r.jsxs("div",{className:"text-white",children:[r.jsx("h1",{className:"text-4xl font-bold mb-4 drop-shadow-lg",children:e.tenKhuyenMai}),((D=(k=e.moTa)==null?void 0:k.header)==null?void 0:D.title)&&r.jsx("p",{className:"text-xl text-white/90 drop-shadow mb-6",children:e.moTa.header.title}),r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsxs("div",{className:"flex items-center space-x-2 bg-black/30 px-4 py-2 rounded-lg backdrop-blur-sm",children:[r.jsx(ts,{className:"h-5 w-5"}),r.jsxs("span",{className:"font-medium",children:[h(e.ngayBatDau)," - ",h(e.ngayKetThuc)]})]}),r.jsxs("div",{className:"flex items-center space-x-2 bg-black/30 px-4 py-2 rounded-lg backdrop-blur-sm",children:[r.jsx(xu,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium",children:v.status==="expired"?`Đã kết thúc ${Math.abs(y)} ngày trước`:`${Math.abs(y)} ngày ${v.status==="active"?"còn lại":"nữa bắt đầu"}`})]})]})]})})]}),r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"flex space-x-8 px-8",children:M.map(E=>{const T=E.icon,w=d===E.key;return r.jsxs("button",{onClick:()=>f(E.key),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${w?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(T,{className:"h-4 w-4"}),r.jsx("span",{children:E.label})]},E.key)})})})]}),d==="overview"&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Thông tin tổng quan"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl",children:[r.jsx(Ew,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),r.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[N,"%"]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Giảm giá tối đa"})]}),r.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl",children:[r.jsx(hr,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:p(e)?"Tất cả":((O=e.danhSachKhuyenMai)==null?void 0:O.length)||0}),r.jsx("div",{className:"text-sm text-gray-600",children:"Sản phẩm"})]}),r.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-xl",children:[r.jsx(xu,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold text-green-600",children:Math.abs(y)}),r.jsx("div",{className:"text-sm text-gray-600",children:v.status==="expired"?"Ngày đã qua":"Ngày còn lại"})]}),r.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl",children:[r.jsx(Vr,{className:"h-8 w-8 text-orange-600 mx-auto mb-2"}),r.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:["#",e.id]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Mã khuyến mãi"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Loại khuyến mãi"}),r.jsx("div",{className:`p-6 rounded-xl border-2 ${p(e)?"bg-orange-50 border-orange-200":"bg-teal-50 border-teal-200"}`,children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:`p-3 rounded-xl ${p(e)?"bg-orange-100":"bg-teal-100"}`,children:r.jsx(Go,{className:`h-8 w-8 ${p(e)?"text-orange-600":"text-teal-600"}`})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:`text-xl font-bold ${p(e)?"text-orange-800":"text-teal-800"}`,children:p(e)?"Giảm giá toàn bộ sản phẩm":"Giảm giá theo sản phẩm"}),r.jsx("p",{className:`${p(e)?"text-orange-700":"text-teal-700"} mt-2`,children:p(e)?`Tất cả sản phẩm và combo trong cửa hàng được giảm giá ${e.percentChung}%`:`Chỉ áp dụng cho ${((L=e.danhSachKhuyenMai)==null?void 0:L.length)||0} sản phẩm và combo được chọn`})]})]})})]})]}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Thời gian khuyến mãi"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(dee,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-900",children:"Bắt đầu"}),r.jsx("div",{className:"text-gray-600",children:h(e.ngayBatDau)})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:r.jsx(iee,{className:"h-5 w-5 text-red-600"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-900",children:"Kết thúc"}),r.jsx("div",{className:"text-gray-600",children:h(e.ngayKetThuc)})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Hành động"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{className:"w-full bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[r.jsx(dr,{className:"h-4 w-4"}),r.jsx("span",{children:"Xem trước"})]}),r.jsxs("button",{className:"w-full bg-yellow-600 text-white px-4 py-3 rounded-lg hover:bg-yellow-700 transition-colors flex items-center justify-center space-x-2",children:[r.jsx(nm,{className:"h-4 w-4"}),r.jsx("span",{children:"Chỉnh sửa"})]}),r.jsxs("button",{className:"w-full bg-red-600 text-white px-4 py-3 rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center space-x-2",children:[r.jsx(za,{className:"h-4 w-4"}),r.jsx("span",{children:"Xóa khuyến mãi"})]})]})]})]})]}),d==="products"&&r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Sản phẩm khuyến mãi"}),p(e)?r.jsx("div",{className:"text-center py-12",children:r.jsxs("div",{className:"p-6 bg-orange-50 rounded-2xl border-2 border-orange-200 max-w-md mx-auto",children:[r.jsx(Go,{className:"h-16 w-16 text-orange-600 mx-auto mb-4"}),r.jsx("h4",{className:"text-2xl font-bold text-orange-800 mb-2",children:"Áp dụng toàn bộ"}),r.jsxs("p",{className:"text-orange-700",children:["Tất cả sản phẩm và combo trong cửa hàng được giảm giá ",e.percentChung,"%"]})]})}):r.jsx(r.Fragment,{children:e.danhSachKhuyenMai&&e.danhSachKhuyenMai.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.danhSachKhuyenMai.map((E,T)=>{var w,C,j;return r.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 hover:shadow-lg transition-shadow",children:[(w=E.hinhAnh)!=null&&w[0]?r.jsx("img",{src:`data:image/jpeg;base64,${E.hinhAnh[0]}`,alt:E.tenSanPhamCombo,className:"w-full h-48 object-cover rounded-xl mb-4"}):r.jsx("div",{className:"w-full h-48 bg-gray-200 rounded-xl mb-4 flex items-center justify-center",children:r.jsx(tm,{className:"h-12 w-12 text-gray-400"})}),r.jsx("h4",{className:"font-bold text-gray-900 mb-2 line-clamp-2",children:E.tenSanPhamCombo}),r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${E.idCombo?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:E.idCombo?"Combo":"Sản phẩm"}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-sm text-gray-500 line-through",children:[(C=E.giaGoc)==null?void 0:C.toLocaleString(),"đ"]}),r.jsxs("div",{className:"font-bold text-green-600",children:[(j=E.giaMoi)==null?void 0:j.toLocaleString(),"đ"]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"bg-red-100 text-red-800 px-3 py-1 rounded-full",children:[r.jsx(Xee,{className:"h-4 w-4 inline mr-1"}),"-",E.percent,"%"]}),r.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",E.idSanPham||E.idCombo]})]})]},T)})}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(hr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),r.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Chưa có sản phẩm"}),r.jsx("p",{className:"text-gray-600",children:"Khuyến mãi này chưa có sản phẩm nào được áp dụng"})]})})]}),d==="details"&&r.jsxs("div",{className:"space-y-8",children:[e.moTa&&r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Thông tin chi tiết"}),((F=e.moTa.header)==null?void 0:F.title)&&r.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border border-purple-200",children:[r.jsx("h4",{className:"text-lg font-semibold text-purple-800 mb-3",children:"Mô tả chính"}),r.jsx("p",{className:"text-purple-700 text-lg",children:e.moTa.header.title})]}),e.moTa.Picture&&e.moTa.Picture.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Hình ảnh bổ sung"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.moTa.Picture.map((E,T)=>r.jsxs("div",{className:"relative group rounded-xl overflow-hidden",children:[r.jsx("img",{src:`data:image/jpeg;base64,${E.url}`,alt:`Hình ảnh ${T+1}`,className:"w-full h-64 object-cover transition-transform group-hover:scale-105"}),r.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:r.jsx(wL,{className:"h-6 w-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},T))})]}),e.moTa.title&&e.moTa.title.length>0&&r.jsxs("div",{className:"space-y-8",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Nội dung chi tiết"}),e.moTa.title.map((E,T)=>{var w;return r.jsxs("div",{className:"border-l-4 border-purple-500 pl-6 py-4 bg-gray-50 rounded-r-xl",children:[r.jsx("h5",{className:"text-xl font-bold text-gray-900 mb-4",children:E.name}),((w=E.picture)==null?void 0:w.url)&&r.jsx("div",{className:"mb-6",children:r.jsx("img",{src:`data:image/jpeg;base64,${E.picture.url}`,alt:E.name,className:"w-full max-w-md h-48 object-cover rounded-xl shadow-md"})}),E.subtitle&&E.subtitle.length>0&&r.jsx("div",{className:"space-y-6",children:E.subtitle.map((C,j)=>{var S,I;return r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[r.jsx("h6",{className:"text-lg font-semibold text-gray-800 mb-3",children:C.name}),((S=C.picture)==null?void 0:S.url)&&r.jsx("div",{className:"mb-4",children:r.jsx("img",{src:`data:image/jpeg;base64,${C.picture.url}`,alt:C.name,className:"w-full max-w-sm h-40 object-cover rounded-lg"})}),((I=C.description)==null?void 0:I.content)&&r.jsx("div",{className:"prose prose-gray max-w-none",children:r.jsx("p",{className:"text-gray-700 leading-relaxed",children:C.description.content})})]},j)})})]},T)})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Thông tin kỹ thuật"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"ID Khuyến mãi"}),r.jsxs("span",{className:"font-mono text-purple-600",children:["#",e.id]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Loại khuyến mãi"}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${p(e)?"bg-orange-100 text-orange-800":"bg-teal-100 text-teal-800"}`,children:p(e)?"Toàn bộ":"Đơn lẻ"})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Trạng thái"}),r.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${v.color}`,children:[r.jsx(P,{className:"h-4 w-4 inline mr-1"}),v.label]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Số sản phẩm"}),r.jsx("span",{className:"font-semibold text-blue-600",children:p(e)?"Tất cả":((_=e.danhSachKhuyenMai)==null?void 0:_.length)||0})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Giảm giá tối đa"}),r.jsxs("span",{className:"font-semibold text-red-600",children:[N,"%"]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Thời gian diễn ra"}),r.jsxs("span",{className:"font-semibold text-green-600",children:[Math.ceil((new Date(e.ngayKetThuc)-new Date(e.ngayBatDau))/(1e3*60*60*24))," ngày"]})]})]})]})]})]}),r.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-8 right-8 p-3 bg-purple-600 text-white rounded-full shadow-lg hover:bg-purple-700 transition-colors z-30",children:r.jsx(Xl,{className:"h-5 w-5"})})]})]})},mI=()=>{var ne,ue;const[e,t]=B.useState([]),[n,s]=B.useState(!0),[i,a]=B.useState(null),[o,c]=B.useState(""),[l,u]=B.useState("active"),[d,f]=B.useState(1),[h,m]=B.useState("all"),[A,g]=B.useState(!1),[p,b]=B.useState({}),[x,v]=B.useState(!1),[y,N]=B.useState(!1),[P,M]=B.useState(!1),[k,D]=B.useState(null),[O,L]=B.useState(null),F=6,_=async()=>{try{a(null);const se=await fetch("https://bicacuatho.azurewebsites.net/api/KhuyenMai/ListKhuyenMaiAdmin");if(!se.ok)throw new Error(`HTTP error! status: ${se.status}`);const ie=await se.json();console.log(ie),t(ie);const q={};ie.forEach(Z=>{q[Z.id]=0}),b(q)}catch(se){a(se.message),console.error("Error fetching data:",se)}finally{s(!1),g(!1)}};B.useEffect(()=>{_()},[]),B.useEffect(()=>{f(1)},[l,h,o]);const E=()=>{g(!0),_()},T=se=>new Date(se).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),w=(se,ie)=>{const q=new Date,Z=new Date(se),te=new Date(ie);return q<Z?{status:"upcoming",label:"Sắp diễn ra",color:"bg-blue-100 text-blue-800"}:q>te?{status:"expired",label:"Đã kết thúc",color:"bg-gray-100 text-gray-800"}:{status:"active",label:"Đang diễn ra",color:"bg-green-100 text-green-800"}},C=se=>{const ie=new Date,Z=new Date(se)-ie;return Math.ceil(Z/(1e3*60*60*24))},j=se=>se.percentChung!==null&&se.percentChung!==void 0?se.percentChung:!se.danhSachKhuyenMai||se.danhSachKhuyenMai.length===0?0:Math.max(...se.danhSachKhuyenMai.map(ie=>ie.percent)),S=se=>se.percentChung!==null&&se.percentChung!==void 0?"Giảm giá toàn bộ sản phẩm":"Giảm giá theo sản phẩm",I=se=>se.percentChung!==null&&se.percentChung!==void 0,R=(se,ie)=>{b(q=>{var Y;const Z=((Y=e.find(oe=>oe.id===se))==null?void 0:Y.danhSachKhuyenMai)||[],te=Math.ceil(Z.length/3);let re=q[se]+ie;return re<0&&(re=0),re>=te&&(re=te-1),{...q,[se]:re}})},U=se=>e.filter(ie=>!(w(ie.ngayBatDau,ie.ngayKetThuc).status!==se||!ie.tenKhuyenMai.toLowerCase().includes(o.toLowerCase())||h==="general"&&!I(ie)||h==="specific"&&I(ie))).sort((ie,q)=>{const Z=j(ie);return j(q)-Z}),z=se=>{const ie=(d-1)*F,q=ie+F;return se.slice(ie,q)},V=se=>Math.ceil(se/F),X=se=>{f(se),window.scrollTo({top:0,behavior:"smooth"})},$=[{key:"active",label:"Đang diễn ra",icon:ra,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-500",activeTabBg:"bg-green-500",count:U("active").length},{key:"upcoming",label:"Sắp diễn ra",icon:xu,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-500",activeTabBg:"bg-blue-500",count:U("upcoming").length},{key:"expired",label:"Đã kết thúc",icon:Xd,color:"text-gray-600",bgColor:"bg-gray-50",borderColor:"border-gray-500",activeTabBg:"bg-gray-500",count:U("expired").length}],W=U(l),H=z(W),Q=V(W.length),G=()=>{v(!x)},J=se=>{D(se),N(!y)},ee=se=>{L(se),M(!P)},K=({currentPage:se,totalPages:ie,onPageChange:q})=>{if(ie<=1)return null;const Z=()=>{const re=[],Y=[];for(let oe=Math.max(2,se-2);oe<=Math.min(ie-1,se+2);oe++)re.push(oe);return se-2>2?Y.push(1,"..."):Y.push(1),Y.push(...re),se+2<ie-1?Y.push("...",ie):Y.push(ie),Y};return r.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-8",children:[r.jsx("button",{onClick:()=>q(se-1),disabled:se===1,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(ss,{className:"h-4 w-4"})}),Z().map((te,re)=>r.jsx("button",{onClick:()=>typeof te=="number"&&q(te),disabled:te==="...",className:`px-3 py-2 rounded-lg ${te===se?"bg-purple-600 text-white":te==="..."?"cursor-default text-gray-400":"border border-gray-300 hover:bg-gray-50"}`,children:te},re)),r.jsx("button",{onClick:()=>q(se+1),disabled:se===ie,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(jr,{className:"h-4 w-4"})})]})};return n?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 flex items-center justify-center",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"}),r.jsx("p",{className:"text-gray-600",children:"Đang tải danh sách khuyến mãi..."})]})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50",children:[r.jsx("div",{className:"bg-white shadow-lg",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Quản lý khuyến mãi"}),r.jsx("button",{onClick:E,disabled:A,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors disabled:opacity-50",children:r.jsx(Xc,{className:`h-5 w-5 text-gray-600 ${A?"animate-spin":""}`})})]}),r.jsxs("button",{onClick:G,className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2",children:[r.jsx(mr,{className:"h-4 w-4"}),r.jsx("span",{children:"Tạo khuyến mãi mới"})]})]})})}),x&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-7xl w-full max-h-[90vh] overflow-y-auto relative",children:[r.jsx("button",{onClick:G,className:"absolute top-4 right-4 p-2 text-gray-600 hover:bg-gray-100 rounded-full",children:r.jsx(st,{className:"h-6 w-6"})}),r.jsx(kRe,{})]})}),y&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-7xl w-full max-h-[90vh] overflow-y-auto relative",children:[r.jsx("button",{onClick:()=>J(null),className:"absolute top-4 right-4 p-2 text-gray-600 hover:bg-gray-100 rounded-full",children:r.jsx(st,{className:"h-6 w-6"})}),r.jsx(BRe,{promotionId:k,onClose:()=>J(null)})]})}),P&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-7xl w-full max-h-[90vh] overflow-y-auto relative",children:[r.jsx("button",{onClick:()=>ee(null),className:"absolute top-4 right-4 p-2 text-gray-600 hover:bg-gray-100 rounded-full",children:r.jsx(st,{className:"h-6 w-6"})}),r.jsx(ERe,{promotion:O})]})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Tổng số khuyến mãi"})]}),$.map(se=>{const ie=se.icon;return r.jsxs("div",{className:`text-center p-4 ${se.bgColor} rounded-lg`,children:[r.jsx("div",{className:`text-2xl font-bold ${se.color}`,children:se.count}),r.jsxs("div",{className:"text-sm text-gray-600 flex items-center justify-center space-x-1",children:[r.jsx(ie,{className:"h-4 w-4"}),r.jsx("span",{children:se.label})]})]},se.key)})]})}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Tìm kiếm khuyến mãi...",value:o,onChange:se=>c(se.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Zd,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Loại giảm giá:"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>m("all"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${h==="all"?"bg-purple-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Tất cả"}),r.jsx("button",{onClick:()=>m("general"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${h==="general"?"bg-orange-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Toàn bộ"}),r.jsx("button",{onClick:()=>m("specific"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${h==="specific"?"bg-teal-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Đơn lẻ"})]})]})]}),(o||h!=="all")&&r.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Đang lọc:"}),o&&r.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:['Tìm kiếm: "',o,'"']}),h!=="all"&&r.jsxs("span",{className:`px-2 py-1 rounded-full text-sm ${h==="general"?"bg-orange-100 text-orange-800":"bg-teal-100 text-teal-800"}`,children:["Loại: ",h==="general"?"Toàn bộ":"Đơn lẻ"]}),r.jsx("button",{onClick:()=>{c(""),m("all")},className:"text-sm text-gray-500 hover:text-gray-700 underline",children:"Xóa bộ lọc"})]})})]}),i&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-8",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-red-800",children:[r.jsx(qZ,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium",children:"Lỗi tải dữ liệu:"})]}),r.jsx("p",{className:"text-red-700 mt-1",children:i}),r.jsx("button",{onClick:E,className:"mt-3 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Thử lại"})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg mb-8",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"flex space-x-8 px-6",children:$.map(se=>{const ie=se.icon,q=l===se.key;return r.jsxs("button",{onClick:()=>u(se.key),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${q?`${se.borderColor} ${se.color}`:"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(ie,{className:"h-4 w-4"}),r.jsx("span",{children:se.label}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${q?`${se.activeTabBg} text-white`:"bg-gray-100 text-gray-600"}`,children:se.count})]},se.key)})})}),r.jsxs("div",{className:"p-6",children:[W.length>0&&r.jsx("div",{className:"flex items-center justify-between mb-6",children:Q>1&&r.jsxs("div",{className:"text-sm text-gray-600",children:["Trang ",d," / ",Q]})}),H.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(hr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:o||h!=="all"?"Không tìm thấy khuyến mãi":`Chưa có khuyến mãi ${(ne=$.find(se=>se.key===l))==null?void 0:ne.label.toLowerCase()}`}),r.jsx("p",{className:"text-gray-600 mb-6",children:o||h!=="all"?"Thử thay đổi từ khóa tìm kiếm hoặc bộ lọc":`Chưa có chương trình khuyến mãi nào ${(ue=$.find(se=>se.key===l))==null?void 0:ue.label.toLowerCase()}`}),!o&&h==="all"&&l==="active"&&r.jsxs("button",{onClick:G,className:"bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2 mx-auto",children:[r.jsx(mr,{className:"h-4 w-4"}),r.jsx("span",{children:"Tạo khuyến mãi mới"})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:H.map(se=>{var ae,ce,de,pe;const ie=w(se.ngayBatDau,se.ngayKetThuc),q=C(se.ngayKetThuc),Z=j(se),te=S(se),re=se.percentChung?"Tất cả":((ae=se.danhSachKhuyenMai)==null?void 0:ae.length)||0,Y=p[se.id]||0,oe=((ce=se.danhSachKhuyenMai)==null?void 0:ce.slice(Y*3,(Y+1)*3))||[];return r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-shadow overflow-hidden border-l-4 border-purple-500 flex flex-col",children:[se.hinhAnh&&r.jsxs("div",{className:"relative h-64 overflow-hidden",children:[r.jsx("img",{src:`data:image/jpeg;base64,${se.hinhAnh[0]}`,alt:se.tenKhuyenMai,className:"w-full max-h-80 object-cover",onError:Ae=>{Ae.target.style.display="none"}}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent max-h-80"}),Z>0&&r.jsxs("div",{className:"absolute top-4 right-4 bg-red-500 text-white px-4 py-2 rounded-lg text-center shadow-lg",children:[r.jsxs("div",{className:"text-xl font-bold",children:["-",Z,"%"]}),r.jsx("div",{className:"text-xs",children:se.percentChung!==null?"Toàn bộ":"Tối đa"})]}),r.jsx("div",{className:"absolute top-4 left-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium backdrop-blur-sm ${ie.color} bg-opacity-90`,children:ie.label})})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:se.tenKhuyenMai}),!se.hinhAnh&&r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${ie.color}`,children:ie.label})]}),((pe=(de=se.moTa)==null?void 0:de.header)==null?void 0:pe.title)&&r.jsx("p",{className:"text-gray-600 mb-3",children:se.moTa.header.title}),r.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[r.jsx(Ew,{className:"h-4 w-4 text-purple-600"}),r.jsx("span",{className:"text-sm font-medium text-purple-600",children:te}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${I(se)?"bg-orange-100 text-orange-800":"bg-teal-100 text-teal-800"}`,children:I(se)?"Toàn bộ":"Đơn lẻ"})]})]}),!se.hinhAnh&&Z>0&&r.jsxs("div",{className:"bg-red-500 text-white px-3 py-2 rounded-lg text-center",children:[r.jsxs("div",{className:"text-lg font-bold",children:["-",Z,"%"]}),r.jsx("div",{className:"text-xs",children:se.percentChung!==null?"Toàn bộ":"Tối đa"})]})]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-blue-50 rounded-lg",children:[r.jsx(ts,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Thời gian"}),r.jsxs("p",{className:"font-medium text-gray-900 text-sm",children:[T(se.ngayBatDau)," - ",T(se.ngayKetThuc)]})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[r.jsx(hr,{className:"h-5 w-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Sản phẩm và Combo"}),r.jsxs("p",{className:"font-medium text-gray-900",children:["Áp dụng cho: ",re," đối tượng"]})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-purple-50 rounded-lg",children:[r.jsx(Vr,{className:"h-5 w-5 text-purple-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:ie.status==="active"?"Còn lại":ie.status==="upcoming"?"Bắt đầu sau":"Đã kết thúc"}),r.jsx("p",{className:"font-medium text-gray-900",children:ie.status==="expired"?`${Math.abs(q)} ngày trước`:`${Math.abs(q)} ngày`})]})]})]}),re>0&&!se.percentChung&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Sản phẩm và Combo khuyến mãi:"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[Array.from(new Set(se.danhSachKhuyenMai.map(Ae=>Ae.tenSanPhamCombo))).slice(0,3).map((Ae,le)=>r.jsx("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm",children:Ae},le)),Array.from(new Set(se.danhSachKhuyenMai.map(Ae=>Ae.tenSanPhamCombo))).length>3&&r.jsxs("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm",children:["+",Array.from(new Set(se.danhSachKhuyenMai.map(Ae=>Ae.tenSanPhamCombo))).length-3," khác"]})]})]}),se.percentChung&&r.jsxs("div",{className:"mb-6 p-4 bg-purple-50 rounded-lg border border-purple-200",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Vr,{className:"h-5 w-5 text-purple-600"}),r.jsx("h4",{className:"font-medium text-purple-800",children:"Áp dụng cho toàn bộ sản phẩm và combo"})]}),r.jsxs("p",{className:"text-sm text-purple-700",children:["Tất cả sản phẩm và combo trong cửa hàng được giảm giá ",se.percentChung,"%"]})]}),re!=="Tất cả"&&se.danhSachKhuyenMai&&se.danhSachKhuyenMai.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Danh sách sản phẩm và combo:"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:oe.map((Ae,le)=>{var he;return r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[(he=Ae.hinhAnh)!=null&&he[0]?r.jsx("img",{src:`data:image/jpeg;base64,${Ae.hinhAnh[0]}`,alt:Ae.tenSanPhamCombo,className:"w-full h-32 object-cover rounded-md mb-3",onError:me=>{me.target.style.display="none"}}):r.jsx("div",{className:"w-full h-32 bg-gray-200 rounded-md mb-3 flex items-center justify-center",children:r.jsx("span",{className:"text-gray-500",children:"Không có hình ảnh"})}),r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:Ae.tenSanPhamCombo}),r.jsxs("p",{className:"text-xs text-gray-600",children:[Ae.idCombo?"Combo":"Sản phẩm"," ",Ae.idSanPham||Ae.idCombo]})]},le)})}),se.danhSachKhuyenMai.length>3&&r.jsxs("div",{className:"flex justify-between mt-4",children:[r.jsx("button",{onClick:()=>R(se.id,-1),disabled:Y===0,className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200 disabled:opacity-50",children:r.jsx(ss,{className:"h-5 w-5 text-gray-600"})}),r.jsx("button",{onClick:()=>R(se.id,1),disabled:Y>=Math.ceil(se.danhSachKhuyenMai.length/3)-1,className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200 disabled:opacity-50",children:r.jsx(jr,{className:"h-5 w-5 text-gray-600"})})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 mt-auto",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",se.id]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>ee(se),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:r.jsx(dr,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>J(se.id),className:"p-2 text-yellow-600 hover:bg-yellow-50 rounded-lg transition-colors",children:r.jsx(nm,{className:"h-4 w-4"})}),r.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:r.jsx(za,{className:"h-4 w-4"})})]})]})]})]},se.id)})}),r.jsx(K,{currentPage:d,totalPages:Q,onPageChange:X})]})]})]})]})]})},PRe=()=>{var v,y,N,P,M,k;const{id:e}=Mm(),t=gr(),[n,s]=B.useState(null),[i,a]=B.useState([]),[o,c]=B.useState(!0),[l,u]=B.useState("products");B.useEffect(()=>{e&&d(e)},[e]);const d=async D=>{try{c(!0);const O=await fetch(`https://bicacuatho.azurewebsites.net/api/KhuyenMai/ListKhuyenMaiUser?id=${D}`);if(!O.ok)throw new Error("Failed to fetch promotion data");const L=await O.json();s(L[0]);const F=L[0].danhSachKhuyenMai.map(async E=>{const T={...E};if(E.idSanPham)try{const w=E.idSanPham.split("_")[0],C=await fetch(`https://bicacuatho.azurewebsites.net/api/SanPham/SanPhamByIDSorted?id=${w}`);C.ok&&(T.productDetails=await C.json(),console.log(T.productDetails))}catch(w){console.error(`Error fetching product details for ${E.idSanPham}:`,w)}if(E.idCombo)try{const w=await fetch(`https://bicacuatho.azurewebsites.net/api/Combo/ComboSanPhamView?id=${E.idCombo}`);w.ok&&(T.comboDetails=await w.json())}catch(w){console.error(`Error fetching combo details for ${E.idCombo}:`,w)}return T}),_=await Promise.all(F);a(_)}catch(O){console.error("Error fetching promotion data:",O)}finally{c(!1)}},f=D=>new Date(D).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),h=D=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(D),m=(D,O)=>D*(100-O)/100,A=D=>({ff0000:"Đỏ",ff00ff:"Hồng","000000":"Đen","0C06F5":"Xanh dương",ffffff:"Trắng","00ff00":"Xanh lá",ffff00:"Vàng",ffa500:"Cam"})[D.toLowerCase()]||"Không xác định",g=D=>{const O=[],L=[];return D.forEach(F=>{F.idSanPham?O.push(F):F.idCombo&&L.push(F)}),{products:O,combos:L}};if(o)return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 flex items-center justify-center",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"}),r.jsx("p",{className:"text-gray-600",children:"Đang tải thông tin khuyến mãi..."})]})});if(!n)return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Không tìm thấy thông tin khuyến mãi"}),r.jsx("p",{className:"text-gray-600",children:"Vui lòng thử lại sau"}),r.jsx("button",{onClick:()=>t(-1),className:"mt-4 bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:"Quay lại"})]})});const{products:p,combos:b}=g(i),x=Math.max(...i.map(D=>D.percent));return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50",children:[r.jsx("div",{className:"bg-white shadow-lg sticky top-0 z-50",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:r.jsx(Nm,{className:"h-5 w-5 text-gray-600"})}),r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Chi tiết khuyến mãi"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:r.jsx(di,{className:"h-5 w-5 text-gray-600"})}),r.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:r.jsx(wee,{className:"h-5 w-5 text-gray-600"})})]})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden mb-8",children:[r.jsxs("div",{className:"relative h-64 bg-gradient-to-r from-purple-600 via-pink-600 to-orange-500",children:[n.hinhAnh&&n.hinhAnh.length>0&&r.jsx("img",{src:n.hinhAnh[0].startsWith("data:")?n.hinhAnh[0]:`data:image/jpeg;base64,${n.hinhAnh[0]}`,alt:n.tenKhuyenMai,className:"absolute inset-0 w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40"}),r.jsx("div",{className:"relative h-full flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-white",children:[r.jsx("h1",{className:"text-4xl font-bold mb-2",children:n.tenKhuyenMai}),((y=(v=n.moTa)==null?void 0:v.header)==null?void 0:y.title)&&r.jsx("p",{className:"text-xl opacity-90",children:n.moTa.header.title})]})})]}),r.jsx("div",{className:"p-8",children:r.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-green-50 rounded-xl",children:[r.jsx(ts,{className:"h-8 w-8 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Thời gian"}),r.jsxs("p",{className:"font-semibold text-gray-900",children:[f(n.ngayBatDau)," - ",f(n.ngayKetThuc)]})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-50 rounded-xl",children:[r.jsx(Vr,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Số đối tượng"}),r.jsxs("p",{className:"font-semibold text-gray-900",children:[p.length," sản phẩm, ",b.length," combo"]})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-purple-50 rounded-xl",children:[r.jsx(Ew,{className:"h-8 w-8 text-purple-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Giảm giá"}),r.jsx("p",{className:"font-semibold text-gray-900",children:n.percentChung?`${n.percentChung}%`:`Lên đến ${x}%`})]})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg mb-8",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsxs("nav",{className:"flex space-x-8 px-8",children:[r.jsxs("button",{onClick:()=>u("products"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${l==="products"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(hr,{className:"inline h-4 w-4 mr-2"}),"Sản phẩm & Combo khuyến mãi (",p.length+b.length,")"]}),r.jsx("button",{onClick:()=>u("details"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${l==="details"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Mô tả chi tiết"})]})}),r.jsxs("div",{className:"p-8",children:[l==="products"&&r.jsxs("div",{className:"space-y-8",children:[p.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[r.jsx(hr,{className:"h-6 w-6 mr-2 text-blue-600"}),"Sản phẩm khuyến mãi (",p.length,")"]}),r.jsx("div",{className:"space-y-6",children:p.map((D,O)=>r.jsx("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"w-full max-w-md",children:r.jsx("img",{src:D.hinhAnh&&D.hinhAnh.length>0?D.hinhAnh[0].startsWith("data:")?D.hinhAnh[0]:`data:image/jpeg;base64,${D.hinhAnh[0]}`:"/placeholder-image.png",alt:D.tenSanPhamCombo,className:"w-full h-80 object-cover rounded-lg shadow-md",onError:L=>{const F=L.target;F.src="/placeholder-image.png"}})})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:D.tenSanPhamCombo}),r.jsxs("span",{className:"bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm font-medium",children:["-",D.percent,"%"]})]})}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:h(m(D.giaGoc,D.percent))}),r.jsx("p",{className:"text-lg text-gray-500 line-through",children:h(D.giaGoc)}),r.jsxs("p",{className:"text-sm text-green-600 font-medium",children:["Tiết kiệm: ",h(D.giaGoc-m(D.giaGoc,D.percent))]})]}),D.productDetails&&D.productDetails.length>0&&r.jsx("div",{className:"space-y-4",children:D.productDetails.map((L,F)=>r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("div",{className:"grid md:grid-cols-1 gap-4 mb-4",children:r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[r.jsx("span",{className:"font-medium",children:"Thương hiệu:"})," ",L.maThuongHieu]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[r.jsx("span",{className:"font-medium",children:"Chất liệu:"})," ",L.chatLieu]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[r.jsx("span",{className:"font-medium",children:"Màu sắc:"})," ",A(L.mauSac)]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Loại:"})," ",L.loaiSanPham]})]})}),r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Kích thước có sẵn:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:L.details.map((_,E)=>r.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg px-3 py-2",children:[r.jsx("span",{className:"font-medium",children:_.kichThuoc.trim()}),r.jsxs("span",{className:"text-gray-500 text-sm ml-2",children:["(",_.soLuong," còn lại)"]})]},E))})]}),L.listHashTag&&L.listHashTag.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Tags:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:L.listHashTag.map((_,E)=>r.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs",children:["#",_.name]},E))})]}),r.jsx("div",{className:"flex justify-between items-center",children:r.jsxs("span",{className:"text-xs text-gray-500",children:["ID: ",D.idSanPham]})})]},F))}),r.jsx("div",{className:"mt-4",children:r.jsxs(ct,{to:`/products/${D.idSanPham}`,className:"inline-flex items-center justify-center w-full max-w-xs bg-gradient-to-r from-pink-400 via-pink-500 to-purple-500 text-white px-6 py-4 rounded-2xl text-lg font-semibold transition-all duration-300 transform hover:scale-105 hover:shadow-2xl shadow-xl hover:from-transparent hover:via-transparent hover:to-transparent hover:bg-white hover:text-purple-600 border-2 border-transparent hover:border-purple-500",children:[r.jsx(dr,{className:"w-4 h-4 mr-2"}),"Đi đến trang chi tiết"]})})]})]})},O))})]}),b.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[r.jsx(Vr,{className:"h-6 w-6 mr-2 text-green-600"}),"Combo khuyến mãi (",b.length,")"]}),r.jsx("div",{className:"space-y-6",children:b.map((D,O)=>r.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:D.tenSanPhamCombo}),r.jsxs("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:["-",D.percent,"% combo"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-2xl font-bold text-green-600",children:h(m(D.giaGoc,D.percent))}),r.jsx("p",{className:"text-lg text-gray-500 line-through",children:h(D.giaGoc)})]})]}),D.comboDetails&&D.comboDetails.length>0&&r.jsx("div",{className:"space-y-4",children:D.comboDetails.map((L,F)=>r.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h5",{className:"text-lg font-semibold text-gray-800",children:L.name}),L.hinhAnh&&r.jsx("img",{src:L.hinhAnh.startsWith("data:")?L.hinhAnh:`data:image/jpeg;base64,${L.hinhAnh}`,alt:L.name,className:"w-16 h-16 object-cover rounded-lg"})]}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:L.sanPhams.map((_,E)=>r.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("h6",{className:"font-medium text-gray-900",children:_.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:[_.thuongHieu," • ",_.loaiSanPham]})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Chất liệu:"}),r.jsx("span",{className:"font-medium",children:_.chatLieu})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Số lượng:"}),r.jsx("span",{className:"font-medium",children:_.soLuong})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Đơn giá:"}),r.jsx("span",{className:"font-medium text-blue-600",children:h(_.donGia)})]})]}),r.jsxs("div",{className:"mt-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Kích thước:"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:_.kichThuoc.map((T,w)=>r.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs",children:T},w))})]}),r.jsxs("div",{className:"mt-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Màu sắc:"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:_.mauSac.map((T,w)=>r.jsx("div",{className:"flex items-center space-x-1",children:r.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:`#${T}`}})},w))})]})]},E))}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsxs("span",{className:"text-xs text-gray-500",children:["Combo ID: ",D.idCombo]}),r.jsxs(ct,{to:`/combos/${D.idCombo}`,className:"inline-flex items-center justify-center bg-gradient-to-r from-pink-400 via-pink-500 to-purple-500 text-white px-6 py-4 rounded-2xl text-lg font-semibold transition-all duration-300 transform hover:scale-105 hover:shadow-2xl shadow-xl hover:from-transparent hover:via-transparent hover:to-transparent hover:bg-white hover:text-purple-600 border-2 border-transparent hover:border-purple-500 w-full max-w-xs",children:[r.jsx(dr,{className:"w-4 h-4 mr-2"}),"Đi đến trang chi tiết"]})]})]},F))})]},O))})]})]}),l==="details"&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Mô tả chi tiết"}),r.jsxs("div",{className:"prose max-w-none",children:[(P=(N=n.moTa)==null?void 0:N.title)==null?void 0:P.map((D,O)=>{var L,F;return r.jsxs("div",{className:"mb-8",children:[r.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-4",children:D.name}),((L=D.picture)==null?void 0:L.url)&&r.jsx("div",{className:"mb-6",children:r.jsx("img",{src:D.picture.url.startsWith("data:")?D.picture.url:`data:image/jpeg;base64,${D.picture.url}`,alt:D.name,className:"w-full max-w-2xl mx-auto rounded-lg shadow-lg"})}),(F=D.subtitle)==null?void 0:F.map((_,E)=>{var T;return r.jsxs("div",{className:"mb-6",children:[r.jsx("h5",{className:"text-lg font-medium text-gray-800 mb-3",children:_.name}),((T=_.picture)==null?void 0:T.url)&&r.jsx("div",{className:"mb-4",children:r.jsx("img",{src:_.picture.url.startsWith("data:")?_.picture.url:`data:image/jpeg;base64,${_.picture.url}`,alt:_.name,className:"w-full max-w-lg mx-auto rounded-lg shadow-md"})}),r.jsx("div",{className:"prose prose-lg text-gray-700 leading-relaxed",dangerouslySetInnerHTML:{__html:_.description.content}})]},E)})]},O)}),(k=(M=n.moTa)==null?void 0:M.Picture)==null?void 0:k.map((D,O)=>r.jsx("div",{className:"mb-6",children:r.jsx("img",{src:D.url.startsWith("data:")?D.url:`data:image/jpeg;base64,${D.url}`,alt:`Promotion image ${O+1}`,className:"w-full max-w-2xl mx-auto rounded-lg shadow-lg"})},O))]})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl shadow-xl p-8 text-center text-white",children:[r.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Đừng bỏ lỡ cơ hội này!"}),r.jsxs("p",{className:"text-lg mb-6 opacity-90",children:["Chương trình khuyến mãi này sẽ kết thúc vào ngày ",f(n.ngayKetThuc)]}),r.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:r.jsxs("button",{onClick:()=>t("/products"),className:"bg-white text-purple-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors flex items-center justify-center",children:[r.jsx(dr,{className:"w-5 h-5 mr-2"}),"Xem tất cả sản phẩm"]})})]})]})]})},MRe=()=>{const{setAuth:e}=a1(),t=Bs(),n=gr(),{toast:s}=Uu(),i=B.useRef(!1);return B.useEffect(()=>{const a=new URLSearchParams(t.search),o=a.get("token"),c=a.get("userId");if(!o||!c||i.current)return;i.current=!0;const l=a.get("email")||"",u=a.get("name")||"",d=parseInt(a.get("role")||"0",10),f=d===1?"admin":d===2?"staff":"Người Dùng";(async()=>{try{const m={maNguoiDung:c,email:l,fullName:u,vaiTro:d,role:f};localStorage.setItem("token",o),localStorage.setItem("user",JSON.stringify(m)),e(o,m);const A=d===1?"/admin":d===2?"/staff":"/";window.history.replaceState({},"",A),window.dispatchEvent(new Event("storage")),setTimeout(()=>{s({title:"Đăng nhập Google thành công 🎉",description:"Chào mừng bạn quay trở lại!",duration:3e3,className:"bg-green-500 text-white border border-green-700 shadow-lg"}),n(A)},200)}catch(m){console.error("Lỗi Google callback:",m),s({title:"Đăng nhập Google thất bại!",description:m.message||"Có lỗi xảy ra khi đăng nhập với Google.",variant:"destructive",duration:3e3}),i.current=!1}})()},[t.search,e,n,s]),null},DRe=new Dse,IRe=()=>r.jsx(kue,{children:r.jsx(Lie,{children:r.jsx(Ose,{client:DRe,children:r.jsx(xF,{children:r.jsxs(voe,{children:[r.jsx(MRe,{}),r.jsxs(_ie,{children:[r.jsxs(ht,{path:"/",element:r.jsx(Fde,{}),children:[r.jsx(ht,{index:!0,element:r.jsx(MAe,{})}),r.jsx(ht,{path:"products",element:r.jsx(vge,{})}),r.jsx(ht,{path:"products/:id",element:r.jsx(_xe,{})}),r.jsx(ht,{path:"combos",element:r.jsx(Wxe,{})}),r.jsx(ht,{path:"combos/:id",element:r.jsx(Jxe,{})}),r.jsx(ht,{path:"blogs",element:r.jsx(tbe,{})}),r.jsx(ht,{path:"blogs/:slug",element:r.jsx(vRe,{})}),r.jsx(ht,{path:"voucher/*",element:r.jsx(i$,{})}),r.jsx(ht,{path:"favorites",element:r.jsx(nbe,{})}),r.jsx(ht,{path:"personalpromotions",element:r.jsx(s$,{})}),r.jsx(ht,{path:"contact",element:r.jsx(Dbe,{})}),r.jsx(ht,{path:"about",element:r.jsx(Ibe,{})}),r.jsx(ht,{path:"auth/login",element:r.jsx(Lbe,{})}),r.jsx(ht,{path:"auth/register",element:r.jsx(Rbe,{})}),r.jsx(ht,{path:"auth/forgot-password",element:r.jsx(yye,{})}),r.jsx(ht,{path:"user/profile",element:r.jsx(i4e,{})}),r.jsx(ht,{path:"user/cart",element:r.jsx(m4e,{})}),r.jsx(ht,{path:"user/checkout",element:r.jsx(S4e,{})}),r.jsx(ht,{path:"user/orders",element:r.jsx(p6e,{})}),r.jsx(ht,{path:"user/messages",element:r.jsx(q6e,{})}),r.jsx(ht,{path:"user/profile/:userId",element:r.jsx($6e,{})}),r.jsx(ht,{path:"/PaymentSuccess",element:r.jsx(N9e,{})}),r.jsx(ht,{path:"/PaymentFail",element:r.jsx(S9e,{})}),r.jsx(ht,{path:"user/diachi",element:r.jsx(MV,{})}),r.jsx(ht,{path:"user/diachicart",element:r.jsx(kk,{})}),r.jsx(ht,{path:"hero",element:r.jsx(IU,{})}),r.jsx(ht,{path:"newsletter",element:r.jsx(BH,{})}),r.jsx(ht,{path:"features",element:r.jsx(EH,{})}),r.jsx(ht,{path:"testing",element:r.jsx(T9e,{})}),r.jsx(ht,{path:"/user/hoadon/:orderId",element:r.jsx(N6e,{})}),r.jsx(ht,{path:"/user/hoadon",element:r.jsx(Z6e,{})}),r.jsx(ht,{path:"/user/CheckOutInstant",element:r.jsx(wRe,{})}),r.jsx(ht,{path:"security",element:r.jsx(jRe,{})}),r.jsx(ht,{path:"guarantee",element:r.jsx(CRe,{})}),r.jsx(ht,{path:"search",element:r.jsx($R,{})}),r.jsx(ht,{path:"diachitime",element:r.jsx(IV,{})}),r.jsx(ht,{path:"KhuyenMais",element:r.jsx(SRe,{})}),r.jsx(ht,{path:"KhuyenMais/:id",element:r.jsx(PRe,{})})]}),r.jsxs(ht,{path:"/staff",element:r.jsx(EB,{role:"staff"}),children:[r.jsx(ht,{index:!0,element:r.jsx(Ix,{})}),r.jsx(ht,{path:"events",element:r.jsx(mI,{})}),r.jsx(ht,{path:"orders",element:r.jsx(Ix,{})}),r.jsx(ht,{path:"inventory",element:r.jsx(wP,{})}),r.jsx(ht,{path:"hashtag",element:r.jsx(aI,{})}),r.jsx(ht,{path:"inventory/form",element:r.jsx(sBe,{})}),r.jsx(ht,{path:"purchase-orders/form",element:r.jsx(jP,{})}),r.jsx(ht,{path:"products/form",element:r.jsx(CP,{})}),r.jsx(ht,{path:"shipping/form",element:r.jsx(NP,{})}),r.jsx(ht,{path:"orders/form",element:r.jsx(SP,{})}),r.jsx(ht,{path:"invoices",element:r.jsx(YM,{})}),r.jsx(ht,{path:"blog",element:r.jsx(nD,{})}),r.jsx(ht,{path:"contact",element:r.jsx(ZM,{})}),r.jsx(ht,{path:"messages",element:r.jsx(fI,{})}),r.jsx(ht,{path:"loaisanpham",element:r.jsx(iI,{})}),r.jsx(ht,{path:"products",element:r.jsx(nI,{})}),r.jsx(ht,{path:"profile",element:r.jsx(hI,{})}),r.jsx(ht,{path:"buy",element:r.jsx(vP,{})}),r.jsx(ht,{path:"combos",element:r.jsx(rI,{})}),r.jsx(ht,{path:"thuonghieu",element:r.jsx(sI,{})})]}),r.jsxs(ht,{path:"/admin",element:r.jsx(EB,{role:"admin"}),children:[r.jsx(ht,{index:!0,element:r.jsx(bDe,{})}),r.jsx(ht,{path:"buy",element:r.jsx(vP,{})}),r.jsx(ht,{path:"users",element:r.jsx(NDe,{})}),r.jsx(ht,{path:"staff",element:r.jsx(SDe,{})}),r.jsx(ht,{path:"settings",element:r.jsx(LDe,{})}),r.jsx(ht,{path:"orders",element:r.jsx(Ix,{})}),r.jsx(ht,{path:"events",element:r.jsx(mI,{})}),r.jsx(ht,{path:"orders",element:r.jsx(Ix,{})}),r.jsx(ht,{path:"invoices",element:r.jsx(YM,{})}),r.jsx(ht,{path:"statistics",element:r.jsx(FDe,{})}),r.jsx(ht,{path:"products",element:r.jsx(nI,{})}),r.jsx(ht,{path:"blog",element:r.jsx(nD,{})}),r.jsx(ht,{path:"inventory",element:r.jsx(wP,{})}),r.jsx(ht,{path:"combos",element:r.jsx(rI,{})}),r.jsx(ht,{path:"thuonghieu",element:r.jsx(sI,{})}),r.jsx(ht,{path:"loaisanpham",element:r.jsx(iI,{})}),r.jsx(ht,{path:"hashtag",element:r.jsx(aI,{})}),r.jsx(ht,{path:"profile",element:r.jsx(hI,{})}),r.jsx(ht,{path:"purchase-orders/form",element:r.jsx(jP,{})}),r.jsx(ht,{path:"products/form",element:r.jsx(CP,{})}),r.jsx(ht,{path:"shipping/form",element:r.jsx(NP,{})}),r.jsx(ht,{path:"orders/form",element:r.jsx(SP,{})}),r.jsx(ht,{path:"invoice/form",element:r.jsx(fBe,{})}),r.jsx(ht,{path:"contact",element:r.jsx(ZM,{})}),r.jsx(ht,{path:"messages",element:r.jsx(fI,{})})]}),r.jsx(ht,{path:"*",element:r.jsx(DAe,{})})]}),r.jsx(UL,{}),r.jsx(Tne,{})]})})})})});Nt.create({baseURL:"http://localhost:8080"});Nt.interceptors.request.use(e=>{const t=localStorage.getItem("token");return console.log("Token in interceptor:",t),t?(e.headers.Authorization=`Bearer ${t}`,console.log("Authorization header set:",e.headers.Authorization)):console.warn("No token found in localStorage"),e},e=>(console.error("Interceptor request error:",e),Promise.reject(e)));Nt.interceptors.response.use(e=>e,e=>{var t,n,s;return console.error("API error:",(t=e.response)==null?void 0:t.config.url,(n=e.response)==null?void 0:n.status),((s=e.response)==null?void 0:s.status)===401&&window.location.pathname!=="/auth/login"&&(ir({title:"Phiên đăng nhập hết hạn!",description:"Vui lòng đăng nhập lại.",variant:"destructive",duration:3e3}),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/auth/login"),Promise.reject(e)});GC.createRoot(document.getElementById("root")).render(r.jsx(je.StrictMode,{children:r.jsxs(qte,{defaultTheme:"light",attribute:"class",children:[r.jsx(IRe,{}),r.jsx(UL,{})]})}));

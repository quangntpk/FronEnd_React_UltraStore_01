var tR=Object.defineProperty;var vN=n=>{throw TypeError(n)};var nR=(n,t,e)=>t in n?tR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var bt=(n,t,e)=>nR(n,typeof t!="symbol"?t+"":t,e),zb=(n,t,e)=>t.has(n)||vN("Cannot "+e);var Ye=(n,t,e)=>(zb(n,t,"read from private field"),e?e.call(n):t.get(n)),Kn=(n,t,e)=>t.has(n)?vN("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),yn=(n,t,e,s)=>(zb(n,t,"write to private field"),s?s.call(n,e):t.set(n,e),e),Es=(n,t,e)=>(zb(n,t,"access private method"),e);var kp=(n,t,e,s)=>({set _(a){yn(n,t,a,e)},get _(){return Ye(n,t,s)}});import{r as k,a as ro,R as Ne,b as I2,c as Gf,g as Td,d as an}from"./vendor-DRd396Ms.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function e(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=e(a);fetch(a.href,i)}})();var M_={exports:{}},ex={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rR=k,sR=Symbol.for("react.element"),aR=Symbol.for("react.fragment"),iR=Object.prototype.hasOwnProperty,oR=rR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lR={key:!0,ref:!0,__self:!0,__source:!0};function P_(n,t,e){var s,a={},i=null,o=null;e!==void 0&&(i=""+e),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)iR.call(t,s)&&!lR.hasOwnProperty(s)&&(a[s]=t[s]);if(n&&n.defaultProps)for(s in t=n.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:sR,type:n,key:i,ref:o,props:a,_owner:oR.current}}ex.Fragment=aR;ex.jsx=P_;ex.jsxs=P_;M_.exports=ex;var r=M_.exports,qy={},D_,yN=ro;D_=qy.createRoot=yN.createRoot,qy.hydrateRoot=yN.hydrateRoot;const cR=3,dR=5e3;let Kb=0;function uR(){return Kb=(Kb+1)%Number.MAX_SAFE_INTEGER,Kb.toString()}const Gb=new Map,wN=n=>{if(Gb.has(n))return;const t=setTimeout(()=>{Gb.delete(n),_f({type:"REMOVE_TOAST",toastId:n})},dR);Gb.set(n,t)},hR=(n,t)=>{switch(t.type){case"ADD_TOAST":return{...n,toasts:[t.toast,...n.toasts].slice(0,cR)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{const{toastId:e}=t;return e?wN(e):n.toasts.forEach(s=>{wN(s.id)}),{...n,toasts:n.toasts.map(s=>s.id===e||e===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(e=>e.id!==t.toastId)}}},qA=[];let WA={toasts:[]};function _f(n){WA=hR(WA,n),qA.forEach(t=>{t(WA)})}function Tn({...n}){const t=uR(),e=a=>_f({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>_f({type:"DISMISS_TOAST",toastId:t});return _f({type:"ADD_TOAST",toast:{...n,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:e}}Tn.success=n=>Tn({variant:"default",title:n,className:"bg-green-50 border-green-200 text-green-800"});Tn.error=n=>Tn({variant:"destructive",title:n,className:"bg-red-50 border-red-200 text-red-800"});Tn.warning=n=>Tn({variant:"default",title:n,className:"bg-yellow-50 border-yellow-200 text-yellow-800"});Tn.info=n=>Tn({variant:"default",title:n,className:"bg-blue-50 border-blue-200 text-blue-800"});function ac(){const[n,t]=k.useState(WA);return k.useEffect(()=>(qA.push(t),()=>{const e=qA.indexOf(t);e>-1&&qA.splice(e,1)}),[n]),{...n,toast:Tn,dismiss:e=>_f({type:"DISMISS_TOAST",toastId:e})}}function tt(n,t,{checkForDefaultPrevented:e=!0}={}){return function(a){if(n==null||n(a),e===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function jN(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function Fm(...n){return t=>{let e=!1;const s=n.map(a=>{const i=jN(a,t);return!e&&typeof i=="function"&&(e=!0),i});if(e)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():jN(n[a],null)}}}}function cn(...n){return k.useCallback(Fm(...n),n)}function fR(n,t){const e=k.createContext(t),s=i=>{const{children:o,...c}=i,l=k.useMemo(()=>c,Object.values(c));return r.jsx(e.Provider,{value:l,children:o})};s.displayName=n+"Provider";function a(i){const o=k.useContext(e);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${n}\``)}return[s,a]}function ks(n,t=[]){let e=[];function s(i,o){const c=k.createContext(o),l=e.length;e=[...e,o];const d=f=>{var b;const{scope:h,children:m,...A}=f,g=((b=h==null?void 0:h[n])==null?void 0:b[l])||c,p=k.useMemo(()=>A,Object.values(A));return r.jsx(g.Provider,{value:p,children:m})};d.displayName=i+"Provider";function u(f,h){var g;const m=((g=h==null?void 0:h[n])==null?void 0:g[l])||c,A=k.useContext(m);if(A)return A;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=e.map(o=>k.createContext(o));return function(c){const l=(c==null?void 0:c[n])||i;return k.useMemo(()=>({[`__scope${n}`]:{...c,[n]:l}}),[c,l])}};return a.scopeName=n,[s,mR(a,...t)]}function mR(...n){const t=n[0];if(n.length===1)return t;const e=()=>{const s=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((c,{useScope:l,scopeName:d})=>{const f=l(i)[`__scope${d}`];return{...c,...f}},{});return k.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return e.scopeName=t.scopeName,e}function Xl(n){const t=pR(n),e=k.forwardRef((s,a)=>{const{children:i,...o}=s,c=k.Children.toArray(i),l=c.find(gR);if(l){const d=l.props.children,u=c.map(f=>f===l?k.Children.count(d)>1?k.Children.only(null):k.isValidElement(d)?d.props.children:null:f);return r.jsx(t,{...o,ref:a,children:k.isValidElement(d)?k.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:a,children:i})});return e.displayName=`${n}.Slot`,e}var kd=Xl("Slot");function pR(n){const t=k.forwardRef((e,s)=>{const{children:a,...i}=e;if(k.isValidElement(a)){const o=bR(a),c=xR(i,a.props);return a.type!==k.Fragment&&(c.ref=s?Fm(s,o):o),k.cloneElement(a,c)}return k.Children.count(a)>1?k.Children.only(null):null});return t.displayName=`${n}.SlotClone`,t}var I_=Symbol("radix.slottable");function AR(n){const t=({children:e})=>r.jsx(r.Fragment,{children:e});return t.displayName=`${n}.Slottable`,t.__radixId=I_,t}function gR(n){return k.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===I_}function xR(n,t){const e={...t};for(const s in t){const a=n[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?e[s]=(...c)=>{const l=i(...c);return a(...c),l}:a&&(e[s]=a):s==="style"?e[s]={...a,...i}:s==="className"&&(e[s]=[a,i].filter(Boolean).join(" "))}return{...n,...e}}function bR(n){var s,a;let t=(s=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:s.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}function _d(n){const t=n+"CollectionProvider",[e,s]=ks(t),[a,i]=e(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:p,children:b}=g,x=Ne.useRef(null),v=Ne.useRef(new Map).current;return r.jsx(a,{scope:p,itemMap:v,collectionRef:x,children:b})};o.displayName=t;const c=n+"CollectionSlot",l=Xl(c),d=Ne.forwardRef((g,p)=>{const{scope:b,children:x}=g,v=i(c,b),y=cn(p,v.collectionRef);return r.jsx(l,{ref:y,children:x})});d.displayName=c;const u=n+"CollectionItemSlot",f="data-radix-collection-item",h=Xl(u),m=Ne.forwardRef((g,p)=>{const{scope:b,children:x,...v}=g,y=Ne.useRef(null),S=cn(p,y),M=i(u,b);return Ne.useEffect(()=>(M.itemMap.set(y,{ref:y,...v}),()=>void M.itemMap.delete(y))),r.jsx(h,{[f]:"",ref:S,children:x})});m.displayName=u;function A(g){const p=i(n+"CollectionConsumer",g);return Ne.useCallback(()=>{const x=p.collectionRef.current;if(!x)return[];const v=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(p.itemMap.values()).sort((M,P)=>v.indexOf(M.ref.current)-v.indexOf(P.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:o,Slot:d,ItemSlot:m},A,s]}var vR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Nt=vR.reduce((n,t)=>{const e=Xl(`Primitive.${t}`),s=k.forwardRef((a,i)=>{const{asChild:o,...c}=a,l=o?e:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(l,{...c,ref:i})});return s.displayName=`Primitive.${t}`,{...n,[t]:s}},{});function qf(n,t){n&&ro.flushSync(()=>n.dispatchEvent(t))}function Hr(n){const t=k.useRef(n);return k.useEffect(()=>{t.current=n}),k.useMemo(()=>(...e)=>{var s;return(s=t.current)==null?void 0:s.call(t,...e)},[])}function yR(n,t=globalThis==null?void 0:globalThis.document){const e=Hr(n);k.useEffect(()=>{const s=a=>{a.key==="Escape"&&e(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[e,t])}var wR="DismissableLayer",Wy="dismissableLayer.update",jR="dismissableLayer.pointerDownOutside",CR="dismissableLayer.focusOutside",CN,O_=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ic=k.forwardRef((n,t)=>{const{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:c,...l}=n,d=k.useContext(O_),[u,f]=k.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=k.useState({}),A=cn(t,P=>f(P)),g=Array.from(d.layers),[p]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(p),x=u?g.indexOf(u):-1,v=d.layersWithOutsidePointerEventsDisabled.size>0,y=x>=b,S=SR(P=>{const B=P.target,D=[...d.branches].some(L=>L.contains(B));!y||D||(a==null||a(P),o==null||o(P),P.defaultPrevented||c==null||c())},h),M=TR(P=>{const B=P.target;[...d.branches].some(L=>L.contains(B))||(i==null||i(P),o==null||o(P),P.defaultPrevented||c==null||c())},h);return yR(P=>{x===d.layers.size-1&&(s==null||s(P),!P.defaultPrevented&&c&&(P.preventDefault(),c()))},h),k.useEffect(()=>{if(u)return e&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(CN=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),NN(),()=>{e&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=CN)}},[u,h,e,d]),k.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),NN())},[u,d]),k.useEffect(()=>{const P=()=>m({});return document.addEventListener(Wy,P),()=>document.removeEventListener(Wy,P)},[]),r.jsx(Nt.div,{...l,ref:A,style:{pointerEvents:v?y?"auto":"none":void 0,...n.style},onFocusCapture:tt(n.onFocusCapture,M.onFocusCapture),onBlurCapture:tt(n.onBlurCapture,M.onBlurCapture),onPointerDownCapture:tt(n.onPointerDownCapture,S.onPointerDownCapture)})});ic.displayName=wR;var NR="DismissableLayerBranch",L_=k.forwardRef((n,t)=>{const e=k.useContext(O_),s=k.useRef(null),a=cn(t,s);return k.useEffect(()=>{const i=s.current;if(i)return e.branches.add(i),()=>{e.branches.delete(i)}},[e.branches]),r.jsx(Nt.div,{...n,ref:a})});L_.displayName=NR;function SR(n,t=globalThis==null?void 0:globalThis.document){const e=Hr(n),s=k.useRef(!1),a=k.useRef(()=>{});return k.useEffect(()=>{const i=c=>{if(c.target&&!s.current){let l=function(){F_(jR,e,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=l,t.addEventListener("click",a.current,{once:!0})):l()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,e]),{onPointerDownCapture:()=>s.current=!0}}function TR(n,t=globalThis==null?void 0:globalThis.document){const e=Hr(n),s=k.useRef(!1);return k.useEffect(()=>{const a=i=>{i.target&&!s.current&&F_(CR,e,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,e]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function NN(){const n=new CustomEvent(Wy);document.dispatchEvent(n)}function F_(n,t,e,{discrete:s}){const a=e.originalEvent.target,i=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:e});t&&a.addEventListener(n,t,{once:!0}),s?qf(a,i):a.dispatchEvent(i)}var kR=ic,_R=L_,Fr=globalThis!=null&&globalThis.document?k.useLayoutEffect:()=>{},BR="Portal",Zu=k.forwardRef((n,t)=>{var c;const{container:e,...s}=n,[a,i]=k.useState(!1);Fr(()=>i(!0),[]);const o=e||a&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?I2.createPortal(r.jsx(Nt.div,{...s,ref:t}),o):null});Zu.displayName=BR;function ER(n,t){return k.useReducer((e,s)=>t[e][s]??e,n)}var hs=n=>{const{present:t,children:e}=n,s=MR(t),a=typeof e=="function"?e({present:s.isPresent}):k.Children.only(e),i=cn(s.ref,PR(a));return typeof e=="function"||s.isPresent?k.cloneElement(a,{ref:i}):null};hs.displayName="Presence";function MR(n){const[t,e]=k.useState(),s=k.useRef(null),a=k.useRef(n),i=k.useRef("none"),o=n?"mounted":"unmounted",[c,l]=ER(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const d=_p(s.current);i.current=c==="mounted"?d:"none"},[c]),Fr(()=>{const d=s.current,u=a.current;if(u!==n){const h=i.current,m=_p(d);n?l("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?l("UNMOUNT"):l(u&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=n}},[n,l]),Fr(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=m=>{const g=_p(s.current).includes(CSS.escape(m.animationName));if(m.target===t&&g&&(l("ANIMATION_END"),!a.current)){const p=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=p)})}},h=m=>{m.target===t&&(i.current=_p(s.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:k.useCallback(d=>{s.current=d?getComputedStyle(d):null,e(d)},[])}}function _p(n){return(n==null?void 0:n.animationName)||"none"}function PR(n){var s,a;let t=(s=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:s.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}var DR=Gf[" useInsertionEffect ".trim().toString()]||Fr;function wa({prop:n,defaultProp:t,onChange:e=()=>{},caller:s}){const[a,i,o]=IR({defaultProp:t,onChange:e}),c=n!==void 0,l=c?n:a;{const u=k.useRef(n!==void 0);k.useEffect(()=>{const f=u.current;f!==c&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=c},[c,s])}const d=k.useCallback(u=>{var f;if(c){const h=OR(u)?u(n):u;h!==n&&((f=o.current)==null||f.call(o,h))}else i(u)},[c,n,i,o]);return[l,d]}function IR({defaultProp:n,onChange:t}){const[e,s]=k.useState(n),a=k.useRef(e),i=k.useRef(t);return DR(()=>{i.current=t},[t]),k.useEffect(()=>{var o;a.current!==e&&((o=i.current)==null||o.call(i,e),a.current=e)},[e,a]),[e,s,i]}function OR(n){return typeof n=="function"}var R_=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),LR="VisuallyHidden",tx=k.forwardRef((n,t)=>r.jsx(Nt.span,{...n,ref:t,style:{...R_,...n.style}}));tx.displayName=LR;var U_=tx,O2="ToastProvider",[L2,FR,RR]=_d("Toast"),[H_,xBe]=ks("Toast",[RR]),[UR,nx]=H_(O2),$_=n=>{const{__scopeToast:t,label:e="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=n,[c,l]=k.useState(null),[d,u]=k.useState(0),f=k.useRef(!1),h=k.useRef(!1);return e.trim()||console.error(`Invalid prop \`label\` supplied to \`${O2}\`. Expected non-empty \`string\`.`),r.jsx(L2.Provider,{scope:t,children:r.jsx(UR,{scope:t,label:e,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:c,onViewportChange:l,onToastAdd:k.useCallback(()=>u(m=>m+1),[]),onToastRemove:k.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};$_.displayName=O2;var Q_="ToastViewport",HR=["F8"],Xy="toast.viewportPause",Yy="toast.viewportResume",V_=k.forwardRef((n,t)=>{const{__scopeToast:e,hotkey:s=HR,label:a="Notifications ({hotkey})",...i}=n,o=nx(Q_,e),c=FR(e),l=k.useRef(null),d=k.useRef(null),u=k.useRef(null),f=k.useRef(null),h=cn(t,f,o.onViewportChange),m=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=o.toastCount>0;k.useEffect(()=>{const p=b=>{var v;s.length!==0&&s.every(y=>b[y]||b.code===y)&&((v=f.current)==null||v.focus())};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[s]),k.useEffect(()=>{const p=l.current,b=f.current;if(A&&p&&b){const x=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(Xy);b.dispatchEvent(M),o.isClosePausedRef.current=!0}},v=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(Yy);b.dispatchEvent(M),o.isClosePausedRef.current=!1}},y=M=>{!p.contains(M.relatedTarget)&&v()},S=()=>{p.contains(document.activeElement)||v()};return p.addEventListener("focusin",x),p.addEventListener("focusout",y),p.addEventListener("pointermove",x),p.addEventListener("pointerleave",S),window.addEventListener("blur",x),window.addEventListener("focus",v),()=>{p.removeEventListener("focusin",x),p.removeEventListener("focusout",y),p.removeEventListener("pointermove",x),p.removeEventListener("pointerleave",S),window.removeEventListener("blur",x),window.removeEventListener("focus",v)}}},[A,o.isClosePausedRef]);const g=k.useCallback(({tabbingDirection:p})=>{const x=c().map(v=>{const y=v.ref.current,S=[y,...eU(y)];return p==="forwards"?S:S.reverse()});return(p==="forwards"?x.reverse():x).flat()},[c]);return k.useEffect(()=>{const p=f.current;if(p){const b=x=>{var S,M,P;const v=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!v){const B=document.activeElement,D=x.shiftKey;if(x.target===p&&D){(S=d.current)==null||S.focus();return}const F=g({tabbingDirection:D?"backwards":"forwards"}),_=F.findIndex(E=>E===B);qb(F.slice(_+1))?x.preventDefault():D?(M=d.current)==null||M.focus():(P=u.current)==null||P.focus()}};return p.addEventListener("keydown",b),()=>p.removeEventListener("keydown",b)}},[c,g]),r.jsxs(_R,{ref:l,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:A?void 0:"none"},children:[A&&r.jsx(Jy,{ref:d,onFocusFromOutsideViewport:()=>{const p=g({tabbingDirection:"forwards"});qb(p)}}),r.jsx(L2.Slot,{scope:e,children:r.jsx(Nt.ol,{tabIndex:-1,...i,ref:h})}),A&&r.jsx(Jy,{ref:u,onFocusFromOutsideViewport:()=>{const p=g({tabbingDirection:"backwards"});qb(p)}})]})});V_.displayName=Q_;var z_="ToastFocusProxy",Jy=k.forwardRef((n,t)=>{const{__scopeToast:e,onFocusFromOutsideViewport:s,...a}=n,i=nx(z_,e);return r.jsx(tx,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const c=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(c))&&s()}})});Jy.displayName=z_;var Rm="Toast",$R="toast.swipeStart",QR="toast.swipeMove",VR="toast.swipeCancel",zR="toast.swipeEnd",K_=k.forwardRef((n,t)=>{const{forceMount:e,open:s,defaultOpen:a,onOpenChange:i,...o}=n,[c,l]=wa({prop:s,defaultProp:a??!0,onChange:i,caller:Rm});return r.jsx(hs,{present:e||c,children:r.jsx(qR,{open:c,...o,ref:t,onClose:()=>l(!1),onPause:Hr(n.onPause),onResume:Hr(n.onResume),onSwipeStart:tt(n.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:tt(n.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:tt(n.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:tt(n.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});K_.displayName=Rm;var[KR,GR]=H_(Rm,{onClose(){}}),qR=k.forwardRef((n,t)=>{const{__scopeToast:e,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:c,onPause:l,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...A}=n,g=nx(Rm,e),[p,b]=k.useState(null),x=cn(t,E=>b(E)),v=k.useRef(null),y=k.useRef(null),S=a||g.duration,M=k.useRef(0),P=k.useRef(S),B=k.useRef(0),{onToastAdd:D,onToastRemove:L}=g,O=Hr(()=>{var T;(p==null?void 0:p.contains(document.activeElement))&&((T=g.viewport)==null||T.focus()),o()}),F=k.useCallback(E=>{!E||E===1/0||(window.clearTimeout(B.current),M.current=new Date().getTime(),B.current=window.setTimeout(O,E))},[O]);k.useEffect(()=>{const E=g.viewport;if(E){const T=()=>{F(P.current),d==null||d()},w=()=>{const C=new Date().getTime()-M.current;P.current=P.current-C,window.clearTimeout(B.current),l==null||l()};return E.addEventListener(Xy,w),E.addEventListener(Yy,T),()=>{E.removeEventListener(Xy,w),E.removeEventListener(Yy,T)}}},[g.viewport,S,l,d,F]),k.useEffect(()=>{i&&!g.isClosePausedRef.current&&F(S)},[i,S,g.isClosePausedRef,F]),k.useEffect(()=>(D(),()=>L()),[D,L]);const _=k.useMemo(()=>p?Z_(p):null,[p]);return g.viewport?r.jsxs(r.Fragment,{children:[_&&r.jsx(WR,{__scopeToast:e,role:"status","aria-live":s==="foreground"?"assertive":"polite",children:_}),r.jsx(KR,{scope:e,onClose:O,children:ro.createPortal(r.jsx(L2.ItemSlot,{scope:e,children:r.jsx(kR,{asChild:!0,onEscapeKeyDown:tt(c,()=>{g.isFocusedToastEscapeKeyDownRef.current||O(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(Nt.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...A,ref:x,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:tt(n.onKeyDown,E=>{E.key==="Escape"&&(c==null||c(E.nativeEvent),E.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:tt(n.onPointerDown,E=>{E.button===0&&(v.current={x:E.clientX,y:E.clientY})}),onPointerMove:tt(n.onPointerMove,E=>{if(!v.current)return;const T=E.clientX-v.current.x,w=E.clientY-v.current.y,C=!!y.current,j=["left","right"].includes(g.swipeDirection),N=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,I=j?N(0,T):0,R=j?0:N(0,w),U=E.pointerType==="touch"?10:2,V={x:I,y:R},z={originalEvent:E,delta:V};C?(y.current=V,Bp(QR,f,z,{discrete:!1})):SN(V,g.swipeDirection,U)?(y.current=V,Bp($R,u,z,{discrete:!1}),E.target.setPointerCapture(E.pointerId)):(Math.abs(T)>U||Math.abs(w)>U)&&(v.current=null)}),onPointerUp:tt(n.onPointerUp,E=>{const T=y.current,w=E.target;if(w.hasPointerCapture(E.pointerId)&&w.releasePointerCapture(E.pointerId),y.current=null,v.current=null,T){const C=E.currentTarget,j={originalEvent:E,delta:T};SN(T,g.swipeDirection,g.swipeThreshold)?Bp(zR,m,j,{discrete:!0}):Bp(VR,h,j,{discrete:!0}),C.addEventListener("click",N=>N.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),WR=n=>{const{__scopeToast:t,children:e,...s}=n,a=nx(Rm,t),[i,o]=k.useState(!1),[c,l]=k.useState(!1);return JR(()=>o(!0)),k.useEffect(()=>{const d=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(d)},[]),c?null:r.jsx(Zu,{asChild:!0,children:r.jsx(tx,{...s,children:i&&r.jsxs(r.Fragment,{children:[a.label," ",e]})})})},XR="ToastTitle",G_=k.forwardRef((n,t)=>{const{__scopeToast:e,...s}=n;return r.jsx(Nt.div,{...s,ref:t})});G_.displayName=XR;var YR="ToastDescription",q_=k.forwardRef((n,t)=>{const{__scopeToast:e,...s}=n;return r.jsx(Nt.div,{...s,ref:t})});q_.displayName=YR;var W_="ToastAction",X_=k.forwardRef((n,t)=>{const{altText:e,...s}=n;return e.trim()?r.jsx(J_,{altText:e,asChild:!0,children:r.jsx(F2,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${W_}\`. Expected non-empty \`string\`.`),null)});X_.displayName=W_;var Y_="ToastClose",F2=k.forwardRef((n,t)=>{const{__scopeToast:e,...s}=n,a=GR(Y_,e);return r.jsx(J_,{asChild:!0,children:r.jsx(Nt.button,{type:"button",...s,ref:t,onClick:tt(n.onClick,a.onClose)})})});F2.displayName=Y_;var J_=k.forwardRef((n,t)=>{const{__scopeToast:e,altText:s,...a}=n;return r.jsx(Nt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function Z_(n){const t=[];return Array.from(n.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),ZR(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Z_(s))}}),t}function Bp(n,t,e,{discrete:s}){const a=e.originalEvent.currentTarget,i=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:e});t&&a.addEventListener(n,t,{once:!0}),s?qf(a,i):a.dispatchEvent(i)}var SN=(n,t,e=0)=>{const s=Math.abs(n.x),a=Math.abs(n.y),i=s>a;return t==="left"||t==="right"?i&&s>e:!i&&a>e};function JR(n=()=>{}){const t=Hr(n);Fr(()=>{let e=0,s=0;return e=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(s)}},[t])}function ZR(n){return n.nodeType===n.ELEMENT_NODE}function eU(n){const t=[],e=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)t.push(e.currentNode);return t}function qb(n){const t=document.activeElement;return n.some(e=>e===t?!0:(e.focus(),document.activeElement!==t))}var tU=$_,e6=V_,t6=K_,n6=G_,r6=q_,s6=X_,a6=F2;function i6(n){var t,e,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(t=0;t<a;t++)n[t]&&(e=i6(n[t]))&&(s&&(s+=" "),s+=e)}else for(e in n)n[e]&&(s&&(s+=" "),s+=e);return s}function Ro(){for(var n,t,e=0,s="",a=arguments.length;e<a;e++)(n=arguments[e])&&(t=i6(n))&&(s&&(s+=" "),s+=t);return s}const TN=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,kN=Ro,oc=(n,t)=>e=>{var s;if((t==null?void 0:t.variants)==null)return kN(n,e==null?void 0:e.class,e==null?void 0:e.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=e==null?void 0:e[d],f=i==null?void 0:i[d];if(u===null)return null;const h=TN(u)||TN(f);return a[d][h]}),c=e&&Object.entries(e).reduce((d,u)=>{let[f,h]=u;return h===void 0||(d[f]=h),d},{}),l=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:f,className:h,...m}=u;return Object.entries(m).every(A=>{let[g,p]=A;return Array.isArray(p)?p.includes({...i,...c}[g]):{...i,...c}[g]===p})?[...d,f,h]:d},[]);return kN(n,o,l,e==null?void 0:e.class,e==null?void 0:e.className)};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rU=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,s)=>s?s.toUpperCase():e.toLowerCase()),_N=n=>{const t=rU(n);return t.charAt(0).toUpperCase()+t.slice(1)},o6=(...n)=>n.filter((t,e,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===e).join(" ").trim(),sU=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=k.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...c},l)=>k.createElement("svg",{ref:l,...aU,width:t,height:t,stroke:n,strokeWidth:s?Number(e)*24/Number(t):e,className:o6("lucide",a),...!i&&!sU(c)&&{"aria-hidden":"true"},...c},[...o.map(([d,u])=>k.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=(n,t)=>{const e=k.forwardRef(({className:s,...a},i)=>k.createElement(iU,{ref:i,iconNode:t,className:o6(`lucide-${nU(_N(n))}`,`lucide-${n}`,s),...a}));return e.displayName=_N(n),e};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],l6=Xe("align-center",oU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],eh=Xe("arrow-left",lU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],c6=Xe("arrow-right",cU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],d6=Xe("arrow-up-down",dU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],hU=Xe("arrow-up",uU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=[["path",{d:"M12 6v12",key:"1vza4d"}],["path",{d:"M17.196 9 6.804 15",key:"1ah31z"}],["path",{d:"m6.804 9 10.392 6",key:"1b6pxd"}]],BN=Xe("asterisk",fU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Wb=Xe("award",mU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],u6=Xe("bold",pU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],gU=Xe("bot",AU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],bU=Xe("calendar-days",xU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$r=Xe("calendar",vU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Zy=Xe("camera",yU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],h6=Xe("chart-no-axes-column-increasing",wU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Bd=Xe("check",jU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],lo=Xe("chevron-down",CU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],zr=Xe("chevron-left",NU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],xr=Xe("chevron-right",SU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],th=Xe("chevron-up",TU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],_U=Xe("circle-alert",kU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ja=Xe("circle-check-big",BU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],MU=Xe("circle-check",EU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],f6=Xe("circle-help",PU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Xb=Xe("circle-user",DU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Go=Xe("circle-x",IU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],m6=Xe("circle",OU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],XA=Xe("clipboard-list",LU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Uo=Xe("clock",FU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],UU=Xe("coins",RU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],$U=Xe("copy",HU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],rd=Xe("credit-card",QU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],zU=Xe("dollar-sign",VU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Fs=Xe("ellipsis-vertical",KU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],qU=Xe("ellipsis",GU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Wi=Xe("eye-off",WU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pr=Xe("eye",XU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],ew=Xe("facebook",YU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],R2=Xe("file-text",JU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],eH=Xe("flame",ZU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],sd=Xe("funnel",tH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Ea=Xe("gift",nH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],p6=Xe("globe",rH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 12h18",key:"1i2n21"}],["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}]],U2=Xe("grid-2x2",sH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],A6=Xe("grid-3x3",aH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Ts=Xe("heart",iH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],tw=Xe("house",oH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Du=Xe("image",lH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],H2=Xe("info",cH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],EN=Xe("instagram",dH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],g6=Xe("italic",uH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],x6=Xe("key",hH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],b6=Xe("layers",fH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Sg=Xe("layout-grid",mH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Um=Xe("list",pH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ns=Xe("loader-circle",AH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],MN=Xe("loader",gH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ma=Xe("lock",xH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],v6=Xe("log-in",bH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Wf=Xe("log-out",vH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Aa=Xe("mail",yH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],qo=Xe("map-pin",wH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],y6=Xe("maximize-2",jH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],w6=Xe("menu",CH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Ho=Xe("message-circle",NH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],ad=Xe("message-square",SH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],kH=Xe("minimize-2",TH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=[["path",{d:"M5 12h14",key:"1ays0h"}]],rx=Xe("minus",_H);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],j6=Xe("moon",BH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],Tg=Xe("newspaper",EH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ir=Xe("package",MH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],nw=Xe("palette",PH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],IH=Xe("panel-left",DH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],LH=Xe("paperclip",OH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],RH=Xe("pause",FH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],sx=Xe("percent",UH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Yl=Xe("phone",HH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],QH=Xe("pin",$H);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],zH=Xe("play",VH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],cr=Xe("plus",KH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Io=Xe("refresh-cw",GH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],$o=Xe("rotate-ccw",qH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],rw=Xe("ruler",WH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Hm=Xe("save",XH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Rn=Xe("search",YH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],hu=Xe("send",JH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],so=Xe("settings-2",ZH);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$2=Xe("settings",e$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],n$=Xe("share-2",t$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],s$=Xe("shield-check",r$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],i$=Xe("shield",a$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],sw=Xe("shopping-bag",o$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],vs=Xe("shopping-cart",l$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],Q2=Xe("sliders-horizontal",c$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],u$=Xe("smile",d$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Xs=Xe("sparkles",h$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],PN=Xe("square-check-big",f$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Xf=Xe("square-pen",m$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],A$=Xe("square",p$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],or=Xe("star",g$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],C6=Xe("sun",x$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Ir=Xe("tag",b$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],y$=Xe("target",v$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=[["path",{d:"M2 9a3 3 0 1 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 1 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"1l48ns"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]],N6=Xe("ticket-percent",w$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],C$=Xe("ticket",j$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],S$=Xe("timer",N$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ma=Xe("trash-2",T$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],mi=Xe("trash",k$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],B$=Xe("trending-down",_$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Gc=Xe("trending-up",E$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],V2=Xe("triangle-alert",M$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],z2=Xe("truck",P$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],DN=Xe("twitter",D$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],S6=Xe("underline",I$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Lr=Xe("upload",O$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],T6=Xe("user-plus",L$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],R$=Xe("user-x",F$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Un=Xe("user",U$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],K2=Xe("users",H$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]],Q$=Xe("weight",$$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],st=Xe("x",V$);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],k6=Xe("zap",z$),G2="-",K$=n=>{const t=q$(n),{conflictingClassGroups:e,conflictingClassGroupModifiers:s}=n;return{getClassGroupId:o=>{const c=o.split(G2);return c[0]===""&&c.length!==1&&c.shift(),_6(c,t)||G$(o)},getConflictingClassGroupIds:(o,c)=>{const l=e[o]||[];return c&&s[o]?[...l,...s[o]]:l}}},_6=(n,t)=>{var o;if(n.length===0)return t.classGroupId;const e=n[0],s=t.nextPart.get(e),a=s?_6(n.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=n.join(G2);return(o=t.validators.find(({validator:c})=>c(i)))==null?void 0:o.classGroupId},IN=/^\[(.+)\]$/,G$=n=>{if(IN.test(n)){const t=IN.exec(n)[1],e=t==null?void 0:t.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},q$=n=>{const{theme:t,prefix:e}=n,s={nextPart:new Map,validators:[]};return X$(Object.entries(n.classGroups),e).forEach(([i,o])=>{aw(o,s,i,t)}),s},aw=(n,t,e,s)=>{n.forEach(a=>{if(typeof a=="string"){const i=a===""?t:ON(t,a);i.classGroupId=e;return}if(typeof a=="function"){if(W$(a)){aw(a(s),t,e,s);return}t.validators.push({validator:a,classGroupId:e});return}Object.entries(a).forEach(([i,o])=>{aw(o,ON(t,i),e,s)})})},ON=(n,t)=>{let e=n;return t.split(G2).forEach(s=>{e.nextPart.has(s)||e.nextPart.set(s,{nextPart:new Map,validators:[]}),e=e.nextPart.get(s)}),e},W$=n=>n.isThemeGetter,X$=(n,t)=>t?n.map(([e,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,c])=>[t+o,c])):i);return[e,a]}):n,Y$=n=>{if(n<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,s=new Map;const a=(i,o)=>{e.set(i,o),t++,t>n&&(t=0,s=e,e=new Map)};return{get(i){let o=e.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){e.has(i)?e.set(i,o):a(i,o)}}},B6="!",J$=n=>{const{separator:t,experimentalParseClassName:e}=n,s=t.length===1,a=t[0],i=t.length,o=c=>{const l=[];let d=0,u=0,f;for(let p=0;p<c.length;p++){let b=c[p];if(d===0){if(b===a&&(s||c.slice(p,p+i)===t)){l.push(c.slice(u,p)),u=p+i;continue}if(b==="/"){f=p;continue}}b==="["?d++:b==="]"&&d--}const h=l.length===0?c:c.substring(u),m=h.startsWith(B6),A=m?h.substring(1):h,g=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:A,maybePostfixModifierPosition:g}};return e?c=>e({className:c,parseClassName:o}):o},Z$=n=>{if(n.length<=1)return n;const t=[];let e=[];return n.forEach(s=>{s[0]==="["?(t.push(...e.sort(),s),e=[]):e.push(s)}),t.push(...e.sort()),t},eQ=n=>({cache:Y$(n.cacheSize),parseClassName:J$(n),...K$(n)}),tQ=/\s+/,nQ=(n,t)=>{const{parseClassName:e,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],o=n.trim().split(tQ);let c="";for(let l=o.length-1;l>=0;l-=1){const d=o[l],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=e(d);let A=!!m,g=s(A?h.substring(0,m):h);if(!g){if(!A){c=d+(c.length>0?" "+c:c);continue}if(g=s(h),!g){c=d+(c.length>0?" "+c:c);continue}A=!1}const p=Z$(u).join(":"),b=f?p+B6:p,x=b+g;if(i.includes(x))continue;i.push(x);const v=a(g,A);for(let y=0;y<v.length;++y){const S=v[y];i.push(b+S)}c=d+(c.length>0?" "+c:c)}return c};function rQ(){let n=0,t,e,s="";for(;n<arguments.length;)(t=arguments[n++])&&(e=E6(t))&&(s&&(s+=" "),s+=e);return s}const E6=n=>{if(typeof n=="string")return n;let t,e="";for(let s=0;s<n.length;s++)n[s]&&(t=E6(n[s]))&&(e&&(e+=" "),e+=t);return e};function sQ(n,...t){let e,s,a,i=o;function o(l){const d=t.reduce((u,f)=>f(u),n());return e=eQ(d),s=e.cache.get,a=e.cache.set,i=c,c(l)}function c(l){const d=s(l);if(d)return d;const u=nQ(l,e);return a(l,u),u}return function(){return i(rQ.apply(null,arguments))}}const jr=n=>{const t=e=>e[n]||[];return t.isThemeGetter=!0,t},M6=/^\[(?:([a-z-]+):)?(.+)\]$/i,aQ=/^\d+\/\d+$/,iQ=new Set(["px","full","screen"]),oQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,go=n=>fu(n)||iQ.has(n)||aQ.test(n),fl=n=>nh(n,"length",bQ),fu=n=>!!n&&!Number.isNaN(Number(n)),Yb=n=>nh(n,"number",fu),kh=n=>!!n&&Number.isInteger(Number(n)),hQ=n=>n.endsWith("%")&&fu(n.slice(0,-1)),Nn=n=>M6.test(n),ml=n=>oQ.test(n),fQ=new Set(["length","size","percentage"]),mQ=n=>nh(n,fQ,P6),pQ=n=>nh(n,"position",P6),AQ=new Set(["image","url"]),gQ=n=>nh(n,AQ,yQ),xQ=n=>nh(n,"",vQ),_h=()=>!0,nh=(n,t,e)=>{const s=M6.exec(n);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):e(s[2]):!1},bQ=n=>lQ.test(n)&&!cQ.test(n),P6=()=>!1,vQ=n=>dQ.test(n),yQ=n=>uQ.test(n),wQ=()=>{const n=jr("colors"),t=jr("spacing"),e=jr("blur"),s=jr("brightness"),a=jr("borderColor"),i=jr("borderRadius"),o=jr("borderSpacing"),c=jr("borderWidth"),l=jr("contrast"),d=jr("grayscale"),u=jr("hueRotate"),f=jr("invert"),h=jr("gap"),m=jr("gradientColorStops"),A=jr("gradientColorStopPositions"),g=jr("inset"),p=jr("margin"),b=jr("opacity"),x=jr("padding"),v=jr("saturate"),y=jr("scale"),S=jr("sepia"),M=jr("skew"),P=jr("space"),B=jr("translate"),D=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Nn,t],F=()=>[Nn,t],_=()=>["",go,fl],E=()=>["auto",fu,Nn],T=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],w=()=>["solid","dashed","dotted","double","none"],C=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],N=()=>["","0",Nn],I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>[fu,Nn];return{cacheSize:500,separator:":",theme:{colors:[_h],spacing:[go,fl],blur:["none","",ml,Nn],brightness:R(),borderColor:[n],borderRadius:["none","","full",ml,Nn],borderSpacing:F(),borderWidth:_(),contrast:R(),grayscale:N(),hueRotate:R(),invert:N(),gap:F(),gradientColorStops:[n],gradientColorStopPositions:[hQ,fl],inset:O(),margin:O(),opacity:R(),padding:F(),saturate:R(),scale:R(),sepia:N(),skew:R(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",Nn]}],container:["container"],columns:[{columns:[ml]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...T(),Nn]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",kh,Nn]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Nn]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",kh,Nn]}],"grid-cols":[{"grid-cols":[_h]}],"col-start-end":[{col:["auto",{span:["full",kh,Nn]},Nn]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[_h]}],"row-start-end":[{row:["auto",{span:[kh,Nn]},Nn]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Nn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Nn]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[p]}],mx:[{mx:[p]}],my:[{my:[p]}],ms:[{ms:[p]}],me:[{me:[p]}],mt:[{mt:[p]}],mr:[{mr:[p]}],mb:[{mb:[p]}],ml:[{ml:[p]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Nn,t]}],"min-w":[{"min-w":[Nn,t,"min","max","fit"]}],"max-w":[{"max-w":[Nn,t,"none","full","min","max","fit","prose",{screen:[ml]},ml]}],h:[{h:[Nn,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Nn,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Nn,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Nn,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ml,fl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Yb]}],"font-family":[{font:[_h]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Nn]}],"line-clamp":[{"line-clamp":["none",fu,Yb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",go,Nn]}],"list-image":[{"list-image":["none",Nn]}],"list-style-type":[{list:["none","disc","decimal",Nn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...w(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",go,fl]}],"underline-offset":[{"underline-offset":["auto",go,Nn]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Nn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Nn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...T(),pQ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mQ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gQ]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[A]}],"gradient-via-pos":[{via:[A]}],"gradient-to-pos":[{to:[A]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...w(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:w()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...w()]}],"outline-offset":[{"outline-offset":[go,Nn]}],"outline-w":[{outline:[go,fl]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:_()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[go,fl]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",ml,xQ]}],"shadow-color":[{shadow:[_h]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...C(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":C()}],filter:[{filter:["","none"]}],blur:[{blur:[e]}],brightness:[{brightness:[s]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ml,Nn]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[e]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Nn]}],duration:[{duration:R()}],ease:[{ease:["linear","in","out","in-out",Nn]}],delay:[{delay:R()}],animate:[{animate:["none","spin","ping","pulse","bounce",Nn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[y]}],"scale-x":[{"scale-x":[y]}],"scale-y":[{"scale-y":[y]}],rotate:[{rotate:[kh,Nn]}],"translate-x":[{"translate-x":[B]}],"translate-y":[{"translate-y":[B]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Nn]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Nn]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Nn]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[go,fl,Yb]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jQ=sQ(wQ);function Ue(...n){return jQ(Ro(n))}const CQ=tU,D6=k.forwardRef(({className:n,...t},e)=>r.jsx(e6,{ref:e,className:Ue("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...t}));D6.displayName=e6.displayName;const NQ=oc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground",success:"border-green-500 bg-green-50 text-green-800",warning:"border-yellow-500 bg-yellow-50 text-yellow-800",info:"border-blue-500 bg-blue-50 text-blue-800"}},defaultVariants:{variant:"default"}}),I6=k.forwardRef(({className:n,variant:t,...e},s)=>r.jsx(t6,{ref:s,className:Ue(NQ({variant:t}),n),...e}));I6.displayName=t6.displayName;const SQ=k.forwardRef(({className:n,...t},e)=>r.jsx(s6,{ref:e,className:Ue("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...t}));SQ.displayName=s6.displayName;const O6=k.forwardRef(({className:n,...t},e)=>r.jsx(a6,{ref:e,className:Ue("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...t,children:r.jsx(st,{className:"h-4 w-4"})}));O6.displayName=a6.displayName;const L6=k.forwardRef(({className:n,...t},e)=>r.jsx(n6,{ref:e,className:Ue("text-sm font-semibold",n),...t}));L6.displayName=n6.displayName;const F6=k.forwardRef(({className:n,...t},e)=>r.jsx(r6,{ref:e,className:Ue("text-sm opacity-90",n),...t}));F6.displayName=r6.displayName;function R6(){const{toasts:n}=ac();return r.jsxs(CQ,{children:[n.map(function({id:t,title:e,description:s,action:a,...i}){return r.jsxs(I6,{...i,children:[r.jsxs("div",{className:"grid gap-1",children:[e&&r.jsx(L6,{children:e}),s&&r.jsx(F6,{children:s})]}),a,r.jsx(O6,{})]},t)}),r.jsx(D6,{})]})}var kg=["light","dark"],q2="(prefers-color-scheme: dark)",TQ=typeof window>"u",W2=k.createContext(void 0),kQ={setTheme:n=>{},themes:[]},U6=()=>{var n;return(n=k.useContext(W2))!=null?n:kQ},_Q=n=>k.useContext(W2)?n.children:k.createElement(EQ,{...n}),BQ=["light","dark"],EQ=({forcedTheme:n,disableTransitionOnChange:t=!1,enableSystem:e=!0,enableColorScheme:s=!0,storageKey:a="theme",themes:i=BQ,defaultTheme:o=e?"system":"light",attribute:c="data-theme",value:l,children:d,nonce:u})=>{let[f,h]=k.useState(()=>LN(a,o)),[m,A]=k.useState(()=>LN(a)),g=l?Object.values(l):i,p=k.useCallback(y=>{let S=y;if(!S)return;y==="system"&&e&&(S=FN());let M=l?l[S]:S,P=t?PQ():null,B=document.documentElement;if(c==="class"?(B.classList.remove(...g),M&&B.classList.add(M)):M?B.setAttribute(c,M):B.removeAttribute(c),s){let D=kg.includes(o)?o:null,L=kg.includes(S)?S:D;B.style.colorScheme=L}P==null||P()},[]),b=k.useCallback(y=>{let S=typeof y=="function"?y(y):y;h(S);try{localStorage.setItem(a,S)}catch{}},[n]),x=k.useCallback(y=>{let S=FN(y);A(S),f==="system"&&e&&!n&&p("system")},[f,n]);k.useEffect(()=>{let y=window.matchMedia(q2);return y.addListener(x),x(y),()=>y.removeListener(x)},[x]),k.useEffect(()=>{let y=S=>{if(S.key!==a)return;let M=S.newValue||o;b(M)};return window.addEventListener("storage",y),()=>window.removeEventListener("storage",y)},[b]),k.useEffect(()=>{p(n??f)},[n,f]);let v=k.useMemo(()=>({theme:f,setTheme:b,forcedTheme:n,resolvedTheme:f==="system"?m:f,themes:e?[...i,"system"]:i,systemTheme:e?m:void 0}),[f,b,n,m,e,i]);return k.createElement(W2.Provider,{value:v},k.createElement(MQ,{forcedTheme:n,disableTransitionOnChange:t,enableSystem:e,enableColorScheme:s,storageKey:a,themes:i,defaultTheme:o,attribute:c,value:l,children:d,attrs:g,nonce:u}),d)},MQ=k.memo(({forcedTheme:n,storageKey:t,attribute:e,enableSystem:s,enableColorScheme:a,defaultTheme:i,value:o,attrs:c,nonce:l})=>{let d=i==="system",u=e==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(A=>`'${A}'`).join(",")})`};`:`var d=document.documentElement,n='${e}',s='setAttribute';`,f=a?kg.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(A,g=!1,p=!0)=>{let b=o?o[A]:A,x=g?A+"|| ''":`'${b}'`,v="";return a&&p&&!g&&kg.includes(A)&&(v+=`d.style.colorScheme = '${A}';`),e==="class"?g||b?v+=`c.add(${x})`:v+="null":b&&(v+=`d[s](n,${x})`),v},m=n?`!function(){${u}${h(n)}}()`:s?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${q2}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${d?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return k.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})}),LN=(n,t)=>{if(TQ)return;let e;try{e=localStorage.getItem(n)||void 0}catch{}return e||t},PQ=()=>{let n=document.createElement("style");return n.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(n),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(n)},1)}},FN=n=>(n||(n=window.matchMedia(q2)),n.matches?"dark":"light"),DQ=n=>{switch(n){case"success":return LQ;case"info":return RQ;case"warning":return FQ;case"error":return UQ;default:return null}},IQ=Array(12).fill(0),OQ=({visible:n,className:t})=>Ne.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":n},Ne.createElement("div",{className:"sonner-spinner"},IQ.map((e,s)=>Ne.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),LQ=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),FQ=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),RQ=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),UQ=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),HQ=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ne.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ne.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),$Q=()=>{let[n,t]=Ne.useState(document.hidden);return Ne.useEffect(()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),n},iw=1,QQ=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:s,...a}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:iw++,o=this.toasts.find(l=>l.id===i),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:s}),{...l,...t,id:i,dismissible:c,title:s}):l):this.addToast({title:s,...a,dismissible:c,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(s=>s({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let s;e.loading!==void 0&&(s=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let a=t instanceof Promise?t:t(),i=s!==void 0,o,c=a.then(async d=>{if(o=["resolve",d],Ne.isValidElement(d))i=!1,this.create({id:s,type:"default",message:d});else if(zQ(d)&&!d.ok){i=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${d.status}`):e.error,f=typeof e.description=="function"?await e.description(`HTTP error! status: ${d.status}`):e.description;this.create({id:s,type:"error",message:u,description:f})}else if(e.success!==void 0){i=!1;let u=typeof e.success=="function"?await e.success(d):e.success,f=typeof e.description=="function"?await e.description(d):e.description;this.create({id:s,type:"success",message:u,description:f})}}).catch(async d=>{if(o=["reject",d],e.error!==void 0){i=!1;let u=typeof e.error=="function"?await e.error(d):e.error,f=typeof e.description=="function"?await e.description(d):e.description;this.create({id:s,type:"error",message:u,description:f})}}).finally(()=>{var d;i&&(this.dismiss(s),s=void 0),(d=e.finally)==null||d.call(e)}),l=()=>new Promise((d,u)=>c.then(()=>o[0]==="reject"?u(o[1]):d(o[1])).catch(u));return typeof s!="string"&&typeof s!="number"?{unwrap:l}:Object.assign(s,{unwrap:l})},this.custom=(t,e)=>{let s=(e==null?void 0:e.id)||iw++;return this.create({jsx:t(s),id:s,...e}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ua=new QQ,VQ=(n,t)=>{let e=(t==null?void 0:t.id)||iw++;return ua.addToast({title:n,...t,id:e}),e},zQ=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",KQ=VQ,GQ=()=>ua.toasts,qQ=()=>ua.getActiveToasts(),xt=Object.assign(KQ,{success:ua.success,info:ua.info,warning:ua.warning,error:ua.error,custom:ua.custom,message:ua.message,promise:ua.promise,dismiss:ua.dismiss,loading:ua.loading},{getHistory:GQ,getToasts:qQ});function WQ(n,{insertAt:t}={}){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&e.firstChild?e.insertBefore(s,e.firstChild):e.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}WQ(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ep(n){return n.label!==void 0}var XQ=3,YQ="32px",JQ="16px",RN=4e3,ZQ=356,eV=14,tV=20,nV=200;function si(...n){return n.filter(Boolean).join(" ")}function rV(n){let[t,e]=n.split("-"),s=[];return t&&s.push(t),e&&s.push(e),s}var sV=n=>{var t,e,s,a,i,o,c,l,d,u,f;let{invert:h,toast:m,unstyled:A,interacting:g,setHeights:p,visibleToasts:b,heights:x,index:v,toasts:y,expanded:S,removeToast:M,defaultRichColors:P,closeButton:B,style:D,cancelButtonStyle:L,actionButtonStyle:O,className:F="",descriptionClassName:_="",duration:E,position:T,gap:w,loadingIcon:C,expandByDefault:j,classNames:N,icons:I,closeButtonAriaLabel:R="Close toast",pauseWhenPageIsHidden:U}=n,[V,z]=Ne.useState(null),[X,Q]=Ne.useState(null),[q,H]=Ne.useState(!1),[$,G]=Ne.useState(!1),[J,te]=Ne.useState(!1),[K,ne]=Ne.useState(!1),[ce,oe]=Ne.useState(!1),[ee,W]=Ne.useState(0),[Y,Z]=Ne.useState(0),se=Ne.useRef(m.duration||E||RN),re=Ne.useRef(null),le=Ne.useRef(null),ae=v===0,ue=v+1<=b,he=m.type,pe=m.dismissible!==!1,Ae=m.className||"",ie=m.descriptionClassName||"",de=Ne.useMemo(()=>x.findIndex(Le=>Le.toastId===m.id)||0,[x,m.id]),me=Ne.useMemo(()=>{var Le;return(Le=m.closeButton)!=null?Le:B},[m.closeButton,B]),ve=Ne.useMemo(()=>m.duration||E||RN,[m.duration,E]),Me=Ne.useRef(0),Be=Ne.useRef(0),xe=Ne.useRef(0),Te=Ne.useRef(null),[_e,Pe]=T.split("-"),be=Ne.useMemo(()=>x.reduce((Le,$e,et)=>et>=de?Le:Le+$e.height,0),[x,de]),Ee=$Q(),ge=m.invert||h,Se=he==="loading";Be.current=Ne.useMemo(()=>de*w+be,[de,be]),Ne.useEffect(()=>{se.current=ve},[ve]),Ne.useEffect(()=>{H(!0)},[]),Ne.useEffect(()=>{let Le=le.current;if(Le){let $e=Le.getBoundingClientRect().height;return Z($e),p(et=>[{toastId:m.id,height:$e,position:m.position},...et]),()=>p(et=>et.filter(jt=>jt.toastId!==m.id))}},[p,m.id]),Ne.useLayoutEffect(()=>{if(!q)return;let Le=le.current,$e=Le.style.height;Le.style.height="auto";let et=Le.getBoundingClientRect().height;Le.style.height=$e,Z(et),p(jt=>jt.find(At=>At.toastId===m.id)?jt.map(At=>At.toastId===m.id?{...At,height:et}:At):[{toastId:m.id,height:et,position:m.position},...jt])},[q,m.title,m.description,p,m.id]);let Ie=Ne.useCallback(()=>{G(!0),W(Be.current),p(Le=>Le.filter($e=>$e.toastId!==m.id)),setTimeout(()=>{M(m)},nV)},[m,M,p,Be]);Ne.useEffect(()=>{if(m.promise&&he==="loading"||m.duration===1/0||m.type==="loading")return;let Le;return S||g||U&&Ee?(()=>{if(xe.current<Me.current){let $e=new Date().getTime()-Me.current;se.current=se.current-$e}xe.current=new Date().getTime()})():se.current!==1/0&&(Me.current=new Date().getTime(),Le=setTimeout(()=>{var $e;($e=m.onAutoClose)==null||$e.call(m,m),Ie()},se.current)),()=>clearTimeout(Le)},[S,g,m,he,U,Ee,Ie]),Ne.useEffect(()=>{m.delete&&Ie()},[Ie,m.delete]);function ze(){var Le,$e,et;return I!=null&&I.loading?Ne.createElement("div",{className:si(N==null?void 0:N.loader,(Le=m==null?void 0:m.classNames)==null?void 0:Le.loader,"sonner-loader"),"data-visible":he==="loading"},I.loading):C?Ne.createElement("div",{className:si(N==null?void 0:N.loader,($e=m==null?void 0:m.classNames)==null?void 0:$e.loader,"sonner-loader"),"data-visible":he==="loading"},C):Ne.createElement(OQ,{className:si(N==null?void 0:N.loader,(et=m==null?void 0:m.classNames)==null?void 0:et.loader),visible:he==="loading"})}return Ne.createElement("li",{tabIndex:0,ref:le,className:si(F,Ae,N==null?void 0:N.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,N==null?void 0:N.default,N==null?void 0:N[he],(e=m==null?void 0:m.classNames)==null?void 0:e[he]),"data-sonner-toast":"","data-rich-colors":(s=m.richColors)!=null?s:P,"data-styled":!(m.jsx||m.unstyled||A),"data-mounted":q,"data-promise":!!m.promise,"data-swiped":ce,"data-removed":$,"data-visible":ue,"data-y-position":_e,"data-x-position":Pe,"data-index":v,"data-front":ae,"data-swiping":J,"data-dismissible":pe,"data-type":he,"data-invert":ge,"data-swipe-out":K,"data-swipe-direction":X,"data-expanded":!!(S||j&&q),style:{"--index":v,"--toasts-before":v,"--z-index":y.length-v,"--offset":`${$?ee:Be.current}px`,"--initial-height":j?"auto":`${Y}px`,...D,...m.style},onDragEnd:()=>{te(!1),z(null),Te.current=null},onPointerDown:Le=>{Se||!pe||(re.current=new Date,W(Be.current),Le.target.setPointerCapture(Le.pointerId),Le.target.tagName!=="BUTTON"&&(te(!0),Te.current={x:Le.clientX,y:Le.clientY}))},onPointerUp:()=>{var Le,$e,et,jt;if(K||!pe)return;Te.current=null;let At=Number(((Le=le.current)==null?void 0:Le.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ut=Number((($e=le.current)==null?void 0:$e.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ut=new Date().getTime()-((et=re.current)==null?void 0:et.getTime()),ft=V==="x"?At:Ut,ke=Math.abs(ft)/ut;if(Math.abs(ft)>=tV||ke>.11){W(Be.current),(jt=m.onDismiss)==null||jt.call(m,m),Q(V==="x"?At>0?"right":"left":Ut>0?"down":"up"),Ie(),ne(!0),oe(!1);return}te(!1),z(null)},onPointerMove:Le=>{var $e,et,jt,At;if(!Te.current||!pe||(($e=window.getSelection())==null?void 0:$e.toString().length)>0)return;let Ut=Le.clientY-Te.current.y,ut=Le.clientX-Te.current.x,ft=(et=n.swipeDirections)!=null?et:rV(T);!V&&(Math.abs(ut)>1||Math.abs(Ut)>1)&&z(Math.abs(ut)>Math.abs(Ut)?"x":"y");let ke={x:0,y:0};V==="y"?(ft.includes("top")||ft.includes("bottom"))&&(ft.includes("top")&&Ut<0||ft.includes("bottom")&&Ut>0)&&(ke.y=Ut):V==="x"&&(ft.includes("left")||ft.includes("right"))&&(ft.includes("left")&&ut<0||ft.includes("right")&&ut>0)&&(ke.x=ut),(Math.abs(ke.x)>0||Math.abs(ke.y)>0)&&oe(!0),(jt=le.current)==null||jt.style.setProperty("--swipe-amount-x",`${ke.x}px`),(At=le.current)==null||At.style.setProperty("--swipe-amount-y",`${ke.y}px`)}},me&&!m.jsx?Ne.createElement("button",{"aria-label":R,"data-disabled":Se,"data-close-button":!0,onClick:Se||!pe?()=>{}:()=>{var Le;Ie(),(Le=m.onDismiss)==null||Le.call(m,m)},className:si(N==null?void 0:N.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},(i=I==null?void 0:I.close)!=null?i:HQ):null,m.jsx||k.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:Ne.createElement(Ne.Fragment,null,he||m.icon||m.promise?Ne.createElement("div",{"data-icon":"",className:si(N==null?void 0:N.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||ze():null,m.type!=="loading"?m.icon||(I==null?void 0:I[he])||DQ(he):null):null,Ne.createElement("div",{"data-content":"",className:si(N==null?void 0:N.content,(c=m==null?void 0:m.classNames)==null?void 0:c.content)},Ne.createElement("div",{"data-title":"",className:si(N==null?void 0:N.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?Ne.createElement("div",{"data-description":"",className:si(_,ie,N==null?void 0:N.description,(d=m==null?void 0:m.classNames)==null?void 0:d.description)},typeof m.description=="function"?m.description():m.description):null),k.isValidElement(m.cancel)?m.cancel:m.cancel&&Ep(m.cancel)?Ne.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||L,onClick:Le=>{var $e,et;Ep(m.cancel)&&pe&&((et=($e=m.cancel).onClick)==null||et.call($e,Le),Ie())},className:si(N==null?void 0:N.cancelButton,(u=m==null?void 0:m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,k.isValidElement(m.action)?m.action:m.action&&Ep(m.action)?Ne.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||O,onClick:Le=>{var $e,et;Ep(m.action)&&((et=($e=m.action).onClick)==null||et.call($e,Le),!Le.defaultPrevented&&Ie())},className:si(N==null?void 0:N.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function UN(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function aV(n,t){let e={};return[n,t].forEach((s,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",c=i?JQ:YQ;function l(d){["top","right","bottom","left"].forEach(u=>{e[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof s=="number"||typeof s=="string"?l(s):typeof s=="object"?["top","right","bottom","left"].forEach(d=>{s[d]===void 0?e[`${o}-${d}`]=c:e[`${o}-${d}`]=typeof s[d]=="number"?`${s[d]}px`:s[d]}):l(c)}),e}var iV=k.forwardRef(function(n,t){let{invert:e,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:c,offset:l,mobileOffset:d,theme:u="light",richColors:f,duration:h,style:m,visibleToasts:A=XQ,toastOptions:g,dir:p=UN(),gap:b=eV,loadingIcon:x,icons:v,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:S}=n,[M,P]=Ne.useState([]),B=Ne.useMemo(()=>Array.from(new Set([s].concat(M.filter(U=>U.position).map(U=>U.position)))),[M,s]),[D,L]=Ne.useState([]),[O,F]=Ne.useState(!1),[_,E]=Ne.useState(!1),[T,w]=Ne.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),C=Ne.useRef(null),j=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=Ne.useRef(null),I=Ne.useRef(!1),R=Ne.useCallback(U=>{P(V=>{var z;return(z=V.find(X=>X.id===U.id))!=null&&z.delete||ua.dismiss(U.id),V.filter(({id:X})=>X!==U.id)})},[]);return Ne.useEffect(()=>ua.subscribe(U=>{if(U.dismiss){P(V=>V.map(z=>z.id===U.id?{...z,delete:!0}:z));return}setTimeout(()=>{I2.flushSync(()=>{P(V=>{let z=V.findIndex(X=>X.id===U.id);return z!==-1?[...V.slice(0,z),{...V[z],...U},...V.slice(z+1)]:[U,...V]})})})}),[]),Ne.useEffect(()=>{if(u!=="system"){w(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?w("dark"):w("light")),typeof window>"u")return;let U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:V})=>{w(V?"dark":"light")})}catch{U.addListener(({matches:z})=>{try{w(z?"dark":"light")}catch(X){console.error(X)}})}},[u]),Ne.useEffect(()=>{M.length<=1&&F(!1)},[M]),Ne.useEffect(()=>{let U=V=>{var z,X;a.every(Q=>V[Q]||V.code===Q)&&(F(!0),(z=C.current)==null||z.focus()),V.code==="Escape"&&(document.activeElement===C.current||(X=C.current)!=null&&X.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[a]),Ne.useEffect(()=>{if(C.current)return()=>{N.current&&(N.current.focus({preventScroll:!0}),N.current=null,I.current=!1)}},[C.current]),Ne.createElement("section",{ref:t,"aria-label":`${y} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},B.map((U,V)=>{var z;let[X,Q]=U.split("-");return M.length?Ne.createElement("ol",{key:U,dir:p==="auto"?UN():p,tabIndex:-1,ref:C,className:c,"data-sonner-toaster":!0,"data-theme":T,"data-y-position":X,"data-lifted":O&&M.length>1&&!i,"data-x-position":Q,style:{"--front-toast-height":`${((z=D[0])==null?void 0:z.height)||0}px`,"--width":`${ZQ}px`,"--gap":`${b}px`,...m,...aV(l,d)},onBlur:q=>{I.current&&!q.currentTarget.contains(q.relatedTarget)&&(I.current=!1,N.current&&(N.current.focus({preventScroll:!0}),N.current=null))},onFocus:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||I.current||(I.current=!0,N.current=q.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{_||F(!1)},onDragEnd:()=>F(!1),onPointerDown:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||E(!0)},onPointerUp:()=>E(!1)},M.filter(q=>!q.position&&V===0||q.position===U).map((q,H)=>{var $,G;return Ne.createElement(sV,{key:q.id,icons:v,index:H,toast:q,defaultRichColors:f,duration:($=g==null?void 0:g.duration)!=null?$:h,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:e,visibleToasts:A,closeButton:(G=g==null?void 0:g.closeButton)!=null?G:o,interacting:_,position:U,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:R,toasts:M.filter(J=>J.position==q.position),heights:D.filter(J=>J.position==q.position),setHeights:L,expandByDefault:i,gap:b,loadingIcon:x,expanded:O,pauseWhenPageIsHidden:S,swipeDirections:n.swipeDirections})})):null}))});const oV=({...n})=>{const{theme:t="system"}=U6();return r.jsx(iV,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};var lV=Gf[" useId ".trim().toString()]||(()=>{}),cV=0;function ga(n){const[t,e]=k.useState(lV());return Fr(()=>{e(s=>s??String(cV++))},[n]),n||(t?`radix-${t}`:"")}const dV=["top","right","bottom","left"],Jl=Math.min,Ba=Math.max,_g=Math.round,Mp=Math.floor,Xi=n=>({x:n,y:n}),uV={left:"right",right:"left",bottom:"top",top:"bottom"},hV={start:"end",end:"start"};function ow(n,t,e){return Ba(n,Jl(t,e))}function Wo(n,t){return typeof n=="function"?n(t):n}function Xo(n){return n.split("-")[0]}function rh(n){return n.split("-")[1]}function X2(n){return n==="x"?"y":"x"}function Y2(n){return n==="y"?"height":"width"}const fV=new Set(["top","bottom"]);function Qi(n){return fV.has(Xo(n))?"y":"x"}function J2(n){return X2(Qi(n))}function mV(n,t,e){e===void 0&&(e=!1);const s=rh(n),a=J2(n),i=Y2(a);let o=a==="x"?s===(e?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Bg(o)),[o,Bg(o)]}function pV(n){const t=Bg(n);return[lw(n),t,lw(t)]}function lw(n){return n.replace(/start|end/g,t=>hV[t])}const HN=["left","right"],$N=["right","left"],AV=["top","bottom"],gV=["bottom","top"];function xV(n,t,e){switch(n){case"top":case"bottom":return e?t?$N:HN:t?HN:$N;case"left":case"right":return t?AV:gV;default:return[]}}function bV(n,t,e,s){const a=rh(n);let i=xV(Xo(n),e==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(lw)))),i}function Bg(n){return n.replace(/left|right|bottom|top/g,t=>uV[t])}function vV(n){return{top:0,right:0,bottom:0,left:0,...n}}function H6(n){return typeof n!="number"?vV(n):{top:n,right:n,bottom:n,left:n}}function Eg(n){const{x:t,y:e,width:s,height:a}=n;return{width:s,height:a,top:e,left:t,right:t+s,bottom:e+a,x:t,y:e}}function QN(n,t,e){let{reference:s,floating:a}=n;const i=Qi(t),o=J2(t),c=Y2(o),l=Xo(t),d=i==="y",u=s.x+s.width/2-a.width/2,f=s.y+s.height/2-a.height/2,h=s[c]/2-a[c]/2;let m;switch(l){case"top":m={x:u,y:s.y-a.height};break;case"bottom":m={x:u,y:s.y+s.height};break;case"right":m={x:s.x+s.width,y:f};break;case"left":m={x:s.x-a.width,y:f};break;default:m={x:s.x,y:s.y}}switch(rh(t)){case"start":m[o]-=h*(e&&d?-1:1);break;case"end":m[o]+=h*(e&&d?-1:1);break}return m}const yV=async(n,t,e)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=e,c=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:n,floating:t,strategy:a}),{x:u,y:f}=QN(d,s,l),h=s,m={},A=0;for(let g=0;g<c.length;g++){const{name:p,fn:b}=c[g],{x,y:v,data:y,reset:S}=await b({x:u,y:f,initialPlacement:s,placement:h,strategy:a,middlewareData:m,rects:d,platform:o,elements:{reference:n,floating:t}});u=x??u,f=v??f,m={...m,[p]:{...m[p],...y}},S&&A<=50&&(A++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(d=S.rects===!0?await o.getElementRects({reference:n,floating:t,strategy:a}):S.rects),{x:u,y:f}=QN(d,h,l)),g=-1)}return{x:u,y:f,placement:h,strategy:a,middlewareData:m}};async function Yf(n,t){var e;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:c,strategy:l}=n,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Wo(t,n),A=H6(m),p=c[h?f==="floating"?"reference":"floating":f],b=Eg(await i.getClippingRect({element:(e=await(i.isElement==null?void 0:i.isElement(p)))==null||e?p:p.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:d,rootBoundary:u,strategy:l})),x=f==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,v=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),y=await(i.isElement==null?void 0:i.isElement(v))?await(i.getScale==null?void 0:i.getScale(v))||{x:1,y:1}:{x:1,y:1},S=Eg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:x,offsetParent:v,strategy:l}):x);return{top:(b.top-S.top+A.top)/y.y,bottom:(S.bottom-b.bottom+A.bottom)/y.y,left:(b.left-S.left+A.left)/y.x,right:(S.right-b.right+A.right)/y.x}}const wV=n=>({name:"arrow",options:n,async fn(t){const{x:e,y:s,placement:a,rects:i,platform:o,elements:c,middlewareData:l}=t,{element:d,padding:u=0}=Wo(n,t)||{};if(d==null)return{};const f=H6(u),h={x:e,y:s},m=J2(a),A=Y2(m),g=await o.getDimensions(d),p=m==="y",b=p?"top":"left",x=p?"bottom":"right",v=p?"clientHeight":"clientWidth",y=i.reference[A]+i.reference[m]-h[m]-i.floating[A],S=h[m]-i.reference[m],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let P=M?M[v]:0;(!P||!await(o.isElement==null?void 0:o.isElement(M)))&&(P=c.floating[v]||i.floating[A]);const B=y/2-S/2,D=P/2-g[A]/2-1,L=Jl(f[b],D),O=Jl(f[x],D),F=L,_=P-g[A]-O,E=P/2-g[A]/2+B,T=ow(F,E,_),w=!l.arrow&&rh(a)!=null&&E!==T&&i.reference[A]/2-(E<F?L:O)-g[A]/2<0,C=w?E<F?E-F:E-_:0;return{[m]:h[m]+C,data:{[m]:T,centerOffset:E-T-C,...w&&{alignmentOffset:C}},reset:w}}}),jV=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(t){var e,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:c,platform:l,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:g=!0,...p}=Wo(n,t);if((e=i.arrow)!=null&&e.alignmentOffset)return{};const b=Xo(a),x=Qi(c),v=Xo(c)===c,y=await(l.isRTL==null?void 0:l.isRTL(d.floating)),S=h||(v||!g?[Bg(c)]:pV(c)),M=A!=="none";!h&&M&&S.push(...bV(c,g,A,y));const P=[c,...S],B=await Yf(t,p),D=[];let L=((s=i.flip)==null?void 0:s.overflows)||[];if(u&&D.push(B[b]),f){const E=mV(a,o,y);D.push(B[E[0]],B[E[1]])}if(L=[...L,{placement:a,overflows:D}],!D.every(E=>E<=0)){var O,F;const E=(((O=i.flip)==null?void 0:O.index)||0)+1,T=P[E];if(T&&(!(f==="alignment"?x!==Qi(T):!1)||L.every(j=>Qi(j.placement)===x?j.overflows[0]>0:!0)))return{data:{index:E,overflows:L},reset:{placement:T}};let w=(F=L.filter(C=>C.overflows[0]<=0).sort((C,j)=>C.overflows[1]-j.overflows[1])[0])==null?void 0:F.placement;if(!w)switch(m){case"bestFit":{var _;const C=(_=L.filter(j=>{if(M){const N=Qi(j.placement);return N===x||N==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(N=>N>0).reduce((N,I)=>N+I,0)]).sort((j,N)=>j[1]-N[1])[0])==null?void 0:_[0];C&&(w=C);break}case"initialPlacement":w=c;break}if(a!==w)return{reset:{placement:w}}}return{}}}};function VN(n,t){return{top:n.top-t.height,right:n.right-t.width,bottom:n.bottom-t.height,left:n.left-t.width}}function zN(n){return dV.some(t=>n[t]>=0)}const CV=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(t){const{rects:e}=t,{strategy:s="referenceHidden",...a}=Wo(n,t);switch(s){case"referenceHidden":{const i=await Yf(t,{...a,elementContext:"reference"}),o=VN(i,e.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:zN(o)}}}case"escaped":{const i=await Yf(t,{...a,altBoundary:!0}),o=VN(i,e.floating);return{data:{escapedOffsets:o,escaped:zN(o)}}}default:return{}}}}},$6=new Set(["left","top"]);async function NV(n,t){const{placement:e,platform:s,elements:a}=n,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=Xo(e),c=rh(e),l=Qi(e)==="y",d=$6.has(o)?-1:1,u=i&&l?-1:1,f=Wo(t,n);let{mainAxis:h,crossAxis:m,alignmentAxis:A}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof A=="number"&&(m=c==="end"?A*-1:A),l?{x:m*u,y:h*d}:{x:h*d,y:m*u}}const SV=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(t){var e,s;const{x:a,y:i,placement:o,middlewareData:c}=t,l=await NV(t,n);return o===((e=c.offset)==null?void 0:e.placement)&&(s=c.arrow)!=null&&s.alignmentOffset?{}:{x:a+l.x,y:i+l.y,data:{...l,placement:o}}}}},TV=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(t){const{x:e,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:c={fn:p=>{let{x:b,y:x}=p;return{x:b,y:x}}},...l}=Wo(n,t),d={x:e,y:s},u=await Yf(t,l),f=Qi(Xo(a)),h=X2(f);let m=d[h],A=d[f];if(i){const p=h==="y"?"top":"left",b=h==="y"?"bottom":"right",x=m+u[p],v=m-u[b];m=ow(x,m,v)}if(o){const p=f==="y"?"top":"left",b=f==="y"?"bottom":"right",x=A+u[p],v=A-u[b];A=ow(x,A,v)}const g=c.fn({...t,[h]:m,[f]:A});return{...g,data:{x:g.x-e,y:g.y-s,enabled:{[h]:i,[f]:o}}}}}},kV=function(n){return n===void 0&&(n={}),{options:n,fn(t){const{x:e,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:c=0,mainAxis:l=!0,crossAxis:d=!0}=Wo(n,t),u={x:e,y:s},f=Qi(a),h=X2(f);let m=u[h],A=u[f];const g=Wo(c,t),p=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const v=h==="y"?"height":"width",y=i.reference[h]-i.floating[v]+p.mainAxis,S=i.reference[h]+i.reference[v]-p.mainAxis;m<y?m=y:m>S&&(m=S)}if(d){var b,x;const v=h==="y"?"width":"height",y=$6.has(Xo(a)),S=i.reference[f]-i.floating[v]+(y&&((b=o.offset)==null?void 0:b[f])||0)+(y?0:p.crossAxis),M=i.reference[f]+i.reference[v]+(y?0:((x=o.offset)==null?void 0:x[f])||0)-(y?p.crossAxis:0);A<S?A=S:A>M&&(A=M)}return{[h]:m,[f]:A}}}},_V=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(t){var e,s;const{placement:a,rects:i,platform:o,elements:c}=t,{apply:l=()=>{},...d}=Wo(n,t),u=await Yf(t,d),f=Xo(a),h=rh(a),m=Qi(a)==="y",{width:A,height:g}=i.floating;let p,b;f==="top"||f==="bottom"?(p=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(b=f,p=h==="end"?"top":"bottom");const x=g-u.top-u.bottom,v=A-u.left-u.right,y=Jl(g-u[p],x),S=Jl(A-u[b],v),M=!t.middlewareData.shift;let P=y,B=S;if((e=t.middlewareData.shift)!=null&&e.enabled.x&&(B=v),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(P=x),M&&!h){const L=Ba(u.left,0),O=Ba(u.right,0),F=Ba(u.top,0),_=Ba(u.bottom,0);m?B=A-2*(L!==0||O!==0?L+O:Ba(u.left,u.right)):P=g-2*(F!==0||_!==0?F+_:Ba(u.top,u.bottom))}await l({...t,availableWidth:B,availableHeight:P});const D=await o.getDimensions(c.floating);return A!==D.width||g!==D.height?{reset:{rects:!0}}:{}}}};function ax(){return typeof window<"u"}function sh(n){return Q6(n)?(n.nodeName||"").toLowerCase():"#document"}function Pa(n){var t;return(n==null||(t=n.ownerDocument)==null?void 0:t.defaultView)||window}function co(n){var t;return(t=(Q6(n)?n.ownerDocument:n.document)||window.document)==null?void 0:t.documentElement}function Q6(n){return ax()?n instanceof Node||n instanceof Pa(n).Node:!1}function bi(n){return ax()?n instanceof Element||n instanceof Pa(n).Element:!1}function ao(n){return ax()?n instanceof HTMLElement||n instanceof Pa(n).HTMLElement:!1}function KN(n){return!ax()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Pa(n).ShadowRoot}const BV=new Set(["inline","contents"]);function $m(n){const{overflow:t,overflowX:e,overflowY:s,display:a}=vi(n);return/auto|scroll|overlay|hidden|clip/.test(t+s+e)&&!BV.has(a)}const EV=new Set(["table","td","th"]);function MV(n){return EV.has(sh(n))}const PV=[":popover-open",":modal"];function ix(n){return PV.some(t=>{try{return n.matches(t)}catch{return!1}})}const DV=["transform","translate","scale","rotate","perspective"],IV=["transform","translate","scale","rotate","perspective","filter"],OV=["paint","layout","strict","content"];function Z2(n){const t=ej(),e=bi(n)?vi(n):n;return DV.some(s=>e[s]?e[s]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||IV.some(s=>(e.willChange||"").includes(s))||OV.some(s=>(e.contain||"").includes(s))}function LV(n){let t=Zl(n);for(;ao(t)&&!Iu(t);){if(Z2(t))return t;if(ix(t))return null;t=Zl(t)}return null}function ej(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const FV=new Set(["html","body","#document"]);function Iu(n){return FV.has(sh(n))}function vi(n){return Pa(n).getComputedStyle(n)}function ox(n){return bi(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Zl(n){if(sh(n)==="html")return n;const t=n.assignedSlot||n.parentNode||KN(n)&&n.host||co(n);return KN(t)?t.host:t}function V6(n){const t=Zl(n);return Iu(t)?n.ownerDocument?n.ownerDocument.body:n.body:ao(t)&&$m(t)?t:V6(t)}function Jf(n,t,e){var s;t===void 0&&(t=[]),e===void 0&&(e=!0);const a=V6(n),i=a===((s=n.ownerDocument)==null?void 0:s.body),o=Pa(a);if(i){const c=cw(o);return t.concat(o,o.visualViewport||[],$m(a)?a:[],c&&e?Jf(c):[])}return t.concat(a,Jf(a,[],e))}function cw(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function z6(n){const t=vi(n);let e=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=ao(n),i=a?n.offsetWidth:e,o=a?n.offsetHeight:s,c=_g(e)!==i||_g(s)!==o;return c&&(e=i,s=o),{width:e,height:s,$:c}}function tj(n){return bi(n)?n:n.contextElement}function mu(n){const t=tj(n);if(!ao(t))return Xi(1);const e=t.getBoundingClientRect(),{width:s,height:a,$:i}=z6(t);let o=(i?_g(e.width):e.width)/s,c=(i?_g(e.height):e.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const RV=Xi(0);function K6(n){const t=Pa(n);return!ej()||!t.visualViewport?RV:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function UV(n,t,e){return t===void 0&&(t=!1),!e||t&&e!==Pa(n)?!1:t}function id(n,t,e,s){t===void 0&&(t=!1),e===void 0&&(e=!1);const a=n.getBoundingClientRect(),i=tj(n);let o=Xi(1);t&&(s?bi(s)&&(o=mu(s)):o=mu(n));const c=UV(i,e,s)?K6(i):Xi(0);let l=(a.left+c.x)/o.x,d=(a.top+c.y)/o.y,u=a.width/o.x,f=a.height/o.y;if(i){const h=Pa(i),m=s&&bi(s)?Pa(s):s;let A=h,g=cw(A);for(;g&&s&&m!==A;){const p=mu(g),b=g.getBoundingClientRect(),x=vi(g),v=b.left+(g.clientLeft+parseFloat(x.paddingLeft))*p.x,y=b.top+(g.clientTop+parseFloat(x.paddingTop))*p.y;l*=p.x,d*=p.y,u*=p.x,f*=p.y,l+=v,d+=y,A=Pa(g),g=cw(A)}}return Eg({width:u,height:f,x:l,y:d})}function nj(n,t){const e=ox(n).scrollLeft;return t?t.left+e:id(co(n)).left+e}function G6(n,t,e){e===void 0&&(e=!1);const s=n.getBoundingClientRect(),a=s.left+t.scrollLeft-(e?0:nj(n,s)),i=s.top+t.scrollTop;return{x:a,y:i}}function HV(n){let{elements:t,rect:e,offsetParent:s,strategy:a}=n;const i=a==="fixed",o=co(s),c=t?ix(t.floating):!1;if(s===o||c&&i)return e;let l={scrollLeft:0,scrollTop:0},d=Xi(1);const u=Xi(0),f=ao(s);if((f||!f&&!i)&&((sh(s)!=="body"||$m(o))&&(l=ox(s)),ao(s))){const m=id(s);d=mu(s),u.x=m.x+s.clientLeft,u.y=m.y+s.clientTop}const h=o&&!f&&!i?G6(o,l,!0):Xi(0);return{width:e.width*d.x,height:e.height*d.y,x:e.x*d.x-l.scrollLeft*d.x+u.x+h.x,y:e.y*d.y-l.scrollTop*d.y+u.y+h.y}}function $V(n){return Array.from(n.getClientRects())}function QV(n){const t=co(n),e=ox(n),s=n.ownerDocument.body,a=Ba(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=Ba(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-e.scrollLeft+nj(n);const c=-e.scrollTop;return vi(s).direction==="rtl"&&(o+=Ba(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:c}}function VV(n,t){const e=Pa(n),s=co(n),a=e.visualViewport;let i=s.clientWidth,o=s.clientHeight,c=0,l=0;if(a){i=a.width,o=a.height;const d=ej();(!d||d&&t==="fixed")&&(c=a.offsetLeft,l=a.offsetTop)}return{width:i,height:o,x:c,y:l}}const zV=new Set(["absolute","fixed"]);function KV(n,t){const e=id(n,!0,t==="fixed"),s=e.top+n.clientTop,a=e.left+n.clientLeft,i=ao(n)?mu(n):Xi(1),o=n.clientWidth*i.x,c=n.clientHeight*i.y,l=a*i.x,d=s*i.y;return{width:o,height:c,x:l,y:d}}function GN(n,t,e){let s;if(t==="viewport")s=VV(n,e);else if(t==="document")s=QV(co(n));else if(bi(t))s=KV(t,e);else{const a=K6(n);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Eg(s)}function q6(n,t){const e=Zl(n);return e===t||!bi(e)||Iu(e)?!1:vi(e).position==="fixed"||q6(e,t)}function GV(n,t){const e=t.get(n);if(e)return e;let s=Jf(n,[],!1).filter(c=>bi(c)&&sh(c)!=="body"),a=null;const i=vi(n).position==="fixed";let o=i?Zl(n):n;for(;bi(o)&&!Iu(o);){const c=vi(o),l=Z2(o);!l&&c.position==="fixed"&&(a=null),(i?!l&&!a:!l&&c.position==="static"&&!!a&&zV.has(a.position)||$m(o)&&!l&&q6(n,o))?s=s.filter(u=>u!==o):a=c,o=Zl(o)}return t.set(n,s),s}function qV(n){let{element:t,boundary:e,rootBoundary:s,strategy:a}=n;const o=[...e==="clippingAncestors"?ix(t)?[]:GV(t,this._c):[].concat(e),s],c=o[0],l=o.reduce((d,u)=>{const f=GN(t,u,a);return d.top=Ba(f.top,d.top),d.right=Jl(f.right,d.right),d.bottom=Jl(f.bottom,d.bottom),d.left=Ba(f.left,d.left),d},GN(t,c,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function WV(n){const{width:t,height:e}=z6(n);return{width:t,height:e}}function XV(n,t,e){const s=ao(t),a=co(t),i=e==="fixed",o=id(n,!0,i,t);let c={scrollLeft:0,scrollTop:0};const l=Xi(0);function d(){l.x=nj(a)}if(s||!s&&!i)if((sh(t)!=="body"||$m(a))&&(c=ox(t)),s){const m=id(t,!0,i,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else a&&d();i&&!s&&a&&d();const u=a&&!s&&!i?G6(a,c):Xi(0),f=o.left+c.scrollLeft-l.x-u.x,h=o.top+c.scrollTop-l.y-u.y;return{x:f,y:h,width:o.width,height:o.height}}function Jb(n){return vi(n).position==="static"}function qN(n,t){if(!ao(n)||vi(n).position==="fixed")return null;if(t)return t(n);let e=n.offsetParent;return co(n)===e&&(e=e.ownerDocument.body),e}function W6(n,t){const e=Pa(n);if(ix(n))return e;if(!ao(n)){let a=Zl(n);for(;a&&!Iu(a);){if(bi(a)&&!Jb(a))return a;a=Zl(a)}return e}let s=qN(n,t);for(;s&&MV(s)&&Jb(s);)s=qN(s,t);return s&&Iu(s)&&Jb(s)&&!Z2(s)?e:s||LV(n)||e}const YV=async function(n){const t=this.getOffsetParent||W6,e=this.getDimensions,s=await e(n.floating);return{reference:XV(n.reference,await t(n.floating),n.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function JV(n){return vi(n).direction==="rtl"}const ZV={convertOffsetParentRelativeRectToViewportRelativeRect:HV,getDocumentElement:co,getClippingRect:qV,getOffsetParent:W6,getElementRects:YV,getClientRects:$V,getDimensions:WV,getScale:mu,isElement:bi,isRTL:JV};function X6(n,t){return n.x===t.x&&n.y===t.y&&n.width===t.width&&n.height===t.height}function ez(n,t){let e=null,s;const a=co(n);function i(){var c;clearTimeout(s),(c=e)==null||c.disconnect(),e=null}function o(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),i();const d=n.getBoundingClientRect(),{left:u,top:f,width:h,height:m}=d;if(c||t(),!h||!m)return;const A=Mp(f),g=Mp(a.clientWidth-(u+h)),p=Mp(a.clientHeight-(f+m)),b=Mp(u),v={rootMargin:-A+"px "+-g+"px "+-p+"px "+-b+"px",threshold:Ba(0,Jl(1,l))||1};let y=!0;function S(M){const P=M[0].intersectionRatio;if(P!==l){if(!y)return o();P?o(!1,P):s=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!X6(d,n.getBoundingClientRect())&&o(),y=!1}try{e=new IntersectionObserver(S,{...v,root:a.ownerDocument})}catch{e=new IntersectionObserver(S,v)}e.observe(n)}return o(!0),i}function Y6(n,t,e,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=s,d=tj(n),u=a||i?[...d?Jf(d):[],...Jf(t)]:[];u.forEach(b=>{a&&b.addEventListener("scroll",e,{passive:!0}),i&&b.addEventListener("resize",e)});const f=d&&c?ez(d,e):null;let h=-1,m=null;o&&(m=new ResizeObserver(b=>{let[x]=b;x&&x.target===d&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var v;(v=m)==null||v.observe(t)})),e()}),d&&!l&&m.observe(d),m.observe(t));let A,g=l?id(n):null;l&&p();function p(){const b=id(n);g&&!X6(g,b)&&e(),g=b,A=requestAnimationFrame(p)}return e(),()=>{var b;u.forEach(x=>{a&&x.removeEventListener("scroll",e),i&&x.removeEventListener("resize",e)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,l&&cancelAnimationFrame(A)}}const tz=SV,nz=TV,rz=jV,sz=_V,az=CV,WN=wV,iz=kV,oz=(n,t,e)=>{const s=new Map,a={platform:ZV,...e},i={...a.platform,_c:s};return yV(n,t,{...a,platform:i})};var lz=typeof document<"u",cz=function(){},YA=lz?k.useLayoutEffect:cz;function Mg(n,t){if(n===t)return!0;if(typeof n!=typeof t)return!1;if(typeof n=="function"&&n.toString()===t.toString())return!0;let e,s,a;if(n&&t&&typeof n=="object"){if(Array.isArray(n)){if(e=n.length,e!==t.length)return!1;for(s=e;s--!==0;)if(!Mg(n[s],t[s]))return!1;return!0}if(a=Object.keys(n),e=a.length,e!==Object.keys(t).length)return!1;for(s=e;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=e;s--!==0;){const i=a[s];if(!(i==="_owner"&&n.$$typeof)&&!Mg(n[i],t[i]))return!1}return!0}return n!==n&&t!==t}function J6(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function XN(n,t){const e=J6(n);return Math.round(t*e)/e}function Zb(n){const t=k.useRef(n);return YA(()=>{t.current=n}),t}function dz(n){n===void 0&&(n={});const{placement:t="bottom",strategy:e="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:c=!0,whileElementsMounted:l,open:d}=n,[u,f]=k.useState({x:0,y:0,strategy:e,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=k.useState(s);Mg(h,s)||m(s);const[A,g]=k.useState(null),[p,b]=k.useState(null),x=k.useCallback(j=>{j!==M.current&&(M.current=j,g(j))},[]),v=k.useCallback(j=>{j!==P.current&&(P.current=j,b(j))},[]),y=i||A,S=o||p,M=k.useRef(null),P=k.useRef(null),B=k.useRef(u),D=l!=null,L=Zb(l),O=Zb(a),F=Zb(d),_=k.useCallback(()=>{if(!M.current||!P.current)return;const j={placement:t,strategy:e,middleware:h};O.current&&(j.platform=O.current),oz(M.current,P.current,j).then(N=>{const I={...N,isPositioned:F.current!==!1};E.current&&!Mg(B.current,I)&&(B.current=I,ro.flushSync(()=>{f(I)}))})},[h,t,e,O,F]);YA(()=>{d===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[d]);const E=k.useRef(!1);YA(()=>(E.current=!0,()=>{E.current=!1}),[]),YA(()=>{if(y&&(M.current=y),S&&(P.current=S),y&&S){if(L.current)return L.current(y,S,_);_()}},[y,S,_,L,D]);const T=k.useMemo(()=>({reference:M,floating:P,setReference:x,setFloating:v}),[x,v]),w=k.useMemo(()=>({reference:y,floating:S}),[y,S]),C=k.useMemo(()=>{const j={position:e,left:0,top:0};if(!w.floating)return j;const N=XN(w.floating,u.x),I=XN(w.floating,u.y);return c?{...j,transform:"translate("+N+"px, "+I+"px)",...J6(w.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:N,top:I}},[e,c,w.floating,u.x,u.y]);return k.useMemo(()=>({...u,update:_,refs:T,elements:w,floatingStyles:C}),[u,_,T,w,C])}const uz=n=>{function t(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:n,fn(e){const{element:s,padding:a}=typeof n=="function"?n(e):n;return s&&t(s)?s.current!=null?WN({element:s.current,padding:a}).fn(e):{}:s?WN({element:s,padding:a}).fn(e):{}}}},hz=(n,t)=>({...tz(n),options:[n,t]}),fz=(n,t)=>({...nz(n),options:[n,t]}),mz=(n,t)=>({...iz(n),options:[n,t]}),pz=(n,t)=>({...rz(n),options:[n,t]}),Az=(n,t)=>({...sz(n),options:[n,t]}),gz=(n,t)=>({...az(n),options:[n,t]}),xz=(n,t)=>({...uz(n),options:[n,t]});var bz="Arrow",Z6=k.forwardRef((n,t)=>{const{children:e,width:s=10,height:a=5,...i}=n;return r.jsx(Nt.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?e:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});Z6.displayName=bz;var vz=Z6;function lx(n){const[t,e]=k.useState(void 0);return Fr(()=>{if(n){e({width:n.offsetWidth,height:n.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,c;if("borderBoxSize"in i){const l=i.borderBoxSize,d=Array.isArray(l)?l[0]:l;o=d.inlineSize,c=d.blockSize}else o=n.offsetWidth,c=n.offsetHeight;e({width:o,height:c})});return s.observe(n,{box:"border-box"}),()=>s.unobserve(n)}else e(void 0)},[n]),t}var rj="Popper",[eB,lc]=ks(rj),[yz,tB]=eB(rj),nB=n=>{const{__scopePopper:t,children:e}=n,[s,a]=k.useState(null);return r.jsx(yz,{scope:t,anchor:s,onAnchorChange:a,children:e})};nB.displayName=rj;var rB="PopperAnchor",sB=k.forwardRef((n,t)=>{const{__scopePopper:e,virtualRef:s,...a}=n,i=tB(rB,e),o=k.useRef(null),c=cn(t,o),l=k.useRef(null);return k.useEffect(()=>{const d=l.current;l.current=(s==null?void 0:s.current)||o.current,d!==l.current&&i.onAnchorChange(l.current)}),s?null:r.jsx(Nt.div,{...a,ref:c})});sB.displayName=rB;var sj="PopperContent",[wz,jz]=eB(sj),aB=k.forwardRef((n,t)=>{var q,H,$,G,J,te;const{__scopePopper:e,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:l=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:A,...g}=n,p=tB(sj,e),[b,x]=k.useState(null),v=cn(t,K=>x(K)),[y,S]=k.useState(null),M=lx(y),P=(M==null?void 0:M.width)??0,B=(M==null?void 0:M.height)??0,D=s+(i!=="center"?"-"+i:""),L=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},O=Array.isArray(d)?d:[d],F=O.length>0,_={padding:L,boundary:O.filter(Nz),altBoundary:F},{refs:E,floatingStyles:T,placement:w,isPositioned:C,middlewareData:j}=dz({strategy:"fixed",placement:D,whileElementsMounted:(...K)=>Y6(...K,{animationFrame:m==="always"}),elements:{reference:p.anchor},middleware:[hz({mainAxis:a+B,alignmentAxis:o}),l&&fz({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?mz():void 0,..._}),l&&pz({..._}),Az({..._,apply:({elements:K,rects:ne,availableWidth:ce,availableHeight:oe})=>{const{width:ee,height:W}=ne.reference,Y=K.floating.style;Y.setProperty("--radix-popper-available-width",`${ce}px`),Y.setProperty("--radix-popper-available-height",`${oe}px`),Y.setProperty("--radix-popper-anchor-width",`${ee}px`),Y.setProperty("--radix-popper-anchor-height",`${W}px`)}}),y&&xz({element:y,padding:c}),Sz({arrowWidth:P,arrowHeight:B}),h&&gz({strategy:"referenceHidden",..._})]}),[N,I]=lB(w),R=Hr(A);Fr(()=>{C&&(R==null||R())},[C,R]);const U=(q=j.arrow)==null?void 0:q.x,V=(H=j.arrow)==null?void 0:H.y,z=(($=j.arrow)==null?void 0:$.centerOffset)!==0,[X,Q]=k.useState();return Fr(()=>{b&&Q(window.getComputedStyle(b).zIndex)},[b]),r.jsx("div",{ref:E.setFloating,"data-radix-popper-content-wrapper":"",style:{...T,transform:C?T.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[(G=j.transformOrigin)==null?void 0:G.x,(J=j.transformOrigin)==null?void 0:J.y].join(" "),...((te=j.hide)==null?void 0:te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:r.jsx(wz,{scope:e,placedSide:N,onArrowChange:S,arrowX:U,arrowY:V,shouldHideArrow:z,children:r.jsx(Nt.div,{"data-side":N,"data-align":I,...g,ref:v,style:{...g.style,animation:C?void 0:"none"}})})})});aB.displayName=sj;var iB="PopperArrow",Cz={top:"bottom",right:"left",bottom:"top",left:"right"},oB=k.forwardRef(function(t,e){const{__scopePopper:s,...a}=t,i=jz(iB,s),o=Cz[i.placedSide];return r.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:r.jsx(vz,{...a,ref:e,style:{...a.style,display:"block"}})})});oB.displayName=iB;function Nz(n){return n!==null}var Sz=n=>({name:"transformOrigin",options:n,fn(t){var p,b,x;const{placement:e,rects:s,middlewareData:a}=t,o=((p=a.arrow)==null?void 0:p.centerOffset)!==0,c=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[d,u]=lB(e),f={start:"0%",center:"50%",end:"100%"}[u],h=(((b=a.arrow)==null?void 0:b.x)??0)+c/2,m=(((x=a.arrow)==null?void 0:x.y)??0)+l/2;let A="",g="";return d==="bottom"?(A=o?f:`${h}px`,g=`${-l}px`):d==="top"?(A=o?f:`${h}px`,g=`${s.floating.height+l}px`):d==="right"?(A=`${-l}px`,g=o?f:`${m}px`):d==="left"&&(A=`${s.floating.width+l}px`,g=o?f:`${m}px`),{data:{x:A,y:g}}}});function lB(n){const[t,e="center"]=n.split("-");return[t,e]}var cx=nB,Qm=sB,dx=aB,ux=oB,[hx,vBe]=ks("Tooltip",[lc]),fx=lc(),cB="TooltipProvider",Tz=700,dw="tooltip.open",[kz,aj]=hx(cB),dB=n=>{const{__scopeTooltip:t,delayDuration:e=Tz,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=n,o=k.useRef(!0),c=k.useRef(!1),l=k.useRef(0);return k.useEffect(()=>{const d=l.current;return()=>window.clearTimeout(d)},[]),r.jsx(kz,{scope:t,isOpenDelayedRef:o,delayDuration:e,onOpen:k.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:k.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:c,onPointerInTransitChange:k.useCallback(d=>{c.current=d},[]),disableHoverableContent:a,children:i})};dB.displayName=cB;var Zf="Tooltip",[_z,mx]=hx(Zf),uB=n=>{const{__scopeTooltip:t,children:e,open:s,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:c}=n,l=aj(Zf,n.__scopeTooltip),d=fx(t),[u,f]=k.useState(null),h=ga(),m=k.useRef(0),A=o??l.disableHoverableContent,g=c??l.delayDuration,p=k.useRef(!1),[b,x]=wa({prop:s,defaultProp:a??!1,onChange:P=>{P?(l.onOpen(),document.dispatchEvent(new CustomEvent(dw))):l.onClose(),i==null||i(P)},caller:Zf}),v=k.useMemo(()=>b?p.current?"delayed-open":"instant-open":"closed",[b]),y=k.useCallback(()=>{window.clearTimeout(m.current),m.current=0,p.current=!1,x(!0)},[x]),S=k.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x(!1)},[x]),M=k.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{p.current=!0,x(!0),m.current=0},g)},[g,x]);return k.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),r.jsx(cx,{...d,children:r.jsx(_z,{scope:t,contentId:h,open:b,stateAttribute:v,trigger:u,onTriggerChange:f,onTriggerEnter:k.useCallback(()=>{l.isOpenDelayedRef.current?M():y()},[l.isOpenDelayedRef,M,y]),onTriggerLeave:k.useCallback(()=>{A?S():(window.clearTimeout(m.current),m.current=0)},[S,A]),onOpen:y,onClose:S,disableHoverableContent:A,children:e})})};uB.displayName=Zf;var uw="TooltipTrigger",hB=k.forwardRef((n,t)=>{const{__scopeTooltip:e,...s}=n,a=mx(uw,e),i=aj(uw,e),o=fx(e),c=k.useRef(null),l=cn(t,c,a.onTriggerChange),d=k.useRef(!1),u=k.useRef(!1),f=k.useCallback(()=>d.current=!1,[]);return k.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),r.jsx(Qm,{asChild:!0,...o,children:r.jsx(Nt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:l,onPointerMove:tt(n.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:tt(n.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:tt(n.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:tt(n.onFocus,()=>{d.current||a.onOpen()}),onBlur:tt(n.onBlur,a.onClose),onClick:tt(n.onClick,a.onClose)})})});hB.displayName=uw;var Bz="TooltipPortal",[yBe,Ez]=hx(Bz,{forceMount:void 0}),Ou="TooltipContent",fB=k.forwardRef((n,t)=>{const e=Ez(Ou,n.__scopeTooltip),{forceMount:s=e.forceMount,side:a="top",...i}=n,o=mx(Ou,n.__scopeTooltip);return r.jsx(hs,{present:s||o.open,children:o.disableHoverableContent?r.jsx(mB,{side:a,...i,ref:t}):r.jsx(Mz,{side:a,...i,ref:t})})}),Mz=k.forwardRef((n,t)=>{const e=mx(Ou,n.__scopeTooltip),s=aj(Ou,n.__scopeTooltip),a=k.useRef(null),i=cn(t,a),[o,c]=k.useState(null),{trigger:l,onClose:d}=e,u=a.current,{onPointerInTransitChange:f}=s,h=k.useCallback(()=>{c(null),f(!1)},[f]),m=k.useCallback((A,g)=>{const p=A.currentTarget,b={x:A.clientX,y:A.clientY},x=Lz(b,p.getBoundingClientRect()),v=Fz(b,x),y=Rz(g.getBoundingClientRect()),S=Hz([...v,...y]);c(S),f(!0)},[f]);return k.useEffect(()=>()=>h(),[h]),k.useEffect(()=>{if(l&&u){const A=p=>m(p,u),g=p=>m(p,l);return l.addEventListener("pointerleave",A),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",A),u.removeEventListener("pointerleave",g)}}},[l,u,m,h]),k.useEffect(()=>{if(o){const A=g=>{const p=g.target,b={x:g.clientX,y:g.clientY},x=(l==null?void 0:l.contains(p))||(u==null?void 0:u.contains(p)),v=!Uz(b,o);x?h():v&&(h(),d())};return document.addEventListener("pointermove",A),()=>document.removeEventListener("pointermove",A)}},[l,u,o,d,h]),r.jsx(mB,{...n,ref:i})}),[Pz,Dz]=hx(Zf,{isInside:!1}),Iz=AR("TooltipContent"),mB=k.forwardRef((n,t)=>{const{__scopeTooltip:e,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...c}=n,l=mx(Ou,e),d=fx(e),{onClose:u}=l;return k.useEffect(()=>(document.addEventListener(dw,u),()=>document.removeEventListener(dw,u)),[u]),k.useEffect(()=>{if(l.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),r.jsx(ic,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:r.jsxs(dx,{"data-state":l.stateAttribute,...d,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(Iz,{children:s}),r.jsx(Pz,{scope:e,isInside:!0,children:r.jsx(U_,{id:l.contentId,role:"tooltip",children:a||s})})]})})});fB.displayName=Ou;var pB="TooltipArrow",Oz=k.forwardRef((n,t)=>{const{__scopeTooltip:e,...s}=n,a=fx(e);return Dz(pB,e).isInside?null:r.jsx(ux,{...a,...s,ref:t})});Oz.displayName=pB;function Lz(n,t){const e=Math.abs(t.top-n.y),s=Math.abs(t.bottom-n.y),a=Math.abs(t.right-n.x),i=Math.abs(t.left-n.x);switch(Math.min(e,s,a,i)){case i:return"left";case a:return"right";case e:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function Fz(n,t,e=5){const s=[];switch(t){case"top":s.push({x:n.x-e,y:n.y+e},{x:n.x+e,y:n.y+e});break;case"bottom":s.push({x:n.x-e,y:n.y-e},{x:n.x+e,y:n.y-e});break;case"left":s.push({x:n.x+e,y:n.y-e},{x:n.x+e,y:n.y+e});break;case"right":s.push({x:n.x-e,y:n.y-e},{x:n.x-e,y:n.y+e});break}return s}function Rz(n){const{top:t,right:e,bottom:s,left:a}=n;return[{x:a,y:t},{x:e,y:t},{x:e,y:s},{x:a,y:s}]}function Uz(n,t){const{x:e,y:s}=n;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const c=t[i],l=t[o],d=c.x,u=c.y,f=l.x,h=l.y;u>s!=h>s&&e<(f-d)*(s-u)/(h-u)+d&&(a=!a)}return a}function Hz(n){const t=n.slice();return t.sort((e,s)=>e.x<s.x?-1:e.x>s.x?1:e.y<s.y?-1:e.y>s.y?1:0),$z(t)}function $z(n){if(n.length<=1)return n.slice();const t=[];for(let s=0;s<n.length;s++){const a=n[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const e=[];for(let s=n.length-1;s>=0;s--){const a=n[s];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))e.pop();else break}e.push(a)}return e.pop(),t.length===1&&e.length===1&&t[0].x===e[0].x&&t[0].y===e[0].y?t:t.concat(e)}var Qz=dB,Vz=uB,zz=hB,AB=fB;const gB=({children:n,...t})=>r.jsx(Qz,{...t,children:n}),Pg=Vz,Dg=zz,em=k.forwardRef(({className:n,sideOffset:t=4,...e},s)=>r.jsx(AB,{ref:s,sideOffset:t,className:Ue("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));em.displayName=AB.displayName;var px=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ax=typeof window>"u"||"Deno"in globalThis;function ci(){}function Kz(n,t){return typeof n=="function"?n(t):n}function Gz(n){return typeof n=="number"&&n>=0&&n!==1/0}function qz(n,t){return Math.max(n+(t||0)-Date.now(),0)}function hw(n,t){return typeof n=="function"?n(t):n}function Wz(n,t){return typeof n=="function"?n(t):n}function YN(n,t){const{type:e="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:c}=n;if(o){if(s){if(t.queryHash!==ij(o,t.options))return!1}else if(!nm(t.queryKey,o))return!1}if(e!=="all"){const l=t.isActive();if(e==="active"&&!l||e==="inactive"&&l)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||a&&a!==t.state.fetchStatus||i&&!i(t))}function JN(n,t){const{exact:e,status:s,predicate:a,mutationKey:i}=n;if(i){if(!t.options.mutationKey)return!1;if(e){if(tm(t.options.mutationKey)!==tm(i))return!1}else if(!nm(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function ij(n,t){return((t==null?void 0:t.queryKeyHashFn)||tm)(n)}function tm(n){return JSON.stringify(n,(t,e)=>fw(e)?Object.keys(e).sort().reduce((s,a)=>(s[a]=e[a],s),{}):e)}function nm(n,t){return n===t?!0:typeof n!=typeof t?!1:n&&t&&typeof n=="object"&&typeof t=="object"?Object.keys(t).every(e=>nm(n[e],t[e])):!1}function xB(n,t){if(n===t)return n;const e=ZN(n)&&ZN(t);if(e||fw(n)&&fw(t)){const s=e?n:Object.keys(n),a=s.length,i=e?t:Object.keys(t),o=i.length,c=e?[]:{},l=new Set(s);let d=0;for(let u=0;u<o;u++){const f=e?u:i[u];(!e&&l.has(f)||e)&&n[f]===void 0&&t[f]===void 0?(c[f]=void 0,d++):(c[f]=xB(n[f],t[f]),c[f]===n[f]&&n[f]!==void 0&&d++)}return a===o&&d===a?n:c}return t}function ZN(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function fw(n){if(!e4(n))return!1;const t=n.constructor;if(t===void 0)return!0;const e=t.prototype;return!(!e4(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function e4(n){return Object.prototype.toString.call(n)==="[object Object]"}function Xz(n){return new Promise(t=>{setTimeout(t,n)})}function Yz(n,t,e){return typeof e.structuralSharing=="function"?e.structuralSharing(n,t):e.structuralSharing!==!1?xB(n,t):t}function Jz(n,t,e=0){const s=[...n,t];return e&&s.length>e?s.slice(1):s}function Zz(n,t,e=0){const s=[t,...n];return e&&s.length>e?s.slice(0,-1):s}var oj=Symbol();function bB(n,t){return!n.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!n.queryFn||n.queryFn===oj?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var $c,Sl,Nu,C_,eK=(C_=class extends px{constructor(){super();Kn(this,$c);Kn(this,Sl);Kn(this,Nu);yn(this,Nu,t=>{if(!Ax&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){Ye(this,Sl)||this.setEventListener(Ye(this,Nu))}onUnsubscribe(){var t;this.hasListeners()||((t=Ye(this,Sl))==null||t.call(this),yn(this,Sl,void 0))}setEventListener(t){var e;yn(this,Nu,t),(e=Ye(this,Sl))==null||e.call(this),yn(this,Sl,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){Ye(this,$c)!==t&&(yn(this,$c,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof Ye(this,$c)=="boolean"?Ye(this,$c):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},$c=new WeakMap,Sl=new WeakMap,Nu=new WeakMap,C_),vB=new eK,Su,Tl,Tu,N_,tK=(N_=class extends px{constructor(){super();Kn(this,Su,!0);Kn(this,Tl);Kn(this,Tu);yn(this,Tu,t=>{if(!Ax&&window.addEventListener){const e=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}}})}onSubscribe(){Ye(this,Tl)||this.setEventListener(Ye(this,Tu))}onUnsubscribe(){var t;this.hasListeners()||((t=Ye(this,Tl))==null||t.call(this),yn(this,Tl,void 0))}setEventListener(t){var e;yn(this,Tu,t),(e=Ye(this,Tl))==null||e.call(this),yn(this,Tl,t(this.setOnline.bind(this)))}setOnline(t){Ye(this,Su)!==t&&(yn(this,Su,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return Ye(this,Su)}},Su=new WeakMap,Tl=new WeakMap,Tu=new WeakMap,N_),Ig=new tK;function nK(){let n,t;const e=new Promise((a,i)=>{n=a,t=i});e.status="pending",e.catch(()=>{});function s(a){Object.assign(e,a),delete e.resolve,delete e.reject}return e.resolve=a=>{s({status:"fulfilled",value:a}),n(a)},e.reject=a=>{s({status:"rejected",reason:a}),t(a)},e}function rK(n){return Math.min(1e3*2**n,3e4)}function yB(n){return(n??"online")==="online"?Ig.isOnline():!0}var wB=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function jB(n){let t=!1,e=0,s;const a=nK(),i=()=>a.status!=="pending",o=g=>{var p;i()||(h(new wB(g)),(p=n.abort)==null||p.call(n))},c=()=>{t=!0},l=()=>{t=!1},d=()=>vB.isFocused()&&(n.networkMode==="always"||Ig.isOnline())&&n.canRun(),u=()=>yB(n.networkMode)&&n.canRun(),f=g=>{i()||(s==null||s(),a.resolve(g))},h=g=>{i()||(s==null||s(),a.reject(g))},m=()=>new Promise(g=>{var p;s=b=>{(i()||d())&&g(b)},(p=n.onPause)==null||p.call(n)}).then(()=>{var g;s=void 0,i()||(g=n.onContinue)==null||g.call(n)}),A=()=>{if(i())return;let g;const p=e===0?n.initialPromise:void 0;try{g=p??n.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(f).catch(b=>{var M;if(i())return;const x=n.retry??(Ax?0:3),v=n.retryDelay??rK,y=typeof v=="function"?v(e,b):v,S=x===!0||typeof x=="number"&&e<x||typeof x=="function"&&x(e,b);if(t||!S){h(b);return}e++,(M=n.onFail)==null||M.call(n,e,b),Xz(y).then(()=>d()?void 0:m()).then(()=>{t?h(b):A()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:c,continueRetry:l,canStart:u,start:()=>(u()?A():m().then(A),a)}}var sK=n=>setTimeout(n,0);function aK(){let n=[],t=0,e=c=>{c()},s=c=>{c()},a=sK;const i=c=>{t?n.push(c):a(()=>{e(c)})},o=()=>{const c=n;n=[],c.length&&a(()=>{s(()=>{c.forEach(l=>{e(l)})})})};return{batch:c=>{let l;t++;try{l=c()}finally{t--,t||o()}return l},batchCalls:c=>(...l)=>{i(()=>{c(...l)})},schedule:i,setNotifyFunction:c=>{e=c},setBatchNotifyFunction:c=>{s=c},setScheduler:c=>{a=c}}}var Ws=aK(),Qc,S_,CB=(S_=class{constructor(){Kn(this,Qc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Gz(this.gcTime)&&yn(this,Qc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Ax?1/0:5*60*1e3))}clearGcTimeout(){Ye(this,Qc)&&(clearTimeout(Ye(this,Qc)),yn(this,Qc,void 0))}},Qc=new WeakMap,S_),ku,_u,za,Vc,gs,Om,zc,di,So,T_,iK=(T_=class extends CB{constructor(t){super();Kn(this,di);Kn(this,ku);Kn(this,_u);Kn(this,za);Kn(this,Vc);Kn(this,gs);Kn(this,Om);Kn(this,zc);yn(this,zc,!1),yn(this,Om,t.defaultOptions),this.setOptions(t.options),this.observers=[],yn(this,Vc,t.client),yn(this,za,Ye(this,Vc).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,yn(this,ku,lK(this.options)),this.state=t.state??Ye(this,ku),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Ye(this,gs))==null?void 0:t.promise}setOptions(t){this.options={...Ye(this,Om),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ye(this,za).remove(this)}setData(t,e){const s=Yz(this.state.data,t,this.options);return Es(this,di,So).call(this,{data:s,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),s}setState(t,e){Es(this,di,So).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var s,a;const e=(s=Ye(this,gs))==null?void 0:s.promise;return(a=Ye(this,gs))==null||a.cancel(t),e?e.then(ci).catch(ci):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ye(this,ku))}isActive(){return this.observers.some(t=>Wz(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===oj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>hw(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!qz(this.state.dataUpdatedAt,t)}onFocus(){var e;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(e=Ye(this,gs))==null||e.continue()}onOnline(){var e;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(e=Ye(this,gs))==null||e.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Ye(this,za).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(Ye(this,gs)&&(Ye(this,zc)?Ye(this,gs).cancel({revert:!0}):Ye(this,gs).cancelRetry()),this.scheduleGc()),Ye(this,za).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Es(this,di,So).call(this,{type:"invalidate"})}async fetch(t,e){var l,d,u,f,h,m,A,g,p,b,x,v;if(this.state.fetchStatus!=="idle"&&((l=Ye(this,gs))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(e!=null&&e.cancelRefetch))this.cancel({silent:!0});else if(Ye(this,gs))return Ye(this,gs).continueRetry(),Ye(this,gs).promise}if(t&&this.setOptions(t),!this.options.queryFn){const y=this.observers.find(S=>S.options.queryFn);y&&this.setOptions(y.options)}const s=new AbortController,a=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(yn(this,zc,!0),s.signal)})},i=()=>{const y=bB(this.options,e),M=(()=>{const P={client:Ye(this,Vc),queryKey:this.queryKey,meta:this.meta};return a(P),P})();return yn(this,zc,!1),this.options.persister?this.options.persister(y,M,this):y(M)},c=(()=>{const y={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:Ye(this,Vc),state:this.state,fetchFn:i};return a(y),y})();(d=this.options.behavior)==null||d.onFetch(c,this),yn(this,_u,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=c.fetchOptions)==null?void 0:u.meta))&&Es(this,di,So).call(this,{type:"fetch",meta:(f=c.fetchOptions)==null?void 0:f.meta}),yn(this,gs,jB({initialPromise:e==null?void 0:e.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onFail:(y,S)=>{Es(this,di,So).call(this,{type:"failed",failureCount:y,error:S})},onPause:()=>{Es(this,di,So).call(this,{type:"pause"})},onContinue:()=>{Es(this,di,So).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const y=await Ye(this,gs).start();if(y===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(y),(m=(h=Ye(this,za).config).onSuccess)==null||m.call(h,y,this),(g=(A=Ye(this,za).config).onSettled)==null||g.call(A,y,this.state.error,this),y}catch(y){if(y instanceof wB){if(y.silent)return Ye(this,gs).promise;if(y.revert)return this.setState({...Ye(this,_u),fetchStatus:"idle"}),this.state.data}throw Es(this,di,So).call(this,{type:"error",error:y}),(b=(p=Ye(this,za).config).onError)==null||b.call(p,y,this),(v=(x=Ye(this,za).config).onSettled)==null||v.call(x,this.state.data,y,this),y}finally{this.scheduleGc()}}},ku=new WeakMap,_u=new WeakMap,za=new WeakMap,Vc=new WeakMap,gs=new WeakMap,Om=new WeakMap,zc=new WeakMap,di=new WeakSet,So=function(t){const e=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...oK(s.data,this.options),fetchMeta:t.meta??null};case"success":const a={...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return yn(this,_u,t.manual?a:void 0),a;case"error":const i=t.error;return{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=e(this.state),Ws.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),Ye(this,za).notify({query:this,type:"updated",action:t})})},T_);function oK(n,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:yB(t.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function lK(n){const t=typeof n.initialData=="function"?n.initialData():n.initialData,e=t!==void 0,s=e?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:e?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}var Oi,k_,cK=(k_=class extends px{constructor(t={}){super();Kn(this,Oi);this.config=t,yn(this,Oi,new Map)}build(t,e,s){const a=e.queryKey,i=e.queryHash??ij(a,e);let o=this.get(i);return o||(o=new iK({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(e),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){Ye(this,Oi).has(t.queryHash)||(Ye(this,Oi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=Ye(this,Oi).get(t.queryHash);e&&(t.destroy(),e===t&&Ye(this,Oi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ws.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Ye(this,Oi).get(t)}getAll(){return[...Ye(this,Oi).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(s=>YN(e,s))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(s=>YN(t,s)):e}notify(t){Ws.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Ws.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ws.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Oi=new WeakMap,k_),Li,zs,Kc,Fi,bl,__,dK=(__=class extends CB{constructor(t){super();Kn(this,Fi);Kn(this,Li);Kn(this,zs);Kn(this,Kc);this.mutationId=t.mutationId,yn(this,zs,t.mutationCache),yn(this,Li,[]),this.state=t.state||uK(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Ye(this,Li).includes(t)||(Ye(this,Li).push(t),this.clearGcTimeout(),Ye(this,zs).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){yn(this,Li,Ye(this,Li).filter(e=>e!==t)),this.scheduleGc(),Ye(this,zs).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Ye(this,Li).length||(this.state.status==="pending"?this.scheduleGc():Ye(this,zs).remove(this))}continue(){var t;return((t=Ye(this,Kc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,c,l,d,u,f,h,m,A,g,p,b,x,v,y,S,M,P,B;const e=()=>{Es(this,Fi,bl).call(this,{type:"continue"})};yn(this,Kc,jB({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(D,L)=>{Es(this,Fi,bl).call(this,{type:"failed",failureCount:D,error:L})},onPause:()=>{Es(this,Fi,bl).call(this,{type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ye(this,zs).canRun(this)}));const s=this.state.status==="pending",a=!Ye(this,Kc).canStart();try{if(s)e();else{Es(this,Fi,bl).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=Ye(this,zs).config).onMutate)==null?void 0:o.call(i,t,this));const L=await((l=(c=this.options).onMutate)==null?void 0:l.call(c,t));L!==this.state.context&&Es(this,Fi,bl).call(this,{type:"pending",context:L,variables:t,isPaused:a})}const D=await Ye(this,Kc).start();return await((u=(d=Ye(this,zs).config).onSuccess)==null?void 0:u.call(d,D,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,D,t,this.state.context)),await((A=(m=Ye(this,zs).config).onSettled)==null?void 0:A.call(m,D,null,this.state.variables,this.state.context,this)),await((p=(g=this.options).onSettled)==null?void 0:p.call(g,D,null,t,this.state.context)),Es(this,Fi,bl).call(this,{type:"success",data:D}),D}catch(D){try{throw await((x=(b=Ye(this,zs).config).onError)==null?void 0:x.call(b,D,t,this.state.context,this)),await((y=(v=this.options).onError)==null?void 0:y.call(v,D,t,this.state.context)),await((M=(S=Ye(this,zs).config).onSettled)==null?void 0:M.call(S,void 0,D,this.state.variables,this.state.context,this)),await((B=(P=this.options).onSettled)==null?void 0:B.call(P,void 0,D,t,this.state.context)),D}finally{Es(this,Fi,bl).call(this,{type:"error",error:D})}}finally{Ye(this,zs).runNext(this)}}},Li=new WeakMap,zs=new WeakMap,Kc=new WeakMap,Fi=new WeakSet,bl=function(t){const e=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Ws.batch(()=>{Ye(this,Li).forEach(s=>{s.onMutationUpdate(t)}),Ye(this,zs).notify({mutation:this,type:"updated",action:t})})},__);function uK(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Po,ui,Lm,B_,hK=(B_=class extends px{constructor(t={}){super();Kn(this,Po);Kn(this,ui);Kn(this,Lm);this.config=t,yn(this,Po,new Set),yn(this,ui,new Map),yn(this,Lm,0)}build(t,e,s){const a=new dK({mutationCache:this,mutationId:++kp(this,Lm)._,options:t.defaultMutationOptions(e),state:s});return this.add(a),a}add(t){Ye(this,Po).add(t);const e=Pp(t);if(typeof e=="string"){const s=Ye(this,ui).get(e);s?s.push(t):Ye(this,ui).set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Ye(this,Po).delete(t)){const e=Pp(t);if(typeof e=="string"){const s=Ye(this,ui).get(e);if(s)if(s.length>1){const a=s.indexOf(t);a!==-1&&s.splice(a,1)}else s[0]===t&&Ye(this,ui).delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Pp(t);if(typeof e=="string"){const s=Ye(this,ui).get(e),a=s==null?void 0:s.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var s;const e=Pp(t);if(typeof e=="string"){const a=(s=Ye(this,ui).get(e))==null?void 0:s.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ws.batch(()=>{Ye(this,Po).forEach(t=>{this.notify({type:"removed",mutation:t})}),Ye(this,Po).clear(),Ye(this,ui).clear()})}getAll(){return Array.from(Ye(this,Po))}find(t){const e={exact:!0,...t};return this.getAll().find(s=>JN(e,s))}findAll(t={}){return this.getAll().filter(e=>JN(t,e))}notify(t){Ws.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Ws.batch(()=>Promise.all(t.map(e=>e.continue().catch(ci))))}},Po=new WeakMap,ui=new WeakMap,Lm=new WeakMap,B_);function Pp(n){var t;return(t=n.options.scope)==null?void 0:t.id}function t4(n){return{onFetch:(t,e)=>{var u,f,h,m,A;const s=t.options,a=(h=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((A=t.state.data)==null?void 0:A.pageParams)||[];let c={pages:[],pageParams:[]},l=0;const d=async()=>{let g=!1;const p=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},b=bB(t.options,t.fetchOptions),x=async(v,y,S)=>{if(g)return Promise.reject();if(y==null&&v.pages.length)return Promise.resolve(v);const P=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:y,direction:S?"backward":"forward",meta:t.options.meta};return p(O),O})(),B=await b(P),{maxPages:D}=t.options,L=S?Zz:Jz;return{pages:L(v.pages,B,D),pageParams:L(v.pageParams,y,D)}};if(a&&i.length){const v=a==="backward",y=v?fK:n4,S={pages:i,pageParams:o},M=y(s,S);c=await x(S,M,v)}else{const v=n??i.length;do{const y=l===0?o[0]??s.initialPageParam:n4(s,c);if(l>0&&y==null)break;c=await x(c,y),l++}while(l<v)}return c};t.options.persister?t.fetchFn=()=>{var g,p;return(p=(g=t.options).persister)==null?void 0:p.call(g,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},e)}:t.fetchFn=d}}}function n4(n,{pages:t,pageParams:e}){const s=t.length-1;return t.length>0?n.getNextPageParam(t[s],t,e[s],e):void 0}function fK(n,{pages:t,pageParams:e}){var s;return t.length>0?(s=n.getPreviousPageParam)==null?void 0:s.call(n,t[0],t,e[0],e):void 0}var Ur,kl,_l,Bu,Eu,Bl,Mu,Pu,E_,mK=(E_=class{constructor(n={}){Kn(this,Ur);Kn(this,kl);Kn(this,_l);Kn(this,Bu);Kn(this,Eu);Kn(this,Bl);Kn(this,Mu);Kn(this,Pu);yn(this,Ur,n.queryCache||new cK),yn(this,kl,n.mutationCache||new hK),yn(this,_l,n.defaultOptions||{}),yn(this,Bu,new Map),yn(this,Eu,new Map),yn(this,Bl,0)}mount(){kp(this,Bl)._++,Ye(this,Bl)===1&&(yn(this,Mu,vB.subscribe(async n=>{n&&(await this.resumePausedMutations(),Ye(this,Ur).onFocus())})),yn(this,Pu,Ig.subscribe(async n=>{n&&(await this.resumePausedMutations(),Ye(this,Ur).onOnline())})))}unmount(){var n,t;kp(this,Bl)._--,Ye(this,Bl)===0&&((n=Ye(this,Mu))==null||n.call(this),yn(this,Mu,void 0),(t=Ye(this,Pu))==null||t.call(this),yn(this,Pu,void 0))}isFetching(n){return Ye(this,Ur).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return Ye(this,kl).findAll({...n,status:"pending"}).length}getQueryData(n){var e;const t=this.defaultQueryOptions({queryKey:n});return(e=Ye(this,Ur).get(t.queryHash))==null?void 0:e.state.data}ensureQueryData(n){const t=this.defaultQueryOptions(n),e=Ye(this,Ur).build(this,t),s=e.state.data;return s===void 0?this.fetchQuery(n):(n.revalidateIfStale&&e.isStaleByTime(hw(t.staleTime,e))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(n){return Ye(this,Ur).findAll(n).map(({queryKey:t,state:e})=>{const s=e.data;return[t,s]})}setQueryData(n,t,e){const s=this.defaultQueryOptions({queryKey:n}),a=Ye(this,Ur).get(s.queryHash),i=a==null?void 0:a.state.data,o=Kz(t,i);if(o!==void 0)return Ye(this,Ur).build(this,s).setData(o,{...e,manual:!0})}setQueriesData(n,t,e){return Ws.batch(()=>Ye(this,Ur).findAll(n).map(({queryKey:s})=>[s,this.setQueryData(s,t,e)]))}getQueryState(n){var e;const t=this.defaultQueryOptions({queryKey:n});return(e=Ye(this,Ur).get(t.queryHash))==null?void 0:e.state}removeQueries(n){const t=Ye(this,Ur);Ws.batch(()=>{t.findAll(n).forEach(e=>{t.remove(e)})})}resetQueries(n,t){const e=Ye(this,Ur);return Ws.batch(()=>(e.findAll(n).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...n},t)))}cancelQueries(n,t={}){const e={revert:!0,...t},s=Ws.batch(()=>Ye(this,Ur).findAll(n).map(a=>a.cancel(e)));return Promise.all(s).then(ci).catch(ci)}invalidateQueries(n,t={}){return Ws.batch(()=>(Ye(this,Ur).findAll(n).forEach(e=>{e.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},t)))}refetchQueries(n,t={}){const e={...t,cancelRefetch:t.cancelRefetch??!0},s=Ws.batch(()=>Ye(this,Ur).findAll(n).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,e);return e.throwOnError||(i=i.catch(ci)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(ci)}fetchQuery(n){const t=this.defaultQueryOptions(n);t.retry===void 0&&(t.retry=!1);const e=Ye(this,Ur).build(this,t);return e.isStaleByTime(hw(t.staleTime,e))?e.fetch(t):Promise.resolve(e.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(ci).catch(ci)}fetchInfiniteQuery(n){return n.behavior=t4(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(ci).catch(ci)}ensureInfiniteQueryData(n){return n.behavior=t4(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Ig.isOnline()?Ye(this,kl).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ye(this,Ur)}getMutationCache(){return Ye(this,kl)}getDefaultOptions(){return Ye(this,_l)}setDefaultOptions(n){yn(this,_l,n)}setQueryDefaults(n,t){Ye(this,Bu).set(tm(n),{queryKey:n,defaultOptions:t})}getQueryDefaults(n){const t=[...Ye(this,Bu).values()],e={};return t.forEach(s=>{nm(n,s.queryKey)&&Object.assign(e,s.defaultOptions)}),e}setMutationDefaults(n,t){Ye(this,Eu).set(tm(n),{mutationKey:n,defaultOptions:t})}getMutationDefaults(n){const t=[...Ye(this,Eu).values()],e={};return t.forEach(s=>{nm(n,s.mutationKey)&&Object.assign(e,s.defaultOptions)}),e}defaultQueryOptions(n){if(n._defaulted)return n;const t={...Ye(this,_l).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return t.queryHash||(t.queryHash=ij(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===oj&&(t.enabled=!1),t}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...Ye(this,_l).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){Ye(this,Ur).clear(),Ye(this,kl).clear()}},Ur=new WeakMap,kl=new WeakMap,_l=new WeakMap,Bu=new WeakMap,Eu=new WeakMap,Bl=new WeakMap,Mu=new WeakMap,Pu=new WeakMap,E_),pK=k.createContext(void 0),AK=({client:n,children:t})=>(k.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),r.jsx(pK.Provider,{value:n,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rm(){return rm=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},rm.apply(this,arguments)}var El;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(El||(El={}));const r4="popstate";function gK(n){n===void 0&&(n={});function t(s,a){let{pathname:i,search:o,hash:c}=s.location;return mw("",{pathname:i,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function e(s,a){return typeof a=="string"?a:Og(a)}return bK(t,e,null,n)}function Yr(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function NB(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xK(){return Math.random().toString(36).substr(2,8)}function s4(n,t){return{usr:n.state,key:n.key,idx:t}}function mw(n,t,e,s){return e===void 0&&(e=null),rm({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof t=="string"?ah(t):t,{state:e,key:t&&t.key||s||xK()})}function Og(n){let{pathname:t="/",search:e="",hash:s=""}=n;return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function ah(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substr(e),n=n.substr(0,e));let s=n.indexOf("?");s>=0&&(t.search=n.substr(s),n=n.substr(0,s)),n&&(t.pathname=n)}return t}function bK(n,t,e,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,c=El.Pop,l=null,d=u();d==null&&(d=0,o.replaceState(rm({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function f(){c=El.Pop;let p=u(),b=p==null?null:p-d;d=p,l&&l({action:c,location:g.location,delta:b})}function h(p,b){c=El.Push;let x=mw(g.location,p,b);d=u()+1;let v=s4(x,d),y=g.createHref(x);try{o.pushState(v,"",y)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(y)}i&&l&&l({action:c,location:g.location,delta:1})}function m(p,b){c=El.Replace;let x=mw(g.location,p,b);d=u();let v=s4(x,d),y=g.createHref(x);o.replaceState(v,"",y),i&&l&&l({action:c,location:g.location,delta:0})}function A(p){let b=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof p=="string"?p:Og(p);return x=x.replace(/ $/,"%20"),Yr(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let g={get action(){return c},get location(){return n(a,o)},listen(p){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(r4,f),l=p,()=>{a.removeEventListener(r4,f),l=null}},createHref(p){return t(a,p)},createURL:A,encodeLocation(p){let b=A(p);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(p){return o.go(p)}};return g}var a4;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(a4||(a4={}));function vK(n,t,e){return e===void 0&&(e="/"),yK(n,t,e)}function yK(n,t,e,s){let a=typeof t=="string"?ah(t):t,i=lj(a.pathname||"/",e);if(i==null)return null;let o=SB(n);wK(o);let c=null;for(let l=0;c==null&&l<o.length;++l){let d=DK(i);c=EK(o[l],d)}return c}function SB(n,t,e,s){t===void 0&&(t=[]),e===void 0&&(e=[]),s===void 0&&(s="");let a=(i,o,c)=>{let l={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Yr(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let d=Vl([s,l.relativePath]),u=e.concat(l);i.children&&i.children.length>0&&(Yr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),SB(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:_K(d,i.index),routesMeta:u})};return n.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))a(i,o);else for(let l of TB(i.path))a(i,o,l)}),t}function TB(n){let t=n.split("/");if(t.length===0)return[];let[e,...s]=t,a=e.endsWith("?"),i=e.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=TB(s.join("/")),c=[];return c.push(...o.map(l=>l===""?i:[i,l].join("/"))),a&&c.push(...o),c.map(l=>n.startsWith("/")&&l===""?"/":l)}function wK(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:BK(t.routesMeta.map(s=>s.childrenIndex),e.routesMeta.map(s=>s.childrenIndex)))}const jK=/^:[\w-]+$/,CK=3,NK=2,SK=1,TK=10,kK=-2,i4=n=>n==="*";function _K(n,t){let e=n.split("/"),s=e.length;return e.some(i4)&&(s+=kK),t&&(s+=NK),e.filter(a=>!i4(a)).reduce((a,i)=>a+(jK.test(i)?CK:i===""?SK:TK),s)}function BK(n,t){return n.length===t.length&&n.slice(0,-1).every((s,a)=>s===t[a])?n[n.length-1]-t[t.length-1]:0}function EK(n,t,e){let{routesMeta:s}=n,a={},i="/",o=[];for(let c=0;c<s.length;++c){let l=s[c],d=c===s.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=MK({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},u),h=l.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Vl([i,f.pathname]),pathnameBase:FK(Vl([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Vl([i,f.pathnameBase]))}return o}function MK(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,s]=PK(n.path,n.caseSensitive,n.end),a=t.match(e);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:s.reduce((d,u,f)=>{let{paramName:h,isOptional:m}=u;if(h==="*"){let g=c[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const A=c[f];return m&&!A?d[h]=void 0:d[h]=(A||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:n}}function PK(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!0),NB(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,l)=>(s.push({paramName:c,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function DK(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return NB(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),n}}function lj(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,s=n.charAt(e);return s&&s!=="/"?null:n.slice(e)||"/"}function IK(n,t){t===void 0&&(t="/");let{pathname:e,search:s="",hash:a=""}=typeof n=="string"?ah(n):n;return{pathname:e?e.startsWith("/")?e:OK(e,t):t,search:RK(s),hash:UK(a)}}function OK(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?e.length>1&&e.pop():a!=="."&&e.push(a)}),e.length>1?e.join("/"):"/"}function ev(n,t,e,s){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+e+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function LK(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function cj(n,t){let e=LK(n);return t?e.map((s,a)=>a===e.length-1?s.pathname:s.pathnameBase):e.map(s=>s.pathnameBase)}function dj(n,t,e,s){s===void 0&&(s=!1);let a;typeof n=="string"?a=ah(n):(a=rm({},n),Yr(!a.pathname||!a.pathname.includes("?"),ev("?","pathname","search",a)),Yr(!a.pathname||!a.pathname.includes("#"),ev("#","pathname","hash",a)),Yr(!a.search||!a.search.includes("#"),ev("#","search","hash",a)));let i=n===""||a.pathname==="",o=i?"/":a.pathname,c;if(o==null)c=e;else{let f=t.length-1;if(!s&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}c=f>=0?t[f]:"/"}let l=IK(a,c),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&e.endsWith("/");return!l.pathname.endsWith("/")&&(d||u)&&(l.pathname+="/"),l}const Vl=n=>n.join("/").replace(/\/\/+/g,"/"),FK=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),RK=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,UK=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function HK(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const kB=["post","put","patch","delete"];new Set(kB);const $K=["get",...kB];new Set($K);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sm(){return sm=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},sm.apply(this,arguments)}const uj=k.createContext(null),QK=k.createContext(null),cc=k.createContext(null),gx=k.createContext(null),uo=k.createContext({outlet:null,matches:[],isDataRoute:!1}),_B=k.createContext(null);function VK(n,t){let{relative:e}=t===void 0?{}:t;ih()||Yr(!1);let{basename:s,navigator:a}=k.useContext(cc),{hash:i,pathname:o,search:c}=EB(n,{relative:e}),l=o;return s!=="/"&&(l=o==="/"?s:Vl([s,o])),a.createHref({pathname:l,search:c,hash:i})}function ih(){return k.useContext(gx)!=null}function fs(){return ih()||Yr(!1),k.useContext(gx).location}function BB(n){k.useContext(cc).static||k.useLayoutEffect(n)}function dr(){let{isDataRoute:n}=k.useContext(uo);return n?aG():zK()}function zK(){ih()||Yr(!1);let n=k.useContext(uj),{basename:t,future:e,navigator:s}=k.useContext(cc),{matches:a}=k.useContext(uo),{pathname:i}=fs(),o=JSON.stringify(cj(a,e.v7_relativeSplatPath)),c=k.useRef(!1);return BB(()=>{c.current=!0}),k.useCallback(function(d,u){if(u===void 0&&(u={}),!c.current)return;if(typeof d=="number"){s.go(d);return}let f=dj(d,JSON.parse(o),i,u.relative==="path");n==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Vl([t,f.pathname])),(u.replace?s.replace:s.push)(f,u.state,u)},[t,s,o,i,n])}const KK=k.createContext(null);function GK(n){let t=k.useContext(uo).outlet;return t&&k.createElement(KK.Provider,{value:n},t)}function oh(){let{matches:n}=k.useContext(uo),t=n[n.length-1];return t?t.params:{}}function EB(n,t){let{relative:e}=t===void 0?{}:t,{future:s}=k.useContext(cc),{matches:a}=k.useContext(uo),{pathname:i}=fs(),o=JSON.stringify(cj(a,s.v7_relativeSplatPath));return k.useMemo(()=>dj(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function qK(n,t){return WK(n,t)}function WK(n,t,e,s){ih()||Yr(!1);let{navigator:a}=k.useContext(cc),{matches:i}=k.useContext(uo),o=i[i.length-1],c=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let d=fs(),u;if(t){var f;let p=typeof t=="string"?ah(t):t;l==="/"||(f=p.pathname)!=null&&f.startsWith(l)||Yr(!1),u=p}else u=d;let h=u.pathname||"/",m=h;if(l!=="/"){let p=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(p.length).join("/")}let A=vK(n,{pathname:m}),g=eG(A&&A.map(p=>Object.assign({},p,{params:Object.assign({},c,p.params),pathname:Vl([l,a.encodeLocation?a.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?l:Vl([l,a.encodeLocation?a.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),i,e,s);return t&&g?k.createElement(gx.Provider,{value:{location:sm({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:El.Pop}},g):g}function XK(){let n=sG(),t=HK(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),e?k.createElement("pre",{style:a},e):null,null)}const YK=k.createElement(XK,null);class JK extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?k.createElement(uo.Provider,{value:this.props.routeContext},k.createElement(_B.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ZK(n){let{routeContext:t,match:e,children:s}=n,a=k.useContext(uj);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(uo.Provider,{value:t},s)}function eG(n,t,e,s){var a;if(t===void 0&&(t=[]),e===void 0&&(e=null),s===void 0&&(s=null),n==null){var i;if(!e)return null;if(e.errors)n=e.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let o=n,c=(a=e)==null?void 0:a.errors;if(c!=null){let u=o.findIndex(f=>f.route.id&&(c==null?void 0:c[f.route.id])!==void 0);u>=0||Yr(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,d=-1;if(e&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:h,errors:m}=e,A=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||A){l=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,f,h)=>{let m,A=!1,g=null,p=null;e&&(m=c&&f.route.id?c[f.route.id]:void 0,g=f.route.errorElement||YK,l&&(d<0&&h===0?(iG("route-fallback"),A=!0,p=null):d===h&&(A=!0,p=f.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,h+1)),x=()=>{let v;return m?v=g:A?v=p:f.route.Component?v=k.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=u,k.createElement(ZK,{match:f,routeContext:{outlet:u,matches:b,isDataRoute:e!=null},children:v})};return e&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?k.createElement(JK,{location:e.location,revalidation:e.revalidation,component:g,error:m,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}var MB=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(MB||{}),PB=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(PB||{});function tG(n){let t=k.useContext(uj);return t||Yr(!1),t}function nG(n){let t=k.useContext(QK);return t||Yr(!1),t}function rG(n){let t=k.useContext(uo);return t||Yr(!1),t}function DB(n){let t=rG(),e=t.matches[t.matches.length-1];return e.route.id||Yr(!1),e.route.id}function sG(){var n;let t=k.useContext(_B),e=nG(),s=DB();return t!==void 0?t:(n=e.errors)==null?void 0:n[s]}function aG(){let{router:n}=tG(MB.UseNavigateStable),t=DB(PB.UseNavigateStable),e=k.useRef(!1);return BB(()=>{e.current=!0}),k.useCallback(function(a,i){i===void 0&&(i={}),e.current&&(typeof a=="number"?n.navigate(a):n.navigate(a,sm({fromRouteId:t},i)))},[n,t])}const o4={};function iG(n,t,e){o4[n]||(o4[n]=!0)}function oG(n,t){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function l4(n){let{to:t,replace:e,state:s,relative:a}=n;ih()||Yr(!1);let{future:i,static:o}=k.useContext(cc),{matches:c}=k.useContext(uo),{pathname:l}=fs(),d=dr(),u=dj(t,cj(c,i.v7_relativeSplatPath),l,a==="path"),f=JSON.stringify(u);return k.useEffect(()=>d(JSON.parse(f),{replace:e,state:s,relative:a}),[d,f,a,e,s]),null}function IB(n){return GK(n.context)}function ht(n){Yr(!1)}function lG(n){let{basename:t="/",children:e=null,location:s,navigationType:a=El.Pop,navigator:i,static:o=!1,future:c}=n;ih()&&Yr(!1);let l=t.replace(/^\/*/,"/"),d=k.useMemo(()=>({basename:l,navigator:i,static:o,future:sm({v7_relativeSplatPath:!1},c)}),[l,c,i,o]);typeof s=="string"&&(s=ah(s));let{pathname:u="/",search:f="",hash:h="",state:m=null,key:A="default"}=s,g=k.useMemo(()=>{let p=lj(u,l);return p==null?null:{location:{pathname:p,search:f,hash:h,state:m,key:A},navigationType:a}},[l,u,f,h,m,A,a]);return g==null?null:k.createElement(cc.Provider,{value:d},k.createElement(gx.Provider,{children:e,value:g}))}function cG(n){let{children:t,location:e}=n;return qK(pw(t),e)}new Promise(()=>{});function pw(n,t){t===void 0&&(t=[]);let e=[];return k.Children.forEach(n,(s,a)=>{if(!k.isValidElement(s))return;let i=[...t,a];if(s.type===k.Fragment){e.push.apply(e,pw(s.props.children,i));return}s.type!==ht&&Yr(!1),!s.props.index||!s.props.children||Yr(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=pw(s.props.children,i)),e.push(o)}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Aw(){return Aw=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Aw.apply(this,arguments)}function dG(n,t){if(n==null)return{};var e={},s=Object.keys(n),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(e[a]=n[a]);return e}function uG(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function hG(n,t){return n.button===0&&(!t||t==="_self")&&!uG(n)}function gw(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((t,e)=>{let s=n[e];return t.concat(Array.isArray(s)?s.map(a=>[e,a]):[[e,s]])},[]))}function fG(n,t){let e=gw(n);return t&&t.forEach((s,a)=>{e.has(a)||t.getAll(a).forEach(i=>{e.append(a,i)})}),e}const mG=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],pG="6";try{window.__reactRouterVersion=pG}catch{}const AG="startTransition",c4=Gf[AG];function gG(n){let{basename:t,children:e,future:s,window:a}=n,i=k.useRef();i.current==null&&(i.current=gK({window:a,v5Compat:!0}));let o=i.current,[c,l]=k.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},u=k.useCallback(f=>{d&&c4?c4(()=>l(f)):l(f)},[l,d]);return k.useLayoutEffect(()=>o.listen(u),[o,u]),k.useEffect(()=>oG(s),[s]),k.createElement(lG,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:o,future:s})}const xG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lt=k.forwardRef(function(t,e){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:c,target:l,to:d,preventScrollReset:u,viewTransition:f}=t,h=dG(t,mG),{basename:m}=k.useContext(cc),A,g=!1;if(typeof d=="string"&&bG.test(d)&&(A=d,xG))try{let v=new URL(window.location.href),y=d.startsWith("//")?new URL(v.protocol+d):new URL(d),S=lj(y.pathname,m);y.origin===v.origin&&S!=null?d=S+y.search+y.hash:g=!0}catch{}let p=VK(d,{relative:a}),b=vG(d,{replace:o,state:c,target:l,preventScrollReset:u,relative:a,viewTransition:f});function x(v){s&&s(v),v.defaultPrevented||b(v)}return k.createElement("a",Aw({},h,{href:A||p,onClick:g||i?s:x,ref:e,target:l}))});var d4;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(d4||(d4={}));var u4;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(u4||(u4={}));function vG(n,t){let{target:e,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:c}=t===void 0?{}:t,l=dr(),d=fs(),u=EB(n,{relative:o});return k.useCallback(f=>{if(hG(f,e)){f.preventDefault();let h=s!==void 0?s:Og(d)===Og(u);l(n,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:c})}},[d,l,u,s,a,e,n,i,o,c])}function yG(n){let t=k.useRef(gw(n)),e=k.useRef(!1),s=fs(),a=k.useMemo(()=>fG(s.search,e.current?null:t.current),[s.search]),i=dr(),o=k.useCallback((c,l)=>{const d=gw(typeof c=="function"?c(a):c);e.current=!0,i("?"+d,l)},[i,a]);return[a,o]}const wG={mobile:768,tablet:1024,desktop:1280};function yi(n="mobile"){const[t,e]=k.useState(void 0);return k.useEffect(()=>{const s=window.matchMedia(`(max-width: ${wG[n]-1}px)`),a=()=>{e(s.matches)};return s.addEventListener("change",a),e(s.matches),()=>s.removeEventListener("change",a)},[n]),!!t}function lh(){return yi("mobile")}const xw=oc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),fe=k.forwardRef(({className:n,variant:t,size:e,asChild:s=!1,...a},i)=>{const o=s?kd:"button";return r.jsx(o,{className:Ue(xw({variant:t,size:e,className:n})),ref:i,...a})});fe.displayName="Button";const je=k.forwardRef(({className:n,type:t,...e},s)=>r.jsx("input",{type:t,className:Ue("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:s,...e}));je.displayName="Input";var jG="Separator",h4="horizontal",CG=["horizontal","vertical"],OB=k.forwardRef((n,t)=>{const{decorative:e,orientation:s=h4,...a}=n,i=NG(s)?s:h4,c=e?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return r.jsx(Nt.div,{"data-orientation":i,...c,...a,ref:t})});OB.displayName=jG;function NG(n){return CG.includes(n)}var LB=OB;const Ys=k.forwardRef(({className:n,orientation:t="horizontal",decorative:e=!0,...s},a)=>r.jsx(LB,{ref:a,decorative:e,orientation:t,className:Ue("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...s}));Ys.displayName=LB.displayName;var tv="focusScope.autoFocusOnMount",nv="focusScope.autoFocusOnUnmount",f4={bubbles:!1,cancelable:!0},SG="FocusScope",Vm=k.forwardRef((n,t)=>{const{loop:e=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=n,[c,l]=k.useState(null),d=Hr(a),u=Hr(i),f=k.useRef(null),h=cn(t,g=>l(g)),m=k.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;k.useEffect(()=>{if(s){let g=function(v){if(m.paused||!c)return;const y=v.target;c.contains(y)?f.current=y:vl(f.current,{select:!0})},p=function(v){if(m.paused||!c)return;const y=v.relatedTarget;y!==null&&(c.contains(y)||vl(f.current,{select:!0}))},b=function(v){if(document.activeElement===document.body)for(const S of v)S.removedNodes.length>0&&vl(c)};document.addEventListener("focusin",g),document.addEventListener("focusout",p);const x=new MutationObserver(b);return c&&x.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",p),x.disconnect()}}},[s,c,m.paused]),k.useEffect(()=>{if(c){p4.add(m);const g=document.activeElement;if(!c.contains(g)){const b=new CustomEvent(tv,f4);c.addEventListener(tv,d),c.dispatchEvent(b),b.defaultPrevented||(TG(MG(FB(c)),{select:!0}),document.activeElement===g&&vl(c))}return()=>{c.removeEventListener(tv,d),setTimeout(()=>{const b=new CustomEvent(nv,f4);c.addEventListener(nv,u),c.dispatchEvent(b),b.defaultPrevented||vl(g??document.body,{select:!0}),c.removeEventListener(nv,u),p4.remove(m)},0)}}},[c,d,u,m]);const A=k.useCallback(g=>{if(!e&&!s||m.paused)return;const p=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(p&&b){const x=g.currentTarget,[v,y]=kG(x);v&&y?!g.shiftKey&&b===y?(g.preventDefault(),e&&vl(v,{select:!0})):g.shiftKey&&b===v&&(g.preventDefault(),e&&vl(y,{select:!0})):b===x&&g.preventDefault()}},[e,s,m.paused]);return r.jsx(Nt.div,{tabIndex:-1,...o,ref:h,onKeyDown:A})});Vm.displayName=SG;function TG(n,{select:t=!1}={}){const e=document.activeElement;for(const s of n)if(vl(s,{select:t}),document.activeElement!==e)return}function kG(n){const t=FB(n),e=m4(t,n),s=m4(t.reverse(),n);return[e,s]}function FB(n){const t=[],e=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)t.push(e.currentNode);return t}function m4(n,t){for(const e of n)if(!_G(e,{upTo:t}))return e}function _G(n,{upTo:t}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(t!==void 0&&n===t)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function BG(n){return n instanceof HTMLInputElement&&"select"in n}function vl(n,{select:t=!1}={}){if(n&&n.focus){const e=document.activeElement;n.focus({preventScroll:!0}),n!==e&&BG(n)&&t&&n.select()}}var p4=EG();function EG(){let n=[];return{add(t){const e=n[0];t!==e&&(e==null||e.pause()),n=A4(n,t),n.unshift(t)},remove(t){var e;n=A4(n,t),(e=n[0])==null||e.resume()}}}function A4(n,t){const e=[...n],s=e.indexOf(t);return s!==-1&&e.splice(s,1),e}function MG(n){return n.filter(t=>t.tagName!=="A")}var rv=0;function xx(){k.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??g4()),document.body.insertAdjacentElement("beforeend",n[1]??g4()),rv++,()=>{rv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),rv--}},[])}function g4(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Hi=function(){return Hi=Object.assign||function(t){for(var e,s=1,a=arguments.length;s<a;s++){e=arguments[s];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Hi.apply(this,arguments)};function RB(n,t){var e={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.indexOf(s)<0&&(e[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(e[s[a]]=n[s[a]]);return e}function PG(n,t,e){if(e||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return n.concat(i||Array.prototype.slice.call(t))}var JA="right-scroll-bar-position",ZA="width-before-scroll-bar",DG="with-scroll-bars-hidden",IG="--removed-body-scroll-bar-size";function sv(n,t){return typeof n=="function"?n(t):n&&(n.current=t),n}function OG(n,t){var e=k.useState(function(){return{value:n,callback:t,facade:{get current(){return e.value},set current(s){var a=e.value;a!==s&&(e.value=s,e.callback(s,a))}}}})[0];return e.callback=t,e.facade}var LG=typeof window<"u"?k.useLayoutEffect:k.useEffect,x4=new WeakMap;function FG(n,t){var e=OG(null,function(s){return n.forEach(function(a){return sv(a,s)})});return LG(function(){var s=x4.get(e);if(s){var a=new Set(s),i=new Set(n),o=e.current;a.forEach(function(c){i.has(c)||sv(c,null)}),i.forEach(function(c){a.has(c)||sv(c,o)})}x4.set(e,n)},[n]),e}function RG(n){return n}function UG(n,t){t===void 0&&(t=RG);var e=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return e.length?e[e.length-1]:n},useMedium:function(i){var o=t(i,s);return e.push(o),function(){e=e.filter(function(c){return c!==o})}},assignSyncMedium:function(i){for(s=!0;e.length;){var o=e;e=[],o.forEach(i)}e={push:function(c){return i(c)},filter:function(){return e}}},assignMedium:function(i){s=!0;var o=[];if(e.length){var c=e;e=[],c.forEach(i),o=e}var l=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(l)};d(),e={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),e}}}};return a}function HG(n){n===void 0&&(n={});var t=UG(null);return t.options=Hi({async:!0,ssr:!1},n),t}var UB=function(n){var t=n.sideCar,e=RB(n,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return k.createElement(s,Hi({},e))};UB.isSideCarExport=!0;function $G(n,t){return n.useMedium(t),UB}var HB=HG(),av=function(){},bx=k.forwardRef(function(n,t){var e=k.useRef(null),s=k.useState({onScrollCapture:av,onWheelCapture:av,onTouchMoveCapture:av}),a=s[0],i=s[1],o=n.forwardProps,c=n.children,l=n.className,d=n.removeScrollBar,u=n.enabled,f=n.shards,h=n.sideCar,m=n.noRelative,A=n.noIsolation,g=n.inert,p=n.allowPinchZoom,b=n.as,x=b===void 0?"div":b,v=n.gapMode,y=RB(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,M=FG([e,t]),P=Hi(Hi({},y),a);return k.createElement(k.Fragment,null,u&&k.createElement(S,{sideCar:HB,removeScrollBar:d,shards:f,noRelative:m,noIsolation:A,inert:g,setCallbacks:i,allowPinchZoom:!!p,lockRef:e,gapMode:v}),o?k.cloneElement(k.Children.only(c),Hi(Hi({},P),{ref:M})):k.createElement(x,Hi({},P,{className:l,ref:M}),c))});bx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bx.classNames={fullWidth:ZA,zeroRight:JA};var QG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function VG(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var t=QG();return t&&n.setAttribute("nonce",t),n}function zG(n,t){n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}function KG(n){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(n)}var GG=function(){var n=0,t=null;return{add:function(e){n==0&&(t=VG())&&(zG(t,e),KG(t)),n++},remove:function(){n--,!n&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},qG=function(){var n=GG();return function(t,e){k.useEffect(function(){return n.add(t),function(){n.remove()}},[t&&e])}},$B=function(){var n=qG(),t=function(e){var s=e.styles,a=e.dynamic;return n(s,a),null};return t},WG={left:0,top:0,right:0,gap:0},iv=function(n){return parseInt(n||"",10)||0},XG=function(n){var t=window.getComputedStyle(document.body),e=t[n==="padding"?"paddingLeft":"marginLeft"],s=t[n==="padding"?"paddingTop":"marginTop"],a=t[n==="padding"?"paddingRight":"marginRight"];return[iv(e),iv(s),iv(a)]},YG=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return WG;var t=XG(n),e=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-e+t[2]-t[0])}},JG=$B(),pu="data-scroll-locked",ZG=function(n,t,e,s){var a=n.left,i=n.top,o=n.right,c=n.gap;return e===void 0&&(e="margin"),`
  .`.concat(DG,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(c,"px ").concat(s,`;
  }
  body[`).concat(pu,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),e==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(s,`;
    `),e==="padding"&&"padding-right: ".concat(c,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(JA,` {
    right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(ZA,` {
    margin-right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(JA," .").concat(JA,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(ZA," .").concat(ZA,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(pu,`] {
    `).concat(IG,": ").concat(c,`px;
  }
`)},b4=function(){var n=parseInt(document.body.getAttribute(pu)||"0",10);return isFinite(n)?n:0},eq=function(){k.useEffect(function(){return document.body.setAttribute(pu,(b4()+1).toString()),function(){var n=b4()-1;n<=0?document.body.removeAttribute(pu):document.body.setAttribute(pu,n.toString())}},[])},tq=function(n){var t=n.noRelative,e=n.noImportant,s=n.gapMode,a=s===void 0?"margin":s;eq();var i=k.useMemo(function(){return YG(a)},[a]);return k.createElement(JG,{styles:ZG(i,!t,a,e?"":"!important")})},bw=!1;if(typeof window<"u")try{var Dp=Object.defineProperty({},"passive",{get:function(){return bw=!0,!0}});window.addEventListener("test",Dp,Dp),window.removeEventListener("test",Dp,Dp)}catch{bw=!1}var Hd=bw?{passive:!1}:!1,nq=function(n){return n.tagName==="TEXTAREA"},QB=function(n,t){if(!(n instanceof Element))return!1;var e=window.getComputedStyle(n);return e[t]!=="hidden"&&!(e.overflowY===e.overflowX&&!nq(n)&&e[t]==="visible")},rq=function(n){return QB(n,"overflowY")},sq=function(n){return QB(n,"overflowX")},v4=function(n,t){var e=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=VB(n,s);if(a){var i=zB(n,s),o=i[1],c=i[2];if(o>c)return!0}s=s.parentNode}while(s&&s!==e.body);return!1},aq=function(n){var t=n.scrollTop,e=n.scrollHeight,s=n.clientHeight;return[t,e,s]},iq=function(n){var t=n.scrollLeft,e=n.scrollWidth,s=n.clientWidth;return[t,e,s]},VB=function(n,t){return n==="v"?rq(t):sq(t)},zB=function(n,t){return n==="v"?aq(t):iq(t)},oq=function(n,t){return n==="h"&&t==="rtl"?-1:1},lq=function(n,t,e,s,a){var i=oq(n,window.getComputedStyle(t).direction),o=i*s,c=e.target,l=t.contains(c),d=!1,u=o>0,f=0,h=0;do{if(!c)break;var m=zB(n,c),A=m[0],g=m[1],p=m[2],b=g-p-i*A;(A||b)&&VB(n,c)&&(f+=b,h+=A);var x=c.parentNode;c=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!l&&c!==document.body||l&&(t.contains(c)||t===c));return(u&&Math.abs(f)<1||!u&&Math.abs(h)<1)&&(d=!0),d},Ip=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},y4=function(n){return[n.deltaX,n.deltaY]},w4=function(n){return n&&"current"in n?n.current:n},cq=function(n,t){return n[0]===t[0]&&n[1]===t[1]},dq=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},uq=0,$d=[];function hq(n){var t=k.useRef([]),e=k.useRef([0,0]),s=k.useRef(),a=k.useState(uq++)[0],i=k.useState($B)[0],o=k.useRef(n);k.useEffect(function(){o.current=n},[n]),k.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(a));var g=PG([n.lockRef.current],(n.shards||[]).map(w4),!0).filter(Boolean);return g.forEach(function(p){return p.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(p){return p.classList.remove("allow-interactivity-".concat(a))})}}},[n.inert,n.lockRef.current,n.shards]);var c=k.useCallback(function(g,p){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=Ip(g),x=e.current,v="deltaX"in g?g.deltaX:x[0]-b[0],y="deltaY"in g?g.deltaY:x[1]-b[1],S,M=g.target,P=Math.abs(v)>Math.abs(y)?"h":"v";if("touches"in g&&P==="h"&&M.type==="range")return!1;var B=v4(P,M);if(!B)return!0;if(B?S=P:(S=P==="v"?"h":"v",B=v4(P,M)),!B)return!1;if(!s.current&&"changedTouches"in g&&(v||y)&&(s.current=S),!S)return!0;var D=s.current||S;return lq(D,p,g,D==="h"?v:y)},[]),l=k.useCallback(function(g){var p=g;if(!(!$d.length||$d[$d.length-1]!==i)){var b="deltaY"in p?y4(p):Ip(p),x=t.current.filter(function(S){return S.name===p.type&&(S.target===p.target||p.target===S.shadowParent)&&cq(S.delta,b)})[0];if(x&&x.should){p.cancelable&&p.preventDefault();return}if(!x){var v=(o.current.shards||[]).map(w4).filter(Boolean).filter(function(S){return S.contains(p.target)}),y=v.length>0?c(p,v[0]):!o.current.noIsolation;y&&p.cancelable&&p.preventDefault()}}},[]),d=k.useCallback(function(g,p,b,x){var v={name:g,delta:p,target:b,should:x,shadowParent:fq(b)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(y){return y!==v})},1)},[]),u=k.useCallback(function(g){e.current=Ip(g),s.current=void 0},[]),f=k.useCallback(function(g){d(g.type,y4(g),g.target,c(g,n.lockRef.current))},[]),h=k.useCallback(function(g){d(g.type,Ip(g),g.target,c(g,n.lockRef.current))},[]);k.useEffect(function(){return $d.push(i),n.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Hd),document.addEventListener("touchmove",l,Hd),document.addEventListener("touchstart",u,Hd),function(){$d=$d.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,Hd),document.removeEventListener("touchmove",l,Hd),document.removeEventListener("touchstart",u,Hd)}},[]);var m=n.removeScrollBar,A=n.inert;return k.createElement(k.Fragment,null,A?k.createElement(i,{styles:dq(a)}):null,m?k.createElement(tq,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function fq(n){for(var t=null;n!==null;)n instanceof ShadowRoot&&(t=n.host,n=n.host),n=n.parentNode;return t}const mq=$G(HB,hq);var zm=k.forwardRef(function(n,t){return k.createElement(bx,Hi({},n,{ref:t,sideCar:mq}))});zm.classNames=bx.classNames;var pq=function(n){if(typeof document>"u")return null;var t=Array.isArray(n)?n[0]:n;return t.ownerDocument.body},Qd=new WeakMap,Op=new WeakMap,Lp={},ov=0,KB=function(n){return n&&(n.host||KB(n.parentNode))},Aq=function(n,t){return t.map(function(e){if(n.contains(e))return e;var s=KB(e);return s&&n.contains(s)?s:(console.error("aria-hidden",e,"in not contained inside",n,". Doing nothing"),null)}).filter(function(e){return!!e})},gq=function(n,t,e,s){var a=Aq(t,Array.isArray(n)?n:[n]);Lp[e]||(Lp[e]=new WeakMap);var i=Lp[e],o=[],c=new Set,l=new Set(a),d=function(f){!f||c.has(f)||(c.add(f),d(f.parentNode))};a.forEach(d);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(c.has(h))u(h);else try{var m=h.getAttribute(s),A=m!==null&&m!=="false",g=(Qd.get(h)||0)+1,p=(i.get(h)||0)+1;Qd.set(h,g),i.set(h,p),o.push(h),g===1&&A&&Op.set(h,!0),p===1&&h.setAttribute(e,"true"),A||h.setAttribute(s,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return u(t),c.clear(),ov++,function(){o.forEach(function(f){var h=Qd.get(f)-1,m=i.get(f)-1;Qd.set(f,h),i.set(f,m),h||(Op.has(f)||f.removeAttribute(s),Op.delete(f)),m||f.removeAttribute(e)}),ov--,ov||(Qd=new WeakMap,Qd=new WeakMap,Op=new WeakMap,Lp={})}},vx=function(n,t,e){e===void 0&&(e="data-aria-hidden");var s=Array.from(Array.isArray(n)?n:[n]),a=pq(n);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),gq(s,a,e,"aria-hidden")):function(){return null}},yx="Dialog",[GB,wBe]=ks(yx),[xq,Ci]=GB(yx),qB=n=>{const{__scopeDialog:t,children:e,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=n,c=k.useRef(null),l=k.useRef(null),[d,u]=wa({prop:s,defaultProp:a??!1,onChange:i,caller:yx});return r.jsx(xq,{scope:t,triggerRef:c,contentRef:l,contentId:ga(),titleId:ga(),descriptionId:ga(),open:d,onOpenChange:u,onOpenToggle:k.useCallback(()=>u(f=>!f),[u]),modal:o,children:e})};qB.displayName=yx;var WB="DialogTrigger",XB=k.forwardRef((n,t)=>{const{__scopeDialog:e,...s}=n,a=Ci(WB,e),i=cn(t,a.triggerRef);return r.jsx(Nt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":mj(a.open),...s,ref:i,onClick:tt(n.onClick,a.onOpenToggle)})});XB.displayName=WB;var hj="DialogPortal",[bq,YB]=GB(hj,{forceMount:void 0}),JB=n=>{const{__scopeDialog:t,forceMount:e,children:s,container:a}=n,i=Ci(hj,t);return r.jsx(bq,{scope:t,forceMount:e,children:k.Children.map(s,o=>r.jsx(hs,{present:e||i.open,children:r.jsx(Zu,{asChild:!0,container:a,children:o})}))})};JB.displayName=hj;var Lg="DialogOverlay",ZB=k.forwardRef((n,t)=>{const e=YB(Lg,n.__scopeDialog),{forceMount:s=e.forceMount,...a}=n,i=Ci(Lg,n.__scopeDialog);return i.modal?r.jsx(hs,{present:s||i.open,children:r.jsx(yq,{...a,ref:t})}):null});ZB.displayName=Lg;var vq=Xl("DialogOverlay.RemoveScroll"),yq=k.forwardRef((n,t)=>{const{__scopeDialog:e,...s}=n,a=Ci(Lg,e);return r.jsx(zm,{as:vq,allowPinchZoom:!0,shards:[a.contentRef],children:r.jsx(Nt.div,{"data-state":mj(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),od="DialogContent",eE=k.forwardRef((n,t)=>{const e=YB(od,n.__scopeDialog),{forceMount:s=e.forceMount,...a}=n,i=Ci(od,n.__scopeDialog);return r.jsx(hs,{present:s||i.open,children:i.modal?r.jsx(wq,{...a,ref:t}):r.jsx(jq,{...a,ref:t})})});eE.displayName=od;var wq=k.forwardRef((n,t)=>{const e=Ci(od,n.__scopeDialog),s=k.useRef(null),a=cn(t,e.contentRef,s);return k.useEffect(()=>{const i=s.current;if(i)return vx(i)},[]),r.jsx(tE,{...n,ref:a,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:tt(n.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=e.triggerRef.current)==null||o.focus()}),onPointerDownOutside:tt(n.onPointerDownOutside,i=>{const o=i.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&i.preventDefault()}),onFocusOutside:tt(n.onFocusOutside,i=>i.preventDefault())})}),jq=k.forwardRef((n,t)=>{const e=Ci(od,n.__scopeDialog),s=k.useRef(!1),a=k.useRef(!1);return r.jsx(tE,{...n,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,c;(o=n.onCloseAutoFocus)==null||o.call(n,i),i.defaultPrevented||(s.current||(c=e.triggerRef.current)==null||c.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var l,d;(l=n.onInteractOutside)==null||l.call(n,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=e.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),tE=k.forwardRef((n,t)=>{const{__scopeDialog:e,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=n,c=Ci(od,e),l=k.useRef(null),d=cn(t,l);return xx(),r.jsxs(r.Fragment,{children:[r.jsx(Vm,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:r.jsx(ic,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":mj(c.open),...o,ref:d,onDismiss:()=>c.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(Cq,{titleId:c.titleId}),r.jsx(Sq,{contentRef:l,descriptionId:c.descriptionId})]})]})}),fj="DialogTitle",nE=k.forwardRef((n,t)=>{const{__scopeDialog:e,...s}=n,a=Ci(fj,e);return r.jsx(Nt.h2,{id:a.titleId,...s,ref:t})});nE.displayName=fj;var rE="DialogDescription",sE=k.forwardRef((n,t)=>{const{__scopeDialog:e,...s}=n,a=Ci(rE,e);return r.jsx(Nt.p,{id:a.descriptionId,...s,ref:t})});sE.displayName=rE;var aE="DialogClose",iE=k.forwardRef((n,t)=>{const{__scopeDialog:e,...s}=n,a=Ci(aE,e);return r.jsx(Nt.button,{type:"button",...s,ref:t,onClick:tt(n.onClick,()=>a.onOpenChange(!1))})});iE.displayName=aE;function mj(n){return n?"open":"closed"}var oE="DialogTitleWarning",[jBe,lE]=fR(oE,{contentName:od,titleName:fj,docsSlug:"dialog"}),Cq=({titleId:n})=>{const t=lE(oE),e=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return k.useEffect(()=>{n&&(document.getElementById(n)||console.error(e))},[e,n]),null},Nq="DialogDescriptionWarning",Sq=({contentRef:n,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${lE(Nq).contentName}}.`;return k.useEffect(()=>{var i;const a=(i=n.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,n,t]),null},ld=qB,cE=XB,cd=JB,Yo=ZB,Jo=eE,Km=nE,Gm=sE,wx=iE;const Tq=ld,kq=cd,dE=k.forwardRef(({className:n,...t},e)=>r.jsx(Yo,{className:Ue("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...t,ref:e}));dE.displayName=Yo.displayName;const _q=oc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),uE=k.forwardRef(({side:n="right",className:t,children:e,...s},a)=>r.jsxs(kq,{children:[r.jsx(dE,{}),r.jsxs(Jo,{ref:a,className:Ue(_q({side:n}),t),...s,children:[e,r.jsxs(wx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[r.jsx(st,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));uE.displayName=Jo.displayName;const Bq=k.forwardRef(({className:n,...t},e)=>r.jsx(Km,{ref:e,className:Ue("text-lg font-semibold text-foreground",n),...t}));Bq.displayName=Km.displayName;const Eq=k.forwardRef(({className:n,...t},e)=>r.jsx(Gm,{ref:e,className:Ue("text-sm text-muted-foreground",n),...t}));Eq.displayName=Gm.displayName;function Fg({className:n,...t}){return r.jsx("div",{className:Ue("animate-pulse rounded-md bg-muted",n),...t})}const Mq="sidebar:state",Pq=60*60*24*7,Dq="16rem",Iq="18rem",Oq="3rem",Lq="b",hE=k.createContext(null);function jx(){const n=k.useContext(hE);if(!n)throw new Error("useSidebar must be used within a SidebarProvider.");return n}const fE=k.forwardRef(({defaultOpen:n=!0,open:t,onOpenChange:e,className:s,style:a,children:i,...o},c)=>{const l=lh(),[d,u]=k.useState(!1),[f,h]=k.useState(n),m=t??f,A=k.useCallback(x=>{const v=typeof x=="function"?x(m):x;e?e(v):h(v),document.cookie=`${Mq}=${v}; path=/; max-age=${Pq}`},[e,m]),g=k.useCallback(()=>l?u(x=>!x):A(x=>!x),[l,A,u]);k.useEffect(()=>{const x=v=>{v.key===Lq&&(v.metaKey||v.ctrlKey)&&(v.preventDefault(),g())};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[g]);const p=m?"expanded":"collapsed",b=k.useMemo(()=>({state:p,open:m,setOpen:A,isMobile:l,openMobile:d,setOpenMobile:u,toggleSidebar:g}),[p,m,A,l,d,u,g]);return r.jsx(hE.Provider,{value:b,children:r.jsx(gB,{delayDuration:0,children:r.jsx("div",{style:{"--sidebar-width":Dq,"--sidebar-width-icon":Oq,...a},className:Ue("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",s),ref:c,...o,children:i})})})});fE.displayName="SidebarProvider";const Fq=k.forwardRef(({side:n="left",variant:t="sidebar",collapsible:e="offcanvas",className:s,children:a,...i},o)=>{const{isMobile:c,state:l,openMobile:d,setOpenMobile:u}=jx();return e==="none"?r.jsx("div",{className:Ue("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",s),ref:o,...i,children:a}):c?r.jsx(Tq,{open:d,onOpenChange:u,...i,children:r.jsx(uE,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":Iq},side:n,children:r.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):r.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":l,"data-collapsible":l==="collapsed"?e:"","data-variant":t,"data-side":n,children:[r.jsx("div",{className:Ue("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),r.jsx("div",{className:Ue("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",n==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",s),...i,children:r.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});Fq.displayName="Sidebar";const Rq=k.forwardRef(({className:n,onClick:t,...e},s)=>{const{toggleSidebar:a}=jx();return r.jsxs(fe,{ref:s,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Ue("h-7 w-7",n),onClick:i=>{t==null||t(i),a()},...e,children:[r.jsx(IH,{}),r.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});Rq.displayName="SidebarTrigger";const Uq=k.forwardRef(({className:n,...t},e)=>{const{toggleSidebar:s}=jx();return r.jsx("button",{ref:e,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:s,title:"Toggle Sidebar",className:Ue("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",n),...t})});Uq.displayName="SidebarRail";const Hq=k.forwardRef(({className:n,...t},e)=>r.jsx("main",{ref:e,className:Ue("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",n),...t}));Hq.displayName="SidebarInset";const $q=k.forwardRef(({className:n,...t},e)=>r.jsx(je,{ref:e,"data-sidebar":"input",className:Ue("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",n),...t}));$q.displayName="SidebarInput";const mE=k.forwardRef(({className:n,...t},e)=>r.jsx("div",{ref:e,"data-sidebar":"header",className:Ue("flex flex-col gap-2 p-2",n),...t}));mE.displayName="SidebarHeader";const pE=k.forwardRef(({className:n,...t},e)=>r.jsx("div",{ref:e,"data-sidebar":"footer",className:Ue("flex flex-col gap-2 p-2",n),...t}));pE.displayName="SidebarFooter";const Qq=k.forwardRef(({className:n,...t},e)=>r.jsx(Ys,{ref:e,"data-sidebar":"separator",className:Ue("mx-2 w-auto bg-sidebar-border",n),...t}));Qq.displayName="SidebarSeparator";const Vq=k.forwardRef(({className:n,...t},e)=>r.jsx("div",{ref:e,"data-sidebar":"content",className:Ue("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",n),...t}));Vq.displayName="SidebarContent";const eg=k.forwardRef(({className:n,...t},e)=>r.jsx("div",{ref:e,"data-sidebar":"group",className:Ue("relative flex w-full min-w-0 flex-col p-2",n),...t}));eg.displayName="SidebarGroup";const vw=k.forwardRef(({className:n,asChild:t=!1,...e},s)=>{const a=t?kd:"div";return r.jsx(a,{ref:s,"data-sidebar":"group-label",className:Ue("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",n),...e})});vw.displayName="SidebarGroupLabel";const zq=k.forwardRef(({className:n,asChild:t=!1,...e},s)=>{const a=t?kd:"button";return r.jsx(a,{ref:s,"data-sidebar":"group-action",className:Ue("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",n),...e})});zq.displayName="SidebarGroupAction";const Kq=k.forwardRef(({className:n,...t},e)=>r.jsx("div",{ref:e,"data-sidebar":"group-content",className:Ue("w-full text-sm",n),...t}));Kq.displayName="SidebarGroupContent";const Bf=k.forwardRef(({className:n,...t},e)=>r.jsx("ul",{ref:e,"data-sidebar":"menu",className:Ue("flex w-full min-w-0 flex-col gap-1",n),...t}));Bf.displayName="SidebarMenu";const tg=k.forwardRef(({className:n,...t},e)=>r.jsx("li",{ref:e,"data-sidebar":"menu-item",className:Ue("group/menu-item relative",n),...t}));tg.displayName="SidebarMenuItem";const Gq=oc("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),ng=k.forwardRef(({asChild:n=!1,isActive:t=!1,variant:e="default",size:s="default",tooltip:a,className:i,...o},c)=>{const l=n?kd:"button",{isMobile:d,state:u}=jx(),f=r.jsx(l,{ref:c,"data-sidebar":"menu-button","data-size":s,"data-active":t,className:Ue(Gq({variant:e,size:s}),i),...o});return a?(typeof a=="string"&&(a={children:a}),r.jsxs(Pg,{children:[r.jsx(Dg,{asChild:!0,children:f}),r.jsx(em,{side:"right",align:"center",hidden:u!=="collapsed"||d,...a})]})):f});ng.displayName="SidebarMenuButton";const qq=k.forwardRef(({className:n,asChild:t=!1,showOnHover:e=!1,...s},a)=>{const i=t?kd:"button";return r.jsx(i,{ref:a,"data-sidebar":"menu-action",className:Ue("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",n),...s})});qq.displayName="SidebarMenuAction";const Wq=k.forwardRef(({className:n,...t},e)=>r.jsx("div",{ref:e,"data-sidebar":"menu-badge",className:Ue("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n),...t}));Wq.displayName="SidebarMenuBadge";const Xq=k.forwardRef(({className:n,showIcon:t=!1,...e},s)=>{const a=k.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return r.jsxs("div",{ref:s,"data-sidebar":"menu-skeleton",className:Ue("rounded-md h-8 flex gap-2 px-2 items-center",n),...e,children:[t&&r.jsx(Fg,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),r.jsx(Fg,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});Xq.displayName="SidebarMenuSkeleton";const Yq=k.forwardRef(({className:n,...t},e)=>r.jsx("ul",{ref:e,"data-sidebar":"menu-sub",className:Ue("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",n),...t}));Yq.displayName="SidebarMenuSub";const Jq=k.forwardRef(({...n},t)=>r.jsx("li",{ref:t,...n}));Jq.displayName="SidebarMenuSubItem";const Zq=k.forwardRef(({asChild:n=!1,size:t="md",isActive:e,className:s,...a},i)=>{const o=n?kd:"a";return r.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":t,"data-active":e,className:Ue("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",s),...a})});Zq.displayName="SidebarMenuSubButton";const eW=({children:n})=>r.jsx(fE,{children:r.jsx("div",{className:"min-h-screen flex flex-col w-full",children:n})}),tW=({role:n,collapsed:t,toggleCollapse:e,className:s})=>{const a=yi("mobile"),i=yi("tablet"),o=!t||t&&(a||i);return r.jsx(mE,{className:Ue("p-3 flex items-center",s),children:r.jsxs("div",{className:Ue("flex items-center w-full",t&&!o?"justify-center":"justify-between"),children:[r.jsx(lt,{to:n==="admin"?"/admin":"/staff",className:"flex items-center gap-2",children:o&&r.jsx("div",{className:"flex flex-col h-10 items-center justify-center",children:r.jsx("img",{src:"/logo.gif",alt:"FashionHub",className:"h-32 w-auto max-w-[300px]"})})}),r.jsx(fe,{variant:"ghost",size:"icon",onClick:e,className:"text-gray-500 hover:text-crocus-600 hover:bg-crocus-50",children:t?r.jsx(xr,{size:18}):r.jsx(zr,{size:18})})]})})},nW=({role:n,collapsed:t})=>{const e=yi("mobile"),s=yi("tablet"),a=!t||t&&(e||s);return r.jsx(pE,{className:"mt-auto border-t border-gray-100 pt-2",children:r.jsx(Bf,{children:r.jsx("div",{className:Ue("flex",t&&!a?"flex-col items-center gap-2":"items-center justify-between px-3 py-2"),children:t&&!a?r.jsxs(r.Fragment,{children:[r.jsxs(Pg,{children:[r.jsx(Dg,{asChild:!0,children:r.jsx(lt,{to:`/${n}/settings`,className:"p-2 rounded-md hover:bg-purple-50 text-gray-500 hover:text-purple-600",children:r.jsx($2,{size:18,className:"text-blue-600"})})}),r.jsx(em,{side:"right",children:"Cài đặt"})]}),r.jsxs(Pg,{children:[r.jsx(Dg,{asChild:!0,children:r.jsx(lt,{to:"/auth/login",className:"p-2 rounded-md hover:bg-purple-50 text-gray-500 hover:text-purple-600",children:r.jsx(Wf,{size:18,className:"text-red-600"})})}),r.jsx(em,{side:"right",children:"Đăng xuất"})]})]}):r.jsx(r.Fragment,{children:r.jsxs(lt,{to:"/auth/login",className:"flex items-center gap-2 text-gray-500 hover:text-purple-600",children:[r.jsx(Wf,{size:18,className:"text-red-600"}),r.jsx("span",{className:"text-sm",children:"Đăng xuất"})]})})})})})},lv=({title:n,icon:t,path:e,badge:s,collapsed:a,color:i})=>{const o=fs(),c=o.pathname===e||o.pathname.startsWith(`${e}/`),l=yi("mobile"),d=yi("tablet"),u=!a||a&&(l||d),f=r.jsxs(lt,{to:e,className:Ue("flex items-center gap-3 px-3 py-2.5 rounded-md cursor-pointer transition-colors",c?"bg-crocus-100 text-crocus-600 font-medium":"text-gray-600 hover:bg-crocus-50 hover:text-crocus-600"),children:[r.jsxs("div",{className:Ue("relative flex items-center justify-center",a&&!u?"w-full":"w-auto"),children:[r.jsx(t,{className:Ue("flex-shrink-0 h-5 w-5",c?"text-crocus-600":i||"text-gray-500")}),s&&a&&!u&&r.jsx("span",{className:"absolute -top-2 -right-2 bg-crocus-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:s})]}),u&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-sm truncate",children:n}),s&&r.jsx("span",{className:"ml-auto bg-crocus-100 text-crocus-600 text-xs rounded-full px-2 py-0.5 flex items-center justify-center",children:s})]})]});return a&&!l&&!d?r.jsxs(Pg,{children:[r.jsx(Dg,{asChild:!0,children:r.jsx("div",{className:"relative",children:f})}),r.jsx(em,{side:"right",className:"z-50 bg-white border border-gray-100 shadow-md",children:n})]}):f},rW=[{title:"Thống kê",icon:h6,path:"/admin/statistics",color:"text-blue-600"},{title:"Đơn hàng",icon:vs,path:"/admin/orders",color:"text-orange-600"},{title:"Mua offline",icon:rd,path:"/admin/buy",color:"text-red-600"},{title:"Sản phẩm",icon:ir,path:"/admin/products",color:"text-green-600"},{title:"Combo",icon:b6,path:"/admin/combos",color:"text-teal-600"},{title:"Thương hiệu",icon:Ir,path:"/admin/thuonghieu",color:"text-indigo-600"},{title:"Khuyến Mại",icon:N6,path:"/admin/events",color:"text-gray-600"},{title:"Loại sản phẩm",icon:Sg,path:"/admin/loaisanpham",color:"text-teal-600"},{title:"HashTag",icon:p6,path:"/admin/hashtag",color:"text-teal-600"},{title:"Tài khoản",icon:K2,path:"/admin/users",color:"text-red-600"},{title:"Bình luận",icon:Ho,path:"/admin/inventory",color:"text-cyan-600"},{title:"Voucher",icon:Ir,path:"/admin/invoices",color:"text-gray-600"},{title:"Blog",icon:Tg,path:"/admin/blog",color:"text-blue-600"},{title:"Hỗ trợ",icon:ad,path:"/admin/messages",color:"text-blue-600"},{title:"Liên hệ",icon:f6,path:"/admin/contact",color:"text-blue-600"},{title:"Cài đặt",icon:$2,path:"/admin/settings",color:"text-gray-600"}],sW=[{title:"Đơn hàng",icon:vs,path:"/staff/orders",color:"text-orange-600"},{title:"Mua offline",icon:rd,path:"/staff/buy",color:"text-red-600"},{title:"Sản phẩm",icon:ir,path:"/staff/products",color:"text-green-600"},{title:"Combo",icon:b6,path:"/staff/combos",color:"text-teal-600"},{title:"Khuyến Mại",icon:N6,path:"/staff/events",color:"text-gray-600"},{title:"Thương hiệu",icon:Ir,path:"/staff/thuonghieu",color:"text-indigo-600"},{title:"Loại sản phẩm",icon:Sg,path:"/staff/loaisanpham",color:"text-teal-600"},{title:"HashTag",icon:p6,path:"/staff/hashtag",color:"text-teal-600"},{title:"Bình luận",icon:Ho,path:"/staff/inventory",color:"text-cyan-600"},{title:"Voucher",icon:Ir,path:"/staff/invoices",color:"text-gray-600"},{title:"Blog",icon:Tg,path:"/staff/blog",color:"text-blue-600"},{title:"Hỗ trợ",icon:ad,path:"/staff/messages",color:"text-blue-600"},{title:"Liên hệ",icon:f6,path:"/staff/contact",color:"text-blue-600"}],aW=[],iW=[],oW=({role:n})=>{const[t,e]=k.useState(!1),s=()=>{e(!t)},a=n==="staff"?sW:rW,i=n==="admin"?aW:[],o=n==="admin"?iW:[];return r.jsxs("aside",{className:Ue("h-screen bg-white sticky top-0 left-0 z-30 flex flex-col border-r border-gray-200 transition-all duration-300 ease-in-out",t?"w-[70px]":"w-[240px]"),children:[r.jsx(tW,{role:n,collapsed:t,toggleCollapse:s,className:"p-3 flex items-center border-b border-gray-200"}),r.jsxs("nav",{className:"flex-1 py-4 px-2 space-y-1 overflow-y-auto",children:[r.jsx(eg,{className:Ue("mt-4",t?"px-1":"px-2"),children:r.jsx(Bf,{children:a.map(c=>r.jsx(tg,{className:Ue(t?"px-0 w-full flex justify-center":""),children:r.jsx(ng,{asChild:!0,tooltip:t?c.title:void 0,className:Ue("my-1 transition-all rounded-md",t?"w-full":""),children:r.jsx(lv,{title:c.title,icon:c.icon,path:c.path,badge:c.badge,collapsed:t,color:c.color})})},c.path))})}),i.length>0&&r.jsxs(eg,{className:Ue("mt-4",t?"px-1":"px-2"),children:[!t&&r.jsx(vw,{className:"text-gray-500 font-medium px-3 py-2 text-xs uppercase",children:"Quản lý"}),r.jsx(Bf,{children:i.map(c=>r.jsx(tg,{className:Ue(t?"px-0 w-full flex justify-center":""),children:r.jsx(ng,{asChild:!0,tooltip:t?c.title:void 0,className:Ue("my-1 transition-all rounded-md",t?"w-full":""),children:r.jsx(lv,{title:c.title,icon:c.icon,path:c.path,badge:c.badge,collapsed:t,color:c.color})})},c.path))})]}),o.length>0&&r.jsxs(eg,{className:Ue("mt-4",t?"px-1":"px-2"),children:[!t&&r.jsx(vw,{className:"text-gray-500 font-medium px-3 py-2 text-xs uppercase",children:"Hỗ trợ"}),r.jsx(Bf,{children:o.map(c=>r.jsx(tg,{className:Ue(t?"px-0 w-full flex justify-center":""),children:r.jsx(ng,{asChild:!0,tooltip:t?c.title:void 0,className:Ue("my-1 transition-all rounded-md",t?"w-full":""),children:r.jsx(lv,{title:c.title,icon:c.icon,path:c.path,badge:c.badge,collapsed:t,color:c.color})})},c.path))})]})]}),r.jsx(nW,{role:n,collapsed:t})]})};var lW=k.createContext(void 0);function Ed(n){const t=k.useContext(lW);return n||t||"ltr"}var cv="rovingFocusGroup.onEntryFocus",cW={bubbles:!1,cancelable:!0},qm="RovingFocusGroup",[yw,AE,dW]=_d(qm),[uW,ch]=ks(qm,[dW]),[hW,fW]=uW(qm),gE=k.forwardRef((n,t)=>r.jsx(yw.Provider,{scope:n.__scopeRovingFocusGroup,children:r.jsx(yw.Slot,{scope:n.__scopeRovingFocusGroup,children:r.jsx(mW,{...n,ref:t})})}));gE.displayName=qm;var mW=k.forwardRef((n,t)=>{const{__scopeRovingFocusGroup:e,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:l,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=n,h=k.useRef(null),m=cn(t,h),A=Ed(i),[g,p]=wa({prop:o,defaultProp:c??null,onChange:l,caller:qm}),[b,x]=k.useState(!1),v=Hr(d),y=AE(e),S=k.useRef(!1),[M,P]=k.useState(0);return k.useEffect(()=>{const B=h.current;if(B)return B.addEventListener(cv,v),()=>B.removeEventListener(cv,v)},[v]),r.jsx(hW,{scope:e,orientation:s,dir:A,loop:a,currentTabStopId:g,onItemFocus:k.useCallback(B=>p(B),[p]),onItemShiftTab:k.useCallback(()=>x(!0),[]),onFocusableItemAdd:k.useCallback(()=>P(B=>B+1),[]),onFocusableItemRemove:k.useCallback(()=>P(B=>B-1),[]),children:r.jsx(Nt.div,{tabIndex:b||M===0?-1:0,"data-orientation":s,...f,ref:m,style:{outline:"none",...n.style},onMouseDown:tt(n.onMouseDown,()=>{S.current=!0}),onFocus:tt(n.onFocus,B=>{const D=!S.current;if(B.target===B.currentTarget&&D&&!b){const L=new CustomEvent(cv,cW);if(B.currentTarget.dispatchEvent(L),!L.defaultPrevented){const O=y().filter(w=>w.focusable),F=O.find(w=>w.active),_=O.find(w=>w.id===g),T=[F,_,...O].filter(Boolean).map(w=>w.ref.current);vE(T,u)}}S.current=!1}),onBlur:tt(n.onBlur,()=>x(!1))})})}),xE="RovingFocusGroupItem",bE=k.forwardRef((n,t)=>{const{__scopeRovingFocusGroup:e,focusable:s=!0,active:a=!1,tabStopId:i,children:o,...c}=n,l=ga(),d=i||l,u=fW(xE,e),f=u.currentTabStopId===d,h=AE(e),{onFocusableItemAdd:m,onFocusableItemRemove:A,currentTabStopId:g}=u;return k.useEffect(()=>{if(s)return m(),()=>A()},[s,m,A]),r.jsx(yw.ItemSlot,{scope:e,id:d,focusable:s,active:a,children:r.jsx(Nt.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...c,ref:t,onMouseDown:tt(n.onMouseDown,p=>{s?u.onItemFocus(d):p.preventDefault()}),onFocus:tt(n.onFocus,()=>u.onItemFocus(d)),onKeyDown:tt(n.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){u.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const b=gW(p,u.orientation,u.dir);if(b!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let v=h().filter(y=>y.focusable).map(y=>y.ref.current);if(b==="last")v.reverse();else if(b==="prev"||b==="next"){b==="prev"&&v.reverse();const y=v.indexOf(p.currentTarget);v=u.loop?xW(v,y+1):v.slice(y+1)}setTimeout(()=>vE(v))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});bE.displayName=xE;var pW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function AW(n,t){return t!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function gW(n,t,e){const s=AW(n.key,e);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return pW[s]}function vE(n,t=!1){const e=document.activeElement;for(const s of n)if(s===e||(s.focus({preventScroll:t}),document.activeElement!==e))return}function xW(n,t){return n.map((e,s)=>n[(t+s)%n.length])}var pj=gE,Aj=bE,ww=["Enter"," "],bW=["ArrowDown","PageUp","Home"],yE=["ArrowUp","PageDown","End"],vW=[...bW,...yE],yW={ltr:[...ww,"ArrowRight"],rtl:[...ww,"ArrowLeft"]},wW={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Wm="Menu",[am,jW,CW]=_d(Wm),[Md,wE]=ks(Wm,[CW,lc,ch]),Cx=lc(),jE=ch(),[NW,Pd]=Md(Wm),[SW,Xm]=Md(Wm),CE=n=>{const{__scopeMenu:t,open:e=!1,children:s,dir:a,onOpenChange:i,modal:o=!0}=n,c=Cx(t),[l,d]=k.useState(null),u=k.useRef(!1),f=Hr(i),h=Ed(a);return k.useEffect(()=>{const m=()=>{u.current=!0,document.addEventListener("pointerdown",A,{capture:!0,once:!0}),document.addEventListener("pointermove",A,{capture:!0,once:!0})},A=()=>u.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",A,{capture:!0}),document.removeEventListener("pointermove",A,{capture:!0})}},[]),r.jsx(cx,{...c,children:r.jsx(NW,{scope:t,open:e,onOpenChange:f,content:l,onContentChange:d,children:r.jsx(SW,{scope:t,onClose:k.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:h,modal:o,children:s})})})};CE.displayName=Wm;var TW="MenuAnchor",gj=k.forwardRef((n,t)=>{const{__scopeMenu:e,...s}=n,a=Cx(e);return r.jsx(Qm,{...a,...s,ref:t})});gj.displayName=TW;var xj="MenuPortal",[kW,NE]=Md(xj,{forceMount:void 0}),SE=n=>{const{__scopeMenu:t,forceMount:e,children:s,container:a}=n,i=Pd(xj,t);return r.jsx(kW,{scope:t,forceMount:e,children:r.jsx(hs,{present:e||i.open,children:r.jsx(Zu,{asChild:!0,container:a,children:s})})})};SE.displayName=xj;var Ya="MenuContent",[_W,bj]=Md(Ya),TE=k.forwardRef((n,t)=>{const e=NE(Ya,n.__scopeMenu),{forceMount:s=e.forceMount,...a}=n,i=Pd(Ya,n.__scopeMenu),o=Xm(Ya,n.__scopeMenu);return r.jsx(am.Provider,{scope:n.__scopeMenu,children:r.jsx(hs,{present:s||i.open,children:r.jsx(am.Slot,{scope:n.__scopeMenu,children:o.modal?r.jsx(BW,{...a,ref:t}):r.jsx(EW,{...a,ref:t})})})})}),BW=k.forwardRef((n,t)=>{const e=Pd(Ya,n.__scopeMenu),s=k.useRef(null),a=cn(t,s);return k.useEffect(()=>{const i=s.current;if(i)return vx(i)},[]),r.jsx(vj,{...n,ref:a,trapFocus:e.open,disableOutsidePointerEvents:e.open,disableOutsideScroll:!0,onFocusOutside:tt(n.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>e.onOpenChange(!1)})}),EW=k.forwardRef((n,t)=>{const e=Pd(Ya,n.__scopeMenu);return r.jsx(vj,{...n,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>e.onOpenChange(!1)})}),MW=Xl("MenuContent.ScrollLock"),vj=k.forwardRef((n,t)=>{const{__scopeMenu:e,loop:s=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:A,...g}=n,p=Pd(Ya,e),b=Xm(Ya,e),x=Cx(e),v=jE(e),y=jW(e),[S,M]=k.useState(null),P=k.useRef(null),B=cn(t,P,p.onContentChange),D=k.useRef(0),L=k.useRef(""),O=k.useRef(0),F=k.useRef(null),_=k.useRef("right"),E=k.useRef(0),T=A?zm:k.Fragment,w=A?{as:MW,allowPinchZoom:!0}:void 0,C=N=>{var q,H;const I=L.current+N,R=y().filter($=>!$.disabled),U=document.activeElement,V=(q=R.find($=>$.ref.current===U))==null?void 0:q.textValue,z=R.map($=>$.textValue),X=VW(z,I,V),Q=(H=R.find($=>$.textValue===X))==null?void 0:H.ref.current;(function $(G){L.current=G,window.clearTimeout(D.current),G!==""&&(D.current=window.setTimeout(()=>$(""),1e3))})(I),Q&&setTimeout(()=>Q.focus())};k.useEffect(()=>()=>window.clearTimeout(D.current),[]),xx();const j=k.useCallback(N=>{var R,U;return _.current===((R=F.current)==null?void 0:R.side)&&KW(N,(U=F.current)==null?void 0:U.area)},[]);return r.jsx(_W,{scope:e,searchRef:L,onItemEnter:k.useCallback(N=>{j(N)&&N.preventDefault()},[j]),onItemLeave:k.useCallback(N=>{var I;j(N)||((I=P.current)==null||I.focus(),M(null))},[j]),onTriggerLeave:k.useCallback(N=>{j(N)&&N.preventDefault()},[j]),pointerGraceTimerRef:O,onPointerGraceIntentChange:k.useCallback(N=>{F.current=N},[]),children:r.jsx(T,{...w,children:r.jsx(Vm,{asChild:!0,trapped:a,onMountAutoFocus:tt(i,N=>{var I;N.preventDefault(),(I=P.current)==null||I.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:r.jsx(ic,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:r.jsx(pj,{asChild:!0,...v,dir:b.dir,orientation:"vertical",loop:s,currentTabStopId:S,onCurrentTabStopIdChange:M,onEntryFocus:tt(l,N=>{b.isUsingKeyboardRef.current||N.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(dx,{role:"menu","aria-orientation":"vertical","data-state":QE(p.open),"data-radix-menu-content":"",dir:b.dir,...x,...g,ref:B,style:{outline:"none",...g.style},onKeyDown:tt(g.onKeyDown,N=>{const R=N.target.closest("[data-radix-menu-content]")===N.currentTarget,U=N.ctrlKey||N.altKey||N.metaKey,V=N.key.length===1;R&&(N.key==="Tab"&&N.preventDefault(),!U&&V&&C(N.key));const z=P.current;if(N.target!==z||!vW.includes(N.key))return;N.preventDefault();const Q=y().filter(q=>!q.disabled).map(q=>q.ref.current);yE.includes(N.key)&&Q.reverse(),$W(Q)}),onBlur:tt(n.onBlur,N=>{N.currentTarget.contains(N.target)||(window.clearTimeout(D.current),L.current="")}),onPointerMove:tt(n.onPointerMove,im(N=>{const I=N.target,R=E.current!==N.clientX;if(N.currentTarget.contains(I)&&R){const U=N.clientX>E.current?"right":"left";_.current=U,E.current=N.clientX}}))})})})})})})});TE.displayName=Ya;var PW="MenuGroup",yj=k.forwardRef((n,t)=>{const{__scopeMenu:e,...s}=n;return r.jsx(Nt.div,{role:"group",...s,ref:t})});yj.displayName=PW;var DW="MenuLabel",kE=k.forwardRef((n,t)=>{const{__scopeMenu:e,...s}=n;return r.jsx(Nt.div,{...s,ref:t})});kE.displayName=DW;var Rg="MenuItem",j4="menu.itemSelect",Nx=k.forwardRef((n,t)=>{const{disabled:e=!1,onSelect:s,...a}=n,i=k.useRef(null),o=Xm(Rg,n.__scopeMenu),c=bj(Rg,n.__scopeMenu),l=cn(t,i),d=k.useRef(!1),u=()=>{const f=i.current;if(!e&&f){const h=new CustomEvent(j4,{bubbles:!0,cancelable:!0});f.addEventListener(j4,m=>s==null?void 0:s(m),{once:!0}),qf(f,h),h.defaultPrevented?d.current=!1:o.onClose()}};return r.jsx(_E,{...a,ref:l,disabled:e,onClick:tt(n.onClick,u),onPointerDown:f=>{var h;(h=n.onPointerDown)==null||h.call(n,f),d.current=!0},onPointerUp:tt(n.onPointerUp,f=>{var h;d.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:tt(n.onKeyDown,f=>{const h=c.searchRef.current!=="";e||h&&f.key===" "||ww.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Nx.displayName=Rg;var _E=k.forwardRef((n,t)=>{const{__scopeMenu:e,disabled:s=!1,textValue:a,...i}=n,o=bj(Rg,e),c=jE(e),l=k.useRef(null),d=cn(t,l),[u,f]=k.useState(!1),[h,m]=k.useState("");return k.useEffect(()=>{const A=l.current;A&&m((A.textContent??"").trim())},[i.children]),r.jsx(am.ItemSlot,{scope:e,disabled:s,textValue:a??h,children:r.jsx(Aj,{asChild:!0,...c,focusable:!s,children:r.jsx(Nt.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:d,onPointerMove:tt(n.onPointerMove,im(A=>{s?o.onItemLeave(A):(o.onItemEnter(A),A.defaultPrevented||A.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:tt(n.onPointerLeave,im(A=>o.onItemLeave(A))),onFocus:tt(n.onFocus,()=>f(!0)),onBlur:tt(n.onBlur,()=>f(!1))})})})}),IW="MenuCheckboxItem",BE=k.forwardRef((n,t)=>{const{checked:e=!1,onCheckedChange:s,...a}=n;return r.jsx(IE,{scope:n.__scopeMenu,checked:e,children:r.jsx(Nx,{role:"menuitemcheckbox","aria-checked":Ug(e)?"mixed":e,...a,ref:t,"data-state":jj(e),onSelect:tt(a.onSelect,()=>s==null?void 0:s(Ug(e)?!0:!e),{checkForDefaultPrevented:!1})})})});BE.displayName=IW;var EE="MenuRadioGroup",[OW,LW]=Md(EE,{value:void 0,onValueChange:()=>{}}),ME=k.forwardRef((n,t)=>{const{value:e,onValueChange:s,...a}=n,i=Hr(s);return r.jsx(OW,{scope:n.__scopeMenu,value:e,onValueChange:i,children:r.jsx(yj,{...a,ref:t})})});ME.displayName=EE;var PE="MenuRadioItem",DE=k.forwardRef((n,t)=>{const{value:e,...s}=n,a=LW(PE,n.__scopeMenu),i=e===a.value;return r.jsx(IE,{scope:n.__scopeMenu,checked:i,children:r.jsx(Nx,{role:"menuitemradio","aria-checked":i,...s,ref:t,"data-state":jj(i),onSelect:tt(s.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,e)},{checkForDefaultPrevented:!1})})})});DE.displayName=PE;var wj="MenuItemIndicator",[IE,FW]=Md(wj,{checked:!1}),OE=k.forwardRef((n,t)=>{const{__scopeMenu:e,forceMount:s,...a}=n,i=FW(wj,e);return r.jsx(hs,{present:s||Ug(i.checked)||i.checked===!0,children:r.jsx(Nt.span,{...a,ref:t,"data-state":jj(i.checked)})})});OE.displayName=wj;var RW="MenuSeparator",LE=k.forwardRef((n,t)=>{const{__scopeMenu:e,...s}=n;return r.jsx(Nt.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});LE.displayName=RW;var UW="MenuArrow",FE=k.forwardRef((n,t)=>{const{__scopeMenu:e,...s}=n,a=Cx(e);return r.jsx(ux,{...a,...s,ref:t})});FE.displayName=UW;var HW="MenuSub",[CBe,RE]=Md(HW),df="MenuSubTrigger",UE=k.forwardRef((n,t)=>{const e=Pd(df,n.__scopeMenu),s=Xm(df,n.__scopeMenu),a=RE(df,n.__scopeMenu),i=bj(df,n.__scopeMenu),o=k.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:l}=i,d={__scopeMenu:n.__scopeMenu},u=k.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return k.useEffect(()=>u,[u]),k.useEffect(()=>{const f=c.current;return()=>{window.clearTimeout(f),l(null)}},[c,l]),r.jsx(gj,{asChild:!0,...d,children:r.jsx(_E,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":e.open,"aria-controls":a.contentId,"data-state":QE(e.open),...n,ref:Fm(t,a.onTriggerChange),onClick:f=>{var h;(h=n.onClick)==null||h.call(n,f),!(n.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),e.open||e.onOpenChange(!0))},onPointerMove:tt(n.onPointerMove,im(f=>{i.onItemEnter(f),!f.defaultPrevented&&!n.disabled&&!e.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{e.onOpenChange(!0),u()},100))})),onPointerLeave:tt(n.onPointerLeave,im(f=>{var m,A;u();const h=(m=e.content)==null?void 0:m.getBoundingClientRect();if(h){const g=(A=e.content)==null?void 0:A.dataset.side,p=g==="right",b=p?-5:5,x=h[p?"left":"right"],v=h[p?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x,y:h.top},{x:v,y:h.top},{x:v,y:h.bottom},{x,y:h.bottom}],side:g}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:tt(n.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";n.disabled||h&&f.key===" "||yW[s.dir].includes(f.key)&&(e.onOpenChange(!0),(m=e.content)==null||m.focus(),f.preventDefault())})})})});UE.displayName=df;var HE="MenuSubContent",$E=k.forwardRef((n,t)=>{const e=NE(Ya,n.__scopeMenu),{forceMount:s=e.forceMount,...a}=n,i=Pd(Ya,n.__scopeMenu),o=Xm(Ya,n.__scopeMenu),c=RE(HE,n.__scopeMenu),l=k.useRef(null),d=cn(t,l);return r.jsx(am.Provider,{scope:n.__scopeMenu,children:r.jsx(hs,{present:s||i.open,children:r.jsx(am.Slot,{scope:n.__scopeMenu,children:r.jsx(vj,{id:c.contentId,"aria-labelledby":c.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:tt(n.onFocusOutside,u=>{u.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:tt(n.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:tt(n.onKeyDown,u=>{var m;const f=u.currentTarget.contains(u.target),h=wW[o.dir].includes(u.key);f&&h&&(i.onOpenChange(!1),(m=c.trigger)==null||m.focus(),u.preventDefault())})})})})})});$E.displayName=HE;function QE(n){return n?"open":"closed"}function Ug(n){return n==="indeterminate"}function jj(n){return Ug(n)?"indeterminate":n?"checked":"unchecked"}function $W(n){const t=document.activeElement;for(const e of n)if(e===t||(e.focus(),document.activeElement!==t))return}function QW(n,t){return n.map((e,s)=>n[(t+s)%n.length])}function VW(n,t,e){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=e?n.indexOf(e):-1;let o=QW(n,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==e));const l=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return l!==e?l:void 0}function zW(n,t){const{x:e,y:s}=n;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const c=t[i],l=t[o],d=c.x,u=c.y,f=l.x,h=l.y;u>s!=h>s&&e<(f-d)*(s-u)/(h-u)+d&&(a=!a)}return a}function KW(n,t){if(!t)return!1;const e={x:n.clientX,y:n.clientY};return zW(e,t)}function im(n){return t=>t.pointerType==="mouse"?n(t):void 0}var GW=CE,qW=gj,WW=SE,XW=TE,YW=yj,JW=kE,ZW=Nx,eX=BE,tX=ME,nX=DE,rX=OE,sX=LE,aX=FE,iX=UE,oX=$E,Sx="DropdownMenu",[lX,NBe]=ks(Sx,[wE]),na=wE(),[cX,VE]=lX(Sx),zE=n=>{const{__scopeDropdownMenu:t,children:e,dir:s,open:a,defaultOpen:i,onOpenChange:o,modal:c=!0}=n,l=na(t),d=k.useRef(null),[u,f]=wa({prop:a,defaultProp:i??!1,onChange:o,caller:Sx});return r.jsx(cX,{scope:t,triggerId:ga(),triggerRef:d,contentId:ga(),open:u,onOpenChange:f,onOpenToggle:k.useCallback(()=>f(h=>!h),[f]),modal:c,children:r.jsx(GW,{...l,open:u,onOpenChange:f,dir:s,modal:c,children:e})})};zE.displayName=Sx;var KE="DropdownMenuTrigger",GE=k.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,disabled:s=!1,...a}=n,i=VE(KE,e),o=na(e);return r.jsx(qW,{asChild:!0,...o,children:r.jsx(Nt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:Fm(t,i.triggerRef),onPointerDown:tt(n.onPointerDown,c=>{!s&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:tt(n.onKeyDown,c=>{s||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});GE.displayName=KE;var dX="DropdownMenuPortal",qE=n=>{const{__scopeDropdownMenu:t,...e}=n,s=na(t);return r.jsx(WW,{...s,...e})};qE.displayName=dX;var WE="DropdownMenuContent",XE=k.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...s}=n,a=VE(WE,e),i=na(e),o=k.useRef(!1);return r.jsx(XW,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...s,ref:t,onCloseAutoFocus:tt(n.onCloseAutoFocus,c=>{var l;o.current||(l=a.triggerRef.current)==null||l.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:tt(n.onInteractOutside,c=>{const l=c.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,u=l.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});XE.displayName=WE;var uX="DropdownMenuGroup",hX=k.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...s}=n,a=na(e);return r.jsx(YW,{...a,...s,ref:t})});hX.displayName=uX;var fX="DropdownMenuLabel",YE=k.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...s}=n,a=na(e);return r.jsx(JW,{...a,...s,ref:t})});YE.displayName=fX;var mX="DropdownMenuItem",JE=k.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...s}=n,a=na(e);return r.jsx(ZW,{...a,...s,ref:t})});JE.displayName=mX;var pX="DropdownMenuCheckboxItem",ZE=k.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...s}=n,a=na(e);return r.jsx(eX,{...a,...s,ref:t})});ZE.displayName=pX;var AX="DropdownMenuRadioGroup",gX=k.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...s}=n,a=na(e);return r.jsx(tX,{...a,...s,ref:t})});gX.displayName=AX;var xX="DropdownMenuRadioItem",e8=k.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...s}=n,a=na(e);return r.jsx(nX,{...a,...s,ref:t})});e8.displayName=xX;var bX="DropdownMenuItemIndicator",t8=k.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...s}=n,a=na(e);return r.jsx(rX,{...a,...s,ref:t})});t8.displayName=bX;var vX="DropdownMenuSeparator",n8=k.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...s}=n,a=na(e);return r.jsx(sX,{...a,...s,ref:t})});n8.displayName=vX;var yX="DropdownMenuArrow",wX=k.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...s}=n,a=na(e);return r.jsx(aX,{...a,...s,ref:t})});wX.displayName=yX;var jX="DropdownMenuSubTrigger",r8=k.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...s}=n,a=na(e);return r.jsx(iX,{...a,...s,ref:t})});r8.displayName=jX;var CX="DropdownMenuSubContent",s8=k.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...s}=n,a=na(e);return r.jsx(oX,{...a,...s,ref:t,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});s8.displayName=CX;var NX=zE,SX=GE,TX=qE,a8=XE,i8=YE,o8=JE,l8=ZE,c8=e8,d8=t8,u8=n8,h8=r8,f8=s8;const Ar=NX,gr=SX,kX=k.forwardRef(({className:n,inset:t,children:e,...s},a)=>r.jsxs(h8,{ref:a,className:Ue("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",n),...s,children:[e,r.jsx(xr,{className:"ml-auto h-4 w-4"})]}));kX.displayName=h8.displayName;const _X=k.forwardRef(({className:n,...t},e)=>r.jsx(f8,{ref:e,className:Ue("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));_X.displayName=f8.displayName;const hr=k.forwardRef(({className:n,sideOffset:t=4,...e},s)=>r.jsx(TX,{children:r.jsx(a8,{ref:s,sideOffset:t,className:Ue("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e})}));hr.displayName=a8.displayName;const ct=k.forwardRef(({className:n,inset:t,...e},s)=>r.jsx(o8,{ref:s,className:Ue("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",n),...e}));ct.displayName=o8.displayName;const BX=k.forwardRef(({className:n,children:t,checked:e,...s},a)=>r.jsxs(l8,{ref:a,className:Ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:e,...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(d8,{children:r.jsx(Bd,{className:"h-4 w-4"})})}),t]}));BX.displayName=l8.displayName;const EX=k.forwardRef(({className:n,children:t,...e},s)=>r.jsxs(c8,{ref:s,className:Ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...e,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(d8,{children:r.jsx(m6,{className:"h-2 w-2 fill-current"})})}),t]}));EX.displayName=c8.displayName;const m8=k.forwardRef(({className:n,inset:t,...e},s)=>r.jsx(i8,{ref:s,className:Ue("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",n),...e}));m8.displayName=i8.displayName;const jw=k.forwardRef(({className:n,...t},e)=>r.jsx(u8,{ref:e,className:Ue("-mx-1 my-1 h-px bg-muted",n),...t}));jw.displayName=u8.displayName;function p8(n,t){return function(){return n.apply(t,arguments)}}const{toString:MX}=Object.prototype,{getPrototypeOf:Cj}=Object,{iterator:Tx,toStringTag:A8}=Symbol,kx=(n=>t=>{const e=MX.call(t);return n[e]||(n[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),Ni=n=>(n=n.toLowerCase(),t=>kx(t)===n),_x=n=>t=>typeof t===n,{isArray:dh}=Array,om=_x("undefined");function Ym(n){return n!==null&&!om(n)&&n.constructor!==null&&!om(n.constructor)&&xa(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const g8=Ni("ArrayBuffer");function PX(n){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&g8(n.buffer),t}const DX=_x("string"),xa=_x("function"),x8=_x("number"),Jm=n=>n!==null&&typeof n=="object",IX=n=>n===!0||n===!1,rg=n=>{if(kx(n)!=="object")return!1;const t=Cj(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(A8 in n)&&!(Tx in n)},OX=n=>{if(!Jm(n)||Ym(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},LX=Ni("Date"),FX=Ni("File"),RX=Ni("Blob"),UX=Ni("FileList"),HX=n=>Jm(n)&&xa(n.pipe),$X=n=>{let t;return n&&(typeof FormData=="function"&&n instanceof FormData||xa(n.append)&&((t=kx(n))==="formdata"||t==="object"&&xa(n.toString)&&n.toString()==="[object FormData]"))},QX=Ni("URLSearchParams"),[VX,zX,KX,GX]=["ReadableStream","Request","Response","Headers"].map(Ni),qX=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zm(n,t,{allOwnKeys:e=!1}={}){if(n===null||typeof n>"u")return;let s,a;if(typeof n!="object"&&(n=[n]),dh(n))for(s=0,a=n.length;s<a;s++)t.call(null,n[s],s,n);else{if(Ym(n))return;const i=e?Object.getOwnPropertyNames(n):Object.keys(n),o=i.length;let c;for(s=0;s<o;s++)c=i[s],t.call(null,n[c],c,n)}}function b8(n,t){if(Ym(n))return null;t=t.toLowerCase();const e=Object.keys(n);let s=e.length,a;for(;s-- >0;)if(a=e[s],t===a.toLowerCase())return a;return null}const Fc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,v8=n=>!om(n)&&n!==Fc;function Cw(){const{caseless:n}=v8(this)&&this||{},t={},e=(s,a)=>{const i=n&&b8(t,a)||a;rg(t[i])&&rg(s)?t[i]=Cw(t[i],s):rg(s)?t[i]=Cw({},s):dh(s)?t[i]=s.slice():t[i]=s};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&Zm(arguments[s],e);return t}const WX=(n,t,e,{allOwnKeys:s}={})=>(Zm(t,(a,i)=>{e&&xa(a)?n[i]=p8(a,e):n[i]=a},{allOwnKeys:s}),n),XX=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),YX=(n,t,e,s)=>{n.prototype=Object.create(t.prototype,s),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:t.prototype}),e&&Object.assign(n.prototype,e)},JX=(n,t,e,s)=>{let a,i,o;const c={};if(t=t||{},n==null)return t;do{for(a=Object.getOwnPropertyNames(n),i=a.length;i-- >0;)o=a[i],(!s||s(o,n,t))&&!c[o]&&(t[o]=n[o],c[o]=!0);n=e!==!1&&Cj(n)}while(n&&(!e||e(n,t))&&n!==Object.prototype);return t},ZX=(n,t,e)=>{n=String(n),(e===void 0||e>n.length)&&(e=n.length),e-=t.length;const s=n.indexOf(t,e);return s!==-1&&s===e},eY=n=>{if(!n)return null;if(dh(n))return n;let t=n.length;if(!x8(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=n[t];return e},tY=(n=>t=>n&&t instanceof n)(typeof Uint8Array<"u"&&Cj(Uint8Array)),nY=(n,t)=>{const s=(n&&n[Tx]).call(n);let a;for(;(a=s.next())&&!a.done;){const i=a.value;t.call(n,i[0],i[1])}},rY=(n,t)=>{let e;const s=[];for(;(e=n.exec(t))!==null;)s.push(e);return s},sY=Ni("HTMLFormElement"),aY=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,s,a){return s.toUpperCase()+a}),C4=(({hasOwnProperty:n})=>(t,e)=>n.call(t,e))(Object.prototype),iY=Ni("RegExp"),y8=(n,t)=>{const e=Object.getOwnPropertyDescriptors(n),s={};Zm(e,(a,i)=>{let o;(o=t(a,i,n))!==!1&&(s[i]=o||a)}),Object.defineProperties(n,s)},oY=n=>{y8(n,(t,e)=>{if(xa(n)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const s=n[e];if(xa(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},lY=(n,t)=>{const e={},s=a=>{a.forEach(i=>{e[i]=!0})};return dh(n)?s(n):s(String(n).split(t)),e},cY=()=>{},dY=(n,t)=>n!=null&&Number.isFinite(n=+n)?n:t;function uY(n){return!!(n&&xa(n.append)&&n[A8]==="FormData"&&n[Tx])}const hY=n=>{const t=new Array(10),e=(s,a)=>{if(Jm(s)){if(t.indexOf(s)>=0)return;if(Ym(s))return s;if(!("toJSON"in s)){t[a]=s;const i=dh(s)?[]:{};return Zm(s,(o,c)=>{const l=e(o,a+1);!om(l)&&(i[c]=l)}),t[a]=void 0,i}}return s};return e(n,0)},fY=Ni("AsyncFunction"),mY=n=>n&&(Jm(n)||xa(n))&&xa(n.then)&&xa(n.catch),w8=((n,t)=>n?setImmediate:t?((e,s)=>(Fc.addEventListener("message",({source:a,data:i})=>{a===Fc&&i===e&&s.length&&s.shift()()},!1),a=>{s.push(a),Fc.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",xa(Fc.postMessage)),pY=typeof queueMicrotask<"u"?queueMicrotask.bind(Fc):typeof process<"u"&&process.nextTick||w8,AY=n=>n!=null&&xa(n[Tx]),Ge={isArray:dh,isArrayBuffer:g8,isBuffer:Ym,isFormData:$X,isArrayBufferView:PX,isString:DX,isNumber:x8,isBoolean:IX,isObject:Jm,isPlainObject:rg,isEmptyObject:OX,isReadableStream:VX,isRequest:zX,isResponse:KX,isHeaders:GX,isUndefined:om,isDate:LX,isFile:FX,isBlob:RX,isRegExp:iY,isFunction:xa,isStream:HX,isURLSearchParams:QX,isTypedArray:tY,isFileList:UX,forEach:Zm,merge:Cw,extend:WX,trim:qX,stripBOM:XX,inherits:YX,toFlatObject:JX,kindOf:kx,kindOfTest:Ni,endsWith:ZX,toArray:eY,forEachEntry:nY,matchAll:rY,isHTMLForm:sY,hasOwnProperty:C4,hasOwnProp:C4,reduceDescriptors:y8,freezeMethods:oY,toObjectSet:lY,toCamelCase:aY,noop:cY,toFiniteNumber:dY,findKey:b8,global:Fc,isContextDefined:v8,isSpecCompliantForm:uY,toJSONObject:hY,isAsyncFn:fY,isThenable:mY,setImmediate:w8,asap:pY,isIterable:AY};function jn(n,t,e,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}Ge.inherits(jn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ge.toJSONObject(this.config),code:this.code,status:this.status}}});const j8=jn.prototype,C8={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{C8[n]={value:n}});Object.defineProperties(jn,C8);Object.defineProperty(j8,"isAxiosError",{value:!0});jn.from=(n,t,e,s,a,i)=>{const o=Object.create(j8);return Ge.toFlatObject(n,o,function(l){return l!==Error.prototype},c=>c!=="isAxiosError"),jn.call(o,n.message,t,e,s,a),o.cause=n,o.name=n.name,i&&Object.assign(o,i),o};const gY=null;function Nw(n){return Ge.isPlainObject(n)||Ge.isArray(n)}function N8(n){return Ge.endsWith(n,"[]")?n.slice(0,-2):n}function N4(n,t,e){return n?n.concat(t).map(function(a,i){return a=N8(a),!e&&i?"["+a+"]":a}).join(e?".":""):t}function xY(n){return Ge.isArray(n)&&!n.some(Nw)}const bY=Ge.toFlatObject(Ge,{},null,function(t){return/^is[A-Z]/.test(t)});function Bx(n,t,e){if(!Ge.isObject(n))throw new TypeError("target must be an object");t=t||new FormData,e=Ge.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,p){return!Ge.isUndefined(p[g])});const s=e.metaTokens,a=e.visitor||u,i=e.dots,o=e.indexes,l=(e.Blob||typeof Blob<"u"&&Blob)&&Ge.isSpecCompliantForm(t);if(!Ge.isFunction(a))throw new TypeError("visitor must be a function");function d(A){if(A===null)return"";if(Ge.isDate(A))return A.toISOString();if(Ge.isBoolean(A))return A.toString();if(!l&&Ge.isBlob(A))throw new jn("Blob is not supported. Use a Buffer instead.");return Ge.isArrayBuffer(A)||Ge.isTypedArray(A)?l&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function u(A,g,p){let b=A;if(A&&!p&&typeof A=="object"){if(Ge.endsWith(g,"{}"))g=s?g:g.slice(0,-2),A=JSON.stringify(A);else if(Ge.isArray(A)&&xY(A)||(Ge.isFileList(A)||Ge.endsWith(g,"[]"))&&(b=Ge.toArray(A)))return g=N8(g),b.forEach(function(v,y){!(Ge.isUndefined(v)||v===null)&&t.append(o===!0?N4([g],y,i):o===null?g:g+"[]",d(v))}),!1}return Nw(A)?!0:(t.append(N4(p,g,i),d(A)),!1)}const f=[],h=Object.assign(bY,{defaultVisitor:u,convertValue:d,isVisitable:Nw});function m(A,g){if(!Ge.isUndefined(A)){if(f.indexOf(A)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(A),Ge.forEach(A,function(b,x){(!(Ge.isUndefined(b)||b===null)&&a.call(t,b,Ge.isString(x)?x.trim():x,g,h))===!0&&m(b,g?g.concat(x):[x])}),f.pop()}}if(!Ge.isObject(n))throw new TypeError("data must be an object");return m(n),t}function S4(n){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Nj(n,t){this._pairs=[],n&&Bx(n,this,t)}const S8=Nj.prototype;S8.append=function(t,e){this._pairs.push([t,e])};S8.toString=function(t){const e=t?function(s){return t.call(this,s,S4)}:S4;return this._pairs.map(function(a){return e(a[0])+"="+e(a[1])},"").join("&")};function vY(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function T8(n,t,e){if(!t)return n;const s=e&&e.encode||vY;Ge.isFunction(e)&&(e={serialize:e});const a=e&&e.serialize;let i;if(a?i=a(t,e):i=Ge.isURLSearchParams(t)?t.toString():new Nj(t,e).toString(s),i){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+i}return n}class T4{constructor(){this.handlers=[]}use(t,e,s){return this.handlers.push({fulfilled:t,rejected:e,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ge.forEach(this.handlers,function(s){s!==null&&t(s)})}}const k8={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yY=typeof URLSearchParams<"u"?URLSearchParams:Nj,wY=typeof FormData<"u"?FormData:null,jY=typeof Blob<"u"?Blob:null,CY={isBrowser:!0,classes:{URLSearchParams:yY,FormData:wY,Blob:jY},protocols:["http","https","file","blob","url","data"]},Sj=typeof window<"u"&&typeof document<"u",Sw=typeof navigator=="object"&&navigator||void 0,NY=Sj&&(!Sw||["ReactNative","NativeScript","NS"].indexOf(Sw.product)<0),SY=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",TY=Sj&&window.location.href||"http://localhost",kY=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Sj,hasStandardBrowserEnv:NY,hasStandardBrowserWebWorkerEnv:SY,navigator:Sw,origin:TY},Symbol.toStringTag,{value:"Module"})),Ls={...kY,...CY};function _Y(n,t){return Bx(n,new Ls.classes.URLSearchParams,{visitor:function(e,s,a,i){return Ls.isNode&&Ge.isBuffer(e)?(this.append(s,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function BY(n){return Ge.matchAll(/\w+|\[(\w*)]/g,n).map(t=>t[0]==="[]"?"":t[1]||t[0])}function EY(n){const t={},e=Object.keys(n);let s;const a=e.length;let i;for(s=0;s<a;s++)i=e[s],t[i]=n[i];return t}function _8(n){function t(e,s,a,i){let o=e[i++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),l=i>=e.length;return o=!o&&Ge.isArray(a)?a.length:o,l?(Ge.hasOwnProp(a,o)?a[o]=[a[o],s]:a[o]=s,!c):((!a[o]||!Ge.isObject(a[o]))&&(a[o]=[]),t(e,s,a[o],i)&&Ge.isArray(a[o])&&(a[o]=EY(a[o])),!c)}if(Ge.isFormData(n)&&Ge.isFunction(n.entries)){const e={};return Ge.forEachEntry(n,(s,a)=>{t(BY(s),a,e,0)}),e}return null}function MY(n,t,e){if(Ge.isString(n))try{return(t||JSON.parse)(n),Ge.trim(n)}catch(s){if(s.name!=="SyntaxError")throw s}return(e||JSON.stringify)(n)}const ep={transitional:k8,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const s=e.getContentType()||"",a=s.indexOf("application/json")>-1,i=Ge.isObject(t);if(i&&Ge.isHTMLForm(t)&&(t=new FormData(t)),Ge.isFormData(t))return a?JSON.stringify(_8(t)):t;if(Ge.isArrayBuffer(t)||Ge.isBuffer(t)||Ge.isStream(t)||Ge.isFile(t)||Ge.isBlob(t)||Ge.isReadableStream(t))return t;if(Ge.isArrayBufferView(t))return t.buffer;if(Ge.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return _Y(t,this.formSerializer).toString();if((c=Ge.isFileList(t))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Bx(c?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||a?(e.setContentType("application/json",!1),MY(t)):t}],transformResponse:[function(t){const e=this.transitional||ep.transitional,s=e&&e.forcedJSONParsing,a=this.responseType==="json";if(Ge.isResponse(t)||Ge.isReadableStream(t))return t;if(t&&Ge.isString(t)&&(s&&!this.responseType||a)){const o=!(e&&e.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(c){if(o)throw c.name==="SyntaxError"?jn.from(c,jn.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ls.classes.FormData,Blob:Ls.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ge.forEach(["delete","get","head","post","put","patch"],n=>{ep.headers[n]={}});const PY=Ge.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),DY=n=>{const t={};let e,s,a;return n&&n.split(`
`).forEach(function(o){a=o.indexOf(":"),e=o.substring(0,a).trim().toLowerCase(),s=o.substring(a+1).trim(),!(!e||t[e]&&PY[e])&&(e==="set-cookie"?t[e]?t[e].push(s):t[e]=[s]:t[e]=t[e]?t[e]+", "+s:s)}),t},k4=Symbol("internals");function Bh(n){return n&&String(n).trim().toLowerCase()}function sg(n){return n===!1||n==null?n:Ge.isArray(n)?n.map(sg):String(n)}function IY(n){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=e.exec(n);)t[s[1]]=s[2];return t}const OY=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function dv(n,t,e,s,a){if(Ge.isFunction(s))return s.call(this,t,e);if(a&&(t=e),!!Ge.isString(t)){if(Ge.isString(s))return t.indexOf(s)!==-1;if(Ge.isRegExp(s))return s.test(t)}}function LY(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,s)=>e.toUpperCase()+s)}function FY(n,t){const e=Ge.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(n,s+e,{value:function(a,i,o){return this[s].call(this,t,a,i,o)},configurable:!0})})}let ba=class{constructor(t){t&&this.set(t)}set(t,e,s){const a=this;function i(c,l,d){const u=Bh(l);if(!u)throw new Error("header name must be a non-empty string");const f=Ge.findKey(a,u);(!f||a[f]===void 0||d===!0||d===void 0&&a[f]!==!1)&&(a[f||l]=sg(c))}const o=(c,l)=>Ge.forEach(c,(d,u)=>i(d,u,l));if(Ge.isPlainObject(t)||t instanceof this.constructor)o(t,e);else if(Ge.isString(t)&&(t=t.trim())&&!OY(t))o(DY(t),e);else if(Ge.isObject(t)&&Ge.isIterable(t)){let c={},l,d;for(const u of t){if(!Ge.isArray(u))throw TypeError("Object iterator must return a key-value pair");c[d=u[0]]=(l=c[d])?Ge.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(c,e)}else t!=null&&i(e,t,s);return this}get(t,e){if(t=Bh(t),t){const s=Ge.findKey(this,t);if(s){const a=this[s];if(!e)return a;if(e===!0)return IY(a);if(Ge.isFunction(e))return e.call(this,a,s);if(Ge.isRegExp(e))return e.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=Bh(t),t){const s=Ge.findKey(this,t);return!!(s&&this[s]!==void 0&&(!e||dv(this,this[s],s,e)))}return!1}delete(t,e){const s=this;let a=!1;function i(o){if(o=Bh(o),o){const c=Ge.findKey(s,o);c&&(!e||dv(s,s[c],c,e))&&(delete s[c],a=!0)}}return Ge.isArray(t)?t.forEach(i):i(t),a}clear(t){const e=Object.keys(this);let s=e.length,a=!1;for(;s--;){const i=e[s];(!t||dv(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const e=this,s={};return Ge.forEach(this,(a,i)=>{const o=Ge.findKey(s,i);if(o){e[o]=sg(a),delete e[i];return}const c=t?LY(i):String(i).trim();c!==i&&delete e[i],e[c]=sg(a),s[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return Ge.forEach(this,(s,a)=>{s!=null&&s!==!1&&(e[a]=t&&Ge.isArray(s)?s.join(", "):s)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const s=new this(t);return e.forEach(a=>s.set(a)),s}static accessor(t){const s=(this[k4]=this[k4]={accessors:{}}).accessors,a=this.prototype;function i(o){const c=Bh(o);s[c]||(FY(a,o),s[c]=!0)}return Ge.isArray(t)?t.forEach(i):i(t),this}};ba.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ge.reduceDescriptors(ba.prototype,({value:n},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(s){this[e]=s}}});Ge.freezeMethods(ba);function uv(n,t){const e=this||ep,s=t||e,a=ba.from(s.headers);let i=s.data;return Ge.forEach(n,function(c){i=c.call(e,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function B8(n){return!!(n&&n.__CANCEL__)}function uh(n,t,e){jn.call(this,n??"canceled",jn.ERR_CANCELED,t,e),this.name="CanceledError"}Ge.inherits(uh,jn,{__CANCEL__:!0});function E8(n,t,e){const s=e.config.validateStatus;!e.status||!s||s(e.status)?n(e):t(new jn("Request failed with status code "+e.status,[jn.ERR_BAD_REQUEST,jn.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function RY(n){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return t&&t[1]||""}function UY(n,t){n=n||10;const e=new Array(n),s=new Array(n);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const d=Date.now(),u=s[i];o||(o=d),e[a]=l,s[a]=d;let f=i,h=0;for(;f!==a;)h+=e[f++],f=f%n;if(a=(a+1)%n,a===i&&(i=(i+1)%n),d-o<t)return;const m=u&&d-u;return m?Math.round(h*1e3/m):void 0}}function HY(n,t){let e=0,s=1e3/t,a,i;const o=(d,u=Date.now())=>{e=u,a=null,i&&(clearTimeout(i),i=null),n(...d)};return[(...d)=>{const u=Date.now(),f=u-e;f>=s?o(d,u):(a=d,i||(i=setTimeout(()=>{i=null,o(a)},s-f)))},()=>a&&o(a)]}const Hg=(n,t,e=3)=>{let s=0;const a=UY(50,250);return HY(i=>{const o=i.loaded,c=i.lengthComputable?i.total:void 0,l=o-s,d=a(l),u=o<=c;s=o;const f={loaded:o,total:c,progress:c?o/c:void 0,bytes:l,rate:d||void 0,estimated:d&&c&&u?(c-o)/d:void 0,event:i,lengthComputable:c!=null,[t?"download":"upload"]:!0};n(f)},e)},_4=(n,t)=>{const e=n!=null;return[s=>t[0]({lengthComputable:e,total:n,loaded:s}),t[1]]},B4=n=>(...t)=>Ge.asap(()=>n(...t)),$Y=Ls.hasStandardBrowserEnv?((n,t)=>e=>(e=new URL(e,Ls.origin),n.protocol===e.protocol&&n.host===e.host&&(t||n.port===e.port)))(new URL(Ls.origin),Ls.navigator&&/(msie|trident)/i.test(Ls.navigator.userAgent)):()=>!0,QY=Ls.hasStandardBrowserEnv?{write(n,t,e,s,a,i){const o=[n+"="+encodeURIComponent(t)];Ge.isNumber(e)&&o.push("expires="+new Date(e).toGMTString()),Ge.isString(s)&&o.push("path="+s),Ge.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const t=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function VY(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function zY(n,t){return t?n.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):n}function M8(n,t,e){let s=!VY(t);return n&&(s||e==!1)?zY(n,t):t}const E4=n=>n instanceof ba?{...n}:n;function dd(n,t){t=t||{};const e={};function s(d,u,f,h){return Ge.isPlainObject(d)&&Ge.isPlainObject(u)?Ge.merge.call({caseless:h},d,u):Ge.isPlainObject(u)?Ge.merge({},u):Ge.isArray(u)?u.slice():u}function a(d,u,f,h){if(Ge.isUndefined(u)){if(!Ge.isUndefined(d))return s(void 0,d,f,h)}else return s(d,u,f,h)}function i(d,u){if(!Ge.isUndefined(u))return s(void 0,u)}function o(d,u){if(Ge.isUndefined(u)){if(!Ge.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function c(d,u,f){if(f in t)return s(d,u);if(f in n)return s(void 0,d)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(d,u,f)=>a(E4(d),E4(u),f,!0)};return Ge.forEach(Object.keys({...n,...t}),function(u){const f=l[u]||a,h=f(n[u],t[u],u);Ge.isUndefined(h)&&f!==c||(e[u]=h)}),e}const P8=n=>{const t=dd({},n);let{data:e,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:c}=t;t.headers=o=ba.from(o),t.url=T8(M8(t.baseURL,t.url,t.allowAbsoluteUrls),n.params,n.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let l;if(Ge.isFormData(e)){if(Ls.hasStandardBrowserEnv||Ls.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[d,...u]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...u].join("; "))}}if(Ls.hasStandardBrowserEnv&&(s&&Ge.isFunction(s)&&(s=s(t)),s||s!==!1&&$Y(t.url))){const d=a&&i&&QY.read(i);d&&o.set(a,d)}return t},KY=typeof XMLHttpRequest<"u",GY=KY&&function(n){return new Promise(function(e,s){const a=P8(n);let i=a.data;const o=ba.from(a.headers).normalize();let{responseType:c,onUploadProgress:l,onDownloadProgress:d}=a,u,f,h,m,A;function g(){m&&m(),A&&A(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let p=new XMLHttpRequest;p.open(a.method.toUpperCase(),a.url,!0),p.timeout=a.timeout;function b(){if(!p)return;const v=ba.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),S={data:!c||c==="text"||c==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:v,config:n,request:p};E8(function(P){e(P),g()},function(P){s(P),g()},S),p=null}"onloadend"in p?p.onloadend=b:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(b)},p.onabort=function(){p&&(s(new jn("Request aborted",jn.ECONNABORTED,n,p)),p=null)},p.onerror=function(){s(new jn("Network Error",jn.ERR_NETWORK,n,p)),p=null},p.ontimeout=function(){let y=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const S=a.transitional||k8;a.timeoutErrorMessage&&(y=a.timeoutErrorMessage),s(new jn(y,S.clarifyTimeoutError?jn.ETIMEDOUT:jn.ECONNABORTED,n,p)),p=null},i===void 0&&o.setContentType(null),"setRequestHeader"in p&&Ge.forEach(o.toJSON(),function(y,S){p.setRequestHeader(S,y)}),Ge.isUndefined(a.withCredentials)||(p.withCredentials=!!a.withCredentials),c&&c!=="json"&&(p.responseType=a.responseType),d&&([h,A]=Hg(d,!0),p.addEventListener("progress",h)),l&&p.upload&&([f,m]=Hg(l),p.upload.addEventListener("progress",f),p.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(u=v=>{p&&(s(!v||v.type?new uh(null,n,p):v),p.abort(),p=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const x=RY(a.url);if(x&&Ls.protocols.indexOf(x)===-1){s(new jn("Unsupported protocol "+x+":",jn.ERR_BAD_REQUEST,n));return}p.send(i||null)})},qY=(n,t)=>{const{length:e}=n=n?n.filter(Boolean):[];if(t||e){let s=new AbortController,a;const i=function(d){if(!a){a=!0,c();const u=d instanceof Error?d:this.reason;s.abort(u instanceof jn?u:new uh(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new jn(`timeout ${t} of ms exceeded`,jn.ETIMEDOUT))},t);const c=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),n=null)};n.forEach(d=>d.addEventListener("abort",i));const{signal:l}=s;return l.unsubscribe=()=>Ge.asap(c),l}},WY=function*(n,t){let e=n.byteLength;if(e<t){yield n;return}let s=0,a;for(;s<e;)a=s+t,yield n.slice(s,a),s=a},XY=async function*(n,t){for await(const e of YY(n))yield*WY(e,t)},YY=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const t=n.getReader();try{for(;;){const{done:e,value:s}=await t.read();if(e)break;yield s}}finally{await t.cancel()}},M4=(n,t,e,s)=>{const a=XY(n,t);let i=0,o,c=l=>{o||(o=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:d,value:u}=await a.next();if(d){c(),l.close();return}let f=u.byteLength;if(e){let h=i+=f;e(h)}l.enqueue(new Uint8Array(u))}catch(d){throw c(d),d}},cancel(l){return c(l),a.return()}},{highWaterMark:2})},Ex=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",D8=Ex&&typeof ReadableStream=="function",JY=Ex&&(typeof TextEncoder=="function"?(n=>t=>n.encode(t))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),I8=(n,...t)=>{try{return!!n(...t)}catch{return!1}},ZY=D8&&I8(()=>{let n=!1;const t=new Request(Ls.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!t}),P4=64*1024,Tw=D8&&I8(()=>Ge.isReadableStream(new Response("").body)),$g={stream:Tw&&(n=>n.body)};Ex&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!$g[t]&&($g[t]=Ge.isFunction(n[t])?e=>e[t]():(e,s)=>{throw new jn(`Response type '${t}' is not supported`,jn.ERR_NOT_SUPPORT,s)})})})(new Response);const eJ=async n=>{if(n==null)return 0;if(Ge.isBlob(n))return n.size;if(Ge.isSpecCompliantForm(n))return(await new Request(Ls.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(Ge.isArrayBufferView(n)||Ge.isArrayBuffer(n))return n.byteLength;if(Ge.isURLSearchParams(n)&&(n=n+""),Ge.isString(n))return(await JY(n)).byteLength},tJ=async(n,t)=>{const e=Ge.toFiniteNumber(n.getContentLength());return e??eJ(t)},nJ=Ex&&(async n=>{let{url:t,method:e,data:s,signal:a,cancelToken:i,timeout:o,onDownloadProgress:c,onUploadProgress:l,responseType:d,headers:u,withCredentials:f="same-origin",fetchOptions:h}=P8(n);d=d?(d+"").toLowerCase():"text";let m=qY([a,i&&i.toAbortSignal()],o),A;const g=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let p;try{if(l&&ZY&&e!=="get"&&e!=="head"&&(p=await tJ(u,s))!==0){let S=new Request(t,{method:"POST",body:s,duplex:"half"}),M;if(Ge.isFormData(s)&&(M=S.headers.get("content-type"))&&u.setContentType(M),S.body){const[P,B]=_4(p,Hg(B4(l)));s=M4(S.body,P4,P,B)}}Ge.isString(f)||(f=f?"include":"omit");const b="credentials"in Request.prototype;A=new Request(t,{...h,signal:m,method:e.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:b?f:void 0});let x=await fetch(A,h);const v=Tw&&(d==="stream"||d==="response");if(Tw&&(c||v&&g)){const S={};["status","statusText","headers"].forEach(D=>{S[D]=x[D]});const M=Ge.toFiniteNumber(x.headers.get("content-length")),[P,B]=c&&_4(M,Hg(B4(c),!0))||[];x=new Response(M4(x.body,P4,P,()=>{B&&B(),g&&g()}),S)}d=d||"text";let y=await $g[Ge.findKey($g,d)||"text"](x,n);return!v&&g&&g(),await new Promise((S,M)=>{E8(S,M,{data:y,headers:ba.from(x.headers),status:x.status,statusText:x.statusText,config:n,request:A})})}catch(b){throw g&&g(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new jn("Network Error",jn.ERR_NETWORK,n,A),{cause:b.cause||b}):jn.from(b,b&&b.code,n,A)}}),kw={http:gY,xhr:GY,fetch:nJ};Ge.forEach(kw,(n,t)=>{if(n){try{Object.defineProperty(n,"name",{value:t})}catch{}Object.defineProperty(n,"adapterName",{value:t})}});const D4=n=>`- ${n}`,rJ=n=>Ge.isFunction(n)||n===null||n===!1,O8={getAdapter:n=>{n=Ge.isArray(n)?n:[n];const{length:t}=n;let e,s;const a={};for(let i=0;i<t;i++){e=n[i];let o;if(s=e,!rJ(e)&&(s=kw[(o=String(e)).toLowerCase()],s===void 0))throw new jn(`Unknown adapter '${o}'`);if(s)break;a[o||"#"+i]=s}if(!s){const i=Object.entries(a).map(([c,l])=>`adapter ${c} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(D4).join(`
`):" "+D4(i[0]):"as no adapter specified";throw new jn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:kw};function hv(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new uh(null,n)}function I4(n){return hv(n),n.headers=ba.from(n.headers),n.data=uv.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),O8.getAdapter(n.adapter||ep.adapter)(n).then(function(s){return hv(n),s.data=uv.call(n,n.transformResponse,s),s.headers=ba.from(s.headers),s},function(s){return B8(s)||(hv(n),s&&s.response&&(s.response.data=uv.call(n,n.transformResponse,s.response),s.response.headers=ba.from(s.response.headers))),Promise.reject(s)})}const L8="1.11.0",Mx={};["object","boolean","number","function","string","symbol"].forEach((n,t)=>{Mx[n]=function(s){return typeof s===n||"a"+(t<1?"n ":" ")+n}});const O4={};Mx.transitional=function(t,e,s){function a(i,o){return"[Axios v"+L8+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,c)=>{if(t===!1)throw new jn(a(o," has been removed"+(e?" in "+e:"")),jn.ERR_DEPRECATED);return e&&!O4[o]&&(O4[o]=!0,console.warn(a(o," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(i,o,c):!0}};Mx.spelling=function(t){return(e,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function sJ(n,t,e){if(typeof n!="object")throw new jn("options must be an object",jn.ERR_BAD_OPTION_VALUE);const s=Object.keys(n);let a=s.length;for(;a-- >0;){const i=s[a],o=t[i];if(o){const c=n[i],l=c===void 0||o(c,i,n);if(l!==!0)throw new jn("option "+i+" must be "+l,jn.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new jn("Unknown option "+i,jn.ERR_BAD_OPTION)}}const ag={assertOptions:sJ,validators:Mx},Bi=ag.validators;let qc=class{constructor(t){this.defaults=t||{},this.interceptors={request:new T4,response:new T4}}async request(t,e){try{return await this._request(t,e)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=dd(this.defaults,e);const{transitional:s,paramsSerializer:a,headers:i}=e;s!==void 0&&ag.assertOptions(s,{silentJSONParsing:Bi.transitional(Bi.boolean),forcedJSONParsing:Bi.transitional(Bi.boolean),clarifyTimeoutError:Bi.transitional(Bi.boolean)},!1),a!=null&&(Ge.isFunction(a)?e.paramsSerializer={serialize:a}:ag.assertOptions(a,{encode:Bi.function,serialize:Bi.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),ag.assertOptions(e,{baseUrl:Bi.spelling("baseURL"),withXsrfToken:Bi.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=i&&Ge.merge(i.common,i[e.method]);i&&Ge.forEach(["delete","get","head","post","put","patch","common"],A=>{delete i[A]}),e.headers=ba.concat(o,i);const c=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(e)===!1||(l=l&&g.synchronous,c.unshift(g.fulfilled,g.rejected))});const d=[];this.interceptors.response.forEach(function(g){d.push(g.fulfilled,g.rejected)});let u,f=0,h;if(!l){const A=[I4.bind(this),void 0];for(A.unshift(...c),A.push(...d),h=A.length,u=Promise.resolve(e);f<h;)u=u.then(A[f++],A[f++]);return u}h=c.length;let m=e;for(f=0;f<h;){const A=c[f++],g=c[f++];try{m=A(m)}catch(p){g.call(this,p);break}}try{u=I4.call(this,m)}catch(A){return Promise.reject(A)}for(f=0,h=d.length;f<h;)u=u.then(d[f++],d[f++]);return u}getUri(t){t=dd(this.defaults,t);const e=M8(t.baseURL,t.url,t.allowAbsoluteUrls);return T8(e,t.params,t.paramsSerializer)}};Ge.forEach(["delete","get","head","options"],function(t){qc.prototype[t]=function(e,s){return this.request(dd(s||{},{method:t,url:e,data:(s||{}).data}))}});Ge.forEach(["post","put","patch"],function(t){function e(s){return function(i,o,c){return this.request(dd(c||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}qc.prototype[t]=e(),qc.prototype[t+"Form"]=e(!0)});let aJ=class F8{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(i){e=i});const s=this;this.promise.then(a=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](a);s._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(c=>{s.subscribe(c),i=c}).then(a);return o.cancel=function(){s.unsubscribe(i)},o},t(function(i,o,c){s.reason||(s.reason=new uh(i,o,c),e(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=s=>{t.abort(s)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new F8(function(a){t=a}),cancel:t}}};function iJ(n){return function(e){return n.apply(null,e)}}function oJ(n){return Ge.isObject(n)&&n.isAxiosError===!0}const _w={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_w).forEach(([n,t])=>{_w[t]=n});function R8(n){const t=new qc(n),e=p8(qc.prototype.request,t);return Ge.extend(e,qc.prototype,t,{allOwnKeys:!0}),Ge.extend(e,t,null,{allOwnKeys:!0}),e.create=function(a){return R8(dd(n,a))},e}const St=R8(ep);St.Axios=qc;St.CanceledError=uh;St.CancelToken=aJ;St.isCancel=B8;St.VERSION=L8;St.toFormData=Bx;St.AxiosError=jn;St.Cancel=St.CanceledError;St.all=function(t){return Promise.all(t)};St.spread=iJ;St.isAxiosError=oJ;St.mergeConfig=dd;St.AxiosHeaders=ba;St.formToJSON=n=>_8(Ge.isHTMLForm(n)?new FormData(n):n);St.getAdapter=O8.getAdapter;St.HttpStatusCode=_w;St.default=St;const{Axios:kBe,AxiosError:_Be,CanceledError:BBe,isCancel:EBe,CancelToken:MBe,VERSION:PBe,all:DBe,Cancel:IBe,isAxiosError:OBe,spread:LBe,toFormData:FBe,AxiosHeaders:RBe,HttpStatusCode:UBe,formToJSON:HBe,getAdapter:$Be,mergeConfig:QBe}=St,U8=k.createContext(void 0),lJ=({children:n})=>{const[t,e]=k.useState(()=>localStorage.getItem("token")),[s,a]=k.useState(()=>{const d=localStorage.getItem("user");return d?JSON.parse(d):null}),i=(d,u)=>{e(d),a(u),d?localStorage.setItem("token",d):localStorage.removeItem("token"),u?(localStorage.setItem("user",JSON.stringify(u)),localStorage.setItem("userId",u.maNguoiDung)):(localStorage.removeItem("user"),localStorage.removeItem("userId"))},o=async()=>{var d,u;try{await St.post("https://bicacuatho.azurewebsites.net/api/XacThuc/DangXuat",{},{headers:{Authorization:`Bearer ${t}`}})}catch(f){console.error("Logout error:",((u=(d=f.response)==null?void 0:d.data)==null?void 0:u.message)||f.message)}i(null,null)},c=!!t,l=(s==null?void 0:s.fullName)||"";return r.jsx(U8.Provider,{value:{isLoggedIn:c,user:s,userName:l,setAuth:i,logout:o},children:n})},Px=()=>{const n=k.useContext(U8);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},cJ=({title:n})=>{const t=dr(),{isLoggedIn:e,userName:s,user:a,logout:i}=Px(),{toast:o}=ac(),c=async()=>{try{await i(),o({title:"Đăng xuất thành công 🎉",description:"Bạn đã đăng xuất khỏi tài khoản.",duration:3e3,className:"bg-green-500 text-white border border-green-700 shadow-lg",action:r.jsx(fe,{variant:"outline",className:"bg-white text-green-500 hover:bg-green-100 border-green-500",children:"Đóng"})}),t("/auth/login?logout=true")}catch{o.error("Đăng xuất thất bại")}},l=(a==null?void 0:a.role)==="admin"?"/admin/profile":(a==null?void 0:a.role)==="staff"?"/staff/profile":"/profile";return r.jsxs("header",{className:"h-16 border-b border-gray-200 flex items-center justify-between px-6 sticky top-0 bg-white/80 backdrop-blur-sm z-20",children:[r.jsx("h1",{className:"text-xl font-semibold"}),r.jsxs("div",{className:"flex items-center gap-4",children:[e&&r.jsxs("span",{className:"text-sm text-gray-700",children:["Xin chào: ",s]}),r.jsxs(Ar,{children:[r.jsx(gr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"rounded-full",children:r.jsx(Un,{className:"h-5 w-5"})})}),r.jsxs(hr,{align:"end",className:"w-56",children:[r.jsx(m8,{className:"font-normal",children:r.jsx("div",{className:"flex flex-col space-y-1",children:r.jsx("p",{className:"text-base font-medium",children:"Tài khoản của tôi"})})}),r.jsx(jw,{}),e&&r.jsxs(r.Fragment,{children:[r.jsx(ct,{asChild:!0,children:r.jsxs(lt,{to:l,className:"flex items-center w-full",children:[r.jsx(Un,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Hồ sơ"})]})}),r.jsx(ct,{children:r.jsxs(lt,{to:l,className:"flex items-center w-full",children:[r.jsx($2,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Cài đặt"})]})}),r.jsx(jw,{}),r.jsxs(ct,{className:"text-red-600",onClick:c,children:[r.jsx(Wf,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Đăng xuất"})]})]})]})]})]})]})};class uf extends Error{}uf.prototype.name="InvalidTokenError";function dJ(n){return decodeURIComponent(atob(n).replace(/(.)/g,(t,e)=>{let s=e.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}function uJ(n){let t=n.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return dJ(t)}catch{return atob(t)}}function hJ(n,t){if(typeof n!="string")throw new uf("Invalid token specified: must be a string");t||(t={});const e=t.header===!0?0:1,s=n.split(".")[e];if(typeof s!="string")throw new uf(`Invalid token specified: missing part #${e+1}`);let a;try{a=uJ(s)}catch(i){throw new uf(`Invalid token specified: invalid base64 for part #${e+1} (${i.message})`)}try{return JSON.parse(a)}catch(i){throw new uf(`Invalid token specified: invalid json for part #${e+1} (${i.message})`)}}const L4=n=>{const e=n.split("/")[2]||"Statistics";return{dashboard:"Bảng điều khiển",orders:"Đơn hàng",products:"Sản phẩm",inventory:"Kho hàng",users:"Người dùng",staff:"Nhân viên",settings:"Cài đặt",invoices:"Hóa đơn",form:"Form"}[e]||e.charAt(0).toUpperCase()+e.slice(1)},F4=({role:n})=>{var l;const t=fs(),[e,s]=k.useState(L4(t.pathname)),[a,i]=k.useState(!0),o=localStorage.getItem("token");console.log("Token from localStorage:",o);let c="";if(o)try{const d=hJ(o);console.log("Decoded Token:",d),c=((l=d["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"])==null?void 0:l.toLowerCase())||""}catch(d){console.error("Error decoding token:",d)}return console.log("User Role:",c,"Expected Role:",n.toLowerCase()),!c||c!==n.toLowerCase()?r.jsx(l4,{to:"/notfound",replace:!0}):c==="staff"&&(t.pathname.includes("/statistics")||t.pathname.includes("/users")||t.pathname.includes("/settings"))?r.jsx(l4,{to:"/notfound",replace:!0}):(k.useEffect(()=>{s(L4(t.pathname)),i(!0);const d=setTimeout(()=>i(!1),300);return()=>clearTimeout(d)},[t.pathname]),r.jsxs("div",{className:"flex min-h-screen w-full",children:[r.jsx(oW,{role:n}),r.jsxs("main",{className:"flex-1 flex flex-col",children:[r.jsx(cJ,{title:e}),r.jsx("div",{className:"flex-1 p-6",children:a?r.jsx("div",{className:"h-full w-full flex items-center justify-center",children:r.jsx("div",{className:"h-8 w-8 rounded-full border-4 border-t-crocus-500 border-crocus-200 animate-spin"})}):r.jsx("div",{className:"animate-fade-in",children:r.jsx(IB,{})})})]})]}))},sl=k.forwardRef(({className:n,...t},e)=>r.jsx("textarea",{className:Ue("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:e,...t}));sl.displayName="Textarea";const fJ=()=>{const[n,t]=k.useState(!1),[e,s]=k.useState(!1),[a,i]=k.useState(""),[o,c]=k.useState({IDSanPham:"",MauSac:"",KichThuoc:"",SoLuong:"",IDNguoiDung:""}),[l,d]=k.useState([]),[u,f]=k.useState(!1),[h,m]=k.useState(!1),[A,g]=k.useState("ai"),[p,b]=k.useState(!1),[x,v]=k.useState(!1),[y,S]=k.useState(!1),[M,P]=k.useState({x:0,y:0}),[B,D]=k.useState({x:window.innerWidth-384-16,y:64}),[L,O]=k.useState({width:384,height:600}),[F]=k.useState({width:384,height:600}),[_,E]=k.useState({mouse:{x:0,y:0},size:{width:384,height:600}}),T=k.useRef(null),w=k.useRef(null),C=k.useRef(null),j=k.useRef(null),N=k.useRef(null),I=localStorage.getItem("token"),R=!!I,V=JSON.parse(localStorage.getItem("user")||"{}").maNguoiDung||"",z=[{id:"ai",name:"Trả lời AI",icon:r.jsx(gU,{className:"w-4 h-4"}),color:"text-blue-600"},{id:"search",name:"Tìm kiếm sản phẩm",icon:r.jsx(Rn,{className:"w-4 h-4"}),color:"text-green-600"},...R?[{id:"cart",name:"Thêm vào giỏ hàng",icon:r.jsx(vs,{className:"w-4 h-4"}),color:"text-orange-600"}]:[]],X=z.find(ce=>ce.id===A)||z[0];k.useEffect(()=>{const ce=localStorage.getItem("supportChatHistory");ce&&d(JSON.parse(ce)),R&&c(oe=>({...oe,IDNguoiDung:V}))},[R,V]),k.useEffect(()=>{localStorage.setItem("supportChatHistory",JSON.stringify(l)),w.current&&w.current.scrollIntoView({behavior:"smooth",block:"end"})},[l]),k.useEffect(()=>{const ce=oe=>{N.current&&!N.current.contains(oe.target)&&m(!1)};return document.addEventListener("mousedown",ce),()=>document.removeEventListener("mousedown",ce)},[]);const Q=k.useCallback(ce=>{(ce.target===ce.currentTarget||ce.target.classList.contains("drag-handle"))&&(v(!0),P({x:ce.clientX-B.x,y:ce.clientY-B.y}))},[B]),q=k.useCallback(ce=>{if(x&&!p){const oe=Math.max(0,Math.min(window.innerWidth-L.width,ce.clientX-M.x)),ee=Math.max(0,Math.min(window.innerHeight-L.height,ce.clientY-M.y));D({x:oe,y:ee})}if(y&&!p){const oe=ce.clientX-_.mouse.x,ee=ce.clientY-_.mouse.y,W=Math.max(300,Math.min(window.innerWidth-B.x,_.size.width+oe)),Y=Math.max(400,Math.min(window.innerHeight-B.y,_.size.height+ee));O({width:W,height:Y})}},[x,y,M,_,B,p,L.width,L.height]),H=k.useCallback(()=>{v(!1),S(!1)},[]),$=k.useCallback(ce=>{p||(ce.preventDefault(),ce.stopPropagation(),S(!0),E({mouse:{x:ce.clientX,y:ce.clientY},size:{width:L.width,height:L.height}}))},[L,p]);k.useEffect(()=>{if(x||y)return document.addEventListener("mousemove",q),document.addEventListener("mouseup",H),()=>{document.removeEventListener("mousemove",q),document.removeEventListener("mouseup",H)}},[x,y,q,H]);const G=async ce=>{if(ce.preventDefault(),u)return;let oe=a,ee={textPrompt:a};if(A==="cart"){const{IDSanPham:W,MauSac:Y,KichThuoc:Z,SoLuong:se,IDNguoiDung:re}=o;if(!W||!Y||!Z||!se){d(ae=>[...ae,{question:oe||"Thêm vào giỏ hàng",result:"Lỗi: Vui lòng điền đầy đủ tất cả các trường.",mode:A}]);return}const le=parseInt(se,10);if(isNaN(le)||le<=0){d(ae=>[...ae,{question:oe||"Thêm vào giỏ hàng",result:"Lỗi: Số lượng phải là một số nguyên dương.",mode:A}]);return}if(re!==V){d(ae=>[...ae,{question:oe||"Thêm vào giỏ hàng",result:"Lỗi: Mã người dùng không khớp với tài khoản đăng nhập.",mode:A}]);return}oe=`Thêm sản phẩm ${W}, màu ${Y}, kích thước ${Z}, số lượng ${se}, khách hàng ${re}`,ee={textPrompt:oe,IDSanPham:W,MauSac:Y,KichThuoc:Z,SoLuong:le,IDNguoiDung:re}}else if(!a.trim()){d(W=>[...W,{question:oe||"Câu hỏi",result:"Lỗi: Vui lòng nhập câu hỏi hoặc thông tin sản phẩm.",mode:A}]);return}f(!0);try{let W="";switch(A){case"ai":W="generate-text";break;case"search":W="search-products";break;case"cart":W="add-to-cart";break;default:throw new Error("Chế độ không hợp lệ")}const Z=(await St.post(`https://bicacuatho.azurewebsites.net/api/GoogleApis/${W}`,ee,{headers:{...A==="cart"?{Authorization:`Bearer ${I}`}:{},"Content-Type":"application/json"}})).data;if(A==="cart"?Z.success:Z.generatedText){const se=A==="cart"?Z.message:Z.generatedText,re={question:oe,result:A==="cart"?"Thành công: Đã thêm sản phẩm vào giỏ hàng!":se,mode:A},le=[...l,re];d(le),i(""),A==="cart"&&c({IDSanPham:"",MauSac:"",KichThuoc:"",SoLuong:"",IDNguoiDung:V})}else d(se=>[...se,{question:oe,result:`${Z.message||"Không nhận được câu trả lời từ server."}`,mode:A}])}catch(W){d(Y=>{var Z,se;return[...Y,{question:oe,result:`Lỗi kết nối: ${((se=(Z=W.response)==null?void 0:Z.data)==null?void 0:se.message)||W.message||"Không thể kết nối đến server."}`,mode:A}]})}finally{f(!1)}},J=()=>{s(!e),e&&t(!1)},te=ce=>{g(ce),m(!1),i(""),ce==="cart"&&c(oe=>({...oe,IDNguoiDung:V}))},K=()=>{p?(O(F),D({x:window.innerWidth-F.width-16,y:64})):(O({width:window.innerWidth-32,height:window.innerHeight-96}),D({x:16,y:64})),b(!p)};k.useEffect(()=>{const ce=j.current;ce&&(ce.style.height="auto",ce.style.height=`${Math.min(ce.scrollHeight,120)}px`)},[a]);const ne=ce=>{ce.key==="Enter"&&!ce.shiftKey&&(ce.preventDefault(),G(ce))};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{ref:T,className:"fixed bottom-4 right-4 z-50 flex flex-col items-end gap-2",children:[r.jsx("button",{onClick:J,className:"bg-[#c083fc] hover:bg-[#b36bf7] text-white rounded-full p-3 shadow-lg transition-colors duration-200","aria-label":e?"Đóng menu hỗ trợ":"Mở menu hỗ trợ",children:e?r.jsx(st,{className:"w-6 h-6"}):r.jsx(w6,{className:"w-6 h-6"})}),e&&r.jsxs("div",{className:"flex flex-col gap-2 animate-in slide-in-from-bottom duration-300",children:[r.jsxs("a",{href:"tel:+84383777823",className:"flex items-center gap-2 bg-[#4CAF50] hover:bg-[#45a049] text-white rounded-full px-4 py-2 shadow-lg transition-colors duration-200","aria-label":"Gọi điện hỗ trợ",children:[r.jsx("span",{children:"Gọi điện"}),r.jsx(Yl,{className:"w-5 h-5"})]}),r.jsxs("a",{href:"https://zalo.me/383777823",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-[#0088FF] hover:bg-[#0077dd] text-white rounded-full px-4 py-2 shadow-lg transition-colors duration-200","aria-label":"Liên hệ qua Zalo",children:[r.jsx("span",{children:"Zalo"}),r.jsx(ad,{className:"w-5 h-5"})]}),r.jsxs("a",{href:"https://facebook.com/Thien2k5",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-[#1877F2] hover:bg-[#166fe5] text-white rounded-full px-4 py-2 shadow-lg transition-colors duration-200","aria-label":"Liên hệ qua Facebook",children:[r.jsx("span",{children:"Facebook"}),r.jsx(ew,{className:"w-5 h-5"})]}),r.jsxs("a",{href:"https://t.me/miyaru2k5",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-[#0088CC] hover:bg-[#0077bb] text-white rounded-full px-4 py-2 shadow-lg transition-colors duration-200","aria-label":"Liên hệ qua Telegram",children:[r.jsx("span",{children:"Telegram"}),r.jsx(hu,{className:"w-5 h-5"})]}),r.jsxs("button",{onClick:()=>t(!n),className:"flex items-center gap-2 bg-[#c083fc] hover:bg-[#b36bf7] text-white rounded-full px-4 py-2 shadow-lg transition-colors duration-200","aria-label":n?"Đóng chat hỗ trợ":"Mở chat hỗ trợ",children:[r.jsx("span",{children:"Chat"}),r.jsx(Ho,{className:"w-5 h-5"})]}),r.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 bg-gray-500 hover:bg-gray-600 text-white rounded-full px-4 py-2 shadow-lg transition-colors duration-200","aria-label":"Cuộn lên đầu trang",children:[r.jsx("span",{children:"Lên đầu"}),r.jsx(hU,{className:"w-5 h-5"})]})]})]}),n&&r.jsxs("div",{ref:C,className:Ue("fixed z-50","bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-[#c083fc]","flex flex-col overflow-hidden",x&&!p&&"cursor-move",y&&!p&&"cursor-nw-resize"),style:{left:`${B.x}px`,top:`${B.y}px`,width:`${L.width}px`,height:`${L.height}px`,minWidth:"300px",minHeight:"400px"},children:[r.jsxs("div",{className:"p-3 bg-[#c083fc] text-white rounded-t-lg flex items-center justify-between cursor-move drag-handle",onMouseDown:Q,"aria-label":"Kéo để di chuyển cửa sổ chat",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"font-semibold",children:"FashionHub"}),r.jsxs("span",{className:"text-xs opacity-80",children:["- ",X.name]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(fe,{variant:"ghost",size:"icon",className:"text-white hover:bg-[#b36bf7] h-6 w-6",onClick:K,"aria-label":p?"Thu nhỏ cửa sổ chat":"Phóng to cửa sổ chat",children:p?r.jsx(kH,{className:"h-4 w-4"}):r.jsx(y6,{className:"h-4 w-4"})}),r.jsx(fe,{variant:"ghost",size:"icon",className:"text-white hover:bg-[#b36bf7] h-6 w-6",onClick:()=>t(!1),"aria-label":"Đóng cửa sổ chat",children:r.jsx(st,{className:"h-4 w-4"})})]})]}),r.jsx("div",{className:"flex-1 p-4 overflow-y-auto space-y-4 bg-white dark:bg-gray-800",children:l.length===0?r.jsxs("div",{className:"text-center text-muted-foreground p-4",children:[r.jsxs("div",{className:Ue("inline-flex items-center gap-2 mb-2",X.color),children:[X.icon,r.jsxs("span",{className:"font-medium",children:["Chế độ: ",X.name]})]}),r.jsx("p",{children:"Chưa có tin nhắn nào. Hãy đặt câu hỏi hoặc thêm sản phẩm!"})]}):r.jsxs("div",{children:[l.map((ce,oe)=>{const ee=z.find(W=>W.id===ce.mode)||z[0];return r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"flex justify-end",children:r.jsx("div",{className:"bg-[#c083fc] text-white p-2 rounded-lg max-w-[70%]",children:r.jsx("p",{className:"text-sm",children:ce.question})})}),r.jsx("div",{className:"flex justify-start",children:r.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 p-2 rounded-lg max-w-[70%]",children:[r.jsxs("div",{className:"flex items-center gap-1 mb-1 opacity-80",children:[ee.icon,r.jsx("span",{className:"text-xs",children:ee.name})]}),r.jsx("div",{className:"text-sm prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:ce.result.replace(/\n/g,"<br />")}})]})})]},oe)}),r.jsx("div",{ref:w})]})}),r.jsxs("form",{className:"p-3 border-t bg-white dark:bg-gray-800",onSubmit:G,children:[A==="cart"?r.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[r.jsx(je,{value:o.IDSanPham,onChange:ce=>c({...o,IDSanPham:ce.target.value}),placeholder:"Mã sản phẩm",className:"dark:bg-gray-700 dark:text-white",disabled:u,"aria-label":"Mã sản phẩm"}),r.jsx(je,{value:o.MauSac,onChange:ce=>c({...o,MauSac:ce.target.value}),placeholder:"Mã màu",className:"dark:bg-gray-700 dark:text-white",disabled:u,"aria-label":"Mã màu"}),r.jsx(je,{value:o.KichThuoc,onChange:ce=>c({...o,KichThuoc:ce.target.value}),placeholder:"Kích thước",className:"dark:bg-gray-700 dark:text-white",disabled:u,"aria-label":"Kích thước"}),r.jsx(je,{type:"number",value:o.SoLuong,onChange:ce=>c({...o,SoLuong:ce.target.value}),placeholder:"Số lượng",className:"dark:bg-gray-700 dark:text-white",disabled:u,"aria-label":"Số lượng"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"relative",ref:N,children:[r.jsx(fe,{type:"button",variant:"outline",size:"icon",className:Ue("h-10 w-10 flex-shrink-0",X.color),onClick:()=>m(!h),"aria-label":"Chọn chế độ chat",children:X.icon}),h&&r.jsx("div",{className:"absolute bottom-12 left-0 bg-white dark:bg-gray-800 border rounded-lg shadow-lg py-1 z-10 min-w-[180px]",children:z.map(ce=>r.jsxs("button",{type:"button",className:Ue("w-full px-3 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",A===ce.id&&"bg-gray-100 dark:bg-gray-700",ce.color),onClick:()=>te(ce.id),"aria-label":`Chọn chế độ ${ce.name}`,children:[ce.icon,r.jsx("span",{className:"text-sm",children:ce.name})]},ce.id))})]}),r.jsx(sl,{ref:j,value:a,onChange:ce=>i(ce.target.value),onKeyDown:ne,placeholder:A==="ai"?"Nhập câu hỏi của bạn":"Nhập sản phẩm cần tìm (VD: áo sơ mi xanh size M)",className:"dark:bg-gray-700 dark:text-white flex-1 resize-none min-h-[40px] max-h-[120px]",disabled:u,"aria-label":"Nhập nội dung chat"}),r.jsx(fe,{type:"submit",className:"bg-[#c083fc] text-white hover:bg-[#b36bf7] flex-shrink-0 h-10 w-10",disabled:u,"aria-label":"Gửi tin nhắn",children:u?r.jsx(ns,{className:"h-5 w-5 animate-spin"}):r.jsx(hu,{className:"h-5 w-5"})})]}),A==="cart"&&r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsxs("div",{className:"relative",ref:N,children:[r.jsx(fe,{type:"button",variant:"outline",size:"icon",className:Ue("h-10 w-10 flex-shrink-0",X.color),onClick:()=>m(!h),"aria-label":"Chọn chế độ chat",children:X.icon}),h&&r.jsx("div",{className:"absolute bottom-12 left-0 bg-white dark:bg-gray-800 border rounded-lg shadow-lg py-1 z-10 min-w-[180px]",children:z.map(ce=>r.jsxs("button",{type:"button",className:Ue("w-full px-3 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",A===ce.id&&"bg-gray-100 dark:bg-gray-700",ce.color),onClick:()=>te(ce.id),"aria-label":`Chọn chế độ ${ce.name}`,children:[ce.icon,r.jsx("span",{className:"text-sm",children:ce.name})]},ce.id))})]}),r.jsx(fe,{type:"submit",className:"bg-[#c083fc] text-white hover:bg-[#b36bf7] flex-shrink-0 h-10 w-10",disabled:u,"aria-label":"Gửi tin nhắn",children:u?r.jsx(ns,{className:"h-5 w-5 animate-spin"}):r.jsx(hu,{className:"h-5 w-5"})})]})]}),!p&&r.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 cursor-nw-resize opacity-50 hover:opacity-100",onMouseDown:$,"aria-label":"Thay đổi kích thước cửa sổ chat",children:r.jsx("div",{className:"absolute bottom-1 right-1 w-0 h-0 border-l-4 border-b-4 border-gray-400"})})]})]})},mJ=()=>(k.useEffect(()=>{if(window.googleTranslateElementInit=()=>{var s,a;(a=(s=window.google)==null?void 0:s.translate)!=null&&a.TranslateElement&&new window.google.translate.TranslateElement({pageLanguage:"vi",autoDisplay:!1,layout:1},"google_translate_element")},!document.getElementById("google-translate-script")){const s=document.createElement("script");s.id="google-translate-script",s.src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit",s.async=!0,document.body.appendChild(s)}const n=()=>{const s=document.querySelector(".goog-te-combo");s&&(s.style.display="block",s.style.visibility="visible",s.style.color="black",s.style.opacity="1",s.style.fontSize="16px",s.style.padding="8px 12px",s.style.borderRadius="6px",s.style.minWidth="180px",s.style.backgroundColor="white",s.style.border="1px solid #ccc",s.style.cursor="pointer",s.style.pointerEvents="auto",s.style.zIndex="99999",s.style.position="relative");const a=document.getElementById("google_translate_element");a&&(a.style.display="block",a.style.visibility="visible",a.style.opacity="1",a.style.position="relative",a.style.zIndex="99999");const i=document.querySelector(".goog-te-gadget");i&&(i.style.display="block",i.style.visibility="visible",i.style.opacity="1",i.style.position="relative",i.style.zIndex="99999",Array.from(i.childNodes).filter(p=>p.nodeType===Node.TEXT_NODE).forEach(p=>{p.textContent&&p.textContent.trim()&&(p.style="display: none")}),i.querySelectorAll("span").forEach(p=>{p.querySelector(".goog-te-combo")||(p.style.display="none")}));const o=document.querySelector("body.VIpgJd-ZVi9od-ORHb");o&&o.remove();const c=document.querySelectorAll('iframe[src*="translate.googleapis.com"]'),l=document.querySelector("iframe.goog-te-banner-frame");c.forEach(A=>{A.remove()}),l&&l.remove(),[".VIpgJd-ZVi9od-ORHb",".VIpgJd-ZVi9od-ORHb-bN97Pc",".VIpgJd-ZVi9od-LgbsSe",".VIpgJd-ZVi9od-xl07Ob-lTBxed",".VIpgJd-ZVi9od-TvD9Pc-hSRGPd",".VIpgJd-ZVi9od-l4eHX-hSRGPd",".VIpgJd-ZVi9od-ORHb-KE6vqe"].forEach(A=>{document.querySelectorAll(A).forEach(p=>{p.remove()})}),['[id$=".finishSection"]','[id$=".progressSection"]','[id$=".promptSection"]','[id$=".errorSection"]'].forEach(A=>{document.querySelectorAll(A).forEach(p=>{p.remove()})}),[".goog-logo-link",".goog-te-banner-frame",".goog-te-banner-frame.skiptranslate","#goog-gt-tt",".goog-te-balloon-frame",".goog-te-spinner-pos",".goog-te-ftab-frame",".goog-tooltip",".goog-te-menu-frame"].forEach(A=>{document.querySelectorAll(A).forEach(p=>{p.remove()})}),document.querySelectorAll('table[border="0"][cellspacing="0"][cellpadding="0"][height="100%"]').forEach(A=>{A.remove()}),document.querySelectorAll('[id^="goog-gt"]').forEach(A=>{A.id!=="google_translate_element"&&A.remove()}),document.body&&(document.body.style.top="0px",document.body.style.position="static",document.body.style.marginTop="0px",document.body.style.transform="none"),document.documentElement&&(document.documentElement.style.top="0px",document.documentElement.style.position="static",document.documentElement.style.marginTop="0px",document.documentElement.style.transform="none")},t=setInterval(n,100),e=new MutationObserver(s=>{let a=!1;s.forEach(i=>{i.type==="childList"&&i.addedNodes.length>0&&(a=!0),i.type==="attributes"&&(i.attributeName==="class"||i.attributeName==="style")&&(a=!0)}),a&&setTimeout(n,10)});return e.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class","style"]}),()=>{clearInterval(t),e.disconnect()}},[]),r.jsxs("div",{children:[r.jsx("div",{id:"google_translate_element",style:{marginLeft:1,zIndex:99999,position:"relative",display:"block",visibility:"visible",opacity:1}}),r.jsx("style",{children:`
          /* Đảm bảo container luôn hiển thị */
          #google_translate_element {
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
            position: relative !important;
            z-index: 99999 !important;
          }

          /* Đảm bảo gadget hiển thị */
          .goog-te-gadget {
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
            position: relative !important;
            z-index: 99999 !important;
            color: transparent !important;
            font-size: 0 !important;
            line-height: 0 !important;
          }

          /* Style cho combobox - ưu tiên cao nhất */
          .goog-te-combo {
            font-size: 16px !important;
            padding: 8px 12px !important;
            height: auto !important;
            border-radius: 6px !important;
            min-width: 180px !important;
            color: black !important;
            background-color: white !important;
            border: 1px solid #ccc !important;
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
            cursor: pointer !important;
            pointer-events: auto !important;
            position: relative !important;
            z-index: 99999 !important;
            top: auto !important;
            left: auto !important;
            width: auto !important;
            margin: 0 !important;
            transform: none !important;
          }

          .goog-te-combo:hover {
            border-color: #999 !important;
          }

          .goog-te-combo:focus {
            outline: none !important;
            border-color: #4285f4 !important;
            box-shadow: 0 0 0 2px rgba(66, 133, 244, 0.2) !important;
          }

          /* Style cho option */
          .goog-te-combo option {
            color: black !important;
            background-color: white !important;
            padding: 5px !important;
            display: block !important;
            visibility: visible !important;
          }

          /* Ẩn span text trong gadget nhưng giữ combobox */
          .goog-te-gadget span:not(:has(.goog-te-combo)) {
            display: none !important;
          }

          /* Ẩn hoàn toàn tất cả UI Google Translate không mong muốn */
          .goog-logo-link,
          #goog-gt-tt,
          .goog-te-balloon-frame,
          .goog-te-banner-frame,
          .goog-te-banner-frame.skiptranslate,
          .goog-te-spinner-pos,
          .goog-te-ftab-frame,
          .goog-tooltip,
          .goog-te-menu-frame,
          .VIpgJd-ZVi9od-ORHb,
          .VIpgJd-ZVi9od-ORHb-bN97Pc,
          .VIpgJd-ZVi9od-LgbsSe,
          .VIpgJd-ZVi9od-xl07Ob-lTBxed,
          .VIpgJd-ZVi9od-TvD9Pc-hSRGPd,
          .VIpgJd-ZVi9od-l4eHX-hSRGPd,
          .VIpgJd-ZVi9od-ORHb-KE6vqe,
          [id$=".finishSection"],
          [id$=".progressSection"],
          [id$=".promptSection"],
          [id$=".errorSection"],
          [id^="goog-gt-"]:not(#google_translate_element),
          table[border="0"][cellspacing="0"][cellpadding="0"][height="100%"],
          iframe.goog-te-banner-frame,
          iframe[src*="translate.googleapis.com"],
          body.VIpgJd-ZVi9od-ORHb {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            width: 0 !important;
            height: 0 !important;
            position: absolute !important;
            top: -9999px !important;
            left: -9999px !important;
            pointer-events: none !important;
          }

          /* Khôi phục vị trí body và html bình thường */
          body, html {
            top: 0px !important;
            position: static !important;
            margin-top: 0px !important;
            transform: none !important;
          }

          /* Đảm bảo không có phần tử nào có thể hiển thị overlay */
          body > iframe[src*="translate.googleapis.com"] {
            display: none !important;
          }

          /* Ẩn tất cả các phần tử có thể xuất hiện sau khi dịch */
          [class*="VIpgJd"]:not(.goog-te-combo):not(#google_translate_element):not(.goog-te-gadget) {
            display: none !important;
          }

          /* Ẩn tất cả goog-te elements trừ combobox */
          [class*="goog-te"]:not(.goog-te-combo):not(.goog-te-gadget):not(#google_translate_element) {
            display: none !important;
          }

          /* Đảm bảo combobox luôn ở trên cùng */
          .goog-te-gadget .goog-te-combo {
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
            position: relative !important;
            z-index: 99999 !important;
          }
        `})]})),at=k.forwardRef(({className:n,...t},e)=>r.jsx("div",{ref:e,className:Ue("rounded-lg border bg-card text-card-foreground shadow-sm",n),...t}));at.displayName="Card";const yt=k.forwardRef(({className:n,...t},e)=>r.jsx("div",{ref:e,className:Ue("flex flex-col space-y-1.5 p-6",n),...t}));yt.displayName="CardHeader";const Ct=k.forwardRef(({className:n,...t},e)=>r.jsx("h3",{ref:e,className:Ue("text-2xl font-semibold leading-none tracking-tight",n),...t}));Ct.displayName="CardTitle";const us=k.forwardRef(({className:n,...t},e)=>r.jsx("p",{ref:e,className:Ue("text-sm text-muted-foreground",n),...t}));us.displayName="CardDescription";const dt=k.forwardRef(({className:n,...t},e)=>r.jsx("div",{ref:e,className:Ue("p-6 pt-0",n),...t}));dt.displayName="CardContent";const Wc=k.forwardRef(({className:n,...t},e)=>r.jsx("div",{ref:e,className:Ue("flex items-center p-6 pt-0",n),...t}));Wc.displayName="CardFooter";const pJ=oc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Vt({className:n,variant:t,...e}){return r.jsx("div",{className:Ue(pJ({variant:t}),n),...e})}const fv="https://bicacuatho.azurewebsites.net",AJ=n=>n.map(t=>({id:t.id,name:t.name,imageSrc:t.hinh[0]?`data:image/jpeg;base64,${t.hinh[0]}`:null,price:Math.round(t.donGia*(1-(t.khuyenMaiMax||0)/100)),discountPercent:t.khuyenMaiMax||0,type:"product",thuongHieu:t.thuongHieu||"Không xác định",chatLieu:t.chatLieu||"Không xác định",soLuongDaBan:t.soLuongDaBan||0})),gJ=n=>n.map(t=>{const e=t.sanPhams.reduce((o,c)=>o+c.donGia*(c.soLuong||1),0),s=Math.round(t.gia*(1-(t.khuyenMaiMax||0)/100)),a=e-s,i=Math.round((e-t.gia)/e*100);return{id:t.maCombo,name:t.name,imageSrc:t.hinhAnh?`data:image/jpeg;base64,${t.hinhAnh}`:null,price:s,originalPrice:e,discountPercent:t.khuyenMaiMax||0,savings:a,savingsPercentageComparedToRetail:i,type:"combo",productCount:t.sanPhams.length}}),xJ=n=>n.filter(t=>t.isPublished).map(t=>({id:t.maBlog,name:t.tieuDe,imageSrc:t.hinhAnh?`data:image/jpeg;base64,${t.hinhAnh}`:null,price:null,discountPercent:0,type:"blog",slug:t.slug})),H8=()=>{const[n,t]=k.useState(!1),[e,s]=k.useState(""),[a,i]=k.useState([]),[o,c]=k.useState([]),[l,d]=k.useState([]),[u,f]=k.useState([]),[h,m]=k.useState(!1),[A,g]=k.useState(null),p=k.useRef(null);return k.useEffect(()=>{(async()=>{m(!0);try{const[x,v,y]=await Promise.all([St.get(`${fv}/api/SanPham/ListSanPham`),St.get(`${fv}/api/Combo/ComboSanPhamView`),St.get(`${fv}/api/Blog`)]);c(x.data),d(v.data),f(y.data)}catch(x){g("Không thể tải dữ liệu. Vui lòng kiểm tra kết nối hoặc thử lại sau."),console.error("Lỗi khi lấy dữ liệu:",x)}finally{m(!1)}})()},[]),k.useEffect(()=>{const b=x=>{p.current&&!p.current.contains(x.target)&&(t(!1),s(""),i([]))};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]),k.useEffect(()=>{const b=setTimeout(()=>{if(n&&e.trim()){const x=e.toLowerCase().trim(),v=AJ(o.filter(P=>P.name.toLowerCase().includes(x))),y=gJ(l.filter(P=>P.name.toLowerCase().includes(x))),S=xJ(u.filter(P=>P.tieuDe.toLowerCase().includes(x)||P.noiDung.toLowerCase().includes(x)||P.tags&&P.tags.some(B=>B.toLowerCase().includes(x)))),M=[...v,...y,...S].slice(0,5);i(M)}else i([])},300);return()=>clearTimeout(b)},[e,n,o,l,u]),r.jsxs("div",{className:"relative",ref:p,children:[r.jsxs(fe,{variant:"ghost",onClick:()=>t(!n),"aria-label":n?"Đóng tìm kiếm":"Mở tìm kiếm",className:Ue("flex items-center space-x-2 px-4 py-2 rounded-[5px]",n&&"bg-accent text-accent-foreground"),children:[r.jsx(Rn,{className:Ue("h-5 w-5",n?"text-crocus-600":"text-gray-600")}),r.jsx("span",{className:"text-sm font-medium",children:"TÌM KIẾM"})]}),n&&r.jsxs("div",{className:"absolute right-0 mt-2 w-[640px] bg-white shadow-lg rounded-lg z-50 border border-gray-100",children:[r.jsxs("div",{className:"p-4 flex items-center gap-2",children:[r.jsx(je,{type:"text",placeholder:"Nhập từ khóa tìm kiếm",value:e,onChange:b=>s(b.target.value),className:"w-full border-gray-300 focus:ring-crocus-500","aria-label":"Nhập từ khóa tìm kiếm"}),e&&r.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>{s(""),i([])},className:"text-gray-500 hover:text-gray-700","aria-label":"Xóa từ khóa tìm kiếm",children:r.jsx(st,{className:"h-4 w-4"})})]}),A&&r.jsx("div",{className:"p-4 text-center text-red-500 text-sm font-medium",children:A}),h?r.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"Đang tải dữ liệu..."}):a.length>0?r.jsx("div",{className:"max-h-96 overflow-y-auto px-2 pb-2",children:a.map(b=>{var x,v;return r.jsx(lt,{to:b.type==="blog"&&b.slug?`/blogs/${b.slug}`:`/${b.type}s/${b.id}`,"aria-label":`Xem chi tiết ${b.type==="blog"?"bài viết":b.type==="product"?"sản phẩm":"combo"} ${b.name}`,onClick:()=>{t(!1),s(""),i([])},children:r.jsx(at,{className:"m-2 hover:bg-gray-50 transition-colors rounded-md",children:r.jsxs(dt,{className:"flex items-center p-3 gap-3",children:[b.imageSrc&&r.jsx("img",{src:b.imageSrc,alt:b.name,className:"w-16 h-16 object-cover rounded-md"}),r.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("div",{className:"text-sm font-semibold text-gray-800 line-clamp-1",children:b.name}),r.jsx("span",{className:"text-xs text-gray-500 capitalize",children:b.type==="blog"?"Bài viết":b.type==="product"?"Sản phẩm":"Combo"})]}),b.type!=="blog"&&b.price&&r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsxs("div",{className:"flex items-baseline gap-2",children:[r.jsxs("span",{className:"text-sm font-bold text-red-600",children:[b.price.toLocaleString("vi-VN",{maximumFractionDigits:0})," VND"]}),b.discountPercent>0&&r.jsxs("span",{className:"text-xs text-gray-500 line-through",children:[b.type==="product"?(b.price/(1-b.discountPercent/100)).toLocaleString("vi-VN",{maximumFractionDigits:0}):(x=b.originalPrice)==null?void 0:x.toLocaleString("vi-VN",{maximumFractionDigits:0})," VND"]})]}),b.discountPercent>0&&r.jsx("div",{className:"flex gap-2 items-center",children:r.jsxs(Vt,{className:"text-xs text-green-700 bg-green-50 px-2 py-0.5",children:["Tiết kiệm"," ",b.type==="product"?Math.round(b.price/(1-b.discountPercent/100)*(b.discountPercent/100)).toLocaleString("vi-VN"):(v=b.savings)==null?void 0:v.toLocaleString("vi-VN")," VND"]})}),b.type==="combo"&&b.savingsPercentageComparedToRetail?r.jsxs(Vt,{className:"text-xs bg-blue-500 text-white px-2 py-0.5",children:["Đã giảm ",b.savingsPercentageComparedToRetail,"%"]}):null,b.type==="product"&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Vt,{variant:"outline",className:"text-xs px-2 py-0.5 bg-blue-50 border-blue-200 text-blue-700",children:["🏷️ ",b.thuongHieu]}),r.jsxs(Vt,{variant:"outline",className:"text-xs px-2 py-0.5 bg-green-50 border-green-200 text-green-700",children:["🧵 ",b.chatLieu]})]}),b.type==="combo"&&b.productCount&&r.jsxs(Vt,{className:"text-xs bg-crocus-500 text-white px-2 py-0.5",children:["📦 ",b.productCount," sản phẩm"]})]})]})]})})},`${b.type}-${b.id}`)})}):e?r.jsxs("div",{className:"p-4 text-center text-gray-500 text-sm",children:['Không tìm thấy kết quả cho "',e,'"']}):r.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"Vui lòng nhập từ khóa để tìm kiếm"})]})]})};function tp(n){const t=k.useRef({value:n,previous:n});return k.useMemo(()=>(t.current.value!==n&&(t.current.previous=t.current.value,t.current.value=n),t.current.previous),[n])}var Dd="NavigationMenu",[Tj,$8,bJ]=_d(Dd),[Bw,vJ,yJ]=_d(Dd),[kj,VBe]=ks(Dd,[bJ,yJ]),[wJ,ni]=kj(Dd),[jJ,CJ]=kj(Dd),Q8=k.forwardRef((n,t)=>{const{__scopeNavigationMenu:e,value:s,onValueChange:a,defaultValue:i,delayDuration:o=200,skipDelayDuration:c=300,orientation:l="horizontal",dir:d,...u}=n,[f,h]=k.useState(null),m=cn(t,D=>h(D)),A=Ed(d),g=k.useRef(0),p=k.useRef(0),b=k.useRef(0),[x,v]=k.useState(!0),[y,S]=wa({prop:s,onChange:D=>{const L=D!=="",O=c>0;L?(window.clearTimeout(b.current),O&&v(!1)):(window.clearTimeout(b.current),b.current=window.setTimeout(()=>v(!0),c)),a==null||a(D)},defaultProp:i??"",caller:Dd}),M=k.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>S(""),150)},[S]),P=k.useCallback(D=>{window.clearTimeout(p.current),S(D)},[S]),B=k.useCallback(D=>{y===D?window.clearTimeout(p.current):g.current=window.setTimeout(()=>{window.clearTimeout(p.current),S(D)},o)},[y,S,o]);return k.useEffect(()=>()=>{window.clearTimeout(g.current),window.clearTimeout(p.current),window.clearTimeout(b.current)},[]),r.jsx(V8,{scope:e,isRootMenu:!0,value:y,dir:A,orientation:l,rootNavigationMenu:f,onTriggerEnter:D=>{window.clearTimeout(g.current),x?B(D):P(D)},onTriggerLeave:()=>{window.clearTimeout(g.current),M()},onContentEnter:()=>window.clearTimeout(p.current),onContentLeave:M,onItemSelect:D=>{S(L=>L===D?"":D)},onItemDismiss:()=>S(""),children:r.jsx(Nt.nav,{"aria-label":"Main","data-orientation":l,dir:A,...u,ref:m})})});Q8.displayName=Dd;var Ew="NavigationMenuSub",NJ=k.forwardRef((n,t)=>{const{__scopeNavigationMenu:e,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",...c}=n,l=ni(Ew,e),[d,u]=wa({prop:s,onChange:a,defaultProp:i??"",caller:Ew});return r.jsx(V8,{scope:e,isRootMenu:!1,value:d,dir:l.dir,orientation:o,rootNavigationMenu:l.rootNavigationMenu,onTriggerEnter:f=>u(f),onItemSelect:f=>u(f),onItemDismiss:()=>u(""),children:r.jsx(Nt.div,{"data-orientation":o,...c,ref:t})})});NJ.displayName=Ew;var V8=n=>{const{scope:t,isRootMenu:e,rootNavigationMenu:s,dir:a,orientation:i,children:o,value:c,onItemSelect:l,onItemDismiss:d,onTriggerEnter:u,onTriggerLeave:f,onContentEnter:h,onContentLeave:m}=n,[A,g]=k.useState(null),[p,b]=k.useState(new Map),[x,v]=k.useState(null);return r.jsx(wJ,{scope:t,isRootMenu:e,rootNavigationMenu:s,value:c,previousValue:tp(c),baseId:ga(),dir:a,orientation:i,viewport:A,onViewportChange:g,indicatorTrack:x,onIndicatorTrackChange:v,onTriggerEnter:Hr(u),onTriggerLeave:Hr(f),onContentEnter:Hr(h),onContentLeave:Hr(m),onItemSelect:Hr(l),onItemDismiss:Hr(d),onViewportContentChange:k.useCallback((y,S)=>{b(M=>(M.set(y,S),new Map(M)))},[]),onViewportContentRemove:k.useCallback(y=>{b(S=>S.has(y)?(S.delete(y),new Map(S)):S)},[]),children:r.jsx(Tj.Provider,{scope:t,children:r.jsx(jJ,{scope:t,items:p,children:o})})})},z8="NavigationMenuList",K8=k.forwardRef((n,t)=>{const{__scopeNavigationMenu:e,...s}=n,a=ni(z8,e),i=r.jsx(Nt.ul,{"data-orientation":a.orientation,...s,ref:t});return r.jsx(Nt.div,{style:{position:"relative"},ref:a.onIndicatorTrackChange,children:r.jsx(Tj.Slot,{scope:e,children:a.isRootMenu?r.jsx(nM,{asChild:!0,children:i}):i})})});K8.displayName=z8;var G8="NavigationMenuItem",[SJ,q8]=kj(G8),W8=k.forwardRef((n,t)=>{const{__scopeNavigationMenu:e,value:s,...a}=n,i=ga(),o=s||i||"LEGACY_REACT_AUTO_VALUE",c=k.useRef(null),l=k.useRef(null),d=k.useRef(null),u=k.useRef(()=>{}),f=k.useRef(!1),h=k.useCallback((A="start")=>{if(c.current){u.current();const g=Pw(c.current);g.length&&Ej(A==="start"?g:g.reverse())}},[]),m=k.useCallback(()=>{if(c.current){const A=Pw(c.current);A.length&&(u.current=PJ(A))}},[]);return r.jsx(SJ,{scope:e,value:o,triggerRef:l,contentRef:c,focusProxyRef:d,wasEscapeCloseRef:f,onEntryKeyDown:h,onFocusProxyEnter:h,onRootContentClose:m,onContentFocusOutside:m,children:r.jsx(Nt.li,{...a,ref:t})})});W8.displayName=G8;var Mw="NavigationMenuTrigger",X8=k.forwardRef((n,t)=>{const{__scopeNavigationMenu:e,disabled:s,...a}=n,i=ni(Mw,n.__scopeNavigationMenu),o=q8(Mw,n.__scopeNavigationMenu),c=k.useRef(null),l=cn(c,o.triggerRef,t),d=sM(i.baseId,o.value),u=aM(i.baseId,o.value),f=k.useRef(!1),h=k.useRef(!1),m=o.value===i.value;return r.jsxs(r.Fragment,{children:[r.jsx(Tj.ItemSlot,{scope:e,value:o.value,children:r.jsx(rM,{asChild:!0,children:r.jsx(Nt.button,{id:d,disabled:s,"data-disabled":s?"":void 0,"data-state":Mj(m),"aria-expanded":m,"aria-controls":u,...a,ref:l,onPointerEnter:tt(n.onPointerEnter,()=>{h.current=!1,o.wasEscapeCloseRef.current=!1}),onPointerMove:tt(n.onPointerMove,Qg(()=>{s||h.current||o.wasEscapeCloseRef.current||f.current||(i.onTriggerEnter(o.value),f.current=!0)})),onPointerLeave:tt(n.onPointerLeave,Qg(()=>{s||(i.onTriggerLeave(),f.current=!1)})),onClick:tt(n.onClick,()=>{i.onItemSelect(o.value),h.current=m}),onKeyDown:tt(n.onKeyDown,A=>{const p={horizontal:"ArrowDown",vertical:i.dir==="rtl"?"ArrowLeft":"ArrowRight"}[i.orientation];m&&A.key===p&&(o.onEntryKeyDown(),A.preventDefault())})})})}),m&&r.jsxs(r.Fragment,{children:[r.jsx(U_,{"aria-hidden":!0,tabIndex:0,ref:o.focusProxyRef,onFocus:A=>{const g=o.contentRef.current,p=A.relatedTarget,b=p===c.current,x=g==null?void 0:g.contains(p);(b||!x)&&o.onFocusProxyEnter(b?"start":"end")}}),i.viewport&&r.jsx("span",{"aria-owns":u})]})]})});X8.displayName=Mw;var TJ="NavigationMenuLink",R4="navigationMenu.linkSelect",Y8=k.forwardRef((n,t)=>{const{__scopeNavigationMenu:e,active:s,onSelect:a,...i}=n;return r.jsx(rM,{asChild:!0,children:r.jsx(Nt.a,{"data-active":s?"":void 0,"aria-current":s?"page":void 0,...i,ref:t,onClick:tt(n.onClick,o=>{const c=o.target,l=new CustomEvent(R4,{bubbles:!0,cancelable:!0});if(c.addEventListener(R4,d=>a==null?void 0:a(d),{once:!0}),qf(c,l),!l.defaultPrevented&&!o.metaKey){const d=new CustomEvent(ig,{bubbles:!0,cancelable:!0});qf(c,d)}},{checkForDefaultPrevented:!1})})})});Y8.displayName=TJ;var _j="NavigationMenuIndicator",J8=k.forwardRef((n,t)=>{const{forceMount:e,...s}=n,a=ni(_j,n.__scopeNavigationMenu),i=!!a.value;return a.indicatorTrack?I2.createPortal(r.jsx(hs,{present:e||i,children:r.jsx(kJ,{...s,ref:t})}),a.indicatorTrack):null});J8.displayName=_j;var kJ=k.forwardRef((n,t)=>{const{__scopeNavigationMenu:e,...s}=n,a=ni(_j,e),i=$8(e),[o,c]=k.useState(null),[l,d]=k.useState(null),u=a.orientation==="horizontal",f=!!a.value;k.useEffect(()=>{var g;const A=(g=i().find(p=>p.value===a.value))==null?void 0:g.ref.current;A&&c(A)},[i,a.value]);const h=()=>{o&&d({size:u?o.offsetWidth:o.offsetHeight,offset:u?o.offsetLeft:o.offsetTop})};return Dw(o,h),Dw(a.indicatorTrack,h),l?r.jsx(Nt.div,{"aria-hidden":!0,"data-state":f?"visible":"hidden","data-orientation":a.orientation,...s,ref:t,style:{position:"absolute",...u?{left:0,width:l.size+"px",transform:`translateX(${l.offset}px)`}:{top:0,height:l.size+"px",transform:`translateY(${l.offset}px)`},...s.style}}):null}),Lu="NavigationMenuContent",Z8=k.forwardRef((n,t)=>{const{forceMount:e,...s}=n,a=ni(Lu,n.__scopeNavigationMenu),i=q8(Lu,n.__scopeNavigationMenu),o=cn(i.contentRef,t),c=i.value===a.value,l={value:i.value,triggerRef:i.triggerRef,focusProxyRef:i.focusProxyRef,wasEscapeCloseRef:i.wasEscapeCloseRef,onContentFocusOutside:i.onContentFocusOutside,onRootContentClose:i.onRootContentClose,...s};return a.viewport?r.jsx(_J,{forceMount:e,...l,ref:o}):r.jsx(hs,{present:e||c,children:r.jsx(eM,{"data-state":Mj(c),...l,ref:o,onPointerEnter:tt(n.onPointerEnter,a.onContentEnter),onPointerLeave:tt(n.onPointerLeave,Qg(a.onContentLeave)),style:{pointerEvents:!c&&a.isRootMenu?"none":void 0,...l.style}})})});Z8.displayName=Lu;var _J=k.forwardRef((n,t)=>{const e=ni(Lu,n.__scopeNavigationMenu),{onViewportContentChange:s,onViewportContentRemove:a}=e;return Fr(()=>{s(n.value,{ref:t,...n})},[n,t,s]),Fr(()=>()=>a(n.value),[n.value,a]),null}),ig="navigationMenu.rootContentDismiss",eM=k.forwardRef((n,t)=>{const{__scopeNavigationMenu:e,value:s,triggerRef:a,focusProxyRef:i,wasEscapeCloseRef:o,onRootContentClose:c,onContentFocusOutside:l,...d}=n,u=ni(Lu,e),f=k.useRef(null),h=cn(f,t),m=sM(u.baseId,s),A=aM(u.baseId,s),g=$8(e),p=k.useRef(null),{onItemDismiss:b}=u;k.useEffect(()=>{const v=f.current;if(u.isRootMenu&&v){const y=()=>{var S;b(),c(),v.contains(document.activeElement)&&((S=a.current)==null||S.focus())};return v.addEventListener(ig,y),()=>v.removeEventListener(ig,y)}},[u.isRootMenu,n.value,a,b,c]);const x=k.useMemo(()=>{const y=g().map(L=>L.value);u.dir==="rtl"&&y.reverse();const S=y.indexOf(u.value),M=y.indexOf(u.previousValue),P=s===u.value,B=M===y.indexOf(s);if(!P&&!B)return p.current;const D=(()=>{if(S!==M){if(P&&M!==-1)return S>M?"from-end":"from-start";if(B&&S!==-1)return S>M?"to-start":"to-end"}return null})();return p.current=D,D},[u.previousValue,u.value,u.dir,g,s]);return r.jsx(nM,{asChild:!0,children:r.jsx(ic,{id:A,"aria-labelledby":m,"data-motion":x,"data-orientation":u.orientation,...d,ref:h,disableOutsidePointerEvents:!1,onDismiss:()=>{var y;const v=new Event(ig,{bubbles:!0,cancelable:!0});(y=f.current)==null||y.dispatchEvent(v)},onFocusOutside:tt(n.onFocusOutside,v=>{var S;l();const y=v.target;(S=u.rootNavigationMenu)!=null&&S.contains(y)&&v.preventDefault()}),onPointerDownOutside:tt(n.onPointerDownOutside,v=>{var P;const y=v.target,S=g().some(B=>{var D;return(D=B.ref.current)==null?void 0:D.contains(y)}),M=u.isRootMenu&&((P=u.viewport)==null?void 0:P.contains(y));(S||M||!u.isRootMenu)&&v.preventDefault()}),onKeyDown:tt(n.onKeyDown,v=>{var M;const y=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!y){const P=Pw(v.currentTarget),B=document.activeElement,D=P.findIndex(F=>F===B),O=v.shiftKey?P.slice(0,D).reverse():P.slice(D+1,P.length);Ej(O)?v.preventDefault():(M=i.current)==null||M.focus()}}),onEscapeKeyDown:tt(n.onEscapeKeyDown,v=>{o.current=!0})})})}),Bj="NavigationMenuViewport",tM=k.forwardRef((n,t)=>{const{forceMount:e,...s}=n,i=!!ni(Bj,n.__scopeNavigationMenu).value;return r.jsx(hs,{present:e||i,children:r.jsx(BJ,{...s,ref:t})})});tM.displayName=Bj;var BJ=k.forwardRef((n,t)=>{const{__scopeNavigationMenu:e,children:s,...a}=n,i=ni(Bj,e),o=cn(t,i.onViewportChange),c=CJ(Lu,n.__scopeNavigationMenu),[l,d]=k.useState(null),[u,f]=k.useState(null),h=l?(l==null?void 0:l.width)+"px":void 0,m=l?(l==null?void 0:l.height)+"px":void 0,A=!!i.value,g=A?i.value:i.previousValue;return Dw(u,()=>{u&&d({width:u.offsetWidth,height:u.offsetHeight})}),r.jsx(Nt.div,{"data-state":Mj(A),"data-orientation":i.orientation,...a,ref:o,style:{pointerEvents:!A&&i.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":h,"--radix-navigation-menu-viewport-height":m,...a.style},onPointerEnter:tt(n.onPointerEnter,i.onContentEnter),onPointerLeave:tt(n.onPointerLeave,Qg(i.onContentLeave)),children:Array.from(c.items).map(([b,{ref:x,forceMount:v,...y}])=>{const S=g===b;return r.jsx(hs,{present:v||S,children:r.jsx(eM,{...y,ref:Fm(x,M=>{S&&M&&f(M)})})},b)})})}),EJ="FocusGroup",nM=k.forwardRef((n,t)=>{const{__scopeNavigationMenu:e,...s}=n,a=ni(EJ,e);return r.jsx(Bw.Provider,{scope:e,children:r.jsx(Bw.Slot,{scope:e,children:r.jsx(Nt.div,{dir:a.dir,...s,ref:t})})})}),U4=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],MJ="FocusGroupItem",rM=k.forwardRef((n,t)=>{const{__scopeNavigationMenu:e,...s}=n,a=vJ(e),i=ni(MJ,e);return r.jsx(Bw.ItemSlot,{scope:e,children:r.jsx(Nt.button,{...s,ref:t,onKeyDown:tt(n.onKeyDown,o=>{if(["Home","End",...U4].includes(o.key)){let l=a().map(f=>f.ref.current);if([i.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(o.key)&&l.reverse(),U4.includes(o.key)){const f=l.indexOf(o.currentTarget);l=l.slice(f+1)}setTimeout(()=>Ej(l)),o.preventDefault()}})})})});function Pw(n){const t=[],e=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)t.push(e.currentNode);return t}function Ej(n){const t=document.activeElement;return n.some(e=>e===t?!0:(e.focus(),document.activeElement!==t))}function PJ(n){return n.forEach(t=>{t.dataset.tabindex=t.getAttribute("tabindex")||"",t.setAttribute("tabindex","-1")}),()=>{n.forEach(t=>{const e=t.dataset.tabindex;t.setAttribute("tabindex",e)})}}function Dw(n,t){const e=Hr(t);Fr(()=>{let s=0;if(n){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(e)});return a.observe(n),()=>{window.cancelAnimationFrame(s),a.unobserve(n)}}},[n,e])}function Mj(n){return n?"open":"closed"}function sM(n,t){return`${n}-trigger-${t}`}function aM(n,t){return`${n}-content-${t}`}function Qg(n){return t=>t.pointerType==="mouse"?n(t):void 0}var iM=Q8,oM=K8,DJ=W8,lM=X8,IJ=Y8,cM=J8,dM=Z8,uM=tM;const hM=k.forwardRef(({className:n,children:t,...e},s)=>r.jsxs(iM,{ref:s,className:Ue("relative z-10 flex max-w-max flex-1 items-center justify-center",n),...e,children:[t,r.jsx(pM,{})]}));hM.displayName=iM.displayName;const fM=k.forwardRef(({className:n,...t},e)=>r.jsx(oM,{ref:e,className:Ue("group flex flex-1 list-none items-center justify-center space-x-1",n),...t}));fM.displayName=oM.displayName;const OJ=DJ,mM=oc("group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"),LJ=k.forwardRef(({className:n,children:t,...e},s)=>r.jsxs(lM,{ref:s,className:Ue(mM(),"group",n),...e,children:[t," ",r.jsx(lo,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180","aria-hidden":"true"})]}));LJ.displayName=lM.displayName;const FJ=k.forwardRef(({className:n,...t},e)=>r.jsx(dM,{ref:e,className:Ue("left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ",n),...t}));FJ.displayName=dM.displayName;const RJ=IJ,pM=k.forwardRef(({className:n,...t},e)=>r.jsx("div",{className:Ue("absolute left-0 top-full flex justify-center"),children:r.jsx(uM,{className:Ue("origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",n),ref:e,...t})}));pM.displayName=uM.displayName;const UJ=k.forwardRef(({className:n,...t},e)=>r.jsx(cM,{ref:e,className:Ue("top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",n),...t,children:r.jsx("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md"})}));UJ.displayName=cM.displayName;function HJ(n){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.appendChild(e),e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}const AM=Ne.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),np=()=>{const n=Ne.useContext(AM);if(!n)throw new Error("useDrawerContext must be used within a Drawer.Root");return n};HJ(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const $J=24,QJ=typeof window<"u"?k.useLayoutEffect:k.useEffect;function H4(...n){return(...t)=>{for(let e of n)typeof e=="function"&&e(...t)}}function VJ(){return Pj(/^Mac/)}function zJ(){return Pj(/^iPhone/)}function $4(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function KJ(){return Pj(/^iPad/)||VJ()&&navigator.maxTouchPoints>1}function gM(){return zJ()||KJ()}function Pj(n){return typeof window<"u"&&window.navigator!=null?n.test(window.navigator.platform):void 0}const mv=typeof document<"u"&&window.visualViewport;function Q4(n){let t=window.getComputedStyle(n);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function xM(n){for(Q4(n)&&(n=n.parentElement);n&&!Q4(n);)n=n.parentElement;return n||document.scrollingElement||document.documentElement}const GJ=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Fp=0,pv;function qJ(n={}){let{isDisabled:t}=n;QJ(()=>{if(!t)return Fp++,Fp===1&&gM()&&(pv=WJ()),()=>{Fp--,Fp===0&&(pv==null||pv())}},[t])}function WJ(){let n,t=0,e=f=>{n=xM(f.target),!(n===document.documentElement&&n===document.body)&&(t=f.changedTouches[0].pageY)},s=f=>{if(!n||n===document.documentElement||n===document.body){f.preventDefault();return}let h=f.changedTouches[0].pageY,m=n.scrollTop,A=n.scrollHeight-n.clientHeight;A!==0&&((m<=0&&h>t||m>=A&&h<t)&&f.preventDefault(),t=h)},a=f=>{let h=f.target;Iw(h)&&h!==document.activeElement&&(f.preventDefault(),h.style.transform="translateY(-2000px)",h.focus(),requestAnimationFrame(()=>{h.style.transform=""}))},i=f=>{let h=f.target;Iw(h)&&(h.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{h.style.transform="",mv&&(mv.height<window.innerHeight?requestAnimationFrame(()=>{V4(h)}):mv.addEventListener("resize",()=>V4(h),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},c=window.pageXOffset,l=window.pageYOffset,d=H4(XJ(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let u=H4(Eh(document,"touchstart",e,{passive:!1,capture:!0}),Eh(document,"touchmove",s,{passive:!1,capture:!0}),Eh(document,"touchend",a,{passive:!1,capture:!0}),Eh(document,"focus",i,!0),Eh(window,"scroll",o));return()=>{d(),u(),window.scrollTo(c,l)}}function XJ(n,t,e){let s=n.style[t];return n.style[t]=e,()=>{n.style[t]=s}}function Eh(n,t,e,s){return n.addEventListener(t,e,s),()=>{n.removeEventListener(t,e,s)}}function V4(n){let t=document.scrollingElement||document.documentElement;for(;n&&n!==t;){let e=xM(n);if(e!==document.documentElement&&e!==document.body&&e!==n){let s=e.getBoundingClientRect().top,a=n.getBoundingClientRect().top,i=n.getBoundingClientRect().bottom;const o=e.getBoundingClientRect().bottom+$J;i>o&&(e.scrollTop+=a-s)}n=e.parentElement}}function Iw(n){return n instanceof HTMLInputElement&&!GJ.has(n.type)||n instanceof HTMLTextAreaElement||n instanceof HTMLElement&&n.isContentEditable}function YJ(n,t){typeof n=="function"?n(t):n!=null&&(n.current=t)}function JJ(...n){return t=>n.forEach(e=>YJ(e,t))}function bM(...n){return k.useCallback(JJ(...n),n)}const vM=new WeakMap;function os(n,t,e=!1){if(!n||!(n instanceof HTMLElement))return;let s={};Object.entries(t).forEach(([a,i])=>{if(a.startsWith("--")){n.style.setProperty(a,i);return}s[a]=n.style[a],n.style[a]=i}),!e&&vM.set(n,s)}function ZJ(n,t){if(!n||!(n instanceof HTMLElement))return;let e=vM.get(n);e&&(n.style[t]=e[t])}const ls=n=>{switch(n){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return n}};function Rp(n,t){if(!n)return null;const e=window.getComputedStyle(n),s=e.transform||e.webkitTransform||e.mozTransform;let a=s.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[ls(t)?13:12]):(a=s.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[ls(t)?5:4]):null)}function eZ(n){return 8*(Math.log(n+1)-2)}function Av(n,t){if(!n)return()=>{};const e=n.style.cssText;return Object.assign(n.style,t),()=>{n.style.cssText=e}}function tZ(...n){return(...t)=>{for(const e of n)typeof e=="function"&&e(...t)}}const Dr={DURATION:.5,EASE:[.32,.72,0,1]},yM=.4,nZ=.25,rZ=100,wM=8,yc=16,Ow=26,gv="vaul-dragging";function jM(n){const t=Ne.useRef(n);return Ne.useEffect(()=>{t.current=n}),Ne.useMemo(()=>(...e)=>t.current==null?void 0:t.current.call(t,...e),[])}function sZ({defaultProp:n,onChange:t}){const e=Ne.useState(n),[s]=e,a=Ne.useRef(s),i=jM(t);return Ne.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),e}function CM({prop:n,defaultProp:t,onChange:e=()=>{}}){const[s,a]=sZ({defaultProp:t,onChange:e}),i=n!==void 0,o=i?n:s,c=jM(e),l=Ne.useCallback(d=>{if(i){const f=typeof d=="function"?d(n):d;f!==n&&c(f)}else a(d)},[i,n,a,c]);return[o,l]}function aZ({activeSnapPointProp:n,setActiveSnapPointProp:t,snapPoints:e,drawerRef:s,overlayRef:a,fadeFromIndex:i,onSnapPointChange:o,direction:c="bottom",container:l,snapToSequentialPoint:d}){const[u,f]=CM({prop:n,defaultProp:e==null?void 0:e[0],onChange:t}),[h,m]=Ne.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);Ne.useEffect(()=>{function P(){m({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]);const A=Ne.useMemo(()=>u===(e==null?void 0:e[e.length-1])||null,[e,u]),g=Ne.useMemo(()=>e==null?void 0:e.findIndex(P=>P===u),[e,u]),p=e&&e.length>0&&(i||i===0)&&!Number.isNaN(i)&&e[i]===u||!e,b=Ne.useMemo(()=>{const P=l?{width:l.getBoundingClientRect().width,height:l.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var B;return(B=e==null?void 0:e.map(D=>{const L=typeof D=="string";let O=0;if(L&&(O=parseInt(D,10)),ls(c)){const _=L?O:h?D*P.height:0;return h?c==="bottom"?P.height-_:-P.height+_:_}const F=L?O:h?D*P.width:0;return h?c==="right"?P.width-F:-P.width+F:F}))!=null?B:[]},[e,h,l]),x=Ne.useMemo(()=>g!==null?b==null?void 0:b[g]:null,[b,g]),v=Ne.useCallback(P=>{var B;const D=(B=b==null?void 0:b.findIndex(L=>L===P))!=null?B:null;o(D),os(s.current,{transition:`transform ${Dr.DURATION}s cubic-bezier(${Dr.EASE.join(",")})`,transform:ls(c)?`translate3d(0, ${P}px, 0)`:`translate3d(${P}px, 0, 0)`}),b&&D!==b.length-1&&D!==i&&D<i?os(a.current,{transition:`opacity ${Dr.DURATION}s cubic-bezier(${Dr.EASE.join(",")})`,opacity:"0"}):os(a.current,{transition:`opacity ${Dr.DURATION}s cubic-bezier(${Dr.EASE.join(",")})`,opacity:"1"}),f(e==null?void 0:e[Math.max(D,0)])},[s.current,e,b,i,a,f]);Ne.useEffect(()=>{if(u||n){var P;const B=(P=e==null?void 0:e.findIndex(D=>D===n||D===u))!=null?P:-1;b&&B!==-1&&typeof b[B]=="number"&&v(b[B])}},[u,n,e,b,v]);function y({draggedDistance:P,closeDrawer:B,velocity:D,dismissible:L}){if(i===void 0)return;const O=c==="bottom"||c==="right"?(x??0)-P:(x??0)+P,F=g===i-1,_=g===0,E=P>0;if(F&&os(a.current,{transition:`opacity ${Dr.DURATION}s cubic-bezier(${Dr.EASE.join(",")})`}),!d&&D>2&&!E){L?B():v(b[0]);return}if(!d&&D>2&&E&&b&&e){v(b[e.length-1]);return}const T=b==null?void 0:b.reduce((C,j)=>typeof C!="number"||typeof j!="number"?C:Math.abs(j-O)<Math.abs(C-O)?j:C),w=ls(c)?window.innerHeight:window.innerWidth;if(D>yM&&Math.abs(P)<w*.4){const C=E?1:-1;if(C>0&&A){v(b[e.length-1]);return}if(_&&C<0&&L&&B(),g===null)return;v(b[g+C]);return}v(T)}function S({draggedDistance:P}){if(x===null)return;const B=c==="bottom"||c==="right"?x-P:x+P;(c==="bottom"||c==="right")&&B<b[b.length-1]||(c==="top"||c==="left")&&B>b[b.length-1]||os(s.current,{transform:ls(c)?`translate3d(0, ${B}px, 0)`:`translate3d(${B}px, 0, 0)`})}function M(P,B){if(!e||typeof g!="number"||!b||i===void 0)return null;const D=g===i-1;if(g>=i&&B)return 0;if(D&&!B)return 1;if(!p&&!D)return null;const O=D?g+1:g-1,F=D?b[O]-b[O-1]:b[O+1]-b[O],_=P/Math.abs(F);return D?1-_:_}return{isLastSnapPoint:A,activeSnapPoint:u,shouldFade:p,getPercentageDragged:M,setActiveSnapPoint:f,activeSnapPointIndex:g,onRelease:y,onDrag:S,snapPointsOffset:b}}const iZ=()=>()=>{};function oZ(){const{direction:n,isOpen:t,shouldScaleBackground:e,setBackgroundColorOnScale:s,noBodyStyles:a}=np(),i=Ne.useRef(null),o=k.useMemo(()=>document.body.style.backgroundColor,[]);function c(){return(window.innerWidth-Ow)/window.innerWidth}Ne.useEffect(()=>{if(t&&e){i.current&&clearTimeout(i.current);const l=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!l)return;tZ(s&&!a?Av(document.body,{background:"black"}):iZ,Av(l,{transformOrigin:ls(n)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Dr.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Dr.EASE.join(",")})`}));const d=Av(l,{borderRadius:`${wM}px`,overflow:"hidden",...ls(n)?{transform:`scale(${c()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${c()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{d(),i.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},Dr.DURATION*1e3)}}},[t,e,o])}let Mh=null;function lZ({isOpen:n,modal:t,nested:e,hasBeenOpened:s,preventScrollRestoration:a,noBodyStyles:i}){const[o,c]=Ne.useState(()=>typeof window<"u"?window.location.href:""),l=Ne.useRef(0),d=Ne.useCallback(()=>{if($4()&&Mh===null&&n&&!i){Mh={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:h}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-l.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const m=h-window.innerHeight;m&&l.current>=h&&(document.body.style.top=`${-(l.current+m)}px`)}),300)}},[n]),u=Ne.useCallback(()=>{if($4()&&Mh!==null&&!i){const f=-parseInt(document.body.style.top,10),h=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Mh),window.requestAnimationFrame(()=>{if(a&&o!==window.location.href){c(window.location.href);return}window.scrollTo(h,f)}),Mh=null}},[o]);return Ne.useEffect(()=>{function f(){l.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),Ne.useEffect(()=>{e||!s||(n?(!window.matchMedia("(display-mode: standalone)").matches&&d(),t||window.setTimeout(()=>{u()},500)):u())},[n,s,o,t,e,d,u]),{restorePositionSetting:u}}function cZ({open:n,onOpenChange:t,children:e,onDrag:s,onRelease:a,snapPoints:i,shouldScaleBackground:o=!1,setBackgroundColorOnScale:c=!0,closeThreshold:l=nZ,scrollLockTimeout:d=rZ,dismissible:u=!0,handleOnly:f=!1,fadeFromIndex:h=i&&i.length-1,activeSnapPoint:m,setActiveSnapPoint:A,fixed:g,modal:p=!0,onClose:b,nested:x,noBodyStyles:v,direction:y="bottom",defaultOpen:S=!1,disablePreventScroll:M=!0,snapToSequentialPoint:P=!1,preventScrollRestoration:B=!1,repositionInputs:D=!0,onAnimationEnd:L,container:O,autoFocus:F=!1}){var _,E;const[T=!1,w]=CM({defaultProp:S,prop:n,onChange:Pe=>{t==null||t(Pe),!Pe&&!x&&he(),setTimeout(()=>{L==null||L(Pe)},Dr.DURATION*1e3),Pe&&!p&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),Pe||(document.body.style.pointerEvents="auto")}}),[C,j]=Ne.useState(!1),[N,I]=Ne.useState(!1),[R,U]=Ne.useState(!1),V=Ne.useRef(null),z=Ne.useRef(null),X=Ne.useRef(null),Q=Ne.useRef(null),q=Ne.useRef(null),H=Ne.useRef(!1),$=Ne.useRef(null),G=Ne.useRef(0),J=Ne.useRef(!1),te=Ne.useRef(0),K=Ne.useRef(null),ne=Ne.useRef(((_=K.current)==null?void 0:_.getBoundingClientRect().height)||0),ce=Ne.useRef(((E=K.current)==null?void 0:E.getBoundingClientRect().width)||0),oe=Ne.useRef(0),ee=Ne.useCallback(Pe=>{i&&Pe===re.length-1&&(z.current=new Date)},[]),{activeSnapPoint:W,activeSnapPointIndex:Y,setActiveSnapPoint:Z,onRelease:se,snapPointsOffset:re,onDrag:le,shouldFade:ae,getPercentageDragged:ue}=aZ({snapPoints:i,activeSnapPointProp:m,setActiveSnapPointProp:A,drawerRef:K,fadeFromIndex:h,overlayRef:V,onSnapPointChange:ee,direction:y,container:O,snapToSequentialPoint:P});qJ({isDisabled:!T||N||!p||R||!C||!D||!M});const{restorePositionSetting:he}=lZ({isOpen:T,modal:p,nested:x,hasBeenOpened:C,preventScrollRestoration:B,noBodyStyles:v});function pe(){return(window.innerWidth-Ow)/window.innerWidth}function Ae(Pe){var be,Ee;!u&&!i||K.current&&!K.current.contains(Pe.target)||(ne.current=((be=K.current)==null?void 0:be.getBoundingClientRect().height)||0,ce.current=((Ee=K.current)==null?void 0:Ee.getBoundingClientRect().width)||0,I(!0),X.current=new Date,gM()&&window.addEventListener("touchend",()=>H.current=!1,{once:!0}),Pe.target.setPointerCapture(Pe.pointerId),G.current=ls(y)?Pe.pageY:Pe.pageX)}function ie(Pe,be){var Ee,ge;let Se=Pe;const Ie=(Ee=window.getSelection())==null?void 0:Ee.toString(),ze=K.current?Rp(K.current,y):null,Le=new Date;if(Se.hasAttribute("data-vaul-no-drag")||Se.closest("[data-vaul-no-drag]"))return!1;if(y==="right"||y==="left")return!0;if(z.current&&Le.getTime()-z.current.getTime()<500)return!1;if(ze!==null&&(y==="bottom"?ze>0:ze<0))return!0;if(Ie&&Ie.length>0)return!1;if(Le.getTime()-((ge=q.current)==null?void 0:ge.getTime())<d&&ze===0||be)return q.current=Le,!1;for(;Se;){if(Se.scrollHeight>Se.clientHeight){if(Se.scrollTop!==0)return q.current=new Date,!1;if(Se.getAttribute("role")==="dialog")return!0}Se=Se.parentNode}return!0}function de(Pe){if(K.current&&N){const be=y==="bottom"||y==="right"?1:-1,Ee=(G.current-(ls(y)?Pe.pageY:Pe.pageX))*be,ge=Ee>0,Se=i&&!u&&!ge;if(Se&&Y===0)return;const Ie=Math.abs(Ee),ze=document.querySelector("[data-vaul-drawer-wrapper]"),Le=y==="bottom"||y==="top"?ne.current:ce.current;let $e=Ie/Le;const et=ue(Ie,ge);if(et!==null&&($e=et),Se&&$e>=1||!H.current&&!ie(Pe.target,ge))return;if(K.current.classList.add(gv),H.current=!0,os(K.current,{transition:"none"}),os(V.current,{transition:"none"}),i&&le({draggedDistance:Ee}),ge&&!i){const At=eZ(Ee),Ut=Math.min(At*-1,0)*be;os(K.current,{transform:ls(y)?`translate3d(0, ${Ut}px, 0)`:`translate3d(${Ut}px, 0, 0)`});return}const jt=1-$e;if((ae||h&&Y===h-1)&&(s==null||s(Pe,$e),os(V.current,{opacity:`${jt}`,transition:"none"},!0)),ze&&V.current&&o){const At=Math.min(pe()+$e*(1-pe()),1),Ut=8-$e*8,ut=Math.max(0,14-$e*14);os(ze,{borderRadius:`${Ut}px`,transform:ls(y)?`scale(${At}) translate3d(0, ${ut}px, 0)`:`scale(${At}) translate3d(${ut}px, 0, 0)`,transition:"none"},!0)}if(!i){const At=Ie*be;os(K.current,{transform:ls(y)?`translate3d(0, ${At}px, 0)`:`translate3d(${At}px, 0, 0)`})}}}Ne.useEffect(()=>{var Pe;function be(){if(!K.current||!D)return;const Ee=document.activeElement;if(Iw(Ee)||J.current){var ge;const Se=((ge=window.visualViewport)==null?void 0:ge.height)||0,Ie=window.innerHeight;let ze=Ie-Se;const Le=K.current.getBoundingClientRect().height||0,$e=Le>Ie*.8;oe.current||(oe.current=Le);const et=K.current.getBoundingClientRect().top;if(Math.abs(te.current-ze)>60&&(J.current=!J.current),i&&i.length>0&&re&&Y){const jt=re[Y]||0;ze+=jt}if(te.current=ze,Le>Se||J.current){const jt=K.current.getBoundingClientRect().height;let At=jt;jt>Se&&(At=Se-($e?et:Ow)),g?K.current.style.height=`${jt-Math.max(ze,0)}px`:K.current.style.height=`${Math.max(At,Se-et)}px`}else K.current.style.height=`${oe.current}px`;i&&i.length>0&&!J.current?K.current.style.bottom="0px":K.current.style.bottom=`${Math.max(ze,0)}px`}}return(Pe=window.visualViewport)==null||Pe.addEventListener("resize",be),()=>{var Ee;return(Ee=window.visualViewport)==null?void 0:Ee.removeEventListener("resize",be)}},[Y,i,re]);function me(Pe){Me(),b==null||b(),Pe||w(!1),setTimeout(()=>{i&&Z(i[0])},Dr.DURATION*1e3)}function ve(){if(!K.current)return;const Pe=document.querySelector("[data-vaul-drawer-wrapper]"),be=Rp(K.current,y);os(K.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Dr.DURATION}s cubic-bezier(${Dr.EASE.join(",")})`}),os(V.current,{transition:`opacity ${Dr.DURATION}s cubic-bezier(${Dr.EASE.join(",")})`,opacity:"1"}),o&&be&&be>0&&T&&os(Pe,{borderRadius:`${wM}px`,overflow:"hidden",...ls(y)?{transform:`scale(${pe()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${pe()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Dr.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Dr.EASE.join(",")})`},!0)}function Me(){!N||!K.current||(K.current.classList.remove(gv),H.current=!1,I(!1),Q.current=new Date)}function Be(Pe){if(!N||!K.current)return;K.current.classList.remove(gv),H.current=!1,I(!1),Q.current=new Date;const be=Rp(K.current,y);if(!ie(Pe.target,!1)||!be||Number.isNaN(be)||X.current===null)return;const Ee=Q.current.getTime()-X.current.getTime(),ge=G.current-(ls(y)?Pe.pageY:Pe.pageX),Se=Math.abs(ge)/Ee;if(Se>.05&&(U(!0),setTimeout(()=>{U(!1)},200)),i){se({draggedDistance:ge*(y==="bottom"||y==="right"?1:-1),closeDrawer:me,velocity:Se,dismissible:u}),a==null||a(Pe,!0);return}if(y==="bottom"||y==="right"?ge>0:ge<0){ve(),a==null||a(Pe,!0);return}if(Se>yM){me(),a==null||a(Pe,!1);return}var Ie;const ze=Math.min((Ie=K.current.getBoundingClientRect().height)!=null?Ie:0,window.innerHeight);var Le;const $e=Math.min((Le=K.current.getBoundingClientRect().width)!=null?Le:0,window.innerWidth),et=y==="left"||y==="right";if(Math.abs(be)>=(et?$e:ze)*l){me(),a==null||a(Pe,!1);return}a==null||a(Pe,!0),ve()}Ne.useEffect(()=>(T&&(os(document.documentElement,{scrollBehavior:"auto"}),z.current=new Date),()=>{ZJ(document.documentElement,"scrollBehavior")}),[T]);function xe(Pe){const be=Pe?(window.innerWidth-yc)/window.innerWidth:1,Ee=Pe?-yc:0;$.current&&window.clearTimeout($.current),os(K.current,{transition:`transform ${Dr.DURATION}s cubic-bezier(${Dr.EASE.join(",")})`,transform:`scale(${be}) translate3d(0, ${Ee}px, 0)`}),!Pe&&K.current&&($.current=setTimeout(()=>{const ge=Rp(K.current,y);os(K.current,{transition:"none",transform:ls(y)?`translate3d(0, ${ge}px, 0)`:`translate3d(${ge}px, 0, 0)`})},500))}function Te(Pe,be){if(be<0)return;const Ee=(window.innerWidth-yc)/window.innerWidth,ge=Ee+be*(1-Ee),Se=-yc+be*yc;os(K.current,{transform:ls(y)?`scale(${ge}) translate3d(0, ${Se}px, 0)`:`scale(${ge}) translate3d(${Se}px, 0, 0)`,transition:"none"})}function _e(Pe,be){const Ee=ls(y)?window.innerHeight:window.innerWidth,ge=be?(Ee-yc)/Ee:1,Se=be?-yc:0;be&&os(K.current,{transition:`transform ${Dr.DURATION}s cubic-bezier(${Dr.EASE.join(",")})`,transform:ls(y)?`scale(${ge}) translate3d(0, ${Se}px, 0)`:`scale(${ge}) translate3d(${Se}px, 0, 0)`})}return Ne.createElement(ld,{defaultOpen:S,onOpenChange:Pe=>{!u&&!Pe||(Pe?j(!0):me(!0),w(Pe))},open:T},Ne.createElement(AM.Provider,{value:{activeSnapPoint:W,snapPoints:i,setActiveSnapPoint:Z,drawerRef:K,overlayRef:V,onOpenChange:t,onPress:Ae,onRelease:Be,onDrag:de,dismissible:u,handleOnly:f,isOpen:T,isDragging:N,shouldFade:ae,closeDrawer:me,onNestedDrag:Te,onNestedOpenChange:xe,onNestedRelease:_e,keyboardIsOpen:J,modal:p,snapPointsOffset:re,direction:y,shouldScaleBackground:o,setBackgroundColorOnScale:c,noBodyStyles:v,container:O,autoFocus:F}},e))}const NM=Ne.forwardRef(function({...n},t){const{overlayRef:e,snapPoints:s,onRelease:a,shouldFade:i,isOpen:o,modal:c}=np(),l=bM(t,e),d=s&&s.length>0;return c?Ne.createElement(Yo,{onMouseUp:a,ref:l,"data-vaul-overlay":"","data-vaul-snap-points":o&&d?"true":"false","data-vaul-snap-points-overlay":o&&i?"true":"false",...n}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});NM.displayName="Drawer.Overlay";const SM=Ne.forwardRef(function({onPointerDownOutside:n,style:t,onOpenAutoFocus:e,...s},a){const{drawerRef:i,onPress:o,onRelease:c,onDrag:l,keyboardIsOpen:d,snapPointsOffset:u,modal:f,isOpen:h,direction:m,snapPoints:A,container:g,handleOnly:p,autoFocus:b}=np(),[x,v]=Ne.useState(!1),y=bM(a,i),S=Ne.useRef(null),M=Ne.useRef(null),P=Ne.useRef(!1),B=A&&A.length>0;oZ();const D=(O,F,_=0)=>{if(P.current)return!0;const E=Math.abs(O.y),T=Math.abs(O.x),w=T>E,C=["bottom","right"].includes(F)?1:-1;if(F==="left"||F==="right"){if(!(O.x*C<0)&&T>=0&&T<=_)return w}else if(!(O.y*C<0)&&E>=0&&E<=_)return!w;return P.current=!0,!0};Ne.useEffect(()=>{B&&window.requestAnimationFrame(()=>{v(!0)})},[]);function L(O){S.current=null,P.current=!1,c(O)}return Ne.createElement(Jo,{"data-vaul-drawer-direction":m,"data-vaul-drawer":"","data-vaul-delayed-snap-points":x?"true":"false","data-vaul-snap-points":h&&B?"true":"false","data-vaul-custom-container":g?"true":"false",...s,ref:y,style:u&&u.length>0?{"--snap-point-height":`${u[0]}px`,...t}:t,onPointerDown:O=>{p||(s.onPointerDown==null||s.onPointerDown.call(s,O),S.current={x:O.pageX,y:O.pageY},o(O))},onOpenAutoFocus:O=>{e==null||e(O),b||O.preventDefault()},onPointerDownOutside:O=>{if(n==null||n(O),!f||O.defaultPrevented){O.preventDefault();return}d.current&&(d.current=!1)},onFocusOutside:O=>{if(!f){O.preventDefault();return}},onPointerMove:O=>{if(M.current=O,p||(s.onPointerMove==null||s.onPointerMove.call(s,O),!S.current))return;const F=O.pageY-S.current.y,_=O.pageX-S.current.x,E=O.pointerType==="touch"?10:2;D({x:_,y:F},m,E)?l(O):(Math.abs(_)>E||Math.abs(F)>E)&&(S.current=null)},onPointerUp:O=>{s.onPointerUp==null||s.onPointerUp.call(s,O),S.current=null,P.current=!1,c(O)},onPointerOut:O=>{s.onPointerOut==null||s.onPointerOut.call(s,O),L(M.current)},onContextMenu:O=>{s.onContextMenu==null||s.onContextMenu.call(s,O),L(M.current)}})});SM.displayName="Drawer.Content";const dZ=250,uZ=120,hZ=Ne.forwardRef(function({preventCycle:n=!1,children:t,...e},s){const{closeDrawer:a,isDragging:i,snapPoints:o,activeSnapPoint:c,setActiveSnapPoint:l,dismissible:d,handleOnly:u,isOpen:f,onPress:h,onDrag:m}=np(),A=Ne.useRef(null),g=Ne.useRef(!1);function p(){if(g.current){v();return}window.setTimeout(()=>{b()},uZ)}function b(){if(i||n||g.current){v();return}if(v(),(!o||o.length===0)&&d){a();return}if(c===o[o.length-1]&&d){a();return}const S=o.findIndex(P=>P===c);if(S===-1)return;const M=o[S+1];l(M)}function x(){A.current=window.setTimeout(()=>{g.current=!0},dZ)}function v(){window.clearTimeout(A.current),g.current=!1}return Ne.createElement("div",{onClick:p,onPointerCancel:v,onPointerDown:y=>{u&&h(y),x()},onPointerMove:y=>{u&&m(y)},ref:s,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...e},Ne.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});hZ.displayName="Drawer.Handle";function fZ(n){const t=np(),{container:e=t.container,...s}=n;return Ne.createElement(cd,{container:e,...s})}const Si={Root:cZ,Content:SM,Overlay:NM,Trigger:cE,Portal:fZ,Close:wx,Title:Km,Description:Gm},TM=({shouldScaleBackground:n=!0,...t})=>r.jsx(Si.Root,{shouldScaleBackground:n,...t});TM.displayName="Drawer";const mZ=Si.Trigger,pZ=Si.Portal,Up=Si.Close,kM=k.forwardRef(({className:n,...t},e)=>r.jsx(Si.Overlay,{ref:e,className:Ue("fixed inset-0 z-50 bg-black/80",n),...t}));kM.displayName=Si.Overlay.displayName;const _M=k.forwardRef(({className:n,children:t,...e},s)=>r.jsxs(pZ,{children:[r.jsx(kM,{}),r.jsxs(Si.Content,{ref:s,className:Ue("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",n),...e,children:[r.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));_M.displayName="DrawerContent";const AZ=k.forwardRef(({className:n,...t},e)=>r.jsx(Si.Title,{ref:e,className:Ue("text-lg font-semibold leading-none tracking-tight",n),...t}));AZ.displayName=Si.Title.displayName;const gZ=k.forwardRef(({className:n,...t},e)=>r.jsx(Si.Description,{ref:e,className:Ue("text-sm text-muted-foreground",n),...t}));gZ.displayName=Si.Description.displayName;const xZ=()=>{const{isLoggedIn:n,userName:t,logout:e}=Px(),[s,a]=k.useState(!1),[i,o]=k.useState(0),[c,l]=k.useState(0),d=k.useRef(null),u=fs();lh();const f=dr(),{toast:h}=ac(),m=k.useRef(!1),A=[{title:"TRANG CHỦ",path:"/",icon:r.jsx(Sg,{className:"h-5 w-5"})},{title:"SẢN PHẨM",path:"/products",icon:r.jsx(sw,{className:"h-5 w-5"})},{title:"COMBO",path:"/combos",icon:r.jsx(ir,{className:"h-5 w-5"})},{title:"GIẢM GIÁ",path:"/voucher",icon:r.jsx(C$,{className:"h-5 w-5"})},{title:"TIN TỨC",path:"/blogs",icon:r.jsx(Tg,{className:"h-5 w-5"})},{title:"LIÊN HỆ",path:"/contact",icon:r.jsx(Aa,{className:"h-5 w-5"})}],g=k.useCallback(async()=>{if(!n){o(0);return}const x=localStorage.getItem("userId");if(!x){console.warn("No userID found in localStorage"),o(0);return}try{const v=await fetch(`https://bicacuatho.azurewebsites.net/api/Cart/GioHangByKhachHang?id=${x}`);if(!v.ok)throw new Error(`HTTP error! status: ${v.status}`);const y=await v.json(),S=y.ctghSanPhamView,M=y.ctghComboView,P=Array.isArray(S)?S.reduce((D,L)=>D+(L.soLuong||0),0):0,B=Array.isArray(M)?M.reduce((D,L)=>D+(L.soLuong||0),0):0;o(P+B)}catch(v){console.error("Error fetching cart data:",v),o(0),h({title:"Lỗi",description:"Không thể tải dữ liệu giỏ hàng.",variant:"destructive",duration:3e3})}},[n,h]),p=k.useCallback(async()=>{if(!n){l(0);return}const x=localStorage.getItem("userId");if(!x){console.warn("No userID found in localStorage"),l(0);return}try{const v=await fetch(`https://bicacuatho.azurewebsites.net/api/YeuThich?maNguoiDung=${x}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!v.ok)throw new Error(`HTTP error! status: ${v.status}`);const y=await v.json(),S=Array.isArray(y)?y.filter(B=>B.maNguoiDung===x):[],M=S.filter(B=>B.maSanPham).length,P=S.filter(B=>B.maCombo).length;l(M+P)}catch(v){console.error("Error fetching favorites data:",v),l(0),h({title:"Lỗi",description:"Không thể tải dữ liệu yêu thích.",variant:"destructive",duration:3e3})}},[n,h]);k.useEffect(()=>{const x=()=>{p()};return window.addEventListener("favorites-updated",x),()=>{window.removeEventListener("favorites-updated",x)}},[p]),k.useEffect(()=>{g(),p()},[g,p,n]),k.useEffect(()=>{const x=v=>{d.current&&!d.current.contains(v.target)&&a(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const b=k.useCallback(async()=>{if(!m.current){m.current=!0,a(!1);try{await e(),h({title:"Đăng xuất thành công 🎉",description:"Bạn đã đăng xuất khỏi tài khoản.",duration:3e3,className:"bg-green-500 text-white border border-green-700 shadow-lg",action:r.jsx(fe,{variant:"outline",className:"bg-white text-green-500 hover:bg-green-100 border-green-500",children:"Đóng"})}),o(0),l(0),setTimeout(()=>{f("/auth/login",{replace:!0})},500)}catch(x){console.error("Lỗi đăng xuất:",x)}finally{setTimeout(()=>{m.current=!1},1e3)}}},[e,f,h]);return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-gray-800 text-white py-2",children:r.jsxs("div",{className:"container mx-auto px-4 flex flex-wrap justify-between items-center",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(qo,{className:"h-4 w-4 mr-1"}),r.jsx("span",{className:"text-sm hidden sm:inline",children:"123 Hà Huy Tập, TP. Buôn Ma Thuột"})]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(Yl,{className:"h-4 w-4 mr-1"}),r.jsx("span",{className:"text-sm hidden md:inline",children:"0383 777 823"})]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(Aa,{className:"h-4 w-4 mr-1"}),r.jsx("span",{className:"text-sm hidden lg:inline",children:"hotronfashionhubvn@gmail.com"})]})]}),r.jsxs("div",{className:"flex items-center space-x-4 mt-2 sm:mt-0",children:[r.jsx("a",{href:"https://zalo.me/0383777823",target:"_blank",rel:"noopener noreferrer",children:r.jsx(Ho,{className:"h-5 w-5 hover:text-gray-300 transition-colors"})}),r.jsx("a",{href:"https://t.me/miyaru2k5",target:"_blank",rel:"noopener noreferrer",children:r.jsx(hu,{className:"h-5 w-5 hover:text-gray-300 transition-colors"})}),r.jsx("a",{href:"https://facebook.com/ultrastore",target:"_blank",rel:"noopener noreferrer",children:r.jsx(ew,{className:"h-5 w-5 hover:text-gray-300 transition-colors"})}),r.jsx("a",{href:"https://instagram.com/ultrastore",target:"_blank",rel:"noopener noreferrer",children:r.jsx(EN,{className:"h-5 w-5 hover:text-gray-300 transition-colors"})}),r.jsx("a",{href:"https://twitter.com/ultrastore",target:"_blank",rel:"noopener noreferrer",children:r.jsx(DN,{className:"h-5 w-5 hover:text-gray-300 transition-colors"})})]})]})}),r.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:r.jsxs("div",{className:"container mx-auto px-4 flex h-16 items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(lt,{to:"/",className:"flex items-center gap-2",children:r.jsx("img",{src:"/logo.gif",alt:"FashionHub",className:"h-32 w-auto max-w-[150px]"})})}),r.jsx("nav",{className:"hidden md:block",children:r.jsx(hM,{children:r.jsxs(fM,{children:[A.map(x=>r.jsx(OJ,{children:r.jsx(lt,{to:x.path,children:r.jsxs(RJ,{className:Ue(mM(),u.pathname===x.path&&"bg-accent text-accent-foreground","px-4 py-2"),children:[x.icon,r.jsx("span",{className:"ml-2",children:x.title})]})})},x.path)),r.jsx(H8,{})]})})}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(TM,{children:[r.jsx(mZ,{asChild:!0,className:"md:hidden",children:r.jsx(fe,{variant:"ghost",size:"icon",children:r.jsx(w6,{className:"h-5 w-5"})})}),r.jsx(_M,{children:r.jsx("div",{className:"p-4 pt-0",children:r.jsxs("div",{className:"flex flex-col gap-2 py-4",children:[A.map(x=>r.jsx(Up,{asChild:!0,children:r.jsxs(lt,{to:x.path,className:Ue("flex items-center gap-2 px-4 py-3 rounded-md",u.pathname===x.path?"bg-crocus-100 text-crocus-700 font-medium":"text-gray-600 hover:bg-gray-100"),children:[x.icon,r.jsx("span",{children:x.title})]})},x.path)),n&&r.jsxs(r.Fragment,{children:[r.jsx(Up,{asChild:!0,children:r.jsxs(lt,{to:"/user/profile",className:Ue("flex items-center gap-2 px-4 py-3 rounded-md",u.pathname==="/user/profile"?"bg-crocus-100 text-crocus-700 font-medium":"text-gray-600 hover:bg-gray-100"),children:[r.jsx(Xb,{className:"h-5 w-5"}),r.jsx("span",{children:"Hồ sơ"})]})}),r.jsx(Up,{asChild:!0,children:r.jsxs(lt,{to:"/user/orders",className:Ue("flex items-center gap-2 px-4 py-3 rounded-md",u.pathname==="/user/orders"?"bg-crocus-100 text-crocus-700 font-medium":"text-gray-600 hover:bg-gray-100"),children:[r.jsx(ir,{className:"h-5 w-5"}),r.jsx("span",{children:"Đơn hàng"})]})}),r.jsx(Up,{asChild:!0,children:r.jsxs(fe,{variant:"ghost",className:"flex items-center gap-2 px-4 py-3 text-red-600 justify-start hover:bg-red-50",onClick:b,children:[r.jsx(Wf,{className:"h-5 w-5"}),r.jsx("span",{children:"Đăng xuất"})]})})]})]})})})]}),n&&r.jsxs(r.Fragment,{children:[r.jsxs(lt,{to:"/favorites",className:Ue("relative hover:text-crocus-600 transition-colors",u.pathname==="/favorites"?"text-crocus-600":"text-gray-600"),children:[r.jsx(Ts,{className:"h-5 w-5"}),c>0&&r.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-semibold shadow-md",children:c>99?"99+":c})]}),r.jsxs(lt,{to:"/user/cart",className:Ue("relative hover:text-crocus-600 transition-colors",u.pathname==="/user/cart"?"text-crocus-600":"text-gray-600"),children:[r.jsx(vs,{className:"h-5 w-5"}),i>0&&r.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-semibold shadow-md",children:i>99?"99+":i})]}),r.jsx(lt,{to:"/user/messages",className:Ue("relative hover:text-crocus-600 transition-colors",u.pathname==="/user/messages"?"text-crocus-600":"text-gray-600"),children:r.jsx(ad,{className:"h-5 w-5"})}),r.jsxs("div",{className:"relative",ref:d,children:[r.jsxs(fe,{variant:"outline",size:"sm",className:"flex items-center hover-effect",onClick:()=>a(!s),children:[r.jsx(Un,{className:"h-4 w-4"}),r.jsx(lo,{className:"ml-2 h-4 w-4"})]}),s&&r.jsxs("div",{className:"absolute right-0 mt-3 w-64 bg-white border border-gray-200 rounded-md shadow-lg z-50 p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Thông tin người dùng"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(lt,{to:"/user/profile",className:"flex items-center text-gray-700 hover:text-crocus-600 transition-colors p-2 rounded-md hover:bg-gray-50",onClick:()=>a(!1),children:[r.jsx(Xb,{className:"h-5 w-5 mr-2"}),r.jsx("span",{children:"Hồ sơ"})]}),r.jsxs(lt,{to:"/user/orders",className:"flex items-center text-gray-700 hover:text-crocus-600 transition-colors p-2 rounded-md hover:bg-gray-50",onClick:()=>a(!1),children:[r.jsx(ir,{className:"h-5 w-5 mr-2"}),r.jsx("span",{children:"Đơn hàng"})]}),r.jsxs(fe,{variant:"ghost",size:"sm",className:"w-full text-red-600 flex items-center justify-start p-2 hover:bg-red-50",onClick:b,children:[r.jsx(Wf,{className:"h-4 w-4 mr-2"}),"Đăng xuất"]})]})]})]})]}),!n&&r.jsx(fe,{variant:"outline",size:"sm",asChild:!0,children:r.jsxs(lt,{to:"/auth/login",children:[r.jsx(v6,{className:"h-4 w-4 mr-2"})," ĐĂNG NHẬP"]})})]})]})}),r.jsx("main",{className:"flex-1",children:r.jsx("div",{className:"container mx-auto py-6 px-4",children:r.jsx(IB,{})})}),r.jsxs("footer",{className:"bg-gray-50 border-t border-gray-200 py-8",children:[r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 relative translate-y-5",children:[r.jsxs("div",{children:[r.jsx(lt,{to:"/",className:"flex items-center gap-2",children:r.jsx("img",{src:"/logo.gif",alt:"FashionHub",className:"h-32 w-auto transform -translate-y-7"})}),r.jsx("p",{className:"text-gray-700 text-xl transform -translate-y-10",children:"Mang đến cho bạn những xu hướng thời trang mới nhất 2025."}),r.jsx(mJ,{})]}),r.jsxs("div",{className:"hidden md:block",children:[r.jsx("h3",{className:"font-bold text-2xl mb-4 text-crocus-700",children:"Mua sắm"}),r.jsxs("ul",{className:"space-y-3",children:[r.jsx("li",{children:r.jsxs(lt,{to:"/",className:"text-gray-700 hover:text-crocus-500 text-xl transition-colors",children:[r.jsx(Sg,{className:"h-5 w-5 inline mr-2"})," Trang chủ"]})}),r.jsx("li",{children:r.jsxs(lt,{to:"/products",className:"text-gray-700 hover:text-crocus-500 text-xl transition-colors",children:[r.jsx(sw,{className:"h-5 w-5 inline mr-2"})," Sản phẩm"]})}),r.jsx("li",{children:r.jsxs(lt,{to:"/combos",className:"text-gray-700 hover:text-crocus-500 text-xl transition-colors",children:[r.jsx(ir,{className:"h-5 w-5 inline mr-2"})," Combo"]})}),r.jsx("li",{children:r.jsxs(lt,{to:"/Guarantee",className:"text-gray-700 hover:text-crocus-500 text-xl transition-colors",children:[r.jsx($o,{className:"h-5 w-5 inline mr-2"})," Chính sách đổi trả"]})})]})]}),r.jsxs("div",{className:"hidden md:block",children:[r.jsx("h3",{className:"font-bold text-2xl mb-4 text-crocus-700",children:"Tài khoản"}),r.jsxs("ul",{className:"space-y-3",children:[r.jsx("li",{children:r.jsxs(lt,{to:"/user/profile",className:"text-gray-700 hover:text-crocus-500 text-xl transition-colors",children:[r.jsx(Xb,{className:"h-5 w-5 inline mr-2"})," Hồ sơ"]})}),r.jsx("li",{children:r.jsxs(lt,{to:"/user/orders",className:"text-gray-700 hover:text-crocus-500 text-xl transition-colors",children:[r.jsx(ir,{className:"h-5 w-5 inline mr-2"})," Đơn hàng"]})}),r.jsx("li",{children:r.jsxs(lt,{to:"/user/cart",className:"text-gray-700 hover:text-crocus-500 text-xl transition-colors",children:[r.jsx(vs,{className:"h-5 w-5 inline mr-2"})," Giỏ hàng"]})}),r.jsx("li",{children:r.jsxs(lt,{to:"/Security",className:"text-gray-700 hover:text-crocus-500 text-xl transition-colors",children:[r.jsx(s$,{className:"h-5 w-5 inline mr-2"})," Chính sách bảo mật"]})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-2xl mb-4 text-crocus-700",children:"Kết nối với chúng tôi"}),r.jsxs("ul",{className:"space-y-3",children:[r.jsx("li",{children:r.jsxs(lt,{to:"/contact",className:"text-gray-700 hover:text-crocus-500 text-xl transition-colors",children:[r.jsx(Aa,{className:"h-5 w-5 inline mr-2"})," Liên hệ"]})}),r.jsx("li",{children:r.jsxs(lt,{to:"/about",className:"text-gray-700 hover:text-crocus-500 text-xl transition-colors",children:[r.jsx(qo,{className:"h-5 w-5 inline mr-2"})," Về chúng tôi"]})}),r.jsx("li",{children:r.jsxs(lt,{to:"/blogs",className:"text-gray-700 hover:text-crocus-500 text-xl transition-colors",children:[r.jsx(Tg,{className:"h-5 w-5 inline mr-2"})," Tin tức"]})})]}),r.jsxs("div",{className:"flex space-x-4 mt-6",children:[r.jsx("a",{href:"https://facebook.com/Ultrastore",className:"text-gray-700 hover:text-crocus-500 transition-colors",target:"_blank",rel:"noopener noreferrer",children:r.jsx(ew,{className:"h-7 w-7"})}),r.jsx("a",{href:"https://instagram.com/ultrasstore",className:"text-gray-700 hover:text-crocus-500 transition-colors",target:"_blank",rel:"noopener noreferrer",children:r.jsx(EN,{className:"h-7 w-7"})}),r.jsx("a",{href:"https://twitter.com/ultrastore",className:"text-gray-700 hover:text-crocus-500 transition-colors",target:"_blank",rel:"noopener noreferrer",children:r.jsx(DN,{className:"h-7 w-7"})})]})]})]})}),r.jsx(fJ,{})]})]})};function bZ(n){return Object.prototype.toString.call(n)==="[object Object]"}function z4(n){return bZ(n)||Array.isArray(n)}function vZ(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Dj(n,t){const e=Object.keys(n),s=Object.keys(t);if(e.length!==s.length)return!1;const a=JSON.stringify(Object.keys(n.breakpoints||{})),i=JSON.stringify(Object.keys(t.breakpoints||{}));return a!==i?!1:e.every(o=>{const c=n[o],l=t[o];return typeof c=="function"?`${c}`==`${l}`:!z4(c)||!z4(l)?c===l:Dj(c,l)})}function K4(n){return n.concat().sort((t,e)=>t.name>e.name?1:-1).map(t=>t.options)}function yZ(n,t){if(n.length!==t.length)return!1;const e=K4(n),s=K4(t);return e.every((a,i)=>{const o=s[i];return Dj(a,o)})}function Ij(n){return typeof n=="number"}function Lw(n){return typeof n=="string"}function Dx(n){return typeof n=="boolean"}function G4(n){return Object.prototype.toString.call(n)==="[object Object]"}function Or(n){return Math.abs(n)}function Oj(n){return Math.sign(n)}function Ef(n,t){return Or(n-t)}function wZ(n,t){if(n===0||t===0||Or(n)<=Or(t))return 0;const e=Ef(Or(n),Or(t));return Or(e/n)}function jZ(n){return Math.round(n*100)/100}function lm(n){return cm(n).map(Number)}function gi(n){return n[rp(n)]}function rp(n){return Math.max(0,n.length-1)}function Lj(n,t){return t===rp(n)}function q4(n,t=0){return Array.from(Array(n),(e,s)=>t+s)}function cm(n){return Object.keys(n)}function BM(n,t){return[n,t].reduce((e,s)=>(cm(s).forEach(a=>{const i=e[a],o=s[a],c=G4(i)&&G4(o);e[a]=c?BM(i,o):o}),e),{})}function Fw(n,t){return typeof t.MouseEvent<"u"&&n instanceof t.MouseEvent}function CZ(n,t){const e={start:s,center:a,end:i};function s(){return 0}function a(l){return i(l)/2}function i(l){return t-l}function o(l,d){return Lw(n)?e[n](l):n(t,l,d)}return{measure:o}}function dm(){let n=[];function t(a,i,o,c={passive:!0}){let l;if("addEventListener"in a)a.addEventListener(i,o,c),l=()=>a.removeEventListener(i,o,c);else{const d=a;d.addListener(o),l=()=>d.removeListener(o)}return n.push(l),s}function e(){n=n.filter(a=>a())}const s={add:t,clear:e};return s}function NZ(n,t,e,s){const a=dm(),i=1e3/60;let o=null,c=0,l=0;function d(){a.add(n,"visibilitychange",()=>{n.hidden&&A()})}function u(){m(),a.clear()}function f(p){if(!l)return;o||(o=p,e(),e());const b=p-o;for(o=p,c+=b;c>=i;)e(),c-=i;const x=c/i;s(x),l&&(l=t.requestAnimationFrame(f))}function h(){l||(l=t.requestAnimationFrame(f))}function m(){t.cancelAnimationFrame(l),o=null,c=0,l=0}function A(){o=null,c=0}return{init:d,destroy:u,start:h,stop:m,update:e,render:s}}function SZ(n,t){const e=t==="rtl",s=n==="y",a=s?"y":"x",i=s?"x":"y",o=!s&&e?-1:1,c=u(),l=f();function d(A){const{height:g,width:p}=A;return s?g:p}function u(){return s?"top":e?"right":"left"}function f(){return s?"bottom":e?"left":"right"}function h(A){return A*o}return{scroll:a,cross:i,startEdge:c,endEdge:l,measureSize:d,direction:h}}function ud(n=0,t=0){const e=Or(n-t);function s(d){return d<n}function a(d){return d>t}function i(d){return s(d)||a(d)}function o(d){return i(d)?s(d)?n:t:d}function c(d){return e?d-e*Math.ceil((d-t)/e):d}return{length:e,max:t,min:n,constrain:o,reachedAny:i,reachedMax:a,reachedMin:s,removeOffset:c}}function EM(n,t,e){const{constrain:s}=ud(0,n),a=n+1;let i=o(t);function o(h){return e?Or((a+h)%a):s(h)}function c(){return i}function l(h){return i=o(h),f}function d(h){return u().set(c()+h)}function u(){return EM(n,c(),e)}const f={get:c,set:l,add:d,clone:u};return f}function TZ(n,t,e,s,a,i,o,c,l,d,u,f,h,m,A,g,p,b,x){const{cross:v,direction:y}=n,S=["INPUT","SELECT","TEXTAREA"],M={passive:!1},P=dm(),B=dm(),D=ud(50,225).constrain(m.measure(20)),L={mouse:300,touch:400},O={mouse:500,touch:600},F=A?43:25;let _=!1,E=0,T=0,w=!1,C=!1,j=!1,N=!1;function I(te){if(!x)return;function K(ce){(Dx(x)||x(te,ce))&&Q(ce)}const ne=t;P.add(ne,"dragstart",ce=>ce.preventDefault(),M).add(ne,"touchmove",()=>{},M).add(ne,"touchend",()=>{}).add(ne,"touchstart",K).add(ne,"mousedown",K).add(ne,"touchcancel",H).add(ne,"contextmenu",H).add(ne,"click",$,!0)}function R(){P.clear(),B.clear()}function U(){const te=N?e:t;B.add(te,"touchmove",q,M).add(te,"touchend",H).add(te,"mousemove",q,M).add(te,"mouseup",H)}function V(te){const K=te.nodeName||"";return S.includes(K)}function z(){return(A?O:L)[N?"mouse":"touch"]}function X(te,K){const ne=f.add(Oj(te)*-1),ce=u.byDistance(te,!A).distance;return A||Or(te)<D?ce:p&&K?ce*.5:u.byIndex(ne.get(),0).distance}function Q(te){const K=Fw(te,s);N=K,j=A&&K&&!te.buttons&&_,_=Ef(a.get(),o.get())>=2,!(K&&te.button!==0)&&(V(te.target)||(w=!0,i.pointerDown(te),d.useFriction(0).useDuration(0),a.set(o),U(),E=i.readPoint(te),T=i.readPoint(te,v),h.emit("pointerDown")))}function q(te){if(!Fw(te,s)&&te.touches.length>=2)return H(te);const ne=i.readPoint(te),ce=i.readPoint(te,v),oe=Ef(ne,E),ee=Ef(ce,T);if(!C&&!N&&(!te.cancelable||(C=oe>ee,!C)))return H(te);const W=i.pointerMove(te);oe>g&&(j=!0),d.useFriction(.3).useDuration(.75),c.start(),a.add(y(W)),te.preventDefault()}function H(te){const ne=u.byDistance(0,!1).index!==f.get(),ce=i.pointerUp(te)*z(),oe=X(y(ce),ne),ee=wZ(ce,oe),W=F-10*ee,Y=b+ee/50;C=!1,w=!1,B.clear(),d.useDuration(W).useFriction(Y),l.distance(oe,!A),N=!1,h.emit("pointerUp")}function $(te){j&&(te.stopPropagation(),te.preventDefault(),j=!1)}function G(){return w}return{init:I,destroy:R,pointerDown:G}}function kZ(n,t){let s,a;function i(f){return f.timeStamp}function o(f,h){const A=`client${(h||n.scroll)==="x"?"X":"Y"}`;return(Fw(f,t)?f:f.touches[0])[A]}function c(f){return s=f,a=f,o(f)}function l(f){const h=o(f)-o(a),m=i(f)-i(s)>170;return a=f,m&&(s=f),h}function d(f){if(!s||!a)return 0;const h=o(a)-o(s),m=i(f)-i(s),A=i(f)-i(a)>170,g=h/m;return m&&!A&&Or(g)>.1?g:0}return{pointerDown:c,pointerMove:l,pointerUp:d,readPoint:o}}function _Z(){function n(e){const{offsetTop:s,offsetLeft:a,offsetWidth:i,offsetHeight:o}=e;return{top:s,right:a+i,bottom:s+o,left:a,width:i,height:o}}return{measure:n}}function BZ(n){function t(s){return n*(s/100)}return{measure:t}}function EZ(n,t,e,s,a,i,o){const c=[n].concat(s);let l,d,u=[],f=!1;function h(p){return a.measureSize(o.measure(p))}function m(p){if(!i)return;d=h(n),u=s.map(h);function b(x){for(const v of x){if(f)return;const y=v.target===n,S=s.indexOf(v.target),M=y?d:u[S],P=h(y?n:s[S]);if(Or(P-M)>=.5){p.reInit(),t.emit("resize");break}}}l=new ResizeObserver(x=>{(Dx(i)||i(p,x))&&b(x)}),e.requestAnimationFrame(()=>{c.forEach(x=>l.observe(x))})}function A(){f=!0,l&&l.disconnect()}return{init:m,destroy:A}}function MZ(n,t,e,s,a,i){let o=0,c=0,l=a,d=i,u=n.get(),f=0;function h(){const M=s.get()-n.get(),P=!l;let B=0;return P?(o=0,e.set(s),n.set(s),B=M):(e.set(n),o+=M/l,o*=d,u+=o,n.add(o),B=u-f),c=Oj(B),f=u,S}function m(){const M=s.get()-t.get();return Or(M)<.001}function A(){return l}function g(){return c}function p(){return o}function b(){return v(a)}function x(){return y(i)}function v(M){return l=M,S}function y(M){return d=M,S}const S={direction:g,duration:A,velocity:p,seek:h,settled:m,useBaseFriction:x,useBaseDuration:b,useFriction:y,useDuration:v};return S}function PZ(n,t,e,s,a){const i=a.measure(10),o=a.measure(50),c=ud(.1,.99);let l=!1;function d(){return!(l||!n.reachedAny(e.get())||!n.reachedAny(t.get()))}function u(m){if(!d())return;const A=n.reachedMin(t.get())?"min":"max",g=Or(n[A]-t.get()),p=e.get()-t.get(),b=c.constrain(g/o);e.subtract(p*b),!m&&Or(p)<i&&(e.set(n.constrain(e.get())),s.useDuration(25).useBaseFriction())}function f(m){l=!m}return{shouldConstrain:d,constrain:u,toggleActive:f}}function DZ(n,t,e,s,a){const i=ud(-t+n,0),o=f(),c=u(),l=h();function d(A,g){return Ef(A,g)<=1}function u(){const A=o[0],g=gi(o),p=o.lastIndexOf(A),b=o.indexOf(g)+1;return ud(p,b)}function f(){return e.map((A,g)=>{const{min:p,max:b}=i,x=i.constrain(A),v=!g,y=Lj(e,g);return v?b:y||d(p,x)?p:d(b,x)?b:x}).map(A=>parseFloat(A.toFixed(3)))}function h(){if(t<=n+a)return[i.max];if(s==="keepSnaps")return o;const{min:A,max:g}=c;return o.slice(A,g)}return{snapsContained:l,scrollContainLimit:c}}function IZ(n,t,e){const s=t[0],a=e?s-n:gi(t);return{limit:ud(a,s)}}function OZ(n,t,e,s){const i=t.min+.1,o=t.max+.1,{reachedMin:c,reachedMax:l}=ud(i,o);function d(h){return h===1?l(e.get()):h===-1?c(e.get()):!1}function u(h){if(!d(h))return;const m=n*(h*-1);s.forEach(A=>A.add(m))}return{loop:u}}function LZ(n){const{max:t,length:e}=n;function s(i){const o=i-t;return e?o/-e:0}return{get:s}}function FZ(n,t,e,s,a){const{startEdge:i,endEdge:o}=n,{groupSlides:c}=a,l=f().map(t.measure),d=h(),u=m();function f(){return c(s).map(g=>gi(g)[o]-g[0][i]).map(Or)}function h(){return s.map(g=>e[i]-g[i]).map(g=>-Or(g))}function m(){return c(d).map(g=>g[0]).map((g,p)=>g+l[p])}return{snaps:d,snapsAligned:u}}function RZ(n,t,e,s,a,i){const{groupSlides:o}=a,{min:c,max:l}=s,d=u();function u(){const h=o(i),m=!n||t==="keepSnaps";return e.length===1?[i]:m?h:h.slice(c,l).map((A,g,p)=>{const b=!g,x=Lj(p,g);if(b){const v=gi(p[0])+1;return q4(v)}if(x){const v=rp(i)-gi(p)[0]+1;return q4(v,gi(p)[0])}return A})}return{slideRegistry:d}}function UZ(n,t,e,s,a){const{reachedAny:i,removeOffset:o,constrain:c}=s;function l(A){return A.concat().sort((g,p)=>Or(g)-Or(p))[0]}function d(A){const g=n?o(A):c(A),p=t.map((x,v)=>({diff:u(x-g,0),index:v})).sort((x,v)=>Or(x.diff)-Or(v.diff)),{index:b}=p[0];return{index:b,distance:g}}function u(A,g){const p=[A,A+e,A-e];if(!n)return A;if(!g)return l(p);const b=p.filter(x=>Oj(x)===g);return b.length?l(b):gi(p)-e}function f(A,g){const p=t[A]-a.get(),b=u(p,g);return{index:A,distance:b}}function h(A,g){const p=a.get()+A,{index:b,distance:x}=d(p),v=!n&&i(p);if(!g||v)return{index:b,distance:A};const y=t[b]-x,S=A+u(y,0);return{index:b,distance:S}}return{byDistance:h,byIndex:f,shortcut:u}}function HZ(n,t,e,s,a,i,o){function c(f){const h=f.distance,m=f.index!==t.get();i.add(h),h&&(s.duration()?n.start():(n.update(),n.render(1),n.update())),m&&(e.set(t.get()),t.set(f.index),o.emit("select"))}function l(f,h){const m=a.byDistance(f,h);c(m)}function d(f,h){const m=t.clone().set(f),A=a.byIndex(m.get(),h);c(A)}return{distance:l,index:d}}function $Z(n,t,e,s,a,i,o,c){const l={passive:!0,capture:!0};let d=0;function u(m){if(!c)return;function A(g){if(new Date().getTime()-d>10)return;o.emit("slideFocusStart"),n.scrollLeft=0;const x=e.findIndex(v=>v.includes(g));Ij(x)&&(a.useDuration(0),s.index(x,0),o.emit("slideFocus"))}i.add(document,"keydown",f,!1),t.forEach((g,p)=>{i.add(g,"focus",b=>{(Dx(c)||c(m,b))&&A(p)},l)})}function f(m){m.code==="Tab"&&(d=new Date().getTime())}return{init:u}}function hf(n){let t=n;function e(){return t}function s(l){t=o(l)}function a(l){t+=o(l)}function i(l){t-=o(l)}function o(l){return Ij(l)?l:l.get()}return{get:e,set:s,add:a,subtract:i}}function MM(n,t){const e=n.scroll==="x"?o:c,s=t.style;let a=null,i=!1;function o(h){return`translate3d(${h}px,0px,0px)`}function c(h){return`translate3d(0px,${h}px,0px)`}function l(h){if(i)return;const m=jZ(n.direction(h));m!==a&&(s.transform=e(m),a=m)}function d(h){i=!h}function u(){i||(s.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:u,to:l,toggleActive:d}}function QZ(n,t,e,s,a,i,o,c,l){const u=lm(a),f=lm(a).reverse(),h=b().concat(x());function m(P,B){return P.reduce((D,L)=>D-a[L],B)}function A(P,B){return P.reduce((D,L)=>m(D,B)>0?D.concat([L]):D,[])}function g(P){return i.map((B,D)=>({start:B-s[D]+.5+P,end:B+t-.5+P}))}function p(P,B,D){const L=g(B);return P.map(O=>{const F=D?0:-e,_=D?e:0,E=D?"end":"start",T=L[O][E];return{index:O,loopPoint:T,slideLocation:hf(-1),translate:MM(n,l[O]),target:()=>c.get()>T?F:_}})}function b(){const P=o[0],B=A(f,P);return p(B,e,!1)}function x(){const P=t-o[0]-1,B=A(u,P);return p(B,-e,!0)}function v(){return h.every(({index:P})=>{const B=u.filter(D=>D!==P);return m(B,t)<=.1})}function y(){h.forEach(P=>{const{target:B,translate:D,slideLocation:L}=P,O=B();O!==L.get()&&(D.to(O),L.set(O))})}function S(){h.forEach(P=>P.translate.clear())}return{canLoop:v,clear:S,loop:y,loopPoints:h}}function VZ(n,t,e){let s,a=!1;function i(l){if(!e)return;function d(u){for(const f of u)if(f.type==="childList"){l.reInit(),t.emit("slidesChanged");break}}s=new MutationObserver(u=>{a||(Dx(e)||e(l,u))&&d(u)}),s.observe(n,{childList:!0})}function o(){s&&s.disconnect(),a=!0}return{init:i,destroy:o}}function zZ(n,t,e,s){const a={};let i=null,o=null,c,l=!1;function d(){c=new IntersectionObserver(A=>{l||(A.forEach(g=>{const p=t.indexOf(g.target);a[p]=g}),i=null,o=null,e.emit("slidesInView"))},{root:n.parentElement,threshold:s}),t.forEach(A=>c.observe(A))}function u(){c&&c.disconnect(),l=!0}function f(A){return cm(a).reduce((g,p)=>{const b=parseInt(p),{isIntersecting:x}=a[b];return(A&&x||!A&&!x)&&g.push(b),g},[])}function h(A=!0){if(A&&i)return i;if(!A&&o)return o;const g=f(A);return A&&(i=g),A||(o=g),g}return{init:d,destroy:u,get:h}}function KZ(n,t,e,s,a,i){const{measureSize:o,startEdge:c,endEdge:l}=n,d=e[0]&&a,u=A(),f=g(),h=e.map(o),m=p();function A(){if(!d)return 0;const x=e[0];return Or(t[c]-x[c])}function g(){if(!d)return 0;const x=i.getComputedStyle(gi(s));return parseFloat(x.getPropertyValue(`margin-${l}`))}function p(){return e.map((x,v,y)=>{const S=!v,M=Lj(y,v);return S?h[v]+u:M?h[v]+f:y[v+1][c]-x[c]}).map(Or)}return{slideSizes:h,slideSizesWithGaps:m,startGap:u,endGap:f}}function GZ(n,t,e,s,a,i,o,c,l){const{startEdge:d,endEdge:u,direction:f}=n,h=Ij(e);function m(b,x){return lm(b).filter(v=>v%x===0).map(v=>b.slice(v,v+x))}function A(b){return b.length?lm(b).reduce((x,v,y)=>{const S=gi(x)||0,M=S===0,P=v===rp(b),B=a[d]-i[S][d],D=a[d]-i[v][u],L=!s&&M?f(o):0,O=!s&&P?f(c):0,F=Or(D-O-(B+L));return y&&F>t+l&&x.push(v),P&&x.push(b.length),x},[]).map((x,v,y)=>{const S=Math.max(y[v-1]||0);return b.slice(S,x)}):[]}function g(b){return h?m(b,e):A(b)}return{groupSlides:g}}function qZ(n,t,e,s,a,i,o){const{align:c,axis:l,direction:d,startIndex:u,loop:f,duration:h,dragFree:m,dragThreshold:A,inViewThreshold:g,slidesToScroll:p,skipSnaps:b,containScroll:x,watchResize:v,watchSlides:y,watchDrag:S,watchFocus:M}=i,P=2,B=_Z(),D=B.measure(t),L=e.map(B.measure),O=SZ(l,d),F=O.measureSize(D),_=BZ(F),E=CZ(c,F),T=!f&&!!x,w=f||!!x,{slideSizes:C,slideSizesWithGaps:j,startGap:N,endGap:I}=KZ(O,D,L,e,w,a),R=GZ(O,F,p,f,D,L,N,I,P),{snaps:U,snapsAligned:V}=FZ(O,E,D,L,R),z=-gi(U)+gi(j),{snapsContained:X,scrollContainLimit:Q}=DZ(F,z,V,x,P),q=T?X:V,{limit:H}=IZ(z,q,f),$=EM(rp(q),u,f),G=$.clone(),J=lm(e),te=({dragHandler:de,scrollBody:me,scrollBounds:ve,options:{loop:Me}})=>{Me||ve.constrain(de.pointerDown()),me.seek()},K=({scrollBody:de,translate:me,location:ve,offsetLocation:Me,previousLocation:Be,scrollLooper:xe,slideLooper:Te,dragHandler:_e,animation:Pe,eventHandler:be,scrollBounds:Ee,options:{loop:ge}},Se)=>{const Ie=de.settled(),ze=!Ee.shouldConstrain(),Le=ge?Ie:Ie&&ze,$e=Le&&!_e.pointerDown();$e&&Pe.stop();const et=ve.get()*Se+Be.get()*(1-Se);Me.set(et),ge&&(xe.loop(de.direction()),Te.loop()),me.to(Me.get()),$e&&be.emit("settle"),Le||be.emit("scroll")},ne=NZ(s,a,()=>te(ie),de=>K(ie,de)),ce=.68,oe=q[$.get()],ee=hf(oe),W=hf(oe),Y=hf(oe),Z=hf(oe),se=MZ(ee,Y,W,Z,h,ce),re=UZ(f,q,z,H,Z),le=HZ(ne,$,G,se,re,Z,o),ae=LZ(H),ue=dm(),he=zZ(t,e,o,g),{slideRegistry:pe}=RZ(T,x,q,Q,R,J),Ae=$Z(n,e,pe,le,se,ue,o,M),ie={ownerDocument:s,ownerWindow:a,eventHandler:o,containerRect:D,slideRects:L,animation:ne,axis:O,dragHandler:TZ(O,n,s,a,Z,kZ(O,a),ee,ne,le,se,re,$,o,_,m,A,b,ce,S),eventStore:ue,percentOfView:_,index:$,indexPrevious:G,limit:H,location:ee,offsetLocation:Y,previousLocation:W,options:i,resizeHandler:EZ(t,o,a,e,O,v,B),scrollBody:se,scrollBounds:PZ(H,Y,Z,se,_),scrollLooper:OZ(z,H,Y,[ee,Y,W,Z]),scrollProgress:ae,scrollSnapList:q.map(ae.get),scrollSnaps:q,scrollTarget:re,scrollTo:le,slideLooper:QZ(O,F,z,C,j,U,q,Y,e),slideFocus:Ae,slidesHandler:VZ(t,o,y),slidesInView:he,slideIndexes:J,slideRegistry:pe,slidesToScroll:R,target:Z,translate:MM(O,t)};return ie}function WZ(){let n={},t;function e(d){t=d}function s(d){return n[d]||[]}function a(d){return s(d).forEach(u=>u(t,d)),l}function i(d,u){return n[d]=s(d).concat([u]),l}function o(d,u){return n[d]=s(d).filter(f=>f!==u),l}function c(){n={}}const l={init:e,emit:a,off:o,on:i,clear:c};return l}const XZ={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function YZ(n){function t(i,o){return BM(i,o||{})}function e(i){const o=i.breakpoints||{},c=cm(o).filter(l=>n.matchMedia(l).matches).map(l=>o[l]).reduce((l,d)=>t(l,d),{});return t(i,c)}function s(i){return i.map(o=>cm(o.breakpoints||{})).reduce((o,c)=>o.concat(c),[]).map(n.matchMedia)}return{mergeOptions:t,optionsAtMedia:e,optionsMediaQueries:s}}function JZ(n){let t=[];function e(i,o){return t=o.filter(({options:c})=>n.optionsAtMedia(c).active!==!1),t.forEach(c=>c.init(i,n)),o.reduce((c,l)=>Object.assign(c,{[l.name]:l}),{})}function s(){t=t.filter(i=>i.destroy())}return{init:e,destroy:s}}function Vg(n,t,e){const s=n.ownerDocument,a=s.defaultView,i=YZ(a),o=JZ(i),c=dm(),l=WZ(),{mergeOptions:d,optionsAtMedia:u,optionsMediaQueries:f}=i,{on:h,off:m,emit:A}=l,g=O;let p=!1,b,x=d(XZ,Vg.globalOptions),v=d(x),y=[],S,M,P;function B(){const{container:J,slides:te}=v;M=(Lw(J)?n.querySelector(J):J)||n.children[0];const ne=Lw(te)?M.querySelectorAll(te):te;P=[].slice.call(ne||M.children)}function D(J){const te=qZ(n,M,P,s,a,J,l);if(J.loop&&!te.slideLooper.canLoop()){const K=Object.assign({},J,{loop:!1});return D(K)}return te}function L(J,te){p||(x=d(x,J),v=u(x),y=te||y,B(),b=D(v),f([x,...y.map(({options:K})=>K)]).forEach(K=>c.add(K,"change",O)),v.active&&(b.translate.to(b.location.get()),b.animation.init(),b.slidesInView.init(),b.slideFocus.init(G),b.eventHandler.init(G),b.resizeHandler.init(G),b.slidesHandler.init(G),b.options.loop&&b.slideLooper.loop(),M.offsetParent&&P.length&&b.dragHandler.init(G),S=o.init(G,y)))}function O(J,te){const K=R();F(),L(d({startIndex:K},J),te),l.emit("reInit")}function F(){b.dragHandler.destroy(),b.eventStore.clear(),b.translate.clear(),b.slideLooper.clear(),b.resizeHandler.destroy(),b.slidesHandler.destroy(),b.slidesInView.destroy(),b.animation.destroy(),o.destroy(),c.clear()}function _(){p||(p=!0,c.clear(),F(),l.emit("destroy"),l.clear())}function E(J,te,K){!v.active||p||(b.scrollBody.useBaseFriction().useDuration(te===!0?0:v.duration),b.scrollTo.index(J,K||0))}function T(J){const te=b.index.add(1).get();E(te,J,-1)}function w(J){const te=b.index.add(-1).get();E(te,J,1)}function C(){return b.index.add(1).get()!==R()}function j(){return b.index.add(-1).get()!==R()}function N(){return b.scrollSnapList}function I(){return b.scrollProgress.get(b.offsetLocation.get())}function R(){return b.index.get()}function U(){return b.indexPrevious.get()}function V(){return b.slidesInView.get()}function z(){return b.slidesInView.get(!1)}function X(){return S}function Q(){return b}function q(){return n}function H(){return M}function $(){return P}const G={canScrollNext:C,canScrollPrev:j,containerNode:H,internalEngine:Q,destroy:_,off:m,on:h,emit:A,plugins:X,previousScrollSnap:U,reInit:g,rootNode:q,scrollNext:T,scrollPrev:w,scrollProgress:I,scrollSnapList:N,scrollTo:E,selectedScrollSnap:R,slideNodes:$,slidesInView:V,slidesNotInView:z};return L(t,e),setTimeout(()=>l.emit("init"),0),G}Vg.globalOptions=void 0;function Fj(n={},t=[]){const e=k.useRef(n),s=k.useRef(t),[a,i]=k.useState(),[o,c]=k.useState(),l=k.useCallback(()=>{a&&a.reInit(e.current,s.current)},[a]);return k.useEffect(()=>{Dj(e.current,n)||(e.current=n,l())},[n,l]),k.useEffect(()=>{yZ(s.current,t)||(s.current=t,l())},[t,l]),k.useEffect(()=>{if(vZ()&&o){Vg.globalOptions=Fj.globalOptions;const d=Vg(o,e.current,s.current);return i(d),()=>d.destroy()}else i(void 0)},[o,i]),[c,a]}Fj.globalOptions=void 0;const PM=k.createContext(null);function Ix(){const n=k.useContext(PM);if(!n)throw new Error("useCarousel must be used within a <Carousel />");return n}const dc=k.forwardRef(({orientation:n="horizontal",opts:t,setApi:e,plugins:s,className:a,children:i,...o},c)=>{const[l,d]=Fj({...t,axis:n==="horizontal"?"x":"y"},s),[u,f]=k.useState(!1),[h,m]=k.useState(!1),A=k.useCallback(x=>{x&&(f(x.canScrollPrev()),m(x.canScrollNext()))},[]),g=k.useCallback(()=>{d==null||d.scrollPrev()},[d]),p=k.useCallback(()=>{d==null||d.scrollNext()},[d]),b=k.useCallback(x=>{x.key==="ArrowLeft"?(x.preventDefault(),g()):x.key==="ArrowRight"&&(x.preventDefault(),p())},[g,p]);return k.useEffect(()=>{!d||!e||e(d)},[d,e]),k.useEffect(()=>{if(d)return A(d),d.on("reInit",A),d.on("select",A),()=>{d==null||d.off("select",A)}},[d,A]),r.jsx(PM.Provider,{value:{carouselRef:l,api:d,opts:t,orientation:n||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:g,scrollNext:p,canScrollPrev:u,canScrollNext:h},children:r.jsx("div",{ref:c,onKeyDownCapture:b,className:Ue("relative",a),role:"region","aria-roledescription":"carousel",...o,children:i})})});dc.displayName="Carousel";const uc=k.forwardRef(({className:n,...t},e)=>{const{carouselRef:s,orientation:a}=Ix();return r.jsx("div",{ref:s,className:"overflow-hidden",children:r.jsx("div",{ref:e,className:Ue("flex",a==="horizontal"?"-ml-4":"-mt-4 flex-col",n),...t})})});uc.displayName="CarouselContent";const hc=k.forwardRef(({className:n,...t},e)=>{const{orientation:s}=Ix();return r.jsx("div",{ref:e,role:"group","aria-roledescription":"slide",className:Ue("min-w-0 shrink-0 grow-0 basis-full",s==="horizontal"?"pl-4":"pt-4",n),...t})});hc.displayName="CarouselItem";const fc=k.forwardRef(({className:n,variant:t="outline",size:e="icon",...s},a)=>{const{orientation:i,scrollPrev:o,canScrollPrev:c}=Ix();return r.jsxs(fe,{ref:a,variant:t,size:e,className:Ue("absolute  h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",n),disabled:!c,onClick:o,...s,children:[r.jsx(eh,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Previous slide"})]})});fc.displayName="CarouselPrevious";const mc=k.forwardRef(({className:n,variant:t="outline",size:e="icon",...s},a)=>{const{orientation:i,scrollNext:o,canScrollNext:c}=Ix();return r.jsxs(fe,{ref:a,variant:t,size:e,className:Ue("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",n),disabled:!c,onClick:o,...s,children:[r.jsx(c6,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Next slide"})]})});mc.displayName="CarouselNext";const ZZ="https://bicacuatho.azurewebsites.net",eee="FashionHub",DM=()=>{const[n,t]=k.useState(null),[e,s]=k.useState(!0),[a,i]=k.useState(null),[o,c]=k.useState(null),[l,d]=k.useState(0),u=async()=>{try{const m=await fetch(`${ZZ}/api/GiaoDien`);if(!m.ok)throw new Error(await m.text());const g=(await m.json()).find(p=>p.trangThai===1);t(g||null)}catch(m){const A=m instanceof Error?m.message:"Lỗi không xác định.";i(A)}finally{s(!1)}};k.useEffect(()=>{u()},[]),k.useEffect(()=>{if(!o)return;const m=setInterval(()=>{const A=(l+1)%o.scrollSnapList().length;o.scrollTo(A),d(A)},5e3);return()=>clearInterval(m)},[o,l]),k.useEffect(()=>{if(!o)return;const m=()=>d(o.selectedScrollSnap());return o.on("select",m),()=>{o.off("select",m)}},[o]);const f=[n==null?void 0:n.slider1,n==null?void 0:n.slider2,n==null?void 0:n.slider3,n==null?void 0:n.slider4].filter(m=>m&&!m.includes("null")).map((m,A)=>({image:`data:image/png;base64,${m}`,name:`Slider ${A+1}`})),h=r.jsxs(r.Fragment,{children:[r.jsx(fe,{asChild:!0,className:"bg-crocus-500 hover:bg-crocus-600",children:r.jsxs(lt,{to:"/products",children:[r.jsx(sw,{className:"h-4 w-4 mr-2"}),r.jsx("span",{children:"Mua sắm ngay"})]})}),r.jsx(fe,{asChild:!0,variant:"outline",className:"flex gap-2 items-center",children:r.jsxs(lt,{to:"/user/cart",children:[r.jsx(vs,{className:"h-4 w-4"}),r.jsx("span",{children:"Xem giỏ hàng"})]})})]});return r.jsx("section",{className:"relative overflow-hidden",children:r.jsxs("div",{className:"bg-gradient-to-r from-crocus-500/20 to-crocus-200/40 rounded-xl p-8 md:p-16 flex flex-col md:flex-row items-center",children:[r.jsxs("div",{className:"md:w-1/2 space-y-6 text-center md:text-left",children:[r.jsxs("h1",{className:"text-4xl md:text-5xl font-bold leading-tight",children:["Khám phá bộ sưu tập"," ",r.jsx("span",{className:"bg-gradient-to-r from-crocus-500 to-crocus-700 bg-clip-text text-transparent",children:eee})," ","2025"]}),r.jsx("p",{className:"text-lg text-gray-700 max-w-lg",children:"Nâng tầm phong cách của bạn với sản phẩm hot nhất năm 2025. Bộ sưu tập mới kết hợp sự thanh lịch với thiết kế đương đại."}),r.jsx("div",{className:"flex flex-wrap gap-4 justify-center md:justify-start",children:h})]}),r.jsx("div",{className:"md:w-1/2 mt-8 md:mt-0",children:e?r.jsx("div",{className:"w-full h-[300px] bg-gray-200 rounded-lg flex items-center justify-center",children:r.jsx("p",{className:"text-gray-500",children:"Đang tải slider..."})}):a||!n||f.length===0?r.jsx("div",{className:"w-full h-[300px] bg-gray-200 rounded-lg flex items-center justify-center",children:r.jsx("p",{className:"text-gray-500",children:a||"Không có giao diện hoạt động."})}):r.jsxs(dc,{className:"w-full",setApi:c,opts:{loop:!0},children:[r.jsx(uc,{children:f.map((m,A)=>r.jsx(hc,{className:"md:basis-1/1",children:r.jsxs("div",{className:"relative rounded-lg overflow-hidden",children:[r.jsx("img",{src:m.image,alt:m.name,className:"w-full h-[300px] object-cover",onError:g=>{g.currentTarget.src="https://via.placeholder.com/600x300?text=Image+Error"}}),r.jsx("div",{className:"absolute inset-0 flex flex-col justify-end p-4"})]})},A))}),r.jsx(fc,{className:"left-2"}),r.jsx(mc,{className:"right-2"})]})})]})})};/*!
* sweetalert2 v11.22.4
* Released under the MIT License.
*/function IM(n,t,e){if(typeof n=="function"?n===t:n.has(t))return arguments.length<3?t:e;throw new TypeError("Private element is not present on this object")}function tee(n,t){if(t.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function W4(n,t){return n.get(IM(n,t))}function nee(n,t,e){tee(n,t),t.set(n,e)}function ree(n,t,e){return n.set(IM(n,t),e),e}const see=100,tn={},aee=()=>{tn.previousActiveElement instanceof HTMLElement?(tn.previousActiveElement.focus(),tn.previousActiveElement=null):document.body&&document.body.focus()},iee=n=>new Promise(t=>{if(!n)return t();const e=window.scrollX,s=window.scrollY;tn.restoreFocusTimeout=setTimeout(()=>{aee(),t()},see),window.scrollTo(e,s)}),OM="swal2-",oee=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],qe=oee.reduce((n,t)=>(n[t]=OM+t,n),{}),lee=["success","warning","info","question","error"],zg=lee.reduce((n,t)=>(n[t]=OM+t,n),{}),LM="SweetAlert2:",Rj=n=>n.charAt(0).toUpperCase()+n.slice(1),Zs=n=>{console.warn(`${LM} ${typeof n=="object"?n.join(" "):n}`)},Id=n=>{console.error(`${LM} ${n}`)},X4=[],cee=n=>{X4.includes(n)||(X4.push(n),Zs(n))},FM=(n,t=null)=>{cee(`"${n}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},Ox=n=>typeof n=="function"?n():n,Uj=n=>n&&typeof n.toPromise=="function",sp=n=>Uj(n)?n.toPromise():Promise.resolve(n),Hj=n=>n&&Promise.resolve(n)===n,ra=()=>document.body.querySelector(`.${qe.container}`),ap=n=>{const t=ra();return t?t.querySelector(n):null},Ua=n=>ap(`.${n}`),Wn=()=>Ua(qe.popup),hh=()=>Ua(qe.icon),dee=()=>Ua(qe["icon-content"]),RM=()=>Ua(qe.title),$j=()=>Ua(qe["html-container"]),UM=()=>Ua(qe.image),Qj=()=>Ua(qe["progress-steps"]),Lx=()=>Ua(qe["validation-message"]),io=()=>ap(`.${qe.actions} .${qe.confirm}`),fh=()=>ap(`.${qe.actions} .${qe.cancel}`),Od=()=>ap(`.${qe.actions} .${qe.deny}`),uee=()=>Ua(qe["input-label"]),mh=()=>ap(`.${qe.loader}`),ip=()=>Ua(qe.actions),HM=()=>Ua(qe.footer),Fx=()=>Ua(qe["timer-progress-bar"]),Vj=()=>Ua(qe.close),hee=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,zj=()=>{const n=Wn();if(!n)return[];const t=n.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),e=Array.from(t).sort((i,o)=>{const c=parseInt(i.getAttribute("tabindex")||"0"),l=parseInt(o.getAttribute("tabindex")||"0");return c>l?1:c<l?-1:0}),s=n.querySelectorAll(hee),a=Array.from(s).filter(i=>i.getAttribute("tabindex")!=="-1");return[...new Set(e.concat(a))].filter(i=>va(i))},Kj=()=>Qo(document.body,qe.shown)&&!Qo(document.body,qe["toast-shown"])&&!Qo(document.body,qe["no-backdrop"]),Rx=()=>{const n=Wn();return n?Qo(n,qe.toast):!1},fee=()=>{const n=Wn();return n?n.hasAttribute("data-loading"):!1},Ha=(n,t)=>{if(n.textContent="",t){const s=new DOMParser().parseFromString(t,"text/html"),a=s.querySelector("head");a&&Array.from(a.childNodes).forEach(o=>{n.appendChild(o)});const i=s.querySelector("body");i&&Array.from(i.childNodes).forEach(o=>{o instanceof HTMLVideoElement||o instanceof HTMLAudioElement?n.appendChild(o.cloneNode(!0)):n.appendChild(o)})}},Qo=(n,t)=>{if(!t)return!1;const e=t.split(/\s+/);for(let s=0;s<e.length;s++)if(!n.classList.contains(e[s]))return!1;return!0},mee=(n,t)=>{Array.from(n.classList).forEach(e=>{!Object.values(qe).includes(e)&&!Object.values(zg).includes(e)&&!Object.values(t.showClass||{}).includes(e)&&n.classList.remove(e)})},Oa=(n,t,e)=>{if(mee(n,t),!t.customClass)return;const s=t.customClass[e];if(s){if(typeof s!="string"&&!s.forEach){Zs(`Invalid type of customClass.${e}! Expected string or iterable object, got "${typeof s}"`);return}er(n,s)}},Ux=(n,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return n.querySelector(`.${qe.popup} > .${qe[t]}`);case"checkbox":return n.querySelector(`.${qe.popup} > .${qe.checkbox} input`);case"radio":return n.querySelector(`.${qe.popup} > .${qe.radio} input:checked`)||n.querySelector(`.${qe.popup} > .${qe.radio} input:first-child`);case"range":return n.querySelector(`.${qe.popup} > .${qe.range} input`);default:return n.querySelector(`.${qe.popup} > .${qe.input}`)}},$M=n=>{if(n.focus(),n.type!=="file"){const t=n.value;n.value="",n.value=t}},QM=(n,t,e)=>{!n||!t||(typeof t=="string"&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(s=>{Array.isArray(n)?n.forEach(a=>{e?a.classList.add(s):a.classList.remove(s)}):e?n.classList.add(s):n.classList.remove(s)}))},er=(n,t)=>{QM(n,t,!0)},Za=(n,t)=>{QM(n,t,!1)},Ml=(n,t)=>{const e=Array.from(n.children);for(let s=0;s<e.length;s++){const a=e[s];if(a instanceof HTMLElement&&Qo(a,t))return a}},Xc=(n,t,e)=>{e===`${parseInt(e)}`&&(e=parseInt(e)),e||parseInt(e)===0?n.style.setProperty(t,typeof e=="number"?`${e}px`:e):n.style.removeProperty(t)},ys=(n,t="flex")=>{n&&(n.style.display=t)},Us=n=>{n&&(n.style.display="none")},Gj=(n,t="block")=>{n&&new MutationObserver(()=>{op(n,n.innerHTML,t)}).observe(n,{childList:!0,subtree:!0})},Y4=(n,t,e,s)=>{const a=n.querySelector(t);a&&a.style.setProperty(e,s)},op=(n,t,e="flex")=>{t?ys(n,e):Us(n)},va=n=>!!(n&&(n.offsetWidth||n.offsetHeight||n.getClientRects().length)),pee=()=>!va(io())&&!va(Od())&&!va(fh()),Rw=n=>n.scrollHeight>n.clientHeight,Aee=(n,t)=>{let e=n;for(;e&&e!==t;){if(Rw(e))return!0;e=e.parentElement}return!1},VM=n=>{const t=window.getComputedStyle(n),e=parseFloat(t.getPropertyValue("animation-duration")||"0"),s=parseFloat(t.getPropertyValue("transition-duration")||"0");return e>0||s>0},qj=(n,t=!1)=>{const e=Fx();e&&va(e)&&(t&&(e.style.transition="none",e.style.width="100%"),setTimeout(()=>{e.style.transition=`width ${n/1e3}s linear`,e.style.width="0%"},10))},gee=()=>{const n=Fx();if(!n)return;const t=parseInt(window.getComputedStyle(n).width);n.style.removeProperty("transition"),n.style.width="100%";const e=parseInt(window.getComputedStyle(n).width),s=t/e*100;n.style.width=`${s}%`},xee=()=>typeof window>"u"||typeof document>"u",bee=`
 <div aria-labelledby="${qe.title}" aria-describedby="${qe["html-container"]}" class="${qe.popup}" tabindex="-1">
   <button type="button" class="${qe.close}"></button>
   <ul class="${qe["progress-steps"]}"></ul>
   <div class="${qe.icon}"></div>
   <img class="${qe.image}" />
   <h2 class="${qe.title}" id="${qe.title}"></h2>
   <div class="${qe["html-container"]}" id="${qe["html-container"]}"></div>
   <input class="${qe.input}" id="${qe.input}" />
   <input type="file" class="${qe.file}" />
   <div class="${qe.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${qe.select}" id="${qe.select}"></select>
   <div class="${qe.radio}"></div>
   <label class="${qe.checkbox}">
     <input type="checkbox" id="${qe.checkbox}" />
     <span class="${qe.label}"></span>
   </label>
   <textarea class="${qe.textarea}" id="${qe.textarea}"></textarea>
   <div class="${qe["validation-message"]}" id="${qe["validation-message"]}"></div>
   <div class="${qe.actions}">
     <div class="${qe.loader}"></div>
     <button type="button" class="${qe.confirm}"></button>
     <button type="button" class="${qe.deny}"></button>
     <button type="button" class="${qe.cancel}"></button>
   </div>
   <div class="${qe.footer}"></div>
   <div class="${qe["timer-progress-bar-container"]}">
     <div class="${qe["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),vee=()=>{const n=ra();return n?(n.remove(),Za([document.documentElement,document.body],[qe["no-backdrop"],qe["toast-shown"],qe["has-column"]]),!0):!1},wc=()=>{tn.currentInstance.resetValidationMessage()},yee=()=>{const n=Wn(),t=Ml(n,qe.input),e=Ml(n,qe.file),s=n.querySelector(`.${qe.range} input`),a=n.querySelector(`.${qe.range} output`),i=Ml(n,qe.select),o=n.querySelector(`.${qe.checkbox} input`),c=Ml(n,qe.textarea);t.oninput=wc,e.onchange=wc,i.onchange=wc,o.onchange=wc,c.oninput=wc,s.oninput=()=>{wc(),a.value=s.value},s.onchange=()=>{wc(),a.value=s.value}},wee=n=>typeof n=="string"?document.querySelector(n):n,jee=n=>{const t=Wn();t.setAttribute("role",n.toast?"alert":"dialog"),t.setAttribute("aria-live",n.toast?"polite":"assertive"),n.toast||t.setAttribute("aria-modal","true")},Cee=n=>{window.getComputedStyle(n).direction==="rtl"&&er(ra(),qe.rtl)},Nee=n=>{const t=vee();if(xee()){Id("SweetAlert2 requires document to initialize");return}const e=document.createElement("div");e.className=qe.container,t&&er(e,qe["no-transition"]),Ha(e,bee),e.dataset.swal2Theme=n.theme;const s=wee(n.target);s.appendChild(e),n.topLayer&&(e.setAttribute("popover",""),e.showPopover()),jee(n),Cee(s),yee()},Wj=(n,t)=>{n instanceof HTMLElement?t.appendChild(n):typeof n=="object"?See(n,t):n&&Ha(t,n)},See=(n,t)=>{n.jquery?Tee(t,n):Ha(t,n.toString())},Tee=(n,t)=>{if(n.textContent="",0 in t)for(let e=0;e in t;e++)n.appendChild(t[e].cloneNode(!0));else n.appendChild(t.cloneNode(!0))},kee=(n,t)=>{const e=ip(),s=mh();!e||!s||(!t.showConfirmButton&&!t.showDenyButton&&!t.showCancelButton?Us(e):ys(e),Oa(e,t,"actions"),_ee(e,s,t),Ha(s,t.loaderHtml||""),Oa(s,t,"loader"))};function _ee(n,t,e){const s=io(),a=Od(),i=fh();!s||!a||!i||(bv(s,"confirm",e),bv(a,"deny",e),bv(i,"cancel",e),Bee(s,a,i,e),e.reverseButtons&&(e.toast?(n.insertBefore(i,s),n.insertBefore(a,s)):(n.insertBefore(i,t),n.insertBefore(a,t),n.insertBefore(s,t))))}function Bee(n,t,e,s){if(!s.buttonsStyling){Za([n,t,e],qe.styled);return}er([n,t,e],qe.styled),s.confirmButtonColor&&n.style.setProperty("--swal2-confirm-button-background-color",s.confirmButtonColor),s.denyButtonColor&&t.style.setProperty("--swal2-deny-button-background-color",s.denyButtonColor),s.cancelButtonColor&&e.style.setProperty("--swal2-cancel-button-background-color",s.cancelButtonColor),xv(n),xv(t),xv(e)}function xv(n){const t=window.getComputedStyle(n);if(t.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const e=t.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");n.style.setProperty("--swal2-action-button-focus-box-shadow",t.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${e}`))}function bv(n,t,e){const s=Rj(t);op(n,e[`show${s}Button`],"inline-block"),Ha(n,e[`${t}ButtonText`]||""),n.setAttribute("aria-label",e[`${t}ButtonAriaLabel`]||""),n.className=qe[t],Oa(n,e,`${t}Button`)}const Eee=(n,t)=>{const e=Vj();e&&(Ha(e,t.closeButtonHtml||""),Oa(e,t,"closeButton"),op(e,t.showCloseButton),e.setAttribute("aria-label",t.closeButtonAriaLabel||""))},Mee=(n,t)=>{const e=ra();e&&(Pee(e,t.backdrop),Dee(e,t.position),Iee(e,t.grow),Oa(e,t,"container"))};function Pee(n,t){typeof t=="string"?n.style.background=t:t||er([document.documentElement,document.body],qe["no-backdrop"])}function Dee(n,t){t&&(t in qe?er(n,qe[t]):(Zs('The "position" parameter is not valid, defaulting to "center"'),er(n,qe.center)))}function Iee(n,t){t&&er(n,qe[`grow-${t}`])}var br={innerParams:new WeakMap,domCache:new WeakMap};const Oee=["input","file","range","select","radio","checkbox","textarea"],Lee=(n,t)=>{const e=Wn();if(!e)return;const s=br.innerParams.get(n),a=!s||t.input!==s.input;Oee.forEach(i=>{const o=Ml(e,qe[i]);o&&(Uee(i,t.inputAttributes),o.className=qe[i],a&&Us(o))}),t.input&&(a&&Fee(t),Hee(t))},Fee=n=>{if(!n.input)return;if(!qr[n.input]){Id(`Unexpected type of input! Expected ${Object.keys(qr).join(" | ")}, got "${n.input}"`);return}const t=zM(n.input);if(!t)return;const e=qr[n.input](t,n);ys(t),n.inputAutoFocus&&setTimeout(()=>{$M(e)})},Ree=n=>{for(let t=0;t<n.attributes.length;t++){const e=n.attributes[t].name;["id","type","value","style"].includes(e)||n.removeAttribute(e)}},Uee=(n,t)=>{const e=Wn();if(!e)return;const s=Ux(e,n);if(s){Ree(s);for(const a in t)s.setAttribute(a,t[a])}},Hee=n=>{if(!n.input)return;const t=zM(n.input);t&&Oa(t,n,"input")},Xj=(n,t)=>{!n.placeholder&&t.inputPlaceholder&&(n.placeholder=t.inputPlaceholder)},lp=(n,t,e)=>{if(e.inputLabel){const s=document.createElement("label"),a=qe["input-label"];s.setAttribute("for",n.id),s.className=a,typeof e.customClass=="object"&&er(s,e.customClass.inputLabel),s.innerText=e.inputLabel,t.insertAdjacentElement("beforebegin",s)}},zM=n=>{const t=Wn();if(t)return Ml(t,qe[n]||qe.input)},Kg=(n,t)=>{["string","number"].includes(typeof t)?n.value=`${t}`:Hj(t)||Zs(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},qr={};qr.text=qr.email=qr.password=qr.number=qr.tel=qr.url=qr.search=qr.date=qr["datetime-local"]=qr.time=qr.week=qr.month=(n,t)=>(Kg(n,t.inputValue),lp(n,n,t),Xj(n,t),n.type=t.input,n);qr.file=(n,t)=>(lp(n,n,t),Xj(n,t),n);qr.range=(n,t)=>{const e=n.querySelector("input"),s=n.querySelector("output");return Kg(e,t.inputValue),e.type=t.input,Kg(s,t.inputValue),lp(e,n,t),n};qr.select=(n,t)=>{if(n.textContent="",t.inputPlaceholder){const e=document.createElement("option");Ha(e,t.inputPlaceholder),e.value="",e.disabled=!0,e.selected=!0,n.appendChild(e)}return lp(n,n,t),n};qr.radio=n=>(n.textContent="",n);qr.checkbox=(n,t)=>{const e=Ux(Wn(),"checkbox");e.value="1",e.checked=!!t.inputValue;const s=n.querySelector("span");return Ha(s,t.inputPlaceholder||t.inputLabel),e};qr.textarea=(n,t)=>{Kg(n,t.inputValue),Xj(n,t),lp(n,n,t);const e=s=>parseInt(window.getComputedStyle(s).marginLeft)+parseInt(window.getComputedStyle(s).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const s=parseInt(window.getComputedStyle(Wn()).width),a=()=>{if(!document.body.contains(n))return;const i=n.offsetWidth+e(n);i>s?Wn().style.width=`${i}px`:Xc(Wn(),"width",t.width)};new MutationObserver(a).observe(n,{attributes:!0,attributeFilter:["style"]})}}),n};const $ee=(n,t)=>{const e=$j();e&&(Gj(e),Oa(e,t,"htmlContainer"),t.html?(Wj(t.html,e),ys(e,"block")):t.text?(e.textContent=t.text,ys(e,"block")):Us(e),Lee(n,t))},Qee=(n,t)=>{const e=HM();e&&(Gj(e),op(e,t.footer,"block"),t.footer&&Wj(t.footer,e),Oa(e,t,"footer"))},Vee=(n,t)=>{const e=br.innerParams.get(n),s=hh();if(!s)return;if(e&&t.icon===e.icon){Z4(s,t),J4(s,t);return}if(!t.icon&&!t.iconHtml){Us(s);return}if(t.icon&&Object.keys(zg).indexOf(t.icon)===-1){Id(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),Us(s);return}ys(s),Z4(s,t),J4(s,t),er(s,t.showClass&&t.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",KM)},J4=(n,t)=>{for(const[e,s]of Object.entries(zg))t.icon!==e&&Za(n,s);er(n,t.icon&&zg[t.icon]),Gee(n,t),KM(),Oa(n,t,"icon")},KM=()=>{const n=Wn();if(!n)return;const t=window.getComputedStyle(n).getPropertyValue("background-color"),e=n.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let s=0;s<e.length;s++)e[s].style.backgroundColor=t},zee=n=>`
  ${n.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${n.animation?'<div class="swal2-success-fix"></div>':""}
  ${n.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,Kee=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Z4=(n,t)=>{if(!t.icon&&!t.iconHtml)return;let e=n.innerHTML,s="";t.iconHtml?s=eS(t.iconHtml):t.icon==="success"?(s=zee(t),e=e.replace(/ style=".*?"/g,"")):t.icon==="error"?s=Kee:t.icon&&(s=eS({question:"?",warning:"!",info:"i"}[t.icon])),e.trim()!==s.trim()&&Ha(n,s)},Gee=(n,t)=>{if(t.iconColor){n.style.color=t.iconColor,n.style.borderColor=t.iconColor;for(const e of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Y4(n,e,"background-color",t.iconColor);Y4(n,".swal2-success-ring","border-color",t.iconColor)}},eS=n=>`<div class="${qe["icon-content"]}">${n}</div>`,qee=(n,t)=>{const e=UM();if(e){if(!t.imageUrl){Us(e);return}ys(e,""),e.setAttribute("src",t.imageUrl),e.setAttribute("alt",t.imageAlt||""),Xc(e,"width",t.imageWidth),Xc(e,"height",t.imageHeight),e.className=qe.image,Oa(e,t,"image")}};let Yj=!1,GM=0,qM=0,WM=0,XM=0;const Wee=n=>{n.addEventListener("mousedown",Gg),document.body.addEventListener("mousemove",qg),n.addEventListener("mouseup",Wg),n.addEventListener("touchstart",Gg),document.body.addEventListener("touchmove",qg),n.addEventListener("touchend",Wg)},Xee=n=>{n.removeEventListener("mousedown",Gg),document.body.removeEventListener("mousemove",qg),n.removeEventListener("mouseup",Wg),n.removeEventListener("touchstart",Gg),document.body.removeEventListener("touchmove",qg),n.removeEventListener("touchend",Wg)},Gg=n=>{const t=Wn();if(n.target===t||hh().contains(n.target)){Yj=!0;const e=YM(n);GM=e.clientX,qM=e.clientY,WM=parseInt(t.style.insetInlineStart)||0,XM=parseInt(t.style.insetBlockStart)||0,er(t,"swal2-dragging")}},qg=n=>{const t=Wn();if(Yj){let{clientX:e,clientY:s}=YM(n);t.style.insetInlineStart=`${WM+(e-GM)}px`,t.style.insetBlockStart=`${XM+(s-qM)}px`}},Wg=()=>{const n=Wn();Yj=!1,Za(n,"swal2-dragging")},YM=n=>{let t=0,e=0;return n.type.startsWith("mouse")?(t=n.clientX,e=n.clientY):n.type.startsWith("touch")&&(t=n.touches[0].clientX,e=n.touches[0].clientY),{clientX:t,clientY:e}},Yee=(n,t)=>{const e=ra(),s=Wn();if(!(!e||!s)){if(t.toast){Xc(e,"width",t.width),s.style.width="100%";const a=mh();a&&s.insertBefore(a,hh())}else Xc(s,"width",t.width);Xc(s,"padding",t.padding),t.color&&(s.style.color=t.color),t.background&&(s.style.background=t.background),Us(Lx()),Jee(s,t),t.draggable&&!t.toast?(er(s,qe.draggable),Wee(s)):(Za(s,qe.draggable),Xee(s))}},Jee=(n,t)=>{const e=t.showClass||{};n.className=`${qe.popup} ${va(n)?e.popup:""}`,t.toast?(er([document.documentElement,document.body],qe["toast-shown"]),er(n,qe.toast)):er(n,qe.modal),Oa(n,t,"popup"),typeof t.customClass=="string"&&er(n,t.customClass),t.icon&&er(n,qe[`icon-${t.icon}`])},Zee=(n,t)=>{const e=Qj();if(!e)return;const{progressSteps:s,currentProgressStep:a}=t;if(!s||s.length===0||a===void 0){Us(e);return}ys(e),e.textContent="",a>=s.length&&Zs("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),s.forEach((i,o)=>{const c=ete(i);if(e.appendChild(c),o===a&&er(c,qe["active-progress-step"]),o!==s.length-1){const l=tte(t);e.appendChild(l)}})},ete=n=>{const t=document.createElement("li");return er(t,qe["progress-step"]),Ha(t,n),t},tte=n=>{const t=document.createElement("li");return er(t,qe["progress-step-line"]),n.progressStepsDistance&&Xc(t,"width",n.progressStepsDistance),t},nte=(n,t)=>{const e=RM();e&&(Gj(e),op(e,t.title||t.titleText,"block"),t.title&&Wj(t.title,e),t.titleText&&(e.innerText=t.titleText),Oa(e,t,"title"))},JM=(n,t)=>{Yee(n,t),Mee(n,t),Zee(n,t),Vee(n,t),qee(n,t),nte(n,t),Eee(n,t),$ee(n,t),kee(n,t),Qee(n,t);const e=Wn();typeof t.didRender=="function"&&e&&t.didRender(e),tn.eventEmitter.emit("didRender",e)},rte=()=>va(Wn()),ZM=()=>{var n;return(n=io())===null||n===void 0?void 0:n.click()},ste=()=>{var n;return(n=Od())===null||n===void 0?void 0:n.click()},ate=()=>{var n;return(n=fh())===null||n===void 0?void 0:n.click()},ph=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),eP=n=>{n.keydownTarget&&n.keydownHandlerAdded&&(n.keydownTarget.removeEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!1)},ite=(n,t,e)=>{eP(n),t.toast||(n.keydownHandler=s=>lte(t,s,e),n.keydownTarget=t.keydownListenerCapture?window:Wn(),n.keydownListenerCapture=t.keydownListenerCapture,n.keydownTarget.addEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!0)},Uw=(n,t)=>{var e;const s=zj();if(s.length){n=n+t,n===-2&&(n=s.length-1),n===s.length?n=0:n===-1&&(n=s.length-1),s[n].focus();return}(e=Wn())===null||e===void 0||e.focus()},tP=["ArrowRight","ArrowDown"],ote=["ArrowLeft","ArrowUp"],lte=(n,t,e)=>{n&&(t.isComposing||t.keyCode===229||(n.stopKeydownPropagation&&t.stopPropagation(),t.key==="Enter"?cte(t,n):t.key==="Tab"?dte(t):[...tP,...ote].includes(t.key)?ute(t.key):t.key==="Escape"&&hte(t,n,e)))},cte=(n,t)=>{if(!Ox(t.allowEnterKey))return;const e=Ux(Wn(),t.input);if(n.target&&e&&n.target instanceof HTMLElement&&n.target.outerHTML===e.outerHTML){if(["textarea","file"].includes(t.input))return;ZM(),n.preventDefault()}},dte=n=>{const t=n.target,e=zj();let s=-1;for(let a=0;a<e.length;a++)if(t===e[a]){s=a;break}n.shiftKey?Uw(s,-1):Uw(s,1),n.stopPropagation(),n.preventDefault()},ute=n=>{const t=ip(),e=io(),s=Od(),a=fh();if(!t||!e||!s||!a)return;const i=[e,s,a];if(document.activeElement instanceof HTMLElement&&!i.includes(document.activeElement))return;const o=tP.includes(n)?"nextElementSibling":"previousElementSibling";let c=document.activeElement;if(c){for(let l=0;l<t.children.length;l++){if(c=c[o],!c)return;if(c instanceof HTMLButtonElement&&va(c))break}c instanceof HTMLButtonElement&&c.focus()}},hte=(n,t,e)=>{n.preventDefault(),Ox(t.allowEscapeKey)&&e(ph.esc)};var Fu={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const fte=()=>{const n=ra();Array.from(document.body.children).forEach(e=>{e.contains(n)||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")||""),e.setAttribute("aria-hidden","true"))})},nP=()=>{Array.from(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},rP=typeof window<"u"&&!!window.GestureEvent,mte=()=>{if(rP&&!Qo(document.body,qe.iosfix)){const n=document.body.scrollTop;document.body.style.top=`${n*-1}px`,er(document.body,qe.iosfix),pte()}},pte=()=>{const n=ra();if(!n)return;let t;n.ontouchstart=e=>{t=Ate(e)},n.ontouchmove=e=>{t&&(e.preventDefault(),e.stopPropagation())}},Ate=n=>{const t=n.target,e=ra(),s=$j();return!e||!s||gte(n)||xte(n)?!1:t===e||!Rw(e)&&t instanceof HTMLElement&&!Aee(t,s)&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"&&!(Rw(s)&&s.contains(t))},gte=n=>n.touches&&n.touches.length&&n.touches[0].touchType==="stylus",xte=n=>n.touches&&n.touches.length>1,bte=()=>{if(Qo(document.body,qe.iosfix)){const n=parseInt(document.body.style.top,10);Za(document.body,qe.iosfix),document.body.style.top="",document.body.scrollTop=n*-1}},vte=()=>{const n=document.createElement("div");n.className=qe["scrollbar-measure"],document.body.appendChild(n);const t=n.getBoundingClientRect().width-n.clientWidth;return document.body.removeChild(n),t};let Au=null;const yte=n=>{Au===null&&(document.body.scrollHeight>window.innerHeight||n==="scroll")&&(Au=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Au+vte()}px`)},wte=()=>{Au!==null&&(document.body.style.paddingRight=`${Au}px`,Au=null)};function sP(n,t,e,s){Rx()?tS(n,s):(iee(e).then(()=>tS(n,s)),eP(tn)),rP?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),Kj()&&(wte(),bte(),nP()),jte()}function jte(){Za([document.documentElement,document.body],[qe.shown,qe["height-auto"],qe["no-backdrop"],qe["toast-shown"]])}function Pl(n){n=Nte(n);const t=Fu.swalPromiseResolve.get(this),e=Cte(this);this.isAwaitingPromise?n.isDismissed||(cp(this),t(n)):e&&t(n)}const Cte=n=>{const t=Wn();if(!t)return!1;const e=br.innerParams.get(n);if(!e||Qo(t,e.hideClass.popup))return!1;Za(t,e.showClass.popup),er(t,e.hideClass.popup);const s=ra();return Za(s,e.showClass.backdrop),er(s,e.hideClass.backdrop),Ste(n,t,e),!0};function aP(n){const t=Fu.swalPromiseReject.get(this);cp(this),t&&t(n)}const cp=n=>{n.isAwaitingPromise&&(delete n.isAwaitingPromise,br.innerParams.get(n)||n._destroy())},Nte=n=>typeof n>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},n),Ste=(n,t,e)=>{var s;const a=ra(),i=VM(t);typeof e.willClose=="function"&&e.willClose(t),(s=tn.eventEmitter)===null||s===void 0||s.emit("willClose",t),i?Tte(n,t,a,e.returnFocus,e.didClose):sP(n,a,e.returnFocus,e.didClose)},Tte=(n,t,e,s,a)=>{tn.swalCloseEventFinishedCallback=sP.bind(null,n,e,s,a);const i=function(o){if(o.target===t){var c;(c=tn.swalCloseEventFinishedCallback)===null||c===void 0||c.call(tn),delete tn.swalCloseEventFinishedCallback,t.removeEventListener("animationend",i),t.removeEventListener("transitionend",i)}};t.addEventListener("animationend",i),t.addEventListener("transitionend",i)},tS=(n,t)=>{setTimeout(()=>{var e;typeof t=="function"&&t.bind(n.params)(),(e=tn.eventEmitter)===null||e===void 0||e.emit("didClose"),n._destroy&&n._destroy()})},Ru=n=>{let t=Wn();if(t||new Ce,t=Wn(),!t)return;const e=mh();Rx()?Us(hh()):kte(t,n),ys(e),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},kte=(n,t)=>{const e=ip(),s=mh();!e||!s||(!t&&va(io())&&(t=io()),ys(e),t&&(Us(t),s.setAttribute("data-button-to-replace",t.className),e.insertBefore(s,t)),er([n,e],qe.loading))},_te=(n,t)=>{t.input==="select"||t.input==="radio"?Dte(n,t):["text","email","number","tel","textarea"].some(e=>e===t.input)&&(Uj(t.inputValue)||Hj(t.inputValue))&&(Ru(io()),Ite(n,t))},Bte=(n,t)=>{const e=n.getInput();if(!e)return null;switch(t.input){case"checkbox":return Ete(e);case"radio":return Mte(e);case"file":return Pte(e);default:return t.inputAutoTrim?e.value.trim():e.value}},Ete=n=>n.checked?1:0,Mte=n=>n.checked?n.value:null,Pte=n=>n.files&&n.files.length?n.getAttribute("multiple")!==null?n.files:n.files[0]:null,Dte=(n,t)=>{const e=Wn();if(!e)return;const s=a=>{t.input==="select"?Ote(e,Xg(a),t):t.input==="radio"&&Lte(e,Xg(a),t)};Uj(t.inputOptions)||Hj(t.inputOptions)?(Ru(io()),sp(t.inputOptions).then(a=>{n.hideLoading(),s(a)})):typeof t.inputOptions=="object"?s(t.inputOptions):Id(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof t.inputOptions}`)},Ite=(n,t)=>{const e=n.getInput();e&&(Us(e),sp(t.inputValue).then(s=>{e.value=t.input==="number"?`${parseFloat(s)||0}`:`${s}`,ys(e),e.focus(),n.hideLoading()}).catch(s=>{Id(`Error in inputValue promise: ${s}`),e.value="",ys(e),e.focus(),n.hideLoading()}))};function Ote(n,t,e){const s=Ml(n,qe.select);if(!s)return;const a=(i,o,c)=>{const l=document.createElement("option");l.value=c,Ha(l,o),l.selected=iP(c,e.inputValue),i.appendChild(l)};t.forEach(i=>{const o=i[0],c=i[1];if(Array.isArray(c)){const l=document.createElement("optgroup");l.label=o,l.disabled=!1,s.appendChild(l),c.forEach(d=>a(l,d[1],d[0]))}else a(s,c,o)}),s.focus()}function Lte(n,t,e){const s=Ml(n,qe.radio);if(!s)return;t.forEach(i=>{const o=i[0],c=i[1],l=document.createElement("input"),d=document.createElement("label");l.type="radio",l.name=qe.radio,l.value=o,iP(o,e.inputValue)&&(l.checked=!0);const u=document.createElement("span");Ha(u,c),u.className=qe.label,d.appendChild(l),d.appendChild(u),s.appendChild(d)});const a=s.querySelectorAll("input");a.length&&a[0].focus()}const Xg=n=>{const t=[];return n instanceof Map?n.forEach((e,s)=>{let a=e;typeof a=="object"&&(a=Xg(a)),t.push([s,a])}):Object.keys(n).forEach(e=>{let s=n[e];typeof s=="object"&&(s=Xg(s)),t.push([e,s])}),t},iP=(n,t)=>!!t&&t.toString()===n.toString(),Fte=n=>{const t=br.innerParams.get(n);n.disableButtons(),t.input?oP(n,"confirm"):Zj(n,!0)},Rte=n=>{const t=br.innerParams.get(n);n.disableButtons(),t.returnInputValueOnDeny?oP(n,"deny"):Jj(n,!1)},Ute=(n,t)=>{n.disableButtons(),t(ph.cancel)},oP=(n,t)=>{const e=br.innerParams.get(n);if(!e.input){Id(`The "input" parameter is needed to be set when using returnInputValueOn${Rj(t)}`);return}const s=n.getInput(),a=Bte(n,e);e.inputValidator?Hte(n,a,t):s&&!s.checkValidity()?(n.enableButtons(),n.showValidationMessage(e.validationMessage||s.validationMessage)):t==="deny"?Jj(n,a):Zj(n,a)},Hte=(n,t,e)=>{const s=br.innerParams.get(n);n.disableInput(),Promise.resolve().then(()=>sp(s.inputValidator(t,s.validationMessage))).then(i=>{n.enableButtons(),n.enableInput(),i?n.showValidationMessage(i):e==="deny"?Jj(n,t):Zj(n,t)})},Jj=(n,t)=>{const e=br.innerParams.get(n||void 0);e.showLoaderOnDeny&&Ru(Od()),e.preDeny?(n.isAwaitingPromise=!0,Promise.resolve().then(()=>sp(e.preDeny(t,e.validationMessage))).then(a=>{a===!1?(n.hideLoading(),cp(n)):n.close({isDenied:!0,value:typeof a>"u"?t:a})}).catch(a=>lP(n||void 0,a))):n.close({isDenied:!0,value:t})},nS=(n,t)=>{n.close({isConfirmed:!0,value:t})},lP=(n,t)=>{n.rejectPromise(t)},Zj=(n,t)=>{const e=br.innerParams.get(n||void 0);e.showLoaderOnConfirm&&Ru(),e.preConfirm?(n.resetValidationMessage(),n.isAwaitingPromise=!0,Promise.resolve().then(()=>sp(e.preConfirm(t,e.validationMessage))).then(a=>{va(Lx())||a===!1?(n.hideLoading(),cp(n)):nS(n,typeof a>"u"?t:a)}).catch(a=>lP(n||void 0,a))):nS(n,t)};function Yg(){const n=br.innerParams.get(this);if(!n)return;const t=br.domCache.get(this);Us(t.loader),Rx()?n.icon&&ys(hh()):$te(t),Za([t.popup,t.actions],qe.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const $te=n=>{const t=n.popup.getElementsByClassName(n.loader.getAttribute("data-button-to-replace"));t.length?ys(t[0],"inline-block"):pee()&&Us(n.actions)};function cP(){const n=br.innerParams.get(this),t=br.domCache.get(this);return t?Ux(t.popup,n.input):null}function dP(n,t,e){const s=br.domCache.get(n);t.forEach(a=>{s[a].disabled=e})}function uP(n,t){const e=Wn();if(!(!e||!n))if(n.type==="radio"){const s=e.querySelectorAll(`[name="${qe.radio}"]`);for(let a=0;a<s.length;a++)s[a].disabled=t}else n.disabled=t}function hP(){dP(this,["confirmButton","denyButton","cancelButton"],!1)}function fP(){dP(this,["confirmButton","denyButton","cancelButton"],!0)}function mP(){uP(this.getInput(),!1)}function pP(){uP(this.getInput(),!0)}function AP(n){const t=br.domCache.get(this),e=br.innerParams.get(this);Ha(t.validationMessage,n),t.validationMessage.className=qe["validation-message"],e.customClass&&e.customClass.validationMessage&&er(t.validationMessage,e.customClass.validationMessage),ys(t.validationMessage);const s=this.getInput();s&&(s.setAttribute("aria-invalid","true"),s.setAttribute("aria-describedby",qe["validation-message"]),$M(s),er(s,qe.inputerror))}function gP(){const n=br.domCache.get(this);n.validationMessage&&Us(n.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),Za(t,qe.inputerror))}const gu={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},Qte=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Vte={allowEnterKey:void 0},zte=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],xP=n=>Object.prototype.hasOwnProperty.call(gu,n),bP=n=>Qte.indexOf(n)!==-1,vP=n=>Vte[n],Kte=n=>{xP(n)||Zs(`Unknown parameter "${n}"`)},Gte=n=>{zte.includes(n)&&Zs(`The parameter "${n}" is incompatible with toasts`)},qte=n=>{const t=vP(n);t&&FM(n,t)},yP=n=>{n.backdrop===!1&&n.allowOutsideClick&&Zs('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),n.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(n.theme)&&Zs(`Invalid theme "${n.theme}"`);for(const t in n)Kte(t),n.toast&&Gte(t),qte(t)};function wP(n){const t=ra(),e=Wn(),s=br.innerParams.get(this);if(!e||Qo(e,s.hideClass.popup)){Zs("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const a=Wte(n),i=Object.assign({},s,a);yP(i),t.dataset.swal2Theme=i.theme,JM(this,i),br.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,n),writable:!1,enumerable:!0}})}const Wte=n=>{const t={};return Object.keys(n).forEach(e=>{bP(e)?t[e]=n[e]:Zs(`Invalid parameter to update: ${e}`)}),t};function jP(){const n=br.domCache.get(this),t=br.innerParams.get(this);if(!t){CP(this);return}n.popup&&tn.swalCloseEventFinishedCallback&&(tn.swalCloseEventFinishedCallback(),delete tn.swalCloseEventFinishedCallback),typeof t.didDestroy=="function"&&t.didDestroy(),tn.eventEmitter.emit("didDestroy"),Xte(this)}const Xte=n=>{CP(n),delete n.params,delete tn.keydownHandler,delete tn.keydownTarget,delete tn.currentInstance},CP=n=>{n.isAwaitingPromise?(vv(br,n),n.isAwaitingPromise=!0):(vv(Fu,n),vv(br,n),delete n.isAwaitingPromise,delete n.disableButtons,delete n.enableButtons,delete n.getInput,delete n.disableInput,delete n.enableInput,delete n.hideLoading,delete n.disableLoading,delete n.showValidationMessage,delete n.resetValidationMessage,delete n.close,delete n.closePopup,delete n.closeModal,delete n.closeToast,delete n.rejectPromise,delete n.update,delete n._destroy)},vv=(n,t)=>{for(const e in n)n[e].delete(t)};var Yte=Object.freeze({__proto__:null,_destroy:jP,close:Pl,closeModal:Pl,closePopup:Pl,closeToast:Pl,disableButtons:fP,disableInput:pP,disableLoading:Yg,enableButtons:hP,enableInput:mP,getInput:cP,handleAwaitingPromise:cp,hideLoading:Yg,rejectPromise:aP,resetValidationMessage:gP,showValidationMessage:AP,update:wP});const Jte=(n,t,e)=>{n.toast?Zte(n,t,e):(tne(t),nne(t),rne(n,t,e))},Zte=(n,t,e)=>{t.popup.onclick=()=>{n&&(ene(n)||n.timer||n.input)||e(ph.close)}},ene=n=>!!(n.showConfirmButton||n.showDenyButton||n.showCancelButton||n.showCloseButton);let Jg=!1;const tne=n=>{n.popup.onmousedown=()=>{n.container.onmouseup=function(t){n.container.onmouseup=()=>{},t.target===n.container&&(Jg=!0)}}},nne=n=>{n.container.onmousedown=t=>{t.target===n.container&&t.preventDefault(),n.popup.onmouseup=function(e){n.popup.onmouseup=()=>{},(e.target===n.popup||e.target instanceof HTMLElement&&n.popup.contains(e.target))&&(Jg=!0)}}},rne=(n,t,e)=>{t.container.onclick=s=>{if(Jg){Jg=!1;return}s.target===t.container&&Ox(n.allowOutsideClick)&&e(ph.backdrop)}},sne=n=>typeof n=="object"&&n.jquery,rS=n=>n instanceof Element||sne(n),ane=n=>{const t={};return typeof n[0]=="object"&&!rS(n[0])?Object.assign(t,n[0]):["title","html","icon"].forEach((e,s)=>{const a=n[s];typeof a=="string"||rS(a)?t[e]=a:a!==void 0&&Id(`Unexpected type of ${e}! Expected "string" or "Element", got ${typeof a}`)}),t};function ine(...n){return new this(...n)}function one(n){class t extends this{_main(s,a){return super._main(s,Object.assign({},n,a))}}return t}const lne=()=>tn.timeout&&tn.timeout.getTimerLeft(),NP=()=>{if(tn.timeout)return gee(),tn.timeout.stop()},SP=()=>{if(tn.timeout){const n=tn.timeout.start();return qj(n),n}},cne=()=>{const n=tn.timeout;return n&&(n.running?NP():SP())},dne=n=>{if(tn.timeout){const t=tn.timeout.increase(n);return qj(t,!0),t}},une=()=>!!(tn.timeout&&tn.timeout.isRunning());let sS=!1;const Hw={};function hne(n="data-swal-template"){Hw[n]=this,sS||(document.body.addEventListener("click",fne),sS=!0)}const fne=n=>{for(let t=n.target;t&&t!==document;t=t.parentNode)for(const e in Hw){const s=t.getAttribute(e);if(s){Hw[e].fire({template:s});return}}};class mne{constructor(){this.events={}}_getHandlersByEventName(t){return typeof this.events[t]>"u"&&(this.events[t]=[]),this.events[t]}on(t,e){const s=this._getHandlersByEventName(t);s.includes(e)||s.push(e)}once(t,e){const s=(...a)=>{this.removeListener(t,s),e.apply(this,a)};this.on(t,s)}emit(t,...e){this._getHandlersByEventName(t).forEach(s=>{try{s.apply(this,e)}catch(a){console.error(a)}})}removeListener(t,e){const s=this._getHandlersByEventName(t),a=s.indexOf(e);a>-1&&s.splice(a,1)}removeAllListeners(t){this.events[t]!==void 0&&(this.events[t].length=0)}reset(){this.events={}}}tn.eventEmitter=new mne;const pne=(n,t)=>{tn.eventEmitter.on(n,t)},Ane=(n,t)=>{tn.eventEmitter.once(n,t)},gne=(n,t)=>{if(!n){tn.eventEmitter.reset();return}t?tn.eventEmitter.removeListener(n,t):tn.eventEmitter.removeAllListeners(n)};var xne=Object.freeze({__proto__:null,argsToParams:ane,bindClickHandler:hne,clickCancel:ate,clickConfirm:ZM,clickDeny:ste,enableLoading:Ru,fire:ine,getActions:ip,getCancelButton:fh,getCloseButton:Vj,getConfirmButton:io,getContainer:ra,getDenyButton:Od,getFocusableElements:zj,getFooter:HM,getHtmlContainer:$j,getIcon:hh,getIconContent:dee,getImage:UM,getInputLabel:uee,getLoader:mh,getPopup:Wn,getProgressSteps:Qj,getTimerLeft:lne,getTimerProgressBar:Fx,getTitle:RM,getValidationMessage:Lx,increaseTimer:dne,isDeprecatedParameter:vP,isLoading:fee,isTimerRunning:une,isUpdatableParameter:bP,isValidParameter:xP,isVisible:rte,mixin:one,off:gne,on:pne,once:Ane,resumeTimer:SP,showLoading:Ru,stopTimer:NP,toggleTimer:cne});class bne{constructor(t,e){this.callback=t,this.remaining=e,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(t){const e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const TP=["swal-title","swal-html","swal-footer"],vne=n=>{const t=typeof n.template=="string"?document.querySelector(n.template):n.template;if(!t)return{};const e=t.content;return kne(e),Object.assign(yne(e),wne(e),jne(e),Cne(e),Nne(e),Sne(e),Tne(e,TP))},yne=n=>{const t={};return Array.from(n.querySelectorAll("swal-param")).forEach(s=>{hd(s,["name","value"]);const a=s.getAttribute("name"),i=s.getAttribute("value");!a||!i||(typeof gu[a]=="boolean"?t[a]=i!=="false":typeof gu[a]=="object"?t[a]=JSON.parse(i):t[a]=i)}),t},wne=n=>{const t={};return Array.from(n.querySelectorAll("swal-function-param")).forEach(s=>{const a=s.getAttribute("name"),i=s.getAttribute("value");!a||!i||(t[a]=new Function(`return ${i}`)())}),t},jne=n=>{const t={};return Array.from(n.querySelectorAll("swal-button")).forEach(s=>{hd(s,["type","color","aria-label"]);const a=s.getAttribute("type");!a||!["confirm","cancel","deny"].includes(a)||(t[`${a}ButtonText`]=s.innerHTML,t[`show${Rj(a)}Button`]=!0,s.hasAttribute("color")&&(t[`${a}ButtonColor`]=s.getAttribute("color")),s.hasAttribute("aria-label")&&(t[`${a}ButtonAriaLabel`]=s.getAttribute("aria-label")))}),t},Cne=n=>{const t={},e=n.querySelector("swal-image");return e&&(hd(e,["src","width","height","alt"]),e.hasAttribute("src")&&(t.imageUrl=e.getAttribute("src")||void 0),e.hasAttribute("width")&&(t.imageWidth=e.getAttribute("width")||void 0),e.hasAttribute("height")&&(t.imageHeight=e.getAttribute("height")||void 0),e.hasAttribute("alt")&&(t.imageAlt=e.getAttribute("alt")||void 0)),t},Nne=n=>{const t={},e=n.querySelector("swal-icon");return e&&(hd(e,["type","color"]),e.hasAttribute("type")&&(t.icon=e.getAttribute("type")),e.hasAttribute("color")&&(t.iconColor=e.getAttribute("color")),t.iconHtml=e.innerHTML),t},Sne=n=>{const t={},e=n.querySelector("swal-input");e&&(hd(e,["type","label","placeholder","value"]),t.input=e.getAttribute("type")||"text",e.hasAttribute("label")&&(t.inputLabel=e.getAttribute("label")),e.hasAttribute("placeholder")&&(t.inputPlaceholder=e.getAttribute("placeholder")),e.hasAttribute("value")&&(t.inputValue=e.getAttribute("value")));const s=Array.from(n.querySelectorAll("swal-input-option"));return s.length&&(t.inputOptions={},s.forEach(a=>{hd(a,["value"]);const i=a.getAttribute("value");if(!i)return;const o=a.innerHTML;t.inputOptions[i]=o})),t},Tne=(n,t)=>{const e={};for(const s in t){const a=t[s],i=n.querySelector(a);i&&(hd(i,[]),e[a.replace(/^swal-/,"")]=i.innerHTML.trim())}return e},kne=n=>{const t=TP.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(n.children).forEach(e=>{const s=e.tagName.toLowerCase();t.includes(s)||Zs(`Unrecognized element <${s}>`)})},hd=(n,t)=>{Array.from(n.attributes).forEach(e=>{t.indexOf(e.name)===-1&&Zs([`Unrecognized attribute "${e.name}" on <${n.tagName.toLowerCase()}>.`,`${t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."}`])})},kP=10,_ne=n=>{const t=ra(),e=Wn();typeof n.willOpen=="function"&&n.willOpen(e),tn.eventEmitter.emit("willOpen",e);const a=window.getComputedStyle(document.body).overflowY;Mne(t,e,n),setTimeout(()=>{Bne(t,e)},kP),Kj()&&(Ene(t,n.scrollbarPadding,a),fte()),!Rx()&&!tn.previousActiveElement&&(tn.previousActiveElement=document.activeElement),typeof n.didOpen=="function"&&setTimeout(()=>n.didOpen(e)),tn.eventEmitter.emit("didOpen",e),Za(t,qe["no-transition"])},Zg=n=>{const t=Wn();if(n.target!==t)return;const e=ra();t.removeEventListener("animationend",Zg),t.removeEventListener("transitionend",Zg),e.style.overflowY="auto"},Bne=(n,t)=>{VM(t)?(n.style.overflowY="hidden",t.addEventListener("animationend",Zg),t.addEventListener("transitionend",Zg)):n.style.overflowY="auto"},Ene=(n,t,e)=>{mte(),t&&e!=="hidden"&&yte(e),setTimeout(()=>{n.scrollTop=0})},Mne=(n,t,e)=>{er(n,e.showClass.backdrop),e.animation?(t.style.setProperty("opacity","0","important"),ys(t,"grid"),setTimeout(()=>{er(t,e.showClass.popup),t.style.removeProperty("opacity")},kP)):ys(t,"grid"),er([document.documentElement,document.body],qe.shown),e.heightAuto&&e.backdrop&&!e.toast&&er([document.documentElement,document.body],qe["height-auto"])};var aS={email:(n,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(n)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(n,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(n)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function Pne(n){n.inputValidator||(n.input==="email"&&(n.inputValidator=aS.email),n.input==="url"&&(n.inputValidator=aS.url))}function Dne(n){(!n.target||typeof n.target=="string"&&!document.querySelector(n.target)||typeof n.target!="string"&&!n.target.appendChild)&&(Zs('Target parameter is not valid, defaulting to "body"'),n.target="body")}function Ine(n){Pne(n),n.showLoaderOnConfirm&&!n.preConfirm&&Zs(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Dne(n),typeof n.title=="string"&&(n.title=n.title.split(`
`).join("<br />")),Nee(n)}let Ii;var Hp=new WeakMap;class Zr{constructor(...t){if(nee(this,Hp,void 0),typeof window>"u")return;Ii=this;const e=Object.freeze(this.constructor.argsToParams(t));this.params=e,this.isAwaitingPromise=!1,ree(Hp,this,this._main(Ii.params))}_main(t,e={}){if(yP(Object.assign({},e,t)),tn.currentInstance){const i=Fu.swalPromiseResolve.get(tn.currentInstance),{isAwaitingPromise:o}=tn.currentInstance;tn.currentInstance._destroy(),o||i({isDismissed:!0}),Kj()&&nP()}tn.currentInstance=Ii;const s=Lne(t,e);Ine(s),Object.freeze(s),tn.timeout&&(tn.timeout.stop(),delete tn.timeout),clearTimeout(tn.restoreFocusTimeout);const a=Fne(Ii);return JM(Ii,s),br.innerParams.set(Ii,s),One(Ii,a,s)}then(t){return W4(Hp,this).then(t)}finally(t){return W4(Hp,this).finally(t)}}const One=(n,t,e)=>new Promise((s,a)=>{const i=o=>{n.close({isDismissed:!0,dismiss:o})};Fu.swalPromiseResolve.set(n,s),Fu.swalPromiseReject.set(n,a),t.confirmButton.onclick=()=>{Fte(n)},t.denyButton.onclick=()=>{Rte(n)},t.cancelButton.onclick=()=>{Ute(n,i)},t.closeButton.onclick=()=>{i(ph.close)},Jte(e,t,i),ite(tn,e,i),_te(n,e),_ne(e),Rne(tn,e,i),Une(t,e),setTimeout(()=>{t.container.scrollTop=0})}),Lne=(n,t)=>{const e=vne(n),s=Object.assign({},gu,t,e,n);return s.showClass=Object.assign({},gu.showClass,s.showClass),s.hideClass=Object.assign({},gu.hideClass,s.hideClass),s.animation===!1&&(s.showClass={backdrop:"swal2-noanimation"},s.hideClass={}),s},Fne=n=>{const t={popup:Wn(),container:ra(),actions:ip(),confirmButton:io(),denyButton:Od(),cancelButton:fh(),loader:mh(),closeButton:Vj(),validationMessage:Lx(),progressSteps:Qj()};return br.domCache.set(n,t),t},Rne=(n,t,e)=>{const s=Fx();Us(s),t.timer&&(n.timeout=new bne(()=>{e("timer"),delete n.timeout},t.timer),t.timerProgressBar&&(ys(s),Oa(s,t,"timerProgressBar"),setTimeout(()=>{n.timeout&&n.timeout.running&&qj(t.timer)})))},Une=(n,t)=>{if(!t.toast){if(!Ox(t.allowEnterKey)){FM("allowEnterKey"),Qne();return}Hne(n)||$ne(n,t)||Uw(-1,1)}},Hne=n=>{const t=Array.from(n.popup.querySelectorAll("[autofocus]"));for(const e of t)if(e instanceof HTMLElement&&va(e))return e.focus(),!0;return!1},$ne=(n,t)=>t.focusDeny&&va(n.denyButton)?(n.denyButton.focus(),!0):t.focusCancel&&va(n.cancelButton)?(n.cancelButton.focus(),!0):t.focusConfirm&&va(n.confirmButton)?(n.confirmButton.focus(),!0):!1,Qne=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Zr.prototype.disableButtons=fP;Zr.prototype.enableButtons=hP;Zr.prototype.getInput=cP;Zr.prototype.disableInput=pP;Zr.prototype.enableInput=mP;Zr.prototype.hideLoading=Yg;Zr.prototype.disableLoading=Yg;Zr.prototype.showValidationMessage=AP;Zr.prototype.resetValidationMessage=gP;Zr.prototype.close=Pl;Zr.prototype.closePopup=Pl;Zr.prototype.closeModal=Pl;Zr.prototype.closeToast=Pl;Zr.prototype.rejectPromise=aP;Zr.prototype.update=wP;Zr.prototype._destroy=jP;Object.assign(Zr,xne);Object.keys(Yte).forEach(n=>{Zr[n]=function(...t){return Ii&&Ii[n]?Ii[n](...t):null}});Zr.DismissReason=ph;Zr.version="11.22.4";const Ce=Zr;Ce.default=Ce;typeof document<"u"&&function(n,t){var e=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(e),e.styleSheet)e.styleSheet.disabled||(e.styleSheet.cssText=t);else try{e.innerHTML=t}catch{e.innerText=t}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const Vne="https://bicacuatho.azurewebsites.net",_P=()=>{const[n,t]=k.useState(""),[e,s]=k.useState(!1),a=o=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o),i=async o=>{if(o.preventDefault(),!n){Ce.fire({icon:"error",title:"Lỗi",text:"Vui lòng nhập email.",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}if(!a(n)){Ce.fire({icon:"error",title:"Lỗi",text:"Email không hợp lệ.",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}s(!0);try{const c=await fetch(`${Vne}/api/Newsletter/Subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})});if(!c.ok){const l=await c.text();throw new Error(`Không thể đăng ký: ${l}`)}t(""),Ce.fire({icon:"success",title:"Thành công",text:"Bạn đã đăng ký nhận tin tức thành công! Kiểm tra email để nhận thông báo chào mừng.",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(c){const l=c instanceof Error?c.message:"Lỗi khi đăng ký nhận tin tức.";Ce.fire({icon:"error",title:"Lỗi",text:l,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{s(!1)}};return r.jsx("section",{className:"py-6 bg-crocus-50 rounded-xl",children:r.jsxs("div",{className:"text-center max-w-xl mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Đăng ký nhận tin tức"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Cập nhật các bộ sưu tập mới nhất và ưu đãi độc quyền"}),r.jsxs("form",{onSubmit:i,className:"flex flex-col sm:flex-row gap-2",children:[r.jsx("input",{type:"email",placeholder:"Nhập email của bạn",className:"flex-grow px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-crocus-500",value:n,onChange:o=>t(o.target.value),disabled:e}),r.jsx(fe,{type:"submit",className:"bg-crocus-500 hover:bg-crocus-600 flex items-center gap-2",disabled:e,children:e?"Đang xử lý...":r.jsxs(r.Fragment,{children:[r.jsx(Aa,{className:"h-4 w-4"}),r.jsx("span",{children:"Đăng ký"})]})})]})]})})},BP=()=>r.jsxs("section",{children:[r.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Tại sao chọn FashionHub"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-crocus-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-6 h-6 text-crocus-600",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Chất lượng cao cấp"}),r.jsx("p",{className:"text-gray-600",children:"Được làm từ những chất liệu tốt nhất cho sự thoải mái và độ bền"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-crocus-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-6 h-6 text-crocus-600",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Giao hàng nhanh"}),r.jsx("p",{className:"text-gray-600",children:"Vận chuyển nhanh chóng và đổi trả dễ dàng cho tất cả đơn hàng"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-crocus-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-6 h-6 text-crocus-600",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})})}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Thời trang bền vững"}),r.jsx("p",{className:"text-gray-600",children:"Quy trình và vật liệu thân thiện với môi trường cho một hành tinh tốt đẹp hơn"})]})]})]}),zne="https://bicacuatho.azurewebsites.net",Kne=()=>{const[n,t]=k.useState([]),[e,s]=k.useState(!0),[a,i]=k.useState(null);k.useEffect(()=>{(async()=>{try{const l=await fetch(`${zne}/api/LoaiSanPham`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!l.ok)throw new Error(`Lỗi HTTP! Mã trạng thái: ${l.status}`);const u=(await l.json()).filter(f=>f.tenLoaiSanPham&&f.kiHieu).reduce((f,h)=>(f.some(m=>m.kiHieu===h.kiHieu)||f.push(h),f),[]);t(u)}catch(l){console.error("Lỗi khi tải dữ liệu loại sản phẩm:",l),i("Không thể tải danh mục sản phẩm. Vui lòng thử lại sau.")}finally{s(!1)}})()},[]);const o=c=>c?c.startsWith("/9j/")?`data:image/jpeg;base64,${c}`:c.startsWith("iVBORw0KGgo")?`data:image/png;base64,${c}`:`data:image/png;base64,${c}`:"/fallback-image.jpg";return e?r.jsx("div",{className:"min-h-[200px] flex items-center justify-center text-gray-500",children:"Đang tải..."}):a?r.jsx("div",{className:"min-h-[200px] flex items-center justify-center text-red-500",children:a}):n.length===0?r.jsx("div",{className:"min-h-[200px] flex items-center justify-center text-gray-500",children:"Không có danh mục sản phẩm để hiển thị"}):r.jsx("section",{className:"w-full py-2 bg-gradient-to-b from-[#f8f5ff] to-white",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-[#9b87f5] mt-2 mb-3 text-center md:text-left",children:"DANH MỤC"}),r.jsxs(dc,{className:"w-full max-w-[1800px] mx-auto",opts:{align:"start",loop:!0},children:[r.jsx(uc,{className:"gap-2",children:n.map(c=>r.jsx(hc,{className:"basis-1/2 sm:basis-1/3 md:basis-1/6 lg:basis-1/12",children:r.jsx("div",{className:"w-full text-center transition-all duration-300 hover:scale-105",children:r.jsxs(lt,{to:`/products?category=${encodeURIComponent(c.tenLoaiSanPham||"")}`,className:"flex flex-col items-center justify-center",children:[r.jsx("div",{className:"relative w-20 h-20 sm:w-20 sm:h-20 md:w-24 md:h-24 mx-auto",children:r.jsx("img",{src:o(c.hinhAnh),alt:c.tenLoaiSanPham||"Danh mục",className:"w-full h-full rounded-full object-cover border-2 border-[#9b87f5] transition-opacity duration-300 hover:opacity-90",onError:l=>l.currentTarget.src="/fallback-image.jpg"})}),r.jsx("p",{className:"mt-1 text-sm font-semibold text-gray-700 line-clamp-2",children:c.tenLoaiSanPham||"Không xác định"})]})})},c.maLoaiSanPham||c.kiHieu))}),r.jsx(fc,{className:"hidden md:flex absolute left-2 top-1/2 -translate-y-1/2 bg-white text-[#9b87f5] p-2 rounded-full hover:bg-[#9b87f5]/20 transition-colors z-20"}),r.jsx(mc,{className:"hidden md:flex absolute right-2 top-1/2 -translate-y-1/2 bg-white text-[#9b87f5] p-2 rounded-full hover:bg-[#9b87f5]/20 transition-colors z-20"})]})]})})};let Gne={data:""},qne=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||Gne,Wne=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Xne=/\/\*[^]*?\*\/|  +/g,iS=/\n+/g,Nl=(n,t)=>{let e="",s="",a="";for(let i in n){let o=n[i];i[0]=="@"?i[1]=="i"?e=i+" "+o+";":s+=i[1]=="f"?Nl(o,i):i+"{"+Nl(o,i[1]=="k"?"":t)+"}":typeof o=="object"?s+=Nl(o,t?t.replace(/([^,])+/g,c=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,c):c?c+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Nl.p?Nl.p(i,o):i+":"+o+";")}return e+(t&&a?t+"{"+a+"}":a)+s},xo={},EP=n=>{if(typeof n=="object"){let t="";for(let e in n)t+=e+EP(n[e]);return t}return n},Yne=(n,t,e,s,a)=>{let i=EP(n),o=xo[i]||(xo[i]=(l=>{let d=0,u=11;for(;d<l.length;)u=101*u+l.charCodeAt(d++)>>>0;return"go"+u})(i));if(!xo[o]){let l=i!==n?n:(d=>{let u,f,h=[{}];for(;u=Wne.exec(d.replace(Xne,""));)u[4]?h.shift():u[3]?(f=u[3].replace(iS," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][u[1]]=u[2].replace(iS," ").trim();return h[0]})(n);xo[o]=Nl(a?{["@keyframes "+o]:l}:l,e?"":"."+o)}let c=e&&xo.g?xo.g:null;return e&&(xo.g=xo[o]),((l,d,u,f)=>{f?d.data=d.data.replace(f,l):d.data.indexOf(l)===-1&&(d.data=u?l+d.data:d.data+l)})(xo[o],t,s,c),o},Jne=(n,t,e)=>n.reduce((s,a,i)=>{let o=t[i];if(o&&o.call){let c=o(e),l=c&&c.props&&c.props.className||/^go/.test(c)&&c;o=l?"."+l:c&&typeof c=="object"?c.props?"":Nl(c,""):c===!1?"":c}return s+a+(o??"")},"");function Hx(n){let t=this||{},e=n.call?n(t.p):n;return Yne(e.unshift?e.raw?Jne(e,[].slice.call(arguments,1),t.p):e.reduce((s,a)=>Object.assign(s,a&&a.call?a(t.p):a),{}):e,qne(t.target),t.g,t.o,t.k)}let MP,$w,Qw;Hx.bind({g:1});let Zo=Hx.bind({k:1});function Zne(n,t,e,s){Nl.p=t,MP=n,$w=e,Qw=s}function pc(n,t){let e=this||{};return function(){let s=arguments;function a(i,o){let c=Object.assign({},i),l=c.className||a.className;e.p=Object.assign({theme:$w&&$w()},c),e.o=/ *go\d+/.test(l),c.className=Hx.apply(e,s)+(l?" "+l:"");let d=n;return n[0]&&(d=c.as||n,delete c.as),Qw&&d[0]&&Qw(c),MP(d,c)}return a}}var ere=n=>typeof n=="function",e0=(n,t)=>ere(n)?n(t):n,tre=(()=>{let n=0;return()=>(++n).toString()})(),PP=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");n=!t||t.matches}return n}})(),nre=20,eC="default",DP=(n,t)=>{let{toastLimit:e}=n.settings;switch(t.type){case 0:return{...n,toasts:[t.toast,...n.toasts].slice(0,e)};case 1:return{...n,toasts:n.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:s}=t;return DP(n,{type:n.toasts.find(o=>o.id===s.id)?1:0,toast:s});case 3:let{toastId:a}=t;return{...n,toasts:n.toasts.map(o=>o.id===a||a===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...n,pausedAt:t.time};case 6:let i=t.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},og=[],IP={toasts:[],pausedAt:void 0,settings:{toastLimit:nre}},Vi={},OP=(n,t=eC)=>{Vi[t]=DP(Vi[t]||IP,n),og.forEach(([e,s])=>{e===t&&s(Vi[t])})},LP=n=>Object.keys(Vi).forEach(t=>OP(n,t)),rre=n=>Object.keys(Vi).find(t=>Vi[t].toasts.some(e=>e.id===n)),$x=(n=eC)=>t=>{OP(t,n)},sre={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},are=(n={},t=eC)=>{let[e,s]=k.useState(Vi[t]||IP),a=k.useRef(Vi[t]);k.useEffect(()=>(a.current!==Vi[t]&&s(Vi[t]),og.push([t,s]),()=>{let o=og.findIndex(([c])=>c===t);o>-1&&og.splice(o,1)}),[t]);let i=e.toasts.map(o=>{var c,l,d;return{...n,...n[o.type],...o,removeDelay:o.removeDelay||((c=n[o.type])==null?void 0:c.removeDelay)||(n==null?void 0:n.removeDelay),duration:o.duration||((l=n[o.type])==null?void 0:l.duration)||(n==null?void 0:n.duration)||sre[o.type],style:{...n.style,...(d=n[o.type])==null?void 0:d.style,...o.style}}});return{...e,toasts:i}},ire=(n,t="blank",e)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...e,id:(e==null?void 0:e.id)||tre()}),dp=n=>(t,e)=>{let s=ire(t,n,e);return $x(s.toasterId||rre(s.id))({type:2,toast:s}),s.id},rs=(n,t)=>dp("blank")(n,t);rs.error=dp("error");rs.success=dp("success");rs.loading=dp("loading");rs.custom=dp("custom");rs.dismiss=(n,t)=>{let e={type:3,toastId:n};t?$x(t)(e):LP(e)};rs.dismissAll=n=>rs.dismiss(void 0,n);rs.remove=(n,t)=>{let e={type:4,toastId:n};t?$x(t)(e):LP(e)};rs.removeAll=n=>rs.remove(void 0,n);rs.promise=(n,t,e)=>{let s=rs.loading(t.loading,{...e,...e==null?void 0:e.loading});return typeof n=="function"&&(n=n()),n.then(a=>{let i=t.success?e0(t.success,a):void 0;return i?rs.success(i,{id:s,...e,...e==null?void 0:e.success}):rs.dismiss(s),a}).catch(a=>{let i=t.error?e0(t.error,a):void 0;i?rs.error(i,{id:s,...e,...e==null?void 0:e.error}):rs.dismiss(s)}),n};var ore=1e3,lre=(n,t="default")=>{let{toasts:e,pausedAt:s}=are(n,t),a=k.useRef(new Map).current,i=k.useCallback((f,h=ore)=>{if(a.has(f))return;let m=setTimeout(()=>{a.delete(f),o({type:4,toastId:f})},h);a.set(f,m)},[]);k.useEffect(()=>{if(s)return;let f=Date.now(),h=e.map(m=>{if(m.duration===1/0)return;let A=(m.duration||0)+m.pauseDuration-(f-m.createdAt);if(A<0){m.visible&&rs.dismiss(m.id);return}return setTimeout(()=>rs.dismiss(m.id,t),A)});return()=>{h.forEach(m=>m&&clearTimeout(m))}},[e,s,t]);let o=k.useCallback($x(t),[t]),c=k.useCallback(()=>{o({type:5,time:Date.now()})},[o]),l=k.useCallback((f,h)=>{o({type:1,toast:{id:f,height:h}})},[o]),d=k.useCallback(()=>{s&&o({type:6,time:Date.now()})},[s,o]),u=k.useCallback((f,h)=>{let{reverseOrder:m=!1,gutter:A=8,defaultPosition:g}=h||{},p=e.filter(v=>(v.position||g)===(f.position||g)&&v.height),b=p.findIndex(v=>v.id===f.id),x=p.filter((v,y)=>y<b&&v.visible).length;return p.filter(v=>v.visible).slice(...m?[x+1]:[0,x]).reduce((v,y)=>v+(y.height||0)+A,0)},[e]);return k.useEffect(()=>{e.forEach(f=>{if(f.dismissed)i(f.id,f.removeDelay);else{let h=a.get(f.id);h&&(clearTimeout(h),a.delete(f.id))}})},[e,i]),{toasts:e,handlers:{updateHeight:l,startPause:c,endPause:d,calculateOffset:u}}},cre=Zo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,dre=Zo`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ure=Zo`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,hre=pc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${cre} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${dre} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ure} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,fre=Zo`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,mre=pc("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${fre} 1s linear infinite;
`,pre=Zo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Are=Zo`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,gre=pc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pre} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Are} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,xre=pc("div")`
  position: absolute;
`,bre=pc("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,vre=Zo`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,yre=pc("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${vre} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,wre=({toast:n})=>{let{icon:t,type:e,iconTheme:s}=n;return t!==void 0?typeof t=="string"?k.createElement(yre,null,t):t:e==="blank"?null:k.createElement(bre,null,k.createElement(mre,{...s}),e!=="loading"&&k.createElement(xre,null,e==="error"?k.createElement(hre,{...s}):k.createElement(gre,{...s})))},jre=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Cre=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,Nre="0%{opacity:0;} 100%{opacity:1;}",Sre="0%{opacity:1;} 100%{opacity:0;}",Tre=pc("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,kre=pc("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,_re=(n,t)=>{let e=n.includes("top")?1:-1,[s,a]=PP()?[Nre,Sre]:[jre(e),Cre(e)];return{animation:t?`${Zo(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Zo(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Bre=k.memo(({toast:n,position:t,style:e,children:s})=>{let a=n.height?_re(n.position||t||"top-center",n.visible):{opacity:0},i=k.createElement(wre,{toast:n}),o=k.createElement(kre,{...n.ariaProps},e0(n.message,n));return k.createElement(Tre,{className:n.className,style:{...a,...e,...n.style}},typeof s=="function"?s({icon:i,message:o}):k.createElement(k.Fragment,null,i,o))});Zne(k.createElement);var Ere=({id:n,className:t,style:e,onHeightUpdate:s,children:a})=>{let i=k.useCallback(o=>{if(o){let c=()=>{let l=o.getBoundingClientRect().height;s(n,l)};c(),new MutationObserver(c).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[n,s]);return k.createElement("div",{ref:i,className:t,style:e},a)},Mre=(n,t)=>{let e=n.includes("top"),s=e?{top:0}:{bottom:0},a=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:PP()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(e?1:-1)}px)`,...s,...a}},Pre=Hx`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,$p=16,Ah=({reverseOrder:n,position:t="top-center",toastOptions:e,gutter:s,children:a,toasterId:i,containerStyle:o,containerClassName:c})=>{let{toasts:l,handlers:d}=lre(e,i);return k.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:$p,left:$p,right:$p,bottom:$p,pointerEvents:"none",...o},className:c,onMouseEnter:d.startPause,onMouseLeave:d.endPause},l.map(u=>{let f=u.position||t,h=d.calculateOffset(u,{reverseOrder:n,gutter:s,defaultPosition:t}),m=Mre(f,h);return k.createElement(Ere,{id:u.id,key:u.id,onHeightUpdate:d.updateHeight,className:u.visible?Pre:"",style:m},u.type==="custom"?e0(u.message,u):a?a(u):k.createElement(Bre,{toast:u,position:f}))}))},Wt=rs;const Dre=({post:n,nguoiDung:t})=>{const e=n.metaDescription?n.metaDescription.length>100?n.metaDescription.slice(0,100)+"...":n.metaDescription:n.noiDung.length>100?n.noiDung.slice(0,100)+"...":n.noiDung,s=new Date(n.ngayTao).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"});return r.jsxs(at,{className:"hover:shadow-lg transition-shadow duration-300 w-full max-w-md mx-auto",children:[n.hinhAnh&&n.slug&&r.jsx(lt,{to:`/blogs/${n.slug}`,"aria-label":`Xem chi tiết bài viết ${n.tieuDe}`,children:r.jsx("img",{src:`data:image/jpeg;base64,${n.hinhAnh}`,alt:n.moTaHinhAnh||n.tieuDe,className:"w-full h-48 object-cover rounded-t-md",onError:a=>a.currentTarget.src="/fallback-image.jpg"})}),r.jsx(yt,{children:r.jsx(Ct,{className:"text-lg font-semibold truncate",children:n.slug?r.jsx(lt,{to:`/blogs/${n.slug}`,"aria-label":`Xem chi tiết bài viết ${n.tieuDe}`,children:n.tieuDe}):n.tieuDe})}),r.jsxs(dt,{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-gray-600",children:e}),r.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[r.jsx("div",{children:r.jsxs("span",{children:["Người tạo: ",(t==null?void 0:t.hoTen)||n.maNguoiDung]})}),r.jsxs("span",{children:["Ngày tạo: ",s]})]}),n.tags&&n.tags.length>0&&r.jsx("div",{className:"flex flex-wrap gap-1",children:n.tags.map((a,i)=>r.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:a},i))}),n.slug&&r.jsxs(lt,{to:`/blogs/${n.slug}`,className:"mt-4 flex items-center justify-center w-full text-white py-2 rounded-md transition-colors duration-200",style:{backgroundColor:"#9b87f5"},onMouseEnter:a=>a.currentTarget.style.backgroundColor="#8a75f0",onMouseLeave:a=>a.currentTarget.style.backgroundColor="#9b87f5","aria-label":`Đọc thêm bài viết ${n.tieuDe}`,children:[r.jsx("span",{children:"Đọc thêm"}),r.jsx(c6,{className:"ml-2 h-4 w-4"})]})]})]})},Ire=()=>{const[n,t]=k.useState([]),[e,s]=k.useState({}),[a,i]=k.useState(!0),o=async()=>{try{i(!0);const l=(await St.get("https://bicacuatho.azurewebsites.net/api/Blog")).data.filter(m=>m.isPublished);t(l);const d=[...new Set(l.map(m=>m.maNguoiDung))],u=d.map(m=>St.get(`https://bicacuatho.azurewebsites.net/api/NguoiDung/${m}`).catch(()=>null)),f=await Promise.all(u),h=d.reduce((m,A,g)=>{var p;return m[A]=((p=f[g])==null?void 0:p.data)||null,m},{});s(h)}catch{Wt.error("Không thể tải danh sách blog hoặc thông tin người dùng.")}finally{i(!1)}};return k.useEffect(()=>{o()},[]),r.jsx("section",{children:r.jsx("div",{children:a?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ns,{className:"h-8 w-8 animate-spin mx-auto text-[#9b87f5]"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Đang tải..."})]}):n.length===0?r.jsxs("div",{className:"text-center py-6 sm:py-12 border rounded-md",children:[r.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:"Không tìm thấy bài viết"}),r.jsx("p",{className:"text-gray-600 mb-4 px-4",children:"Hiện tại không có bài viết nào được công khai"})]}):r.jsxs(dc,{className:"w-full max-w-[1400px] mx-auto",opts:{align:"start",loop:!0},children:[r.jsx(uc,{className:"gap-4",children:n.map(c=>r.jsx(hc,{className:"basis-full sm:basis-1/2 md:basis-1/3 lg:basis-1/4",children:r.jsx(Dre,{post:c,nguoiDung:e[c.maNguoiDung]||null})},c.maBlog))}),r.jsx(fc,{className:"hidden md:flex absolute left-2 top-1/2 -translate-y-1/2 bg-white text-[#9b87f5] p-2 rounded-full hover:bg-[#9b87f5]/20 transition-colors z-20","aria-label":"Bài viết trước"}),r.jsx(mc,{className:"hidden md:flex absolute right-2 top-1/2 -translate-y-1/2 bg-white text-[#9b87f5] p-2 rounded-full hover:bg-[#9b87f5]/20 transition-colors z-20","aria-label":"Bài viết tiếp theo"})]})})})},Vw=(n,t)=>t.some(e=>n instanceof e);let oS,lS;function Ore(){return oS||(oS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Lre(){return lS||(lS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zw=new WeakMap,yv=new WeakMap,Qx=new WeakMap;function Fre(n){const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("success",i),n.removeEventListener("error",o)},i=()=>{e(Yc(n.result)),a()},o=()=>{s(n.error),a()};n.addEventListener("success",i),n.addEventListener("error",o)});return Qx.set(t,n),t}function Rre(n){if(zw.has(n))return;const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",o),n.removeEventListener("abort",o)},i=()=>{e(),a()},o=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",i),n.addEventListener("error",o),n.addEventListener("abort",o)});zw.set(n,t)}let Kw={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return zw.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Yc(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function FP(n){Kw=n(Kw)}function Ure(n){return Lre().includes(n)?function(...t){return n.apply(Gw(this),t),Yc(this.request)}:function(...t){return Yc(n.apply(Gw(this),t))}}function Hre(n){return typeof n=="function"?Ure(n):(n instanceof IDBTransaction&&Rre(n),Vw(n,Ore())?new Proxy(n,Kw):n)}function Yc(n){if(n instanceof IDBRequest)return Fre(n);if(yv.has(n))return yv.get(n);const t=Hre(n);return t!==n&&(yv.set(n,t),Qx.set(t,n)),t}const Gw=n=>Qx.get(n);function RP(n,t,{blocked:e,upgrade:s,blocking:a,terminated:i}={}){const o=indexedDB.open(n,t),c=Yc(o);return s&&o.addEventListener("upgradeneeded",l=>{s(Yc(o.result),l.oldVersion,l.newVersion,Yc(o.transaction),l)}),e&&o.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),c.then(l=>{i&&l.addEventListener("close",()=>i()),a&&l.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const $re=["get","getKey","getAll","getAllKeys","count"],Qre=["put","add","delete","clear"],wv=new Map;function cS(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(wv.get(t))return wv.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,a=Qre.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(a||$re.includes(e)))return;const i=async function(o,...c){const l=this.transaction(o,a?"readwrite":"readonly");let d=l.store;return s&&(d=d.index(c.shift())),(await Promise.all([d[e](...c),a&&l.done]))[0]};return wv.set(t,i),i}FP(n=>({...n,get:(t,e,s)=>cS(t,e)||n.get(t,e,s),has:(t,e)=>!!cS(t,e)||n.has(t,e)}));const Vre=["continue","continuePrimaryKey","advance"],dS={},qw=new WeakMap,UP=new WeakMap,zre={get(n,t){if(!Vre.includes(t))return n[t];let e=dS[t];return e||(e=dS[t]=function(...s){qw.set(this,UP.get(this)[t](...s))}),e}};async function*Kre(...n){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...n)),!t)return;t=t;const e=new Proxy(t,zre);for(UP.set(e,t),Qx.set(e,Gw(t));t;)yield e,t=await(qw.get(e)||t.continue()),qw.delete(e)}function uS(n,t){return t===Symbol.asyncIterator&&Vw(n,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Vw(n,[IDBIndex,IDBObjectStore])}FP(n=>({...n,get(t,e,s){return uS(t,e)?Kre:n.get(t,e,s)},has(t,e){return uS(t,e)||n.has(t,e)}}));var Vx="Tabs",[Gre,zBe]=ks(Vx,[ch]),HP=ch(),[qre,tC]=Gre(Vx),$P=k.forwardRef((n,t)=>{const{__scopeTabs:e,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:c,activationMode:l="automatic",...d}=n,u=Ed(c),[f,h]=wa({prop:s,onChange:a,defaultProp:i??"",caller:Vx});return r.jsx(qre,{scope:e,baseId:ga(),value:f,onValueChange:h,orientation:o,dir:u,activationMode:l,children:r.jsx(Nt.div,{dir:u,"data-orientation":o,...d,ref:t})})});$P.displayName=Vx;var QP="TabsList",VP=k.forwardRef((n,t)=>{const{__scopeTabs:e,loop:s=!0,...a}=n,i=tC(QP,e),o=HP(e);return r.jsx(pj,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:r.jsx(Nt.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});VP.displayName=QP;var zP="TabsTrigger",KP=k.forwardRef((n,t)=>{const{__scopeTabs:e,value:s,disabled:a=!1,...i}=n,o=tC(zP,e),c=HP(e),l=WP(o.baseId,s),d=XP(o.baseId,s),u=s===o.value;return r.jsx(Aj,{asChild:!0,...c,focusable:!a,active:u,children:r.jsx(Nt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:l,...i,ref:t,onMouseDown:tt(n.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:tt(n.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:tt(n.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!a&&f&&o.onValueChange(s)})})})});KP.displayName=zP;var GP="TabsContent",qP=k.forwardRef((n,t)=>{const{__scopeTabs:e,value:s,forceMount:a,children:i,...o}=n,c=tC(GP,e),l=WP(c.baseId,s),d=XP(c.baseId,s),u=s===c.value,f=k.useRef(u);return k.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),r.jsx(hs,{present:a||u,children:({present:h})=>r.jsx(Nt.div,{"data-state":u?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:d,tabIndex:0,...o,ref:t,style:{...n.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});qP.displayName=GP;function WP(n,t){return`${n}-trigger-${t}`}function XP(n,t){return`${n}-content-${t}`}var Wre=$P,YP=VP,JP=KP,ZP=qP;const Na=Wre,sa=k.forwardRef(({className:n,...t},e)=>r.jsx(YP,{ref:e,className:Ue("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...t}));sa.displayName=YP.displayName;const kn=k.forwardRef(({className:n,...t},e)=>r.jsx(JP,{ref:e,className:Ue("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n),...t}));kn.displayName=JP.displayName;const Fn=k.forwardRef(({className:n,...t},e)=>r.jsx(ZP,{ref:e,className:Ue("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...t}));Fn.displayName=ZP.displayName;const Yt=ld,nC=cE,Xre=cd,Yre=wx,eD=k.forwardRef(({className:n,...t},e)=>r.jsx(Yo,{ref:e,className:Ue("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...t}));eD.displayName=Yo.displayName;const Kt=k.forwardRef(({className:n,children:t,...e},s)=>r.jsxs(Xre,{children:[r.jsx(eD,{}),r.jsxs(Jo,{ref:s,className:Ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...e,children:[t,r.jsxs(wx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(st,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Kt.displayName=Jo.displayName;const rn=({className:n,...t})=>r.jsx("div",{className:Ue("flex flex-col space-y-1.5 text-center sm:text-left",n),...t});rn.displayName="DialogHeader";const Ln=({className:n,...t})=>r.jsx("div",{className:Ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...t});Ln.displayName="DialogFooter";const Zt=k.forwardRef(({className:n,...t},e)=>r.jsx(Km,{ref:e,className:Ue("text-lg font-semibold leading-none tracking-tight",n),...t}));Zt.displayName=Km.displayName;const kr=k.forwardRef(({className:n,...t},e)=>r.jsx(Gm,{ref:e,className:Ue("text-sm text-muted-foreground",n),...t}));kr.displayName=Gm.displayName;const hS=[{key:"title",getter:n=>n.getTitle()},{key:"html",getter:n=>n.getHtmlContainer()},{key:"confirmButtonText",getter:n=>n.getConfirmButton()},{key:"denyButtonText",getter:n=>n.getDenyButton()},{key:"cancelButtonText",getter:n=>n.getCancelButton()},{key:"footer",getter:n=>n.getFooter()},{key:"closeButtonHtml",getter:n=>n.getCloseButton()},{key:"iconHtml",getter:n=>n.getIconContent()},{key:"loaderHtml",getter:n=>n.getLoader()}],jv=()=>{};function tD(n){function t(a){const i={},o={},c=hS.map(l=>l.key);return Object.entries(a).forEach(l=>{let[d,u]=l;c.includes(d)&&Ne.isValidElement(u)?(i[d]=u,o[d]=" "):o[d]=u}),[i,o]}function e(a,i){Object.entries(i).forEach(o=>{let[c,l]=o;const u=hS.find(h=>h.key===c).getter(n),f=D_(u);f.render(l),a.__roots.push(f)})}function s(a){a.__roots.forEach(i=>{i.unmount()}),a.__roots=[]}return class extends n{static argsToParams(a){if(Ne.isValidElement(a[0])||Ne.isValidElement(a[1])){const i={};return["title","html","icon"].forEach((o,c)=>{a[c]!==void 0&&(i[o]=a[c])}),i}else return n.argsToParams(a)}_main(a,i){this.__roots=[],this.__params=Object.assign({},i,a);const[o,c]=t(this.__params),l=c.willOpen||jv,d=c.didOpen||jv,u=c.didDestroy||jv;return super._main(Object.assign({},c,{willOpen:f=>{e(this,o),l(f)},didOpen:f=>{setTimeout(()=>{d(f)})},didDestroy:f=>{u(f),s(this)}}))}update(a){Object.assign(this.__params,a),s(this);const[i,o]=t(this.__params);super.update(o),e(this,i)}}}const Ww=tD(Ce),Jre="FashionHub",fS=n=>new Date(n).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"}),mS=n=>n.loaiVoucher===0?`Giảm ${n.giaTri??0}%`:n.loaiVoucher===1?`Giảm ${n.giaTri!=null?n.giaTri.toLocaleString("vi-VN"):"0"} VND`:n.loaiVoucher===2?"Miễn phí vận chuyển":"Không xác định",Zre=n=>{switch(n){case 0:return"Giảm giá theo phần trăm";case 1:return"Giảm giá theo số tiền";case 2:return"Miễn phí vận chuyển";default:return"Không xác định"}},ese=n=>{navigator.clipboard.writeText(n).then(()=>{Ww.fire({icon:"success",title:"Thành công!",text:`Đã sao chép mã: ${n}`,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}).catch(()=>{Ww.fire({icon:"error",title:"Lỗi",text:"Không thể sao chép mã",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})})},tse=`
  @keyframes centerUp {
    0% { transform: scale(0.7) translateY(20px); opacity: 0; }
    100% { transform: scale(1) translateY(-20px); opacity: 1; }
  }
  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
  }
  .custom-scrollbar::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 3px;
  }
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 3px;
  }
  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: #555;
  }
`,nD=document.createElement("style");nD.innerText=tse;document.head.appendChild(nD);const rD=()=>{const[n,t]=k.useState([]),[e,s]=k.useState(!0),[a,i]=k.useState(null),[o,c]=k.useState(!1),[l,d]=k.useState(!1),[u,f]=k.useState(null),[h,m]=k.useState(null);k.useEffect(()=>{const p=JSON.parse(localStorage.getItem("user")||"null");c(!!p);const b=(p==null?void 0:p.maNguoiDung)||null;m(b),(async()=>{try{const v={"Content-Type":"application/json"};p!=null&&p.token&&(v.Authorization=`Bearer ${p.token}`);const y=await fetch("https://bicacuatho.azurewebsites.net/api/Voucher",{method:"GET",headers:v});if(!y.ok)throw new Error(`Không thể lấy danh sách voucher: ${y.status} ${y.statusText}`);const M=(await y.json()).map(P=>({...P,giaTri:P.giaTri??(P.loaiVoucher===2,0),ngayBatDau:new Date(new Date(P.ngayBatDau).getTime()-new Date(P.ngayBatDau).getTimezoneOffset()*6e4).toISOString().split("T")[0],ngayKetThuc:new Date(new Date(P.ngayKetThuc).getTime()-new Date(P.ngayKetThuc).getTimezoneOffset()*6e4).toISOString().split("T")[0]}));t(M)}catch(v){i(v.message),Ww.fire({icon:"error",title:"Lỗi",text:v.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{s(!1)}})()},[]);const A=p=>{f(p),d(!0)},g=n.filter(p=>p.coupons.some(b=>b.maNguoiDung===h&&b.trangThai===2));return e?r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-crocus-200 border-t-crocus-500 mx-auto mb-4"}),r.jsx("p",{className:"text-base font-medium text-gray-600",children:"Đang tải khuyến mãi..."})]}):a?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-pink-50",children:r.jsxs("div",{className:"text-center max-w-md mx-auto p-8 bg-white rounded-2xl shadow-xl",children:[r.jsx(Ea,{className:"w-16 h-16 text-red-400 mx-auto mb-4 animate-bounce"}),r.jsx("h3",{className:"text-xl font-medium text-gray-800 mb-4",children:"Có lỗi xảy ra"}),r.jsx("p",{className:"text-base text-red-600 mb-6",children:a}),r.jsx(fe,{className:"bg-crocus-500 hover:bg-crocus-600 text-white px-8 py-3 rounded-lg shadow-lg transform hover:scale-105 transition-all duration-300",onClick:()=>window.location.reload(),children:"Thử lại"})]})}):o?r.jsx("div",{className:"",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs(at,{className:"border-none shadow-xl bg-white rounded-2xl overflow-hidden",children:[r.jsxs(yt,{children:[r.jsx(Ct,{className:"text-2xl font-bold text-crocus-600",children:"Voucher của bạn"}),r.jsxs(us,{className:"text-sm",children:["Bạn hiện có ",r.jsxs(Vt,{className:"bg-crocus-100 text-crocus-700 px-3 py-1 rounded-full",children:[g.length," voucher"]})," khả dụng"]})]}),r.jsx(dt,{className:"p-6",children:g.length>0?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(p=>r.jsxs(at,{className:"group hover:shadow-xl transition-all duration-300 border-none bg-white rounded-2xl overflow-hidden transform hover:-translate-y-1",children:[r.jsx(yt,{className:"bg-crocus-500/10 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-2xl font-bold text-crocus-600 line-clamp-2",children:p.tenVoucher}),r.jsx(Vt,{className:`${p.trangThai===1?"bg-red-100 text-red-800 border-red-200":"bg-crocus-100 text-crocus-700 border-crocus-200"} text-sm font-medium px-3 py-1 rounded-full`,children:p.trangThai===1?"Hết hạn":"Còn hiệu lực"})]})}),r.jsxs(dt,{className:"p-4 space-y-3",children:[p.hinhAnh&&r.jsxs("div",{className:"relative overflow-hidden rounded-lg shadow-md",children:[r.jsx("img",{src:`data:image/jpeg;base64,${p.hinhAnh}`,alt:p.tenVoucher,className:"w-full h-36 object-cover transform group-hover:scale-105 transition-transform duration-300"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center text-gray-600",children:[r.jsx(or,{className:"h-4 w-4 text-crocus-500 mr-2"}),r.jsx("span",{className:"text-base font-medium",children:mS(p)})]}),r.jsxs("div",{className:"flex items-center text-gray-600",children:[r.jsx(Uo,{className:"h-4 w-4 text-crocus-500 mr-2"}),r.jsxs("span",{className:"text-base font-medium",children:["Hết hạn: ",fS(p.ngayKetThuc)]})]}),p.dieuKien>0&&r.jsx("div",{className:"bg-crocus-50 rounded-lg p-2",children:r.jsxs("p",{className:"text-sm text-crocus-700 font-medium",children:["Áp dụng cho đơn hàng từ ",p.dieuKien.toLocaleString("vi-VN")," VND"]})})]}),r.jsxs(fe,{variant:"outline",onClick:()=>A(p),className:"w-full bg-crocus-500 hover:bg-crocus-600 text-white border-none rounded-lg py-2 font-semibold transition-all duration-300 transform hover:scale-105 shadow-md",children:[r.jsx(or,{className:"h-4 w-4 mr-2"}),"Xem chi tiết"]})]})]},p.maVoucher))}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-crocus-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Ea,{className:"w-8 h-8 text-crocus-500"})}),r.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"Chưa có voucher nào"}),r.jsx("p",{className:"text-base text-gray-600 mb-6",children:"Bạn chưa có chương trình khuyến mãi nào."})]})})]}),r.jsx(Yt,{open:l,onOpenChange:d,children:r.jsxs(Kt,{className:"max-w-md w-full rounded-lg bg-white shadow-lg p-4",style:{animation:"centerUp 0.3s ease-out"},children:[r.jsx(rn,{className:"pb-2",children:r.jsx(Zt,{className:"text-xl font-bold text-crocus-600",children:"Chi Tiết Voucher"})}),u&&r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsxs("div",{className:"bg-crocus-50 rounded-lg p-3 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center mb-1",children:[r.jsx(Ea,{className:"h-5 w-5 text-crocus-500 mr-2"}),r.jsx("h2",{className:"text-base font-semibold text-gray-800 line-clamp-1",children:u.tenVoucher})]}),r.jsx("p",{className:"text-sm font-medium text-crocus-600",children:mS(u)})]}),u.hinhAnh&&r.jsxs("div",{className:"relative overflow-hidden rounded-md shadow-sm",children:[r.jsx("img",{src:`data:image/jpeg;base64,${u.hinhAnh}`,alt:u.tenVoucher,className:"w-full h-24 object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{className:"bg-gray-50 rounded-md p-2",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Ngày Kết Thúc"}),r.jsx("p",{className:"text-sm text-gray-800",children:u.ngayKetThuc?fS(u.ngayKetThuc):"Chưa cập nhật"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-md p-2",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Loại Voucher"}),r.jsx("p",{className:"text-sm text-gray-800",children:Zre(u.loaiVoucher)})]}),r.jsxs("div",{className:"bg-gray-50 rounded-md p-2",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Điều Kiện"}),r.jsx("p",{className:"text-sm text-gray-800",children:u.dieuKien?`${u.dieuKien.toLocaleString("vi-VN")} VND`:"Không giới hạn"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-md p-2",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Giá Trị Tối Đa"}),r.jsx("p",{className:"text-sm text-gray-800",children:u.giaTriToiDa?`${u.giaTriToiDa.toLocaleString("vi-VN")} VND`:"Không giới hạn"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Mô Tả"}),r.jsx("p",{className:"text-sm text-gray-800 bg-gray-50 rounded-md p-2 max-h-20 overflow-y-auto",children:u.moTa||"Chưa có mô tả chi tiết"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Mã Coupon"}),u.coupons&&u.coupons.length>0?r.jsx("div",{className:"max-h-40 overflow-y-auto custom-scrollbar",children:r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.coupons.filter(p=>p.maNguoiDung===h&&p.trangThai===2).map(p=>r.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white rounded-md border border-gray-200 shadow-sm",children:[r.jsx("span",{className:"font-mono text-sm text-crocus-600 flex-1 text-center",children:p.maNhap}),r.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>ese(p.maNhap),className:"bg-crocus-500 hover:bg-crocus-600 text-white border-none rounded-md px-2 py-0.5 text-xs",children:[r.jsx($U,{className:"h-3 w-3 mr-1"}),"Sao chép"]})]},p.id)),u.coupons.filter(p=>p.maNguoiDung===h&&p.trangThai===2).length===0&&r.jsx("p",{className:"text-sm text-gray-600 text-center col-span-2",children:"Không có mã coupon khả dụng"})]})}):r.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Không có mã coupon"})]}),r.jsx(fe,{onClick:()=>d(!1),className:"w-full bg-crocus-500 hover:bg-crocus-600 text-white rounded-md py-2 text-sm font-medium transition-all duration-300 shadow-sm",children:"Đóng"})]})]})})]})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 to-blue-50",children:r.jsxs("div",{className:"text-center max-w-lg mx-auto px-6",children:[r.jsx("div",{className:"bg-crocus-500 rounded-full p-10 w-28 h-28 mx-auto mb-8 animate-pulse",children:r.jsx(Ea,{className:"w-10 h-10 text-white mx-auto"})}),r.jsx("h2",{className:"text-4xl font-bold text-crocus-600 mb-6",children:Jre}),r.jsx("p",{className:"text-base text-gray-600 mb-8 font-light tracking-wide",children:"Đăng nhập ngay để khám phá các ưu đãi độc quyền dành riêng cho bạn"}),r.jsx(lt,{to:"/auth/login",className:"inline-block px-10 py-4 bg-crocus-500 text-white rounded-lg hover:bg-crocus-600 transition-all duration-300 transform hover:scale-105 shadow-lg font-semibold",children:"Đăng nhập ngay"})]})})},pS="FashionHub",nse=24*60*60*1e3,AS=1,sD=()=>{const[n,t]=k.useState([]),[e,s]=k.useState(null),[a,i]=k.useState(null),[o,c]=k.useState(!0),[l,d]=k.useState(null),[u,f]=k.useState(!1),[h,m]=k.useState(null),[A,g]=k.useState(!1),[p,b]=k.useState(null),[x,v]=k.useState(null),[y,S]=k.useState(0),[M,P]=k.useState(!1),[B,D]=k.useState(0),[L,O]=k.useState([]),[F,_]=k.useState(null),[E,T]=k.useState(!1),[w,C]=k.useState(!1),[j,N]=k.useState(!1),I=k.useRef(null),R=k.useRef(null),U=dr(),V=k.useRef(null),z=k.useRef(null),X=k.useRef(null),Q=k.useRef(null),q=k.useRef([]),H=k.useRef(null),$=k.useCallback(pe=>pe>=50?5:pe>=30?10:pe>=20?15:pe>=10?25:45,[]),G=k.useCallback(pe=>Math.max(0,nse-(Date.now()-pe)),[]),J=k.useCallback(pe=>{const Ae=Math.floor(pe/36e5),ie=Math.floor(pe%(1e3*60*60)/(1e3*60)),de=Math.floor(pe%(1e3*60)/1e3);return`${Ae} giờ ${ie} phút ${de} giây`},[]),te=k.useCallback(pe=>pe.loaiVoucher===0?`Giảm ${pe.giaTri}%`:pe.loaiVoucher===1?`Giảm ${K(pe.giaTri)}`:"Miễn phí vận chuyển",[]),K=k.useCallback(pe=>new Intl.NumberFormat("vi-VN").format(pe)+" VND",[]),ne=k.useCallback(pe=>new Date(pe).toLocaleDateString("vi-VN"),[]),ce=pe=>new Promise(Ae=>setTimeout(Ae,pe)),oe=pe=>{const Ae=document.createElement("div");Ae.className="gacha-confetti fixed inset-0 pointer-events-none z-[100] perspective-[100vmin]";const ie=[];for(let me=0;me<100;me++){const ve=document.createElement("span");ve.className="gacha-confetti-particle absolute block";const Me={dom:ve,x:50+Math.random()*10-5,y:50+Math.random()*10-5,speedX:Math.random()*1-.5,speedY:-2+Math.random()*1,size:8+Math.random()*4};ve.style.backgroundColor=`hsl(${Math.random()*360}deg, 80%, 60%)`,ve.style.width=`${Me.size}px`,ve.style.height=`${Me.size}px`,ve.style.setProperty("--rx",String(Math.random()*2-1)),ve.style.setProperty("--ry",String(Math.random()*2-1)),ve.style.setProperty("--rz",String(Math.random()*2-1)),ve.style.setProperty("--rs",String(Math.random()*2+.5)),ve.style.animation=`gacha-rotate linear ${Math.random()*2+.5}s infinite`,ie.push(Me),Ae.appendChild(ve)}const de=()=>{ie.forEach((me,ve)=>{me.y>100&&(ie.splice(ve,1),me.dom.remove()),me.dom.style.left=me.x+"%",me.dom.style.top=me.y+"%",me.x+=me.speedX,me.y+=me.speedY,me.speedY+=.02}),ie.length?requestAnimationFrame(de):Ae.remove()};de(),pe.appendChild(Ae)},ee=k.useCallback(()=>{if(!X.current)return;X.current.innerHTML="";let pe=0;const Ae=(de,me,ve=Math.floor(Math.random()*360),Me=Math.floor(Math.random()*360))=>{const xe=document.createElement("figure");xe.className="gacha-ball absolute rounded-full overflow-hidden",xe.setAttribute("data-id",String(++pe)),xe.style.width="8vh",xe.style.height="8vh",xe.style.backgroundColor=`hsl(${Me}deg, 80%, 70%)`,xe.style.border=`0.8vh solid hsl(${Me}deg, 50%, 55%)`;const Te=document.createElement("div");Te.className="gacha-ball-inner absolute rounded-full",Te.style.backgroundColor=`hsl(${Me+20}deg, 50%, 90%)`,Te.style.width="200%",Te.style.height="200%",Te.style.top="50%",Te.style.transform="translate(-25%, -5%)",xe.appendChild(Te),X.current.appendChild(xe);const _e=()=>{xe.style.left=`calc(${de} * (100% - 8vh))`,xe.style.top=`calc(${me} * (100% - 8vh))`,xe.style.transform=`rotate(${ve}deg)`},Pe={dom:xe,x:de,y:me,rotate:ve,size:8,setX:be=>{de=be,_e()},setY:be=>{me=be,_e()},setRotate:be=>{ve=be,_e()}};return _e(),Pe},ie=[Ae(.5,.6),Ae(0,.68),Ae(.22,.65),Ae(.7,.63),Ae(.96,.66),Ae(.75,.79),Ae(.5,.8),Ae(.9,.81),Ae(0,.82),Ae(1,.9),Ae(.25,.85),Ae(.9,1),Ae(.4,1),Ae(.65,1),Ae(.09,1)];O(ie),_(ie[7])},[]),W=k.useCallback(()=>{if(L.forEach(({dom:pe,rotate:Ae},ie)=>{const de=Math.random()*.1+.05,me=-(Math.random()*6+2),ve=Ae-Math.random()*10-5,Me=()=>{pe.style.transition=`transform ${de}s ease-out`,pe.style.transform=`translateY(${me}vh) rotate(${Ae}deg)`,setTimeout(()=>{pe.style.transition=`transform ${de}s ease-in`,pe.style.transform=`translateY(0) rotate(${ve}deg)`},de*1e3)},Be=setInterval(Me,de*2e3);q.current.push(Be),Me()}),V.current){const pe=setInterval(()=>{V.current&&(V.current.style.transform="translateX(2px)",setTimeout(()=>{V.current&&(V.current.style.transform="translateX(0)")},100))},200);q.current.push(pe)}},[L]),Y=k.useCallback(async()=>{q.current.forEach(pe=>clearInterval(pe)),q.current=[],L.forEach(({dom:pe,rotate:Ae})=>{pe.style.transition="transform 0.1s",pe.style.transform=`translateY(0) rotate(${Ae}deg)`}),V.current&&(V.current.style.transform="translateX(0)"),await ce(200)},[L]),Z=k.useCallback(async()=>{if(!(F!=null&&F.dom))return;const pe=F.dom.getBoundingClientRect(),Ae=pe.left/window.innerHeight*100,ie=pe.top/window.innerHeight*100;if(H.current){const me=H.current.querySelector(".gacha-prize-ball-container");me&&me.appendChild(F.dom)}F.dom.style.position="absolute",F.dom.style.left="0",F.dom.style.top="0",F.dom.style.zIndex="1000",F.dom.style.transform=`translate(${Ae}vh, ${ie}vh) rotate(${F.rotate}deg)`,F.dom.style.transition="all 1s ease-in-out";const de=document.querySelector(".gacha-game-layer");de&&(de.style.filter="brightness(0.6) saturate(0.8)",de.style.transition="0.5s linear"),setTimeout(()=>{F.dom&&(F.dom.style.transform="translate(50vw, 50vh) scale(2) rotate(-180deg)")},100),setTimeout(()=>{F.dom&&(F.dom.style.transform="translate(50vw, 50vh) scale(2.1, 1.9) rotate(-180deg)",setTimeout(()=>{F.dom&&(F.dom.style.transform="translate(50vw, 50vh) scale(1.9, 2.1) rotate(-180deg)",setTimeout(()=>{F.dom&&(F.dom.style.transform="translate(50vw, 50vh) scale(2.6, 1.6) rotate(-180deg)",setTimeout(()=>{F.dom&&(F.dom.style.transform="translate(50vw, 50vh) scale(1.6, 2.4) rotate(-180deg)",setTimeout(()=>{se()},100))},500))},300))},200))},1e3)},[F]),se=k.useCallback(()=>{oe(document.body),F!=null&&F.dom&&(F.dom.style.opacity="0"),Q.current&&Q.current.querySelector("h2"),P(!0),Tn({title:"🎉 Chúc mừng!",description:`Bạn đã gắp được: ${e==null?void 0:e.tenVoucher} (${e?te(e):""})`}),R.current=setTimeout(()=>{P(!1),N(!0)},2e3)},[F,e,te]),re=k.useCallback(async()=>{try{const pe=await fetch("https://bicacuatho.azurewebsites.net/api/Voucher",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!pe.ok)throw new Error("Không thể lấy danh sách voucher");const Ae=await pe.json(),ie=new Date,de=Ae.filter(me=>{var xe;const ve=new Date(me.ngayBatDau),Me=new Date(me.ngayKetThuc),Be=(xe=me.coupons)==null?void 0:xe.some(Te=>Te.trangThai===0);return me.trangThai===0&&ve<=ie&&Me>=ie&&Be}).map(me=>({...me,tyLe:$(me.giaTri)}));t(de)}catch(pe){d(pe.message),Tn({title:"Lỗi",description:pe.message,variant:"destructive"})}finally{c(!1)}},[$]),le=k.useCallback(async()=>{try{const pe=await RP("VoucherDB",1,{upgrade(Ae){Ae.createObjectStore("userData")}});v(pe)}catch(pe){console.error("Không thể khởi tạo IndexedDB:",pe),Tn({title:"Lỗi",description:"Không thể khởi tạo cơ sở dữ liệu!",variant:"destructive"})}},[]);k.useEffect(()=>{le()},[le]),k.useEffect(()=>{const pe=JSON.parse(localStorage.getItem("user")||"null");g(!!pe),b((pe==null?void 0:pe.maNguoiDung)||null),x&&((async()=>{if(!(!x||!(pe!=null&&pe.maNguoiDung)))try{const ie=await x.get("userData",pe.maNguoiDung);ie&&(ie.lastSpinTime&&m(ie.lastSpinTime),ie.spinCount&&D(ie.spinCount))}catch(ie){console.error("Lỗi khi tải dữ liệu từ IndexedDB:",ie),Tn({title:"Lỗi",description:"Không thể tải dữ liệu từ cơ sở dữ liệu!",variant:"destructive"})}})(),re())},[x,re]),k.useEffect(()=>{if(!h){S(0);return}const pe=()=>{const Ae=G(h);S(Ae),Ae===0&&I.current&&(clearInterval(I.current),I.current=null)};return pe(),I.current=setInterval(pe,1e3),()=>{I.current&&clearInterval(I.current)}},[h,G]),k.useEffect(()=>()=>{R.current&&clearTimeout(R.current),I.current&&clearInterval(I.current)},[]),k.useEffect(()=>{!o&&n.length>0&&setTimeout(()=>{ee()},500*AS)},[o,n,ee,E]);const ae=k.useCallback(()=>{const pe=n.reduce((de,me)=>de+(me.tyLe||0),0),Ae=Math.random()*pe;let ie=0;for(const de of n)if(ie+=de.tyLe||0,Ae<=ie)return de;return n[n.length-1]},[n]),ue=k.useCallback(async()=>{var pe;if(!A||!p){Tn({title:"Cảnh báo",description:"Vui lòng đăng nhập để gắp thú may mắn!",variant:"destructive"}),U("/auth/login");return}if(!(y>0||u||n.length===0||!x)){T(!0),C(!1),f(!0),s(null),i(null),P(!1),N(!1);try{const Ae=ae();if(!Ae)throw new Error("Không thể xác định voucher chiến thắng.");const ie=(pe=Ae.coupons)==null?void 0:pe.find(de=>de.trangThai===0);if(!ie)throw new Error("Voucher chiến thắng không có coupon hợp lệ.");s(Ae),i(ie),z.current&&(z.current.style.transition="transform 0.3s ease-in",z.current.style.transform="rotate(90deg)",setTimeout(async()=>{W(),await ce(2e3*AS),await Y(),F!=null&&F.dom&&(F.dom.style.transition="transform 0.5s ease-in",F.dom.style.transform="translateX(-3vh) rotate("+(F.rotate+10)+"deg)",setTimeout(()=>{F!=null&&F.dom&&(F.dom.style.transform="translateY(12vh) translateX(-3vh) rotate("+(F.rotate+10)+"deg)",setTimeout(()=>{F!=null&&F.dom&&(F.dom.style.transform="translateY(30vh) translateX(-3vh) rotate("+(F.rotate+10)+"deg)",setTimeout(()=>{F!=null&&F.dom&&(F.dom.style.transform="translateY(29vh) translateX(-3vh) rotate("+(F.rotate+10)+"deg)",setTimeout(()=>{if(F!=null&&F.dom){F.dom.style.transform="translateY(30vh) translateX(-3vh) rotate("+(F.rotate+10)+"deg)",F.dom.style.cursor="pointer";let de=!0;F.dom.onclick=()=>{F!=null&&F.dom&&(F.dom.style.cursor="default",F.dom.onclick=null),de=!1,C(!1),Z();const me=Date.now();m(me),D(ve=>ve+1),x&&p&&x.put("userData",{lastSpinTime:me,spinCount:B+1},p)},setTimeout(()=>{de&&C(!0)},2e3)}},100))},200))},500))},500)),z.current&&(z.current.style.transition="transform 1s ease-out",z.current.style.transform="rotate(0deg)"),f(!1)},300))}catch(Ae){console.error("Lỗi khi gắp:",Ae),Tn({title:"Lỗi",description:Ae.message,variant:"destructive"}),f(!1)}}},[A,p,x,y,u,n,B,ae,U,W,Y,Z,F]),he=k.useCallback(async(pe,Ae)=>{if(!p){Tn({title:"Lỗi",description:"Vui lòng đăng nhập để lưu mã giảm giá.",variant:"destructive"});return}try{const ie=localStorage.getItem("token");if(!ie)throw new Error("Không tìm thấy token");if(!(await fetch(`https://bicacuatho.azurewebsites.net/api/Voucher/Coupon/${pe}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ie}`},body:JSON.stringify({maNguoiDung:p})})).ok)throw new Error("Không thể lưu mã giảm giá");i(me=>me?{...me,trangThai:2,maNguoiDung:p}:null),t(me=>me.map(ve=>{var Me;return{...ve,coupons:(Me=ve.coupons)==null?void 0:Me.map(Be=>Be.id===pe?{...Be,trangThai:2,maNguoiDung:p}:Be)}})),Tn({title:"Thành công",description:`Đã lưu mã ${Ae} thành công!`})}catch(ie){Tn({title:"Lỗi",description:ie.message,variant:"destructive"})}},[p]);return o?r.jsx("div",{className:"container mx-auto py-8 flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"text-center",children:r.jsx("p",{className:"text-gray-600",children:"Đang tải..."})})}):l||n.length===0?r.jsx("div",{className:"container mx-auto py-8 flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx(or,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 mb-4",children:l||"Chưa có voucher nào dành cho bạn."}),r.jsx(fe,{onClick:()=>{c(!0),d(null),re()},className:"bg-purple-500 hover:bg-purple-600 text-white",children:"Thử lại"})]})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50",children:[r.jsx("style",{children:`
        @import url("https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c&display=swap");
        
        .gacha-main .gacha-container {
          width: 100%;
          height: auto;
          overflow: hidden;
          position: relative;
        }
        
        .gacha-game-layer {
          width: 100%;
          max-width: 360px;
          height: 600px;
          overflow: visible;
          display: flex;
          align-items: center;
          justify-content: center;
          position: relative;
          background: transparent;
          margin: 0 auto;
          transform: scale(0.75);
        }
        
        .gacha-machine-container {
          position: relative;
          white-space: nowrap;
        }
        
        .gacha-machine {
          position: relative;
          z-index: 1;
          max-height: 85%;
          pointer-events: none;
          filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.2));
        }
        
        .gacha-machine-title {
          position: absolute;
          display: block;
          top: 8%;
          width: 100%;
          text-align: center;
          font-size: 1.8rem;
          font-weight: bold;
          z-index: 3;
          color: #fff;
          text-shadow: 0px 0px 10px #ad8bd6, 0px 0px 20px #ad8bd6, 0px 2px 4px rgba(0, 0, 0, 0.3);
          filter: drop-shadow(0px 3px 6px rgba(0, 0, 0, 0.2));
        }
        
        .gacha-machine-title span {
          animation: gacha-blink 1.2s linear infinite;
        }
        
        .gacha-machine-title span:nth-child(1) { animation-delay: 0.1s; }
        .gacha-machine-title span:nth-child(2) { animation-delay: 0.2s; }
        .gacha-machine-title span:nth-child(3) { animation-delay: 0.3s; }
        .gacha-machine-title span:nth-child(4) { animation-delay: 0.4s; }
        .gacha-machine-title span:nth-child(5) { animation-delay: 0.5s; }
        .gacha-machine-title span:nth-child(6) { animation-delay: 0.6s; }
        .gacha-machine-title span:nth-child(7) { animation-delay: 0.7s; }
        
        .gacha-handle {
          z-index: 3;
          position: absolute;
          height: 4.5%;
          left: 13%;
          top: 69%;
          cursor: pointer;
          transition: all 0.2s ease;
          filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
        }
        
        .gacha-handle:hover {
          transform: scale(1.05);
          filter: drop-shadow(0 6px 12px rgba(0, 0, 0, 0.4));
        }
        
        .gacha-balls {
          position: absolute;
          top: 22%;
          left: 2%;
          width: 96%;
          height: 34.5%;
        }
        
        .gacha-ui-layer {
          width: 100%;
          height: 100%;
          overflow: hidden;
          position: absolute;
          top: 0;
          left: 0;
          z-index: 1;
          pointer-events: none;
        }
        
        .gacha-title-container {
          width: 100%;
          height: 100%;
          overflow: hidden;
          position: absolute;
          top: 0;
          left: 0;
          z-index: 10;
        }
        
        .gacha-title {
          transform: translateY(80%);
        }
        
        .gacha-title h2 {
          text-shadow: 0px 0px 10px #f06e5b, 0px 0px 20px #f06e5b;
          filter: drop-shadow(0px 3px 6px rgba(0, 0, 0, 0.3));
          text-align: center;
          font-size: 1.6rem;
          font-weight: bold;
          color: #fff;
        }
        
        .gacha-prize-container {
          width: 100%;
          height: 100%;
          overflow: hidden;
          position: absolute;
          top: 0;
          left: 0;
        }
        
        .gacha-prize-ball-container {
          width: 100%;
          height: 100%;
          overflow: hidden;
          position: absolute;
          top: 0;
          left: 0;
        }
        
        .gacha-prize-reward-container {
          width: 100%;
          height: 100%;
          overflow: hidden;
          position: absolute;
          top: 0;
          left: 0;
          z-index: 1;
          opacity: 0;
          transition: opacity 0.3s ease;
        }
        
        .gacha-prize-reward-container > * {
          display: block;
          position: absolute;
          width: 100%;
          height: 100%;
          top: 0;
          left: 0;
          display: flex;
          align-items: center;
          justify-content: center;
        }
        
        .gacha-shine img {
          height: 100%;
          animation: gacha-spin linear 5s infinite;
        }
        
        .gacha-ball {
          width: 8%;
          height: 8%;
          border-radius: 100%;
          position: absolute;
          overflow: hidden;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
          transition: all 0.3s ease;
        }
        
        .gacha-ball:hover {
          transform: scale(1.1);
          box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }
        
        .gacha-ball::after {
          content: "";
          display: block;
          position: absolute;
          top: 50%;
          height: 200%;
          width: 200%;
          border-radius: 100%;
          transform: translate(-25%, -5%);
        }
        
        .gacha-wiggle {
          animation: gacha-wiggle 2s ease-in-out infinite;
        }
        
        @keyframes gacha-blink {
          0% { color: #ffc7e5; text-shadow: 0px 0px 10px #ffc7e5, 0px 0px 20px #ffc7e5; }
          50% { color: #fcff33; text-shadow: 0px 0px 10px #fcff33, 0px 0px 20px #fcff33; }
          100% { color: #ffc7e5; text-shadow: 0px 0px 10px #ffc7e5, 0px 0px 20px #ffc7e5; }
        }
        
        @keyframes gacha-wiggle {
          0% { transform: rotate(-3deg) scale(1); }
          25% { transform: rotate(3deg) scale(1.02); }
          50% { transform: rotate(-2deg) scale(1); }
          75% { transform: rotate(2deg) scale(1.01); }
          100% { transform: rotate(-3deg) scale(1); }
        }
        
        @keyframes gacha-spin {
          from { transform: rotate(1turn); }
          to { transform: rotate(0turn); }
        }
        
        @keyframes gacha-rotate {
          from { transform: rotate3d(var(--rx), var(--ry), var(--rz), 0turn); }
          to { transform: rotate3d(var(--rx), var(--ry), var(--rz), 1turn); }
        }
        
        .gacha-confetti span {
          display: block;
          position: absolute;
          background-color: blue;
          animation: gacha-rotate linear infinite;
        }

        @keyframes gacha-bounceIn {
          0% { transform: scale(0.3); opacity: 0; }
          50% { transform: scale(1.05); opacity: 1; }
          70% { transform: scale(0.9); }
          100% { transform: scale(1); }
        }
        .gacha-animate-bounceIn { animation: gacha-bounceIn 0.6s ease-out; }
        
        @keyframes gacha-animate-spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        .gacha-animate-spin { animation: gacha-animate-spin 1s linear infinite; }
      `}),r.jsxs("div",{className:"container mx-auto py-8 px-4",children:[r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:pS}),r.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto text-lg",children:"Gắp để nhận ngay mã giảm giá hoặc miễn phí vận chuyển!"})]}),r.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-12",children:[r.jsx("div",{className:"relative flex-shrink-0",children:r.jsxs("div",{className:"gacha-game-layer",children:[r.jsxs("div",{className:"gacha-machine-container",ref:V,children:[r.jsx("div",{className:"gacha-balls",ref:X}),r.jsx("img",{className:"gacha-machine",src:"https://assets.codepen.io/2509128/gotcha.svg",alt:"Gacha Machine"}),r.jsx("div",{className:"gacha-machine-title",children:[...pS].map((pe,Ae)=>r.jsx("span",{children:pe},Ae))}),r.jsx("img",{className:"gacha-handle",src:"https://assets.codepen.io/2509128/handle.svg",alt:"Handle",ref:z,onClick:ue,style:{cursor:A&&y===0&&!u?"pointer":"default"}})]}),r.jsxs("div",{className:"gacha-ui-layer",children:[r.jsx("div",{className:"gacha-title-container",children:r.jsx("div",{className:"gacha-title",ref:Q,children:r.jsx("h2",{className:"gacha-wiggle"})})}),r.jsxs("div",{className:"gacha-prize-container",ref:H,children:[r.jsx("div",{className:"gacha-prize-ball-container"}),r.jsx("div",{className:"gacha-prize-reward-container",children:r.jsx("div",{className:"gacha-shine",children:r.jsx("img",{src:"https://assets.codepen.io/2509128/shine.png",alt:"Shine"})})})]})]})]})}),r.jsxs("div",{className:"w-full max-w-md",children:[r.jsx("div",{className:"text-center mb-8",children:A?r.jsxs("div",{className:"space-y-4",children:[r.jsx(fe,{onClick:ue,disabled:u||y>0,className:`px-10 py-4 text-xl font-bold rounded-2xl shadow-lg transform transition-all duration-200 ${!u&&y<=0?"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white hover:shadow-xl hover:scale-105":"bg-gray-400 text-gray-600 cursor-not-allowed"}`,children:u?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"gacha-animate-spin rounded-full h-6 w-6 border-2 border-white border-t-transparent mr-3 inline-block"}),"Đang gắp..."]}):y>0?r.jsxs(r.Fragment,{children:[r.jsx(Uo,{className:"w-6 h-6 mr-3 inline-block"}),"Chờ ",J(y)]}):r.jsxs(r.Fragment,{children:[r.jsx(or,{className:"w-6 h-6 mr-3 inline-block"}),"Gắp ngay"]})}),y<=0&&!u&&r.jsx("p",{className:"text-sm text-gray-500",children:"Click vào cần gắp để bắt đầu!"})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs(fe,{onClick:()=>U("/auth/login"),className:"px-10 py-4 text-xl font-bold rounded-2xl bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[r.jsx(or,{className:"w-6 h-6 mr-3"}),"Đăng nhập để gắp"]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Đăng nhập để bắt đầu gắp thú may mắn!"})]})}),e&&a&&j&&!M&&r.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-xl",children:[r.jsxs("div",{className:"text-center mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-purple-600",children:"🎉 Chúc mừng bạn!"}),r.jsx("p",{className:"font-semibold text-gray-800",children:e.tenVoucher}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:te(e)})]}),e.hinhAnh&&r.jsx("img",{src:`data:image/jpeg;base64,${e.hinhAnh}`,alt:e.tenVoucher,className:"w-full h-48 object-cover rounded-lg mb-4",loading:"eager"}),r.jsxs("div",{className:"space-y-3",children:[e.moTa&&r.jsx("p",{className:"text-gray-600 text-sm text-center italic",children:e.moTa}),r.jsxs("div",{className:"text-center text-sm text-gray-500",children:[r.jsxs("p",{children:["Hết hạn: ",ne(e.ngayKetThuc)]}),e.dieuKien&&r.jsxs("p",{children:["Áp dụng cho đơn hàng từ ",K(e.dieuKien)]}),e.giaTriToiDa&&r.jsxs("p",{children:["Giảm tối đa: ",K(e.giaTriToiDa)]})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[r.jsx("div",{className:"flex-1 bg-gray-100 border border-purple-200 rounded-lg p-2 text-center",children:r.jsx("span",{className:"font-mono font-bold text-purple-600",children:a.maNhap})}),r.jsx(fe,{onClick:()=>he(a.id,a.maNhap),disabled:a.trangThai===2,className:"bg-purple-500 hover:bg-purple-600 text-white",children:a.trangThai===2?"Đã lưu":"Lưu"})]})]})]})]})]}),r.jsxs("div",{className:"text-center mt-12 bg-white/50 backdrop-blur-sm rounded-2xl p-6 max-w-md mx-auto",children:[r.jsx("p",{className:"text-gray-700 font-medium",children:"🎯 Mỗi tài khoản chỉ được gắp 1 lần trong 24 giờ"}),A&&r.jsxs("p",{className:"text-gray-500 text-sm mt-2 flex items-center justify-center gap-2",children:[r.jsx(or,{className:"w-4 h-4"}),"Số lần đã gắp: ",r.jsx("span",{className:"font-bold text-purple-600",children:B})]})]})]}),M&&e&&a&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full mx-4 text-center gacha-animate-bounceIn",children:[r.jsx("button",{onClick:()=>{P(!1),R.current&&(clearTimeout(R.current),R.current=null),N(!0)},className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-2xl font-bold",children:"×"}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-3xl font-bold text-purple-600 mb-2",children:"Chúc mừng!"}),r.jsx("p",{className:"text-lg text-gray-600",children:"Bạn đã gắp được voucher"})]}),e.hinhAnh&&r.jsx("img",{src:`data:image/jpeg;base64,${e.hinhAnh}`,alt:e.tenVoucher,className:"w-full h-48 object-cover rounded-lg mb-4",loading:"eager"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-xl text-gray-800",children:e.tenVoucher}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:te(e)})]}),e.moTa&&r.jsx("p",{className:"text-gray-600 text-sm italic",children:e.moTa}),r.jsxs("div",{className:"text-sm text-gray-500",children:[r.jsxs("p",{children:["Hết hạn: ",ne(e.ngayKetThuc)]}),e.dieuKien&&r.jsxs("p",{children:["Áp dụng cho đơn hàng từ ",K(e.dieuKien)]}),e.giaTriToiDa&&r.jsxs("p",{children:["Giảm tối đa: ",K(e.giaTriToiDa)]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex-1 bg-gray-100 border border-purple-200 rounded-lg p-2 text-center",children:r.jsx("span",{className:"font-mono font-bold text-purple-600",children:a.maNhap})}),r.jsx(fe,{onClick:()=>he(a.id,a.maNhap),disabled:a.trangThai===2,className:"bg-purple-500 hover:bg-purple-600 text-white",children:a.trangThai===2?"Đã lưu":"Lưu"})]}),r.jsx(fe,{onClick:()=>{P(!1),R.current&&(clearTimeout(R.current),R.current=null),N(!0)},className:"w-full bg-purple-500 hover:bg-purple-600 text-white mt-4",children:"Đóng"})]})]})})]})]})},rse="FashionHub",gS=["#ff6b6b","#ffb347","#ffe66d","#6bcB77","#4ecdc4","#5eead4","#48bfe3","#5c7cfa","#a259ff","#f06595","#ff87ab","#ff9ff3","#feca57","#00d2d3","#00b894","#fd79a8","#e17055","#fab1a0","#d63031","#ffeaa7"],sse=24*60*60*1e3,Xw=400,$s=Xw/2,xS=7e3,aD=()=>{const[n,t]=k.useState([]),[e,s]=k.useState(null),[a,i]=k.useState(null),[o,c]=k.useState(!0),[l,d]=k.useState(null),[u,f]=k.useState(!1),[h,m]=k.useState(0),[A,g]=k.useState(null),[p,b]=k.useState(!1),[x,v]=k.useState(null),[y,S]=k.useState(null),[M,P]=k.useState(0),[B,D]=k.useState(!1),[L,O]=k.useState(0),F=k.useRef(null),_=k.useRef(null),E=dr(),T=k.useCallback(Q=>Q>=50?5:Q>=30?10:Q>=20?15:Q>=10?25:45,[]),w=k.useCallback(Q=>Math.max(0,sse-(Date.now()-Q)),[]),C=k.useCallback(Q=>{const q=Math.floor(Q/36e5),H=Math.floor(Q%(1e3*60*60)/(1e3*60)),$=Math.floor(Q%(1e3*60)/1e3);return`${q} giờ ${H} phút ${$} giây`},[]),j=k.useCallback(Q=>Q.loaiVoucher===0?`Giảm ${Q.giaTri}%`:Q.loaiVoucher===1?`Giảm ${N(Q.giaTri)}`:"Miễn phí vận chuyển",[]),N=k.useCallback(Q=>new Intl.NumberFormat("vi-VN").format(Q)+" VND",[]),I=k.useCallback(Q=>new Date(Q).toLocaleDateString("vi-VN"),[]),R=k.useCallback(async()=>{try{const Q=await fetch("https://bicacuatho.azurewebsites.net/api/Voucher",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!Q.ok)throw new Error("Không thể lấy danh sách voucher");const q=await Q.json(),H=new Date,$=q.filter(G=>{var ne;const J=new Date(G.ngayBatDau),te=new Date(G.ngayKetThuc),K=(ne=G.coupons)==null?void 0:ne.some(ce=>ce.trangThai===0);return G.trangThai===0&&J<=H&&te>=H&&K}).map(G=>({...G,tyLe:T(G.giaTri)}));t($)}catch(Q){d(Q.message),Tn({title:"Lỗi",description:Q.message,variant:"destructive"})}finally{c(!1)}},[T]);k.useEffect(()=>{(async()=>{try{const q=await RP("VoucherDB",1,{upgrade(H){H.createObjectStore("userData")}});S(q)}catch(q){console.error("Không thể khởi tạo IndexedDB:",q),Tn({title:"Lỗi",description:"Không thể khởi tạo cơ sở dữ liệu!",variant:"destructive"})}})()},[]),k.useEffect(()=>{const Q=JSON.parse(localStorage.getItem("user")||"null");b(!!Q),v((Q==null?void 0:Q.maNguoiDung)||null),y&&((async()=>{if(!(!y||!(Q!=null&&Q.maNguoiDung)))try{const H=await y.get("userData",Q.maNguoiDung);H&&(H.lastSpinTime&&g(H.lastSpinTime),H.spinCount&&O(H.spinCount))}catch(H){console.error("Lỗi khi tải dữ liệu từ IndexedDB:",H),Tn({title:"Lỗi",description:"Không thể tải dữ liệu từ cơ sở dữ liệu!",variant:"destructive"})}})(),R())},[y,R]),k.useEffect(()=>{if(!A){P(0);return}const Q=()=>{const q=w(A);P(q),q===0&&F.current&&(clearInterval(F.current),F.current=null)};return Q(),F.current=setInterval(Q,1e3),()=>{F.current&&clearInterval(F.current)}},[A,w]),k.useEffect(()=>()=>{_.current&&clearTimeout(_.current),F.current&&clearInterval(F.current)},[]);const U=k.useCallback(()=>{const Q=n.reduce(($,G)=>$+(G.tyLe||0),0),q=Math.random()*Q;let H=0;for(const $ of n)if(H+=$.tyLe||0,q<=H)return $;return n[n.length-1]},[n]),V=k.useCallback(async()=>{var Q;if(!p||!x){Tn({title:"Cảnh báo",description:"Vui lòng đăng nhập để quay vòng quay may mắn!",variant:"destructive"}),E("/auth/login");return}if(!(M>0||u||n.length===0||!y)){s(null),i(null),D(!1),f(!0);try{const q=U();if(!q)throw new Error("Không thể xác định voucher chiến thắng.");const H=(Q=q.coupons)==null?void 0:Q.find(ne=>ne.trangThai===0);if(!H)throw new Error("Voucher chiến thắng không có coupon hợp lệ.");const $=n.findIndex(ne=>ne.maVoucher===q.maVoucher);if($===-1)throw new Error("Voucher chiến thắng không có trong danh sách.");const G=360/n.length,J=360-($*G+G/2),K=(7+Math.floor(Math.random()*3))*360+J;m(K),setTimeout(async()=>{f(!1),s(q),i(H),D(!0);const ne=Date.now();g(ne),O(ce=>ce+1),await y.put("userData",{lastSpinTime:ne,spinCount:L+1},x),Tn({title:"🎉 Chúc mừng!",description:`Bạn đã trúng: ${q.tenVoucher} (${j(q)})`}),_.current=setTimeout(()=>{D(!1)},5e3)},xS)}catch(q){console.error("Lỗi khi quay:",q),Tn({title:"Lỗi",description:q.message,variant:"destructive"}),f(!1)}}},[p,x,y,M,u,n,L,U,j,E]),z=k.useCallback((Q,q)=>{const $=360/n.length,G=$*q,J=G+$,te=(G-90)*Math.PI/180,K=(J-90)*Math.PI/180,ne=$s+($s-20)*Math.cos(te),ce=$s+($s-20)*Math.sin(te),oe=$s+($s-20)*Math.cos(K),ee=$s+($s-20)*Math.sin(K),W=$>180?1:0,Y=[`M ${$s} ${$s}`,`L ${ne} ${ce}`,`A ${$s-20} ${$s-20} 0 ${W} 1 ${oe} ${ee}`,"Z"].join(" "),Z=G+$/2,se=(Z-90)*Math.PI/180,re=$s*.7,le=$s+re*Math.cos(se),ae=$s+re*Math.sin(se),ue=Q.loaiVoucher===0?`${Q.giaTri}%`:Q.loaiVoucher===1?N(Q.giaTri):"Free Ship";return r.jsxs("g",{children:[r.jsx("path",{d:Y,fill:gS[q%gS.length],stroke:"#FFF",strokeWidth:3}),r.jsx("text",{x:le,y:ae,fontSize:"16",fontWeight:"bold",fill:"#FFF",textAnchor:"middle",alignmentBaseline:"middle",transform:`rotate(${Z}, ${le}, ${ae})`,children:ue})]},Q.maVoucher)},[n.length,N]),X=k.useCallback(async(Q,q)=>{if(!x){Tn({title:"Lỗi",description:"Vui lòng đăng nhập để lưu mã giảm giá.",variant:"destructive"});return}try{const H=localStorage.getItem("token");if(!H)throw new Error("Không tìm thấy token");if(!(await fetch(`https://bicacuatho.azurewebsites.net/api/Voucher/Coupon/${Q}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${H}`},body:JSON.stringify({maNguoiDung:x})})).ok)throw new Error("Không thể lưu mã giảm giá");i(G=>G?{...G,trangThai:2,maNguoiDung:x}:null),t(G=>G.map(J=>{var te;return{...J,coupons:(te=J.coupons)==null?void 0:te.map(K=>K.id===Q?{...K,trangThai:2,maNguoiDung:x}:K)}})),Tn({title:"Thành công",description:`Đã lưu mã ${q} thành công!`})}catch(H){Tn({title:"Lỗi",description:H.message,variant:"destructive"})}},[x]);return o?r.jsx("div",{className:"container mx-auto py-8 flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Đang tải..."})]})}):l||n.length===0?r.jsx("div",{className:"container mx-auto py-8 flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ea,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 mb-4",children:l||"Chưa có voucher nào dành cho bạn."}),r.jsx(fe,{onClick:()=>{c(!0),d(null),R()},className:"bg-purple-500 hover:bg-purple-600 text-white",children:"Thử lại"})]})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50",children:[r.jsx("style",{children:`
          @keyframes bounceIn {
            0% { transform: scale(0.3); opacity: 0; }
            50% { transform: scale(1.05); opacity: 1; }
            70% { transform: scale(0.9); }
            100% { transform: scale(1); }
          }
          .wheel {
            transition: transform ${xS}ms cubic-bezier(0.23, 1, 0.32, 1);
          }
        `}),r.jsx("div",{className:"container mx-auto py-8 px-4",children:r.jsxs(Na,{defaultValue:"wheel",className:"w-full max-w-6xl mx-auto",children:[r.jsxs(sa,{className:"grid grid-cols-3 mb-8",children:[r.jsxs(kn,{value:"wheel",children:[r.jsx(or,{className:"mr-2 h-4 w-4"}),"Vòng Quay May Mắn"]}),r.jsxs(kn,{value:"gapthu",children:[r.jsx(Ea,{className:"mr-2 h-4 w-4"}),"Gắp Thú May Mắn"]}),r.jsxs(kn,{value:"promotions",children:[r.jsx(Ea,{className:"mr-2 h-4 w-4"}),"Mã Voucher Cá Nhân"]})]}),r.jsx(Fn,{value:"wheel",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-4xl font-bold mb-4",children:rse}),r.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto text-lg",children:"Quay để nhận ngay mã giảm giá hoặc miễn phí vận chuyển!"})]}),r.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-12",children:[r.jsx("div",{className:"relative flex-shrink-0",children:r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"relative wheel",style:{transform:`rotate(${h}deg)`,filter:"drop-shadow(0 10px 20px rgba(0, 0, 0, 0.2))"},children:[r.jsx("svg",{width:Xw,height:Xw,className:"rounded-full",children:n.map(z)}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(or,{className:"w-8 h-8 text-white"})})})]}),r.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-2 z-10",children:r.jsx("div",{className:"w-0 h-0 border-l-[15px] border-r-[15px] border-b-[30px] border-l-transparent border-r-transparent border-b-red-500 filter drop-shadow-lg transform rotate-180"})})]})}),r.jsxs("div",{className:"w-full max-w-md",children:[r.jsx("div",{className:"text-center mb-8",children:p?r.jsx(fe,{onClick:V,disabled:u||M>0,className:`px-8 py-4 text-lg font-bold rounded-xl ${!u&&M<=0?"bg-purple-500 hover:bg-purple-600 text-white":"bg-gray-400 text-gray-600"}`,children:u?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-2 inline-block"}),"Đang quay..."]}):M>0?r.jsxs(r.Fragment,{children:[r.jsx(Uo,{className:"w-5 h-5 mr-2 inline-block"}),"Chờ ",C(M)]}):r.jsxs(r.Fragment,{children:[r.jsx(or,{className:"w-5 h-5 mr-2 inline-block"}),"Quay ngay"]})}):r.jsx(fe,{onClick:()=>E("/auth/login"),className:"px-8 py-4 text-lg font-bold rounded-xl bg-green-500 hover:bg-green-600 text-white",children:"Đăng nhập để quay"})}),e&&a&&!B&&r.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-xl",children:[r.jsxs("div",{className:"text-center mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-purple-600",children:"🎉 Chúc mừng bạn!"}),r.jsx("p",{className:"font-semibold text-gray-800",children:e.tenVoucher}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:j(e)})]}),e.hinhAnh&&r.jsx("img",{src:`data:image/jpeg;base64,${e.hinhAnh}`,alt:e.tenVoucher,className:"w-full h-48 object-cover rounded-lg mb-4",loading:"eager"}),r.jsxs("div",{className:"space-y-3",children:[e.moTa&&r.jsx("p",{className:"text-gray-600 text-sm text-center italic",children:e.moTa}),r.jsxs("div",{className:"text-center text-sm text-gray-500",children:[r.jsxs("p",{children:["Hết hạn: ",I(e.ngayKetThuc)]}),e.dieuKien&&r.jsxs("p",{children:["Áp dụng cho đơn hàng từ ",N(e.dieuKien)]}),e.giaTriToiDa&&r.jsxs("p",{children:["Giảm tối đa: ",N(e.giaTriToiDa)]})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[r.jsx("div",{className:"flex-1 bg-gray-100 border border-purple-200 rounded-lg p-2 text-center",children:r.jsx("span",{className:"font-mono font-bold text-purple-600",children:a.maNhap})}),r.jsx(fe,{onClick:()=>X(a.id,a.maNhap),disabled:a.trangThai===2,className:"bg-purple-500 hover:bg-purple-600 text-white",children:a.trangThai===2?"Đã lưu":"Lưu"})]})]})]})]})]}),r.jsxs("div",{className:"text-center mt-12",children:[r.jsx("p",{className:"text-gray-600",children:"🎯 Mỗi tài khoản chỉ được quay 1 lần trong 24 giờ"}),p&&r.jsxs("p",{className:"text-gray-500 text-sm mt-2",children:["Số lần đã quay: ",L]})]})]})}),r.jsx(Fn,{value:"promotions",children:r.jsx(rD,{})}),r.jsx(Fn,{value:"gapthu",children:r.jsx(sD,{})})]})}),B&&e&&a&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full mx-4 text-center",style:{animation:"bounceIn 0.6s ease-out"},children:[r.jsx("button",{onClick:()=>{D(!1),_.current&&(clearTimeout(_.current),_.current=null)},className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-2xl font-bold",children:"×"}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-3xl font-bold text-purple-600 mb-2",children:"Chúc mừng!"}),r.jsx("p",{className:"text-lg text-gray-600",children:"Bạn đã trúng voucher"})]}),e.hinhAnh&&r.jsx("img",{src:`data:image/jpeg;base64,${e.hinhAnh}`,alt:e.tenVoucher,className:"w-full h-48 object-cover rounded-lg mx-auto mb-4",loading:"eager"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-xl text-gray-800",children:e.tenVoucher}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:j(e)})]}),e.moTa&&r.jsx("p",{className:"text-gray-600 text-sm italic",children:e.moTa}),r.jsxs("div",{className:"text-sm text-gray-500",children:[r.jsxs("p",{children:["Hết hạn: ",I(e.ngayKetThuc)]}),e.dieuKien&&r.jsxs("p",{children:["Áp dụng cho đơn hàng từ ",N(e.dieuKien)]}),e.giaTriToiDa&&r.jsxs("p",{children:["Giảm tối đa: ",N(e.giaTriToiDa)]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex-1 bg-gray-100 border border-purple-200 rounded-lg p-2 text-center",children:r.jsx("span",{className:"font-mono font-bold text-purple-600",children:a.maNhap})}),r.jsx(fe,{onClick:()=>X(a.id,a.maNhap),disabled:a.trangThai===2,className:"bg-purple-500 hover:bg-purple-600 text-white",children:a.trangThai===2?"Đã lưu":"Lưu"})]}),r.jsx(fe,{onClick:()=>{D(!1),_.current&&(clearTimeout(_.current),_.current=null)},className:"w-full bg-purple-500 hover:bg-purple-600 text-white mt-4",children:"Đóng"})]})]})})]})},pl=(n,t)=>Ce.fire({title:t==="error"?"Lỗi!":t==="warning"?"Cảnh báo!":"Thành công!",text:n,icon:t,timer:2e3,timerProgressBar:!0,showConfirmButton:!1});class ase extends k.Component{constructor(){super(...arguments);bt(this,"state",{hasError:!1})}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,s){console.error("Error caught by boundary:",e,s)}render(){return this.state.hasError?r.jsxs("div",{className:"text-center text-red-500 p-4",children:[r.jsx("p",{children:"Đã xảy ra lỗi khi hiển thị combo."}),r.jsx(fe,{variant:"outline",onClick:()=>this.setState({hasError:!1}),children:"Thử lại"})]}):this.props.children}}const ise=(n,t,e)=>n.filter(a=>a.trangThai===1).map(a=>{const i=a.id.split("_")[0]||a.id,o=t.filter(h=>(h==null?void 0:h.maSanPham)===i&&(h==null?void 0:h.trangThai)===1),c=o.reduce((h,m)=>h+((m==null?void 0:m.danhGia)||0),0),l=o.length>0?c/o.length:0,d=JSON.parse(localStorage.getItem("user")||"{}"),u=d==null?void 0:d.maNguoiDung,f=e.find(h=>(h==null?void 0:h.maSanPham)===i&&(h==null?void 0:h.maNguoiDung)===u);return{id:a.id,name:a.name||"Không có tên",description:a.moTa||`Thương hiệu: ${a.thuongHieu||"Không xác định"} <br/> Chất liệu: ${a.chatLieu||"Không xác định"}`,imageSrc:a.hinh[0]||"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='300' viewBox='0 0 400 300'%3E%3Crect width='400' height='300' fill='%23f1f5f9'/%3E%3C/svg%3E",price:a.donGia||0,sizes:a.kichThuoc||[],colors:a.mauSac||[],averageRating:l,commentCount:o.length,isFavorite:!!f,hot:a.hot||!1,likedId:f==null?void 0:f.maYeuThich,hashTags:a.listHashTag||[],discountPercent:a.khuyenMaiMax||0,thuongHieu:a.thuongHieu||"Không xác định",chatLieu:a.chatLieu||"Không xác định",soLuongDaBan:a.soLuongDaBan||0}}),ose=(n,t)=>n.filter(s=>s.trangThai===!0).map(s=>{const a=JSON.parse(localStorage.getItem("user")||"{}"),i=a==null?void 0:a.maNguoiDung,o=t.find(A=>(A==null?void 0:A.maCombo)===s.maCombo&&(A==null?void 0:A.maNguoiDung)===i),c=s.sanPhams.reduce((A,g)=>A+g.donGia*(g.soLuong||1),0),l=s.gia,d=Math.round(l*(1-(s.khuyenMaiMax||0)/100)),u=Math.round((c-l)/c*100),f=c-d,h=s.sanPhams.map(A=>{var g;return{id:A.idSanPham||((g=A.id)==null?void 0:g.toString())||"",name:A.name||"Không có tên",brand:A.thuongHieu||"Không xác định",material:A.chatLieu||"Không xác định",type:A.loaiSanPham||"Không xác định",price:A.donGia||0,quantity:A.soLuong||1,colors:A.mauSac||[],hinh:A.hinh[0]}}),m=[];return s.hinhAnh&&m.push(s.hinhAnh),s.sanPhams.forEach(A=>{Array.isArray(A.hinh)&&m.push(...A.hinh)}),{id:s.maCombo,name:s.name,description:s.moTa,imageSrc:m[0]||"",price:d,originalPrice:c,products:h,isFavorite:!!o,likedId:o==null?void 0:o.maYeuThich,savings:f,savingsPercentage:s.khuyenMaiMax||0,savingsPercentageComparedToRetail:u,productCount:h.length,discountPercent:s.khuyenMaiMax||0,allImages:m}}),lse=({promotion:n})=>{const t=l=>{try{return new Date(l).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return l}},e=l=>{try{const d=new Date,f=new Date(l).getTime()-d.getTime(),h=Math.ceil(f/(1e3*60*60*24));return Math.max(0,h)}catch{return 0}},s=()=>n.percentChung&&n.percentChung>0?n.percentChung:n.danhSachKhuyenMai&&n.danhSachKhuyenMai.length>0?Math.max(...n.danhSachKhuyenMai.map(d=>d.percent||0)):0,a=()=>{var l;return(l=n.moTa)!=null&&l.Picture&&n.moTa.Picture.length>0?n.moTa.Picture[0].url:n.hinhAnh&&n.hinhAnh.length>0?n.hinhAnh[0]:null},i=e(n.ngayKetThuc),o=a(),c=s();return r.jsxs(at,{className:"overflow-hidden h-full relative",children:[r.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-purple-400 via-pink-500 to-red-500",children:[o&&r.jsx("img",{src:o.startsWith("data:")?o:`data:image/jpeg;base64,${o}`,alt:n.tenKhuyenMai,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-black/40"}),r.jsxs("div",{className:"absolute top-4 right-4 bg-gradient-to-br from-red-500 to-red-600 text-white p-3 min-w-[80px] min-h-[80px] flex flex-col items-center justify-center shadow-lg z-10",children:[r.jsx("div",{className:"text-xs font-medium leading-tight text-center",children:"Giảm tới"}),r.jsxs("div",{className:"text-lg font-bold leading-none",children:[c>0?c:"Tới","%"]})]}),r.jsx("div",{className:"absolute top-4 left-4",children:r.jsx(Vt,{className:`${i>0?"bg-green-500":"bg-gray-500"} text-white`,children:i>0?"Đang diễn ra":"Đã kết thúc"})}),r.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:r.jsx("h3",{className:"text-white font-bold text-lg mb-2 line-clamp-2",children:n.tenKhuyenMai})})]}),r.jsxs(dt,{className:"p-4",children:[r.jsx("div",{className:"flex items-center gap-4 mb-4 text-sm",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(bU,{className:"w-4 h-4 text-blue-500"}),r.jsxs("span",{className:"text-gray-600",children:[t(n.ngayBatDau)," - ",t(n.ngayKetThuc)]})]})}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Ir,{className:"w-4 h-4 text-green-500"}),r.jsx("span",{className:"text-sm font-medium",children:n.percentChung&&n.percentChung>0?`Giảm giá chung ${n.percentChung}% toàn bộ sản phẩm`:`Giảm giá theo sản phẩm (tối đa ${c}%)`})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:["Áp dụng cho: ",n.percentChung&&n.percentChung>0?"Toàn bộ sản phẩm":`${n.danhSachKhuyenMai.length} sản phẩm`]}),r.jsxs("span",{className:"text-sm font-medium text-blue-600",children:["Còn lại: ",i," ngày"]})]})]}),(!n.percentChung||n.percentChung===0)&&n.danhSachKhuyenMai&&n.danhSachKhuyenMai.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-semibold text-gray-800 mb-3 text-sm",children:"Sản phẩm và Combo khuyến mãi:"}),r.jsxs("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:[n.danhSachKhuyenMai.slice(0,3).map((l,d)=>r.jsxs("div",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[l.hinhAnh&&l.hinhAnh.length>0&&r.jsx("img",{src:l.hinhAnh[0].startsWith("data:")?l.hinhAnh[0]:`data:image/jpeg;base64,${l.hinhAnh[0]}`,alt:l.tenSanPhamCombo,className:"w-12 h-12 object-cover rounded"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:l.tenSanPhamCombo}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-sm font-bold text-red-600",children:[l.giaMoi.toLocaleString("vi-VN")," VND"]}),l.giaGoc>l.giaMoi&&r.jsxs("span",{className:"text-xs text-gray-500 line-through",children:[l.giaGoc.toLocaleString("vi-VN")," VND"]}),r.jsxs(Vt,{variant:"secondary",className:"text-xs px-2 py-0",children:["-",l.percent,"%"]})]})]})]},l.id)),n.danhSachKhuyenMai.length>3&&r.jsxs("div",{className:"text-center text-sm text-gray-500 py-2",children:["+",n.danhSachKhuyenMai.length-3," sản phẩm khác"]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 p-3 bg-purple-50 rounded-lg",children:[r.jsx(Ir,{className:"w-5 h-5 text-purple-600"}),r.jsx("span",{className:"text-sm text-purple-800 font-medium",children:n.percentChung&&n.percentChung>0?`Giảm giá ${n.percentChung}% cho toàn bộ sản phẩm và combo`:`Giảm giá cho ${n.danhSachKhuyenMai.length} sản phẩm được chọn`})]}),r.jsx("div",{className:"text-xs text-gray-600 bg-yellow-50 p-2 rounded",children:n.percentChung&&n.percentChung>0?`Tất cả sản phẩm và combo trong cửa hàng được giảm giá ${n.percentChung}%`:`Giảm giá từ 1% đến ${c}% cho các sản phẩm được chọn`})]}),r.jsx("div",{className:"flex gap-2 mt-4 absolute bottom-4 left-4 right-4",children:r.jsx(fe,{variant:"outline",className:"flex-1",size:"sm",children:r.jsx(lt,{to:`/KhuyenMais/${n.id}`,children:"Xem chi tiết"})})})]})]})},cse=()=>{const[n,t]=k.useState([]),[e,s]=k.useState(!0),[a,i]=k.useState(null);k.useEffect(()=>{(async()=>{try{s(!0);const l=await fetch("https://bicacuatho.azurewebsites.net/api/KhuyenMai/ListKhuyenMaiUser");if(!l.ok)throw new Error("Không thể tải danh sách khuyến mãi");const d=await l.json();t(d||[]),i(null)}catch(l){console.error("Lỗi khi lấy dữ liệu khuyến mãi:",l),i(l instanceof Error?l.message:"Có lỗi xảy ra")}finally{s(!1)}})()},[]);const o=[];for(let c=0;c<n.length;c+=2)o.push(n.slice(c,c+2));return e?r.jsxs("div",{className:"text-center py-8",children:[r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-32 mx-auto mb-4"}),r.jsx("div",{className:"h-64 bg-gray-200 rounded"})]}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Đang tải khuyến mãi..."})]}):a?r.jsxs("div",{className:"text-center text-red-500 py-8",children:[r.jsxs("p",{children:["Lỗi: ",a]}),r.jsx(fe,{variant:"outline",onClick:()=>window.location.reload(),className:"mt-4",children:"Thử lại"})]}):n.length===0?r.jsxs("div",{className:"text-center text-gray-500 py-8",children:[r.jsx(Ir,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),r.jsx("p",{children:"Hiện tại không có khuyến mãi nào"})]}):r.jsxs("section",{className:"mb-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-3xl font-bold",children:"Khuyến mãi hot"}),r.jsx(fe,{asChild:!0,variant:"link",className:"text-crocus-600",children:r.jsxs(lt,{to:"/KhuyenMais",children:["Xem tất cả ",r.jsx("span",{"aria-hidden":"true",children:"→"})]})})]}),r.jsxs(dc,{className:"w-full",children:[r.jsx(uc,{children:o.map((c,l)=>r.jsx(hc,{className:"basis-full",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.map(d=>r.jsx(lse,{promotion:d},d.id)),c.length===1&&r.jsx("div",{className:"hidden md:block"})]})},l))}),r.jsx(fc,{className:"left-4"}),r.jsx(mc,{className:"right-4"})]})]})},dse=({product:n,index:t,toggleFavorite:e})=>{const[s,a]=k.useState(!1),i=k.useRef(null);return k.useEffect(()=>{const o=new IntersectionObserver(([c])=>{c.isIntersecting&&(a(!0),o.disconnect())},{threshold:.1});return i.current&&o.observe(i.current),()=>o.disconnect()},[]),r.jsx("div",{ref:i,className:Ue("group relative transition-all duration-700 ease-out",s?"opacity-100 translate-y-0":"opacity-0 translate-y-10"),style:{transitionDelay:`${t*150}ms`},children:r.jsxs(at,{className:"overflow-hidden group relative",style:{height:"650px"},children:[r.jsxs("div",{className:"relative aspect-square",children:[r.jsx(lt,{to:`/products/${n.id}`,children:r.jsx("img",{src:n.imageSrc?`data:image/jpeg;base64,${n.imageSrc}`:"/placeholder-image.jpg",alt:n.name,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"})}),n.hot&&r.jsx(Vt,{className:"absolute top-2 left-2 bg-red-500 text-white z-10",children:"Đang bán chạy"}),n.discountPercent>0&&r.jsxs("div",{className:"absolute top-0 right-0 bg-gradient-to-br from-red-500 to-red-600 text-white p-3 min-w-[80px] min-h-[80px] flex flex-col items-center justify-center shadow-lg z-10",children:[r.jsx("div",{className:"text-xs font-medium leading-tight text-center",children:"Giảm tới"}),r.jsxs("div",{className:"text-lg font-bold leading-none",children:[n.discountPercent,"%"]})]}),r.jsx(fe,{variant:"outline",size:"icon",className:"absolute top-2 left-2 w-10 h-10 rounded-full bg-white/80 hover:bg-white z-10",onClick:()=>e(n.id),"aria-label":n.isFavorite?"Xóa khỏi yêu thích":"Thêm vào yêu thích",children:r.jsx(Ts,{className:`h-5 w-5 ${n.isFavorite?"fill-red-500 text-red-500":"text-gray-600"}`})})]}),r.jsxs(dt,{className:"p-4",children:[r.jsx(lt,{to:`/products/${n.id}`,children:r.jsx("h3",{className:"font-medium hover:text-crocus-600 transition-colors mb-2 line-clamp-2",children:n.name})}),r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{className:"flex flex-col",children:[n.discountPercent>0?r.jsxs(r.Fragment,{children:[r.jsxs("p",{className:"font-bold text-xl text-red-600 mb-1",children:[Math.round(n.price*(1-n.discountPercent/100)).toLocaleString("vi-VN",{maximumFractionDigits:0})," VND"]}),r.jsxs("p",{className:"text-sm text-gray-500 line-through font-medium",children:[n.price.toLocaleString("vi-VN",{maximumFractionDigits:0})," VND"]}),r.jsxs("p",{className:"text-xs text-green-700 font-semibold bg-green-50 px-2 py-1 rounded-md inline-block mt-1",children:["Tiết kiệm ",Math.round(n.price*n.discountPercent/100).toLocaleString("vi-VN",{maximumFractionDigits:0})," VND"]})]}):r.jsxs("p",{className:"font-semibold text-lg text-red-600",children:[n.price.toLocaleString("vi-VN",{maximumFractionDigits:0})," VND"]}),r.jsxs("p",{className:"text-xs text-gray-600 mt-1 font-medium",children:["📦 Đã bán: ",r.jsx("span",{className:"text-orange-600 font-bold",children:n.soLuongDaBan.toLocaleString("vi-VN")})," sản phẩm"]})]}),r.jsxs("div",{className:"flex items-center gap-1","aria-label":`Đánh giá ${n.averageRating} sao`,children:[[...Array(5)].map((o,c)=>c<Math.floor(n.averageRating)?r.jsx(or,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"},c):c===Math.floor(n.averageRating)&&n.averageRating%1>=.5?r.jsx(or,{className:"w-4 h-4",style:{background:"linear-gradient(90deg, #FBBF24 50%, #D1D5DB 50%)",backgroundClip:"text",WebkitBackgroundClip:"text",color:"transparent",fill:"url(#half-star-gradient)"}},c):r.jsx(or,{className:"w-4 h-4 text-gray-300"},c)),r.jsxs("span",{className:"text-sm text-gray-600",children:["(",n.commentCount,")"]})]})]}),r.jsxs("div",{className:"mb-3 flex flex-wrap gap-1",children:[r.jsx("span",{className:"text-xs text-gray-500 mr-2",children:"Màu:"}),n.colors.slice(0,4).map(o=>r.jsx("span",{className:"inline-block w-5 h-5 rounded-full border border-gray-300 shadow-sm",style:{backgroundColor:`#${o}`},title:`Màu #${o}`},o)),n.colors.length>4&&r.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["+",n.colors.length-4]})]}),r.jsxs("div",{className:"mb-2 flex flex-wrap gap-2",children:[r.jsxs(Vt,{variant:"outline",className:"text-xs px-2 py-1 bg-blue-50 border-blue-200 text-blue-700 font-medium",children:["🏷️ ",n.thuongHieu]}),r.jsxs(Vt,{variant:"outline",className:"text-xs px-2 py-1 bg-green-50 border-green-200 text-green-700 font-medium",children:["🧵 ",n.chatLieu]})]}),n.hashTags&&n.hashTags.length>0&&r.jsxs("div",{className:"mb-4 flex flex-wrap gap-1",children:[n.hashTags.slice(0,3).map(o=>r.jsxs(Vt,{variant:"secondary",className:"text-xs px-2 py-1 bg-crocus-100 text-crocus-700 hover:bg-crocus-200",children:["#",o.name]},o.id)),n.hashTags.length>3&&r.jsxs(Vt,{variant:"outline",className:"text-xs px-2 py-1",children:["+",n.hashTags.length-3]})]}),r.jsx("div",{className:"flex gap-2 absolute bottom-4 left-4 right-4",children:r.jsx(fe,{asChild:!0,variant:"outline",size:"sm",className:"flex-1",children:r.jsx(lt,{to:`/products/${n.id}`,children:"Chi tiết"})})})]})]})})},use=({images:n,comboName:t})=>{const[e,s]=k.useState(0),a=()=>{s(o=>(o+1)%n.length)},i=()=>{s(o=>(o-1+n.length)%n.length)};return r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"relative aspect-square mb-4 bg-gray-100 rounded-lg overflow-hidden",children:[r.jsx("img",{src:n[e]?`data:image/jpeg;base64,${n[e]}`:"/placeholder-image.jpg",alt:`${t} - Hình ${e+1}`,className:"w-full h-full object-cover"}),n.length>1&&r.jsxs(r.Fragment,{children:[r.jsx(fe,{variant:"outline",size:"icon",className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white",onClick:i,children:r.jsx(zr,{className:"h-4 w-4"})}),r.jsx(fe,{variant:"outline",size:"icon",className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white",onClick:a,children:r.jsx(xr,{className:"h-4 w-4"})}),r.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/60 text-white px-2 py-1 rounded text-sm",children:[e+1," / ",n.length]})]})]}),n.length>1&&r.jsx("div",{className:"w-full",children:r.jsxs(dc,{className:"w-full",children:[r.jsx(uc,{className:"-ml-2",children:n.map((o,c)=>r.jsx(hc,{className:"basis-1/3 pl-2",children:r.jsx("div",{className:Ue("aspect-square bg-gray-100 rounded cursor-pointer overflow-hidden border-2 transition-all",e===c?"border-crocus-500":"border-transparent hover:border-gray-300"),onClick:()=>s(c),children:r.jsx("img",{src:o?`data:image/jpeg;base64,${o}`:"/placeholder-image.jpg",alt:`${t} thumbnail ${c+1}`,className:"w-full h-full object-cover"})})},c))}),n.length>3&&r.jsxs(r.Fragment,{children:[r.jsx(fc,{className:"left-0"}),r.jsx(mc,{className:"right-0"})]})]})})]})},hse=({combo:n,toggleFavorite:t})=>r.jsx(at,{className:"overflow-hidden h-full",style:{backgroundColor:"#EBE7FD"},children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 h-full min-h-[500px]",children:[r.jsxs("div",{className:"relative p-6 bg-gray-50/80 backdrop-blur-sm",children:[n.discountPercent>0&&r.jsxs("div",{className:"absolute top-4 right-4 bg-gradient-to-br from-red-500 to-red-600 text-white p-3 min-w-[80px] min-h-[80px] flex flex-col items-center justify-center shadow-lg z-10 rounded",children:[r.jsx("div",{className:"text-xs font-medium text-gray-50",children:"Khuyến Mãi"}),r.jsxs("div",{className:"text-lg font-bold",children:[" -",n.discountPercent,"%"]})]}),n.savingsPercentageComparedToRetail>0&&r.jsxs("div",{className:"absolute top-4 right-28 bg-blue-500 text-white p-3 rounded shadow-lg z-10 flex flex-col items-center",children:[r.jsx("div",{className:"text-xs font-medium",children:"Đã Giảm"}),r.jsxs("div",{className:"text-lg font-bold",children:[n.savingsPercentageComparedToRetail,"%"]})]}),r.jsx(use,{images:n.allImages,comboName:n.name}),r.jsx(fe,{variant:"outline",size:"icon",className:"absolute top-4 left-4 w-10 h-10 rounded-full bg-white/80 hover:bg-white z-10",onClick:()=>t(n.id),"aria-label":n.isFavorite?"Xóa khỏi yêu thích":"Thêm vào yêu thích",children:r.jsx(Ts,{className:`h-5 w-5 ${n.isFavorite?"fill-red-500 text-red-500":"text-gray-600"}`})})]}),r.jsx("div",{className:"p-6 flex flex-col justify-between bg-white/80 backdrop-blur-sm",children:r.jsxs("div",{children:[r.jsx(lt,{to:`/combos/${n.id}`,children:r.jsx("h3",{className:"text-2xl font-bold hover:text-crocus-600 transition-colors mb-3",children:n.name})}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-baseline gap-3 mb-2",children:[r.jsxs("span",{className:"text-3xl font-bold text-red-600",children:[n.price.toLocaleString("vi-VN")," VND"]}),r.jsxs("span",{className:"text-lg text-gray-500 line-through",children:[n.originalPrice.toLocaleString("vi-VN")," VND"]})]}),r.jsxs("p",{className:"text-sm text-green-700 font-semibold bg-green-50 px-3 py-2 rounded-lg inline-block",children:["💰 Tiết kiệm ",n.savings.toLocaleString("vi-VN")," VND"]})]}),r.jsxs(Vt,{className:"mb-4 bg-crocus-500 text-white px-3 py-1",children:["📦 ",n.productCount," sản phẩm trong combo"]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-semibold text-gray-800 mb-3 text-lg",children:"Sản phẩm trong combo:"}),r.jsx("div",{className:"space-y-3",children:n.products.map(e=>r.jsx("div",{className:"p-4 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300 border border-gray-100",children:r.jsxs("div",{className:"grid grid-cols-3 gap-4 items-start",children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("img",{src:`data:image/jpeg;base64,${e.hinh}`,alt:e.name,className:"w-full max-w-[200px] object-contain rounded shadow"}),r.jsx("p",{className:"font-semibold text-lg text-gray-800 mt-2 text-center",children:e.name})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("p",{className:"text-gray-600",children:["Số lượng:"," ",r.jsx("span",{className:"font-medium text-gray-800",children:e.quantity})]}),r.jsxs("p",{className:"text-gray-600",children:["Thương hiệu:"," ",r.jsx("span",{className:"font-medium text-gray-800",children:e.brand})]}),r.jsx("div",{className:"flex flex-wrap gap-1.5 mt-2",children:e.colors.map(s=>r.jsx("span",{className:"w-5 h-5 rounded-full border border-gray-300 shadow-sm",style:{backgroundColor:`#${s}`},title:`Màu ${s}`},s))})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("p",{className:"text-gray-600",children:["Chất liệu:"," ",r.jsx("span",{className:"font-medium text-gray-800",children:e.material})]}),r.jsxs("p",{className:"text-gray-600",children:["Giá gốc:"," ",r.jsxs("span",{className:"font-bold text-lg text-red-600",children:[e.price.toLocaleString("vi-VN")," VND"]})]})]})]})},e.id))})]}),r.jsx("div",{className:"flex gap-3 pt-4 border-t",children:r.jsx(fe,{asChild:!0,variant:"outline",className:"flex-1",children:r.jsx(lt,{to:`/combos/${n.id}`,children:"Xem chi tiết"})})})]})})]})}),fse=({combos:n,toggleFavorite:t})=>r.jsxs(dc,{className:"w-full",children:[r.jsx(uc,{children:n.map(e=>r.jsx(hc,{className:"basis-full",children:r.jsx(hse,{combo:e,toggleFavorite:t})},e.id))}),r.jsx(fc,{className:"left-4"}),r.jsx(mc,{className:"right-4"})]}),mse=()=>{const n=dr(),[t,e]=k.useState([]),[s,a]=k.useState([]),[i,o]=k.useState(!0),[c,l]=k.useState(!0),[d,u]=k.useState(null),[f,h]=k.useState(null),[m,A]=k.useState("light"),g=()=>{A(x=>x==="light"?"dark":"light")};k.useEffect(()=>{m==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[m]),k.useEffect(()=>{(async()=>{try{o(!0),l(!0);const v=await fetch("https://bicacuatho.azurewebsites.net/api/Comment/list");if(!v.ok)throw new Error("Không thể tải bình luận");const y=await v.json();let S={};try{const E=localStorage.getItem("user");S=E?JSON.parse(E):{}}catch(E){console.error("Lỗi parse user data:",E)}const M=S==null?void 0:S.maNguoiDung;let P=[];if(M){const E=await fetch("https://bicacuatho.azurewebsites.net/api/YeuThich",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});E.ok&&(P=await E.json())}const B=await fetch("https://bicacuatho.azurewebsites.net/api/SanPham/ListSanPham");if(!B.ok)throw new Error("Không thể tải sản phẩm");const D=await B.json(),L=ise(D,y,P);e(L),o(!1),u(null);const O=await fetch("https://bicacuatho.azurewebsites.net/api/Combo/ComboSanPhamView");if(!O.ok)throw new Error("Không thể tải combo");const F=await O.json();if(!Array.isArray(F))throw new Error("API response is not an array");const _=ose(F,P);a(_),l(!1),h(null)}catch(v){const y=v instanceof Error?v.message:"An error occurred";console.error("Lỗi khi lấy dữ liệu:",y),y.includes("sản phẩm")&&(u(y),o(!1)),y.includes("combo")&&(h(y),l(!1))}})()},[]);const p=async x=>{try{const v=t.find(P=>P.id===x);let y={};try{const P=localStorage.getItem("user");y=P?JSON.parse(P):{}}catch(P){console.error("Lỗi parse user data:",P)}const S=y==null?void 0:y.maNguoiDung,M=y==null?void 0:y.hoTen;if(!S){pl("Vui lòng đăng nhập để thêm sản phẩm vào danh sách yêu thích!","warning").then(()=>{n("/auth/login")});return}if(v!=null&&v.isFavorite){if(!(await fetch(`https://bicacuatho.azurewebsites.net/api/YeuThich/${v.likedId}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Không thể xóa sản phẩm khỏi danh sách yêu thích");e(B=>B.map(D=>D.id===x?{...D,isFavorite:!1,likedId:void 0}:D)),pl("Đã xóa sản phẩm khỏi danh sách yêu thích!","success")}else{const P={maSanPham:x.split("_")[0]||x,tenSanPham:v==null?void 0:v.name,maNguoiDung:S,hoTen:M,soLuongYeuThich:1,ngayYeuThich:new Date().toISOString()},B=await fetch("https://bicacuatho.azurewebsites.net/api/YeuThich",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(P)});if(!B.ok)throw new Error("Không thể thêm sản phẩm vào danh sách yêu thích");const D=await B.json();e(L=>L.map(O=>O.id===x?{...O,isFavorite:!0,likedId:D.maYeuThich}:O)),pl("Đã thêm sản phẩm vào danh sách yêu thích!","success")}}catch(v){console.error("Lỗi khi cập nhật yêu thích:",v),pl("Có lỗi xảy ra khi cập nhật yêu thích!","error")}},b=async x=>{try{const v=s.find(P=>P.id===x);let y={};try{const P=localStorage.getItem("user");y=P?JSON.parse(P):{}}catch(P){console.error("Lỗi parse user data:",P)}const S=y==null?void 0:y.maNguoiDung,M=y==null?void 0:y.hoTen;if(!S){pl("Vui lòng đăng nhập để thêm combo vào danh sách yêu thích!","warning").then(()=>{n("/login")});return}if(v!=null&&v.isFavorite){if(!(await fetch(`https://bicacuatho.azurewebsites.net/api/YeuThich/${v.likedId}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Không thể xóa combo khỏi danh sách yêu thích");a(B=>B.map(D=>D.id===x?{...D,isFavorite:!1,likedId:void 0}:D)),pl("Đã xóa combo khỏi danh sách yêu thích!","success")}else{const P={maCombo:x,tenCombo:v==null?void 0:v.name,maNguoiDung:S,hoTen:M,soLuongYeuThich:1,ngayYeuThich:new Date().toISOString()},B=await fetch("https://bicacuatho.azurewebsites.net/api/YeuThich",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(P)});if(!B.ok)throw new Error("Không thể thêm combo vào danh sách yêu thích");const D=await B.json();a(L=>L.map(O=>O.id===x?{...O,isFavorite:!0,likedId:D.maYeuThich}:O)),pl("Đã thêm combo vào danh sách yêu thích!","success")}}catch(v){console.error("Lỗi khi cập nhật yêu thích:",v),pl("Có lỗi xảy ra khi cập nhật yêu thích!","error")}};return r.jsxs("div",{className:Ue("space-y-6 py-6",m==="dark"?"dark":""),children:[r.jsx(fe,{variant:"outline",size:"icon",className:"fixed bottom-4 left-4 w-12 h-12 rounded-full bg-white/80 hover:bg-white dark:bg-gray-800/80 dark:hover:bg-gray-800 z-50",onClick:g,"aria-label":m==="light"?"Chuyển sang giao diện tối":"Chuyển sang giao diện sáng",children:m==="light"?r.jsx(j6,{className:"h-6 w-6 text-gray-600 dark:text-gray-300"}):r.jsx(C6,{className:"h-6 w-6 text-gray-600 dark:text-gray-300"})}),r.jsx(DM,{}),r.jsx(Kne,{}),r.jsx(cse,{}),r.jsx(BP,{}),r.jsx(aD,{}),r.jsxs("section",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold",children:"Sản phẩm bán chạy"}),r.jsx(fe,{asChild:!0,variant:"link",className:"text-crocus-600",children:r.jsxs(lt,{to:"/products",children:["Xem tất cả ",r.jsx("span",{"aria-hidden":"true",children:"→"})]})})]}),i?r.jsx("div",{className:"text-center",children:"Đang tải sản phẩm..."}):d?r.jsxs("div",{className:"text-center text-red-500",children:["Lỗi: ",d]}):r.jsxs(dc,{className:"w-full",children:[r.jsx(uc,{children:t.map((x,v)=>r.jsx(hc,{className:"md:basis-1/2 lg:basis-1/4",children:r.jsx(dse,{product:x,index:v,toggleFavorite:p})},x.id))}),r.jsx(fc,{className:"left-2"}),r.jsx(mc,{className:"right-2"})]})]}),r.jsxs("section",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold",children:"Combo mới nhất"}),r.jsx(fe,{asChild:!0,variant:"link",className:"text-crocus-600",children:r.jsxs(lt,{to:"/combos",children:["Xem tất cả ",r.jsx("span",{"aria-hidden":"true",children:"→"})]})})]}),c?r.jsx("div",{className:"text-center",children:"Đang tải combo..."}):f?r.jsxs("div",{className:"text-center text-red-500",children:["Lỗi: ",f]}):s.length>0?r.jsx(ase,{children:r.jsx(fse,{combos:s,toggleFavorite:b})}):r.jsx("div",{className:"text-center text-gray-500",children:"Không có combo nào để hiển thị"})]}),r.jsxs("section",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold",children:"Tin tức"}),r.jsx(fe,{asChild:!0,variant:"link",className:"text-crocus-600",children:r.jsxs(lt,{to:"/blogs",children:["Xem tất cả ",r.jsx("span",{"aria-hidden":"true",children:"→"})]})})]}),r.jsx(Ire,{})]}),r.jsx(_P,{})]})},pse=()=>{const n=fs();return k.useEffect(()=>{console.error("Lỗi 404: Người dùng truy cập đường dẫn không tồn tại:",n.pathname)},[n.pathname]),r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br p-4",children:r.jsx(at,{className:"max-w-lg w-full shadow-2xl rounded-2xl",children:r.jsxs(dt,{className:"text-center py-16 px-6",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsx(V2,{className:"h-16 w-16 text-crocus-500"})}),r.jsx("h1",{className:"text-7xl font-extrabold text-gray-800 mb-2",children:"404"}),r.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Rất tiếc! Không tìm thấy trang bạn yêu cầu."}),r.jsx("p",{className:"text-sm text-gray-500 mb-8",children:"Có thể link bạn đang truy cập đã bị hỏng hoặc trang đã bị chuyển."}),r.jsx(fe,{asChild:!0,size:"lg",className:"flex items-center justify-center space-x-2 mx-auto",children:r.jsxs(lt,{to:"/",className:"flex items-center gap-2",children:[r.jsx(tw,{className:"h-5 w-5"}),r.jsx("span",{children:"Quay về trang chủ"})]})})]})})})};var Ase="Label",iD=k.forwardRef((n,t)=>r.jsx(Nt.label,{...n,ref:t,onMouseDown:e=>{var a;e.target.closest("button, input, select, textarea")||((a=n.onMouseDown)==null||a.call(n,e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));iD.displayName=Ase;var oD=iD;const gse=oc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Oe=k.forwardRef(({className:n,...t},e)=>r.jsx(oD,{ref:e,className:Ue(gse(),n),...t}));Oe.displayName=oD.displayName;function t0(n,[t,e]){return Math.min(e,Math.max(t,n))}var xse=[" ","Enter","ArrowUp","ArrowDown"],bse=[" ","Enter"],fd="Select",[zx,Kx,vse]=_d(fd),[gh,KBe]=ks(fd,[vse,lc]),Gx=lc(),[yse,Ac]=gh(fd),[wse,jse]=gh(fd),lD=n=>{const{__scopeSelect:t,children:e,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:c,onValueChange:l,dir:d,name:u,autoComplete:f,disabled:h,required:m,form:A}=n,g=Gx(t),[p,b]=k.useState(null),[x,v]=k.useState(null),[y,S]=k.useState(!1),M=Ed(d),[P,B]=wa({prop:s,defaultProp:a??!1,onChange:i,caller:fd}),[D,L]=wa({prop:o,defaultProp:c,onChange:l,caller:fd}),O=k.useRef(null),F=p?A||!!p.closest("form"):!0,[_,E]=k.useState(new Set),T=Array.from(_).map(w=>w.props.value).join(";");return r.jsx(cx,{...g,children:r.jsxs(yse,{required:m,scope:t,trigger:p,onTriggerChange:b,valueNode:x,onValueNodeChange:v,valueNodeHasChildren:y,onValueNodeHasChildrenChange:S,contentId:ga(),value:D,onValueChange:L,open:P,onOpenChange:B,dir:M,triggerPointerDownPosRef:O,disabled:h,children:[r.jsx(zx.Provider,{scope:t,children:r.jsx(wse,{scope:n.__scopeSelect,onNativeOptionAdd:k.useCallback(w=>{E(C=>new Set(C).add(w))},[]),onNativeOptionRemove:k.useCallback(w=>{E(C=>{const j=new Set(C);return j.delete(w),j})},[]),children:e})}),F?r.jsxs(MD,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:f,value:D,onChange:w=>L(w.target.value),disabled:h,form:A,children:[D===void 0?r.jsx("option",{value:""}):null,Array.from(_)]},T):null]})})};lD.displayName=fd;var cD="SelectTrigger",dD=k.forwardRef((n,t)=>{const{__scopeSelect:e,disabled:s=!1,...a}=n,i=Gx(e),o=Ac(cD,e),c=o.disabled||s,l=cn(t,o.onTriggerChange),d=Kx(e),u=k.useRef("touch"),[f,h,m]=DD(g=>{const p=d().filter(v=>!v.disabled),b=p.find(v=>v.value===o.value),x=ID(p,g,b);x!==void 0&&o.onValueChange(x.value)}),A=g=>{c||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return r.jsx(Qm,{asChild:!0,...i,children:r.jsx(Nt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":PD(o.value)?"":void 0,...a,ref:l,onClick:tt(a.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&A(g)}),onPointerDown:tt(a.onPointerDown,g=>{u.current=g.pointerType;const p=g.target;p.hasPointerCapture(g.pointerId)&&p.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(A(g),g.preventDefault())}),onKeyDown:tt(a.onKeyDown,g=>{const p=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(p&&g.key===" ")&&xse.includes(g.key)&&(A(),g.preventDefault())})})})});dD.displayName=cD;var uD="SelectValue",hD=k.forwardRef((n,t)=>{const{__scopeSelect:e,className:s,style:a,children:i,placeholder:o="",...c}=n,l=Ac(uD,e),{onValueNodeHasChildrenChange:d}=l,u=i!==void 0,f=cn(t,l.onValueNodeChange);return Fr(()=>{d(u)},[d,u]),r.jsx(Nt.span,{...c,ref:f,style:{pointerEvents:"none"},children:PD(l.value)?r.jsx(r.Fragment,{children:o}):i})});hD.displayName=uD;var Cse="SelectIcon",fD=k.forwardRef((n,t)=>{const{__scopeSelect:e,children:s,...a}=n;return r.jsx(Nt.span,{"aria-hidden":!0,...a,ref:t,children:s||"▼"})});fD.displayName=Cse;var Nse="SelectPortal",mD=n=>r.jsx(Zu,{asChild:!0,...n});mD.displayName=Nse;var md="SelectContent",pD=k.forwardRef((n,t)=>{const e=Ac(md,n.__scopeSelect),[s,a]=k.useState();if(Fr(()=>{a(new DocumentFragment)},[]),!e.open){const i=s;return i?ro.createPortal(r.jsx(AD,{scope:n.__scopeSelect,children:r.jsx(zx.Slot,{scope:n.__scopeSelect,children:r.jsx("div",{children:n.children})})}),i):null}return r.jsx(gD,{...n,ref:t})});pD.displayName=md;var oi=10,[AD,gc]=gh(md),Sse="SelectContentImpl",Tse=Xl("SelectContent.RemoveScroll"),gD=k.forwardRef((n,t)=>{const{__scopeSelect:e,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:c,sideOffset:l,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:A,hideWhenDetached:g,avoidCollisions:p,...b}=n,x=Ac(md,e),[v,y]=k.useState(null),[S,M]=k.useState(null),P=cn(t,q=>y(q)),[B,D]=k.useState(null),[L,O]=k.useState(null),F=Kx(e),[_,E]=k.useState(!1),T=k.useRef(!1);k.useEffect(()=>{if(v)return vx(v)},[v]),xx();const w=k.useCallback(q=>{const[H,...$]=F().map(te=>te.ref.current),[G]=$.slice(-1),J=document.activeElement;for(const te of q)if(te===J||(te==null||te.scrollIntoView({block:"nearest"}),te===H&&S&&(S.scrollTop=0),te===G&&S&&(S.scrollTop=S.scrollHeight),te==null||te.focus(),document.activeElement!==J))return},[F,S]),C=k.useCallback(()=>w([B,v]),[w,B,v]);k.useEffect(()=>{_&&C()},[_,C]);const{onOpenChange:j,triggerPointerDownPosRef:N}=x;k.useEffect(()=>{if(v){let q={x:0,y:0};const H=G=>{var J,te;q={x:Math.abs(Math.round(G.pageX)-(((J=N.current)==null?void 0:J.x)??0)),y:Math.abs(Math.round(G.pageY)-(((te=N.current)==null?void 0:te.y)??0))}},$=G=>{q.x<=10&&q.y<=10?G.preventDefault():v.contains(G.target)||j(!1),document.removeEventListener("pointermove",H),N.current=null};return N.current!==null&&(document.addEventListener("pointermove",H),document.addEventListener("pointerup",$,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",$,{capture:!0})}}},[v,j,N]),k.useEffect(()=>{const q=()=>j(!1);return window.addEventListener("blur",q),window.addEventListener("resize",q),()=>{window.removeEventListener("blur",q),window.removeEventListener("resize",q)}},[j]);const[I,R]=DD(q=>{const H=F().filter(J=>!J.disabled),$=H.find(J=>J.ref.current===document.activeElement),G=ID(H,q,$);G&&setTimeout(()=>G.ref.current.focus())}),U=k.useCallback((q,H,$)=>{const G=!T.current&&!$;(x.value!==void 0&&x.value===H||G)&&(D(q),G&&(T.current=!0))},[x.value]),V=k.useCallback(()=>v==null?void 0:v.focus(),[v]),z=k.useCallback((q,H,$)=>{const G=!T.current&&!$;(x.value!==void 0&&x.value===H||G)&&O(q)},[x.value]),X=s==="popper"?Yw:xD,Q=X===Yw?{side:c,sideOffset:l,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:A,hideWhenDetached:g,avoidCollisions:p}:{};return r.jsx(AD,{scope:e,content:v,viewport:S,onViewportChange:M,itemRefCallback:U,selectedItem:B,onItemLeave:V,itemTextRefCallback:z,focusSelectedItem:C,selectedItemText:L,position:s,isPositioned:_,searchRef:I,children:r.jsx(zm,{as:Tse,allowPinchZoom:!0,children:r.jsx(Vm,{asChild:!0,trapped:x.open,onMountAutoFocus:q=>{q.preventDefault()},onUnmountAutoFocus:tt(a,q=>{var H;(H=x.trigger)==null||H.focus({preventScroll:!0}),q.preventDefault()}),children:r.jsx(ic,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:q=>q.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:r.jsx(X,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:q=>q.preventDefault(),...b,...Q,onPlaced:()=>E(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:tt(b.onKeyDown,q=>{const H=q.ctrlKey||q.altKey||q.metaKey;if(q.key==="Tab"&&q.preventDefault(),!H&&q.key.length===1&&R(q.key),["ArrowUp","ArrowDown","Home","End"].includes(q.key)){let G=F().filter(J=>!J.disabled).map(J=>J.ref.current);if(["ArrowUp","End"].includes(q.key)&&(G=G.slice().reverse()),["ArrowUp","ArrowDown"].includes(q.key)){const J=q.target,te=G.indexOf(J);G=G.slice(te+1)}setTimeout(()=>w(G)),q.preventDefault()}})})})})})})});gD.displayName=Sse;var kse="SelectItemAlignedPosition",xD=k.forwardRef((n,t)=>{const{__scopeSelect:e,onPlaced:s,...a}=n,i=Ac(md,e),o=gc(md,e),[c,l]=k.useState(null),[d,u]=k.useState(null),f=cn(t,P=>u(P)),h=Kx(e),m=k.useRef(!1),A=k.useRef(!0),{viewport:g,selectedItem:p,selectedItemText:b,focusSelectedItem:x}=o,v=k.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&d&&g&&p&&b){const P=i.trigger.getBoundingClientRect(),B=d.getBoundingClientRect(),D=i.valueNode.getBoundingClientRect(),L=b.getBoundingClientRect();if(i.dir!=="rtl"){const J=L.left-B.left,te=D.left-J,K=P.left-te,ne=P.width+K,ce=Math.max(ne,B.width),oe=window.innerWidth-oi,ee=t0(te,[oi,Math.max(oi,oe-ce)]);c.style.minWidth=ne+"px",c.style.left=ee+"px"}else{const J=B.right-L.right,te=window.innerWidth-D.right-J,K=window.innerWidth-P.right-te,ne=P.width+K,ce=Math.max(ne,B.width),oe=window.innerWidth-oi,ee=t0(te,[oi,Math.max(oi,oe-ce)]);c.style.minWidth=ne+"px",c.style.right=ee+"px"}const O=h(),F=window.innerHeight-oi*2,_=g.scrollHeight,E=window.getComputedStyle(d),T=parseInt(E.borderTopWidth,10),w=parseInt(E.paddingTop,10),C=parseInt(E.borderBottomWidth,10),j=parseInt(E.paddingBottom,10),N=T+w+_+j+C,I=Math.min(p.offsetHeight*5,N),R=window.getComputedStyle(g),U=parseInt(R.paddingTop,10),V=parseInt(R.paddingBottom,10),z=P.top+P.height/2-oi,X=F-z,Q=p.offsetHeight/2,q=p.offsetTop+Q,H=T+w+q,$=N-H;if(H<=z){const J=O.length>0&&p===O[O.length-1].ref.current;c.style.bottom="0px";const te=d.clientHeight-g.offsetTop-g.offsetHeight,K=Math.max(X,Q+(J?V:0)+te+C),ne=H+K;c.style.height=ne+"px"}else{const J=O.length>0&&p===O[0].ref.current;c.style.top="0px";const K=Math.max(z,T+g.offsetTop+(J?U:0)+Q)+$;c.style.height=K+"px",g.scrollTop=H-z+g.offsetTop}c.style.margin=`${oi}px 0`,c.style.minHeight=I+"px",c.style.maxHeight=F+"px",s==null||s(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,c,d,g,p,b,i.dir,s]);Fr(()=>v(),[v]);const[y,S]=k.useState();Fr(()=>{d&&S(window.getComputedStyle(d).zIndex)},[d]);const M=k.useCallback(P=>{P&&A.current===!0&&(v(),x==null||x(),A.current=!1)},[v,x]);return r.jsx(Bse,{scope:e,contentWrapper:c,shouldExpandOnScrollRef:m,onScrollButtonChange:M,children:r.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:y},children:r.jsx(Nt.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});xD.displayName=kse;var _se="SelectPopperPosition",Yw=k.forwardRef((n,t)=>{const{__scopeSelect:e,align:s="start",collisionPadding:a=oi,...i}=n,o=Gx(e);return r.jsx(dx,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Yw.displayName=_se;var[Bse,rC]=gh(md,{}),Jw="SelectViewport",bD=k.forwardRef((n,t)=>{const{__scopeSelect:e,nonce:s,...a}=n,i=gc(Jw,e),o=rC(Jw,e),c=cn(t,i.onViewportChange),l=k.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(zx.Slot,{scope:e,children:r.jsx(Nt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:tt(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(l.current-u.scrollTop);if(m>0){const A=window.innerHeight-oi*2,g=parseFloat(f.style.minHeight),p=parseFloat(f.style.height),b=Math.max(g,p);if(b<A){const x=b+m,v=Math.min(A,x),y=x-v;f.style.height=v+"px",f.style.bottom==="0px"&&(u.scrollTop=y>0?y:0,f.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});bD.displayName=Jw;var vD="SelectGroup",[Ese,Mse]=gh(vD),Pse=k.forwardRef((n,t)=>{const{__scopeSelect:e,...s}=n,a=ga();return r.jsx(Ese,{scope:e,id:a,children:r.jsx(Nt.div,{role:"group","aria-labelledby":a,...s,ref:t})})});Pse.displayName=vD;var yD="SelectLabel",wD=k.forwardRef((n,t)=>{const{__scopeSelect:e,...s}=n,a=Mse(yD,e);return r.jsx(Nt.div,{id:a.id,...s,ref:t})});wD.displayName=yD;var n0="SelectItem",[Dse,jD]=gh(n0),CD=k.forwardRef((n,t)=>{const{__scopeSelect:e,value:s,disabled:a=!1,textValue:i,...o}=n,c=Ac(n0,e),l=gc(n0,e),d=c.value===s,[u,f]=k.useState(i??""),[h,m]=k.useState(!1),A=cn(t,x=>{var v;return(v=l.itemRefCallback)==null?void 0:v.call(l,x,s,a)}),g=ga(),p=k.useRef("touch"),b=()=>{a||(c.onValueChange(s),c.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(Dse,{scope:e,value:s,disabled:a,textId:g,isSelected:d,onItemTextChange:k.useCallback(x=>{f(v=>v||((x==null?void 0:x.textContent)??"").trim())},[]),children:r.jsx(zx.ItemSlot,{scope:e,value:s,disabled:a,textValue:u,children:r.jsx(Nt.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:A,onFocus:tt(o.onFocus,()=>m(!0)),onBlur:tt(o.onBlur,()=>m(!1)),onClick:tt(o.onClick,()=>{p.current!=="mouse"&&b()}),onPointerUp:tt(o.onPointerUp,()=>{p.current==="mouse"&&b()}),onPointerDown:tt(o.onPointerDown,x=>{p.current=x.pointerType}),onPointerMove:tt(o.onPointerMove,x=>{var v;p.current=x.pointerType,a?(v=l.onItemLeave)==null||v.call(l):p.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:tt(o.onPointerLeave,x=>{var v;x.currentTarget===document.activeElement&&((v=l.onItemLeave)==null||v.call(l))}),onKeyDown:tt(o.onKeyDown,x=>{var y;((y=l.searchRef)==null?void 0:y.current)!==""&&x.key===" "||(bse.includes(x.key)&&b(),x.key===" "&&x.preventDefault())})})})})});CD.displayName=n0;var ff="SelectItemText",ND=k.forwardRef((n,t)=>{const{__scopeSelect:e,className:s,style:a,...i}=n,o=Ac(ff,e),c=gc(ff,e),l=jD(ff,e),d=jse(ff,e),[u,f]=k.useState(null),h=cn(t,b=>f(b),l.onItemTextChange,b=>{var x;return(x=c.itemTextRefCallback)==null?void 0:x.call(c,b,l.value,l.disabled)}),m=u==null?void 0:u.textContent,A=k.useMemo(()=>r.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:p}=d;return Fr(()=>(g(A),()=>p(A)),[g,p,A]),r.jsxs(r.Fragment,{children:[r.jsx(Nt.span,{id:l.textId,...i,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ro.createPortal(i.children,o.valueNode):null]})});ND.displayName=ff;var SD="SelectItemIndicator",TD=k.forwardRef((n,t)=>{const{__scopeSelect:e,...s}=n;return jD(SD,e).isSelected?r.jsx(Nt.span,{"aria-hidden":!0,...s,ref:t}):null});TD.displayName=SD;var Zw="SelectScrollUpButton",kD=k.forwardRef((n,t)=>{const e=gc(Zw,n.__scopeSelect),s=rC(Zw,n.__scopeSelect),[a,i]=k.useState(!1),o=cn(t,s.onScrollButtonChange);return Fr(()=>{if(e.viewport&&e.isPositioned){let c=function(){const d=l.scrollTop>0;i(d)};const l=e.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[e.viewport,e.isPositioned]),a?r.jsx(BD,{...n,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=e;c&&l&&(c.scrollTop=c.scrollTop-l.offsetHeight)}}):null});kD.displayName=Zw;var e1="SelectScrollDownButton",_D=k.forwardRef((n,t)=>{const e=gc(e1,n.__scopeSelect),s=rC(e1,n.__scopeSelect),[a,i]=k.useState(!1),o=cn(t,s.onScrollButtonChange);return Fr(()=>{if(e.viewport&&e.isPositioned){let c=function(){const d=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<d;i(u)};const l=e.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[e.viewport,e.isPositioned]),a?r.jsx(BD,{...n,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=e;c&&l&&(c.scrollTop=c.scrollTop+l.offsetHeight)}}):null});_D.displayName=e1;var BD=k.forwardRef((n,t)=>{const{__scopeSelect:e,onAutoScroll:s,...a}=n,i=gc("SelectScrollButton",e),o=k.useRef(null),c=Kx(e),l=k.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return k.useEffect(()=>()=>l(),[l]),Fr(()=>{var u;const d=c().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[c]),r.jsx(Nt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:tt(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:tt(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:tt(a.onPointerLeave,()=>{l()})})}),Ise="SelectSeparator",ED=k.forwardRef((n,t)=>{const{__scopeSelect:e,...s}=n;return r.jsx(Nt.div,{"aria-hidden":!0,...s,ref:t})});ED.displayName=Ise;var t1="SelectArrow",Ose=k.forwardRef((n,t)=>{const{__scopeSelect:e,...s}=n,a=Gx(e),i=Ac(t1,e),o=gc(t1,e);return i.open&&o.position==="popper"?r.jsx(ux,{...a,...s,ref:t}):null});Ose.displayName=t1;var Lse="SelectBubbleInput",MD=k.forwardRef(({__scopeSelect:n,value:t,...e},s)=>{const a=k.useRef(null),i=cn(s,a),o=tp(t);return k.useEffect(()=>{const c=a.current;if(!c)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&u){const f=new Event("change",{bubbles:!0});u.call(c,t),c.dispatchEvent(f)}},[o,t]),r.jsx(Nt.select,{...e,style:{...R_,...e.style},ref:i,defaultValue:t})});MD.displayName=Lse;function PD(n){return n===""||n===void 0}function DD(n){const t=Hr(n),e=k.useRef(""),s=k.useRef(0),a=k.useCallback(o=>{const c=e.current+o;t(c),function l(d){e.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>l(""),1e3))}(c)},[t]),i=k.useCallback(()=>{e.current="",window.clearTimeout(s.current)},[]);return k.useEffect(()=>()=>window.clearTimeout(s.current),[]),[e,a,i]}function ID(n,t,e){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=e?n.indexOf(e):-1;let o=Fse(n,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==e));const l=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return l!==e?l:void 0}function Fse(n,t){return n.map((e,s)=>n[(t+s)%n.length])}var Rse=lD,OD=dD,Use=hD,Hse=fD,$se=mD,LD=pD,Qse=bD,FD=wD,RD=CD,Vse=ND,zse=TD,UD=kD,HD=_D,$D=ED;const hn=Rse,fn=Use,on=k.forwardRef(({className:n,children:t,...e},s)=>r.jsxs(OD,{ref:s,className:Ue("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...e,children:[t,r.jsx(Hse,{asChild:!0,children:r.jsx(lo,{className:"h-4 w-4 opacity-50"})})]}));on.displayName=OD.displayName;const QD=k.forwardRef(({className:n,...t},e)=>r.jsx(UD,{ref:e,className:Ue("flex cursor-default items-center justify-center py-1",n),...t,children:r.jsx(th,{className:"h-4 w-4"})}));QD.displayName=UD.displayName;const VD=k.forwardRef(({className:n,...t},e)=>r.jsx(HD,{ref:e,className:Ue("flex cursor-default items-center justify-center py-1",n),...t,children:r.jsx(lo,{className:"h-4 w-4"})}));VD.displayName=HD.displayName;const ln=k.forwardRef(({className:n,children:t,position:e="popper",...s},a)=>r.jsx($se,{children:r.jsxs(LD,{ref:a,className:Ue("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:e,...s,children:[r.jsx(QD,{}),r.jsx(Qse,{className:Ue("p-1",e==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(VD,{})]})}));ln.displayName=LD.displayName;const Kse=k.forwardRef(({className:n,...t},e)=>r.jsx(FD,{ref:e,className:Ue("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...t}));Kse.displayName=FD.displayName;const Ve=k.forwardRef(({className:n,children:t,...e},s)=>r.jsxs(RD,{ref:s,className:Ue("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...e,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(zse,{children:r.jsx(Bd,{className:"h-4 w-4"})})}),r.jsx(Vse,{children:t})]}));Ve.displayName=RD.displayName;const Gse=k.forwardRef(({className:n,...t},e)=>r.jsx($D,{ref:e,className:Ue("-mx-1 my-1 h-px bg-muted",n),...t}));Gse.displayName=$D.displayName;var qx="Checkbox",[qse,GBe]=ks(qx),[Wse,sC]=qse(qx);function Xse(n){const{__scopeCheckbox:t,checked:e,children:s,defaultChecked:a,disabled:i,form:o,name:c,onCheckedChange:l,required:d,value:u="on",internal_do_not_use_render:f}=n,[h,m]=wa({prop:e,defaultProp:a??!1,onChange:l,caller:qx}),[A,g]=k.useState(null),[p,b]=k.useState(null),x=k.useRef(!1),v=A?!!o||!!A.closest("form"):!0,y={checked:h,disabled:i,setChecked:m,control:A,setControl:g,name:c,form:o,value:u,hasConsumerStoppedPropagationRef:x,required:d,defaultChecked:zl(a)?!1:a,isFormControl:v,bubbleInput:p,setBubbleInput:b};return r.jsx(Wse,{scope:t,...y,children:Yse(f)?f(y):s})}var zD="CheckboxTrigger",KD=k.forwardRef(({__scopeCheckbox:n,onKeyDown:t,onClick:e,...s},a)=>{const{control:i,value:o,disabled:c,checked:l,required:d,setControl:u,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:A}=sC(zD,n),g=cn(a,u),p=k.useRef(l);return k.useEffect(()=>{const b=i==null?void 0:i.form;if(b){const x=()=>f(p.current);return b.addEventListener("reset",x),()=>b.removeEventListener("reset",x)}},[i,f]),r.jsx(Nt.button,{type:"button",role:"checkbox","aria-checked":zl(l)?"mixed":l,"aria-required":d,"data-state":YD(l),"data-disabled":c?"":void 0,disabled:c,value:o,...s,ref:g,onKeyDown:tt(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:tt(e,b=>{f(x=>zl(x)?!0:!x),A&&m&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})})});KD.displayName=zD;var aC=k.forwardRef((n,t)=>{const{__scopeCheckbox:e,name:s,checked:a,defaultChecked:i,required:o,disabled:c,value:l,onCheckedChange:d,form:u,...f}=n;return r.jsx(Xse,{__scopeCheckbox:e,checked:a,defaultChecked:i,disabled:c,required:o,onCheckedChange:d,name:s,form:u,value:l,internal_do_not_use_render:({isFormControl:h})=>r.jsxs(r.Fragment,{children:[r.jsx(KD,{...f,ref:t,__scopeCheckbox:e}),h&&r.jsx(XD,{__scopeCheckbox:e})]})})});aC.displayName=qx;var GD="CheckboxIndicator",qD=k.forwardRef((n,t)=>{const{__scopeCheckbox:e,forceMount:s,...a}=n,i=sC(GD,e);return r.jsx(hs,{present:s||zl(i.checked)||i.checked===!0,children:r.jsx(Nt.span,{"data-state":YD(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...n.style}})})});qD.displayName=GD;var WD="CheckboxBubbleInput",XD=k.forwardRef(({__scopeCheckbox:n,...t},e)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:c,disabled:l,name:d,value:u,form:f,bubbleInput:h,setBubbleInput:m}=sC(WD,n),A=cn(e,m),g=tp(i),p=lx(s);k.useEffect(()=>{const x=h;if(!x)return;const v=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(v,"checked").set,M=!a.current;if(g!==i&&S){const P=new Event("click",{bubbles:M});x.indeterminate=zl(i),S.call(x,zl(i)?!1:i),x.dispatchEvent(P)}},[h,g,i,a]);const b=k.useRef(zl(i)?!1:i);return r.jsx(Nt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:c,disabled:l,name:d,value:u,form:f,...t,tabIndex:-1,ref:A,style:{...t.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});XD.displayName=WD;function Yse(n){return typeof n=="function"}function zl(n){return n==="indeterminate"}function YD(n){return zl(n)?"indeterminate":n?"checked":"unchecked"}const Ns=k.forwardRef(({className:n,...t},e)=>r.jsx(aC,{ref:e,className:Ue("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",n),...t,children:r.jsx(qD,{className:Ue("flex items-center justify-center text-current"),children:r.jsx(Bd,{className:"h-4 w-4"})})}));Ns.displayName=aC.displayName;const JD=[{name:"red",displayName:"Đỏ",ranges:[{minHex:"CC0000",maxHex:"FF3333"},{minHex:"FF0000",maxHex:"FF6666"},{minHex:"B22222",maxHex:"DC143C"}],previewColor:"#FF0000",gradientColors:["#8B0000","#FF0000","#FF6B6B"]},{name:"blue",displayName:"Xanh dương",ranges:[{minHex:"0000CC",maxHex:"3333FF"},{minHex:"0066CC",maxHex:"3399FF"},{minHex:"000080",maxHex:"4169E1"}],previewColor:"#0066FF",gradientColors:["#000080","#0066FF","#87CEEB"]},{name:"green",displayName:"Xanh lá",ranges:[{minHex:"00CC00",maxHex:"33FF33"},{minHex:"228B22",maxHex:"32CD32"},{minHex:"006400",maxHex:"90EE90"}],previewColor:"#00CC00",gradientColors:["#006400","#00CC00","#90EE90"]},{name:"yellow",displayName:"Vàng",ranges:[{minHex:"CCCC00",maxHex:"FFFF33"},{minHex:"FFD700",maxHex:"FFFF99"},{minHex:"FFA500",maxHex:"FFFF00"}],previewColor:"#FFFF00",gradientColors:["#B8860B","#FFD700","#FFFFE0"]},{name:"purple",displayName:"Tím",ranges:[{minHex:"6600CC",maxHex:"9933FF"},{minHex:"800080",maxHex:"DA70D6"},{minHex:"4B0082",maxHex:"9370DB"}],previewColor:"#8000FF",gradientColors:["#4B0082","#8000FF","#DDA0DD"]},{name:"orange",displayName:"Cam",ranges:[{minHex:"FF6600",maxHex:"FF9933"},{minHex:"FF4500",maxHex:"FFA500"},{minHex:"CC3300",maxHex:"FF7F50"}],previewColor:"#FF6600",gradientColors:["#CC3300","#FF6600","#FFB07A"]},{name:"pink",displayName:"Hồng",ranges:[{minHex:"FF66CC",maxHex:"FF99DD"},{minHex:"FF1493",maxHex:"FFB6C1"},{minHex:"FF69B4",maxHex:"FFC0CB"}],previewColor:"#FF69B4",gradientColors:["#C91E6A","#FF69B4","#FFB6C1"]},{name:"brown",displayName:"Nâu",ranges:[{minHex:"8B4513",maxHex:"D2691E"},{minHex:"A0522D",maxHex:"CD853F"},{minHex:"654321",maxHex:"DEB887"}],previewColor:"#8B4513",gradientColors:["#654321","#8B4513","#D2B48C"]},{name:"gray",displayName:"Xám",ranges:[{minHex:"666666",maxHex:"CCCCCC"},{minHex:"808080",maxHex:"D3D3D3"},{minHex:"2F2F2F",maxHex:"A9A9A9"}],previewColor:"#808080",gradientColors:["#2F2F2F","#808080","#D3D3D3"]},{name:"black",displayName:"Đen",ranges:[{minHex:"000000",maxHex:"333333"},{minHex:"000000",maxHex:"2F2F2F"}],previewColor:"#000000",gradientColors:["#000000","#2F2F2F","#696969"]},{name:"white",displayName:"Trắng",ranges:[{minHex:"CCCCCC",maxHex:"FFFFFF"},{minHex:"F0F0F0",maxHex:"FFFFFF"}],previewColor:"#FFFFFF",gradientColors:["#E5E5E5","#F8F8F8","#FFFFFF"]}],Cv=n=>{const t=n.replace("#","").toUpperCase();if(t.length!==6)return null;const e=parseInt(t.substring(0,2),16),s=parseInt(t.substring(2,4),16),a=parseInt(t.substring(4,6),16);return{r:e,g:s,b:a}},Jse=(n,t,e)=>{const s=Cv(n),a=Cv(t),i=Cv(e);return!s||!a||!i?!1:s.r>=a.r&&s.r<=i.r&&s.g>=a.g&&s.g<=i.g&&s.b>=a.b&&s.b<=i.b},Zse=n=>{const t=n.replace("#","").toUpperCase();for(const e of JD)for(const s of e.ranges)if(Jse(t,s.minHex,s.maxHex))return e.name;return null},eae=({selectedColorRanges:n,onColorRangeChange:t})=>r.jsxs("div",{children:[r.jsx(Oe,{className:"text-lg font-medium mb-4 block",children:"Phổ Màu"}),r.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-3",children:JD.map(e=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ns,{id:`color-range-${e.name}`,checked:n.includes(e.name),onCheckedChange:()=>t(e.name),"aria-label":`Chọn phổ màu ${e.displayName}`,className:"flex-shrink-0"}),r.jsx("div",{className:"w-12 h-5 rounded-md border border-gray-300 shadow-sm flex-shrink-0",style:{background:`linear-gradient(to right, ${e.gradientColors[0]} 0%, ${e.gradientColors[1]} 50%, ${e.gradientColors[2]} 100%)`,...e.name==="white"&&{border:"2px solid #d1d5db"}},title:`Phổ màu ${e.displayName}`}),r.jsx("label",{htmlFor:`color-range-${e.name}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer flex-1 truncate",children:e.displayName})]},e.name))})]}),Qp=(n,t)=>Ce.fire({title:t==="error"?"Lỗi!":t==="warning"?"Cảnh báo!":"Thành công!",text:n,icon:t,timer:2e3,timerProgressBar:!0,showConfirmButton:!1}),tae=()=>{const n=dr(),t=fs(),[e,s]=k.useState([]),[a,i]=k.useState([]),[o,c]=k.useState(!0),[l,d]=k.useState(null),[u,f]=k.useState(""),[h,m]=k.useState([]),[A,g]=k.useState([]),[p,b]=k.useState([]),[x,v]=k.useState([]),[y,S]=k.useState([0,1/0]),[M,P]=k.useState("name_asc"),[B,D]=k.useState(!1),[L,O]=k.useState("grid"),[F,_]=k.useState(1),E=6;k.useEffect(()=>{(async()=>{try{c(!0);const K=await fetch("https://bicacuatho.azurewebsites.net/api/SanPham/ListSanPham",{headers:{Accept:"application/json"}});if(!K.ok)throw new Error(`Lỗi ${K.status}: Không thể tải danh sách sản phẩm`);const ne=await K.json(),ce=await fetch("https://bicacuatho.azurewebsites.net/api/Comment/list");if(!ce.ok)throw new Error("Không thể tải bình luận");const oe=await ce.json();let ee={};try{const se=localStorage.getItem("user");ee=se?JSON.parse(se):{}}catch(se){console.error("Lỗi parse user data:",se)}const W=ee==null?void 0:ee.maNguoiDung;let Y=[];if(W){const se=await fetch("https://bicacuatho.azurewebsites.net/api/YeuThich",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});se.ok&&(Y=await se.json())}const Z=ne.map(se=>{const re=se.id.split("_")[0]||se.id,le=oe.filter(pe=>pe.maSanPham===re&&pe.trangThai===1),ae=le.reduce((pe,Ae)=>pe+(Ae.danhGia||0),0),ue=le.length>0?ae/le.length:0,he=Y.find(pe=>pe.maSanPham===re&&pe.maNguoiDung===W);return{id:se.id,name:se.name,description:se.moTa||`Thương hiệu: ${se.thuongHieu||"Không xác định"} <br/> Chất liệu: ${se.chatLieu||"Không xác định"}`,imageSrc:se.hinh[0]?`data:image/jpeg;base64,${se.hinh[0]}`:"https://via.placeholder.com/300",price:se.donGia,category:se.loaiSanPham||"Không xác định",thuongHieu:se.thuongHieu||"Không xác định",chatLieu:se.chatLieu||"Không xác định",kichThuoc:se.kichThuoc||[],mauSac:se.mauSac||[],averageRating:ue,commentCount:le.length,isFavorite:!!he,hot:se.hot||!1,likedId:he==null?void 0:he.maYeuThich,hashtags:se.listHashTag||[],gioiTinh:se.gioiTinh||"Không xác định",trangThai:se.trangThai||0,khuyenMaiMax:se.khuyenMaiMax||0}});s(Z),i(Z),S([Math.floor(Math.min(...Z.map(se=>se.price))),Math.ceil(Math.max(...Z.map(se=>se.price)))]),d(null)}catch(K){const ne=K instanceof Error?K.message:"Lỗi không xác định";console.error("Lỗi khi lấy sản phẩm:",ne),d("Không thể tải sản phẩm. Vui lòng kiểm tra kết nối và thử lại."),Tn({title:"Lỗi",description:ne,variant:"destructive"})}finally{c(!1)}})()},[]),k.useEffect(()=>{const K=new URLSearchParams(t.search).get("category");K&&!p.includes(K)?b([K]):!K&&p.length>0&&b([])},[t.search]),k.useEffect(()=>{_(1)},[a]);const T=k.useMemo(()=>[...new Set(e.map(te=>te.thuongHieu))].sort(),[e]),w=k.useMemo(()=>[...new Set(e.map(te=>te.category))].sort(),[e]),C=k.useMemo(()=>[...new Set(e.map(te=>te.gioiTinh))].sort(),[e]),j=k.useMemo(()=>Math.floor(Math.min(...e.map(te=>te.price))||0),[e]),N=k.useMemo(()=>Math.ceil(Math.max(...e.map(te=>te.price))||1/0),[e]);k.useEffect(()=>{let te=[...e];if(u){const K=u.toLowerCase().trim();te=te.filter(ne=>ne.name.toLowerCase().includes(K)||ne.description.toLowerCase().includes(K))}h.length>0&&(te=te.filter(K=>K.mauSac.some(ne=>{const ce=Zse(ne);return ce&&h.includes(ce)}))),A.length>0&&(te=te.filter(K=>A.includes(K.thuongHieu))),p.length>0&&(te=te.filter(K=>p.includes(K.category))),x.length>0&&(te=te.filter(K=>x.includes(K.gioiTinh))),te=te.filter(K=>K.price>=y[0]&&K.price<=y[1]),te.sort((K,ne)=>{switch(M){case"name_asc":return K.name.localeCompare(ne.name);case"name_desc":return ne.name.localeCompare(K.name);case"price_asc":return K.price-ne.price;case"price_desc":return ne.price-K.price;case"rating_desc":return ne.averageRating-K.averageRating;default:return 0}}),i(te)},[e,u,h,A,p,x,y,M]);const I=F*E,R=I-E,U=a.slice(R,I),V=Math.ceil(a.length/E),z=te=>{m(K=>K.includes(te)?K.filter(ne=>ne!==te):[...K,te])},X=te=>{g(K=>K.includes(te)?K.filter(ne=>ne!==te):[...K,te])},Q=te=>{b(K=>K.includes(te)?K.filter(ne=>ne!==te):[...K,te])},q=te=>{v(K=>K.includes(te)?K.filter(ne=>ne!==te):[...K,te])},H=()=>{f(""),m([]),g([]),b([]),v([]),S([j,N]),P("name_asc"),D(!1),Tn({title:"Đã xóa bộ lọc",description:"Tất cả bộ lọc đã được đặt lại về mặc định."})},$=()=>{D(!1),Tn({title:"Đã áp dụng bộ lọc",description:"Bộ lọc sản phẩm của bạn đã được áp dụng."})},G=async te=>{try{const K=e.find(ee=>ee.id===te);let ne={};try{const ee=localStorage.getItem("user");ne=ee?JSON.parse(ee):{}}catch(ee){console.error("Lỗi parse user data:",ee)}const ce=ne==null?void 0:ne.maNguoiDung,oe=ne==null?void 0:ne.hoTen;if(!ce){Qp("Vui lòng đăng nhập để thêm sản phẩm vào danh sách yêu thích!","warning").then(()=>{n("/auth/login")});return}if(K!=null&&K.isFavorite){if(!(await fetch(`https://bicacuatho.azurewebsites.net/api/YeuThich/${K.likedId}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Không thể xóa sản phẩm khỏi danh sách yêu thích");s(W=>W.map(Y=>Y.id===te?{...Y,isFavorite:!1,likedId:void 0}:Y)),i(W=>W.map(Y=>Y.id===te?{...Y,isFavorite:!1,likedId:void 0}:Y)),Qp("Đã xóa sản phẩm khỏi danh sách yêu thích!","success")}else{const ee={maSanPham:te.split("_")[0]||te,tenSanPham:K==null?void 0:K.name,maNguoiDung:ce,hoTen:oe,soLuongYeuThich:1,ngayYeuThich:new Date().toISOString()},W=await fetch("https://bicacuatho.azurewebsites.net/api/YeuThich",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(ee)});if(!W.ok)throw new Error("Không thể thêm sản phẩm vào danh sách yêu thích");const Y=await W.json();s(Z=>Z.map(se=>se.id===te?{...se,isFavorite:!0,likedId:Y.maYeuThich}:se)),i(Z=>Z.map(se=>se.id===te?{...se,isFavorite:!0,likedId:Y.maYeuThich}:se)),Qp("Đã thêm sản phẩm vào danh sách yêu thích!","success")}}catch(K){console.error("Lỗi khi cập nhật yêu thích:",K),Qp("Có lỗi xảy ra khi cập nhật yêu thích!","error")}},J=[u,h.length>0?"colors":null,A.length>0?"brands":null,p.length>0?"categories":null,x.length>0?"genders":null,y[0]>j||y[1]<N?"price":null].filter(Boolean).length;return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100",children:r.jsxs("div",{className:"container px-4 md:px-6 mx-auto max-w-7xl py-8",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-8",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsxs(fe,{variant:"outline",onClick:()=>D(!0),className:"h-12 px-6 rounded-full border-2 hover:border-purple-500 hover:text-purple-600 hover:bg-purple-50 transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:[r.jsx(sd,{className:"h-4 w-4 mr-2"}),"Bộ lọc nâng cao",J>0&&r.jsx(Vt,{className:"ml-2 bg-red-500 animate-pulse",children:J})]}),r.jsxs(hn,{value:M,onValueChange:P,children:[r.jsxs(on,{className:"w-60 h-12 rounded-full border-2 shadow-md",children:[r.jsx(d6,{className:"h-4 w-4 mr-2"}),r.jsx(fn,{})]}),r.jsxs(ln,{children:[r.jsx(Ve,{value:"name_asc",children:"Tên: A đến Z"}),r.jsx(Ve,{value:"name_desc",children:"Tên: Z đến A"}),r.jsx(Ve,{value:"price_asc",children:"Giá: Thấp đến Cao"}),r.jsx(Ve,{value:"price_desc",children:"Giá: Cao đến Thấp"}),r.jsx(Ve,{value:"rating_desc",children:"Đánh giá cao nhất"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center border-2 rounded-full p-1 bg-white shadow-md",children:[r.jsx(fe,{variant:L==="grid"?"default":"ghost",size:"sm",onClick:()=>O("grid"),className:"rounded-full",children:r.jsx(A6,{className:"h-4 w-4"})}),r.jsx(fe,{variant:L==="list"?"default":"ghost",size:"sm",onClick:()=>O("list"),className:"rounded-full",children:r.jsx(Um,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"text-sm text-gray-600 flex items-center bg-white px-4 py-2 rounded-full shadow-md",children:[r.jsx(Gc,{className:"h-4 w-4 mr-2 text-green-500"}),r.jsx("span",{className:"font-bold text-purple-600",children:a.length}),r.jsx("span",{className:"ml-1",children:"sản phẩm"})]})]})]}),B&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>D(!1),children:r.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden m-4",onClick:te=>te.stopPropagation(),children:[r.jsxs("div",{className:"flex justify-between items-center p-8 bg-gradient-to-r from-purple-600 via-pink-500 to-indigo-600 text-white",children:[r.jsxs("h2",{className:"text-3xl font-bold flex items-center",children:[r.jsx(Q2,{className:"h-8 w-8 mr-3"}),"Bộ Lọc Thông Minh"]}),r.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>D(!1),className:"text-white hover:bg-white/20 rounded-full w-12 h-12",children:r.jsx(st,{className:"h-6 w-6"})})]}),r.jsx("div",{className:"p-8 overflow-y-auto max-h-[calc(90vh-220px)]",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Oe,{className:"text-xl font-bold text-gray-800 flex items-center",children:[r.jsx(ir,{className:"h-6 w-6 mr-3 text-purple-600"}),"Danh Mục Sản Phẩm"]}),r.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6",children:r.jsx("div",{className:"space-y-4",children:w.map(te=>r.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-xl hover:bg-white/80 transition-colors",children:[r.jsx(Ns,{id:`category-${te}`,checked:p.includes(te),onCheckedChange:()=>Q(te),className:"rounded-md w-5 h-5"}),r.jsx("label",{htmlFor:`category-${te}`,className:"text-sm font-medium cursor-pointer flex-1",children:te})]},te))})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Oe,{className:"text-xl font-bold text-gray-800 flex items-center",children:[r.jsx(Wb,{className:"h-6 w-6 mr-3 text-blue-600"}),"Thương Hiệu"]}),r.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-6 max-h-80 overflow-y-auto",children:r.jsx("div",{className:"space-y-4",children:T.map(te=>r.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-xl hover:bg-white/80 transition-colors",children:[r.jsx(Ns,{id:`brand-${te}`,checked:A.includes(te),onCheckedChange:()=>X(te),className:"rounded-md w-5 h-5"}),r.jsx("label",{htmlFor:`brand-${te}`,className:"text-sm font-medium cursor-pointer flex-1",children:te})]},te))})})]}),r.jsx("div",{className:"space-y-6",children:r.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl p-6",children:r.jsx(eae,{selectedColorRanges:h,onColorRangeChange:z})})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Oe,{className:"text-xl font-bold text-gray-800 flex items-center",children:[r.jsx(K2,{className:"h-6 w-6 mr-3 text-pink-600"}),"Giới Tính"]}),r.jsx("div",{className:"bg-gradient-to-br from-pink-50 to-rose-50 rounded-2xl p-6",children:r.jsx("div",{className:"space-y-4",children:C.map(te=>r.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-xl hover:bg-white/80 transition-colors",children:[r.jsx(Ns,{id:`gender-${te}`,checked:x.includes(te),onCheckedChange:()=>q(te),className:"rounded-md w-5 h-5"}),r.jsx("label",{htmlFor:`gender-${te}`,className:"text-sm font-medium cursor-pointer flex-1",children:te})]},te))})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx(Oe,{className:"text-xl font-bold text-gray-800",children:"Khoảng Giá"}),r.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-2xl p-6",children:r.jsxs(hn,{onValueChange:te=>{switch(te){case"all":S([j,N]);break;case"under-100000":S([0,1e5]);break;case"100000-200000":S([1e5,2e5]);break;case"200000-500000":S([2e5,5e5]);break;case"over-500000":S([5e5,N]);break}},children:[r.jsx(on,{className:"w-full h-12 rounded-xl border-2",children:r.jsx(fn,{placeholder:"Chọn khoảng giá"})}),r.jsxs(ln,{children:[r.jsx(Ve,{value:"all",children:"Tất cả giá"}),r.jsx(Ve,{value:"under-100000",children:"Dưới 100,000 VND"}),r.jsx(Ve,{value:"100000-200000",children:"100,000 - 200,000 VND"}),r.jsx(Ve,{value:"200000-500000",children:"200,000 - 500,000 VND"}),r.jsx(Ve,{value:"over-500000",children:"Trên 500,000 VND"})]})]})})]})]})}),r.jsxs("div",{className:"flex justify-between items-center p-8 bg-gray-50 border-t",children:[r.jsx(fe,{variant:"outline",onClick:H,className:"px-8 h-12 rounded-xl border-2 hover:bg-red-50 hover:border-red-300 hover:text-red-600",children:"Xóa Tất Cả Bộ Lọc"}),r.jsx(fe,{onClick:$,className:"px-12 h-12 rounded-xl bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"Áp Dụng Bộ Lọc"})]})]})}),l?r.jsx("div",{className:"py-20 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-3xl shadow-xl p-12",children:[r.jsx("div",{className:"text-8xl mb-6",children:"😔"}),r.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Oops! Có lỗi xảy ra"}),r.jsx("p",{className:"text-gray-600 mb-6",children:l}),r.jsx(fe,{onClick:()=>window.location.reload(),className:"rounded-full px-8",children:"Thử lại"})]})}):o?r.jsxs("div",{className:"py-20 text-center",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"animate-spin h-16 w-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-6"}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx(Xs,{className:"h-6 w-6 text-purple-500 animate-pulse"})})]}),r.jsx("p",{className:"text-xl text-gray-600 font-medium",children:"Đang tải sản phẩm thời trang tuyệt vời..."})]}):a.length===0?r.jsx("div",{className:"py-20 text-center",children:r.jsxs("div",{className:"max-w-lg mx-auto bg-white rounded-3xl shadow-xl p-12",children:[r.jsx("div",{className:"text-8xl mb-6",children:"🔍"}),r.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Không tìm thấy sản phẩm"}),r.jsx("p",{className:"text-gray-600 mb-8",children:"Hãy thử điều chỉnh tiêu chí tìm kiếm hoặc bộ lọc để tìm được sản phẩm phù hợp"}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsx(fe,{onClick:H,className:"rounded-full px-8",children:"Xóa Tất Cả Bộ Lọc"}),r.jsx(fe,{variant:"outline",className:"rounded-full px-8",children:"Xem sản phẩm hot"})]})]})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-8 flex items-center justify-between bg-white rounded-2xl shadow-lg p-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ir,{className:"h-5 w-5 text-green-500"}),r.jsxs("span",{className:"text-lg font-semibold text-gray-800",children:["Hiển thị ",r.jsx("span",{className:"text-purple-600 font-bold",children:a.length})," sản phẩm"]})]}),J>0&&r.jsxs(Vt,{className:"bg-purple-100 text-purple-700 hover:bg-purple-100",children:[J," bộ lọc đang áp dụng"]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(fe,{variant:"ghost",size:"sm",className:"text-gray-500 hover:text-purple-600",children:"Chia sẻ kết quả"})})]}),r.jsx("div",{className:L==="grid"?"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8":"space-y-6",children:U.map(te=>r.jsxs(at,{className:`overflow-hidden group hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 border-0 shadow-lg bg-white ${L==="list"?"flex flex-col md:flex-row":""}`,style:{height:"750px"},children:[r.jsx(lt,{to:`/products/${te.id}`,className:"group-hover:opacity-90 transition-opacity",children:r.jsxs("div",{className:`relative ${L==="list"?"md:w-1/3 aspect-video md:aspect-square":"aspect-square"}`,children:[r.jsx("img",{src:te.imageSrc,alt:te.name,className:"h-full w-full object-cover transition-transform duration-700 group-hover:scale-110",loading:"lazy"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),r.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[te.khuyenMaiMax&&te.khuyenMaiMax>0?r.jsxs("div",{className:"absolute top-4 left-4 bg-gradient-to-br from-red-500 to-red-600 text-white p-3 min-w-[80px] min-h-[80px] flex flex-col items-center justify-center shadow-lg z-10",children:[r.jsx("div",{className:"text-xs font-medium leading-tight text-center",children:"Giảm"}),r.jsxs("div",{className:"text-lg font-bold leading-none",children:[te.khuyenMaiMax,"%"]})]}):null,te.hot&&te.trangThai===1?r.jsxs(Vt,{className:"bg-gradient-to-r from-red-500 to-pink-500 text-white font-bold px-3 py-1 rounded-full animate-pulse shadow-lg",children:[r.jsx(k6,{className:"h-3 w-3 mr-1"}),"Hot"]}):te.trangThai!==1?r.jsx(Vt,{className:"bg-gray-500 text-white px-3 py-1 rounded-full",children:"Ngừng bán"}):null]}),r.jsx(fe,{variant:"secondary",size:"icon",className:"absolute top-4 right-4 w-12 h-12 rounded-full bg-white/95 backdrop-blur-sm shadow-lg hover:bg-white hover:scale-110 transition-all duration-300 border-2 border-transparent hover:border-red-200",onClick:()=>G(te.id),children:r.jsx(Ts,{className:`h-5 w-5 transition-all duration-300 ${te.isFavorite?"fill-red-500 text-red-500 scale-110":"text-gray-600"}`})})]})}),r.jsx(dt,{className:`p-6 ${L==="list"?"md:w-2/3 flex-1":""}`,children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex items-center",children:[...Array(5)].map((K,ne)=>r.jsx(or,{className:`h-4 w-4 ${ne<Math.floor(te.averageRating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},ne))}),r.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["(",te.commentCount,")"]})]}),te.averageRating>=4.5&&r.jsxs(Vt,{className:"bg-yellow-100 text-yellow-700",children:[r.jsx(Wb,{className:"h-3 w-3 mr-1"}),"Top rated"]})]}),r.jsx(lt,{to:`/products/${te.id}`,className:"block group-hover:text-purple-600 transition-colors",children:r.jsx("h3",{className:"font-bold text-lg text-gray-800 line-clamp-2 leading-tight hover:text-purple-600 transition-colors",children:te.name})}),r.jsx("div",{className:"flex items-baseline gap-3",children:te.khuyenMaiMax&&te.khuyenMaiMax>0?r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:"text-lg line-through text-gray-500",children:[te.price.toLocaleString("vi-VN")," VND"]}),r.jsxs("span",{className:"text-2xl font-bold text-red-600",children:[(te.price*(1-te.khuyenMaiMax/100)).toLocaleString("vi-VN")," VND"]})]}):r.jsxs("span",{className:"text-2xl font-bold text-red-600",children:[te.price.toLocaleString("vi-VN")," VND"]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Màu sắc:"}),r.jsxs("div",{className:"flex gap-1",children:[te.mauSac.slice(0,4).map(K=>r.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white shadow-md hover:scale-110 transition-transform cursor-pointer",style:{backgroundColor:`#${K}`},title:`Màu #${K}`},K)),te.mauSac.length>4&&r.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 border-2 border-white shadow-md flex items-center justify-center",children:r.jsxs("span",{className:"text-xs font-bold text-gray-600",children:["+",te.mauSac.length-4]})})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[te.hashtags.slice(0,3).map(K=>r.jsxs(Vt,{className:"bg-blue-50 text-blue-600 hover:bg-blue-100 border-blue-200 text-xs px-2 py-1",children:["#",K.name]},K.id)),te.hashtags.length>3&&r.jsxs(Vt,{variant:"outline",className:"text-xs px-2 py-1",children:["+",te.hashtags.length-3]})]}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.jsx(Vt,{className:"bg-green-50 text-green-700 hover:bg-green-100 border-green-200 text-xs",children:te.category}),r.jsx(Vt,{className:"bg-purple-50 text-purple-700 hover:bg-purple-100 border-purple-200 text-xs",children:te.chatLieu}),r.jsx(Vt,{className:"bg-pink-50 text-pink-700 hover:bg-pink-100 border-pink-200 text-xs",children:te.gioiTinh})]}),r.jsx("div",{className:"flex gap-3 pt-2 absolute bottom-4 right-4 left-4",children:r.jsx(fe,{asChild:!0,variant:"outline",size:"sm",className:"flex-1 rounded-full hover:bg-purple-50 hover:border-purple-300 hover:text-purple-600 transition-all duration-300 transform hover:scale-105",children:r.jsxs(lt,{to:`/products/${te.id}`,children:[r.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Chi tiết"]})})})]})})]},te.id))}),V>1&&r.jsxs("div",{className:"mt-8 flex justify-center gap-4",children:[r.jsx(fe,{disabled:F===1,onClick:()=>_(te=>Math.max(te-1,1)),variant:"outline",className:"rounded-full",children:"Trước"}),r.jsxs("span",{className:"flex items-center text-gray-600",children:["Trang ",F," / ",V]}),r.jsx(fe,{disabled:F===V,onClick:()=>_(te=>Math.min(te+1,V)),variant:"outline",className:"rounded-full",children:"Sau"})]})]}),a.length>0&&r.jsxs("div",{className:"mt-20 bg-gradient-to-r from-purple-100 via-pink-50 to-indigo-100 rounded-3xl p-12 shadow-xl",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Thống Kê Sản Phẩm"}),r.jsx("p",{className:"text-gray-600",children:"Khám phá những con số thú vị về bộ sưu tập của chúng tôi"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsxs("div",{className:"text-center bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-purple-100 rounded-full mb-4",children:r.jsx(ir,{className:"h-8 w-8 text-purple-600"})}),r.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:a.length}),r.jsx("div",{className:"text-gray-600 font-medium",children:"Sản phẩm hiện có"})]}),r.jsxs("div",{className:"text-center bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-indigo-100 rounded-full mb-4",children:r.jsx(or,{className:"h-8 w-8 text-indigo-600"})}),r.jsx("div",{className:"text-3xl font-bold text-indigo-600 mb-2",children:a.length>0?Math.round(a.reduce((te,K)=>te+K.averageRating,0)/a.length*10)/10:0}),r.jsx("div",{className:"text-gray-600 font-medium",children:"Đánh giá trung bình"})]}),r.jsxs("div",{className:"text-center bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:r.jsx(Wb,{className:"h-8 w-8 text-green-600"})}),r.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:T.length}),r.jsx("div",{className:"text-gray-600 font-medium",children:"Thương hiệu"})]}),r.jsxs("div",{className:"text-center bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-orange-100 rounded-full mb-4",children:r.jsx(Gc,{className:"h-8 w-8 text-orange-600"})}),r.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:a.filter(te=>te.hot).length}),r.jsx("div",{className:"text-gray-600 font-medium",children:"Sản phẩm hot"})]})]})]}),r.jsx(fe,{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-8 right-8 w-14 h-14 rounded-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 shadow-2xl hover:shadow-3xl transition-all duration-300 transform hover:scale-110 z-40",size:"icon",children:r.jsx(Gc,{className:"h-6 w-6 rotate-180"})})]})})};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:ZD,setPrototypeOf:bS,isFrozen:nae,getPrototypeOf:rae,getOwnPropertyDescriptor:sae}=Object;let{freeze:ea,seal:ei,create:eI}=Object,{apply:n1,construct:r1}=typeof Reflect<"u"&&Reflect;ea||(ea=function(t){return t});ei||(ei=function(t){return t});n1||(n1=function(t,e,s){return t.apply(e,s)});r1||(r1=function(t,e){return new t(...e)});const Vp=ta(Array.prototype.forEach),aae=ta(Array.prototype.lastIndexOf),vS=ta(Array.prototype.pop),Ph=ta(Array.prototype.push),iae=ta(Array.prototype.splice),lg=ta(String.prototype.toLowerCase),Nv=ta(String.prototype.toString),yS=ta(String.prototype.match),Dh=ta(String.prototype.replace),oae=ta(String.prototype.indexOf),lae=ta(String.prototype.trim),li=ta(Object.prototype.hasOwnProperty),Qs=ta(RegExp.prototype.test),Ih=cae(TypeError);function ta(n){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var e=arguments.length,s=new Array(e>1?e-1:0),a=1;a<e;a++)s[a-1]=arguments[a];return n1(n,t,s)}}function cae(n){return function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return r1(n,e)}}function En(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:lg;bS&&bS(n,null);let s=t.length;for(;s--;){let a=t[s];if(typeof a=="string"){const i=e(a);i!==a&&(nae(t)||(t[s]=i),a=i)}n[a]=!0}return n}function dae(n){for(let t=0;t<n.length;t++)li(n,t)||(n[t]=null);return n}function To(n){const t=eI(null);for(const[e,s]of ZD(n))li(n,e)&&(Array.isArray(s)?t[e]=dae(s):s&&typeof s=="object"&&s.constructor===Object?t[e]=To(s):t[e]=s);return t}function Oh(n,t){for(;n!==null;){const s=sae(n,t);if(s){if(s.get)return ta(s.get);if(typeof s.value=="function")return ta(s.value)}n=rae(n)}function e(){return null}return e}const wS=ea(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Sv=ea(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Tv=ea(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),uae=ea(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),kv=ea(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),hae=ea(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),jS=ea(["#text"]),CS=ea(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),_v=ea(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),NS=ea(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),zp=ea(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),fae=ei(/\{\{[\w\W]*|[\w\W]*\}\}/gm),mae=ei(/<%[\w\W]*|[\w\W]*%>/gm),pae=ei(/\$\{[\w\W]*/gm),Aae=ei(/^data-[\-\w.\u00B7-\uFFFF]+$/),gae=ei(/^aria-[\-\w]+$/),tI=ei(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),xae=ei(/^(?:\w+script|data):/i),bae=ei(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),nI=ei(/^html$/i),vae=ei(/^[a-z][.\w]*(-[.\w]+)+$/i);var SS=Object.freeze({__proto__:null,ARIA_ATTR:gae,ATTR_WHITESPACE:bae,CUSTOM_ELEMENT:vae,DATA_ATTR:Aae,DOCTYPE_NAME:nI,ERB_EXPR:mae,IS_ALLOWED_URI:tI,IS_SCRIPT_OR_DATA:xae,MUSTACHE_EXPR:fae,TMPLIT_EXPR:pae});const Lh={element:1,text:3,progressingInstruction:7,comment:8,document:9},yae=function(){return typeof window>"u"?null:window},wae=function(t,e){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let s=null;const a="data-tt-policy-suffix";e&&e.hasAttribute(a)&&(s=e.getAttribute(a));const i="dompurify"+(s?"#"+s:"");try{return t.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},TS=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function rI(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:yae();const t=vt=>rI(vt);if(t.version="3.2.6",t.removed=[],!n||!n.document||n.document.nodeType!==Lh.document||!n.Element)return t.isSupported=!1,t;let{document:e}=n;const s=e,a=s.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:c,Element:l,NodeFilter:d,NamedNodeMap:u=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:f,DOMParser:h,trustedTypes:m}=n,A=l.prototype,g=Oh(A,"cloneNode"),p=Oh(A,"remove"),b=Oh(A,"nextSibling"),x=Oh(A,"childNodes"),v=Oh(A,"parentNode");if(typeof o=="function"){const vt=e.createElement("template");vt.content&&vt.content.ownerDocument&&(e=vt.content.ownerDocument)}let y,S="";const{implementation:M,createNodeIterator:P,createDocumentFragment:B,getElementsByTagName:D}=e,{importNode:L}=s;let O=TS();t.isSupported=typeof ZD=="function"&&typeof v=="function"&&M&&M.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:F,ERB_EXPR:_,TMPLIT_EXPR:E,DATA_ATTR:T,ARIA_ATTR:w,IS_SCRIPT_OR_DATA:C,ATTR_WHITESPACE:j,CUSTOM_ELEMENT:N}=SS;let{IS_ALLOWED_URI:I}=SS,R=null;const U=En({},[...wS,...Sv,...Tv,...kv,...jS]);let V=null;const z=En({},[...CS,..._v,...NS,...zp]);let X=Object.seal(eI(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Q=null,q=null,H=!0,$=!0,G=!1,J=!0,te=!1,K=!0,ne=!1,ce=!1,oe=!1,ee=!1,W=!1,Y=!1,Z=!0,se=!1;const re="user-content-";let le=!0,ae=!1,ue={},he=null;const pe=En({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ae=null;const ie=En({},["audio","video","img","source","image","track"]);let de=null;const me=En({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ve="http://www.w3.org/1998/Math/MathML",Me="http://www.w3.org/2000/svg",Be="http://www.w3.org/1999/xhtml";let xe=Be,Te=!1,_e=null;const Pe=En({},[ve,Me,Be],Nv);let be=En({},["mi","mo","mn","ms","mtext"]),Ee=En({},["annotation-xml"]);const ge=En({},["title","style","font","a","script"]);let Se=null;const Ie=["application/xhtml+xml","text/html"],ze="text/html";let Le=null,$e=null;const et=e.createElement("form"),jt=function(De){return De instanceof RegExp||De instanceof Function},At=function(){let De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!($e&&$e===De)){if((!De||typeof De!="object")&&(De={}),De=To(De),Se=Ie.indexOf(De.PARSER_MEDIA_TYPE)===-1?ze:De.PARSER_MEDIA_TYPE,Le=Se==="application/xhtml+xml"?Nv:lg,R=li(De,"ALLOWED_TAGS")?En({},De.ALLOWED_TAGS,Le):U,V=li(De,"ALLOWED_ATTR")?En({},De.ALLOWED_ATTR,Le):z,_e=li(De,"ALLOWED_NAMESPACES")?En({},De.ALLOWED_NAMESPACES,Nv):Pe,de=li(De,"ADD_URI_SAFE_ATTR")?En(To(me),De.ADD_URI_SAFE_ATTR,Le):me,Ae=li(De,"ADD_DATA_URI_TAGS")?En(To(ie),De.ADD_DATA_URI_TAGS,Le):ie,he=li(De,"FORBID_CONTENTS")?En({},De.FORBID_CONTENTS,Le):pe,Q=li(De,"FORBID_TAGS")?En({},De.FORBID_TAGS,Le):To({}),q=li(De,"FORBID_ATTR")?En({},De.FORBID_ATTR,Le):To({}),ue=li(De,"USE_PROFILES")?De.USE_PROFILES:!1,H=De.ALLOW_ARIA_ATTR!==!1,$=De.ALLOW_DATA_ATTR!==!1,G=De.ALLOW_UNKNOWN_PROTOCOLS||!1,J=De.ALLOW_SELF_CLOSE_IN_ATTR!==!1,te=De.SAFE_FOR_TEMPLATES||!1,K=De.SAFE_FOR_XML!==!1,ne=De.WHOLE_DOCUMENT||!1,ee=De.RETURN_DOM||!1,W=De.RETURN_DOM_FRAGMENT||!1,Y=De.RETURN_TRUSTED_TYPE||!1,oe=De.FORCE_BODY||!1,Z=De.SANITIZE_DOM!==!1,se=De.SANITIZE_NAMED_PROPS||!1,le=De.KEEP_CONTENT!==!1,ae=De.IN_PLACE||!1,I=De.ALLOWED_URI_REGEXP||tI,xe=De.NAMESPACE||Be,be=De.MATHML_TEXT_INTEGRATION_POINTS||be,Ee=De.HTML_INTEGRATION_POINTS||Ee,X=De.CUSTOM_ELEMENT_HANDLING||{},De.CUSTOM_ELEMENT_HANDLING&&jt(De.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(X.tagNameCheck=De.CUSTOM_ELEMENT_HANDLING.tagNameCheck),De.CUSTOM_ELEMENT_HANDLING&&jt(De.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(X.attributeNameCheck=De.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),De.CUSTOM_ELEMENT_HANDLING&&typeof De.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(X.allowCustomizedBuiltInElements=De.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),te&&($=!1),W&&(ee=!0),ue&&(R=En({},jS),V=[],ue.html===!0&&(En(R,wS),En(V,CS)),ue.svg===!0&&(En(R,Sv),En(V,_v),En(V,zp)),ue.svgFilters===!0&&(En(R,Tv),En(V,_v),En(V,zp)),ue.mathMl===!0&&(En(R,kv),En(V,NS),En(V,zp))),De.ADD_TAGS&&(R===U&&(R=To(R)),En(R,De.ADD_TAGS,Le)),De.ADD_ATTR&&(V===z&&(V=To(V)),En(V,De.ADD_ATTR,Le)),De.ADD_URI_SAFE_ATTR&&En(de,De.ADD_URI_SAFE_ATTR,Le),De.FORBID_CONTENTS&&(he===pe&&(he=To(he)),En(he,De.FORBID_CONTENTS,Le)),le&&(R["#text"]=!0),ne&&En(R,["html","head","body"]),R.table&&(En(R,["tbody"]),delete Q.tbody),De.TRUSTED_TYPES_POLICY){if(typeof De.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ih('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof De.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ih('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');y=De.TRUSTED_TYPES_POLICY,S=y.createHTML("")}else y===void 0&&(y=wae(m,a)),y!==null&&typeof S=="string"&&(S=y.createHTML(""));ea&&ea(De),$e=De}},Ut=En({},[...Sv,...Tv,...uae]),ut=En({},[...kv,...hae]),ft=function(De){let Je=v(De);(!Je||!Je.tagName)&&(Je={namespaceURI:xe,tagName:"template"});const pt=lg(De.tagName),pn=lg(Je.tagName);return _e[De.namespaceURI]?De.namespaceURI===Me?Je.namespaceURI===Be?pt==="svg":Je.namespaceURI===ve?pt==="svg"&&(pn==="annotation-xml"||be[pn]):!!Ut[pt]:De.namespaceURI===ve?Je.namespaceURI===Be?pt==="math":Je.namespaceURI===Me?pt==="math"&&Ee[pn]:!!ut[pt]:De.namespaceURI===Be?Je.namespaceURI===Me&&!Ee[pn]||Je.namespaceURI===ve&&!be[pn]?!1:!ut[pt]&&(ge[pt]||!Ut[pt]):!!(Se==="application/xhtml+xml"&&_e[De.namespaceURI]):!1},ke=function(De){Ph(t.removed,{element:De});try{v(De).removeChild(De)}catch{p(De)}},Re=function(De,Je){try{Ph(t.removed,{attribute:Je.getAttributeNode(De),from:Je})}catch{Ph(t.removed,{attribute:null,from:Je})}if(Je.removeAttribute(De),De==="is")if(ee||W)try{ke(Je)}catch{}else try{Je.setAttribute(De,"")}catch{}},Ke=function(De){let Je=null,pt=null;if(oe)De="<remove></remove>"+De;else{const Fe=yS(De,/^[\r\n\t ]+/);pt=Fe&&Fe[0]}Se==="application/xhtml+xml"&&xe===Be&&(De='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+De+"</body></html>");const pn=y?y.createHTML(De):De;if(xe===Be)try{Je=new h().parseFromString(pn,Se)}catch{}if(!Je||!Je.documentElement){Je=M.createDocument(xe,"template",null);try{Je.documentElement.innerHTML=Te?S:pn}catch{}}const ye=Je.body||Je.documentElement;return De&&pt&&ye.insertBefore(e.createTextNode(pt),ye.childNodes[0]||null),xe===Be?D.call(Je,ne?"html":"body")[0]:ne?Je.documentElement:ye},it=function(De){return P.call(De.ownerDocument||De,De,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},$t=function(De){return De instanceof f&&(typeof De.nodeName!="string"||typeof De.textContent!="string"||typeof De.removeChild!="function"||!(De.attributes instanceof u)||typeof De.removeAttribute!="function"||typeof De.setAttribute!="function"||typeof De.namespaceURI!="string"||typeof De.insertBefore!="function"||typeof De.hasChildNodes!="function")},gt=function(De){return typeof c=="function"&&De instanceof c};function Dt(vt,De,Je){Vp(vt,pt=>{pt.call(t,De,Je,$e)})}const Qt=function(De){let Je=null;if(Dt(O.beforeSanitizeElements,De,null),$t(De))return ke(De),!0;const pt=Le(De.nodeName);if(Dt(O.uponSanitizeElement,De,{tagName:pt,allowedTags:R}),K&&De.hasChildNodes()&&!gt(De.firstElementChild)&&Qs(/<[/\w!]/g,De.innerHTML)&&Qs(/<[/\w!]/g,De.textContent)||De.nodeType===Lh.progressingInstruction||K&&De.nodeType===Lh.comment&&Qs(/<[/\w]/g,De.data))return ke(De),!0;if(!R[pt]||Q[pt]){if(!Q[pt]&&en(pt)&&(X.tagNameCheck instanceof RegExp&&Qs(X.tagNameCheck,pt)||X.tagNameCheck instanceof Function&&X.tagNameCheck(pt)))return!1;if(le&&!he[pt]){const pn=v(De)||De.parentNode,ye=x(De)||De.childNodes;if(ye&&pn){const Fe=ye.length;for(let We=Fe-1;We>=0;--We){const Ze=g(ye[We],!0);Ze.__removalCount=(De.__removalCount||0)+1,pn.insertBefore(Ze,b(De))}}}return ke(De),!0}return De instanceof l&&!ft(De)||(pt==="noscript"||pt==="noembed"||pt==="noframes")&&Qs(/<\/no(script|embed|frames)/i,De.innerHTML)?(ke(De),!0):(te&&De.nodeType===Lh.text&&(Je=De.textContent,Vp([F,_,E],pn=>{Je=Dh(Je,pn," ")}),De.textContent!==Je&&(Ph(t.removed,{element:De.cloneNode()}),De.textContent=Je)),Dt(O.afterSanitizeElements,De,null),!1)},Pt=function(De,Je,pt){if(Z&&(Je==="id"||Je==="name")&&(pt in e||pt in et))return!1;if(!($&&!q[Je]&&Qs(T,Je))){if(!(H&&Qs(w,Je))){if(!V[Je]||q[Je]){if(!(en(De)&&(X.tagNameCheck instanceof RegExp&&Qs(X.tagNameCheck,De)||X.tagNameCheck instanceof Function&&X.tagNameCheck(De))&&(X.attributeNameCheck instanceof RegExp&&Qs(X.attributeNameCheck,Je)||X.attributeNameCheck instanceof Function&&X.attributeNameCheck(Je))||Je==="is"&&X.allowCustomizedBuiltInElements&&(X.tagNameCheck instanceof RegExp&&Qs(X.tagNameCheck,pt)||X.tagNameCheck instanceof Function&&X.tagNameCheck(pt))))return!1}else if(!de[Je]){if(!Qs(I,Dh(pt,j,""))){if(!((Je==="src"||Je==="xlink:href"||Je==="href")&&De!=="script"&&oae(pt,"data:")===0&&Ae[De])){if(!(G&&!Qs(C,Dh(pt,j,"")))){if(pt)return!1}}}}}}return!0},en=function(De){return De!=="annotation-xml"&&yS(De,N)},Jt=function(De){Dt(O.beforeSanitizeAttributes,De,null);const{attributes:Je}=De;if(!Je||$t(De))return;const pt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:V,forceKeepAttr:void 0};let pn=Je.length;for(;pn--;){const ye=Je[pn],{name:Fe,namespaceURI:We,value:Ze}=ye,_t=Le(Fe),ot=Ze;let nt=Fe==="value"?ot:lae(ot);if(pt.attrName=_t,pt.attrValue=nt,pt.keepAttr=!0,pt.forceKeepAttr=void 0,Dt(O.uponSanitizeAttribute,De,pt),nt=pt.attrValue,se&&(_t==="id"||_t==="name")&&(Re(Fe,De),nt=re+nt),K&&Qs(/((--!?|])>)|<\/(style|title)/i,nt)){Re(Fe,De);continue}if(pt.forceKeepAttr)continue;if(!pt.keepAttr){Re(Fe,De);continue}if(!J&&Qs(/\/>/i,nt)){Re(Fe,De);continue}te&&Vp([F,_,E],dn=>{nt=Dh(nt,dn," ")});const Cn=Le(De.nodeName);if(!Pt(Cn,_t,nt)){Re(Fe,De);continue}if(y&&typeof m=="object"&&typeof m.getAttributeType=="function"&&!We)switch(m.getAttributeType(Cn,_t)){case"TrustedHTML":{nt=y.createHTML(nt);break}case"TrustedScriptURL":{nt=y.createScriptURL(nt);break}}if(nt!==ot)try{We?De.setAttributeNS(We,Fe,nt):De.setAttribute(Fe,nt),$t(De)?ke(De):vS(t.removed)}catch{Re(Fe,De)}}Dt(O.afterSanitizeAttributes,De,null)},An=function vt(De){let Je=null;const pt=it(De);for(Dt(O.beforeSanitizeShadowDOM,De,null);Je=pt.nextNode();)Dt(O.uponSanitizeShadowNode,Je,null),Qt(Je),Jt(Je),Je.content instanceof i&&vt(Je.content);Dt(O.afterSanitizeShadowDOM,De,null)};return t.sanitize=function(vt){let De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Je=null,pt=null,pn=null,ye=null;if(Te=!vt,Te&&(vt="<!-->"),typeof vt!="string"&&!gt(vt))if(typeof vt.toString=="function"){if(vt=vt.toString(),typeof vt!="string")throw Ih("dirty is not a string, aborting")}else throw Ih("toString is not a function");if(!t.isSupported)return vt;if(ce||At(De),t.removed=[],typeof vt=="string"&&(ae=!1),ae){if(vt.nodeName){const Ze=Le(vt.nodeName);if(!R[Ze]||Q[Ze])throw Ih("root node is forbidden and cannot be sanitized in-place")}}else if(vt instanceof c)Je=Ke("<!---->"),pt=Je.ownerDocument.importNode(vt,!0),pt.nodeType===Lh.element&&pt.nodeName==="BODY"||pt.nodeName==="HTML"?Je=pt:Je.appendChild(pt);else{if(!ee&&!te&&!ne&&vt.indexOf("<")===-1)return y&&Y?y.createHTML(vt):vt;if(Je=Ke(vt),!Je)return ee?null:Y?S:""}Je&&oe&&ke(Je.firstChild);const Fe=it(ae?vt:Je);for(;pn=Fe.nextNode();)Qt(pn),Jt(pn),pn.content instanceof i&&An(pn.content);if(ae)return vt;if(ee){if(W)for(ye=B.call(Je.ownerDocument);Je.firstChild;)ye.appendChild(Je.firstChild);else ye=Je;return(V.shadowroot||V.shadowrootmode)&&(ye=L.call(s,ye,!0)),ye}let We=ne?Je.outerHTML:Je.innerHTML;return ne&&R["!doctype"]&&Je.ownerDocument&&Je.ownerDocument.doctype&&Je.ownerDocument.doctype.name&&Qs(nI,Je.ownerDocument.doctype.name)&&(We="<!DOCTYPE "+Je.ownerDocument.doctype.name+`>
`+We),te&&Vp([F,_,E],Ze=>{We=Dh(We,Ze," ")}),y&&Y?y.createHTML(We):We},t.setConfig=function(){let vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};At(vt),ce=!0},t.clearConfig=function(){$e=null,ce=!1},t.isValidAttribute=function(vt,De,Je){$e||At({});const pt=Le(vt),pn=Le(De);return Pt(pt,pn,Je)},t.addHook=function(vt,De){typeof De=="function"&&Ph(O[vt],De)},t.removeHook=function(vt,De){if(De!==void 0){const Je=aae(O[vt],De);return Je===-1?void 0:iae(O[vt],Je,1)[0]}return vS(O[vt])},t.removeHooks=function(vt){O[vt]=[]},t.removeAllHooks=function(){O=TS()},t}var pd=rI();const Bv="https://via.placeholder.com/150",jae=({message:n,type:t,onClose:e})=>(k.useEffect(()=>{const s=setTimeout(e,3e3);return()=>clearTimeout(s)},[e]),r.jsxs("div",{className:Ue("fixed top-4 right-4 p-4 rounded-lg shadow-lg z-50 font-roboto",t==="success"?"bg-green-500 text-white":"bg-red-500 text-white"),children:[r.jsx("p",{children:n}),r.jsx("button",{onClick:e,className:"absolute top-1 right-1 text-white hover:text-gray-200",children:"×"})]})),Cae=({isOpen:n,onClose:t,onConfirm:e})=>n?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 font-roboto",children:r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-64",children:[r.jsx("h3",{className:"text-lg font-medium mb-4",children:"Xác nhận xóa"}),r.jsx("p",{className:"mb-6",children:"Bạn có chắc muốn xóa bình luận này không?"}),r.jsxs("div",{className:"flex justify-end gap-4",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400",children:"Không"}),r.jsx("button",{onClick:e,className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600",children:"Có"})]})]})}):null,Nae=n=>{const e=new DOMParser().parseFromString(pd.sanitize(n,{ADD_TAGS:["img"],ADD_ATTR:["src"]}),"text/html"),s=[],a=c=>{c.nodeType===3?s.push(c.textContent.trim()):c.nodeType===1&&c.tagName!=="IMG"&&c.childNodes.forEach(a)};a(e.body);const i=s.join(" ").trim(),o=Array.from(e.querySelectorAll("img")).map(c=>c.src);return{textContent:i,images:o}},Sae=({productId:n})=>{var P;const[t,e]=k.useState([]),[s,a]=k.useState(""),[i,o]=k.useState(0),[c,l]=k.useState(new Set),[d,u]=k.useState(!1),[f,h]=k.useState(null),[m,A]=k.useState(null),[g,p]=k.useState(0),b=(B,D)=>A({message:B,type:D}),x=()=>A(null);k.useEffect(()=>{(async()=>{try{const D=n.length>=6?n.substring(0,6):null,L=await fetch("https://bicacuatho.azurewebsites.net/api/Comment/list");if(!L.ok)throw new Error("Failed to fetch comments");const F=(await L.json()).filter(T=>D&&T.maSanPham&&T.maSanPham!=="string"&&T.maSanPham.substring(0,6)===D&&T.trangThai===1||(T.maSanPham===null||T.maSanPham==="string")&&T.maCombo!==null&&T.trangThai===1).map(T=>({...T,soTimBinhLuan:T.soTimBinhLuan||0,tenSanPham:T.maSanPham&&T.maSanPham!=="string"?T.tenSanPham:T.tenCombo||`Combo ${T.maCombo}`})).sort((T,w)=>w.soTimBinhLuan-T.soTimBinhLuan);if(F.length>0){const T=F.reduce((w,C)=>w+(C.danhGia||0),0);p(T/F.length)}else p(0);const _=JSON.parse(localStorage.getItem("user")),E=_==null?void 0:_.maNguoiDung;if(E){const T=`likedComments_${E}`,w=JSON.parse(localStorage.getItem(T))||[];l(new Set(w))}e(F)}catch(D){console.error("Error fetching comments:",D),b("Có lỗi xảy ra khi tải bình luận!","error"),p(0)}})()},[n]);const v=B=>{h(B),u(!0)},y=async()=>{if(f)try{if(!(await fetch(`https://bicacuatho.azurewebsites.net/api/Comment/delete/${f}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Failed to delete comment");e(D=>{const L=D.filter(O=>O.maBinhLuan!==f);if(L.length>0){const O=L.reduce((F,_)=>F+(_.danhGia||0),0);p(O/L.length)}else p(0);return L}),b("Xóa bình luận thành công!","success")}catch(B){console.error("Error deleting comment:",B),b("Có lỗi xảy ra khi xóa bình luận!","error")}finally{u(!1),h(null)}},S=async B=>{const D=JSON.parse(localStorage.getItem("user")),L=D==null?void 0:D.maNguoiDung;if(!L){b("Vui lòng đăng nhập để thích bình luận!","error");return}const O=c.has(B),F=O?`https://bicacuatho.azurewebsites.net/api/Comment/Unlike/${B}`:`https://bicacuatho.azurewebsites.net/api/Comment/Like/${B}`;try{if(!(await fetch(F,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Failed to update like status");e(E=>E.map(T=>T.maBinhLuan===B?{...T,soTimBinhLuan:O?Math.max(0,T.soTimBinhLuan-1):T.soTimBinhLuan+1}:T).sort((T,w)=>w.soTimBinhLuan-T.soTimBinhLuan)),l(E=>{const T=new Set(E);O?T.delete(B):T.add(B);const w=`likedComments_${L}`;return localStorage.setItem(w,JSON.stringify([...T])),T}),b(O?"Đã bỏ thích bình luận!":"Đã thích bình luận!","success")}catch(_){console.error("Error updating like status:",_),b("Có lỗi xảy ra khi cập nhật số tim!","error")}},M=(P=JSON.parse(localStorage.getItem("user")))==null?void 0:P.maNguoiDung;return r.jsxs("div",{className:"mt-12 comments",children:[m&&r.jsx(jae,{message:m.message,type:m.type,onClose:x}),r.jsx(Cae,{isOpen:d,onClose:()=>u(!1),onConfirm:y}),r.jsx("h2",{className:"text-2xl font-medium mb-6",children:"Đánh Giá"}),r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg font-medium",children:"Đánh giá trung bình:"}),r.jsx("div",{className:"flex",children:Array.from({length:5}).map((B,D)=>r.jsx(or,{className:Ue("w-5 h-5",D<Math.floor(g)?"fill-yellow-400 text-yellow-400":"text-gray-300")},D))}),r.jsxs("span",{className:"text-lg font-medium",children:[g.toFixed(1)," / 5"]})]})}),r.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:t.length===0?r.jsx("p",{className:"text-muted-foreground",children:"Chưa có bình luận nào."}):t.map(B=>{const{textContent:D,images:L}=Nae(B.noiDungBinhLuan||"Chưa cập nhật");return r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("img",{src:B.hinhAnh||Bv,alt:`Ảnh của ${B.hoTen||B.maNguoiDung}`,className:"w-12 h-12 rounded-full object-cover border border-border",onError:O=>{console.warn(`Failed to load image for comment ${B.maBinhLuan}, using default`),O.target.src=Bv}})}),r.jsxs("div",{className:"flex-1 flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center mb-2",children:Array.from({length:5}).map((O,F)=>r.jsx(or,{className:Ue("w-4 h-4",F<B.danhGia?"fill-yellow-400 text-yellow-400":"text-gray-300")},F))}),r.jsx("div",{className:"text-gray-800 line-clamp-3 mb-2",style:{whiteSpace:"pre-line"},children:D||"Chưa cập nhật"}),L.length>0&&r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:L.map((O,F)=>r.jsx("img",{src:O,alt:`Hình ảnh bình luận ${F+1}`,className:"w-48 h-auto object-contain rounded",style:{maxWidth:"225px"},onError:_=>{console.warn(`Failed to load comment image ${F+1}`),_.target.src=Bv}},F))}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Bởi ",B.hoTen||B.maNguoiDung," -"," ",new Date(B.ngayBinhLuan).toLocaleDateString()," -"," ",B.maSanPham&&B.maSanPham!=="string"?`Sản phẩm: ${B.tenSanPham}`:`Combo: ${B.tenCombo||B.maCombo}`]}),r.jsx("div",{className:"flex items-center mt-2",children:r.jsxs("button",{onClick:()=>S(B.maBinhLuan),className:"flex items-center gap-1",children:[r.jsx(Ts,{className:Ue("w-5 h-5",c.has(B.maBinhLuan)?"fill-red-500 text-red-500":"text-gray-400")}),r.jsx("span",{children:B.soTimBinhLuan})]})})]}),B.maNguoiDung===M&&r.jsx("button",{onClick:()=>v(B.maBinhLuan),className:"text-red-500 hover:text-red-700 transition-colors",children:r.jsx(Ma,{className:"w-5 h-5"})})]})]},B.maBinhLuan)})}),r.jsx("style",{children:`
        .comments .line-clamp-3 {
          display: -webkit-box;
          -webkit-line-clamp: 3;
          -webkit-box-orient: vertical;
          overflow: hidden;
          whiteSpace: pre-line;
        }
      `})]})},Tae=()=>{const[n,t]=k.useState(!1),[e,s]=k.useState("huongDan"),[a,i]=k.useState("Quần"),[o,c]=k.useState("vua"),[l,d]=k.useState(56),[u,f]=k.useState(160),h=k.useRef(null),m={om:"Ôm",vua:"Vừa",rong:"Rộng",thuong:"Thường",cao:"Cao"},A={"Quần - Ôm":[["Cân nặng (kg)","50-60","61-65","66-70","71-76","76-80","81-86"],["Vòng lưng (cm)","74","78","81","84","88","91"],["Vòng đùi (cm)","50","52","54","56","58","60"],["Rộng ống (cm)","16.4","16.5","17","17","17","17"],["Dài quần (cm)","98","97","97","97","98","98"]],"Quần - Vừa":[["Cân nặng (kg)","50-60","61-65","66-70","71-76","76-80","81-86"],["Vòng lưng (cm)","74","78","81","84","88","91"],["Vòng đùi (cm)","50","52","54","56","58","60"],["Rộng ống (cm)","16.4","16.5","17","17","17","17"],["Dài quần (cm)","98","97","97","97","98","98"]],"Quần - Rộng":[["Cân nặng (kg)","50-60","61-65","66-70","71-76","76-80","81-86"],["Vòng lưng (cm)","78","80","82","84","88","91"],["Vòng đùi (cm)","54","56","58","60","62","64"],["Rộng ống (cm)","18","18","18","18","18","18"],["Dài quần (cm)","98","97","97","98","100","101"]],"Áo - Ôm":[["Chiều cao (cm)","150-160","161-170","171-180","181-190"],["Ngang vai (cm)","42","43.5","45","46.5"],["Rộng ngực (cm)","46","48","50","52"],["Dài áo (cm)","68","70","72","74"]],"Áo - Vừa":[["Chiều cao (cm)","150-160","161-170","171-180","181-190"],["Ngang vai (cm)","43.5","45","46.5","48"],["Rộng ngực (cm)","48","50","52","54"],["Dài áo (cm)","70","72","74","76"]],"Áo - Rộng":[["Chiều cao (cm)","150-160","161-170","171-180","181-190"],["Ngang vai (cm)","47.5","49","50.5","52"],["Rộng ngực (cm)","52","54","56","58"],["Dài áo (cm)","72","74","76","78"]],"Giày - Thường":[["Chiều cao (cm)","150-160","161-170","171-180","181-190"],["Kích thước (US)","6","7","8","9"],["Chiều dài bàn chân (cm)","24","25","26","27"]],"Giày - Cao":[["Chiều cao (cm)","150-160","161-170","171-180","181-190"],["Kích thước (US)","6.5","7.5","8.5","9.5"],["Chiều dài bàn chân (cm)","24.5","25.5","26.5","27.5"]],"Dép - Thường":[["Chiều cao (cm)","150-160","161-170","171-180","181-190"],["Kích thước (US)","6","7","8","9"],["Chiều dài bàn chân (cm)","24","25","26","27"]],"Dép - Cao":[["Chiều cao (cm)","150-160","161-170","171-180","181-190"],["Kích thước (US)","6.5","7.5","8.5","9.5"],["Chiều dài bàn chân (cm)","24.5","25.5","26.5","27.5"]],"Túi xách - Thường":[["Chiều cao (cm)","150-160","161-170","171-180","181-190"],["Chiều rộng (cm)","20","22","24","26"],["Chiều cao (cm)","15","16","17","18"]],"Phụ kiện - Thường":[["Chiều cao (cm)","150-160","161-170","171-180","181-190"],["Kích thước vòng cổ (cm)","35","38","41","44"],["Đường kính (cm)","5","5.5","6","6.5"]]},g=(p,b,x)=>x==="Quần"?p<60?"28":p<65?"29":p<70?"30":p<76?"31":p<80?"32":"34":x==="Áo"?b<160?"S":b<170?"M":b<180?"L":"XL":x==="Giày"||x==="Dép"?b<160?"6":b<170?"7":b<180?"8":"9":x==="Túi xách"?b<160?"S (20x15cm)":b<170?"M (22x16cm)":b<180?"L (24x17cm)":"XL (26x18cm)":x==="Phụ kiện"?b<160?"S (35cm)":b<170?"M (38cm)":b<180?"L (41cm)":"XL (44cm)":"Không xác định";return k.useEffect(()=>{const p=b=>{h.current&&!h.current.contains(b.target)&&t(!1)};return n&&document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[n]),r.jsxs("div",{className:"relative z-10",children:[r.jsx("button",{onClick:()=>t(!n),className:"px-3 py-1 text-sm rounded-md bg-white text-[#9b87f5] border border-[#9b87f5] flex items-center gap-2 hover:bg-[#9b87f5]/10 transition-colors duration-300",children:n?r.jsxs(r.Fragment,{children:[r.jsx(Wi,{size:16}),"Ẩn Hướng dẫn"]}):r.jsxs(r.Fragment,{children:[r.jsx(pr,{size:16}),"Hướng dẫn chọn size"]})}),n&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{ref:h,className:"bg-white p-4 rounded-lg shadow-xl max-w-lg w-full relative max-h-[90vh]",children:[r.jsx("button",{onClick:()=>t(!1),className:"absolute top-[-10px] right-[-10px] bg-[#9b87f5] text-white rounded-full w-8 h-8 flex items-center justify-center hover:bg-[#9b87f5]/80 transition-colors duration-300",children:r.jsx(st,{size:16})}),r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>s("huongDan"),className:`px-4 py-2 rounded-md ${e==="huongDan"?"bg-[#9b87f5] text-white font-bold":"bg-gray-100 text-gray-700"} hover:bg-[#9b87f5]/20 transition-colors duration-300`,children:[r.jsx(rw,{className:"inline-block mr-2 h-4 w-4"}),"Hướng dẫn chọn size"]}),r.jsxs("button",{onClick:()=>s("bangSize"),className:`px-4 py-2 rounded-md ${e==="bangSize"?"bg-[#9b87f5] text-white font-bold":"bg-gray-100 text-gray-700"} hover:bg-[#9b87f5]/20 transition-colors duration-300`,children:[r.jsx(Du,{className:"inline-block mr-2 h-4 w-4"}),"Bảng size"]})]}),r.jsxs("select",{className:"border border-[#9b87f5] rounded px-3 py-1 text-[#9b87f5] bg-white hover:bg-[#9b87f5]/10 transition-colors duration-300",value:a,onChange:p=>i(p.target.value),children:[r.jsx("option",{value:"Quần",children:"👖 Quần"}),r.jsx("option",{value:"Áo",children:"👕 Áo"}),r.jsx("option",{value:"Giày",children:"👞 Giày"}),r.jsx("option",{value:"Dép",children:"👡 Dép"}),r.jsx("option",{value:"Túi xách",children:"👜 Túi xách"}),r.jsx("option",{value:"Phụ kiện",children:"💍 Phụ kiện"})]})]}),e==="huongDan"&&r.jsxs("div",{children:[r.jsxs("div",{className:"mb-4 flex items-center",children:[r.jsxs("label",{className:"text-sm mr-2 text-gray-700 flex items-center",children:[r.jsx(rw,{className:"mr-1 h-4 w-4"})," Chiều cao (cm):"]}),r.jsxs("span",{className:"font-bold text-[#9b87f5]",children:[u,"cm"]}),r.jsx("input",{type:"range",min:"140",max:"200",value:u,onChange:p=>f(Number(p.target.value)),className:"ml-2 w-full accent-[#9b87f5]"})]}),r.jsxs("div",{className:"mb-4 flex items-center",children:[r.jsxs("label",{className:"text-sm mr-2 text-gray-700 flex items-center",children:[r.jsx(Q$,{className:"mr-1 h-4 w-4"})," Cân nặng (kg):"]}),r.jsxs("span",{className:"font-bold text-[#9b87f5]",children:[l,"kg"]}),r.jsx("input",{type:"range",min:"40",max:"120",value:l,onChange:p=>d(Number(p.target.value)),className:"ml-2 w-full accent-[#9b87f5]"})]}),r.jsx("div",{className:"mt-4 flex flex-row justify-center gap-2",children:a==="Quần"||a==="Áo"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{onClick:()=>c("om"),className:`cursor-pointer text-center p-2 ${o==="om"?"border-2 border-[#9b87f5]":"border border-gray-200"} rounded-md`,children:[r.jsx("img",{src:"https://file.hstatic.net/1000253775/file/om_160_519a3dbfd5314c2fb5f4d90913534ec4.jpg",alt:"Ôm",className:"w-3/4 max-w-sm mx-auto"}),r.jsx("p",{className:"mt-2 bg-[#9b87f5] text-white rounded px-2 py-1",children:"Ôm"})]}),r.jsxs("div",{onClick:()=>c("vua"),className:`cursor-pointer text-center p-2 ${o==="vua"?"border-2 border-[#9b87f5]":"border border-gray-200"} rounded-md`,children:[r.jsx("img",{src:"https://file.hstatic.net/1000253775/file/vua_160_85cf53bb243943ad90c3890031cc15ae.jpg",alt:"Vừa",className:"w-3/4 max-w-sm mx-auto"}),r.jsx("p",{className:"mt-2 bg-[#9b87f5] text-white rounded px-2 py-1",children:"Vừa"})]}),r.jsxs("div",{onClick:()=>c("rong"),className:`cursor-pointer text-center p-2 ${o==="rong"?"border-2 border-[#9b87f5]":"border border-gray-200"} rounded-md`,children:[r.jsx("img",{src:"https://file.hstatic.net/1000253775/file/rong_160_09b702fafaca4d879af662e6383baa5f.jpg",alt:"Rộng",className:"w-3/4 max-w-sm mx-auto"}),r.jsx("p",{className:"mt-2 bg-[#9b87f5] text-white rounded px-2 py-1",children:"Rộng"})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{onClick:()=>c("thuong"),className:`cursor-pointer text-center p-2 ${o==="thuong"?"border-2 border-[#9b87f5]":"border border-gray-200"} rounded-md`,children:[r.jsx("img",{src:"https://file.hstatic.net/1000253775/file/om_160_519a3dbfd5314c2fb5f4d90913534ec4.jpg",alt:"Thường",className:"w-3/4 max-w-sm mx-auto"}),r.jsx("p",{className:"mt-2 bg-[#9b87f5] text-white rounded px-2 py-1",children:"Thường"})]}),r.jsxs("div",{onClick:()=>c("cao"),className:`cursor-pointer text-center p-2 ${o==="cao"?"border-2 border-[#9b87f5]":"border border-gray-200"} rounded-md`,children:[r.jsx("img",{src:"https://file.hstatic.net/1000253775/file/rong_160_09b702fafaca4d879af662e6383baa5f.jpg",alt:"Cao",className:"w-3/4 max-w-sm mx-auto"}),r.jsx("p",{className:"mt-2 bg-[#9b87f5] text-white rounded px-2 py-1",children:"Cao"})]})]})}),r.jsxs("div",{className:"mt-4 text-center",children:[r.jsx("p",{className:"text-lg text-gray-700",children:"FashionHub gợi ý bạn"}),r.jsx("div",{className:"flex justify-center gap-2 mt-2",children:r.jsxs("span",{className:"bg-[#9b87f5] text-white rounded px-3 py-1",children:[g(l,u,a)," - ",a]})})]})]}),e==="bangSize"&&r.jsxs("div",{className:"max-h-96 overflow-y-auto",children:[["om","vua","rong","thuong","cao"].map(p=>{var x;return(a==="Quần"||a==="Áo")&&(p==="om"||p==="vua"||p==="rong")||(a==="Giày"||a==="Dép"||a==="Túi xách"||a==="Phụ kiện")&&(p==="thuong"||p==="cao")?r.jsxs("div",{className:"mb-4",children:[r.jsxs("h3",{className:"text-lg font-bold mb-2 text-[#9b87f5]",children:[a," - ",m[p]]}),r.jsxs("table",{className:"w-full border border-[#9b87f5] text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-[#9b87f5] text-white",children:[r.jsx("th",{className:"p-2",children:"SIZE"}),a==="Quần"?r.jsxs(r.Fragment,{children:[r.jsx("th",{className:"p-2",children:"28"}),r.jsx("th",{className:"p-2",children:"29"}),r.jsx("th",{className:"p-2",children:"30"}),r.jsx("th",{className:"p-2",children:"31"}),r.jsx("th",{className:"p-2",children:"32"}),r.jsx("th",{className:"p-2",children:"34"})]}):a==="Áo"?r.jsxs(r.Fragment,{children:[r.jsx("th",{className:"p-2",children:"S"}),r.jsx("th",{className:"p-2",children:"M"}),r.jsx("th",{className:"p-2",children:"L"}),r.jsx("th",{className:"p-2",children:"XL"})]}):a==="Giày"||a==="Dép"?r.jsxs(r.Fragment,{children:[r.jsx("th",{className:"p-2",children:"6"}),r.jsx("th",{className:"p-2",children:"7"}),r.jsx("th",{className:"p-2",children:"8"}),r.jsx("th",{className:"p-2",children:"9"})]}):a==="Túi xách"?r.jsxs(r.Fragment,{children:[r.jsx("th",{className:"p-2",children:"S"}),r.jsx("th",{className:"p-2",children:"M"}),r.jsx("th",{className:"p-2",children:"L"}),r.jsx("th",{className:"p-2",children:"XL"})]}):a==="Phụ kiện"?r.jsxs(r.Fragment,{children:[r.jsx("th",{className:"p-2",children:"S"}),r.jsx("th",{className:"p-2",children:"M"}),r.jsx("th",{className:"p-2",children:"L"}),r.jsx("th",{className:"p-2",children:"XL"})]}):null]})}),r.jsx("tbody",{children:(x=A[`${a} - ${m[p]}`])==null?void 0:x.map((v,y)=>r.jsx("tr",{className:"border-t border-gray-300",children:v.map((S,M)=>r.jsx("td",{className:"p-2 border-r border-gray-200",children:S},M))},y))})]})]},p):null}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"* Size có thể chênh lệch tùy theo từng dáng người, bạn nên thử trước khi mua."})]})]})})]})},kae=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}),_ae=({product:n,index:t})=>{const[e,s]=k.useState(!1),[a,i]=k.useState(!1),[o,c]=k.useState(!1),l=k.useRef(null),d=g=>{g.preventDefault(),g.stopPropagation(),xt.success(`${n.name} đã được thêm vào giỏ hàng!`)},u=g=>{g.preventDefault(),g.stopPropagation(),c(!o),xt.success(o?"Đã bỏ yêu thích":"Đã thêm vào yêu thích")};k.useEffect(()=>{const g=new IntersectionObserver(([p])=>{p.isIntersecting&&(s(!0),g.disconnect())},{threshold:.1});return l.current&&g.observe(l.current),()=>g.disconnect()},[]);const f=()=>Math.min(5,Math.max(3,Math.floor(n.soLuongDaBan/10)+3)),m=n.soLuong===0?{text:"Hết hàng",color:"bg-red-500"}:n.soLuong<10?{text:"Sắp hết",color:"bg-orange-500"}:{text:"Còn hàng",color:"bg-green-500"},A=f();return r.jsx("div",{ref:l,className:Ue("group relative bg-white rounded-3xl overflow-hidden border border-gray-100 shadow-lg hover:shadow-2xl h-full flex flex-col","transition-all duration-700 ease-out transform hover:-translate-y-2",e?"opacity-100 translate-y-0":"opacity-0 translate-y-10"),style:{transitionDelay:`${t*150}ms`},onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:r.jsxs(lt,{to:`/productS/${n.id}`,className:"text-primary font-medium block h-full",children:[r.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden bg-gradient-to-br from-gray-50 to-gray-100",children:[r.jsx("img",{src:n.imageSrc&&n.imageSrc?`data:image/jpeg;base64,${n.imageSrc}`:"/placeholder-image.jpg",alt:n.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),r.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[n.hot&&r.jsxs(Vt,{className:"bg-red-500 text-white border-0 shadow-lg animate-pulse",children:[r.jsx(eH,{className:"w-3 h-3 mr-1"}),"Hot"]}),r.jsx(Vt,{className:`${m.color} text-white border-0 shadow-lg`,children:m.text})]}),r.jsxs("div",{className:Ue("absolute top-4 right-4 flex flex-col gap-2 transition-all duration-500",a?"opacity-100 translate-x-0":"opacity-0 translate-x-4"),children:[r.jsx(fe,{size:"sm",variant:"secondary",className:"w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm hover:bg-white shadow-lg border-0",onClick:u,children:r.jsx(Ts,{className:Ue("w-4 h-4",o&&"fill-red-500 text-red-500")})}),r.jsx(fe,{size:"sm",variant:"secondary",className:"w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm hover:bg-white shadow-lg border-0",children:r.jsx(pr,{className:"w-4 h-4"})})]}),r.jsx("div",{className:Ue("absolute bottom-4 left-4 right-4 transition-all duration-500",a?"opacity-100 translate-y-0":"opacity-0 translate-y-4"),children:r.jsxs(fe,{className:"w-full bg-black/80 hover:bg-black text-white backdrop-blur-sm border-0 shadow-lg",onClick:d,children:[r.jsx(vs,{className:"w-4 h-4 mr-2"}),"Thêm vào giỏ"]})})]}),r.jsxs("div",{className:"p-6 flex flex-col flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-blue-600 bg-blue-50 px-3 py-1 rounded-full",children:n.thuonghieu}),r.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((g,p)=>r.jsx(or,{className:Ue("w-4 h-4",p<A?"fill-yellow-400 text-yellow-400":"text-gray-300")},p)),r.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",n.soLuongDaBan,")"]})]})]}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 line-clamp-2 group-hover:text-blue-600 transition-colors",children:n.name}),r.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:n.description.replace(/<br\/>/g," ")}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx("span",{className:"font-medium text-gray-700 w-20",children:"Chất liệu:"}),r.jsx("span",{className:"text-gray-600",children:n.chatlieu})]}),r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx("span",{className:"font-medium text-gray-700 w-20",children:"Đã bán:"}),r.jsxs("span",{className:"text-gray-600",children:[n.soLuongDaBan," sản phẩm"]})]}),r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx("span",{className:"font-medium text-gray-700 w-20",children:"Còn lại:"}),r.jsxs("span",{className:"text-gray-600",children:[n.soLuong," sản phẩm"]})]})]}),r.jsx("div",{className:"mt-auto",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-2xl font-bold text-red-600",children:kae.format(n.price)}),n.hot&&r.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Giá tốt nhất"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"w-20 h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-red-500 to-green-500 transition-all duration-1000",style:{width:`${Math.min(100,n.soLuongDaBan/(n.soLuongDaBan+n.soLuong)*100)}%`}})}),r.jsxs("span",{className:"text-xs text-gray-500 mt-1 block",children:[Math.round(n.soLuongDaBan/(n.soLuongDaBan+n.soLuong)*100),"% đã bán"]})]})]})})]})]})})},Bae=({productId:n})=>{const[t,e]=k.useState([]),[s,a]=k.useState(!0),[i,o]=k.useState(null),[c,l]=k.useState(0),d=k.useRef(null),u=b=>{const x=["from-purple-500 to-indigo-500","from-pink-500 to-rose-500","from-violet-500 to-purple-500","from-blue-500 to-cyan-500","from-green-500 to-teal-500","from-yellow-500 to-orange-500"];return b.map((v,y)=>({id:v.id,name:v.name,description:v.moTa||`Sản phẩm chất lượng cao từ thương hiệu ${v.thuongHieu}`,chatlieu:v.chatLieu,thuonghieu:v.thuongHieu,imageSrc:v.hinh[0]||"",colorClass:x[y%x.length],price:v.donGia,soLuong:v.soLuong,soLuongDaBan:v.soLuongDaBan,hot:v.hot}))};k.useEffect(()=>{(async()=>{try{a(!0);const x=n?`https://bicacuatho.azurewebsites.net/api/SanPham/ListSanPhamLQ?id=${n}`:"https://bicacuatho.azurewebsites.net/api/SanPham/ListSanPhamLQ",v=await fetch(x);if(!v.ok)throw new Error("Failed to fetch products");const y=await v.json(),S=u(y);e(S)}catch(x){o(x instanceof Error?x.message:"An error occurred")}finally{a(!1)}})()},[n]);const f=Math.ceil(t.length/3),h=c>0,m=c<f-1,A=()=>{h&&l(c-1)},g=()=>{m&&l(c+1)},p=b=>{l(b)};return s?r.jsx("section",{className:"py-24 px-6 bg-gradient-to-br from-blue-50 via-white to-purple-50",children:r.jsx("div",{className:"container mx-auto max-w-7xl text-center",children:r.jsxs("div",{className:"animate-pulse space-y-8",children:[r.jsx("div",{className:"h-12 bg-gray-300 rounded-lg w-96 mx-auto"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[...Array(3)].map((b,x)=>r.jsx("div",{className:"h-96 bg-gray-300 rounded-3xl"},x))})]})})}):i?r.jsx("section",{className:"py-24 px-6 bg-gradient-to-br from-blue-50 via-white to-purple-50",children:r.jsx("div",{className:"container mx-auto max-w-7xl text-center",children:r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-3xl p-8",children:r.jsxs("p",{className:"text-red-600 text-lg font-medium",children:["Lỗi: ",i]})})})}):r.jsx("section",{id:"products",className:"py-24 px-6 bg-gradient-to-br from-blue-50 via-white to-purple-50",children:r.jsxs("div",{className:"container mx-auto max-w-7xl",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Sản Phẩm Liên Quan"}),r.jsx("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:"Khám phá bộ sưu tập sản phẩm chất lượng cao được chọn lọc kỹ càng"})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(fe,{variant:"outline",size:"lg",onClick:A,disabled:!h,className:"rounded-full w-12 h-12 border-2 hover:bg-blue-50 disabled:opacity-50",children:r.jsx(zr,{className:"w-6 h-6"})}),r.jsx(fe,{variant:"outline",size:"lg",onClick:g,disabled:!m,className:"rounded-full w-12 h-12 border-2 hover:bg-blue-50 disabled:opacity-50",children:r.jsx(xr,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"flex gap-2",children:[...Array(f)].map((b,x)=>r.jsx("button",{onClick:()=>p(x),className:Ue("w-3 h-3 rounded-full transition-all duration-300",c===x?"bg-blue-600 w-8":"bg-gray-300 hover:bg-gray-400")},x))})]}),r.jsx("div",{className:"overflow-hidden rounded-3xl",children:r.jsx("div",{ref:d,className:"flex transition-transform duration-700 ease-in-out",style:{transform:`translateX(-${c*100}%)`},children:[...Array(f)].map((b,x)=>r.jsx("div",{className:"w-full flex-shrink-0 grid grid-cols-1 md:grid-cols-3 gap-8 px-2",children:t.slice(x*3,(x+1)*3).map((v,y)=>r.jsx(_ae,{product:v,index:y},v.id))},x))})})]}),r.jsx("div",{className:"text-center mt-16",children:r.jsx(lt,{to:"/user/cart",children:r.jsxs(fe,{size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-4 rounded-full text-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-300",children:[r.jsx(vs,{className:"h-5 w-5 mr-2"}),"Xem Giỏ Hàng"]})})})]})})};function kS(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function iC(n,t){n===void 0&&(n={}),t===void 0&&(t={});const e=["__proto__","constructor","prototype"];Object.keys(t).filter(s=>e.indexOf(s)<0).forEach(s=>{typeof n[s]>"u"?n[s]=t[s]:kS(t[s])&&kS(n[s])&&Object.keys(t[s]).length>0&&iC(n[s],t[s])})}const sI={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Yi(){const n=typeof document<"u"?document:{};return iC(n,sI),n}const Eae={document:sI,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function aa(){const n=typeof window<"u"?window:{};return iC(n,Eae),n}function Mae(n){return n===void 0&&(n=""),n.trim().split(" ").filter(t=>!!t.trim())}function Pae(n){const t=n;Object.keys(t).forEach(e=>{try{t[e]=null}catch{}try{delete t[e]}catch{}})}function aI(n,t){return t===void 0&&(t=0),setTimeout(n,t)}function r0(){return Date.now()}function Dae(n){const t=aa();let e;return t.getComputedStyle&&(e=t.getComputedStyle(n,null)),!e&&n.currentStyle&&(e=n.currentStyle),e||(e=n.style),e}function Iae(n,t){t===void 0&&(t="x");const e=aa();let s,a,i;const o=Dae(n);return e.WebKitCSSMatrix?(a=o.transform||o.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map(c=>c.replace(",",".")).join(", ")),i=new e.WebKitCSSMatrix(a==="none"?"":a)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=i.toString().split(",")),t==="x"&&(e.WebKitCSSMatrix?a=i.m41:s.length===16?a=parseFloat(s[12]):a=parseFloat(s[4])),t==="y"&&(e.WebKitCSSMatrix?a=i.m42:s.length===16?a=parseFloat(s[13]):a=parseFloat(s[5])),a||0}function Kp(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function Oae(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function ka(){const n=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let e=1;e<arguments.length;e+=1){const s=e<0||arguments.length<=e?void 0:arguments[e];if(s!=null&&!Oae(s)){const a=Object.keys(Object(s)).filter(i=>t.indexOf(i)<0);for(let i=0,o=a.length;i<o;i+=1){const c=a[i],l=Object.getOwnPropertyDescriptor(s,c);l!==void 0&&l.enumerable&&(Kp(n[c])&&Kp(s[c])?s[c].__swiper__?n[c]=s[c]:ka(n[c],s[c]):!Kp(n[c])&&Kp(s[c])?(n[c]={},s[c].__swiper__?n[c]=s[c]:ka(n[c],s[c])):n[c]=s[c])}}}return n}function Gp(n,t,e){n.style.setProperty(t,e)}function iI(n){let{swiper:t,targetPosition:e,side:s}=n;const a=aa(),i=-t.translate;let o=null,c;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(t.cssModeFrameID);const d=e>i?"next":"prev",u=(h,m)=>d==="next"&&h>=m||d==="prev"&&h<=m,f=()=>{c=new Date().getTime(),o===null&&(o=c);const h=Math.max(Math.min((c-o)/l,1),0),m=.5-Math.cos(h*Math.PI)/2;let A=i+m*(e-i);if(u(A,e)&&(A=e),t.wrapperEl.scrollTo({[s]:A}),u(A,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[s]:A})}),a.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=a.requestAnimationFrame(f)};f()}function zi(n,t){t===void 0&&(t="");const e=aa(),s=[...n.children];return e.HTMLSlotElement&&n instanceof HTMLSlotElement&&s.push(...n.assignedElements()),t?s.filter(a=>a.matches(t)):s}function Lae(n,t){const e=[t];for(;e.length>0;){const s=e.shift();if(n===s)return!0;e.push(...s.children,...s.shadowRoot?s.shadowRoot.children:[],...s.assignedElements?s.assignedElements():[])}}function Fae(n,t){const e=aa();let s=t.contains(n);return!s&&e.HTMLSlotElement&&t instanceof HTMLSlotElement&&(s=[...t.assignedElements()].includes(n),s||(s=Lae(n,t))),s}function s0(n){try{console.warn(n);return}catch{}}function a0(n,t){t===void 0&&(t=[]);const e=document.createElement(n);return e.classList.add(...Array.isArray(t)?t:Mae(t)),e}function Rae(n,t){const e=[];for(;n.previousElementSibling;){const s=n.previousElementSibling;t?s.matches(t)&&e.push(s):e.push(s),n=s}return e}function Uae(n,t){const e=[];for(;n.nextElementSibling;){const s=n.nextElementSibling;t?s.matches(t)&&e.push(s):e.push(s),n=s}return e}function Dl(n,t){return aa().getComputedStyle(n,null).getPropertyValue(t)}function i0(n){let t=n,e;if(t){for(e=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(e+=1);return e}}function oI(n,t){const e=[];let s=n.parentElement;for(;s;)t?s.matches(t)&&e.push(s):e.push(s),s=s.parentElement;return e}function s1(n,t,e){const s=aa();return n[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(n,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(n,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom"))}function xs(n){return(Array.isArray(n)?n:[n]).filter(t=>!!t)}function o0(n,t){t===void 0&&(t=""),typeof trustedTypes<"u"?n.innerHTML=trustedTypes.createPolicy("html",{createHTML:e=>e}).createHTML(t):n.innerHTML=t}let Ev;function Hae(){const n=aa(),t=Yi();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&t instanceof n.DocumentTouch)}}function lI(){return Ev||(Ev=Hae()),Ev}let Mv;function $ae(n){let{userAgent:t}=n===void 0?{}:n;const e=lI(),s=aa(),a=s.navigator.platform,i=t||s.navigator.userAgent,o={ios:!1,android:!1},c=s.screen.width,l=s.screen.height,d=i.match(/(Android);?[\s\/]+([\d.]+)?/);let u=i.match(/(iPad).*OS\s([\d_]+)/);const f=i.match(/(iPod)(.*OS\s([\d_]+))?/),h=!u&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m=a==="Win32";let A=a==="MacIntel";const g=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&A&&e.touch&&g.indexOf(`${c}x${l}`)>=0&&(u=i.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),A=!1),d&&!m&&(o.os="android",o.android=!0),(u||h||f)&&(o.os="ios",o.ios=!0),o}function cI(n){return n===void 0&&(n={}),Mv||(Mv=$ae(n)),Mv}let Pv;function Qae(){const n=aa(),t=cI();let e=!1;function s(){const c=n.navigator.userAgent.toLowerCase();return c.indexOf("safari")>=0&&c.indexOf("chrome")<0&&c.indexOf("android")<0}if(s()){const c=String(n.navigator.userAgent);if(c.includes("Version/")){const[l,d]=c.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));e=l<16||l===16&&d<2}}const a=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),i=s(),o=i||a&&t.ios;return{isSafari:e||i,needPerspectiveFix:e,need3dFix:o,isWebView:a}}function dI(){return Pv||(Pv=Qae()),Pv}function Vae(n){let{swiper:t,on:e,emit:s}=n;const a=aa();let i=null,o=null;const c=()=>{!t||t.destroyed||!t.initialized||(s("beforeResize"),s("resize"))},l=()=>{!t||t.destroyed||!t.initialized||(i=new ResizeObserver(f=>{o=a.requestAnimationFrame(()=>{const{width:h,height:m}=t;let A=h,g=m;f.forEach(p=>{let{contentBoxSize:b,contentRect:x,target:v}=p;v&&v!==t.el||(A=x?x.width:(b[0]||b).inlineSize,g=x?x.height:(b[0]||b).blockSize)}),(A!==h||g!==m)&&c()})}),i.observe(t.el))},d=()=>{o&&a.cancelAnimationFrame(o),i&&i.unobserve&&t.el&&(i.unobserve(t.el),i=null)},u=()=>{!t||t.destroyed||!t.initialized||s("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof a.ResizeObserver<"u"){l();return}a.addEventListener("resize",c),a.addEventListener("orientationchange",u)}),e("destroy",()=>{d(),a.removeEventListener("resize",c),a.removeEventListener("orientationchange",u)})}function zae(n){let{swiper:t,extendParams:e,on:s,emit:a}=n;const i=[],o=aa(),c=function(u,f){f===void 0&&(f={});const h=o.MutationObserver||o.WebkitMutationObserver,m=new h(A=>{if(t.__preventObserver__)return;if(A.length===1){a("observerUpdate",A[0]);return}const g=function(){a("observerUpdate",A[0])};o.requestAnimationFrame?o.requestAnimationFrame(g):o.setTimeout(g,0)});m.observe(u,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:t.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),i.push(m)},l=()=>{if(t.params.observer){if(t.params.observeParents){const u=oI(t.hostEl);for(let f=0;f<u.length;f+=1)c(u[f])}c(t.hostEl,{childList:t.params.observeSlideChildren}),c(t.wrapperEl,{attributes:!1})}},d=()=>{i.forEach(u=>{u.disconnect()}),i.splice(0,i.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",l),s("destroy",d)}var Kae={on(n,t,e){const s=this;if(!s.eventsListeners||s.destroyed||typeof t!="function")return s;const a=e?"unshift":"push";return n.split(" ").forEach(i=>{s.eventsListeners[i]||(s.eventsListeners[i]=[]),s.eventsListeners[i][a](t)}),s},once(n,t,e){const s=this;if(!s.eventsListeners||s.destroyed||typeof t!="function")return s;function a(){s.off(n,a),a.__emitterProxy&&delete a.__emitterProxy;for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];t.apply(s,o)}return a.__emitterProxy=t,s.on(n,a,e)},onAny(n,t){const e=this;if(!e.eventsListeners||e.destroyed||typeof n!="function")return e;const s=t?"unshift":"push";return e.eventsAnyListeners.indexOf(n)<0&&e.eventsAnyListeners[s](n),e},offAny(n){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const e=t.eventsAnyListeners.indexOf(n);return e>=0&&t.eventsAnyListeners.splice(e,1),t},off(n,t){const e=this;return!e.eventsListeners||e.destroyed||!e.eventsListeners||n.split(" ").forEach(s=>{typeof t>"u"?e.eventsListeners[s]=[]:e.eventsListeners[s]&&e.eventsListeners[s].forEach((a,i)=>{(a===t||a.__emitterProxy&&a.__emitterProxy===t)&&e.eventsListeners[s].splice(i,1)})}),e},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let t,e,s;for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return typeof i[0]=="string"||Array.isArray(i[0])?(t=i[0],e=i.slice(1,i.length),s=n):(t=i[0].events,e=i[0].data,s=i[0].context||n),e.unshift(s),(Array.isArray(t)?t:t.split(" ")).forEach(l=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(d=>{d.apply(s,[l,...e])}),n.eventsListeners&&n.eventsListeners[l]&&n.eventsListeners[l].forEach(d=>{d.apply(s,e)})}),n}};function Gae(){const n=this;let t,e;const s=n.el;typeof n.params.width<"u"&&n.params.width!==null?t=n.params.width:t=s.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?e=n.params.height:e=s.clientHeight,!(t===0&&n.isHorizontal()||e===0&&n.isVertical())&&(t=t-parseInt(Dl(s,"padding-left")||0,10)-parseInt(Dl(s,"padding-right")||0,10),e=e-parseInt(Dl(s,"padding-top")||0,10)-parseInt(Dl(s,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(e)&&(e=0),Object.assign(n,{width:t,height:e,size:n.isHorizontal()?t:e}))}function qae(){const n=this;function t(L,O){return parseFloat(L.getPropertyValue(n.getDirectionLabel(O))||0)}const e=n.params,{wrapperEl:s,slidesEl:a,size:i,rtlTranslate:o,wrongRTL:c}=n,l=n.virtual&&e.virtual.enabled,d=l?n.virtual.slides.length:n.slides.length,u=zi(a,`.${n.params.slideClass}, swiper-slide`),f=l?n.virtual.slides.length:u.length;let h=[];const m=[],A=[];let g=e.slidesOffsetBefore;typeof g=="function"&&(g=e.slidesOffsetBefore.call(n));let p=e.slidesOffsetAfter;typeof p=="function"&&(p=e.slidesOffsetAfter.call(n));const b=n.snapGrid.length,x=n.slidesGrid.length;let v=e.spaceBetween,y=-g,S=0,M=0;if(typeof i>"u")return;typeof v=="string"&&v.indexOf("%")>=0?v=parseFloat(v.replace("%",""))/100*i:typeof v=="string"&&(v=parseFloat(v)),n.virtualSize=-v,u.forEach(L=>{o?L.style.marginLeft="":L.style.marginRight="",L.style.marginBottom="",L.style.marginTop=""}),e.centeredSlides&&e.cssMode&&(Gp(s,"--swiper-centered-offset-before",""),Gp(s,"--swiper-centered-offset-after",""));const P=e.grid&&e.grid.rows>1&&n.grid;P?n.grid.initSlides(u):n.grid&&n.grid.unsetSlides();let B;const D=e.slidesPerView==="auto"&&e.breakpoints&&Object.keys(e.breakpoints).filter(L=>typeof e.breakpoints[L].slidesPerView<"u").length>0;for(let L=0;L<f;L+=1){B=0;let O;if(u[L]&&(O=u[L]),P&&n.grid.updateSlide(L,O,u),!(u[L]&&Dl(O,"display")==="none")){if(e.slidesPerView==="auto"){D&&(u[L].style[n.getDirectionLabel("width")]="");const F=getComputedStyle(O),_=O.style.transform,E=O.style.webkitTransform;if(_&&(O.style.transform="none"),E&&(O.style.webkitTransform="none"),e.roundLengths)B=n.isHorizontal()?s1(O,"width"):s1(O,"height");else{const T=t(F,"width"),w=t(F,"padding-left"),C=t(F,"padding-right"),j=t(F,"margin-left"),N=t(F,"margin-right"),I=F.getPropertyValue("box-sizing");if(I&&I==="border-box")B=T+j+N;else{const{clientWidth:R,offsetWidth:U}=O;B=T+w+C+j+N+(U-R)}}_&&(O.style.transform=_),E&&(O.style.webkitTransform=E),e.roundLengths&&(B=Math.floor(B))}else B=(i-(e.slidesPerView-1)*v)/e.slidesPerView,e.roundLengths&&(B=Math.floor(B)),u[L]&&(u[L].style[n.getDirectionLabel("width")]=`${B}px`);u[L]&&(u[L].swiperSlideSize=B),A.push(B),e.centeredSlides?(y=y+B/2+S/2+v,S===0&&L!==0&&(y=y-i/2-v),L===0&&(y=y-i/2-v),Math.abs(y)<1/1e3&&(y=0),e.roundLengths&&(y=Math.floor(y)),M%e.slidesPerGroup===0&&h.push(y),m.push(y)):(e.roundLengths&&(y=Math.floor(y)),(M-Math.min(n.params.slidesPerGroupSkip,M))%n.params.slidesPerGroup===0&&h.push(y),m.push(y),y=y+B+v),n.virtualSize+=B+v,S=B,M+=1}}if(n.virtualSize=Math.max(n.virtualSize,i)+p,o&&c&&(e.effect==="slide"||e.effect==="coverflow")&&(s.style.width=`${n.virtualSize+v}px`),e.setWrapperSize&&(s.style[n.getDirectionLabel("width")]=`${n.virtualSize+v}px`),P&&n.grid.updateWrapperSize(B,h),!e.centeredSlides){const L=[];for(let O=0;O<h.length;O+=1){let F=h[O];e.roundLengths&&(F=Math.floor(F)),h[O]<=n.virtualSize-i&&L.push(F)}h=L,Math.floor(n.virtualSize-i)-Math.floor(h[h.length-1])>1&&h.push(n.virtualSize-i)}if(l&&e.loop){const L=A[0]+v;if(e.slidesPerGroup>1){const O=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/e.slidesPerGroup),F=L*e.slidesPerGroup;for(let _=0;_<O;_+=1)h.push(h[h.length-1]+F)}for(let O=0;O<n.virtual.slidesBefore+n.virtual.slidesAfter;O+=1)e.slidesPerGroup===1&&h.push(h[h.length-1]+L),m.push(m[m.length-1]+L),n.virtualSize+=L}if(h.length===0&&(h=[0]),v!==0){const L=n.isHorizontal()&&o?"marginLeft":n.getDirectionLabel("marginRight");u.filter((O,F)=>!e.cssMode||e.loop?!0:F!==u.length-1).forEach(O=>{O.style[L]=`${v}px`})}if(e.centeredSlides&&e.centeredSlidesBounds){let L=0;A.forEach(F=>{L+=F+(v||0)}),L-=v;const O=L>i?L-i:0;h=h.map(F=>F<=0?-g:F>O?O+p:F)}if(e.centerInsufficientSlides){let L=0;A.forEach(F=>{L+=F+(v||0)}),L-=v;const O=(e.slidesOffsetBefore||0)+(e.slidesOffsetAfter||0);if(L+O<i){const F=(i-L-O)/2;h.forEach((_,E)=>{h[E]=_-F}),m.forEach((_,E)=>{m[E]=_+F})}}if(Object.assign(n,{slides:u,snapGrid:h,slidesGrid:m,slidesSizesGrid:A}),e.centeredSlides&&e.cssMode&&!e.centeredSlidesBounds){Gp(s,"--swiper-centered-offset-before",`${-h[0]}px`),Gp(s,"--swiper-centered-offset-after",`${n.size/2-A[A.length-1]/2}px`);const L=-n.snapGrid[0],O=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(F=>F+L),n.slidesGrid=n.slidesGrid.map(F=>F+O)}if(f!==d&&n.emit("slidesLengthChange"),h.length!==b&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),m.length!==x&&n.emit("slidesGridLengthChange"),e.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!l&&!e.cssMode&&(e.effect==="slide"||e.effect==="fade")){const L=`${e.containerModifierClass}backface-hidden`,O=n.el.classList.contains(L);f<=e.maxBackfaceHiddenSlides?O||n.el.classList.add(L):O&&n.el.classList.remove(L)}}function Wae(n){const t=this,e=[],s=t.virtual&&t.params.virtual.enabled;let a=0,i;typeof n=="number"?t.setTransition(n):n===!0&&t.setTransition(t.params.speed);const o=c=>s?t.slides[t.getSlideIndexByData(c)]:t.slides[c];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(c=>{e.push(c)});else for(i=0;i<Math.ceil(t.params.slidesPerView);i+=1){const c=t.activeIndex+i;if(c>t.slides.length&&!s)break;e.push(o(c))}else e.push(o(t.activeIndex));for(i=0;i<e.length;i+=1)if(typeof e[i]<"u"){const c=e[i].offsetHeight;a=c>a?c:a}(a||a===0)&&(t.wrapperEl.style.height=`${a}px`)}function Xae(){const n=this,t=n.slides,e=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let s=0;s<t.length;s+=1)t[s].swiperSlideOffset=(n.isHorizontal()?t[s].offsetLeft:t[s].offsetTop)-e-n.cssOverflowAdjustment()}const _S=(n,t,e)=>{t&&!n.classList.contains(e)?n.classList.add(e):!t&&n.classList.contains(e)&&n.classList.remove(e)};function Yae(n){n===void 0&&(n=this&&this.translate||0);const t=this,e=t.params,{slides:s,rtlTranslate:a,snapGrid:i}=t;if(s.length===0)return;typeof s[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let o=-n;a&&(o=n),t.visibleSlidesIndexes=[],t.visibleSlides=[];let c=e.spaceBetween;typeof c=="string"&&c.indexOf("%")>=0?c=parseFloat(c.replace("%",""))/100*t.size:typeof c=="string"&&(c=parseFloat(c));for(let l=0;l<s.length;l+=1){const d=s[l];let u=d.swiperSlideOffset;e.cssMode&&e.centeredSlides&&(u-=s[0].swiperSlideOffset);const f=(o+(e.centeredSlides?t.minTranslate():0)-u)/(d.swiperSlideSize+c),h=(o-i[0]+(e.centeredSlides?t.minTranslate():0)-u)/(d.swiperSlideSize+c),m=-(o-u),A=m+t.slidesSizesGrid[l],g=m>=0&&m<=t.size-t.slidesSizesGrid[l],p=m>=0&&m<t.size-1||A>1&&A<=t.size||m<=0&&A>=t.size;p&&(t.visibleSlides.push(d),t.visibleSlidesIndexes.push(l)),_S(d,p,e.slideVisibleClass),_S(d,g,e.slideFullyVisibleClass),d.progress=a?-f:f,d.originalProgress=a?-h:h}}function Jae(n){const t=this;if(typeof n>"u"){const u=t.rtlTranslate?-1:1;n=t&&t.translate&&t.translate*u||0}const e=t.params,s=t.maxTranslate()-t.minTranslate();let{progress:a,isBeginning:i,isEnd:o,progressLoop:c}=t;const l=i,d=o;if(s===0)a=0,i=!0,o=!0;else{a=(n-t.minTranslate())/s;const u=Math.abs(n-t.minTranslate())<1,f=Math.abs(n-t.maxTranslate())<1;i=u||a<=0,o=f||a>=1,u&&(a=0),f&&(a=1)}if(e.loop){const u=t.getSlideIndexByData(0),f=t.getSlideIndexByData(t.slides.length-1),h=t.slidesGrid[u],m=t.slidesGrid[f],A=t.slidesGrid[t.slidesGrid.length-1],g=Math.abs(n);g>=h?c=(g-h)/A:c=(g+A-m)/A,c>1&&(c-=1)}Object.assign(t,{progress:a,progressLoop:c,isBeginning:i,isEnd:o}),(e.watchSlidesProgress||e.centeredSlides&&e.autoHeight)&&t.updateSlidesProgress(n),i&&!l&&t.emit("reachBeginning toEdge"),o&&!d&&t.emit("reachEnd toEdge"),(l&&!i||d&&!o)&&t.emit("fromEdge"),t.emit("progress",a)}const Dv=(n,t,e)=>{t&&!n.classList.contains(e)?n.classList.add(e):!t&&n.classList.contains(e)&&n.classList.remove(e)};function Zae(){const n=this,{slides:t,params:e,slidesEl:s,activeIndex:a}=n,i=n.virtual&&e.virtual.enabled,o=n.grid&&e.grid&&e.grid.rows>1,c=f=>zi(s,`.${e.slideClass}${f}, swiper-slide${f}`)[0];let l,d,u;if(i)if(e.loop){let f=a-n.virtual.slidesBefore;f<0&&(f=n.virtual.slides.length+f),f>=n.virtual.slides.length&&(f-=n.virtual.slides.length),l=c(`[data-swiper-slide-index="${f}"]`)}else l=c(`[data-swiper-slide-index="${a}"]`);else o?(l=t.find(f=>f.column===a),u=t.find(f=>f.column===a+1),d=t.find(f=>f.column===a-1)):l=t[a];l&&(o||(u=Uae(l,`.${e.slideClass}, swiper-slide`)[0],e.loop&&!u&&(u=t[0]),d=Rae(l,`.${e.slideClass}, swiper-slide`)[0],e.loop&&!d===0&&(d=t[t.length-1]))),t.forEach(f=>{Dv(f,f===l,e.slideActiveClass),Dv(f,f===u,e.slideNextClass),Dv(f,f===d,e.slidePrevClass)}),n.emitSlidesClasses()}const cg=(n,t)=>{if(!n||n.destroyed||!n.params)return;const e=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,s=t.closest(e());if(s){let a=s.querySelector(`.${n.params.lazyPreloaderClass}`);!a&&n.isElement&&(s.shadowRoot?a=s.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(a=s.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),a&&a.remove())})),a&&a.remove()}},Iv=(n,t)=>{if(!n.slides[t])return;const e=n.slides[t].querySelector('[loading="lazy"]');e&&e.removeAttribute("loading")},a1=n=>{if(!n||n.destroyed||!n.params)return;let t=n.params.lazyPreloadPrevNext;const e=n.slides.length;if(!e||!t||t<0)return;t=Math.min(t,e);const s=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),a=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const o=a,c=[o-t];c.push(...Array.from({length:t}).map((l,d)=>o+s+d)),n.slides.forEach((l,d)=>{c.includes(l.column)&&Iv(n,d)});return}const i=a+s-1;if(n.params.rewind||n.params.loop)for(let o=a-t;o<=i+t;o+=1){const c=(o%e+e)%e;(c<a||c>i)&&Iv(n,c)}else for(let o=Math.max(a-t,0);o<=Math.min(i+t,e-1);o+=1)o!==a&&(o>i||o<a)&&Iv(n,o)};function eie(n){const{slidesGrid:t,params:e}=n,s=n.rtlTranslate?n.translate:-n.translate;let a;for(let i=0;i<t.length;i+=1)typeof t[i+1]<"u"?s>=t[i]&&s<t[i+1]-(t[i+1]-t[i])/2?a=i:s>=t[i]&&s<t[i+1]&&(a=i+1):s>=t[i]&&(a=i);return e.normalizeSlideIndex&&(a<0||typeof a>"u")&&(a=0),a}function tie(n){const t=this,e=t.rtlTranslate?t.translate:-t.translate,{snapGrid:s,params:a,activeIndex:i,realIndex:o,snapIndex:c}=t;let l=n,d;const u=m=>{let A=m-t.virtual.slidesBefore;return A<0&&(A=t.virtual.slides.length+A),A>=t.virtual.slides.length&&(A-=t.virtual.slides.length),A};if(typeof l>"u"&&(l=eie(t)),s.indexOf(e)>=0)d=s.indexOf(e);else{const m=Math.min(a.slidesPerGroupSkip,l);d=m+Math.floor((l-m)/a.slidesPerGroup)}if(d>=s.length&&(d=s.length-1),l===i&&!t.params.loop){d!==c&&(t.snapIndex=d,t.emit("snapIndexChange"));return}if(l===i&&t.params.loop&&t.virtual&&t.params.virtual.enabled){t.realIndex=u(l);return}const f=t.grid&&a.grid&&a.grid.rows>1;let h;if(t.virtual&&a.virtual.enabled&&a.loop)h=u(l);else if(f){const m=t.slides.find(g=>g.column===l);let A=parseInt(m.getAttribute("data-swiper-slide-index"),10);Number.isNaN(A)&&(A=Math.max(t.slides.indexOf(m),0)),h=Math.floor(A/a.grid.rows)}else if(t.slides[l]){const m=t.slides[l].getAttribute("data-swiper-slide-index");m?h=parseInt(m,10):h=l}else h=l;Object.assign(t,{previousSnapIndex:c,snapIndex:d,previousRealIndex:o,realIndex:h,previousIndex:i,activeIndex:l}),t.initialized&&a1(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(o!==h&&t.emit("realIndexChange"),t.emit("slideChange"))}function nie(n,t){const e=this,s=e.params;let a=n.closest(`.${s.slideClass}, swiper-slide`);!a&&e.isElement&&t&&t.length>1&&t.includes(n)&&[...t.slice(t.indexOf(n)+1,t.length)].forEach(c=>{!a&&c.matches&&c.matches(`.${s.slideClass}, swiper-slide`)&&(a=c)});let i=!1,o;if(a){for(let c=0;c<e.slides.length;c+=1)if(e.slides[c]===a){i=!0,o=c;break}}if(a&&i)e.clickedSlide=a,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(a.getAttribute("data-swiper-slide-index"),10):e.clickedIndex=o;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}s.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}var rie={updateSize:Gae,updateSlides:qae,updateAutoHeight:Wae,updateSlidesOffset:Xae,updateSlidesProgress:Yae,updateProgress:Jae,updateSlidesClasses:Zae,updateActiveIndex:tie,updateClickedSlide:nie};function sie(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const t=this,{params:e,rtlTranslate:s,translate:a,wrapperEl:i}=t;if(e.virtualTranslate)return s?-a:a;if(e.cssMode)return a;let o=Iae(i,n);return o+=t.cssOverflowAdjustment(),s&&(o=-o),o||0}function aie(n,t){const e=this,{rtlTranslate:s,params:a,wrapperEl:i,progress:o}=e;let c=0,l=0;const d=0;e.isHorizontal()?c=s?-n:n:l=n,a.roundLengths&&(c=Math.floor(c),l=Math.floor(l)),e.previousTranslate=e.translate,e.translate=e.isHorizontal()?c:l,a.cssMode?i[e.isHorizontal()?"scrollLeft":"scrollTop"]=e.isHorizontal()?-c:-l:a.virtualTranslate||(e.isHorizontal()?c-=e.cssOverflowAdjustment():l-=e.cssOverflowAdjustment(),i.style.transform=`translate3d(${c}px, ${l}px, ${d}px)`);let u;const f=e.maxTranslate()-e.minTranslate();f===0?u=0:u=(n-e.minTranslate())/f,u!==o&&e.updateProgress(n),e.emit("setTranslate",e.translate,t)}function iie(){return-this.snapGrid[0]}function oie(){return-this.snapGrid[this.snapGrid.length-1]}function lie(n,t,e,s,a){n===void 0&&(n=0),t===void 0&&(t=this.params.speed),e===void 0&&(e=!0),s===void 0&&(s=!0);const i=this,{params:o,wrapperEl:c}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;const l=i.minTranslate(),d=i.maxTranslate();let u;if(s&&n>l?u=l:s&&n<d?u=d:u=n,i.updateProgress(u),o.cssMode){const f=i.isHorizontal();if(t===0)c[f?"scrollLeft":"scrollTop"]=-u;else{if(!i.support.smoothScroll)return iI({swiper:i,targetPosition:-u,side:f?"left":"top"}),!0;c.scrollTo({[f?"left":"top"]:-u,behavior:"smooth"})}return!0}return t===0?(i.setTransition(0),i.setTranslate(u),e&&(i.emit("beforeTransitionStart",t,a),i.emit("transitionEnd"))):(i.setTransition(t),i.setTranslate(u),e&&(i.emit("beforeTransitionStart",t,a),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(h){!i||i.destroyed||h.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,e&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var cie={getTranslate:sie,setTranslate:aie,minTranslate:iie,maxTranslate:oie,translateTo:lie};function die(n,t){const e=this;e.params.cssMode||(e.wrapperEl.style.transitionDuration=`${n}ms`,e.wrapperEl.style.transitionDelay=n===0?"0ms":""),e.emit("setTransition",n,t)}function uI(n){let{swiper:t,runCallbacks:e,direction:s,step:a}=n;const{activeIndex:i,previousIndex:o}=t;let c=s;c||(i>o?c="next":i<o?c="prev":c="reset"),t.emit(`transition${a}`),e&&c==="reset"?t.emit(`slideResetTransition${a}`):e&&i!==o&&(t.emit(`slideChangeTransition${a}`),c==="next"?t.emit(`slideNextTransition${a}`):t.emit(`slidePrevTransition${a}`))}function uie(n,t){n===void 0&&(n=!0);const e=this,{params:s}=e;s.cssMode||(s.autoHeight&&e.updateAutoHeight(),uI({swiper:e,runCallbacks:n,direction:t,step:"Start"}))}function hie(n,t){n===void 0&&(n=!0);const e=this,{params:s}=e;e.animating=!1,!s.cssMode&&(e.setTransition(0),uI({swiper:e,runCallbacks:n,direction:t,step:"End"}))}var fie={setTransition:die,transitionStart:uie,transitionEnd:hie};function mie(n,t,e,s,a){n===void 0&&(n=0),e===void 0&&(e=!0),typeof n=="string"&&(n=parseInt(n,10));const i=this;let o=n;o<0&&(o=0);const{params:c,snapGrid:l,slidesGrid:d,previousIndex:u,activeIndex:f,rtlTranslate:h,wrapperEl:m,enabled:A}=i;if(!A&&!s&&!a||i.destroyed||i.animating&&c.preventInteractionOnTransition)return!1;typeof t>"u"&&(t=i.params.speed);const g=Math.min(i.params.slidesPerGroupSkip,o);let p=g+Math.floor((o-g)/i.params.slidesPerGroup);p>=l.length&&(p=l.length-1);const b=-l[p];if(c.normalizeSlideIndex)for(let P=0;P<d.length;P+=1){const B=-Math.floor(b*100),D=Math.floor(d[P]*100),L=Math.floor(d[P+1]*100);typeof d[P+1]<"u"?B>=D&&B<L-(L-D)/2?o=P:B>=D&&B<L&&(o=P+1):B>=D&&(o=P)}if(i.initialized&&o!==f&&(!i.allowSlideNext&&(h?b>i.translate&&b>i.minTranslate():b<i.translate&&b<i.minTranslate())||!i.allowSlidePrev&&b>i.translate&&b>i.maxTranslate()&&(f||0)!==o))return!1;o!==(u||0)&&e&&i.emit("beforeSlideChangeStart"),i.updateProgress(b);let x;o>f?x="next":o<f?x="prev":x="reset";const v=i.virtual&&i.params.virtual.enabled;if(!(v&&a)&&(h&&-b===i.translate||!h&&b===i.translate))return i.updateActiveIndex(o),c.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),c.effect!=="slide"&&i.setTranslate(b),x!=="reset"&&(i.transitionStart(e,x),i.transitionEnd(e,x)),!1;if(c.cssMode){const P=i.isHorizontal(),B=h?b:-b;if(t===0)v&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),v&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{m[P?"scrollLeft":"scrollTop"]=B})):m[P?"scrollLeft":"scrollTop"]=B,v&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return iI({swiper:i,targetPosition:B,side:P?"left":"top"}),!0;m.scrollTo({[P?"left":"top"]:B,behavior:"smooth"})}return!0}const M=dI().isSafari;return v&&!a&&M&&i.isElement&&i.virtual.update(!1,!1,o),i.setTransition(t),i.setTranslate(b),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",t,s),i.transitionStart(e,x),t===0?i.transitionEnd(e,x):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(B){!i||i.destroyed||B.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(e,x))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function pie(n,t,e,s){n===void 0&&(n=0),e===void 0&&(e=!0),typeof n=="string"&&(n=parseInt(n,10));const a=this;if(a.destroyed)return;typeof t>"u"&&(t=a.params.speed);const i=a.grid&&a.params.grid&&a.params.grid.rows>1;let o=n;if(a.params.loop)if(a.virtual&&a.params.virtual.enabled)o=o+a.virtual.slidesBefore;else{let c;if(i){const h=o*a.params.grid.rows;c=a.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===h).column}else c=a.getSlideIndexByData(o);const l=i?Math.ceil(a.slides.length/a.params.grid.rows):a.slides.length,{centeredSlides:d}=a.params;let u=a.params.slidesPerView;u==="auto"?u=a.slidesPerViewDynamic():(u=Math.ceil(parseFloat(a.params.slidesPerView,10)),d&&u%2===0&&(u=u+1));let f=l-c<u;if(d&&(f=f||c<Math.ceil(u/2)),s&&d&&a.params.slidesPerView!=="auto"&&!i&&(f=!1),f){const h=d?c<a.activeIndex?"prev":"next":c-a.activeIndex-1<a.params.slidesPerView?"next":"prev";a.loopFix({direction:h,slideTo:!0,activeSlideIndex:h==="next"?c+1:c-l+1,slideRealIndex:h==="next"?a.realIndex:void 0})}if(i){const h=o*a.params.grid.rows;o=a.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===h).column}else o=a.getSlideIndexByData(o)}return requestAnimationFrame(()=>{a.slideTo(o,t,e,s)}),a}function Aie(n,t,e){t===void 0&&(t=!0);const s=this,{enabled:a,params:i,animating:o}=s;if(!a||s.destroyed)return s;typeof n>"u"&&(n=s.params.speed);let c=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(c=Math.max(s.slidesPerViewDynamic("current",!0),1));const l=s.activeIndex<i.slidesPerGroupSkip?1:c,d=s.virtual&&i.virtual.enabled;if(i.loop){if(o&&!d&&i.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{s.slideTo(s.activeIndex+l,n,t,e)}),!0}return i.rewind&&s.isEnd?s.slideTo(0,n,t,e):s.slideTo(s.activeIndex+l,n,t,e)}function gie(n,t,e){t===void 0&&(t=!0);const s=this,{params:a,snapGrid:i,slidesGrid:o,rtlTranslate:c,enabled:l,animating:d}=s;if(!l||s.destroyed)return s;typeof n>"u"&&(n=s.params.speed);const u=s.virtual&&a.virtual.enabled;if(a.loop){if(d&&!u&&a.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}const f=c?s.translate:-s.translate;function h(x){return x<0?-Math.floor(Math.abs(x)):Math.floor(x)}const m=h(f),A=i.map(x=>h(x)),g=a.freeMode&&a.freeMode.enabled;let p=i[A.indexOf(m)-1];if(typeof p>"u"&&(a.cssMode||g)){let x;i.forEach((v,y)=>{m>=v&&(x=y)}),typeof x<"u"&&(p=g?i[x]:i[x>0?x-1:x])}let b=0;if(typeof p<"u"&&(b=o.indexOf(p),b<0&&(b=s.activeIndex-1),a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(b=b-s.slidesPerViewDynamic("previous",!0)+1,b=Math.max(b,0))),a.rewind&&s.isBeginning){const x=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(x,n,t,e)}else if(a.loop&&s.activeIndex===0&&a.cssMode)return requestAnimationFrame(()=>{s.slideTo(b,n,t,e)}),!0;return s.slideTo(b,n,t,e)}function xie(n,t,e){t===void 0&&(t=!0);const s=this;if(!s.destroyed)return typeof n>"u"&&(n=s.params.speed),s.slideTo(s.activeIndex,n,t,e)}function bie(n,t,e,s){t===void 0&&(t=!0),s===void 0&&(s=.5);const a=this;if(a.destroyed)return;typeof n>"u"&&(n=a.params.speed);let i=a.activeIndex;const o=Math.min(a.params.slidesPerGroupSkip,i),c=o+Math.floor((i-o)/a.params.slidesPerGroup),l=a.rtlTranslate?a.translate:-a.translate;if(l>=a.snapGrid[c]){const d=a.snapGrid[c],u=a.snapGrid[c+1];l-d>(u-d)*s&&(i+=a.params.slidesPerGroup)}else{const d=a.snapGrid[c-1],u=a.snapGrid[c];l-d<=(u-d)*s&&(i-=a.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,a.slidesGrid.length-1),a.slideTo(i,n,t,e)}function vie(){const n=this;if(n.destroyed)return;const{params:t,slidesEl:e}=n,s=t.slidesPerView==="auto"?n.slidesPerViewDynamic():t.slidesPerView;let a=n.getSlideIndexWhenGrid(n.clickedIndex),i;const o=n.isElement?"swiper-slide":`.${t.slideClass}`,c=n.grid&&n.params.grid&&n.params.grid.rows>1;if(t.loop){if(n.animating)return;i=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?n.slideToLoop(i):a>(c?(n.slides.length-s)/2-(n.params.grid.rows-1):n.slides.length-s)?(n.loopFix(),a=n.getSlideIndex(zi(e,`${o}[data-swiper-slide-index="${i}"]`)[0]),aI(()=>{n.slideTo(a)})):n.slideTo(a)}else n.slideTo(a)}var yie={slideTo:mie,slideToLoop:pie,slideNext:Aie,slidePrev:gie,slideReset:xie,slideToClosest:bie,slideToClickedSlide:vie};function wie(n,t){const e=this,{params:s,slidesEl:a}=e;if(!s.loop||e.virtual&&e.params.virtual.enabled)return;const i=()=>{zi(a,`.${s.slideClass}, swiper-slide`).forEach((m,A)=>{m.setAttribute("data-swiper-slide-index",A)})},o=()=>{const h=zi(a,`.${s.slideBlankClass}`);h.forEach(m=>{m.remove()}),h.length>0&&(e.recalcSlides(),e.updateSlides())},c=e.grid&&s.grid&&s.grid.rows>1;s.loopAddBlankSlides&&(s.slidesPerGroup>1||c)&&o();const l=s.slidesPerGroup*(c?s.grid.rows:1),d=e.slides.length%l!==0,u=c&&e.slides.length%s.grid.rows!==0,f=h=>{for(let m=0;m<h;m+=1){const A=e.isElement?a0("swiper-slide",[s.slideBlankClass]):a0("div",[s.slideClass,s.slideBlankClass]);e.slidesEl.append(A)}};if(d){if(s.loopAddBlankSlides){const h=l-e.slides.length%l;f(h),e.recalcSlides(),e.updateSlides()}else s0("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(u){if(s.loopAddBlankSlides){const h=s.grid.rows-e.slides.length%s.grid.rows;f(h),e.recalcSlides(),e.updateSlides()}else s0("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();e.loopFix({slideRealIndex:n,direction:s.centeredSlides?void 0:"next",initial:t})}function jie(n){let{slideRealIndex:t,slideTo:e=!0,direction:s,setTranslate:a,activeSlideIndex:i,initial:o,byController:c,byMousewheel:l}=n===void 0?{}:n;const d=this;if(!d.params.loop)return;d.emit("beforeLoopFix");const{slides:u,allowSlidePrev:f,allowSlideNext:h,slidesEl:m,params:A}=d,{centeredSlides:g,initialSlide:p}=A;if(d.allowSlidePrev=!0,d.allowSlideNext=!0,d.virtual&&A.virtual.enabled){e&&(!A.centeredSlides&&d.snapIndex===0?d.slideTo(d.virtual.slides.length,0,!1,!0):A.centeredSlides&&d.snapIndex<A.slidesPerView?d.slideTo(d.virtual.slides.length+d.snapIndex,0,!1,!0):d.snapIndex===d.snapGrid.length-1&&d.slideTo(d.virtual.slidesBefore,0,!1,!0)),d.allowSlidePrev=f,d.allowSlideNext=h,d.emit("loopFix");return}let b=A.slidesPerView;b==="auto"?b=d.slidesPerViewDynamic():(b=Math.ceil(parseFloat(A.slidesPerView,10)),g&&b%2===0&&(b=b+1));const x=A.slidesPerGroupAuto?b:A.slidesPerGroup;let v=g?Math.max(x,Math.ceil(b/2)):x;v%x!==0&&(v+=x-v%x),v+=A.loopAdditionalSlides,d.loopedSlides=v;const y=d.grid&&A.grid&&A.grid.rows>1;u.length<b+v||d.params.effect==="cards"&&u.length<b+v*2?s0("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):y&&A.grid.fill==="row"&&s0("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const S=[],M=[],P=y?Math.ceil(u.length/A.grid.rows):u.length,B=o&&P-p<b&&!g;let D=B?p:d.activeIndex;typeof i>"u"?i=d.getSlideIndex(u.find(w=>w.classList.contains(A.slideActiveClass))):D=i;const L=s==="next"||!s,O=s==="prev"||!s;let F=0,_=0;const T=(y?u[i].column:i)+(g&&typeof a>"u"?-b/2+.5:0);if(T<v){F=Math.max(v-T,x);for(let w=0;w<v-T;w+=1){const C=w-Math.floor(w/P)*P;if(y){const j=P-C-1;for(let N=u.length-1;N>=0;N-=1)u[N].column===j&&S.push(N)}else S.push(P-C-1)}}else if(T+b>P-v){_=Math.max(T-(P-v*2),x),B&&(_=Math.max(_,b-P+p+1));for(let w=0;w<_;w+=1){const C=w-Math.floor(w/P)*P;y?u.forEach((j,N)=>{j.column===C&&M.push(N)}):M.push(C)}}if(d.__preventObserver__=!0,requestAnimationFrame(()=>{d.__preventObserver__=!1}),d.params.effect==="cards"&&u.length<b+v*2&&(M.includes(i)&&M.splice(M.indexOf(i),1),S.includes(i)&&S.splice(S.indexOf(i),1)),O&&S.forEach(w=>{u[w].swiperLoopMoveDOM=!0,m.prepend(u[w]),u[w].swiperLoopMoveDOM=!1}),L&&M.forEach(w=>{u[w].swiperLoopMoveDOM=!0,m.append(u[w]),u[w].swiperLoopMoveDOM=!1}),d.recalcSlides(),A.slidesPerView==="auto"?d.updateSlides():y&&(S.length>0&&O||M.length>0&&L)&&d.slides.forEach((w,C)=>{d.grid.updateSlide(C,w,d.slides)}),A.watchSlidesProgress&&d.updateSlidesOffset(),e){if(S.length>0&&O){if(typeof t>"u"){const w=d.slidesGrid[D],j=d.slidesGrid[D+F]-w;l?d.setTranslate(d.translate-j):(d.slideTo(D+Math.ceil(F),0,!1,!0),a&&(d.touchEventsData.startTranslate=d.touchEventsData.startTranslate-j,d.touchEventsData.currentTranslate=d.touchEventsData.currentTranslate-j))}else if(a){const w=y?S.length/A.grid.rows:S.length;d.slideTo(d.activeIndex+w,0,!1,!0),d.touchEventsData.currentTranslate=d.translate}}else if(M.length>0&&L)if(typeof t>"u"){const w=d.slidesGrid[D],j=d.slidesGrid[D-_]-w;l?d.setTranslate(d.translate-j):(d.slideTo(D-_,0,!1,!0),a&&(d.touchEventsData.startTranslate=d.touchEventsData.startTranslate-j,d.touchEventsData.currentTranslate=d.touchEventsData.currentTranslate-j))}else{const w=y?M.length/A.grid.rows:M.length;d.slideTo(d.activeIndex-w,0,!1,!0)}}if(d.allowSlidePrev=f,d.allowSlideNext=h,d.controller&&d.controller.control&&!c){const w={slideRealIndex:t,direction:s,setTranslate:a,activeSlideIndex:i,byController:!0};Array.isArray(d.controller.control)?d.controller.control.forEach(C=>{!C.destroyed&&C.params.loop&&C.loopFix({...w,slideTo:C.params.slidesPerView===A.slidesPerView?e:!1})}):d.controller.control instanceof d.constructor&&d.controller.control.params.loop&&d.controller.control.loopFix({...w,slideTo:d.controller.control.params.slidesPerView===A.slidesPerView?e:!1})}d.emit("loopFix")}function Cie(){const n=this,{params:t,slidesEl:e}=n;if(!t.loop||!e||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const s=[];n.slides.forEach(a=>{const i=typeof a.swiperSlideIndex>"u"?a.getAttribute("data-swiper-slide-index")*1:a.swiperSlideIndex;s[i]=a}),n.slides.forEach(a=>{a.removeAttribute("data-swiper-slide-index")}),s.forEach(a=>{e.append(a)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var Nie={loopCreate:wie,loopFix:jie,loopDestroy:Cie};function Sie(n){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const e=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),e.style.cursor="move",e.style.cursor=n?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function Tie(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var kie={setGrabCursor:Sie,unsetGrabCursor:Tie};function _ie(n,t){t===void 0&&(t=this);function e(s){if(!s||s===Yi()||s===aa())return null;s.assignedSlot&&(s=s.assignedSlot);const a=s.closest(n);return!a&&!s.getRootNode?null:a||e(s.getRootNode().host)}return e(t)}function BS(n,t,e){const s=aa(),{params:a}=n,i=a.edgeSwipeDetection,o=a.edgeSwipeThreshold;return i&&(e<=o||e>=s.innerWidth-o)?i==="prevent"?(t.preventDefault(),!0):!1:!0}function Bie(n){const t=this,e=Yi();let s=n;s.originalEvent&&(s=s.originalEvent);const a=t.touchEventsData;if(s.type==="pointerdown"){if(a.pointerId!==null&&a.pointerId!==s.pointerId)return;a.pointerId=s.pointerId}else s.type==="touchstart"&&s.targetTouches.length===1&&(a.touchId=s.targetTouches[0].identifier);if(s.type==="touchstart"){BS(t,s,s.targetTouches[0].pageX);return}const{params:i,touches:o,enabled:c}=t;if(!c||!i.simulateTouch&&s.pointerType==="mouse"||t.animating&&i.preventInteractionOnTransition)return;!t.animating&&i.cssMode&&i.loop&&t.loopFix();let l=s.target;if(i.touchEventsTarget==="wrapper"&&!Fae(l,t.wrapperEl)||"which"in s&&s.which===3||"button"in s&&s.button>0||a.isTouched&&a.isMoved)return;const d=!!i.noSwipingClass&&i.noSwipingClass!=="",u=s.composedPath?s.composedPath():s.path;d&&s.target&&s.target.shadowRoot&&u&&(l=u[0]);const f=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,h=!!(s.target&&s.target.shadowRoot);if(i.noSwiping&&(h?_ie(f,l):l.closest(f))){t.allowClick=!0;return}if(i.swipeHandler&&!l.closest(i.swipeHandler))return;o.currentX=s.pageX,o.currentY=s.pageY;const m=o.currentX,A=o.currentY;if(!BS(t,s,m))return;Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=m,o.startY=A,a.touchStartTime=r0(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,i.threshold>0&&(a.allowThresholdMove=!1);let g=!0;l.matches(a.focusableElements)&&(g=!1,l.nodeName==="SELECT"&&(a.isTouched=!1)),e.activeElement&&e.activeElement.matches(a.focusableElements)&&e.activeElement!==l&&(s.pointerType==="mouse"||s.pointerType!=="mouse"&&!l.matches(a.focusableElements))&&e.activeElement.blur();const p=g&&t.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||p)&&!l.isContentEditable&&s.preventDefault(),i.freeMode&&i.freeMode.enabled&&t.freeMode&&t.animating&&!i.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",s)}function Eie(n){const t=Yi(),e=this,s=e.touchEventsData,{params:a,touches:i,rtlTranslate:o,enabled:c}=e;if(!c||!a.simulateTouch&&n.pointerType==="mouse")return;let l=n;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(s.touchId!==null||l.pointerId!==s.pointerId))return;let d;if(l.type==="touchmove"){if(d=[...l.changedTouches].find(S=>S.identifier===s.touchId),!d||d.identifier!==s.touchId)return}else d=l;if(!s.isTouched){s.startMoving&&s.isScrolling&&e.emit("touchMoveOpposite",l);return}const u=d.pageX,f=d.pageY;if(l.preventedByNestedSwiper){i.startX=u,i.startY=f;return}if(!e.allowTouchMove){l.target.matches(s.focusableElements)||(e.allowClick=!1),s.isTouched&&(Object.assign(i,{startX:u,startY:f,currentX:u,currentY:f}),s.touchStartTime=r0());return}if(a.touchReleaseOnEdges&&!a.loop)if(e.isVertical()){if(f<i.startY&&e.translate<=e.maxTranslate()||f>i.startY&&e.translate>=e.minTranslate()){s.isTouched=!1,s.isMoved=!1;return}}else{if(o&&(u>i.startX&&-e.translate<=e.maxTranslate()||u<i.startX&&-e.translate>=e.minTranslate()))return;if(!o&&(u<i.startX&&e.translate<=e.maxTranslate()||u>i.startX&&e.translate>=e.minTranslate()))return}if(t.activeElement&&t.activeElement.matches(s.focusableElements)&&t.activeElement!==l.target&&l.pointerType!=="mouse"&&t.activeElement.blur(),t.activeElement&&l.target===t.activeElement&&l.target.matches(s.focusableElements)){s.isMoved=!0,e.allowClick=!1;return}s.allowTouchCallbacks&&e.emit("touchMove",l),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=u,i.currentY=f;const h=i.currentX-i.startX,m=i.currentY-i.startY;if(e.params.threshold&&Math.sqrt(h**2+m**2)<e.params.threshold)return;if(typeof s.isScrolling>"u"){let S;e.isHorizontal()&&i.currentY===i.startY||e.isVertical()&&i.currentX===i.startX?s.isScrolling=!1:h*h+m*m>=25&&(S=Math.atan2(Math.abs(m),Math.abs(h))*180/Math.PI,s.isScrolling=e.isHorizontal()?S>a.touchAngle:90-S>a.touchAngle)}if(s.isScrolling&&e.emit("touchMoveOpposite",l),typeof s.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(s.startMoving=!0),s.isScrolling||l.type==="touchmove"&&s.preventTouchMoveFromPointerMove){s.isTouched=!1;return}if(!s.startMoving)return;e.allowClick=!1,!a.cssMode&&l.cancelable&&l.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&l.stopPropagation();let A=e.isHorizontal()?h:m,g=e.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;a.oneWayMovement&&(A=Math.abs(A)*(o?1:-1),g=Math.abs(g)*(o?1:-1)),i.diff=A,A*=a.touchRatio,o&&(A=-A,g=-g);const p=e.touchesDirection;e.swipeDirection=A>0?"prev":"next",e.touchesDirection=g>0?"prev":"next";const b=e.params.loop&&!a.cssMode,x=e.touchesDirection==="next"&&e.allowSlideNext||e.touchesDirection==="prev"&&e.allowSlidePrev;if(!s.isMoved){if(b&&x&&e.loopFix({direction:e.swipeDirection}),s.startTranslate=e.getTranslate(),e.setTransition(0),e.animating){const S=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});e.wrapperEl.dispatchEvent(S)}s.allowMomentumBounce=!1,a.grabCursor&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!0),e.emit("sliderFirstMove",l)}if(new Date().getTime(),a._loopSwapReset!==!1&&s.isMoved&&s.allowThresholdMove&&p!==e.touchesDirection&&b&&x&&Math.abs(A)>=1){Object.assign(i,{startX:u,startY:f,currentX:u,currentY:f,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,s.startTranslate=s.currentTranslate;return}e.emit("sliderMove",l),s.isMoved=!0,s.currentTranslate=A+s.startTranslate;let v=!0,y=a.resistanceRatio;if(a.touchReleaseOnEdges&&(y=0),A>0?(b&&x&&s.allowThresholdMove&&s.currentTranslate>(a.centeredSlides?e.minTranslate()-e.slidesSizesGrid[e.activeIndex+1]-(a.slidesPerView!=="auto"&&e.slides.length-a.slidesPerView>=2?e.slidesSizesGrid[e.activeIndex+1]+e.params.spaceBetween:0)-e.params.spaceBetween:e.minTranslate())&&e.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>e.minTranslate()&&(v=!1,a.resistance&&(s.currentTranslate=e.minTranslate()-1+(-e.minTranslate()+s.startTranslate+A)**y))):A<0&&(b&&x&&s.allowThresholdMove&&s.currentTranslate<(a.centeredSlides?e.maxTranslate()+e.slidesSizesGrid[e.slidesSizesGrid.length-1]+e.params.spaceBetween+(a.slidesPerView!=="auto"&&e.slides.length-a.slidesPerView>=2?e.slidesSizesGrid[e.slidesSizesGrid.length-1]+e.params.spaceBetween:0):e.maxTranslate())&&e.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:e.slides.length-(a.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(parseFloat(a.slidesPerView,10)))}),s.currentTranslate<e.maxTranslate()&&(v=!1,a.resistance&&(s.currentTranslate=e.maxTranslate()+1-(e.maxTranslate()-s.startTranslate-A)**y))),v&&(l.preventedByNestedSwiper=!0),!e.allowSlideNext&&e.swipeDirection==="next"&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!e.allowSlidePrev&&e.swipeDirection==="prev"&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!e.allowSlidePrev&&!e.allowSlideNext&&(s.currentTranslate=s.startTranslate),a.threshold>0)if(Math.abs(A)>a.threshold||s.allowThresholdMove){if(!s.allowThresholdMove){s.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,s.currentTranslate=s.startTranslate,i.diff=e.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{s.currentTranslate=s.startTranslate;return}!a.followFinger||a.cssMode||((a.freeMode&&a.freeMode.enabled&&e.freeMode||a.watchSlidesProgress)&&(e.updateActiveIndex(),e.updateSlidesClasses()),a.freeMode&&a.freeMode.enabled&&e.freeMode&&e.freeMode.onTouchMove(),e.updateProgress(s.currentTranslate),e.setTranslate(s.currentTranslate))}function Mie(n){const t=this,e=t.touchEventsData;let s=n;s.originalEvent&&(s=s.originalEvent);let a;if(s.type==="touchend"||s.type==="touchcancel"){if(a=[...s.changedTouches].find(S=>S.identifier===e.touchId),!a||a.identifier!==e.touchId)return}else{if(e.touchId!==null||s.pointerId!==e.pointerId)return;a=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)&&!(["pointercancel","contextmenu"].includes(s.type)&&(t.browser.isSafari||t.browser.isWebView)))return;e.pointerId=null,e.touchId=null;const{params:o,touches:c,rtlTranslate:l,slidesGrid:d,enabled:u}=t;if(!u||!o.simulateTouch&&s.pointerType==="mouse")return;if(e.allowTouchCallbacks&&t.emit("touchEnd",s),e.allowTouchCallbacks=!1,!e.isTouched){e.isMoved&&o.grabCursor&&t.setGrabCursor(!1),e.isMoved=!1,e.startMoving=!1;return}o.grabCursor&&e.isMoved&&e.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const f=r0(),h=f-e.touchStartTime;if(t.allowClick){const S=s.path||s.composedPath&&s.composedPath();t.updateClickedSlide(S&&S[0]||s.target,S),t.emit("tap click",s),h<300&&f-e.lastClickTime<300&&t.emit("doubleTap doubleClick",s)}if(e.lastClickTime=r0(),aI(()=>{t.destroyed||(t.allowClick=!0)}),!e.isTouched||!e.isMoved||!t.swipeDirection||c.diff===0&&!e.loopSwapReset||e.currentTranslate===e.startTranslate&&!e.loopSwapReset){e.isTouched=!1,e.isMoved=!1,e.startMoving=!1;return}e.isTouched=!1,e.isMoved=!1,e.startMoving=!1;let m;if(o.followFinger?m=l?t.translate:-t.translate:m=-e.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:m});return}const A=m>=-t.maxTranslate()&&!t.params.loop;let g=0,p=t.slidesSizesGrid[0];for(let S=0;S<d.length;S+=S<o.slidesPerGroupSkip?1:o.slidesPerGroup){const M=S<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof d[S+M]<"u"?(A||m>=d[S]&&m<d[S+M])&&(g=S,p=d[S+M]-d[S]):(A||m>=d[S])&&(g=S,p=d[d.length-1]-d[d.length-2])}let b=null,x=null;o.rewind&&(t.isBeginning?x=o.virtual&&o.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(b=0));const v=(m-d[g])/p,y=g<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(h>o.longSwipesMs){if(!o.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(v>=o.longSwipesRatio?t.slideTo(o.rewind&&t.isEnd?b:g+y):t.slideTo(g)),t.swipeDirection==="prev"&&(v>1-o.longSwipesRatio?t.slideTo(g+y):x!==null&&v<0&&Math.abs(v)>o.longSwipesRatio?t.slideTo(x):t.slideTo(g))}else{if(!o.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(s.target===t.navigation.nextEl||s.target===t.navigation.prevEl)?s.target===t.navigation.nextEl?t.slideTo(g+y):t.slideTo(g):(t.swipeDirection==="next"&&t.slideTo(b!==null?b:g+y),t.swipeDirection==="prev"&&t.slideTo(x!==null?x:g))}}function ES(){const n=this,{params:t,el:e}=n;if(e&&e.offsetWidth===0)return;t.breakpoints&&n.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:a,snapGrid:i}=n,o=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const c=o&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!c?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!o?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=a,n.allowSlideNext=s,n.params.watchOverflow&&i!==n.snapGrid&&n.checkOverflow()}function Pie(n){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&n.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function Die(){const n=this,{wrapperEl:t,rtlTranslate:e,enabled:s}=n;if(!s)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-t.scrollLeft:n.translate=-t.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let a;const i=n.maxTranslate()-n.minTranslate();i===0?a=0:a=(n.translate-n.minTranslate())/i,a!==n.progress&&n.updateProgress(e?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function Iie(n){const t=this;cg(t,n.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}function Oie(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const hI=(n,t)=>{const e=Yi(),{params:s,el:a,wrapperEl:i,device:o}=n,c=!!s.nested,l=t==="on"?"addEventListener":"removeEventListener",d=t;!a||typeof a=="string"||(e[l]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:c}),a[l]("touchstart",n.onTouchStart,{passive:!1}),a[l]("pointerdown",n.onTouchStart,{passive:!1}),e[l]("touchmove",n.onTouchMove,{passive:!1,capture:c}),e[l]("pointermove",n.onTouchMove,{passive:!1,capture:c}),e[l]("touchend",n.onTouchEnd,{passive:!0}),e[l]("pointerup",n.onTouchEnd,{passive:!0}),e[l]("pointercancel",n.onTouchEnd,{passive:!0}),e[l]("touchcancel",n.onTouchEnd,{passive:!0}),e[l]("pointerout",n.onTouchEnd,{passive:!0}),e[l]("pointerleave",n.onTouchEnd,{passive:!0}),e[l]("contextmenu",n.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&a[l]("click",n.onClick,!0),s.cssMode&&i[l]("scroll",n.onScroll),s.updateOnWindowResize?n[d](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",ES,!0):n[d]("observerUpdate",ES,!0),a[l]("load",n.onLoad,{capture:!0}))};function Lie(){const n=this,{params:t}=n;n.onTouchStart=Bie.bind(n),n.onTouchMove=Eie.bind(n),n.onTouchEnd=Mie.bind(n),n.onDocumentTouchStart=Oie.bind(n),t.cssMode&&(n.onScroll=Die.bind(n)),n.onClick=Pie.bind(n),n.onLoad=Iie.bind(n),hI(n,"on")}function Fie(){hI(this,"off")}var Rie={attachEvents:Lie,detachEvents:Fie};const MS=(n,t)=>n.grid&&t.grid&&t.grid.rows>1;function Uie(){const n=this,{realIndex:t,initialized:e,params:s,el:a}=n,i=s.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const o=Yi(),c=s.breakpointsBase==="window"||!s.breakpointsBase?s.breakpointsBase:"container",l=["window","container"].includes(s.breakpointsBase)||!s.breakpointsBase?n.el:o.querySelector(s.breakpointsBase),d=n.getBreakpoint(i,c,l);if(!d||n.currentBreakpoint===d)return;const f=(d in i?i[d]:void 0)||n.originalParams,h=MS(n,s),m=MS(n,f),A=n.params.grabCursor,g=f.grabCursor,p=s.enabled;h&&!m?(a.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),n.emitContainerClasses()):!h&&m&&(a.classList.add(`${s.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&s.grid.fill==="column")&&a.classList.add(`${s.containerModifierClass}grid-column`),n.emitContainerClasses()),A&&!g?n.unsetGrabCursor():!A&&g&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(M=>{if(typeof f[M]>"u")return;const P=s[M]&&s[M].enabled,B=f[M]&&f[M].enabled;P&&!B&&n[M].disable(),!P&&B&&n[M].enable()});const b=f.direction&&f.direction!==s.direction,x=s.loop&&(f.slidesPerView!==s.slidesPerView||b),v=s.loop;b&&e&&n.changeDirection(),ka(n.params,f);const y=n.params.enabled,S=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),p&&!y?n.disable():!p&&y&&n.enable(),n.currentBreakpoint=d,n.emit("_beforeBreakpoint",f),e&&(x?(n.loopDestroy(),n.loopCreate(t),n.updateSlides()):!v&&S?(n.loopCreate(t),n.updateSlides()):v&&!S&&n.loopDestroy()),n.emit("breakpoint",f)}function Hie(n,t,e){if(t===void 0&&(t="window"),!n||t==="container"&&!e)return;let s=!1;const a=aa(),i=t==="window"?a.innerHeight:e.clientHeight,o=Object.keys(n).map(c=>{if(typeof c=="string"&&c.indexOf("@")===0){const l=parseFloat(c.substr(1));return{value:i*l,point:c}}return{value:c,point:c}});o.sort((c,l)=>parseInt(c.value,10)-parseInt(l.value,10));for(let c=0;c<o.length;c+=1){const{point:l,value:d}=o[c];t==="window"?a.matchMedia(`(min-width: ${d}px)`).matches&&(s=l):d<=e.clientWidth&&(s=l)}return s||"max"}var $ie={setBreakpoint:Uie,getBreakpoint:Hie};function Qie(n,t){const e=[];return n.forEach(s=>{typeof s=="object"?Object.keys(s).forEach(a=>{s[a]&&e.push(t+a)}):typeof s=="string"&&e.push(t+s)}),e}function Vie(){const n=this,{classNames:t,params:e,rtl:s,el:a,device:i}=n,o=Qie(["initialized",e.direction,{"free-mode":n.params.freeMode&&e.freeMode.enabled},{autoheight:e.autoHeight},{rtl:s},{grid:e.grid&&e.grid.rows>1},{"grid-column":e.grid&&e.grid.rows>1&&e.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":e.cssMode},{centered:e.cssMode&&e.centeredSlides},{"watch-progress":e.watchSlidesProgress}],e.containerModifierClass);t.push(...o),a.classList.add(...t),n.emitContainerClasses()}function zie(){const n=this,{el:t,classNames:e}=n;!t||typeof t=="string"||(t.classList.remove(...e),n.emitContainerClasses())}var Kie={addClasses:Vie,removeClasses:zie};function Gie(){const n=this,{isLocked:t,params:e}=n,{slidesOffsetBefore:s}=e;if(s){const a=n.slides.length-1,i=n.slidesGrid[a]+n.slidesSizesGrid[a]+s*2;n.isLocked=n.size>i}else n.isLocked=n.snapGrid.length===1;e.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),e.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),t&&t!==n.isLocked&&(n.isEnd=!1),t!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var qie={checkOverflow:Gie},i1={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Wie(n,t){return function(s){s===void 0&&(s={});const a=Object.keys(s)[0],i=s[a];if(typeof i!="object"||i===null){ka(t,s);return}if(n[a]===!0&&(n[a]={enabled:!0}),a==="navigation"&&n[a]&&n[a].enabled&&!n[a].prevEl&&!n[a].nextEl&&(n[a].auto=!0),["pagination","scrollbar"].indexOf(a)>=0&&n[a]&&n[a].enabled&&!n[a].el&&(n[a].auto=!0),!(a in n&&"enabled"in i)){ka(t,s);return}typeof n[a]=="object"&&!("enabled"in n[a])&&(n[a].enabled=!0),n[a]||(n[a]={enabled:!1}),ka(t,s)}}const Ov={eventsEmitter:Kae,update:rie,translate:cie,transition:fie,slide:yie,loop:Nie,grabCursor:kie,events:Rie,breakpoints:$ie,checkOverflow:qie,classes:Kie},Lv={};let oC=class ko{constructor(){let t,e;for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];a.length===1&&a[0].constructor&&Object.prototype.toString.call(a[0]).slice(8,-1)==="Object"?e=a[0]:[t,e]=a,e||(e={}),e=ka({},e),t&&!e.el&&(e.el=t);const o=Yi();if(e.el&&typeof e.el=="string"&&o.querySelectorAll(e.el).length>1){const u=[];return o.querySelectorAll(e.el).forEach(f=>{const h=ka({},e,{el:f});u.push(new ko(h))}),u}const c=this;c.__swiper__=!0,c.support=lI(),c.device=cI({userAgent:e.userAgent}),c.browser=dI(),c.eventsListeners={},c.eventsAnyListeners=[],c.modules=[...c.__modules__],e.modules&&Array.isArray(e.modules)&&c.modules.push(...e.modules);const l={};c.modules.forEach(u=>{u({params:e,swiper:c,extendParams:Wie(e,l),on:c.on.bind(c),once:c.once.bind(c),off:c.off.bind(c),emit:c.emit.bind(c)})});const d=ka({},i1,l);return c.params=ka({},d,Lv,e),c.originalParams=ka({},c.params),c.passedParams=ka({},e),c.params&&c.params.on&&Object.keys(c.params.on).forEach(u=>{c.on(u,c.params.on[u])}),c.params&&c.params.onAny&&c.onAny(c.params.onAny),Object.assign(c,{enabled:c.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return c.params.direction==="horizontal"},isVertical(){return c.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:c.params.allowSlideNext,allowSlidePrev:c.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:c.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:c.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),c.emit("_swiper"),c.params.init&&c.init(),c}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:e,params:s}=this,a=zi(e,`.${s.slideClass}, swiper-slide`),i=i0(a[0]);return i0(t)-i}getSlideIndexByData(t){return this.getSlideIndex(this.slides.find(e=>e.getAttribute("data-swiper-slide-index")*1===t))}getSlideIndexWhenGrid(t){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?t=Math.floor(t/this.params.grid.rows):this.params.grid.fill==="row"&&(t=t%Math.ceil(this.slides.length/this.params.grid.rows))),t}recalcSlides(){const t=this,{slidesEl:e,params:s}=t;t.slides=zi(e,`.${s.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,e){const s=this;t=Math.min(Math.max(t,0),1);const a=s.minTranslate(),o=(s.maxTranslate()-a)*t+a;s.translateTo(o,typeof e>"u"?0:e),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=t.el.className.split(" ").filter(s=>s.indexOf("swiper")===0||s.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",e.join(" "))}getSlideClasses(t){const e=this;return e.destroyed?"":t.className.split(" ").filter(s=>s.indexOf("swiper-slide")===0||s.indexOf(e.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=[];t.slides.forEach(s=>{const a=t.getSlideClasses(s);e.push({slideEl:s,classNames:a}),t.emit("_slideClass",s,a)}),t.emit("_slideClasses",e)}slidesPerViewDynamic(t,e){t===void 0&&(t="current"),e===void 0&&(e=!1);const s=this,{params:a,slides:i,slidesGrid:o,slidesSizesGrid:c,size:l,activeIndex:d}=s;let u=1;if(typeof a.slidesPerView=="number")return a.slidesPerView;if(a.centeredSlides){let f=i[d]?Math.ceil(i[d].swiperSlideSize):0,h;for(let m=d+1;m<i.length;m+=1)i[m]&&!h&&(f+=Math.ceil(i[m].swiperSlideSize),u+=1,f>l&&(h=!0));for(let m=d-1;m>=0;m-=1)i[m]&&!h&&(f+=i[m].swiperSlideSize,u+=1,f>l&&(h=!0))}else if(t==="current")for(let f=d+1;f<i.length;f+=1)(e?o[f]+c[f]-o[d]<l:o[f]-o[d]<l)&&(u+=1);else for(let f=d-1;f>=0;f-=1)o[d]-o[f]<l&&(u+=1);return u}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:e,params:s}=t;s.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&cg(t,o)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function a(){const o=t.rtlTranslate?t.translate*-1:t.translate,c=Math.min(Math.max(o,t.maxTranslate()),t.minTranslate());t.setTranslate(c),t.updateActiveIndex(),t.updateSlidesClasses()}let i;if(s.freeMode&&s.freeMode.enabled&&!s.cssMode)a(),s.autoHeight&&t.updateAutoHeight();else{if((s.slidesPerView==="auto"||s.slidesPerView>1)&&t.isEnd&&!s.centeredSlides){const o=t.virtual&&s.virtual.enabled?t.virtual.slides:t.slides;i=t.slideTo(o.length-1,0,!1,!0)}else i=t.slideTo(t.activeIndex,0,!1,!0);i||a()}s.watchOverflow&&e!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,e){e===void 0&&(e=!0);const s=this,a=s.params.direction;return t||(t=a==="horizontal"?"vertical":"horizontal"),t===a||t!=="horizontal"&&t!=="vertical"||(s.el.classList.remove(`${s.params.containerModifierClass}${a}`),s.el.classList.add(`${s.params.containerModifierClass}${t}`),s.emitContainerClasses(),s.params.direction=t,s.slides.forEach(i=>{t==="vertical"?i.style.width="":i.style.height=""}),s.emit("changeDirection"),e&&s.update()),s}changeLanguageDirection(t){const e=this;e.rtl&&t==="rtl"||!e.rtl&&t==="ltr"||(e.rtl=t==="rtl",e.rtlTranslate=e.params.direction==="horizontal"&&e.rtl,e.rtl?(e.el.classList.add(`${e.params.containerModifierClass}rtl`),e.el.dir="rtl"):(e.el.classList.remove(`${e.params.containerModifierClass}rtl`),e.el.dir="ltr"),e.update())}mount(t){const e=this;if(e.mounted)return!0;let s=t||e.params.el;if(typeof s=="string"&&(s=document.querySelector(s)),!s)return!1;s.swiper=e,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName===e.params.swiperElementNodeName.toUpperCase()&&(e.isElement=!0);const a=()=>`.${(e.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=s&&s.shadowRoot&&s.shadowRoot.querySelector?s.shadowRoot.querySelector(a()):zi(s,a())[0];return!o&&e.params.createElements&&(o=a0("div",e.params.wrapperClass),s.append(o),zi(s,`.${e.params.slideClass}`).forEach(c=>{o.append(c)})),Object.assign(e,{el:s,wrapperEl:o,slidesEl:e.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:o,hostEl:e.isElement?s.parentNode.host:s,mounted:!0,rtl:s.dir.toLowerCase()==="rtl"||Dl(s,"direction")==="rtl",rtlTranslate:e.params.direction==="horizontal"&&(s.dir.toLowerCase()==="rtl"||Dl(s,"direction")==="rtl"),wrongRTL:Dl(o,"display")==="-webkit-box"}),!0}init(t){const e=this;if(e.initialized||e.mount(t)===!1)return e;e.emit("beforeInit"),e.params.breakpoints&&e.setBreakpoint(),e.addClasses(),e.updateSize(),e.updateSlides(),e.params.watchOverflow&&e.checkOverflow(),e.params.grabCursor&&e.enabled&&e.setGrabCursor(),e.params.loop&&e.virtual&&e.params.virtual.enabled?e.slideTo(e.params.initialSlide+e.virtual.slidesBefore,0,e.params.runCallbacksOnInit,!1,!0):e.slideTo(e.params.initialSlide,0,e.params.runCallbacksOnInit,!1,!0),e.params.loop&&e.loopCreate(void 0,!0),e.attachEvents();const a=[...e.el.querySelectorAll('[loading="lazy"]')];return e.isElement&&a.push(...e.hostEl.querySelectorAll('[loading="lazy"]')),a.forEach(i=>{i.complete?cg(e,i):i.addEventListener("load",o=>{cg(e,o.target)})}),a1(e),e.initialized=!0,a1(e),e.emit("init"),e.emit("afterInit"),e}destroy(t,e){t===void 0&&(t=!0),e===void 0&&(e=!0);const s=this,{params:a,el:i,wrapperEl:o,slides:c}=s;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),a.loop&&s.loopDestroy(),e&&(s.removeClasses(),i&&typeof i!="string"&&i.removeAttribute("style"),o&&o.removeAttribute("style"),c&&c.length&&c.forEach(l=>{l.classList.remove(a.slideVisibleClass,a.slideFullyVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(l=>{s.off(l)}),t!==!1&&(s.el&&typeof s.el!="string"&&(s.el.swiper=null),Pae(s)),s.destroyed=!0),null}static extendDefaults(t){ka(Lv,t)}static get extendedDefaults(){return Lv}static get defaults(){return i1}static installModule(t){ko.prototype.__modules__||(ko.prototype.__modules__=[]);const e=ko.prototype.__modules__;typeof t=="function"&&e.indexOf(t)<0&&e.push(t)}static use(t){return Array.isArray(t)?(t.forEach(e=>ko.installModule(e)),ko):(ko.installModule(t),ko)}};Object.keys(Ov).forEach(n=>{Object.keys(Ov[n]).forEach(t=>{oC.prototype[t]=Ov[n][t]})});oC.use([Vae,zae]);const fI=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Ad(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function xu(n,t){const e=["__proto__","constructor","prototype"];Object.keys(t).filter(s=>e.indexOf(s)<0).forEach(s=>{typeof n[s]>"u"?n[s]=t[s]:Ad(t[s])&&Ad(n[s])&&Object.keys(t[s]).length>0?t[s].__swiper__?n[s]=t[s]:xu(n[s],t[s]):n[s]=t[s]})}function mI(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function pI(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function AI(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function gI(n){n===void 0&&(n="");const t=n.split(" ").map(s=>s.trim()).filter(s=>!!s),e=[];return t.forEach(s=>{e.indexOf(s)<0&&e.push(s)}),e.join(" ")}function Xie(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function Yie(n){let{swiper:t,slides:e,passedParams:s,changedParams:a,nextEl:i,prevEl:o,scrollbarEl:c,paginationEl:l}=n;const d=a.filter(D=>D!=="children"&&D!=="direction"&&D!=="wrapperClass"),{params:u,pagination:f,navigation:h,scrollbar:m,virtual:A,thumbs:g}=t;let p,b,x,v,y,S,M,P;a.includes("thumbs")&&s.thumbs&&s.thumbs.swiper&&!s.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(p=!0),a.includes("controller")&&s.controller&&s.controller.control&&u.controller&&!u.controller.control&&(b=!0),a.includes("pagination")&&s.pagination&&(s.pagination.el||l)&&(u.pagination||u.pagination===!1)&&f&&!f.el&&(x=!0),a.includes("scrollbar")&&s.scrollbar&&(s.scrollbar.el||c)&&(u.scrollbar||u.scrollbar===!1)&&m&&!m.el&&(v=!0),a.includes("navigation")&&s.navigation&&(s.navigation.prevEl||o)&&(s.navigation.nextEl||i)&&(u.navigation||u.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(y=!0);const B=D=>{t[D]&&(t[D].destroy(),D==="navigation"?(t.isElement&&(t[D].prevEl.remove(),t[D].nextEl.remove()),u[D].prevEl=void 0,u[D].nextEl=void 0,t[D].prevEl=void 0,t[D].nextEl=void 0):(t.isElement&&t[D].el.remove(),u[D].el=void 0,t[D].el=void 0))};a.includes("loop")&&t.isElement&&(u.loop&&!s.loop?S=!0:!u.loop&&s.loop?M=!0:P=!0),d.forEach(D=>{if(Ad(u[D])&&Ad(s[D]))Object.assign(u[D],s[D]),(D==="navigation"||D==="pagination"||D==="scrollbar")&&"enabled"in s[D]&&!s[D].enabled&&B(D);else{const L=s[D];(L===!0||L===!1)&&(D==="navigation"||D==="pagination"||D==="scrollbar")?L===!1&&B(D):u[D]=s[D]}}),d.includes("controller")&&!b&&t.controller&&t.controller.control&&u.controller&&u.controller.control&&(t.controller.control=u.controller.control),a.includes("children")&&e&&A&&u.virtual.enabled?(A.slides=e,A.update(!0)):a.includes("virtual")&&A&&u.virtual.enabled&&(e&&(A.slides=e),A.update(!0)),a.includes("children")&&e&&u.loop&&(P=!0),p&&g.init()&&g.update(!0),b&&(t.controller.control=u.controller.control),x&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),t.el.appendChild(l)),l&&(u.pagination.el=l),f.init(),f.render(),f.update()),v&&(t.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-scrollbar"),c.part.add("scrollbar"),t.el.appendChild(c)),c&&(u.scrollbar.el=c),m.init(),m.updateSize(),m.setTranslate()),y&&(t.isElement&&((!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-next"),o0(i,t.hostEl.constructor.nextButtonSvg),i.part.add("button-next"),t.el.appendChild(i)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o0(o,t.hostEl.constructor.prevButtonSvg),o.part.add("button-prev"),t.el.appendChild(o))),i&&(u.navigation.nextEl=i),o&&(u.navigation.prevEl=o),h.init(),h.update()),a.includes("allowSlideNext")&&(t.allowSlideNext=s.allowSlideNext),a.includes("allowSlidePrev")&&(t.allowSlidePrev=s.allowSlidePrev),a.includes("direction")&&t.changeDirection(s.direction,!1),(S||P)&&t.loopDestroy(),(M||P)&&t.loopCreate(),t.update()}function Jie(n,t){n===void 0&&(n={}),t===void 0&&(t=!0);const e={on:{}},s={},a={};xu(e,i1),e._emitClasses=!0,e.init=!1;const i={},o=fI.map(l=>l.replace(/_/,"")),c=Object.assign({},n);return Object.keys(c).forEach(l=>{typeof n[l]>"u"||(o.indexOf(l)>=0?Ad(n[l])?(e[l]={},a[l]={},xu(e[l],n[l]),xu(a[l],n[l])):(e[l]=n[l],a[l]=n[l]):l.search(/on[A-Z]/)===0&&typeof n[l]=="function"?t?s[`${l[2].toLowerCase()}${l.substr(3)}`]=n[l]:e.on[`${l[2].toLowerCase()}${l.substr(3)}`]=n[l]:i[l]=n[l])}),["navigation","pagination","scrollbar"].forEach(l=>{e[l]===!0&&(e[l]={}),e[l]===!1&&delete e[l]}),{params:e,passedParams:a,rest:i,events:s}}function Zie(n,t){let{el:e,nextEl:s,prevEl:a,paginationEl:i,scrollbarEl:o,swiper:c}=n;mI(t)&&s&&a&&(c.params.navigation.nextEl=s,c.originalParams.navigation.nextEl=s,c.params.navigation.prevEl=a,c.originalParams.navigation.prevEl=a),pI(t)&&i&&(c.params.pagination.el=i,c.originalParams.pagination.el=i),AI(t)&&o&&(c.params.scrollbar.el=o,c.originalParams.scrollbar.el=o),c.init(e)}function eoe(n,t,e,s,a){const i=[];if(!t)return i;const o=l=>{i.indexOf(l)<0&&i.push(l)};if(e&&s){const l=s.map(a),d=e.map(a);l.join("")!==d.join("")&&o("children"),s.length!==e.length&&o("children")}return fI.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in n&&l in t)if(Ad(n[l])&&Ad(t[l])){const d=Object.keys(n[l]),u=Object.keys(t[l]);d.length!==u.length?o(l):(d.forEach(f=>{n[l][f]!==t[l][f]&&o(l)}),u.forEach(f=>{n[l][f]!==t[l][f]&&o(l)}))}else n[l]!==t[l]&&o(l)}),i}const toe=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.emit("_virtualUpdated"),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function l0(){return l0=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},l0.apply(this,arguments)}function xI(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function bI(n){const t=[];return Ne.Children.toArray(n).forEach(e=>{xI(e)?t.push(e):e.props&&e.props.children&&bI(e.props.children).forEach(s=>t.push(s))}),t}function noe(n){const t=[],e={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Ne.Children.toArray(n).forEach(s=>{if(xI(s))t.push(s);else if(s.props&&s.props.slot&&e[s.props.slot])e[s.props.slot].push(s);else if(s.props&&s.props.children){const a=bI(s.props.children);a.length>0?a.forEach(i=>t.push(i)):e["container-end"].push(s)}else e["container-end"].push(s)}),{slides:t,slots:e}}function roe(n,t,e){if(!e)return null;const s=u=>{let f=u;return u<0?f=t.length+u:f>=t.length&&(f=f-t.length),f},a=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${e.offset}px`}:{top:`${e.offset}px`},{from:i,to:o}=e,c=n.params.loop?-t.length:0,l=n.params.loop?t.length*2:t.length,d=[];for(let u=c;u<l;u+=1)u>=i&&u<=o&&d.push(t[s(u)]);return d.map((u,f)=>Ne.cloneElement(u,{swiper:n,style:a,key:u.props.virtualIndex||u.key||`slide-${f}`}))}function Mf(n,t){return typeof window>"u"?k.useEffect(n,t):k.useLayoutEffect(n,t)}const PS=k.createContext(null),soe=k.createContext(null),vI=k.forwardRef(function(n,t){let{className:e,tag:s="div",wrapperTag:a="div",children:i,onSwiper:o,...c}=n===void 0?{}:n,l=!1;const[d,u]=k.useState("swiper"),[f,h]=k.useState(null),[m,A]=k.useState(!1),g=k.useRef(!1),p=k.useRef(null),b=k.useRef(null),x=k.useRef(null),v=k.useRef(null),y=k.useRef(null),S=k.useRef(null),M=k.useRef(null),P=k.useRef(null),{params:B,passedParams:D,rest:L,events:O}=Jie(c),{slides:F,slots:_}=noe(i),E=()=>{A(!m)};Object.assign(B.on,{_containerClasses(N,I){u(I)}});const T=()=>{Object.assign(B.on,O),l=!0;const N={...B};if(delete N.wrapperClass,b.current=new oC(N),b.current.virtual&&b.current.params.virtual.enabled){b.current.virtual.slides=F;const I={cache:!1,slides:F,renderExternal:h,renderExternalUpdate:!1};xu(b.current.params.virtual,I),xu(b.current.originalParams.virtual,I)}};p.current||T(),b.current&&b.current.on("_beforeBreakpoint",E);const w=()=>{l||!O||!b.current||Object.keys(O).forEach(N=>{b.current.on(N,O[N])})},C=()=>{!O||!b.current||Object.keys(O).forEach(N=>{b.current.off(N,O[N])})};k.useEffect(()=>()=>{b.current&&b.current.off("_beforeBreakpoint",E)}),k.useEffect(()=>{!g.current&&b.current&&(b.current.emitSlidesClasses(),g.current=!0)}),Mf(()=>{if(t&&(t.current=p.current),!!p.current)return b.current.destroyed&&T(),Zie({el:p.current,nextEl:y.current,prevEl:S.current,paginationEl:M.current,scrollbarEl:P.current,swiper:b.current},B),o&&!b.current.destroyed&&o(b.current),()=>{b.current&&!b.current.destroyed&&b.current.destroy(!0,!1)}},[]),Mf(()=>{w();const N=eoe(D,x.current,F,v.current,I=>I.key);return x.current=D,v.current=F,N.length&&b.current&&!b.current.destroyed&&Yie({swiper:b.current,slides:F,passedParams:D,changedParams:N,nextEl:y.current,prevEl:S.current,scrollbarEl:P.current,paginationEl:M.current}),()=>{C()}}),Mf(()=>{toe(b.current)},[f]);function j(){return B.virtual?roe(b.current,F,f):F.map((N,I)=>Ne.cloneElement(N,{swiper:b.current,swiperSlideIndex:I}))}return Ne.createElement(s,l0({ref:p,className:gI(`${d}${e?` ${e}`:""}`)},L),Ne.createElement(soe.Provider,{value:b.current},_["container-start"],Ne.createElement(a,{className:Xie(B.wrapperClass)},_["wrapper-start"],j(),_["wrapper-end"]),mI(B)&&Ne.createElement(Ne.Fragment,null,Ne.createElement("div",{ref:S,className:"swiper-button-prev"}),Ne.createElement("div",{ref:y,className:"swiper-button-next"})),AI(B)&&Ne.createElement("div",{ref:P,className:"swiper-scrollbar"}),pI(B)&&Ne.createElement("div",{ref:M,className:"swiper-pagination"}),_["container-end"]))});vI.displayName="Swiper";const yI=k.forwardRef(function(n,t){let{tag:e="div",children:s,className:a="",swiper:i,zoom:o,lazy:c,virtualIndex:l,swiperSlideIndex:d,...u}=n===void 0?{}:n;const f=k.useRef(null),[h,m]=k.useState("swiper-slide"),[A,g]=k.useState(!1);function p(y,S,M){S===f.current&&m(M)}Mf(()=>{if(typeof d<"u"&&(f.current.swiperSlideIndex=d),t&&(t.current=f.current),!(!f.current||!i)){if(i.destroyed){h!=="swiper-slide"&&m("swiper-slide");return}return i.on("_slideClass",p),()=>{i&&i.off("_slideClass",p)}}}),Mf(()=>{i&&f.current&&!i.destroyed&&m(i.getSlideClasses(f.current))},[i]);const b={isActive:h.indexOf("swiper-slide-active")>=0,isVisible:h.indexOf("swiper-slide-visible")>=0,isPrev:h.indexOf("swiper-slide-prev")>=0,isNext:h.indexOf("swiper-slide-next")>=0},x=()=>typeof s=="function"?s(b):s,v=()=>{g(!0)};return Ne.createElement(e,l0({ref:f,className:gI(`${h}${a?` ${a}`:""}`),"data-swiper-slide-index":l,onLoad:v},u),o&&Ne.createElement(PS.Provider,{value:b},Ne.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},x(),c&&!A&&Ne.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&Ne.createElement(PS.Provider,{value:b},x(),c&&!A&&Ne.createElement("div",{className:"swiper-lazy-preloader"})))});yI.displayName="SwiperSlide";function wI(n,t,e,s){return n.params.createElements&&Object.keys(s).forEach(a=>{if(!e[a]&&e.auto===!0){let i=zi(n.el,`.${s[a]}`)[0];i||(i=a0("div",s[a]),i.className=s[a],n.el.append(i)),e[a]=i,t[a]=i}}),e}function aoe(n){let{swiper:t,extendParams:e,on:s,emit:a}=n;e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};function i(A){let g;return A&&typeof A=="string"&&t.isElement&&(g=t.el.querySelector(A)||t.hostEl.querySelector(A),g)?g:(A&&(typeof A=="string"&&(g=[...document.querySelectorAll(A)]),t.params.uniqueNavElements&&typeof A=="string"&&g&&g.length>1&&t.el.querySelectorAll(A).length===1?g=t.el.querySelector(A):g&&g.length===1&&(g=g[0])),A&&!g?A:g)}function o(A,g){const p=t.params.navigation;A=xs(A),A.forEach(b=>{b&&(b.classList[g?"add":"remove"](...p.disabledClass.split(" ")),b.tagName==="BUTTON"&&(b.disabled=g),t.params.watchOverflow&&t.enabled&&b.classList[t.isLocked?"add":"remove"](p.lockClass))})}function c(){const{nextEl:A,prevEl:g}=t.navigation;if(t.params.loop){o(g,!1),o(A,!1);return}o(g,t.isBeginning&&!t.params.rewind),o(A,t.isEnd&&!t.params.rewind)}function l(A){A.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),a("navigationPrev"))}function d(A){A.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),a("navigationNext"))}function u(){const A=t.params.navigation;if(t.params.navigation=wI(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(A.nextEl||A.prevEl))return;let g=i(A.nextEl),p=i(A.prevEl);Object.assign(t.navigation,{nextEl:g,prevEl:p}),g=xs(g),p=xs(p);const b=(x,v)=>{x&&x.addEventListener("click",v==="next"?d:l),!t.enabled&&x&&x.classList.add(...A.lockClass.split(" "))};g.forEach(x=>b(x,"next")),p.forEach(x=>b(x,"prev"))}function f(){let{nextEl:A,prevEl:g}=t.navigation;A=xs(A),g=xs(g);const p=(b,x)=>{b.removeEventListener("click",x==="next"?d:l),b.classList.remove(...t.params.navigation.disabledClass.split(" "))};A.forEach(b=>p(b,"next")),g.forEach(b=>p(b,"prev"))}s("init",()=>{t.params.navigation.enabled===!1?m():(u(),c())}),s("toEdge fromEdge lock unlock",()=>{c()}),s("destroy",()=>{f()}),s("enable disable",()=>{let{nextEl:A,prevEl:g}=t.navigation;if(A=xs(A),g=xs(g),t.enabled){c();return}[...A,...g].filter(p=>!!p).forEach(p=>p.classList.add(t.params.navigation.lockClass))}),s("click",(A,g)=>{let{nextEl:p,prevEl:b}=t.navigation;p=xs(p),b=xs(b);const x=g.target;let v=b.includes(x)||p.includes(x);if(t.isElement&&!v){const y=g.path||g.composedPath&&g.composedPath();y&&(v=y.find(S=>p.includes(S)||b.includes(S)))}if(t.params.navigation.hideOnClick&&!v){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===x||t.pagination.el.contains(x)))return;let y;p.length?y=p[0].classList.contains(t.params.navigation.hiddenClass):b.length&&(y=b[0].classList.contains(t.params.navigation.hiddenClass)),a(y===!0?"navigationShow":"navigationHide"),[...p,...b].filter(S=>!!S).forEach(S=>S.classList.toggle(t.params.navigation.hiddenClass))}});const h=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),u(),c()},m=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(t.navigation,{enable:h,disable:m,update:c,init:u,destroy:f})}function Fh(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function ioe(n){let{swiper:t,extendParams:e,on:s,emit:a}=n;const i="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:x=>x,formatFractionTotal:x=>x,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),t.pagination={el:null,bullets:[]};let o,c=0;function l(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&t.pagination.el.length===0}function d(x,v){const{bulletActiveClass:y}=t.params.pagination;x&&(x=x[`${v==="prev"?"previous":"next"}ElementSibling`],x&&(x.classList.add(`${y}-${v}`),x=x[`${v==="prev"?"previous":"next"}ElementSibling`],x&&x.classList.add(`${y}-${v}-${v}`)))}function u(x,v,y){if(x=x%y,v=v%y,v===x+1)return"next";if(v===x-1)return"previous"}function f(x){const v=x.target.closest(Fh(t.params.pagination.bulletClass));if(!v)return;x.preventDefault();const y=i0(v)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===y)return;const S=u(t.realIndex,y,t.slides.length);S==="next"?t.slideNext():S==="previous"?t.slidePrev():t.slideToLoop(y)}else t.slideTo(y)}function h(){const x=t.rtl,v=t.params.pagination;if(l())return;let y=t.pagination.el;y=xs(y);let S,M;const P=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,B=t.params.loop?Math.ceil(P/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(M=t.previousRealIndex||0,S=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):typeof t.snapIndex<"u"?(S=t.snapIndex,M=t.previousSnapIndex):(M=t.previousIndex||0,S=t.activeIndex||0),v.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const D=t.pagination.bullets;let L,O,F;if(v.dynamicBullets&&(o=s1(D[0],t.isHorizontal()?"width":"height"),y.forEach(_=>{_.style[t.isHorizontal()?"width":"height"]=`${o*(v.dynamicMainBullets+4)}px`}),v.dynamicMainBullets>1&&M!==void 0&&(c+=S-(M||0),c>v.dynamicMainBullets-1?c=v.dynamicMainBullets-1:c<0&&(c=0)),L=Math.max(S-c,0),O=L+(Math.min(D.length,v.dynamicMainBullets)-1),F=(O+L)/2),D.forEach(_=>{const E=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(T=>`${v.bulletActiveClass}${T}`)].map(T=>typeof T=="string"&&T.includes(" ")?T.split(" "):T).flat();_.classList.remove(...E)}),y.length>1)D.forEach(_=>{const E=i0(_);E===S?_.classList.add(...v.bulletActiveClass.split(" ")):t.isElement&&_.setAttribute("part","bullet"),v.dynamicBullets&&(E>=L&&E<=O&&_.classList.add(...`${v.bulletActiveClass}-main`.split(" ")),E===L&&d(_,"prev"),E===O&&d(_,"next"))});else{const _=D[S];if(_&&_.classList.add(...v.bulletActiveClass.split(" ")),t.isElement&&D.forEach((E,T)=>{E.setAttribute("part",T===S?"bullet-active":"bullet")}),v.dynamicBullets){const E=D[L],T=D[O];for(let w=L;w<=O;w+=1)D[w]&&D[w].classList.add(...`${v.bulletActiveClass}-main`.split(" "));d(E,"prev"),d(T,"next")}}if(v.dynamicBullets){const _=Math.min(D.length,v.dynamicMainBullets+4),E=(o*_-o)/2-F*o,T=x?"right":"left";D.forEach(w=>{w.style[t.isHorizontal()?T:"top"]=`${E}px`})}}y.forEach((D,L)=>{if(v.type==="fraction"&&(D.querySelectorAll(Fh(v.currentClass)).forEach(O=>{O.textContent=v.formatFractionCurrent(S+1)}),D.querySelectorAll(Fh(v.totalClass)).forEach(O=>{O.textContent=v.formatFractionTotal(B)})),v.type==="progressbar"){let O;v.progressbarOpposite?O=t.isHorizontal()?"vertical":"horizontal":O=t.isHorizontal()?"horizontal":"vertical";const F=(S+1)/B;let _=1,E=1;O==="horizontal"?_=F:E=F,D.querySelectorAll(Fh(v.progressbarFillClass)).forEach(T=>{T.style.transform=`translate3d(0,0,0) scaleX(${_}) scaleY(${E})`,T.style.transitionDuration=`${t.params.speed}ms`})}v.type==="custom"&&v.renderCustom?(o0(D,v.renderCustom(t,S+1,B)),L===0&&a("paginationRender",D)):(L===0&&a("paginationRender",D),a("paginationUpdate",D)),t.params.watchOverflow&&t.enabled&&D.classList[t.isLocked?"add":"remove"](v.lockClass)})}function m(){const x=t.params.pagination;if(l())return;const v=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let y=t.pagination.el;y=xs(y);let S="";if(x.type==="bullets"){let M=t.params.loop?Math.ceil(v/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&M>v&&(M=v);for(let P=0;P<M;P+=1)x.renderBullet?S+=x.renderBullet.call(t,P,x.bulletClass):S+=`<${x.bulletElement} ${t.isElement?'part="bullet"':""} class="${x.bulletClass}"></${x.bulletElement}>`}x.type==="fraction"&&(x.renderFraction?S=x.renderFraction.call(t,x.currentClass,x.totalClass):S=`<span class="${x.currentClass}"></span> / <span class="${x.totalClass}"></span>`),x.type==="progressbar"&&(x.renderProgressbar?S=x.renderProgressbar.call(t,x.progressbarFillClass):S=`<span class="${x.progressbarFillClass}"></span>`),t.pagination.bullets=[],y.forEach(M=>{x.type!=="custom"&&o0(M,S||""),x.type==="bullets"&&t.pagination.bullets.push(...M.querySelectorAll(Fh(x.bulletClass)))}),x.type!=="custom"&&a("paginationRender",y[0])}function A(){t.params.pagination=wI(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const x=t.params.pagination;if(!x.el)return;let v;typeof x.el=="string"&&t.isElement&&(v=t.el.querySelector(x.el)),!v&&typeof x.el=="string"&&(v=[...document.querySelectorAll(x.el)]),v||(v=x.el),!(!v||v.length===0)&&(t.params.uniqueNavElements&&typeof x.el=="string"&&Array.isArray(v)&&v.length>1&&(v=[...t.el.querySelectorAll(x.el)],v.length>1&&(v=v.find(y=>oI(y,".swiper")[0]===t.el))),Array.isArray(v)&&v.length===1&&(v=v[0]),Object.assign(t.pagination,{el:v}),v=xs(v),v.forEach(y=>{x.type==="bullets"&&x.clickable&&y.classList.add(...(x.clickableClass||"").split(" ")),y.classList.add(x.modifierClass+x.type),y.classList.add(t.isHorizontal()?x.horizontalClass:x.verticalClass),x.type==="bullets"&&x.dynamicBullets&&(y.classList.add(`${x.modifierClass}${x.type}-dynamic`),c=0,x.dynamicMainBullets<1&&(x.dynamicMainBullets=1)),x.type==="progressbar"&&x.progressbarOpposite&&y.classList.add(x.progressbarOppositeClass),x.clickable&&y.addEventListener("click",f),t.enabled||y.classList.add(x.lockClass)}))}function g(){const x=t.params.pagination;if(l())return;let v=t.pagination.el;v&&(v=xs(v),v.forEach(y=>{y.classList.remove(x.hiddenClass),y.classList.remove(x.modifierClass+x.type),y.classList.remove(t.isHorizontal()?x.horizontalClass:x.verticalClass),x.clickable&&(y.classList.remove(...(x.clickableClass||"").split(" ")),y.removeEventListener("click",f))})),t.pagination.bullets&&t.pagination.bullets.forEach(y=>y.classList.remove(...x.bulletActiveClass.split(" ")))}s("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const x=t.params.pagination;let{el:v}=t.pagination;v=xs(v),v.forEach(y=>{y.classList.remove(x.horizontalClass,x.verticalClass),y.classList.add(t.isHorizontal()?x.horizontalClass:x.verticalClass)})}),s("init",()=>{t.params.pagination.enabled===!1?b():(A(),m(),h())}),s("activeIndexChange",()=>{typeof t.snapIndex>"u"&&h()}),s("snapIndexChange",()=>{h()}),s("snapGridLengthChange",()=>{m(),h()}),s("destroy",()=>{g()}),s("enable disable",()=>{let{el:x}=t.pagination;x&&(x=xs(x),x.forEach(v=>v.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),s("lock unlock",()=>{h()}),s("click",(x,v)=>{const y=v.target,S=xs(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&S&&S.length>0&&!y.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&y===t.navigation.nextEl||t.navigation.prevEl&&y===t.navigation.prevEl))return;const M=S[0].classList.contains(t.params.pagination.hiddenClass);a(M===!0?"paginationShow":"paginationHide"),S.forEach(P=>P.classList.toggle(t.params.pagination.hiddenClass))}});const p=()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:x}=t.pagination;x&&(x=xs(x),x.forEach(v=>v.classList.remove(t.params.pagination.paginationDisabledClass))),A(),m(),h()},b=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:x}=t.pagination;x&&(x=xs(x),x.forEach(v=>v.classList.add(t.params.pagination.paginationDisabledClass))),g()};Object.assign(t.pagination,{enable:p,disable:b,render:m,update:h,init:A,destroy:g})}function ooe(n){let{swiper:t,extendParams:e,on:s,emit:a,params:i}=n;t.autoplay={running:!1,paused:!1,timeLeft:0},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,c,l=i&&i.autoplay?i.autoplay.delay:3e3,d=i&&i.autoplay?i.autoplay.delay:3e3,u,f=new Date().getTime(),h,m,A,g,p,b,x;function v(j){!t||t.destroyed||!t.wrapperEl||j.target===t.wrapperEl&&(t.wrapperEl.removeEventListener("transitionend",v),!(x||j.detail&&j.detail.bySwiperTouchMove)&&L())}const y=()=>{if(t.destroyed||!t.autoplay.running)return;t.autoplay.paused?h=!0:h&&(d=u,h=!1);const j=t.autoplay.paused?u:f+d-new Date().getTime();t.autoplay.timeLeft=j,a("autoplayTimeLeft",j,j/l),c=requestAnimationFrame(()=>{y()})},S=()=>{let j;return t.virtual&&t.params.virtual.enabled?j=t.slides.find(I=>I.classList.contains("swiper-slide-active")):j=t.slides[t.activeIndex],j?parseInt(j.getAttribute("data-swiper-autoplay"),10):void 0},M=j=>{if(t.destroyed||!t.autoplay.running)return;cancelAnimationFrame(c),y();let N=typeof j>"u"?t.params.autoplay.delay:j;l=t.params.autoplay.delay,d=t.params.autoplay.delay;const I=S();!Number.isNaN(I)&&I>0&&typeof j>"u"&&(N=I,l=I,d=I),u=N;const R=t.params.speed,U=()=>{!t||t.destroyed||(t.params.autoplay.reverseDirection?!t.isBeginning||t.params.loop||t.params.rewind?(t.slidePrev(R,!0,!0),a("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(t.slides.length-1,R,!0,!0),a("autoplay")):!t.isEnd||t.params.loop||t.params.rewind?(t.slideNext(R,!0,!0),a("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(0,R,!0,!0),a("autoplay")),t.params.cssMode&&(f=new Date().getTime(),requestAnimationFrame(()=>{M()})))};return N>0?(clearTimeout(o),o=setTimeout(()=>{U()},N)):requestAnimationFrame(()=>{U()}),N},P=()=>{f=new Date().getTime(),t.autoplay.running=!0,M(),a("autoplayStart")},B=()=>{t.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(c),a("autoplayStop")},D=(j,N)=>{if(t.destroyed||!t.autoplay.running)return;clearTimeout(o),j||(b=!0);const I=()=>{a("autoplayPause"),t.params.autoplay.waitForTransition?t.wrapperEl.addEventListener("transitionend",v):L()};if(t.autoplay.paused=!0,N){p&&(u=t.params.autoplay.delay),p=!1,I();return}u=(u||t.params.autoplay.delay)-(new Date().getTime()-f),!(t.isEnd&&u<0&&!t.params.loop)&&(u<0&&(u=0),I())},L=()=>{t.isEnd&&u<0&&!t.params.loop||t.destroyed||!t.autoplay.running||(f=new Date().getTime(),b?(b=!1,M(u)):M(),t.autoplay.paused=!1,a("autoplayResume"))},O=()=>{if(t.destroyed||!t.autoplay.running)return;const j=Yi();j.visibilityState==="hidden"&&(b=!0,D(!0)),j.visibilityState==="visible"&&L()},F=j=>{j.pointerType==="mouse"&&(b=!0,x=!0,!(t.animating||t.autoplay.paused)&&D(!0))},_=j=>{j.pointerType==="mouse"&&(x=!1,t.autoplay.paused&&L())},E=()=>{t.params.autoplay.pauseOnMouseEnter&&(t.el.addEventListener("pointerenter",F),t.el.addEventListener("pointerleave",_))},T=()=>{t.el&&typeof t.el!="string"&&(t.el.removeEventListener("pointerenter",F),t.el.removeEventListener("pointerleave",_))},w=()=>{Yi().addEventListener("visibilitychange",O)},C=()=>{Yi().removeEventListener("visibilitychange",O)};s("init",()=>{t.params.autoplay.enabled&&(E(),w(),P())}),s("destroy",()=>{T(),C(),t.autoplay.running&&B()}),s("_freeModeStaticRelease",()=>{(A||b)&&L()}),s("_freeModeNoMomentumRelease",()=>{t.params.autoplay.disableOnInteraction?B():D(!0,!0)}),s("beforeTransitionStart",(j,N,I)=>{t.destroyed||!t.autoplay.running||(I||!t.params.autoplay.disableOnInteraction?D(!0,!0):B())}),s("sliderFirstMove",()=>{if(!(t.destroyed||!t.autoplay.running)){if(t.params.autoplay.disableOnInteraction){B();return}m=!0,A=!1,b=!1,g=setTimeout(()=>{b=!0,A=!0,D(!0)},200)}}),s("touchEnd",()=>{if(!(t.destroyed||!t.autoplay.running||!m)){if(clearTimeout(g),clearTimeout(o),t.params.autoplay.disableOnInteraction){A=!1,m=!1;return}A&&t.params.cssMode&&L(),A=!1,m=!1}}),s("slideChange",()=>{t.destroyed||!t.autoplay.running||(p=!0)}),Object.assign(t.autoplay,{start:P,stop:B,pause:D,resume:L})}const loe=({children:n,magnifierSize:t=227,zoomLevel:e=3,imageSrc:s})=>{var g,p;const[a,i]=k.useState(!1),[o,c]=k.useState({x:0,y:0}),[l,d]=k.useState("0px 0px"),u=k.useRef(null),f=k.useRef(null),h=b=>{if(!u.current||!f.current)return;const x=u.current.getBoundingClientRect(),v=b.clientX-x.left,y=b.clientY-x.top;if(v<0||v>x.width||y<0||y>x.height){i(!1);return}let S=v+20,M=y-t-20;const P=window.innerWidth,B=b.clientX+20,D=b.clientY-t-20;B+t>P&&(S=v-t-20),D<0&&(M=y+20),c({x:S,y:M});const L=-(v*e-t/2),O=-(y*e-t/2);d(`${L}px ${O}px`)},m=()=>{i(!0)},A=()=>{i(!1)};return r.jsxs("div",{ref:u,className:"magnifier-container",style:{position:"relative",display:"inline-block",overflow:"visible"},onMouseMove:h,onMouseEnter:m,onMouseLeave:A,children:[n,a&&r.jsx("div",{ref:f,className:"magnifier-glass",style:{position:"absolute",width:`${t}px`,height:`${t}px`,border:"3px solid #000",backgroundColor:"#fff",boxShadow:"0 0 10px rgba(0,0,0,0.5)",pointerEvents:"none",zIndex:1e3,left:`${o.x}px`,top:`${o.y}px`,backgroundImage:`url(${s})`,backgroundSize:`${((g=u.current)==null?void 0:g.offsetWidth)*e}px ${((p=u.current)==null?void 0:p.offsetHeight)*e}px`,backgroundPosition:l,backgroundRepeat:"no-repeat"}})]})},jI=({product:n})=>{var d,u,f,h,m,A,g,p,b,x;const[t,e]=k.useState(new Set),[s,a]=k.useState(0),i=k.useRef(null),o=v=>{const y=new Set(t);y.has(v)?y.delete(v):y.add(v),e(y)},c=v=>{a(v+1)},l=()=>{var v,y,S;if((S=(y=(v=n==null?void 0:n.moTaChiTiet)==null?void 0:v.picture)==null?void 0:y[s])!=null&&S.url){const M=`data:image/jpeg;base64,${n.moTaChiTiet.picture[s].url}`,P=window.open("","_blank","width=800,height=600,scrollbars=yes,resizable=yes");if(!P){alert("Không thể mở cửa sổ ảnh. Vui lòng kiểm tra popup blocker!");return}const B=`
                <!DOCTYPE html>
                <html lang="vi">
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>Ảnh Sản Phẩm Toàn Kích Thước</title>
                    <style>
                        body { margin: 0; padding: 0; background-color: #f1f1f1; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
                        img { max-width: 100%; max-height: 100vh; object-fit: contain; }
                    </style>
                </head>
                <body>
                    <img src="${M}" alt="Full Size Product Image" />
                </body>
                </html>
            `;P.document.write(B),P.document.close(),P.focus()}};return n!=null&&n.moTaChiTiet?r.jsxs("div",{className:"p-4 lg:p-8",children:[r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-6 lg:p-8 mb-8 transition-all duration-300",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-2 rounded-full text-sm font-medium mb-4",children:"Mô Tả Chi Tiết Của Sản Phẩm"}),(n==null?void 0:n.tenSanPham)&&r.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-800 mb-2",children:n.tenSanPham}),((f=(u=(d=n==null?void 0:n.moTaChiTiet)==null?void 0:d.moTa)==null?void 0:u.header)==null?void 0:f.title)&&r.jsx("h2",{className:"text-xl lg:text-2xl font-semibold text-gray-700 mb-4",children:n.moTaChiTiet.moTa.header.title}),r.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-blue-500 to-purple-600 mx-auto rounded-full"})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 lg:p-8 order-2 lg:order-1 transition-all duration-300",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[r.jsx("span",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm mr-3",children:"📸"}),"Hình ảnh sản phẩm"]}),(A=(m=(h=n.moTaChiTiet.moTa)==null?void 0:h.picture)==null?void 0:m[s])!=null&&A.url?r.jsx(loe,{magnifierSize:227,zoomLevel:3,imageSrc:`data:image/jpeg;base64,${(g=n.moTaChiTiet.moTa)==null?void 0:g.picture[s].url}`,children:r.jsx("img",{ref:i,src:`data:image/jpeg;base64,${(p=n.moTaChiTiet.moTa)==null?void 0:p.picture[s].url}`,alt:"Main Image",className:"w-full max-w-md mx-auto rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 cursor-pointer",onClick:l})}):r.jsx("div",{className:"text-gray-600 text-center",children:"Không có ảnh sản phẩm."}),((b=n.moTaChiTiet.moTa.picture)==null?void 0:b.slice(1).length)>0&&r.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 mt-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"🖼️ Thư viện ảnh"}),r.jsxs(vI,{slidesPerView:1,spaceBetween:16,breakpoints:{640:{slidesPerView:2},1024:{slidesPerView:3}},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},autoplay:{delay:3e3,disableOnInteraction:!1},loop:n.moTaChiTiet.moTa.picture.length>1,modules:[aoe,ioe,ooe],className:"swiper",children:[n.moTaChiTiet.moTa.picture.slice(1).map((v,y)=>v.url&&r.jsx(yI,{children:r.jsx("img",{src:`data:image/jpeg;base64,${v.url}`,alt:`Gallery Image ${y+1}`,className:"w-full h-48 object-cover rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300 cursor-pointer",onClick:()=>c(y)})},y)),r.jsx("div",{className:"swiper-pagination mt-4"}),r.jsx("div",{className:"swiper-button-prev"}),r.jsx("div",{className:"swiper-button-next"})]})]})]}),r.jsx("div",{className:"space-y-6 order-1 lg:order-2",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 transition-all duration-300",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[r.jsx("span",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm mr-3",children:"ℹ️"}),"Mô Tả Chi Tiết"]}),r.jsx("div",{className:"space-y-4",children:(x=n.moTaChiTiet.moTa.title)==null?void 0:x.map((v,y)=>{var S;return r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden transition-all duration-300",children:[v.name&&r.jsx("div",{className:"p-6 cursor-pointer hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100",onClick:()=>o(y),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center",children:[r.jsx("span",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm mr-3",children:y+1}),v.name]}),r.jsx("div",{className:`arrow-rotate ${t.has(y)?"rotated":""}`,children:r.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}),r.jsx("div",{className:`title-content ${t.has(y)?"active":""}`,children:r.jsx("div",{className:"p-6 pt-0",children:(S=v.subtitle)==null?void 0:S.map((M,P)=>{var B;return r.jsxs("div",{className:"mb-6 last:mb-0",children:[M.name&&r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 mb-3",children:r.jsxs("h4",{className:"text-lg font-semibold text-gray-700 flex items-center",children:[r.jsx("span",{className:"w-6 h-6 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white text-xs mr-2",children:"✓"}),M.name]})}),((B=M.description)==null?void 0:B.content)&&r.jsx("div",{className:"text-gray-600 prose max-w-none pl-8 leading-relaxed",dangerouslySetInnerHTML:{__html:M.description.content}})]},P)})})})]},y)})})]})})]})]}),r.jsx("style",{children:`
                .magnifier-container {
                    position: relative;
                    display: inline-block;
                    overflow: visible;
                }
                
                .magnifier-glass {
                    position: absolute;
                    width: 227px;
                    height: 227px;
                    border: 3px solid #000;
                    background-color: #fff;
                    box-shadow: 0 0 10px rgba(0,0,0,0.5);
                    pointer-events: none;
                    z-index: 1000;
                }
                
                ::-webkit-scrollbar {
                    width: 8px;
                }
                
                ::-webkit-scrollbar-track {
                    background: #f1f1f1;
                    border-radius: 4px;
                }
                
                ::-webkit-scrollbar-thumb {
                    background: #888;
                    border-radius: 4px;
                }
                
                ::-webkit-scrollbar-thumb:hover {
                    background: #555;
                }
                
                .title-content {
                    max-height: 0;
                    overflow: hidden;
                    transition: max-height 0.3s ease-out;
                }
                
                .title-content.active {
                    max-height: 1000px;
                    transition: max-height 0.5s ease-in;
                }
                
                .swiper-button-next,
                .swiper-button-prev {
                    color: #3b82f6;
                    background: white;
                    border-radius: 50%;
                    width: 44px;
                    height: 44px;
                    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                }
                
                .swiper-button-next::after,
                .swiper-button-prev::after {
                    font-size: 18px;
                    font-weight: bold;
                }
                
                .swiper-pagination-bullet {
                    background: #3b82f6;
                    opacity: 0.7;
                }
                
                .swiper-pagination-bullet-active {
                    opacity: 1;
                }
                
                .arrow-rotate {
                    transition: transform 0.3s ease;
                }
                
                .arrow-rotate.rotated {
                    transform: rotate(180deg);
                }
            `})]}):r.jsx("div",{className:"text-gray-600 p-4",children:"Không có mô tả chi tiết."})},Vs=(n,t)=>{Ce.fire({toast:!0,title:n,icon:t,timer:2500,position:"top-end",showConfirmButton:!1})},coe=()=>{const[n,t]=k.useState(null),[e,s]=k.useState(null),[a,i]=k.useState(null),[o,c]=k.useState(null),[l,d]=k.useState(null),[u,f]=k.useState(!1),[h,m]=k.useState(1),[A,g]=k.useState(1),[p,b]=k.useState(1),x="https://bicacuatho.azurewebsites.net",v=(O,F,_)=>{if(O.preventDefault(),O.stopPropagation(),O.dataTransfer.files&&O.dataTransfer.files[0]){const E=O.dataTransfer.files[0];if(E.type.startsWith("image/")){F(E);const T=URL.createObjectURL(E);_(T)}}},y=(O,F)=>{const _=document.createElement("input");_.type="file",_.accept="image/*",_.onchange=E=>{const T=E.target;if(T.files&&T.files[0]){const w=T.files[0];O(w);const C=URL.createObjectURL(w);F(C)}},_.click()},S=O=>{O.preventDefault(),O.stopPropagation()},M=O=>{O(F=>Math.min(F+.1,3))},P=O=>{O(F=>Math.max(F-.1,.5))};k.useEffect(()=>()=>{a&&URL.revokeObjectURL(a),o&&URL.revokeObjectURL(o)},[a,o]);const B=O=>new Promise((F,_)=>{const E=new FileReader;E.onload=()=>{if(typeof E.result=="string"){const T=E.result.split(",")[1];F(T)}else _(new Error("Kết quả không phải là chuỗi"))},E.onerror=_,E.readAsDataURL(O)}),D=async()=>{if(!n||!e){Ce.fire({icon:"error",title:"Lỗi",text:"Vui lòng chọn cả hai tệp hình ảnh!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}f(!0);try{const O=await B(n),F=await B(e),_={cauHoi:"Mặc cái áo này lên người này giúp tôi",hinhAnh:[O,F]},E=await fetch(`${x}/api/Gemini/Response`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)}),T=await E.json();E.ok&&T.result?(d(`data:image/png;base64,${T.result}`),b(1)):Ce.fire({icon:"error",title:"Lỗi",text:T.errorMessage||"Có lỗi xảy ra khi xử lý yêu cầu",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(O){console.error("Lỗi:",O),Ce.fire({icon:"error",title:"Lỗi",text:"Có lỗi xảy ra khi gửi yêu cầu đến API",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{f(!1)}},L=()=>{t(null),s(null),i(null),c(null),d(null),m(1),g(1),b(1)};return r.jsxs("div",{className:"max-w-6xl mx-auto relative bg-white rounded-2xl shadow-2xl border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 px-6 py-4",children:r.jsxs("h2",{className:"text-white text-2xl font-bold text-center flex items-center justify-center gap-3",children:[r.jsx(Xs,{className:"h-6 w-6"}),"Mặc Thử Đồ Bằng AI",r.jsx(Xs,{className:"h-6 w-6"})]})}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("label",{className:"block text-lg font-semibold mb-4 text-gray-700",children:"Chọn ảnh người (Tệp 1):"}),r.jsx("div",{className:"relative w-full h-80 border-3 border-dashed border-gray-300 rounded-xl flex items-center justify-center bg-gray-50 cursor-pointer hover:border-purple-400 hover:bg-purple-50 transition-all duration-300",onDrop:O=>v(O,t,i),onDragOver:S,onClick:()=>y(t,i),children:a?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:a,alt:"Preview 1",className:"max-w-full max-h-72 object-contain rounded-lg shadow-lg",style:{transform:`scale(${h})`}}),r.jsx("button",{className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center hover:bg-red-600 transition-colors",onClick:O=>{O.stopPropagation(),t(null),i(null),m(1)},children:r.jsx(st,{size:16})}),r.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-2",children:[r.jsx("button",{className:"bg-gray-800 text-white rounded-md w-8 h-8 flex items-center justify-center hover:bg-gray-700 transition-colors",onClick:O=>{O.stopPropagation(),M(m)},children:"+"}),r.jsx("button",{className:"bg-gray-800 text-white rounded-md w-8 h-8 flex items-center justify-center hover:bg-gray-700 transition-colors",onClick:O=>{O.stopPropagation(),P(m)},children:"-"})]})]}):r.jsxs("div",{className:"text-center",children:[r.jsx(Lr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Kéo thả hoặc click để chọn ảnh"})]})})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("label",{className:"block text-lg font-semibold mb-4 text-gray-700",children:"Chọn ảnh quần áo (Tệp 2):"}),r.jsx("div",{className:"relative w-full h-80 border-3 border-dashed border-gray-300 rounded-xl flex items-center justify-center bg-gray-50 cursor-pointer hover:border-pink-400 hover:bg-pink-50 transition-all duration-300",onDrop:O=>v(O,s,c),onDragOver:S,onClick:()=>y(s,c),children:o?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:o,alt:"Preview 2",className:"max-w-full max-h-72 object-contain rounded-lg shadow-lg",style:{transform:`scale(${A})`}}),r.jsx("button",{className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center hover:bg-red-600 transition-colors",onClick:O=>{O.stopPropagation(),s(null),c(null),g(1)},children:r.jsx(st,{size:16})}),r.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-2",children:[r.jsx("button",{className:"bg-gray-800 text-white rounded-md w-8 h-8 flex items-center justify-center hover:bg-gray-700 transition-colors",onClick:O=>{O.stopPropagation(),M(g)},children:"+"}),r.jsx("button",{className:"bg-gray-800 text-white rounded-md w-8 h-8 flex items-center justify-center hover:bg-gray-700 transition-colors",onClick:O=>{O.stopPropagation(),P(g)},children:"-"})]})]}):r.jsxs("div",{className:"text-center",children:[r.jsx(Lr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Kéo thả hoặc click để chọn ảnh"})]})})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("label",{className:"block text-lg font-semibold mb-4 text-gray-700",children:"Kết quả AI:"}),r.jsx("div",{className:"relative w-full h-80 border-3 border-solid border-blue-300 rounded-xl flex items-center justify-center bg-blue-50",children:u?r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-blue-600 font-semibold",children:"Đang xử lý bằng AI..."})]}):l?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:l,alt:"AI Result",className:"max-w-full max-h-72 object-contain rounded-lg shadow-lg",style:{transform:`scale(${p})`}}),r.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-2",children:[r.jsx("button",{className:"bg-gray-800 text-white rounded-md w-8 h-8 flex items-center justify-center hover:bg-gray-700 transition-colors",onClick:O=>{O.stopPropagation(),M(b)},children:"+"}),r.jsx("button",{className:"bg-gray-800 text-white rounded-md w-8 h-8 flex items-center justify-center hover:bg-gray-700 transition-colors",onClick:O=>{O.stopPropagation(),P(b)},children:"-"})]})]}):r.jsxs("div",{className:"text-center",children:[r.jsx(Xs,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Chưa có kết quả"})]})})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsxs("button",{onClick:D,disabled:u||!n||!e,className:"flex-1 max-w-xs bg-gradient-to-r from-purple-600 to-blue-600 text-white py-4 px-8 rounded-xl font-bold text-lg shadow-lg transition-all duration-300 transform hover:scale-105 hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center gap-3",children:[r.jsx(Lr,{size:20}),u?"Đang xử lý...":"Mặc Đồ Thử Bằng AI"]}),r.jsxs("button",{onClick:L,className:"flex-1 max-w-xs bg-gradient-to-r from-red-500 to-pink-600 text-white py-4 px-8 rounded-xl font-bold text-lg shadow-lg transition-all duration-300 transform hover:scale-105 hover:shadow-xl flex items-center justify-center gap-3",children:[r.jsx(st,{size:20}),"Xóa Toàn Bộ"]})]})]})]})},doe=()=>{var R;const{id:n}=oh(),t=dr(),[e,s]=k.useState([]),[a,i]=k.useState(null),[o,c]=k.useState(!0),[l,d]=k.useState(null),[u,f]=k.useState(""),[h,m]=k.useState(""),[A,g]=k.useState(""),[p,b]=k.useState(1),[x,v]=k.useState(0),[y,S]=k.useState(!1),[M,P]=k.useState(null),[B,D]=k.useState(!1);k.useEffect(()=>{n&&(async()=>{var U,V;try{c(!0);const z=n.split("_")[0],X=await fetch(`https://bicacuatho.azurewebsites.net/api/SanPham/SanPhamByIDSorted?id=${z}`);if(!X.ok)throw new Error(`HTTP error ${X.status}`);const Q=await X.json();if(Q.length===0)throw new Error("No products found");s(Q),console.log(Q);const q=Q.find(G=>G.id===n)||Q[0];i(q),f(q.mauSac),m(((U=q.details[0])==null?void 0:U.kichThuoc)||""),g(q.hinhAnhs[0]?`data:image/jpeg;base64,${q.hinhAnhs[0]}`:""),v(((V=q.details[0])==null?void 0:V.soLuong)||0);const H=JSON.parse(localStorage.getItem("user")||"{}"),$=H==null?void 0:H.maNguoiDung;if($){const G=await fetch("https://bicacuatho.azurewebsites.net/api/YeuThich");if(G.ok){const te=(await G.json()).find(K=>K.maSanPham===z&&K.maNguoiDung===$);te&&(S(!0),P(te.maYeuThich))}}}catch(z){d(z.message||"Unknown error")}finally{c(!1)}})()},[n]);const L=U=>{var z,X,Q;const V=e.find(q=>q.mauSac===U);V&&(i(V),f(U),m(((z=V.details[0])==null?void 0:z.kichThuoc)||""),g((X=V.details[0])!=null&&X.hinhAnh?`data:image/jpeg;base64,${V.details[0].hinhAnh}`:""),v(((Q=V.details[0])==null?void 0:Q.soLuong)||0),b(1))},O=U=>{if(!a)return;m(U);const V=a.details.find(z=>z.kichThuoc===U);g(V!=null&&V.hinhAnh?`data:image/jpeg;base64,${V.hinhAnh}`:""),v((V==null?void 0:V.soLuong)||0)},F=async()=>{if(!a)return;const U=JSON.parse(localStorage.getItem("user")||"{}"),V=U==null?void 0:U.maNguoiDung,z=U==null?void 0:U.hoTen;if(!V){Vs("Vui lòng đăng nhập để thêm sản phẩm vào danh sách yêu thích!","error");return}const X=a.id.split("_")[0];if(y&&M)try{if(!(await fetch(`https://bicacuatho.azurewebsites.net/api/YeuThich/${M}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Failed to remove favorite");S(!1),P(null),Vs("Đã xóa sản phẩm khỏi danh sách yêu thích!","success")}catch{Vs("Có lỗi xảy ra khi xóa yêu thích!","error")}else{const Q={maSanPham:X,tenSanPham:a.tenSanPham,maNguoiDung:V,hoTen:z,soLuongYeuThich:1,ngayYeuThich:new Date().toISOString()};try{const q=await fetch("https://bicacuatho.azurewebsites.net/api/YeuThich",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(Q)});if(!q.ok)throw new Error("Failed to add favorite");const H=await q.json();S(!0),P(H.maYeuThich),Vs("Đã thêm sản phẩm vào danh sách yêu thích!","success")}catch{Vs("Có lỗi xảy ra khi thêm yêu thích!","error")}}},_=async()=>{if(!a)return;if(!h){Vs("Vui lòng chọn kích thước trước khi thêm vào giỏ hàng!","error");return}const U=JSON.parse(localStorage.getItem("user")||"{}"),V=U==null?void 0:U.maNguoiDung;if(!V){Vs("Vui lòng đăng nhập để thêm sản phẩm vào giỏ hàng!","error");return}const z={IDNguoiDung:V,IDSanPham:a.id.split("_")[0],MauSac:a.mauSac,KichThuoc:h,SoLuong:p};try{if(!(await fetch("https://bicacuatho.azurewebsites.net/api/Cart/ThemSanPhamVaoGioHang",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(z)})).ok)throw new Error("Failed to add to cart");Vs("Đã thêm vào giỏ hàng thành công!","success")}catch{Vs("Có lỗi xảy ra khi thêm vào giỏ hàng!","error")}},E=()=>{var X;if(!a)return;if(!h){Vs("Vui lòng chọn kích thước trước khi mua!","error");return}const U=JSON.parse(localStorage.getItem("user")||"{}"),V=U==null?void 0:U.maNguoiDung;if(!V){Vs("Vui lòng đăng nhập để mua sản phẩm!","error");return}const z={IDNguoiDung:V,IDSanPham:a.id.split("_")[0],MauSac:a.mauSac,KichThuoc:h,SoLuong:p,TenSanPham:a.tenSanPham,Gia:((X=a.details.find(Q=>Q.kichThuoc===h))==null?void 0:X.gia)||0,NgayMua:new Date().toISOString()};try{const Q=JSON.parse(localStorage.getItem("InstantBuy")||"[]");Q.length=0,Q.push(z),localStorage.setItem("InstantBuy",JSON.stringify(Q,null,2)),t("/user/CheckOutInstant"),Vs("Đang chuyển đến trang thanh toán!","success")}catch{Vs("Có lỗi xảy ra khi mua sản phẩm!","error")}},T=()=>{D(!B),B?Vs("Đã đóng tính năng mặc thử AI","success"):(Vs("Đang mở tính năng mặc thử bằng AI...","success"),setTimeout(()=>{const U=document.querySelector("#testing-section");U&&U.scrollIntoView({behavior:"smooth",block:"center"})},300))};if(o)return r.jsx("div",{className:"container mx-auto py-8",children:"Loading..."});if(l||!a)return r.jsx("div",{className:"container mx-auto py-8",children:l||"Product not found."});const w=a.details.find(U=>U.kichThuoc===h),C=w?w.gia:((R=a.details[0])==null?void 0:R.gia)||0,j=a.khuyenMaiMax||0,N=C*(1-j/100),I=C*(j/100);return r.jsxs("div",{className:"container mx-auto py-8 pb-24 relative",children:[r.jsx("div",{className:"mb-4",children:r.jsx(lt,{to:"/products",className:"text-crocus-600 hover:underline flex items-center gap-1",children:"← Quay lại trang Danh Sách Sản Phẩm"})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100 relative",children:[r.jsx("img",{src:A,alt:a.tenSanPham,className:"w-full h-full object-cover"}),j>0&&r.jsxs("div",{className:"absolute top-4 right-4 bg-gradient-to-br from-red-500 to-red-600 text-white p-3 min-w-[80px] min-h-[80px] flex flex-col items-center justify-center shadow-lg z-10 rounded",children:[r.jsx("div",{className:"text-xs font-medium",children:"Khuyến Mãi"}),r.jsxs("div",{className:"text-lg font-bold",children:[" -",j,"%"]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsx("button",{onClick:()=>g(e[0].hinhAnhs[0]?`data:image/jpeg;base64,${e[0].hinhAnhs[0]}`:""),className:`aspect-square rounded-md overflow-hidden 
                      ? "ring-2 ring-crocus-500"
                      : "opacity-70"
                    }`,children:r.jsx("img",{src:e[0].hinhAnhs[0]?`data:image/jpeg;base64,${e[0].hinhAnhs[0]}`:"",alt:`${e[0].tenSanPham.substring(0,6)}`,className:"w-full h-full object-cover"})},e[0].tenSanPham.substring(0,6)),e.filter(U=>{var V;return(V=U.details[0])==null?void 0:V.hinhAnh}).map((U,V)=>({image:`data:image/jpeg;base64,${U.details[0].hinhAnh}`,productId:U.id})).filter(U=>U.image!=="data:image/jpeg;base64,").map((U,V)=>r.jsx("button",{onClick:()=>g(U.image),className:`aspect-square rounded-md overflow-hidden ${A===U.image?"ring-2 ring-crocus-500":"opacity-70"}`,children:r.jsx("img",{src:U.image,alt:`thumb-${U.productId}`,className:"w-full h-full object-cover"})},`${U.productId}-${V}`))]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:a.tenSanPham}),r.jsx("div",{className:"mt-2 items-center gap-3",children:j>0?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-1",children:[r.jsxs("p",{className:"text-4xl font-bold text-red-600",children:[(N/1e3).toFixed(3)," VND"]}),r.jsxs("p",{className:"text-lg text-gray-500 line-through",children:[(C/1e3).toFixed(3)," VND"]})]}),r.jsx("div",{children:r.jsxs("h4",{className:"text-lg font-bold text-green-600",children:["Tiết kiệm: ",(I/1e3).toFixed(3)," VND"]})})]}):r.jsxs("p",{className:"text-2xl font-bold text-crocus-600",children:[(C/1e3).toFixed(3)," VND"]})})]}),r.jsxs("p",{className:"text-gray-700  text-2xl",children:[r.jsx("h3",{className:"font-bold mb-2 text-2xl",children:"Chất liệu"}),a.chatLieu||"Chưa có thông tin chất liệu"]}),r.jsxs("p",{className:"text-gray-700  text-2xl",children:[r.jsx("h3",{className:"font-bold mb-2 text-2xl",children:"Thương hiệu"}),a.maThuongHieu||"Chưa có thông tin thương hiệu"]}),r.jsxs("p",{className:"text-gray-700",children:[r.jsx("h3",{className:"font-bold mb-2 text-2xl",children:"Hashtags"}),a.listHashTag&&a.listHashTag.length>0?r.jsx("div",{className:"flex flex-wrap gap-2",children:a.listHashTag.map((U,V)=>r.jsxs("span",{className:"inline-block bg-gray-100 text-gray-800 text-sm font-medium px-2.5 py-0.5 rounded",children:["#",U.name]},V))}):"Chưa có hashtag"]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold mb-2 text-2xl",children:"Màu sắc"}),r.jsx("div",{className:"flex gap-3",children:e.map(U=>r.jsx("button",{onClick:()=>L(U.mauSac),className:`w-10 h-10 rounded-full border ${u===U.mauSac?"border-crocus-500 ring-2 ring-crocus-500":"border-gray-200 hover:border-gray-300"}`,style:{backgroundColor:`#${U.mauSac}`},title:U.mauSac},U.mauSac))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-1",children:[r.jsx("h3",{className:"font-bold mb-2 text-2xl text-gray-900",children:"Kích thước"}),r.jsx(Tae,{})]}),r.jsx("div",{className:"flex flex-wrap gap-3",children:a.details.map(U=>r.jsx("button",{onClick:()=>O(U.kichThuoc),className:`w-10 h-10 flex items-center justify-center rounded-md border ${h===U.kichThuoc?"border-crocus-500 bg-crocus-50 text-crocus-700":"border-gray-200 hover:border-gray-300"}`,children:U.kichThuoc},U.kichThuoc))})]}),r.jsxs("p",{className:"text-gray-700",children:["Trong kho còn lại : ",r.jsx("span",{className:"font-medium",children:x})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold mb-2 text-2xl",children:"Số Lượng"}),r.jsxs("div",{className:"flex items-center border border-gray-200 rounded-md w-32",children:[r.jsx("button",{onClick:()=>b(U=>Math.max(1,U-1)),className:"px-3 py-2 text-gray-500 hover:text-gray-700",disabled:p<=1,children:"-"}),r.jsx("span",{className:"flex-1 text-center",children:p}),r.jsx("button",{onClick:()=>b(U=>Math.min(x,U+1)),className:"px-3 py-2 text-gray-500 hover:text-gray-700",disabled:p>=x,children:"+"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:_,disabled:x===0,className:"flex-1 relative overflow-hidden group bg-gradient-to-r from-[#0E5AF0] to-[#EF00D6] text-white py-3 px-6 rounded-lg font-semibold text-lg shadow-lg transition-all duration-300 transform hover:scale-105 hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none disabled:hover:scale-100",style:{background:x===0?"#gray":"linear-gradient(to right, #0E5AF0, #EF00D6)"},onMouseEnter:U=>{x>0&&(U.currentTarget.style.background="#EF00D6")},onMouseLeave:U=>{x>0&&(U.currentTarget.style.background="linear-gradient(to right, #0E5AF0, #EF00D6)")},children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(vs,{className:"h-5 w-5"}),r.jsx("span",{children:"Thêm Vào Giỏ Hàng"})]})}),r.jsx("button",{onClick:E,disabled:x===0,className:"flex-1 relative overflow-hidden group bg-gradient-to-r from-[#FF6B35] to-[#F7931E] text-white py-3 px-6 rounded-lg font-semibold text-lg shadow-lg transition-all duration-300 transform hover:scale-105 hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none disabled:hover:scale-100",style:{background:x===0?"#gray":"linear-gradient(to right, #FF6B35, #F7931E)"},onMouseEnter:U=>{x>0&&(U.currentTarget.style.background="#F7931E")},onMouseLeave:U=>{x>0&&(U.currentTarget.style.background="linear-gradient(to right, #FF6B35, #F7931E)")},children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(k6,{className:"h-5 w-5"}),r.jsx("span",{children:"Mua Ngay"})]})})]}),r.jsx("div",{className:"flex gap-3",children:r.jsxs("button",{onClick:F,className:"flex-1 bg-white border-2 border-gray-200 text-gray-700 py-3 px-6 rounded-lg font-medium transition-all duration-300 hover:border-red-300 hover:bg-red-50 hover:text-red-600 flex items-center justify-center gap-2",children:[r.jsx(Ts,{className:`h-5 w-5 ${y?"fill-red-500 text-red-500":""}`}),r.jsx("span",{children:y?"Đã Yêu Thích":"Yêu Thích"})]})})]}),r.jsx("div",{className:"text-center flex justify-center pt-6",children:r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md",children:r.jsx("img",{alt:"Barcode",src:`https://barcode.tec-it.com/barcode.ashx?data=${encodeURIComponent(`${a.id.split("_")[0]}_${a.mauSac}_${h}`)}&translate-esc=on`,className:"mx-auto"})})})]})]}),r.jsx("div",{id:"testing-section",className:`transition-all duration-700 ease-in-out transform ${B?"translate-y-0 opacity-100 max-h-screen mb-12":"translate-y-full opacity-0 max-h-0 overflow-hidden"}`,children:r.jsx(coe,{})}),r.jsx(jI,{product:a}),r.jsx(Sae,{productId:n}),r.jsx(Bae,{productId:n}),r.jsx("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50",children:r.jsxs("button",{onClick:T,className:`relative group text-white py-4 px-8 rounded-full font-bold text-lg shadow-2xl transition-all duration-300 transform hover:scale-110 hover:shadow-3xl ${B?"bg-gradient-to-r from-red-500 via-pink-600 to-red-700":"bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 animate-pulse"}`,children:[r.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 opacity-75 blur-md animate-pulse"}),r.jsx("div",{className:"relative flex items-center justify-center gap-3",children:B?r.jsxs(r.Fragment,{children:[r.jsx(st,{className:"h-6 w-6"}),r.jsx("span",{className:"whitespace-nowrap",children:"Đóng Mặc Thử AI"}),r.jsx(st,{className:"h-6 w-6"})]}):r.jsxs(r.Fragment,{children:[r.jsx(Xs,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{className:"whitespace-nowrap",children:"Mặc Thử Đồ Bằng AI"}),r.jsx(Xs,{className:"h-6 w-6 animate-spin"})]})}),r.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-white/30 animate-ping"})]})}),r.jsx("style",{jsx:!0,children:`
        @keyframes pulse {
          0%, 100% {
            opacity: 1;
          }
          50% {
            opacity: 0.8;
          }
        }
        
        .animate-pulse {
          animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        .shadow-3xl {
          box-shadow: 0 35px 60px -12px rgba(0, 0, 0, 0.25);
        }
      `})]})};var CI=["PageUp","PageDown"],NI=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],SI={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},xh="Slider",[o1,uoe,hoe]=_d(xh),[TI,qBe]=ks(xh,[hoe]),[foe,Wx]=TI(xh),kI=k.forwardRef((n,t)=>{const{name:e,min:s=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:c=!1,minStepsBetweenThumbs:l=0,defaultValue:d=[s],value:u,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:A,...g}=n,p=k.useRef(new Set),b=k.useRef(0),v=o==="horizontal"?moe:poe,[y=[],S]=wa({prop:u,defaultProp:d,onChange:O=>{var _;(_=[...p.current][b.current])==null||_.focus(),f(O)}}),M=k.useRef(y);function P(O){const F=voe(y,O);L(O,F)}function B(O){L(O,b.current)}function D(){const O=M.current[b.current];y[b.current]!==O&&h(y)}function L(O,F,{commit:_}={commit:!1}){const E=Coe(i),T=Noe(Math.round((O-s)/i)*i+s,E),w=t0(T,[s,a]);S((C=[])=>{const j=xoe(C,w,F);if(joe(j,l*i)){b.current=j.indexOf(w);const N=String(j)!==String(C);return N&&_&&h(j),N?j:C}else return C})}return r.jsx(foe,{scope:n.__scopeSlider,name:e,disabled:c,min:s,max:a,valueIndexToChangeRef:b,thumbs:p.current,values:y,orientation:o,form:A,children:r.jsx(o1.Provider,{scope:n.__scopeSlider,children:r.jsx(o1.Slot,{scope:n.__scopeSlider,children:r.jsx(v,{"aria-disabled":c,"data-disabled":c?"":void 0,...g,ref:t,onPointerDown:tt(g.onPointerDown,()=>{c||(M.current=y)}),min:s,max:a,inverted:m,onSlideStart:c?void 0:P,onSlideMove:c?void 0:B,onSlideEnd:c?void 0:D,onHomeKeyDown:()=>!c&&L(s,0,{commit:!0}),onEndKeyDown:()=>!c&&L(a,y.length-1,{commit:!0}),onStepKeyDown:({event:O,direction:F})=>{if(!c){const T=CI.includes(O.key)||O.shiftKey&&NI.includes(O.key)?10:1,w=b.current,C=y[w],j=i*T*F;L(C+j,w,{commit:!0})}}})})})})});kI.displayName=xh;var[_I,BI]=TI(xh,{startEdge:"left",endEdge:"right",size:"width",direction:1}),moe=k.forwardRef((n,t)=>{const{min:e,max:s,dir:a,inverted:i,onSlideStart:o,onSlideMove:c,onSlideEnd:l,onStepKeyDown:d,...u}=n,[f,h]=k.useState(null),m=cn(t,v=>h(v)),A=k.useRef(void 0),g=Ed(a),p=g==="ltr",b=p&&!i||!p&&i;function x(v){const y=A.current||f.getBoundingClientRect(),S=[0,y.width],P=lC(S,b?[e,s]:[s,e]);return A.current=y,P(v-y.left)}return r.jsx(_I,{scope:n.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:r.jsx(EI,{dir:g,"data-orientation":"horizontal",...u,ref:m,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:v=>{const y=x(v.clientX);o==null||o(y)},onSlideMove:v=>{const y=x(v.clientX);c==null||c(y)},onSlideEnd:()=>{A.current=void 0,l==null||l()},onStepKeyDown:v=>{const S=SI[b?"from-left":"from-right"].includes(v.key);d==null||d({event:v,direction:S?-1:1})}})})}),poe=k.forwardRef((n,t)=>{const{min:e,max:s,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:c,onStepKeyDown:l,...d}=n,u=k.useRef(null),f=cn(t,u),h=k.useRef(void 0),m=!a;function A(g){const p=h.current||u.current.getBoundingClientRect(),b=[0,p.height],v=lC(b,m?[s,e]:[e,s]);return h.current=p,v(g-p.top)}return r.jsx(_I,{scope:n.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:r.jsx(EI,{"data-orientation":"vertical",...d,ref:f,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const p=A(g.clientY);i==null||i(p)},onSlideMove:g=>{const p=A(g.clientY);o==null||o(p)},onSlideEnd:()=>{h.current=void 0,c==null||c()},onStepKeyDown:g=>{const b=SI[m?"from-bottom":"from-top"].includes(g.key);l==null||l({event:g,direction:b?-1:1})}})})}),EI=k.forwardRef((n,t)=>{const{__scopeSlider:e,onSlideStart:s,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:c,onStepKeyDown:l,...d}=n,u=Wx(xh,e);return r.jsx(Nt.span,{...d,ref:t,onKeyDown:tt(n.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(c(f),f.preventDefault()):CI.concat(NI).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:tt(n.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),u.thumbs.has(h)?h.focus():s(f)}),onPointerMove:tt(n.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&a(f)}),onPointerUp:tt(n.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),i(f))})})}),MI="SliderTrack",PI=k.forwardRef((n,t)=>{const{__scopeSlider:e,...s}=n,a=Wx(MI,e);return r.jsx(Nt.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...s,ref:t})});PI.displayName=MI;var l1="SliderRange",DI=k.forwardRef((n,t)=>{const{__scopeSlider:e,...s}=n,a=Wx(l1,e),i=BI(l1,e),o=k.useRef(null),c=cn(t,o),l=a.values.length,d=a.values.map(h=>LI(h,a.min,a.max)),u=l>1?Math.min(...d):0,f=100-Math.max(...d);return r.jsx(Nt.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...s,ref:c,style:{...n.style,[i.startEdge]:u+"%",[i.endEdge]:f+"%"}})});DI.displayName=l1;var c1="SliderThumb",II=k.forwardRef((n,t)=>{const e=uoe(n.__scopeSlider),[s,a]=k.useState(null),i=cn(t,c=>a(c)),o=k.useMemo(()=>s?e().findIndex(c=>c.ref.current===s):-1,[e,s]);return r.jsx(Aoe,{...n,ref:i,index:o})}),Aoe=k.forwardRef((n,t)=>{const{__scopeSlider:e,index:s,name:a,...i}=n,o=Wx(c1,e),c=BI(c1,e),[l,d]=k.useState(null),u=cn(t,x=>d(x)),f=l?o.form||!!l.closest("form"):!0,h=lx(l),m=o.values[s],A=m===void 0?0:LI(m,o.min,o.max),g=boe(s,o.values.length),p=h==null?void 0:h[c.size],b=p?yoe(p,A,c.direction):0;return k.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),r.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${A}% + ${b}px)`},children:[r.jsx(o1.ItemSlot,{scope:n.__scopeSlider,children:r.jsx(Nt.span,{role:"slider","aria-label":n["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:u,style:m===void 0?{display:"none"}:n.style,onFocus:tt(n.onFocus,()=>{o.valueIndexToChangeRef.current=s})})}),f&&r.jsx(OI,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},s)]})});II.displayName=c1;var goe="RadioBubbleInput",OI=k.forwardRef(({__scopeSlider:n,value:t,...e},s)=>{const a=k.useRef(null),i=cn(a,s),o=tp(t);return k.useEffect(()=>{const c=a.current;if(!c)return;const l=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&u){const f=new Event("input",{bubbles:!0});u.call(c,t),c.dispatchEvent(f)}},[o,t]),r.jsx(Nt.input,{style:{display:"none"},...e,ref:i,defaultValue:t})});OI.displayName=goe;function xoe(n=[],t,e){const s=[...n];return s[e]=t,s.sort((a,i)=>a-i)}function LI(n,t,e){const i=100/(e-t)*(n-t);return t0(i,[0,100])}function boe(n,t){return t>2?`Value ${n+1} of ${t}`:t===2?["Minimum","Maximum"][n]:void 0}function voe(n,t){if(n.length===1)return 0;const e=n.map(a=>Math.abs(a-t)),s=Math.min(...e);return e.indexOf(s)}function yoe(n,t,e){const s=n/2,i=lC([0,50],[0,s]);return(s-i(t)*e)*e}function woe(n){return n.slice(0,-1).map((t,e)=>n[e+1]-t)}function joe(n,t){if(t>0){const e=woe(n);return Math.min(...e)>=t}return!0}function lC(n,t){return e=>{if(n[0]===n[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(n[1]-n[0]);return t[0]+s*(e-n[0])}}function Coe(n){return(String(n).split(".")[1]||"").length}function Noe(n,t){const e=Math.pow(10,t);return Math.round(n*e)/e}var FI=kI,Soe=PI,Toe=DI,koe=II;const Xx=k.forwardRef(({className:n,...t},e)=>r.jsxs(FI,{ref:e,className:Ue("relative flex w-full touch-none select-none items-center",n),...t,children:[r.jsx(Soe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:r.jsx(Toe,{className:"absolute h-full bg-primary"})}),r.jsx(koe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Xx.displayName=FI.displayName;const qp=(n,t)=>Ce.fire({title:t==="error"?"Lỗi!":t==="warning"?"Cảnh báo!":"Thành công!",text:n,icon:t,timer:2e3,timerProgressBar:!0,showConfirmButton:!1}),_oe=()=>{const n=dr(),[t,e]=k.useState([]),[s,a]=k.useState([]),[i,o]=k.useState(!0),[c,l]=k.useState(null),[d,u]=k.useState(""),[f,h]=k.useState(void 0),[m,A]=k.useState([0,0]),[g,p]=k.useState("name_asc"),[b,x]=k.useState([]),[v,y]=k.useState(!1),[S,M]=k.useState("grid");k.useEffect(()=>{(async()=>{try{o(!0);const C=await fetch("https://bicacuatho.azurewebsites.net/api/Combo/ComboSanPhamView");if(!C.ok)throw new Error(`HTTP error! status: ${C.status}`);const j=await C.json();if(!Array.isArray(j))throw new Error("Dữ liệu API không phải là mảng");const N=await fetch("https://bicacuatho.azurewebsites.net/api/Comment/list");if(!N.ok)throw new Error("Không thể tải bình luận");const I=await N.json(),R=j.map(U=>{var ne;const V=Array.isArray(U.sanPhams)?U.sanPhams.reduce((ce,oe)=>ce+oe.donGia*oe.soLuong,0):0,z=V>0?(1-U.gia/V)*100:0,X=U.khuyenMaiMax||0,Q=U.gia*(1-X/100),q=V-Q,H=V>0?q/V*100:0,$=I.filter(ce=>ce.maCombo!==null&&ce.maCombo!==0&&ce.maCombo===U.maCombo&&ce.trangThai===1),G=$.reduce((ce,oe)=>ce+(oe.danhGia||0),0),J=$.length>0?G/$.length:0;let te="Other";const K=((ne=U.name)==null?void 0:ne.toLowerCase())||"";return K.includes("công sở")||K.includes("office")||K.includes("làm việc")?te="Office":K.includes("tiệc")||K.includes("formal")||K.includes("sang trọng")?te="Formal":K.includes("casual")||K.includes("dạo phố")||K.includes("cuối tuần")?te="Casual":K.includes("mùa hè")||K.includes("summer")||K.includes("biển")?te="Summer":(K.includes("mùa đông")||K.includes("winter")||K.includes("ấm"))&&(te="Winter"),{id:U.maCombo,name:U.name||"Combo không tên",description:U.moTa||"Combo thời trang tuyệt vời",imageSrc:U.hinhAnh?`data:image/jpeg;base64,${U.hinhAnh}`:"/api/placeholder/400/300",price:Math.round(Q),products:Array.isArray(U.sanPhams)?U.sanPhams.map(ce=>ce.name||"Sản phẩm không tên"):[],productCount:Array.isArray(U.sanPhams)?U.sanPhams.length:0,rating:J,isFavorite:!1,occasion:te,savings:Math.round(q),savingsPercentage:Math.round(H),daGiamPercentage:Math.round(z),khuyenMaiPercentage:X}});try{const U=JSON.parse(localStorage.getItem("user")||"{}"),V=U==null?void 0:U.maNguoiDung;if(V){const z=localStorage.getItem("token"),X=await fetch(`https://bicacuatho.azurewebsites.net/api/YeuThich?maNguoiDung=${V}`,{headers:{Authorization:`Bearer ${z}`,"Content-Type":"application/json"}});if(X.ok){const Q=await X.json(),q=R.map(H=>{const $=Q.find(G=>G.maCombo===H.id&&G.maNguoiDung===V);return{...H,isFavorite:!!$,likedId:$==null?void 0:$.maYeuThich}});e(q),a(q)}else e(R),a(R)}else e(R),a(R)}catch(U){console.warn("Không thể kiểm tra danh sách yêu thích:",U),e(R),a(R)}l(null)}catch(C){console.error("Lỗi khi lấy combo:",C),l(C instanceof Error?C.message:"Không thể tải combo. Vui lòng thử lại sau."),Tn({title:"Lỗi",description:"Không thể tải danh sách combo",variant:"destructive"})}finally{o(!1)}})()},[]);const P=k.useMemo(()=>[...new Set(t.map(w=>w.occasion))].sort(),[t]),B=k.useMemo(()=>t.length>0?Math.floor(Math.min(...t.map(w=>w.price))):0,[t]),D=k.useMemo(()=>t.length>0?Math.ceil(Math.max(...t.map(w=>w.price))):0,[t]);k.useEffect(()=>{A([B,D])},[B,D]),k.useEffect(()=>{let w=[...t];if(d){const C=d.toLowerCase();w=w.filter(j=>j.name.toLowerCase().includes(C)||j.description.toLowerCase().includes(C)||j.products.some(N=>N.toLowerCase().includes(C)))}switch(f&&f!=="all"&&(w=w.filter(C=>C.productCount>=parseInt(f))),b.length>0&&(w=w.filter(C=>b.includes(C.occasion))),(m[0]>B||m[1]<D)&&(w=w.filter(C=>C.price>=m[0]&&C.price<=m[1])),g){case"name_asc":w.sort((C,j)=>C.name.localeCompare(j.name));break;case"name_desc":w.sort((C,j)=>j.name.localeCompare(C.name));break;case"price_asc":w.sort((C,j)=>C.price-j.price);break;case"price_desc":w.sort((C,j)=>j.price-C.price);break;case"rating_desc":w.sort((C,j)=>j.rating-C.rating);break;case"savings_desc":w.sort((C,j)=>j.savingsPercentage-C.savingsPercentage);break;case"items_desc":w.sort((C,j)=>j.productCount-C.productCount);break}a(w)},[t,d,f,b,m,g,B,D]);const L=w=>{x(C=>C.includes(w)?C.filter(j=>j!==w):[...C,w])},O=w=>{w.preventDefault()},F=()=>{u(""),h(void 0),A([B,D]),p("name_asc"),x([]),y(!1),Tn({title:"Đã xóa bộ lọc",description:"Tất cả bộ lọc đã được đặt lại về mặc định."})},_=()=>{y(!1),Tn({title:"Đã áp dụng bộ lọc",description:"Bộ lọc combo của bạn đã được áp dụng."})},E=async w=>{try{const C=t.find(R=>R.id===w);let j={};try{const R=localStorage.getItem("user");j=R?JSON.parse(R):{}}catch(R){console.error("Lỗi parse user data:",R)}const N=j==null?void 0:j.maNguoiDung,I=j==null?void 0:j.hoTen;if(!N){qp("Vui lòng đăng nhập để thêm combo vào danh sách yêu thích!","warning").then(()=>{n("/auth/login")});return}if(C!=null&&C.isFavorite){if(!(await fetch(`https://bicacuatho.azurewebsites.net/api/YeuThich/${C.likedId}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Không thể xóa combo khỏi danh sách yêu thích");a(U=>U.map(V=>V.id===w?{...V,isFavorite:!1,likedId:void 0}:V)),e(U=>U.map(V=>V.id===w?{...V,isFavorite:!1,likedId:void 0}:V)),qp("Đã xóa combo khỏi danh sách yêu thích!","success"),window.dispatchEvent(new Event("favorites-updated"))}else{const R={maCombo:w,tenCombo:C==null?void 0:C.name,maNguoiDung:N,hoTen:I,soLuongYeuThich:1,ngayYeuThich:new Date().toISOString()},U=await fetch("https://bicacuatho.azurewebsites.net/api/YeuThich",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(R)});if(!U.ok)throw new Error("Không thể thêm combo vào danh sách yêu thích");const V=await U.json();a(z=>z.map(X=>X.id===w?{...X,isFavorite:!0,likedId:V.maYeuThich}:X)),e(z=>z.map(X=>X.id===w?{...X,isFavorite:!0,likedId:V.maYeuThich}:X)),qp("Đã thêm combo vào danh sách yêu thích!","success"),window.dispatchEvent(new Event("favorites-updated"))}}catch(C){console.error("Lỗi khi cập nhật yêu thích:",C),qp("Có lỗi xảy ra khi cập nhật yêu thích!","error")}},T=[d,f&&f!=="all"?f:null,b.length>0?"occasions":null,m[0]>B||m[1]<D?"price":null].filter(Boolean).length;return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100",children:[r.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-purple-700 to-indigo-800 text-white",children:r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx(Xs,{className:"h-12 w-12 text-yellow-400 animate-pulse"})}),r.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent",children:"Combo Thời Trang"}),r.jsx("p",{className:"text-xl md:text-2xl mb-8 text-purple-100 leading-relaxed",children:"Khám phá những bộ sưu tập được tuyển chọn kỹ lưỡng, phù hợp cho mọi phong cách và dịp đặc biệt"}),r.jsxs("form",{onSubmit:O,className:"flex flex-col md:flex-row justify-center items-center gap-4 max-w-2xl mx-auto",children:[r.jsxs("div",{className:"relative flex-1 w-full",children:[r.jsx(Rn,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx(je,{type:"search",placeholder:"Tìm kiếm combo, sản phẩm...",className:"pl-12 h-14 text-lg rounded-full border-0 bg-white/95 backdrop-blur-sm shadow-xl focus:ring-4 focus:ring-white/30",value:d,onChange:w=>u(w.target.value)})]}),r.jsxs(fe,{type:"submit",size:"lg",className:"h-14 px-8 rounded-full bg-yellow-500 hover:bg-yellow-400 text-black font-semibold shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105",children:[r.jsx(Rn,{className:"h-5 w-5 mr-2"}),"Tìm kiếm"]})]})]})})}),r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-8",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsxs(fe,{variant:"outline",onClick:()=>y(!0),className:"h-12 px-6 rounded-full border-2 hover:border-purple-500 hover:text-purple-600 transition-all duration-300",children:[r.jsx(sd,{className:"h-4 w-4 mr-2"}),"Bộ lọc",T>0&&r.jsx(Vt,{className:"ml-2 bg-purple-500",children:T})]}),r.jsxs(hn,{value:g,onValueChange:p,children:[r.jsxs(on,{className:"w-48 h-12 rounded-full border-2",children:[r.jsx(d6,{className:"h-4 w-4 mr-2"}),r.jsx(fn,{})]}),r.jsxs(ln,{children:[r.jsx(Ve,{value:"name_asc",children:"Tên: A đến Z"}),r.jsx(Ve,{value:"name_desc",children:"Tên: Z đến A"}),r.jsx(Ve,{value:"price_asc",children:"Giá: Thấp đến Cao"}),r.jsx(Ve,{value:"price_desc",children:"Giá: Cao đến Thấp"}),r.jsx(Ve,{value:"rating_desc",children:"Đánh giá cao nhất"}),r.jsx(Ve,{value:"savings_desc",children:"Tiết kiệm nhiều nhất"}),r.jsx(Ve,{value:"items_desc",children:"Số sản phẩm nhiều nhất"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center border rounded-full p-1 bg-white",children:[r.jsx(fe,{variant:S==="grid"?"default":"ghost",size:"sm",onClick:()=>M("grid"),className:"rounded-full",children:r.jsx(A6,{className:"h-4 w-4"})}),r.jsx(fe,{variant:S==="list"?"default":"ghost",size:"sm",onClick:()=>M("list"),className:"rounded-full",children:r.jsx(Um,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[r.jsx(Gc,{className:"h-4 w-4 mr-1"}),r.jsx("span",{className:"font-medium",children:s.length})," combo"]})]})]}),v&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>y(!1),children:r.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-4xl max-h-[85vh] overflow-hidden m-4",onClick:w=>w.stopPropagation(),children:[r.jsxs("div",{className:"flex justify-between items-center p-6 bg-gradient-to-r from-purple-600 to-indigo-600 text-white",children:[r.jsxs("h2",{className:"text-2xl font-bold flex items-center",children:[r.jsx(Q2,{className:"h-6 w-6 mr-2"}),"Bộ Lọc Nâng Cao"]}),r.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>y(!1),className:"text-white hover:bg-white/20 rounded-full",children:r.jsx(st,{className:"h-6 w-6"})})]}),r.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(85vh-200px)]",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs(Oe,{className:"text-lg font-semibold text-gray-800 flex items-center",children:[r.jsx(ir,{className:"h-5 w-5 mr-2"}),"Số Lượng Sản Phẩm"]}),r.jsxs(hn,{value:f||"",onValueChange:h,children:[r.jsx(on,{className:"w-full h-12 rounded-xl border-2",children:r.jsx(fn,{placeholder:"Chọn số lượng"})}),r.jsxs(ln,{children:[r.jsx(Ve,{value:"all",children:"Tất cả"}),r.jsx(Ve,{value:"2",children:"2+ sản phẩm"}),r.jsx(Ve,{value:"3",children:"3+ sản phẩm"}),r.jsx(Ve,{value:"4",children:"4+ sản phẩm"}),r.jsx(Ve,{value:"5",children:"5+ sản phẩm"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Oe,{className:"text-lg font-semibold text-gray-800",children:"Khoảng Giá"}),r.jsxs("div",{className:"px-4 py-6 bg-gray-50 rounded-xl",children:[r.jsx(Xx,{min:B,max:D,step:5e4,value:m,onValueChange:w=>A(w),className:"w-full"}),r.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-600 mt-4",children:[r.jsxs("span",{className:"bg-white px-3 py-1 rounded-full border",children:[m[0].toLocaleString("vi-VN")," VND"]}),r.jsxs("span",{className:"bg-white px-3 py-1 rounded-full border",children:[m[1].toLocaleString("vi-VN")," VND"]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Oe,{className:"text-lg font-semibold text-gray-800",children:"Dịp Sử Dụng"}),r.jsx("div",{className:"space-y-3",children:P.map(w=>r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Ns,{id:`occasion-${w}`,checked:b.includes(w),onCheckedChange:()=>L(w),className:"rounded-md"}),r.jsx(Oe,{htmlFor:`occasion-${w}`,className:"text-sm font-medium",children:w})]},w))})]})]})}),r.jsxs("div",{className:"flex justify-between p-6 bg-gray-50 border-t",children:[r.jsx(fe,{variant:"outline",onClick:F,className:"px-8 h-12 rounded-xl",children:"Xóa Tất Cả"}),r.jsx(fe,{onClick:_,className:"px-8 h-12 rounded-xl bg-purple-600 hover:bg-purple-700",children:"Áp Dụng Bộ Lọc"})]})]})}),c?r.jsx("div",{className:"py-16 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:"😔"}),r.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Oops! Có lỗi xảy ra"}),r.jsx("p",{className:"text-gray-600",children:c})]})}):i?r.jsxs("div",{className:"py-16 text-center",children:[r.jsx("div",{className:"animate-spin h-12 w-12 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),r.jsx("p",{className:"text-lg text-gray-600",children:"Đang tải combo thời trang..."})]}):s.length===0?r.jsx("div",{className:"py-16 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),r.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Không tìm thấy combo"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Hãy thử điều chỉnh tiêu chí tìm kiếm hoặc bộ lọc"}),r.jsx(fe,{onClick:F,className:"rounded-full px-8",children:"Xóa Tất Cả Bộ Lọc"})]})}):r.jsx("div",{className:S==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8":"space-y-6",children:s.map(w=>r.jsxs(at,{className:`overflow-hidden group hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 border-0 shadow-lg ${S==="list"?"flex flex-col md:flex-row":""}`,children:[r.jsxs("div",{className:`relative ${S==="list"?"md:w-1/3 aspect-video md:aspect-square":"aspect-[4/3]"}`,children:[r.jsx(lt,{to:`/combos/${w.id}`,children:r.jsx("img",{src:w.imageSrc,alt:w.name,className:"h-full w-full object-cover transition-transform duration-700 group-hover:scale-110"})}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),r.jsx(fe,{variant:"secondary",size:"icon",className:"absolute top-4 right-4 w-12 h-12 rounded-full bg-white/90 backdrop-blur-sm shadow-lg hover:bg-white hover:scale-110 transition-all duration-300",onClick:()=>E(w.id),children:r.jsx(Ts,{className:`h-5 w-5 transition-colors duration-300 ${w.isFavorite?"fill-red-500 text-red-500":"text-gray-600"}`})}),r.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[w.daGiamPercentage>0&&r.jsxs(Vt,{className:"bg-blue-500 text-white font-bold px-3 py-1 rounded-full",children:["Giảm giá so với mua lẻ-",w.daGiamPercentage,"%"]}),w.khuyenMaiPercentage>0&&r.jsxs(Vt,{className:"bg-red-500 text-white font-bold px-3 py-1 rounded-full animate-pulse",children:["Khuyến mãi -",w.khuyenMaiPercentage,"%"]})]}),r.jsx("div",{className:"absolute bottom-4 left-4",children:r.jsxs(Vt,{className:"bg-purple-600 text-white px-3 py-1 rounded-full font-semibold",children:[r.jsx(ir,{className:"h-4 w-4 mr-1"}),w.productCount," sản phẩm"]})})]}),r.jsx(dt,{className:`p-6 ${S==="list"?"md:w-2/3 flex-1":""}`,children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex items-center",children:[...Array(5)].map((C,j)=>r.jsx(or,{className:Ue("h-4 w-4",j<Math.floor(w.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300")},j))}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:w.rating.toFixed(1)})]}),r.jsx(lt,{to:`/combos/${w.id}`,className:"block group-hover:text-purple-600 transition-colors",children:r.jsx("h3",{className:"font-bold text-xl text-gray-800 line-clamp-2 leading-tight",children:w.name})}),r.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:w.description}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[w.products.slice(0,3).map((C,j)=>r.jsx(Vt,{variant:"secondary",className:"text-xs",children:C},j)),w.products.length>3&&r.jsxs(Vt,{variant:"outline",className:"text-xs",children:["+",w.products.length-3," khác"]})]}),r.jsx(Ys,{}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-baseline gap-3",children:[r.jsxs("span",{className:"text-2xl font-bold text-red-600",children:[w.price.toLocaleString("vi-VN")," VND"]}),w.khuyenMaiPercentage>0&&r.jsxs("span",{className:"text-lg line-through text-gray-500",children:[(w.price/(1-w.khuyenMaiPercentage/100)).toLocaleString("vi-VN")," VND"]})]}),w.savings>0&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Vt,{className:"bg-green-100 text-green-700 hover:bg-green-100",children:[r.jsx(Gc,{className:"h-3 w-3 mr-1"}),"Tiết kiệm ",w.savings.toLocaleString("vi-VN")," VND"]}),r.jsxs(Vt,{className:"bg-orange-100 text-orange-700 hover:bg-orange-100",children:["Giảm giá lên đến ",w.savingsPercentage,"%"]})]})]}),r.jsx("div",{className:"flex gap-3 pt-2",children:r.jsx(fe,{asChild:!0,variant:"outline",size:"sm",className:"flex-1 rounded-full hover:bg-purple-50 hover:border-purple-300",children:r.jsxs(lt,{to:`/combos/${w.id}`,children:[r.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Chi tiết"]})})})]})})]},w.id))}),s.length>0&&r.jsx("div",{className:"mt-16 bg-gradient-to-r from-purple-100 to-indigo-100 rounded-3xl p-8",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 text-center",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-3xl font-bold text-purple-600",children:s.length}),r.jsx("div",{className:"text-gray-600 font-medium",children:"Combo Available"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-3xl font-bold text-indigo-600",children:s.length>0?Math.round(s.reduce((w,C)=>w+C.rating,0)/s.length*10)/10:0}),r.jsx("div",{className:"text-gray-600 font-medium",children:"Đánh giá trung bình"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[s.length>0?Math.round(s.reduce((w,C)=>w+C.savingsPercentage,0)/s.length):0,"%"]}),r.jsx("div",{className:"text-gray-600 font-medium",children:"Tiết kiệm trung bình"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-3xl font-bold text-orange-600",children:s.reduce((w,C)=>w+C.productCount,0)}),r.jsx("div",{className:"text-gray-600 font-medium",children:"Tổng sản phẩm"})]})]})}),r.jsxs("div",{className:"mt-16 text-center bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-3xl p-12",children:[r.jsx(Xs,{className:"h-16 w-16 mx-auto mb-6 text-yellow-400"}),r.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Không tìm thấy combo ưng ý?"}),r.jsx("p",{className:"text-xl mb-8 text-purple-100",children:"Hãy liên hệ với chúng tôi để được tư vấn combo phù hợp nhất cho bạn"}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsx(fe,{variant:"secondary",size:"lg",className:"rounded-full px-8 h-14 text-lg font-semibold",children:"Tư vấn miễn phí"}),r.jsx(fe,{variant:"outline",size:"lg",className:"rounded-full px-8 h-14 text-lg font-semibold border-2 border-white text-white hover:bg-white hover:text-purple-600",children:"Xem thêm combo"})]})]}),r.jsx("div",{className:"mt-16 bg-white rounded-3xl shadow-xl p-8",children:r.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[r.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Đăng ký nhận thông tin combo mới"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Được cập nhật những combo thời trang hot nhất và ưu đãi độc quyền"}),r.jsxs("form",{className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto",children:[r.jsx(je,{type:"email",placeholder:"Email của bạn",className:"flex-1 h-12 rounded-full border-2 px-6"}),r.jsx(fe,{type:"submit",className:"h-12 px-8 rounded-full bg-purple-600 hover:bg-purple-700",children:"Đăng ký"})]})]})})]})]})},Fv="https://via.placeholder.com/150",Boe=({message:n,type:t,onClose:e})=>(k.useEffect(()=>{const s=setTimeout(e,3e3);return()=>clearTimeout(s)},[e]),r.jsxs("div",{className:Ue("fixed top-4 right-4 p-4 rounded-lg shadow-lg z-50 font-roboto",t==="success"?"bg-green-500 text-white":"bg-red-500 text-white"),children:[r.jsx("p",{children:n}),r.jsx("button",{onClick:e,className:"absolute top-1 right-1 text-white hover:text-gray-200",children:"×"})]})),Eoe=({isOpen:n,onClose:t,onConfirm:e})=>n?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 font-roboto",children:r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-64",children:[r.jsx("h3",{className:"text-lg font-medium mb-4",children:"Xác nhận xóa"}),r.jsx("p",{className:"mb-6",children:"Bạn có chắc muốn xóa bình luận này không?"}),r.jsxs("div",{className:"flex justify-end gap-4",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400",children:"Không"}),r.jsx("button",{onClick:e,className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600",children:"Có"})]})]})}):null,Moe=n=>{const e=new DOMParser().parseFromString(pd.sanitize(n,{ADD_TAGS:["img"],ADD_ATTR:["src"]}),"text/html"),s=[],a=c=>{c.nodeType===3?s.push(c.textContent.trim()):c.nodeType===1&&c.tagName!=="IMG"&&c.childNodes.forEach(a)};a(e.body);const i=s.join(" ").trim(),o=Array.from(e.querySelectorAll("img")).map(c=>c.src);return{textContent:i,images:o}},Poe=({maCombo:n})=>{var P;const[t,e]=k.useState([]),[s,a]=k.useState(""),[i,o]=k.useState(0),[c,l]=k.useState(new Set),[d,u]=k.useState(!1),[f,h]=k.useState(null),[m,A]=k.useState(null),[g,p]=k.useState(0),b=(B,D)=>A({message:B,type:D}),x=()=>A(null);k.useEffect(()=>{(async()=>{try{const D=await fetch("https://bicacuatho.azurewebsites.net/api/Comment/list");if(!D.ok)throw new Error("Failed to fetch comments");const O=(await D.json()).filter(E=>E.maCombo!==null&&E.maCombo!==0&&E.maCombo===parseInt(n,10)&&E.trangThai===1).map(E=>({...E,soTimBinhLuan:E.soTimBinhLuan||0,tenCombo:E.tenCombo||`Combo ${E.maCombo}`})).sort((E,T)=>T.soTimBinhLuan-E.soTimBinhLuan);if(O.length>0){const E=O.reduce((T,w)=>T+(w.danhGia||0),0);p(E/O.length)}else p(0);const F=JSON.parse(localStorage.getItem("user")),_=F==null?void 0:F.maNguoiDung;if(_){const E=`likedComments_${_}`,T=JSON.parse(localStorage.getItem(E))||[];l(new Set(T))}e(O)}catch(D){console.error("Error fetching comments:",D),b("Có lỗi xảy ra khi tải bình luận!","error"),p(0)}})()},[n]);const v=B=>{h(B),u(!0)},y=async()=>{if(f)try{if(!(await fetch(`https://bicacuatho.azurewebsites.net/api/Comment/delete/${f}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Failed to delete comment");e(D=>{const L=D.filter(O=>O.maBinhLuan!==f);if(L.length>0){const O=L.reduce((F,_)=>F+(_.danhGia||0),0);p(O/L.length)}else p(0);return L}),b("Xóa bình luận thành công!","success")}catch(B){console.error("Error deleting comment:",B),b("Có lỗi xảy ra khi xóa bình luận!","error")}finally{u(!1),h(null)}},S=async B=>{const D=JSON.parse(localStorage.getItem("user")),L=D==null?void 0:D.maNguoiDung;if(!L){b("Vui lòng đăng nhập để thích bình luận!","error");return}const O=c.has(B),F=O?`https://bicacuatho.azurewebsites.net/api/Comment/Unlike/${B}`:`https://bicacuatho.azurewebsites.net/api/Comment/Like/${B}`;try{if(!(await fetch(F,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Failed to update like status");e(E=>E.map(T=>T.maBinhLuan===B?{...T,soTimBinhLuan:O?Math.max(0,T.soTimBinhLuan-1):T.soTimBinhLuan+1}:T).sort((T,w)=>w.soTimBinhLuan-T.soTimBinhLuan)),l(E=>{const T=new Set(E);O?T.delete(B):T.add(B);const w=`likedComments_${L}`;return localStorage.setItem(w,JSON.stringify([...T])),T}),b(O?"Đã bỏ thích bình luận!":"Đã thích bình luận!","success")}catch(_){console.error("Error updating like status:",_),b("Có lỗi xảy ra khi cập nhật số tim!","error")}},M=(P=JSON.parse(localStorage.getItem("user")))==null?void 0:P.maNguoiDung;return r.jsxs("div",{className:"mt-12 comments",children:[m&&r.jsx(Boe,{message:m.message,type:m.type,onClose:x}),r.jsx(Eoe,{isOpen:d,onClose:()=>u(!1),onConfirm:y}),r.jsx("h2",{className:"text-2xl font-medium mb-6",children:"Đánh Giá"}),r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg font-medium",children:"Đánh giá trung bình:"}),r.jsx("div",{className:"flex",children:Array.from({length:5}).map((B,D)=>r.jsx(or,{className:Ue("w-5 h-5",D<Math.floor(g)?"fill-yellow-400 text-yellow-400":"text-gray-300")},D))}),r.jsxs("span",{className:"text-lg font-medium",children:[g.toFixed(1)," / 5"]})]})}),r.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:t.length===0?r.jsx("p",{className:"text-muted-foreground",children:"Chưa có bình luận nào."}):t.map(B=>{const{textContent:D,images:L}=Moe(B.noiDungBinhLuan||"Chưa cập nhật");return r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("img",{src:B.hinhAnh||Fv,alt:`Ảnh của ${B.hoTen||B.maNguoiDung}`,className:"w-12 h-12 rounded-full object-cover border border-border",onError:O=>{console.warn(`Failed to load image for comment ${B.maBinhLuan}, using default`),O.target.src=Fv}})}),r.jsxs("div",{className:"flex-1 flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center mb-2",children:Array.from({length:5}).map((O,F)=>r.jsx(or,{className:Ue("w-4 h-4",F<B.danhGia?"fill-yellow-400 text-yellow-400":"text-gray-300")},F))}),r.jsx("div",{className:"text-gray-800 line-clamp-3 mb-2",style:{whiteSpace:"pre-line"},children:D||"Chưa cập nhật"}),L.length>0&&r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:L.map((O,F)=>r.jsx("img",{src:O,alt:`Hình ảnh bình luận ${F+1}`,className:"w-48 h-auto object-contain rounded",style:{maxWidth:"225px"},onError:_=>{console.warn(`Failed to load comment image ${F+1}`),_.target.src=Fv}},F))}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Bởi ",B.hoTen||B.maNguoiDung," -"," ",new Date(B.ngayBinhLuan).toLocaleDateString()," -"," ","Combo: ",B.tenCombo||B.maCombo]}),r.jsx("div",{className:"flex items-center mt-2",children:r.jsxs("button",{onClick:()=>S(B.maBinhLuan),className:"flex items-center gap-1",children:[r.jsx(Ts,{className:Ue("w-5 h-5",c.has(B.maBinhLuan)?"fill-red-500 text-red-500":"text-gray-400")}),r.jsx("span",{children:B.soTimBinhLuan})]})})]}),B.maNguoiDung===M&&r.jsx("button",{onClick:()=>v(B.maBinhLuan),className:"text-red-500 hover:text-red-700 transition-colors",children:r.jsx(Ma,{className:"w-5 h-5"})})]})]},B.maBinhLuan)})}),r.jsx("style",{children:`
        .comments .line-clamp-3 {
          display: -webkit-box;
          -webkit-line-clamp: 3;
          -webkit-box-orient: vertical;
          overflow: hidden;
          whiteSpace: pre-line;
        }
      `})]})},Doe=()=>{const{id:n}=oh(),t=dr(),[e,s]=k.useState(null),[a,i]=k.useState(""),[o,c]=k.useState(1),[l,d]=k.useState(!0),[u,f]=k.useState({}),[h,m]=k.useState({}),[A,g]=k.useState({}),[p,b]=k.useState(!1),[x,v]=k.useState(null),y=(O,F)=>Ce.fire({title:F==="error"?"Lỗi!":F==="warning"?"Cảnh báo!":"Thành công!",text:O,icon:F,timer:2e3,timerProgressBar:!0,showConfirmButton:!1}),S=O=>{const F=O.sanPhams.reduce((j,N)=>j+N.donGia*N.soLuong,0),_=O.gia,E=O.khuyenMaiMax||0,T=Math.round((F-_)/F*100),w=_*(1-E/100),C=F-w;return{originalTotalPrice:F,comboBasePrice:_,finalPrice:w,totalSavings:C,bundleDiscountPercent:T,promotionPercent:E}};k.useEffect(()=>{(async()=>{try{d(!0);const F=await fetch(`https://bicacuatho.azurewebsites.net/api/Combo/ComboSanPhamView?id=${n}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!F.ok)throw new Error(`HTTP error! Status: ${F.status}`);const _=await F.json(),E=S(_[0]),T={id:_[0].maCombo,name:_[0].name,description:_[0].moTa||"Không có mô tả",longDescription:_[0].moTa||"Không có mô tả chi tiết",image:_[0].hinhAnh?`data:image/jpeg;base64,${_[0].hinhAnh}`:"https://images.unsplash.com/photo-1531297484001-80022131f5a1",images:_[0].hinhAnh?[`data:image/jpeg;base64,${_[0].hinhAnh}`]:["https://images.unsplash.com/photo-1531297484001-80022131f5a1","https://images.unsplash.com/photo-1581091226825-a6a2a5aee158","https://images.unsplash.com/photo-1488590528505-98d2b5aba04b"],rating:4.8,reviews:[{id:1,user:"Madison K.",date:"April 2, 2025",rating:5,comment:"Giá trị tuyệt vời! Cả ba sản phẩm kết hợp hoàn hảo và chất lượng tuyệt vời."},{id:2,user:"Ryan T.",date:"March 28, 2025",rating:5,comment:"Mua cho vợ và cô ấy rất thích. Màu sắc rất đẹp."},{id:3,user:"Jamie L.",date:"March 15, 2025",rating:4,comment:"Combo tuyệt vời, nhưng tôi mong có thêm lựa chọn kích thước cho váy."}],isFavorite:!1,products:_[0].sanPhams.map(C=>({id:C.idSanPham,name:C.name,brand:C.thuongHieu,category:C.loaiSanPham,price:C.donGia,quantity:C.soLuong,material:C.chatLieu,description:C.moTa||"Không có mô tả chi tiết",image:C.hinh&&C.hinh.length>0?`data:image/jpeg;base64,${C.hinh[0]}`:"https://images.unsplash.com/photo-1649972904349-6e44c42644a7",colors:C.mauSac||[],sizes:C.kichThuoc||[]})),originalTotalPrice:E.originalTotalPrice,comboBasePrice:E.comboBasePrice,finalPrice:E.finalPrice,totalSavings:E.totalSavings,bundleDiscountPercent:E.bundleDiscountPercent,promotionPercent:E.promotionPercent,stock:_[0].soLuong,createdDate:_[0].ngayTao,status:_[0].trangThai},w=T.products.reduce((C,j)=>({...C,[j.id]:{colorIndex:null,sizeIndex:null}}),{});f(w),s(T),i(T.image);try{const C=JSON.parse(localStorage.getItem("user")||"{}"),j=C==null?void 0:C.maNguoiDung;if(j){const N=await fetch("https://bicacuatho.azurewebsites.net/api/YeuThich",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!N.ok)throw new Error("Failed to fetch favorites");const R=(await N.json()).find(U=>U.maCombo===T.id&&U.maNguoiDung===j);R&&(b(!0),v(R.maYeuThich))}}catch(C){console.error("Error checking favorite status:",C)}}catch(F){console.error("Error fetching combo:",F),y("Không thể tải thông tin combo!","error")}finally{d(!1)}})()},[n]);const M=async(O,F)=>{try{const _=F.replace("#",""),E=await fetch(`https://bicacuatho.azurewebsites.net/api/SanPham/SanPhamByIDSorted?id=${O}_${_}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!E.ok)throw new Error("Không thể lấy thông tin kích thước và số lượng");const T=await E.json(),C=(Array.isArray(T)?T[0]:T).details.map(j=>({size:j.kichThuoc.trim(),quantity:j.soLuong,price:j.gia}));m(j=>({...j,[O]:C}))}catch(_){console.error("Lỗi khi lấy thông tin kích thước:",_),y("Không thể lấy thông tin kích thước. Vui lòng thử lại.","error")}},P=(O,F,_)=>{f(E=>{const T={...E,[O]:{...E[O],[F]:_}};if(F==="colorIndex"){const w=e.products.find(C=>C.id===O).colors[_];M(O,`#${w}`),g(C=>({...C,[O]:!0})),T[O].sizeIndex=null}return T})},B=async()=>{const O=JSON.parse(localStorage.getItem("user")||"{}"),F=O==null?void 0:O.maNguoiDung;if(!F){y("Bạn cần đăng nhập để thêm combo vào giỏ hàng.","warning").then(()=>{t("/login")});return}if(e.products.filter(T=>u[T.id].colorIndex===null||u[T.id].sizeIndex===null).length>0){y("Vui lòng chọn màu sắc và kích thước cho tất cả sản phẩm trong combo!","error");return}const E={IDKhachHang:F,IDCombo:Number(e.id),SoLuong:Number(o),Detail:e.products.map(T=>({MaSanPham:String(T.id),MauSac:T.colors[u[T.id].colorIndex].replace("#",""),KichThuoc:h[T.id][u[T.id].sizeIndex].size}))};try{const T=await fetch("https://bicacuatho.azurewebsites.net/api/Cart/ThemComboVaoGioHang",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(E)});if(!T.ok){const w=await T.text();throw new Error(`Không thể thêm combo vào giỏ hàng: ${w}`)}y("Đã thêm combo vào giỏ hàng thành công!","success")}catch(T){y(`Có lỗi xảy ra khi thêm vào giỏ hàng: ${T.message}`,"error")}},D=async()=>{const O=JSON.parse(localStorage.getItem("user")||"{}"),F=O==null?void 0:O.maNguoiDung,_=O==null?void 0:O.hoTen;if(!F){y("Vui lòng đăng nhập để thêm combo vào danh sách yêu thích!","warning").then(()=>{t("/auth/login")});return}if(p)try{if(!(await fetch(`https://bicacuatho.azurewebsites.net/api/YeuThich/${x}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Không thể xóa combo khỏi danh sách yêu thích");b(!1),v(null),y("Đã xóa combo khỏi danh sách yêu thích!","success")}catch{y("Có lỗi xảy ra khi xóa combo yêu thích!","error")}else{const E={maCombo:e.id,tenCombo:e.name,maNguoiDung:F,hoTen:_,soLuongYeuThich:1,ngayYeuThich:new Date().toISOString()};try{const T=await fetch("https://bicacuatho.azurewebsites.net/api/YeuThich",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(E)});if(!T.ok)throw new Error("Không thể thêm combo vào danh sách yêu thích");const w=await T.json();b(!0),v(w.maYeuThich),y("Đã thêm combo vào danh sách yêu thích!","success")}catch{y("Có lỗi xảy ra khi thêm combo yêu thích!","error")}}},L=O=>new Intl.NumberFormat("vi-VN").format(O)+" VND";return l?r.jsx("div",{className:"container mx-auto py-8",children:r.jsxs("div",{className:"animate-pulse space-y-4",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"aspect-video bg-gray-200 rounded-lg"}),r.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3].map(O=>r.jsx("div",{className:"aspect-square bg-gray-200 rounded-md"},O))})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),r.jsx("div",{className:"h-32 bg-gray-200 rounded"})]})]})]})}):e?r.jsxs("div",{className:"container mx-auto py-8",children:[r.jsx("div",{className:"mb-4",children:r.jsx(lt,{to:"/combos",className:"text-crocus-600 hover:underline flex items-center gap-1",children:"← Quay về Trang Danh Sách Combo"})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"aspect-video rounded-lg overflow-hidden bg-gray-100 relative",children:[r.jsx("img",{src:a,alt:e.name,className:"w-full h-full object-cover"}),r.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[e.bundleDiscountPercent>0&&r.jsxs("div",{className:"right-4 bg-blue-500 text-white p-3 rounded shadow-lg z-10 flex flex-col items-center",children:[r.jsx("div",{className:"text-xs font-medium",children:"Đã Giảm"}),r.jsxs("div",{className:"text-lg font-bold",children:[e.bundleDiscountPercent,"%"]})]}),e.promotionPercent>0&&r.jsxs("div",{className:"right-4 bg-gradient-to-br from-red-500 to-red-600 text-white p-3 min-w-[80px] min-h-[80px] flex flex-col items-center justify-center shadow-lg z-10 rounded",children:[r.jsx("div",{className:"text-xs font-medium",children:"Khuyến Mãi"}),r.jsxs("div",{className:"text-lg font-bold",children:[" -",e.promotionPercent,"%"]})]})]})]}),r.jsx("div",{className:"grid grid-cols-3 gap-4",children:e.images.map((O,F)=>r.jsx("button",{onClick:()=>i(O),className:`aspect-square rounded-md overflow-hidden border-2 transition-all ${a===O?"border-crocus-500":"border-gray-200 opacity-70 hover:opacity-100"}`,children:r.jsx("img",{src:O,alt:`${e.name} view ${F+1}`,className:"w-full h-full object-cover"})},F))})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:e.name}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-4",children:[r.jsxs("span",{children:["Mã combo: ",e.id]}),r.jsx("span",{children:"•"}),r.jsxs("span",{children:["Còn lại: ",e.stock," combo"]})]})]}),r.jsx(fe,{variant:"ghost",onClick:D,className:"h-10 w-10 p-0 hover:bg-red-50",children:r.jsx(Ts,{className:`h-6 w-6 transition-colors ${p?"fill-red-500 text-red-500":"text-gray-400 hover:text-red-500"}`})})]}),r.jsxs("div",{className:"bg-gradient-to-r from-crocus-50 to-purple-50 p-4 rounded-lg space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-3xl font-bold text-crocus-600",children:L(e.finalPrice)}),r.jsxs("div",{className:"flex gap-2",children:[e.bundleDiscountPercent>0&&r.jsxs(Vt,{variant:"secondary",className:"bg-red-100 text-red-700",children:["-",e.bundleDiscountPercent,"%"]}),e.promotionPercent>0&&r.jsxs(Vt,{variant:"secondary",className:"bg-green-100 text-green-700",children:["-",e.promotionPercent,"%"]})]})]}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-500",children:"Giá các sản phẩm riêng lẻ:"}),r.jsx("span",{className:"line-through text-gray-400",children:L(e.originalTotalPrice)})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("span",{className:"text-green-600 font-medium",children:["Tiết kiệm được: ",L(e.totalSavings)]})})]})]})]}),r.jsx("div",{className:"prose max-w-none",children:r.jsxs("p",{className:"text-gray-700",children:[r.jsx("strong",{children:"Mô tả:"})," ",e.description]})}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:["Sản Phẩm Trong Combo (",e.products.length," sản phẩm)"]}),r.jsx("div",{className:"space-y-4",children:e.products.map(O=>{var F;return r.jsx(at,{className:"overflow-hidden",children:r.jsx(dt,{className:"p-4",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(lt,{to:`/products/${O.id}`,children:r.jsx("img",{src:O.image,alt:O.name,className:"w-16 h-16 object-cover rounded-md"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx(lt,{to:`/products/${O.id}`,children:r.jsx("h4",{className:"font-medium text-gray-900 truncate",children:O.name})}),r.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[r.jsxs("div",{children:["Thương hiệu: ",O.brand]}),r.jsxs("div",{children:["Loại: ",O.category]}),r.jsxs("div",{children:["Chất liệu: ",O.material]})]})]}),r.jsxs("div",{className:"text-right flex-shrink-0",children:[r.jsx("div",{className:"text-lg font-semibold text-crocus-600",children:L(O.price)}),r.jsxs("div",{className:"text-sm text-gray-500",children:["x",O.quantity]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Màu Sắc *"}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:O.colors.map((_,E)=>{var T;return r.jsx("button",{onClick:()=>P(O.id,"colorIndex",E),className:`w-8 h-8 rounded-full border-2 transition-all hover:scale-110 ${((T=u[O.id])==null?void 0:T.colorIndex)===E?"border-crocus-500 ring-2 ring-crocus-200":"border-gray-300 hover:border-gray-400"}`,style:{backgroundColor:`#${_}`},title:`Màu #${_}`},E)})})]}),A[O.id]&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kích Thước *"}),((F=h[O.id])==null?void 0:F.length)>0?r.jsx("div",{className:"flex gap-2 flex-wrap",children:h[O.id].map((_,E)=>{var T;return r.jsxs("button",{onClick:()=>P(O.id,"sizeIndex",E),className:`px-3 py-2 border rounded-md text-sm transition-all ${((T=u[O.id])==null?void 0:T.sizeIndex)===E?"border-crocus-500 bg-crocus-50 text-crocus-700":"border-gray-300 hover:border-gray-400"} ${_.quantity===0?"opacity-50 cursor-not-allowed bg-gray-50":"hover:shadow-sm"}`,disabled:_.quantity===0,children:[_.size,r.jsxs("span",{className:`ml-1 text-xs ${_.quantity===0?"text-red-500":"text-gray-500"}`,children:["(",_.quantity===0?"Hết hàng":`${_.quantity} còn lại`,")"]})]},E)})}):r.jsx("p",{className:"text-sm text-red-500 bg-red-50 p-2 rounded",children:"Không có kích thước nào khả dụng cho màu này."})]})]})]})]})})},O.id)})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số Lượng"}),r.jsxs("div",{className:"flex items-center border border-gray-200 rounded-md w-32",children:[r.jsx("button",{onClick:()=>c(O=>Math.max(1,O-1)),className:"px-3 py-2 text-gray-500 hover:text-gray-700 hover:bg-gray-50 transition-colors",children:"-"}),r.jsx("span",{className:"flex-1 text-center py-2 font-medium",children:o}),r.jsx("button",{onClick:()=>c(O=>Math.min(e.stock,O+1)),className:"px-3 py-2 text-gray-500 hover:text-gray-700 hover:bg-gray-50 transition-colors",children:"+"})]})]}),r.jsxs(fe,{onClick:B,className:"w-full bg-crocus-600 hover:bg-crocus-700 text-white font-medium py-3 text-lg transition-colors",disabled:e.stock===0,children:[r.jsx(vs,{className:"mr-2 h-5 w-5"}),e.stock===0?"Hết hàng":"Thêm Vào Giỏ Hàng"]}),e.stock<=5&&e.stock>0&&r.jsxs("p",{className:"text-orange-600 text-sm text-center font-medium",children:["⚠️ Chỉ còn ",e.stock," combo cuối cùng!"]})]})]})]}),r.jsx(Poe,{maCombo:n})]}):r.jsxs("div",{className:"container mx-auto py-8 text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-500",children:"Không tìm thấy combo"}),r.jsx(lt,{to:"/combos",className:"text-crocus-600 hover:underline mt-4 inline-block",children:"← Quay về Trang Danh Sách Combo"})]})},Ioe={1:{text:"Admin",textColor:"text-emerald-700"},2:{text:"Nhân Viên",textColor:"text-blue-700"},0:{text:"Khác",textColor:"text-gray-700"}},RI=({post:n,nguoiDung:t})=>{lh();const e=n.metaDescription?n.metaDescription.length>100?n.metaDescription.slice(0,100)+"...":n.metaDescription:n.noiDung.length>100?n.noiDung.slice(0,100)+"...":n.noiDung,s=new Date(n.ngayTao).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"}),a=n.hoTen&&n.hoTen!==n.maNguoiDung?n.hoTen:t!=null&&t.hoTen?t.hoTen:n.maNguoiDung.replace(/\d+$/,"").trim()||"Không rõ",{text:i,textColor:o}=Ioe[(t==null?void 0:t.vaiTro)??0];return r.jsxs(at,{className:"hover:shadow-lg transition-shadow duration-300",children:[n.hinhAnh&&n.slug&&r.jsx(lt,{to:`/blogs/${n.slug}`,"aria-label":`Xem chi tiết bài viết ${n.tieuDe}`,children:r.jsx("div",{className:"w-full h-48 flex items-center justify-center bg-gray-100",children:r.jsx("img",{src:`data:image/jpeg;base64,${n.hinhAnh}`,alt:n.moTaHinhAnh||n.tieuDe,className:"max-w-full max-h-full object-contain rounded-t-md"})})}),r.jsx(yt,{children:r.jsx(Ct,{className:"text-lg font-semibold whitespace-normal break-words",children:n.slug?r.jsx(lt,{to:`/blogs/${n.slug}`,"aria-label":`Xem chi tiết bài viết ${n.tieuDe}`,children:n.tieuDe}):n.tieuDe})}),r.jsxs(dt,{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-gray-600",children:e}),n.chuDe&&r.jsxs("div",{className:"text-sm text-gray-500 italic",children:["Chủ đề: ",n.chuDe]}),r.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[r.jsxs("div",{children:[r.jsxs("span",{children:["Người tạo: ",a]}),(t==null?void 0:t.vaiTro)!==void 0&&r.jsx("span",{className:`ml-2 px-2 py-1 rounded text-sm font-medium ${o}`,children:i})]}),r.jsxs("span",{children:["Ngày tạo: ",s]})]}),n.tags&&n.tags.length>0&&r.jsx("div",{className:"flex flex-wrap gap-1",children:n.tags.map((c,l)=>r.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:c},l))}),r.jsx("div",{className:"text-xs text-gray-500",children:r.jsxs("span",{children:["Lượt thích: ",n.likes]})})]})]})},Ooe=()=>{const[n,t]=k.useState(""),[e,s]=k.useState("newest"),[a,i]=k.useState([]),[o,c]=k.useState({}),[l,d]=k.useState(!0),[u,f]=k.useState(1),h=6,m=lh(),A=async()=>{try{d(!0);const M=await St.get("https://bicacuatho.azurewebsites.net/api/Blog");i(M.data);const P=[...new Set(M.data.map(O=>O.maNguoiDung))],B=P.map(O=>St.get(`https://bicacuatho.azurewebsites.net/api/NguoiDung/${O}`).catch(()=>null)),D=await Promise.all(B),L=P.reduce((O,F,_)=>{var E;return O[F]=((E=D[_])==null?void 0:E.data)||null,O},{});c(L)}catch{rs.error("Không thể tải danh sách blog hoặc thông tin người dùng.")}finally{d(!1)}};k.useEffect(()=>{A()},[]);const g=k.useMemo(()=>{let M=a.filter(P=>P.isPublished);switch(n&&(M=M.filter(P=>{var B;return P.tieuDe.toLowerCase().includes(n.toLowerCase())||P.noiDung.toLowerCase().includes(n.toLowerCase())||((B=P.chuDe)==null?void 0:B.toLowerCase().includes(n.toLowerCase()))||P.tags&&P.tags.some(D=>D.toLowerCase().includes(n.toLowerCase()))})),e){case"newest":return[...M].sort((P,B)=>new Date(B.ngayTao).getTime()-new Date(P.ngayTao).getTime());case"oldest":return[...M].sort((P,B)=>new Date(P.ngayTao).getTime()-new Date(B.ngayTao).getTime());case"title_asc":return[...M].sort((P,B)=>P.tieuDe.localeCompare(B.tieuDe));case"title_desc":return[...M].sort((P,B)=>B.tieuDe.localeCompare(B.tieuDe));default:return M}},[n,e,a]),p=u*h,b=p-h,x=g.slice(b,p),v=Math.ceil(g.length/h),y=()=>{t(""),s("newest"),f(1)},S=()=>{const M=[],B=Math.floor(2.5);let D=Math.max(1,u-B),L=Math.min(v,u+B);L-D+1<5&&(D===1?L=Math.min(v,D+5-1):D=Math.max(1,L-5+1));for(let O=D;O<=L;O++)M.push(O);return M};return r.jsxs("div",{className:"space-y-6 p-4 sm:p-6 bg-gray-50 min-h-screen",children:[r.jsx(Ah,{position:"top-right"}),r.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-800",children:"Danh sách tin tức"}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(je,{placeholder:"Tìm kiếm bài viết...",value:n,onChange:M=>t(M.target.value),className:"w-full pl-10 pr-4 py-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500","aria-label":"Tìm kiếm bài viết"}),r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"🔍"})]}),r.jsxs(hn,{value:e,onValueChange:s,children:[r.jsx(on,{className:m?"w-full":"w-[180px]","aria-label":"Sắp xếp bài viết",children:r.jsx(fn,{placeholder:"Sắp xếp"})}),r.jsxs(ln,{children:[r.jsx(Ve,{value:"newest",children:"Mới nhất"}),r.jsx(Ve,{value:"oldest",children:"Cũ nhất"}),r.jsx(Ve,{value:"title_asc",children:"Tiêu đề (A-Z)"}),r.jsx(Ve,{value:"title_desc",children:"Tiêu đề (Z-A)"})]})]})]}),l?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ns,{className:"h-8 w-8 animate-spin mx-auto text-blue-500"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Đang tải..."})]}):g.length===0?r.jsxs("div",{className:"text-center py-6 sm:py-12 border rounded-md bg-gray-50",children:[r.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:"Không tìm thấy bài viết"}),r.jsx("p",{className:"text-gray-600 mb-4 px-4",children:"Thử điều chỉnh bộ lọc hoặc tìm kiếm khác"}),r.jsx(fe,{size:m?"sm":"default",onClick:y,className:"bg-blue-600 text-white hover:bg-blue-700",children:"Đặt lại bộ lọc"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:x.map(M=>r.jsx(RI,{post:M,nguoiDung:o[M.maNguoiDung]||null},M.maBlog))}),v>1&&r.jsxs("div",{className:"flex justify-center items-center gap-2 mt-8",children:[r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>f(1),disabled:u===1,className:"border-gray-300 hover:bg-gray-100","aria-label":"Trang đầu",children:"Đầu"}),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>f(M=>Math.max(1,M-1)),disabled:u===1,className:"border-gray-300 hover:bg-gray-100","aria-label":"Trang trước",children:"Trước"}),S().map(M=>r.jsx(fe,{variant:u===M?"default":"outline",size:"sm",onClick:()=>f(M),className:`${u===M?"bg-blue-600 text-white hover:bg-blue-700":"border-gray-300 hover:bg-gray-100"}`,"aria-label":`Trang ${M}`,children:M},M)),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>f(M=>Math.min(v,M+1)),disabled:u===v,className:"border-gray-300 hover:bg-gray-100","aria-label":"Trang sau",children:"Sau"}),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>f(v),disabled:u===v,className:"border-gray-300 hover:bg-gray-100","aria-label":"Trang cuối",children:"Cuối"})]})]}),r.jsxs("div",{className:"text-sm text-gray-500",children:[g.length," bài viết được tìm thấy"]})]})},DS=[{id:"1",title:"Summer 2025 Collection",excerpt:"Discover our new summer collection featuring the hottest trends in fashion with the 2025 Pantone color.",image:"https://images.unsplash.com/photo-1649972904349-6e44c42644a7?auto=format&fit=crop&w=800&h=450",date:"April 15, 2025",timestamp:new Date("2025-04-15"),author:"Emma Johnson",authorImage:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&w=60&h=60",category:"product",likes:128,comments:32,relatedProducts:[1,2]},{id:"2",title:"How to Style Crocus Purple",excerpt:"Learn how to incorporate the trending Crocus Purple color into your wardrobe this season.",image:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&w=800&h=450",date:"April 10, 2025",timestamp:new Date("2025-04-10"),author:"Michael Chen",authorImage:"https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?auto=format&fit=crop&w=60&h=60",category:"product",likes:95,comments:18,relatedProducts:[3]},{id:"3",title:"Perfect Outfit Combinations",excerpt:"Explore our curated outfit combinations that will elevate your style game.",image:"https://images.unsplash.com/photo-1539109136881-3be0616acf4b?auto=format&fit=crop&w=800&h=450",date:"April 5, 2025",timestamp:new Date("2025-04-05"),author:"Sophia Rodriguez",authorImage:"https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?auto=format&fit=crop&w=60&h=60",category:"combo",likes:156,comments:45,relatedCombos:[1,2]},{id:"4",title:"Sustainable Fashion Choices",excerpt:"Discover our eco-friendly clothing options that don't compromise on style.",image:"https://images.unsplash.com/photo-1523381210434-271e8be1f52b?auto=format&fit=crop&w=800&h=450",date:"March 28, 2025",timestamp:new Date("2025-03-28"),author:"Daniel Lee",authorImage:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&w=60&h=60",category:"product",likes:72,comments:14,relatedProducts:[1,4]},{id:"5",title:"Mix and Match with Combos",excerpt:"Learn the art of mixing and matching with our fashion combos to create versatile looks.",image:"https://images.unsplash.com/photo-1489987707025-afc232f7ea0f?auto=format&fit=crop&w=800&h=450",date:"March 20, 2025",timestamp:new Date("2025-03-20"),author:"Isabella Martinez",authorImage:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?auto=format&fit=crop&w=60&h=60",category:"combo",likes:110,comments:27,relatedCombos:[3,4]}],Loe=()=>{const[n,t]=k.useState("all"),[e,s]=k.useState(""),[a,i]=k.useState(""),[o,c]=k.useState("newest");return lh(),k.useMemo(()=>[...new Set(DS.map(l=>l.author))],[]),r.jsxs("div",{className:"py-6 sm:py-10 px-4 sm:px-6 container mx-auto",children:[r.jsx("div",{className:"hidden xs:block mb-2 sm:mb-4",children:r.jsxs("p",{className:"text-sm sm:text-base text-gray-600",children:[DS.filter(l=>(n==="all"||l.category===n)&&(!e||l.title.toLowerCase().includes(e.toLowerCase())||l.excerpt.toLowerCase().includes(e.toLowerCase()))&&(!a||l.author===a)).length," posts found"]})}),r.jsx(Ooe,{})]})},Rh=(n,t)=>Ce.fire({title:t==="error"?"Lỗi!":t==="warning"?"Cảnh báo!":"Thành công!",text:n,icon:t,timer:2e3,timerProgressBar:!0,showConfirmButton:!1}),Foe=()=>{const n=dr(),[t,e]=k.useState([]),[s,a]=k.useState([]),[i,o]=k.useState([]),[c,l]=k.useState([]),[d,u]=k.useState(!0),[f,h]=k.useState(null),[m,A]=k.useState(""),[g,p]=k.useState([]),[b,x]=k.useState([]),[v,y]=k.useState([]),[S,M]=k.useState([]),[P,B]=k.useState([]),[D,L]=k.useState(void 0),[O,F]=k.useState([]),[_,E]=k.useState([0,0]),[T,w]=k.useState("name_asc"),[C,j]=k.useState(!1),[N,I]=k.useState(!1);k.useEffect(()=>{(async()=>{try{u(!0);const Y=JSON.parse(localStorage.getItem("user")||"null");I(!!Y);const Z=(Y==null?void 0:Y.maNguoiDung)||null;if(!Z){u(!1),Rh("Vui lòng đăng nhập để xem danh sách yêu thích!","warning").then(()=>{n("/login")});return}const se=await fetch(`https://bicacuatho.azurewebsites.net/api/YeuThich?maNguoiDung=${Z}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!se.ok)throw new Error("Không thể lấy danh sách yêu thích");const re=await se.json(),le=await fetch("https://bicacuatho.azurewebsites.net/api/SanPham/ListSanPham",{headers:{Accept:"application/json"}});if(!le.ok)throw new Error("Không thể tải danh sách sản phẩm");const ae=await le.json(),ue=await fetch("https://bicacuatho.azurewebsites.net/api/Comment/list");if(!ue.ok)throw new Error("Không thể tải bình luận");const he=await ue.json(),pe=ae.map(me=>{const ve=me.id.split("_")[0]||me.id,Me=he.filter(_e=>_e.maSanPham===ve&&_e.trangThai===1),Be=Me.reduce((_e,Pe)=>_e+(Pe.danhGia||0),0),xe=Me.length>0?Be/Me.length:0,Te=re.find(_e=>_e.maSanPham===ve&&_e.maNguoiDung===Z);return{id:me.id,name:me.name,description:me.moTa||`Thương hiệu: ${me.thuongHieu||"Không xác định"} <br/> Chất liệu: ${me.chatLieu||"Không xác định"}`,imageSrc:me.hinh[0]?`data:image/jpeg;base64,${me.hinh[0]}`:"https://via.placeholder.com/300",price:me.donGia,category:me.loaiSanPham||"Không xác định",thuongHieu:me.thuongHieu||"Không xác định",chatLieu:me.chatLieu||"Không xác định",kichThuoc:me.kichThuoc||[],mauSac:me.mauSac||[],averageRating:xe,commentCount:Me.length,isFavorite:!!Te,hot:me.hot||!1,likedId:Te==null?void 0:Te.maYeuThich,hashtags:me.listHashTag||[],gioiTinh:me.gioiTinh||"Không xác định",trangThai:me.trangThai||0}}).filter(me=>me.isFavorite),Ae=await fetch("https://bicacuatho.azurewebsites.net/api/Combo/ComboSanPhamView");if(!Ae.ok)throw new Error("Không thể tải danh sách combo");const de=(await Ae.json()).map(me=>{var Me,Be,xe,Te;const ve=re.find(_e=>_e.maCombo===me.maCombo&&_e.maNguoiDung===Z);return{id:me.maCombo,name:me.name||"Không có tên",description:me.moTa||"Không có mô tả",imageSrc:me.hinhAnh?`data:image/jpeg;base64,${me.hinhAnh}`:"/placeholder-image.jpg",price:me.gia||0,products:Array.isArray(me.sanPhams)?me.sanPhams.map(_e=>_e.name||"Không có tên"):[],productCount:Array.isArray(me.sanPhams)?me.sanPhams.length:0,rating:4+Math.random()*.9,isFavorite:!!ve,occasion:(Me=me.moTa)!=null&&Me.includes("Casual")?"Casual":(Be=me.moTa)!=null&&Be.includes("Office")?"Office":(xe=me.moTa)!=null&&xe.includes("Evening")?"Evening":(Te=me.moTa)!=null&&Te.includes("Athletic")?"Athletic":"Other",savings:me.gia*.15,savingsPercentage:15,likedId:ve==null?void 0:ve.maYeuThich}}).filter(me=>me.isFavorite);e(pe),a(de),o(pe),l(de),E([Math.min(...[...pe,...de].map(me=>me.price))||0,Math.max(...[...pe,...de].map(me=>me.price))||0]),h(null)}catch(Y){console.error("Lỗi khi lấy danh sách yêu thích:",Y),h("Không thể tải danh sách yêu thích. Vui lòng thử lại sau."),Tn({title:"Lỗi",description:"Không thể tải danh sách yêu thích",variant:"destructive"})}finally{u(!1)}})()},[n]),k.useMemo(()=>[...new Set(t.flatMap(W=>W.mauSac))].sort(),[t]);const R=k.useMemo(()=>[...new Set(t.flatMap(W=>W.kichThuoc))].sort(),[t]),U=k.useMemo(()=>[...new Set(t.map(W=>W.thuongHieu))].sort(),[t]),V=k.useMemo(()=>[...new Set(t.map(W=>W.category||""))].sort(),[t]),z=k.useMemo(()=>[...new Set(t.map(W=>W.gioiTinh))].sort(),[t]),X=k.useMemo(()=>[...new Set(s.map(W=>W.occasion))].sort(),[s]),Q=k.useMemo(()=>{const W=[...t,...s];return W.length>0?Math.floor(Math.min(...W.map(Y=>Y.price))):0},[t,s]),q=k.useMemo(()=>{const W=[...t,...s];return W.length>0?Math.ceil(Math.max(...W.map(Y=>Y.price))):0},[t,s]);k.useEffect(()=>{let W=[...t],Y=[...s];if(m){const se=m.toLowerCase();W=W.filter(re=>re.name.toLowerCase().includes(se)),Y=Y.filter(re=>re.name.toLowerCase().includes(se))}g.length>0&&(W=W.filter(se=>g.some(re=>se.mauSac.includes(re)))),b.length>0&&(W=W.filter(se=>b.some(re=>se.kichThuoc.includes(re)))),v.length>0&&(W=W.filter(se=>v.includes(se.thuongHieu))),S.length>0&&(W=W.filter(se=>S.includes(se.category))),P.length>0&&(W=W.filter(se=>P.includes(se.gioiTinh))),D&&(Y=Y.filter(se=>se.productCount>=parseInt(D))),O.length>0&&(Y=Y.filter(se=>O.includes(se.occasion))),(_[0]>0||_[1]>0)&&(W=W.filter(se=>(_[0]===0||se.price>=_[0])&&(_[1]===0||se.price<=_[1])),Y=Y.filter(se=>(_[0]===0||se.price>=_[0])&&(_[1]===0||se.price<=_[1])));const Z=(se,re)=>{switch(T){case"name_asc":return se.name.localeCompare(re.name);case"name_desc":return re.name.localeCompare(se.name);case"price_asc":return se.price-re.price;case"price_desc":return re.price-se.price;case"rating_desc":return("averageRating"in re?re.averageRating:re.rating)-("averageRating"in se?se.averageRating:se.rating);case"items_desc":return("productCount"in re?re.productCount:0)-("productCount"in se?se.productCount:0);default:return 0}};W.sort(Z),Y.sort(Z),o(W),l(Y)},[t,s,m,g,b,v,S,P,D,O,_,T]);const H=W=>{x(Y=>Y.includes(W)?Y.filter(Z=>Z!==W):[...Y,W])},$=W=>{y(Y=>Y.includes(W)?Y.filter(Z=>Z!==W):[...Y,W])},G=W=>{M(Y=>Y.includes(W)?Y.filter(Z=>Z!==W):[...Y,W])},J=W=>{B(Y=>Y.includes(W)?Y.filter(Z=>Z!==W):[...Y,W])},te=W=>{F(Y=>Y.includes(W)?Y.filter(Z=>Z!==W):[...Y,W])},K=()=>{A(""),p([]),x([]),y([]),M([]),B([]),L(void 0),F([]),E([Q,q]),w("name_asc"),j(!1),Tn({title:"Đã xóa bộ lọc",description:"Tất cả bộ lọc đã được đặt lại về mặc định."})},ne=()=>{j(!1),Tn({title:"Đã áp dụng bộ lọc",description:"Bộ lọc của bạn đã được áp dụng."})},ce=W=>{W.preventDefault(),Tn({title:"Tìm kiếm",description:`Đã tìm kiếm: ${m}`})},oe=async W=>{try{const Y=JSON.parse(localStorage.getItem("user")||"null"),Z=Y==null?void 0:Y.maNguoiDung,se=Y==null?void 0:Y.hoTen;if(!Z){Rh("Vui lòng đăng nhập để cập nhật danh sách yêu thích!","warning").then(()=>{n("/login")});return}if(W.isFavorite){if(!(await fetch(`https://bicacuatho.azurewebsites.net/api/YeuThich/${W.likedId}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Không thể xóa khỏi danh sách yêu thích");"mauSac"in W?(e(le=>le.map(ae=>ae.id===W.id?{...ae,isFavorite:!1,likedId:void 0}:ae)),o(le=>le.map(ae=>ae.id===W.id?{...ae,isFavorite:!1,likedId:void 0}:ae))):(a(le=>le.map(ae=>ae.id===W.id?{...ae,isFavorite:!1,likedId:void 0}:ae)),l(le=>le.map(ae=>ae.id===W.id?{...ae,isFavorite:!1,likedId:void 0}:ae))),Rh("Đã xóa khỏi danh sách yêu thích!","success")}else{const re={maSanPham:"mauSac"in W?W.id.split("_")[0]||W.id:void 0,tenSanPham:"mauSac"in W?W.name:void 0,maCombo:"productCount"in W?W.id:void 0,tenCombo:"productCount"in W?W.name:void 0,maNguoiDung:Z,hoTen:se,soLuongYeuThich:1,ngayYeuThich:new Date().toISOString()},le=await fetch("https://bicacuatho.azurewebsites.net/api/YeuThich",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(re)});if(!le.ok)throw new Error("Không thể thêm vào danh sách yêu thích");const ae=await le.json();"mauSac"in W?(e(ue=>ue.map(he=>he.id===W.id?{...he,isFavorite:!0,likedId:ae.maYeuThich}:he)),o(ue=>ue.map(he=>he.id===W.id?{...he,isFavorite:!0,likedId:ae.maYeuThich}:he))):(a(ue=>ue.map(he=>he.id===W.id?{...he,isFavorite:!0,likedId:ae.maYeuThich}:he)),l(ue=>ue.map(he=>he.id===W.id?{...he,isFavorite:!0,likedId:ae.maYeuThich}:he))),Rh("Đã thêm vào danh sách yêu thích!","success")}}catch(Y){console.error("Lỗi khi cập nhật yêu thích:",Y),Rh("Có lỗi xảy ra khi cập nhật yêu thích!","error")}},ee=W=>{const Y={id:W.id,name:W.name,image:W.imageSrc,price:W.price,quantity:1,type:"mauSac"in W?"product":"combo"};console.log("Đã thêm vào giỏ hàng:",Y),Tn({title:"Đã thêm vào giỏ hàng",description:`${W.name} đã được thêm vào giỏ hàng của bạn.`})};return r.jsx("div",{className:"min-h-screen flex flex-col",children:r.jsx("main",{className:"flex-1",children:r.jsxs("div",{className:"container px-4 md:px-6 mx-auto max-w-7xl py-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-6 gradient-text",children:"Danh Sách Yêu Thích"}),r.jsx("div",{className:"mb-8 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:r.jsxs("form",{onSubmit:ce,className:"flex w-full md:w-auto",children:[r.jsxs("div",{className:"relative flex-1 md:w-64",children:[r.jsx(Rn,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{type:"search",placeholder:"Tìm kiếm trong danh sách yêu thích...",className:"pl-8 w-full",value:m,onChange:W=>A(W.target.value),"aria-label":"Tìm kiếm sản phẩm và combo yêu thích"})]}),r.jsx(fe,{type:"submit",size:"sm",className:"ml-2","aria-label":"Tìm kiếm",children:"Tìm kiếm"}),r.jsx(fe,{type:"button",variant:"outline",size:"icon",className:"ml-2",onClick:()=>j(!C),"aria-label":"Mở bộ lọc",children:r.jsx(Q2,{className:"h-4 w-4"})})]})}),C&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>j(!1),children:r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg w-full max-w-4xl max-h-[80vh] overflow-y-auto",onClick:W=>W.stopPropagation(),children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Bộ Lọc"}),r.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>j(!1),children:r.jsx(st,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[r.jsxs("div",{children:[r.jsx(Oe,{className:"text-lg font-medium mb-3 block",children:"Danh Mục"}),r.jsx("div",{className:"space-y-2",children:V.map(W=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ns,{id:`category-${W}`,checked:S.includes(W),onCheckedChange:()=>G(W),"aria-label":`Chọn danh mục ${W}`}),r.jsx("label",{htmlFor:`category-${W}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:W})]},W))}),r.jsx(Oe,{className:"text-lg font-medium mb-3 mt-4 block",children:"Thương Hiệu"}),r.jsx("div",{className:"space-y-2",children:U.map(W=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ns,{id:`brand-${W}`,checked:v.includes(W),onCheckedChange:()=>$(W),"aria-label":`Chọn thương hiệu ${W}`}),r.jsx("label",{htmlFor:`brand-${W}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:W})]},W))}),r.jsx(Oe,{className:"text-lg font-medium mb-3 mt-4 block",children:"Kích Thước"}),r.jsx("div",{className:"space-y-2",children:R.map(W=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ns,{id:`size-${W}`,checked:b.includes(W),onCheckedChange:()=>H(W),"aria-label":`Chọn kích thước ${W}`}),r.jsx("label",{htmlFor:`size-${W}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:W})]},W))}),r.jsx(Oe,{className:"text-lg font-medium mb-3 mt-4 block",children:"Giới Tính"}),r.jsx("div",{className:"space-y-2",children:z.map(W=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ns,{id:`gender-${W}`,checked:P.includes(W),onCheckedChange:()=>J(W),"aria-label":`Chọn giới tính ${W}`}),r.jsx("label",{htmlFor:`gender-${W}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:W})]},W))})]}),r.jsxs("div",{children:[r.jsx(Oe,{className:"text-lg font-medium mb-3 block",children:"Dịp Sử Dụng"}),r.jsx("div",{className:"space-y-2",children:X.map(W=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ns,{id:`occasion-${W}`,checked:O.includes(W),onCheckedChange:()=>te(W),"aria-label":`Chọn dịp sử dụng ${W}`}),r.jsx("label",{htmlFor:`occasion-${W}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:W})]},W))}),r.jsx(Oe,{className:"text-lg font-medium mb-3 mt-4 block",children:"Số Lượng Sản Phẩm Tối Thiểu"}),r.jsxs(hn,{value:D||"",onValueChange:L,children:[r.jsx(on,{className:"w-full",children:r.jsx(fn,{placeholder:"Chọn số lượng"})}),r.jsxs(ln,{children:[r.jsx(Ve,{value:"all",children:"Tất cả"}),r.jsx(Ve,{value:"2",children:"2 sản phẩm trở lên"}),r.jsx(Ve,{value:"3",children:"3 sản phẩm trở lên"}),r.jsx(Ve,{value:"4",children:"4 sản phẩm trở lên"}),r.jsx(Ve,{value:"5",children:"5 sản phẩm trở lên"})]})]})]}),r.jsxs("div",{children:[r.jsx(Oe,{className:"text-lg font-medium mb-3 block",children:"Khoảng Giá"}),r.jsx("div",{className:"space-y-3",children:r.jsxs("div",{className:"px-3",children:[r.jsx(Xx,{min:0,max:q,step:1e4,value:_,onValueChange:W=>E(W),className:"w-full"}),r.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mt-2",children:[r.jsxs("span",{children:[_[0].toLocaleString("vi-VN")," VND"]}),r.jsxs("span",{children:[_[1].toLocaleString("vi-VN")," VND"]})]})]})}),r.jsx(Oe,{className:"text-lg font-medium mb-3 mt-4 block",children:"Sắp Xếp Theo"}),r.jsxs(hn,{value:T,onValueChange:w,"aria-label":"Chọn cách sắp xếp",children:[r.jsx(on,{className:"w-full",children:r.jsx(fn,{placeholder:"Chọn cách sắp xếp"})}),r.jsxs(ln,{children:[r.jsx(Ve,{value:"name_asc",children:"Tên: A đến Z"}),r.jsx(Ve,{value:"name_desc",children:"Tên: Z đến A"}),r.jsx(Ve,{value:"price_asc",children:"Giá: Thấp đến Cao"}),r.jsx(Ve,{value:"price_desc",children:"Giá: Cao đến Thấp"}),r.jsx(Ve,{value:"rating_desc",children:"Đánh giá: Cao nhất"}),r.jsx(Ve,{value:"items_desc",children:"Số sản phẩm: Nhiều nhất"})]})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t",children:[r.jsx(fe,{variant:"outline",onClick:K,children:"Xóa Bộ Lọc"}),r.jsx(fe,{onClick:ne,children:"Áp Dụng"})]})]})}),f?r.jsx("div",{className:"py-12 text-center text-red-500",role:"alert",children:f}):d?r.jsx("div",{className:"py-12 text-center",children:r.jsx("p",{children:"Đang tải danh sách yêu thích..."})}):N?i.length===0&&c.length===0?r.jsxs("div",{className:"py-12 text-center",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Chưa có sản phẩm hoặc combo yêu thích"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Hãy thêm sản phẩm hoặc combo vào danh sách yêu thích để xem tại đây."}),r.jsx(fe,{asChild:!0,children:r.jsx(lt,{to:"/products","aria-label":"Xem tất cả sản phẩm",children:"Xem tất cả sản phẩm"})}),r.jsx(fe,{asChild:!0,className:"ml-2",children:r.jsx(lt,{to:"/combos","aria-label":"Xem tất cả combo",children:"Xem tất cả combo"})})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-12",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Sản Phẩm Yêu Thích"}),i.length===0?r.jsxs("div",{className:"py-6 text-center",children:[r.jsx("p",{className:"text-gray-600",children:"Chưa có sản phẩm yêu thích nào."}),r.jsx(fe,{asChild:!0,className:"mt-4",children:r.jsx(lt,{to:"/products","aria-label":"Xem tất cả sản phẩm",children:"Xem tất cả sản phẩm"})})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mb-4",children:r.jsxs("p",{className:"text-gray-600",children:[i.length," sản phẩm yêu thích được tìm thấy"]})}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:i.map(W=>r.jsxs(at,{className:"overflow-hidden group",children:[r.jsxs("div",{className:"relative aspect-square",children:[r.jsx(lt,{to:`/products/${W.id}`,"aria-label":`Xem chi tiết ${W.name}`,children:r.jsx("img",{src:W.imageSrc,alt:W.name,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"})}),W.hot&&W.trangThai===1?r.jsx(Vt,{className:"absolute top-2 left-2 bg-red-500 text-white",children:"Đang bán chạy"}):W.trangThai!==1?r.jsx(Vt,{className:"absolute top-2 left-2 bg-gray-500 text-white",children:"Đã ngừng bán"}):null,r.jsx(fe,{variant:"outline",size:"icon",className:"absolute top-2 right-2 w-10 h-10 rounded-full bg-white/80 hover:bg-white",onClick:()=>oe(W),"aria-label":W.isFavorite?"Xóa khỏi yêu thích":"Thêm vào yêu thích",children:r.jsx(Ts,{className:`h-5 w-5 ${W.isFavorite?"fill-red-500 text-red-500":"text-gray-600"}`})})]}),r.jsxs(dt,{className:"p-4",children:[r.jsx(lt,{to:`/products/${W.id}`,"aria-label":`Xem chi tiết ${W.name}`,children:r.jsx("h3",{className:"font-medium hover:text-crocus-600 transition-colors",children:W.name})}),r.jsxs("div",{className:"flex justify-between items-center mt-2",children:[r.jsxs("p",{className:"font-semibold",children:[W.price.toLocaleString("vi-VN",{maximumFractionDigits:0})," VND"]}),r.jsxs("div",{className:"flex items-center gap-1","aria-label":`Đánh giá ${W.averageRating} sao`,children:[[...Array(5)].map((Y,Z)=>r.jsx(or,{className:`w-4 h-4 ${Z<Math.floor(W.averageRating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},Z)),r.jsxs("span",{className:"text-sm text-gray-600",children:["(",W.commentCount,")"]})]})]}),r.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:W.mauSac.slice(0,3).map(Y=>r.jsx("span",{className:"inline-block w-5 h-5 rounded-full border border-gray-300",style:{backgroundColor:`#${Y}`},title:`Màu #${Y}`},Y))}),r.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:W.kichThuoc.slice(0,3).map(Y=>r.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-gray-100 rounded-full",children:Y},Y))}),r.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:W.hashtags.slice(0,3).map(Y=>r.jsxs(Vt,{className:"bg-blue-100 text-blue-800 hover:bg-blue-200",children:["#",Y.name]},Y.id))}),r.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[r.jsx(Vt,{className:"bg-green-100 text-green-800 hover:bg-green-200",children:W.category}),r.jsx(Vt,{className:"bg-purple-100 text-purple-800 hover:bg-purple-200",children:W.chatLieu}),r.jsx(Vt,{className:"bg-pink-100 text-pink-800 hover:bg-pink-200",children:W.gioiTinh})]}),r.jsxs("div",{className:"mt-4 flex gap-2",children:[r.jsx(fe,{asChild:!0,variant:"outline",size:"sm",className:"flex-1",children:r.jsx(lt,{to:`/products/${W.id}`,"aria-label":`Xem chi tiết ${W.name}`,children:"Chi tiết"})}),r.jsxs(fe,{size:"sm",className:"flex-1 bg-crocus-500 hover:bg-crocus-600",onClick:()=>ee(W),"aria-label":`Mua ngay ${W.name}`,children:[r.jsx(vs,{className:"h-4 w-4 mr-2"}),"Mua ngay"]})]})]})]},W.id))})]})]}),r.jsxs("div",{className:"mb-12",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Combo Yêu Thích"}),c.length===0?r.jsxs("div",{className:"py-6 text-center",children:[r.jsx("p",{className:"text-gray-600",children:"Chưa có combo yêu thích nào."}),r.jsx(fe,{asChild:!0,className:"mt-4",children:r.jsx(lt,{to:"/combos","aria-label":"Xem tất cả combo",children:"Xem tất cả combo"})})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mb-4",children:r.jsxs("p",{className:"text-gray-600",children:[c.length," combo yêu thích được tìm thấy"]})}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:c.map(W=>r.jsxs(at,{className:"overflow-hidden group",children:[r.jsxs("div",{className:"relative aspect-square",children:[r.jsx(lt,{to:`/combos/${W.id}`,"aria-label":`Xem chi tiết ${W.name}`,children:r.jsx("img",{src:W.imageSrc,alt:W.name,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"})}),r.jsx(fe,{variant:"outline",size:"icon",className:"absolute top-2 right-2 w-10 h-10 rounded-full bg-white/80 hover:bg-white",onClick:()=>oe(W),"aria-label":W.isFavorite?"Xóa khỏi yêu thích":"Thêm vào yêu thích",children:r.jsx(Ts,{className:`h-5 w-5 ${W.isFavorite?"fill-red-500 text-red-500":"text-gray-600"}`})}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:r.jsxs("span",{className:"inline-block bg-crocus-500 text-white px-2 py-1 rounded text-xs font-medium",children:[W.productCount," Sản phẩm"]})})]}),r.jsxs(dt,{className:"p-4",children:[r.jsx(lt,{to:`/combos/${W.id}`,"aria-label":`Xem chi tiết ${W.name}`,children:r.jsx("h3",{className:"font-medium hover:text-crocus-600 transition-colors",children:W.name})}),r.jsxs("div",{className:"flex justify-between items-center mt-2",children:[r.jsxs("p",{className:"font-semibold",children:[W.price.toLocaleString("vi-VN",{maximumFractionDigits:0})," VND"]}),r.jsxs("p",{className:"text-green-600 font-medium",children:["Tiết Kiệm ",W.savings.toLocaleString("vi-VN",{maximumFractionDigits:0})," VND (",W.savingsPercentage,"% off)"]})]}),r.jsxs("div",{className:"mt-4 flex gap-2",children:[r.jsx(fe,{asChild:!0,variant:"outline",size:"sm",className:"flex-1",children:r.jsx(lt,{to:`/combos/${W.id}`,"aria-label":`Xem chi tiết ${W.name}`,children:"Chi tiết"})}),r.jsxs(fe,{size:"sm",className:"flex-1 bg-crocus-500 hover:bg-crocus-600",onClick:()=>ee(W),"aria-label":`Mua ngay ${W.name}`,children:[r.jsx(vs,{className:"h-4 w-4 mr-2"}),"Mua ngay"]})]})]})]},W.id))})]})]})]}):r.jsxs("div",{className:"py-12 text-center",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Vui lòng đăng nhập"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Đăng nhập để xem danh sách yêu thích của bạn."}),r.jsx(fe,{asChild:!0,children:r.jsx(lt,{to:"/login","aria-label":"Đăng nhập",children:"Đăng nhập ngay"})})]})]})})})};var UI={exports:{}},Roe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Uoe=Roe,Hoe=Uoe;function HI(){}function $I(){}$I.resetWarningCache=HI;var $oe=function(){function n(s,a,i,o,c,l){if(l!==Hoe){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}n.isRequired=n;function t(){return n}var e={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:t,element:n,elementType:n,instanceOf:t,node:n,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:$I,resetWarningCache:HI};return e.PropTypes=e,e};UI.exports=$oe();var Qoe=UI.exports;const _n=Td(Qoe);var Voe=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function d1(){return d1=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},d1.apply(this,arguments)}function zoe(n,t){if(n==null)return{};var e={},s=Object.keys(n),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(e[a]=n[a]);return e}function Wp(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Koe(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,u1(n,t)}function u1(n,t){return u1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},u1(n,t)}var Yx=function(n){Koe(t,n);function t(){var s;return s=n.call(this)||this,s.handleExpired=s.handleExpired.bind(Wp(s)),s.handleErrored=s.handleErrored.bind(Wp(s)),s.handleChange=s.handleChange.bind(Wp(s)),s.handleRecaptchaRef=s.handleRecaptchaRef.bind(Wp(s)),s}var e=t.prototype;return e.getCaptchaFunction=function(a){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[a]:this.props.grecaptcha[a]:null},e.getValue=function(){var a=this.getCaptchaFunction("getResponse");return a&&this._widgetId!==void 0?a(this._widgetId):null},e.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},e.execute=function(){var a=this.getCaptchaFunction("execute");if(a&&this._widgetId!==void 0)return a(this._widgetId);this._executeRequested=!0},e.executeAsync=function(){var a=this;return new Promise(function(i,o){a.executionResolve=i,a.executionReject=o,a.execute()})},e.reset=function(){var a=this.getCaptchaFunction("reset");a&&this._widgetId!==void 0&&a(this._widgetId)},e.forceReset=function(){var a=this.getCaptchaFunction("reset");a&&a()},e.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},e.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},e.handleChange=function(a){this.props.onChange&&this.props.onChange(a),this.executionResolve&&(this.executionResolve(a),delete this.executionReject,delete this.executionResolve)},e.explicitRender=function(){var a=this.getCaptchaFunction("render");if(a&&this._widgetId===void 0){var i=document.createElement("div");this._widgetId=a(i,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(i)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},e.componentDidMount=function(){this.explicitRender()},e.componentDidUpdate=function(){this.explicitRender()},e.handleRecaptchaRef=function(a){this.captcha=a},e.render=function(){var a=this.props;a.sitekey,a.onChange,a.theme,a.type,a.tabindex,a.onExpired,a.onErrored,a.size,a.stoken,a.grecaptcha,a.badge,a.hl,a.isolated;var i=zoe(a,Voe);return k.createElement("div",d1({},i,{ref:this.handleRecaptchaRef}))},t}(k.Component);Yx.displayName="ReCAPTCHA";Yx.propTypes={sitekey:_n.string.isRequired,onChange:_n.func,grecaptcha:_n.object,theme:_n.oneOf(["dark","light"]),type:_n.oneOf(["image","audio"]),tabindex:_n.number,onExpired:_n.func,onErrored:_n.func,size:_n.oneOf(["compact","normal","invisible"]),stoken:_n.string,hl:_n.string,badge:_n.oneOf(["bottomright","bottomleft","inline"]),isolated:_n.bool};Yx.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var QI={exports:{}},ar={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ws=typeof Symbol=="function"&&Symbol.for,cC=ws?Symbol.for("react.element"):60103,dC=ws?Symbol.for("react.portal"):60106,Jx=ws?Symbol.for("react.fragment"):60107,Zx=ws?Symbol.for("react.strict_mode"):60108,eb=ws?Symbol.for("react.profiler"):60114,tb=ws?Symbol.for("react.provider"):60109,nb=ws?Symbol.for("react.context"):60110,uC=ws?Symbol.for("react.async_mode"):60111,rb=ws?Symbol.for("react.concurrent_mode"):60111,sb=ws?Symbol.for("react.forward_ref"):60112,ab=ws?Symbol.for("react.suspense"):60113,Goe=ws?Symbol.for("react.suspense_list"):60120,ib=ws?Symbol.for("react.memo"):60115,ob=ws?Symbol.for("react.lazy"):60116,qoe=ws?Symbol.for("react.block"):60121,Woe=ws?Symbol.for("react.fundamental"):60117,Xoe=ws?Symbol.for("react.responder"):60118,Yoe=ws?Symbol.for("react.scope"):60119;function $a(n){if(typeof n=="object"&&n!==null){var t=n.$$typeof;switch(t){case cC:switch(n=n.type,n){case uC:case rb:case Jx:case eb:case Zx:case ab:return n;default:switch(n=n&&n.$$typeof,n){case nb:case sb:case ob:case ib:case tb:return n;default:return t}}case dC:return t}}}function VI(n){return $a(n)===rb}ar.AsyncMode=uC;ar.ConcurrentMode=rb;ar.ContextConsumer=nb;ar.ContextProvider=tb;ar.Element=cC;ar.ForwardRef=sb;ar.Fragment=Jx;ar.Lazy=ob;ar.Memo=ib;ar.Portal=dC;ar.Profiler=eb;ar.StrictMode=Zx;ar.Suspense=ab;ar.isAsyncMode=function(n){return VI(n)||$a(n)===uC};ar.isConcurrentMode=VI;ar.isContextConsumer=function(n){return $a(n)===nb};ar.isContextProvider=function(n){return $a(n)===tb};ar.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===cC};ar.isForwardRef=function(n){return $a(n)===sb};ar.isFragment=function(n){return $a(n)===Jx};ar.isLazy=function(n){return $a(n)===ob};ar.isMemo=function(n){return $a(n)===ib};ar.isPortal=function(n){return $a(n)===dC};ar.isProfiler=function(n){return $a(n)===eb};ar.isStrictMode=function(n){return $a(n)===Zx};ar.isSuspense=function(n){return $a(n)===ab};ar.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===Jx||n===rb||n===eb||n===Zx||n===ab||n===Goe||typeof n=="object"&&n!==null&&(n.$$typeof===ob||n.$$typeof===ib||n.$$typeof===tb||n.$$typeof===nb||n.$$typeof===sb||n.$$typeof===Woe||n.$$typeof===Xoe||n.$$typeof===Yoe||n.$$typeof===qoe)};ar.typeOf=$a;QI.exports=ar;var Joe=QI.exports,hC=Joe,Zoe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ele={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},tle={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},zI={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},fC={};fC[hC.ForwardRef]=tle;fC[hC.Memo]=zI;function IS(n){return hC.isMemo(n)?zI:fC[n.$$typeof]||Zoe}var nle=Object.defineProperty,rle=Object.getOwnPropertyNames,OS=Object.getOwnPropertySymbols,sle=Object.getOwnPropertyDescriptor,ale=Object.getPrototypeOf,LS=Object.prototype;function KI(n,t,e){if(typeof t!="string"){if(LS){var s=ale(t);s&&s!==LS&&KI(n,s,e)}var a=rle(t);OS&&(a=a.concat(OS(t)));for(var i=IS(n),o=IS(t),c=0;c<a.length;++c){var l=a[c];if(!ele[l]&&!(e&&e[l])&&!(o&&o[l])&&!(i&&i[l])){var d=sle(t,l);try{nle(n,l,d)}catch{}}}}return n}var ile=KI;const ole=Td(ile);function h1(){return h1=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},h1.apply(this,arguments)}function lle(n,t){if(n==null)return{};var e={},s=Object.keys(n),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(e[a]=n[a]);return e}function cle(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t}var ai={},dle=0;function ule(n,t){return t=t||{},function(s){var a=s.displayName||s.name||"Component",i=function(c){cle(l,c);function l(u,f){var h;return h=c.call(this,u,f)||this,h.state={},h.__scriptURL="",h}var d=l.prototype;return d.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+dle++),this.__scriptLoaderID},d.setupScriptURL=function(){return this.__scriptURL=typeof n=="function"?n():n,this.__scriptURL},d.asyncScriptLoaderHandleLoad=function(f){var h=this;this.setState(f,function(){return h.props.asyncScriptOnLoad&&h.props.asyncScriptOnLoad(h.state)})},d.asyncScriptLoaderTriggerOnScriptLoaded=function(){var f=ai[this.__scriptURL];if(!f||!f.loaded)throw new Error("Script is not loaded.");for(var h in f.observers)f.observers[h](f);delete window[t.callbackName]},d.componentDidMount=function(){var f=this,h=this.setupScriptURL(),m=this.asyncScriptLoaderGetScriptLoaderID(),A=t,g=A.globalName,p=A.callbackName,b=A.scriptId;if(g&&typeof window[g]<"u"&&(ai[h]={loaded:!0,observers:{}}),ai[h]){var x=ai[h];if(x&&(x.loaded||x.errored)){this.asyncScriptLoaderHandleLoad(x);return}x.observers[m]=function(P){return f.asyncScriptLoaderHandleLoad(P)};return}var v={};v[m]=function(P){return f.asyncScriptLoaderHandleLoad(P)},ai[h]={loaded:!1,observers:v};var y=document.createElement("script");y.src=h,y.async=!0;for(var S in t.attributes)y.setAttribute(S,t.attributes[S]);b&&(y.id=b);var M=function(B){if(ai[h]){var D=ai[h],L=D.observers;for(var O in L)B(L[O])&&delete L[O]}};p&&typeof window<"u"&&(window[p]=function(){return f.asyncScriptLoaderTriggerOnScriptLoaded()}),y.onload=function(){var P=ai[h];P&&(P.loaded=!0,M(function(B){return p?!1:(B(P),!0)}))},y.onerror=function(){var P=ai[h];P&&(P.errored=!0,M(function(B){return B(P),!0}))},document.body.appendChild(y)},d.componentWillUnmount=function(){var f=this.__scriptURL;if(t.removeOnUnmount===!0)for(var h=document.getElementsByTagName("script"),m=0;m<h.length;m+=1)h[m].src.indexOf(f)>-1&&h[m].parentNode&&h[m].parentNode.removeChild(h[m]);var A=ai[f];A&&(delete A.observers[this.asyncScriptLoaderGetScriptLoaderID()],t.removeOnUnmount===!0&&delete ai[f])},d.render=function(){var f=t.globalName,h=this.props;h.asyncScriptOnLoad;var m=h.forwardedRef,A=lle(h,["asyncScriptOnLoad","forwardedRef"]);return f&&typeof window<"u"&&(A[f]=typeof window[f]<"u"?window[f]:void 0),A.ref=m,k.createElement(s,A)},l}(k.Component),o=k.forwardRef(function(c,l){return k.createElement(i,h1({},c,{forwardedRef:l}))});return o.displayName="AsyncScriptLoader("+a+")",o.propTypes={asyncScriptOnLoad:_n.func},ole(o,s)}}var f1="onloadcallback",hle="grecaptcha";function m1(){return typeof window<"u"&&window.recaptchaOptions||{}}function fle(){var n=m1(),t=n.useRecaptchaNet?"recaptcha.net":"www.google.com";return n.enterprise?"https://"+t+"/recaptcha/enterprise.js?onload="+f1+"&render=explicit":"https://"+t+"/recaptcha/api.js?onload="+f1+"&render=explicit"}const GI=ule(fle,{callbackName:f1,globalName:hle,attributes:m1().nonce?{nonce:m1().nonce}:{}})(Yx),Rv=tD(Ce),mle="https://bicacuatho.azurewebsites.net",ple="FashionHub",Ale=()=>{const[n,t]=k.useState(""),[e,s]=k.useState(""),[a,i]=k.useState(""),[o,c]=k.useState(""),[l,d]=k.useState(null),[u,f]=k.useState(!1),[h,m]=k.useState(!1),[A,g]=k.useState({name:"",email:"",phone:"",message:"",captcha:""}),p=k.useRef(null),b=y=>{d(y),g(S=>({...S,captcha:""}))},x=()=>{let y=!0;const S={name:"",email:"",phone:"",message:"",captcha:""};return n.length<5&&(S.name="Tên phải có ít nhất 5 ký tự",y=!1),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||(S.email="Email không hợp lệ",y=!1),/^\d{10}$/.test(a)||(S.phone="Số điện thoại phải là 10 chữ số",y=!1),o.length<5&&(S.message="Nội dung phải có ít nhất 5 ký tự",y=!1),l||(S.captcha="Vui lòng xác minh reCAPTCHA",y=!1),g(S),y},v=async y=>{var S;if(y.preventDefault(),!x()){Rv.fire({icon:"error",title:"Lỗi",text:"Vui lòng kiểm tra lại các trường thông tin và xác minh reCAPTCHA!",confirmButtonText:"Đóng",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}f(!0);try{const M={HoTen:n,Email:e,Sdt:a,NoiDung:o,TrangThai:"0",ReCaptchaToken:l},P=await fetch(`${mle}/api/LienHe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)});if(!P.ok){const B=await P.text();throw new Error(B)}f(!1),m(!0),t(""),s(""),i(""),c(""),d(null),g({name:"",email:"",phone:"",message:"",captcha:""}),(S=p.current)==null||S.reset(),Rv.fire({icon:"success",title:"Thành công!",text:"Tin nhắn của bạn đã được gửi. Chúng tôi sẽ phản hồi sớm nhất có thể.",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(M){f(!1),Rv.fire({icon:"error",title:"Lỗi",text:"Có lỗi xảy ra khi gửi tin nhắn. Vui lòng thử lại!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0}),console.error("Error submitting contact form:",M)}};return r.jsxs("div",{className:"container mx-auto py-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("h1",{className:"text-4xl font-bold mb-4",children:["Liên hệ với ",ple]}),r.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Bạn có câu hỏi về sản phẩm hoặc cần hỗ trợ với đơn hàng của mình? Chúng tôi sẵn sàng giúp đỡ! Hãy liên hệ với chúng tôi qua các phương thức dưới đây."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[r.jsxs(at,{className:"text-center",children:[r.jsxs(yt,{children:[r.jsx("a",{href:"tel:+84383777823",className:"w-12 h-12 bg-crocus-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Yl,{className:"h-6 w-6 text-crocus-600"})}),r.jsx(Ct,{children:"Gọi điện cho chúng tôi"})]}),r.jsxs(dt,{children:[r.jsx("p",{className:"text-gray-600",children:"Thứ Hai - Thứ Sáu, 9h sáng - 5h chiều"}),r.jsx("a",{href:"tel:+84383777823",className:"font-medium text-lg mt-2",children:"(84) 383-777-823"})]})]}),r.jsxs(at,{className:"text-center",children:[r.jsxs(yt,{children:[r.jsx("a",{href:"mailto:nguyenhuythien9a1@gmail.com",className:"w-12 h-12 bg-crocus-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Aa,{className:"h-6 w-6 text-crocus-600"})}),r.jsx(Ct,{children:"Gửi email cho chúng tôi"})]}),r.jsxs(dt,{children:[r.jsx("p",{className:"text-gray-600",children:"Chúng tôi sẽ phản hồi trong vòng 24 giờ"}),r.jsx("a",{href:"mailto:nguyenhuythien9a1@gmail.com",className:"font-medium text-lg mt-2",children:"nguyenhuythien9a1@gmail.com"})]})]}),r.jsxs(at,{className:"text-center",children:[r.jsxs(yt,{children:[r.jsx("a",{href:"https://www.google.com/maps/place/Tr%C6%B0%E1%BB%9Dng+Cao+%C4%91%E1%BA%B3ng+polytechnic/@12.7105609,108.075659,16z/data=!4m6!3m5!1s0x3171f7b6e379b675:0x72662967145555c0!8m2!3d12.7105609!4d108.075659!16s%2Fg%2F1ptzmn5bd?entry=ttu&g_ep=EgoyMDI0MTAyMy4wKgBIAVAD",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 bg-crocus-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(qo,{className:"h-6 w-6 text-crocus-600"})}),r.jsx(Ct,{children:"Ghé thăm cửa hàng"})]}),r.jsxs(dt,{children:[r.jsx("p",{className:"text-gray-600",children:"Cửa hàng chính của chúng tôi"}),r.jsxs("a",{href:"https://www.google.com/maps/place/Tr%C6%B0%E1%BB%9Dng+Cao+%C4%91%E1%BA%B3ng+polytechnic/@12.7105609,108.075659,16z/data=!4m6!3m5!1s0x3171f7b6e379b675:0x72662967145555c0!8m2!3d12.7105609!4d108.075659!16s%2Fg%2F1ptzmn5bd?entry=ttu&g_ep=EgoyMDI0MTAyMy4wKgBIAVAD",target:"_blank",rel:"noopener noreferrer",className:"font-medium mt-2",children:["123 Hà Huy Tập",r.jsx("br",{}),"TP Buôn Ma Thuột"]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs(at,{children:[r.jsxs(yt,{children:[r.jsx(Ct,{children:"Gửi tin nhắn cho chúng tôi"}),r.jsx(us,{children:"Điền vào form dưới đây và chúng tôi sẽ phản hồi sớm nhất có thể."})]}),r.jsx(dt,{children:h?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),r.jsx("h3",{className:"text-xl font-medium text-gray-900",children:"Tin nhắn đã được gửi!"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Cảm ơn bạn đã liên hệ với chúng tôi. Chúng tôi sẽ phản hồi tin nhắn của bạn trong thời gian sớm nhất."}),r.jsxs(fe,{onClick:()=>m(!1),className:"mt-4 bg-crocus-500 hover:bg-crocus-600",children:[r.jsx(Io,{className:"mr-2 h-4 w-4"})," Gửi tin nhắn khác"]})]}):r.jsxs("form",{onSubmit:v,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"name",children:"Tên của bạn"}),r.jsxs("div",{className:"relative",children:[r.jsx(Un,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),r.jsx(je,{id:"name",placeholder:"Nhập họ tên",value:n,onChange:y=>t(y.target.value),required:!0,className:`pl-10 ${A.name?"border-red-500":""}`})]}),A.name&&r.jsx("p",{className:"text-red-500 text-sm",children:A.name})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"email",children:"Địa chỉ email"}),r.jsxs("div",{className:"relative",children:[r.jsx(Aa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),r.jsx(je,{id:"email",type:"email",placeholder:"Nhập email",value:e,onChange:y=>s(y.target.value),required:!0,className:`pl-10 ${A.email?"border-red-500":""}`})]}),A.email&&r.jsx("p",{className:"text-red-500 text-sm",children:A.email})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"phone",children:"Số điện thoại"}),r.jsxs("div",{className:"relative",children:[r.jsx(Yl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),r.jsx(je,{id:"phone",type:"tel",placeholder:"Nhập số điện thoại",value:a,onChange:y=>{const S=y.target.value.replace(/\D/g,"");i(S)},maxLength:10,required:!0,className:`pl-10 ${A.phone?"border-red-500":""}`})]}),A.phone&&r.jsx("p",{className:"text-red-500 text-sm",children:A.phone})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"message",children:"Tin nhắn của bạn"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ho,{className:"absolute left-3 top-4 text-gray-500 h-4 w-4"}),r.jsx("textarea",{id:"message",placeholder:"Nhập nội dung",value:o,onChange:y=>c(y.target.value),rows:5,className:`w-full rounded-md border bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 pl-10 ${A.message?"border-red-500":"border-input"}`,required:!0})]}),A.message&&r.jsx("p",{className:"text-red-500 text-sm",children:A.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(GI,{ref:p,sitekey:"6LdMzlEqAAAAAIRD7o-nvN9bH3jPvKLaKaGW8xD4",onChange:b}),A.captcha&&r.jsx("p",{className:"text-red-500 text-sm",children:A.captcha})]}),r.jsx(fe,{type:"submit",className:"w-full bg-crocus-500 hover:bg-crocus-600",disabled:u,children:u?"Đang gửi...":r.jsxs(r.Fragment,{children:[r.jsx(hu,{className:"mr-2 h-4 w-4"})," Gửi tin nhắn"]})})]})})]}),r.jsx("div",{className:"h-192 rounded-lg overflow-hidden",children:r.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d12210.24681885916!2d108.075659!3d12.7105609!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3171f7b6e379b675%3A0x72662967145555c0!2zVHJ1b25nIENhb8OqIGRhw7MgcG9seXRlY2huaWM!5e0!3m2!1svi!2s!4v1698473155913!5m2!1svi!2s",className:"border-0 w-full h-full",allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]}),r.jsxs("div",{className:"mt-16 text-center",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Kết nối với chúng tôi"}),r.jsx("p",{className:"text-gray-600 max-w-xl mx-auto mb-6",children:"Theo dõi chúng tôi trên mạng xã hội để nhận cập nhật mới nhất, mẹo thời trang và ưu đãi độc quyền."}),r.jsxs("div",{className:"flex justify-center space-x-6",children:[r.jsx("a",{href:"https://www.facebook.com/FashionHub",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-crocus-600 transition-colors",children:r.jsx("svg",{className:"h-8 w-8",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:r.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})}),r.jsx("a",{href:"https://www.instagram.com/FashionHub",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-crocus-600 transition-colors",children:r.jsx("svg",{className:"h-8 w-8",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:r.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.045-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})}),r.jsx("a",{href:"https://www.twitter.com/FashionHub",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-crocus-600 transition-colors",children:r.jsx("svg",{className:"h-8 w-8",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:r.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})})]})]})]})},gle=()=>r.jsx("div",{className:"container mx-auto py-8",children:r.jsxs(at,{children:[r.jsxs(yt,{children:[r.jsx(Ct,{className:"text-3xl font-bold text-center",children:"Về chúng tôi"}),r.jsx(us,{className:"text-center",children:"Tìm hiểu thêm về sứ mệnh, tầm nhìn và đội ngũ của chúng tôi."})]}),r.jsx(dt,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-crocus-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(y$,{className:"h-6 w-6 text-crocus-600"})}),r.jsx("h3",{className:"text-xl font-bold mb-2",children:"Sứ mệnh"}),r.jsx("p",{className:"text-gray-600",children:"Mang đến những sản phẩm thời trang chất lượng cao với giá cả hợp lý."})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-crocus-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(pr,{className:"h-6 w-6 text-crocus-600"})}),r.jsx("h3",{className:"text-xl font-bold mb-2",children:"Tầm nhìn"}),r.jsx("p",{className:"text-gray-600",children:"Trở thành thương hiệu thời trang hàng đầu tại Việt Nam."})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-crocus-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(K2,{className:"h-6 w-6 text-crocus-600"})}),r.jsx("h3",{className:"text-xl font-bold mb-2",children:"Đội ngũ"}),r.jsx("p",{className:"text-gray-600",children:"Đội ngũ chuyên nghiệp với nhiều năm kinh nghiệm trong ngành thời trang."})]})]})})]})}),xle=()=>{const{setAuth:n}=Px(),{toast:t}=ac(),[e,s]=k.useState(""),[a,i]=k.useState(""),[o,c]=k.useState(!1),[l,d]=k.useState(!1),[u,f]=k.useState(!1),h=dr(),m=fs();k.useEffect(()=>{},[m.search,h,n]);const A=async b=>{var x,v;b.preventDefault(),d(!0),u?(localStorage.setItem("savedTaiKhoan",e),localStorage.setItem("savedPassword",a)):(localStorage.removeItem("savedTaiKhoan"),localStorage.removeItem("savedPassword"));try{const y=await St.post("https://bicacuatho.azurewebsites.net/api/XacThuc/DangNhap",{taiKhoan:e,matKhau:a}),{user:S,token:M,redirectUrl:P}=y.data;if(S){n(M,{maNguoiDung:S.maNguoiDung,fullName:S.hoTen,email:S.email,vaiTro:S.vaiTro,role:S.role.toLowerCase()}),t({title:"Đăng nhập thành công 🎉",description:"Chào mừng bạn quay trở lại!",duration:3e3,className:"bg-green-500 text-white border border-green-700 shadow-lg"});const B=P.replace("http://localhost:8080","");setTimeout(()=>h(B),1e3)}}catch(y){t({title:"Đăng nhập thất bại!",description:((v=(x=y.response)==null?void 0:x.data)==null?void 0:v.message)||"Vui lòng kiểm tra lại thông tin.",variant:"destructive",duration:3e3})}finally{d(!1)}},g=async()=>{try{const b=await St.get("https://bicacuatho.azurewebsites.net/api/XacThuc/google-login",{params:{returnUrl:"/api/XacThuc/google-callback"}}),{loginUrl:x}=b.data;if(!x)throw new Error("Không thể lấy URL đăng nhập Google");window.location.href=x}catch(b){t({title:"Đăng nhập Google thất bại!",description:b.message||"Đã có lỗi xảy ra khi đăng nhập với Google.",variant:"destructive",duration:3e3})}},p=b=>{f(b)};return r.jsxs(at,{className:"w-full max-w-md mx-auto",children:[r.jsxs(yt,{className:"space-y-1",children:[r.jsx(Ct,{className:"text-2xl font-bold text-center",children:"Đăng nhập"}),r.jsx(us,{className:"text-center",children:"Nhập thông tin đăng nhập của bạn để truy cập tài khoản"})]}),r.jsx(dt,{children:r.jsxs("form",{className:"space-y-4",onSubmit:A,children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"username",children:"Tài khoản"}),r.jsxs("div",{className:"relative",children:[r.jsx(Un,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),r.jsx(je,{id:"username",placeholder:"Nhập tài khoản",type:"text",required:!0,value:e,onChange:b=>s(b.target.value),className:"pl-10",disabled:l})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Oe,{htmlFor:"password",children:"Mật khẩu"}),r.jsx(lt,{to:"/auth/forgot-password",className:"text-sm font-medium text-crocus-600 hover:text-crocus-700",children:"Quên mật khẩu?"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),r.jsx(je,{id:"password",type:o?"text":"password",placeholder:"Nhập mật khẩu",required:!0,value:a,onChange:b=>i(b.target.value),className:"pl-10",disabled:l}),r.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 disabled:opacity-50",disabled:l,children:o?r.jsx(pr,{size:18}):r.jsx(Wi,{size:18})})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ns,{id:"rememberMe",checked:u,onCheckedChange:p,disabled:l}),r.jsx("label",{htmlFor:"rememberMe",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Ghi nhớ"})]}),r.jsxs(fe,{type:"submit",className:"w-full bg-crocus-500 hover:bg-crocus-600",disabled:l,children:[r.jsx(v6,{className:"mr-2 h-4 w-4"})," Đăng nhập"]}),r.jsxs("div",{className:"relative my-4",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("span",{className:"w-full border-t"})}),r.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:r.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Hoặc tiếp tục với"})})]}),r.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.jsxs(fe,{variant:"outline",type:"button",onClick:g,disabled:l,children:[r.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[r.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),r.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),r.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),r.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]})})]})}),r.jsx(Wc,{className:"flex flex-col",children:r.jsxs("div",{className:"text-center text-sm",children:["Chưa có tài khoản?"," ",r.jsx(lt,{to:"/auth/register",className:"font-medium text-crocus-600 hover:text-crocus-700",children:"Đăng ký"})]})})]})},ble=()=>r.jsx("div",{className:"py-10",children:r.jsx(xle,{})}),vle=()=>{const[n,t]=k.useState(""),[e,s]=k.useState(""),[a,i]=k.useState(""),[o,c]=k.useState(""),[l,d]=k.useState(""),[u,f]=k.useState(!1),[h,m]=k.useState(!1),[A,g]=k.useState(!1),[p,b]=k.useState(null),[x,v]=k.useState(!1),[y,S]=k.useState(""),{toast:M}=ac(),P=dr(),B=k.useCallback(F=>{b(F),console.log("reCAPTCHA value:",F)},[]),D=()=>n.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?o.length<8||o.length>40?(M({variant:"destructive",title:"Lỗi ⚠️",description:"Mật khẩu phải có ít nhất 8 ký tự và ít hơn 40 ký tự.",duration:3e3,className:"bg-red-500 text-white border border-red-700 shadow-lg p-4 rounded-md",action:r.jsx(fe,{variant:"outline",className:"bg-white text-red-500 hover:bg-red-100 border-red-500",children:"Đóng"})}),!1):!0:(M({variant:"destructive",title:"Lỗi ⚠️",description:"Email không hợp lệ.",duration:3e3,className:"bg-red-500 text-white border border-red-700 shadow-lg p-4 rounded-md",action:r.jsx(fe,{variant:"outline",className:"bg-white text-red-500 hover:bg-red-100 border-red-500",children:"Đóng"})}),!1):(M({variant:"destructive",title:"Lỗi ⚠️",description:"Họ và tên không được để trống.",duration:3e3,className:"bg-red-500 text-white border border-red-700 shadow-lg p-4 rounded-md",action:r.jsx(fe,{variant:"outline",className:"bg-white text-red-500 hover:bg-red-100 border-red-500",children:"Đóng"})}),!1),L=async F=>{var _,E;if(F.preventDefault(),g(!0),!D()){g(!1);return}if(o!==l){M({variant:"destructive",title:"Mật khẩu không khớp",description:"Vui lòng kiểm tra lại mật khẩu xác nhận."}),g(!1);return}if(!p){M({variant:"destructive",title:"Vui lòng xác minh reCAPTCHA ⚠️",description:"Bạn cần xác minh rằng bạn không phải là bot.",duration:3e3,className:"bg-red-500 text-white border border-red-700 shadow-lg p-4 rounded-md",action:r.jsx(fe,{variant:"outline",className:"bg-white text-red-500 hover:bg-red-100 border-red-500",children:"Đóng"})}),g(!1);return}try{const T=await St.post("https://bicacuatho.azurewebsites.net/api/XacThuc/DangKy",{hoTen:n,email:e,taiKhoan:a,matKhau:o});M({title:"Vui lòng kiểm tra email 🎉",description:"Để kích hoạt tài khoản của bạn",duration:5e3,className:"bg-green-500 text-white border border-green-700 shadow-lg p-4 rounded-md",action:r.jsx(fe,{variant:"outline",className:"bg-white text-green-500 hover:bg-green-100 border-green-500",children:"Đóng"})}),v(!0)}catch(T){M({variant:"destructive",title:"Đăng ký thất bại ⚠️",description:((E=(_=T.response)==null?void 0:_.data)==null?void 0:E.message)||"Vui lòng kiểm tra lại thông tin.",duration:3e3,className:"bg-red-500 text-white border border-red-700 shadow-lg p-4 rounded-md",action:r.jsx(fe,{variant:"outline",className:"bg-white text-red-500 hover:bg-red-100 border-red-500",children:"Đóng"})})}finally{g(!1)}},O=async F=>{var _,E;F.preventDefault(),g(!0);try{const T=await St.post("https://bicacuatho.azurewebsites.net/api/XacThuc/VerifyOtpActivate",{email:e,otp:y});M({title:"Kích hoạt tài khoản thành công 🎉",description:T.data.message,duration:5e3,className:"bg-green-500 text-white border border-green-700 shadow-lg p-4 rounded-md",action:r.jsx(fe,{variant:"outline",className:"bg-white text-green-500 hover:bg-green-100 border-green-500",children:"Đóng"})}),P("/auth/login ")}catch(T){M({variant:"destructive",title:"Xác minh thất bại ⚠️",description:((E=(_=T.response)==null?void 0:_.data)==null?void 0:E.message)||"Vui lòng kiểm tra lại mã OTP.",duration:3e3,className:"bg-red-500 text-white border border-red-700 shadow-lg p-4 rounded-md",action:r.jsx(fe,{variant:"outline",className:"bg-white text-red-500 hover:bg-red-100 border-red-500",children:"Đóng"})})}finally{g(!1)}};return r.jsxs(at,{className:"w-full max-w-md mx-auto",children:[r.jsxs(yt,{className:"space-y-1",children:[r.jsx(Ct,{className:"text-2xl font-bold text-center",children:"Đăng ký"}),r.jsx(us,{className:"text-center",children:"Tạo tài khoản mới của bạn"})]}),r.jsx(dt,{children:x?r.jsxs("form",{className:"space-y-4",onSubmit:O,children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"otp",children:"Nhập mã OTP"}),r.jsx(je,{id:"otp",placeholder:"Nhập mã OTP từ email",type:"text",value:y,onChange:F=>S(F.target.value),required:!0})]}),r.jsx(fe,{type:"submit",className:"w-full bg-crocus-500 hover:bg-crocus-600",disabled:A,children:A?"Đang xử lý...":"Xác minh OTP"})]}):r.jsxs("form",{className:"space-y-4",onSubmit:L,children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"fullName",children:"Họ tên"}),r.jsxs("div",{className:"relative",children:[r.jsx(Un,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),r.jsx(je,{id:"fullName",name:"fullName",placeholder:"Nhập họ và tên",type:"text",required:!0,value:n,onChange:F=>t(F.target.value),className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"email",children:"Email"}),r.jsxs("div",{className:"relative flex items-center",children:[r.jsx(Aa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),r.jsx(je,{id:"email",name:"email",placeholder:"Nhập email",type:"email",required:!0,value:e,onChange:F=>s(F.target.value),className:"pl-10 pr-24"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"username",children:"Tài khoản"}),r.jsxs("div",{className:"relative",children:[r.jsx(Un,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),r.jsx(je,{id:"username",name:"username",placeholder:"Nhập tài khoản",type:"text",required:!0,value:a,onChange:F=>i(F.target.value),className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"password",children:"Mật khẩu"}),r.jsxs("div",{className:"relative",children:[r.jsx(ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),r.jsx(je,{id:"password",name:"password",type:"password",placeholder:"Nhập mật khẩu",required:!0,value:o,onChange:F=>c(F.target.value),className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"confirmPassword",children:"Xác nhận mật khẩu"}),r.jsxs("div",{className:"relative",children:[r.jsx(ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),r.jsx(je,{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"Xác nhận mật khẩu",required:!0,value:l,onChange:F=>d(F.target.value),className:"pl-10"})]})]}),r.jsx("div",{className:"space-y-2",children:r.jsx(GI,{sitekey:"6LdMzlEqAAAAAIRD7o-nvN9bH3jPvKLaKaGW8xD4",onChange:B})}),r.jsx(fe,{type:"submit",className:"w-full bg-crocus-500 hover:bg-crocus-600",disabled:A,children:A?"Đang xử lý...":r.jsxs(r.Fragment,{children:[r.jsx(T6,{className:"mr-2 h-4 w-4"})," Đăng ký"]})})]})}),r.jsx(Wc,{className:"flex flex-col",children:r.jsxs("div",{className:"text-center text-sm",children:["Đã có tài khoản?"," ",r.jsx(lt,{to:"/auth/login",className:"font-medium text-crocus-600 hover:text-crocus-700",children:"Đăng nhập"})]})})]})},yle=()=>r.jsx("div",{className:"max-w-4xl mx-auto py-10 px-4",children:r.jsx(vle,{})});var up=n=>n.type==="checkbox",Rc=n=>n instanceof Date,Gs=n=>n==null;const qI=n=>typeof n=="object";var Jr=n=>!Gs(n)&&!Array.isArray(n)&&qI(n)&&!Rc(n),WI=n=>Jr(n)&&n.target?up(n.target)?n.target.checked:n.target.value:n,wle=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,XI=(n,t)=>n.has(wle(t)),jle=n=>{const t=n.constructor&&n.constructor.prototype;return Jr(t)&&t.hasOwnProperty("isPrototypeOf")},mC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function is(n){let t;const e=Array.isArray(n),s=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)t=new Date(n);else if(!(mC&&(n instanceof Blob||s))&&(e||Jr(n)))if(t=e?[]:Object.create(Object.getPrototypeOf(n)),!e&&!jle(n))t=n;else for(const a in n)n.hasOwnProperty(a)&&(t[a]=is(n[a]));else return n;return t}var lb=n=>/^\w*$/.test(n),Wr=n=>n===void 0,pC=n=>Array.isArray(n)?n.filter(Boolean):[],AC=n=>pC(n.replace(/["|']|\]/g,"").split(/\.|\[/)),wt=(n,t,e)=>{if(!t||!Jr(n))return e;const s=(lb(t)?[t]:AC(t)).reduce((a,i)=>Gs(a)?a:a[i],n);return Wr(s)||s===n?Wr(n[t])?e:n[t]:s},_a=n=>typeof n=="boolean",nr=(n,t,e)=>{let s=-1;const a=lb(t)?[t]:AC(t),i=a.length,o=i-1;for(;++s<i;){const c=a[s];let l=e;if(s!==o){const d=n[c];l=Jr(d)||Array.isArray(d)?d:isNaN(+a[s+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;n[c]=l,n=n[c]}};const c0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},hi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},bo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},gC=Ne.createContext(null);gC.displayName="HookFormContext";const cb=()=>Ne.useContext(gC),Cle=n=>{const{children:t,...e}=n;return Ne.createElement(gC.Provider,{value:e},t)};var YI=(n,t,e,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in n)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==hi.all&&(t._proxyFormState[o]=!s||hi.all),e&&(e[o]=!0),n[o]}});return a};const xC=typeof window<"u"?Ne.useLayoutEffect:Ne.useEffect;function Nle(n){const t=cb(),{control:e=t.control,disabled:s,name:a,exact:i}=n||{},[o,c]=Ne.useState(e._formState),l=Ne.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return xC(()=>e._subscribe({name:a,formState:l.current,exact:i,callback:d=>{!s&&c({...e._formState,...d})}}),[a,s,i]),Ne.useEffect(()=>{l.current.isValid&&e._setValid(!0)},[e]),Ne.useMemo(()=>YI(o,e,l.current,!1),[o,e])}var Ki=n=>typeof n=="string",JI=(n,t,e,s,a)=>Ki(n)?(s&&t.watch.add(n),wt(e,n,a)):Array.isArray(n)?n.map(i=>(s&&t.watch.add(i),wt(e,i))):(s&&(t.watchAll=!0),e),p1=n=>Gs(n)||!qI(n);function Do(n,t,e=new WeakSet){if(p1(n)||p1(t))return n===t;if(Rc(n)&&Rc(t))return n.getTime()===t.getTime();const s=Object.keys(n),a=Object.keys(t);if(s.length!==a.length)return!1;if(e.has(n)||e.has(t))return!0;e.add(n),e.add(t);for(const i of s){const o=n[i];if(!a.includes(i))return!1;if(i!=="ref"){const c=t[i];if(Rc(o)&&Rc(c)||Jr(o)&&Jr(c)||Array.isArray(o)&&Array.isArray(c)?!Do(o,c,e):o!==c)return!1}}return!0}function Sle(n){const t=cb(),{control:e=t.control,name:s,defaultValue:a,disabled:i,exact:o,compute:c}=n||{},l=Ne.useRef(a),d=Ne.useRef(c),u=Ne.useRef(void 0);d.current=c;const f=Ne.useMemo(()=>e._getWatch(s,l.current),[e,s]),[h,m]=Ne.useState(d.current?d.current(f):f);return xC(()=>e._subscribe({name:s,formState:{values:!0},exact:o,callback:A=>{if(!i){const g=JI(s,e._names,A.values||e._formValues,!1,l.current);if(d.current){const p=d.current(g);Do(p,u.current)||(m(p),u.current=p)}else m(g)}}}),[e,i,s,o]),Ne.useEffect(()=>e._removeUnmounted()),h}function Tle(n){const t=cb(),{name:e,disabled:s,control:a=t.control,shouldUnregister:i,defaultValue:o}=n,c=XI(a._names.array,e),l=Ne.useMemo(()=>wt(a._formValues,e,wt(a._defaultValues,e,o)),[a,e,o]),d=Sle({control:a,name:e,defaultValue:l,exact:!0}),u=Nle({control:a,name:e,exact:!0}),f=Ne.useRef(n),h=Ne.useRef(a.register(e,{...n.rules,value:d,..._a(n.disabled)?{disabled:n.disabled}:{}}));f.current=n;const m=Ne.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!wt(u.errors,e)},isDirty:{enumerable:!0,get:()=>!!wt(u.dirtyFields,e)},isTouched:{enumerable:!0,get:()=>!!wt(u.touchedFields,e)},isValidating:{enumerable:!0,get:()=>!!wt(u.validatingFields,e)},error:{enumerable:!0,get:()=>wt(u.errors,e)}}),[u,e]),A=Ne.useCallback(x=>h.current.onChange({target:{value:WI(x),name:e},type:c0.CHANGE}),[e]),g=Ne.useCallback(()=>h.current.onBlur({target:{value:wt(a._formValues,e),name:e},type:c0.BLUR}),[e,a._formValues]),p=Ne.useCallback(x=>{const v=wt(a._fields,e);v&&x&&(v._f.ref={focus:()=>x.focus&&x.focus(),select:()=>x.select&&x.select(),setCustomValidity:y=>x.setCustomValidity(y),reportValidity:()=>x.reportValidity()})},[a._fields,e]),b=Ne.useMemo(()=>({name:e,value:d,..._a(s)||u.disabled?{disabled:u.disabled||s}:{},onChange:A,onBlur:g,ref:p}),[e,s,u.disabled,A,g,p,d]);return Ne.useEffect(()=>{const x=a._options.shouldUnregister||i;a.register(e,{...f.current.rules,..._a(f.current.disabled)?{disabled:f.current.disabled}:{}});const v=(y,S)=>{const M=wt(a._fields,y);M&&M._f&&(M._f.mount=S)};if(v(e,!0),x){const y=is(wt(a._options.defaultValues,e));nr(a._defaultValues,e,y),Wr(wt(a._formValues,e))&&nr(a._formValues,e,y)}return!c&&a.register(e),()=>{(c?x&&!a._state.action:x)?a.unregister(e):v(e,!1)}},[e,a,c,i]),Ne.useEffect(()=>{a._setDisabledField({disabled:s,name:e})},[s,e,a]),Ne.useMemo(()=>({field:b,formState:u,fieldState:m}),[b,u,m])}const kle=n=>n.render(Tle(n));var ZI=(n,t,e,s,a)=>t?{...e[n],types:{...e[n]&&e[n].types?e[n].types:{},[s]:a||!0}}:{},Pf=n=>Array.isArray(n)?n:[n],FS=()=>{let n=[];return{get observers(){return n},next:a=>{for(const i of n)i.next&&i.next(a)},subscribe:a=>(n.push(a),{unsubscribe:()=>{n=n.filter(i=>i!==a)}}),unsubscribe:()=>{n=[]}}},da=n=>Jr(n)&&!Object.keys(n).length,bC=n=>n.type==="file",fi=n=>typeof n=="function",d0=n=>{if(!mC)return!1;const t=n?n.ownerDocument:0;return n instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},eO=n=>n.type==="select-multiple",vC=n=>n.type==="radio",_le=n=>vC(n)||up(n),Uv=n=>d0(n)&&n.isConnected;function Ble(n,t){const e=t.slice(0,-1).length;let s=0;for(;s<e;)n=Wr(n)?s++:n[t[s++]];return n}function Ele(n){for(const t in n)if(n.hasOwnProperty(t)&&!Wr(n[t]))return!1;return!0}function es(n,t){const e=Array.isArray(t)?t:lb(t)?[t]:AC(t),s=e.length===1?n:Ble(n,e),a=e.length-1,i=e[a];return s&&delete s[i],a!==0&&(Jr(s)&&da(s)||Array.isArray(s)&&Ele(s))&&es(n,e.slice(0,-1)),n}var tO=n=>{for(const t in n)if(fi(n[t]))return!0;return!1};function u0(n,t={}){const e=Array.isArray(n);if(Jr(n)||e)for(const s in n)Array.isArray(n[s])||Jr(n[s])&&!tO(n[s])?(t[s]=Array.isArray(n[s])?[]:{},u0(n[s],t[s])):Gs(n[s])||(t[s]=!0);return t}function nO(n,t,e){const s=Array.isArray(n);if(Jr(n)||s)for(const a in n)Array.isArray(n[a])||Jr(n[a])&&!tO(n[a])?Wr(t)||p1(e[a])?e[a]=Array.isArray(n[a])?u0(n[a],[]):{...u0(n[a])}:nO(n[a],Gs(t)?{}:t[a],e[a]):e[a]=!Do(n[a],t[a]);return e}var Uh=(n,t)=>nO(n,t,u0(t));const RS={value:!1,isValid:!1},US={value:!0,isValid:!0};var rO=n=>{if(Array.isArray(n)){if(n.length>1){const t=n.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Wr(n[0].attributes.value)?Wr(n[0].value)||n[0].value===""?US:{value:n[0].value,isValid:!0}:US:RS}return RS},sO=(n,{valueAsNumber:t,valueAsDate:e,setValueAs:s})=>Wr(n)?n:t?n===""?NaN:n&&+n:e&&Ki(n)?new Date(n):s?s(n):n;const HS={isValid:!1,value:null};var aO=n=>Array.isArray(n)?n.reduce((t,e)=>e&&e.checked&&!e.disabled?{isValid:!0,value:e.value}:t,HS):HS;function $S(n){const t=n.ref;return bC(t)?t.files:vC(t)?aO(n.refs).value:eO(t)?[...t.selectedOptions].map(({value:e})=>e):up(t)?rO(n.refs).value:sO(Wr(t.value)?n.ref.value:t.value,n)}var Mle=(n,t,e,s)=>{const a={};for(const i of n){const o=wt(t,i);o&&nr(a,i,o._f)}return{criteriaMode:e,names:[...n],fields:a,shouldUseNativeValidation:s}},h0=n=>n instanceof RegExp,Hh=n=>Wr(n)?n:h0(n)?n.source:Jr(n)?h0(n.value)?n.value.source:n.value:n,QS=n=>({isOnSubmit:!n||n===hi.onSubmit,isOnBlur:n===hi.onBlur,isOnChange:n===hi.onChange,isOnAll:n===hi.all,isOnTouch:n===hi.onTouched});const VS="AsyncFunction";var Ple=n=>!!n&&!!n.validate&&!!(fi(n.validate)&&n.validate.constructor.name===VS||Jr(n.validate)&&Object.values(n.validate).find(t=>t.constructor.name===VS)),Dle=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),zS=(n,t,e)=>!e&&(t.watchAll||t.watch.has(n)||[...t.watch].some(s=>n.startsWith(s)&&/^\.\w+/.test(n.slice(s.length))));const Df=(n,t,e,s)=>{for(const a of e||Object.keys(n)){const i=wt(n,a);if(i){const{_f:o,...c}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(Df(c,t))break}else if(Jr(c)&&Df(c,t))break}}};function KS(n,t,e){const s=wt(n,e);if(s||lb(e))return{error:s,name:e};const a=e.split(".");for(;a.length;){const i=a.join("."),o=wt(t,i),c=wt(n,i);if(o&&!Array.isArray(o)&&e!==i)return{name:e};if(c&&c.type)return{name:i,error:c};if(c&&c.root&&c.root.type)return{name:`${i}.root`,error:c.root};a.pop()}return{name:e}}var Ile=(n,t,e,s)=>{e(n);const{name:a,...i}=n;return da(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!s||hi.all))},Ole=(n,t,e)=>!n||!t||n===t||Pf(n).some(s=>s&&(e?s===t:s.startsWith(t)||t.startsWith(s))),Lle=(n,t,e,s,a)=>a.isOnAll?!1:!e&&a.isOnTouch?!(t||n):(e?s.isOnBlur:a.isOnBlur)?!n:(e?s.isOnChange:a.isOnChange)?n:!0,Fle=(n,t)=>!pC(wt(n,t)).length&&es(n,t),Rle=(n,t,e)=>{const s=Pf(wt(n,e));return nr(s,"root",t[e]),nr(n,e,s),n},dg=n=>Ki(n);function GS(n,t,e="validate"){if(dg(n)||Array.isArray(n)&&n.every(dg)||_a(n)&&!n)return{type:e,message:dg(n)?n:"",ref:t}}var Vd=n=>Jr(n)&&!h0(n)?n:{value:n,message:""},qS=async(n,t,e,s,a,i)=>{const{ref:o,refs:c,required:l,maxLength:d,minLength:u,min:f,max:h,pattern:m,validate:A,name:g,valueAsNumber:p,mount:b}=n._f,x=wt(e,g);if(!b||t.has(g))return{};const v=c?c[0]:o,y=F=>{a&&v.reportValidity&&(v.setCustomValidity(_a(F)?"":F||""),v.reportValidity())},S={},M=vC(o),P=up(o),B=M||P,D=(p||bC(o))&&Wr(o.value)&&Wr(x)||d0(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,L=ZI.bind(null,g,s,S),O=(F,_,E,T=bo.maxLength,w=bo.minLength)=>{const C=F?_:E;S[g]={type:F?T:w,message:C,ref:o,...L(F?T:w,C)}};if(i?!Array.isArray(x)||!x.length:l&&(!B&&(D||Gs(x))||_a(x)&&!x||P&&!rO(c).isValid||M&&!aO(c).isValid)){const{value:F,message:_}=dg(l)?{value:!!l,message:l}:Vd(l);if(F&&(S[g]={type:bo.required,message:_,ref:v,...L(bo.required,_)},!s))return y(_),S}if(!D&&(!Gs(f)||!Gs(h))){let F,_;const E=Vd(h),T=Vd(f);if(!Gs(x)&&!isNaN(x)){const w=o.valueAsNumber||x&&+x;Gs(E.value)||(F=w>E.value),Gs(T.value)||(_=w<T.value)}else{const w=o.valueAsDate||new Date(x),C=I=>new Date(new Date().toDateString()+" "+I),j=o.type=="time",N=o.type=="week";Ki(E.value)&&x&&(F=j?C(x)>C(E.value):N?x>E.value:w>new Date(E.value)),Ki(T.value)&&x&&(_=j?C(x)<C(T.value):N?x<T.value:w<new Date(T.value))}if((F||_)&&(O(!!F,E.message,T.message,bo.max,bo.min),!s))return y(S[g].message),S}if((d||u)&&!D&&(Ki(x)||i&&Array.isArray(x))){const F=Vd(d),_=Vd(u),E=!Gs(F.value)&&x.length>+F.value,T=!Gs(_.value)&&x.length<+_.value;if((E||T)&&(O(E,F.message,_.message),!s))return y(S[g].message),S}if(m&&!D&&Ki(x)){const{value:F,message:_}=Vd(m);if(h0(F)&&!x.match(F)&&(S[g]={type:bo.pattern,message:_,ref:o,...L(bo.pattern,_)},!s))return y(_),S}if(A){if(fi(A)){const F=await A(x,e),_=GS(F,v);if(_&&(S[g]={..._,...L(bo.validate,_.message)},!s))return y(_.message),S}else if(Jr(A)){let F={};for(const _ in A){if(!da(F)&&!s)break;const E=GS(await A[_](x,e),v,_);E&&(F={...E,...L(_,E.message)},y(E.message),s&&(S[g]=F))}if(!da(F)&&(S[g]={ref:v,...F},!s))return S}}return y(!0),S};const Ule={mode:hi.onSubmit,reValidateMode:hi.onChange,shouldFocusError:!0};function Hle(n={}){let t={...Ule,...n},e={submitCount:0,isDirty:!1,isReady:!1,isLoading:fi(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=Jr(t.defaultValues)||Jr(t.values)?is(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:is(a),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const h={array:FS(),state:FS()},m=t.criteriaMode===hi.all,A=Z=>se=>{clearTimeout(d),d=setTimeout(Z,se)},g=async Z=>{if(!t.disabled&&(u.isValid||f.isValid||Z)){const se=t.resolver?da((await P()).errors):await D(s,!0);se!==e.isValid&&h.state.next({isValid:se})}},p=(Z,se)=>{!t.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((Z||Array.from(c.mount)).forEach(re=>{re&&(se?nr(e.validatingFields,re,se):es(e.validatingFields,re))}),h.state.next({validatingFields:e.validatingFields,isValidating:!da(e.validatingFields)}))},b=(Z,se=[],re,le,ae=!0,ue=!0)=>{if(le&&re&&!t.disabled){if(o.action=!0,ue&&Array.isArray(wt(s,Z))){const he=re(wt(s,Z),le.argA,le.argB);ae&&nr(s,Z,he)}if(ue&&Array.isArray(wt(e.errors,Z))){const he=re(wt(e.errors,Z),le.argA,le.argB);ae&&nr(e.errors,Z,he),Fle(e.errors,Z)}if((u.touchedFields||f.touchedFields)&&ue&&Array.isArray(wt(e.touchedFields,Z))){const he=re(wt(e.touchedFields,Z),le.argA,le.argB);ae&&nr(e.touchedFields,Z,he)}(u.dirtyFields||f.dirtyFields)&&(e.dirtyFields=Uh(a,i)),h.state.next({name:Z,isDirty:O(Z,se),dirtyFields:e.dirtyFields,errors:e.errors,isValid:e.isValid})}else nr(i,Z,se)},x=(Z,se)=>{nr(e.errors,Z,se),h.state.next({errors:e.errors})},v=Z=>{e.errors=Z,h.state.next({errors:e.errors,isValid:!1})},y=(Z,se,re,le)=>{const ae=wt(s,Z);if(ae){const ue=wt(i,Z,Wr(re)?wt(a,Z):re);Wr(ue)||le&&le.defaultChecked||se?nr(i,Z,se?ue:$S(ae._f)):E(Z,ue),o.mount&&g()}},S=(Z,se,re,le,ae)=>{let ue=!1,he=!1;const pe={name:Z};if(!t.disabled){if(!re||le){(u.isDirty||f.isDirty)&&(he=e.isDirty,e.isDirty=pe.isDirty=O(),ue=he!==pe.isDirty);const Ae=Do(wt(a,Z),se);he=!!wt(e.dirtyFields,Z),Ae?es(e.dirtyFields,Z):nr(e.dirtyFields,Z,!0),pe.dirtyFields=e.dirtyFields,ue=ue||(u.dirtyFields||f.dirtyFields)&&he!==!Ae}if(re){const Ae=wt(e.touchedFields,Z);Ae||(nr(e.touchedFields,Z,re),pe.touchedFields=e.touchedFields,ue=ue||(u.touchedFields||f.touchedFields)&&Ae!==re)}ue&&ae&&h.state.next(pe)}return ue?pe:{}},M=(Z,se,re,le)=>{const ae=wt(e.errors,Z),ue=(u.isValid||f.isValid)&&_a(se)&&e.isValid!==se;if(t.delayError&&re?(l=A(()=>x(Z,re)),l(t.delayError)):(clearTimeout(d),l=null,re?nr(e.errors,Z,re):es(e.errors,Z)),(re?!Do(ae,re):ae)||!da(le)||ue){const he={...le,...ue&&_a(se)?{isValid:se}:{},errors:e.errors,name:Z};e={...e,...he},h.state.next(he)}},P=async Z=>{p(Z,!0);const se=await t.resolver(i,t.context,Mle(Z||c.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return p(Z),se},B=async Z=>{const{errors:se}=await P(Z);if(Z)for(const re of Z){const le=wt(se,re);le?nr(e.errors,re,le):es(e.errors,re)}else e.errors=se;return se},D=async(Z,se,re={valid:!0})=>{for(const le in Z){const ae=Z[le];if(ae){const{_f:ue,...he}=ae;if(ue){const pe=c.array.has(ue.name),Ae=ae._f&&Ple(ae._f);Ae&&u.validatingFields&&p([le],!0);const ie=await qS(ae,c.disabled,i,m,t.shouldUseNativeValidation&&!se,pe);if(Ae&&u.validatingFields&&p([le]),ie[ue.name]&&(re.valid=!1,se))break;!se&&(wt(ie,ue.name)?pe?Rle(e.errors,ie,ue.name):nr(e.errors,ue.name,ie[ue.name]):es(e.errors,ue.name))}!da(he)&&await D(he,se,re)}}return re.valid},L=()=>{for(const Z of c.unMount){const se=wt(s,Z);se&&(se._f.refs?se._f.refs.every(re=>!Uv(re)):!Uv(se._f.ref))&&q(Z)}c.unMount=new Set},O=(Z,se)=>!t.disabled&&(Z&&se&&nr(i,Z,se),!Do(I(),a)),F=(Z,se,re)=>JI(Z,c,{...o.mount?i:Wr(se)?a:Ki(Z)?{[Z]:se}:se},re,se),_=Z=>pC(wt(o.mount?i:a,Z,t.shouldUnregister?wt(a,Z,[]):[])),E=(Z,se,re={})=>{const le=wt(s,Z);let ae=se;if(le){const ue=le._f;ue&&(!ue.disabled&&nr(i,Z,sO(se,ue)),ae=d0(ue.ref)&&Gs(se)?"":se,eO(ue.ref)?[...ue.ref.options].forEach(he=>he.selected=ae.includes(he.value)):ue.refs?up(ue.ref)?ue.refs.forEach(he=>{(!he.defaultChecked||!he.disabled)&&(Array.isArray(ae)?he.checked=!!ae.find(pe=>pe===he.value):he.checked=ae===he.value||!!ae)}):ue.refs.forEach(he=>he.checked=he.value===ae):bC(ue.ref)?ue.ref.value="":(ue.ref.value=ae,ue.ref.type||h.state.next({name:Z,values:is(i)})))}(re.shouldDirty||re.shouldTouch)&&S(Z,ae,re.shouldTouch,re.shouldDirty,!0),re.shouldValidate&&N(Z)},T=(Z,se,re)=>{for(const le in se){if(!se.hasOwnProperty(le))return;const ae=se[le],ue=Z+"."+le,he=wt(s,ue);(c.array.has(Z)||Jr(ae)||he&&!he._f)&&!Rc(ae)?T(ue,ae,re):E(ue,ae,re)}},w=(Z,se,re={})=>{const le=wt(s,Z),ae=c.array.has(Z),ue=is(se);nr(i,Z,ue),ae?(h.array.next({name:Z,values:is(i)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&re.shouldDirty&&h.state.next({name:Z,dirtyFields:Uh(a,i),isDirty:O(Z,ue)})):le&&!le._f&&!Gs(ue)?T(Z,ue,re):E(Z,ue,re),zS(Z,c)&&h.state.next({...e,name:Z}),h.state.next({name:o.mount?Z:void 0,values:is(i)})},C=async Z=>{o.mount=!0;const se=Z.target;let re=se.name,le=!0;const ae=wt(s,re),ue=Ae=>{le=Number.isNaN(Ae)||Rc(Ae)&&isNaN(Ae.getTime())||Do(Ae,wt(i,re,Ae))},he=QS(t.mode),pe=QS(t.reValidateMode);if(ae){let Ae,ie;const de=se.type?$S(ae._f):WI(Z),me=Z.type===c0.BLUR||Z.type===c0.FOCUS_OUT,ve=!Dle(ae._f)&&!t.resolver&&!wt(e.errors,re)&&!ae._f.deps||Lle(me,wt(e.touchedFields,re),e.isSubmitted,pe,he),Me=zS(re,c,me);nr(i,re,de),me?(!se||!se.readOnly)&&(ae._f.onBlur&&ae._f.onBlur(Z),l&&l(0)):ae._f.onChange&&ae._f.onChange(Z);const Be=S(re,de,me),xe=!da(Be)||Me;if(!me&&h.state.next({name:re,type:Z.type,values:is(i)}),ve)return(u.isValid||f.isValid)&&(t.mode==="onBlur"?me&&g():me||g()),xe&&h.state.next({name:re,...Me?{}:Be});if(!me&&Me&&h.state.next({...e}),t.resolver){const{errors:Te}=await P([re]);if(ue(de),le){const _e=KS(e.errors,s,re),Pe=KS(Te,s,_e.name||re);Ae=Pe.error,re=Pe.name,ie=da(Te)}}else p([re],!0),Ae=(await qS(ae,c.disabled,i,m,t.shouldUseNativeValidation))[re],p([re]),ue(de),le&&(Ae?ie=!1:(u.isValid||f.isValid)&&(ie=await D(s,!0)));le&&(ae._f.deps&&N(ae._f.deps),M(re,ie,Ae,Be))}},j=(Z,se)=>{if(wt(e.errors,se)&&Z.focus)return Z.focus(),1},N=async(Z,se={})=>{let re,le;const ae=Pf(Z);if(t.resolver){const ue=await B(Wr(Z)?Z:ae);re=da(ue),le=Z?!ae.some(he=>wt(ue,he)):re}else Z?(le=(await Promise.all(ae.map(async ue=>{const he=wt(s,ue);return await D(he&&he._f?{[ue]:he}:he)}))).every(Boolean),!(!le&&!e.isValid)&&g()):le=re=await D(s);return h.state.next({...!Ki(Z)||(u.isValid||f.isValid)&&re!==e.isValid?{}:{name:Z},...t.resolver||!Z?{isValid:re}:{},errors:e.errors}),se.shouldFocus&&!le&&Df(s,j,Z?ae:c.mount),le},I=Z=>{const se={...o.mount?i:a};return Wr(Z)?se:Ki(Z)?wt(se,Z):Z.map(re=>wt(se,re))},R=(Z,se)=>({invalid:!!wt((se||e).errors,Z),isDirty:!!wt((se||e).dirtyFields,Z),error:wt((se||e).errors,Z),isValidating:!!wt(e.validatingFields,Z),isTouched:!!wt((se||e).touchedFields,Z)}),U=Z=>{Z&&Pf(Z).forEach(se=>es(e.errors,se)),h.state.next({errors:Z?e.errors:{}})},V=(Z,se,re)=>{const le=(wt(s,Z,{_f:{}})._f||{}).ref,ae=wt(e.errors,Z)||{},{ref:ue,message:he,type:pe,...Ae}=ae;nr(e.errors,Z,{...Ae,...se,ref:le}),h.state.next({name:Z,errors:e.errors,isValid:!1}),re&&re.shouldFocus&&le&&le.focus&&le.focus()},z=(Z,se)=>fi(Z)?h.state.subscribe({next:re=>"values"in re&&Z(F(void 0,se),re)}):F(Z,se,!0),X=Z=>h.state.subscribe({next:se=>{Ole(Z.name,se.name,Z.exact)&&Ile(se,Z.formState||u,ee,Z.reRenderRoot)&&Z.callback({values:{...i},...e,...se,defaultValues:a})}}).unsubscribe,Q=Z=>(o.mount=!0,f={...f,...Z.formState},X({...Z,formState:f})),q=(Z,se={})=>{for(const re of Z?Pf(Z):c.mount)c.mount.delete(re),c.array.delete(re),se.keepValue||(es(s,re),es(i,re)),!se.keepError&&es(e.errors,re),!se.keepDirty&&es(e.dirtyFields,re),!se.keepTouched&&es(e.touchedFields,re),!se.keepIsValidating&&es(e.validatingFields,re),!t.shouldUnregister&&!se.keepDefaultValue&&es(a,re);h.state.next({values:is(i)}),h.state.next({...e,...se.keepDirty?{isDirty:O()}:{}}),!se.keepIsValid&&g()},H=({disabled:Z,name:se})=>{(_a(Z)&&o.mount||Z||c.disabled.has(se))&&(Z?c.disabled.add(se):c.disabled.delete(se))},$=(Z,se={})=>{let re=wt(s,Z);const le=_a(se.disabled)||_a(t.disabled);return nr(s,Z,{...re||{},_f:{...re&&re._f?re._f:{ref:{name:Z}},name:Z,mount:!0,...se}}),c.mount.add(Z),re?H({disabled:_a(se.disabled)?se.disabled:t.disabled,name:Z}):y(Z,!0,se.value),{...le?{disabled:se.disabled||t.disabled}:{},...t.progressive?{required:!!se.required,min:Hh(se.min),max:Hh(se.max),minLength:Hh(se.minLength),maxLength:Hh(se.maxLength),pattern:Hh(se.pattern)}:{},name:Z,onChange:C,onBlur:C,ref:ae=>{if(ae){$(Z,se),re=wt(s,Z);const ue=Wr(ae.value)&&ae.querySelectorAll&&ae.querySelectorAll("input,select,textarea")[0]||ae,he=_le(ue),pe=re._f.refs||[];if(he?pe.find(Ae=>Ae===ue):ue===re._f.ref)return;nr(s,Z,{_f:{...re._f,...he?{refs:[...pe.filter(Uv),ue,...Array.isArray(wt(a,Z))?[{}]:[]],ref:{type:ue.type,name:Z}}:{ref:ue}}}),y(Z,!1,void 0,ue)}else re=wt(s,Z,{}),re._f&&(re._f.mount=!1),(t.shouldUnregister||se.shouldUnregister)&&!(XI(c.array,Z)&&o.action)&&c.unMount.add(Z)}}},G=()=>t.shouldFocusError&&Df(s,j,c.mount),J=Z=>{_a(Z)&&(h.state.next({disabled:Z}),Df(s,(se,re)=>{const le=wt(s,re);le&&(se.disabled=le._f.disabled||Z,Array.isArray(le._f.refs)&&le._f.refs.forEach(ae=>{ae.disabled=le._f.disabled||Z}))},0,!1))},te=(Z,se)=>async re=>{let le;re&&(re.preventDefault&&re.preventDefault(),re.persist&&re.persist());let ae=is(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:ue,values:he}=await P();e.errors=ue,ae=is(he)}else await D(s);if(c.disabled.size)for(const ue of c.disabled)es(ae,ue);if(es(e.errors,"root"),da(e.errors)){h.state.next({errors:{}});try{await Z(ae,re)}catch(ue){le=ue}}else se&&await se({...e.errors},re),G(),setTimeout(G);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:da(e.errors)&&!le,submitCount:e.submitCount+1,errors:e.errors}),le)throw le},K=(Z,se={})=>{wt(s,Z)&&(Wr(se.defaultValue)?w(Z,is(wt(a,Z))):(w(Z,se.defaultValue),nr(a,Z,is(se.defaultValue))),se.keepTouched||es(e.touchedFields,Z),se.keepDirty||(es(e.dirtyFields,Z),e.isDirty=se.defaultValue?O(Z,is(wt(a,Z))):O()),se.keepError||(es(e.errors,Z),u.isValid&&g()),h.state.next({...e}))},ne=(Z,se={})=>{const re=Z?is(Z):a,le=is(re),ae=da(Z),ue=ae?a:le;if(se.keepDefaultValues||(a=re),!se.keepValues){if(se.keepDirtyValues){const he=new Set([...c.mount,...Object.keys(Uh(a,i))]);for(const pe of Array.from(he))wt(e.dirtyFields,pe)?nr(ue,pe,wt(i,pe)):w(pe,wt(ue,pe))}else{if(mC&&Wr(Z))for(const he of c.mount){const pe=wt(s,he);if(pe&&pe._f){const Ae=Array.isArray(pe._f.refs)?pe._f.refs[0]:pe._f.ref;if(d0(Ae)){const ie=Ae.closest("form");if(ie){ie.reset();break}}}}if(se.keepFieldsRef)for(const he of c.mount)w(he,wt(ue,he));else s={}}i=t.shouldUnregister?se.keepDefaultValues?is(a):{}:is(ue),h.array.next({values:{...ue}}),h.state.next({values:{...ue}})}c={mount:se.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!se.keepIsValid||!!se.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:se.keepSubmitCount?e.submitCount:0,isDirty:ae?!1:se.keepDirty?e.isDirty:!!(se.keepDefaultValues&&!Do(Z,a)),isSubmitted:se.keepIsSubmitted?e.isSubmitted:!1,dirtyFields:ae?{}:se.keepDirtyValues?se.keepDefaultValues&&i?Uh(a,i):e.dirtyFields:se.keepDefaultValues&&Z?Uh(a,Z):se.keepDirty?e.dirtyFields:{},touchedFields:se.keepTouched?e.touchedFields:{},errors:se.keepErrors?e.errors:{},isSubmitSuccessful:se.keepIsSubmitSuccessful?e.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},ce=(Z,se)=>ne(fi(Z)?Z(i):Z,se),oe=(Z,se={})=>{const re=wt(s,Z),le=re&&re._f;if(le){const ae=le.refs?le.refs[0]:le.ref;ae.focus&&(ae.focus(),se.shouldSelect&&fi(ae.select)&&ae.select())}},ee=Z=>{e={...e,...Z}},Y={control:{register:$,unregister:q,getFieldState:R,handleSubmit:te,setError:V,_subscribe:X,_runSchema:P,_focusError:G,_getWatch:F,_getDirty:O,_setValid:g,_setFieldArray:b,_setDisabledField:H,_setErrors:v,_getFieldArray:_,_reset:ne,_resetDefaultValues:()=>fi(t.defaultValues)&&t.defaultValues().then(Z=>{ce(Z,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:J,_subjects:h,_proxyFormState:u,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(Z){o=Z},get _defaultValues(){return a},get _names(){return c},set _names(Z){c=Z},get _formState(){return e},get _options(){return t},set _options(Z){t={...t,...Z}}},subscribe:Q,trigger:N,register:$,handleSubmit:te,watch:z,setValue:w,getValues:I,reset:ce,resetField:K,clearErrors:U,unregister:q,setError:V,setFocus:oe,getFieldState:R};return{...Y,formControl:Y}}function Ji(n={}){const t=Ne.useRef(void 0),e=Ne.useRef(void 0),[s,a]=Ne.useState({isDirty:!1,isValidating:!1,isLoading:fi(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:fi(n.defaultValues)?void 0:n.defaultValues});if(!t.current)if(n.formControl)t.current={...n.formControl,formState:s},n.defaultValues&&!fi(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions);else{const{formControl:o,...c}=Hle(n);t.current={...c,formState:s}}const i=t.current.control;return i._options=n,xC(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(c=>({...c,isReady:!0})),i._formState.isReady=!0,o},[i]),Ne.useEffect(()=>i._disableForm(n.disabled),[i,n.disabled]),Ne.useEffect(()=>{n.mode&&(i._options.mode=n.mode),n.reValidateMode&&(i._options.reValidateMode=n.reValidateMode)},[i,n.mode,n.reValidateMode]),Ne.useEffect(()=>{n.errors&&(i._setErrors(n.errors),i._focusError())},[i,n.errors]),Ne.useEffect(()=>{n.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,n.shouldUnregister]),Ne.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),Ne.useEffect(()=>{n.values&&!Do(n.values,e.current)?(i._reset(n.values,{keepFieldsRef:!0,...i._options.resetOptions}),e.current=n.values,a(o=>({...o}))):i._resetDefaultValues()},[i,n.values]),Ne.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=YI(s,i),t.current}const WS=(n,t,e)=>{if(n&&"reportValidity"in n){const s=wt(e,t);n.setCustomValidity(s&&s.message||""),n.reportValidity()}},iO=(n,t)=>{for(const e in t.fields){const s=t.fields[e];s&&s.ref&&"reportValidity"in s.ref?WS(s.ref,e,n):s.refs&&s.refs.forEach(a=>WS(a,e,n))}},$le=(n,t)=>{t.shouldUseNativeValidation&&iO(n,t);const e={};for(const s in n){const a=wt(t.fields,s),i=Object.assign(n[s]||{},{ref:a&&a.ref});if(Qle(t.names||Object.keys(n),s)){const o=Object.assign({},wt(e,s));nr(o,"root",i),nr(e,s,o)}else nr(e,s,i)}return e},Qle=(n,t)=>n.some(e=>e.startsWith(t+"."));var Vle=function(n,t){for(var e={};n.length;){var s=n[0],a=s.code,i=s.message,o=s.path.join(".");if(!e[o])if("unionErrors"in s){var c=s.unionErrors[0].errors[0];e[o]={message:c.message,type:c.code}}else e[o]={message:i,type:a};if("unionErrors"in s&&s.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return n.push(f)})}),t){var l=e[o].types,d=l&&l[s.code];e[o]=ZI(o,t,e,a,d?[].concat(d,s.message):s.message)}n.shift()}return e},Zi=function(n,t,e){return e===void 0&&(e={}),function(s,a,i){try{return Promise.resolve(function(o,c){try{var l=Promise.resolve(n[e.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(d){return i.shouldUseNativeValidation&&iO({},i),{errors:{},values:e.raw?s:d}})}catch(d){return c(d)}return l&&l.then?l.then(void 0,c):l}(0,function(o){if(function(c){return Array.isArray(c==null?void 0:c.errors)}(o))return{values:{},errors:$le(Vle(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Gn;(function(n){n.assertEqual=a=>{};function t(a){}n.assertIs=t;function e(a){throw new Error}n.assertNever=e,n.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},n.getValidEnumValues=a=>{const i=n.objectKeys(a).filter(c=>typeof a[a[c]]!="number"),o={};for(const c of i)o[c]=a[c];return n.objectValues(o)},n.objectValues=a=>n.objectKeys(a).map(function(i){return a[i]}),n.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},n.find=(a,i)=>{for(const o of a)if(i(o))return o},n.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function s(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}n.joinValues=s,n.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Gn||(Gn={}));var XS;(function(n){n.mergeShapes=(t,e)=>({...t,...e})})(XS||(XS={}));const Ot=Gn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),jl=n=>{switch(typeof n){case"undefined":return Ot.undefined;case"string":return Ot.string;case"number":return Number.isNaN(n)?Ot.nan:Ot.number;case"boolean":return Ot.boolean;case"function":return Ot.function;case"bigint":return Ot.bigint;case"symbol":return Ot.symbol;case"object":return Array.isArray(n)?Ot.array:n===null?Ot.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?Ot.promise:typeof Map<"u"&&n instanceof Map?Ot.map:typeof Set<"u"&&n instanceof Set?Ot.set:typeof Date<"u"&&n instanceof Date?Ot.date:Ot.object;default:return Ot.unknown}},mt=Gn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class el extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const e=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,e):this.__proto__=e,this.name="ZodError",this.issues=t}format(t){const e=t||function(i){return i.message},s={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)s._errors.push(e(o));else{let c=s,l=0;for(;l<o.path.length;){const d=o.path[l];l===o.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(e(o))):c[d]=c[d]||{_errors:[]},c=c[d],l++}}};return a(this),s}static assert(t){if(!(t instanceof el))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Gn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=e=>e.message){const e={},s=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];e[i]=e[i]||[],e[i].push(t(a))}else s.push(t(a));return{formErrors:s,fieldErrors:e}}get formErrors(){return this.flatten()}}el.create=n=>new el(n);const A1=(n,t)=>{let e;switch(n.code){case mt.invalid_type:n.received===Ot.undefined?e="Required":e=`Expected ${n.expected}, received ${n.received}`;break;case mt.invalid_literal:e=`Invalid literal value, expected ${JSON.stringify(n.expected,Gn.jsonStringifyReplacer)}`;break;case mt.unrecognized_keys:e=`Unrecognized key(s) in object: ${Gn.joinValues(n.keys,", ")}`;break;case mt.invalid_union:e="Invalid input";break;case mt.invalid_union_discriminator:e=`Invalid discriminator value. Expected ${Gn.joinValues(n.options)}`;break;case mt.invalid_enum_value:e=`Invalid enum value. Expected ${Gn.joinValues(n.options)}, received '${n.received}'`;break;case mt.invalid_arguments:e="Invalid function arguments";break;case mt.invalid_return_type:e="Invalid function return type";break;case mt.invalid_date:e="Invalid date";break;case mt.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(e=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(e=`${e} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?e=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?e=`Invalid input: must end with "${n.validation.endsWith}"`:Gn.assertNever(n.validation):n.validation!=="regex"?e=`Invalid ${n.validation}`:e="Invalid";break;case mt.too_small:n.type==="array"?e=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?e=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?e=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="bigint"?e=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?e=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:e="Invalid input";break;case mt.too_big:n.type==="array"?e=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?e=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?e=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?e=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?e=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:e="Invalid input";break;case mt.custom:e="Invalid input";break;case mt.invalid_intersection_types:e="Intersection results could not be merged";break;case mt.not_multiple_of:e=`Number must be a multiple of ${n.multipleOf}`;break;case mt.not_finite:e="Number must be finite";break;default:e=t.defaultError,Gn.assertNever(n)}return{message:e}};let zle=A1;function Kle(){return zle}const Gle=n=>{const{data:t,path:e,errorMaps:s,issueData:a}=n,i=[...e,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let c="";const l=s.filter(d=>!!d).slice().reverse();for(const d of l)c=d(o,{data:t,defaultError:c}).message;return{...a,path:i,message:c}};function kt(n,t){const e=Kle(),s=Gle({issueData:t,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,e,e===A1?void 0:A1].filter(a=>!!a)});n.common.issues.push(s)}class La{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,e){const s=[];for(const a of e){if(a.status==="aborted")return gn;a.status==="dirty"&&t.dirty(),s.push(a.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,e){const s=[];for(const a of e){const i=await a.key,o=await a.value;s.push({key:i,value:o})}return La.mergeObjectSync(t,s)}static mergeObjectSync(t,e){const s={};for(const a of e){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return gn;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(s[i.value]=o.value)}return{status:t.value,value:s}}}const gn=Object.freeze({status:"aborted"}),mf=n=>({status:"dirty",value:n}),ri=n=>({status:"valid",value:n}),YS=n=>n.status==="aborted",JS=n=>n.status==="dirty",Uu=n=>n.status==="valid",f0=n=>typeof Promise<"u"&&n instanceof Promise;var Ht;(function(n){n.errToObj=t=>typeof t=="string"?{message:t}:t||{},n.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ht||(Ht={}));class ec{constructor(t,e,s,a){this._cachedPath=[],this.parent=t,this.data=e,this._path=s,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ZS=(n,t)=>{if(Uu(t))return{success:!0,data:t.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const e=new el(n.common.issues);return this._error=e,this._error}}};function Bn(n){if(!n)return{};const{errorMap:t,invalid_type_error:e,required_error:s,description:a}=n;if(t&&(e||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,c)=>{const{message:l}=n;return o.code==="invalid_enum_value"?{message:l??c.defaultError}:typeof c.data>"u"?{message:l??s??c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:l??e??c.defaultError}},description:a}}class $n{get description(){return this._def.description}_getType(t){return jl(t.data)}_getOrReturnCtx(t,e){return e||{common:t.parent.common,data:t.data,parsedType:jl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new La,ctx:{common:t.parent.common,data:t.data,parsedType:jl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const e=this._parse(t);if(f0(e))throw new Error("Synchronous parse encountered promise.");return e}_parseAsync(t){const e=this._parse(t);return Promise.resolve(e)}parse(t,e){const s=this.safeParse(t,e);if(s.success)return s.data;throw s.error}safeParse(t,e){const s={common:{issues:[],async:(e==null?void 0:e.async)??!1,contextualErrorMap:e==null?void 0:e.errorMap},path:(e==null?void 0:e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:jl(t)},a=this._parseSync({data:t,path:s.path,parent:s});return ZS(s,a)}"~validate"(t){var s,a;const e={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:jl(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:e});return Uu(i)?{value:i.value}:{issues:e.common.issues}}catch(i){(a=(s=i==null?void 0:i.message)==null?void 0:s.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),e.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:e}).then(i=>Uu(i)?{value:i.value}:{issues:e.common.issues})}async parseAsync(t,e){const s=await this.safeParseAsync(t,e);if(s.success)return s.data;throw s.error}async safeParseAsync(t,e){const s={common:{issues:[],contextualErrorMap:e==null?void 0:e.errorMap,async:!0},path:(e==null?void 0:e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:jl(t)},a=this._parse({data:t,path:s.path,parent:s}),i=await(f0(a)?a:Promise.resolve(a));return ZS(s,i)}refine(t,e){const s=a=>typeof e=="string"||typeof e>"u"?{message:e}:typeof e=="function"?e(a):e;return this._refinement((a,i)=>{const o=t(a),c=()=>i.addIssue({code:mt.custom,...s(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(t,e){return this._refinement((s,a)=>t(s)?!0:(a.addIssue(typeof e=="function"?e(s,a):e),!1))}_refinement(t){return new $u({schema:this,typeName:bn.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return Kl.create(this,this._def)}nullable(){return Qu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return eo.create(this)}promise(){return g0.create(this,this._def)}or(t){return p0.create([this,t],this._def)}and(t){return A0.create(this,t,this._def)}transform(t){return new $u({...Bn(this._def),schema:this,typeName:bn.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const e=typeof t=="function"?t:()=>t;return new b1({...Bn(this._def),innerType:this,defaultValue:e,typeName:bn.ZodDefault})}brand(){return new Ace({typeName:bn.ZodBranded,type:this,...Bn(this._def)})}catch(t){const e=typeof t=="function"?t:()=>t;return new v1({...Bn(this._def),innerType:this,catchValue:e,typeName:bn.ZodCatch})}describe(t){const e=this.constructor;return new e({...this._def,description:t})}pipe(t){return yC.create(this,t)}readonly(){return y1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const qle=/^c[^\s-]{8,}$/i,Wle=/^[0-9a-z]+$/,Xle=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Yle=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Jle=/^[a-z0-9_-]{21}$/i,Zle=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ece=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,tce=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,nce="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Hv;const rce=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,sce=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ace=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ice=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,oce=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,lce=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,oO="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",cce=new RegExp(`^${oO}$`);function lO(n){let t="[0-5]\\d";n.precision?t=`${t}\\.\\d{${n.precision}}`:n.precision==null&&(t=`${t}(\\.\\d+)?`);const e=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${e}`}function dce(n){return new RegExp(`^${lO(n)}$`)}function uce(n){let t=`${oO}T${lO(n)}`;const e=[];return e.push(n.local?"Z?":"Z"),n.offset&&e.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${e.join("|")})`,new RegExp(`^${t}$`)}function hce(n,t){return!!((t==="v4"||!t)&&rce.test(n)||(t==="v6"||!t)&&ace.test(n))}function fce(n,t){if(!Zle.test(n))return!1;try{const[e]=n.split(".");if(!e)return!1;const s=e.replace(/-/g,"+").replace(/_/g,"/").padEnd(e.length+(4-e.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function mce(n,t){return!!((t==="v4"||!t)&&sce.test(n)||(t==="v6"||!t)&&ice.test(n))}class Il extends $n{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ot.string){const i=this._getOrReturnCtx(t);return kt(i,{code:mt.invalid_type,expected:Ot.string,received:i.parsedType}),gn}const s=new La;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),kt(a,{code:mt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),kt(a,{code:mt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,c=t.data.length<i.value;(o||c)&&(a=this._getOrReturnCtx(t,a),o?kt(a,{code:mt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&kt(a,{code:mt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")tce.test(t.data)||(a=this._getOrReturnCtx(t,a),kt(a,{validation:"email",code:mt.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")Hv||(Hv=new RegExp(nce,"u")),Hv.test(t.data)||(a=this._getOrReturnCtx(t,a),kt(a,{validation:"emoji",code:mt.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")Yle.test(t.data)||(a=this._getOrReturnCtx(t,a),kt(a,{validation:"uuid",code:mt.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")Jle.test(t.data)||(a=this._getOrReturnCtx(t,a),kt(a,{validation:"nanoid",code:mt.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")qle.test(t.data)||(a=this._getOrReturnCtx(t,a),kt(a,{validation:"cuid",code:mt.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")Wle.test(t.data)||(a=this._getOrReturnCtx(t,a),kt(a,{validation:"cuid2",code:mt.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")Xle.test(t.data)||(a=this._getOrReturnCtx(t,a),kt(a,{validation:"ulid",code:mt.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),kt(a,{validation:"url",code:mt.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),kt(a,{validation:"regex",code:mt.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),kt(a,{code:mt.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),kt(a,{code:mt.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),kt(a,{code:mt.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?uce(i).test(t.data)||(a=this._getOrReturnCtx(t,a),kt(a,{code:mt.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?cce.test(t.data)||(a=this._getOrReturnCtx(t,a),kt(a,{code:mt.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?dce(i).test(t.data)||(a=this._getOrReturnCtx(t,a),kt(a,{code:mt.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?ece.test(t.data)||(a=this._getOrReturnCtx(t,a),kt(a,{validation:"duration",code:mt.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?hce(t.data,i.version)||(a=this._getOrReturnCtx(t,a),kt(a,{validation:"ip",code:mt.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?fce(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),kt(a,{validation:"jwt",code:mt.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?mce(t.data,i.version)||(a=this._getOrReturnCtx(t,a),kt(a,{validation:"cidr",code:mt.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?oce.test(t.data)||(a=this._getOrReturnCtx(t,a),kt(a,{validation:"base64",code:mt.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?lce.test(t.data)||(a=this._getOrReturnCtx(t,a),kt(a,{validation:"base64url",code:mt.invalid_string,message:i.message}),s.dirty()):Gn.assertNever(i);return{status:s.value,value:t.data}}_regex(t,e,s){return this.refinement(a=>t.test(a),{validation:e,code:mt.invalid_string,...Ht.errToObj(s)})}_addCheck(t){return new Il({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ht.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ht.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ht.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ht.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ht.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ht.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ht.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ht.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ht.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ht.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ht.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ht.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ht.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ht.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ht.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ht.errToObj(t)})}regex(t,e){return this._addCheck({kind:"regex",regex:t,...Ht.errToObj(e)})}includes(t,e){return this._addCheck({kind:"includes",value:t,position:e==null?void 0:e.position,...Ht.errToObj(e==null?void 0:e.message)})}startsWith(t,e){return this._addCheck({kind:"startsWith",value:t,...Ht.errToObj(e)})}endsWith(t,e){return this._addCheck({kind:"endsWith",value:t,...Ht.errToObj(e)})}min(t,e){return this._addCheck({kind:"min",value:t,...Ht.errToObj(e)})}max(t,e){return this._addCheck({kind:"max",value:t,...Ht.errToObj(e)})}length(t,e){return this._addCheck({kind:"length",value:t,...Ht.errToObj(e)})}nonempty(t){return this.min(1,Ht.errToObj(t))}trim(){return new Il({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Il({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Il({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const e of this._def.checks)e.kind==="min"&&(t===null||e.value>t)&&(t=e.value);return t}get maxLength(){let t=null;for(const e of this._def.checks)e.kind==="max"&&(t===null||e.value<t)&&(t=e.value);return t}}Il.create=n=>new Il({checks:[],typeName:bn.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...Bn(n)});function pce(n,t){const e=(n.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,a=e>s?e:s,i=Number.parseInt(n.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class um extends $n{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ot.number){const i=this._getOrReturnCtx(t);return kt(i,{code:mt.invalid_type,expected:Ot.number,received:i.parsedType}),gn}let s;const a=new La;for(const i of this._def.checks)i.kind==="int"?Gn.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),kt(s,{code:mt.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),kt(s,{code:mt.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),kt(s,{code:mt.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?pce(t.data,i.value)!==0&&(s=this._getOrReturnCtx(t,s),kt(s,{code:mt.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),kt(s,{code:mt.not_finite,message:i.message}),a.dirty()):Gn.assertNever(i);return{status:a.value,value:t.data}}gte(t,e){return this.setLimit("min",t,!0,Ht.toString(e))}gt(t,e){return this.setLimit("min",t,!1,Ht.toString(e))}lte(t,e){return this.setLimit("max",t,!0,Ht.toString(e))}lt(t,e){return this.setLimit("max",t,!1,Ht.toString(e))}setLimit(t,e,s,a){return new um({...this._def,checks:[...this._def.checks,{kind:t,value:e,inclusive:s,message:Ht.toString(a)}]})}_addCheck(t){return new um({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ht.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ht.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ht.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ht.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ht.toString(t)})}multipleOf(t,e){return this._addCheck({kind:"multipleOf",value:t,message:Ht.toString(e)})}finite(t){return this._addCheck({kind:"finite",message:Ht.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ht.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ht.toString(t)})}get minValue(){let t=null;for(const e of this._def.checks)e.kind==="min"&&(t===null||e.value>t)&&(t=e.value);return t}get maxValue(){let t=null;for(const e of this._def.checks)e.kind==="max"&&(t===null||e.value<t)&&(t=e.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Gn.isInteger(t.value))}get isFinite(){let t=null,e=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(e===null||s.value>e)&&(e=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(e)&&Number.isFinite(t)}}um.create=n=>new um({checks:[],typeName:bn.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...Bn(n)});class hm extends $n{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ot.bigint)return this._getInvalidInput(t);let s;const a=new La;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),kt(s,{code:mt.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),kt(s,{code:mt.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),kt(s,{code:mt.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Gn.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const e=this._getOrReturnCtx(t);return kt(e,{code:mt.invalid_type,expected:Ot.bigint,received:e.parsedType}),gn}gte(t,e){return this.setLimit("min",t,!0,Ht.toString(e))}gt(t,e){return this.setLimit("min",t,!1,Ht.toString(e))}lte(t,e){return this.setLimit("max",t,!0,Ht.toString(e))}lt(t,e){return this.setLimit("max",t,!1,Ht.toString(e))}setLimit(t,e,s,a){return new hm({...this._def,checks:[...this._def.checks,{kind:t,value:e,inclusive:s,message:Ht.toString(a)}]})}_addCheck(t){return new hm({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ht.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ht.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ht.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ht.toString(t)})}multipleOf(t,e){return this._addCheck({kind:"multipleOf",value:t,message:Ht.toString(e)})}get minValue(){let t=null;for(const e of this._def.checks)e.kind==="min"&&(t===null||e.value>t)&&(t=e.value);return t}get maxValue(){let t=null;for(const e of this._def.checks)e.kind==="max"&&(t===null||e.value<t)&&(t=e.value);return t}}hm.create=n=>new hm({checks:[],typeName:bn.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...Bn(n)});class g1 extends $n{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ot.boolean){const s=this._getOrReturnCtx(t);return kt(s,{code:mt.invalid_type,expected:Ot.boolean,received:s.parsedType}),gn}return ri(t.data)}}g1.create=n=>new g1({typeName:bn.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...Bn(n)});class m0 extends $n{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ot.date){const i=this._getOrReturnCtx(t);return kt(i,{code:mt.invalid_type,expected:Ot.date,received:i.parsedType}),gn}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return kt(i,{code:mt.invalid_date}),gn}const s=new La;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),kt(a,{code:mt.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),kt(a,{code:mt.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):Gn.assertNever(i);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new m0({...this._def,checks:[...this._def.checks,t]})}min(t,e){return this._addCheck({kind:"min",value:t.getTime(),message:Ht.toString(e)})}max(t,e){return this._addCheck({kind:"max",value:t.getTime(),message:Ht.toString(e)})}get minDate(){let t=null;for(const e of this._def.checks)e.kind==="min"&&(t===null||e.value>t)&&(t=e.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const e of this._def.checks)e.kind==="max"&&(t===null||e.value<t)&&(t=e.value);return t!=null?new Date(t):null}}m0.create=n=>new m0({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:bn.ZodDate,...Bn(n)});class eT extends $n{_parse(t){if(this._getType(t)!==Ot.symbol){const s=this._getOrReturnCtx(t);return kt(s,{code:mt.invalid_type,expected:Ot.symbol,received:s.parsedType}),gn}return ri(t.data)}}eT.create=n=>new eT({typeName:bn.ZodSymbol,...Bn(n)});class tT extends $n{_parse(t){if(this._getType(t)!==Ot.undefined){const s=this._getOrReturnCtx(t);return kt(s,{code:mt.invalid_type,expected:Ot.undefined,received:s.parsedType}),gn}return ri(t.data)}}tT.create=n=>new tT({typeName:bn.ZodUndefined,...Bn(n)});class nT extends $n{_parse(t){if(this._getType(t)!==Ot.null){const s=this._getOrReturnCtx(t);return kt(s,{code:mt.invalid_type,expected:Ot.null,received:s.parsedType}),gn}return ri(t.data)}}nT.create=n=>new nT({typeName:bn.ZodNull,...Bn(n)});class rT extends $n{constructor(){super(...arguments),this._any=!0}_parse(t){return ri(t.data)}}rT.create=n=>new rT({typeName:bn.ZodAny,...Bn(n)});class sT extends $n{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ri(t.data)}}sT.create=n=>new sT({typeName:bn.ZodUnknown,...Bn(n)});class tc extends $n{_parse(t){const e=this._getOrReturnCtx(t);return kt(e,{code:mt.invalid_type,expected:Ot.never,received:e.parsedType}),gn}}tc.create=n=>new tc({typeName:bn.ZodNever,...Bn(n)});class aT extends $n{_parse(t){if(this._getType(t)!==Ot.undefined){const s=this._getOrReturnCtx(t);return kt(s,{code:mt.invalid_type,expected:Ot.void,received:s.parsedType}),gn}return ri(t.data)}}aT.create=n=>new aT({typeName:bn.ZodVoid,...Bn(n)});class eo extends $n{_parse(t){const{ctx:e,status:s}=this._processInputParams(t),a=this._def;if(e.parsedType!==Ot.array)return kt(e,{code:mt.invalid_type,expected:Ot.array,received:e.parsedType}),gn;if(a.exactLength!==null){const o=e.data.length>a.exactLength.value,c=e.data.length<a.exactLength.value;(o||c)&&(kt(e,{code:o?mt.too_big:mt.too_small,minimum:c?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&e.data.length<a.minLength.value&&(kt(e,{code:mt.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&e.data.length>a.maxLength.value&&(kt(e,{code:mt.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),e.common.async)return Promise.all([...e.data].map((o,c)=>a.type._parseAsync(new ec(e,o,e.path,c)))).then(o=>La.mergeArray(s,o));const i=[...e.data].map((o,c)=>a.type._parseSync(new ec(e,o,e.path,c)));return La.mergeArray(s,i)}get element(){return this._def.type}min(t,e){return new eo({...this._def,minLength:{value:t,message:Ht.toString(e)}})}max(t,e){return new eo({...this._def,maxLength:{value:t,message:Ht.toString(e)}})}length(t,e){return new eo({...this._def,exactLength:{value:t,message:Ht.toString(e)}})}nonempty(t){return this.min(1,t)}}eo.create=(n,t)=>new eo({type:n,minLength:null,maxLength:null,exactLength:null,typeName:bn.ZodArray,...Bn(t)});function au(n){if(n instanceof ts){const t={};for(const e in n.shape){const s=n.shape[e];t[e]=Kl.create(au(s))}return new ts({...n._def,shape:()=>t})}else return n instanceof eo?new eo({...n._def,type:au(n.element)}):n instanceof Kl?Kl.create(au(n.unwrap())):n instanceof Qu?Qu.create(au(n.unwrap())):n instanceof gd?gd.create(n.items.map(t=>au(t))):n}class ts extends $n{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),e=Gn.objectKeys(t);return this._cached={shape:t,keys:e},this._cached}_parse(t){if(this._getType(t)!==Ot.object){const d=this._getOrReturnCtx(t);return kt(d,{code:mt.invalid_type,expected:Ot.object,received:d.parsedType}),gn}const{status:s,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof tc&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||c.push(d);const l=[];for(const d of o){const u=i[d],f=a.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new ec(a,f,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof tc){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of c)l.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")c.length>0&&(kt(a,{code:mt.unrecognized_keys,keys:c}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of c){const f=a.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new ec(a,f,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of l){const f=await u.key,h=await u.value;d.push({key:f,value:h,alwaysSet:u.alwaysSet})}return d}).then(d=>La.mergeObjectSync(s,d)):La.mergeObjectSync(s,l)}get shape(){return this._def.shape()}strict(t){return Ht.errToObj,new ts({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(e,s)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,e,s).message)??s.defaultError;return e.code==="unrecognized_keys"?{message:Ht.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new ts({...this._def,unknownKeys:"strip"})}passthrough(){return new ts({...this._def,unknownKeys:"passthrough"})}extend(t){return new ts({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ts({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:bn.ZodObject})}setKey(t,e){return this.augment({[t]:e})}catchall(t){return new ts({...this._def,catchall:t})}pick(t){const e={};for(const s of Gn.objectKeys(t))t[s]&&this.shape[s]&&(e[s]=this.shape[s]);return new ts({...this._def,shape:()=>e})}omit(t){const e={};for(const s of Gn.objectKeys(this.shape))t[s]||(e[s]=this.shape[s]);return new ts({...this._def,shape:()=>e})}deepPartial(){return au(this)}partial(t){const e={};for(const s of Gn.objectKeys(this.shape)){const a=this.shape[s];t&&!t[s]?e[s]=a:e[s]=a.optional()}return new ts({...this._def,shape:()=>e})}required(t){const e={};for(const s of Gn.objectKeys(this.shape))if(t&&!t[s])e[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof Kl;)i=i._def.innerType;e[s]=i}return new ts({...this._def,shape:()=>e})}keyof(){return cO(Gn.objectKeys(this.shape))}}ts.create=(n,t)=>new ts({shape:()=>n,unknownKeys:"strip",catchall:tc.create(),typeName:bn.ZodObject,...Bn(t)});ts.strictCreate=(n,t)=>new ts({shape:()=>n,unknownKeys:"strict",catchall:tc.create(),typeName:bn.ZodObject,...Bn(t)});ts.lazycreate=(n,t)=>new ts({shape:n,unknownKeys:"strip",catchall:tc.create(),typeName:bn.ZodObject,...Bn(t)});class p0 extends $n{_parse(t){const{ctx:e}=this._processInputParams(t),s=this._def.options;function a(i){for(const c of i)if(c.result.status==="valid")return c.result;for(const c of i)if(c.result.status==="dirty")return e.common.issues.push(...c.ctx.common.issues),c.result;const o=i.map(c=>new el(c.ctx.common.issues));return kt(e,{code:mt.invalid_union,unionErrors:o}),gn}if(e.common.async)return Promise.all(s.map(async i=>{const o={...e,common:{...e.common,issues:[]},parent:null};return{result:await i._parseAsync({data:e.data,path:e.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const l of s){const d={...e,common:{...e.common,issues:[]},parent:null},u=l._parseSync({data:e.data,path:e.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return e.common.issues.push(...i.ctx.common.issues),i.result;const c=o.map(l=>new el(l));return kt(e,{code:mt.invalid_union,unionErrors:c}),gn}}get options(){return this._def.options}}p0.create=(n,t)=>new p0({options:n,typeName:bn.ZodUnion,...Bn(t)});function x1(n,t){const e=jl(n),s=jl(t);if(n===t)return{valid:!0,data:n};if(e===Ot.object&&s===Ot.object){const a=Gn.objectKeys(t),i=Gn.objectKeys(n).filter(c=>a.indexOf(c)!==-1),o={...n,...t};for(const c of i){const l=x1(n[c],t[c]);if(!l.valid)return{valid:!1};o[c]=l.data}return{valid:!0,data:o}}else if(e===Ot.array&&s===Ot.array){if(n.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<n.length;i++){const o=n[i],c=t[i],l=x1(o,c);if(!l.valid)return{valid:!1};a.push(l.data)}return{valid:!0,data:a}}else return e===Ot.date&&s===Ot.date&&+n==+t?{valid:!0,data:n}:{valid:!1}}class A0 extends $n{_parse(t){const{status:e,ctx:s}=this._processInputParams(t),a=(i,o)=>{if(YS(i)||YS(o))return gn;const c=x1(i.value,o.value);return c.valid?((JS(i)||JS(o))&&e.dirty(),{status:e.value,value:c.data}):(kt(s,{code:mt.invalid_intersection_types}),gn)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}A0.create=(n,t,e)=>new A0({left:n,right:t,typeName:bn.ZodIntersection,...Bn(e)});class gd extends $n{_parse(t){const{status:e,ctx:s}=this._processInputParams(t);if(s.parsedType!==Ot.array)return kt(s,{code:mt.invalid_type,expected:Ot.array,received:s.parsedType}),gn;if(s.data.length<this._def.items.length)return kt(s,{code:mt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),gn;!this._def.rest&&s.data.length>this._def.items.length&&(kt(s,{code:mt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),e.dirty());const i=[...s.data].map((o,c)=>{const l=this._def.items[c]||this._def.rest;return l?l._parse(new ec(s,o,s.path,c)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>La.mergeArray(e,o)):La.mergeArray(e,i)}get items(){return this._def.items}rest(t){return new gd({...this._def,rest:t})}}gd.create=(n,t)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new gd({items:n,typeName:bn.ZodTuple,rest:null,...Bn(t)})};class iT extends $n{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:e,ctx:s}=this._processInputParams(t);if(s.parsedType!==Ot.map)return kt(s,{code:mt.invalid_type,expected:Ot.map,received:s.parsedType}),gn;const a=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([c,l],d)=>({key:a._parse(new ec(s,c,s.path,[d,"key"])),value:i._parse(new ec(s,l,s.path,[d,"value"]))}));if(s.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const l of o){const d=await l.key,u=await l.value;if(d.status==="aborted"||u.status==="aborted")return gn;(d.status==="dirty"||u.status==="dirty")&&e.dirty(),c.set(d.value,u.value)}return{status:e.value,value:c}})}else{const c=new Map;for(const l of o){const d=l.key,u=l.value;if(d.status==="aborted"||u.status==="aborted")return gn;(d.status==="dirty"||u.status==="dirty")&&e.dirty(),c.set(d.value,u.value)}return{status:e.value,value:c}}}}iT.create=(n,t,e)=>new iT({valueType:t,keyType:n,typeName:bn.ZodMap,...Bn(e)});class fm extends $n{_parse(t){const{status:e,ctx:s}=this._processInputParams(t);if(s.parsedType!==Ot.set)return kt(s,{code:mt.invalid_type,expected:Ot.set,received:s.parsedType}),gn;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(kt(s,{code:mt.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),e.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(kt(s,{code:mt.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),e.dirty());const i=this._def.valueType;function o(l){const d=new Set;for(const u of l){if(u.status==="aborted")return gn;u.status==="dirty"&&e.dirty(),d.add(u.value)}return{status:e.value,value:d}}const c=[...s.data.values()].map((l,d)=>i._parse(new ec(s,l,s.path,d)));return s.common.async?Promise.all(c).then(l=>o(l)):o(c)}min(t,e){return new fm({...this._def,minSize:{value:t,message:Ht.toString(e)}})}max(t,e){return new fm({...this._def,maxSize:{value:t,message:Ht.toString(e)}})}size(t,e){return this.min(t,e).max(t,e)}nonempty(t){return this.min(1,t)}}fm.create=(n,t)=>new fm({valueType:n,minSize:null,maxSize:null,typeName:bn.ZodSet,...Bn(t)});class oT extends $n{get schema(){return this._def.getter()}_parse(t){const{ctx:e}=this._processInputParams(t);return this._def.getter()._parse({data:e.data,path:e.path,parent:e})}}oT.create=(n,t)=>new oT({getter:n,typeName:bn.ZodLazy,...Bn(t)});class lT extends $n{_parse(t){if(t.data!==this._def.value){const e=this._getOrReturnCtx(t);return kt(e,{received:e.data,code:mt.invalid_literal,expected:this._def.value}),gn}return{status:"valid",value:t.data}}get value(){return this._def.value}}lT.create=(n,t)=>new lT({value:n,typeName:bn.ZodLiteral,...Bn(t)});function cO(n,t){return new Hu({values:n,typeName:bn.ZodEnum,...Bn(t)})}class Hu extends $n{_parse(t){if(typeof t.data!="string"){const e=this._getOrReturnCtx(t),s=this._def.values;return kt(e,{expected:Gn.joinValues(s),received:e.parsedType,code:mt.invalid_type}),gn}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const e=this._getOrReturnCtx(t),s=this._def.values;return kt(e,{received:e.data,code:mt.invalid_enum_value,options:s}),gn}return ri(t.data)}get options(){return this._def.values}get enum(){const t={};for(const e of this._def.values)t[e]=e;return t}get Values(){const t={};for(const e of this._def.values)t[e]=e;return t}get Enum(){const t={};for(const e of this._def.values)t[e]=e;return t}extract(t,e=this._def){return Hu.create(t,{...this._def,...e})}exclude(t,e=this._def){return Hu.create(this.options.filter(s=>!t.includes(s)),{...this._def,...e})}}Hu.create=cO;class cT extends $n{_parse(t){const e=Gn.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==Ot.string&&s.parsedType!==Ot.number){const a=Gn.objectValues(e);return kt(s,{expected:Gn.joinValues(a),received:s.parsedType,code:mt.invalid_type}),gn}if(this._cache||(this._cache=new Set(Gn.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=Gn.objectValues(e);return kt(s,{received:s.data,code:mt.invalid_enum_value,options:a}),gn}return ri(t.data)}get enum(){return this._def.values}}cT.create=(n,t)=>new cT({values:n,typeName:bn.ZodNativeEnum,...Bn(t)});class g0 extends $n{unwrap(){return this._def.type}_parse(t){const{ctx:e}=this._processInputParams(t);if(e.parsedType!==Ot.promise&&e.common.async===!1)return kt(e,{code:mt.invalid_type,expected:Ot.promise,received:e.parsedType}),gn;const s=e.parsedType===Ot.promise?e.data:Promise.resolve(e.data);return ri(s.then(a=>this._def.type.parseAsync(a,{path:e.path,errorMap:e.common.contextualErrorMap})))}}g0.create=(n,t)=>new g0({type:n,typeName:bn.ZodPromise,...Bn(t)});class $u extends $n{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===bn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:e,ctx:s}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{kt(s,o),o.fatal?e.abort():e.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async c=>{if(e.value==="aborted")return gn;const l=await this._def.schema._parseAsync({data:c,path:s.path,parent:s});return l.status==="aborted"?gn:l.status==="dirty"||e.value==="dirty"?mf(l.value):l});{if(e.value==="aborted")return gn;const c=this._def.schema._parseSync({data:o,path:s.path,parent:s});return c.status==="aborted"?gn:c.status==="dirty"||e.value==="dirty"?mf(c.value):c}}if(a.type==="refinement"){const o=c=>{const l=a.refinement(c,i);if(s.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(s.common.async===!1){const c=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return c.status==="aborted"?gn:(c.status==="dirty"&&e.dirty(),o(c.value),{status:e.value,value:c.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(c=>c.status==="aborted"?gn:(c.status==="dirty"&&e.dirty(),o(c.value).then(()=>({status:e.value,value:c.value}))))}if(a.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Uu(o))return gn;const c=a.transform(o.value,i);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:e.value,value:c}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>Uu(o)?Promise.resolve(a.transform(o.value,i)).then(c=>({status:e.value,value:c})):gn);Gn.assertNever(a)}}$u.create=(n,t,e)=>new $u({schema:n,typeName:bn.ZodEffects,effect:t,...Bn(e)});$u.createWithPreprocess=(n,t,e)=>new $u({schema:t,effect:{type:"preprocess",transform:n},typeName:bn.ZodEffects,...Bn(e)});class Kl extends $n{_parse(t){return this._getType(t)===Ot.undefined?ri(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Kl.create=(n,t)=>new Kl({innerType:n,typeName:bn.ZodOptional,...Bn(t)});class Qu extends $n{_parse(t){return this._getType(t)===Ot.null?ri(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Qu.create=(n,t)=>new Qu({innerType:n,typeName:bn.ZodNullable,...Bn(t)});class b1 extends $n{_parse(t){const{ctx:e}=this._processInputParams(t);let s=e.data;return e.parsedType===Ot.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:e.path,parent:e})}removeDefault(){return this._def.innerType}}b1.create=(n,t)=>new b1({innerType:n,typeName:bn.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Bn(t)});class v1 extends $n{_parse(t){const{ctx:e}=this._processInputParams(t),s={...e,common:{...e.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return f0(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new el(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new el(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}v1.create=(n,t)=>new v1({innerType:n,typeName:bn.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Bn(t)});class dT extends $n{_parse(t){if(this._getType(t)!==Ot.nan){const s=this._getOrReturnCtx(t);return kt(s,{code:mt.invalid_type,expected:Ot.nan,received:s.parsedType}),gn}return{status:"valid",value:t.data}}}dT.create=n=>new dT({typeName:bn.ZodNaN,...Bn(n)});class Ace extends $n{_parse(t){const{ctx:e}=this._processInputParams(t),s=e.data;return this._def.type._parse({data:s,path:e.path,parent:e})}unwrap(){return this._def.type}}class yC extends $n{_parse(t){const{status:e,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?gn:i.status==="dirty"?(e.dirty(),mf(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?gn:a.status==="dirty"?(e.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(t,e){return new yC({in:t,out:e,typeName:bn.ZodPipeline})}}class y1 extends $n{_parse(t){const e=this._def.innerType._parse(t),s=a=>(Uu(a)&&(a.value=Object.freeze(a.value)),a);return f0(e)?e.then(a=>s(a)):s(e)}unwrap(){return this._def.innerType}}y1.create=(n,t)=>new y1({innerType:n,typeName:bn.ZodReadonly,...Bn(t)});var bn;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(bn||(bn={}));const Ft=Il.create,w1=g1.create;tc.create;eo.create;const ho=ts.create;p0.create;A0.create;gd.create;const gce=Hu.create;g0.create;Kl.create;Qu.create;function xce(n){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e),e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}xce(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var hp=n=>typeof n=="number"&&!isNaN(n),xd=n=>typeof n=="string",tl=n=>typeof n=="function",bce=n=>xd(n)||hp(n),j1=n=>xd(n)||tl(n)?n:null,vce=(n,t)=>n===!1||hp(n)&&n>0?n:t,C1=n=>k.isValidElement(n)||xd(n)||tl(n)||hp(n);function yce(n,t,e=300){let{scrollHeight:s,style:a}=n;requestAnimationFrame(()=>{a.minHeight="initial",a.height=s+"px",a.transition=`all ${e}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(t,e)})})}function wce({enter:n,exit:t,appendPosition:e=!1,collapse:s=!0,collapseDuration:a=300}){return function({children:i,position:o,preventExitTransition:c,done:l,nodeRef:d,isIn:u,playToast:f}){let h=e?`${n}--${o}`:n,m=e?`${t}--${o}`:t,A=k.useRef(0);return k.useLayoutEffect(()=>{let g=d.current,p=h.split(" "),b=x=>{x.target===d.current&&(f(),g.removeEventListener("animationend",b),g.removeEventListener("animationcancel",b),A.current===0&&x.type!=="animationcancel"&&g.classList.remove(...p))};g.classList.add(...p),g.addEventListener("animationend",b),g.addEventListener("animationcancel",b)},[]),k.useEffect(()=>{let g=d.current,p=()=>{g.removeEventListener("animationend",p),s?yce(g,l,a):l()};u||(c?p():(A.current=1,g.className+=` ${m}`,g.addEventListener("animationend",p)))},[u]),Ne.createElement(Ne.Fragment,null,i)}}function uT(n,t){return{content:dO(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:t}}function dO(n,t,e=!1){return k.isValidElement(n)&&!xd(n.type)?k.cloneElement(n,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):tl(n)?n({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):n}function jce({closeToast:n,theme:t,ariaLabel:e="close"}){return Ne.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:s=>{s.stopPropagation(),n(!0)},"aria-label":e},Ne.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ne.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Cce({delay:n,isRunning:t,closeToast:e,type:s="default",hide:a,className:i,controlledProgress:o,progress:c,rtl:l,isIn:d,theme:u}){let f=a||o&&c===0,h={animationDuration:`${n}ms`,animationPlayState:t?"running":"paused"};o&&(h.transform=`scaleX(${c})`);let m=Ro("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${u}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":l}),A=tl(i)?i({rtl:l,type:s,defaultClassName:m}):Ro(m,i),g={[o&&c>=1?"onTransitionEnd":"onAnimationEnd"]:o&&c<1?null:()=>{d&&e()}};return Ne.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},Ne.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${u} Toastify__progress-bar--${s}`}),Ne.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:A,style:h,...g}))}var Nce=1,uO=()=>`${Nce++}`;function Sce(n,t,e){let s=1,a=0,i=[],o=[],c=t,l=new Map,d=new Set,u=x=>(d.add(x),()=>d.delete(x)),f=()=>{o=Array.from(l.values()),d.forEach(x=>x())},h=({containerId:x,toastId:v,updateId:y})=>{let S=x?x!==n:n!==1,M=l.has(v)&&y==null;return S||M},m=(x,v)=>{l.forEach(y=>{var S;(v==null||v===y.props.toastId)&&((S=y.toggle)==null||S.call(y,x))})},A=x=>{var v,y;(y=(v=x.props)==null?void 0:v.onClose)==null||y.call(v,x.removalReason),x.isActive=!1},g=x=>{if(x==null)l.forEach(A);else{let v=l.get(x);v&&A(v)}f()},p=()=>{a-=i.length,i=[]},b=x=>{var v,y;let{toastId:S,updateId:M}=x.props,P=M==null;x.staleId&&l.delete(x.staleId),x.isActive=!0,l.set(S,x),f(),e(uT(x,P?"added":"updated")),P&&((y=(v=x.props).onOpen)==null||y.call(v))};return{id:n,props:c,observe:u,toggle:m,removeToast:g,toasts:l,clearQueue:p,buildToast:(x,v)=>{if(h(v))return;let{toastId:y,updateId:S,data:M,staleId:P,delay:B}=v,D=S==null;D&&a++;let L={...c,style:c.toastStyle,key:s++,...Object.fromEntries(Object.entries(v).filter(([F,_])=>_!=null)),toastId:y,updateId:S,data:M,isIn:!1,className:j1(v.className||c.toastClassName),progressClassName:j1(v.progressClassName||c.progressClassName),autoClose:v.isLoading?!1:vce(v.autoClose,c.autoClose),closeToast(F){l.get(y).removalReason=F,g(y)},deleteToast(){let F=l.get(y);if(F!=null){if(e(uT(F,"removed")),l.delete(y),a--,a<0&&(a=0),i.length>0){b(i.shift());return}f()}}};L.closeButton=c.closeButton,v.closeButton===!1||C1(v.closeButton)?L.closeButton=v.closeButton:v.closeButton===!0&&(L.closeButton=C1(c.closeButton)?c.closeButton:!0);let O={content:x,props:L,staleId:P};c.limit&&c.limit>0&&a>c.limit&&D?i.push(O):hp(B)?setTimeout(()=>{b(O)},B):b(O)},setProps(x){c=x},setToggle:(x,v)=>{let y=l.get(x);y&&(y.toggle=v)},isToastActive:x=>{var v;return(v=l.get(x))==null?void 0:v.isActive},getSnapshot:()=>o}}var Js=new Map,mm=[],N1=new Set,Tce=n=>N1.forEach(t=>t(n)),hO=()=>Js.size>0;function kce(){mm.forEach(n=>mO(n.content,n.options)),mm=[]}var _ce=(n,{containerId:t})=>{var e;return(e=Js.get(t||1))==null?void 0:e.toasts.get(n)};function fO(n,t){var e;if(t)return!!((e=Js.get(t))!=null&&e.isToastActive(n));let s=!1;return Js.forEach(a=>{a.isToastActive(n)&&(s=!0)}),s}function Bce(n){if(!hO()){mm=mm.filter(t=>n!=null&&t.options.toastId!==n);return}if(n==null||bce(n))Js.forEach(t=>{t.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let t=Js.get(n.containerId);t?t.removeToast(n.id):Js.forEach(e=>{e.removeToast(n.id)})}}var Ece=(n={})=>{Js.forEach(t=>{t.props.limit&&(!n.containerId||t.id===n.containerId)&&t.clearQueue()})};function mO(n,t){C1(n)&&(hO()||mm.push({content:n,options:t}),Js.forEach(e=>{e.buildToast(n,t)}))}function Mce(n){var t;(t=Js.get(n.containerId||1))==null||t.setToggle(n.id,n.fn)}function pO(n,t){Js.forEach(e=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===e.id)&&e.toggle(n,t==null?void 0:t.id)})}function Pce(n){let t=n.containerId||1;return{subscribe(e){let s=Sce(t,n,Tce);Js.set(t,s);let a=s.observe(e);return kce(),()=>{a(),Js.delete(t)}},setProps(e){var s;(s=Js.get(t))==null||s.setProps(e)},getSnapshot(){var e;return(e=Js.get(t))==null?void 0:e.getSnapshot()}}}function Dce(n){return N1.add(n),()=>{N1.delete(n)}}function Ice(n){return n&&(xd(n.toastId)||hp(n.toastId))?n.toastId:uO()}function fp(n,t){return mO(n,t),t.toastId}function db(n,t){return{...t,type:t&&t.type||n,toastId:Ice(t)}}function ub(n){return(t,e)=>fp(t,db(n,e))}function ur(n,t){return fp(n,db("default",t))}ur.loading=(n,t)=>fp(n,db("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function Oce(n,{pending:t,error:e,success:s},a){let i;t&&(i=xd(t)?ur.loading(t,a):ur.loading(t.render,{...a,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(d,u,f)=>{if(u==null){ur.dismiss(i);return}let h={type:d,...o,...a,data:f},m=xd(u)?{render:u}:u;return i?ur.update(i,{...h,...m}):ur(m.render,{...h,...m}),f},l=tl(n)?n():n;return l.then(d=>c("success",s,d)).catch(d=>c("error",e,d)),l}ur.promise=Oce;ur.success=ub("success");ur.info=ub("info");ur.error=ub("error");ur.warning=ub("warning");ur.warn=ur.warning;ur.dark=(n,t)=>fp(n,db("default",{theme:"dark",...t}));function Lce(n){Bce(n)}ur.dismiss=Lce;ur.clearWaitingQueue=Ece;ur.isActive=fO;ur.update=(n,t={})=>{let e=_ce(n,t);if(e){let{props:s,content:a}=e,i={delay:100,...s,...t,toastId:t.toastId||n,updateId:uO()};i.toastId!==n&&(i.staleId=n);let o=i.render||a;delete i.render,fp(o,i)}};ur.done=n=>{ur.update(n,{progress:1})};ur.onChange=Dce;ur.play=n=>pO(!0,n);ur.pause=n=>pO(!1,n);function Fce(n){var t;let{subscribe:e,getSnapshot:s,setProps:a}=k.useRef(Pce(n)).current;a(n);let i=(t=k.useSyncExternalStore(e,s,s))==null?void 0:t.slice();function o(c){if(!i)return[];let l=new Map;return n.newestOnTop&&i.reverse(),i.forEach(d=>{let{position:u}=d.props;l.has(u)||l.set(u,[]),l.get(u).push(d)}),Array.from(l,d=>c(d[0],d[1]))}return{getToastToRender:o,isToastActive:fO,count:i==null?void 0:i.length}}function Rce(n){let[t,e]=k.useState(!1),[s,a]=k.useState(!1),i=k.useRef(null),o=k.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:l,closeToast:d,onClick:u,closeOnClick:f}=n;Mce({id:n.toastId,containerId:n.containerId,fn:e}),k.useEffect(()=>{if(n.pauseOnFocusLoss)return h(),()=>{m()}},[n.pauseOnFocusLoss]);function h(){document.hasFocus()||b(),window.addEventListener("focus",p),window.addEventListener("blur",b)}function m(){window.removeEventListener("focus",p),window.removeEventListener("blur",b)}function A(P){if(n.draggable===!0||n.draggable===P.pointerType){x();let B=i.current;o.canCloseOnClick=!0,o.canDrag=!0,B.style.transition="none",n.draggableDirection==="x"?(o.start=P.clientX,o.removalDistance=B.offsetWidth*(n.draggablePercent/100)):(o.start=P.clientY,o.removalDistance=B.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function g(P){let{top:B,bottom:D,left:L,right:O}=i.current.getBoundingClientRect();P.nativeEvent.type!=="touchend"&&n.pauseOnHover&&P.clientX>=L&&P.clientX<=O&&P.clientY>=B&&P.clientY<=D?b():p()}function p(){e(!0)}function b(){e(!1)}function x(){o.didMove=!1,document.addEventListener("pointermove",y),document.addEventListener("pointerup",S)}function v(){document.removeEventListener("pointermove",y),document.removeEventListener("pointerup",S)}function y(P){let B=i.current;if(o.canDrag&&B){o.didMove=!0,t&&b(),n.draggableDirection==="x"?o.delta=P.clientX-o.start:o.delta=P.clientY-o.start,o.start!==P.clientX&&(o.canCloseOnClick=!1);let D=n.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;B.style.transform=`translate3d(${D},0)`,B.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function S(){v();let P=i.current;if(o.canDrag&&o.didMove&&P){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){a(!0),n.closeToast(!0),n.collapseAll();return}P.style.transition="transform 0.2s, opacity 0.2s",P.style.removeProperty("transform"),P.style.removeProperty("opacity")}}let M={onPointerDown:A,onPointerUp:g};return c&&l&&(M.onMouseEnter=b,n.stacked||(M.onMouseLeave=p)),f&&(M.onClick=P=>{u&&u(P),o.canCloseOnClick&&d(!0)}),{playToast:p,pauseToast:b,isRunning:t,preventExitTransition:s,toastRef:i,eventHandlers:M}}var Uce=typeof window<"u"?k.useLayoutEffect:k.useEffect,hb=({theme:n,type:t,isLoading:e,...s})=>Ne.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...s});function Hce(n){return Ne.createElement(hb,{...n},Ne.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function $ce(n){return Ne.createElement(hb,{...n},Ne.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Qce(n){return Ne.createElement(hb,{...n},Ne.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Vce(n){return Ne.createElement(hb,{...n},Ne.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function zce(){return Ne.createElement("div",{className:"Toastify__spinner"})}var S1={info:$ce,warning:Hce,success:Qce,error:Vce,spinner:zce},Kce=n=>n in S1;function Gce({theme:n,type:t,isLoading:e,icon:s}){let a=null,i={theme:n,type:t};return s===!1||(tl(s)?a=s({...i,isLoading:e}):k.isValidElement(s)?a=k.cloneElement(s,i):e?a=S1.spinner():Kce(t)&&(a=S1[t](i))),a}var qce=n=>{let{isRunning:t,preventExitTransition:e,toastRef:s,eventHandlers:a,playToast:i}=Rce(n),{closeButton:o,children:c,autoClose:l,onClick:d,type:u,hideProgressBar:f,closeToast:h,transition:m,position:A,className:g,style:p,progressClassName:b,updateId:x,role:v,progress:y,rtl:S,toastId:M,deleteToast:P,isIn:B,isLoading:D,closeOnClick:L,theme:O,ariaLabel:F}=n,_=Ro("Toastify__toast",`Toastify__toast-theme--${O}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":S},{"Toastify__toast--close-on-click":L}),E=tl(g)?g({rtl:S,position:A,type:u,defaultClassName:_}):Ro(_,g),T=Gce(n),w=!!y||!l,C={closeToast:h,type:u,theme:O},j=null;return o===!1||(tl(o)?j=o(C):k.isValidElement(o)?j=k.cloneElement(o,C):j=jce(C)),Ne.createElement(m,{isIn:B,done:P,position:A,preventExitTransition:e,nodeRef:s,playToast:i},Ne.createElement("div",{id:M,tabIndex:0,onClick:d,"data-in":B,className:E,...a,style:p,ref:s,...B&&{role:v,"aria-label":F}},T!=null&&Ne.createElement("div",{className:Ro("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!D})},T),dO(c,n,!t),j,!n.customProgressBar&&Ne.createElement(Cce,{...x&&!w?{key:`p-${x}`}:{},rtl:S,theme:O,delay:l,isRunning:t,isIn:B,closeToast:h,hide:f,type:u,className:b,controlledProgress:w,progress:y||0})))},Wce=(n,t=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:t}),Xce=wce(Wce("bounce",!0)),Yce={position:"top-right",transition:Xce,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function Jce(n){let t={...Yce,...n},e=n.stacked,[s,a]=k.useState(!0),i=k.useRef(null),{getToastToRender:o,isToastActive:c,count:l}=Fce(t),{className:d,style:u,rtl:f,containerId:h,hotKeys:m}=t;function A(p){let b=Ro("Toastify__toast-container",`Toastify__toast-container--${p}`,{"Toastify__toast-container--rtl":f});return tl(d)?d({position:p,rtl:f,defaultClassName:b}):Ro(b,j1(d))}function g(){e&&(a(!0),ur.play())}return Uce(()=>{var p;if(e){let b=i.current.querySelectorAll('[data-in="true"]'),x=12,v=(p=t.position)==null?void 0:p.includes("top"),y=0,S=0;Array.from(b).reverse().forEach((M,P)=>{let B=M;B.classList.add("Toastify__toast--stacked"),P>0&&(B.dataset.collapsed=`${s}`),B.dataset.pos||(B.dataset.pos=v?"top":"bot");let D=y*(s?.2:1)+(s?0:x*P);B.style.setProperty("--y",`${v?D:D*-1}px`),B.style.setProperty("--g",`${x}`),B.style.setProperty("--s",`${1-(s?S:0)}`),y+=B.offsetHeight,S+=.025})}},[s,l,e]),k.useEffect(()=>{function p(b){var x;let v=i.current;m(b)&&((x=v.querySelector('[tabIndex="0"]'))==null||x.focus(),a(!1),ur.pause()),b.key==="Escape"&&(document.activeElement===v||v!=null&&v.contains(document.activeElement))&&(a(!0),ur.play())}return document.addEventListener("keydown",p),()=>{document.removeEventListener("keydown",p)}},[m]),Ne.createElement("section",{ref:i,className:"Toastify",id:h,onMouseEnter:()=>{e&&(a(!1),ur.pause())},onMouseLeave:g,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((p,b)=>{let x=b.length?{...u}:{...u,pointerEvents:"none"};return Ne.createElement("div",{tabIndex:-1,className:A(p),"data-stacked":e,style:x,key:`c-${p}`},b.map(({content:v,props:y})=>Ne.createElement(qce,{...y,stacked:e,collapseAll:g,isIn:c(y.toastId,y.containerId),key:`t-${y.key}`},v)))}))}const Zce=ho({email:Ft().email("Email không hợp lệ").nonempty("Email không được để trống")}),ede=ho({otp:Ft().length(6,"Mã OTP phải có đúng 6 ký tự").nonempty("Mã OTP không được để trống")}),tde=ho({newPassword:Ft().min(8,"Mật khẩu phải có ít nhất 8 ký tự"),confirmPassword:Ft().nonempty("Xác nhận mật khẩu không được để trống")}).refine(n=>n.newPassword===n.confirmPassword,{message:"Mật khẩu xác nhận không khớp",path:["confirmPassword"]}),nde=()=>{const[n,t]=k.useState("email"),[e,s]=k.useState(""),[a,i]=k.useState(""),[o,c]=k.useState(!1),[l,d]=k.useState(!1),[u,f]=k.useState(0),[h,m]=k.useState(!1),A=dr(),g="https://bicacuatho.azurewebsites.net/api/XacThuc",p=Ji({resolver:Zi(Zce),defaultValues:{email:""}}),b=Ji({resolver:Zi(ede),defaultValues:{otp:""}}),x=Ji({resolver:Zi(tde),defaultValues:{newPassword:"",confirmPassword:""}});k.useEffect(()=>{if(u>0){const P=setInterval(()=>{f(B=>B-1)},1e3);return()=>clearInterval(P)}},[u]);const v=async P=>{var B,D;m(!0);try{const L=await St.post(`${g}/forgot-password`,{email:P.email});xt.success(L.data.message||"Mã OTP đã được gửi đến email của bạn!"),s(P.email),f(60),t("otp")}catch(L){xt.error(((D=(B=L.response)==null?void 0:B.data)==null?void 0:D.message)||"Không thể gửi mã OTP, vui lòng thử lại.")}finally{m(!1)}},y=async P=>{var B,D;m(!0);try{const L=await St.post(`${g}/verify-otp`,{email:e,otp:P.otp});xt.success(L.data.message||"Mã OTP hợp lệ!"),i(P.otp),t("newPassword")}catch(L){xt.error(((D=(B=L.response)==null?void 0:B.data)==null?void 0:D.message)||"Mã OTP không hợp lệ hoặc đã hết hạn.")}finally{m(!1)}},S=async P=>{var B,D;m(!0);try{const L=await St.post(`${g}/reset-password`,{email:e,otp:a,newPassword:P.newPassword});xt.success(L.data.message||"Đặt lại mật khẩu thành công!"),setTimeout(()=>A("/auth/login"),2e3)}catch(L){xt.error(((D=(B=L.response)==null?void 0:B.data)==null?void 0:D.message)||"Có lỗi xảy ra, vui lòng thử lại.")}finally{m(!1)}},M=async()=>{var P,B;u>0&&xt.info(`Vui lòng đợi ${u} giây để gửi mã OTP`),m(!0);try{const D=await St.post(`${g}/forgot-password`,{email:e});xt.success(D.data.message||"Mã OTP mới đã được gửi!"),f(60)}catch(D){xt.error(((B=(P=D.response)==null?void 0:P.data)==null?void 0:B.message)||"Không thể gửi lại OTP, vui lòng thử lại.")}finally{m(!1)}};return r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsxs(at,{className:"w-full max-w-md mx-auto",children:[r.jsxs(yt,{className:"space-y-1",children:[r.jsxs(Ct,{className:"text-2xl font-bold text-center",children:[n==="email"&&"Quên mật khẩu",n==="otp"&&"Nhập mã xác nhận",n==="newPassword"&&"Đặt mật khẩu mới"]}),r.jsxs(us,{className:"text-center",children:[n==="email"&&"Nhập email của bạn để nhận mã OTP",n==="otp"&&"Nhập mã xác nhận đã gửi đến email của bạn",n==="newPassword"&&"Tạo mật khẩu mới an toàn"]})]}),r.jsxs(dt,{children:[n==="email"&&r.jsxs("form",{onSubmit:p.handleSubmit(v),className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"email",children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(Aa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),r.jsx(je,{id:"email",type:"email",placeholder:"Nhập email",...p.register("email"),className:"pl-10"}),p.formState.errors.email&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.formState.errors.email.message})]})]}),r.jsxs(fe,{type:"submit",className:"w-full",disabled:h,children:[h?r.jsx(Io,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(ja,{className:"mr-2 h-4 w-4"}),"Gửi OTP"]})]}),n==="otp"&&r.jsxs("form",{onSubmit:b.handleSubmit(y),className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"otp",children:"Mã xác nhận"}),r.jsxs("div",{className:"relative",children:[r.jsx(x6,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),r.jsx(je,{id:"otp",placeholder:"Nhập mã OTP",...b.register("otp"),maxLength:6,className:"pl-10 text-center text-lg tracking-widest"}),b.formState.errors.otp&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.formState.errors.otp.message})]})]}),r.jsxs(fe,{type:"submit",className:"w-full",disabled:h,children:[h?r.jsx(Io,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(ja,{className:"mr-2 h-4 w-4"}),"Xác nhận mã"]}),r.jsx("div",{className:"text-center mt-2",children:r.jsxs("button",{type:"button",onClick:M,className:"text-sm text-blue-600 hover:text-blue-700 flex items-center justify-center mx-auto",disabled:h,children:[r.jsx(Io,{className:"mr-1 h-3 w-3"}),u>0?`Gửi lại OTP(${u}s)`:"Gửi lại OTP"]})}),r.jsx("div",{className:"text-center",children:r.jsxs("button",{type:"button",onClick:()=>t("email"),className:"text-sm text-blue-600 hover:text-blue-700 flex items-center justify-center mx-auto",children:[r.jsx(eh,{className:"mr-1 h-3 w-3"})," Quay lại email"]})})]}),n==="newPassword"&&r.jsxs("form",{onSubmit:x.handleSubmit(S),className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"newPassword",children:"Mật khẩu mới"}),r.jsxs("div",{className:"relative",children:[r.jsx(ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),r.jsx(je,{id:"newPassword",type:o?"text":"password",placeholder:"Nhập mật khẩu mới",...x.register("newPassword"),className:"pl-10"}),r.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:o?r.jsx(Wi,{size:18}):r.jsx(pr,{size:18})}),x.formState.errors.newPassword&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.formState.errors.newPassword.message})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"confirmPassword",children:"Xác nhận mật khẩu mới"}),r.jsxs("div",{className:"relative",children:[r.jsx(ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),r.jsx(je,{id:"confirmPassword",type:l?"text":"password",placeholder:"Xác nhận mật khẩu mới",...x.register("confirmPassword"),className:"pl-10"}),r.jsx("button",{type:"button",onClick:()=>d(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:l?r.jsx(Wi,{size:18}):r.jsx(pr,{size:18})}),x.formState.errors.confirmPassword&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.formState.errors.confirmPassword.message})]})]}),r.jsxs(fe,{type:"submit",className:"w-full",disabled:h,children:[h?r.jsx(Io,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(ma,{className:"mr-2 h-4 w-4"}),"Đặt lại mật khẩu"]})]})]}),r.jsx(Wc,{className:"flex flex-col",children:r.jsxs("div",{className:"text-center text-sm",children:["Nhớ mật khẩu của bạn?"," ",r.jsx(lt,{to:"/auth/login",className:"font-medium text-blue-600 hover:text-blue-700",children:"Đăng nhập"})]})})]}),r.jsx(Jce,{position:"top-right",autoClose:3e3,hideProgressBar:!0})]})},rde=()=>r.jsx("div",{className:"py-10",children:r.jsx(nde,{})});function Hn(n){const t=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&t==="[object Date]"?new n.constructor(+n):typeof n=="number"||t==="[object Number]"||typeof n=="string"||t==="[object String]"?new Date(n):new Date(NaN)}function Fa(n,t){return n instanceof Date?new n.constructor(t):new Date(t)}function qs(n,t){const e=Hn(n);return isNaN(t)?Fa(n,NaN):(t&&e.setDate(e.getDate()+t),e)}function wi(n,t){const e=Hn(n);if(isNaN(t))return Fa(n,NaN);if(!t)return e;const s=e.getDate(),a=Fa(n,e.getTime());a.setMonth(e.getMonth()+t+1,0);const i=a.getDate();return s>=i?a:(e.setFullYear(a.getFullYear(),a.getMonth(),s),e)}const wC=6048e5,sde=864e5;let ade={};function mp(){return ade}function oo(n,t){var c,l,d,u;const e=mp(),s=(t==null?void 0:t.weekStartsOn)??((l=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)??e.weekStartsOn??((u=(d=e.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Hn(n),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function bd(n){return oo(n,{weekStartsOn:1})}function AO(n){const t=Hn(n),e=t.getFullYear(),s=Fa(n,0);s.setFullYear(e+1,0,4),s.setHours(0,0,0,0);const a=bd(s),i=Fa(n,0);i.setFullYear(e,0,4),i.setHours(0,0,0,0);const o=bd(i);return t.getTime()>=a.getTime()?e+1:t.getTime()>=o.getTime()?e:e-1}function Vu(n){const t=Hn(n);return t.setHours(0,0,0,0),t}function x0(n){const t=Hn(n),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+n-+e}function Gi(n,t){const e=Vu(n),s=Vu(t),a=+e-x0(e),i=+s-x0(s);return Math.round((a-i)/sde)}function ide(n){const t=AO(n),e=Fa(n,0);return e.setFullYear(t,0,4),e.setHours(0,0,0,0),bd(e)}function T1(n,t){const e=t*7;return qs(n,e)}function ode(n,t){return wi(n,t*12)}function lde(n){let t;return n.forEach(function(e){const s=Hn(e);(t===void 0||t<s||isNaN(Number(s)))&&(t=s)}),t||new Date(NaN)}function cde(n){let t;return n.forEach(e=>{const s=Hn(e);(!t||t>s||isNaN(+s))&&(t=s)}),t||new Date(NaN)}function pa(n,t){const e=Vu(n),s=Vu(t);return+e==+s}function jC(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function dde(n){if(!jC(n)&&typeof n!="number")return!1;const t=Hn(n);return!isNaN(Number(t))}function pm(n,t){const e=Hn(n),s=Hn(t),a=e.getFullYear()-s.getFullYear(),i=e.getMonth()-s.getMonth();return a*12+i}function ude(n,t,e){const s=oo(n,e),a=oo(t,e),i=+s-x0(s),o=+a-x0(a);return Math.round((i-o)/wC)}function CC(n){const t=Hn(n),e=t.getMonth();return t.setFullYear(t.getFullYear(),e+1,0),t.setHours(23,59,59,999),t}function ya(n){const t=Hn(n);return t.setDate(1),t.setHours(0,0,0,0),t}function gO(n){const t=Hn(n),e=Fa(n,0);return e.setFullYear(t.getFullYear(),0,1),e.setHours(0,0,0,0),e}function NC(n,t){var c,l,d,u;const e=mp(),s=(t==null?void 0:t.weekStartsOn)??((l=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)??e.weekStartsOn??((u=(d=e.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Hn(n),i=a.getDay(),o=(i<s?-7:0)+6-(i-s);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function xO(n){return NC(n,{weekStartsOn:1})}const hde={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fde=(n,t,e)=>{let s;const a=hde[n];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"in "+s:s+" ago":s};function $v(n){return(t={})=>{const e=t.width?String(t.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}const mde={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pde={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ade={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gde={date:$v({formats:mde,defaultWidth:"full"}),time:$v({formats:pde,defaultWidth:"full"}),dateTime:$v({formats:Ade,defaultWidth:"full"})},xde={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bde=(n,t,e,s)=>xde[n];function $h(n){return(t,e)=>{const s=e!=null&&e.context?String(e.context):"standalone";let a;if(s==="formatting"&&n.formattingValues){const o=n.defaultFormattingWidth||n.defaultWidth,c=e!=null&&e.width?String(e.width):o;a=n.formattingValues[c]||n.formattingValues[o]}else{const o=n.defaultWidth,c=e!=null&&e.width?String(e.width):n.defaultWidth;a=n.values[c]||n.values[o]}const i=n.argumentCallback?n.argumentCallback(t):t;return a[i]}}const vde={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},yde={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wde={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jde={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Cde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Nde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Sde=(n,t)=>{const e=Number(n),s=e%100;if(s>20||s<10)switch(s%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},Tde={ordinalNumber:Sde,era:$h({values:vde,defaultWidth:"wide"}),quarter:$h({values:yde,defaultWidth:"wide",argumentCallback:n=>n-1}),month:$h({values:wde,defaultWidth:"wide"}),day:$h({values:jde,defaultWidth:"wide"}),dayPeriod:$h({values:Cde,defaultWidth:"wide",formattingValues:Nde,defaultFormattingWidth:"wide"})};function Qh(n){return(t,e={})=>{const s=e.width,a=s&&n.matchPatterns[s]||n.matchPatterns[n.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],c=s&&n.parsePatterns[s]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(c)?_de(c,f=>f.test(o)):kde(c,f=>f.test(o));let d;d=n.valueCallback?n.valueCallback(l):l,d=e.valueCallback?e.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function kde(n,t){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&t(n[e]))return e}function _de(n,t){for(let e=0;e<n.length;e++)if(t(n[e]))return e}function Bde(n){return(t,e={})=>{const s=t.match(n.matchPattern);if(!s)return null;const a=s[0],i=t.match(n.parsePattern);if(!i)return null;let o=n.valueCallback?n.valueCallback(i[0]):i[0];o=e.valueCallback?e.valueCallback(o):o;const c=t.slice(a.length);return{value:o,rest:c}}}const Ede=/^(\d+)(th|st|nd|rd)?/i,Mde=/\d+/i,Pde={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Dde={any:[/^b/i,/^(a|c)/i]},Ide={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ode={any:[/1/i,/2/i,/3/i,/4/i]},Lde={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Fde={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Rde={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ude={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Hde={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$de={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Qde={ordinalNumber:Bde({matchPattern:Ede,parsePattern:Mde,valueCallback:n=>parseInt(n,10)}),era:Qh({matchPatterns:Pde,defaultMatchWidth:"wide",parsePatterns:Dde,defaultParseWidth:"any"}),quarter:Qh({matchPatterns:Ide,defaultMatchWidth:"wide",parsePatterns:Ode,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Qh({matchPatterns:Lde,defaultMatchWidth:"wide",parsePatterns:Fde,defaultParseWidth:"any"}),day:Qh({matchPatterns:Rde,defaultMatchWidth:"wide",parsePatterns:Ude,defaultParseWidth:"any"}),dayPeriod:Qh({matchPatterns:Hde,defaultMatchWidth:"any",parsePatterns:$de,defaultParseWidth:"any"})},bO={code:"en-US",formatDistance:fde,formatLong:gde,formatRelative:bde,localize:Tde,match:Qde,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Vde(n){const t=Hn(n);return Gi(t,gO(t))+1}function vO(n){const t=Hn(n),e=+bd(t)-+ide(t);return Math.round(e/wC)+1}function yO(n,t){var u,f,h,m;const e=Hn(n),s=e.getFullYear(),a=mp(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Fa(n,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const c=oo(o,t),l=Fa(n,0);l.setFullYear(s,0,i),l.setHours(0,0,0,0);const d=oo(l,t);return e.getTime()>=c.getTime()?s+1:e.getTime()>=d.getTime()?s:s-1}function zde(n,t){var c,l,d,u;const e=mp(),s=(t==null?void 0:t.firstWeekContainsDate)??((l=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:l.firstWeekContainsDate)??e.firstWeekContainsDate??((u=(d=e.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=yO(n,t),i=Fa(n,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),oo(i,t)}function wO(n,t){const e=Hn(n),s=+oo(e,t)-+zde(e,t);return Math.round(s/wC)+1}function rr(n,t){const e=n<0?"-":"",s=Math.abs(n).toString().padStart(t,"0");return e+s}const Al={y(n,t){const e=n.getFullYear(),s=e>0?e:1-e;return rr(t==="yy"?s%100:s,t.length)},M(n,t){const e=n.getMonth();return t==="M"?String(e+1):rr(e+1,2)},d(n,t){return rr(n.getDate(),t.length)},a(n,t){const e=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(n,t){return rr(n.getHours()%12||12,t.length)},H(n,t){return rr(n.getHours(),t.length)},m(n,t){return rr(n.getMinutes(),t.length)},s(n,t){return rr(n.getSeconds(),t.length)},S(n,t){const e=t.length,s=n.getMilliseconds(),a=Math.trunc(s*Math.pow(10,e-3));return rr(a,t.length)}},zd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hT={G:function(n,t,e){const s=n.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(s,{width:"abbreviated"});case"GGGGG":return e.era(s,{width:"narrow"});case"GGGG":default:return e.era(s,{width:"wide"})}},y:function(n,t,e){if(t==="yo"){const s=n.getFullYear(),a=s>0?s:1-s;return e.ordinalNumber(a,{unit:"year"})}return Al.y(n,t)},Y:function(n,t,e,s){const a=yO(n,s),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return rr(o,2)}return t==="Yo"?e.ordinalNumber(i,{unit:"year"}):rr(i,t.length)},R:function(n,t){const e=AO(n);return rr(e,t.length)},u:function(n,t){const e=n.getFullYear();return rr(e,t.length)},Q:function(n,t,e){const s=Math.ceil((n.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return rr(s,2);case"Qo":return e.ordinalNumber(s,{unit:"quarter"});case"QQQ":return e.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(s,{width:"wide",context:"formatting"})}},q:function(n,t,e){const s=Math.ceil((n.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return rr(s,2);case"qo":return e.ordinalNumber(s,{unit:"quarter"});case"qqq":return e.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(s,{width:"wide",context:"standalone"})}},M:function(n,t,e){const s=n.getMonth();switch(t){case"M":case"MM":return Al.M(n,t);case"Mo":return e.ordinalNumber(s+1,{unit:"month"});case"MMM":return e.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(s,{width:"wide",context:"formatting"})}},L:function(n,t,e){const s=n.getMonth();switch(t){case"L":return String(s+1);case"LL":return rr(s+1,2);case"Lo":return e.ordinalNumber(s+1,{unit:"month"});case"LLL":return e.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(s,{width:"wide",context:"standalone"})}},w:function(n,t,e,s){const a=wO(n,s);return t==="wo"?e.ordinalNumber(a,{unit:"week"}):rr(a,t.length)},I:function(n,t,e){const s=vO(n);return t==="Io"?e.ordinalNumber(s,{unit:"week"}):rr(s,t.length)},d:function(n,t,e){return t==="do"?e.ordinalNumber(n.getDate(),{unit:"date"}):Al.d(n,t)},D:function(n,t,e){const s=Vde(n);return t==="Do"?e.ordinalNumber(s,{unit:"dayOfYear"}):rr(s,t.length)},E:function(n,t,e){const s=n.getDay();switch(t){case"E":case"EE":case"EEE":return e.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(s,{width:"short",context:"formatting"});case"EEEE":default:return e.day(s,{width:"wide",context:"formatting"})}},e:function(n,t,e,s){const a=n.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return rr(i,2);case"eo":return e.ordinalNumber(i,{unit:"day"});case"eee":return e.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(a,{width:"short",context:"formatting"});case"eeee":default:return e.day(a,{width:"wide",context:"formatting"})}},c:function(n,t,e,s){const a=n.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return rr(i,t.length);case"co":return e.ordinalNumber(i,{unit:"day"});case"ccc":return e.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(a,{width:"narrow",context:"standalone"});case"cccccc":return e.day(a,{width:"short",context:"standalone"});case"cccc":default:return e.day(a,{width:"wide",context:"standalone"})}},i:function(n,t,e){const s=n.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return rr(a,t.length);case"io":return e.ordinalNumber(a,{unit:"day"});case"iii":return e.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(s,{width:"short",context:"formatting"});case"iiii":default:return e.day(s,{width:"wide",context:"formatting"})}},a:function(n,t,e){const a=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(n,t,e){const s=n.getHours();let a;switch(s===12?a=zd.noon:s===0?a=zd.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(n,t,e){const s=n.getHours();let a;switch(s>=17?a=zd.evening:s>=12?a=zd.afternoon:s>=4?a=zd.morning:a=zd.night,t){case"B":case"BB":case"BBB":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(n,t,e){if(t==="ho"){let s=n.getHours()%12;return s===0&&(s=12),e.ordinalNumber(s,{unit:"hour"})}return Al.h(n,t)},H:function(n,t,e){return t==="Ho"?e.ordinalNumber(n.getHours(),{unit:"hour"}):Al.H(n,t)},K:function(n,t,e){const s=n.getHours()%12;return t==="Ko"?e.ordinalNumber(s,{unit:"hour"}):rr(s,t.length)},k:function(n,t,e){let s=n.getHours();return s===0&&(s=24),t==="ko"?e.ordinalNumber(s,{unit:"hour"}):rr(s,t.length)},m:function(n,t,e){return t==="mo"?e.ordinalNumber(n.getMinutes(),{unit:"minute"}):Al.m(n,t)},s:function(n,t,e){return t==="so"?e.ordinalNumber(n.getSeconds(),{unit:"second"}):Al.s(n,t)},S:function(n,t){return Al.S(n,t)},X:function(n,t,e){const s=n.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return mT(s);case"XXXX":case"XX":return Mc(s);case"XXXXX":case"XXX":default:return Mc(s,":")}},x:function(n,t,e){const s=n.getTimezoneOffset();switch(t){case"x":return mT(s);case"xxxx":case"xx":return Mc(s);case"xxxxx":case"xxx":default:return Mc(s,":")}},O:function(n,t,e){const s=n.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+fT(s,":");case"OOOO":default:return"GMT"+Mc(s,":")}},z:function(n,t,e){const s=n.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+fT(s,":");case"zzzz":default:return"GMT"+Mc(s,":")}},t:function(n,t,e){const s=Math.trunc(n.getTime()/1e3);return rr(s,t.length)},T:function(n,t,e){const s=n.getTime();return rr(s,t.length)}};function fT(n,t=""){const e=n>0?"-":"+",s=Math.abs(n),a=Math.trunc(s/60),i=s%60;return i===0?e+String(a):e+String(a)+t+rr(i,2)}function mT(n,t){return n%60===0?(n>0?"-":"+")+rr(Math.abs(n)/60,2):Mc(n,t)}function Mc(n,t=""){const e=n>0?"-":"+",s=Math.abs(n),a=rr(Math.trunc(s/60),2),i=rr(s%60,2);return e+a+t+i}const pT=(n,t)=>{switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},jO=(n,t)=>{switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Kde=(n,t)=>{const e=n.match(/(P+)(p+)?/)||[],s=e[1],a=e[2];if(!a)return pT(n,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",pT(s,t)).replace("{{time}}",jO(a,t))},Gde={p:jO,P:Kde},qde=/^D+$/,Wde=/^Y+$/,Xde=["D","DD","YY","YYYY"];function Yde(n){return qde.test(n)}function Jde(n){return Wde.test(n)}function Zde(n,t,e){const s=eue(n,t,e);if(console.warn(s),Xde.includes(n))throw new RangeError(s)}function eue(n,t,e){const s=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${t}\`) for formatting ${s} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const tue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rue=/^'([^]*?)'?$/,sue=/''/g,aue=/[a-zA-Z]/;function nl(n,t,e){var u,f,h,m,A,g,p,b;const s=mp(),a=(e==null?void 0:e.locale)??s.locale??bO,i=(e==null?void 0:e.firstWeekContainsDate)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(e==null?void 0:e.weekStartsOn)??((g=(A=e==null?void 0:e.locale)==null?void 0:A.options)==null?void 0:g.weekStartsOn)??s.weekStartsOn??((b=(p=s.locale)==null?void 0:p.options)==null?void 0:b.weekStartsOn)??0,c=Hn(n);if(!dde(c))throw new RangeError("Invalid time value");let l=t.match(nue).map(x=>{const v=x[0];if(v==="p"||v==="P"){const y=Gde[v];return y(x,a.formatLong)}return x}).join("").match(tue).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const v=x[0];if(v==="'")return{isToken:!1,value:iue(x)};if(hT[v])return{isToken:!0,value:x};if(v.match(aue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(l=a.localize.preprocessor(c,l));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return l.map(x=>{if(!x.isToken)return x.value;const v=x.value;(!(e!=null&&e.useAdditionalWeekYearTokens)&&Jde(v)||!(e!=null&&e.useAdditionalDayOfYearTokens)&&Yde(v))&&Zde(v,t,String(n));const y=hT[v[0]];return y(c,v,a.localize,d)}).join("")}function iue(n){const t=n.match(rue);return t?t[1].replace(sue,"'"):n}function oue(n){const t=Hn(n),e=t.getFullYear(),s=t.getMonth(),a=Fa(n,0);return a.setFullYear(e,s+1,0),a.setHours(0,0,0,0),a.getDate()}function lue(n){return Math.trunc(+Hn(n)/1e3)}function cue(n){const t=Hn(n),e=t.getMonth();return t.setFullYear(t.getFullYear(),e+1,0),t.setHours(0,0,0,0),t}function due(n,t){return ude(cue(n),ya(n),t)+1}function k1(n,t){const e=Hn(n),s=Hn(t);return e.getTime()>s.getTime()}function CO(n,t){const e=Hn(n),s=Hn(t);return+e<+s}function SC(n,t){const e=Hn(n),s=Hn(t);return e.getFullYear()===s.getFullYear()&&e.getMonth()===s.getMonth()}function uue(n,t){const e=Hn(n),s=Hn(t);return e.getFullYear()===s.getFullYear()}function Qv(n,t){return qs(n,-t)}function Vv(n,t){const e=Hn(n),s=e.getFullYear(),a=e.getDate(),i=Fa(n,0);i.setFullYear(s,t,15),i.setHours(0,0,0,0);const o=oue(i);return e.setMonth(t,Math.min(a,o)),e}function AT(n,t){const e=Hn(n);return isNaN(+e)?Fa(n,NaN):(e.setFullYear(t),e)}var un=function(){return un=Object.assign||function(t){for(var e,s=1,a=arguments.length;s<a;s++){e=arguments[s];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},un.apply(this,arguments)};function hue(n,t){var e={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.indexOf(s)<0&&(e[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(e[s[a]]=n[s[a]]);return e}function NO(n,t,e){for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return n.concat(i||Array.prototype.slice.call(t))}function pp(n){return n.mode==="multiple"}function Ap(n){return n.mode==="range"}function fb(n){return n.mode==="single"}var fue={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function mue(n,t){return nl(n,"LLLL y",t)}function pue(n,t){return nl(n,"d",t)}function Aue(n,t){return nl(n,"LLLL",t)}function gue(n){return"".concat(n)}function xue(n,t){return nl(n,"cccccc",t)}function bue(n,t){return nl(n,"yyyy",t)}var vue=Object.freeze({__proto__:null,formatCaption:mue,formatDay:pue,formatMonthCaption:Aue,formatWeekNumber:gue,formatWeekdayName:xue,formatYearCaption:bue}),yue=function(n,t,e){return nl(n,"do MMMM (EEEE)",e)},wue=function(){return"Month: "},jue=function(){return"Go to next month"},Cue=function(){return"Go to previous month"},Nue=function(n,t){return nl(n,"cccc",t)},Sue=function(n){return"Week n. ".concat(n)},Tue=function(){return"Year: "},kue=Object.freeze({__proto__:null,labelDay:yue,labelMonthDropdown:wue,labelNext:jue,labelPrevious:Cue,labelWeekNumber:Sue,labelWeekday:Nue,labelYearDropdown:Tue});function _ue(){var n="buttons",t=fue,e=bO,s={},a={},i=1,o={},c=new Date;return{captionLayout:n,classNames:t,formatters:vue,labels:kue,locale:e,modifiersClassNames:s,modifiers:a,numberOfMonths:i,styles:o,today:c,mode:"default"}}function Bue(n){var t=n.fromYear,e=n.toYear,s=n.fromMonth,a=n.toMonth,i=n.fromDate,o=n.toDate;return s?i=ya(s):t&&(i=new Date(t,0,1)),a?o=CC(a):e&&(o=new Date(e,11,31)),{fromDate:i?Vu(i):void 0,toDate:o?Vu(o):void 0}}var SO=k.createContext(void 0);function Eue(n){var t,e=n.initialProps,s=_ue(),a=Bue(e),i=a.fromDate,o=a.toDate,c=(t=e.captionLayout)!==null&&t!==void 0?t:s.captionLayout;c!=="buttons"&&(!i||!o)&&(c="buttons");var l;(fb(e)||pp(e)||Ap(e))&&(l=e.onSelect);var d=un(un(un({},s),e),{captionLayout:c,classNames:un(un({},s.classNames),e.classNames),components:un({},e.components),formatters:un(un({},s.formatters),e.formatters),fromDate:i,labels:un(un({},s.labels),e.labels),mode:e.mode||s.mode,modifiers:un(un({},s.modifiers),e.modifiers),modifiersClassNames:un(un({},s.modifiersClassNames),e.modifiersClassNames),onSelect:l,styles:un(un({},s.styles),e.styles),toDate:o});return r.jsx(SO.Provider,{value:d,children:n.children})}function vr(){var n=k.useContext(SO);if(!n)throw new Error("useDayPicker must be used within a DayPickerProvider.");return n}function TO(n){var t=vr(),e=t.locale,s=t.classNames,a=t.styles,i=t.formatters.formatCaption;return r.jsx("div",{className:s.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:n.id,children:i(n.displayMonth,{locale:e})})}function Mue(n){return r.jsx("svg",un({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},n,{children:r.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function kO(n){var t,e,s=n.onChange,a=n.value,i=n.children,o=n.caption,c=n.className,l=n.style,d=vr(),u=(e=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&e!==void 0?e:Mue;return r.jsxs("div",{className:c,style:l,children:[r.jsx("span",{className:d.classNames.vhidden,children:n["aria-label"]}),r.jsx("select",{name:n.name,"aria-label":n["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:s,children:i}),r.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,r.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function Pue(n){var t,e=vr(),s=e.fromDate,a=e.toDate,i=e.styles,o=e.locale,c=e.formatters.formatMonthCaption,l=e.classNames,d=e.components,u=e.labels.labelMonthDropdown;if(!s)return r.jsx(r.Fragment,{});if(!a)return r.jsx(r.Fragment,{});var f=[];if(uue(s,a))for(var h=ya(s),m=s.getMonth();m<=a.getMonth();m++)f.push(Vv(h,m));else for(var h=ya(new Date),m=0;m<=11;m++)f.push(Vv(h,m));var A=function(p){var b=Number(p.target.value),x=Vv(ya(n.displayMonth),b);n.onChange(x)},g=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:kO;return r.jsx(g,{name:"months","aria-label":u(),className:l.dropdown_month,style:i.dropdown_month,onChange:A,value:n.displayMonth.getMonth(),caption:c(n.displayMonth,{locale:o}),children:f.map(function(p){return r.jsx("option",{value:p.getMonth(),children:c(p,{locale:o})},p.getMonth())})})}function Due(n){var t,e=n.displayMonth,s=vr(),a=s.fromDate,i=s.toDate,o=s.locale,c=s.styles,l=s.classNames,d=s.components,u=s.formatters.formatYearCaption,f=s.labels.labelYearDropdown,h=[];if(!a)return r.jsx(r.Fragment,{});if(!i)return r.jsx(r.Fragment,{});for(var m=a.getFullYear(),A=i.getFullYear(),g=m;g<=A;g++)h.push(AT(gO(new Date),g));var p=function(x){var v=AT(ya(e),Number(x.target.value));n.onChange(v)},b=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:kO;return r.jsx(b,{name:"years","aria-label":f(),className:l.dropdown_year,style:c.dropdown_year,onChange:p,value:e.getFullYear(),caption:u(e,{locale:o}),children:h.map(function(x){return r.jsx("option",{value:x.getFullYear(),children:u(x,{locale:o})},x.getFullYear())})})}function Iue(n,t){var e=k.useState(n),s=e[0],a=e[1],i=t===void 0?s:t;return[i,a]}function Oue(n){var t=n.month,e=n.defaultMonth,s=n.today,a=t||e||s||new Date,i=n.toDate,o=n.fromDate,c=n.numberOfMonths,l=c===void 0?1:c;if(i&&pm(i,a)<0){var d=-1*(l-1);a=wi(i,d)}return o&&pm(a,o)<0&&(a=o),ya(a)}function Lue(){var n=vr(),t=Oue(n),e=Iue(t,n.month),s=e[0],a=e[1],i=function(o){var c;if(!n.disableNavigation){var l=ya(o);a(l),(c=n.onMonthChange)===null||c===void 0||c.call(n,l)}};return[s,i]}function Fue(n,t){for(var e=t.reverseMonths,s=t.numberOfMonths,a=ya(n),i=ya(wi(a,s)),o=pm(i,a),c=[],l=0;l<o;l++){var d=wi(a,l);c.push(d)}return e&&(c=c.reverse()),c}function Rue(n,t){if(!t.disableNavigation){var e=t.toDate,s=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=s?i:1,c=ya(n);if(!e)return wi(c,o);var l=pm(e,n);if(!(l<i))return wi(c,o)}}function Uue(n,t){if(!t.disableNavigation){var e=t.fromDate,s=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=s?i:1,c=ya(n);if(!e)return wi(c,-o);var l=pm(c,e);if(!(l<=0))return wi(c,-o)}}var _O=k.createContext(void 0);function Hue(n){var t=vr(),e=Lue(),s=e[0],a=e[1],i=Fue(s,t),o=Rue(s,t),c=Uue(s,t),l=function(f){return i.some(function(h){return SC(f,h)})},d=function(f,h){l(f)||(h&&CO(f,h)?a(wi(f,1+t.numberOfMonths*-1)):a(f))},u={currentMonth:s,displayMonths:i,goToMonth:a,goToDate:d,previousMonth:c,nextMonth:o,isDateDisplayed:l};return r.jsx(_O.Provider,{value:u,children:n.children})}function gp(){var n=k.useContext(_O);if(!n)throw new Error("useNavigation must be used within a NavigationProvider");return n}function gT(n){var t,e=vr(),s=e.classNames,a=e.styles,i=e.components,o=gp().goToMonth,c=function(u){o(wi(u,n.displayIndex?-n.displayIndex:0))},l=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:TO,d=r.jsx(l,{id:n.id,displayMonth:n.displayMonth});return r.jsxs("div",{className:s.caption_dropdowns,style:a.caption_dropdowns,children:[r.jsx("div",{className:s.vhidden,children:d}),r.jsx(Pue,{onChange:c,displayMonth:n.displayMonth}),r.jsx(Due,{onChange:c,displayMonth:n.displayMonth})]})}function $ue(n){return r.jsx("svg",un({width:"16px",height:"16px",viewBox:"0 0 120 120"},n,{children:r.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Que(n){return r.jsx("svg",un({width:"16px",height:"16px",viewBox:"0 0 120 120"},n,{children:r.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var b0=k.forwardRef(function(n,t){var e=vr(),s=e.classNames,a=e.styles,i=[s.button_reset,s.button];n.className&&i.push(n.className);var o=i.join(" "),c=un(un({},a.button_reset),a.button);return n.style&&Object.assign(c,n.style),r.jsx("button",un({},n,{ref:t,type:"button",className:o,style:c}))});function Vue(n){var t,e,s=vr(),a=s.dir,i=s.locale,o=s.classNames,c=s.styles,l=s.labels,d=l.labelPrevious,u=l.labelNext,f=s.components;if(!n.nextMonth&&!n.previousMonth)return r.jsx(r.Fragment,{});var h=d(n.previousMonth,{locale:i}),m=[o.nav_button,o.nav_button_previous].join(" "),A=u(n.nextMonth,{locale:i}),g=[o.nav_button,o.nav_button_next].join(" "),p=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:Que,b=(e=f==null?void 0:f.IconLeft)!==null&&e!==void 0?e:$ue;return r.jsxs("div",{className:o.nav,style:c.nav,children:[!n.hidePrevious&&r.jsx(b0,{name:"previous-month","aria-label":h,className:m,style:c.nav_button_previous,disabled:!n.previousMonth,onClick:n.onPreviousClick,children:a==="rtl"?r.jsx(p,{className:o.nav_icon,style:c.nav_icon}):r.jsx(b,{className:o.nav_icon,style:c.nav_icon})}),!n.hideNext&&r.jsx(b0,{name:"next-month","aria-label":A,className:g,style:c.nav_button_next,disabled:!n.nextMonth,onClick:n.onNextClick,children:a==="rtl"?r.jsx(b,{className:o.nav_icon,style:c.nav_icon}):r.jsx(p,{className:o.nav_icon,style:c.nav_icon})})]})}function xT(n){var t=vr().numberOfMonths,e=gp(),s=e.previousMonth,a=e.nextMonth,i=e.goToMonth,o=e.displayMonths,c=o.findIndex(function(A){return SC(n.displayMonth,A)}),l=c===0,d=c===o.length-1,u=t>1&&(l||!d),f=t>1&&(d||!l),h=function(){s&&i(s)},m=function(){a&&i(a)};return r.jsx(Vue,{displayMonth:n.displayMonth,hideNext:u,hidePrevious:f,nextMonth:a,previousMonth:s,onPreviousClick:h,onNextClick:m})}function zue(n){var t,e=vr(),s=e.classNames,a=e.disableNavigation,i=e.styles,o=e.captionLayout,c=e.components,l=(t=c==null?void 0:c.CaptionLabel)!==null&&t!==void 0?t:TO,d;return a?d=r.jsx(l,{id:n.id,displayMonth:n.displayMonth}):o==="dropdown"?d=r.jsx(gT,{displayMonth:n.displayMonth,id:n.id}):o==="dropdown-buttons"?d=r.jsxs(r.Fragment,{children:[r.jsx(gT,{displayMonth:n.displayMonth,displayIndex:n.displayIndex,id:n.id}),r.jsx(xT,{displayMonth:n.displayMonth,displayIndex:n.displayIndex,id:n.id})]}):d=r.jsxs(r.Fragment,{children:[r.jsx(l,{id:n.id,displayMonth:n.displayMonth,displayIndex:n.displayIndex}),r.jsx(xT,{displayMonth:n.displayMonth,id:n.id})]}),r.jsx("div",{className:s.caption,style:i.caption,children:d})}function Kue(n){var t=vr(),e=t.footer,s=t.styles,a=t.classNames.tfoot;return e?r.jsx("tfoot",{className:a,style:s.tfoot,children:r.jsx("tr",{children:r.jsx("td",{colSpan:8,children:e})})}):r.jsx(r.Fragment,{})}function Gue(n,t,e){for(var s=e?bd(new Date):oo(new Date,{locale:n,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=qs(s,i);a.push(o)}return a}function que(){var n=vr(),t=n.classNames,e=n.styles,s=n.showWeekNumber,a=n.locale,i=n.weekStartsOn,o=n.ISOWeek,c=n.formatters.formatWeekdayName,l=n.labels.labelWeekday,d=Gue(a,i,o);return r.jsxs("tr",{style:e.head_row,className:t.head_row,children:[s&&r.jsx("td",{style:e.head_cell,className:t.head_cell}),d.map(function(u,f){return r.jsx("th",{scope:"col",className:t.head_cell,style:e.head_cell,"aria-label":l(u,{locale:a}),children:c(u,{locale:a})},f)})]})}function Wue(){var n,t=vr(),e=t.classNames,s=t.styles,a=t.components,i=(n=a==null?void 0:a.HeadRow)!==null&&n!==void 0?n:que;return r.jsx("thead",{style:s.head,className:e.head,children:r.jsx(i,{})})}function Xue(n){var t=vr(),e=t.locale,s=t.formatters.formatDay;return r.jsx(r.Fragment,{children:s(n.date,{locale:e})})}var TC=k.createContext(void 0);function Yue(n){if(!pp(n.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return r.jsx(TC.Provider,{value:t,children:n.children})}return r.jsx(Jue,{initialProps:n.initialProps,children:n.children})}function Jue(n){var t=n.initialProps,e=n.children,s=t.selected,a=t.min,i=t.max,o=function(d,u,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,d,u,f);var A=!!(u.selected&&a&&(s==null?void 0:s.length)===a);if(!A){var g=!!(!u.selected&&i&&(s==null?void 0:s.length)===i);if(!g){var p=s?NO([],s):[];if(u.selected){var b=p.findIndex(function(x){return pa(d,x)});p.splice(b,1)}else p.push(d);(m=t.onSelect)===null||m===void 0||m.call(t,p,d,u,f)}}},c={disabled:[]};s&&c.disabled.push(function(d){var u=i&&s.length>i-1,f=s.some(function(h){return pa(h,d)});return!!(u&&!f)});var l={selected:s,onDayClick:o,modifiers:c};return r.jsx(TC.Provider,{value:l,children:e})}function kC(){var n=k.useContext(TC);if(!n)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return n}function Zue(n,t){var e=t||{},s=e.from,a=e.to;return s&&a?pa(a,n)&&pa(s,n)?void 0:pa(a,n)?{from:a,to:void 0}:pa(s,n)?void 0:k1(s,n)?{from:n,to:a}:{from:s,to:n}:a?k1(n,a)?{from:a,to:n}:{from:n,to:a}:s?CO(n,s)?{from:n,to:s}:{from:s,to:n}:{from:n,to:void 0}}var _C=k.createContext(void 0);function ehe(n){if(!Ap(n.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return r.jsx(_C.Provider,{value:t,children:n.children})}return r.jsx(the,{initialProps:n.initialProps,children:n.children})}function the(n){var t=n.initialProps,e=n.children,s=t.selected,a=s||{},i=a.from,o=a.to,c=t.min,l=t.max,d=function(m,A,g){var p,b;(p=t.onDayClick)===null||p===void 0||p.call(t,m,A,g);var x=Zue(m,s);(b=t.onSelect)===null||b===void 0||b.call(t,x,m,A,g)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],o?(u.range_end=[o],pa(i,o)||(u.range_middle=[{after:i,before:o}])):u.range_end=[i]):o&&(u.range_start=[o],u.range_end=[o]),c&&(i&&!o&&u.disabled.push({after:Qv(i,c-1),before:qs(i,c-1)}),i&&o&&u.disabled.push({after:i,before:qs(i,c-1)}),!i&&o&&u.disabled.push({after:Qv(o,c-1),before:qs(o,c-1)})),l){if(i&&!o&&(u.disabled.push({before:qs(i,-l+1)}),u.disabled.push({after:qs(i,l-1)})),i&&o){var f=Gi(o,i)+1,h=l-f;u.disabled.push({before:Qv(i,h)}),u.disabled.push({after:qs(o,h)})}!i&&o&&(u.disabled.push({before:qs(o,-l+1)}),u.disabled.push({after:qs(o,l-1)}))}return r.jsx(_C.Provider,{value:{selected:s,onDayClick:d,modifiers:u},children:e})}function BC(){var n=k.useContext(_C);if(!n)throw new Error("useSelectRange must be used within a SelectRangeProvider");return n}function ug(n){return Array.isArray(n)?NO([],n):n!==void 0?[n]:[]}function nhe(n){var t={};return Object.entries(n).forEach(function(e){var s=e[0],a=e[1];t[s]=ug(a)}),t}var ji;(function(n){n.Outside="outside",n.Disabled="disabled",n.Selected="selected",n.Hidden="hidden",n.Today="today",n.RangeStart="range_start",n.RangeEnd="range_end",n.RangeMiddle="range_middle"})(ji||(ji={}));var rhe=ji.Selected,vo=ji.Disabled,she=ji.Hidden,ahe=ji.Today,zv=ji.RangeEnd,Kv=ji.RangeMiddle,Gv=ji.RangeStart,ihe=ji.Outside;function ohe(n,t,e){var s,a=(s={},s[rhe]=ug(n.selected),s[vo]=ug(n.disabled),s[she]=ug(n.hidden),s[ahe]=[n.today],s[zv]=[],s[Kv]=[],s[Gv]=[],s[ihe]=[],s);return n.fromDate&&a[vo].push({before:n.fromDate}),n.toDate&&a[vo].push({after:n.toDate}),pp(n)?a[vo]=a[vo].concat(t.modifiers[vo]):Ap(n)&&(a[vo]=a[vo].concat(e.modifiers[vo]),a[Gv]=e.modifiers[Gv],a[Kv]=e.modifiers[Kv],a[zv]=e.modifiers[zv]),a}var BO=k.createContext(void 0);function lhe(n){var t=vr(),e=kC(),s=BC(),a=ohe(t,e,s),i=nhe(t.modifiers),o=un(un({},a),i);return r.jsx(BO.Provider,{value:o,children:n.children})}function EO(){var n=k.useContext(BO);if(!n)throw new Error("useModifiers must be used within a ModifiersProvider");return n}function che(n){return!!(n&&typeof n=="object"&&"before"in n&&"after"in n)}function dhe(n){return!!(n&&typeof n=="object"&&"from"in n)}function uhe(n){return!!(n&&typeof n=="object"&&"after"in n)}function hhe(n){return!!(n&&typeof n=="object"&&"before"in n)}function fhe(n){return!!(n&&typeof n=="object"&&"dayOfWeek"in n)}function mhe(n,t){var e,s=t.from,a=t.to;if(s&&a){var i=Gi(a,s)<0;i&&(e=[a,s],s=e[0],a=e[1]);var o=Gi(n,s)>=0&&Gi(a,n)>=0;return o}return a?pa(a,n):s?pa(s,n):!1}function phe(n){return jC(n)}function Ahe(n){return Array.isArray(n)&&n.every(jC)}function ghe(n,t){return t.some(function(e){if(typeof e=="boolean")return e;if(phe(e))return pa(n,e);if(Ahe(e))return e.includes(n);if(dhe(e))return mhe(n,e);if(fhe(e))return e.dayOfWeek.includes(n.getDay());if(che(e)){var s=Gi(e.before,n),a=Gi(e.after,n),i=s>0,o=a<0,c=k1(e.before,e.after);return c?o&&i:i||o}return uhe(e)?Gi(n,e.after)>0:hhe(e)?Gi(e.before,n)>0:typeof e=="function"?e(n):!1})}function EC(n,t,e){var s=Object.keys(t).reduce(function(i,o){var c=t[o];return ghe(n,c)&&i.push(o),i},[]),a={};return s.forEach(function(i){return a[i]=!0}),e&&!SC(n,e)&&(a.outside=!0),a}function xhe(n,t){for(var e=ya(n[0]),s=CC(n[n.length-1]),a,i,o=e;o<=s;){var c=EC(o,t),l=!c.disabled&&!c.hidden;if(!l){o=qs(o,1);continue}if(c.selected)return o;c.today&&!i&&(i=o),a||(a=o),o=qs(o,1)}return i||a}var bhe=365;function MO(n,t){var e=t.moveBy,s=t.direction,a=t.context,i=t.modifiers,o=t.retry,c=o===void 0?{count:0,lastFocused:n}:o,l=a.weekStartsOn,d=a.fromDate,u=a.toDate,f=a.locale,h={day:qs,week:T1,month:wi,year:ode,startOfWeek:function(p){return a.ISOWeek?bd(p):oo(p,{locale:f,weekStartsOn:l})},endOfWeek:function(p){return a.ISOWeek?xO(p):NC(p,{locale:f,weekStartsOn:l})}},m=h[e](n,s==="after"?1:-1);s==="before"&&d?m=lde([d,m]):s==="after"&&u&&(m=cde([u,m]));var A=!0;if(i){var g=EC(m,i);A=!g.disabled&&!g.hidden}return A?m:c.count>bhe?c.lastFocused:MO(m,{moveBy:e,direction:s,context:a,modifiers:i,retry:un(un({},c),{count:c.count+1})})}var PO=k.createContext(void 0);function vhe(n){var t=gp(),e=EO(),s=k.useState(),a=s[0],i=s[1],o=k.useState(),c=o[0],l=o[1],d=xhe(t.displayMonths,e),u=a??(c&&t.isDateDisplayed(c))?c:d,f=function(){l(a),i(void 0)},h=function(p){i(p)},m=vr(),A=function(p,b){if(a){var x=MO(a,{moveBy:p,direction:b,context:m,modifiers:e});pa(a,x)||(t.goToDate(x,a),h(x))}},g={focusedDay:a,focusTarget:u,blur:f,focus:h,focusDayAfter:function(){return A("day","after")},focusDayBefore:function(){return A("day","before")},focusWeekAfter:function(){return A("week","after")},focusWeekBefore:function(){return A("week","before")},focusMonthBefore:function(){return A("month","before")},focusMonthAfter:function(){return A("month","after")},focusYearBefore:function(){return A("year","before")},focusYearAfter:function(){return A("year","after")},focusStartOfWeek:function(){return A("startOfWeek","before")},focusEndOfWeek:function(){return A("endOfWeek","after")}};return r.jsx(PO.Provider,{value:g,children:n.children})}function MC(){var n=k.useContext(PO);if(!n)throw new Error("useFocusContext must be used within a FocusProvider");return n}function yhe(n,t){var e=EO(),s=EC(n,e,t);return s}var PC=k.createContext(void 0);function whe(n){if(!fb(n.initialProps)){var t={selected:void 0};return r.jsx(PC.Provider,{value:t,children:n.children})}return r.jsx(jhe,{initialProps:n.initialProps,children:n.children})}function jhe(n){var t=n.initialProps,e=n.children,s=function(i,o,c){var l,d,u;if((l=t.onDayClick)===null||l===void 0||l.call(t,i,o,c),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,o,c);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,o,c)},a={selected:t.selected,onDayClick:s};return r.jsx(PC.Provider,{value:a,children:e})}function DO(){var n=k.useContext(PC);if(!n)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return n}function Che(n,t){var e=vr(),s=DO(),a=kC(),i=BC(),o=MC(),c=o.focusDayAfter,l=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,f=o.blur,h=o.focus,m=o.focusMonthBefore,A=o.focusMonthAfter,g=o.focusYearBefore,p=o.focusYearAfter,b=o.focusStartOfWeek,x=o.focusEndOfWeek,v=function(C){var j,N,I,R;fb(e)?(j=s.onDayClick)===null||j===void 0||j.call(s,n,t,C):pp(e)?(N=a.onDayClick)===null||N===void 0||N.call(a,n,t,C):Ap(e)?(I=i.onDayClick)===null||I===void 0||I.call(i,n,t,C):(R=e.onDayClick)===null||R===void 0||R.call(e,n,t,C)},y=function(C){var j;h(n),(j=e.onDayFocus)===null||j===void 0||j.call(e,n,t,C)},S=function(C){var j;f(),(j=e.onDayBlur)===null||j===void 0||j.call(e,n,t,C)},M=function(C){var j;(j=e.onDayMouseEnter)===null||j===void 0||j.call(e,n,t,C)},P=function(C){var j;(j=e.onDayMouseLeave)===null||j===void 0||j.call(e,n,t,C)},B=function(C){var j;(j=e.onDayPointerEnter)===null||j===void 0||j.call(e,n,t,C)},D=function(C){var j;(j=e.onDayPointerLeave)===null||j===void 0||j.call(e,n,t,C)},L=function(C){var j;(j=e.onDayTouchCancel)===null||j===void 0||j.call(e,n,t,C)},O=function(C){var j;(j=e.onDayTouchEnd)===null||j===void 0||j.call(e,n,t,C)},F=function(C){var j;(j=e.onDayTouchMove)===null||j===void 0||j.call(e,n,t,C)},_=function(C){var j;(j=e.onDayTouchStart)===null||j===void 0||j.call(e,n,t,C)},E=function(C){var j;(j=e.onDayKeyUp)===null||j===void 0||j.call(e,n,t,C)},T=function(C){var j;switch(C.key){case"ArrowLeft":C.preventDefault(),C.stopPropagation(),e.dir==="rtl"?c():l();break;case"ArrowRight":C.preventDefault(),C.stopPropagation(),e.dir==="rtl"?l():c();break;case"ArrowDown":C.preventDefault(),C.stopPropagation(),d();break;case"ArrowUp":C.preventDefault(),C.stopPropagation(),u();break;case"PageUp":C.preventDefault(),C.stopPropagation(),C.shiftKey?g():m();break;case"PageDown":C.preventDefault(),C.stopPropagation(),C.shiftKey?p():A();break;case"Home":C.preventDefault(),C.stopPropagation(),b();break;case"End":C.preventDefault(),C.stopPropagation(),x();break}(j=e.onDayKeyDown)===null||j===void 0||j.call(e,n,t,C)},w={onClick:v,onFocus:y,onBlur:S,onKeyDown:T,onKeyUp:E,onMouseEnter:M,onMouseLeave:P,onPointerEnter:B,onPointerLeave:D,onTouchCancel:L,onTouchEnd:O,onTouchMove:F,onTouchStart:_};return w}function Nhe(){var n=vr(),t=DO(),e=kC(),s=BC(),a=fb(n)?t.selected:pp(n)?e.selected:Ap(n)?s.selected:void 0;return a}function She(n){return Object.values(ji).includes(n)}function The(n,t){var e=[n.classNames.day];return Object.keys(t).forEach(function(s){var a=n.modifiersClassNames[s];if(a)e.push(a);else if(She(s)){var i=n.classNames["day_".concat(s)];i&&e.push(i)}}),e}function khe(n,t){var e=un({},n.styles.day);return Object.keys(t).forEach(function(s){var a;e=un(un({},e),(a=n.modifiersStyles)===null||a===void 0?void 0:a[s])}),e}function _he(n,t,e){var s,a,i,o=vr(),c=MC(),l=yhe(n,t),d=Che(n,l),u=Nhe(),f=!!(o.onDayClick||o.mode!=="default");k.useEffect(function(){var M;l.outside||c.focusedDay&&f&&pa(c.focusedDay,n)&&((M=e.current)===null||M===void 0||M.focus())},[c.focusedDay,n,e,f,l.outside]);var h=The(o,l).join(" "),m=khe(o,l),A=!!(l.outside&&!o.showOutsideDays||l.hidden),g=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:Xue,p=r.jsx(g,{date:n,displayMonth:t,activeModifiers:l}),b={style:m,className:h,children:p,role:"gridcell"},x=c.focusTarget&&pa(c.focusTarget,n)&&!l.outside,v=c.focusedDay&&pa(c.focusedDay,n),y=un(un(un({},b),(s={disabled:l.disabled,role:"gridcell"},s["aria-selected"]=l.selected,s.tabIndex=v||x?0:-1,s)),d),S={isButton:f,isHidden:A,activeModifiers:l,selectedDays:u,buttonProps:y,divProps:b};return S}function Bhe(n){var t=k.useRef(null),e=_he(n.date,n.displayMonth,t);return e.isHidden?r.jsx("div",{role:"gridcell"}):e.isButton?r.jsx(b0,un({name:"day",ref:t},e.buttonProps)):r.jsx("div",un({},e.divProps))}function Ehe(n){var t=n.number,e=n.dates,s=vr(),a=s.onWeekNumberClick,i=s.styles,o=s.classNames,c=s.locale,l=s.labels.labelWeekNumber,d=s.formatters.formatWeekNumber,u=d(Number(t),{locale:c});if(!a)return r.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:u});var f=l(Number(t),{locale:c}),h=function(m){a(t,e,m)};return r.jsx(b0,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:h,children:u})}function Mhe(n){var t,e,s=vr(),a=s.styles,i=s.classNames,o=s.showWeekNumber,c=s.components,l=(t=c==null?void 0:c.Day)!==null&&t!==void 0?t:Bhe,d=(e=c==null?void 0:c.WeekNumber)!==null&&e!==void 0?e:Ehe,u;return o&&(u=r.jsx("td",{className:i.cell,style:a.cell,children:r.jsx(d,{number:n.weekNumber,dates:n.dates})})),r.jsxs("tr",{className:i.row,style:a.row,children:[u,n.dates.map(function(f){return r.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:r.jsx(l,{displayMonth:n.displayMonth,date:f})},lue(f))})]})}function bT(n,t,e){for(var s=e!=null&&e.ISOWeek?xO(t):NC(t,e),a=e!=null&&e.ISOWeek?bd(n):oo(n,e),i=Gi(s,a),o=[],c=0;c<=i;c++)o.push(qs(a,c));var l=o.reduce(function(d,u){var f=e!=null&&e.ISOWeek?vO(u):wO(u,e),h=d.find(function(m){return m.weekNumber===f});return h?(h.dates.push(u),d):(d.push({weekNumber:f,dates:[u]}),d)},[]);return l}function Phe(n,t){var e=bT(ya(n),CC(n),t);if(t!=null&&t.useFixedWeeks){var s=due(n,t);if(s<6){var a=e[e.length-1],i=a.dates[a.dates.length-1],o=T1(i,6-s),c=bT(T1(i,1),o,t);e.push.apply(e,c)}}return e}function Dhe(n){var t,e,s,a=vr(),i=a.locale,o=a.classNames,c=a.styles,l=a.hideHead,d=a.fixedWeeks,u=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,m=a.ISOWeek,A=Phe(n.displayMonth,{useFixedWeeks:!!d,ISOWeek:m,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),g=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:Wue,p=(e=u==null?void 0:u.Row)!==null&&e!==void 0?e:Mhe,b=(s=u==null?void 0:u.Footer)!==null&&s!==void 0?s:Kue;return r.jsxs("table",{id:n.id,className:o.table,style:c.table,role:"grid","aria-labelledby":n["aria-labelledby"],children:[!l&&r.jsx(g,{}),r.jsx("tbody",{className:o.tbody,style:c.tbody,children:A.map(function(x){return r.jsx(p,{displayMonth:n.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),r.jsx(b,{displayMonth:n.displayMonth})]})}function Ihe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Ohe=Ihe()?k.useLayoutEffect:k.useEffect,qv=!1,Lhe=0;function vT(){return"react-day-picker-".concat(++Lhe)}function Fhe(n){var t,e=n??(qv?vT():null),s=k.useState(e),a=s[0],i=s[1];return Ohe(function(){a===null&&i(vT())},[]),k.useEffect(function(){qv===!1&&(qv=!0)},[]),(t=n??a)!==null&&t!==void 0?t:void 0}function Rhe(n){var t,e,s=vr(),a=s.dir,i=s.classNames,o=s.styles,c=s.components,l=gp().displayMonths,d=Fhe(s.id?"".concat(s.id,"-").concat(n.displayIndex):void 0),u=s.id?"".concat(s.id,"-grid-").concat(n.displayIndex):void 0,f=[i.month],h=o.month,m=n.displayIndex===0,A=n.displayIndex===l.length-1,g=!m&&!A;a==="rtl"&&(t=[m,A],A=t[0],m=t[1]),m&&(f.push(i.caption_start),h=un(un({},h),o.caption_start)),A&&(f.push(i.caption_end),h=un(un({},h),o.caption_end)),g&&(f.push(i.caption_between),h=un(un({},h),o.caption_between));var p=(e=c==null?void 0:c.Caption)!==null&&e!==void 0?e:zue;return r.jsxs("div",{className:f.join(" "),style:h,children:[r.jsx(p,{id:d,displayMonth:n.displayMonth,displayIndex:n.displayIndex}),r.jsx(Dhe,{id:u,"aria-labelledby":d,displayMonth:n.displayMonth})]},n.displayIndex)}function Uhe(n){var t=vr(),e=t.classNames,s=t.styles;return r.jsx("div",{className:e.months,style:s.months,children:n.children})}function Hhe(n){var t,e,s=n.initialProps,a=vr(),i=MC(),o=gp(),c=k.useState(!1),l=c[0],d=c[1];k.useEffect(function(){a.initialFocus&&i.focusTarget&&(l||(i.focus(i.focusTarget),d(!0)))},[a.initialFocus,l,i.focus,i.focusTarget,i]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var f=un(un({},a.styles.root),a.style),h=Object.keys(s).filter(function(A){return A.startsWith("data-")}).reduce(function(A,g){var p;return un(un({},A),(p={},p[g]=s[g],p))},{}),m=(e=(t=s.components)===null||t===void 0?void 0:t.Months)!==null&&e!==void 0?e:Uhe;return r.jsx("div",un({className:u.join(" "),style:f,dir:a.dir,id:a.id,nonce:s.nonce,title:s.title,lang:s.lang},h,{children:r.jsx(m,{children:o.displayMonths.map(function(A,g){return r.jsx(Rhe,{displayIndex:g,displayMonth:A},g)})})}))}function $he(n){var t=n.children,e=hue(n,["children"]);return r.jsx(Eue,{initialProps:e,children:r.jsx(Hue,{children:r.jsx(whe,{initialProps:e,children:r.jsx(Yue,{initialProps:e,children:r.jsx(ehe,{initialProps:e,children:r.jsx(lhe,{children:r.jsx(vhe,{children:t})})})})})})})}function Qhe(n){return r.jsx($he,un({},n,{children:r.jsx(Hhe,{initialProps:n})}))}function IO({className:n,classNames:t,showOutsideDays:e=!0,...s}){return r.jsx(Qhe,{showOutsideDays:e,className:Ue("p-3",n),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ue(xw({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ue(xw({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>r.jsx(zr,{className:"h-4 w-4"}),IconRight:({...a})=>r.jsx(xr,{className:"h-4 w-4"})},...s})}IO.displayName="Calendar";var mb="Popover",[OO,WBe]=ks(mb,[lc]),xp=lc(),[Vhe,xc]=OO(mb),LO=n=>{const{__scopePopover:t,children:e,open:s,defaultOpen:a,onOpenChange:i,modal:o=!1}=n,c=xp(t),l=k.useRef(null),[d,u]=k.useState(!1),[f,h]=wa({prop:s,defaultProp:a??!1,onChange:i,caller:mb});return r.jsx(cx,{...c,children:r.jsx(Vhe,{scope:t,contentId:ga(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:k.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:d,onCustomAnchorAdd:k.useCallback(()=>u(!0),[]),onCustomAnchorRemove:k.useCallback(()=>u(!1),[]),modal:o,children:e})})};LO.displayName=mb;var FO="PopoverAnchor",zhe=k.forwardRef((n,t)=>{const{__scopePopover:e,...s}=n,a=xc(FO,e),i=xp(e),{onCustomAnchorAdd:o,onCustomAnchorRemove:c}=a;return k.useEffect(()=>(o(),()=>c()),[o,c]),r.jsx(Qm,{...i,...s,ref:t})});zhe.displayName=FO;var RO="PopoverTrigger",UO=k.forwardRef((n,t)=>{const{__scopePopover:e,...s}=n,a=xc(RO,e),i=xp(e),o=cn(t,a.triggerRef),c=r.jsx(Nt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":zO(a.open),...s,ref:o,onClick:tt(n.onClick,a.onOpenToggle)});return a.hasCustomAnchor?c:r.jsx(Qm,{asChild:!0,...i,children:c})});UO.displayName=RO;var DC="PopoverPortal",[Khe,Ghe]=OO(DC,{forceMount:void 0}),HO=n=>{const{__scopePopover:t,forceMount:e,children:s,container:a}=n,i=xc(DC,t);return r.jsx(Khe,{scope:t,forceMount:e,children:r.jsx(hs,{present:e||i.open,children:r.jsx(Zu,{asChild:!0,container:a,children:s})})})};HO.displayName=DC;var zu="PopoverContent",$O=k.forwardRef((n,t)=>{const e=Ghe(zu,n.__scopePopover),{forceMount:s=e.forceMount,...a}=n,i=xc(zu,n.__scopePopover);return r.jsx(hs,{present:s||i.open,children:i.modal?r.jsx(Whe,{...a,ref:t}):r.jsx(Xhe,{...a,ref:t})})});$O.displayName=zu;var qhe=Xl("PopoverContent.RemoveScroll"),Whe=k.forwardRef((n,t)=>{const e=xc(zu,n.__scopePopover),s=k.useRef(null),a=cn(t,s),i=k.useRef(!1);return k.useEffect(()=>{const o=s.current;if(o)return vx(o)},[]),r.jsx(zm,{as:qhe,allowPinchZoom:!0,children:r.jsx(QO,{...n,ref:a,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:tt(n.onCloseAutoFocus,o=>{var c;o.preventDefault(),i.current||(c=e.triggerRef.current)==null||c.focus()}),onPointerDownOutside:tt(n.onPointerDownOutside,o=>{const c=o.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0,d=c.button===2||l;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:tt(n.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Xhe=k.forwardRef((n,t)=>{const e=xc(zu,n.__scopePopover),s=k.useRef(!1),a=k.useRef(!1);return r.jsx(QO,{...n,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,c;(o=n.onCloseAutoFocus)==null||o.call(n,i),i.defaultPrevented||(s.current||(c=e.triggerRef.current)==null||c.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var l,d;(l=n.onInteractOutside)==null||l.call(n,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=e.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),QO=k.forwardRef((n,t)=>{const{__scopePopover:e,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:l,onFocusOutside:d,onInteractOutside:u,...f}=n,h=xc(zu,e),m=xp(e);return xx(),r.jsx(Vm,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:r.jsx(ic,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:c,onPointerDownOutside:l,onFocusOutside:d,onDismiss:()=>h.onOpenChange(!1),children:r.jsx(dx,{"data-state":zO(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),VO="PopoverClose",Yhe=k.forwardRef((n,t)=>{const{__scopePopover:e,...s}=n,a=xc(VO,e);return r.jsx(Nt.button,{type:"button",...s,ref:t,onClick:tt(n.onClick,()=>a.onOpenChange(!1))})});Yhe.displayName=VO;var Jhe="PopoverArrow",Zhe=k.forwardRef((n,t)=>{const{__scopePopover:e,...s}=n,a=xp(e);return r.jsx(ux,{...a,...s,ref:t})});Zhe.displayName=Jhe;function zO(n){return n?"open":"closed"}var efe=LO,tfe=UO,nfe=HO,KO=$O;const rfe=efe,sfe=tfe,GO=k.forwardRef(({className:n,align:t="center",sideOffset:e=4,...s},a)=>r.jsx(nfe,{children:r.jsx(KO,{ref:a,align:t,sideOffset:e,className:Ue("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...s})}));GO.displayName=KO.displayName;var qO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},yT=Ne.createContext&&Ne.createContext(qO),afe=["attr","size","title"];function ife(n,t){if(n==null)return{};var e=ofe(n,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(e[s]=n[s])}return e}function ofe(n,t){if(n==null)return{};var e={};for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){if(t.indexOf(s)>=0)continue;e[s]=n[s]}return e}function v0(){return v0=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},v0.apply(this,arguments)}function wT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,s)}return e}function y0(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(e),!0).forEach(function(s){lfe(n,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):wT(Object(e)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(e,s))})}return n}function lfe(n,t,e){return t=cfe(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function cfe(n){var t=dfe(n,"string");return typeof t=="symbol"?t:t+""}function dfe(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var s=e.call(n,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function WO(n){return n&&n.map((t,e)=>Ne.createElement(t.tag,y0({key:e},t.attr),WO(t.child)))}function ms(n){return t=>Ne.createElement(ufe,v0({attr:y0({},n.attr)},t),WO(n.child))}function ufe(n){var t=e=>{var{attr:s,size:a,title:i}=n,o=ife(n,afe),c=a||e.size||"1em",l;return e.className&&(l=e.className),n.className&&(l=(l?l+" ":"")+n.className),Ne.createElement("svg",v0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,s,o,{className:l,style:y0(y0({color:n.color||e.color},e.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&Ne.createElement("title",null,i),n.children)};return yT!==void 0?Ne.createElement(yT.Consumer,null,e=>t(e)):t(qO)}function w0(n){return ms({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(n)}function XO(n){return ms({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 448h-80V113.45C544 86.19 522.47 64 496 64H384v64h96v384h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM312.24 1.01l-192 49.74C105.99 54.44 96 67.7 96 82.92V448H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h336V33.18c0-21.58-19.56-37.41-39.76-32.17zM264 288c-13.25 0-24-14.33-24-32s10.75-32 24-32 24 14.33 24 32-10.75 32-24 32z"},child:[]}]})(n)}function Da(n){return ms({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function _1(n){return ms({attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"},child:[]}]})(n)}function Ra(n){return ms({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(n)}function hfe(n){return ms({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(n)}function Wv(n){return ms({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(n)}function Am(n){return ms({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function B1(n){return ms({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function Ja(n){return ms({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(n)}function vd(n){return ms({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function Ku(n){return ms({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(n)}function yd(n){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yd(n)}function ffe(n,t){if(yd(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var s=e.call(n,t);if(yd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function YO(n){var t=ffe(n,"string");return yd(t)=="symbol"?t:t+""}function pf(n,t,e){return(t=YO(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function jT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,s)}return e}function nn(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(e),!0).forEach(function(s){pf(n,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):jT(Object(e)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(e,s))})}return n}function mfe(n){if(Array.isArray(n))return n}function pfe(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var s,a,i,o,c=[],l=!0,d=!1;try{if(i=(e=e.call(n)).next,t===0){if(Object(e)!==e)return;l=!1}else for(;!(l=(s=i.call(e)).done)&&(c.push(s.value),c.length!==t);l=!0);}catch(u){d=!0,a=u}finally{try{if(!l&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(d)throw a}}return c}}function E1(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,s=Array(t);e<t;e++)s[e]=n[e];return s}function JO(n,t){if(n){if(typeof n=="string")return E1(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?E1(n,t):void 0}}function Afe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vo(n,t){return mfe(n)||pfe(n,t)||JO(n,t)||Afe()}function gfe(n,t){if(n==null)return{};var e={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(t.indexOf(s)!==-1)continue;e[s]=n[s]}return e}function al(n,t){if(n==null)return{};var e,s,a=gfe(n,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(s=0;s<i.length;s++)e=i[s],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(a[e]=n[e])}return a}var xfe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function bfe(n){var t=n.defaultInputValue,e=t===void 0?"":t,s=n.defaultMenuIsOpen,a=s===void 0?!1:s,i=n.defaultValue,o=i===void 0?null:i,c=n.inputValue,l=n.menuIsOpen,d=n.onChange,u=n.onInputChange,f=n.onMenuClose,h=n.onMenuOpen,m=n.value,A=al(n,xfe),g=k.useState(c!==void 0?c:e),p=Vo(g,2),b=p[0],x=p[1],v=k.useState(l!==void 0?l:a),y=Vo(v,2),S=y[0],M=y[1],P=k.useState(m!==void 0?m:o),B=Vo(P,2),D=B[0],L=B[1],O=k.useCallback(function(j,N){typeof d=="function"&&d(j,N),L(j)},[d]),F=k.useCallback(function(j,N){var I;typeof u=="function"&&(I=u(j,N)),x(I!==void 0?I:j)},[u]),_=k.useCallback(function(){typeof h=="function"&&h(),M(!0)},[h]),E=k.useCallback(function(){typeof f=="function"&&f(),M(!1)},[f]),T=c!==void 0?c:b,w=l!==void 0?l:S,C=m!==void 0?m:D;return nn(nn({},A),{},{inputValue:T,menuIsOpen:w,onChange:O,onInputChange:F,onMenuClose:E,onMenuOpen:_,value:C})}function sn(){return sn=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)({}).hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},sn.apply(null,arguments)}function vfe(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function CT(n,t){for(var e=0;e<t.length;e++){var s=t[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,YO(s.key),s)}}function yfe(n,t,e){return t&&CT(n.prototype,t),e&&CT(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function M1(n,t){return M1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,s){return e.__proto__=s,e},M1(n,t)}function wfe(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&M1(n,t)}function j0(n){return j0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},j0(n)}function ZO(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZO=function(){return!!n})()}function jfe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Cfe(n,t){if(t&&(yd(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jfe(n)}function Nfe(n){var t=ZO();return function(){var e,s=j0(n);if(t){var a=j0(this).constructor;e=Reflect.construct(s,arguments,a)}else e=s.apply(this,arguments);return Cfe(this,e)}}function Sfe(n){if(Array.isArray(n))return E1(n)}function Tfe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function kfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IC(n){return Sfe(n)||Tfe(n)||JO(n)||kfe()}function _fe(n){if(n.sheet)return n.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===n)return document.styleSheets[t]}function Bfe(n){var t=document.createElement("style");return t.setAttribute("data-emotion",n.key),n.nonce!==void 0&&t.setAttribute("nonce",n.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Efe=function(){function n(e){var s=this;this._insertTag=function(a){var i;s.tags.length===0?s.insertionPoint?i=s.insertionPoint.nextSibling:s.prepend?i=s.container.firstChild:i=s.before:i=s.tags[s.tags.length-1].nextSibling,s.container.insertBefore(a,i),s.tags.push(a)},this.isSpeedy=e.speedy===void 0?!0:e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=n.prototype;return t.hydrate=function(s){s.forEach(this._insertTag)},t.insert=function(s){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Bfe(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var i=_fe(a);try{i.insertRule(s,i.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(s));this.ctr++},t.flush=function(){this.tags.forEach(function(s){var a;return(a=s.parentNode)==null?void 0:a.removeChild(s)}),this.tags=[],this.ctr=0},n}(),Ms="-ms-",C0="-moz-",Jn="-webkit-",e7="comm",OC="rule",LC="decl",Mfe="@import",t7="@keyframes",Pfe="@layer",Dfe=Math.abs,pb=String.fromCharCode,Ife=Object.assign;function Ofe(n,t){return Cs(n,0)^45?(((t<<2^Cs(n,0))<<2^Cs(n,1))<<2^Cs(n,2))<<2^Cs(n,3):0}function n7(n){return n.trim()}function Lfe(n,t){return(n=t.exec(n))?n[0]:n}function Zn(n,t,e){return n.replace(t,e)}function P1(n,t){return n.indexOf(t)}function Cs(n,t){return n.charCodeAt(t)|0}function gm(n,t,e){return n.slice(t,e)}function Ri(n){return n.length}function FC(n){return n.length}function Xp(n,t){return t.push(n),n}function Ffe(n,t){return n.map(t).join("")}var Ab=1,Gu=1,r7=0,Ca=0,ss=0,bh="";function gb(n,t,e,s,a,i,o){return{value:n,root:t,parent:e,type:s,props:a,children:i,line:Ab,column:Gu,length:o,return:""}}function Vh(n,t){return Ife(gb("",null,null,"",null,null,0),n,{length:-n.length},t)}function Rfe(){return ss}function Ufe(){return ss=Ca>0?Cs(bh,--Ca):0,Gu--,ss===10&&(Gu=1,Ab--),ss}function Ia(){return ss=Ca<r7?Cs(bh,Ca++):0,Gu++,ss===10&&(Gu=1,Ab++),ss}function to(){return Cs(bh,Ca)}function hg(){return Ca}function bp(n,t){return gm(bh,n,t)}function xm(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function s7(n){return Ab=Gu=1,r7=Ri(bh=n),Ca=0,[]}function a7(n){return bh="",n}function fg(n){return n7(bp(Ca-1,D1(n===91?n+2:n===40?n+1:n)))}function Hfe(n){for(;(ss=to())&&ss<33;)Ia();return xm(n)>2||xm(ss)>3?"":" "}function $fe(n,t){for(;--t&&Ia()&&!(ss<48||ss>102||ss>57&&ss<65||ss>70&&ss<97););return bp(n,hg()+(t<6&&to()==32&&Ia()==32))}function D1(n){for(;Ia();)switch(ss){case n:return Ca;case 34:case 39:n!==34&&n!==39&&D1(ss);break;case 40:n===41&&D1(n);break;case 92:Ia();break}return Ca}function Qfe(n,t){for(;Ia()&&n+ss!==57;)if(n+ss===84&&to()===47)break;return"/*"+bp(t,Ca-1)+"*"+pb(n===47?n:Ia())}function Vfe(n){for(;!xm(to());)Ia();return bp(n,Ca)}function zfe(n){return a7(mg("",null,null,null,[""],n=s7(n),0,[0],n))}function mg(n,t,e,s,a,i,o,c,l){for(var d=0,u=0,f=o,h=0,m=0,A=0,g=1,p=1,b=1,x=0,v="",y=a,S=i,M=s,P=v;p;)switch(A=x,x=Ia()){case 40:if(A!=108&&Cs(P,f-1)==58){P1(P+=Zn(fg(x),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:P+=fg(x);break;case 9:case 10:case 13:case 32:P+=Hfe(A);break;case 92:P+=$fe(hg()-1,7);continue;case 47:switch(to()){case 42:case 47:Xp(Kfe(Qfe(Ia(),hg()),t,e),l);break;default:P+="/"}break;case 123*g:c[d++]=Ri(P)*b;case 125*g:case 59:case 0:switch(x){case 0:case 125:p=0;case 59+u:b==-1&&(P=Zn(P,/\f/g,"")),m>0&&Ri(P)-f&&Xp(m>32?ST(P+";",s,e,f-1):ST(Zn(P," ","")+";",s,e,f-2),l);break;case 59:P+=";";default:if(Xp(M=NT(P,t,e,d,u,a,c,v,y=[],S=[],f),i),x===123)if(u===0)mg(P,t,M,M,y,i,f,c,S);else switch(h===99&&Cs(P,3)===110?100:h){case 100:case 108:case 109:case 115:mg(n,M,M,s&&Xp(NT(n,M,M,0,0,a,c,v,a,y=[],f),S),a,S,f,c,s?y:S);break;default:mg(P,M,M,M,[""],S,0,c,S)}}d=u=m=0,g=b=1,v=P="",f=o;break;case 58:f=1+Ri(P),m=A;default:if(g<1){if(x==123)--g;else if(x==125&&g++==0&&Ufe()==125)continue}switch(P+=pb(x),x*g){case 38:b=u>0?1:(P+="\f",-1);break;case 44:c[d++]=(Ri(P)-1)*b,b=1;break;case 64:to()===45&&(P+=fg(Ia())),h=to(),u=f=Ri(v=P+=Vfe(hg())),x++;break;case 45:A===45&&Ri(P)==2&&(g=0)}}return i}function NT(n,t,e,s,a,i,o,c,l,d,u){for(var f=a-1,h=a===0?i:[""],m=FC(h),A=0,g=0,p=0;A<s;++A)for(var b=0,x=gm(n,f+1,f=Dfe(g=o[A])),v=n;b<m;++b)(v=n7(g>0?h[b]+" "+x:Zn(x,/&\f/g,h[b])))&&(l[p++]=v);return gb(n,t,e,a===0?OC:c,l,d,u)}function Kfe(n,t,e){return gb(n,t,e,e7,pb(Rfe()),gm(n,2,-2),0)}function ST(n,t,e,s){return gb(n,t,e,LC,gm(n,0,s),gm(n,s+1,-1),s)}function bu(n,t){for(var e="",s=FC(n),a=0;a<s;a++)e+=t(n[a],a,n,t)||"";return e}function Gfe(n,t,e,s){switch(n.type){case Pfe:if(n.children.length)break;case Mfe:case LC:return n.return=n.return||n.value;case e7:return"";case t7:return n.return=n.value+"{"+bu(n.children,s)+"}";case OC:n.value=n.props.join(",")}return Ri(e=bu(n.children,s))?n.return=n.value+"{"+e+"}":""}function qfe(n){var t=FC(n);return function(e,s,a,i){for(var o="",c=0;c<t;c++)o+=n[c](e,s,a,i)||"";return o}}function Wfe(n){return function(t){t.root||(t=t.return)&&n(t)}}function Xfe(n){var t=Object.create(null);return function(e){return t[e]===void 0&&(t[e]=n(e)),t[e]}}var Yfe=function(t,e,s){for(var a=0,i=0;a=i,i=to(),a===38&&i===12&&(e[s]=1),!xm(i);)Ia();return bp(t,Ca)},Jfe=function(t,e){var s=-1,a=44;do switch(xm(a)){case 0:a===38&&to()===12&&(e[s]=1),t[s]+=Yfe(Ca-1,e,s);break;case 2:t[s]+=fg(a);break;case 4:if(a===44){t[++s]=to()===58?"&\f":"",e[s]=t[s].length;break}default:t[s]+=pb(a)}while(a=Ia());return t},Zfe=function(t,e){return a7(Jfe(s7(t),e))},TT=new WeakMap,eme=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var e=t.value,s=t.parent,a=t.column===s.column&&t.line===s.line;s.type!=="rule";)if(s=s.parent,!s)return;if(!(t.props.length===1&&e.charCodeAt(0)!==58&&!TT.get(s))&&!a){TT.set(t,!0);for(var i=[],o=Zfe(e,i),c=s.props,l=0,d=0;l<o.length;l++)for(var u=0;u<c.length;u++,d++)t.props[d]=i[l]?o[l].replace(/&\f/g,c[u]):c[u]+" "+o[l]}}},tme=function(t){if(t.type==="decl"){var e=t.value;e.charCodeAt(0)===108&&e.charCodeAt(2)===98&&(t.return="",t.value="")}};function i7(n,t){switch(Ofe(n,t)){case 5103:return Jn+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Jn+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Jn+n+C0+n+Ms+n+n;case 6828:case 4268:return Jn+n+Ms+n+n;case 6165:return Jn+n+Ms+"flex-"+n+n;case 5187:return Jn+n+Zn(n,/(\w+).+(:[^]+)/,Jn+"box-$1$2"+Ms+"flex-$1$2")+n;case 5443:return Jn+n+Ms+"flex-item-"+Zn(n,/flex-|-self/,"")+n;case 4675:return Jn+n+Ms+"flex-line-pack"+Zn(n,/align-content|flex-|-self/,"")+n;case 5548:return Jn+n+Ms+Zn(n,"shrink","negative")+n;case 5292:return Jn+n+Ms+Zn(n,"basis","preferred-size")+n;case 6060:return Jn+"box-"+Zn(n,"-grow","")+Jn+n+Ms+Zn(n,"grow","positive")+n;case 4554:return Jn+Zn(n,/([^-])(transform)/g,"$1"+Jn+"$2")+n;case 6187:return Zn(Zn(Zn(n,/(zoom-|grab)/,Jn+"$1"),/(image-set)/,Jn+"$1"),n,"")+n;case 5495:case 3959:return Zn(n,/(image-set\([^]*)/,Jn+"$1$`$1");case 4968:return Zn(Zn(n,/(.+:)(flex-)?(.*)/,Jn+"box-pack:$3"+Ms+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Jn+n+n;case 4095:case 3583:case 4068:case 2532:return Zn(n,/(.+)-inline(.+)/,Jn+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ri(n)-1-t>6)switch(Cs(n,t+1)){case 109:if(Cs(n,t+4)!==45)break;case 102:return Zn(n,/(.+:)(.+)-([^]+)/,"$1"+Jn+"$2-$3$1"+C0+(Cs(n,t+3)==108?"$3":"$2-$3"))+n;case 115:return~P1(n,"stretch")?i7(Zn(n,"stretch","fill-available"),t)+n:n}break;case 4949:if(Cs(n,t+1)!==115)break;case 6444:switch(Cs(n,Ri(n)-3-(~P1(n,"!important")&&10))){case 107:return Zn(n,":",":"+Jn)+n;case 101:return Zn(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Jn+(Cs(n,14)===45?"inline-":"")+"box$3$1"+Jn+"$2$3$1"+Ms+"$2box$3")+n}break;case 5936:switch(Cs(n,t+11)){case 114:return Jn+n+Ms+Zn(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Jn+n+Ms+Zn(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Jn+n+Ms+Zn(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Jn+n+Ms+n+n}return n}var nme=function(t,e,s,a){if(t.length>-1&&!t.return)switch(t.type){case LC:t.return=i7(t.value,t.length);break;case t7:return bu([Vh(t,{value:Zn(t.value,"@","@"+Jn)})],a);case OC:if(t.length)return Ffe(t.props,function(i){switch(Lfe(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return bu([Vh(t,{props:[Zn(i,/:(read-\w+)/,":"+C0+"$1")]})],a);case"::placeholder":return bu([Vh(t,{props:[Zn(i,/:(plac\w+)/,":"+Jn+"input-$1")]}),Vh(t,{props:[Zn(i,/:(plac\w+)/,":"+C0+"$1")]}),Vh(t,{props:[Zn(i,/:(plac\w+)/,Ms+"input-$1")]})],a)}return""})}},rme=[nme],sme=function(t){var e=t.key;if(e==="css"){var s=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(s,function(g){var p=g.getAttribute("data-emotion");p.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var a=t.stylisPlugins||rme,i={},o,c=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),function(g){for(var p=g.getAttribute("data-emotion").split(" "),b=1;b<p.length;b++)i[p[b]]=!0;c.push(g)});var l,d=[eme,tme];{var u,f=[Gfe,Wfe(function(g){u.insert(g)})],h=qfe(d.concat(a,f)),m=function(p){return bu(zfe(p),h)};l=function(p,b,x,v){u=x,m(p?p+"{"+b.styles+"}":b.styles),v&&(A.inserted[b.name]=!0)}}var A={key:e,sheet:new Efe({key:e,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:l};return A.sheet.hydrate(c),A},ame=!0;function ime(n,t,e){var s="";return e.split(" ").forEach(function(a){n[a]!==void 0?t.push(n[a]+";"):a&&(s+=a+" ")}),s}var o7=function(t,e,s){var a=t.key+"-"+e.name;(s===!1||ame===!1)&&t.registered[a]===void 0&&(t.registered[a]=e.styles)},ome=function(t,e,s){o7(t,e,s);var a=t.key+"-"+e.name;if(t.inserted[e.name]===void 0){var i=e;do t.insert(e===i?"."+a:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function lme(n){for(var t=0,e,s=0,a=n.length;a>=4;++s,a-=4)e=n.charCodeAt(s)&255|(n.charCodeAt(++s)&255)<<8|(n.charCodeAt(++s)&255)<<16|(n.charCodeAt(++s)&255)<<24,e=(e&65535)*1540483477+((e>>>16)*59797<<16),e^=e>>>24,t=(e&65535)*1540483477+((e>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(a){case 3:t^=(n.charCodeAt(s+2)&255)<<16;case 2:t^=(n.charCodeAt(s+1)&255)<<8;case 1:t^=n.charCodeAt(s)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var cme={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},dme=/[A-Z]|^ms/g,ume=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l7=function(t){return t.charCodeAt(1)===45},kT=function(t){return t!=null&&typeof t!="boolean"},Xv=Xfe(function(n){return l7(n)?n:n.replace(dme,"-$&").toLowerCase()}),_T=function(t,e){switch(t){case"animation":case"animationName":if(typeof e=="string")return e.replace(ume,function(s,a,i){return Ui={name:a,styles:i,next:Ui},a})}return cme[t]!==1&&!l7(t)&&typeof e=="number"&&e!==0?e+"px":e};function bm(n,t,e){if(e==null)return"";var s=e;if(s.__emotion_styles!==void 0)return s;switch(typeof e){case"boolean":return"";case"object":{var a=e;if(a.anim===1)return Ui={name:a.name,styles:a.styles,next:Ui},a.name;var i=e;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)Ui={name:o.name,styles:o.styles,next:Ui},o=o.next;var c=i.styles+";";return c}return hme(n,t,e)}case"function":{if(n!==void 0){var l=Ui,d=e(n);return Ui=l,bm(n,t,d)}break}}var u=e;return u}function hme(n,t,e){var s="";if(Array.isArray(e))for(var a=0;a<e.length;a++)s+=bm(n,t,e[a])+";";else for(var i in e){var o=e[i];if(typeof o!="object"){var c=o;kT(c)&&(s+=Xv(i)+":"+_T(i,c)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&t==null)for(var l=0;l<o.length;l++)kT(o[l])&&(s+=Xv(i)+":"+_T(i,o[l])+";");else{var d=bm(n,t,o);switch(i){case"animation":case"animationName":{s+=Xv(i)+":"+d+";";break}default:s+=i+"{"+d+"}"}}}return s}var BT=/label:\s*([^\s;{]+)\s*(;|$)/g,Ui;function c7(n,t,e){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var s=!0,a="";Ui=void 0;var i=n[0];if(i==null||i.raw===void 0)s=!1,a+=bm(e,t,i);else{var o=i;a+=o[0]}for(var c=1;c<n.length;c++)if(a+=bm(e,t,n[c]),s){var l=i;a+=l[c]}BT.lastIndex=0;for(var d="",u;(u=BT.exec(a))!==null;)d+="-"+u[1];var f=lme(a)+d;return{name:f,styles:a,next:Ui}}var fme=function(t){return t()},mme=Gf.useInsertionEffect?Gf.useInsertionEffect:!1,pme=mme||fme,d7=k.createContext(typeof HTMLElement<"u"?sme({key:"css"}):null);d7.Provider;var Ame=function(t){return k.forwardRef(function(e,s){var a=k.useContext(d7);return t(e,a,s)})},gme=k.createContext({}),RC={}.hasOwnProperty,I1="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",xme=function(t,e){var s={};for(var a in e)RC.call(e,a)&&(s[a]=e[a]);return s[I1]=t,s},bme=function(t){var e=t.cache,s=t.serialized,a=t.isStringTag;return o7(e,s,a),pme(function(){return ome(e,s,a)}),null},vme=Ame(function(n,t,e){var s=n.css;typeof s=="string"&&t.registered[s]!==void 0&&(s=t.registered[s]);var a=n[I1],i=[s],o="";typeof n.className=="string"?o=ime(t.registered,i,n.className):n.className!=null&&(o=n.className+" ");var c=c7(i,void 0,k.useContext(gme));o+=t.key+"-"+c.name;var l={};for(var d in n)RC.call(n,d)&&d!=="css"&&d!==I1&&(l[d]=n[d]);return l.className=o,e&&(l.ref=e),k.createElement(k.Fragment,null,k.createElement(bme,{cache:t,serialized:c,isStringTag:typeof a=="string"}),k.createElement(a,l))}),yme=vme,Xt=function(t,e){var s=arguments;if(e==null||!RC.call(e,"css"))return k.createElement.apply(void 0,s);var a=s.length,i=new Array(a);i[0]=yme,i[1]=xme(t,e);for(var o=2;o<a;o++)i[o]=s[o];return k.createElement.apply(null,i)};(function(n){var t;t||(t=n.JSX||(n.JSX={}))})(Xt||(Xt={}));function UC(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return c7(t)}function wme(){var n=UC.apply(void 0,arguments),t="animation-"+n.name;return{name:t,styles:"@keyframes "+t+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function jme(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}var O1=k.useLayoutEffect,Cme=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],N0=function(){};function Nme(n,t){return t?t[0]==="-"?n+t:n+"__"+t:n}function Sme(n,t){for(var e=arguments.length,s=new Array(e>2?e-2:0),a=2;a<e;a++)s[a-2]=arguments[a];var i=[].concat(s);if(t&&n)for(var o in t)t.hasOwnProperty(o)&&t[o]&&i.push("".concat(Nme(n,o)));return i.filter(function(c){return c}).map(function(c){return String(c).trim()}).join(" ")}var ET=function(t){return Ime(t)?t.filter(Boolean):yd(t)==="object"&&t!==null?[t]:[]},u7=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var e=al(t,Cme);return nn({},e)},Vr=function(t,e,s){var a=t.cx,i=t.getStyles,o=t.getClassNames,c=t.className;return{css:i(e,t),className:a(s??{},o(e,t),c)}};function xb(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function Tme(n){return xb(n)?window.innerHeight:n.clientHeight}function h7(n){return xb(n)?window.pageYOffset:n.scrollTop}function S0(n,t){if(xb(n)){window.scrollTo(0,t);return}n.scrollTop=t}function kme(n){var t=getComputedStyle(n),e=t.position==="absolute",s=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var a=n;a=a.parentElement;)if(t=getComputedStyle(a),!(e&&t.position==="static")&&s.test(t.overflow+t.overflowY+t.overflowX))return a;return document.documentElement}function _me(n,t,e,s){return e*((n=n/s-1)*n*n+1)+t}function Yp(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:N0,a=h7(n),i=t-a,o=10,c=0;function l(){c+=o;var d=_me(c,a,i,e);S0(n,d),c<e?window.requestAnimationFrame(l):s(n)}l()}function MT(n,t){var e=n.getBoundingClientRect(),s=t.getBoundingClientRect(),a=t.offsetHeight/3;s.bottom+a>e.bottom?S0(n,Math.min(t.offsetTop+t.clientHeight-n.offsetHeight+a,n.scrollHeight)):s.top-a<e.top&&S0(n,Math.max(t.offsetTop-a,0))}function Bme(n){var t=n.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function PT(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Eme(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var f7=!1,Mme={get passive(){return f7=!0}},Jp=typeof window<"u"?window:{};Jp.addEventListener&&Jp.removeEventListener&&(Jp.addEventListener("p",N0,Mme),Jp.removeEventListener("p",N0,!1));var Pme=f7;function Dme(n){return n!=null}function Ime(n){return Array.isArray(n)}function Zp(n,t,e){return n?t:e}var Ome=function(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),a=1;a<e;a++)s[a-1]=arguments[a];var i=Object.entries(t).filter(function(o){var c=Vo(o,1),l=c[0];return!s.includes(l)});return i.reduce(function(o,c){var l=Vo(c,2),d=l[0],u=l[1];return o[d]=u,o},{})},Lme=["children","innerProps"],Fme=["children","innerProps"];function Rme(n){var t=n.maxHeight,e=n.menuEl,s=n.minHeight,a=n.placement,i=n.shouldScroll,o=n.isFixedPosition,c=n.controlHeight,l=kme(e),d={placement:"bottom",maxHeight:t};if(!e||!e.offsetParent)return d;var u=l.getBoundingClientRect(),f=u.height,h=e.getBoundingClientRect(),m=h.bottom,A=h.height,g=h.top,p=e.offsetParent.getBoundingClientRect(),b=p.top,x=o?window.innerHeight:Tme(l),v=h7(l),y=parseInt(getComputedStyle(e).marginBottom,10),S=parseInt(getComputedStyle(e).marginTop,10),M=b-S,P=x-g,B=M+v,D=f-v-g,L=m-x+v+y,O=v+g-S,F=160;switch(a){case"auto":case"bottom":if(P>=A)return{placement:"bottom",maxHeight:t};if(D>=A&&!o)return i&&Yp(l,L,F),{placement:"bottom",maxHeight:t};if(!o&&D>=s||o&&P>=s){i&&Yp(l,L,F);var _=o?P-y:D-y;return{placement:"bottom",maxHeight:_}}if(a==="auto"||o){var E=t,T=o?M:B;return T>=s&&(E=Math.min(T-y-c,t)),{placement:"top",maxHeight:E}}if(a==="bottom")return i&&S0(l,L),{placement:"bottom",maxHeight:t};break;case"top":if(M>=A)return{placement:"top",maxHeight:t};if(B>=A&&!o)return i&&Yp(l,O,F),{placement:"top",maxHeight:t};if(!o&&B>=s||o&&M>=s){var w=t;return(!o&&B>=s||o&&M>=s)&&(w=o?M-S:B-S),i&&Yp(l,O,F),{placement:"top",maxHeight:w}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return d}function Ume(n){var t={bottom:"top",top:"bottom"};return n?t[n]:"bottom"}var m7=function(t){return t==="auto"?"bottom":t},Hme=function(t,e){var s,a=t.placement,i=t.theme,o=i.borderRadius,c=i.spacing,l=i.colors;return nn((s={label:"menu"},pf(s,Ume(a),"100%"),pf(s,"position","absolute"),pf(s,"width","100%"),pf(s,"zIndex",1),s),e?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:c.menuGutter,marginTop:c.menuGutter})},p7=k.createContext(null),$me=function(t){var e=t.children,s=t.minMenuHeight,a=t.maxMenuHeight,i=t.menuPlacement,o=t.menuPosition,c=t.menuShouldScrollIntoView,l=t.theme,d=k.useContext(p7)||{},u=d.setPortalPlacement,f=k.useRef(null),h=k.useState(a),m=Vo(h,2),A=m[0],g=m[1],p=k.useState(null),b=Vo(p,2),x=b[0],v=b[1],y=l.spacing.controlHeight;return O1(function(){var S=f.current;if(S){var M=o==="fixed",P=c&&!M,B=Rme({maxHeight:a,menuEl:S,minHeight:s,placement:i,shouldScroll:P,isFixedPosition:M,controlHeight:y});g(B.maxHeight),v(B.placement),u==null||u(B.placement)}},[a,i,o,c,s,u,y]),e({ref:f,placerProps:nn(nn({},t),{},{placement:x||m7(i),maxHeight:A})})},Qme=function(t){var e=t.children,s=t.innerRef,a=t.innerProps;return Xt("div",sn({},Vr(t,"menu",{menu:!0}),{ref:s},a),e)},Vme=Qme,zme=function(t,e){var s=t.maxHeight,a=t.theme.spacing.baseUnit;return nn({maxHeight:s,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},e?{}:{paddingBottom:a,paddingTop:a})},Kme=function(t){var e=t.children,s=t.innerProps,a=t.innerRef,i=t.isMulti;return Xt("div",sn({},Vr(t,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:a},s),e)},A7=function(t,e){var s=t.theme,a=s.spacing.baseUnit,i=s.colors;return nn({textAlign:"center"},e?{}:{color:i.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px")})},Gme=A7,qme=A7,Wme=function(t){var e=t.children,s=e===void 0?"No options":e,a=t.innerProps,i=al(t,Lme);return Xt("div",sn({},Vr(nn(nn({},i),{},{children:s,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),s)},Xme=function(t){var e=t.children,s=e===void 0?"Loading...":e,a=t.innerProps,i=al(t,Fme);return Xt("div",sn({},Vr(nn(nn({},i),{},{children:s,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),s)},Yme=function(t){var e=t.rect,s=t.offset,a=t.position;return{left:e.left,position:a,top:s,width:e.width,zIndex:1}},Jme=function(t){var e=t.appendTo,s=t.children,a=t.controlElement,i=t.innerProps,o=t.menuPlacement,c=t.menuPosition,l=k.useRef(null),d=k.useRef(null),u=k.useState(m7(o)),f=Vo(u,2),h=f[0],m=f[1],A=k.useMemo(function(){return{setPortalPlacement:m}},[]),g=k.useState(null),p=Vo(g,2),b=p[0],x=p[1],v=k.useCallback(function(){if(a){var P=Bme(a),B=c==="fixed"?0:window.pageYOffset,D=P[h]+B;(D!==(b==null?void 0:b.offset)||P.left!==(b==null?void 0:b.rect.left)||P.width!==(b==null?void 0:b.rect.width))&&x({offset:D,rect:P})}},[a,c,h,b==null?void 0:b.offset,b==null?void 0:b.rect.left,b==null?void 0:b.rect.width]);O1(function(){v()},[v]);var y=k.useCallback(function(){typeof d.current=="function"&&(d.current(),d.current=null),a&&l.current&&(d.current=Y6(a,l.current,v,{elementResize:"ResizeObserver"in window}))},[a,v]);O1(function(){y()},[y]);var S=k.useCallback(function(P){l.current=P,y()},[y]);if(!e&&c!=="fixed"||!b)return null;var M=Xt("div",sn({ref:S},Vr(nn(nn({},t),{},{offset:b.offset,position:c,rect:b.rect}),"menuPortal",{"menu-portal":!0}),i),s);return Xt(p7.Provider,{value:A},e?ro.createPortal(M,e):M)},Zme=function(t){var e=t.isDisabled,s=t.isRtl;return{label:"container",direction:s?"rtl":void 0,pointerEvents:e?"none":void 0,position:"relative"}},epe=function(t){var e=t.children,s=t.innerProps,a=t.isDisabled,i=t.isRtl;return Xt("div",sn({},Vr(t,"container",{"--is-disabled":a,"--is-rtl":i}),s),e)},tpe=function(t,e){var s=t.theme.spacing,a=t.isMulti,i=t.hasValue,o=t.selectProps.controlShouldRenderValue;return nn({alignItems:"center",display:a&&i&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},e?{}:{padding:"".concat(s.baseUnit/2,"px ").concat(s.baseUnit*2,"px")})},npe=function(t){var e=t.children,s=t.innerProps,a=t.isMulti,i=t.hasValue;return Xt("div",sn({},Vr(t,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":i}),s),e)},rpe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},spe=function(t){var e=t.children,s=t.innerProps;return Xt("div",sn({},Vr(t,"indicatorsContainer",{indicators:!0}),s),e)},DT,ape=["size"],ipe=["innerProps","isRtl","size"],ope={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},g7=function(t){var e=t.size,s=al(t,ape);return Xt("svg",sn({height:e,width:e,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:ope},s))},HC=function(t){return Xt(g7,sn({size:20},t),Xt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},x7=function(t){return Xt(g7,sn({size:20},t),Xt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},b7=function(t,e){var s=t.isFocused,a=t.theme,i=a.spacing.baseUnit,o=a.colors;return nn({label:"indicatorContainer",display:"flex",transition:"color 150ms"},e?{}:{color:s?o.neutral60:o.neutral20,padding:i*2,":hover":{color:s?o.neutral80:o.neutral40}})},lpe=b7,cpe=function(t){var e=t.children,s=t.innerProps;return Xt("div",sn({},Vr(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),s),e||Xt(x7,null))},dpe=b7,upe=function(t){var e=t.children,s=t.innerProps;return Xt("div",sn({},Vr(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),s),e||Xt(HC,null))},hpe=function(t,e){var s=t.isDisabled,a=t.theme,i=a.spacing.baseUnit,o=a.colors;return nn({label:"indicatorSeparator",alignSelf:"stretch",width:1},e?{}:{backgroundColor:s?o.neutral10:o.neutral20,marginBottom:i*2,marginTop:i*2})},fpe=function(t){var e=t.innerProps;return Xt("span",sn({},e,Vr(t,"indicatorSeparator",{"indicator-separator":!0})))},mpe=wme(DT||(DT=jme([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),ppe=function(t,e){var s=t.isFocused,a=t.size,i=t.theme,o=i.colors,c=i.spacing.baseUnit;return nn({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},e?{}:{color:s?o.neutral60:o.neutral20,padding:c*2})},Yv=function(t){var e=t.delay,s=t.offset;return Xt("span",{css:UC({animation:"".concat(mpe," 1s ease-in-out ").concat(e,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:s?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Ape=function(t){var e=t.innerProps,s=t.isRtl,a=t.size,i=a===void 0?4:a,o=al(t,ipe);return Xt("div",sn({},Vr(nn(nn({},o),{},{innerProps:e,isRtl:s,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),e),Xt(Yv,{delay:0,offset:s}),Xt(Yv,{delay:160,offset:!0}),Xt(Yv,{delay:320,offset:!s}))},gpe=function(t,e){var s=t.isDisabled,a=t.isFocused,i=t.theme,o=i.colors,c=i.borderRadius,l=i.spacing;return nn({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},e?{}:{backgroundColor:s?o.neutral5:o.neutral0,borderColor:s?o.neutral10:a?o.primary:o.neutral20,borderRadius:c,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:a?o.primary:o.neutral30}})},xpe=function(t){var e=t.children,s=t.isDisabled,a=t.isFocused,i=t.innerRef,o=t.innerProps,c=t.menuIsOpen;return Xt("div",sn({ref:i},Vr(t,"control",{control:!0,"control--is-disabled":s,"control--is-focused":a,"control--menu-is-open":c}),o,{"aria-disabled":s||void 0}),e)},bpe=xpe,vpe=["data"],ype=function(t,e){var s=t.theme.spacing;return e?{}:{paddingBottom:s.baseUnit*2,paddingTop:s.baseUnit*2}},wpe=function(t){var e=t.children,s=t.cx,a=t.getStyles,i=t.getClassNames,o=t.Heading,c=t.headingProps,l=t.innerProps,d=t.label,u=t.theme,f=t.selectProps;return Xt("div",sn({},Vr(t,"group",{group:!0}),l),Xt(o,sn({},c,{selectProps:f,theme:u,getStyles:a,getClassNames:i,cx:s}),d),Xt("div",null,e))},jpe=function(t,e){var s=t.theme,a=s.colors,i=s.spacing;return nn({label:"group",cursor:"default",display:"block"},e?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:i.baseUnit*3,paddingRight:i.baseUnit*3,textTransform:"uppercase"})},Cpe=function(t){var e=u7(t);e.data;var s=al(e,vpe);return Xt("div",sn({},Vr(t,"groupHeading",{"group-heading":!0}),s))},Npe=wpe,Spe=["innerRef","isDisabled","isHidden","inputClassName"],Tpe=function(t,e){var s=t.isDisabled,a=t.value,i=t.theme,o=i.spacing,c=i.colors;return nn(nn({visibility:s?"hidden":"visible",transform:a?"translateZ(0)":""},kpe),e?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:c.neutral80})},v7={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},kpe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":nn({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},v7)},_pe=function(t){return nn({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},v7)},Bpe=function(t){var e=t.cx,s=t.value,a=u7(t),i=a.innerRef,o=a.isDisabled,c=a.isHidden,l=a.inputClassName,d=al(a,Spe);return Xt("div",sn({},Vr(t,"input",{"input-container":!0}),{"data-value":s||""}),Xt("input",sn({className:e({input:!0},l),ref:i,style:_pe(c),disabled:o},d)))},Epe=Bpe,Mpe=function(t,e){var s=t.theme,a=s.spacing,i=s.borderRadius,o=s.colors;return nn({label:"multiValue",display:"flex",minWidth:0},e?{}:{backgroundColor:o.neutral10,borderRadius:i/2,margin:a.baseUnit/2})},Ppe=function(t,e){var s=t.theme,a=s.borderRadius,i=s.colors,o=t.cropWithEllipsis;return nn({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},e?{}:{borderRadius:a/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Dpe=function(t,e){var s=t.theme,a=s.spacing,i=s.borderRadius,o=s.colors,c=t.isFocused;return nn({alignItems:"center",display:"flex"},e?{}:{borderRadius:i/2,backgroundColor:c?o.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},y7=function(t){var e=t.children,s=t.innerProps;return Xt("div",s,e)},Ipe=y7,Ope=y7;function Lpe(n){var t=n.children,e=n.innerProps;return Xt("div",sn({role:"button"},e),t||Xt(HC,{size:14}))}var Fpe=function(t){var e=t.children,s=t.components,a=t.data,i=t.innerProps,o=t.isDisabled,c=t.removeProps,l=t.selectProps,d=s.Container,u=s.Label,f=s.Remove;return Xt(d,{data:a,innerProps:nn(nn({},Vr(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),i),selectProps:l},Xt(u,{data:a,innerProps:nn({},Vr(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},e),Xt(f,{data:a,innerProps:nn(nn({},Vr(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(e||"option")},c),selectProps:l}))},Rpe=Fpe,Upe=function(t,e){var s=t.isDisabled,a=t.isFocused,i=t.isSelected,o=t.theme,c=o.spacing,l=o.colors;return nn({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},e?{}:{backgroundColor:i?l.primary:a?l.primary25:"transparent",color:s?l.neutral20:i?l.neutral0:"inherit",padding:"".concat(c.baseUnit*2,"px ").concat(c.baseUnit*3,"px"),":active":{backgroundColor:s?void 0:i?l.primary:l.primary50}})},Hpe=function(t){var e=t.children,s=t.isDisabled,a=t.isFocused,i=t.isSelected,o=t.innerRef,c=t.innerProps;return Xt("div",sn({},Vr(t,"option",{option:!0,"option--is-disabled":s,"option--is-focused":a,"option--is-selected":i}),{ref:o,"aria-disabled":s},c),e)},$pe=Hpe,Qpe=function(t,e){var s=t.theme,a=s.spacing,i=s.colors;return nn({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},e?{}:{color:i.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},Vpe=function(t){var e=t.children,s=t.innerProps;return Xt("div",sn({},Vr(t,"placeholder",{placeholder:!0}),s),e)},zpe=Vpe,Kpe=function(t,e){var s=t.isDisabled,a=t.theme,i=a.spacing,o=a.colors;return nn({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e?{}:{color:s?o.neutral40:o.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},Gpe=function(t){var e=t.children,s=t.isDisabled,a=t.innerProps;return Xt("div",sn({},Vr(t,"singleValue",{"single-value":!0,"single-value--is-disabled":s}),a),e)},qpe=Gpe,Wpe={ClearIndicator:upe,Control:bpe,DropdownIndicator:cpe,DownChevron:x7,CrossIcon:HC,Group:Npe,GroupHeading:Cpe,IndicatorsContainer:spe,IndicatorSeparator:fpe,Input:Epe,LoadingIndicator:Ape,Menu:Vme,MenuList:Kme,MenuPortal:Jme,LoadingMessage:Xme,NoOptionsMessage:Wme,MultiValue:Rpe,MultiValueContainer:Ipe,MultiValueLabel:Ope,MultiValueRemove:Lpe,Option:$pe,Placeholder:zpe,SelectContainer:epe,SingleValue:qpe,ValueContainer:npe},Xpe=function(t){return nn(nn({},Wpe),t.components)},IT=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Ype(n,t){return!!(n===t||IT(n)&&IT(t))}function Jpe(n,t){if(n.length!==t.length)return!1;for(var e=0;e<n.length;e++)if(!Ype(n[e],t[e]))return!1;return!0}function Zpe(n,t){t===void 0&&(t=Jpe);var e=null;function s(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(e&&e.lastThis===this&&t(a,e.lastArgs))return e.lastResult;var o=n.apply(this,a);return e={lastResult:o,lastArgs:a,lastThis:this},o}return s.clear=function(){e=null},s}var eAe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},tAe=function(t){return Xt("span",sn({css:eAe},t))},OT=tAe,nAe={guidance:function(t){var e=t.isSearchable,s=t.isMulti,a=t.tabSelectsValue,i=t.context,o=t.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(t["aria-label"]||"Select"," is focused ").concat(e?",type to refine list":"",", press Down to open the menu, ").concat(s?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var e=t.action,s=t.label,a=s===void 0?"":s,i=t.labels,o=t.isDisabled;switch(e){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return o?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(t){var e=t.context,s=t.focused,a=t.options,i=t.label,o=i===void 0?"":i,c=t.selectValue,l=t.isDisabled,d=t.isSelected,u=t.isAppleDevice,f=function(g,p){return g&&g.length?"".concat(g.indexOf(p)+1," of ").concat(g.length):""};if(e==="value"&&c)return"value ".concat(o," focused, ").concat(f(c,s),".");if(e==="menu"&&u){var h=l?" disabled":"",m="".concat(d?" selected":"").concat(h);return"".concat(o).concat(m,", ").concat(f(a,s),".")}return""},onFilter:function(t){var e=t.inputValue,s=t.resultsMessage;return"".concat(s).concat(e?" for search term "+e:"",".")}},rAe=function(t){var e=t.ariaSelection,s=t.focusedOption,a=t.focusedValue,i=t.focusableOptions,o=t.isFocused,c=t.selectValue,l=t.selectProps,d=t.id,u=t.isAppleDevice,f=l.ariaLiveMessages,h=l.getOptionLabel,m=l.inputValue,A=l.isMulti,g=l.isOptionDisabled,p=l.isSearchable,b=l.menuIsOpen,x=l.options,v=l.screenReaderStatus,y=l.tabSelectsValue,S=l.isLoading,M=l["aria-label"],P=l["aria-live"],B=k.useMemo(function(){return nn(nn({},nAe),f||{})},[f]),D=k.useMemo(function(){var T="";if(e&&B.onChange){var w=e.option,C=e.options,j=e.removedValue,N=e.removedValues,I=e.value,R=function(H){return Array.isArray(H)?null:H},U=j||w||R(I),V=U?h(U):"",z=C||N||void 0,X=z?z.map(h):[],Q=nn({isDisabled:U&&g(U,c),label:V,labels:X},e);T=B.onChange(Q)}return T},[e,B,g,c,h]),L=k.useMemo(function(){var T="",w=s||a,C=!!(s&&c&&c.includes(s));if(w&&B.onFocus){var j={focused:w,label:h(w),isDisabled:g(w,c),isSelected:C,options:i,context:w===s?"menu":"value",selectValue:c,isAppleDevice:u};T=B.onFocus(j)}return T},[s,a,h,g,B,i,c,u]),O=k.useMemo(function(){var T="";if(b&&x.length&&!S&&B.onFilter){var w=v({count:i.length});T=B.onFilter({inputValue:m,resultsMessage:w})}return T},[i,m,b,B,x,v,S]),F=(e==null?void 0:e.action)==="initial-input-focus",_=k.useMemo(function(){var T="";if(B.guidance){var w=a?"value":b?"menu":"input";T=B.guidance({"aria-label":M,context:w,isDisabled:s&&g(s,c),isMulti:A,isSearchable:p,tabSelectsValue:y,isInitialFocus:F})}return T},[M,s,a,A,g,p,b,B,c,y,F]),E=Xt(k.Fragment,null,Xt("span",{id:"aria-selection"},D),Xt("span",{id:"aria-focused"},L),Xt("span",{id:"aria-results"},O),Xt("span",{id:"aria-guidance"},_));return Xt(k.Fragment,null,Xt(OT,{id:d},F&&E),Xt(OT,{"aria-live":P,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!F&&E))},sAe=rAe,L1=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],aAe=new RegExp("["+L1.map(function(n){return n.letters}).join("")+"]","g"),w7={};for(var Jv=0;Jv<L1.length;Jv++)for(var Zv=L1[Jv],ey=0;ey<Zv.letters.length;ey++)w7[Zv.letters[ey]]=Zv.base;var j7=function(t){return t.replace(aAe,function(e){return w7[e]})},iAe=Zpe(j7),LT=function(t){return t.replace(/^\s+|\s+$/g,"")},oAe=function(t){return"".concat(t.label," ").concat(t.value)},lAe=function(t){return function(e,s){if(e.data.__isNew__)return!0;var a=nn({ignoreCase:!0,ignoreAccents:!0,stringify:oAe,trim:!0,matchFrom:"any"},t),i=a.ignoreCase,o=a.ignoreAccents,c=a.stringify,l=a.trim,d=a.matchFrom,u=l?LT(s):s,f=l?LT(c(e)):c(e);return i&&(u=u.toLowerCase(),f=f.toLowerCase()),o&&(u=iAe(u),f=j7(f)),d==="start"?f.substr(0,u.length)===u:f.indexOf(u)>-1}},cAe=["innerRef"];function dAe(n){var t=n.innerRef,e=al(n,cAe),s=Ome(e,"onExited","in","enter","exit","appear");return Xt("input",sn({ref:t},s,{css:UC({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var uAe=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function hAe(n){var t=n.isEnabled,e=n.onBottomArrive,s=n.onBottomLeave,a=n.onTopArrive,i=n.onTopLeave,o=k.useRef(!1),c=k.useRef(!1),l=k.useRef(0),d=k.useRef(null),u=k.useCallback(function(p,b){if(d.current!==null){var x=d.current,v=x.scrollTop,y=x.scrollHeight,S=x.clientHeight,M=d.current,P=b>0,B=y-S-v,D=!1;B>b&&o.current&&(s&&s(p),o.current=!1),P&&c.current&&(i&&i(p),c.current=!1),P&&b>B?(e&&!o.current&&e(p),M.scrollTop=y,D=!0,o.current=!0):!P&&-b>v&&(a&&!c.current&&a(p),M.scrollTop=0,D=!0,c.current=!0),D&&uAe(p)}},[e,s,a,i]),f=k.useCallback(function(p){u(p,p.deltaY)},[u]),h=k.useCallback(function(p){l.current=p.changedTouches[0].clientY},[]),m=k.useCallback(function(p){var b=l.current-p.changedTouches[0].clientY;u(p,b)},[u]),A=k.useCallback(function(p){if(p){var b=Pme?{passive:!1}:!1;p.addEventListener("wheel",f,b),p.addEventListener("touchstart",h,b),p.addEventListener("touchmove",m,b)}},[m,h,f]),g=k.useCallback(function(p){p&&(p.removeEventListener("wheel",f,!1),p.removeEventListener("touchstart",h,!1),p.removeEventListener("touchmove",m,!1))},[m,h,f]);return k.useEffect(function(){if(t){var p=d.current;return A(p),function(){g(p)}}},[t,A,g]),function(p){d.current=p}}var FT=["boxSizing","height","overflow","paddingRight","position"],RT={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function UT(n){n.cancelable&&n.preventDefault()}function HT(n){n.stopPropagation()}function $T(){var n=this.scrollTop,t=this.scrollHeight,e=n+this.offsetHeight;n===0?this.scrollTop=1:e===t&&(this.scrollTop=n-1)}function QT(){return"ontouchstart"in window||navigator.maxTouchPoints}var VT=!!(typeof window<"u"&&window.document&&window.document.createElement),zh=0,Kd={capture:!1,passive:!1};function fAe(n){var t=n.isEnabled,e=n.accountForScrollbars,s=e===void 0?!0:e,a=k.useRef({}),i=k.useRef(null),o=k.useCallback(function(l){if(VT){var d=document.body,u=d&&d.style;if(s&&FT.forEach(function(A){var g=u&&u[A];a.current[A]=g}),s&&zh<1){var f=parseInt(a.current.paddingRight,10)||0,h=document.body?document.body.clientWidth:0,m=window.innerWidth-h+f||0;Object.keys(RT).forEach(function(A){var g=RT[A];u&&(u[A]=g)}),u&&(u.paddingRight="".concat(m,"px"))}d&&QT()&&(d.addEventListener("touchmove",UT,Kd),l&&(l.addEventListener("touchstart",$T,Kd),l.addEventListener("touchmove",HT,Kd))),zh+=1}},[s]),c=k.useCallback(function(l){if(VT){var d=document.body,u=d&&d.style;zh=Math.max(zh-1,0),s&&zh<1&&FT.forEach(function(f){var h=a.current[f];u&&(u[f]=h)}),d&&QT()&&(d.removeEventListener("touchmove",UT,Kd),l&&(l.removeEventListener("touchstart",$T,Kd),l.removeEventListener("touchmove",HT,Kd)))}},[s]);return k.useEffect(function(){if(t){var l=i.current;return o(l),function(){c(l)}}},[t,o,c]),function(l){i.current=l}}var mAe=function(t){var e=t.target;return e.ownerDocument.activeElement&&e.ownerDocument.activeElement.blur()},pAe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function AAe(n){var t=n.children,e=n.lockEnabled,s=n.captureEnabled,a=s===void 0?!0:s,i=n.onBottomArrive,o=n.onBottomLeave,c=n.onTopArrive,l=n.onTopLeave,d=hAe({isEnabled:a,onBottomArrive:i,onBottomLeave:o,onTopArrive:c,onTopLeave:l}),u=fAe({isEnabled:e}),f=function(m){d(m),u(m)};return Xt(k.Fragment,null,e&&Xt("div",{onClick:mAe,css:pAe}),t(f))}var gAe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},xAe=function(t){var e=t.name,s=t.onFocus;return Xt("input",{required:!0,name:e,tabIndex:-1,"aria-hidden":"true",onFocus:s,css:gAe,value:"",onChange:function(){}})},bAe=xAe;function $C(n){var t;return typeof window<"u"&&window.navigator!=null?n.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function vAe(){return $C(/^iPhone/i)}function C7(){return $C(/^Mac/i)}function yAe(){return $C(/^iPad/i)||C7()&&navigator.maxTouchPoints>1}function wAe(){return vAe()||yAe()}function jAe(){return C7()||wAe()}var CAe=function(t){return t.label},NAe=function(t){return t.label},SAe=function(t){return t.value},TAe=function(t){return!!t.isDisabled},kAe={clearIndicator:dpe,container:Zme,control:gpe,dropdownIndicator:lpe,group:ype,groupHeading:jpe,indicatorsContainer:rpe,indicatorSeparator:hpe,input:Tpe,loadingIndicator:ppe,loadingMessage:qme,menu:Hme,menuList:zme,menuPortal:Yme,multiValue:Mpe,multiValueLabel:Ppe,multiValueRemove:Dpe,noOptionsMessage:Gme,option:Upe,placeholder:Qpe,singleValue:Kpe,valueContainer:tpe},_Ae={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},BAe=4,N7=4,EAe=38,MAe=N7*2,PAe={baseUnit:N7,controlHeight:EAe,menuGutter:MAe},ty={borderRadius:BAe,colors:_Ae,spacing:PAe},DAe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:PT(),captureMenuScroll:!PT(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:lAe(),formatGroupLabel:CAe,getOptionLabel:NAe,getOptionValue:SAe,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:TAe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Eme(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var e=t.count;return"".concat(e," result").concat(e!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function zT(n,t,e,s){var a=k7(n,t,e),i=_7(n,t,e),o=T7(n,t),c=T0(n,t);return{type:"option",data:t,isDisabled:a,isSelected:i,label:o,value:c,index:s}}function pg(n,t){return n.options.map(function(e,s){if("options"in e){var a=e.options.map(function(o,c){return zT(n,o,t,c)}).filter(function(o){return GT(n,o)});return a.length>0?{type:"group",data:e,options:a,index:s}:void 0}var i=zT(n,e,t,s);return GT(n,i)?i:void 0}).filter(Dme)}function S7(n){return n.reduce(function(t,e){return e.type==="group"?t.push.apply(t,IC(e.options.map(function(s){return s.data}))):t.push(e.data),t},[])}function KT(n,t){return n.reduce(function(e,s){return s.type==="group"?e.push.apply(e,IC(s.options.map(function(a){return{data:a.data,id:"".concat(t,"-").concat(s.index,"-").concat(a.index)}}))):e.push({data:s.data,id:"".concat(t,"-").concat(s.index)}),e},[])}function IAe(n,t){return S7(pg(n,t))}function GT(n,t){var e=n.inputValue,s=e===void 0?"":e,a=t.data,i=t.isSelected,o=t.label,c=t.value;return(!E7(n)||!i)&&B7(n,{label:o,value:c,data:a},s)}function OAe(n,t){var e=n.focusedValue,s=n.selectValue,a=s.indexOf(e);if(a>-1){var i=t.indexOf(e);if(i>-1)return e;if(a<t.length)return t[a]}return null}function LAe(n,t){var e=n.focusedOption;return e&&t.indexOf(e)>-1?e:t[0]}var ny=function(t,e){var s,a=(s=t.find(function(i){return i.data===e}))===null||s===void 0?void 0:s.id;return a||null},T7=function(t,e){return t.getOptionLabel(e)},T0=function(t,e){return t.getOptionValue(e)};function k7(n,t,e){return typeof n.isOptionDisabled=="function"?n.isOptionDisabled(t,e):!1}function _7(n,t,e){if(e.indexOf(t)>-1)return!0;if(typeof n.isOptionSelected=="function")return n.isOptionSelected(t,e);var s=T0(n,t);return e.some(function(a){return T0(n,a)===s})}function B7(n,t,e){return n.filterOption?n.filterOption(t,e):!0}var E7=function(t){var e=t.hideSelectedOptions,s=t.isMulti;return e===void 0?s:e},FAe=1,M7=function(n){wfe(e,n);var t=Nfe(e);function e(s){var a;if(vfe(this,e),a=t.call(this,s),a.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},a.blockOptionHover=!1,a.isComposing=!1,a.commonProps=void 0,a.initialTouchX=0,a.initialTouchY=0,a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.controlRef=null,a.getControlRef=function(l){a.controlRef=l},a.focusedOptionRef=null,a.getFocusedOptionRef=function(l){a.focusedOptionRef=l},a.menuListRef=null,a.getMenuListRef=function(l){a.menuListRef=l},a.inputRef=null,a.getInputRef=function(l){a.inputRef=l},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(l,d){var u=a.props,f=u.onChange,h=u.name;d.name=h,a.ariaOnChange(l,d),f(l,d)},a.setValue=function(l,d,u){var f=a.props,h=f.closeMenuOnSelect,m=f.isMulti,A=f.inputValue;a.onInputChange("",{action:"set-value",prevInputValue:A}),h&&(a.setState({inputIsHiddenAfterUpdate:!m}),a.onMenuClose()),a.setState({clearFocusValueOnUpdate:!0}),a.onChange(l,{action:d,option:u})},a.selectOption=function(l){var d=a.props,u=d.blurInputOnSelect,f=d.isMulti,h=d.name,m=a.state.selectValue,A=f&&a.isOptionSelected(l,m),g=a.isOptionDisabled(l,m);if(A){var p=a.getOptionValue(l);a.setValue(m.filter(function(b){return a.getOptionValue(b)!==p}),"deselect-option",l)}else if(!g)f?a.setValue([].concat(IC(m),[l]),"select-option",l):a.setValue(l,"select-option");else{a.ariaOnChange(l,{action:"select-option",option:l,name:h});return}u&&a.blurInput()},a.removeValue=function(l){var d=a.props.isMulti,u=a.state.selectValue,f=a.getOptionValue(l),h=u.filter(function(A){return a.getOptionValue(A)!==f}),m=Zp(d,h,h[0]||null);a.onChange(m,{action:"remove-value",removedValue:l}),a.focusInput()},a.clearValue=function(){var l=a.state.selectValue;a.onChange(Zp(a.props.isMulti,[],null),{action:"clear",removedValues:l})},a.popValue=function(){var l=a.props.isMulti,d=a.state.selectValue,u=d[d.length-1],f=d.slice(0,d.length-1),h=Zp(l,f,f[0]||null);u&&a.onChange(h,{action:"pop-value",removedValue:u})},a.getFocusedOptionId=function(l){return ny(a.state.focusableOptionsWithIds,l)},a.getFocusableOptionsWithIds=function(){return KT(pg(a.props,a.state.selectValue),a.getElementId("option"))},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];return Sme.apply(void 0,[a.props.classNamePrefix].concat(d))},a.getOptionLabel=function(l){return T7(a.props,l)},a.getOptionValue=function(l){return T0(a.props,l)},a.getStyles=function(l,d){var u=a.props.unstyled,f=kAe[l](d,u);f.boxSizing="border-box";var h=a.props.styles[l];return h?h(f,d):f},a.getClassNames=function(l,d){var u,f;return(u=(f=a.props.classNames)[l])===null||u===void 0?void 0:u.call(f,d)},a.getElementId=function(l){return"".concat(a.state.instancePrefix,"-").concat(l)},a.getComponents=function(){return Xpe(a.props)},a.buildCategorizedOptions=function(){return pg(a.props,a.state.selectValue)},a.getCategorizedOptions=function(){return a.props.menuIsOpen?a.buildCategorizedOptions():[]},a.buildFocusableOptions=function(){return S7(a.buildCategorizedOptions())},a.getFocusableOptions=function(){return a.props.menuIsOpen?a.buildFocusableOptions():[]},a.ariaOnChange=function(l,d){a.setState({ariaSelection:nn({value:l},d)})},a.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(l){a.blockOptionHover=!1},a.onControlMouseDown=function(l){if(!l.defaultPrevented){var d=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&a.onMenuClose():d&&a.openMenu("first"):(d&&(a.openAfterFocus=!0),a.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},a.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!a.props.isDisabled){var d=a.props,u=d.isMulti,f=d.menuIsOpen;a.focusInput(),f?(a.setState({inputIsHiddenAfterUpdate:!u}),a.onMenuClose()):a.openMenu("first"),l.preventDefault()}},a.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(a.clearValue(),l.preventDefault(),a.openAfterFocus=!1,l.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(l){typeof a.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&xb(l.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(l)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(l){var d=l.touches,u=d&&d.item(0);u&&(a.initialTouchX=u.clientX,a.initialTouchY=u.clientY,a.userIsDragging=!1)},a.onTouchMove=function(l){var d=l.touches,u=d&&d.item(0);if(u){var f=Math.abs(u.clientX-a.initialTouchX),h=Math.abs(u.clientY-a.initialTouchY),m=5;a.userIsDragging=f>m||h>m}},a.onTouchEnd=function(l){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(l.target)&&a.menuListRef&&!a.menuListRef.contains(l.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(l){a.userIsDragging||a.onControlMouseDown(l)},a.onClearIndicatorTouchEnd=function(l){a.userIsDragging||a.onClearIndicatorMouseDown(l)},a.onDropdownIndicatorTouchEnd=function(l){a.userIsDragging||a.onDropdownIndicatorMouseDown(l)},a.handleInputChange=function(l){var d=a.props.inputValue,u=l.currentTarget.value;a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange(u,{action:"input-change",prevInputValue:d}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(l){a.props.onFocus&&a.props.onFocus(l),a.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(l){var d=a.props.inputValue;if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(l),a.onInputChange("",{action:"input-blur",prevInputValue:d}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(l){if(!(a.blockOptionHover||a.state.focusedOption===l)){var d=a.getFocusableOptions(),u=d.indexOf(l);a.setState({focusedOption:l,focusedOptionId:u>-1?a.getFocusedOptionId(l):null})}},a.shouldHideSelectedOptions=function(){return E7(a.props)},a.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),a.focus()},a.onKeyDown=function(l){var d=a.props,u=d.isMulti,f=d.backspaceRemovesValue,h=d.escapeClearsValue,m=d.inputValue,A=d.isClearable,g=d.isDisabled,p=d.menuIsOpen,b=d.onKeyDown,x=d.tabSelectsValue,v=d.openMenuOnFocus,y=a.state,S=y.focusedOption,M=y.focusedValue,P=y.selectValue;if(!g&&!(typeof b=="function"&&(b(l),l.defaultPrevented))){switch(a.blockOptionHover=!0,l.key){case"ArrowLeft":if(!u||m)return;a.focusValue("previous");break;case"ArrowRight":if(!u||m)return;a.focusValue("next");break;case"Delete":case"Backspace":if(m)return;if(M)a.removeValue(M);else{if(!f)return;u?a.popValue():A&&a.clearValue()}break;case"Tab":if(a.isComposing||l.shiftKey||!p||!x||!S||v&&a.isOptionSelected(S,P))return;a.selectOption(S);break;case"Enter":if(l.keyCode===229)break;if(p){if(!S||a.isComposing)return;a.selectOption(S);break}return;case"Escape":p?(a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange("",{action:"menu-close",prevInputValue:m}),a.onMenuClose()):A&&h&&a.clearValue();break;case" ":if(m)return;if(!p){a.openMenu("first");break}if(!S)return;a.selectOption(S);break;case"ArrowUp":p?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":p?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!p)return;a.focusOption("pageup");break;case"PageDown":if(!p)return;a.focusOption("pagedown");break;case"Home":if(!p)return;a.focusOption("first");break;case"End":if(!p)return;a.focusOption("last");break;default:return}l.preventDefault()}},a.state.instancePrefix="react-select-"+(a.props.instanceId||++FAe),a.state.selectValue=ET(s.value),s.menuIsOpen&&a.state.selectValue.length){var i=a.getFocusableOptionsWithIds(),o=a.buildFocusableOptions(),c=o.indexOf(a.state.selectValue[0]);a.state.focusableOptionsWithIds=i,a.state.focusedOption=o[c],a.state.focusedOptionId=ny(i,o[c])}return a}return yfe(e,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&MT(this.menuListRef,this.focusedOptionRef),jAe()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isDisabled,c=i.menuIsOpen,l=this.state.isFocused;(l&&!o&&a.isDisabled||l&&c&&!a.menuIsOpen)&&this.focusInput(),l&&o&&!a.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&a.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(MT(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,i){this.props.onInputChange(a,i)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var i=this,o=this.state,c=o.selectValue,l=o.isFocused,d=this.buildFocusableOptions(),u=a==="first"?0:d.length-1;if(!this.props.isMulti){var f=d.indexOf(c[0]);f>-1&&(u=f)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:d[u],focusedOptionId:this.getFocusedOptionId(d[u])},function(){return i.onMenuOpen()})}},{key:"focusValue",value:function(a){var i=this.state,o=i.selectValue,c=i.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(c);c||(l=-1);var d=o.length-1,u=-1;if(o.length){switch(a){case"previous":l===0?u=0:l===-1?u=d:u=l-1;break;case"next":l>-1&&l<d&&(u=l+1);break}this.setState({inputIsHidden:u!==-1,focusedValue:o[u]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",i=this.props.pageSize,o=this.state.focusedOption,c=this.getFocusableOptions();if(c.length){var l=0,d=c.indexOf(o);o||(d=-1),a==="up"?l=d>0?d-1:c.length-1:a==="down"?l=(d+1)%c.length:a==="pageup"?(l=d-i,l<0&&(l=0)):a==="pagedown"?(l=d+i,l>c.length-1&&(l=c.length-1)):a==="last"&&(l=c.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:c[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(c[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(ty):nn(nn({},ty),this.props.theme):ty}},{key:"getCommonProps",value:function(){var a=this.clearValue,i=this.cx,o=this.getStyles,c=this.getClassNames,l=this.getValue,d=this.selectOption,u=this.setValue,f=this.props,h=f.isMulti,m=f.isRtl,A=f.options,g=this.hasValue();return{clearValue:a,cx:i,getStyles:o,getClassNames:c,getValue:l,hasValue:g,isMulti:h,isRtl:m,options:A,selectOption:d,selectProps:f,setValue:u,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,i=a.isClearable,o=a.isMulti;return i===void 0?o:i}},{key:"isOptionDisabled",value:function(a,i){return k7(this.props,a,i)}},{key:"isOptionSelected",value:function(a,i){return _7(this.props,a,i)}},{key:"filterOption",value:function(a,i){return B7(this.props,a,i)}},{key:"formatOptionLabel",value:function(a,i){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,c=this.state.selectValue;return this.props.formatOptionLabel(a,{context:i,inputValue:o,selectValue:c})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var a=this.props,i=a.isDisabled,o=a.isSearchable,c=a.inputId,l=a.inputValue,d=a.tabIndex,u=a.form,f=a.menuIsOpen,h=a.required,m=this.getComponents(),A=m.Input,g=this.state,p=g.inputIsHidden,b=g.ariaSelection,x=this.commonProps,v=c||this.getElementId("input"),y=nn(nn(nn({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":h,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(b==null?void 0:b.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?k.createElement(A,sn({},x,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:v,innerRef:this.getInputRef,isDisabled:i,isHidden:p,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:d,form:u,type:"text",value:l},y)):k.createElement(dAe,sn({id:v,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:N0,onFocus:this.onInputFocus,disabled:i,tabIndex:d,inputMode:"none",form:u,value:""},y))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,i=this.getComponents(),o=i.MultiValue,c=i.MultiValueContainer,l=i.MultiValueLabel,d=i.MultiValueRemove,u=i.SingleValue,f=i.Placeholder,h=this.commonProps,m=this.props,A=m.controlShouldRenderValue,g=m.isDisabled,p=m.isMulti,b=m.inputValue,x=m.placeholder,v=this.state,y=v.selectValue,S=v.focusedValue,M=v.isFocused;if(!this.hasValue()||!A)return b?null:k.createElement(f,sn({},h,{key:"placeholder",isDisabled:g,isFocused:M,innerProps:{id:this.getElementId("placeholder")}}),x);if(p)return y.map(function(B,D){var L=B===S,O="".concat(a.getOptionLabel(B),"-").concat(a.getOptionValue(B));return k.createElement(o,sn({},h,{components:{Container:c,Label:l,Remove:d},isFocused:L,isDisabled:g,key:O,index:D,removeProps:{onClick:function(){return a.removeValue(B)},onTouchEnd:function(){return a.removeValue(B)},onMouseDown:function(_){_.preventDefault()}},data:B}),a.formatOptionLabel(B,"value"))});if(b)return null;var P=y[0];return k.createElement(u,sn({},h,{data:P,isDisabled:g}),this.formatOptionLabel(P,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),i=a.ClearIndicator,o=this.commonProps,c=this.props,l=c.isDisabled,d=c.isLoading,u=this.state.isFocused;if(!this.isClearable()||!i||l||!this.hasValue()||d)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return k.createElement(i,sn({},o,{innerProps:f,isFocused:u}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),i=a.LoadingIndicator,o=this.commonProps,c=this.props,l=c.isDisabled,d=c.isLoading,u=this.state.isFocused;if(!i||!d)return null;var f={"aria-hidden":"true"};return k.createElement(i,sn({},o,{innerProps:f,isDisabled:l,isFocused:u}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),i=a.DropdownIndicator,o=a.IndicatorSeparator;if(!i||!o)return null;var c=this.commonProps,l=this.props.isDisabled,d=this.state.isFocused;return k.createElement(o,sn({},c,{isDisabled:l,isFocused:d}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),i=a.DropdownIndicator;if(!i)return null;var o=this.commonProps,c=this.props.isDisabled,l=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return k.createElement(i,sn({},o,{innerProps:d,isDisabled:c,isFocused:l}))}},{key:"renderMenu",value:function(){var a=this,i=this.getComponents(),o=i.Group,c=i.GroupHeading,l=i.Menu,d=i.MenuList,u=i.MenuPortal,f=i.LoadingMessage,h=i.NoOptionsMessage,m=i.Option,A=this.commonProps,g=this.state.focusedOption,p=this.props,b=p.captureMenuScroll,x=p.inputValue,v=p.isLoading,y=p.loadingMessage,S=p.minMenuHeight,M=p.maxMenuHeight,P=p.menuIsOpen,B=p.menuPlacement,D=p.menuPosition,L=p.menuPortalTarget,O=p.menuShouldBlockScroll,F=p.menuShouldScrollIntoView,_=p.noOptionsMessage,E=p.onMenuScrollToTop,T=p.onMenuScrollToBottom;if(!P)return null;var w=function(V,z){var X=V.type,Q=V.data,q=V.isDisabled,H=V.isSelected,$=V.label,G=V.value,J=g===Q,te=q?void 0:function(){return a.onOptionHover(Q)},K=q?void 0:function(){return a.selectOption(Q)},ne="".concat(a.getElementId("option"),"-").concat(z),ce={id:ne,onClick:K,onMouseMove:te,onMouseOver:te,tabIndex:-1,role:"option","aria-selected":a.state.isAppleDevice?void 0:H};return k.createElement(m,sn({},A,{innerProps:ce,data:Q,isDisabled:q,isSelected:H,key:ne,label:$,type:X,value:G,isFocused:J,innerRef:J?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(V.data,"menu"))},C;if(this.hasOptions())C=this.getCategorizedOptions().map(function(U){if(U.type==="group"){var V=U.data,z=U.options,X=U.index,Q="".concat(a.getElementId("group"),"-").concat(X),q="".concat(Q,"-heading");return k.createElement(o,sn({},A,{key:Q,data:V,options:z,Heading:c,headingProps:{id:q,data:U.data},label:a.formatGroupLabel(U.data)}),U.options.map(function(H){return w(H,"".concat(X,"-").concat(H.index))}))}else if(U.type==="option")return w(U,"".concat(U.index))});else if(v){var j=y({inputValue:x});if(j===null)return null;C=k.createElement(f,A,j)}else{var N=_({inputValue:x});if(N===null)return null;C=k.createElement(h,A,N)}var I={minMenuHeight:S,maxMenuHeight:M,menuPlacement:B,menuPosition:D,menuShouldScrollIntoView:F},R=k.createElement($me,sn({},A,I),function(U){var V=U.ref,z=U.placerProps,X=z.placement,Q=z.maxHeight;return k.createElement(l,sn({},A,I,{innerRef:V,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:v,placement:X}),k.createElement(AAe,{captureEnabled:b,onTopArrive:E,onBottomArrive:T,lockEnabled:O},function(q){return k.createElement(d,sn({},A,{innerRef:function($){a.getMenuListRef($),q($)},innerProps:{role:"listbox","aria-multiselectable":A.isMulti,id:a.getElementId("listbox")},isLoading:v,maxHeight:Q,focusedOption:g}),C)}))});return L||D==="fixed"?k.createElement(u,sn({},A,{appendTo:L,controlElement:this.controlRef,menuPlacement:B,menuPosition:D}),R):R}},{key:"renderFormField",value:function(){var a=this,i=this.props,o=i.delimiter,c=i.isDisabled,l=i.isMulti,d=i.name,u=i.required,f=this.state.selectValue;if(u&&!this.hasValue()&&!c)return k.createElement(bAe,{name:d,onFocus:this.onValueInputFocus});if(!(!d||c))if(l)if(o){var h=f.map(function(g){return a.getOptionValue(g)}).join(o);return k.createElement("input",{name:d,type:"hidden",value:h})}else{var m=f.length>0?f.map(function(g,p){return k.createElement("input",{key:"i-".concat(p),name:d,type:"hidden",value:a.getOptionValue(g)})}):k.createElement("input",{name:d,type:"hidden",value:""});return k.createElement("div",null,m)}else{var A=f[0]?this.getOptionValue(f[0]):"";return k.createElement("input",{name:d,type:"hidden",value:A})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,i=this.state,o=i.ariaSelection,c=i.focusedOption,l=i.focusedValue,d=i.isFocused,u=i.selectValue,f=this.getFocusableOptions();return k.createElement(sAe,sn({},a,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:c,focusedValue:l,isFocused:d,selectValue:u,focusableOptions:f,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var a=this.getComponents(),i=a.Control,o=a.IndicatorsContainer,c=a.SelectContainer,l=a.ValueContainer,d=this.props,u=d.className,f=d.id,h=d.isDisabled,m=d.menuIsOpen,A=this.state.isFocused,g=this.commonProps=this.getCommonProps();return k.createElement(c,sn({},g,{className:u,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:h,isFocused:A}),this.renderLiveRegion(),k.createElement(i,sn({},g,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:h,isFocused:A,menuIsOpen:m}),k.createElement(l,sn({},g,{isDisabled:h}),this.renderPlaceholderOrValue(),this.renderInput()),k.createElement(o,sn({},g,{isDisabled:h}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,i){var o=i.prevProps,c=i.clearFocusValueOnUpdate,l=i.inputIsHiddenAfterUpdate,d=i.ariaSelection,u=i.isFocused,f=i.prevWasFocused,h=i.instancePrefix,m=a.options,A=a.value,g=a.menuIsOpen,p=a.inputValue,b=a.isMulti,x=ET(A),v={};if(o&&(A!==o.value||m!==o.options||g!==o.menuIsOpen||p!==o.inputValue)){var y=g?IAe(a,x):[],S=g?KT(pg(a,x),"".concat(h,"-option")):[],M=c?OAe(i,x):null,P=LAe(i,y),B=ny(S,P);v={selectValue:x,focusedOption:P,focusedOptionId:B,focusableOptionsWithIds:S,focusedValue:M,clearFocusValueOnUpdate:!1}}var D=l!=null&&a!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},L=d,O=u&&f;return u&&!O&&(L={value:Zp(b,x,x[0]||null),options:x,action:"initial-input-focus"},O=!f),(d==null?void 0:d.action)==="initial-input-focus"&&(L=null),nn(nn(nn({},v),D),{},{prevProps:a,ariaSelection:L,prevWasFocused:O})}}]),e}(k.Component);M7.defaultProps=DAe;var RAe=k.forwardRef(function(n,t){var e=bfe(n);return k.createElement(M7,sn({ref:t},e))}),zo=RAe;const qT=({mode:n,diaChi:t,onSubmit:e,onCancel:s,provinces:a,districts:i,wards:o,selectedProvince:c,setSelectedProvince:l,selectedDistrict:d,setSelectedDistrict:u,selectedWard:f,setSelectedWard:h,isLoadingProvinces:m,isLoadingDistricts:A,isLoadingWards:g,formErrors:p,shippingFee:b,isLoadingShippingFee:x})=>{const v=n==="view",[y,S]=k.useState(t),[M,P]=k.useState(null),[B,D]=k.useState(!1),L="https://bicacuatho.azurewebsites.net",O=()=>{const w=localStorage.getItem("token");return w?{Authorization:`Bearer ${w}`}:{}};k.useEffect(()=>{S(t)},[t]),k.useEffect(()=>{if(!(d!=null&&d.DistrictID)||!(f!=null&&f.WardCode)){P(null);return}(async()=>{D(!0);try{const C={from_district_id:1552,from_ward_code:"400103",to_district_id:d.DistrictID,to_ward_code:f.WardCode,service_id:53320},j=await fetch(`${L}/api/GHN/leadtime`,{method:"POST",headers:{"Content-Type":"application/json",...O()},body:JSON.stringify(C)});if(!j.ok)throw new Error(`HTTP error! status: ${j.status}`);const N=await j.json();P(N)}catch(C){console.error("Error fetching lead time:",C),Ce.fire({icon:"error",title:"Lỗi",text:"Không thể tải thời gian giao hàng dự kiến",timer:2e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{D(!1)}})()},[d,f,L]);const F=(w,C)=>{S(j=>({...j,[w]:C}))},_=w=>{const C=w.charCode;(C<48||C>57)&&w.preventDefault()},E=w=>{w.preventDefault(),e({...y,moTa:b!==null?b.toString():""})},T=w=>{const C=new Date(w),j=C.getDate(),N=C.getMonth()+1,I=C.getFullYear();return`Ngày ${j}, tháng ${N}, năm ${I} nhận hàng`};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"hoTen",className:"font-semibold text-gray-800",children:"Họ tên"}),r.jsx(je,{id:"hoTen",value:y.hoTen||"",onChange:w=>F("hoTen",w.target.value),disabled:v,placeholder:"Nhập họ tên",className:`border-gray-300 rounded-md text-gray-800 ${p.hoTen?"border-red-500":""}`}),p.hoTen&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.hoTen})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"sdt",className:"font-semibold text-gray-800",children:"Số điện thoại"}),r.jsx(je,{id:"sdt",type:"tel",maxLength:10,value:y.sdt||"",onChange:w=>F("sdt",w.target.value),onKeyPress:_,disabled:v,placeholder:"Nhập số điện thoại",className:`border-gray-300 rounded-md text-gray-800 ${p.sdt?"border-red-500":""}`}),p.sdt&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.sdt})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"tinh",className:"font-semibold text-gray-800",children:"Tỉnh/Thành phố"}),r.jsx(zo,{options:a,getOptionLabel:w=>w.ProvinceName,getOptionValue:w=>w.ProvinceID.toString(),value:c,onChange:w=>l(w),placeholder:m?"Đang tải...":"Chọn tỉnh/thành phố",isDisabled:m||v,isSearchable:!0,isClearable:!0,className:`border-gray-300 rounded-md text-gray-800 ${p.tinh?"border-red-500":""}`,styles:{control:w=>({...w,color:"gray-800"}),singleValue:w=>({...w,color:"gray-800"}),placeholder:w=>({...w,color:"gray-800"})}}),p.tinh&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.tinh})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"quanHuyen",className:"font-semibold text-gray-800",children:"Quận/Huyện"}),r.jsx(zo,{options:i,getOptionLabel:w=>w.DistrictName,getOptionValue:w=>w.DistrictID.toString(),value:d,onChange:w=>u(w),placeholder:A?"Đang tải...":"Chọn quận/huyện",isDisabled:!c||A||v,isSearchable:!0,isClearable:!0,className:`border-gray-300 rounded-md text-gray-800 ${p.quanHuyen?"border-red-500":""}`,styles:{control:w=>({...w,color:"gray-800"}),singleValue:w=>({...w,color:"gray-800"}),placeholder:w=>({...w,color:"gray-800"})}}),p.quanHuyen&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.quanHuyen})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"phuongXa",className:"font-semibold text-gray-800",children:"Phường/Xã"}),r.jsx(zo,{options:o,getOptionLabel:w=>w.WardName,getOptionValue:w=>w.WardCode,value:f,onChange:w=>h(w),placeholder:g?"Đang tải...":"Chọn phường/xã",isDisabled:!d||g||v,isSearchable:!0,isClearable:!0,className:`border-gray-300 rounded-md text-gray-800 ${p.phuongXa?"border-red-500":""}`,styles:{control:w=>({...w,color:"gray-800"}),singleValue:w=>({...w,color:"gray-800"}),placeholder:w=>({...w,color:"gray-800"})}}),p.phuongXa&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.phuongXa})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"diaChi",className:"font-semibold text-gray-800",children:"Địa chỉ chi tiết"}),r.jsx(je,{id:"diaChi",value:y.diaChi||"",onChange:w=>F("diaChi",w.target.value),disabled:v,placeholder:"Nhập địa chỉ chi tiết",className:`border-gray-300 rounded-md text-gray-800 ${p.diaChi?"border-red-500":""}`}),p.diaChi&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.diaChi})]})]}),f&&r.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-md",children:[r.jsxs("p",{children:[r.jsx("strong",{className:"font-semibold",children:"Phí giao hàng dự kiến:"})," ",x?"Đang tính phí giao hàng...":b!==null?`${b.toLocaleString()} VND`:"Không thể tải phí giao hàng"]}),r.jsxs("p",{children:[r.jsx("strong",{className:"font-semibold",children:"Thời gian giao hàng dự kiến:"})," ",B?"Đang tính thời gian giao hàng...":M?T(M.leadtime_order.to_estimate_date):"Không thể tải thời gian giao hàng"]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[r.jsxs(fe,{type:"button",variant:"outline",onClick:s,className:"flex items-center border-gray-300 text-gray-800 hover:bg-gray-100",children:[r.jsx(B1,{className:"mr-2"})," ",v?"Đóng":"Hủy"]}),!v&&r.jsxs(fe,{type:"button",onClick:E,className:"bg-[#9b87f5] hover:bg-[#8a76e4] text-white flex items-center",children:[r.jsx(w0,{className:"mr-2"})," ",n==="add"?"Thêm":"Cập nhật"]})]})]})},P7=()=>{const[n,t]=k.useState([]),[e,s]=k.useState({trangThai:1}),[a,i]=k.useState(null),[o,c]=k.useState(null),[l,d]=k.useState(null),[u,f]=k.useState(!1),[h,m]=k.useState(!1),[A,g]=k.useState(!1),[p,b]=k.useState(!1),[x,v]=k.useState(null),[y,S]=k.useState(null),[M,P]=k.useState("add"),[B,D]=k.useState([]),[L,O]=k.useState([]),[F,_]=k.useState([]),[E,T]=k.useState(null),[w,C]=k.useState(null),[j,N]=k.useState(null),[I,R]=k.useState(!1),[U,V]=k.useState(!1),[z,X]=k.useState(!1),[Q,q]=k.useState({}),[H,$]=k.useState("list"),[G,J]=k.useState({}),[te,K]=k.useState({}),[ne,ce]=k.useState({}),[oe,ee]=k.useState({}),[W,Y]=k.useState(null),[Z,se]=k.useState(!1),re=dr(),le=k.useRef(null),ae="https://bicacuatho.azurewebsites.net",ue=()=>{const Te=localStorage.getItem("token");return Te?{Authorization:`Bearer ${Te}`}:{}};k.useEffect(()=>{(async()=>{R(!0);try{const _e=await fetch(`${ae}/api/GHN/provinces`,{headers:ue()});if(!_e.ok)throw new Error(`HTTP error! status: ${_e.status}`);const be=(await _e.json()).map(Ee=>({ProvinceID:Ee.provinceID,ProvinceName:Ee.provinceName}));D(be)}catch(_e){console.error("Error fetching provinces:",_e),Ce.fire({icon:"error",title:"Lỗi",text:"Không thể lấy danh sách tỉnh/thành phố",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{R(!1)}})()},[ae]),k.useEffect(()=>{if(!(E!=null&&E.ProvinceID)){O([]),_([]),C(null),N(null),Y(null);return}(async()=>{V(!0);try{const _e=await fetch(`${ae}/api/GHN/districts/${E.ProvinceID}`,{headers:ue()});if(!_e.ok)throw new Error(`HTTP error! status: ${_e.status}`);const be=(await _e.json()).map(Ee=>({DistrictID:Ee.districtID,DistrictName:Ee.districtName}));O(be),_([]),C(null),N(null),Y(null)}catch(_e){console.error("Error fetching districts:",_e),Ce.fire({icon:"error",title:"Lỗi",text:"Không thể lấy danh sách quận/huyện",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{V(!1)}})()},[E,ae]),k.useEffect(()=>{if(!(w!=null&&w.DistrictID)){_([]),N(null),Y(null);return}(async()=>{X(!0);try{const _e=await fetch(`${ae}/api/GHN/wards/${w.DistrictID}`,{headers:ue()});if(!_e.ok)throw new Error(`HTTP error! status: ${_e.status}`);const be=(await _e.json()).map(Ee=>({WardCode:Ee.wardCode,WardName:Ee.wardName}));_(be),N(null),Y(null)}catch(_e){console.error("Error fetching wards:",_e),Ce.fire({icon:"error",title:"Lỗi",text:"Không thể lấy danh sách phường/xã",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{X(!1)}})()},[w,ae]),k.useEffect(()=>{if(!(w!=null&&w.DistrictID)||!(j!=null&&j.WardCode)){Y(null);return}(async()=>{se(!0);try{const _e={service_type_id:2,from_district_id:1552,from_ward_code:"400103",to_district_id:w.DistrictID,to_ward_code:j.WardCode,length:35,width:25,height:10,weight:1e3,insurance_value:0,coupon:null,items:[]},Pe=await fetch(`${ae}/api/GHN/shipping-fee`,{method:"POST",headers:{"Content-Type":"application/json",...ue()},body:JSON.stringify(_e)});if(!Pe.ok)throw new Error(`HTTP error! status: ${Pe.status}`);const be=await Pe.json();Y(be.total)}catch(_e){console.error("Error fetching shipping fee:",_e),Ce.fire({icon:"error",title:"Lỗi",text:"Không thể tải phí giao hàng",timer:2e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0}),Y(null)}finally{se(!1)}})()},[w,j,ae]);const he=k.useCallback(async()=>{if(l){f(!0);try{const Te=await fetch(`${ae}/api/DanhSachDiaChi/maNguoiDung/${l}`,{headers:ue()});if(!Te.ok)throw new Error(`HTTP error! status: ${Te.status}`);const Pe=(await Te.json()).sort((Ie,ze)=>ze.trangThai-Ie.trangThai);t(Pe);const be={},Ee={},ge={},Se={};for(const Ie of Pe){Ee[Ie.maDiaChi]=!0,be[Ie.maDiaChi]=null,Se[Ie.maDiaChi]=!0,ge[Ie.maDiaChi]=null;const ze=B.find(Le=>Le.ProvinceName===Ie.tinh);if(ze)try{const Le=await fetch(`${ae}/api/GHN/districts/${ze.ProvinceID}`,{headers:ue()});if(!Le.ok)throw new Error(`HTTP error! status: ${Le.status}`);const et=(await Le.json()).find(jt=>jt.districtName===Ie.quanHuyen);if(et){const jt=await fetch(`${ae}/api/GHN/wards/${et.districtID}`,{headers:ue()});if(!jt.ok)throw new Error(`HTTP error! status: ${jt.status}`);const Ut=(await jt.json()).find(ut=>ut.wardName===Ie.phuongXa);if(Ut){const ut={from_district_id:1552,from_ward_code:"400103",to_district_id:et.districtID,to_ward_code:Ut.wardCode,service_id:53320},ft=await fetch(`${ae}/api/GHN/leadtime`,{method:"POST",headers:{"Content-Type":"application/json",...ue()},body:JSON.stringify(ut)});if(!ft.ok)throw new Error(`HTTP error! status: ${ft.status}`);const ke=await ft.json();be[Ie.maDiaChi]=ke;const Re={service_type_id:2,from_district_id:1552,from_ward_code:"400103",to_district_id:et.districtID,to_ward_code:Ut.wardCode,length:35,width:25,height:10,weight:1e3,insurance_value:0,coupon:null,items:[]},Ke=await fetch(`${ae}/api/GHN/shipping-fee`,{method:"POST",headers:{"Content-Type":"application/json",...ue()},body:JSON.stringify(Re)});if(!Ke.ok)throw new Error(`HTTP error! status: ${Ke.status}`);const it=await Ke.json();ge[Ie.maDiaChi]=it.total}}}catch(Le){console.error(`Error fetching data for address ${Ie.maDiaChi}:`,Le)}Ee[Ie.maDiaChi]=!1,Se[Ie.maDiaChi]=!1}J(be),K(Ee),ce(ge),ee(Se)}catch(Te){console.error("Error fetching address list:",Te),Ce.fire({icon:"error",title:"Lỗi",text:"Không thể lấy danh sách địa chỉ",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{f(!1)}}},[l,ae,B]);k.useEffect(()=>{const Te=localStorage.getItem("user");if(Te)try{const _e=JSON.parse(Te);d(_e.maNguoiDung)}catch(_e){console.error("Error parsing user data:",_e),re("/login")}else re("/login")},[re]),k.useEffect(()=>{l&&he()},[l,he]);const pe=Te=>{const _e={};return(!Te.hoTen||Te.hoTen.trim().length<5)&&(_e.hoTen="Họ tên phải có ít nhất 5 ký tự"),Te.sdt?/^\d{10}$/.test(Te.sdt)||(_e.sdt="Số điện thoại phải có đúng 10 chữ số"):_e.sdt="Số điện thoại là bắt buộc",E||(_e.tinh="Tỉnh/Thành phố là bắt buộc"),w||(_e.quanHuyen="Quận/Huyện là bắt buộc"),j||(_e.phuongXa="Phường/Xã là bắt buộc"),(!Te.diaChi||Te.diaChi.trim()==="")&&(_e.diaChi="Địa chỉ chi tiết là bắt buộc"),_e},Ae=async Te=>{var be,Ee;const _e={...Te,tinh:E==null?void 0:E.ProvinceName,quanHuyen:w==null?void 0:w.DistrictName,phuongXa:j==null?void 0:j.WardName},Pe=pe(_e);if(q(Pe),Object.keys(Pe).length>0){Ce.fire({icon:"error",title:"Lỗi",text:"Vui lòng điền đầy đủ và đúng thông tin",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}try{if(M==="add"){if(n.length>=5){Ce.fire({icon:"error",title:"Lỗi",text:"Bạn chỉ có thể có tối đa 5 địa chỉ",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0}),$("list"),(be=le.current)==null||be.scrollIntoView({behavior:"smooth"});return}const ge=await fetch(`${ae}/api/DanhSachDiaChi`,{method:"POST",headers:{"Content-Type":"application/json",...ue()},body:JSON.stringify({..._e,maNguoiDung:l,trangThai:1})});if(!ge.ok)throw new Error(`HTTP error! status: ${ge.status}`);Ce.fire({icon:"success",title:"Thành công",text:"Đã thêm địa chỉ mới",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0}),await he(),$("list"),(Ee=le.current)==null||Ee.scrollIntoView({behavior:"smooth"})}else if(M==="edit"&&a){const ge=await fetch(`${ae}/api/DanhSachDiaChi/${a.maDiaChi}`,{method:"PUT",headers:{"Content-Type":"application/json",...ue()},body:JSON.stringify({..._e,maDiaChi:a.maDiaChi,maNguoiDung:l,trangThai:a.trangThai})});if(!ge.ok)throw new Error(`HTTP error! status: ${ge.status}`);Ce.fire({icon:"success",title:"Thành công",text:"Đã cập nhật địa chỉ",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0}),await he()}m(!1),q({})}catch(ge){console.error(`Error ${M==="add"?"adding":"updating"} address:`,ge),Ce.fire({icon:"error",title:"Lỗi",text:`Không thể ${M==="add"?"thêm":"cập nhật"} địa chỉ`,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}},ie=Te=>{v(Te),g(!0)},de=async()=>{if(x!==null)try{const Te=await fetch(`${ae}/api/DanhSachDiaChi/${x}`,{method:"DELETE",headers:ue()});if(!Te.ok)throw new Error(`HTTP error! status: ${Te.status}`);t(n.filter(_e=>_e.maDiaChi!==x)),J(_e=>{const Pe={..._e};return delete Pe[x],Pe}),K(_e=>{const Pe={..._e};return delete Pe[x],Pe}),ce(_e=>{const Pe={..._e};return delete Pe[x],Pe}),ee(_e=>{const Pe={..._e};return delete Pe[x],Pe}),Ce.fire({icon:"success",title:"Thành công",text:"Đã xóa địa chỉ",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(Te){console.error("Error deleting address:",Te),Ce.fire({icon:"error",title:"Lỗi",text:"Không thể xóa địa chỉ",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{g(!1),v(null)}},me=Te=>{S(Te),b(!0)},ve=async()=>{if(y!==null)try{await Promise.all(n.map(async Te=>{const _e=Te.maDiaChi===y?1:0,Pe=await fetch(`${ae}/api/DanhSachDiaChi/${Te.maDiaChi}`,{method:"PUT",headers:{"Content-Type":"application/json",...ue()},body:JSON.stringify({...Te,trangThai:_e})});if(!Pe.ok)throw new Error(`HTTP error! status: ${Pe.status}`)})),Ce.fire({icon:"success",title:"Thành công",text:"Đã chọn địa chỉ",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0}),await he()}catch(Te){console.error("Error selecting address:",Te),Ce.fire({icon:"error",title:"Lỗi",text:"Không thể chọn địa chỉ",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{b(!1),S(null)}},Me=()=>{P("add"),s({trangThai:1}),i(null),c(null),T(null),C(null),N(null),O([]),_([]),q({}),Y(null)},Be=Te=>{P("edit"),i(Te),c(null),s(Te);const _e=B.find(Pe=>Pe.ProvinceName===Te.tinh)||null;T(_e),_e&&fetch(`${ae}/api/GHN/districts/${_e.ProvinceID}`,{headers:ue()}).then(Pe=>{if(!Pe.ok)throw new Error(`HTTP error! status: ${Pe.status}`);return Pe.json()}).then(Pe=>{const be=Pe.map(ge=>({DistrictID:ge.districtID,DistrictName:ge.districtName}));O(be);const Ee=be.find(ge=>ge.DistrictName===Te.quanHuyen)||null;C(Ee),Ee&&fetch(`${ae}/api/GHN/wards/${Ee.DistrictID}`,{headers:ue()}).then(ge=>{if(!ge.ok)throw new Error(`HTTP error! status: ${ge.status}`);return ge.json()}).then(ge=>{const Se=ge.map(ze=>({WardCode:ze.wardCode,WardName:ze.wardName}));_(Se);const Ie=Se.find(ze=>ze.WardName===Te.phuongXa)||null;N(Ie)}).catch(ge=>{console.error("Error fetching wards:",ge),Ce.fire({icon:"error",title:"Lỗi",text:"Không thể lấy danh sách phường/xã",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})})}).catch(Pe=>{console.error("Error fetching districts:",Pe),Ce.fire({icon:"error",title:"Lỗi",text:"Không thể lấy danh sách quận/huyện",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}),q({}),m(!0)},xe=Te=>{P("view"),c(Te),i(null),s(Te);const _e=B.find(Pe=>Pe.ProvinceName===Te.tinh)||null;T(_e),_e&&fetch(`${ae}/api/GHN/districts/${_e.ProvinceID}`,{headers:ue()}).then(Pe=>{if(!Pe.ok)throw new Error(`HTTP error! status: ${Pe.status}`);return Pe.json()}).then(Pe=>{const be=Pe.map(ge=>({DistrictID:ge.districtID,DistrictName:ge.districtName}));O(be);const Ee=be.find(ge=>ge.DistrictName===Te.quanHuyen)||null;C(Ee),Ee&&fetch(`${ae}/api/GHN/wards/${Ee.DistrictID}`,{headers:ue()}).then(ge=>{if(!ge.ok)throw new Error(`HTTP error! status: ${ge.status}`);return ge.json()}).then(ge=>{const Se=ge.map(ze=>({WardCode:ze.wardCode,WardName:ze.wardName}));_(Se);const Ie=Se.find(ze=>ze.WardName===Te.phuongXa)||null;N(Ie)}).catch(ge=>{console.error("Error fetching wards:",ge),Ce.fire({icon:"error",title:"Lỗi",text:"Không thể lấy danh sách phường/xã",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})})}).catch(Pe=>{console.error("Error fetching districts:",Pe),Ce.fire({icon:"error",title:"Lỗi",text:"Không thể lấy danh sách quận/huyện",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}),q({}),m(!0)};return r.jsx("div",{className:"flex justify-center",children:r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md w-full max-w-4xl",children:[r.jsxs("div",{className:"relative flex justify-between items-center mb-8",children:[r.jsxs("button",{onClick:()=>window.location.href="/user/cart",className:"flex items-center px-4 py-2 text-sm font-medium text-[#9b87f5] border border-[#9b87f5] rounded-md hover:bg-[#f3effe] transition-colors",children:[r.jsx(eh,{className:"w-5 h-5 mr-2"}),"Quay lại giỏ hàng"]}),r.jsxs("div",{className:"flex space-x-2 bg-gray-100 p-1 rounded-lg shadow-sm",children:[r.jsxs("button",{onClick:()=>{$("add"),Me()},className:`relative px-6 py-2 text-sm font-semibold rounded-md transition-all duration-300 ease-in-out ${H==="add"?"bg-[#9b87f5] text-white shadow-md":"bg-transparent text-gray-800 hover:bg-gray-200"}`,children:["Thêm địa chỉ mới",H==="add"&&r.jsx("span",{className:"absolute bottom-0 left-0 w-full h-1 bg-[#9b87f5] rounded-t-md"})]}),r.jsxs("button",{onClick:()=>$("list"),className:`relative px-6 py-2 text-sm font-semibold rounded-md transition-all duration-300 ease-in-out ${H==="list"?"bg-[#9b87f5] text-white shadow-md":"bg-transparent text-gray-800 hover:bg-gray-200"}`,children:["Danh sách địa chỉ",H==="list"&&r.jsx("span",{className:"absolute bottom-0 left-0 w-full h-1 bg-[#9b87f5] rounded-t-md"})]})]})]}),H==="add"&&r.jsx(qT,{mode:"add",diaChi:e,onSubmit:Ae,onCancel:()=>$("list"),provinces:B,districts:L,wards:F,selectedProvince:E,setSelectedProvince:T,selectedDistrict:w,setSelectedDistrict:C,selectedWard:j,setSelectedWard:N,isLoadingProvinces:I,isLoadingDistricts:U,isLoadingWards:z,formErrors:Q,shippingFee:W,isLoadingShippingFee:Z}),H==="list"&&r.jsx("div",{className:"space-y-4",ref:le,children:u?r.jsx("p",{className:"text-gray-800",children:"Đang tải danh sách địa chỉ..."}):n.length===0?r.jsx("p",{className:"text-gray-800",children:"Không có địa chỉ nào để hiển thị."}):n.map(Te=>r.jsxs("div",{className:`border p-4 rounded-lg bg-white shadow-sm ${Te.trangThai===1?"border-[#9b87f5]":"border-gray-300"} flex justify-between items-start`,children:[r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{className:"font-semibold text-gray-800",children:"Họ tên:"})," ",Te.hoTen]}),r.jsxs("p",{children:[r.jsx("strong",{className:"font-semibold text-gray-800",children:"Số điện thoại:"})," ",Te.sdt]}),r.jsxs("p",{children:[r.jsx("strong",{className:"font-semibold text-gray-800",children:"Phí giao hàng dự kiến:"})," ",Te.moTa||"Không có mô tả"," VND"]}),r.jsxs("p",{children:[r.jsx("strong",{className:"font-semibold text-gray-800",children:"Địa chỉ:"})," ",Te.diaChi,", ",Te.phuongXa,","," ",Te.quanHuyen,", ",Te.tinh]}),r.jsxs("p",{children:[r.jsx("strong",{className:"font-semibold text-gray-800",children:"Trạng thái:"})," ",Te.trangThai===1?"Hoạt động":"Không hoạt động"]})]}),r.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[r.jsx("input",{type:"checkbox",checked:Te.trangThai===1,onChange:()=>me(Te.maDiaChi),className:"h-5 w-5"}),r.jsx(fe,{onClick:()=>xe(Te),className:"bg-blue-600 hover:bg-blue-700 text-white w-6 h-6 p-0",children:r.jsx(Ra,{size:12})}),r.jsx(fe,{onClick:()=>Be(Te),className:"bg-[#9b87f5] hover:bg-[#8a76e4] text-white w-6 h-6 p-0",children:r.jsx(Da,{size:12})}),r.jsx(fe,{onClick:()=>ie(Te.maDiaChi),variant:"destructive",className:"w-6 h-6 p-0",children:r.jsx(vd,{size:12})})]})]},Te.maDiaChi))}),h&&H!=="add"&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center",children:r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-2xl w-full",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800",children:M==="edit"?"Chỉnh sửa địa chỉ":"Xem chi tiết địa chỉ"}),r.jsx(fe,{variant:"ghost",onClick:()=>m(!1),className:"text-gray-800",children:"✕"})]}),r.jsx(qT,{mode:M,diaChi:M==="edit"?a:o,onSubmit:Ae,onCancel:()=>m(!1),provinces:B,districts:L,wards:F,selectedProvince:E,setSelectedProvince:T,selectedDistrict:w,setSelectedDistrict:C,selectedWard:j,setSelectedWard:N,isLoadingProvinces:I,isLoadingDistricts:U,isLoadingWards:z,formErrors:Q,shippingFee:W,isLoadingShippingFee:Z})]})}),A&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center",children:r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[r.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Xác nhận xóa"}),r.jsx("p",{className:"mb-4 text-gray-800",children:"Bạn có chắc chắn muốn xóa địa chỉ này?"}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsxs(fe,{variant:"outline",onClick:()=>g(!1),className:"flex items-center border-gray-300 text-gray-800 hover:bg-gray-100",children:[r.jsx(B1,{className:"mr-2"})," Hủy"]}),r.jsxs(fe,{variant:"destructive",onClick:de,className:"flex items-center",children:[r.jsx(w0,{className:"mr-2"})," Xác nhận"]})]})]})}),p&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center",children:r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[r.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Xác nhận chọn địa chỉ"}),r.jsx("p",{className:"mb-4 text-gray-800",children:"Bạn có muốn đổi qua địa chỉ này không?"}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsxs(fe,{variant:"outline",onClick:()=>b(!1),className:"flex items-center border-gray-300 text-gray-800 hover:bg-gray-100",children:[r.jsx(B1,{className:"mr-2"})," Hủy"]}),r.jsxs(fe,{onClick:ve,className:"bg-[#9b87f5] hover:bg-[#8a76e4] text-white flex items-center",children:[r.jsx(w0,{className:"mr-2"})," Xác nhận"]})]})]})})]})})},eA="https://bicacuatho.azurewebsites.net",UAe=()=>{const[n,t]=k.useState(!1),[e,s]=k.useState(null),[a,i]=k.useState(new Date(1990,0,1)),[o,c]=k.useState({fullName:"",taikhoan:"",gioiTinh:null,email:"",phone:"",address:"",CCCD:""}),[l,d]=k.useState(null),[u,f]=k.useState(""),[h,m]=k.useState(""),[A,g]=k.useState(""),[p,b]=k.useState(!1),[x,v]=k.useState(!1),[y,S]=k.useState(!1),M=k.useRef(null),P=localStorage.getItem("token");k.useEffect(()=>{P&&(async()=>{try{const j=(await St.get(`${eA}/api/UpdateProfile/profile`,{headers:{Authorization:`Bearer ${P}`}})).data;s(j.maNguoiDung),c({fullName:j.hoTen||"",taikhoan:j.taiKhoan||"",gioiTinh:j.gioiTinh,email:j.email||"",phone:j.sdt||"",address:j.diaChi||"",CCCD:j.cccd||""}),i(j.ngaySinh?new Date(j.ngaySinh):new Date(1990,0,1)),d(j.hinhAnh?`data:image/jpg;base64,${j.hinhAnh}`:null)}catch{Ce.fire({icon:"error",title:"Lỗi",text:"Không thể lấy thông tin người dùng.",timer:3e3,showConfirmButton:!1})}})()},[P]),k.useEffect(()=>()=>{l&&l.startsWith("blob:")&&URL.revokeObjectURL(l)},[l]);const B=w=>{const{name:C,value:j}=w.target;c(N=>({...N,[C]:j}))},D=w=>{const C=w==="Nam"?null:w==="Nữ"?2:1;c(j=>({...j,gioiTinh:C}))},L=w=>{var j;const C=(j=w.target.files)==null?void 0:j[0];if(C){if(C.size>5*1024*1024){Ce.fire({icon:"error",title:"Lỗi",text:"Kích thước ảnh không được vượt quá 5MB.",timer:3e3,showConfirmButton:!1});return}if(!["image/jpeg","image/jpg","image/png"].includes(C.type)){Ce.fire({icon:"error",title:"Lỗi",text:"Chỉ chấp nhận file ảnh .jpg, .jpeg, .png.",timer:3e3,showConfirmButton:!1});return}const I=URL.createObjectURL(C);d(I)}},O=w=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(w),F=w=>/^[0-9]{10}$/.test(w),_=w=>/^[0-9]{12}$/.test(w),E=async w=>{var j,N,I,R;if(w.preventDefault(),t(!0),!o.fullName.trim()){Ce.fire({icon:"error",title:"Lỗi",text:"Họ và tên không được để trống.",timer:3e3,showConfirmButton:!1}),t(!1);return}if(!o.taikhoan.trim()){Ce.fire({icon:"error",title:"Lỗi",text:"Tài khoản không được để trống.",timer:3e3,showConfirmButton:!1}),t(!1);return}if(o.gioiTinh===void 0){Ce.fire({icon:"error",title:"Lỗi",text:"Giới tính không được để trống.",timer:3e3,showConfirmButton:!1}),t(!1);return}if(o.email&&!O(o.email)){Ce.fire({icon:"error",title:"Lỗi",text:"Email không hợp lệ.",timer:3e3,showConfirmButton:!1}),t(!1);return}if(o.phone&&!F(o.phone)){Ce.fire({icon:"error",title:"Lỗi",text:"Số điện thoại phải là 10 chữ số.",timer:3e3,showConfirmButton:!1}),t(!1);return}if(o.CCCD&&!_(o.CCCD)){Ce.fire({icon:"error",title:"Lỗi",text:"CCCD phải là 12 chữ số.",timer:3e3,showConfirmButton:!1}),t(!1);return}if(a&&a>new Date){Ce.fire({icon:"error",title:"Lỗi",text:"Ngày sinh không được lớn hơn ngày hiện tại.",timer:3e3,showConfirmButton:!1}),t(!1);return}const C=new FormData;C.append("HoTen",o.fullName),C.append("TaiKhoan",o.taikhoan),C.append("GioiTinh",o.gioiTinh===null?"":o.gioiTinh.toString()),C.append("Email",o.email),C.append("Sdt",o.phone),C.append("DiaChi",o.address),C.append("CCCD",o.CCCD),C.append("NgaySinh",a?nl(a,"yyyy-MM-dd"):""),(N=(j=M.current)==null?void 0:j.files)!=null&&N[0]&&C.append("HinhAnh",M.current.files[0]);try{await St.put(`${eA}/api/UpdateProfile/update-profile/${e}`,C,{headers:{Authorization:`Bearer ${P}`,"Content-Type":"multipart/form-data"}});const V=(await St.get(`${eA}/api/UpdateProfile/profile`,{headers:{Authorization:`Bearer ${P}`}})).data;d(V.hinhAnh?`data:image/jpg;base64,${V.hinhAnh}`:null),Ce.fire({icon:"success",title:"Cập nhật thành công",text:"Thông tin cá nhân của bạn đã được cập nhật thành công!",timer:3e3,showConfirmButton:!1})}catch(U){Ce.fire({icon:"error",title:"Lỗi",text:((R=(I=U.response)==null?void 0:I.data)==null?void 0:R.message)||"Không thể cập nhật thông tin.",timer:3e3,showConfirmButton:!1})}finally{t(!1)}},T=async w=>{var j,N;if(w.preventDefault(),t(!0),!u){Ce.fire({icon:"error",title:"Lỗi",text:"Mật khẩu hiện tại không được để trống.",timer:3e3,showConfirmButton:!1}),t(!1);return}if(!h){Ce.fire({icon:"error",title:"Lỗi",text:"Mật khẩu mới không được để trống.",timer:3e3,showConfirmButton:!1}),t(!1);return}if(h.length<6){Ce.fire({icon:"error",title:"Lỗi",text:"Mật khẩu mới phải có ít nhất 6 ký tự.",timer:3e3,showConfirmButton:!1}),t(!1);return}if(h!==A){Ce.fire({icon:"error",title:"Lỗi",text:"Mật khẩu mới và xác nhận mật khẩu không khớp.",timer:3e3,showConfirmButton:!1}),t(!1);return}const C=new FormData;C.append("MatKhauCu",u),C.append("MatKhauMoi",h);try{await St.put(`${eA}/api/UpdateProfile/update-password/${e}`,C,{headers:{Authorization:`Bearer ${P}`,"Content-Type":"multipart/form-data"}}),Ce.fire({icon:"success",title:"Cập nhật thành công",text:"Mật khẩu của bạn đã được thay đổi thành công!",timer:3e3,showConfirmButton:!1}),f(""),m(""),g("")}catch(I){Ce.fire({icon:"error",title:"Lỗi",text:((N=(j=I.response)==null?void 0:j.data)==null?void 0:N.message)||"Không thể đổi mật khẩu.",timer:3e3,showConfirmButton:!1})}finally{t(!1)}};return r.jsxs(Na,{defaultValue:"personal",className:"w-full max-w-3xl mx-auto",children:[r.jsxs(sa,{className:"grid grid-cols-2 mb-8",children:[r.jsxs(kn,{value:"personal",children:[r.jsx(Un,{className:"mr-2 h-4 w-4"}),"Thông tin cá nhân"]}),r.jsxs(kn,{value:"security",children:[r.jsx(ma,{className:"mr-2 h-4 w-4"}),"Bảo mật"]})]}),r.jsxs(Fn,{value:"personal",children:[r.jsxs(at,{children:[r.jsxs(yt,{children:[r.jsx(Ct,{children:"Thông tin cá nhân"}),r.jsx(us,{children:"Cập nhật thông tin chi tiết của bạn"})]}),r.jsx(dt,{children:r.jsxs("form",{onSubmit:E,className:"space-y-6",children:[r.jsx("div",{className:"flex flex-col items-center justify-center mb-6",children:r.jsxs("div",{className:"relative mb-4",children:[r.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden border-4 border-crocus-100 bg-gray-100 flex items-center justify-center",children:l?r.jsx("img",{src:l,alt:"Ảnh đại diện",className:"w-full h-full object-cover"}):r.jsx(Un,{size:48,className:"text-gray-400"})}),r.jsxs("label",{htmlFor:"avatarUpload",className:"absolute bottom-0 right-0 bg-crocus-500 text-white p-1.5 rounded-full cursor-pointer hover:bg-crocus-600 transition-colors",children:[r.jsx(Zy,{size:16}),r.jsx("span",{className:"sr-only",children:"Tải ảnh đại diện"})]}),r.jsx("input",{id:"avatarUpload",type:"file",accept:"image/*",ref:M,onChange:L,className:"hidden"})]})}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"fullName",children:"Họ và tên"}),r.jsxs("div",{className:"relative",children:[r.jsx(Un,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx(je,{id:"fullName",name:"fullName",placeholder:"Nhập họ tên",value:o.fullName,onChange:B,className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"taikhoan",children:"Tài khoản"}),r.jsxs("div",{className:"relative",children:[r.jsx(Un,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx(je,{id:"taikhoan",name:"taikhoan",placeholder:"Nhập tài khoản",value:o.taikhoan,onChange:B,className:"pl-10",readOnly:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"email",children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(Aa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx(je,{id:"email",name:"email",placeholder:"Nhập email",type:"email",value:o.email,onChange:B,className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"phone",children:"Số điện thoại"}),r.jsxs("div",{className:"relative",children:[r.jsx(Yl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx(je,{id:"phone",name:"phone",placeholder:"Nhập số điện thoại",type:"tel",value:o.phone,onChange:B,className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"CCCD",children:"Căn cước công dân"}),r.jsxs("div",{className:"relative",children:[r.jsx(rd,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx(je,{id:"CCCD",name:"CCCD",placeholder:"Nhập số CCCD",value:o.CCCD,onChange:B,className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"address",children:"Địa chỉ"}),r.jsxs("div",{className:"relative",children:[r.jsx(qo,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx(je,{id:"address",name:"address",placeholder:"Nhập địa chỉ",value:o.address,onChange:B,className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{children:"Giới tính"}),r.jsxs(hn,{value:o.gioiTinh===null?"Nam":o.gioiTinh===2?"Nữ":o.gioiTinh===1?"Khác":"",onValueChange:D,children:[r.jsxs(on,{className:"w-full",children:[r.jsx(Un,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx(fn,{placeholder:"Chọn giới tính",className:"pl-10"})]}),r.jsxs(ln,{children:[r.jsx(Ve,{value:"Nam",children:"Nam"}),r.jsx(Ve,{value:"Nữ",children:"Nữ"}),r.jsx(Ve,{value:"Khác",children:"Khác"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{children:"Ngày sinh"}),r.jsxs(rfe,{children:[r.jsx(sfe,{asChild:!0,children:r.jsxs(fe,{variant:"outline",className:Ue("w-full justify-start text-left font-normal",!a&&"text-muted-foreground"),children:[r.jsx($r,{className:"mr-2 h-4 w-4"}),a?nl(a,"PPP"):"Chọn ngày"]})}),r.jsx(GO,{className:"w-auto p-0",children:r.jsx(IO,{mode:"single",selected:a,onSelect:i,initialFocus:!0,captionLayout:"dropdown-buttons",fromYear:1940,toYear:new Date().getFullYear()-13})})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(fe,{type:"submit",className:"bg-crocus-500 hover:bg-crocus-600",disabled:n,children:n?"Đang lưu...":r.jsxs(r.Fragment,{children:[r.jsx(Hm,{className:"mr-2 h-4 w-4"}),"Lưu thay đổi"]})})})]})})]}),r.jsx(P7,{})]}),r.jsx(Fn,{value:"security",children:r.jsxs(at,{children:[r.jsxs(yt,{children:[r.jsx(Ct,{children:"Thay đổi mật khẩu"}),r.jsx(us,{children:"Cập nhật mật khẩu để bảo vệ tài khoản của bạn"})]}),r.jsx(dt,{children:r.jsxs("form",{onSubmit:T,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"currentPassword",children:"Mật khẩu hiện tại"}),r.jsxs("div",{className:"relative",children:[r.jsx(ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx(je,{id:"currentPassword",name:"currentPassword",placeholder:"Mật khẩu hiện tại",type:p?"text":"password",className:"pl-10 pr-10",value:u,onChange:w=>f(w.target.value)}),r.jsx("button",{type:"button",onClick:()=>b(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:p?r.jsx(pr,{className:"h-5 w-5"}):r.jsx(Wi,{className:"h-5 w-5"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"newPassword",children:"Mật khẩu mới"}),r.jsxs("div",{className:"relative",children:[r.jsx(ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx(je,{id:"newPassword",name:"newPassword",placeholder:"Mật khẩu mới",type:x?"text":"password",className:"pl-10 pr-10",value:h,onChange:w=>m(w.target.value)}),r.jsx("button",{type:"button",onClick:()=>v(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:x?r.jsx(pr,{className:"h-5 w-5"}):r.jsx(Wi,{className:"h-5 w-5"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"confirmPassword",children:"Xác nhận mật khẩu mới"}),r.jsxs("div",{className:"relative",children:[r.jsx(ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx(je,{id:"confirmPassword",name:"confirmPassword",placeholder:"Xác nhận mật khẩu",type:y?"text":"password",className:"pl-10 pr-10",value:A,onChange:w=>g(w.target.value)}),r.jsx("button",{type:"button",onClick:()=>S(!y),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:y?r.jsx(pr,{className:"h-5 w-5"}):r.jsx(Wi,{className:"h-5 w-5"})})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(fe,{type:"submit",className:"bg-crocus-500 hover:bg-crocus-600",disabled:n,children:n?"Đang xử lý...":r.jsxs(r.Fragment,{children:[r.jsx(x6,{className:"mr-2 h-4 w-4"}),"Thay đổi mật khẩu"]})})})]})})]})})]})},HAe=()=>r.jsx("div",{className:"py-10",children:r.jsx(UAe,{})}),$Ae=({combo:n,onClose:t,onUpdateCombo:e})=>{const[s,a]=k.useState(0),i=async g=>{if(t(),(await Ce.fire({title:"Hãy xác nhận lại?",text:"Bạn có chắc chắn muốn xóa Combo này ra khỏi giỏ hàng không?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Xóa!",cancelButtonText:"Không!"})).isConfirmed)try{const b={ChiTietGioHang:n.chiTietGioHangCombo,Version:g};if(!(await fetch("https://bicacuatho.azurewebsites.net/api/Cart/XoaComboVersion",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)})).ok)throw new Error("Failed to remove combo version");const v=n.sanPhamList.filter(S=>S.version!==g),y={...n,sanPhamList:v};e(y),xt.success("Combo version removed successfully"),await Ce.fire({title:"Deleted!",text:"The combo version has been removed.",icon:"success"})}catch(b){console.error("Error removing combo version:",b),xt.error("Failed to remove combo version"),await Ce.fire({title:"Error!",text:"There was a problem removing the combo version.",icon:"error"})}},o=g=>{const p=g.reduce((b,x)=>(b[x.version]||(b[x.version]=[]),b[x.version].push(x),b),{});return Object.entries(p).map(([b,x])=>({version:parseInt(b),items:x}))},c=g=>{var v;const p=g.split("_"),b=((v=p[1])==null?void 0:v.slice(0,6))||"000000",x=p[2]||"N/A";return{color:b,size:x}},l=o(n.sanPhamList),d=2,u=Math.ceil(l.length/d),f=()=>{a(g=>(g+1)%u)},h=()=>{a(g=>(g-1+u)%u)},m=()=>{const g=s*d;return l.slice(g,g+d)};console.log("Total versions:",l.length),console.log("Total slides:",u),console.log("Current slide:",s),console.log("Visible versions:",m());const A=m();return r.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-lg w-full max-w-7xl mx-auto",style:{width:"1200px"},children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("h2",{className:"text-xl font-semibold",children:["Edit ",n.tenCombo]}),r.jsxs(fe,{variant:"outline",size:"sm",onClick:t,children:[r.jsx(st,{size:16,className:"mr-2"})," Đóng"]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"overflow-hidden",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.map((g,p)=>r.jsxs("div",{className:"bg-gray-100 rounded-md p-4 relative",children:[r.jsx("button",{onClick:()=>i(g.version),className:"absolute top-2 right-2 text-red-500 hover:text-red-700 z-10",children:r.jsx(st,{size:16})}),r.jsxs("h4",{className:"font-medium mb-2",children:["Combo ",s*d+p+1," (Version: ",g.version,")"]}),r.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto pr-2",children:g.items.map((b,x)=>{const{color:v,size:y}=c(b.maSanPham);return r.jsx("div",{className:"bg-white p-2 rounded-md shadow-sm",children:r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-md overflow-hidden flex-shrink-0",children:r.jsx("img",{src:b.hinhAnh.startsWith("data:image")?b.hinhAnh:`data:image/jpeg;base64,${b.hinhAnh}`,alt:b.tenSanPham,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-bold truncate",children:b.tenSanPham}),r.jsxs("div",{className:"flex items-center mt-1",children:[r.jsx("span",{className:"text-xs text-gray-500 mr-1",children:"Màu:"}),r.jsx("div",{className:"w-4 h-4 rounded-sm border border-gray-300",style:{backgroundColor:`#${v}`}})]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Kích Thước: ",y]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Số Lượng: ",b.soLuong]})]})]})},x)})})]},g.version)),A.length===1&&r.jsx("div",{className:"bg-transparent rounded-md"})]})}),u>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:h,className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white p-2 rounded-full shadow-md hover:bg-gray-100",disabled:s===0,children:r.jsx(zr,{size:20})}),r.jsx("button",{onClick:f,className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white p-2 rounded-full shadow-md hover:bg-gray-100",disabled:s===u-1,children:r.jsx(xr,{size:20})})]}),u>1&&r.jsx("div",{className:"flex justify-center mt-6 space-x-2",children:Array.from({length:u}).map((g,p)=>r.jsx("button",{onClick:()=>a(p),className:`w-3 h-3 rounded-full transition-colors ${p===s?"bg-blue-500":"bg-gray-300"}`,"aria-label":`Go to slide ${p+1}`},p))})]}),r.jsx("div",{className:"text-center mt-6",children:r.jsx(fe,{variant:"outline",onClick:t,className:"px-8",children:"Đóng"})})]})};var QAe={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function D7(n){if(typeof n=="number")return{value:n,unit:"px"};var t,e=(n.match(/^[0-9.]*/)||"").toString();e.includes(".")?t=parseFloat(e):t=parseInt(e,10);var s=(n.match(/[^0-9]*$/)||"").toString();return QAe[s]?{value:t,unit:s}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}function WT(n){var t=D7(n);return"".concat(t.value).concat(t.unit)}var VAe=function(n,t,e){var s="react-spinners-".concat(n,"-").concat(e);if(typeof window>"u"||!window.document)return s;var a=document.createElement("style");document.head.appendChild(a);var i=a.sheet,o=`
    @keyframes `.concat(s,` {
      `).concat(t,`
    }
  `);return i&&i.insertRule(o,0),s},k0=function(){return k0=Object.assign||function(n){for(var t,e=1,s=arguments.length;e<s;e++){t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},k0.apply(this,arguments)},zAe=function(n,t){var e={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.indexOf(s)<0&&(e[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(e[s[a]]=n[s[a]]);return e},KAe=VAe("CircleLoader","0% {transform: rotate(0deg)} 50% {transform: rotate(180deg)} 100% {transform: rotate(360deg)}","circle");function XT(n){var t=n.loading,e=t===void 0?!0:t,s=n.color,a=s===void 0?"#000000":s,i=n.speedMultiplier,o=i===void 0?1:i,c=n.cssOverride,l=c===void 0?{}:c,d=n.size,u=d===void 0?50:d,f=zAe(n,["loading","color","speedMultiplier","cssOverride","size"]),h=k0({display:"inherit",position:"relative",width:WT(u),height:WT(u)},l),m=function(A){var g=D7(u),p=g.value,b=g.unit;return{position:"absolute",height:"".concat(p*(1-A/10)).concat(b),width:"".concat(p*(1-A/10)).concat(b),borderTop:"1px solid ".concat(a),borderBottom:"none",borderLeft:"1px solid ".concat(a),borderRight:"none",borderRadius:"100%",transition:"2s",top:"".concat(A*.7*2.5,"%"),left:"".concat(A*.35*2.5,"%"),animation:"".concat(KAe," ").concat(1/o,"s ").concat(A*.2/o,"s infinite linear")}};return e?k.createElement("span",k0({style:h},f),k.createElement("span",{style:m(0)}),k.createElement("span",{style:m(1)}),k.createElement("span",{style:m(2)}),k.createElement("span",{style:m(3)}),k.createElement("span",{style:m(4)})):null}const GAe=({diaChi:n,onSubmit:t,onCancel:e,provinces:s,districts:a,wards:i,selectedProvince:o,setSelectedProvince:c,selectedDistrict:l,setSelectedDistrict:d,selectedWard:u,setSelectedWard:f,isLoadingProvinces:h,isLoadingDistricts:m,isLoadingWards:A,formErrors:g})=>{const[p,b]=k.useState(n),[x,v]=k.useState(null),[y,S]=k.useState(!1),[M,P]=k.useState(null),[B,D]=k.useState(!1),L="https://bicacuatho.azurewebsites.net",O=()=>{const w=localStorage.getItem("token");return w?{Authorization:`Bearer ${w}`}:{}};k.useEffect(()=>{b(n)},[n]),k.useEffect(()=>{if(!(l!=null&&l.DistrictID)||!(u!=null&&u.WardCode)){v(null),P(null);return}const w=async()=>{S(!0);try{const j={from_district_id:1552,from_ward_code:"400103",to_district_id:l.DistrictID,to_ward_code:u.WardCode,service_id:53320},N=await fetch("https://bicacuatho.azurewebsites.net/api/GHN/leadtime",{method:"POST",headers:{"Content-Type":"application/json",...O()},body:JSON.stringify(j)});if(!N.ok)throw new Error(`HTTP error! status: ${N.status}`);const I=await N.json();v(I)}catch(j){console.error("Error fetching lead time:",j),Ce.fire({icon:"error",title:"Lỗi",text:"Không thể tải thời gian giao hàng dự kiến",timer:2e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{S(!1)}},C=async()=>{D(!0);try{const j={service_type_id:2,from_district_id:1552,from_ward_code:"400103",to_district_id:l.DistrictID,to_ward_code:u.WardCode,length:35,width:25,height:10,weight:1e3,insurance_value:0,coupon:null,items:[]},N=await fetch("https://bicacuatho.azurewebsites.net/api/GHN/shipping-fee",{method:"POST",headers:{"Content-Type":"application/json",...O()},body:JSON.stringify(j)});if(!N.ok)throw new Error(`HTTP error! status: ${N.status}`);const I=await N.json();P(I),b(R=>{var U;return{...R,moTa:((U=I.total)==null?void 0:U.toString())||""}})}catch(j){console.error("Error fetching shipping fee:",j),Ce.fire({icon:"error",title:"Lỗi",text:"Không thể tải phí giao hàng",timer:2e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{D(!1)}};w(),C()},[l,u,L]);const F=(w,C)=>{b(j=>({...j,[w]:C}))},_=w=>{const C=w.charCode;(C<48||C>57)&&w.preventDefault()},E=w=>{w.preventDefault(),t(p)},T=w=>{const C=new Date(w),j=C.getDate(),N=C.getMonth()+1,I=C.getFullYear();return`Ngày ${j}, tháng ${N}, năm ${I} nhận hàng`};return r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-[#2c3e50] mb-4",children:"Thêm địa chỉ mới"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"hoTen",className:"block text-sm font-medium text-[#2c3e50]",children:"Họ tên"}),r.jsx(je,{id:"hoTen",value:p.hoTen||"",onChange:w=>F("hoTen",w.target.value),placeholder:"Nhập họ tên",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#9b87f5] focus:border-[#9b87f5] transition-colors ${g.hoTen?"border-[#ef4444]":"border-[#d1d5db]"} text-[#2c3e50]`}),g.hoTen&&r.jsx("p",{className:"mt-1 text-sm text-[#ef4444]",children:g.hoTen})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"sdt",className:"block text-sm font-medium text-[#2c3e50]",children:"Số điện thoại"}),r.jsx(je,{id:"sdt",type:"tel",maxLength:10,value:p.sdt||"",onChange:w=>F("sdt",w.target.value),onKeyPress:_,placeholder:"Nhập số điện thoại",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#9b87f5] focus:border-[#9b87f5] transition-colors ${g.sdt?"border-[#ef4444]":"border-[#d1d5db]"} text-[#2c3e50]`}),g.sdt&&r.jsx("p",{className:"mt-1 text-sm text-[#ef4444]",children:g.sdt})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"tinh",className:"block text-sm font-medium text-[#2c3e50]",children:"Tỉnh/Thành phố"}),r.jsx(zo,{options:s,getOptionLabel:w=>w.ProvinceName,getOptionValue:w=>w.ProvinceID.toString(),value:o,onChange:w=>c(w),placeholder:h?"Đang tải...":"Chọn tỉnh/thành phố",isDisabled:h,isSearchable:!0,isClearable:!0,className:`w-full text-[#2c3e50] ${g.tinh?"border-[#ef4444]":""}`,styles:{control:w=>({...w,borderColor:g.tinh?"#ef4444":"#d1d5db","&:hover":{borderColor:g.tinh?"#ef4444":"#9b87f5"},boxShadow:"none","&:focus-within":{borderColor:"#9b87f5",boxShadow:"0 0 0 2px rgba(155, 135, 245, 0.5)"}}),singleValue:w=>({...w,color:"#2c3e50"}),placeholder:w=>({...w,color:"#6b7280"}),menu:w=>({...w,zIndex:50,backgroundColor:"#ffffff"}),option:(w,C)=>({...w,backgroundColor:C.isSelected?"#9b87f5":C.isFocused?"#f3effe":"#ffffff",color:C.isSelected?"#ffffff":"#2c3e50","&:hover":{backgroundColor:"#f3effe"}})}}),g.tinh&&r.jsx("p",{className:"mt-1 text-sm text-[#ef4444]",children:g.tinh})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"quanHuyen",className:"block text-sm font-medium text-[#2c3e50]",children:"Quận/Huyện"}),r.jsx(zo,{options:a,getOptionLabel:w=>w.DistrictName,getOptionValue:w=>w.DistrictID.toString(),value:l,onChange:w=>d(w),placeholder:m?"Đang tải...":"Chọn quận/huyện",isDisabled:!o||m,isSearchable:!0,isClearable:!0,className:`w-full text-[#2c3e50] ${g.quanHuyen?"border-[#ef4444]":""}`,styles:{control:w=>({...w,borderColor:g.quanHuyen?"#ef4444":"#d1d5db","&:hover":{borderColor:g.quanHuyen?"#ef4444":"#9b87f5"},boxShadow:"none","&:focus-within":{borderColor:"#9b87f5",boxShadow:"0 0 0 2px rgba(155, 135, 245, 0.5)"}}),singleValue:w=>({...w,color:"#2c3e50"}),placeholder:w=>({...w,color:"#6b7280"}),menu:w=>({...w,zIndex:50,backgroundColor:"#ffffff"}),option:(w,C)=>({...w,backgroundColor:C.isSelected?"#9b87f5":C.isFocused?"#f3effe":"#ffffff",color:C.isSelected?"#ffffff":"#2c3e50","&:hover":{backgroundColor:"#f3effe"}})}}),g.quanHuyen&&r.jsx("p",{className:"mt-1 text-sm text-[#ef4444]",children:g.quanHuyen})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"phuongXa",className:"block text-sm font-medium text-[#2c3e50]",children:"Phường/Xã"}),r.jsx(zo,{options:i,getOptionLabel:w=>w.WardName,getOptionValue:w=>w.WardCode,value:u,onChange:w=>f(w),placeholder:A?"Đang tải...":"Chọn phường/xã",isDisabled:!l||A,isSearchable:!0,isClearable:!0,className:`w-full text-[#2c3e50] ${g.phuongXa?"border-[#ef4444]":""}`,styles:{control:w=>({...w,borderColor:g.phuongXa?"#ef4444":"#d1d5db","&:hover":{borderColor:g.phuongXa?"#ef4444":"#9b87f5"},boxShadow:"none","&:focus-within":{borderColor:"#9b87f5",boxShadow:"0 0 0 2px rgba(155, 135, 245, 0.5)"}}),singleValue:w=>({...w,color:"#2c3e50"}),placeholder:w=>({...w,color:"#6b7280"}),menu:w=>({...w,zIndex:50,backgroundColor:"#ffffff"}),option:(w,C)=>({...w,backgroundColor:C.isSelected?"#9b87f5":C.isFocused?"#f3effe":"#ffffff",color:C.isSelected?"#ffffff":"#2c3e50","&:hover":{backgroundColor:"#f3effe"}})}}),g.phuongXa&&r.jsx("p",{className:"mt-1 text-sm text-[#ef4444]",children:g.phuongXa})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"diaChi",className:"block text-sm font-medium text-[#2c3e50]",children:"Địa chỉ chi tiết"}),r.jsx(je,{id:"diaChi",value:p.diaChi||"",onChange:w=>F("diaChi",w.target.value),placeholder:"Nhập địa chỉ chi tiết",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#9b87f5] focus:border-[#9b87f5] transition-colors ${g.diaChi?"border-[#ef4444]":"border-[#d1d5db]"} text-[#2c3e50]`}),g.diaChi&&r.jsx("p",{className:"mt-1 text-sm text-[#ef4444]",children:g.diaChi})]})]}),u&&r.jsxs("div",{className:"p-4 bg-[#f9fafb] rounded-lg mt-4",children:[r.jsxs("p",{className:"text-sm text-[#2c3e50]",children:[r.jsx("strong",{className:"font-semibold",children:"Phí giao hàng:"})," ",B?"Đang tính phí giao hàng...":M&&M.total?`${M.total.toLocaleString()} VND`:"Không thể tải phí giao hàng"]}),r.jsxs("p",{className:"text-sm text-[#2c3e50]",children:[r.jsx("strong",{className:"font-semibold",children:"Thời gian giao hàng:"})," ",y?"Đang tính thời gian giao hàng...":x?T(x.leadtime_order.to_estimate_date):"Không thể tải thời gian giao hàng"]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-6",children:[r.jsxs(fe,{type:"button",onClick:()=>window.location.href="/user/diachi",className:"flex items-center px-4 py-2 border border-[#9b87f5] text-[#9b87f5] bg-white rounded-md hover:bg-[#f3effe] hover:border-[#7c6ae8] transition-colors",children:[r.jsx(qo,{className:"mr-2 h-4 w-4"})," Danh sách địa chỉ"]}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs(fe,{type:"button",variant:"outline",onClick:e,className:"flex items-center px-4 py-2 border border-[#d1d5db] text-[#2c3e50] bg-white hover:bg-[#f3effe] hover:border-[#9b87f5] transition-colors",children:[r.jsx(st,{className:"mr-2 h-4 w-4"})," Hủy"]}),r.jsxs(fe,{type:"button",onClick:E,className:"flex items-center px-4 py-2 bg-[#9b87f5] text-white hover:bg-[#7c6ae8] transition-colors",children:[r.jsx(th,{className:"mr-2 h-4 w-4"})," Thêm địa chỉ"]})]})]})]})},QC=()=>{const[n,t]=k.useState({trangThai:1}),[e,s]=k.useState(null),[a,i]=k.useState([]),[o,c]=k.useState([]),[l,d]=k.useState([]),[u,f]=k.useState(null),[h,m]=k.useState(null),[A,g]=k.useState(null),[p,b]=k.useState(!1),[x,v]=k.useState(!1),[y,S]=k.useState(!1),[M,P]=k.useState({}),[B,D]=k.useState(!1),[L,O]=k.useState([]),F=fs(),_=dr(),E="https://bicacuatho.azurewebsites.net",T=()=>{const I=localStorage.getItem("token");return I?{Authorization:`Bearer ${I}`}:{}};k.useEffect(()=>{(async()=>{b(!0);try{const R=await fetch("https://bicacuatho.azurewebsites.net/api/GHN/provinces",{headers:T()});if(!R.ok)throw new Error(`HTTP error! status: ${R.status}`);const V=(await R.json()).map(z=>({ProvinceID:z.provinceID,ProvinceName:z.provinceName}));i(V)}catch{Ce.fire({icon:"error",title:"Lỗi",text:"Không thể lấy danh sách tỉnh/thành phố",timer:2e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{b(!1)}})()},[E]),k.useEffect(()=>{if(!(u!=null&&u.ProvinceID)){c([]),d([]),m(null),g(null);return}(async()=>{v(!0);try{const R=await fetch(`https://bicacuatho.azurewebsites.net/api/GHN/districts/${u.ProvinceID}`,{headers:T()});if(!R.ok)throw new Error(`HTTP error! status: ${R.status}`);const V=(await R.json()).map(z=>({DistrictID:z.districtID,DistrictName:z.districtName}));c(V),d([]),m(null),g(null)}catch{Ce.fire({icon:"error",title:"Lỗi",text:"Không thể lấy danh sách quận/huyện",timer:2e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{v(!1)}})()},[u,E]),k.useEffect(()=>{if(!(h!=null&&h.DistrictID)){d([]),g(null);return}(async()=>{S(!0);try{const R=await fetch(`https://bicacuatho.azurewebsites.net/api/GHN/wards/${h.DistrictID}`,{headers:T()});if(!R.ok)throw new Error(`HTTP error! status: ${R.status}`);const V=(await R.json()).map(z=>({WardCode:z.wardCode,WardName:z.wardName}));d(V),g(null)}catch{Ce.fire({icon:"error",title:"Lỗi",text:"Không thể lấy danh sách phường/xã",timer:2e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{S(!1)}})()},[h,E]),k.useEffect(()=>{const I=localStorage.getItem("user");if(I)try{const R=JSON.parse(I);s(R.maNguoiDung)}catch{_("/login")}else _("/login")},[_]),k.useEffect(()=>{e&&(async()=>{if(e)try{const R=await fetch(`https://bicacuatho.azurewebsites.net/api/DanhSachDiaChi/maNguoiDung/${e}`,{headers:T()});if(!R.ok)throw new Error(`HTTP error! status: ${R.status}`);const U=await R.json();O(U)}catch{Ce.fire({icon:"error",title:"Lỗi",text:"Không thể lấy danh sách địa chỉ",timer:2e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}})()},[e,E]),k.useEffect(()=>{const{state:I}=F,R=localStorage.getItem("showAddressModal");(I!=null&&I.showAddressModal||R==="true")&&(t({trangThai:1}),f(null),m(null),g(null),c([]),d([]),P({}),D(!0),localStorage.removeItem("showAddressModal"))},[F]);const w=I=>{const R={};return(!I.hoTen||I.hoTen.trim().length<5)&&(R.hoTen="Họ tên phải có ít nhất 5 ký tự"),I.sdt?/^\d{10}$/.test(I.sdt)||(R.sdt="Số điện thoại phải có đúng 10 chữ số"):R.sdt="Số điện thoại là bắt buộc",u||(R.tinh="Tỉnh/Thành phố là bắt buộc"),h||(R.quanHuyen="Quận/Huyện là bắt buộc"),A||(R.phuongXa="Phường/Xã là bắt buộc"),(!I.diaChi||I.diaChi.trim()==="")&&(R.diaChi="Địa chỉ chi tiết là bắt buộc"),R},C=async I=>{const R={...I,tinh:u==null?void 0:u.ProvinceName,quanHuyen:h==null?void 0:h.DistrictName,phuongXa:A==null?void 0:A.WardName},U=w(R);if(P(U),Object.keys(U).length>0){Ce.fire({icon:"error",title:"Lỗi",text:"Vui lòng điền đầy đủ và đúng thông tin",timer:2e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}try{if(L.length>=5){Ce.fire({icon:"error",title:"Lỗi",text:"Bạn chỉ có thể có tối đa 5 địa chỉ",timer:2e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0}),D(!1),_("/user/diachi");return}const V=await fetch("https://bicacuatho.azurewebsites.net/api/DanhSachDiaChi",{method:"POST",headers:{"Content-Type":"application/json",...T()},body:JSON.stringify({...R,maNguoiDung:e,trangThai:1})});if(!V.ok)throw new Error(`HTTP error! status: ${V.status}`);await Promise.all(L.map(async z=>{const X=await fetch(`https://bicacuatho.azurewebsites.net/api/DanhSachDiaChi/${z.maDiaChi}`,{method:"PUT",headers:{"Content-Type":"application/json",...T()},body:JSON.stringify({...z,trangThai:0})});if(!X.ok)throw new Error(`HTTP error! status: ${X.status}`)})),Ce.fire({icon:"success",title:"Thành công",text:"Đã thêm địa chỉ mới thành công",timer:2e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0}).then(()=>{window.location.reload()}),D(!1),j()}catch{Ce.fire({icon:"error",title:"Lỗi",text:"Không thể thêm địa chỉ",timer:2e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}},j=()=>{t({trangThai:1}),f(null),m(null),g(null),c([]),d([]),P({})},N=()=>{D(!1),j()};return r.jsx("div",{className:"mt-8",children:r.jsx("div",{className:"flex justify-center mb-4",children:r.jsxs(Yt,{open:B,onOpenChange:D,children:[r.jsx(nC,{asChild:!0,children:r.jsxs("button",{className:"flex items-center px-6 py-2 text-sm bg-[#9b87f5] text-white font-medium rounded-md border border-[#7c6ae8] hover:bg-[#7c6ae8] transition-colors shadow",children:["Thêm địa chỉ mới",r.jsx(lo,{className:"ml-2 h-4 w-4"})]})}),r.jsx(Kt,{className:"max-w-3xl p-0 border-[#9b87f5] bg-white",children:r.jsx("div",{className:"p-6 border border-[#9b87f5] rounded-md bg-white shadow-lg",children:r.jsx(GAe,{diaChi:n,onSubmit:C,onCancel:N,provinces:a,districts:o,wards:l,selectedProvince:u,setSelectedProvince:f,selectedDistrict:h,setSelectedDistrict:m,selectedWard:A,setSelectedWard:g,isLoadingProvinces:p,isLoadingDistricts:x,isLoadingWards:y,formErrors:M})})})]})})})},I7=()=>{const[n,t]=k.useState([]),[e,s]=k.useState([]),[a,i]=k.useState([]),[o,c]=k.useState(null),[l,d]=k.useState(null),[u,f]=k.useState(null),[h,m]=k.useState(!1),[A,g]=k.useState(!1),[p,b]=k.useState(!1),[x,v]=k.useState(!1),[y,S]=k.useState(!1),[M,P]=k.useState({}),[B,D]=k.useState(null),[L,O]=k.useState(null),[F,_]=k.useState(!1),E="https://bicacuatho.azurewebsites.net",T=()=>{const C=localStorage.getItem("token");return C?{Authorization:`Bearer ${C}`}:{}};k.useEffect(()=>{(async()=>{m(!0);try{const j=await fetch("https://bicacuatho.azurewebsites.net/api/GHN/provinces",{headers:T()});if(!j.ok)throw new Error(`HTTP error! status: ${j.status}`);const I=(await j.json()).map(R=>({ProvinceID:R.provinceID,ProvinceName:R.provinceName}));t(I)}catch(j){console.error("Error fetching provinces:",j),P(N=>({...N,tinh:"Không thể tải danh sách tỉnh/thành phố"}))}finally{m(!1)}})()},[E]),k.useEffect(()=>{if(!(o!=null&&o.ProvinceID)){s([]),i([]),d(null),f(null),D(null),O(null),P(j=>({...j,quanHuyen:void 0,phuongXa:void 0,leadTime:void 0,shippingFee:void 0}));return}(async()=>{g(!0);try{const j=await fetch(`https://bicacuatho.azurewebsites.net/api/GHN/districts/${o.ProvinceID}`,{headers:T()});if(!j.ok)throw new Error(`HTTP error! status: ${j.status}`);const I=(await j.json()).map(R=>({DistrictID:R.districtID,DistrictName:R.districtName}));s(I),i([]),d(null),f(null),D(null),O(null),P(R=>({...R,quanHuyen:void 0,phuongXa:void 0,leadTime:void 0,shippingFee:void 0}))}catch(j){console.error("Error fetching districts:",j),P(N=>({...N,quanHuyen:"Không thể tải danh sách quận/huyện"}))}finally{g(!1)}})()},[o,E]),k.useEffect(()=>{if(!(l!=null&&l.DistrictID)){i([]),f(null),D(null),O(null),P(j=>({...j,phuongXa:void 0,leadTime:void 0,shippingFee:void 0}));return}(async()=>{b(!0);try{const j=await fetch(`https://bicacuatho.azurewebsites.net/api/GHN/wards/${l.DistrictID}`,{headers:T()});if(!j.ok)throw new Error(`HTTP error! status: ${j.status}`);const I=(await j.json()).map(R=>({WardCode:R.wardCode,WardName:R.wardName}));i(I),f(null),D(null),O(null),P(R=>({...R,phuongXa:void 0,leadTime:void 0,shippingFee:void 0}))}catch(j){console.error("Error fetching wards:",j),P(N=>({...N,phuongXa:"Không thể tải danh sách phường/xã"}))}finally{b(!1)}})()},[l,E]),k.useEffect(()=>{if(!(l!=null&&l.DistrictID)||!(u!=null&&u.WardCode)){D(null),O(null),P(N=>({...N,leadTime:void 0,shippingFee:void 0}));return}const C=async()=>{v(!0);try{const N={from_district_id:1552,from_ward_code:"400103",to_district_id:l.DistrictID,to_ward_code:u.WardCode,service_id:53320},I=await fetch("https://bicacuatho.azurewebsites.net/api/GHN/leadtime",{method:"POST",headers:{"Content-Type":"application/json",...T()},body:JSON.stringify(N)});if(!I.ok)throw new Error(`HTTP error! status: ${I.status}`);const R=await I.json();D(R),P(U=>({...U,leadTime:void 0}))}catch(N){console.error("Error fetching lead time:",N),P(I=>({...I,leadTime:"Không thể tải thời gian giao hàng dự kiến"}))}finally{v(!1)}},j=async()=>{S(!0);try{const N={service_type_id:2,from_district_id:1552,from_ward_code:"400103",to_district_id:l.DistrictID,to_ward_code:u.WardCode,length:35,width:25,height:10,weight:1e3,insurance_value:0,coupon:null,items:[]},I=await fetch("https://bicacuatho.azurewebsites.net/api/GHN/shipping-fee",{method:"POST",headers:{"Content-Type":"application/json",...T()},body:JSON.stringify(N)});if(!I.ok)throw new Error(`HTTP error! status: ${I.status}`);const R=await I.json();O(R),P(U=>({...U,shippingFee:void 0}))}catch(N){console.error("Error fetching shipping fee:",N),P(I=>({...I,shippingFee:"Không thể tải phí giao hàng dự kiến"}))}finally{S(!1)}};C(),j()},[l,u,E]);const w=C=>{const j=new Date(C),N=j.getDate(),I=j.getMonth()+1,R=j.getFullYear();return`${N}, tháng ${I}, năm ${R} nhận hàng`};return r.jsxs("div",{style:tA.containerWrapper,children:[r.jsx("div",{style:tA.headerContainer,children:r.jsxs("button",{onClick:()=>_(!F),style:tA.toggleButton,children:["Thời gian giao hàng dự kiến",F?r.jsx(th,{size:18}):r.jsx(lo,{size:18})]})}),F&&r.jsx("div",{style:tA.container,children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"tinh",className:"block text-sm font-medium text-[#2c3e50]",children:"Tỉnh/Thành phố"}),r.jsx(zo,{options:n,getOptionLabel:C=>C.ProvinceName,getOptionValue:C=>C.ProvinceID.toString(),value:o,onChange:C=>c(C),placeholder:h?"Đang tải...":"Chọn tỉnh/thành phố",isDisabled:h,isSearchable:!0,isClearable:!0,className:`w-full text-[#2c3e50] ${M.tinh?"border-[#ef4444]":""}`,styles:{control:C=>({...C,borderColor:M.tinh?"#ef4444":"#d1d5db","&:hover":{borderColor:M.tinh?"#ef4444":"#9b87f5"},boxShadow:"none","&:focus-within":{borderColor:"#9b87f5",boxShadow:"0 0 0 2px rgba(155, 135, 245, 0.5)"}}),singleValue:C=>({...C,color:"#2c3e50"}),placeholder:C=>({...C,color:"#6b7280"}),menu:C=>({...C,zIndex:50,backgroundColor:"#ffffff"}),option:(C,j)=>({...C,backgroundColor:j.isSelected?"#9b87f5":j.isFocused?"#f3effe":"#ffffff",color:j.isSelected?"#ffffff":"#2c3e50","&:hover":{backgroundColor:"#f3effe"}})}}),M.tinh&&r.jsx("p",{className:"mt-1 text-sm text-[#ef4444]",children:M.tinh})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"quanHuyen",className:"block text-sm font-medium text-[#2c3e50]",children:"Quận/Huyện"}),r.jsx(zo,{options:e,getOptionLabel:C=>C.DistrictName,getOptionValue:C=>C.DistrictID.toString(),value:l,onChange:C=>d(C),placeholder:A?"Đang tải...":"Chọn quận/huyện",isDisabled:!o||A,isSearchable:!0,isClearable:!0,className:`w-full text-[#2c3e50] ${M.quanHuyen?"border-[#ef4444]":""}`,styles:{control:C=>({...C,borderColor:M.quanHuyen?"#ef4444":"#d1d5db","&:hover":{borderColor:M.quanHuyen?"#ef4444":"#9b87f5"},boxShadow:"none","&:focus-within":{borderColor:"#9b87f5",boxShadow:"0 0 0 2px rgba(155, 135, 245, 0.5)"}}),singleValue:C=>({...C,color:"#2c3e50"}),placeholder:C=>({...C,color:"#6b7280"}),menu:C=>({...C,zIndex:50,backgroundColor:"#ffffff"}),option:(C,j)=>({...C,backgroundColor:j.isSelected?"#9b87f5":j.isFocused?"#f3effe":"#ffffff",color:j.isSelected?"#ffffff":"#2c3e50","&:hover":{backgroundColor:"#f3effe"}})}}),M.quanHuyen&&r.jsx("p",{className:"mt-1 text-sm text-[#ef4444]",children:M.quanHuyen})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"phuongXa",className:"block text-sm font-medium text-[#2c3e50]",children:"Phường/Xã"}),r.jsx(zo,{options:a,getOptionLabel:C=>C.WardName,getOptionValue:C=>C.WardCode,value:u,onChange:C=>f(C),placeholder:p?"Đang tải...":"Chọn phường/xã",isDisabled:!l||p,isSearchable:!0,isClearable:!0,className:`w-full text-[#2c3e50] ${M.phuongXa?"border-[#ef4444]":""}`,styles:{control:C=>({...C,borderColor:M.phuongXa?"#ef4444":"#d1d5db","&:hover":{borderColor:M.phuongXa?"#ef4444":"#9b87f5"},boxShadow:"none","&:focus-within":{borderColor:"#9b87f5",boxShadow:"0 0 0 2px rgba(155, 135, 245, 0.5)"}}),singleValue:C=>({...C,color:"#2c3e50"}),placeholder:C=>({...C,color:"#6b7280"}),menu:C=>({...C,zIndex:50,backgroundColor:"#ffffff"}),option:(C,j)=>({...C,backgroundColor:j.isSelected?"#9b87f5":j.isFocused?"#f3effe":"#ffffff",color:j.isSelected?"#ffffff":"#2c3e50","&:hover":{backgroundColor:"#f3effe"}})}}),M.phuongXa&&r.jsx("p",{className:"mt-1 text-sm text-[#ef4444]",children:M.phuongXa})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"shippingFee",className:"block text-sm font-medium text-[#2c3e50]",children:"Phí giao hàng dự kiến"}),y?r.jsx(je,{id:"shippingFee",value:"Đang tính phí giao hàng...",readOnly:!0,className:"w-full text-[#2c3e50] bg-[#f9fafb] border-[#d1d5db] focus:border-[#9b87f5] focus:ring-[#9b87f5] focus:ring-opacity-50"}):L&&L.total?r.jsx(je,{id:"shippingFee",value:`${L.total.toLocaleString()} VND`,readOnly:!0,className:"w-full text-[#2c3e50] bg-[#f9fafb] border-[#d1d5db] focus:border-[#9b87f5] focus:ring-[#9b87f5] focus:ring-opacity-50"}):r.jsx(je,{id:"shippingFee",value:"",placeholder:"Xem phí giao hàng",readOnly:!0,className:"w-full text-[#2c3e50] bg-[#f9fafb] border-[#d1d5db] focus:border-[#9b87f5] focus:ring-[#9b87f5] focus:ring-opacity-50"}),M.shippingFee&&r.jsx("p",{className:"mt-1 text-sm text-[#ef4444]",children:M.shippingFee})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"leadTime",className:"block text-sm font-medium text-[#2c3e50]",children:"Thời gian giao hàng dự kiến"}),x?r.jsx(je,{id:"leadTime",value:"Đang tính thời gian giao hàng...",readOnly:!0,className:"w-full text-[#2c3e50] bg-[#f9fafb] border-[#d1d5db] focus:border-[#9b87f5] focus:ring-[#9b87f5] focus:ring-opacity-50"}):B?r.jsx(je,{id:"leadTime",value:w(B.leadtime_order.to_estimate_date),readOnly:!0,className:"w-full text-[#2c3e50] bg-[#f9fafb] border-[#d1d5db] focus:border-[#9b87f5] focus:ring-[#9b87f5] focus:ring-opacity-50"}):r.jsx(je,{id:"leadTime",value:"",placeholder:"Xem thời gian giao hàng",readOnly:!0,className:"w-full text-[#2c3e50] bg-[#f9fafb] border-[#d1d5db] focus:border-[#9b87f5] focus:ring-[#9b87f5] focus:ring-opacity-50"}),M.leadTime&&r.jsx("p",{className:"mt-1 text-sm text-[#ef4444]",children:M.leadTime})]})]})})]})},tA={containerWrapper:{maxWidth:"1200px",margin:"30px auto",position:"relative"},headerContainer:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginBottom:"10px"},toggleButton:{padding:"8px 27px",borderRadius:"4px",border:"1px solid #d1d5db",backgroundColor:"#f5f5ff",fontSize:"16px",fontWeight:"bold",cursor:"pointer",outline:"none",transition:"border-color 0.3s",display:"flex",alignItems:"center",gap:"6px",color:"#2c3e50"},container:{padding:"15px",border:"1px solid #d1d5db",borderRadius:"8px",backgroundColor:"#ffffff",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}},qAe=()=>{const n=dr(),t=fs(),[e,s]=k.useState([]),[a,i]=k.useState([]),[o,c]=k.useState(""),[l,d]=k.useState(!1),[u,f]=k.useState(0),[h,m]=k.useState(0),[A,g]=k.useState(!1),[p,b]=k.useState(null),[x,v]=k.useState(""),[y,S]=k.useState(null),[M,P]=k.useState([]),[B,D]=k.useState([]),[L,O]=k.useState([]),[F,_]=k.useState([]),[E,T]=k.useState(!1),[w,C]=k.useState(0),[j,N]=k.useState(null),[I,R]=k.useState("cod"),[U,V]=k.useState(!1),[z,X]=k.useState(!1),[Q,q]=k.useState(null),[H,$]=k.useState(!1),[G,J]=k.useState(!1),[te,K]=k.useState(!1),[ne,ce]=k.useState(!1),[oe,ee]=k.useState(!1),[W,Y]=k.useState(()=>{const xe=localStorage.getItem("checkoutForm");return xe?JSON.parse(xe):{tenNguoiNhan:"",sdt:"",province:"",district:"",ward:"",specificAddress:""}}),Z=xe=>Math.round(xe).toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),se=xe=>{const Te=new Date(xe),_e=Te.getDate(),Pe=Te.getMonth()+1,be=Te.getFullYear();return`Ngày ${_e}, tháng ${Pe}, năm ${be} nhận hàng`},re=()=>{const xe=localStorage.getItem("token");return xe?{Authorization:`Bearer ${xe}`}:{}};k.useEffect(()=>{localStorage.setItem("checkoutForm",JSON.stringify(W))},[W]),k.useEffect(()=>{var Pe;const xe=async()=>{$(!0);try{const be=await fetch("https://bicacuatho.azurewebsites.net/api/GHN/provinces",{headers:re()});if(!be.ok)throw new Error(`HTTP error! status: ${be.status}`);const Ee=await be.json();P(Ee.map(ge=>({ProvinceID:ge.provinceID,ProvinceName:ge.provinceName})))}catch(be){xt.error("Không thể tải danh sách tỉnh/thành phố"),console.error("Error fetching provinces:",be)}finally{$(!1)}},Te=async()=>{var Ee,ge;const be=localStorage.getItem("userId");if(be)try{const Se=await fetch(`https://bicacuatho.azurewebsites.net/api/DanhSachDiaChi/maNguoiDung/${be}`,{headers:re()});if(!Se.ok)throw new Error(`HTTP error! status: ${Se.status}`);const ze=(await Se.json()).sort(($e,et)=>et.trangThai-$e.trangThai);_(ze);const Le=ze.find($e=>$e.trangThai===1);Le&&!((Ee=t.state)!=null&&Ee.newAddress)?le(Le,!1):(ge=t.state)!=null&&ge.newAddress&&le(t.state.newAddress,!1)}catch(Se){xt.error("Không thể tải danh sách địa chỉ"),console.error("Error fetching addresses:",Se)}};if((async()=>{const be=localStorage.getItem("userId");if(!be){Ce.fire({title:"Vui lòng đăng nhập!",text:"Bạn cần đăng nhập để xem giỏ hàng.",icon:"warning",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{n("/login")});return}const Ee=`https://api.qrserver.com/v1/create-qr-code/?data=${encodeURIComponent(`https://bicacuatho.azurewebsites.net/api/Cart/CopyGioHang?id=${be}`)}&size=200x200`;v(Ee);try{const ge=await fetch(`https://bicacuatho.azurewebsites.net/api/Cart/GioHangByKhachHang?id=${be}`,{headers:re()});if(!ge.ok)throw new Error(`HTTP error! status: ${ge.status}`);const Se=await ge.json();S(Se.id);const Ie=Se.ctghSanPhamView.map($e=>({...$e,hinhAnh:$e.hinhAnh.startsWith("data:image")?$e.hinhAnh:`data:image/jpeg;base64,${$e.hinhAnh}`}));s(Ie);const ze=Se.ctghComboView.map($e=>{var et;return{...$e,chiTietGioHangCombo:$e.chiTietGioHangCombo,hinhAnh:(et=$e.hinhAnh)!=null&&et.startsWith("data:image")?$e.hinhAnh:$e.hinhAnh?`data:image/jpeg;base64,${$e.hinhAnh}`:"/placeholder-image.jpg",sanPhamList:$e.sanPhamList.map(jt=>{var At;return{...jt,hinhAnh:(At=jt.hinhAnh)!=null&&At.startsWith("data:image")?jt.hinhAnh:jt.hinhAnh?`data:image/jpeg;base64,${jt.hinhAnh}`:"/placeholder-image.jpg"}})}});i(ze);const Le=ie();m(Le+w-u)}catch(ge){console.error("Error fetching cart:",ge)}})(),xe(),Te(),(Pe=t.state)!=null&&Pe.fromDiachi){localStorage.getItem("showAddressModal")==="true"&&T(!0);const Ee=localStorage.getItem("scrollY");Ee&&window.scrollTo(0,parseInt(Ee))}},[n,t,w,u]),k.useEffect(()=>{if(!W.province){D([]),O([]),C(0),N(null);return}(async()=>{J(!0);try{const Te=await fetch(`https://bicacuatho.azurewebsites.net/api/GHN/districts/${W.province}`,{headers:re()});if(!Te.ok)throw new Error(`HTTP error! status: ${Te.status}`);const _e=await Te.json();D(_e.map(Pe=>({DistrictID:Pe.districtID,DistrictName:Pe.districtName})))}catch(Te){xt.error("Không thể tải danh sách quận/huyện"),console.error("Error fetching districts:",Te)}finally{J(!1)}})()},[W.province]),k.useEffect(()=>{if(!W.district){O([]),C(0),N(null);return}(async()=>{K(!0);try{const Te=await fetch(`https://bicacuatho.azurewebsites.net/api/GHN/wards/${W.district}`,{headers:re()});if(!Te.ok)throw new Error(`HTTP error! status: ${Te.status}`);const _e=await Te.json();O(_e.map(Pe=>({WardCode:Pe.wardCode,WardName:Pe.wardName})))}catch(Te){xt.error("Không thể tải danh sách phường/xã"),console.error("Error fetching wards:",Te)}finally{K(!1)}})()},[W.district]),k.useEffect(()=>{if(!W.district||!W.ward){C(0),N(null);return}(async()=>{ce(!0),ee(!0);try{const Te={service_type_id:2,from_district_id:1552,from_ward_code:"400103",to_district_id:parseInt(W.district),to_ward_code:W.ward,length:35,width:25,height:10,weight:1e3,insurance_value:0,coupon:null,items:[]},_e=await fetch("https://bicacuatho.azurewebsites.net/api/GHN/shipping-fee",{method:"POST",headers:{"Content-Type":"application/json",...re()},body:JSON.stringify(Te)});if(!_e.ok)throw new Error(`HTTP error! status: ${_e.status}`);const Pe=await _e.json();C(Pe.total);const be={from_district_id:1552,from_ward_code:"400103",to_district_id:parseInt(W.district),to_ward_code:W.ward,service_id:53320},Ee=await fetch("https://bicacuatho.azurewebsites.net/api/GHN/leadtime",{method:"POST",headers:{"Content-Type":"application/json",...re()},body:JSON.stringify(be)});if(!Ee.ok)throw new Error(`HTTP error! status: ${Ee.status}`);const ge=await Ee.json();N(ge)}catch(Te){xt.error("Không thể tải phí hoặc thời gian giao hàng"),console.error("Error fetching shipping fee or lead time:",Te),C(0),N(null)}finally{ce(!1),ee(!1)}})()},[W.district,W.ward]);const le=async(xe,Te=!0)=>{X(!0);try{if(!M.length)return;const _e=M.find(Le=>Le.ProvinceName===xe.tinh);if(!_e){xt.error(`Không tìm thấy tỉnh/thành phố: ${xe.tinh}`),T(!0);return}const Pe=await fetch(`https://bicacuatho.azurewebsites.net/api/GHN/districts/${_e.ProvinceID}`,{headers:re()});if(!Pe.ok)throw new Error(`HTTP error! status: ${Pe.status}`);const be=await Pe.json(),Ee=be.find(Le=>Le.districtName===xe.quanHuyen);if(!Ee){xt.error(`Không tìm thấy quận/huyện: ${xe.quanHuyen}`),T(!0);return}const ge=await fetch(`https://bicacuatho.azurewebsites.net/api/GHN/wards/${Ee.districtID}`,{headers:re()});if(!ge.ok)throw new Error(`HTTP error! status: ${ge.status}`);const Se=await ge.json(),Ie=Se.find(Le=>Le.wardName===xe.phuongXa);if(!Ie){xt.error(`Không tìm thấy phường/xã: ${xe.phuongXa}`),T(!0);return}Y({tenNguoiNhan:xe.hoTen,sdt:xe.sdt,province:_e.ProvinceID.toString(),district:Ee.districtID.toString(),ward:Ie.wardCode,specificAddress:xe.diaChi}),D(be.map(Le=>({DistrictID:Le.districtID,DistrictName:Le.districtName}))),O(Se.map(Le=>({WardCode:Le.wardCode,WardName:Le.wardName})));const ze=ie();m(ze-u+w),T(!1),Te&&xt.success("Đã chọn địa chỉ thành công")}catch(_e){xt.error("Không thể chọn địa chỉ, vui lòng thử lại"),console.error("Error in handleSelectAddress:",_e)}finally{X(!1)}},ae=async xe=>{var Te;q(xe);try{const _e=await fetch(`https://bicacuatho.azurewebsites.net/api/DanhSachDiaChi/${xe}`,{method:"DELETE",headers:re()});if(!_e.ok)throw new Error(`HTTP error! status: ${_e.status}`);_(Pe=>Pe.filter(be=>be.maDiaChi!==xe)),W.specificAddress===((Te=F.find(Pe=>Pe.maDiaChi===xe))==null?void 0:Te.diaChi)&&(Y({tenNguoiNhan:"",sdt:"",province:"",district:"",ward:"",specificAddress:""}),C(0),N(null),m(ie()-u)),xt.success("Đã xóa địa chỉ thành công")}catch(_e){xt.error("Xóa địa chỉ thất bại"),console.error("Error deleting address:",_e)}finally{q(null)}},ue=async(xe,Te)=>{const _e=localStorage.getItem("userId");if(!_e){Ce.fire({title:"Vui lòng đăng nhập!",text:"Bạn cần đăng nhập để thay đổi số lượng.",icon:"warning",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{n("/login")});return}const Pe={MaKhachHang:_e,IDSanPham:xe,IDCombo:null};try{Te>0?await fetch("https://bicacuatho.azurewebsites.net/api/Cart/TangSoLuongSanPham",{method:"POST",headers:{"Content-Type":"application/json",...re()},body:JSON.stringify(Pe)}):await fetch(`${API_URL}/api/Cart/GiamSoLuongSanPham`,{method:"POST",headers:{"Content-Type":"application/json",...re()},body:JSON.stringify(Pe)}),s(Ee=>Ee.map(ge=>ge.idSanPham===xe?{...ge,soLuong:Math.max(1,ge.soLuong+Te)}:ge));const be=ie();m(be-u+w)}catch(be){xt.error("Không thể cập nhật số lượng"),console.error("Error updating quantity:",be)}},he=async xe=>{const Te=localStorage.getItem("userId");if(!Te){Ce.fire({title:"Vui lòng đăng nhập!",text:"Bạn cần đăng nhập để xóa sản phẩm.",icon:"warning",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{n("/login")});return}if((await Ce.fire({title:"Bạn có chắc không?",text:"Bạn có muốn xóa sản phẩm này khỏi giỏ hàng?",icon:"warning",showCancelButton:!0,confirmButtonText:"Có, xóa nó!",cancelButtonText:"Không, giữ lại"})).isConfirmed){const Pe={MaKhachHang:Te,IDSanPham:xe,IDCombo:null};try{await fetch("https://bicacuatho.azurewebsites.net/api/Cart/XoaSanPham",{method:"DELETE",headers:{"Content-Type":"application/json",...re()},body:JSON.stringify(Pe)}),s(Ee=>Ee.filter(ge=>ge.idSanPham!==xe)),xt.success("Đã xóa sản phẩm khỏi giỏ hàng");const be=ie();m(be-u+w)}catch(be){xt.error("Xóa sản phẩm thất bại"),console.error("Error removing item:",be)}}},pe=async xe=>{const Te=localStorage.getItem("userId");if(!Te){Ce.fire({title:"Vui lòng đăng nhập!",text:"Bạn cần đăng nhập để xóa combo.",icon:"warning",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{n("/login")});return}if((await Ce.fire({title:"Bạn có chắc không?",text:"Bạn có muốn xóa combo này khỏi giỏ hàng?",icon:"warning",showCancelButton:!0,confirmButtonText:"Có, xóa nó!",cancelButtonText:"Không, giữ lại"})).isConfirmed){const Pe={MaKhachHang:Te,IDSanPham:null,IDCombo:xe};try{await fetch("https://bicacuatho.azurewebsites.net/api/Cart/XoaCombo",{method:"DELETE",headers:{"Content-Type":"application/json",...re()},body:JSON.stringify(Pe)}),i(Ee=>Ee.filter(ge=>ge.idCombo!==xe)),xt.success("Đã xóa combo khỏi giỏ hàng");const be=ie();m(be-u+w)}catch(be){xt.error("Xóa combo thất bại"),console.error("Error removing combo:",be)}}},Ae=xe=>{i(_e=>_e.map(Pe=>Pe.idCombo===xe.idCombo?xe:Pe));const Te=ie();m(Te-u+w)},ie=()=>{const xe=e.reduce((_e,Pe)=>_e+Pe.tienSanPham*Pe.soLuong,0),Te=a.reduce((_e,Pe)=>_e+Pe.gia*Pe.soLuong,0);return xe+Te},de=()=>u,me=()=>ie()-u+w,ve=xe=>{const{name:Te,value:_e}=xe.target;Y(Pe=>({...Pe,[Te]:_e}))},Me=async()=>{if(!o){xt.error("Vui lòng nhập mã giảm giá");return}if(!y){xt.error("Giỏ hàng không hợp lệ");return}try{const xe=await fetch(`https://bicacuatho.azurewebsites.net/api/Voucher/Validate?code=${encodeURIComponent(o)}&cartId=${y}`,{method:"GET",headers:{"Content-Type":"application/json",...re()}});if(!xe.ok){const _e=await xe.text();throw new Error(`HTTP error! Status: ${xe.status}`)}const Te=await xe.json();Te.success?(d(!0),f(Te.discountAmount),m(ie()-Te.discountAmount+w),xt.success("Mã giảm giá đã được áp dụng!")):(d(!1),f(0),m(ie()+w),xt.error(Te.message))}catch(xe){xt.error("Mã giảm giá không hợp lệ, không đủ điều kiện hoặc đã hết hạn."),console.error("Error applying promo:",xe)}},Be=async xe=>{xe.preventDefault();const Te=localStorage.getItem("userId");if(!Te){Ce.fire({title:"Vui lòng đăng nhập!",text:"Bạn cần đăng nhập để thanh toán.",icon:"warning",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{n("/login")});return}if(["tenNguoiNhan","sdt","province","district","ward","specificAddress"].filter(be=>!W[be]).length>0){xt.error("Vui lòng điền đầy đủ thông tin giao hàng");return}I==="cod"&&V(!0);try{const be=await fetch(`https://bicacuatho.azurewebsites.net/api/Cart/GioHangByKhachHang?id=${Te}`,{headers:re()});if(!be.ok)throw new Error(`HTTP error! status: ${be.status}`);const Ee=await be.json();S(Ee.id);const ge=Ee.ctghSanPhamView.map(ft=>({...ft,hinhAnh:ft.hinhAnh.startsWith("data:image")?ft.hinhAnh:`data:image/jpeg;base64,${ft.hinhAnh}`}));s(ge);const Se=Ee.ctghComboView.map(ft=>{var ke;return{...ft,chiTietGioHangCombo:ft.chiTietGioHangCombo,hinhAnh:(ke=ft.hinhAnh)!=null&&ke.startsWith("data:image")?ft.hinhAnh:ft.hinhAnh?`data:image/jpeg;base64,${ft.hinhAnh}`:"/placeholder-image.jpg",sanPhamList:ft.sanPhamList.map(Re=>{var Ke;return{...Re,hinhAnh:(Ke=Re.hinhAnh)!=null&&Ke.startsWith("data:image")?Re.hinhAnh:Re.hinhAnh?`data:image/jpeg;base64,${Re.hinhAnh}`:"/placeholder-image.jpg"}})}});if(i(Se),o){const ke=await(await fetch(`https://bicacuatho.azurewebsites.net/api/Voucher/Validate?code=${encodeURIComponent(o)}&cartId=${Ee.id}`,{method:"GET",headers:{"Content-Type":"application/json",...re()}})).json();if(ke.success)d(!0),f(ke.discountAmount);else{d(!1),f(0),xt.error("Mã giảm giá không hợp lệ, đã xóa giảm giá"),m(ie()+w);return}}const Ie=M.find(ft=>ft.ProvinceID.toString()===W.province),ze=B.find(ft=>ft.DistrictID.toString()===W.district),Le=L.find(ft=>ft.WardCode===W.ward);if(!Ie){xt.error("Vui lòng chọn tỉnh/thành phố hợp lệ");return}if(!ze){xt.error("Vui lòng chọn quận/huyện hợp lệ");return}if(!Le){xt.error("Vui lòng chọn phường/xã hợp lệ");return}const et=ie()-u+w;m(et);const jt=`${W.specificAddress}, ${Le.WardName}, ${ze.DistrictName}, ${Ie.ProvinceName}`;if(typeof jt!="string"||jt.includes("[object Object]")){xt.error("Lỗi định dạng địa chỉ, vui lòng kiểm tra lại"),console.error("Invalid fullAddress:",jt);return}const At={cartId:Ee.id,couponCode:o||null,paymentMethod:I,tenNguoiNhan:W.tenNguoiNhan,sdt:W.sdt,diaChi:jt,discountAmount:u,shippingFee:w,finalAmount:et},ut=await(await fetch("https://bicacuatho.azurewebsites.net/api/CheckOut/process-payment",{method:"POST",headers:{"Content-Type":"application/json",...re()},body:JSON.stringify(At)})).json();if(ut.success){if(I==="cod")xt.success(`Thanh toán COD thành công! Mã đơn hàng: ${ut.orderId}`,{description:"Cảm ơn bạn đã mua sắm. Vui lòng kiểm tra đơn hàng trong mục Lịch sử mua hàng.",duration:5e3,action:{label:"Xem chi tiết",onClick:()=>n("/user/orders",{state:{orderId:ut.orderId}})}}),s([]),i([]),c(""),d(!1),f(0),m(0),g(!1),localStorage.removeItem("checkoutForm"),localStorage.removeItem("showAddressModal"),localStorage.removeItem("scrollY"),n("/",{state:{orderId:ut.orderId}});else if(I==="vnpay"){if(ut.finalAmount!==et){xt.error(`Tổng tiền VNPay (${Z(ut.finalAmount)} VND) không khớp với kỳ vọng (${Z(et)} VND). Vui lòng thử lại.`);return}window.location.href=ut.message}}else xt.error(ut.message)}catch(be){xt.error("Đã xảy ra lỗi trong quá trình thanh toán"),console.error("Error during checkout:",be)}finally{I==="cod"&&V(!1)}};return r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx("main",{className:"flex-1 py-12 px-6",children:r.jsx("div",{className:"container mx-auto max-w-6xl my-[50px]",children:e.length>0||a.length>0?r.jsx(r.Fragment,{children:A?r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("form",{onSubmit:Be,className:"bg-white p-6 rounded-lg shadow-sm border border-border",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Thông tin giao hàng"}),r.jsx("div",{className:"relative -top-[7px]",children:r.jsx(QC,{})}),r.jsx("div",{className:"space-x-2",children:r.jsxs(fe,{type:"button",onClick:()=>T(!0),className:"bg-purple-400 hover:bg-purple-600 text-white",children:[r.jsx(qo,{size:16,className:"mr-2"}),"Chọn địa chỉ có sẵn"]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"tenNguoiNhan",children:"Tên người nhận"}),r.jsx(je,{placeholder:"Nhâp tên người nhận",id:"tenNguoiNhan",name:"tenNguoiNhan",value:W.tenNguoiNhan,onChange:ve,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"sdt",children:"Số điện thoại"}),r.jsx(je,{placeholder:"Nhập số điện thoại",id:"sdt",name:"sdt",type:"tel",value:W.sdt,onChange:ve,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"province",children:"Tỉnh/Thành phố"}),r.jsxs("select",{id:"province",name:"province",value:W.province,onChange:xe=>ve(xe),className:"w-full p-2 border rounded-md",required:!0,children:[r.jsx("option",{value:"",children:H?"Đang tải...":"Chọn tỉnh/thành phố"}),M.map(xe=>r.jsx("option",{value:xe.ProvinceID,children:xe.ProvinceName},xe.ProvinceID))]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"district",children:"Quận/Huyện"}),r.jsxs("select",{id:"district",name:"district",value:W.district,onChange:xe=>ve(xe),className:"w-full p-2 border rounded-md",required:!0,children:[r.jsx("option",{value:"",children:G?"Đang tải...":"Chọn quận/huyện"}),B.map(xe=>r.jsx("option",{value:xe.DistrictID,children:xe.DistrictName},xe.DistrictID))]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"ward",children:"Phường/Xã"}),r.jsxs("select",{id:"ward",name:"ward",value:W.ward,onChange:ve,className:"w-full p-2 border rounded-md",required:!0,children:[r.jsx("option",{value:"",children:te?"Đang tải...":"Chọn phường/xã"}),L.map(xe=>r.jsx("option",{value:xe.WardCode,children:xe.WardName},xe.WardCode))]})]}),r.jsxs("div",{className:"space-y-2 md:col-span-2",children:[r.jsx(Oe,{htmlFor:"specificAddress",children:"Địa chỉ cụ thể (số nhà, tên đường)"}),r.jsx(je,{placeholder:"Nhập địa chỉ cụ thể",id:"specificAddress",name:"specificAddress",value:W.specificAddress,onChange:ve,required:!0})]})]}),r.jsxs("div",{className:"space-y-2 mb-6",children:[r.jsx(Oe,{children:"Phương thức thanh toán"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"paymentMethod",value:"cod",checked:I==="cod",onChange:()=>R("cod"),className:"mr-2"}),"Thanh toán khi nhận hàng (COD)"]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"paymentMethod",value:"vnpay",checked:I==="vnpay",onChange:()=>R("vnpay"),className:"mr-2"}),"Thanh toán qua VNPay"]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-6 relative",children:[r.jsx(fe,{type:"submit",className:"flex-1 sm:order-2",disabled:!y||I==="cod"&&U,children:I==="cod"?U?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(XT,{size:20,color:"#ffffff",className:"mr-2"}),"Đang xử lý..."]}):"Xác nhận thanh toán COD":"Thanh toán qua VNPay"}),r.jsx(fe,{type:"button",variant:"outline",className:"flex-1 sm:order-1",onClick:()=>g(!1),disabled:U,children:"Quay lại giỏ hàng"}),U&&I==="cod"&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-70 z-50",children:r.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-2xl flex flex-col items-center animate-fade-in max-w-sm w-full",children:[r.jsx(XT,{size:60,color:"#9333ea",className:"mb-4"}),r.jsx("p",{className:"text-lg font-semibold text-gray-800",children:"Đang xử lý đơn hàng..."}),r.jsx("p",{className:"text-sm text-gray-500 mt-2 text-center",children:"Vui lòng đợi trong giây lát, đơn hàng của bạn đang được xử lý."})]})})]})]})}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-border sticky top-4",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Tóm tắt đơn hàng"}),r.jsxs("div",{className:"space-y-3 mb-6",children:[e.map(xe=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[xe.tenSanPham," ",r.jsxs("span",{className:"text-xs",children:["x",xe.soLuong]})]}),r.jsxs("span",{children:[Z(xe.tienSanPham*xe.soLuong)," VND"]})]},xe.idSanPham)),a.map(xe=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[xe.tenCombo," ",r.jsxs("span",{className:"text-xs",children:["x",xe.soLuong]})]}),r.jsxs("span",{children:[Z(xe.gia*xe.soLuong)," VND"]})]},xe.idCombo)),r.jsx("div",{className:"border-t my-3"}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Tổng tiền gốc"}),r.jsxs("span",{children:[Z(ie())," VND"]})]}),l&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Giảm giá"}),r.jsxs("span",{children:["-",Z(de())," VND"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Phí giao hàng"}),r.jsxs("span",{children:[ne?"Đang tính...":Z(w)," VND"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Thời gian giao hàng dự kiến"}),r.jsx("span",{children:oe?"Đang tính...":j?se(j.leadtime_order.to_estimate_date):"Không xác định"})]}),r.jsxs("div",{className:"border-t pt-3 flex justify-between font-medium",children:[r.jsx("span",{children:"Tổng tiền"}),r.jsxs("span",{className:"text-lg",children:[Z(me())," VND"]})]})]}),r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(je,{placeholder:"Mã giảm giá (nếu có)",value:o,onChange:xe=>c(xe.target.value),className:"mr-2"}),r.jsx(fe,{size:"sm",onClick:Me,children:"Áp Dụng"})]})]})})]}):r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2",children:[e.map(xe=>r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center p-4 mb-4 bg-white rounded-lg shadow-sm border border-border",children:[r.jsx("div",{className:"w-full sm:w-24 h-24 bg-muted rounded-md overflow-hidden mr-4 mb-4 sm:mb-0",children:r.jsx("img",{src:xe.hinhAnh,alt:xe.tenSanPham,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-lg",children:xe.tenSanPham}),r.jsxs("div",{className:"flex flex-col gap-2 p-4 bg-gray-50 rounded-lg shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Kích thước:"}),r.jsx("span",{className:"text-sm text-gray-600",children:xe.kickThuoc})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Màu sắc:"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"inline-block rounded-full border border-gray-200 shadow-sm",style:{backgroundColor:`#${xe.mauSac}`,width:"1.5rem",height:"1.5rem"}}),r.jsx("span",{className:"text-sm text-gray-600 capitalize",children:xe.mauSac})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Đơn Giá:"}),r.jsxs("span",{className:"text-xl font-bold text-crocus-600",children:[Z(xe.tienSanPham)," VND"]})]})]})]}),r.jsxs("div",{className:"flex items-center mt-4 sm:mt-0",children:[r.jsx("button",{onClick:()=>ue(xe.idSanPham,-1),className:"p-1 rounded-md hover:bg-muted",children:r.jsx(rx,{size:16})}),r.jsx("span",{className:"mx-2 w-8 text-center",children:xe.soLuong}),r.jsx("button",{onClick:()=>ue(xe.idSanPham,1),className:"p-1 rounded-md hover:bg-muted",children:r.jsx(cr,{size:16})}),r.jsx("button",{onClick:()=>he(xe.idSanPham),className:"ml-4 p-1 text-red-500 hover:bg-red-50 rounded-md",children:r.jsx(Ma,{size:16})})]})]},xe.idSanPham)),a.map(xe=>r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center p-4 mb-4 bg-white rounded-lg shadow-sm border border-border",children:[r.jsx("div",{className:"w-full sm:w-24 h-24 bg-muted rounded-md overflow-hidden mr-4 mb-4 sm:mb-0",children:r.jsx("img",{src:xe.hinhAnh,alt:xe.tenCombo,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-lg",children:xe.tenCombo}),r.jsxs("p",{className:"text-muted-foreground",children:["Gồm: ",xe.sanPhamList.length," sản phẩm"]}),r.jsxs("p",{className:"text-muted-foreground",children:[Z(xe.gia)," VND"]})]}),r.jsxs("div",{className:"flex items-center mt-4 sm:mt-0",children:[r.jsx("span",{className:"mx-2 w-8 text-center",children:xe.soLuong}),r.jsx(fe,{variant:"outline",size:"sm",className:"ml-2",onClick:()=>b(xe),children:"Cập nhật"}),r.jsx("button",{onClick:()=>pe(xe.idCombo),className:"ml-4 p-1 text-red-500 hover:bg-red-50 rounded-md",children:r.jsx(Ma,{size:16})})]})]},xe.idCombo))]}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-border sticky top-4",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Giỏ Hàng"}),r.jsxs("div",{className:"space-y-3 mb-6",children:[e.map(xe=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[xe.tenSanPham," ",r.jsxs("span",{className:"text-xs",children:["x",xe.soLuong]})]}),r.jsxs("span",{children:[Z(xe.tienSanPham*xe.soLuong)," VND"]})]},xe.idSanPham)),a.map(xe=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[xe.tenCombo," ",r.jsxs("span",{className:"text-xs",children:["x",xe.soLuong]})]}),r.jsxs("span",{children:[Z(xe.gia*xe.soLuong)," VND"]})]},xe.idCombo)),r.jsx("div",{className:"border-t my-3"}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Tổng tiền gốc"}),r.jsxs("span",{children:[Z(ie())," VND"]})]}),l&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Giảm giá"}),r.jsxs("span",{children:["-",Z(de())," VND"]})]}),r.jsxs("div",{className:"border-t pt-3 flex justify-between font-medium",children:[r.jsx("span",{children:"Tổng tiền"}),r.jsxs("span",{className:"text-lg",children:[Z(me())," VND"]})]})]}),r.jsx(fe,{className:"w-full",onClick:()=>g(!0),children:"Chuyển đến trang Thanh Toán"}),r.jsx(lt,{to:"/",className:"block text-center text-primary hover:underline mt-4",children:"Quay về trang Sản Phẩm"}),r.jsx(I7,{}),x&&r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"text-lg font-medium mb-2 text-center",children:"Chia sẻ mã QR này để cho bạn bè Copy giỏ hàng của bạn"}),r.jsx("img",{src:x,alt:"QR Code",className:"w-48 h-48 mx-auto"})]})]})})]})}):r.jsxs("div",{className:"text-center py-16",children:[r.jsx(vs,{className:"mx-auto h-16 w-16 text-muted-foreground/60 mb-4"}),r.jsx("h2",{className:"text-2xl font-medium mb-2",children:"Giỏ hàng của bạn đang trống"}),r.jsx("p",{className:"text-muted-foreground mb-8",children:"Có vẻ như bạn chưa thêm sản phẩm hoặc combo nào vào giỏ hàng."}),r.jsx(lt,{to:"/",children:r.jsx(fe,{children:"Tiếp tục mua sắm"})})]})})}),r.jsx(ld,{open:!!p,onOpenChange:xe=>!xe&&b(null),children:r.jsxs(cd,{children:[r.jsx(Yo,{className:"fixed inset-0 bg-black/50"}),r.jsx(Jo,{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:p&&r.jsx($Ae,{combo:p,onClose:()=>b(null),onUpdateCombo:Ae})})]})}),r.jsx(ld,{open:E,onOpenChange:xe=>T(xe),children:r.jsxs(cd,{children:[r.jsx(Yo,{className:"fixed inset-0 bg-black/50"}),r.jsxs(Jo,{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white p-6 rounded-lg shadow-lg max-w-2xl w-full ",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Chọn địa chỉ giao hàng"}),r.jsx("div",{className:"overflow-y-auto max-h-[350px]",children:F.length===0?r.jsx("p",{children:"Chưa có địa chỉ nào. Vui lòng thêm địa chỉ mới."}):r.jsx("div",{className:"space-y-4",children:F.map(xe=>r.jsxs("div",{className:"border p-4 rounded-lg bg-white shadow-sm flex justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Họ tên:"})," ",xe.hoTen]}),r.jsxs("p",{children:[r.jsx("strong",{children:"SĐT:"})," ",xe.sdt]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Địa chỉ:"})," ",xe.diaChi,", ",xe.phuongXa,", ",xe.quanHuyen,", ",xe.tinh]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Trạng thái:"})," ",xe.trangThai===1?"Hoạt động":"Không hoạt động"]})]}),r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs(fe,{onClick:()=>le(xe),className:"bg-purple-600 hover:bg-purple-700 text-white",disabled:z||Q===xe.maDiaChi,children:[r.jsx(Bd,{size:16,className:"mr-2"}),z?"Đang chọn...":"Chọn"]}),r.jsxs(fe,{onClick:()=>ae(xe.maDiaChi),variant:"destructive",disabled:z||Q===xe.maDiaChi,children:[r.jsx(Ma,{size:16,className:"mr-2"}),Q===xe.maDiaChi?"Đang xóa...":"Xóa"]})]})]},xe.maDiaChi))})}),r.jsx(fe,{variant:"outline",className:"mt-4",onClick:()=>T(!1),disabled:z||Q!==null,children:"Đóng"})]})]})})]})};var VC="Radio",[WAe,O7]=ks(VC),[XAe,YAe]=WAe(VC),L7=k.forwardRef((n,t)=>{const{__scopeRadio:e,name:s,checked:a=!1,required:i,disabled:o,value:c="on",onCheck:l,form:d,...u}=n,[f,h]=k.useState(null),m=cn(t,p=>h(p)),A=k.useRef(!1),g=f?d||!!f.closest("form"):!0;return r.jsxs(XAe,{scope:e,checked:a,disabled:o,children:[r.jsx(Nt.button,{type:"button",role:"radio","aria-checked":a,"data-state":H7(a),"data-disabled":o?"":void 0,disabled:o,value:c,...u,ref:m,onClick:tt(n.onClick,p=>{a||l==null||l(),g&&(A.current=p.isPropagationStopped(),A.current||p.stopPropagation())})}),g&&r.jsx(U7,{control:f,bubbles:!A.current,name:s,value:c,checked:a,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});L7.displayName=VC;var F7="RadioIndicator",R7=k.forwardRef((n,t)=>{const{__scopeRadio:e,forceMount:s,...a}=n,i=YAe(F7,e);return r.jsx(hs,{present:s||i.checked,children:r.jsx(Nt.span,{"data-state":H7(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});R7.displayName=F7;var JAe="RadioBubbleInput",U7=k.forwardRef(({__scopeRadio:n,control:t,checked:e,bubbles:s=!0,...a},i)=>{const o=k.useRef(null),c=cn(o,i),l=tp(e),d=lx(t);return k.useEffect(()=>{const u=o.current;if(!u)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==e&&m){const A=new Event("click",{bubbles:s});m.call(u,e),u.dispatchEvent(A)}},[l,e,s]),r.jsx(Nt.input,{type:"radio","aria-hidden":!0,defaultChecked:e,...a,tabIndex:-1,ref:c,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});U7.displayName=JAe;function H7(n){return n?"checked":"unchecked"}var ZAe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],bb="RadioGroup",[ege,XBe]=ks(bb,[ch,O7]),$7=ch(),Q7=O7(),[tge,nge]=ege(bb),V7=k.forwardRef((n,t)=>{const{__scopeRadioGroup:e,name:s,defaultValue:a,value:i,required:o=!1,disabled:c=!1,orientation:l,dir:d,loop:u=!0,onValueChange:f,...h}=n,m=$7(e),A=Ed(d),[g,p]=wa({prop:i,defaultProp:a??null,onChange:f,caller:bb});return r.jsx(tge,{scope:e,name:s,required:o,disabled:c,value:g,onValueChange:p,children:r.jsx(pj,{asChild:!0,...m,orientation:l,dir:A,loop:u,children:r.jsx(Nt.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":c?"":void 0,dir:A,...h,ref:t})})})});V7.displayName=bb;var z7="RadioGroupItem",K7=k.forwardRef((n,t)=>{const{__scopeRadioGroup:e,disabled:s,...a}=n,i=nge(z7,e),o=i.disabled||s,c=$7(e),l=Q7(e),d=k.useRef(null),u=cn(t,d),f=i.value===a.value,h=k.useRef(!1);return k.useEffect(()=>{const m=g=>{ZAe.includes(g.key)&&(h.current=!0)},A=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",A),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",A)}},[]),r.jsx(Aj,{asChild:!0,...c,focusable:!o,active:f,children:r.jsx(L7,{disabled:o,required:i.required,checked:f,...l,...a,name:i.name,ref:u,onCheck:()=>i.onValueChange(a.value),onKeyDown:tt(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:tt(a.onFocus,()=>{var m;h.current&&((m=d.current)==null||m.click())})})})});K7.displayName=z7;var rge="RadioGroupIndicator",G7=k.forwardRef((n,t)=>{const{__scopeRadioGroup:e,...s}=n,a=Q7(e);return r.jsx(R7,{...a,...s,ref:t})});G7.displayName=rge;var q7=V7,W7=K7,sge=G7;const vm=k.forwardRef(({className:n,...t},e)=>r.jsx(q7,{className:Ue("grid gap-2",n),...t,ref:e}));vm.displayName=q7.displayName;const qa=k.forwardRef(({className:n,...t},e)=>r.jsx(W7,{ref:e,className:Ue("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),...t,children:r.jsx(sge,{className:"flex items-center justify-center",children:r.jsx(m6,{className:"h-2.5 w-2.5 fill-current text-current"})})}));qa.displayName=W7.displayName;const iu=[{id:1,name:"Crocus Cotton Tee",image:"https://via.placeholder.com/80x80",price:29.99,quantity:1,size:"M",color:"Crocus Purple",type:"product"},{id:2,name:"Linen Blend Shirt",image:"https://via.placeholder.com/80x80",price:49.99,quantity:2,size:"L",color:"White",type:"product"},{id:3,name:"Summer Dress",image:"https://via.placeholder.com/80x80",price:79.99,quantity:1,size:"S",color:"Floral",type:"product"},{id:101,name:"Essential Capsule Combo",image:"https://via.placeholder.com/80x80",additionalImages:["https://via.placeholder.com/40x40?text=1","https://via.placeholder.com/40x40?text=2","https://via.placeholder.com/40x40?text=3"],price:149.99,quantity:1,description:"Crocus Purple blouse, neutral trousers, versatile blazer",type:"combo"}],ou=iu.reduce((n,t)=>n+t.price*t.quantity,0),nA=5.99,rA=ou*.1,ry=[{code:"WELCOME10",discount:.1},{code:"SUMMER25",discount:.25},{code:"FASHION15",discount:.15},{code:"CROCUS20",discount:.2},{code:"NEWYOU",discount:.3}],age=()=>{const[n,t]=k.useState("shipping"),[e,s]=k.useState({fullName:"",address:"",city:"",state:"",zipCode:"",phone:""}),[a,i]=k.useState(""),[o,c]=k.useState(!1),[l,d]=k.useState(0),[u,f]=k.useState(""),[h,m]=k.useState(!1),[A,g]=k.useState(null);yi("mobile"),yi("tablet");const p=ou*l,b=ou+nA+rA-p,x=B=>{const{name:D,value:L}=B.target;s(O=>({...O,[D]:L}))},v=B=>{B.preventDefault(),t("payment"),window.scrollTo(0,0)},y=B=>{B.preventDefault(),t("review"),window.scrollTo(0,0)},S=B=>{B.preventDefault(),c(!0),setTimeout(()=>{c(!1),t("confirmation"),window.scrollTo(0,0)},1500)},M=()=>{const B=ry.find(D=>D.code===u.toUpperCase());B?(d(B.discount),xt.success("Discount code applied successfully!",{description:`${Math.round(B.discount*100)}% discount has been applied to your order.`})):xt.error("Invalid discount code",{description:"Please check your code and try again."}),f("")},P=()=>{m(!0),setTimeout(()=>{const B=Math.floor(Math.random()*ry.length),D=ry[B];g(D.code),m(!1),d(D.discount),xt.success("You won a discount code!",{description:`${D.code} (${Math.round(D.discount*100)}% off) has been applied to your order.`})},2e3)};return r.jsxs("div",{className:"max-w-4xl mx-auto",children:[n!=="confirmation"&&r.jsxs("div",{className:"mb-6 sm:mb-8",children:[r.jsxs("div",{className:"hidden sm:flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 rounded-full flex items-center justify-center ${n==="shipping"||n==="payment"||n==="review"?"bg-crocus-500 text-white":"bg-gray-200"}`,children:"1"}),r.jsx("div",{className:"ml-2 text-sm sm:text-base",children:"Shipping"})]}),r.jsx("div",{className:"h-0.5 flex-1 bg-gray-200 mx-4"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 rounded-full flex items-center justify-center ${n==="payment"||n==="review"?"bg-crocus-500 text-white":"bg-gray-200"}`,children:"2"}),r.jsx("div",{className:"ml-2 text-sm sm:text-base",children:"Payment"})]}),r.jsx("div",{className:"h-0.5 flex-1 bg-gray-200 mx-4"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 rounded-full flex items-center justify-center ${n==="review"?"bg-crocus-500 text-white":"bg-gray-200"}`,children:"3"}),r.jsx("div",{className:"ml-2 text-sm sm:text-base",children:"Review"})]})]}),r.jsx("div",{className:"sm:hidden",children:r.jsxs("div",{className:"flex justify-between items-center px-2 bg-gray-50 rounded-lg py-2 text-sm",children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center mb-1 ${n==="shipping"||n==="payment"||n==="review"?"bg-crocus-500 text-white":"bg-gray-200"}`,children:"1"}),r.jsx("div",{className:"text-xs",children:"Shipping"})]}),r.jsx("div",{className:"h-0.5 flex-1 bg-gray-200 mx-2"}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center mb-1 ${n==="payment"||n==="review"?"bg-crocus-500 text-white":"bg-gray-200"}`,children:"2"}),r.jsx("div",{className:"text-xs",children:"Payment"})]}),r.jsx("div",{className:"h-0.5 flex-1 bg-gray-200 mx-2"}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center mb-1 ${n==="review"?"bg-crocus-500 text-white":"bg-gray-200"}`,children:"3"}),r.jsx("div",{className:"text-xs",children:"Review"})]})]})})]}),n==="shipping"&&r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-3",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs(at,{children:[r.jsxs(yt,{className:"pb-2 sm:pb-4",children:[r.jsx(Ct,{className:"text-lg sm:text-xl",children:"Shipping Information"}),r.jsx(us,{children:"Enter your shipping details"})]}),r.jsx(dt,{children:r.jsxs("form",{id:"shippingForm",onSubmit:v,className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"fullName",children:"Full Name"}),r.jsx(je,{id:"fullName",name:"fullName",placeholder:"John Doe",required:!0,value:e.fullName,onChange:x})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"address",children:"Address"}),r.jsx(sl,{id:"address",name:"address",placeholder:"123 Main St, Apt 4B",required:!0,value:e.address,onChange:x})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"city",children:"City"}),r.jsx(je,{id:"city",name:"city",placeholder:"New York",required:!0,value:e.city,onChange:x})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"state",children:"State/Province"}),r.jsx(je,{id:"state",name:"state",placeholder:"NY",required:!0,value:e.state,onChange:x})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"zipCode",children:"Zip/Postal Code"}),r.jsx(je,{id:"zipCode",name:"zipCode",placeholder:"10001",required:!0,value:e.zipCode,onChange:x})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"phone",children:"Phone Number"}),r.jsx(je,{id:"phone",name:"phone",placeholder:"(123) 456-7890",required:!0,value:e.phone,onChange:x})]})]})]})}),r.jsxs(Wc,{className:"flex flex-col sm:flex-row justify-between gap-3",children:[r.jsx(fe,{asChild:!0,variant:"outline",className:"w-full sm:w-auto order-2 sm:order-1",children:r.jsx(lt,{to:"/user/cart",children:"Back to Cart"})}),r.jsxs(fe,{type:"submit",form:"shippingForm",className:"bg-crocus-500 hover:bg-crocus-600 w-full sm:w-auto order-1 sm:order-2",children:["Continue to Payment ",r.jsx(xr,{className:"ml-2 h-4 w-4"})]})]})]})}),r.jsxs("div",{className:"order-first lg:order-none mb-4 lg:mb-0",children:[r.jsxs(at,{className:"mb-4 sm:mb-6 sticky top-4",children:[r.jsx(yt,{className:"pb-2 sm:pb-4",children:r.jsx(Ct,{className:"text-base sm:text-lg",children:"Order Summary"})}),r.jsxs(dt,{className:"space-y-3 sm:space-y-4",children:[r.jsx("ul",{className:`space-y-2 ${iu.length>2?"max-h-32 sm:max-h-40 overflow-y-auto pr-2":""}`,children:iu.map(B=>r.jsxs("li",{className:"flex justify-between",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("img",{src:B.image,alt:B.name,className:"w-8 h-8 sm:w-10 sm:h-10 object-cover rounded"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-sm sm:text-base",children:B.name}),r.jsxs("span",{className:"text-gray-500 text-xs sm:text-sm ml-1",children:["x",B.quantity]}),B.type==="product"&&r.jsxs("p",{className:"text-xs text-gray-500",children:[B.size," | ",B.color]})]})]}),r.jsxs("span",{className:"text-sm sm:text-base",children:["$",(B.price*B.quantity).toFixed(2)]})]},B.id))}),r.jsx(Ys,{}),r.jsxs("div",{className:"space-y-1 text-sm sm:text-base",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal"}),r.jsxs("span",{children:["$",ou.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Shipping"}),r.jsxs("span",{children:["$",nA.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Tax"}),r.jsxs("span",{children:["$",rA.toFixed(2)]})]}),l>0&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Discount"}),r.jsxs("span",{children:["-$",p.toFixed(2)]})]})]}),r.jsx(Ys,{}),r.jsxs("div",{className:"flex justify-between font-medium text-base sm:text-lg",children:[r.jsx("span",{children:"Total"}),r.jsxs("span",{className:"text-crocus-600",children:["$",b.toFixed(2)]})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(Yt,{children:[r.jsx(nC,{asChild:!0,children:r.jsxs(fe,{variant:"outline",className:"w-full",children:[r.jsx(or,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-2 text-crocus-500"}),r.jsx("span",{className:"text-sm sm:text-base",children:"Spin for a Discount"})]})}),r.jsxs(Kt,{className:"sm:max-w-md",children:[r.jsxs(rn,{children:[r.jsx(Zt,{className:"text-center",children:"Lucky Spin Discount"}),r.jsx(kr,{className:"text-center",children:"Spin the wheel to win a discount code for your order!"})]}),r.jsxs("div",{className:"flex flex-col items-center py-4 sm:py-6",children:[r.jsxs("div",{className:"relative w-48 h-48 sm:w-64 sm:h-64 mb-4 sm:mb-6",children:[r.jsx("div",{className:`w-full h-full rounded-full border-8 border-crocus-500 flex items-center justify-center transition-transform duration-1000 ${h?"animate-spin":""}`,style:{backgroundImage:"conic-gradient(#9b87f5, #7E69AB, #6E59A5, #9b87f5, #7E69AB, #6E59A5)",boxShadow:"0 0 15px rgba(155, 135, 245, 0.5)"},children:!h&&A&&r.jsxs("div",{className:"bg-white p-2 sm:p-3 rounded-lg text-center z-10",children:[r.jsx("p",{className:"font-bold text-crocus-700 text-sm sm:text-base",children:A}),r.jsx("p",{className:"text-xs text-gray-500",children:"Applied to your order"})]})}),r.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/3",children:r.jsx("div",{className:"w-0 h-0 border-left-8 border-right-8 border-top-8 border-transparent border-l-transparent border-r-transparent border-b-crocus-700"})})]}),r.jsx(fe,{onClick:P,disabled:h||A!==null,className:"bg-crocus-500 hover:bg-crocus-600",children:h?r.jsxs("span",{className:"flex items-center",children:[r.jsx($o,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-2 animate-spin"}),"Spinning..."]}):A?r.jsx("span",{children:"Discount Applied!"}):r.jsx("span",{children:"Spin the Wheel"})})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(je,{placeholder:"Discount Code",value:u,onChange:B=>f(B.target.value),className:"text-sm"}),r.jsx(fe,{onClick:M,variant:"outline",disabled:!u,className:"whitespace-nowrap text-sm",children:"Apply"})]})]})]})]}),n==="payment"&&r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-3",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs(at,{children:[r.jsxs(yt,{className:"pb-2 sm:pb-4",children:[r.jsx(Ct,{className:"text-lg sm:text-xl",children:"Payment Method"}),r.jsx(us,{children:"Choose how you want to pay"})]}),r.jsx(dt,{children:r.jsxs("form",{id:"paymentForm",onSubmit:y,className:"space-y-4 sm:space-y-6",children:[r.jsxs(vm,{value:a,onValueChange:i,required:!0,children:[r.jsxs("div",{className:"flex items-center space-x-2 border rounded-md p-3 sm:p-4 cursor-pointer hover:bg-gray-50",children:[r.jsx(qa,{value:"credit-card",id:"credit-card"}),r.jsxs(Oe,{htmlFor:"credit-card",className:"flex items-center cursor-pointer w-full",children:[r.jsx(rd,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),r.jsx("span",{className:"text-sm sm:text-base",children:"Credit/Debit Card"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 border rounded-md p-3 sm:p-4 cursor-pointer hover:bg-gray-50",children:[r.jsx(qa,{value:"vnpay",id:"vnpay"}),r.jsxs(Oe,{htmlFor:"vnpay",className:"flex items-center cursor-pointer w-full",children:[r.jsx("img",{src:"https://via.placeholder.com/40x20",alt:"VNPay",className:"mr-2"}),r.jsx("span",{className:"text-sm sm:text-base",children:"VNPay"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 border rounded-md p-3 sm:p-4 cursor-pointer hover:bg-gray-50",children:[r.jsx(qa,{value:"zalopay",id:"zalopay"}),r.jsxs(Oe,{htmlFor:"zalopay",className:"flex items-center cursor-pointer w-full",children:[r.jsx("img",{src:"https://via.placeholder.com/40x20",alt:"ZaloPay",className:"mr-2"}),r.jsx("span",{className:"text-sm sm:text-base",children:"ZaloPay"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 border rounded-md p-3 sm:p-4 cursor-pointer hover:bg-gray-50",children:[r.jsx(qa,{value:"cod",id:"cod"}),r.jsx(Oe,{htmlFor:"cod",className:"flex items-center cursor-pointer w-full",children:r.jsx("span",{className:"text-sm sm:text-base",children:"Cash on Delivery (COD)"})})]})]}),a==="credit-card"&&r.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"cardName",children:"Name on Card"}),r.jsx(je,{id:"cardName",placeholder:"John Doe",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"cardNumber",children:"Card Number"}),r.jsx(je,{id:"cardNumber",placeholder:"1234 5678 9012 3456",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"expiry",children:"Expiry Date"}),r.jsx(je,{id:"expiry",placeholder:"MM/YY",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"cvc",children:"CVC"}),r.jsx(je,{id:"cvc",placeholder:"123",required:!0})]})]})]})]})}),r.jsxs(Wc,{className:"flex flex-col sm:flex-row justify-between gap-3",children:[r.jsx(fe,{variant:"outline",onClick:()=>t("shipping"),className:"w-full sm:w-auto order-2 sm:order-1",children:"Back"}),r.jsxs(fe,{type:"submit",form:"paymentForm",className:"bg-crocus-500 hover:bg-crocus-600 w-full sm:w-auto order-1 sm:order-2",disabled:!a,children:["Continue to Review ",r.jsx(xr,{className:"ml-2 h-4 w-4"})]})]})]})}),r.jsx("div",{className:"order-first lg:order-none mb-4 lg:mb-0",children:r.jsxs(at,{className:"sticky top-4",children:[r.jsx(yt,{className:"pb-2 sm:pb-4",children:r.jsx(Ct,{className:"text-base sm:text-lg",children:"Order Summary"})}),r.jsxs(dt,{className:"space-y-3 sm:space-y-4",children:[r.jsx("ul",{className:`space-y-2 ${iu.length>2?"max-h-32 sm:max-h-40 overflow-y-auto pr-2":""}`,children:iu.map(B=>r.jsxs("li",{className:"flex justify-between",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("img",{src:B.image,alt:B.name,className:"w-8 h-8 sm:w-10 sm:h-10 object-cover rounded"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-sm sm:text-base truncate max-w-[150px]",children:B.name}),r.jsxs("span",{className:"text-gray-500 text-xs sm:text-sm ml-1",children:["x",B.quantity]})]})]}),r.jsxs("span",{className:"text-sm sm:text-base",children:["$",(B.price*B.quantity).toFixed(2)]})]},B.id))}),r.jsx(Ys,{}),r.jsxs("div",{className:"space-y-1 text-sm sm:text-base",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal"}),r.jsxs("span",{children:["$",ou.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Shipping"}),r.jsxs("span",{children:["$",nA.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Tax"}),r.jsxs("span",{children:["$",rA.toFixed(2)]})]}),l>0&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Discount"}),r.jsxs("span",{children:["-$",p.toFixed(2)]})]})]}),r.jsx(Ys,{}),r.jsxs("div",{className:"flex justify-between font-medium text-base sm:text-lg",children:[r.jsx("span",{children:"Total"}),r.jsxs("span",{className:"text-crocus-600",children:["$",b.toFixed(2)]})]})]})]})})]}),n==="review"&&r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-3",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs(at,{children:[r.jsxs(yt,{className:"pb-2 sm:pb-4",children:[r.jsx(Ct,{className:"text-lg sm:text-xl",children:"Review Your Order"}),r.jsx(us,{children:"Please verify your information"})]}),r.jsxs(dt,{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2 text-sm sm:text-base",children:"Products"}),r.jsx("ul",{className:"space-y-3 bg-gray-50 p-3 sm:p-4 rounded-md",children:iu.map(B=>r.jsxs("li",{className:"flex justify-between",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("img",{src:B.image,alt:B.name,className:"w-8 h-8 sm:w-10 sm:h-10 object-cover rounded"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-sm sm:text-base",children:B.name}),r.jsxs("span",{className:"text-gray-500 text-xs sm:text-sm ml-1",children:["x",B.quantity]}),B.type==="product"&&r.jsxs("p",{className:"text-xs text-gray-500",children:[B.size," | ",B.color]})]})]}),r.jsxs("span",{className:"text-sm sm:text-base",children:["$",(B.price*B.quantity).toFixed(2)]})]},B.id))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2 text-sm sm:text-base",children:"Shipping Information"}),r.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-md text-sm sm:text-base",children:[r.jsx("p",{className:"font-medium",children:e.fullName}),r.jsx("p",{children:e.address}),r.jsxs("p",{children:[e.city,", ",e.state," ",e.zipCode]}),r.jsx("p",{children:e.phone})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2 text-sm sm:text-base",children:"Payment Method"}),r.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-md text-sm sm:text-base",children:[a==="credit-card"&&r.jsx("p",{children:"Credit/Debit Card"}),a==="vnpay"&&r.jsx("p",{children:"VNPay"}),a==="zalopay"&&r.jsx("p",{children:"ZaloPay"}),a==="cod"&&r.jsx("p",{children:"Cash on Delivery (COD)"})]})]}),r.jsx("form",{id:"reviewForm",onSubmit:S})]}),r.jsxs(Wc,{className:"flex flex-col sm:flex-row justify-between gap-3",children:[r.jsx(fe,{variant:"outline",onClick:()=>t("payment"),className:"w-full sm:w-auto order-2 sm:order-1",children:"Back"}),r.jsx(fe,{type:"submit",form:"reviewForm",className:"bg-crocus-500 hover:bg-crocus-600 w-full sm:w-auto order-1 sm:order-2",disabled:o,children:o?r.jsxs("span",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):r.jsx("span",{children:"Place Order"})})]})]})}),r.jsx("div",{className:"order-first lg:order-none mb-4 lg:mb-0",children:r.jsxs(at,{className:"sticky top-4",children:[r.jsx(yt,{className:"pb-2 sm:pb-4",children:r.jsx(Ct,{className:"text-base sm:text-lg",children:"Order Summary"})}),r.jsxs(dt,{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{className:"space-y-1 text-sm sm:text-base",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal"}),r.jsxs("span",{children:["$",ou.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Shipping"}),r.jsxs("span",{children:["$",nA.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Tax"}),r.jsxs("span",{children:["$",rA.toFixed(2)]})]}),l>0&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Discount"}),r.jsxs("span",{children:["-$",p.toFixed(2)]})]})]}),r.jsx(Ys,{}),r.jsxs("div",{className:"flex justify-between font-medium text-base sm:text-lg",children:[r.jsx("span",{children:"Total"}),r.jsxs("span",{className:"text-crocus-600",children:["$",b.toFixed(2)]})]})]})]})})]}),n==="confirmation"&&r.jsx(at,{className:"max-w-md mx-auto",children:r.jsx(dt,{className:"pt-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-full bg-green-100",children:r.jsx(Bd,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600"})}),r.jsx("h2",{className:"mt-4 text-xl sm:text-2xl font-bold",children:"Order Confirmed!"}),r.jsx("p",{className:"mt-2 text-gray-600 text-sm sm:text-base",children:"Thank you for your order. We've received your payment and will process your order shortly."}),r.jsxs("div",{className:"mt-4 sm:mt-6 border-t border-b py-3 sm:py-4",children:[r.jsx("p",{className:"font-medium text-sm sm:text-base",children:"Order #12345"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"A confirmation has been sent to your email."})]}),r.jsxs("div",{className:"mt-4 sm:mt-6 flex flex-col sm:flex-row gap-3 justify-center",children:[r.jsx(fe,{asChild:!0,className:"bg-crocus-500 hover:bg-crocus-600",children:r.jsx(lt,{to:"/user/orders",children:"View Order"})}),r.jsx(fe,{asChild:!0,variant:"outline",children:r.jsx(lt,{to:"/products",children:"Continue Shopping"})})]})]})})})]})},ige=()=>r.jsxs("div",{className:"py-6 sm:py-8 md:py-10 px-4 max-w-6xl mx-auto",children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-4 sm:mb-6",children:"Checkout"}),r.jsx(age,{})]});function F1(n){return ms({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 176v160m80-80H176"},child:[]}]})(n)}function Pc(n){return ms({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(n)}function oge(n){return ms({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M472 168H40a24 24 0 0 1 0-48h432a24 24 0 0 1 0 48zm-80 112H120a24 24 0 0 1 0-48h272a24 24 0 0 1 0 48zm-96 112h-80a24 24 0 0 1 0-48h80a24 24 0 0 1 0 48z"},child:[]}]})(n)}function lge(n){return ms({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204 240H68a36 36 0 0 1-36-36V68a36 36 0 0 1 36-36h136a36 36 0 0 1 36 36v136a36 36 0 0 1-36 36zm240 0H308a36 36 0 0 1-36-36V68a36 36 0 0 1 36-36h136a36 36 0 0 1 36 36v136a36 36 0 0 1-36 36zM204 480H68a36 36 0 0 1-36-36V308a36 36 0 0 1 36-36h136a36 36 0 0 1 36 36v136a36 36 0 0 1-36 36zm240 0H308a36 36 0 0 1-36-36V308a36 36 0 0 1 36-36h136a36 36 0 0 1 36 36v136a36 36 0 0 1-36 36z"},child:[]}]})(n)}function cge(n){return ms({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M160 144h288M160 256h288M160 368h288"},child:[]},{tag:"circle",attr:{cx:"80",cy:"144",r:"16",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"circle",attr:{cx:"80",cy:"256",r:"16",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"circle",attr:{cx:"80",cy:"368",r:"16",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]}]})(n)}function dge(n){return ms({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M456.69 421.39 362.6 327.3a173.81 173.81 0 0 0 34.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 0 0 327.3 362.6l94.09 94.09a25 25 0 0 0 35.3-35.3zM97.92 222.72a124.8 124.8 0 1 1 124.8 124.8 124.95 124.95 0 0 1-124.8-124.8z"},child:[]}]})(n)}function uge(){this.__data__=[],this.size=0}var hge=uge;function fge(n,t){return n===t||n!==n&&t!==t}var X7=fge,mge=X7;function pge(n,t){for(var e=n.length;e--;)if(mge(n[e][0],t))return e;return-1}var vb=pge,Age=vb,gge=Array.prototype,xge=gge.splice;function bge(n){var t=this.__data__,e=Age(t,n);if(e<0)return!1;var s=t.length-1;return e==s?t.pop():xge.call(t,e,1),--this.size,!0}var vge=bge,yge=vb;function wge(n){var t=this.__data__,e=yge(t,n);return e<0?void 0:t[e][1]}var jge=wge,Cge=vb;function Nge(n){return Cge(this.__data__,n)>-1}var Sge=Nge,Tge=vb;function kge(n,t){var e=this.__data__,s=Tge(e,n);return s<0?(++this.size,e.push([n,t])):e[s][1]=t,this}var _ge=kge,Bge=hge,Ege=vge,Mge=jge,Pge=Sge,Dge=_ge;function vh(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var s=n[t];this.set(s[0],s[1])}}vh.prototype.clear=Bge;vh.prototype.delete=Ege;vh.prototype.get=Mge;vh.prototype.has=Pge;vh.prototype.set=Dge;var yb=vh,Ige=yb;function Oge(){this.__data__=new Ige,this.size=0}var Lge=Oge;function Fge(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e}var Rge=Fge;function Uge(n){return this.__data__.get(n)}var Hge=Uge;function $ge(n){return this.__data__.has(n)}var Qge=$ge,Vge=typeof an=="object"&&an&&an.Object===Object&&an,Y7=Vge,zge=Y7,Kge=typeof self=="object"&&self&&self.Object===Object&&self,Gge=zge||Kge||Function("return this")(),il=Gge,qge=il,Wge=qge.Symbol,zC=Wge,YT=zC,J7=Object.prototype,Xge=J7.hasOwnProperty,Yge=J7.toString,Kh=YT?YT.toStringTag:void 0;function Jge(n){var t=Xge.call(n,Kh),e=n[Kh];try{n[Kh]=void 0;var s=!0}catch{}var a=Yge.call(n);return s&&(t?n[Kh]=e:delete n[Kh]),a}var Zge=Jge,e0e=Object.prototype,t0e=e0e.toString;function n0e(n){return t0e.call(n)}var r0e=n0e,JT=zC,s0e=Zge,a0e=r0e,i0e="[object Null]",o0e="[object Undefined]",ZT=JT?JT.toStringTag:void 0;function l0e(n){return n==null?n===void 0?o0e:i0e:ZT&&ZT in Object(n)?s0e(n):a0e(n)}var wb=l0e;function c0e(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}var Z7=c0e,d0e=wb,u0e=Z7,h0e="[object AsyncFunction]",f0e="[object Function]",m0e="[object GeneratorFunction]",p0e="[object Proxy]";function A0e(n){if(!u0e(n))return!1;var t=d0e(n);return t==f0e||t==m0e||t==h0e||t==p0e}var eL=A0e,g0e=il,x0e=g0e["__core-js_shared__"],b0e=x0e,sy=b0e,e3=function(){var n=/[^.]+$/.exec(sy&&sy.keys&&sy.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function v0e(n){return!!e3&&e3 in n}var y0e=v0e,w0e=Function.prototype,j0e=w0e.toString;function C0e(n){if(n!=null){try{return j0e.call(n)}catch{}try{return n+""}catch{}}return""}var tL=C0e,N0e=eL,S0e=y0e,T0e=Z7,k0e=tL,_0e=/[\\^$.*+?()[\]{}|]/g,B0e=/^\[object .+?Constructor\]$/,E0e=Function.prototype,M0e=Object.prototype,P0e=E0e.toString,D0e=M0e.hasOwnProperty,I0e=RegExp("^"+P0e.call(D0e).replace(_0e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function O0e(n){if(!T0e(n)||S0e(n))return!1;var t=N0e(n)?I0e:B0e;return t.test(k0e(n))}var L0e=O0e;function F0e(n,t){return n==null?void 0:n[t]}var R0e=F0e,U0e=L0e,H0e=R0e;function $0e(n,t){var e=H0e(n,t);return U0e(e)?e:void 0}var yh=$0e,Q0e=yh,V0e=il,z0e=Q0e(V0e,"Map"),KC=z0e,K0e=yh,G0e=K0e(Object,"create"),jb=G0e,t3=jb;function q0e(){this.__data__=t3?t3(null):{},this.size=0}var W0e=q0e;function X0e(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}var Y0e=X0e,J0e=jb,Z0e="__lodash_hash_undefined__",exe=Object.prototype,txe=exe.hasOwnProperty;function nxe(n){var t=this.__data__;if(J0e){var e=t[n];return e===Z0e?void 0:e}return txe.call(t,n)?t[n]:void 0}var rxe=nxe,sxe=jb,axe=Object.prototype,ixe=axe.hasOwnProperty;function oxe(n){var t=this.__data__;return sxe?t[n]!==void 0:ixe.call(t,n)}var lxe=oxe,cxe=jb,dxe="__lodash_hash_undefined__";function uxe(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=cxe&&t===void 0?dxe:t,this}var hxe=uxe,fxe=W0e,mxe=Y0e,pxe=rxe,Axe=lxe,gxe=hxe;function wh(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var s=n[t];this.set(s[0],s[1])}}wh.prototype.clear=fxe;wh.prototype.delete=mxe;wh.prototype.get=pxe;wh.prototype.has=Axe;wh.prototype.set=gxe;var xxe=wh,n3=xxe,bxe=yb,vxe=KC;function yxe(){this.size=0,this.__data__={hash:new n3,map:new(vxe||bxe),string:new n3}}var wxe=yxe;function jxe(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}var Cxe=jxe,Nxe=Cxe;function Sxe(n,t){var e=n.__data__;return Nxe(t)?e[typeof t=="string"?"string":"hash"]:e.map}var Cb=Sxe,Txe=Cb;function kxe(n){var t=Txe(this,n).delete(n);return this.size-=t?1:0,t}var _xe=kxe,Bxe=Cb;function Exe(n){return Bxe(this,n).get(n)}var Mxe=Exe,Pxe=Cb;function Dxe(n){return Pxe(this,n).has(n)}var Ixe=Dxe,Oxe=Cb;function Lxe(n,t){var e=Oxe(this,n),s=e.size;return e.set(n,t),this.size+=e.size==s?0:1,this}var Fxe=Lxe,Rxe=wxe,Uxe=_xe,Hxe=Mxe,$xe=Ixe,Qxe=Fxe;function jh(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var s=n[t];this.set(s[0],s[1])}}jh.prototype.clear=Rxe;jh.prototype.delete=Uxe;jh.prototype.get=Hxe;jh.prototype.has=$xe;jh.prototype.set=Qxe;var nL=jh,Vxe=yb,zxe=KC,Kxe=nL,Gxe=200;function qxe(n,t){var e=this.__data__;if(e instanceof Vxe){var s=e.__data__;if(!zxe||s.length<Gxe-1)return s.push([n,t]),this.size=++e.size,this;e=this.__data__=new Kxe(s)}return e.set(n,t),this.size=e.size,this}var Wxe=qxe,Xxe=yb,Yxe=Lge,Jxe=Rge,Zxe=Hge,ebe=Qge,tbe=Wxe;function Ch(n){var t=this.__data__=new Xxe(n);this.size=t.size}Ch.prototype.clear=Yxe;Ch.prototype.delete=Jxe;Ch.prototype.get=Zxe;Ch.prototype.has=ebe;Ch.prototype.set=tbe;var nbe=Ch,rbe="__lodash_hash_undefined__";function sbe(n){return this.__data__.set(n,rbe),this}var abe=sbe;function ibe(n){return this.__data__.has(n)}var obe=ibe,lbe=nL,cbe=abe,dbe=obe;function _0(n){var t=-1,e=n==null?0:n.length;for(this.__data__=new lbe;++t<e;)this.add(n[t])}_0.prototype.add=_0.prototype.push=cbe;_0.prototype.has=dbe;var ube=_0;function hbe(n,t){for(var e=-1,s=n==null?0:n.length;++e<s;)if(t(n[e],e,n))return!0;return!1}var fbe=hbe;function mbe(n,t){return n.has(t)}var pbe=mbe,Abe=ube,gbe=fbe,xbe=pbe,bbe=1,vbe=2;function ybe(n,t,e,s,a,i){var o=e&bbe,c=n.length,l=t.length;if(c!=l&&!(o&&l>c))return!1;var d=i.get(n),u=i.get(t);if(d&&u)return d==t&&u==n;var f=-1,h=!0,m=e&vbe?new Abe:void 0;for(i.set(n,t),i.set(t,n);++f<c;){var A=n[f],g=t[f];if(s)var p=o?s(g,A,f,t,n,i):s(A,g,f,n,t,i);if(p!==void 0){if(p)continue;h=!1;break}if(m){if(!gbe(t,function(b,x){if(!xbe(m,x)&&(A===b||a(A,b,e,s,i)))return m.push(x)})){h=!1;break}}else if(!(A===g||a(A,g,e,s,i))){h=!1;break}}return i.delete(n),i.delete(t),h}var rL=ybe,wbe=il,jbe=wbe.Uint8Array,Cbe=jbe;function Nbe(n){var t=-1,e=Array(n.size);return n.forEach(function(s,a){e[++t]=[a,s]}),e}var Sbe=Nbe;function Tbe(n){var t=-1,e=Array(n.size);return n.forEach(function(s){e[++t]=s}),e}var kbe=Tbe,r3=zC,s3=Cbe,_be=X7,Bbe=rL,Ebe=Sbe,Mbe=kbe,Pbe=1,Dbe=2,Ibe="[object Boolean]",Obe="[object Date]",Lbe="[object Error]",Fbe="[object Map]",Rbe="[object Number]",Ube="[object RegExp]",Hbe="[object Set]",$be="[object String]",Qbe="[object Symbol]",Vbe="[object ArrayBuffer]",zbe="[object DataView]",a3=r3?r3.prototype:void 0,ay=a3?a3.valueOf:void 0;function Kbe(n,t,e,s,a,i,o){switch(e){case zbe:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case Vbe:return!(n.byteLength!=t.byteLength||!i(new s3(n),new s3(t)));case Ibe:case Obe:case Rbe:return _be(+n,+t);case Lbe:return n.name==t.name&&n.message==t.message;case Ube:case $be:return n==t+"";case Fbe:var c=Ebe;case Hbe:var l=s&Pbe;if(c||(c=Mbe),n.size!=t.size&&!l)return!1;var d=o.get(n);if(d)return d==t;s|=Dbe,o.set(n,t);var u=Bbe(c(n),c(t),s,a,i,o);return o.delete(n),u;case Qbe:if(ay)return ay.call(n)==ay.call(t)}return!1}var Gbe=Kbe;function qbe(n,t){for(var e=-1,s=t.length,a=n.length;++e<s;)n[a+e]=t[e];return n}var Wbe=qbe,Xbe=Array.isArray,GC=Xbe,Ybe=Wbe,Jbe=GC;function Zbe(n,t,e){var s=t(n);return Jbe(n)?s:Ybe(s,e(n))}var eve=Zbe;function tve(n,t){for(var e=-1,s=n==null?0:n.length,a=0,i=[];++e<s;){var o=n[e];t(o,e,n)&&(i[a++]=o)}return i}var nve=tve;function rve(){return[]}var sve=rve,ave=nve,ive=sve,ove=Object.prototype,lve=ove.propertyIsEnumerable,i3=Object.getOwnPropertySymbols,cve=i3?function(n){return n==null?[]:(n=Object(n),ave(i3(n),function(t){return lve.call(n,t)}))}:ive,dve=cve;function uve(n,t){for(var e=-1,s=Array(n);++e<n;)s[e]=t(e);return s}var hve=uve;function fve(n){return n!=null&&typeof n=="object"}var Nb=fve,mve=wb,pve=Nb,Ave="[object Arguments]";function gve(n){return pve(n)&&mve(n)==Ave}var xve=gve,o3=xve,bve=Nb,sL=Object.prototype,vve=sL.hasOwnProperty,yve=sL.propertyIsEnumerable,wve=o3(function(){return arguments}())?o3:function(n){return bve(n)&&vve.call(n,"callee")&&!yve.call(n,"callee")},jve=wve,B0={exports:{}};function Cve(){return!1}var Nve=Cve;B0.exports;(function(n,t){var e=il,s=Nve,a=t&&!t.nodeType&&t,i=a&&!0&&n&&!n.nodeType&&n,o=i&&i.exports===a,c=o?e.Buffer:void 0,l=c?c.isBuffer:void 0,d=l||s;n.exports=d})(B0,B0.exports);var aL=B0.exports,Sve=9007199254740991,Tve=/^(?:0|[1-9]\d*)$/;function kve(n,t){var e=typeof n;return t=t??Sve,!!t&&(e=="number"||e!="symbol"&&Tve.test(n))&&n>-1&&n%1==0&&n<t}var _ve=kve,Bve=9007199254740991;function Eve(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Bve}var iL=Eve,Mve=wb,Pve=iL,Dve=Nb,Ive="[object Arguments]",Ove="[object Array]",Lve="[object Boolean]",Fve="[object Date]",Rve="[object Error]",Uve="[object Function]",Hve="[object Map]",$ve="[object Number]",Qve="[object Object]",Vve="[object RegExp]",zve="[object Set]",Kve="[object String]",Gve="[object WeakMap]",qve="[object ArrayBuffer]",Wve="[object DataView]",Xve="[object Float32Array]",Yve="[object Float64Array]",Jve="[object Int8Array]",Zve="[object Int16Array]",eye="[object Int32Array]",tye="[object Uint8Array]",nye="[object Uint8ClampedArray]",rye="[object Uint16Array]",sye="[object Uint32Array]",Cr={};Cr[Xve]=Cr[Yve]=Cr[Jve]=Cr[Zve]=Cr[eye]=Cr[tye]=Cr[nye]=Cr[rye]=Cr[sye]=!0;Cr[Ive]=Cr[Ove]=Cr[qve]=Cr[Lve]=Cr[Wve]=Cr[Fve]=Cr[Rve]=Cr[Uve]=Cr[Hve]=Cr[$ve]=Cr[Qve]=Cr[Vve]=Cr[zve]=Cr[Kve]=Cr[Gve]=!1;function aye(n){return Dve(n)&&Pve(n.length)&&!!Cr[Mve(n)]}var iye=aye;function oye(n){return function(t){return n(t)}}var lye=oye,E0={exports:{}};E0.exports;(function(n,t){var e=Y7,s=t&&!t.nodeType&&t,a=s&&!0&&n&&!n.nodeType&&n,i=a&&a.exports===s,o=i&&e.process,c=function(){try{var l=a&&a.require&&a.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();n.exports=c})(E0,E0.exports);var cye=E0.exports,dye=iye,uye=lye,l3=cye,c3=l3&&l3.isTypedArray,hye=c3?uye(c3):dye,oL=hye,fye=hve,mye=jve,pye=GC,Aye=aL,gye=_ve,xye=oL,bye=Object.prototype,vye=bye.hasOwnProperty;function yye(n,t){var e=pye(n),s=!e&&mye(n),a=!e&&!s&&Aye(n),i=!e&&!s&&!a&&xye(n),o=e||s||a||i,c=o?fye(n.length,String):[],l=c.length;for(var d in n)(t||vye.call(n,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||gye(d,l)))&&c.push(d);return c}var wye=yye,jye=Object.prototype;function Cye(n){var t=n&&n.constructor,e=typeof t=="function"&&t.prototype||jye;return n===e}var Nye=Cye;function Sye(n,t){return function(e){return n(t(e))}}var Tye=Sye,kye=Tye,_ye=kye(Object.keys,Object),Bye=_ye,Eye=Nye,Mye=Bye,Pye=Object.prototype,Dye=Pye.hasOwnProperty;function Iye(n){if(!Eye(n))return Mye(n);var t=[];for(var e in Object(n))Dye.call(n,e)&&e!="constructor"&&t.push(e);return t}var Oye=Iye,Lye=eL,Fye=iL;function Rye(n){return n!=null&&Fye(n.length)&&!Lye(n)}var Uye=Rye,Hye=wye,$ye=Oye,Qye=Uye;function Vye(n){return Qye(n)?Hye(n):$ye(n)}var zye=Vye,Kye=eve,Gye=dve,qye=zye;function Wye(n){return Kye(n,qye,Gye)}var Xye=Wye,d3=Xye,Yye=1,Jye=Object.prototype,Zye=Jye.hasOwnProperty;function ewe(n,t,e,s,a,i){var o=e&Yye,c=d3(n),l=c.length,d=d3(t),u=d.length;if(l!=u&&!o)return!1;for(var f=l;f--;){var h=c[f];if(!(o?h in t:Zye.call(t,h)))return!1}var m=i.get(n),A=i.get(t);if(m&&A)return m==t&&A==n;var g=!0;i.set(n,t),i.set(t,n);for(var p=o;++f<l;){h=c[f];var b=n[h],x=t[h];if(s)var v=o?s(x,b,h,t,n,i):s(b,x,h,n,t,i);if(!(v===void 0?b===x||a(b,x,e,s,i):v)){g=!1;break}p||(p=h=="constructor")}if(g&&!p){var y=n.constructor,S=t.constructor;y!=S&&"constructor"in n&&"constructor"in t&&!(typeof y=="function"&&y instanceof y&&typeof S=="function"&&S instanceof S)&&(g=!1)}return i.delete(n),i.delete(t),g}var twe=ewe,nwe=yh,rwe=il,swe=nwe(rwe,"DataView"),awe=swe,iwe=yh,owe=il,lwe=iwe(owe,"Promise"),cwe=lwe,dwe=yh,uwe=il,hwe=dwe(uwe,"Set"),fwe=hwe,mwe=yh,pwe=il,Awe=mwe(pwe,"WeakMap"),gwe=Awe,R1=awe,U1=KC,H1=cwe,$1=fwe,Q1=gwe,lL=wb,Nh=tL,u3="[object Map]",xwe="[object Object]",h3="[object Promise]",f3="[object Set]",m3="[object WeakMap]",p3="[object DataView]",bwe=Nh(R1),vwe=Nh(U1),ywe=Nh(H1),wwe=Nh($1),jwe=Nh(Q1),Dc=lL;(R1&&Dc(new R1(new ArrayBuffer(1)))!=p3||U1&&Dc(new U1)!=u3||H1&&Dc(H1.resolve())!=h3||$1&&Dc(new $1)!=f3||Q1&&Dc(new Q1)!=m3)&&(Dc=function(n){var t=lL(n),e=t==xwe?n.constructor:void 0,s=e?Nh(e):"";if(s)switch(s){case bwe:return p3;case vwe:return u3;case ywe:return h3;case wwe:return f3;case jwe:return m3}return t});var Cwe=Dc,iy=nbe,Nwe=rL,Swe=Gbe,Twe=twe,A3=Cwe,g3=GC,x3=aL,kwe=oL,_we=1,b3="[object Arguments]",v3="[object Array]",sA="[object Object]",Bwe=Object.prototype,y3=Bwe.hasOwnProperty;function Ewe(n,t,e,s,a,i){var o=g3(n),c=g3(t),l=o?v3:A3(n),d=c?v3:A3(t);l=l==b3?sA:l,d=d==b3?sA:d;var u=l==sA,f=d==sA,h=l==d;if(h&&x3(n)){if(!x3(t))return!1;o=!0,u=!1}if(h&&!u)return i||(i=new iy),o||kwe(n)?Nwe(n,t,e,s,a,i):Swe(n,t,l,e,s,a,i);if(!(e&_we)){var m=u&&y3.call(n,"__wrapped__"),A=f&&y3.call(t,"__wrapped__");if(m||A){var g=m?n.value():n,p=A?t.value():t;return i||(i=new iy),a(g,p,e,s,i)}}return h?(i||(i=new iy),Twe(n,t,e,s,a,i)):!1}var Mwe=Ewe,Pwe=Mwe,w3=Nb;function cL(n,t,e,s,a){return n===t?!0:n==null||t==null||!w3(n)&&!w3(t)?n!==n&&t!==t:Pwe(n,t,e,s,cL,a)}var Dwe=cL,Iwe=Dwe;function Owe(n,t){return Iwe(n,t)}var Lwe=Owe,dL={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(n,t){(function(s,a){n.exports=a()})(typeof self<"u"?self:an,function(){return function(e){var s={};function a(i){if(s[i])return s[i].exports;var o=s[i]={i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=e,a.c=s,a.d=function(i,o,c){a.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:c})},a.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(o,"a",o),o},a.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},a.p="",a(a.s=109)}([function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=a(17),o=a(18),c=a(19),l=a(45),d=a(46),u=a(47),f=a(48),h=a(49),m=a(12),A=a(32),g=a(33),p=a(31),b=a(1),x={Scope:b.Scope,create:b.create,find:b.find,query:b.query,register:b.register,Container:i.default,Format:o.default,Leaf:c.default,Embed:f.default,Scroll:l.default,Block:u.default,Inline:d.default,Text:h.default,Attributor:{Attribute:m.default,Class:A.default,Style:g.default,Store:p.default}};s.default=x},function(e,s,a){var i=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,x){b.__proto__=x}||function(b,x){for(var v in x)x.hasOwnProperty(v)&&(b[v]=x[v])};return function(b,x){p(b,x);function v(){this.constructor=b}b.prototype=x===null?Object.create(x):(v.prototype=x.prototype,new v)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=function(p){i(b,p);function b(x){var v=this;return x="[Parchment] "+x,v=p.call(this,x)||this,v.message=x,v.name=v.constructor.name,v}return b}(Error);s.ParchmentError=o;var c={},l={},d={},u={};s.DATA_KEY="__blot";var f;(function(p){p[p.TYPE=3]="TYPE",p[p.LEVEL=12]="LEVEL",p[p.ATTRIBUTE=13]="ATTRIBUTE",p[p.BLOT=14]="BLOT",p[p.INLINE=7]="INLINE",p[p.BLOCK=11]="BLOCK",p[p.BLOCK_BLOT=10]="BLOCK_BLOT",p[p.INLINE_BLOT=6]="INLINE_BLOT",p[p.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",p[p.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",p[p.ANY=15]="ANY"})(f=s.Scope||(s.Scope={}));function h(p,b){var x=A(p);if(x==null)throw new o("Unable to create "+p+" blot");var v=x,y=p instanceof Node||p.nodeType===Node.TEXT_NODE?p:v.create(b);return new v(y,b)}s.create=h;function m(p,b){return b===void 0&&(b=!1),p==null?null:p[s.DATA_KEY]!=null?p[s.DATA_KEY].blot:b?m(p.parentNode,b):null}s.find=m;function A(p,b){b===void 0&&(b=f.ANY);var x;if(typeof p=="string")x=u[p]||c[p];else if(p instanceof Text||p.nodeType===Node.TEXT_NODE)x=u.text;else if(typeof p=="number")p&f.LEVEL&f.BLOCK?x=u.block:p&f.LEVEL&f.INLINE&&(x=u.inline);else if(p instanceof HTMLElement){var v=(p.getAttribute("class")||"").split(/\s+/);for(var y in v)if(x=l[v[y]],x)break;x=x||d[p.tagName]}return x==null?null:b&f.LEVEL&x.scope&&b&f.TYPE&x.scope?x:null}s.query=A;function g(){for(var p=[],b=0;b<arguments.length;b++)p[b]=arguments[b];if(p.length>1)return p.map(function(y){return g(y)});var x=p[0];if(typeof x.blotName!="string"&&typeof x.attrName!="string")throw new o("Invalid definition");if(x.blotName==="abstract")throw new o("Cannot register abstract class");if(u[x.blotName||x.attrName]=x,typeof x.keyName=="string")c[x.keyName]=x;else if(x.className!=null&&(l[x.className]=x),x.tagName!=null){Array.isArray(x.tagName)?x.tagName=x.tagName.map(function(y){return y.toUpperCase()}):x.tagName=x.tagName.toUpperCase();var v=Array.isArray(x.tagName)?x.tagName:[x.tagName];v.forEach(function(y){(d[y]==null||x.className==null)&&(d[y]=x)})}return x}s.register=g},function(e,s,a){var i=a(51),o=a(11),c=a(3),l=a(20),d="\0",u=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};u.prototype.insert=function(f,h){var m={};return f.length===0?this:(m.insert=f,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(m.attributes=h),this.push(m))},u.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},u.prototype.retain=function(f,h){if(f<=0)return this;var m={retain:f};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(m.attributes=h),this.push(m)},u.prototype.push=function(f){var h=this.ops.length,m=this.ops[h-1];if(f=c(!0,{},f),typeof m=="object"){if(typeof f.delete=="number"&&typeof m.delete=="number")return this.ops[h-1]={delete:m.delete+f.delete},this;if(typeof m.delete=="number"&&f.insert!=null&&(h-=1,m=this.ops[h-1],typeof m!="object"))return this.ops.unshift(f),this;if(o(f.attributes,m.attributes)){if(typeof f.insert=="string"&&typeof m.insert=="string")return this.ops[h-1]={insert:m.insert+f.insert},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof m.retain=="number")return this.ops[h-1]={retain:m.retain+f.retain},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this}}return h===this.ops.length?this.ops.push(f):this.ops.splice(h,0,f),this},u.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},u.prototype.filter=function(f){return this.ops.filter(f)},u.prototype.forEach=function(f){this.ops.forEach(f)},u.prototype.map=function(f){return this.ops.map(f)},u.prototype.partition=function(f){var h=[],m=[];return this.forEach(function(A){var g=f(A)?h:m;g.push(A)}),[h,m]},u.prototype.reduce=function(f,h){return this.ops.reduce(f,h)},u.prototype.changeLength=function(){return this.reduce(function(f,h){return h.insert?f+l.length(h):h.delete?f-h.delete:f},0)},u.prototype.length=function(){return this.reduce(function(f,h){return f+l.length(h)},0)},u.prototype.slice=function(f,h){f=f||0,typeof h!="number"&&(h=1/0);for(var m=[],A=l.iterator(this.ops),g=0;g<h&&A.hasNext();){var p;g<f?p=A.next(f-g):(p=A.next(h-g),m.push(p)),g+=l.length(p)}return new u(m)},u.prototype.compose=function(f){var h=l.iterator(this.ops),m=l.iterator(f.ops),A=[],g=m.peek();if(g!=null&&typeof g.retain=="number"&&g.attributes==null){for(var p=g.retain;h.peekType()==="insert"&&h.peekLength()<=p;)p-=h.peekLength(),A.push(h.next());g.retain-p>0&&m.next(g.retain-p)}for(var b=new u(A);h.hasNext()||m.hasNext();)if(m.peekType()==="insert")b.push(m.next());else if(h.peekType()==="delete")b.push(h.next());else{var x=Math.min(h.peekLength(),m.peekLength()),v=h.next(x),y=m.next(x);if(typeof y.retain=="number"){var S={};typeof v.retain=="number"?S.retain=x:S.insert=v.insert;var M=l.attributes.compose(v.attributes,y.attributes,typeof v.retain=="number");if(M&&(S.attributes=M),b.push(S),!m.hasNext()&&o(b.ops[b.ops.length-1],S)){var P=new u(h.rest());return b.concat(P).chop()}}else typeof y.delete=="number"&&typeof v.retain=="number"&&b.push(y)}return b.chop()},u.prototype.concat=function(f){var h=new u(this.ops.slice());return f.ops.length>0&&(h.push(f.ops[0]),h.ops=h.ops.concat(f.ops.slice(1))),h},u.prototype.diff=function(f,h){if(this.ops===f.ops)return new u;var m=[this,f].map(function(x){return x.map(function(v){if(v.insert!=null)return typeof v.insert=="string"?v.insert:d;var y=x===f?"on":"with";throw new Error("diff() called "+y+" non-document")}).join("")}),A=new u,g=i(m[0],m[1],h),p=l.iterator(this.ops),b=l.iterator(f.ops);return g.forEach(function(x){for(var v=x[1].length;v>0;){var y=0;switch(x[0]){case i.INSERT:y=Math.min(b.peekLength(),v),A.push(b.next(y));break;case i.DELETE:y=Math.min(v,p.peekLength()),p.next(y),A.delete(y);break;case i.EQUAL:y=Math.min(p.peekLength(),b.peekLength(),v);var S=p.next(y),M=b.next(y);o(S.insert,M.insert)?A.retain(y,l.attributes.diff(S.attributes,M.attributes)):A.push(M).delete(y);break}v-=y}}),A.chop()},u.prototype.eachLine=function(f,h){h=h||`
`;for(var m=l.iterator(this.ops),A=new u,g=0;m.hasNext();){if(m.peekType()!=="insert")return;var p=m.peek(),b=l.length(p)-m.peekLength(),x=typeof p.insert=="string"?p.insert.indexOf(h,b)-b:-1;if(x<0)A.push(m.next());else if(x>0)A.push(m.next(x));else{if(f(A,m.next(1).attributes||{},g)===!1)return;g+=1,A=new u}}A.length()>0&&f(A,{},g)},u.prototype.transform=function(f,h){if(h=!!h,typeof f=="number")return this.transformPosition(f,h);for(var m=l.iterator(this.ops),A=l.iterator(f.ops),g=new u;m.hasNext()||A.hasNext();)if(m.peekType()==="insert"&&(h||A.peekType()!=="insert"))g.retain(l.length(m.next()));else if(A.peekType()==="insert")g.push(A.next());else{var p=Math.min(m.peekLength(),A.peekLength()),b=m.next(p),x=A.next(p);if(b.delete)continue;x.delete?g.push(x):g.retain(p,l.attributes.transform(b.attributes,x.attributes,h))}return g.chop()},u.prototype.transformPosition=function(f,h){h=!!h;for(var m=l.iterator(this.ops),A=0;m.hasNext()&&A<=f;){var g=m.peekLength(),p=m.peekType();if(m.next(),p==="delete"){f-=Math.min(g,f-A);continue}else p==="insert"&&(A<f||!h)&&(f+=g);A+=g}return f},e.exports=u},function(e,s){var a=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=Object.defineProperty,c=Object.getOwnPropertyDescriptor,l=function(m){return typeof Array.isArray=="function"?Array.isArray(m):i.call(m)==="[object Array]"},d=function(m){if(!m||i.call(m)!=="[object Object]")return!1;var A=a.call(m,"constructor"),g=m.constructor&&m.constructor.prototype&&a.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!A&&!g)return!1;var p;for(p in m);return typeof p>"u"||a.call(m,p)},u=function(m,A){o&&A.name==="__proto__"?o(m,A.name,{enumerable:!0,configurable:!0,value:A.newValue,writable:!0}):m[A.name]=A.newValue},f=function(m,A){if(A==="__proto__")if(a.call(m,A)){if(c)return c(m,A).value}else return;return m[A]};e.exports=function h(){var m,A,g,p,b,x,v=arguments[0],y=1,S=arguments.length,M=!1;for(typeof v=="boolean"&&(M=v,v=arguments[1]||{},y=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});y<S;++y)if(m=arguments[y],m!=null)for(A in m)g=f(v,A),p=f(m,A),v!==p&&(M&&p&&(d(p)||(b=l(p)))?(b?(b=!1,x=g&&l(g)?g:[]):x=g&&d(g)?g:{},u(v,{name:A,newValue:h(M,x,p)})):typeof p<"u"&&u(v,{name:A,newValue:p}));return v}},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.BlockEmbed=s.bubbleFormats=void 0;var i=function(){function O(F,_){for(var E=0;E<_.length;E++){var T=_[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(F,T.key,T)}}return function(F,_,E){return _&&O(F.prototype,_),E&&O(F,E),F}}(),o=function O(F,_,E){F===null&&(F=Function.prototype);var T=Object.getOwnPropertyDescriptor(F,_);if(T===void 0){var w=Object.getPrototypeOf(F);return w===null?void 0:O(w,_,E)}else{if("value"in T)return T.value;var C=T.get;return C===void 0?void 0:C.call(E)}},c=a(3),l=v(c),d=a(2),u=v(d),f=a(0),h=v(f),m=a(16),A=v(m),g=a(6),p=v(g),b=a(7),x=v(b);function v(O){return O&&O.__esModule?O:{default:O}}function y(O,F){if(!(O instanceof F))throw new TypeError("Cannot call a class as a function")}function S(O,F){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:O}function M(O,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);O.prototype=Object.create(F&&F.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(O,F):O.__proto__=F)}var P=1,B=function(O){M(F,O);function F(){return y(this,F),S(this,(F.__proto__||Object.getPrototypeOf(F)).apply(this,arguments))}return i(F,[{key:"attach",value:function(){o(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new u.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(E,T){var w=h.default.query(E,h.default.Scope.BLOCK_ATTRIBUTE);w!=null&&this.attributes.attribute(w,T)}},{key:"formatAt",value:function(E,T,w,C){this.format(w,C)}},{key:"insertAt",value:function(E,T,w){if(typeof T=="string"&&T.endsWith(`
`)){var C=h.default.create(D.blotName);this.parent.insertBefore(C,E===0?this:this.next),C.insertAt(0,T.slice(0,-1))}else o(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"insertAt",this).call(this,E,T,w)}}]),F}(h.default.Embed);B.scope=h.default.Scope.BLOCK_BLOT;var D=function(O){M(F,O);function F(_){y(this,F);var E=S(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,_));return E.cache={},E}return i(F,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(E,T){return T.length()===0?E:E.insert(T.value(),L(T))},new u.default).insert(`
`,L(this))),this.cache.delta}},{key:"deleteAt",value:function(E,T){o(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"deleteAt",this).call(this,E,T),this.cache={}}},{key:"formatAt",value:function(E,T,w,C){T<=0||(h.default.query(w,h.default.Scope.BLOCK)?E+T===this.length()&&this.format(w,C):o(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"formatAt",this).call(this,E,Math.min(T,this.length()-E-1),w,C),this.cache={})}},{key:"insertAt",value:function(E,T,w){if(w!=null)return o(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"insertAt",this).call(this,E,T,w);if(T.length!==0){var C=T.split(`
`),j=C.shift();j.length>0&&(E<this.length()-1||this.children.tail==null?o(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"insertAt",this).call(this,Math.min(E,this.length()-1),j):this.children.tail.insertAt(this.children.tail.length(),j),this.cache={});var N=this;C.reduce(function(I,R){return N=N.split(I,!0),N.insertAt(0,R),R.length},E+j.length)}}},{key:"insertBefore",value:function(E,T){var w=this.children.head;o(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"insertBefore",this).call(this,E,T),w instanceof A.default&&w.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"length",this).call(this)+P),this.cache.length}},{key:"moveChildren",value:function(E,T){o(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"moveChildren",this).call(this,E,T),this.cache={}}},{key:"optimize",value:function(E){o(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"optimize",this).call(this,E),this.cache={}}},{key:"path",value:function(E){return o(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"path",this).call(this,E,!0)}},{key:"removeChild",value:function(E){o(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"removeChild",this).call(this,E),this.cache={}}},{key:"split",value:function(E){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(T&&(E===0||E>=this.length()-P)){var w=this.clone();return E===0?(this.parent.insertBefore(w,this),this):(this.parent.insertBefore(w,this.next),w)}else{var C=o(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"split",this).call(this,E,T);return this.cache={},C}}}]),F}(h.default.Block);D.blotName="block",D.tagName="P",D.defaultChild="break",D.allowedChildren=[p.default,h.default.Embed,x.default];function L(O){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return O==null||(typeof O.formats=="function"&&(F=(0,l.default)(F,O.formats())),O.parent==null||O.parent.blotName=="scroll"||O.parent.statics.scope!==O.statics.scope)?F:L(O.parent,F)}s.bubbleFormats=L,s.BlockEmbed=B,s.default=D},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.overload=s.expandConfig=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},o=function(){function N(I,R){var U=[],V=!0,z=!1,X=void 0;try{for(var Q=I[Symbol.iterator](),q;!(V=(q=Q.next()).done)&&(U.push(q.value),!(R&&U.length===R));V=!0);}catch(H){z=!0,X=H}finally{try{!V&&Q.return&&Q.return()}finally{if(z)throw X}}return U}return function(I,R){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return N(I,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function N(I,R){for(var U=0;U<R.length;U++){var V=R[U];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(I,V.key,V)}}return function(I,R,U){return R&&N(I.prototype,R),U&&N(I,U),I}}();a(50);var l=a(2),d=L(l),u=a(14),f=L(u),h=a(8),m=L(h),A=a(9),g=L(A),p=a(0),b=L(p),x=a(15),v=L(x),y=a(3),S=L(y),M=a(10),P=L(M),B=a(34),D=L(B);function L(N){return N&&N.__esModule?N:{default:N}}function O(N,I,R){return I in N?Object.defineProperty(N,I,{value:R,enumerable:!0,configurable:!0,writable:!0}):N[I]=R,N}function F(N,I){if(!(N instanceof I))throw new TypeError("Cannot call a class as a function")}var _=(0,P.default)("quill"),E=function(){c(N,null,[{key:"debug",value:function(R){R===!0&&(R="log"),P.default.level(R)}},{key:"find",value:function(R){return R.__quill||b.default.find(R)}},{key:"import",value:function(R){return this.imports[R]==null&&_.error("Cannot import "+R+". Are you sure it was registered?"),this.imports[R]}},{key:"register",value:function(R,U){var V=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof R!="string"){var X=R.attrName||R.blotName;typeof X=="string"?this.register("formats/"+X,R,U):Object.keys(R).forEach(function(Q){V.register(Q,R[Q],U)})}else this.imports[R]!=null&&!z&&_.warn("Overwriting "+R+" with",U),this.imports[R]=U,(R.startsWith("blots/")||R.startsWith("formats/"))&&U.blotName!=="abstract"?b.default.register(U):R.startsWith("modules")&&typeof U.register=="function"&&U.register()}}]);function N(I){var R=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(F(this,N),this.options=T(I,U),this.container=this.options.container,this.container==null)return _.error("Invalid Quill container",I);this.options.debug&&N.debug(this.options.debug);var V=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new m.default,this.scroll=b.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new v.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(m.default.events.EDITOR_CHANGE,function(X){X===m.default.events.TEXT_CHANGE&&R.root.classList.toggle("ql-blank",R.editor.isBlank())}),this.emitter.on(m.default.events.SCROLL_UPDATE,function(X,Q){var q=R.selection.lastRange,H=q&&q.length===0?q.index:void 0;w.call(R,function(){return R.editor.update(null,Q,H)},X)});var z=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+V+"<p><br></p></div>");this.setContents(z),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return c(N,[{key:"addContainer",value:function(R){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof R=="string"){var V=R;R=document.createElement("div"),R.classList.add(V)}return this.container.insertBefore(R,U),R}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(R,U,V){var z=this,X=C(R,U,V),Q=o(X,4);return R=Q[0],U=Q[1],V=Q[3],w.call(this,function(){return z.editor.deleteText(R,U)},V,R,-1*U)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(R),this.container.classList.toggle("ql-disabled",!R)}},{key:"focus",value:function(){var R=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=R,this.scrollIntoView()}},{key:"format",value:function(R,U){var V=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;return w.call(this,function(){var X=V.getSelection(!0),Q=new d.default;if(X==null)return Q;if(b.default.query(R,b.default.Scope.BLOCK))Q=V.editor.formatLine(X.index,X.length,O({},R,U));else{if(X.length===0)return V.selection.format(R,U),Q;Q=V.editor.formatText(X.index,X.length,O({},R,U))}return V.setSelection(X,m.default.sources.SILENT),Q},z)}},{key:"formatLine",value:function(R,U,V,z,X){var Q=this,q=void 0,H=C(R,U,V,z,X),$=o(H,4);return R=$[0],U=$[1],q=$[2],X=$[3],w.call(this,function(){return Q.editor.formatLine(R,U,q)},X,R,0)}},{key:"formatText",value:function(R,U,V,z,X){var Q=this,q=void 0,H=C(R,U,V,z,X),$=o(H,4);return R=$[0],U=$[1],q=$[2],X=$[3],w.call(this,function(){return Q.editor.formatText(R,U,q)},X,R,0)}},{key:"getBounds",value:function(R){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,V=void 0;typeof R=="number"?V=this.selection.getBounds(R,U):V=this.selection.getBounds(R.index,R.length);var z=this.container.getBoundingClientRect();return{bottom:V.bottom-z.top,height:V.height,left:V.left-z.left,right:V.right-z.left,top:V.top-z.top,width:V.width}}},{key:"getContents",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-R,V=C(R,U),z=o(V,2);return R=z[0],U=z[1],this.editor.getContents(R,U)}},{key:"getFormat",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof R=="number"?this.editor.getFormat(R,U):this.editor.getFormat(R.index,R.length)}},{key:"getIndex",value:function(R){return R.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(R){return this.scroll.leaf(R)}},{key:"getLine",value:function(R){return this.scroll.line(R)}},{key:"getLines",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof R!="number"?this.scroll.lines(R.index,R.length):this.scroll.lines(R,U)}},{key:"getModule",value:function(R){return this.theme.modules[R]}},{key:"getSelection",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return R&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-R,V=C(R,U),z=o(V,2);return R=z[0],U=z[1],this.editor.getText(R,U)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(R,U,V){var z=this,X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:N.sources.API;return w.call(this,function(){return z.editor.insertEmbed(R,U,V)},X,R)}},{key:"insertText",value:function(R,U,V,z,X){var Q=this,q=void 0,H=C(R,0,V,z,X),$=o(H,4);return R=$[0],q=$[2],X=$[3],w.call(this,function(){return Q.editor.insertText(R,U,q)},X,R,U.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(R,U,V){this.clipboard.dangerouslyPasteHTML(R,U,V)}},{key:"removeFormat",value:function(R,U,V){var z=this,X=C(R,U,V),Q=o(X,4);return R=Q[0],U=Q[1],V=Q[3],w.call(this,function(){return z.editor.removeFormat(R,U)},V,R)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(R){var U=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return w.call(this,function(){R=new d.default(R);var z=U.getLength(),X=U.editor.deleteText(0,z),Q=U.editor.applyDelta(R),q=Q.ops[Q.ops.length-1];q!=null&&typeof q.insert=="string"&&q.insert[q.insert.length-1]===`
`&&(U.editor.deleteText(U.getLength()-1,1),Q.delete(1));var H=X.compose(Q);return H},V)}},{key:"setSelection",value:function(R,U,V){if(R==null)this.selection.setRange(null,U||N.sources.API);else{var z=C(R,U,V),X=o(z,4);R=X[0],U=X[1],V=X[3],this.selection.setRange(new x.Range(R,U),V),V!==m.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(R){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API,V=new d.default().insert(R);return this.setContents(V,U)}},{key:"update",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,U=this.scroll.update(R);return this.selection.update(R),U}},{key:"updateContents",value:function(R){var U=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return w.call(this,function(){return R=new d.default(R),U.editor.applyDelta(R,V)},V,!0)}}]),N}();E.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},E.events=m.default.events,E.sources=m.default.sources,E.version="1.3.7",E.imports={delta:d.default,parchment:b.default,"core/module":g.default,"core/theme":D.default};function T(N,I){if(I=(0,S.default)(!0,{container:N,modules:{clipboard:!0,keyboard:!0,history:!0}},I),!I.theme||I.theme===E.DEFAULTS.theme)I.theme=D.default;else if(I.theme=E.import("themes/"+I.theme),I.theme==null)throw new Error("Invalid theme "+I.theme+". Did you register it?");var R=(0,S.default)(!0,{},I.theme.DEFAULTS);[R,I].forEach(function(z){z.modules=z.modules||{},Object.keys(z.modules).forEach(function(X){z.modules[X]===!0&&(z.modules[X]={})})});var U=Object.keys(R.modules).concat(Object.keys(I.modules)),V=U.reduce(function(z,X){var Q=E.import("modules/"+X);return Q==null?_.error("Cannot load "+X+" module. Are you sure you registered it?"):z[X]=Q.DEFAULTS||{},z},{});return I.modules!=null&&I.modules.toolbar&&I.modules.toolbar.constructor!==Object&&(I.modules.toolbar={container:I.modules.toolbar}),I=(0,S.default)(!0,{},E.DEFAULTS,{modules:V},R,I),["bounds","container","scrollingContainer"].forEach(function(z){typeof I[z]=="string"&&(I[z]=document.querySelector(I[z]))}),I.modules=Object.keys(I.modules).reduce(function(z,X){return I.modules[X]&&(z[X]=I.modules[X]),z},{}),I}function w(N,I,R,U){if(this.options.strict&&!this.isEnabled()&&I===m.default.sources.USER)return new d.default;var V=R==null?null:this.getSelection(),z=this.editor.delta,X=N();if(V!=null&&(R===!0&&(R=V.index),U==null?V=j(V,X,I):U!==0&&(V=j(V,R,U,I)),this.setSelection(V,m.default.sources.SILENT)),X.length()>0){var Q,q=[m.default.events.TEXT_CHANGE,X,z,I];if((Q=this.emitter).emit.apply(Q,[m.default.events.EDITOR_CHANGE].concat(q)),I!==m.default.sources.SILENT){var H;(H=this.emitter).emit.apply(H,q)}}return X}function C(N,I,R,U,V){var z={};return typeof N.index=="number"&&typeof N.length=="number"?typeof I!="number"?(V=U,U=R,R=I,I=N.length,N=N.index):(I=N.length,N=N.index):typeof I!="number"&&(V=U,U=R,R=I,I=0),(typeof R>"u"?"undefined":i(R))==="object"?(z=R,V=U):typeof R=="string"&&(U!=null?z[R]=U:V=R),V=V||m.default.sources.API,[N,I,z,V]}function j(N,I,R,U){if(N==null)return null;var V=void 0,z=void 0;if(I instanceof d.default){var X=[N.index,N.index+N.length].map(function($){return I.transformPosition($,U!==m.default.sources.USER)}),Q=o(X,2);V=Q[0],z=Q[1]}else{var q=[N.index,N.index+N.length].map(function($){return $<I||$===I&&U===m.default.sources.USER?$:R>=0?$+R:Math.max(I,$+R)}),H=o(q,2);V=H[0],z=H[1]}return new x.Range(V,z-V)}s.expandConfig=T,s.overload=C,s.default=E},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function p(b,x){for(var v=0;v<x.length;v++){var y=x[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(b,y.key,y)}}return function(b,x,v){return x&&p(b.prototype,x),v&&p(b,v),b}}(),o=function p(b,x,v){b===null&&(b=Function.prototype);var y=Object.getOwnPropertyDescriptor(b,x);if(y===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:p(S,x,v)}else{if("value"in y)return y.value;var M=y.get;return M===void 0?void 0:M.call(v)}},c=a(7),l=f(c),d=a(0),u=f(d);function f(p){return p&&p.__esModule?p:{default:p}}function h(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function m(p,b){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:p}function A(p,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);p.prototype=Object.create(b&&b.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(p,b):p.__proto__=b)}var g=function(p){A(b,p);function b(){return h(this,b),m(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,[{key:"formatAt",value:function(v,y,S,M){if(b.compare(this.statics.blotName,S)<0&&u.default.query(S,u.default.Scope.BLOT)){var P=this.isolate(v,y);M&&P.wrap(S,M)}else o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,v,y,S,M)}},{key:"optimize",value:function(v){if(o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,v),this.parent instanceof b&&b.compare(this.statics.blotName,this.parent.statics.blotName)>0){var y=this.parent.isolate(this.offset(),this.length());this.moveChildren(y),y.wrap(this)}}}],[{key:"compare",value:function(v,y){var S=b.order.indexOf(v),M=b.order.indexOf(y);return S>=0||M>=0?S-M:v===y?0:v<y?-1:1}}]),b}(u.default.Inline);g.allowedChildren=[g,u.default.Embed,l.default],g.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],s.default=g},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=a(0),o=c(i);function c(h){return h&&h.__esModule?h:{default:h}}function l(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function d(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function u(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var f=function(h){u(m,h);function m(){return l(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default.Text);s.default=f},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function x(v,y){for(var S=0;S<y.length;S++){var M=y[S];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(v,M.key,M)}}return function(v,y,S){return y&&x(v.prototype,y),S&&x(v,S),v}}(),o=function x(v,y,S){v===null&&(v=Function.prototype);var M=Object.getOwnPropertyDescriptor(v,y);if(M===void 0){var P=Object.getPrototypeOf(v);return P===null?void 0:x(P,y,S)}else{if("value"in M)return M.value;var B=M.get;return B===void 0?void 0:B.call(S)}},c=a(54),l=f(c),d=a(10),u=f(d);function f(x){return x&&x.__esModule?x:{default:x}}function h(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}function m(x,v){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:x}function A(x,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(x,v):x.__proto__=v)}var g=(0,u.default)("quill:events"),p=["selectionchange","mousedown","mouseup","click"];p.forEach(function(x){document.addEventListener(x,function(){for(var v=arguments.length,y=Array(v),S=0;S<v;S++)y[S]=arguments[S];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(M){if(M.__quill&&M.__quill.emitter){var P;(P=M.__quill.emitter).handleDOM.apply(P,y)}})})});var b=function(x){A(v,x);function v(){h(this,v);var y=m(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));return y.listeners={},y.on("error",g.error),y}return i(v,[{key:"emit",value:function(){g.log.apply(g,arguments),o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(S){for(var M=arguments.length,P=Array(M>1?M-1:0),B=1;B<M;B++)P[B-1]=arguments[B];(this.listeners[S.type]||[]).forEach(function(D){var L=D.node,O=D.handler;(S.target===L||L.contains(S.target))&&O.apply(void 0,[S].concat(P))})}},{key:"listenDOM",value:function(S,M,P){this.listeners[S]||(this.listeners[S]=[]),this.listeners[S].push({node:M,handler:P})}}]),v}(l.default);b.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},b.sources={API:"api",SILENT:"silent",USER:"user"},s.default=b},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});function i(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}var o=function c(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i(this,c),this.quill=l,this.options=d};o.DEFAULTS={},s.default=o},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=["error","warn","log","info"],o="warn";function c(d){if(i.indexOf(d)<=i.indexOf(o)){for(var u,f=arguments.length,h=Array(f>1?f-1:0),m=1;m<f;m++)h[m-1]=arguments[m];(u=console)[d].apply(u,h)}}function l(d){return i.reduce(function(u,f){return u[f]=c.bind(console,f,d),u},{})}c.level=l.level=function(d){o=d},s.default=l},function(e,s,a){var i=Array.prototype.slice,o=a(52),c=a(53),l=e.exports=function(h,m,A){return A||(A={}),h===m?!0:h instanceof Date&&m instanceof Date?h.getTime()===m.getTime():!h||!m||typeof h!="object"&&typeof m!="object"?A.strict?h===m:h==m:f(h,m,A)};function d(h){return h==null}function u(h){return!(!h||typeof h!="object"||typeof h.length!="number"||typeof h.copy!="function"||typeof h.slice!="function"||h.length>0&&typeof h[0]!="number")}function f(h,m,A){var g,p;if(d(h)||d(m)||h.prototype!==m.prototype)return!1;if(c(h))return c(m)?(h=i.call(h),m=i.call(m),l(h,m,A)):!1;if(u(h)){if(!u(m)||h.length!==m.length)return!1;for(g=0;g<h.length;g++)if(h[g]!==m[g])return!1;return!0}try{var b=o(h),x=o(m)}catch{return!1}if(b.length!=x.length)return!1;for(b.sort(),x.sort(),g=b.length-1;g>=0;g--)if(b[g]!=x[g])return!1;for(g=b.length-1;g>=0;g--)if(p=b[g],!l(h[p],m[p],A))return!1;return typeof h==typeof m}},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=a(1),o=function(){function c(l,d,u){u===void 0&&(u={}),this.attrName=l,this.keyName=d;var f=i.Scope.TYPE&i.Scope.ATTRIBUTE;u.scope!=null?this.scope=u.scope&i.Scope.LEVEL|f:this.scope=i.Scope.ATTRIBUTE,u.whitelist!=null&&(this.whitelist=u.whitelist)}return c.keys=function(l){return[].map.call(l.attributes,function(d){return d.name})},c.prototype.add=function(l,d){return this.canAdd(l,d)?(l.setAttribute(this.keyName,d),!0):!1},c.prototype.canAdd=function(l,d){var u=i.query(l,i.Scope.BLOT&(this.scope|i.Scope.TYPE));return u==null?!1:this.whitelist==null?!0:typeof d=="string"?this.whitelist.indexOf(d.replace(/["']/g,""))>-1:this.whitelist.indexOf(d)>-1},c.prototype.remove=function(l){l.removeAttribute(this.keyName)},c.prototype.value=function(l){var d=l.getAttribute(this.keyName);return this.canAdd(l,d)&&d?d:""},c}();s.default=o},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Code=void 0;var i=function(){function B(D,L){var O=[],F=!0,_=!1,E=void 0;try{for(var T=D[Symbol.iterator](),w;!(F=(w=T.next()).done)&&(O.push(w.value),!(L&&O.length===L));F=!0);}catch(C){_=!0,E=C}finally{try{!F&&T.return&&T.return()}finally{if(_)throw E}}return O}return function(D,L){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return B(D,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function B(D,L){for(var O=0;O<L.length;O++){var F=L[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(D,F.key,F)}}return function(D,L,O){return L&&B(D.prototype,L),O&&B(D,O),D}}(),c=function B(D,L,O){D===null&&(D=Function.prototype);var F=Object.getOwnPropertyDescriptor(D,L);if(F===void 0){var _=Object.getPrototypeOf(D);return _===null?void 0:B(_,L,O)}else{if("value"in F)return F.value;var E=F.get;return E===void 0?void 0:E.call(O)}},l=a(2),d=x(l),u=a(0),f=x(u),h=a(4),m=x(h),A=a(6),g=x(A),p=a(7),b=x(p);function x(B){return B&&B.__esModule?B:{default:B}}function v(B,D){if(!(B instanceof D))throw new TypeError("Cannot call a class as a function")}function y(B,D){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:B}function S(B,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);B.prototype=Object.create(D&&D.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(B,D):B.__proto__=D)}var M=function(B){S(D,B);function D(){return v(this,D),y(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return D}(g.default);M.blotName="code",M.tagName="CODE";var P=function(B){S(D,B);function D(){return v(this,D),y(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return o(D,[{key:"delta",value:function(){var O=this,F=this.domNode.textContent;return F.endsWith(`
`)&&(F=F.slice(0,-1)),F.split(`
`).reduce(function(_,E){return _.insert(E).insert(`
`,O.formats())},new d.default)}},{key:"format",value:function(O,F){if(!(O===this.statics.blotName&&F)){var _=this.descendant(b.default,this.length()-1),E=i(_,1),T=E[0];T!=null&&T.deleteAt(T.length()-1,1),c(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"format",this).call(this,O,F)}}},{key:"formatAt",value:function(O,F,_,E){if(F!==0&&!(f.default.query(_,f.default.Scope.BLOCK)==null||_===this.statics.blotName&&E===this.statics.formats(this.domNode))){var T=this.newlineIndex(O);if(!(T<0||T>=O+F)){var w=this.newlineIndex(O,!0)+1,C=T-w+1,j=this.isolate(w,C),N=j.next;j.format(_,E),N instanceof D&&N.formatAt(0,O-w+F-C,_,E)}}}},{key:"insertAt",value:function(O,F,_){if(_==null){var E=this.descendant(b.default,O),T=i(E,2),w=T[0],C=T[1];w.insertAt(C,F)}}},{key:"length",value:function(){var O=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?O:O+1}},{key:"newlineIndex",value:function(O){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(F)return this.domNode.textContent.slice(0,O).lastIndexOf(`
`);var _=this.domNode.textContent.slice(O).indexOf(`
`);return _>-1?O+_:-1}},{key:"optimize",value:function(O){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),c(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,O);var F=this.next;F!=null&&F.prev===this&&F.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===F.statics.formats(F.domNode)&&(F.optimize(O),F.moveChildren(this),F.remove())}},{key:"replace",value:function(O){c(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"replace",this).call(this,O),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(F){var _=f.default.find(F);_==null?F.parentNode.removeChild(F):_ instanceof f.default.Embed?_.remove():_.unwrap()})}}],[{key:"create",value:function(O){var F=c(D.__proto__||Object.getPrototypeOf(D),"create",this).call(this,O);return F.setAttribute("spellcheck",!1),F}},{key:"formats",value:function(){return!0}}]),D}(m.default);P.blotName="code-block",P.tagName="PRE",P.TAB="  ",s.Code=M,s.default=P},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},o=function(){function N(I,R){var U=[],V=!0,z=!1,X=void 0;try{for(var Q=I[Symbol.iterator](),q;!(V=(q=Q.next()).done)&&(U.push(q.value),!(R&&U.length===R));V=!0);}catch(H){z=!0,X=H}finally{try{!V&&Q.return&&Q.return()}finally{if(z)throw X}}return U}return function(I,R){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return N(I,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function N(I,R){for(var U=0;U<R.length;U++){var V=R[U];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(I,V.key,V)}}return function(I,R,U){return R&&N(I.prototype,R),U&&N(I,U),I}}(),l=a(2),d=F(l),u=a(20),f=F(u),h=a(0),m=F(h),A=a(13),g=F(A),p=a(24),b=F(p),x=a(4),v=F(x),y=a(16),S=F(y),M=a(21),P=F(M),B=a(11),D=F(B),L=a(3),O=F(L);function F(N){return N&&N.__esModule?N:{default:N}}function _(N,I,R){return I in N?Object.defineProperty(N,I,{value:R,enumerable:!0,configurable:!0,writable:!0}):N[I]=R,N}function E(N,I){if(!(N instanceof I))throw new TypeError("Cannot call a class as a function")}var T=/^[ -~]*$/,w=function(){function N(I){E(this,N),this.scroll=I,this.delta=this.getDelta()}return c(N,[{key:"applyDelta",value:function(R){var U=this,V=!1;this.scroll.update();var z=this.scroll.length();return this.scroll.batchStart(),R=j(R),R.reduce(function(X,Q){var q=Q.retain||Q.delete||Q.insert.length||1,H=Q.attributes||{};if(Q.insert!=null){if(typeof Q.insert=="string"){var $=Q.insert;$.endsWith(`
`)&&V&&(V=!1,$=$.slice(0,-1)),X>=z&&!$.endsWith(`
`)&&(V=!0),U.scroll.insertAt(X,$);var G=U.scroll.line(X),J=o(G,2),te=J[0],K=J[1],ne=(0,O.default)({},(0,x.bubbleFormats)(te));if(te instanceof v.default){var ce=te.descendant(m.default.Leaf,K),oe=o(ce,1),ee=oe[0];ne=(0,O.default)(ne,(0,x.bubbleFormats)(ee))}H=f.default.attributes.diff(ne,H)||{}}else if(i(Q.insert)==="object"){var W=Object.keys(Q.insert)[0];if(W==null)return X;U.scroll.insertAt(X,W,Q.insert[W])}z+=q}return Object.keys(H).forEach(function(Y){U.scroll.formatAt(X,q,Y,H[Y])}),X+q},0),R.reduce(function(X,Q){return typeof Q.delete=="number"?(U.scroll.deleteAt(X,Q.delete),X):X+(Q.retain||Q.insert.length||1)},0),this.scroll.batchEnd(),this.update(R)}},{key:"deleteText",value:function(R,U){return this.scroll.deleteAt(R,U),this.update(new d.default().retain(R).delete(U))}},{key:"formatLine",value:function(R,U){var V=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(z).forEach(function(X){if(!(V.scroll.whitelist!=null&&!V.scroll.whitelist[X])){var Q=V.scroll.lines(R,Math.max(U,1)),q=U;Q.forEach(function(H){var $=H.length();if(!(H instanceof g.default))H.format(X,z[X]);else{var G=R-H.offset(V.scroll),J=H.newlineIndex(G+q)-G+1;H.formatAt(G,J,X,z[X])}q-=$})}}),this.scroll.optimize(),this.update(new d.default().retain(R).retain(U,(0,P.default)(z)))}},{key:"formatText",value:function(R,U){var V=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(z).forEach(function(X){V.scroll.formatAt(R,U,X,z[X])}),this.update(new d.default().retain(R).retain(U,(0,P.default)(z)))}},{key:"getContents",value:function(R,U){return this.delta.slice(R,R+U)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(R,U){return R.concat(U.delta())},new d.default)}},{key:"getFormat",value:function(R){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,V=[],z=[];U===0?this.scroll.path(R).forEach(function(Q){var q=o(Q,1),H=q[0];H instanceof v.default?V.push(H):H instanceof m.default.Leaf&&z.push(H)}):(V=this.scroll.lines(R,U),z=this.scroll.descendants(m.default.Leaf,R,U));var X=[V,z].map(function(Q){if(Q.length===0)return{};for(var q=(0,x.bubbleFormats)(Q.shift());Object.keys(q).length>0;){var H=Q.shift();if(H==null)return q;q=C((0,x.bubbleFormats)(H),q)}return q});return O.default.apply(O.default,X)}},{key:"getText",value:function(R,U){return this.getContents(R,U).filter(function(V){return typeof V.insert=="string"}).map(function(V){return V.insert}).join("")}},{key:"insertEmbed",value:function(R,U,V){return this.scroll.insertAt(R,U,V),this.update(new d.default().retain(R).insert(_({},U,V)))}},{key:"insertText",value:function(R,U){var V=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return U=U.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(R,U),Object.keys(z).forEach(function(X){V.scroll.formatAt(R,U.length,X,z[X])}),this.update(new d.default().retain(R).insert(U,(0,P.default)(z)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var R=this.scroll.children.head;return R.statics.blotName!==v.default.blotName||R.children.length>1?!1:R.children.head instanceof S.default}},{key:"removeFormat",value:function(R,U){var V=this.getText(R,U),z=this.scroll.line(R+U),X=o(z,2),Q=X[0],q=X[1],H=0,$=new d.default;Q!=null&&(Q instanceof g.default?H=Q.newlineIndex(q)-q+1:H=Q.length()-q,$=Q.delta().slice(q,q+H-1).insert(`
`));var G=this.getContents(R,U+H),J=G.diff(new d.default().insert(V).concat($)),te=new d.default().retain(R).concat(J);return this.applyDelta(te)}},{key:"update",value:function(R){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,z=this.delta;if(U.length===1&&U[0].type==="characterData"&&U[0].target.data.match(T)&&m.default.find(U[0].target)){var X=m.default.find(U[0].target),Q=(0,x.bubbleFormats)(X),q=X.offset(this.scroll),H=U[0].oldValue.replace(b.default.CONTENTS,""),$=new d.default().insert(H),G=new d.default().insert(X.value()),J=new d.default().retain(q).concat($.diff(G,V));R=J.reduce(function(te,K){return K.insert?te.insert(K.insert,Q):te.push(K)},new d.default),this.delta=z.compose(R)}else this.delta=this.getDelta(),(!R||!(0,D.default)(z.compose(R),this.delta))&&(R=z.diff(this.delta,V));return R}}]),N}();function C(N,I){return Object.keys(I).reduce(function(R,U){return N[U]==null||(I[U]===N[U]?R[U]=I[U]:Array.isArray(I[U])?I[U].indexOf(N[U])<0&&(R[U]=I[U].concat([N[U]])):R[U]=[I[U],N[U]]),R},{})}function j(N){return N.reduce(function(I,R){if(R.insert===1){var U=(0,P.default)(R.attributes);return delete U.image,I.insert({image:R.attributes.image},U)}if(R.attributes!=null&&(R.attributes.list===!0||R.attributes.bullet===!0)&&(R=(0,P.default)(R),R.attributes.list?R.attributes.list="ordered":(R.attributes.list="bullet",delete R.attributes.bullet)),typeof R.insert=="string"){var V=R.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return I.insert(V,R.attributes)}return I.push(R)},new d.default)}s.default=w},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Range=void 0;var i=function(){function B(D,L){var O=[],F=!0,_=!1,E=void 0;try{for(var T=D[Symbol.iterator](),w;!(F=(w=T.next()).done)&&(O.push(w.value),!(L&&O.length===L));F=!0);}catch(C){_=!0,E=C}finally{try{!F&&T.return&&T.return()}finally{if(_)throw E}}return O}return function(D,L){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return B(D,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function B(D,L){for(var O=0;O<L.length;O++){var F=L[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(D,F.key,F)}}return function(D,L,O){return L&&B(D.prototype,L),O&&B(D,O),D}}(),c=a(0),l=b(c),d=a(21),u=b(d),f=a(11),h=b(f),m=a(8),A=b(m),g=a(10),p=b(g);function b(B){return B&&B.__esModule?B:{default:B}}function x(B){if(Array.isArray(B)){for(var D=0,L=Array(B.length);D<B.length;D++)L[D]=B[D];return L}else return Array.from(B)}function v(B,D){if(!(B instanceof D))throw new TypeError("Cannot call a class as a function")}var y=(0,p.default)("quill:selection"),S=function B(D){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;v(this,B),this.index=D,this.length=L},M=function(){function B(D,L){var O=this;v(this,B),this.emitter=L,this.scroll=D,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new S(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){O.mouseDown||setTimeout(O.update.bind(O,A.default.sources.USER),1)}),this.emitter.on(A.default.events.EDITOR_CHANGE,function(F,_){F===A.default.events.TEXT_CHANGE&&_.length()>0&&O.update(A.default.sources.SILENT)}),this.emitter.on(A.default.events.SCROLL_BEFORE_UPDATE,function(){if(O.hasFocus()){var F=O.getNativeRange();F!=null&&F.start.node!==O.cursor.textNode&&O.emitter.once(A.default.events.SCROLL_UPDATE,function(){try{O.setNativeRange(F.start.node,F.start.offset,F.end.node,F.end.offset)}catch{}})}}),this.emitter.on(A.default.events.SCROLL_OPTIMIZE,function(F,_){if(_.range){var E=_.range,T=E.startNode,w=E.startOffset,C=E.endNode,j=E.endOffset;O.setNativeRange(T,w,C,j)}}),this.update(A.default.sources.SILENT)}return o(B,[{key:"handleComposition",value:function(){var L=this;this.root.addEventListener("compositionstart",function(){L.composing=!0}),this.root.addEventListener("compositionend",function(){if(L.composing=!1,L.cursor.parent){var O=L.cursor.restore();if(!O)return;setTimeout(function(){L.setNativeRange(O.startNode,O.startOffset,O.endNode,O.endOffset)},1)}})}},{key:"handleDragging",value:function(){var L=this;this.emitter.listenDOM("mousedown",document.body,function(){L.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){L.mouseDown=!1,L.update(A.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(L,O){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[L])){this.scroll.update();var F=this.getNativeRange();if(!(F==null||!F.native.collapsed||l.default.query(L,l.default.Scope.BLOCK))){if(F.start.node!==this.cursor.textNode){var _=l.default.find(F.start.node,!1);if(_==null)return;if(_ instanceof l.default.Leaf){var E=_.split(F.start.offset);_.parent.insertBefore(this.cursor,E)}else _.insertBefore(this.cursor,F.start.node);this.cursor.attach()}this.cursor.format(L,O),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(L){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=this.scroll.length();L=Math.min(L,F-1),O=Math.min(L+O,F-1)-L;var _=void 0,E=this.scroll.leaf(L),T=i(E,2),w=T[0],C=T[1];if(w==null)return null;var j=w.position(C,!0),N=i(j,2);_=N[0],C=N[1];var I=document.createRange();if(O>0){I.setStart(_,C);var R=this.scroll.leaf(L+O),U=i(R,2);if(w=U[0],C=U[1],w==null)return null;var V=w.position(C,!0),z=i(V,2);return _=z[0],C=z[1],I.setEnd(_,C),I.getBoundingClientRect()}else{var X="left",Q=void 0;return _ instanceof Text?(C<_.data.length?(I.setStart(_,C),I.setEnd(_,C+1)):(I.setStart(_,C-1),I.setEnd(_,C),X="right"),Q=I.getBoundingClientRect()):(Q=w.domNode.getBoundingClientRect(),C>0&&(X="right")),{bottom:Q.top+Q.height,height:Q.height,left:Q[X],right:Q[X],top:Q.top,width:0}}}},{key:"getNativeRange",value:function(){var L=document.getSelection();if(L==null||L.rangeCount<=0)return null;var O=L.getRangeAt(0);if(O==null)return null;var F=this.normalizeNative(O);return y.info("getNativeRange",F),F}},{key:"getRange",value:function(){var L=this.getNativeRange();if(L==null)return[null,null];var O=this.normalizedToRange(L);return[O,L]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(L){var O=this,F=[[L.start.node,L.start.offset]];L.native.collapsed||F.push([L.end.node,L.end.offset]);var _=F.map(function(w){var C=i(w,2),j=C[0],N=C[1],I=l.default.find(j,!0),R=I.offset(O.scroll);return N===0?R:I instanceof l.default.Container?R+I.length():R+I.index(j,N)}),E=Math.min(Math.max.apply(Math,x(_)),this.scroll.length()-1),T=Math.min.apply(Math,[E].concat(x(_)));return new S(T,E-T)}},{key:"normalizeNative",value:function(L){if(!P(this.root,L.startContainer)||!L.collapsed&&!P(this.root,L.endContainer))return null;var O={start:{node:L.startContainer,offset:L.startOffset},end:{node:L.endContainer,offset:L.endOffset},native:L};return[O.start,O.end].forEach(function(F){for(var _=F.node,E=F.offset;!(_ instanceof Text)&&_.childNodes.length>0;)if(_.childNodes.length>E)_=_.childNodes[E],E=0;else if(_.childNodes.length===E)_=_.lastChild,E=_ instanceof Text?_.data.length:_.childNodes.length+1;else break;F.node=_,F.offset=E}),O}},{key:"rangeToNative",value:function(L){var O=this,F=L.collapsed?[L.index]:[L.index,L.index+L.length],_=[],E=this.scroll.length();return F.forEach(function(T,w){T=Math.min(E-1,T);var C=void 0,j=O.scroll.leaf(T),N=i(j,2),I=N[0],R=N[1],U=I.position(R,w!==0),V=i(U,2);C=V[0],R=V[1],_.push(C,R)}),_.length<2&&(_=_.concat(_)),_}},{key:"scrollIntoView",value:function(L){var O=this.lastRange;if(O!=null){var F=this.getBounds(O.index,O.length);if(F!=null){var _=this.scroll.length()-1,E=this.scroll.line(Math.min(O.index,_)),T=i(E,1),w=T[0],C=w;if(O.length>0){var j=this.scroll.line(Math.min(O.index+O.length,_)),N=i(j,1);C=N[0]}if(!(w==null||C==null)){var I=L.getBoundingClientRect();F.top<I.top?L.scrollTop-=I.top-F.top:F.bottom>I.bottom&&(L.scrollTop+=F.bottom-I.bottom)}}}}},{key:"setNativeRange",value:function(L,O){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:L,_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:O,E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(y.info("setNativeRange",L,O,F,_),!(L!=null&&(this.root.parentNode==null||L.parentNode==null||F.parentNode==null))){var T=document.getSelection();if(T!=null)if(L!=null){this.hasFocus()||this.root.focus();var w=(this.getNativeRange()||{}).native;if(w==null||E||L!==w.startContainer||O!==w.startOffset||F!==w.endContainer||_!==w.endOffset){L.tagName=="BR"&&(O=[].indexOf.call(L.parentNode.childNodes,L),L=L.parentNode),F.tagName=="BR"&&(_=[].indexOf.call(F.parentNode.childNodes,F),F=F.parentNode);var C=document.createRange();C.setStart(L,O),C.setEnd(F,_),T.removeAllRanges(),T.addRange(C)}}else T.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(L){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A.default.sources.API;if(typeof O=="string"&&(F=O,O=!1),y.info("setRange",L),L!=null){var _=this.rangeToNative(L);this.setNativeRange.apply(this,x(_).concat([O]))}else this.setNativeRange(null);this.update(F)}},{key:"update",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A.default.sources.USER,O=this.lastRange,F=this.getRange(),_=i(F,2),E=_[0],T=_[1];if(this.lastRange=E,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,h.default)(O,this.lastRange)){var w;!this.composing&&T!=null&&T.native.collapsed&&T.start.node!==this.cursor.textNode&&this.cursor.restore();var C=[A.default.events.SELECTION_CHANGE,(0,u.default)(this.lastRange),(0,u.default)(O),L];if((w=this.emitter).emit.apply(w,[A.default.events.EDITOR_CHANGE].concat(C)),L!==A.default.sources.SILENT){var j;(j=this.emitter).emit.apply(j,C)}}}}]),B}();function P(B,D){try{D.parentNode}catch{return!1}return D instanceof Text&&(D=D.parentNode),B.contains(D)}s.Range=S,s.default=M},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function A(g,p){for(var b=0;b<p.length;b++){var x=p[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,p,b){return p&&A(g.prototype,p),b&&A(g,b),g}}(),o=function A(g,p,b){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,p);if(x===void 0){var v=Object.getPrototypeOf(g);return v===null?void 0:A(v,p,b)}else{if("value"in x)return x.value;var y=x.get;return y===void 0?void 0:y.call(b)}},c=a(0),l=d(c);function d(A){return A&&A.__esModule?A:{default:A}}function u(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}function f(A,g){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:A}function h(A,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);A.prototype=Object.create(g&&g.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(A,g):A.__proto__=g)}var m=function(A){h(g,A);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,[{key:"insertInto",value:function(b,x){b.children.length===0?o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"insertInto",this).call(this,b,x):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),g}(l.default.Embed);m.blotName="break",m.tagName="BR",s.default=m},function(e,s,a){var i=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var A in m)m.hasOwnProperty(A)&&(h[A]=m[A])};return function(h,m){f(h,m);function A(){this.constructor=h}h.prototype=m===null?Object.create(m):(A.prototype=m.prototype,new A)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=a(44),c=a(30),l=a(1),d=function(f){i(h,f);function h(m){var A=f.call(this,m)||this;return A.build(),A}return h.prototype.appendChild=function(m){this.insertBefore(m)},h.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(m){m.attach()})},h.prototype.build=function(){var m=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(A){try{var g=u(A);m.insertBefore(g,m.children.head||void 0)}catch(p){if(p instanceof l.ParchmentError)return;throw p}})},h.prototype.deleteAt=function(m,A){if(m===0&&A===this.length())return this.remove();this.children.forEachAt(m,A,function(g,p,b){g.deleteAt(p,b)})},h.prototype.descendant=function(m,A){var g=this.children.find(A),p=g[0],b=g[1];return m.blotName==null&&m(p)||m.blotName!=null&&p instanceof m?[p,b]:p instanceof h?p.descendant(m,b):[null,-1]},h.prototype.descendants=function(m,A,g){A===void 0&&(A=0),g===void 0&&(g=Number.MAX_VALUE);var p=[],b=g;return this.children.forEachAt(A,g,function(x,v,y){(m.blotName==null&&m(x)||m.blotName!=null&&x instanceof m)&&p.push(x),x instanceof h&&(p=p.concat(x.descendants(m,v,b))),b-=y}),p},h.prototype.detach=function(){this.children.forEach(function(m){m.detach()}),f.prototype.detach.call(this)},h.prototype.formatAt=function(m,A,g,p){this.children.forEachAt(m,A,function(b,x,v){b.formatAt(x,v,g,p)})},h.prototype.insertAt=function(m,A,g){var p=this.children.find(m),b=p[0],x=p[1];if(b)b.insertAt(x,A,g);else{var v=g==null?l.create("text",A):l.create(A,g);this.appendChild(v)}},h.prototype.insertBefore=function(m,A){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(g){return m instanceof g}))throw new l.ParchmentError("Cannot insert "+m.statics.blotName+" into "+this.statics.blotName);m.insertInto(this,A)},h.prototype.length=function(){return this.children.reduce(function(m,A){return m+A.length()},0)},h.prototype.moveChildren=function(m,A){this.children.forEach(function(g){m.insertBefore(g,A)})},h.prototype.optimize=function(m){if(f.prototype.optimize.call(this,m),this.children.length===0)if(this.statics.defaultChild!=null){var A=l.create(this.statics.defaultChild);this.appendChild(A),A.optimize(m)}else this.remove()},h.prototype.path=function(m,A){A===void 0&&(A=!1);var g=this.children.find(m,A),p=g[0],b=g[1],x=[[this,m]];return p instanceof h?x.concat(p.path(b,A)):(p!=null&&x.push([p,b]),x)},h.prototype.removeChild=function(m){this.children.remove(m)},h.prototype.replace=function(m){m instanceof h&&m.moveChildren(this),f.prototype.replace.call(this,m)},h.prototype.split=function(m,A){if(A===void 0&&(A=!1),!A){if(m===0)return this;if(m===this.length())return this.next}var g=this.clone();return this.parent.insertBefore(g,this.next),this.children.forEachAt(m,this.length(),function(p,b,x){p=p.split(b,A),g.appendChild(p)}),g},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(m,A){var g=this,p=[],b=[];m.forEach(function(x){x.target===g.domNode&&x.type==="childList"&&(p.push.apply(p,x.addedNodes),b.push.apply(b,x.removedNodes))}),b.forEach(function(x){if(!(x.parentNode!=null&&x.tagName!=="IFRAME"&&document.body.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var v=l.find(x);v!=null&&(v.domNode.parentNode==null||v.domNode.parentNode===g.domNode)&&v.detach()}}),p.filter(function(x){return x.parentNode==g.domNode}).sort(function(x,v){return x===v?0:x.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(x){var v=null;x.nextSibling!=null&&(v=l.find(x.nextSibling));var y=u(x);(y.next!=v||y.next==null)&&(y.parent!=null&&y.parent.removeChild(g),g.insertBefore(y,v||void 0))})},h}(c.default);function u(f){var h=l.find(f);if(h==null)try{h=l.create(f)}catch{h=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(A){h.domNode.appendChild(A)}),f.parentNode&&f.parentNode.replaceChild(h.domNode,f),h.attach()}return h}s.default=d},function(e,s,a){var i=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var A in m)m.hasOwnProperty(A)&&(h[A]=m[A])};return function(h,m){f(h,m);function A(){this.constructor=h}h.prototype=m===null?Object.create(m):(A.prototype=m.prototype,new A)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=a(12),c=a(31),l=a(17),d=a(1),u=function(f){i(h,f);function h(m){var A=f.call(this,m)||this;return A.attributes=new c.default(A.domNode),A}return h.formats=function(m){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return m.tagName.toLowerCase()},h.prototype.format=function(m,A){var g=d.query(m);g instanceof o.default?this.attributes.attribute(g,A):A&&g!=null&&(m!==this.statics.blotName||this.formats()[m]!==A)&&this.replaceWith(m,A)},h.prototype.formats=function(){var m=this.attributes.values(),A=this.statics.formats(this.domNode);return A!=null&&(m[this.statics.blotName]=A),m},h.prototype.replaceWith=function(m,A){var g=f.prototype.replaceWith.call(this,m,A);return this.attributes.copy(g),g},h.prototype.update=function(m,A){var g=this;f.prototype.update.call(this,m,A),m.some(function(p){return p.target===g.domNode&&p.type==="attributes"})&&this.attributes.build()},h.prototype.wrap=function(m,A){var g=f.prototype.wrap.call(this,m,A);return g instanceof h&&g.statics.scope===this.statics.scope&&this.attributes.move(g),g},h}(l.default);s.default=u},function(e,s,a){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){d(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=a(30),c=a(1),l=function(d){i(u,d);function u(){return d!==null&&d.apply(this,arguments)||this}return u.value=function(f){return!0},u.prototype.index=function(f,h){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},u.prototype.position=function(f,h){var m=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(m+=1),[this.parent.domNode,m]},u.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},u.scope=c.Scope.INLINE_BLOT,u}(o.default);s.default=l},function(e,s,a){var i=a(11),o=a(3),c={attributes:{compose:function(d,u,f){typeof d!="object"&&(d={}),typeof u!="object"&&(u={});var h=o(!0,{},u);f||(h=Object.keys(h).reduce(function(A,g){return h[g]!=null&&(A[g]=h[g]),A},{}));for(var m in d)d[m]!==void 0&&u[m]===void 0&&(h[m]=d[m]);return Object.keys(h).length>0?h:void 0},diff:function(d,u){typeof d!="object"&&(d={}),typeof u!="object"&&(u={});var f=Object.keys(d).concat(Object.keys(u)).reduce(function(h,m){return i(d[m],u[m])||(h[m]=u[m]===void 0?null:u[m]),h},{});return Object.keys(f).length>0?f:void 0},transform:function(d,u,f){if(typeof d!="object")return u;if(typeof u=="object"){if(!f)return u;var h=Object.keys(u).reduce(function(m,A){return d[A]===void 0&&(m[A]=u[A]),m},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(d){return new l(d)},length:function(d){return typeof d.delete=="number"?d.delete:typeof d.retain=="number"?d.retain:typeof d.insert=="string"?d.insert.length:1}};function l(d){this.ops=d,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(d){d||(d=1/0);var u=this.ops[this.index];if(u){var f=this.offset,h=c.length(u);if(d>=h-f?(d=h-f,this.index+=1,this.offset=0):this.offset+=d,typeof u.delete=="number")return{delete:d};var m={};return u.attributes&&(m.attributes=u.attributes),typeof u.retain=="number"?m.retain=d:typeof u.insert=="string"?m.insert=u.insert.substr(f,d):m.insert=u.insert,m}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?c.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var d=this.offset,u=this.index,f=this.next(),h=this.ops.slice(this.index);return this.offset=d,this.index=u,[f].concat(h)}else return[]},e.exports=c},function(e,s){var a=function(){function i(g,p){return p!=null&&g instanceof p}var o;try{o=Map}catch{o=function(){}}var c;try{c=Set}catch{c=function(){}}var l;try{l=Promise}catch{l=function(){}}function d(g,p,b,x,v){typeof p=="object"&&(b=p.depth,x=p.prototype,v=p.includeNonEnumerable,p=p.circular);var y=[],S=[],M=typeof Buffer<"u";typeof p>"u"&&(p=!0),typeof b>"u"&&(b=1/0);function P(B,D){if(B===null)return null;if(D===0)return B;var L,O;if(typeof B!="object")return B;if(i(B,o))L=new o;else if(i(B,c))L=new c;else if(i(B,l))L=new l(function(I,R){B.then(function(U){I(P(U,D-1))},function(U){R(P(U,D-1))})});else if(d.__isArray(B))L=[];else if(d.__isRegExp(B))L=new RegExp(B.source,A(B)),B.lastIndex&&(L.lastIndex=B.lastIndex);else if(d.__isDate(B))L=new Date(B.getTime());else{if(M&&Buffer.isBuffer(B))return Buffer.allocUnsafe?L=Buffer.allocUnsafe(B.length):L=new Buffer(B.length),B.copy(L),L;i(B,Error)?L=Object.create(B):typeof x>"u"?(O=Object.getPrototypeOf(B),L=Object.create(O)):(L=Object.create(x),O=x)}if(p){var F=y.indexOf(B);if(F!=-1)return S[F];y.push(B),S.push(L)}i(B,o)&&B.forEach(function(I,R){var U=P(R,D-1),V=P(I,D-1);L.set(U,V)}),i(B,c)&&B.forEach(function(I){var R=P(I,D-1);L.add(R)});for(var _ in B){var E;O&&(E=Object.getOwnPropertyDescriptor(O,_)),!(E&&E.set==null)&&(L[_]=P(B[_],D-1))}if(Object.getOwnPropertySymbols)for(var T=Object.getOwnPropertySymbols(B),_=0;_<T.length;_++){var w=T[_],C=Object.getOwnPropertyDescriptor(B,w);C&&!C.enumerable&&!v||(L[w]=P(B[w],D-1),C.enumerable||Object.defineProperty(L,w,{enumerable:!1}))}if(v)for(var j=Object.getOwnPropertyNames(B),_=0;_<j.length;_++){var N=j[_],C=Object.getOwnPropertyDescriptor(B,N);C&&C.enumerable||(L[N]=P(B[N],D-1),Object.defineProperty(L,N,{enumerable:!1}))}return L}return P(g,b)}d.clonePrototype=function(p){if(p===null)return null;var b=function(){};return b.prototype=p,new b};function u(g){return Object.prototype.toString.call(g)}d.__objToStr=u;function f(g){return typeof g=="object"&&u(g)==="[object Date]"}d.__isDate=f;function h(g){return typeof g=="object"&&u(g)==="[object Array]"}d.__isArray=h;function m(g){return typeof g=="object"&&u(g)==="[object RegExp]"}d.__isRegExp=m;function A(g){var p="";return g.global&&(p+="g"),g.ignoreCase&&(p+="i"),g.multiline&&(p+="m"),p}return d.__getRegExpFlags=A,d}();typeof e=="object"&&e.exports&&(e.exports=a)},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function L(O,F){var _=[],E=!0,T=!1,w=void 0;try{for(var C=O[Symbol.iterator](),j;!(E=(j=C.next()).done)&&(_.push(j.value),!(F&&_.length===F));E=!0);}catch(N){T=!0,w=N}finally{try{!E&&C.return&&C.return()}finally{if(T)throw w}}return _}return function(O,F){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return L(O,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function L(O,F){for(var _=0;_<F.length;_++){var E=F[_];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(O,E.key,E)}}return function(O,F,_){return F&&L(O.prototype,F),_&&L(O,_),O}}(),c=function L(O,F,_){O===null&&(O=Function.prototype);var E=Object.getOwnPropertyDescriptor(O,F);if(E===void 0){var T=Object.getPrototypeOf(O);return T===null?void 0:L(T,F,_)}else{if("value"in E)return E.value;var w=E.get;return w===void 0?void 0:w.call(_)}},l=a(0),d=y(l),u=a(8),f=y(u),h=a(4),m=y(h),A=a(16),g=y(A),p=a(13),b=y(p),x=a(25),v=y(x);function y(L){return L&&L.__esModule?L:{default:L}}function S(L,O){if(!(L instanceof O))throw new TypeError("Cannot call a class as a function")}function M(L,O){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:L}function P(L,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);L.prototype=Object.create(O&&O.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(L,O):L.__proto__=O)}function B(L){return L instanceof m.default||L instanceof h.BlockEmbed}var D=function(L){P(O,L);function O(F,_){S(this,O);var E=M(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,F));return E.emitter=_.emitter,Array.isArray(_.whitelist)&&(E.whitelist=_.whitelist.reduce(function(T,w){return T[w]=!0,T},{})),E.domNode.addEventListener("DOMNodeInserted",function(){}),E.optimize(),E.enable(),E}return o(O,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(_,E){var T=this.line(_),w=i(T,2),C=w[0],j=w[1],N=this.line(_+E),I=i(N,1),R=I[0];if(c(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"deleteAt",this).call(this,_,E),R!=null&&C!==R&&j>0){if(C instanceof h.BlockEmbed||R instanceof h.BlockEmbed){this.optimize();return}if(C instanceof b.default){var U=C.newlineIndex(C.length(),!0);if(U>-1&&(C=C.split(U+1),C===R)){this.optimize();return}}else if(R instanceof b.default){var V=R.newlineIndex(0);V>-1&&R.split(V+1)}var z=R.children.head instanceof g.default?null:R.children.head;C.moveChildren(R,z),C.remove()}this.optimize()}},{key:"enable",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",_)}},{key:"formatAt",value:function(_,E,T,w){this.whitelist!=null&&!this.whitelist[T]||(c(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"formatAt",this).call(this,_,E,T,w),this.optimize())}},{key:"insertAt",value:function(_,E,T){if(!(T!=null&&this.whitelist!=null&&!this.whitelist[E])){if(_>=this.length())if(T==null||d.default.query(E,d.default.Scope.BLOCK)==null){var w=d.default.create(this.statics.defaultChild);this.appendChild(w),T==null&&E.endsWith(`
`)&&(E=E.slice(0,-1)),w.insertAt(0,E,T)}else{var C=d.default.create(E,T);this.appendChild(C)}else c(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,_,E,T);this.optimize()}}},{key:"insertBefore",value:function(_,E){if(_.statics.scope===d.default.Scope.INLINE_BLOT){var T=d.default.create(this.statics.defaultChild);T.appendChild(_),_=T}c(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertBefore",this).call(this,_,E)}},{key:"leaf",value:function(_){return this.path(_).pop()||[null,-1]}},{key:"line",value:function(_){return _===this.length()?this.line(_-1):this.descendant(B,_)}},{key:"lines",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,T=function w(C,j,N){var I=[],R=N;return C.children.forEachAt(j,N,function(U,V,z){B(U)?I.push(U):U instanceof d.default.Container&&(I=I.concat(w(U,V,R))),R-=z}),I};return T(this,_,E)}},{key:"optimize",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(c(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,_,E),_.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,_,E))}},{key:"path",value:function(_){return c(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"path",this).call(this,_).slice(1)}},{key:"update",value:function(_){if(this.batch!==!0){var E=f.default.sources.USER;typeof _=="string"&&(E=_),Array.isArray(_)||(_=this.observer.takeRecords()),_.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,E,_),c(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"update",this).call(this,_.concat([])),_.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,E,_)}}}]),O}(d.default.Scroll);D.blotName="scroll",D.className="ql-editor",D.tagName="DIV",D.defaultChild="block",D.allowedChildren=[m.default,h.BlockEmbed,v.default],s.default=D},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.SHORTKEY=s.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},o=function(){function Q(q,H){var $=[],G=!0,J=!1,te=void 0;try{for(var K=q[Symbol.iterator](),ne;!(G=(ne=K.next()).done)&&($.push(ne.value),!(H&&$.length===H));G=!0);}catch(ce){J=!0,te=ce}finally{try{!G&&K.return&&K.return()}finally{if(J)throw te}}return $}return function(q,H){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return Q(q,H);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function Q(q,H){for(var $=0;$<H.length;$++){var G=H[$];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(q,G.key,G)}}return function(q,H,$){return H&&Q(q.prototype,H),$&&Q(q,$),q}}(),l=a(21),d=L(l),u=a(11),f=L(u),h=a(3),m=L(h),A=a(2),g=L(A),p=a(20),b=L(p),x=a(0),v=L(x),y=a(5),S=L(y),M=a(10),P=L(M),B=a(9),D=L(B);function L(Q){return Q&&Q.__esModule?Q:{default:Q}}function O(Q,q,H){return q in Q?Object.defineProperty(Q,q,{value:H,enumerable:!0,configurable:!0,writable:!0}):Q[q]=H,Q}function F(Q,q){if(!(Q instanceof q))throw new TypeError("Cannot call a class as a function")}function _(Q,q){if(!Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:Q}function E(Q,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);Q.prototype=Object.create(q&&q.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,q):Q.__proto__=q)}var T=(0,P.default)("quill:keyboard"),w=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",C=function(Q){E(q,Q),c(q,null,[{key:"match",value:function($,G){return G=X(G),["altKey","ctrlKey","metaKey","shiftKey"].some(function(J){return!!G[J]!==$[J]&&G[J]!==null})?!1:G.key===($.which||$.keyCode)}}]);function q(H,$){F(this,q);var G=_(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,H,$));return G.bindings={},Object.keys(G.options.bindings).forEach(function(J){J==="list autofill"&&H.scroll.whitelist!=null&&!H.scroll.whitelist.list||G.options.bindings[J]&&G.addBinding(G.options.bindings[J])}),G.addBinding({key:q.keys.ENTER,shiftKey:null},U),G.addBinding({key:q.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(G.addBinding({key:q.keys.BACKSPACE},{collapsed:!0},N),G.addBinding({key:q.keys.DELETE},{collapsed:!0},I)):(G.addBinding({key:q.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},N),G.addBinding({key:q.keys.DELETE},{collapsed:!0,suffix:/^.?$/},I)),G.addBinding({key:q.keys.BACKSPACE},{collapsed:!1},R),G.addBinding({key:q.keys.DELETE},{collapsed:!1},R),G.addBinding({key:q.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},N),G.listen(),G}return c(q,[{key:"addBinding",value:function($){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},te=X($);if(te==null||te.key==null)return T.warn("Attempted to add invalid keyboard binding",te);typeof G=="function"&&(G={handler:G}),typeof J=="function"&&(J={handler:J}),te=(0,m.default)(te,G,J),this.bindings[te.key]=this.bindings[te.key]||[],this.bindings[te.key].push(te)}},{key:"listen",value:function(){var $=this;this.quill.root.addEventListener("keydown",function(G){if(!G.defaultPrevented){var J=G.which||G.keyCode,te=($.bindings[J]||[]).filter(function(de){return q.match(G,de)});if(te.length!==0){var K=$.quill.getSelection();if(!(K==null||!$.quill.hasFocus())){var ne=$.quill.getLine(K.index),ce=o(ne,2),oe=ce[0],ee=ce[1],W=$.quill.getLeaf(K.index),Y=o(W,2),Z=Y[0],se=Y[1],re=K.length===0?[Z,se]:$.quill.getLeaf(K.index+K.length),le=o(re,2),ae=le[0],ue=le[1],he=Z instanceof v.default.Text?Z.value().slice(0,se):"",pe=ae instanceof v.default.Text?ae.value().slice(ue):"",Ae={collapsed:K.length===0,empty:K.length===0&&oe.length()<=1,format:$.quill.getFormat(K),offset:ee,prefix:he,suffix:pe},ie=te.some(function(de){if(de.collapsed!=null&&de.collapsed!==Ae.collapsed||de.empty!=null&&de.empty!==Ae.empty||de.offset!=null&&de.offset!==Ae.offset)return!1;if(Array.isArray(de.format)){if(de.format.every(function(me){return Ae.format[me]==null}))return!1}else if(i(de.format)==="object"&&!Object.keys(de.format).every(function(me){return de.format[me]===!0?Ae.format[me]!=null:de.format[me]===!1?Ae.format[me]==null:(0,f.default)(de.format[me],Ae.format[me])}))return!1;return de.prefix!=null&&!de.prefix.test(Ae.prefix)||de.suffix!=null&&!de.suffix.test(Ae.suffix)?!1:de.handler.call($,K,Ae)!==!0});ie&&G.preventDefault()}}}})}}]),q}(D.default);C.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},C.DEFAULTS={bindings:{bold:z("bold"),italic:z("italic"),underline:z("underline"),indent:{key:C.keys.TAB,format:["blockquote","indent","list"],handler:function(q,H){if(H.collapsed&&H.offset!==0)return!0;this.quill.format("indent","+1",S.default.sources.USER)}},outdent:{key:C.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(q,H){if(H.collapsed&&H.offset!==0)return!0;this.quill.format("indent","-1",S.default.sources.USER)}},"outdent backspace":{key:C.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(q,H){H.format.indent!=null?this.quill.format("indent","-1",S.default.sources.USER):H.format.list!=null&&this.quill.format("list",!1,S.default.sources.USER)}},"indent code-block":V(!0),"outdent code-block":V(!1),"remove tab":{key:C.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(q){this.quill.deleteText(q.index-1,1,S.default.sources.USER)}},tab:{key:C.keys.TAB,handler:function(q){this.quill.history.cutoff();var H=new g.default().retain(q.index).delete(q.length).insert("	");this.quill.updateContents(H,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(q.index+1,S.default.sources.SILENT)}},"list empty enter":{key:C.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(q,H){this.quill.format("list",!1,S.default.sources.USER),H.format.indent&&this.quill.format("indent",!1,S.default.sources.USER)}},"checklist enter":{key:C.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(q){var H=this.quill.getLine(q.index),$=o(H,2),G=$[0],J=$[1],te=(0,m.default)({},G.formats(),{list:"checked"}),K=new g.default().retain(q.index).insert(`
`,te).retain(G.length()-J-1).retain(1,{list:"unchecked"});this.quill.updateContents(K,S.default.sources.USER),this.quill.setSelection(q.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:C.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(q,H){var $=this.quill.getLine(q.index),G=o($,2),J=G[0],te=G[1],K=new g.default().retain(q.index).insert(`
`,H.format).retain(J.length()-te-1).retain(1,{header:null});this.quill.updateContents(K,S.default.sources.USER),this.quill.setSelection(q.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(q,H){var $=H.prefix.length,G=this.quill.getLine(q.index),J=o(G,2),te=J[0],K=J[1];if(K>$)return!0;var ne=void 0;switch(H.prefix.trim()){case"[]":case"[ ]":ne="unchecked";break;case"[x]":ne="checked";break;case"-":case"*":ne="bullet";break;default:ne="ordered"}this.quill.insertText(q.index," ",S.default.sources.USER),this.quill.history.cutoff();var ce=new g.default().retain(q.index-K).delete($+1).retain(te.length()-2-K).retain(1,{list:ne});this.quill.updateContents(ce,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(q.index-$,S.default.sources.SILENT)}},"code exit":{key:C.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(q){var H=this.quill.getLine(q.index),$=o(H,2),G=$[0],J=$[1],te=new g.default().retain(q.index+G.length()-J-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(te,S.default.sources.USER)}},"embed left":j(C.keys.LEFT,!1),"embed left shift":j(C.keys.LEFT,!0),"embed right":j(C.keys.RIGHT,!1),"embed right shift":j(C.keys.RIGHT,!0)}};function j(Q,q){var H,$=Q===C.keys.LEFT?"prefix":"suffix";return H={key:Q,shiftKey:q,altKey:null},O(H,$,/^$/),O(H,"handler",function(J){var te=J.index;Q===C.keys.RIGHT&&(te+=J.length+1);var K=this.quill.getLeaf(te),ne=o(K,1),ce=ne[0];return ce instanceof v.default.Embed?(Q===C.keys.LEFT?q?this.quill.setSelection(J.index-1,J.length+1,S.default.sources.USER):this.quill.setSelection(J.index-1,S.default.sources.USER):q?this.quill.setSelection(J.index,J.length+1,S.default.sources.USER):this.quill.setSelection(J.index+J.length+1,S.default.sources.USER),!1):!0}),H}function N(Q,q){if(!(Q.index===0||this.quill.getLength()<=1)){var H=this.quill.getLine(Q.index),$=o(H,1),G=$[0],J={};if(q.offset===0){var te=this.quill.getLine(Q.index-1),K=o(te,1),ne=K[0];if(ne!=null&&ne.length()>1){var ce=G.formats(),oe=this.quill.getFormat(Q.index-1,1);J=b.default.attributes.diff(ce,oe)||{}}}var ee=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(q.prefix)?2:1;this.quill.deleteText(Q.index-ee,ee,S.default.sources.USER),Object.keys(J).length>0&&this.quill.formatLine(Q.index-ee,ee,J,S.default.sources.USER),this.quill.focus()}}function I(Q,q){var H=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(q.suffix)?2:1;if(!(Q.index>=this.quill.getLength()-H)){var $={},G=0,J=this.quill.getLine(Q.index),te=o(J,1),K=te[0];if(q.offset>=K.length()-1){var ne=this.quill.getLine(Q.index+1),ce=o(ne,1),oe=ce[0];if(oe){var ee=K.formats(),W=this.quill.getFormat(Q.index,1);$=b.default.attributes.diff(ee,W)||{},G=oe.length()}}this.quill.deleteText(Q.index,H,S.default.sources.USER),Object.keys($).length>0&&this.quill.formatLine(Q.index+G-1,H,$,S.default.sources.USER)}}function R(Q){var q=this.quill.getLines(Q),H={};if(q.length>1){var $=q[0].formats(),G=q[q.length-1].formats();H=b.default.attributes.diff(G,$)||{}}this.quill.deleteText(Q,S.default.sources.USER),Object.keys(H).length>0&&this.quill.formatLine(Q.index,1,H,S.default.sources.USER),this.quill.setSelection(Q.index,S.default.sources.SILENT),this.quill.focus()}function U(Q,q){var H=this;Q.length>0&&this.quill.scroll.deleteAt(Q.index,Q.length);var $=Object.keys(q.format).reduce(function(G,J){return v.default.query(J,v.default.Scope.BLOCK)&&!Array.isArray(q.format[J])&&(G[J]=q.format[J]),G},{});this.quill.insertText(Q.index,`
`,$,S.default.sources.USER),this.quill.setSelection(Q.index+1,S.default.sources.SILENT),this.quill.focus(),Object.keys(q.format).forEach(function(G){$[G]==null&&(Array.isArray(q.format[G])||G!=="link"&&H.quill.format(G,q.format[G],S.default.sources.USER))})}function V(Q){return{key:C.keys.TAB,shiftKey:!Q,format:{"code-block":!0},handler:function(H){var $=v.default.query("code-block"),G=H.index,J=H.length,te=this.quill.scroll.descendant($,G),K=o(te,2),ne=K[0],ce=K[1];if(ne!=null){var oe=this.quill.getIndex(ne),ee=ne.newlineIndex(ce,!0)+1,W=ne.newlineIndex(oe+ce+J),Y=ne.domNode.textContent.slice(ee,W).split(`
`);ce=0,Y.forEach(function(Z,se){Q?(ne.insertAt(ee+ce,$.TAB),ce+=$.TAB.length,se===0?G+=$.TAB.length:J+=$.TAB.length):Z.startsWith($.TAB)&&(ne.deleteAt(ee+ce,$.TAB.length),ce-=$.TAB.length,se===0?G-=$.TAB.length:J-=$.TAB.length),ce+=Z.length+1}),this.quill.update(S.default.sources.USER),this.quill.setSelection(G,J,S.default.sources.SILENT)}}}}function z(Q){return{key:Q[0].toUpperCase(),shortKey:!0,handler:function(H,$){this.quill.format(Q,!$.format[Q],S.default.sources.USER)}}}function X(Q){if(typeof Q=="string"||typeof Q=="number")return X({key:Q});if((typeof Q>"u"?"undefined":i(Q))==="object"&&(Q=(0,d.default)(Q,!1)),typeof Q.key=="string")if(C.keys[Q.key.toUpperCase()]!=null)Q.key=C.keys[Q.key.toUpperCase()];else if(Q.key.length===1)Q.key=Q.key.toUpperCase().charCodeAt(0);else return null;return Q.shortKey&&(Q[w]=Q.shortKey,delete Q.shortKey),Q}s.default=C,s.SHORTKEY=w},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function b(x,v){var y=[],S=!0,M=!1,P=void 0;try{for(var B=x[Symbol.iterator](),D;!(S=(D=B.next()).done)&&(y.push(D.value),!(v&&y.length===v));S=!0);}catch(L){M=!0,P=L}finally{try{!S&&B.return&&B.return()}finally{if(M)throw P}}return y}return function(x,v){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return b(x,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function b(x,v,y){x===null&&(x=Function.prototype);var S=Object.getOwnPropertyDescriptor(x,v);if(S===void 0){var M=Object.getPrototypeOf(x);return M===null?void 0:b(M,v,y)}else{if("value"in S)return S.value;var P=S.get;return P===void 0?void 0:P.call(y)}},c=function(){function b(x,v){for(var y=0;y<v.length;y++){var S=v[y];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(x,S.key,S)}}return function(x,v,y){return v&&b(x.prototype,v),y&&b(x,y),x}}(),l=a(0),d=h(l),u=a(7),f=h(u);function h(b){return b&&b.__esModule?b:{default:b}}function m(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function A(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function g(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var p=function(b){g(x,b),c(x,null,[{key:"value",value:function(){}}]);function x(v,y){m(this,x);var S=A(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,v));return S.selection=y,S.textNode=document.createTextNode(x.CONTENTS),S.domNode.appendChild(S.textNode),S._length=0,S}return c(x,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(y,S){if(this._length!==0)return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,y,S);for(var M=this,P=0;M!=null&&M.statics.scope!==d.default.Scope.BLOCK_BLOT;)P+=M.offset(M.parent),M=M.parent;M!=null&&(this._length=x.CONTENTS.length,M.optimize(),M.formatAt(P,x.CONTENTS.length,y,S),this._length=0)}},{key:"index",value:function(y,S){return y===this.textNode?0:o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,y,S)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var y=this.textNode,S=this.selection.getNativeRange(),M=void 0,P=void 0,B=void 0;if(S!=null&&S.start.node===y&&S.end.node===y){var D=[y,S.start.offset,S.end.offset];M=D[0],P=D[1],B=D[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==x.CONTENTS){var L=this.textNode.data.split(x.CONTENTS).join("");this.next instanceof f.default?(M=this.next.domNode,this.next.insertAt(0,L),this.textNode.data=x.CONTENTS):(this.textNode.data=L,this.parent.insertBefore(d.default.create(this.textNode),this),this.textNode=document.createTextNode(x.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),P!=null){var O=[P,B].map(function(_){return Math.max(0,Math.min(M.data.length,_-1))}),F=i(O,2);return P=F[0],B=F[1],{startNode:M,startOffset:P,endNode:M,endOffset:B}}}}},{key:"update",value:function(y,S){var M=this;if(y.some(function(B){return B.type==="characterData"&&B.target===M.textNode})){var P=this.restore();P&&(S.range=P)}}},{key:"value",value:function(){return""}}]),x}(d.default.Embed);p.blotName="cursor",p.className="ql-cursor",p.tagName="span",p.CONTENTS="\uFEFF",s.default=p},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=a(0),o=d(i),c=a(4),l=d(c);function d(A){return A&&A.__esModule?A:{default:A}}function u(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}function f(A,g){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:A}function h(A,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);A.prototype=Object.create(g&&g.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(A,g):A.__proto__=g)}var m=function(A){h(g,A);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(o.default.Container);m.allowedChildren=[l.default,c.BlockEmbed,m],s.default=m},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.ColorStyle=s.ColorClass=s.ColorAttributor=void 0;var i=function(){function p(b,x){for(var v=0;v<x.length;v++){var y=x[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(b,y.key,y)}}return function(b,x,v){return x&&p(b.prototype,x),v&&p(b,v),b}}(),o=function p(b,x,v){b===null&&(b=Function.prototype);var y=Object.getOwnPropertyDescriptor(b,x);if(y===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:p(S,x,v)}else{if("value"in y)return y.value;var M=y.get;return M===void 0?void 0:M.call(v)}},c=a(0),l=d(c);function d(p){return p&&p.__esModule?p:{default:p}}function u(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function f(p,b){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:p}function h(p,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);p.prototype=Object.create(b&&b.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(p,b):p.__proto__=b)}var m=function(p){h(b,p);function b(){return u(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,[{key:"value",value:function(v){var y=o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,v);return y.startsWith("rgb(")?(y=y.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+y.split(",").map(function(S){return("00"+parseInt(S).toString(16)).slice(-2)}).join("")):y}}]),b}(l.default.Attributor.Style),A=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),g=new m("color","color",{scope:l.default.Scope.INLINE});s.ColorAttributor=m,s.ColorClass=A,s.ColorStyle=g},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.sanitize=s.default=void 0;var i=function(){function g(p,b){for(var x=0;x<b.length;x++){var v=b[x];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,b,x){return b&&g(p.prototype,b),x&&g(p,x),p}}(),o=function g(p,b,x){p===null&&(p=Function.prototype);var v=Object.getOwnPropertyDescriptor(p,b);if(v===void 0){var y=Object.getPrototypeOf(p);return y===null?void 0:g(y,b,x)}else{if("value"in v)return v.value;var S=v.get;return S===void 0?void 0:S.call(x)}},c=a(6),l=d(c);function d(g){return g&&g.__esModule?g:{default:g}}function u(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function f(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function h(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var m=function(g){h(p,g);function p(){return u(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return i(p,[{key:"format",value:function(x,v){if(x!==this.statics.blotName||!v)return o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,x,v);v=this.constructor.sanitize(v),this.domNode.setAttribute("href",v)}}],[{key:"create",value:function(x){var v=o(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,x);return x=this.sanitize(x),v.setAttribute("href",x),v.setAttribute("rel","noopener noreferrer"),v.setAttribute("target","_blank"),v}},{key:"formats",value:function(x){return x.getAttribute("href")}},{key:"sanitize",value:function(x){return A(x,this.PROTOCOL_WHITELIST)?x:this.SANITIZED_URL}}]),p}(l.default);m.blotName="link",m.tagName="A",m.SANITIZED_URL="about:blank",m.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function A(g,p){var b=document.createElement("a");b.href=g;var x=b.href.slice(0,b.href.indexOf(":"));return p.indexOf(x)>-1}s.default=m,s.sanitize=A},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},o=function(){function p(b,x){for(var v=0;v<x.length;v++){var y=x[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(b,y.key,y)}}return function(b,x,v){return x&&p(b.prototype,x),v&&p(b,v),b}}(),c=a(23),l=f(c),d=a(107),u=f(d);function f(p){return p&&p.__esModule?p:{default:p}}function h(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}var m=0;function A(p,b){p.setAttribute(b,p.getAttribute(b)!=="true")}var g=function(){function p(b){var x=this;h(this,p),this.select=b,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){x.togglePicker()}),this.label.addEventListener("keydown",function(v){switch(v.keyCode){case l.default.keys.ENTER:x.togglePicker();break;case l.default.keys.ESCAPE:x.escape(),v.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(p,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),A(this.label,"aria-expanded"),A(this.options,"aria-hidden")}},{key:"buildItem",value:function(x){var v=this,y=document.createElement("span");return y.tabIndex="0",y.setAttribute("role","button"),y.classList.add("ql-picker-item"),x.hasAttribute("value")&&y.setAttribute("data-value",x.getAttribute("value")),x.textContent&&y.setAttribute("data-label",x.textContent),y.addEventListener("click",function(){v.selectItem(y,!0)}),y.addEventListener("keydown",function(S){switch(S.keyCode){case l.default.keys.ENTER:v.selectItem(y,!0),S.preventDefault();break;case l.default.keys.ESCAPE:v.escape(),S.preventDefault();break}}),y}},{key:"buildLabel",value:function(){var x=document.createElement("span");return x.classList.add("ql-picker-label"),x.innerHTML=u.default,x.tabIndex="0",x.setAttribute("role","button"),x.setAttribute("aria-expanded","false"),this.container.appendChild(x),x}},{key:"buildOptions",value:function(){var x=this,v=document.createElement("span");v.classList.add("ql-picker-options"),v.setAttribute("aria-hidden","true"),v.tabIndex="-1",v.id="ql-picker-options-"+m,m+=1,this.label.setAttribute("aria-controls",v.id),this.options=v,[].slice.call(this.select.options).forEach(function(y){var S=x.buildItem(y);v.appendChild(S),y.selected===!0&&x.selectItem(S)}),this.container.appendChild(v)}},{key:"buildPicker",value:function(){var x=this;[].slice.call(this.select.attributes).forEach(function(v){x.container.setAttribute(v.name,v.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var x=this;this.close(),setTimeout(function(){return x.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(x){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=this.container.querySelector(".ql-selected");if(x!==y&&(y!=null&&y.classList.remove("ql-selected"),x!=null&&(x.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(x.parentNode.children,x),x.hasAttribute("data-value")?this.label.setAttribute("data-value",x.getAttribute("data-value")):this.label.removeAttribute("data-value"),x.hasAttribute("data-label")?this.label.setAttribute("data-label",x.getAttribute("data-label")):this.label.removeAttribute("data-label"),v))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":i(Event))==="object"){var S=document.createEvent("Event");S.initEvent("change",!0,!0),this.select.dispatchEvent(S)}this.close()}}},{key:"update",value:function(){var x=void 0;if(this.select.selectedIndex>-1){var v=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];x=this.select.options[this.select.selectedIndex],this.selectItem(v)}else this.selectItem(null);var y=x!=null&&x!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",y)}}]),p}();s.default=g},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=a(0),o=T(i),c=a(5),l=T(c),d=a(4),u=T(d),f=a(16),h=T(f),m=a(25),A=T(m),g=a(24),p=T(g),b=a(35),x=T(b),v=a(6),y=T(v),S=a(22),M=T(S),P=a(7),B=T(P),D=a(55),L=T(D),O=a(42),F=T(O),_=a(23),E=T(_);function T(w){return w&&w.__esModule?w:{default:w}}l.default.register({"blots/block":u.default,"blots/block/embed":d.BlockEmbed,"blots/break":h.default,"blots/container":A.default,"blots/cursor":p.default,"blots/embed":x.default,"blots/inline":y.default,"blots/scroll":M.default,"blots/text":B.default,"modules/clipboard":L.default,"modules/history":F.default,"modules/keyboard":E.default}),o.default.register(u.default,h.default,p.default,y.default,M.default,B.default),s.default=l.default},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=a(1),o=function(){function c(l){this.domNode=l,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(c.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),c.create=function(l){if(this.tagName==null)throw new i.ParchmentError("Blot definition missing tagName");var d;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?d=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?d=document.createElement(l):d=document.createElement(this.tagName[0])):d=document.createElement(this.tagName),this.className&&d.classList.add(this.className),d},c.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},c.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return i.create(l)},c.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},c.prototype.deleteAt=function(l,d){var u=this.isolate(l,d);u.remove()},c.prototype.formatAt=function(l,d,u,f){var h=this.isolate(l,d);if(i.query(u,i.Scope.BLOT)!=null&&f)h.wrap(u,f);else if(i.query(u,i.Scope.ATTRIBUTE)!=null){var m=i.create(this.statics.scope);h.wrap(m),m.format(u,f)}},c.prototype.insertAt=function(l,d,u){var f=u==null?i.create("text",d):i.create(d,u),h=this.split(l);this.parent.insertBefore(f,h)},c.prototype.insertInto=function(l,d){d===void 0&&(d=null),this.parent!=null&&this.parent.children.remove(this);var u=null;l.children.insertBefore(this,d),d!=null&&(u=d.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=u)&&l.domNode.insertBefore(this.domNode,u),this.parent=l,this.attach()},c.prototype.isolate=function(l,d){var u=this.split(l);return u.split(d),u},c.prototype.length=function(){return 1},c.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},c.prototype.optimize=function(l){this.domNode[i.DATA_KEY]!=null&&delete this.domNode[i.DATA_KEY].mutations},c.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},c.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},c.prototype.replaceWith=function(l,d){var u=typeof l=="string"?i.create(l,d):l;return u.replace(this),u},c.prototype.split=function(l,d){return l===0?this:this.next},c.prototype.update=function(l,d){},c.prototype.wrap=function(l,d){var u=typeof l=="string"?i.create(l,d):l;return this.parent!=null&&this.parent.insertBefore(u,this.next),u.appendChild(this),u},c.blotName="abstract",c}();s.default=o},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=a(12),o=a(32),c=a(33),l=a(1),d=function(){function u(f){this.attributes={},this.domNode=f,this.build()}return u.prototype.attribute=function(f,h){h?f.add(this.domNode,h)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},u.prototype.build=function(){var f=this;this.attributes={};var h=i.default.keys(this.domNode),m=o.default.keys(this.domNode),A=c.default.keys(this.domNode);h.concat(m).concat(A).forEach(function(g){var p=l.query(g,l.Scope.ATTRIBUTE);p instanceof i.default&&(f.attributes[p.attrName]=p)})},u.prototype.copy=function(f){var h=this;Object.keys(this.attributes).forEach(function(m){var A=h.attributes[m].value(h.domNode);f.format(m,A)})},u.prototype.move=function(f){var h=this;this.copy(f),Object.keys(this.attributes).forEach(function(m){h.attributes[m].remove(h.domNode)}),this.attributes={}},u.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(h,m){return h[m]=f.attributes[m].value(f.domNode),h},{})},u}();s.default=d},function(e,s,a){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){d(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=a(12);function c(d,u){var f=d.getAttribute("class")||"";return f.split(/\s+/).filter(function(h){return h.indexOf(u+"-")===0})}var l=function(d){i(u,d);function u(){return d!==null&&d.apply(this,arguments)||this}return u.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},u.prototype.add=function(f,h){return this.canAdd(f,h)?(this.remove(f),f.classList.add(this.keyName+"-"+h),!0):!1},u.prototype.remove=function(f){var h=c(f,this.keyName);h.forEach(function(m){f.classList.remove(m)}),f.classList.length===0&&f.removeAttribute("class")},u.prototype.value=function(f){var h=c(f,this.keyName)[0]||"",m=h.slice(this.keyName.length+1);return this.canAdd(f,m)?m:""},u}(o.default);s.default=l},function(e,s,a){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){d(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=a(12);function c(d){var u=d.split("-"),f=u.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return u[0]+f}var l=function(d){i(u,d);function u(){return d!==null&&d.apply(this,arguments)||this}return u.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(h){var m=h.split(":");return m[0].trim()})},u.prototype.add=function(f,h){return this.canAdd(f,h)?(f.style[c(this.keyName)]=h,!0):!1},u.prototype.remove=function(f){f.style[c(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},u.prototype.value=function(f){var h=f.style[c(this.keyName)];return this.canAdd(f,h)?h:""},u}(o.default);s.default=l},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function l(d,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}return function(d,u,f){return u&&l(d.prototype,u),f&&l(d,f),d}}();function o(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}var c=function(){function l(d,u){o(this,l),this.quill=d,this.options=u,this.modules={}}return i(l,[{key:"init",value:function(){var u=this;Object.keys(this.options.modules).forEach(function(f){u.modules[f]==null&&u.addModule(f)})}},{key:"addModule",value:function(u){var f=this.quill.constructor.import("modules/"+u);return this.modules[u]=new f(this.quill,this.options.modules[u]||{}),this.modules[u]}}]),l}();c.DEFAULTS={modules:{}},c.themes={default:c},s.default=c},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function b(x,v){for(var y=0;y<v.length;y++){var S=v[y];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(x,S.key,S)}}return function(x,v,y){return v&&b(x.prototype,v),y&&b(x,y),x}}(),o=function b(x,v,y){x===null&&(x=Function.prototype);var S=Object.getOwnPropertyDescriptor(x,v);if(S===void 0){var M=Object.getPrototypeOf(x);return M===null?void 0:b(M,v,y)}else{if("value"in S)return S.value;var P=S.get;return P===void 0?void 0:P.call(y)}},c=a(0),l=f(c),d=a(7),u=f(d);function f(b){return b&&b.__esModule?b:{default:b}}function h(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function m(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function A(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var g="\uFEFF",p=function(b){A(x,b);function x(v){h(this,x);var y=m(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,v));return y.contentNode=document.createElement("span"),y.contentNode.setAttribute("contenteditable",!1),[].slice.call(y.domNode.childNodes).forEach(function(S){y.contentNode.appendChild(S)}),y.leftGuard=document.createTextNode(g),y.rightGuard=document.createTextNode(g),y.domNode.appendChild(y.leftGuard),y.domNode.appendChild(y.contentNode),y.domNode.appendChild(y.rightGuard),y}return i(x,[{key:"index",value:function(y,S){return y===this.leftGuard?0:y===this.rightGuard?1:o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,y,S)}},{key:"restore",value:function(y){var S=void 0,M=void 0,P=y.data.split(g).join("");if(y===this.leftGuard)if(this.prev instanceof u.default){var B=this.prev.length();this.prev.insertAt(B,P),S={startNode:this.prev.domNode,startOffset:B+P.length}}else M=document.createTextNode(P),this.parent.insertBefore(l.default.create(M),this),S={startNode:M,startOffset:P.length};else y===this.rightGuard&&(this.next instanceof u.default?(this.next.insertAt(0,P),S={startNode:this.next.domNode,startOffset:P.length}):(M=document.createTextNode(P),this.parent.insertBefore(l.default.create(M),this.next),S={startNode:M,startOffset:P.length}));return y.data=g,S}},{key:"update",value:function(y,S){var M=this;y.forEach(function(P){if(P.type==="characterData"&&(P.target===M.leftGuard||P.target===M.rightGuard)){var B=M.restore(P.target);B&&(S.range=B)}})}}]),x}(l.default.Embed);s.default=p},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.AlignStyle=s.AlignClass=s.AlignAttribute=void 0;var i=a(0),o=c(i);function c(h){return h&&h.__esModule?h:{default:h}}var l={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},d=new o.default.Attributor.Attribute("align","align",l),u=new o.default.Attributor.Class("align","ql-align",l),f=new o.default.Attributor.Style("align","text-align",l);s.AlignAttribute=d,s.AlignClass=u,s.AlignStyle=f},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.BackgroundStyle=s.BackgroundClass=void 0;var i=a(0),o=l(i),c=a(26);function l(f){return f&&f.__esModule?f:{default:f}}var d=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),u=new c.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});s.BackgroundClass=d,s.BackgroundStyle=u},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.DirectionStyle=s.DirectionClass=s.DirectionAttribute=void 0;var i=a(0),o=c(i);function c(h){return h&&h.__esModule?h:{default:h}}var l={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},d=new o.default.Attributor.Attribute("direction","dir",l),u=new o.default.Attributor.Class("direction","ql-direction",l),f=new o.default.Attributor.Style("direction","direction",l);s.DirectionAttribute=d,s.DirectionClass=u,s.DirectionStyle=f},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.FontClass=s.FontStyle=void 0;var i=function(){function b(x,v){for(var y=0;y<v.length;y++){var S=v[y];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(x,S.key,S)}}return function(x,v,y){return v&&b(x.prototype,v),y&&b(x,y),x}}(),o=function b(x,v,y){x===null&&(x=Function.prototype);var S=Object.getOwnPropertyDescriptor(x,v);if(S===void 0){var M=Object.getPrototypeOf(x);return M===null?void 0:b(M,v,y)}else{if("value"in S)return S.value;var P=S.get;return P===void 0?void 0:P.call(y)}},c=a(0),l=d(c);function d(b){return b&&b.__esModule?b:{default:b}}function u(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function f(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function h(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var m={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},A=new l.default.Attributor.Class("font","ql-font",m),g=function(b){h(x,b);function x(){return u(this,x),f(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return i(x,[{key:"value",value:function(y){return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"value",this).call(this,y).replace(/["']/g,"")}}]),x}(l.default.Attributor.Style),p=new g("font","font-family",m);s.FontStyle=p,s.FontClass=A},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.SizeStyle=s.SizeClass=void 0;var i=a(0),o=c(i);function c(u){return u&&u.__esModule?u:{default:u}}var l=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),d=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});s.SizeClass=l,s.SizeStyle=d},function(e,s,a){e.exports={align:{"":a(76),center:a(77),right:a(78),justify:a(79)},background:a(80),blockquote:a(81),bold:a(82),clean:a(83),code:a(58),"code-block":a(58),color:a(84),direction:{"":a(85),rtl:a(86)},float:{center:a(87),full:a(88),left:a(89),right:a(90)},formula:a(91),header:{1:a(92),2:a(93)},italic:a(94),image:a(95),indent:{"+1":a(96),"-1":a(97)},link:a(98),list:{ordered:a(99),bullet:a(100),check:a(101)},script:{sub:a(102),super:a(103)},strike:a(104),underline:a(105),video:a(106)}},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.getLastChangeIndex=s.default=void 0;var i=function(){function v(y,S){for(var M=0;M<S.length;M++){var P=S[M];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(y,P.key,P)}}return function(y,S,M){return S&&v(y.prototype,S),M&&v(y,M),y}}(),o=a(0),c=h(o),l=a(5),d=h(l),u=a(9),f=h(u);function h(v){return v&&v.__esModule?v:{default:v}}function m(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function A(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function g(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var p=function(v){g(y,v);function y(S,M){m(this,y);var P=A(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,S,M));return P.lastRecorded=0,P.ignoreChange=!1,P.clear(),P.quill.on(d.default.events.EDITOR_CHANGE,function(B,D,L,O){B!==d.default.events.TEXT_CHANGE||P.ignoreChange||(!P.options.userOnly||O===d.default.sources.USER?P.record(D,L):P.transform(D))}),P.quill.keyboard.addBinding({key:"Z",shortKey:!0},P.undo.bind(P)),P.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},P.redo.bind(P)),/Win/i.test(navigator.platform)&&P.quill.keyboard.addBinding({key:"Y",shortKey:!0},P.redo.bind(P)),P}return i(y,[{key:"change",value:function(M,P){if(this.stack[M].length!==0){var B=this.stack[M].pop();this.stack[P].push(B),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(B[M],d.default.sources.USER),this.ignoreChange=!1;var D=x(B[M]);this.quill.setSelection(D)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(M,P){if(M.ops.length!==0){this.stack.redo=[];var B=this.quill.getContents().diff(P),D=Date.now();if(this.lastRecorded+this.options.delay>D&&this.stack.undo.length>0){var L=this.stack.undo.pop();B=B.compose(L.undo),M=L.redo.compose(M)}else this.lastRecorded=D;this.stack.undo.push({redo:M,undo:B}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(M){this.stack.undo.forEach(function(P){P.undo=M.transform(P.undo,!0),P.redo=M.transform(P.redo,!0)}),this.stack.redo.forEach(function(P){P.undo=M.transform(P.undo,!0),P.redo=M.transform(P.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),y}(f.default);p.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function b(v){var y=v.ops[v.ops.length-1];return y==null?!1:y.insert!=null?typeof y.insert=="string"&&y.insert.endsWith(`
`):y.attributes!=null?Object.keys(y.attributes).some(function(S){return c.default.query(S,c.default.Scope.BLOCK)!=null}):!1}function x(v){var y=v.reduce(function(M,P){return M+=P.delete||0,M},0),S=v.length()-y;return b(v)&&(S-=1),S}s.default=p,s.getLastChangeIndex=x},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.BaseTooltip=void 0;var i=function(){function U(V,z){for(var X=0;X<z.length;X++){var Q=z[X];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(V,Q.key,Q)}}return function(V,z,X){return z&&U(V.prototype,z),X&&U(V,X),V}}(),o=function U(V,z,X){V===null&&(V=Function.prototype);var Q=Object.getOwnPropertyDescriptor(V,z);if(Q===void 0){var q=Object.getPrototypeOf(V);return q===null?void 0:U(q,z,X)}else{if("value"in Q)return Q.value;var H=Q.get;return H===void 0?void 0:H.call(X)}},c=a(3),l=D(c),d=a(2),u=D(d),f=a(8),h=D(f),m=a(23),A=D(m),g=a(34),p=D(g),b=a(59),x=D(b),v=a(60),y=D(v),S=a(28),M=D(S),P=a(61),B=D(P);function D(U){return U&&U.__esModule?U:{default:U}}function L(U,V){if(!(U instanceof V))throw new TypeError("Cannot call a class as a function")}function O(U,V){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:U}function F(U,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);U.prototype=Object.create(V&&V.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(U,V):U.__proto__=V)}var _=[!1,"center","right","justify"],E=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],T=[!1,"serif","monospace"],w=["1","2","3",!1],C=["small",!1,"large","huge"],j=function(U){F(V,U);function V(z,X){L(this,V);var Q=O(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,z,X)),q=function H($){if(!document.body.contains(z.root))return document.body.removeEventListener("click",H);Q.tooltip!=null&&!Q.tooltip.root.contains($.target)&&document.activeElement!==Q.tooltip.textbox&&!Q.quill.hasFocus()&&Q.tooltip.hide(),Q.pickers!=null&&Q.pickers.forEach(function(G){G.container.contains($.target)||G.close()})};return z.emitter.listenDOM("click",document.body,q),Q}return i(V,[{key:"addModule",value:function(X){var Q=o(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"addModule",this).call(this,X);return X==="toolbar"&&this.extendToolbar(Q),Q}},{key:"buildButtons",value:function(X,Q){X.forEach(function(q){var H=q.getAttribute("class")||"";H.split(/\s+/).forEach(function($){if($.startsWith("ql-")&&($=$.slice(3),Q[$]!=null))if($==="direction")q.innerHTML=Q[$][""]+Q[$].rtl;else if(typeof Q[$]=="string")q.innerHTML=Q[$];else{var G=q.value||"";G!=null&&Q[$][G]&&(q.innerHTML=Q[$][G])}})})}},{key:"buildPickers",value:function(X,Q){var q=this;this.pickers=X.map(function($){if($.classList.contains("ql-align"))return $.querySelector("option")==null&&R($,_),new y.default($,Q.align);if($.classList.contains("ql-background")||$.classList.contains("ql-color")){var G=$.classList.contains("ql-background")?"background":"color";return $.querySelector("option")==null&&R($,E,G==="background"?"#ffffff":"#000000"),new x.default($,Q[G])}else return $.querySelector("option")==null&&($.classList.contains("ql-font")?R($,T):$.classList.contains("ql-header")?R($,w):$.classList.contains("ql-size")&&R($,C)),new M.default($)});var H=function(){q.pickers.forEach(function(G){G.update()})};this.quill.on(h.default.events.EDITOR_CHANGE,H)}}]),V}(p.default);j.DEFAULTS=(0,l.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var V=this,z=this.container.querySelector("input.ql-image[type=file]");z==null&&(z=document.createElement("input"),z.setAttribute("type","file"),z.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),z.classList.add("ql-image"),z.addEventListener("change",function(){if(z.files!=null&&z.files[0]!=null){var X=new FileReader;X.onload=function(Q){var q=V.quill.getSelection(!0);V.quill.updateContents(new u.default().retain(q.index).delete(q.length).insert({image:Q.target.result}),h.default.sources.USER),V.quill.setSelection(q.index+1,h.default.sources.SILENT),z.value=""},X.readAsDataURL(z.files[0])}}),this.container.appendChild(z)),z.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var N=function(U){F(V,U);function V(z,X){L(this,V);var Q=O(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,z,X));return Q.textbox=Q.root.querySelector('input[type="text"]'),Q.listen(),Q}return i(V,[{key:"listen",value:function(){var X=this;this.textbox.addEventListener("keydown",function(Q){A.default.match(Q,"enter")?(X.save(),Q.preventDefault()):A.default.match(Q,"escape")&&(X.cancel(),Q.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),Q!=null?this.textbox.value=Q:X!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+X)||""),this.root.setAttribute("data-mode",X)}},{key:"restoreFocus",value:function(){var X=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=X}},{key:"save",value:function(){var X=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var Q=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",X,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",X,h.default.sources.USER)),this.quill.root.scrollTop=Q;break}case"video":X=I(X);case"formula":{if(!X)break;var q=this.quill.getSelection(!0);if(q!=null){var H=q.index+q.length;this.quill.insertEmbed(H,this.root.getAttribute("data-mode"),X,h.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(H+1," ",h.default.sources.USER),this.quill.setSelection(H+2,h.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),V}(B.default);function I(U){var V=U.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||U.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return V?(V[1]||"https")+"://www.youtube.com/embed/"+V[2]+"?showinfo=0":(V=U.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(V[1]||"https")+"://player.vimeo.com/video/"+V[2]+"/":U}function R(U,V){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;V.forEach(function(X){var Q=document.createElement("option");X===z?Q.setAttribute("selected","selected"):Q.setAttribute("value",X),U.appendChild(Q)})}s.BaseTooltip=N,s.default=j},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];this.insertBefore(c[0],null),c.length>1&&this.append.apply(this,c.slice(1))},o.prototype.contains=function(c){for(var l,d=this.iterator();l=d();)if(l===c)return!0;return!1},o.prototype.insertBefore=function(c,l){c&&(c.next=l,l!=null?(c.prev=l.prev,l.prev!=null&&(l.prev.next=c),l.prev=c,l===this.head&&(this.head=c)):this.tail!=null?(this.tail.next=c,c.prev=this.tail,this.tail=c):(c.prev=null,this.head=this.tail=c),this.length+=1)},o.prototype.offset=function(c){for(var l=0,d=this.head;d!=null;){if(d===c)return l;l+=d.length(),d=d.next}return-1},o.prototype.remove=function(c){this.contains(c)&&(c.prev!=null&&(c.prev.next=c.next),c.next!=null&&(c.next.prev=c.prev),c===this.head&&(this.head=c.next),c===this.tail&&(this.tail=c.prev),this.length-=1)},o.prototype.iterator=function(c){return c===void 0&&(c=this.head),function(){var l=c;return c!=null&&(c=c.next),l}},o.prototype.find=function(c,l){l===void 0&&(l=!1);for(var d,u=this.iterator();d=u();){var f=d.length();if(c<f||l&&c===f&&(d.next==null||d.next.length()!==0))return[d,c];c-=f}return[null,0]},o.prototype.forEach=function(c){for(var l,d=this.iterator();l=d();)c(l)},o.prototype.forEachAt=function(c,l,d){if(!(l<=0))for(var u=this.find(c),f=u[0],h=u[1],m,A=c-h,g=this.iterator(f);(m=g())&&A<c+l;){var p=m.length();c>A?d(m,c-A,Math.min(l,A+p-c)):d(m,0,Math.min(p,c+l-A)),A+=p}},o.prototype.map=function(c){return this.reduce(function(l,d){return l.push(c(d)),l},[])},o.prototype.reduce=function(c,l){for(var d,u=this.iterator();d=u();)l=c(l,d);return l},o}();s.default=i},function(e,s,a){var i=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var A in m)m.hasOwnProperty(A)&&(h[A]=m[A])};return function(h,m){f(h,m);function A(){this.constructor=h}h.prototype=m===null?Object.create(m):(A.prototype=m.prototype,new A)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=a(17),c=a(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},d=100,u=function(f){i(h,f);function h(m){var A=f.call(this,m)||this;return A.scroll=A,A.observer=new MutationObserver(function(g){A.update(g)}),A.observer.observe(A.domNode,l),A.attach(),A}return h.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(m,A){this.update(),m===0&&A===this.length()?this.children.forEach(function(g){g.remove()}):f.prototype.deleteAt.call(this,m,A)},h.prototype.formatAt=function(m,A,g,p){this.update(),f.prototype.formatAt.call(this,m,A,g,p)},h.prototype.insertAt=function(m,A,g){this.update(),f.prototype.insertAt.call(this,m,A,g)},h.prototype.optimize=function(m,A){var g=this;m===void 0&&(m=[]),A===void 0&&(A={}),f.prototype.optimize.call(this,A);for(var p=[].slice.call(this.observer.takeRecords());p.length>0;)m.push(p.pop());for(var b=function(S,M){M===void 0&&(M=!0),!(S==null||S===g)&&S.domNode.parentNode!=null&&(S.domNode[c.DATA_KEY].mutations==null&&(S.domNode[c.DATA_KEY].mutations=[]),M&&b(S.parent))},x=function(S){S.domNode[c.DATA_KEY]==null||S.domNode[c.DATA_KEY].mutations==null||(S instanceof o.default&&S.children.forEach(x),S.optimize(A))},v=m,y=0;v.length>0;y+=1){if(y>=d)throw new Error("[Parchment] Maximum optimize iterations reached");for(v.forEach(function(S){var M=c.find(S.target,!0);M!=null&&(M.domNode===S.target&&(S.type==="childList"?(b(c.find(S.previousSibling,!1)),[].forEach.call(S.addedNodes,function(P){var B=c.find(P,!1);b(B,!1),B instanceof o.default&&B.children.forEach(function(D){b(D,!1)})})):S.type==="attributes"&&b(M.prev)),b(M))}),this.children.forEach(x),v=[].slice.call(this.observer.takeRecords()),p=v.slice();p.length>0;)m.push(p.pop())}},h.prototype.update=function(m,A){var g=this;A===void 0&&(A={}),m=m||this.observer.takeRecords(),m.map(function(p){var b=c.find(p.target,!0);return b==null?null:b.domNode[c.DATA_KEY].mutations==null?(b.domNode[c.DATA_KEY].mutations=[p],b):(b.domNode[c.DATA_KEY].mutations.push(p),null)}).forEach(function(p){p==null||p===g||p.domNode[c.DATA_KEY]==null||p.update(p.domNode[c.DATA_KEY].mutations||[],A)}),this.domNode[c.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[c.DATA_KEY].mutations,A),this.optimize(m,A)},h.blotName="scroll",h.defaultChild="block",h.scope=c.Scope.BLOCK_BLOT,h.tagName="DIV",h}(o.default);s.default=u},function(e,s,a){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var m in h)h.hasOwnProperty(m)&&(f[m]=h[m])};return function(f,h){u(f,h);function m(){this.constructor=f}f.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=a(18),c=a(1);function l(u,f){if(Object.keys(u).length!==Object.keys(f).length)return!1;for(var h in u)if(u[h]!==f[h])return!1;return!0}var d=function(u){i(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.formats=function(h){if(h.tagName!==f.tagName)return u.formats.call(this,h)},f.prototype.format=function(h,m){var A=this;h===this.statics.blotName&&!m?(this.children.forEach(function(g){g instanceof o.default||(g=g.wrap(f.blotName,!0)),A.attributes.copy(g)}),this.unwrap()):u.prototype.format.call(this,h,m)},f.prototype.formatAt=function(h,m,A,g){if(this.formats()[A]!=null||c.query(A,c.Scope.ATTRIBUTE)){var p=this.isolate(h,m);p.format(A,g)}else u.prototype.formatAt.call(this,h,m,A,g)},f.prototype.optimize=function(h){u.prototype.optimize.call(this,h);var m=this.formats();if(Object.keys(m).length===0)return this.unwrap();var A=this.next;A instanceof f&&A.prev===this&&l(m,A.formats())&&(A.moveChildren(this),A.remove())},f.blotName="inline",f.scope=c.Scope.INLINE_BLOT,f.tagName="SPAN",f}(o.default);s.default=d},function(e,s,a){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){d(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=a(18),c=a(1),l=function(d){i(u,d);function u(){return d!==null&&d.apply(this,arguments)||this}return u.formats=function(f){var h=c.query(u.blotName).tagName;if(f.tagName!==h)return d.formats.call(this,f)},u.prototype.format=function(f,h){c.query(f,c.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!h?this.replaceWith(u.blotName):d.prototype.format.call(this,f,h))},u.prototype.formatAt=function(f,h,m,A){c.query(m,c.Scope.BLOCK)!=null?this.format(m,A):d.prototype.formatAt.call(this,f,h,m,A)},u.prototype.insertAt=function(f,h,m){if(m==null||c.query(h,c.Scope.INLINE)!=null)d.prototype.insertAt.call(this,f,h,m);else{var A=this.split(f),g=c.create(h,m);A.parent.insertBefore(g,A)}},u.prototype.update=function(f,h){navigator.userAgent.match(/Trident/)?this.build():d.prototype.update.call(this,f,h)},u.blotName="block",u.scope=c.Scope.BLOCK_BLOT,u.tagName="P",u}(o.default);s.default=l},function(e,s,a){var i=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var f in u)u.hasOwnProperty(f)&&(d[f]=u[f])};return function(d,u){l(d,u);function f(){this.constructor=d}d.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=a(19),c=function(l){i(d,l);function d(){return l!==null&&l.apply(this,arguments)||this}return d.formats=function(u){},d.prototype.format=function(u,f){l.prototype.formatAt.call(this,0,this.length(),u,f)},d.prototype.formatAt=function(u,f,h,m){u===0&&f===this.length()?this.format(h,m):l.prototype.formatAt.call(this,u,f,h,m)},d.prototype.formats=function(){return this.statics.formats(this.domNode)},d}(o.default);s.default=c},function(e,s,a){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){d(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=a(19),c=a(1),l=function(d){i(u,d);function u(f){var h=d.call(this,f)||this;return h.text=h.statics.value(h.domNode),h}return u.create=function(f){return document.createTextNode(f)},u.value=function(f){var h=f.data;return h.normalize&&(h=h.normalize()),h},u.prototype.deleteAt=function(f,h){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+h)},u.prototype.index=function(f,h){return this.domNode===f?h:-1},u.prototype.insertAt=function(f,h,m){m==null?(this.text=this.text.slice(0,f)+h+this.text.slice(f),this.domNode.data=this.text):d.prototype.insertAt.call(this,f,h,m)},u.prototype.length=function(){return this.text.length},u.prototype.optimize=function(f){d.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof u&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},u.prototype.position=function(f,h){return[this.domNode,f]},u.prototype.split=function(f,h){if(h===void 0&&(h=!1),!h){if(f===0)return this;if(f===this.length())return this.next}var m=c.create(this.domNode.splitText(f));return this.parent.insertBefore(m,this.next),this.text=this.statics.value(this.domNode),m},u.prototype.update=function(f,h){var m=this;f.some(function(A){return A.type==="characterData"&&A.target===m.domNode})&&(this.text=this.statics.value(this.domNode))},u.prototype.value=function(){return this.text},u.blotName="text",u.scope=c.Scope.INLINE_BLOT,u}(o.default);s.default=l},function(e,s,a){var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(c,l){return arguments.length>1&&!this.contains(c)==!l?l:o.call(this,c)}}String.prototype.startsWith||(String.prototype.startsWith=function(c,l){return l=l||0,this.substr(l,c.length)===c}),String.prototype.endsWith||(String.prototype.endsWith=function(c,l){var d=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>d.length)&&(l=d.length),l-=c.length;var u=d.indexOf(c,l);return u!==-1&&u===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var d=Object(this),u=d.length>>>0,f=arguments[1],h,m=0;m<u;m++)if(h=d[m],l.call(f,h,m,d))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(e,s){var a=-1,i=1,o=0;function c(y,S,M){if(y==S)return y?[[o,y]]:[];(M<0||y.length<M)&&(M=null);var P=f(y,S),B=y.substring(0,P);y=y.substring(P),S=S.substring(P),P=h(y,S);var D=y.substring(y.length-P);y=y.substring(0,y.length-P),S=S.substring(0,S.length-P);var L=l(y,S);return B&&L.unshift([o,B]),D&&L.push([o,D]),A(L),M!=null&&(L=b(L,M)),L=x(L),L}function l(y,S){var M;if(!y)return[[i,S]];if(!S)return[[a,y]];var P=y.length>S.length?y:S,B=y.length>S.length?S:y,D=P.indexOf(B);if(D!=-1)return M=[[i,P.substring(0,D)],[o,B],[i,P.substring(D+B.length)]],y.length>S.length&&(M[0][0]=M[2][0]=a),M;if(B.length==1)return[[a,y],[i,S]];var L=m(y,S);if(L){var O=L[0],F=L[1],_=L[2],E=L[3],T=L[4],w=c(O,_),C=c(F,E);return w.concat([[o,T]],C)}return d(y,S)}function d(y,S){for(var M=y.length,P=S.length,B=Math.ceil((M+P)/2),D=B,L=2*B,O=new Array(L),F=new Array(L),_=0;_<L;_++)O[_]=-1,F[_]=-1;O[D+1]=0,F[D+1]=0;for(var E=M-P,T=E%2!=0,w=0,C=0,j=0,N=0,I=0;I<B;I++){for(var R=-I+w;R<=I-C;R+=2){var U=D+R,V;R==-I||R!=I&&O[U-1]<O[U+1]?V=O[U+1]:V=O[U-1]+1;for(var z=V-R;V<M&&z<P&&y.charAt(V)==S.charAt(z);)V++,z++;if(O[U]=V,V>M)C+=2;else if(z>P)w+=2;else if(T){var X=D+E-R;if(X>=0&&X<L&&F[X]!=-1){var Q=M-F[X];if(V>=Q)return u(y,S,V,z)}}}for(var q=-I+j;q<=I-N;q+=2){var X=D+q,Q;q==-I||q!=I&&F[X-1]<F[X+1]?Q=F[X+1]:Q=F[X-1]+1;for(var H=Q-q;Q<M&&H<P&&y.charAt(M-Q-1)==S.charAt(P-H-1);)Q++,H++;if(F[X]=Q,Q>M)N+=2;else if(H>P)j+=2;else if(!T){var U=D+E-q;if(U>=0&&U<L&&O[U]!=-1){var V=O[U],z=D+V-U;if(Q=M-Q,V>=Q)return u(y,S,V,z)}}}}return[[a,y],[i,S]]}function u(y,S,M,P){var B=y.substring(0,M),D=S.substring(0,P),L=y.substring(M),O=S.substring(P),F=c(B,D),_=c(L,O);return F.concat(_)}function f(y,S){if(!y||!S||y.charAt(0)!=S.charAt(0))return 0;for(var M=0,P=Math.min(y.length,S.length),B=P,D=0;M<B;)y.substring(D,B)==S.substring(D,B)?(M=B,D=M):P=B,B=Math.floor((P-M)/2+M);return B}function h(y,S){if(!y||!S||y.charAt(y.length-1)!=S.charAt(S.length-1))return 0;for(var M=0,P=Math.min(y.length,S.length),B=P,D=0;M<B;)y.substring(y.length-B,y.length-D)==S.substring(S.length-B,S.length-D)?(M=B,D=M):P=B,B=Math.floor((P-M)/2+M);return B}function m(y,S){var M=y.length>S.length?y:S,P=y.length>S.length?S:y;if(M.length<4||P.length*2<M.length)return null;function B(C,j,N){for(var I=C.substring(N,N+Math.floor(C.length/4)),R=-1,U="",V,z,X,Q;(R=j.indexOf(I,R+1))!=-1;){var q=f(C.substring(N),j.substring(R)),H=h(C.substring(0,N),j.substring(0,R));U.length<H+q&&(U=j.substring(R-H,R)+j.substring(R,R+q),V=C.substring(0,N-H),z=C.substring(N+q),X=j.substring(0,R-H),Q=j.substring(R+q))}return U.length*2>=C.length?[V,z,X,Q,U]:null}var D=B(M,P,Math.ceil(M.length/4)),L=B(M,P,Math.ceil(M.length/2)),O;if(!D&&!L)return null;L?D?O=D[4].length>L[4].length?D:L:O=L:O=D;var F,_,E,T;y.length>S.length?(F=O[0],_=O[1],E=O[2],T=O[3]):(E=O[0],T=O[1],F=O[2],_=O[3]);var w=O[4];return[F,_,E,T,w]}function A(y){y.push([o,""]);for(var S=0,M=0,P=0,B="",D="",L;S<y.length;)switch(y[S][0]){case i:P++,D+=y[S][1],S++;break;case a:M++,B+=y[S][1],S++;break;case o:M+P>1?(M!==0&&P!==0&&(L=f(D,B),L!==0&&(S-M-P>0&&y[S-M-P-1][0]==o?y[S-M-P-1][1]+=D.substring(0,L):(y.splice(0,0,[o,D.substring(0,L)]),S++),D=D.substring(L),B=B.substring(L)),L=h(D,B),L!==0&&(y[S][1]=D.substring(D.length-L)+y[S][1],D=D.substring(0,D.length-L),B=B.substring(0,B.length-L))),M===0?y.splice(S-P,M+P,[i,D]):P===0?y.splice(S-M,M+P,[a,B]):y.splice(S-M-P,M+P,[a,B],[i,D]),S=S-M-P+(M?1:0)+(P?1:0)+1):S!==0&&y[S-1][0]==o?(y[S-1][1]+=y[S][1],y.splice(S,1)):S++,P=0,M=0,B="",D="";break}y[y.length-1][1]===""&&y.pop();var O=!1;for(S=1;S<y.length-1;)y[S-1][0]==o&&y[S+1][0]==o&&(y[S][1].substring(y[S][1].length-y[S-1][1].length)==y[S-1][1]?(y[S][1]=y[S-1][1]+y[S][1].substring(0,y[S][1].length-y[S-1][1].length),y[S+1][1]=y[S-1][1]+y[S+1][1],y.splice(S-1,1),O=!0):y[S][1].substring(0,y[S+1][1].length)==y[S+1][1]&&(y[S-1][1]+=y[S+1][1],y[S][1]=y[S][1].substring(y[S+1][1].length)+y[S+1][1],y.splice(S+1,1),O=!0)),S++;O&&A(y)}var g=c;g.INSERT=i,g.DELETE=a,g.EQUAL=o,e.exports=g;function p(y,S){if(S===0)return[o,y];for(var M=0,P=0;P<y.length;P++){var B=y[P];if(B[0]===a||B[0]===o){var D=M+B[1].length;if(S===D)return[P+1,y];if(S<D){y=y.slice();var L=S-M,O=[B[0],B[1].slice(0,L)],F=[B[0],B[1].slice(L)];return y.splice(P,1,O,F),[P+1,y]}else M=D}}throw new Error("cursor_pos is out of bounds!")}function b(y,S){var M=p(y,S),P=M[1],B=M[0],D=P[B],L=P[B+1];if(D==null)return y;if(D[0]!==o)return y;if(L!=null&&D[1]+L[1]===L[1]+D[1])return P.splice(B,2,L,D),v(P,B,2);if(L!=null&&L[1].indexOf(D[1])===0){P.splice(B,2,[L[0],D[1]],[0,D[1]]);var O=L[1].slice(D[1].length);return O.length>0&&P.splice(B+2,0,[L[0],O]),v(P,B,3)}else return y}function x(y){for(var S=!1,M=function(L){return L.charCodeAt(0)>=56320&&L.charCodeAt(0)<=57343},P=function(L){return L.charCodeAt(L.length-1)>=55296&&L.charCodeAt(L.length-1)<=56319},B=2;B<y.length;B+=1)y[B-2][0]===o&&P(y[B-2][1])&&y[B-1][0]===a&&M(y[B-1][1])&&y[B][0]===i&&M(y[B][1])&&(S=!0,y[B-1][1]=y[B-2][1].slice(-1)+y[B-1][1],y[B][1]=y[B-2][1].slice(-1)+y[B][1],y[B-2][1]=y[B-2][1].slice(0,-1));if(!S)return y;for(var D=[],B=0;B<y.length;B+=1)y[B][1].length>0&&D.push(y[B]);return D}function v(y,S,M){for(var P=S+M-1;P>=0&&P>=S-1;P--)if(P+1<y.length){var B=y[P],D=y[P+1];B[0]===D[1]&&y.splice(P,2,[B[0],B[1]+D[1]])}return y}},function(e,s){s=e.exports=typeof Object.keys=="function"?Object.keys:a,s.shim=a;function a(i){var o=[];for(var c in i)o.push(c);return o}},function(e,s){var a=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";s=e.exports=a?i:o,s.supported=i;function i(c){return Object.prototype.toString.call(c)=="[object Arguments]"}s.unsupported=o;function o(c){return c&&typeof c=="object"&&typeof c.length=="number"&&Object.prototype.hasOwnProperty.call(c,"callee")&&!Object.prototype.propertyIsEnumerable.call(c,"callee")||!1}},function(e,s){var a=Object.prototype.hasOwnProperty,i="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(i=!1));function c(d,u,f){this.fn=d,this.context=u,this.once=f||!1}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,h;if(this._eventsCount===0)return u;for(h in f=this._events)a.call(f,h)&&u.push(i?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u,f){var h=i?i+u:u,m=this._events[h];if(f)return!!m;if(!m)return[];if(m.fn)return[m.fn];for(var A=0,g=m.length,p=new Array(g);A<g;A++)p[A]=m[A].fn;return p},l.prototype.emit=function(u,f,h,m,A,g){var p=i?i+u:u;if(!this._events[p])return!1;var b=this._events[p],x=arguments.length,v,y;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),x){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,h),!0;case 4:return b.fn.call(b.context,f,h,m),!0;case 5:return b.fn.call(b.context,f,h,m,A),!0;case 6:return b.fn.call(b.context,f,h,m,A,g),!0}for(y=1,v=new Array(x-1);y<x;y++)v[y-1]=arguments[y];b.fn.apply(b.context,v)}else{var S=b.length,M;for(y=0;y<S;y++)switch(b[y].once&&this.removeListener(u,b[y].fn,void 0,!0),x){case 1:b[y].fn.call(b[y].context);break;case 2:b[y].fn.call(b[y].context,f);break;case 3:b[y].fn.call(b[y].context,f,h);break;case 4:b[y].fn.call(b[y].context,f,h,m);break;default:if(!v)for(M=1,v=new Array(x-1);M<x;M++)v[M-1]=arguments[M];b[y].fn.apply(b[y].context,v)}}return!0},l.prototype.on=function(u,f,h){var m=new c(f,h||this),A=i?i+u:u;return this._events[A]?this._events[A].fn?this._events[A]=[this._events[A],m]:this._events[A].push(m):(this._events[A]=m,this._eventsCount++),this},l.prototype.once=function(u,f,h){var m=new c(f,h||this,!0),A=i?i+u:u;return this._events[A]?this._events[A].fn?this._events[A]=[this._events[A],m]:this._events[A].push(m):(this._events[A]=m,this._eventsCount++),this},l.prototype.removeListener=function(u,f,h,m){var A=i?i+u:u;if(!this._events[A])return this;if(!f)return--this._eventsCount===0?this._events=new o:delete this._events[A],this;var g=this._events[A];if(g.fn)g.fn===f&&(!m||g.once)&&(!h||g.context===h)&&(--this._eventsCount===0?this._events=new o:delete this._events[A]);else{for(var p=0,b=[],x=g.length;p<x;p++)(g[p].fn!==f||m&&!g[p].once||h&&g[p].context!==h)&&b.push(g[p]);b.length?this._events[A]=b.length===1?b[0]:b:--this._eventsCount===0?this._events=new o:delete this._events[A]}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=i?i+u:u,this._events[f]&&(--this._eventsCount===0?this._events=new o:delete this._events[f])):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=i,l.EventEmitter=l,typeof e<"u"&&(e.exports=l)},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.matchText=s.matchSpacing=s.matchNewline=s.matchBlot=s.matchAttributor=s.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},o=function(){function W(Y,Z){var se=[],re=!0,le=!1,ae=void 0;try{for(var ue=Y[Symbol.iterator](),he;!(re=(he=ue.next()).done)&&(se.push(he.value),!(Z&&se.length===Z));re=!0);}catch(pe){le=!0,ae=pe}finally{try{!re&&ue.return&&ue.return()}finally{if(le)throw ae}}return se}return function(Y,Z){if(Array.isArray(Y))return Y;if(Symbol.iterator in Object(Y))return W(Y,Z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function W(Y,Z){for(var se=0;se<Z.length;se++){var re=Z[se];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(Y,re.key,re)}}return function(Y,Z,se){return Z&&W(Y.prototype,Z),se&&W(Y,se),Y}}(),l=a(3),d=F(l),u=a(2),f=F(u),h=a(0),m=F(h),A=a(5),g=F(A),p=a(10),b=F(p),x=a(9),v=F(x),y=a(36),S=a(37),M=a(13),P=F(M),B=a(26),D=a(38),L=a(39),O=a(40);function F(W){return W&&W.__esModule?W:{default:W}}function _(W,Y,Z){return Y in W?Object.defineProperty(W,Y,{value:Z,enumerable:!0,configurable:!0,writable:!0}):W[Y]=Z,W}function E(W,Y){if(!(W instanceof Y))throw new TypeError("Cannot call a class as a function")}function T(W,Y){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y&&(typeof Y=="object"||typeof Y=="function")?Y:W}function w(W,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);W.prototype=Object.create(Y&&Y.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(W,Y):W.__proto__=Y)}var C=(0,b.default)("quill:clipboard"),j="__ql-matcher",N=[[Node.TEXT_NODE,ee],[Node.TEXT_NODE,ne],["br",J],[Node.ELEMENT_NODE,ne],[Node.ELEMENT_NODE,G],[Node.ELEMENT_NODE,ce],[Node.ELEMENT_NODE,$],[Node.ELEMENT_NODE,oe],["li",K],["b",H.bind(H,"bold")],["i",H.bind(H,"italic")],["style",te]],I=[y.AlignAttribute,D.DirectionAttribute].reduce(function(W,Y){return W[Y.keyName]=Y,W},{}),R=[y.AlignStyle,S.BackgroundStyle,B.ColorStyle,D.DirectionStyle,L.FontStyle,O.SizeStyle].reduce(function(W,Y){return W[Y.keyName]=Y,W},{}),U=function(W){w(Y,W);function Y(Z,se){E(this,Y);var re=T(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this,Z,se));return re.quill.root.addEventListener("paste",re.onPaste.bind(re)),re.container=re.quill.addContainer("ql-clipboard"),re.container.setAttribute("contenteditable",!0),re.container.setAttribute("tabindex",-1),re.matchers=[],N.concat(re.options.matchers).forEach(function(le){var ae=o(le,2),ue=ae[0],he=ae[1];!se.matchVisual&&he===ce||re.addMatcher(ue,he)}),re}return c(Y,[{key:"addMatcher",value:function(se,re){this.matchers.push([se,re])}},{key:"convert",value:function(se){if(typeof se=="string")return this.container.innerHTML=se.replace(/\>\r?\n +\</g,"><"),this.convert();var re=this.quill.getFormat(this.quill.selection.savedRange.index);if(re[P.default.blotName]){var le=this.container.innerText;return this.container.innerHTML="",new f.default().insert(le,_({},P.default.blotName,re[P.default.blotName]))}var ae=this.prepareMatching(),ue=o(ae,2),he=ue[0],pe=ue[1],Ae=q(this.container,he,pe);return X(Ae,`
`)&&Ae.ops[Ae.ops.length-1].attributes==null&&(Ae=Ae.compose(new f.default().retain(Ae.length()-1).delete(1))),C.log("convert",this.container.innerHTML,Ae),this.container.innerHTML="",Ae}},{key:"dangerouslyPasteHTML",value:function(se,re){var le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof se=="string")this.quill.setContents(this.convert(se),re),this.quill.setSelection(0,g.default.sources.SILENT);else{var ae=this.convert(re);this.quill.updateContents(new f.default().retain(se).concat(ae),le),this.quill.setSelection(se+ae.length(),g.default.sources.SILENT)}}},{key:"onPaste",value:function(se){var re=this;if(!(se.defaultPrevented||!this.quill.isEnabled())){var le=this.quill.getSelection(),ae=new f.default().retain(le.index),ue=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(g.default.sources.SILENT),setTimeout(function(){ae=ae.concat(re.convert()).delete(le.length),re.quill.updateContents(ae,g.default.sources.USER),re.quill.setSelection(ae.length()-le.length,g.default.sources.SILENT),re.quill.scrollingContainer.scrollTop=ue,re.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var se=this,re=[],le=[];return this.matchers.forEach(function(ae){var ue=o(ae,2),he=ue[0],pe=ue[1];switch(he){case Node.TEXT_NODE:le.push(pe);break;case Node.ELEMENT_NODE:re.push(pe);break;default:[].forEach.call(se.container.querySelectorAll(he),function(Ae){Ae[j]=Ae[j]||[],Ae[j].push(pe)});break}}),[re,le]}}]),Y}(v.default);U.DEFAULTS={matchers:[],matchVisual:!0};function V(W,Y,Z){return(typeof Y>"u"?"undefined":i(Y))==="object"?Object.keys(Y).reduce(function(se,re){return V(se,re,Y[re])},W):W.reduce(function(se,re){return re.attributes&&re.attributes[Y]?se.push(re):se.insert(re.insert,(0,d.default)({},_({},Y,Z),re.attributes))},new f.default)}function z(W){if(W.nodeType!==Node.ELEMENT_NODE)return{};var Y="__ql-computed-style";return W[Y]||(W[Y]=window.getComputedStyle(W))}function X(W,Y){for(var Z="",se=W.ops.length-1;se>=0&&Z.length<Y.length;--se){var re=W.ops[se];if(typeof re.insert!="string")break;Z=re.insert+Z}return Z.slice(-1*Y.length)===Y}function Q(W){if(W.childNodes.length===0)return!1;var Y=z(W);return["block","list-item"].indexOf(Y.display)>-1}function q(W,Y,Z){return W.nodeType===W.TEXT_NODE?Z.reduce(function(se,re){return re(W,se)},new f.default):W.nodeType===W.ELEMENT_NODE?[].reduce.call(W.childNodes||[],function(se,re){var le=q(re,Y,Z);return re.nodeType===W.ELEMENT_NODE&&(le=Y.reduce(function(ae,ue){return ue(re,ae)},le),le=(re[j]||[]).reduce(function(ae,ue){return ue(re,ae)},le)),se.concat(le)},new f.default):new f.default}function H(W,Y,Z){return V(Z,W,!0)}function $(W,Y){var Z=m.default.Attributor.Attribute.keys(W),se=m.default.Attributor.Class.keys(W),re=m.default.Attributor.Style.keys(W),le={};return Z.concat(se).concat(re).forEach(function(ae){var ue=m.default.query(ae,m.default.Scope.ATTRIBUTE);ue!=null&&(le[ue.attrName]=ue.value(W),le[ue.attrName])||(ue=I[ae],ue!=null&&(ue.attrName===ae||ue.keyName===ae)&&(le[ue.attrName]=ue.value(W)||void 0),ue=R[ae],ue!=null&&(ue.attrName===ae||ue.keyName===ae)&&(ue=R[ae],le[ue.attrName]=ue.value(W)||void 0))}),Object.keys(le).length>0&&(Y=V(Y,le)),Y}function G(W,Y){var Z=m.default.query(W);if(Z==null)return Y;if(Z.prototype instanceof m.default.Embed){var se={},re=Z.value(W);re!=null&&(se[Z.blotName]=re,Y=new f.default().insert(se,Z.formats(W)))}else typeof Z.formats=="function"&&(Y=V(Y,Z.blotName,Z.formats(W)));return Y}function J(W,Y){return X(Y,`
`)||Y.insert(`
`),Y}function te(){return new f.default}function K(W,Y){var Z=m.default.query(W);if(Z==null||Z.blotName!=="list-item"||!X(Y,`
`))return Y;for(var se=-1,re=W.parentNode;!re.classList.contains("ql-clipboard");)(m.default.query(re)||{}).blotName==="list"&&(se+=1),re=re.parentNode;return se<=0?Y:Y.compose(new f.default().retain(Y.length()-1).retain(1,{indent:se}))}function ne(W,Y){return X(Y,`
`)||(Q(W)||Y.length()>0&&W.nextSibling&&Q(W.nextSibling))&&Y.insert(`
`),Y}function ce(W,Y){if(Q(W)&&W.nextElementSibling!=null&&!X(Y,`

`)){var Z=W.offsetHeight+parseFloat(z(W).marginTop)+parseFloat(z(W).marginBottom);W.nextElementSibling.offsetTop>W.offsetTop+Z*1.5&&Y.insert(`
`)}return Y}function oe(W,Y){var Z={},se=W.style||{};return se.fontStyle&&z(W).fontStyle==="italic"&&(Z.italic=!0),se.fontWeight&&(z(W).fontWeight.startsWith("bold")||parseInt(z(W).fontWeight)>=700)&&(Z.bold=!0),Object.keys(Z).length>0&&(Y=V(Y,Z)),parseFloat(se.textIndent||0)>0&&(Y=new f.default().insert("	").concat(Y)),Y}function ee(W,Y){var Z=W.data;if(W.parentNode.tagName==="O:P")return Y.insert(Z.trim());if(Z.trim().length===0&&W.parentNode.classList.contains("ql-clipboard"))return Y;if(!z(W.parentNode).whiteSpace.startsWith("pre")){var se=function(le,ae){return ae=ae.replace(/[^\u00a0]/g,""),ae.length<1&&le?" ":ae};Z=Z.replace(/\r\n/g," ").replace(/\n/g," "),Z=Z.replace(/\s\s+/g,se.bind(se,!0)),(W.previousSibling==null&&Q(W.parentNode)||W.previousSibling!=null&&Q(W.previousSibling))&&(Z=Z.replace(/^\s+/,se.bind(se,!1))),(W.nextSibling==null&&Q(W.parentNode)||W.nextSibling!=null&&Q(W.nextSibling))&&(Z=Z.replace(/\s+$/,se.bind(se,!1)))}return Y.insert(Z)}s.default=U,s.matchAttributor=$,s.matchBlot=G,s.matchNewline=ne,s.matchSpacing=ce,s.matchText=ee},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function A(g,p){for(var b=0;b<p.length;b++){var x=p[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,p,b){return p&&A(g.prototype,p),b&&A(g,b),g}}(),o=function A(g,p,b){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,p);if(x===void 0){var v=Object.getPrototypeOf(g);return v===null?void 0:A(v,p,b)}else{if("value"in x)return x.value;var y=x.get;return y===void 0?void 0:y.call(b)}},c=a(6),l=d(c);function d(A){return A&&A.__esModule?A:{default:A}}function u(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}function f(A,g){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:A}function h(A,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);A.prototype=Object.create(g&&g.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(A,g):A.__proto__=g)}var m=function(A){h(g,A);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,[{key:"optimize",value:function(b){o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,b),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),g}(l.default);m.blotName="bold",m.tagName=["STRONG","B"],s.default=m},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.addControls=s.default=void 0;var i=function(){function O(F,_){var E=[],T=!0,w=!1,C=void 0;try{for(var j=F[Symbol.iterator](),N;!(T=(N=j.next()).done)&&(E.push(N.value),!(_&&E.length===_));T=!0);}catch(I){w=!0,C=I}finally{try{!T&&j.return&&j.return()}finally{if(w)throw C}}return E}return function(F,_){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return O(F,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function O(F,_){for(var E=0;E<_.length;E++){var T=_[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(F,T.key,T)}}return function(F,_,E){return _&&O(F.prototype,_),E&&O(F,E),F}}(),c=a(2),l=b(c),d=a(0),u=b(d),f=a(5),h=b(f),m=a(10),A=b(m),g=a(9),p=b(g);function b(O){return O&&O.__esModule?O:{default:O}}function x(O,F,_){return F in O?Object.defineProperty(O,F,{value:_,enumerable:!0,configurable:!0,writable:!0}):O[F]=_,O}function v(O,F){if(!(O instanceof F))throw new TypeError("Cannot call a class as a function")}function y(O,F){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:O}function S(O,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);O.prototype=Object.create(F&&F.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(O,F):O.__proto__=F)}var M=(0,A.default)("quill:toolbar"),P=function(O){S(F,O);function F(_,E){v(this,F);var T=y(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,_,E));if(Array.isArray(T.options.container)){var w=document.createElement("div");D(w,T.options.container),_.container.parentNode.insertBefore(w,_.container),T.container=w}else typeof T.options.container=="string"?T.container=document.querySelector(T.options.container):T.container=T.options.container;if(!(T.container instanceof HTMLElement)){var C;return C=M.error("Container required for toolbar",T.options),y(T,C)}return T.container.classList.add("ql-toolbar"),T.controls=[],T.handlers={},Object.keys(T.options.handlers).forEach(function(j){T.addHandler(j,T.options.handlers[j])}),[].forEach.call(T.container.querySelectorAll("button, select"),function(j){T.attach(j)}),T.quill.on(h.default.events.EDITOR_CHANGE,function(j,N){j===h.default.events.SELECTION_CHANGE&&T.update(N)}),T.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var j=T.quill.selection.getRange(),N=i(j,1),I=N[0];T.update(I)}),T}return o(F,[{key:"addHandler",value:function(E,T){this.handlers[E]=T}},{key:"attach",value:function(E){var T=this,w=[].find.call(E.classList,function(j){return j.indexOf("ql-")===0});if(w){if(w=w.slice(3),E.tagName==="BUTTON"&&E.setAttribute("type","button"),this.handlers[w]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[w]==null){M.warn("ignoring attaching to disabled format",w,E);return}if(u.default.query(w)==null){M.warn("ignoring attaching to nonexistent format",w,E);return}}var C=E.tagName==="SELECT"?"change":"click";E.addEventListener(C,function(j){var N=void 0;if(E.tagName==="SELECT"){if(E.selectedIndex<0)return;var I=E.options[E.selectedIndex];I.hasAttribute("selected")?N=!1:N=I.value||!1}else E.classList.contains("ql-active")?N=!1:N=E.value||!E.hasAttribute("value"),j.preventDefault();T.quill.focus();var R=T.quill.selection.getRange(),U=i(R,1),V=U[0];if(T.handlers[w]!=null)T.handlers[w].call(T,N);else if(u.default.query(w).prototype instanceof u.default.Embed){if(N=prompt("Enter "+w),!N)return;T.quill.updateContents(new l.default().retain(V.index).delete(V.length).insert(x({},w,N)),h.default.sources.USER)}else T.quill.format(w,N,h.default.sources.USER);T.update(V)}),this.controls.push([w,E])}}},{key:"update",value:function(E){var T=E==null?{}:this.quill.getFormat(E);this.controls.forEach(function(w){var C=i(w,2),j=C[0],N=C[1];if(N.tagName==="SELECT"){var I=void 0;if(E==null)I=null;else if(T[j]==null)I=N.querySelector("option[selected]");else if(!Array.isArray(T[j])){var R=T[j];typeof R=="string"&&(R=R.replace(/\"/g,'\\"')),I=N.querySelector('option[value="'+R+'"]')}I==null?(N.value="",N.selectedIndex=-1):I.selected=!0}else if(E==null)N.classList.remove("ql-active");else if(N.hasAttribute("value")){var U=T[j]===N.getAttribute("value")||T[j]!=null&&T[j].toString()===N.getAttribute("value")||T[j]==null&&!N.getAttribute("value");N.classList.toggle("ql-active",U)}else N.classList.toggle("ql-active",T[j]!=null)})}}]),F}(p.default);P.DEFAULTS={};function B(O,F,_){var E=document.createElement("button");E.setAttribute("type","button"),E.classList.add("ql-"+F),_!=null&&(E.value=_),O.appendChild(E)}function D(O,F){Array.isArray(F[0])||(F=[F]),F.forEach(function(_){var E=document.createElement("span");E.classList.add("ql-formats"),_.forEach(function(T){if(typeof T=="string")B(E,T);else{var w=Object.keys(T)[0],C=T[w];Array.isArray(C)?L(E,w,C):B(E,w,C)}}),O.appendChild(E)})}function L(O,F,_){var E=document.createElement("select");E.classList.add("ql-"+F),_.forEach(function(T){var w=document.createElement("option");T!==!1?w.setAttribute("value",T):w.setAttribute("selected","selected"),E.appendChild(w)}),O.appendChild(E)}P.DEFAULTS={container:null,handlers:{clean:function(){var F=this,_=this.quill.getSelection();if(_!=null)if(_.length==0){var E=this.quill.getFormat();Object.keys(E).forEach(function(T){u.default.query(T,u.default.Scope.INLINE)!=null&&F.quill.format(T,!1)})}else this.quill.removeFormat(_,h.default.sources.USER)},direction:function(F){var _=this.quill.getFormat().align;F==="rtl"&&_==null?this.quill.format("align","right",h.default.sources.USER):!F&&_==="right"&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",F,h.default.sources.USER)},indent:function(F){var _=this.quill.getSelection(),E=this.quill.getFormat(_),T=parseInt(E.indent||0);if(F==="+1"||F==="-1"){var w=F==="+1"?1:-1;E.direction==="rtl"&&(w*=-1),this.quill.format("indent",T+w,h.default.sources.USER)}},link:function(F){F===!0&&(F=prompt("Enter link URL:")),this.quill.format("link",F,h.default.sources.USER)},list:function(F){var _=this.quill.getSelection(),E=this.quill.getFormat(_);F==="check"?E.list==="checked"||E.list==="unchecked"?this.quill.format("list",!1,h.default.sources.USER):this.quill.format("list","unchecked",h.default.sources.USER):this.quill.format("list",F,h.default.sources.USER)}}},s.default=P,s.addControls=D},function(e,s){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function A(g,p){for(var b=0;b<p.length;b++){var x=p[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,p,b){return p&&A(g.prototype,p),b&&A(g,b),g}}(),o=function A(g,p,b){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,p);if(x===void 0){var v=Object.getPrototypeOf(g);return v===null?void 0:A(v,p,b)}else{if("value"in x)return x.value;var y=x.get;return y===void 0?void 0:y.call(b)}},c=a(28),l=d(c);function d(A){return A&&A.__esModule?A:{default:A}}function u(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}function f(A,g){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:A}function h(A,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);A.prototype=Object.create(g&&g.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(A,g):A.__proto__=g)}var m=function(A){h(g,A);function g(p,b){u(this,g);var x=f(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,p));return x.label.innerHTML=b,x.container.classList.add("ql-color-picker"),[].slice.call(x.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(v){v.classList.add("ql-primary")}),x}return i(g,[{key:"buildItem",value:function(b){var x=o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"buildItem",this).call(this,b);return x.style.backgroundColor=b.getAttribute("value")||"",x}},{key:"selectItem",value:function(b,x){o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,b,x);var v=this.label.querySelector(".ql-color-label"),y=b&&b.getAttribute("data-value")||"";v&&(v.tagName==="line"?v.style.stroke=y:v.style.fill=y)}}]),g}(l.default);s.default=m},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function A(g,p){for(var b=0;b<p.length;b++){var x=p[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,p,b){return p&&A(g.prototype,p),b&&A(g,b),g}}(),o=function A(g,p,b){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,p);if(x===void 0){var v=Object.getPrototypeOf(g);return v===null?void 0:A(v,p,b)}else{if("value"in x)return x.value;var y=x.get;return y===void 0?void 0:y.call(b)}},c=a(28),l=d(c);function d(A){return A&&A.__esModule?A:{default:A}}function u(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}function f(A,g){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:A}function h(A,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);A.prototype=Object.create(g&&g.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(A,g):A.__proto__=g)}var m=function(A){h(g,A);function g(p,b){u(this,g);var x=f(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,p));return x.container.classList.add("ql-icon-picker"),[].forEach.call(x.container.querySelectorAll(".ql-picker-item"),function(v){v.innerHTML=b[v.getAttribute("data-value")||""]}),x.defaultItem=x.container.querySelector(".ql-selected"),x.selectItem(x.defaultItem),x}return i(g,[{key:"selectItem",value:function(b,x){o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,b,x),b=b||this.defaultItem,this.label.innerHTML=b.innerHTML}}]),g}(l.default);s.default=m},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function l(d,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}return function(d,u,f){return u&&l(d.prototype,u),f&&l(d,f),d}}();function o(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}var c=function(){function l(d,u){var f=this;o(this,l),this.quill=d,this.boundsContainer=u||document.body,this.root=d.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return i(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(u){var f=u.left+u.width/2-this.root.offsetWidth/2,h=u.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var m=this.boundsContainer.getBoundingClientRect(),A=this.root.getBoundingClientRect(),g=0;if(A.right>m.right&&(g=m.right-A.right,this.root.style.left=f+g+"px"),A.left<m.left&&(g=m.left-A.left,this.root.style.left=f+g+"px"),A.bottom>m.bottom){var p=A.bottom-A.top,b=u.bottom-u.top+p;this.root.style.top=h-b+"px",this.root.classList.add("ql-flip")}return g}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();s.default=c},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function L(O,F){var _=[],E=!0,T=!1,w=void 0;try{for(var C=O[Symbol.iterator](),j;!(E=(j=C.next()).done)&&(_.push(j.value),!(F&&_.length===F));E=!0);}catch(N){T=!0,w=N}finally{try{!E&&C.return&&C.return()}finally{if(T)throw w}}return _}return function(O,F){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return L(O,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function L(O,F,_){O===null&&(O=Function.prototype);var E=Object.getOwnPropertyDescriptor(O,F);if(E===void 0){var T=Object.getPrototypeOf(O);return T===null?void 0:L(T,F,_)}else{if("value"in E)return E.value;var w=E.get;return w===void 0?void 0:w.call(_)}},c=function(){function L(O,F){for(var _=0;_<F.length;_++){var E=F[_];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(O,E.key,E)}}return function(O,F,_){return F&&L(O.prototype,F),_&&L(O,_),O}}(),l=a(3),d=v(l),u=a(8),f=v(u),h=a(43),m=v(h),A=a(27),g=v(A),p=a(15),b=a(41),x=v(b);function v(L){return L&&L.__esModule?L:{default:L}}function y(L,O){if(!(L instanceof O))throw new TypeError("Cannot call a class as a function")}function S(L,O){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:L}function M(L,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);L.prototype=Object.create(O&&O.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(L,O):L.__proto__=O)}var P=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],B=function(L){M(O,L);function O(F,_){y(this,O),_.modules.toolbar!=null&&_.modules.toolbar.container==null&&(_.modules.toolbar.container=P);var E=S(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,F,_));return E.quill.container.classList.add("ql-snow"),E}return c(O,[{key:"extendToolbar",value:function(_){_.container.classList.add("ql-snow"),this.buildButtons([].slice.call(_.container.querySelectorAll("button")),x.default),this.buildPickers([].slice.call(_.container.querySelectorAll("select")),x.default),this.tooltip=new D(this.quill,this.options.bounds),_.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(E,T){_.handlers.link.call(_,!T.format.link)})}}]),O}(m.default);B.DEFAULTS=(0,d.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(O){if(O){var F=this.quill.getSelection();if(F==null||F.length==0)return;var _=this.quill.getText(F);/^\S+@\S+\.\S+$/.test(_)&&_.indexOf("mailto:")!==0&&(_="mailto:"+_);var E=this.quill.theme.tooltip;E.edit("link",_)}else this.quill.format("link",!1)}}}}});var D=function(L){M(O,L);function O(F,_){y(this,O);var E=S(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,F,_));return E.preview=E.root.querySelector("a.ql-preview"),E}return c(O,[{key:"listen",value:function(){var _=this;o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(E){_.root.classList.contains("ql-editing")?_.save():_.edit("link",_.preview.textContent),E.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(E){if(_.linkRange!=null){var T=_.linkRange;_.restoreFocus(),_.quill.formatText(T,"link",!1,f.default.sources.USER),delete _.linkRange}E.preventDefault(),_.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(E,T,w){if(E!=null){if(E.length===0&&w===f.default.sources.USER){var C=_.quill.scroll.descendant(g.default,E.index),j=i(C,2),N=j[0],I=j[1];if(N!=null){_.linkRange=new p.Range(E.index-I,N.length());var R=g.default.formats(N.domNode);_.preview.textContent=R,_.preview.setAttribute("href",R),_.show(),_.position(_.quill.getBounds(_.linkRange));return}}else delete _.linkRange;_.hide()}})}},{key:"show",value:function(){o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),O}(h.BaseTooltip);D.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),s.default=B},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=a(29),o=re(i),c=a(36),l=a(38),d=a(64),u=a(65),f=re(u),h=a(66),m=re(h),A=a(67),g=re(A),p=a(37),b=a(26),x=a(39),v=a(40),y=a(56),S=re(y),M=a(68),P=re(M),B=a(27),D=re(B),L=a(69),O=re(L),F=a(70),_=re(F),E=a(71),T=re(E),w=a(72),C=re(w),j=a(73),N=re(j),I=a(13),R=re(I),U=a(74),V=re(U),z=a(75),X=re(z),Q=a(57),q=re(Q),H=a(41),$=re(H),G=a(28),J=re(G),te=a(59),K=re(te),ne=a(60),ce=re(ne),oe=a(61),ee=re(oe),W=a(108),Y=re(W),Z=a(62),se=re(Z);function re(le){return le&&le.__esModule?le:{default:le}}o.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":c.AlignClass,"attributors/class/background":p.BackgroundClass,"attributors/class/color":b.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":x.FontClass,"attributors/class/size":v.SizeClass,"attributors/style/align":c.AlignStyle,"attributors/style/background":p.BackgroundStyle,"attributors/style/color":b.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":x.FontStyle,"attributors/style/size":v.SizeStyle},!0),o.default.register({"formats/align":c.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":d.IndentClass,"formats/background":p.BackgroundStyle,"formats/color":b.ColorStyle,"formats/font":x.FontClass,"formats/size":v.SizeClass,"formats/blockquote":f.default,"formats/code-block":R.default,"formats/header":m.default,"formats/list":g.default,"formats/bold":S.default,"formats/code":I.Code,"formats/italic":P.default,"formats/link":D.default,"formats/script":O.default,"formats/strike":_.default,"formats/underline":T.default,"formats/image":C.default,"formats/video":N.default,"formats/list/item":A.ListItem,"modules/formula":V.default,"modules/syntax":X.default,"modules/toolbar":q.default,"themes/bubble":Y.default,"themes/snow":se.default,"ui/icons":$.default,"ui/picker":J.default,"ui/icon-picker":ce.default,"ui/color-picker":K.default,"ui/tooltip":ee.default},!0),s.default=o.default},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.IndentClass=void 0;var i=function(){function g(p,b){for(var x=0;x<b.length;x++){var v=b[x];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,b,x){return b&&g(p.prototype,b),x&&g(p,x),p}}(),o=function g(p,b,x){p===null&&(p=Function.prototype);var v=Object.getOwnPropertyDescriptor(p,b);if(v===void 0){var y=Object.getPrototypeOf(p);return y===null?void 0:g(y,b,x)}else{if("value"in v)return v.value;var S=v.get;return S===void 0?void 0:S.call(x)}},c=a(0),l=d(c);function d(g){return g&&g.__esModule?g:{default:g}}function u(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function f(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function h(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var m=function(g){h(p,g);function p(){return u(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return i(p,[{key:"add",value:function(x,v){if(v==="+1"||v==="-1"){var y=this.value(x)||0;v=v==="+1"?y+1:y-1}return v===0?(this.remove(x),!0):o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"add",this).call(this,x,v)}},{key:"canAdd",value:function(x,v){return o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"canAdd",this).call(this,x,v)||o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"canAdd",this).call(this,x,parseInt(v))}},{key:"value",value:function(x){return parseInt(o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,x))||void 0}}]),p}(l.default.Attributor.Class),A=new m("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});s.IndentClass=A},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=a(4),o=c(i);function c(h){return h&&h.__esModule?h:{default:h}}function l(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function d(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function u(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var f=function(h){u(m,h);function m(){return l(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);f.blotName="blockquote",f.tagName="blockquote",s.default=f},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function m(A,g){for(var p=0;p<g.length;p++){var b=g[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(A,b.key,b)}}return function(A,g,p){return g&&m(A.prototype,g),p&&m(A,p),A}}(),o=a(4),c=l(o);function l(m){return m&&m.__esModule?m:{default:m}}function d(m,A){if(!(m instanceof A))throw new TypeError("Cannot call a class as a function")}function u(m,A){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:m}function f(m,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);m.prototype=Object.create(A&&A.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(m,A):m.__proto__=A)}var h=function(m){f(A,m);function A(){return d(this,A),u(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return i(A,null,[{key:"formats",value:function(p){return this.tagName.indexOf(p.tagName)+1}}]),A}(c.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],s.default=h},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.ListItem=void 0;var i=function(){function y(S,M){for(var P=0;P<M.length;P++){var B=M[P];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(S,B.key,B)}}return function(S,M,P){return M&&y(S.prototype,M),P&&y(S,P),S}}(),o=function y(S,M,P){S===null&&(S=Function.prototype);var B=Object.getOwnPropertyDescriptor(S,M);if(B===void 0){var D=Object.getPrototypeOf(S);return D===null?void 0:y(D,M,P)}else{if("value"in B)return B.value;var L=B.get;return L===void 0?void 0:L.call(P)}},c=a(0),l=m(c),d=a(4),u=m(d),f=a(25),h=m(f);function m(y){return y&&y.__esModule?y:{default:y}}function A(y,S,M){return S in y?Object.defineProperty(y,S,{value:M,enumerable:!0,configurable:!0,writable:!0}):y[S]=M,y}function g(y,S){if(!(y instanceof S))throw new TypeError("Cannot call a class as a function")}function p(y,S){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:y}function b(y,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);y.prototype=Object.create(S&&S.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(y,S):y.__proto__=S)}var x=function(y){b(S,y);function S(){return g(this,S),p(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return i(S,[{key:"format",value:function(P,B){P===v.blotName&&!B?this.replaceWith(l.default.create(this.statics.scope)):o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,P,B)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(P,B){return this.parent.isolate(this.offset(this.parent),this.length()),P===this.parent.statics.blotName?(this.parent.replaceWith(P,B),this):(this.parent.unwrap(),o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,P,B))}}],[{key:"formats",value:function(P){return P.tagName===this.tagName?void 0:o(S.__proto__||Object.getPrototypeOf(S),"formats",this).call(this,P)}}]),S}(u.default);x.blotName="list-item",x.tagName="LI";var v=function(y){b(S,y),i(S,null,[{key:"create",value:function(P){var B=P==="ordered"?"OL":"UL",D=o(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,B);return(P==="checked"||P==="unchecked")&&D.setAttribute("data-checked",P==="checked"),D}},{key:"formats",value:function(P){if(P.tagName==="OL")return"ordered";if(P.tagName==="UL")return P.hasAttribute("data-checked")?P.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function S(M){g(this,S);var P=p(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,M)),B=function(L){if(L.target.parentNode===M){var O=P.statics.formats(M),F=l.default.find(L.target);O==="checked"?F.format("list","unchecked"):O==="unchecked"&&F.format("list","checked")}};return M.addEventListener("touchstart",B),M.addEventListener("mousedown",B),P}return i(S,[{key:"format",value:function(P,B){this.children.length>0&&this.children.tail.format(P,B)}},{key:"formats",value:function(){return A({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(P,B){if(P instanceof x)o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,P,B);else{var D=B==null?this.length():B.offset(this),L=this.split(D);L.parent.insertBefore(P,L)}}},{key:"optimize",value:function(P){o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,P);var B=this.next;B!=null&&B.prev===this&&B.statics.blotName===this.statics.blotName&&B.domNode.tagName===this.domNode.tagName&&B.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(B.moveChildren(this),B.remove())}},{key:"replace",value:function(P){if(P.statics.blotName!==this.statics.blotName){var B=l.default.create(this.statics.defaultChild);P.moveChildren(B),this.appendChild(B)}o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replace",this).call(this,P)}}]),S}(h.default);v.blotName="list",v.scope=l.default.Scope.BLOCK_BLOT,v.tagName=["OL","UL"],v.defaultChild="list-item",v.allowedChildren=[x],s.ListItem=x,s.default=v},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=a(56),o=c(i);function c(h){return h&&h.__esModule?h:{default:h}}function l(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function d(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function u(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var f=function(h){u(m,h);function m(){return l(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);f.blotName="italic",f.tagName=["EM","I"],s.default=f},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function A(g,p){for(var b=0;b<p.length;b++){var x=p[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,p,b){return p&&A(g.prototype,p),b&&A(g,b),g}}(),o=function A(g,p,b){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,p);if(x===void 0){var v=Object.getPrototypeOf(g);return v===null?void 0:A(v,p,b)}else{if("value"in x)return x.value;var y=x.get;return y===void 0?void 0:y.call(b)}},c=a(6),l=d(c);function d(A){return A&&A.__esModule?A:{default:A}}function u(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}function f(A,g){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:A}function h(A,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);A.prototype=Object.create(g&&g.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(A,g):A.__proto__=g)}var m=function(A){h(g,A);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,null,[{key:"create",value:function(b){return b==="super"?document.createElement("sup"):b==="sub"?document.createElement("sub"):o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,b)}},{key:"formats",value:function(b){if(b.tagName==="SUB")return"sub";if(b.tagName==="SUP")return"super"}}]),g}(l.default);m.blotName="script",m.tagName=["SUB","SUP"],s.default=m},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=a(6),o=c(i);function c(h){return h&&h.__esModule?h:{default:h}}function l(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function d(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function u(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var f=function(h){u(m,h);function m(){return l(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);f.blotName="strike",f.tagName="S",s.default=f},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=a(6),o=c(i);function c(h){return h&&h.__esModule?h:{default:h}}function l(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function d(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function u(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var f=function(h){u(m,h);function m(){return l(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);f.blotName="underline",f.tagName="U",s.default=f},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function p(b,x){for(var v=0;v<x.length;v++){var y=x[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(b,y.key,y)}}return function(b,x,v){return x&&p(b.prototype,x),v&&p(b,v),b}}(),o=function p(b,x,v){b===null&&(b=Function.prototype);var y=Object.getOwnPropertyDescriptor(b,x);if(y===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:p(S,x,v)}else{if("value"in y)return y.value;var M=y.get;return M===void 0?void 0:M.call(v)}},c=a(0),l=u(c),d=a(27);function u(p){return p&&p.__esModule?p:{default:p}}function f(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function h(p,b){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:p}function m(p,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);p.prototype=Object.create(b&&b.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(p,b):p.__proto__=b)}var A=["alt","height","width"],g=function(p){m(b,p);function b(){return f(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,[{key:"format",value:function(v,y){A.indexOf(v)>-1?y?this.domNode.setAttribute(v,y):this.domNode.removeAttribute(v):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,v,y)}}],[{key:"create",value:function(v){var y=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,v);return typeof v=="string"&&y.setAttribute("src",this.sanitize(v)),y}},{key:"formats",value:function(v){return A.reduce(function(y,S){return v.hasAttribute(S)&&(y[S]=v.getAttribute(S)),y},{})}},{key:"match",value:function(v){return/\.(jpe?g|gif|png)$/.test(v)||/^data:image\/.+;base64/.test(v)}},{key:"sanitize",value:function(v){return(0,d.sanitize)(v,["http","https","data"])?v:"//:0"}},{key:"value",value:function(v){return v.getAttribute("src")}}]),b}(l.default.Embed);g.blotName="image",g.tagName="IMG",s.default=g},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function p(b,x){for(var v=0;v<x.length;v++){var y=x[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(b,y.key,y)}}return function(b,x,v){return x&&p(b.prototype,x),v&&p(b,v),b}}(),o=function p(b,x,v){b===null&&(b=Function.prototype);var y=Object.getOwnPropertyDescriptor(b,x);if(y===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:p(S,x,v)}else{if("value"in y)return y.value;var M=y.get;return M===void 0?void 0:M.call(v)}},c=a(4),l=a(27),d=u(l);function u(p){return p&&p.__esModule?p:{default:p}}function f(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function h(p,b){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:p}function m(p,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);p.prototype=Object.create(b&&b.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(p,b):p.__proto__=b)}var A=["height","width"],g=function(p){m(b,p);function b(){return f(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,[{key:"format",value:function(v,y){A.indexOf(v)>-1?y?this.domNode.setAttribute(v,y):this.domNode.removeAttribute(v):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,v,y)}}],[{key:"create",value:function(v){var y=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,v);return y.setAttribute("frameborder","0"),y.setAttribute("allowfullscreen",!0),y.setAttribute("src",this.sanitize(v)),y}},{key:"formats",value:function(v){return A.reduce(function(y,S){return v.hasAttribute(S)&&(y[S]=v.getAttribute(S)),y},{})}},{key:"sanitize",value:function(v){return d.default.sanitize(v)}},{key:"value",value:function(v){return v.getAttribute("src")}}]),b}(c.BlockEmbed);g.blotName="video",g.className="ql-video",g.tagName="IFRAME",s.default=g},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.FormulaBlot=void 0;var i=function(){function v(y,S){for(var M=0;M<S.length;M++){var P=S[M];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(y,P.key,P)}}return function(y,S,M){return S&&v(y.prototype,S),M&&v(y,M),y}}(),o=function v(y,S,M){y===null&&(y=Function.prototype);var P=Object.getOwnPropertyDescriptor(y,S);if(P===void 0){var B=Object.getPrototypeOf(y);return B===null?void 0:v(B,S,M)}else{if("value"in P)return P.value;var D=P.get;return D===void 0?void 0:D.call(M)}},c=a(35),l=m(c),d=a(5),u=m(d),f=a(9),h=m(f);function m(v){return v&&v.__esModule?v:{default:v}}function A(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function g(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function p(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var b=function(v){p(y,v);function y(){return A(this,y),g(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,null,[{key:"create",value:function(M){var P=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,M);return typeof M=="string"&&(window.katex.render(M,P,{throwOnError:!1,errorColor:"#f00"}),P.setAttribute("data-value",M)),P}},{key:"value",value:function(M){return M.getAttribute("data-value")}}]),y}(l.default);b.blotName="formula",b.className="ql-formula",b.tagName="SPAN";var x=function(v){p(y,v),i(y,null,[{key:"register",value:function(){u.default.register(b,!0)}}]);function y(){A(this,y);var S=g(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return S}return y}(h.default);s.FormulaBlot=b,s.default=x},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.CodeToken=s.CodeBlock=void 0;var i=function(){function M(P,B){for(var D=0;D<B.length;D++){var L=B[D];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(P,L.key,L)}}return function(P,B,D){return B&&M(P.prototype,B),D&&M(P,D),P}}(),o=function M(P,B,D){P===null&&(P=Function.prototype);var L=Object.getOwnPropertyDescriptor(P,B);if(L===void 0){var O=Object.getPrototypeOf(P);return O===null?void 0:M(O,B,D)}else{if("value"in L)return L.value;var F=L.get;return F===void 0?void 0:F.call(D)}},c=a(0),l=g(c),d=a(5),u=g(d),f=a(9),h=g(f),m=a(13),A=g(m);function g(M){return M&&M.__esModule?M:{default:M}}function p(M,P){if(!(M instanceof P))throw new TypeError("Cannot call a class as a function")}function b(M,P){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:M}function x(M,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);M.prototype=Object.create(P&&P.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(M,P):M.__proto__=P)}var v=function(M){x(P,M);function P(){return p(this,P),b(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return i(P,[{key:"replaceWith",value:function(D){this.domNode.textContent=this.domNode.textContent,this.attach(),o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replaceWith",this).call(this,D)}},{key:"highlight",value:function(D){var L=this.domNode.textContent;this.cachedText!==L&&((L.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=D(L),this.domNode.normalize(),this.attach()),this.cachedText=L)}}]),P}(A.default);v.className="ql-syntax";var y=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),S=function(M){x(P,M),i(P,null,[{key:"register",value:function(){u.default.register(y,!0),u.default.register(v,!0)}}]);function P(B,D){p(this,P);var L=b(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,B,D));if(typeof L.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var O=null;return L.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(O),O=setTimeout(function(){L.highlight(),O=null},L.options.interval)}),L.highlight(),L}return i(P,[{key:"highlight",value:function(){var D=this;if(!this.quill.selection.composing){this.quill.update(u.default.sources.USER);var L=this.quill.getSelection();this.quill.scroll.descendants(v).forEach(function(O){O.highlight(D.options.highlight)}),this.quill.update(u.default.sources.SILENT),L!=null&&this.quill.setSelection(L,u.default.sources.SILENT)}}}]),P}(h.default);S.DEFAULTS={highlight:function(){return window.hljs==null?null:function(M){var P=window.hljs.highlightAuto(M);return P.value}}(),interval:1e3},s.CodeBlock=v,s.CodeToken=y,s.default=S},function(e,s){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,s){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,s){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,s){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,s){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,s){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,s){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,s){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,s){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,s){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,s){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,s){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,s){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,s){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,s){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,s){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,s){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,s){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,s){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,s){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,s){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,s){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,s){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,s){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,s){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,s){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,s){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,s){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,s){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,s){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,s){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,s){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.BubbleTooltip=void 0;var i=function P(B,D,L){B===null&&(B=Function.prototype);var O=Object.getOwnPropertyDescriptor(B,D);if(O===void 0){var F=Object.getPrototypeOf(B);return F===null?void 0:P(F,D,L)}else{if("value"in O)return O.value;var _=O.get;return _===void 0?void 0:_.call(L)}},o=function(){function P(B,D){for(var L=0;L<D.length;L++){var O=D[L];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(B,O.key,O)}}return function(B,D,L){return D&&P(B.prototype,D),L&&P(B,L),B}}(),c=a(3),l=p(c),d=a(8),u=p(d),f=a(43),h=p(f),m=a(15),A=a(41),g=p(A);function p(P){return P&&P.__esModule?P:{default:P}}function b(P,B){if(!(P instanceof B))throw new TypeError("Cannot call a class as a function")}function x(P,B){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:P}function v(P,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);P.prototype=Object.create(B&&B.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(P,B):P.__proto__=B)}var y=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],S=function(P){v(B,P);function B(D,L){b(this,B),L.modules.toolbar!=null&&L.modules.toolbar.container==null&&(L.modules.toolbar.container=y);var O=x(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,D,L));return O.quill.container.classList.add("ql-bubble"),O}return o(B,[{key:"extendToolbar",value:function(L){this.tooltip=new M(this.quill,this.options.bounds),this.tooltip.root.appendChild(L.container),this.buildButtons([].slice.call(L.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(L.container.querySelectorAll("select")),g.default)}}]),B}(h.default);S.DEFAULTS=(0,l.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(B){B?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var M=function(P){v(B,P);function B(D,L){b(this,B);var O=x(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,D,L));return O.quill.on(u.default.events.EDITOR_CHANGE,function(F,_,E,T){if(F===u.default.events.SELECTION_CHANGE)if(_!=null&&_.length>0&&T===u.default.sources.USER){O.show(),O.root.style.left="0px",O.root.style.width="",O.root.style.width=O.root.offsetWidth+"px";var w=O.quill.getLines(_.index,_.length);if(w.length===1)O.position(O.quill.getBounds(_));else{var C=w[w.length-1],j=O.quill.getIndex(C),N=Math.min(C.length()-1,_.index+_.length-j),I=O.quill.getBounds(new m.Range(j,N));O.position(I)}}else document.activeElement!==O.textbox&&O.quill.hasFocus()&&O.hide()}),O}return o(B,[{key:"listen",value:function(){var L=this;i(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){L.root.classList.remove("ql-editing")}),this.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!L.root.classList.contains("ql-hidden")){var O=L.quill.getSelection();O!=null&&L.position(L.quill.getBounds(O))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(L){var O=i(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"position",this).call(this,L),F=this.root.querySelector(".ql-tooltip-arrow");if(F.style.marginLeft="",O===0)return O;F.style.marginLeft=-1*O-F.offsetWidth/2+"px"}}]),B}(f.BaseTooltip);M.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),s.BubbleTooltip=M,s.default=S},function(e,s,a){e.exports=a(63)}]).default})})(dL);var Fwe=dL.exports,Rwe=an&&an.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},n(t,e)};return function(t,e){n(t,e);function s(){this.constructor=t}t.prototype=e===null?Object.create(e):(s.prototype=e.prototype,new s)}}(),M0=an&&an.__assign||function(){return M0=Object.assign||function(n){for(var t,e=1,s=arguments.length;e<s;e++){t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},M0.apply(this,arguments)},Uwe=an&&an.__spreadArrays||function(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var s=Array(n),a=0,t=0;t<e;t++)for(var i=arguments[t],o=0,c=i.length;o<c;o++,a++)s[a]=i[o];return s},Sb=an&&an.__importDefault||function(n){return n&&n.__esModule?n:{default:n}},Ei=Sb(k),Hwe=Sb(ro),Gh=Sb(Lwe),j3=Sb(Fwe),$we=function(n){Rwe(t,n);function t(e){var s=n.call(this,e)||this;s.dirtyProps=["modules","formats","bounds","theme","children"],s.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],s.state={generation:0},s.selection=null,s.onEditorChange=function(i,o,c,l){var d,u,f,h;i==="text-change"?(u=(d=s).onEditorChangeText)===null||u===void 0||u.call(d,s.editor.root.innerHTML,o,l,s.unprivilegedEditor):i==="selection-change"&&((h=(f=s).onEditorChangeSelection)===null||h===void 0||h.call(f,o,l,s.unprivilegedEditor))};var a=s.isControlled()?e.value:e.defaultValue;return s.value=a??"",s}return t.prototype.validateProps=function(e){var s;if(Ei.default.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Ei.default.Children.count(e.children)){var a=Ei.default.Children.only(e.children);if(((s=a)===null||s===void 0?void 0:s.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(e,s){var a=this,i;if(this.validateProps(e),!this.editor||this.state.generation!==s.generation)return!0;if("value"in e){var o=this.getEditorContents(),c=(i=e.value,i??"");this.isEqualValue(c,o)||this.setEditorContents(this.editor,c)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),Uwe(this.cleanProps,this.dirtyProps).some(function(l){return!Gh.default(e[l],a.props[l])})},t.prototype.shouldComponentRegenerate=function(e){var s=this;return this.dirtyProps.some(function(a){return!Gh.default(e[a],s.props[a])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(e,s){var a=this;if(this.editor&&this.shouldComponentRegenerate(e)){var i=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:i,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==s.generation){var c=this.regenerationSnapshot,i=c.delta,l=c.selection;delete this.regenerationSnapshot,this.instantiateEditor();var d=this.editor;d.setContents(i),C3(function(){return a.setEditorSelection(d,l)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(e,s){var a=new j3.default(e,s);return s.tabIndex!=null&&this.setEditorTabIndex(a,s.tabIndex),this.hookEditor(a),a},t.prototype.hookEditor=function(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(e){e.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(e){return e&&e.ops},t.prototype.isEqualValue=function(e,s){return this.isDelta(e)&&this.isDelta(s)?Gh.default(e.ops,s.ops):Gh.default(e,s)},t.prototype.setEditorContents=function(e,s){var a=this;this.value=s;var i=this.getEditorSelection();typeof s=="string"?e.setContents(e.clipboard.convert(s)):e.setContents(s),C3(function(){return a.setEditorSelection(e,i)})},t.prototype.setEditorSelection=function(e,s){if(this.selection=s,s){var a=e.getLength();s.index=Math.max(0,Math.min(s.index,a-1)),s.length=Math.max(0,Math.min(s.length,a-1-s.index)),e.setSelection(s)}},t.prototype.setEditorTabIndex=function(e,s){var a,i;!((i=(a=e)===null||a===void 0?void 0:a.scroll)===null||i===void 0)&&i.domNode&&(e.scroll.domNode.tabIndex=s)},t.prototype.setEditorReadOnly=function(e,s){s?e.disable():e.enable()},t.prototype.makeUnprivilegedEditor=function(e){var s=e;return{getHTML:function(){return s.root.innerHTML},getLength:s.getLength.bind(s),getText:s.getText.bind(s),getContents:s.getContents.bind(s),getSelection:s.getSelection.bind(s),getBounds:s.getBounds.bind(s)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var e=Hwe.default.findDOMNode(this.editingArea);if(!e)throw new Error("Cannot find element for editing area");if(e.nodeType===3)throw new Error("Editing area cannot be a text node");return e},t.prototype.renderEditingArea=function(){var e=this,s=this.props,a=s.children,i=s.preserveWhitespace,o=this.state.generation,c={key:o,ref:function(l){e.editingArea=l}};return Ei.default.Children.count(a)?Ei.default.cloneElement(Ei.default.Children.only(a),c):i?Ei.default.createElement("pre",M0({},c)):Ei.default.createElement("div",M0({},c))},t.prototype.render=function(){var e;return Ei.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(e=this.props.className,e??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(e,s,a,i){var o,c;if(this.editor){var l=this.isDelta(this.value)?i.getContents():i.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=s,this.value=l,(c=(o=this.props).onChange)===null||c===void 0||c.call(o,e,s,a,i))}},t.prototype.onEditorChangeSelection=function(e,s,a){var i,o,c,l,d,u;if(this.editor){var f=this.getEditorSelection(),h=!f&&e,m=f&&!e;Gh.default(e,f)||(this.selection=e,(o=(i=this.props).onChangeSelection)===null||o===void 0||o.call(i,e,s,a),h?(l=(c=this.props).onFocus)===null||l===void 0||l.call(c,e,s,a):m&&((u=(d=this.props).onBlur)===null||u===void 0||u.call(d,f,s,a)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=j3.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(Ei.default.Component);function C3(n){Promise.resolve().then(n)}var Qwe=$we;const ym=Td(Qwe),Vwe=({productId:n,orderId:t,onAddComment:e})=>{const[s,a]=k.useState({noiDungBinhLuan:"",danhGia:0,hinhAnh:"",moTaHinhAnh:""}),[i,o]=k.useState(!1),[c,l]=k.useState(!1),d={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{align:[]}],["link","image"],["clean"]]},u=b=>`Hình ảnh cho đánh giá: ${b.replace(/<[^>]+>/g,"").slice(0,50)}...`,f=b=>{if(!b.type.startsWith("image/")){Ce.fire({icon:"error",title:"Lỗi",text:"Vui lòng chọn một tệp hình ảnh!"});return}const x=new FileReader;x.onloadend=()=>{if(typeof x.result=="string"){const v=x.result.split(",")[1];a({...s,hinhAnh:v,moTaHinhAnh:u(s.noiDungBinhLuan)})}},x.readAsDataURL(b)},h=b=>{b.preventDefault(),o(!0)},m=b=>{b.preventDefault(),o(!1)},A=b=>{b.preventDefault(),o(!1);const x=b.dataTransfer.files[0];x&&f(x)},g=b=>{var v;const x=(v=b.target.files)==null?void 0:v[0];x&&f(x)},p=async b=>{if(b.preventDefault(),!s.noiDungBinhLuan||s.danhGia<1||s.danhGia>5){Ce.fire({icon:"error",title:"Lỗi",text:"Vui lòng nhập nội dung bình luận và chọn đánh giá từ 1 đến 5 sao!"});return}l(!0);try{await e(t,n,s.noiDungBinhLuan,s.danhGia,s.hinhAnh||void 0,s.hinhAnh?s.moTaHinhAnh:void 0)&&(a({noiDungBinhLuan:"",danhGia:0,hinhAnh:"",moTaHinhAnh:""}),Ce.fire({icon:"success",title:"Thành công",text:"Bình luận của bạn đã được ghi lại và đang chờ duyệt!",timer:3e3,showConfirmButton:!1}))}catch(x){console.error("Error submitting comment:",x),Ce.fire({icon:"error",title:"Lỗi",text:x.message||"Có lỗi xảy ra khi gửi bình luận!"})}finally{l(!1)}};return r.jsxs(at,{className:"mb-6 shadow-lg rounded-xl bg-white",children:[r.jsx(yt,{children:r.jsx(Ct,{className:"text-lg font-semibold",children:"Viết bình luận"})}),r.jsx(dt,{children:r.jsxs("form",{onSubmit:p,className:"space-y-4 font-roboto",children:[r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Đánh giá"}),r.jsx("div",{className:"flex items-center mt-1",children:Array.from({length:5}).map((b,x)=>r.jsx(or,{className:Ue("w-6 h-6 cursor-pointer transition-colors",x<s.danhGia?"fill-yellow-400 text-yellow-400":"text-gray-300 hover:text-yellow-200"),onClick:()=>a({...s,danhGia:x+1})},x))})]}),r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Nội dung bình luận"}),r.jsx(ym,{value:s.noiDungBinhLuan,onChange:b=>a({...s,noiDungBinhLuan:b}),modules:d,className:"h-72 rounded-lg mb-10"})]}),r.jsxs("div",{className:Ue("border-2 border-dashed rounded-lg p-4 text-center cursor-pointer transition-colors",i?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-blue-300"),onDragOver:h,onDragLeave:m,onDrop:A,children:[r.jsx(Oe,{htmlFor:"file-upload",className:"cursor-pointer",children:s.hinhAnh?r.jsxs("div",{className:"relative w-32 h-32 mx-auto",children:[r.jsx("img",{src:`data:image/jpeg;base64,${s.hinhAnh}`,alt:"Uploaded",className:"w-full h-full object-cover rounded"}),r.jsx("button",{type:"button",className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1",onClick:()=>a({...s,hinhAnh:"",moTaHinhAnh:""}),children:r.jsx(Pc,{className:"h-4 w-4"})})]}):r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Kéo và thả hình ảnh vào đây hoặc nhấp để chọn"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Hỗ trợ: JPG, PNG"})]})}),r.jsx("input",{id:"file-upload",type:"file",accept:"image/*",className:"hidden",onChange:g})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(fe,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white",disabled:c,children:[r.jsx(F1,{className:"h-4 w-4 mr-2"}),c?"Đang gửi...":"Gửi bình luận"]})})]})})]})},N3={pending:{color:"bg-gray-500",icon:XA,label:"Chờ xác nhận"},processing:{color:"bg-yellow-500",icon:ir,label:"Đang xử lý"},shipping:{color:"bg-blue-500",icon:z2,label:"Đang giao hàng"},completed:{color:"bg-green-500",icon:ja,label:"Đã hoàn thành"},paid:{color:"bg-green-500",icon:rd,label:"Đã thanh toán"},canceled:{color:"bg-red-500",icon:ja,label:"Đã hủy"}},zwe=["Đổi ý không muốn mua nữa","Tìm được giá rẻ hơn ở nơi khác","Đặt nhầm sản phẩm","Thay đổi địa chỉ giao hàng","Cần gấp nhưng giao hàng chậm","Lý do khác"],$i=n=>({0:"pending",1:"processing",2:"shipping",3:"completed",4:"paid",5:"canceled"})[n]||"pending",_o=n=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(n||0),uL=n=>n?new Date(n).toLocaleDateString("vi-VN"):"N/A",Kwe=({notification:n,onClose:t})=>(k.useEffect(()=>{if(n){const e=n.duration||(n.type==="success"?5e3:8e3),s=setTimeout(t,e);return()=>clearTimeout(s)}},[n,t]),n?r.jsx("div",{className:`fixed top-4 right-4 p-4 rounded-lg shadow-lg z-50 max-w-md transition-all duration-300 ${n.type==="success"?"bg-green-100 border border-green-400 text-green-700":"bg-red-100 border border-red-400 text-red-700"}`,children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start",children:[n.type==="success"?r.jsx(ja,{className:"h-5 w-5 mr-2 mt-0.5 flex-shrink-0"}):r.jsx("div",{className:"h-5 w-5 mr-2 mt-0.5 rounded-full bg-red-500 flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white text-xs font-bold",children:"!"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-sm leading-relaxed",children:n.message}),n.type==="error"&&n.message.includes("khóa")&&r.jsxs("div",{className:"mt-2 text-xs text-red-600 bg-red-50 p-2 rounded border-l-4 border-red-400",children:["💡 ",r.jsx("strong",{children:"Lưu ý:"})," Tài khoản sẽ được tự động mở khóa sau 3 ngày kể từ thời điểm bị khóa."]})]})]}),r.jsx("button",{onClick:t,className:"ml-3 text-gray-400 hover:text-gray-600 text-lg font-bold leading-none",children:"×"})]})}):null),Gwe=({order:n,onCancel:t,onAddComment:e,commentedProducts:s})=>{var u,f,h,m,A,g;const[a,i]=k.useState(!1),o=N3[$i(n.trangThaiDonHang)]||N3.pending,c=o.icon,l=()=>n.paymentStatusText?n.paymentStatusText:n.hinhThucThanhToan==="VNPay"||n.hinhThucThanhToan==="COD"&&n.trangThaiDonHang===3?"Đã thanh toán":"Chưa thanh toán",d=p=>{var y,S,M,P,B;const b=p.laCombo?((y=p.maCombo)==null?void 0:y.toString())??"0":p.maSanPham??"0",x=`${n.maDonHang}-${b}`,v=s.has(x);return r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("a",{href:`https://fashionhub.name.vn/${p.laCombo?"combos":"products"}/${p.laCombo?p.maCombo:(S=p.maSanPham)==null?void 0:S.substring(0,6)}`,className:"grid grid-cols-12 gap-4 items-start hover:bg-gray-50 p-3 rounded-lg transition-colors",children:[r.jsx("div",{className:"col-span-12 sm:col-span-2",children:r.jsx("div",{className:"h-20 w-20 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden",children:r.jsx("img",{src:p.hinhAnh||"https://via.placeholder.com/150",alt:p.laCombo?"Combo Preview":"Product Preview",className:"w-full h-full object-cover"})})}),r.jsxs("div",{className:"col-span-12 sm:col-span-7",children:[r.jsx("div",{className:"font-medium text-gray-800 mb-2",children:p.laCombo?(M=p.combo)==null?void 0:M.tenCombo:p.tenSanPham||"N/A"}),r.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"font-medium",children:"Số lượng:"}),r.jsxs("span",{className:"ml-2",children:[p.soLuong||0," x ",_o(p.gia||0)]})]}),!p.laCombo&&(p.mauSac||p.kichThuoc)&&r.jsxs("div",{className:"flex items-center space-x-4",children:[p.mauSac&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Màu:"}),r.jsxs("div",{className:"flex items-center space-x-1",children:[p.mauSacHex&&r.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:p.mauSacHex},title:p.mauSac}),r.jsx("span",{className:"text-xs font-medium bg-gray-100 px-2 py-1 rounded",children:p.mauSac})]})]}),p.kichThuoc&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Size:"}),r.jsx("span",{className:"text-xs font-medium bg-blue-100 text-blue-800 px-2 py-1 rounded",children:p.kichThuoc})]})]}),p.laCombo&&((P=p.combo)==null?void 0:P.sanPhamsTrongCombo)&&r.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2",children:"Sản phẩm trong combo:"}),r.jsx("div",{className:"space-y-2",children:p.combo.sanPhamsTrongCombo.map((D,L)=>r.jsxs("div",{className:"flex items-start justify-between text-xs text-gray-600 bg-white p-3 rounded border",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[D.hinhAnh&&r.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded overflow-hidden flex-shrink-0",children:r.jsx("img",{src:D.hinhAnh,alt:D.tenSanPham,className:"w-full h-full object-cover",onError:O=>{O.currentTarget.src="/placeholder.svg"}})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsx("span",{className:"font-medium text-gray-800",children:D.tenSanPham||"Sản phẩm không có tên"})]}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[D.mauSac&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("span",{className:"text-gray-500",children:"Màu:"}),D.mauSacHex&&r.jsx("div",{className:"w-3 h-3 rounded-full border border-gray-300",style:{backgroundColor:D.mauSacHex},title:D.mauSac}),r.jsx("span",{className:"bg-gray-100 px-1.5 py-0.5 rounded text-xs",children:D.mauSac})]}),D.kichThuoc&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("span",{className:"text-gray-500",children:"Size:"}),r.jsx("span",{className:"bg-blue-100 text-blue-800 px-1.5 py-0.5 rounded text-xs",children:D.kichThuoc})]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[r.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs font-medium",children:["x",D.soLuong||0]}),r.jsx("span",{className:"text-gray-600 font-medium",children:_o(D.gia||0)})]})]},L))})]})]})]}),r.jsx("div",{className:"col-span-12 sm:col-span-3 text-right",children:r.jsx("div",{className:"font-medium text-lg text-gray-800",children:_o(p.thanhTien||0)})})]}),$i(n.trangThaiDonHang)==="completed"&&!v&&r.jsxs("div",{className:"ml-4",children:[r.jsxs("h3",{className:"text-lg font-medium mb-4 text-blue-800",children:["Viết bình luận cho ",p.laCombo?(B=p.combo)==null?void 0:B.tenCombo:p.tenSanPham]}),r.jsx(Vwe,{productId:b,orderId:n.maDonHang.toString(),onAddComment:(D,L,O,F,_,E)=>e(D,L,O,F,_,E,p.laCombo)})]}),$i(n.trangThaiDonHang)==="completed"&&v&&r.jsx("div",{className:"bg-green-50 border border-green-200 p-3 rounded-lg ml-4",children:r.jsx("p",{className:"text-green-700 text-sm font-medium",children:"✓ Bạn đã bình luận cho sản phẩm này trong đơn hàng này."})})]},p.maChiTietDh)};return r.jsxs("div",{className:"border rounded-lg overflow-hidden mb-4 transition-all duration-200 hover:shadow-md",children:[r.jsx("div",{className:"p-4 bg-gray-50 overflow-x-auto",children:r.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center min-w-[700px]",children:[r.jsxs("div",{className:"col-span-12 sm:col-span-5 flex flex-col gap-1",children:[r.jsxs("span",{className:"font-medium text-gray-800",children:["Mã đơn hàng: ",n.maDonHang||"N/A"]}),r.jsxs("span",{className:"text-sm text-gray-500",children:["Người nhận: ",n.tenNguoiNhan||"N/A"]}),r.jsxs("span",{className:"text-sm text-gray-500",children:["Ngày đặt: ",uL(n.ngayDat)]}),r.jsxs("span",{className:"text-sm text-gray-500",children:["SĐT: ",((u=n.thongTinNguoiDung)==null?void 0:u.sdt)||"N/A"]}),r.jsxs("span",{className:"text-sm text-gray-500",children:["Phương thức thanh toán: ",n.hinhThucThanhToan||"N/A"]}),r.jsxs("span",{className:`text-sm font-medium ${l()==="Đã thanh toán"?"text-green-600":"text-orange-600"}`,children:["Trạng thái thanh toán: ",l()]})]}),r.jsxs("div",{className:"col-span-6 sm:col-span-3 flex items-center gap-2",children:[r.jsx("span",{className:Ue("w-3 h-3 rounded-full",o.color)}),r.jsxs("span",{className:"text-sm font-medium flex items-center gap-1",children:[r.jsx(c,{className:"h-4 w-4"}),o.label]})]}),r.jsxs("div",{className:"col-span-6 sm:col-span-2 text-right",children:[r.jsx("div",{className:"font-semibold text-lg text-gray-800",children:_o(n.finalAmount||0)}),r.jsxs("span",{className:"text-sm text-gray-500",children:[((f=n.sanPhams)==null?void 0:f.length)||0," sản phẩm"]})]}),r.jsx("div",{className:"col-span-12 sm:col-span-2 flex justify-end gap-2",children:r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>i(!a),className:"flex items-center rounded-full",children:a?r.jsxs(r.Fragment,{children:[r.jsx(th,{className:"h-4 w-4 mr-1"})," Thu gọn"]}):r.jsxs(r.Fragment,{children:[r.jsx(lo,{className:"h-4 w-4 mr-1"})," Chi tiết"]})})})]})}),a&&r.jsxs("div",{className:"p-4 border-t",children:[r.jsx("div",{className:"space-y-4 mb-6",children:(n.sanPhams||[]).map(d)}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Tổng tiền hàng:"}),r.jsx("span",{className:"font-medium",children:_o(((h=n.thongTinDonHang)==null?void 0:h.tongTien)||0)})]}),((m=n.thongTinDonHang)==null?void 0:m.soTienGiam)>0&&r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Giảm giá:"}),r.jsxs("span",{className:"font-medium text-red-600",children:["-",_o(n.thongTinDonHang.soTienGiam)]})]}),((A=n.thongTinDonHang)==null?void 0:A.phiGiaoHang)>0&&r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Phí giao hàng:"}),r.jsxs("span",{className:"font-medium text-green-600",children:["+",_o(n.thongTinDonHang.phiGiaoHang)]})]}),r.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-gray-200",children:[r.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Tổng thanh toán:"}),r.jsx("span",{className:"text-lg font-bold text-blue-600",children:_o(((g=n.thongTinDonHang)==null?void 0:g.thanhTienCuoiCung)||0)})]})]})}),($i(n.trangThaiDonHang)==="pending"||$i(n.trangThaiDonHang)==="processing")&&r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsx(fe,{variant:"destructive",size:"sm",onClick:()=>t(n.maDonHang.toString()),className:"rounded-full",children:"Hủy đơn hàng"})})]})]})]})},qwe=({order:n})=>{var h;const[t,e]=k.useState(!1),s=$i(n.trangThaiDonHang),a=()=>n.paymentStatusText?n.paymentStatusText:n.hinhThucThanhToan==="VNPay"||n.hinhThucThanhToan==="COD"&&n.trangThaiDonHang===3?"Đã thanh toán":"Chưa thanh toán",i=()=>a()==="Đã thanh toán"?"bg-green-500":"bg-orange-500",o=()=>a()==="Đã thanh toán"?"text-green-600":"text-orange-600",c=[{status:"pending",label:"Chưa xác nhận",bgColor:"bg-gray-200",textColor:"text-gray-800",dotColor:"bg-gray-500",borderColor:"border-gray-300",description:"Đơn hàng đã được tạo và đang chờ xác nhận"},{status:"processing",label:"Đang chuẩn bị hàng",bgColor:"bg-yellow-100",textColor:"text-yellow-800",dotColor:"bg-yellow-500",borderColor:"border-yellow-300",description:"Đơn hàng đã được xác nhận và đang chuẩn bị"},{status:"shipping",label:"Đang giao hàng",bgColor:"bg-blue-100",textColor:"text-blue-800",dotColor:"bg-blue-500",borderColor:"border-blue-300",description:"Đơn hàng đang được vận chuyển đến bạn"},{status:"completed",label:"Đã giao hàng",bgColor:"bg-green-100",textColor:"text-green-800",dotColor:"bg-green-500",borderColor:"border-green-300",description:"Đơn hàng đã được giao thành công"},{status:"canceled",label:"Đã hủy",bgColor:"bg-red-100",textColor:"text-red-800",dotColor:"bg-red-500",borderColor:"border-red-300",description:"Đơn hàng đã bị hủy"}],l=(m,A)=>{if(s==="canceled")return m==="canceled"?"active":"inactive";const g=c.findIndex(p=>p.status===s);return A<=g?m===s?"active":"completed":"inactive"},d=s==="canceled"?[c[4]]:c.slice(0,4),f=c.find(m=>m.status===s)||c[0];return r.jsxs("div",{className:"bg-white rounded-lg border shadow-md hover:shadow-lg transition-shadow duration-200 overflow-hidden",children:[r.jsx("div",{className:"p-6 cursor-pointer hover:bg-gray-50 transition-colors duration-200",onClick:()=>e(!t),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:`flex items-center space-x-2 px-3 py-2 rounded-full ${f.bgColor} ${f.borderColor} border`,children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${f.dotColor} ${s===f.status?"animate-pulse":""}`}),r.jsx("span",{className:`text-sm font-medium ${f.textColor}`,children:f.label})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Đơn hàng #",n.maDonHang]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[uL(n.ngayDat)," • ",n.tenNguoiNhan||"N/A"]})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Tổng tiền"}),r.jsx("div",{className:"text-lg font-bold text-blue-600",children:_o(((h=n.thongTinDonHang)==null?void 0:h.thanhTienCuoiCung)||0)})]}),r.jsx(fe,{variant:"ghost",size:"sm",className:"p-2",children:t?r.jsx(th,{className:"h-5 w-5 text-gray-400"}):r.jsx(lo,{className:"h-5 w-5 text-gray-400"})})]})]})}),t&&r.jsxs("div",{className:"px-6 pb-6 bg-gray-50 border-t",children:[r.jsxs("div",{className:"relative py-6",children:[r.jsxs("h4",{className:"text-md font-semibold text-gray-900 mb-6 flex items-center",children:[r.jsx(ir,{className:"mr-2 h-5 w-5 text-blue-500"}),"Trạng thái vận chuyển"]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute top-6 left-12 right-12 h-1 bg-gray-200 rounded-full"}),r.jsx("div",{className:"absolute top-6 left-12 h-1 bg-blue-500 rounded-full transition-all duration-500 ease-in-out",style:{width:`${Math.max(0,Math.min(100,(c.findIndex(m=>m.status===s)+1)/d.length*100))}%`,right:`${100-Math.max(0,Math.min(100,(c.findIndex(m=>m.status===s)+1)/d.length*100))}%`}}),r.jsx("div",{className:"flex items-start justify-between relative",children:d.map((m,A)=>{const g=l(m.status,A),p=g==="active",b=g==="completed",x=g==="inactive";return r.jsxs("div",{className:"flex flex-col items-center relative",style:{flex:1},children:[r.jsxs("div",{className:`relative z-10 w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 border-2 ${p?`${m.bgColor} ${m.borderColor} shadow-lg`:b?"bg-blue-500 border-blue-500 shadow-md":"bg-white border-gray-300 shadow-sm"}`,children:[p&&r.jsx("div",{className:`w-4 h-4 rounded-full ${m.dotColor} animate-pulse`}),b&&r.jsx(ja,{className:"w-6 h-6 text-white"}),x&&r.jsx("div",{className:"w-4 h-4 rounded-full bg-gray-400"})]}),r.jsxs("div",{className:"mt-3 text-center max-w-20",children:[r.jsx("div",{className:`text-xs font-medium ${p?m.textColor:b?"text-blue-600":"text-gray-500"}`,children:m.label}),p&&r.jsx("div",{className:"mt-2 text-xs text-gray-600 leading-tight",children:m.description})]})]},m.status)})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Thông tin đơn hàng"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Người nhận:"}),r.jsx("div",{className:"font-medium",children:n.tenNguoiNhan||"N/A"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Thanh toán:"}),r.jsx("div",{className:"font-medium",children:n.hinhThucThanhToan||"COD"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${i()}`}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Trạng thái:"}),r.jsx("div",{className:`font-medium ${o()}`,children:a()})]})]})]})]})]})]})},Wwe=()=>{const n=dr(),[t,e]=k.useState("all"),[s,a]=k.useState([]),[i,o]=k.useState(!1),[c,l]=k.useState(null),[d,u]=k.useState(""),[f,h]=k.useState(""),[m,A]=k.useState(""),[g,p]=k.useState(""),[b,x]=k.useState(!1),[v,y]=k.useState(null),[S,M]=k.useState(new Set),[P,B]=k.useState({currentPage:1,pageSize:10,totalRecords:0,totalPages:0,hasNextPage:!1,hasPreviousPage:!1}),[D,L]=k.useState({currentPage:1,pageSize:10,totalRecords:0,totalPages:0,hasNextPage:!1,hasPreviousPage:!1}),[O,F]=k.useState({currentPage:1,pageSize:10,totalRecords:0,totalPages:0,hasNextPage:!1,hasPreviousPage:!1}),[_,E]=k.useState({currentPage:1,pageSize:10,totalRecords:0,totalPages:0,hasNextPage:!1,hasPreviousPage:!1}),[T,w]=k.useState({currentPage:1,pageSize:10,totalRecords:0,totalPages:0,hasNextPage:!1,hasPreviousPage:!1}),[C,j]=k.useState({currentPage:1,pageSize:10,totalRecords:0,totalPages:0,hasNextPage:!1,hasPreviousPage:!1}),[N,I]=k.useState([]),[R,U]=k.useState([]),[V,z]=k.useState([]),[X,Q]=k.useState([]),[q,H]=k.useState([]),[$,G]=k.useState([]),[J,te]=k.useState([]),K=async ie=>{var de,me,ve;try{const Me=localStorage.getItem("token");if(!Me){Ce.fire({icon:"error",title:"Lỗi",text:"Vui lòng đăng nhập để tra cứu đơn hàng!",confirmButtonText:"Đăng nhập"}).then(()=>n("/login"));return}if(!ie.trim()){te(N);return}const xe=(await St.get("https://bicacuatho.azurewebsites.net/api/user/orders/search",{headers:{Authorization:`Bearer ${Me}`},params:{query:ie}})).data;if(!Array.isArray(xe)){te([]);return}te(xe)}catch(Me){console.error("Error searching tracking orders:",Me),((de=Me.response)==null?void 0:de.status)===401?Ce.fire({icon:"error",title:"Lỗi",text:"Phiên đăng nhập đã hết hạn. Vui lòng đăng nhập lại!"}).then(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),n("/login")}):(Ce.fire({icon:"error",title:"Lỗi",text:((ve=(me=Me.response)==null?void 0:me.data)==null?void 0:ve.message)||"Đã xảy ra lỗi khi tra cứu đơn hàng!"}),te([]))}},ne=(ie,de,me)=>{const ve={all:[I,B],pending:[U,L],processing:[z,F],shipping:[Q,E],completed:[H,w],canceled:[G,j]},[Me,Be]=ve[ie]||[];Me&&Be&&(Me(de),Be(me))},ce=ie=>({all:P,pending:D,processing:O,shipping:_,completed:T,canceled:C})[ie]||P,oe=ie=>ie==="all"?s.length:s.filter(de=>$i(de.trangThaiDonHang)===ie).length,ee=async(ie,de=1)=>{var me,ve;try{x(!0);const Me=JSON.parse(localStorage.getItem("user")||"{}"),Be=Me==null?void 0:Me.maNguoiDung;if(!Be){Ce.fire({icon:"error",title:"Lỗi",text:"Vui lòng đăng nhập để xem lịch sử đơn hàng!",confirmButtonText:"Đăng nhập"}).then(()=>n("/login"));return}const Te=(await St.get(`https://bicacuatho.azurewebsites.net/api/user/orders/${Be}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;if(!Array.isArray(Te)){Ce.fire({icon:"error",title:"Lỗi",text:"Dữ liệu đơn hàng không hợp lệ!"});return}let _e=Te;ie!=="all"&&(_e=Te.filter(Le=>$i(Le.trangThaiDonHang)===ie));const Pe=10,be=_e.length,Ee=Math.ceil(be/Pe),ge=(de-1)*Pe,Se=ge+Pe,Ie=_e.slice(ge,Se),ze={currentPage:de,pageSize:Pe,totalRecords:be,totalPages:Ee,hasNextPage:de<Ee,hasPreviousPage:de>1};ne(ie,Ie,ze)}catch(Me){console.error("Error fetching orders by status:",Me),Ce.fire({icon:"error",title:"Lỗi",text:((ve=(me=Me.response)==null?void 0:me.data)==null?void 0:ve.message)||"Đã xảy ra lỗi khi tải đơn hàng!"})}finally{x(!1)}},W=async ie=>{var de,me;if(e(ie),ie==="all")await ee("all",1);else{const ve=JSON.parse(localStorage.getItem("user")||"{}"),Me=ve==null?void 0:ve.maNguoiDung;if(!Me){Ce.fire({icon:"error",title:"Lỗi",text:"Vui lòng đăng nhập để xem lịch sử đơn hàng!",confirmButtonText:"Đăng nhập"}).then(()=>n("/login"));return}try{x(!0);const xe=(await St.get(`https://bicacuatho.azurewebsites.net/api/user/orders/${Me}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;if(!Array.isArray(xe)){Ce.fire({icon:"error",title:"Lỗi",text:"Dữ liệu đơn hàng không hợp lệ!"});return}const Te=xe.filter(Se=>$i(Se.trangThaiDonHang)===ie),_e=10,Pe=Te.length,be=Math.ceil(Pe/_e),Ee=Te.slice(0,_e),ge={currentPage:1,pageSize:_e,totalRecords:Pe,totalPages:be,hasNextPage:be>1,hasPreviousPage:!1};ne("all",Ee,ge),a(xe)}catch(Be){console.error("Error filtering orders:",Be),Ce.fire({icon:"error",title:"Lỗi",text:((me=(de=Be.response)==null?void 0:de.data)==null?void 0:me.message)||"Đã xảy ra lỗi khi lọc đơn hàng!"})}finally{x(!1)}}},Y=async()=>{var ie,de;try{const me=JSON.parse(localStorage.getItem("user")||"{}"),ve=me==null?void 0:me.maNguoiDung;if(!ve){Ce.fire({icon:"error",title:"Lỗi",text:"Vui lòng đăng nhập để xem lịch sử đơn hàng!",confirmButtonText:"Đăng nhập"}).then(()=>n("/login"));return}const Be=(await St.get(`https://bicacuatho.azurewebsites.net/api/user/orders/${ve}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;if(!Array.isArray(Be)){Ce.fire({icon:"error",title:"Lỗi",text:"Dữ liệu đơn hàng không hợp lệ!"}),a([]);return}a(Be)}catch(me){console.error("Error fetching orders:",me),Ce.fire({icon:"error",title:"Lỗi",text:((de=(ie=me.response)==null?void 0:ie.data)==null?void 0:de.message)||"Đã xảy ra lỗi khi tải lịch sử đơn hàng!"}),a([])}},Z=async()=>{try{const ie=JSON.parse(localStorage.getItem("user")||"{}"),de=ie==null?void 0:ie.maNguoiDung;if(!de){Ce.fire({icon:"error",title:"Lỗi",text:"Vui lòng đăng nhập để kiểm tra bình luận!",confirmButtonText:"Đăng nhập"}).then(()=>n("/login"));return}const me=`likedComments_${de}`,ve=JSON.parse(localStorage.getItem(me)||"[]");M(new Set(ve));const Be=(await St.get("https://bicacuatho.azurewebsites.net/api/Comment/list",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data||[],xe=Array.isArray(Be)?Be.filter(Pe=>Pe.maNguoiDung===parseInt(de)):[],Te=new Set(xe.map(Pe=>`${Pe.maDonHang}-${Pe.maSanPham||Pe.maCombo}`)),_e=new Set([...Te,...ve]);M(_e),localStorage.setItem(me,JSON.stringify([..._e]))}catch(ie){console.error("Error fetching commented products:",ie),Ce.fire({icon:"error",title:"Lỗi",text:"Đã xảy ra lỗi khi kiểm tra bình luận!"})}},se=async ie=>{var de,me,ve;try{const Me=localStorage.getItem("token");if(!Me){Ce.fire({icon:"error",title:"Lỗi",text:"Vui lòng đăng nhập để tra cứu đơn hàng!",confirmButtonText:"Đăng nhập"}).then(()=>n("/login"));return}if(!ie.trim()){await Y(),await ee("all",1);return}const xe=(await St.get("https://bicacuatho.azurewebsites.net/api/user/orders/search",{headers:{Authorization:`Bearer ${Me}`},params:{query:ie}})).data;if(!Array.isArray(xe)){a([]),ne("all",[],{currentPage:1,pageSize:10,totalRecords:0,totalPages:0,hasNextPage:!1,hasPreviousPage:!1});return}a(xe);const Te=10,_e=xe.length,Pe=Math.ceil(_e/Te),be=xe.slice(0,Te),Ee={currentPage:1,pageSize:Te,totalRecords:_e,totalPages:Pe,hasNextPage:Pe>1,hasPreviousPage:!1};ne("all",be,Ee)}catch(Me){console.error("Error searching orders:",Me),((de=Me.response)==null?void 0:de.status)===401?Ce.fire({icon:"error",title:"Lỗi",text:"Phiên đăng nhập đã hết hạn. Vui lòng đăng nhập lại!"}).then(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),n("/login")}):(Ce.fire({icon:"error",title:"Lỗi",text:((ve=(me=Me.response)==null?void 0:me.data)==null?void 0:ve.message)||"Đã xảy ra lỗi khi tra cứu đơn hàng!"}),a([]),ne("all",[],{currentPage:1,pageSize:10,totalRecords:0,totalPages:0,hasNextPage:!1,hasPreviousPage:!1}))}},re=async(ie,de,me,ve,Me,Be,xe=!1)=>{var Te,_e,Pe;try{const be=JSON.parse(localStorage.getItem("user")||"{}"),Ee=be==null?void 0:be.maNguoiDung,ge=localStorage.getItem("token");if(!Ee||!ge)return Ce.fire({icon:"error",title:"Lỗi",text:"Vui lòng đăng nhập để thêm bình luận!",confirmButtonText:"Đăng nhập"}).then(()=>n("/login")),!1;if(!me.trim()||ve<1||ve>5)return Ce.fire({icon:"error",title:"Lỗi",text:"Vui lòng nhập nội dung bình luận và chọn đánh giá từ 1 đến 5 sao!"}),!1;const Se={maSanPham:xe?null:de,maCombo:xe?parseInt(de):0,maNguoiDung:Ee,noiDungBinhLuan:me,danhGia:ve,ngayBinhLuan:new Date().toISOString(),trangThai:0,soTimBinhLuan:0,maDonHang:ie,hinhAnh:Me||null,moTaHinhAnh:Be||null};return(await St.post("https://bicacuatho.azurewebsites.net/api/Comment/add",Se,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${ge}`}})).status===201?(M(ze=>{const Le=new Set(ze);Le.add(`${ie}-${de}`);const $e=`likedComments_${Ee}`;return localStorage.setItem($e,JSON.stringify([...Le])),Le}),Ce.fire({icon:"success",title:"Thành công",text:"Bình luận của bạn đã được ghi lại và đang chờ duyệt!",timer:3e3,showConfirmButton:!1}),await Z(),!0):!1}catch(be){console.error("Error adding comment:",be);let Ee="Có lỗi xảy ra khi thêm bình luận!";return((Te=be.response)==null?void 0:Te.status)===401?(Ee="Phiên đăng nhập đã hết hạn. Vui lòng đăng nhập lại!",Ce.fire({icon:"error",title:"Lỗi",text:Ee,confirmButtonText:"Đăng nhập"}).then(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),n("/login")})):(Pe=(_e=be.response)==null?void 0:_e.data)!=null&&Pe.message&&(Ee=be.response.data.message),Ce.fire({icon:"error",title:"Lỗi",text:Ee}),!1}},le=ie=>{const de=JSON.parse(localStorage.getItem("user")||"{}"),me=localStorage.getItem("token");if(!(de!=null&&de.maNguoiDung)||!me){Ce.fire({icon:"error",title:"Lỗi",text:"Vui lòng đăng nhập để hủy đơn hàng!",confirmButtonText:"Đăng nhập"}).then(()=>n("/login"));return}const ve=s.find(Be=>Be.maDonHang.toString()===ie);if(!ve){Ce.fire({icon:"error",title:"Lỗi",text:"Đơn hàng không tồn tại!"});return}const Me=$i(ve.trangThaiDonHang);if(Me!=="pending"&&Me!=="processing"){Ce.fire({icon:"error",title:"Lỗi",text:"Chỉ có thể hủy đơn hàng khi chưa xác nhận hoặc đang xử lý!"});return}l(ie),u(""),o(!0)},ae=async()=>{var ie,de,me;if(!d.trim()){Ce.fire({icon:"error",title:"Lỗi",text:"Vui lòng nhập lý do hủy!"});return}if(c!==null)try{const ve=JSON.parse(localStorage.getItem("user")||"{}"),Me=ve==null?void 0:ve.maNguoiDung,Be=localStorage.getItem("token");if(!Me||!Be){Ce.fire({icon:"error",title:"Lỗi",text:"Vui lòng đăng nhập để hủy đơn hàng!",confirmButtonText:"Đăng nhập"}).then(()=>n("/login"));return}const xe=parseInt(c);if(isNaN(xe)){Ce.fire({icon:"error",title:"Lỗi",text:"Mã đơn hàng không hợp lệ!"});return}const Te={lyDoHuy:d.trim()},_e=await St.put(`https://bicacuatho.azurewebsites.net/api/user/orders/cancel/${xe}`,Te,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${Be}`,Accept:"application/json"},timeout:1e4});if(o(!1),u(""),l(null),_e.data.isAccountLocked){const Pe=_e.data.lockoutMessage||"Tài khoản của bạn đã bị khóa do hủy đơn hàng quá 3 lần trong vòng 30 ngày. Tài khoản sẽ được mở khóa sau 3 ngày.";Ce.fire({icon:"error",title:"Tài khoản bị khóa",text:Pe,footer:"<p>Tài khoản sẽ được tự động mở khóa sau 3 ngày.</p>"}).then(()=>{Ce.fire({icon:"info",title:"Đăng xuất",text:"Bạn sẽ được đăng xuất khỏi hệ thống. Vui lòng đợi 3 ngày để đăng nhập lại.",timer:3e3,showConfirmButton:!1}).then(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),Me&&localStorage.removeItem(`likedComments_${Me}`),n("/login")})})}else{let Pe=_e.data.message||"Đơn hàng đã được hủy thành công!";_e.data.remainingCancellations!==void 0&&(_e.data.remainingCancellations===1?Pe+=" ⚠️ Cảnh báo: Bạn chỉ còn 1 lần hủy đơn hàng. Nếu hủy thêm 1 lần nữa, tài khoản sẽ bị khóa trong 3 ngày.":_e.data.remainingCancellations===2&&(Pe+=" ⚠️ Cảnh báo: Bạn chỉ còn 2 lần hủy đơn hàng. Hãy cẩn thận khi đặt hàng để tránh bị khóa tài khoản.")),Ce.fire({icon:"success",title:"Thành công",text:Pe,timer:5e3,showConfirmButton:!1}),await Y()}}catch(ve){console.error("Error canceling order:",ve),o(!1),u(""),l(null);let Me="Đã xảy ra lỗi khi hủy đơn hàng!";((ie=ve.response)==null?void 0:ie.status)===401?Ce.fire({icon:"error",title:"Lỗi",text:"Phiên đăng nhập đã hết hạn. Vui lòng đăng nhập lại!"}).then(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),n("/login")}):(me=(de=ve.response)==null?void 0:de.data)!=null&&me.message&&(Me=ve.response.data.message),Ce.fire({icon:"error",title:"Lỗi",text:Me})}},ue=(ie,de)=>{const me=ce(ie);de>=1&&de<=me.totalPages&&ee(ie,de)},he=({status:ie})=>{const de=ce(ie);if(de.totalPages<=1)return null;const me=()=>{const ve=[];let Be=Math.max(1,de.currentPage-2),xe=Math.min(de.totalPages,Be+5-1);xe-Be<4&&(Be=Math.max(1,xe-5+1));for(let Te=Be;Te<=xe;Te++)ve.push(Te);return ve};return r.jsxs("div",{className:"flex items-center justify-between mt-6 px-4 py-3 bg-white border border-gray-200 rounded-lg",children:[r.jsx("div",{className:"flex items-center text-sm text-gray-700",children:r.jsxs("span",{children:["Hiển thị ",(de.currentPage-1)*de.pageSize+1," - ",Math.min(de.currentPage*de.pageSize,de.totalRecords)," của ",de.totalRecords," đơn hàng"]})}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>ue(ie,de.currentPage-1),disabled:!de.hasPreviousPage||b,className:"flex items-center space-x-1",children:[r.jsx(zr,{className:"h-4 w-4"}),r.jsx("span",{children:"Trước"})]}),r.jsx("div",{className:"flex space-x-1",children:me().map(ve=>r.jsx(fe,{variant:ve===de.currentPage?"default":"outline",size:"sm",onClick:()=>ue(ie,ve),disabled:b,className:`w-10 h-10 ${ve===de.currentPage?"bg-blue-600 text-white":""}`,children:ve},ve))}),r.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>ue(ie,de.currentPage+1),disabled:!de.hasNextPage||b,className:"flex items-center space-x-1",children:[r.jsx("span",{children:"Sau"}),r.jsx(xr,{className:"h-4 w-4"})]})]})]})};k.useEffect(()=>{const ie=async()=>{await Promise.all([ee("all",1),ee("pending",1),ee("processing",1),ee("shipping",1),ee("completed",1),ee("canceled",1)])};Y(),Z(),ie()},[n]),k.useEffect(()=>{const ie=setTimeout(()=>{g.trim()?se(g):(e("all"),Y().then(()=>{ee("all",1)}))},500);return()=>clearTimeout(ie)},[g]),k.useEffect(()=>{const ie=setTimeout(()=>{K(m)},500);return()=>clearTimeout(ie)},[m]),k.useEffect(()=>{m.trim()||te(N)},[N,m]);const pe=(ie,de,me,ve)=>r.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[de,r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:me}),r.jsx("p",{className:"text-gray-500",children:ve}),ie==="all"&&!f&&!g&&r.jsx(fe,{onClick:()=>n("/products"),className:"mt-4",children:"Khám phá sản phẩm"})]}),Ae=(ie,de,me)=>r.jsxs(Fn,{value:ie,className:"space-y-6",children:[ie==="all-orders"&&r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:me}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full sm:w-auto",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Rn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(je,{type:"text",placeholder:"Tìm trong tất cả đơn hàng...",value:g,onChange:ve=>p(ve.target.value),className:"pl-10 pr-4 py-2 w-full sm:w-64"})]}),r.jsxs(hn,{value:t,onValueChange:W,children:[r.jsx(on,{className:"w-full sm:w-48",children:r.jsx(fn,{placeholder:"Lọc theo trạng thái"})}),r.jsxs(ln,{children:[r.jsx(Ve,{value:"all",children:"Tất cả trạng thái"}),r.jsx(Ve,{value:"pending",children:"Chờ xác nhận"}),r.jsx(Ve,{value:"processing",children:"Đang xử lý"}),r.jsx(Ve,{value:"shipping",children:"Đang giao hàng"}),r.jsx(Ve,{value:"completed",children:"Đã hoàn thành"}),r.jsx(Ve,{value:"canceled",children:"Đã hủy"})]})]})]})]}),ie!=="all-orders"&&r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:me}),de.length===0?pe(ie,r.jsx(XA,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),`Không có ${me.toLowerCase()}`,ie==="all-orders"&&(f||g)?"Không tìm thấy đơn hàng nào phù hợp với từ khóa tìm kiếm.":"Không có đơn hàng nào."):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"space-y-4",children:de.map(ve=>r.jsx(Gwe,{order:ve,onCancel:le,onAddComment:re,commentedProducts:S},ve.maDonHang))}),r.jsx(he,{status:ie==="all-orders"?"all":ie})]})]});return r.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[r.jsx(Kwe,{notification:v,onClose:()=>y(null)}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Lịch sử đơn hàng"}),r.jsx("p",{className:"text-gray-600",children:"Theo dõi và quản lý các đơn hàng của bạn"})]}),b&&r.jsxs("div",{className:"flex justify-center items-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600",children:"Đang tải..."})]}),r.jsxs(Na,{defaultValue:"all-orders",className:"w-full",children:[r.jsx(sa,{className:"grid w-full grid-cols-3 lg:grid-cols-6 mb-8",children:[{value:"all-orders",icon:XA,label:"Tất cả",status:"all"},{value:"pending",icon:XA,label:"Chờ xác nhận",status:"pending"},{value:"processing",icon:ir,label:"Đang xử lý",status:"processing"},{value:"shipping",icon:z2,label:"Đang giao",status:"shipping"},{value:"completed",icon:ja,label:"Hoàn thành",status:"completed"},{value:"tracking",icon:ir,label:"Theo dõi",status:"tracking"}].map(({value:ie,icon:de,label:me,status:ve})=>r.jsxs(kn,{value:ie,className:"flex items-center gap-2",children:[r.jsx(de,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:me}),ve!=="tracking"&&r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${ve==="all"?"bg-gray-200 text-gray-700":ve==="processing"?"bg-yellow-200 text-yellow-700":ve==="shipping"?"bg-blue-200 text-blue-700":ve==="completed"?"bg-green-200 text-green-700":"bg-gray-200 text-gray-700"}`,children:oe(ve)})]},ie))}),Ae("all-orders",N,"Tất cả đơn hàng"),Ae("pending",R,"Đơn hàng chờ xác nhận"),Ae("processing",V,"Đơn hàng đang xử lý"),Ae("shipping",X,"Đơn hàng đang giao"),Ae("completed",q,"Đơn hàng đã hoàn thành"),r.jsxs(Fn,{value:"tracking",className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Theo dõi đơn hàng"}),r.jsx("p",{className:"text-gray-600",children:"Xem chi tiết tiến trình các đơn hàng của bạn"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Rn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(je,{type:"text",placeholder:"Tìm kiếm đơn hàng theo dõi...",value:m,onChange:ie=>A(ie.target.value),className:"pl-10 pr-4 py-2 w-full sm:w-64"})]})]}),J.length===0?pe("tracking",r.jsx(ir,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),m.trim()?"Không tìm thấy đơn hàng":"Không có đơn hàng để theo dõi",m.trim()?"Không tìm thấy đơn hàng nào phù hợp với từ khóa tìm kiếm.":"Bạn chưa có đơn hàng nào để theo dõi."):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"space-y-6",children:J.map(ie=>r.jsx(qwe,{order:ie},ie.maDonHang))}),!m.trim()&&r.jsx(he,{status:"all"})]})]})]}),r.jsx(Yt,{open:i,onOpenChange:o,children:r.jsxs(Kt,{className:"sm:max-w-md",children:[r.jsx(rn,{children:r.jsxs(Zt,{children:["Hủy đơn hàng #",c]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Lý do hủy đơn hàng ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:zwe.map(ie=>r.jsx(fe,{type:"button",variant:"outline",size:"sm",onClick:()=>u(ie),className:Ue("text-xs",d===ie&&"bg-primary text-primary-foreground"),children:ie},ie))}),r.jsx(sl,{value:d,onChange:ie=>u(ie.target.value),placeholder:"Nhập lý do hủy đơn hàng...",className:"w-full",rows:3})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Lưu ý quan trọng"}),r.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:r.jsxs("ul",{className:"list-disc pl-5",children:[r.jsx("li",{children:"Bạn chỉ được hủy tối đa 3 đơn hàng trong vòng 30 ngày."}),r.jsx("li",{children:"Nếu vượt quá giới hạn, tài khoản của bạn sẽ bị khóa trong 3 ngày."})]})})]})]})})]}),r.jsxs(Ln,{className:"mt-6",children:[r.jsx(fe,{variant:"outline",onClick:()=>{o(!1),u(""),l(null)},children:"Đóng"}),r.jsx(fe,{variant:"destructive",onClick:ae,disabled:!d.trim(),children:"Xác nhận hủy"})]})]})})]})};var Xwe=Object.defineProperty,P0=Object.getOwnPropertySymbols,hL=Object.prototype.hasOwnProperty,fL=Object.prototype.propertyIsEnumerable,S3=(n,t,e)=>t in n?Xwe(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,V1=(n,t)=>{for(var e in t||(t={}))hL.call(t,e)&&S3(n,e,t[e]);if(P0)for(var e of P0(t))fL.call(t,e)&&S3(n,e,t[e]);return n},z1=(n,t)=>{var e={};for(var s in n)hL.call(n,s)&&t.indexOf(s)<0&&(e[s]=n[s]);if(n!=null&&P0)for(var s of P0(n))t.indexOf(s)<0&&fL.call(n,s)&&(e[s]=n[s]);return e};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var wd;(n=>{const t=class Mn{constructor(l,d,u,f){if(this.version=l,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],l<Mn.MIN_VERSION||l>Mn.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let h=[];for(let A=0;A<this.size;A++)h.push(!1);for(let A=0;A<this.size;A++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const m=this.addEccAndInterleave(u);if(this.drawCodewords(m),f==-1){let A=1e9;for(let g=0;g<8;g++){this.applyMask(g),this.drawFormatBits(g);const p=this.getPenaltyScore();p<A&&(f=g,A=p),this.applyMask(g)}}a(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(l,d){const u=n.QrSegment.makeSegments(l);return Mn.encodeSegments(u,d)}static encodeBinary(l,d){const u=n.QrSegment.makeBytes(l);return Mn.encodeSegments([u],d)}static encodeSegments(l,d,u=1,f=40,h=-1,m=!0){if(!(Mn.MIN_VERSION<=u&&u<=f&&f<=Mn.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let A,g;for(A=u;;A++){const v=Mn.getNumDataCodewords(A,d)*8,y=o.getTotalBits(l,A);if(y<=v){g=y;break}if(A>=f)throw new RangeError("Data too long")}for(const v of[Mn.Ecc.MEDIUM,Mn.Ecc.QUARTILE,Mn.Ecc.HIGH])m&&g<=Mn.getNumDataCodewords(A,v)*8&&(d=v);let p=[];for(const v of l){e(v.mode.modeBits,4,p),e(v.numChars,v.mode.numCharCountBits(A),p);for(const y of v.getData())p.push(y)}a(p.length==g);const b=Mn.getNumDataCodewords(A,d)*8;a(p.length<=b),e(0,Math.min(4,b-p.length),p),e(0,(8-p.length%8)%8,p),a(p.length%8==0);for(let v=236;p.length<b;v^=253)e(v,8,p);let x=[];for(;x.length*8<p.length;)x.push(0);return p.forEach((v,y)=>x[y>>>3]|=v<<7-(y&7)),new Mn(A,d,x,h)}getModule(l,d){return 0<=l&&l<this.size&&0<=d&&d<this.size&&this.modules[d][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),d=l.length;for(let u=0;u<d;u++)for(let f=0;f<d;f++)u==0&&f==0||u==0&&f==d-1||u==d-1&&f==0||this.drawAlignmentPattern(l[u],l[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const d=this.errorCorrectionLevel.formatBits<<3|l;let u=d;for(let h=0;h<10;h++)u=u<<1^(u>>>9)*1335;const f=(d<<10|u)^21522;a(f>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,s(f,h));this.setFunctionModule(8,7,s(f,6)),this.setFunctionModule(8,8,s(f,7)),this.setFunctionModule(7,8,s(f,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,s(f,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,s(f,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,s(f,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let u=0;u<12;u++)l=l<<1^(l>>>11)*7973;const d=this.version<<12|l;a(d>>>18==0);for(let u=0;u<18;u++){const f=s(d,u),h=this.size-11+u%3,m=Math.floor(u/3);this.setFunctionModule(h,m,f),this.setFunctionModule(m,h,f)}}drawFinderPattern(l,d){for(let u=-4;u<=4;u++)for(let f=-4;f<=4;f++){const h=Math.max(Math.abs(f),Math.abs(u)),m=l+f,A=d+u;0<=m&&m<this.size&&0<=A&&A<this.size&&this.setFunctionModule(m,A,h!=2&&h!=4)}}drawAlignmentPattern(l,d){for(let u=-2;u<=2;u++)for(let f=-2;f<=2;f++)this.setFunctionModule(l+f,d+u,Math.max(Math.abs(f),Math.abs(u))!=1)}setFunctionModule(l,d,u){this.modules[d][l]=u,this.isFunction[d][l]=!0}addEccAndInterleave(l){const d=this.version,u=this.errorCorrectionLevel;if(l.length!=Mn.getNumDataCodewords(d,u))throw new RangeError("Invalid argument");const f=Mn.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][d],h=Mn.ECC_CODEWORDS_PER_BLOCK[u.ordinal][d],m=Math.floor(Mn.getNumRawDataModules(d)/8),A=f-m%f,g=Math.floor(m/f);let p=[];const b=Mn.reedSolomonComputeDivisor(h);for(let v=0,y=0;v<f;v++){let S=l.slice(y,y+g-h+(v<A?0:1));y+=S.length;const M=Mn.reedSolomonComputeRemainder(S,b);v<A&&S.push(0),p.push(S.concat(M))}let x=[];for(let v=0;v<p[0].length;v++)p.forEach((y,S)=>{(v!=g-h||S>=A)&&x.push(y[v])});return a(x.length==m),x}drawCodewords(l){if(l.length!=Math.floor(Mn.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let f=0;f<this.size;f++)for(let h=0;h<2;h++){const m=u-h,g=(u+1&2)==0?this.size-1-f:f;!this.isFunction[g][m]&&d<l.length*8&&(this.modules[g][m]=s(l[d>>>3],7-(d&7)),d++)}}a(d==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let u=0;u<this.size;u++){let f;switch(l){case 0:f=(u+d)%2==0;break;case 1:f=d%2==0;break;case 2:f=u%3==0;break;case 3:f=(u+d)%3==0;break;case 4:f=(Math.floor(u/3)+Math.floor(d/2))%2==0;break;case 5:f=u*d%2+u*d%3==0;break;case 6:f=(u*d%2+u*d%3)%2==0;break;case 7:f=((u+d)%2+u*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][u]&&f&&(this.modules[d][u]=!this.modules[d][u])}}getPenaltyScore(){let l=0;for(let h=0;h<this.size;h++){let m=!1,A=0,g=[0,0,0,0,0,0,0];for(let p=0;p<this.size;p++)this.modules[h][p]==m?(A++,A==5?l+=Mn.PENALTY_N1:A>5&&l++):(this.finderPenaltyAddHistory(A,g),m||(l+=this.finderPenaltyCountPatterns(g)*Mn.PENALTY_N3),m=this.modules[h][p],A=1);l+=this.finderPenaltyTerminateAndCount(m,A,g)*Mn.PENALTY_N3}for(let h=0;h<this.size;h++){let m=!1,A=0,g=[0,0,0,0,0,0,0];for(let p=0;p<this.size;p++)this.modules[p][h]==m?(A++,A==5?l+=Mn.PENALTY_N1:A>5&&l++):(this.finderPenaltyAddHistory(A,g),m||(l+=this.finderPenaltyCountPatterns(g)*Mn.PENALTY_N3),m=this.modules[p][h],A=1);l+=this.finderPenaltyTerminateAndCount(m,A,g)*Mn.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let m=0;m<this.size-1;m++){const A=this.modules[h][m];A==this.modules[h][m+1]&&A==this.modules[h+1][m]&&A==this.modules[h+1][m+1]&&(l+=Mn.PENALTY_N2)}let d=0;for(const h of this.modules)d=h.reduce((m,A)=>m+(A?1:0),d);const u=this.size*this.size,f=Math.ceil(Math.abs(d*20-u*10)/u)-1;return a(0<=f&&f<=9),l+=f*Mn.PENALTY_N4,a(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let u=[6];for(let f=this.size-7;u.length<l;f-=d)u.splice(1,0,f);return u}}static getNumRawDataModules(l){if(l<Mn.MIN_VERSION||l>Mn.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*l+128)*l+64;if(l>=2){const u=Math.floor(l/7)+2;d-=(25*u-10)*u-55,l>=7&&(d-=36)}return a(208<=d&&d<=29648),d}static getNumDataCodewords(l,d){return Math.floor(Mn.getNumRawDataModules(l)/8)-Mn.ECC_CODEWORDS_PER_BLOCK[d.ordinal][l]*Mn.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let d=[];for(let f=0;f<l-1;f++)d.push(0);d.push(1);let u=1;for(let f=0;f<l;f++){for(let h=0;h<d.length;h++)d[h]=Mn.reedSolomonMultiply(d[h],u),h+1<d.length&&(d[h]^=d[h+1]);u=Mn.reedSolomonMultiply(u,2)}return d}static reedSolomonComputeRemainder(l,d){let u=d.map(f=>0);for(const f of l){const h=f^u.shift();u.push(0),d.forEach((m,A)=>u[A]^=Mn.reedSolomonMultiply(m,h))}return u}static reedSolomonMultiply(l,d){if(l>>>8||d>>>8)throw new RangeError("Byte out of range");let u=0;for(let f=7;f>=0;f--)u=u<<1^(u>>>7)*285,u^=(d>>>f&1)*l;return a(u>>>8==0),u}finderPenaltyCountPatterns(l){const d=l[1];a(d<=this.size*3);const u=d>0&&l[2]==d&&l[3]==d*3&&l[4]==d&&l[5]==d;return(u&&l[0]>=d*4&&l[6]>=d?1:0)+(u&&l[6]>=d*4&&l[0]>=d?1:0)}finderPenaltyTerminateAndCount(l,d,u){return l&&(this.finderPenaltyAddHistory(d,u),d=0),d+=this.size,this.finderPenaltyAddHistory(d,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(l,d){d[0]==0&&(l+=this.size),d.pop(),d.unshift(l)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],n.QrCode=t;function e(c,l,d){if(l<0||l>31||c>>>l)throw new RangeError("Value out of range");for(let u=l-1;u>=0;u--)d.push(c>>>u&1)}function s(c,l){return(c>>>l&1)!=0}function a(c){if(!c)throw new Error("Assertion error")}const i=class Rr{constructor(l,d,u){if(this.mode=l,this.numChars=d,this.bitData=u,d<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(l){let d=[];for(const u of l)e(u,8,d);return new Rr(Rr.Mode.BYTE,l.length,d)}static makeNumeric(l){if(!Rr.isNumeric(l))throw new RangeError("String contains non-numeric characters");let d=[];for(let u=0;u<l.length;){const f=Math.min(l.length-u,3);e(parseInt(l.substring(u,u+f),10),f*3+1,d),u+=f}return new Rr(Rr.Mode.NUMERIC,l.length,d)}static makeAlphanumeric(l){if(!Rr.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],u;for(u=0;u+2<=l.length;u+=2){let f=Rr.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u))*45;f+=Rr.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u+1)),e(f,11,d)}return u<l.length&&e(Rr.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u)),6,d),new Rr(Rr.Mode.ALPHANUMERIC,l.length,d)}static makeSegments(l){return l==""?[]:Rr.isNumeric(l)?[Rr.makeNumeric(l)]:Rr.isAlphanumeric(l)?[Rr.makeAlphanumeric(l)]:[Rr.makeBytes(Rr.toUtf8ByteArray(l))]}static makeEci(l){let d=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)e(l,8,d);else if(l<16384)e(2,2,d),e(l,14,d);else if(l<1e6)e(6,3,d),e(l,21,d);else throw new RangeError("ECI assignment value out of range");return new Rr(Rr.Mode.ECI,0,d)}static isNumeric(l){return Rr.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return Rr.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,d){let u=0;for(const f of l){const h=f.mode.numCharCountBits(d);if(f.numChars>=1<<h)return 1/0;u+=4+h+f.bitData.length}return u}static toUtf8ByteArray(l){l=encodeURI(l);let d=[];for(let u=0;u<l.length;u++)l.charAt(u)!="%"?d.push(l.charCodeAt(u)):(d.push(parseInt(l.substring(u+1,u+3),16)),u+=2);return d}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=i;n.QrSegment=i})(wd||(wd={}));(n=>{(t=>{const e=class{constructor(a,i){this.ordinal=a,this.formatBits=i}};e.LOW=new e(0,1),e.MEDIUM=new e(1,0),e.QUARTILE=new e(2,3),e.HIGH=new e(3,2),t.Ecc=e})(n.QrCode||(n.QrCode={}))})(wd||(wd={}));(n=>{(t=>{const e=class{constructor(a,i){this.modeBits=a,this.numBitsCharCount=i}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};e.NUMERIC=new e(1,[10,12,14]),e.ALPHANUMERIC=new e(2,[9,11,13]),e.BYTE=new e(4,[8,16,16]),e.KANJI=new e(8,[8,10,12]),e.ECI=new e(7,[0,0,0]),t.Mode=e})(n.QrSegment||(n.QrSegment={}))})(wd||(wd={}));var du=wd;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Ywe={L:du.QrCode.Ecc.LOW,M:du.QrCode.Ecc.MEDIUM,Q:du.QrCode.Ecc.QUARTILE,H:du.QrCode.Ecc.HIGH},mL=128,pL="L",AL="#FFFFFF",gL="#000000",xL=!1,bL=1,Jwe=4,Zwe=0,e1e=.1;function vL(n,t=0){const e=[];return n.forEach(function(s,a){let i=null;s.forEach(function(o,c){if(!o&&i!==null){e.push(`M${i+t} ${a+t}h${c-i}v1H${i+t}z`),i=null;return}if(c===s.length-1){if(!o)return;i===null?e.push(`M${c+t},${a+t} h1v1H${c+t}z`):e.push(`M${i+t},${a+t} h${c+1-i}v1H${i+t}z`);return}o&&i===null&&(i=c)})}),e.join("")}function yL(n,t){return n.slice().map((e,s)=>s<t.y||s>=t.y+t.h?e:e.map((a,i)=>i<t.x||i>=t.x+t.w?a:!1))}function t1e(n,t,e,s){if(s==null)return null;const a=n.length+e*2,i=Math.floor(t*e1e),o=a/t,c=(s.width||i)*o,l=(s.height||i)*o,d=s.x==null?n.length/2-c/2:s.x*o,u=s.y==null?n.length/2-l/2:s.y*o,f=s.opacity==null?1:s.opacity;let h=null;if(s.excavate){let A=Math.floor(d),g=Math.floor(u),p=Math.ceil(c+d-A),b=Math.ceil(l+u-g);h={x:A,y:g,w:p,h:b}}const m=s.crossOrigin;return{x:d,y:u,h:l,w:c,excavation:h,opacity:f,crossOrigin:m}}function n1e(n,t){return t!=null?Math.max(Math.floor(t),0):n?Jwe:Zwe}function wL({value:n,level:t,minVersion:e,includeMargin:s,marginSize:a,imageSettings:i,size:o,boostLevel:c}){let l=Ne.useMemo(()=>{const A=(Array.isArray(n)?n:[n]).reduce((g,p)=>(g.push(...du.QrSegment.makeSegments(p)),g),[]);return du.QrCode.encodeSegments(A,Ywe[t],e,void 0,void 0,c)},[n,t,e,c]);const{cells:d,margin:u,numCells:f,calculatedImageSettings:h}=Ne.useMemo(()=>{let m=l.getModules();const A=n1e(s,a),g=m.length+A*2,p=t1e(m,o,A,i);return{cells:m,margin:A,numCells:g,calculatedImageSettings:p}},[l,o,i,s,a]);return{qrcode:l,margin:u,cells:d,numCells:f,calculatedImageSettings:h}}var r1e=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),jL=Ne.forwardRef(function(t,e){const s=t,{value:a,size:i=mL,level:o=pL,bgColor:c=AL,fgColor:l=gL,includeMargin:d=xL,minVersion:u=bL,boostLevel:f,marginSize:h,imageSettings:m}=s,g=z1(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:p}=g,b=z1(g,["style"]),x=m==null?void 0:m.src,v=Ne.useRef(null),y=Ne.useRef(null),S=Ne.useCallback(E=>{v.current=E,typeof e=="function"?e(E):e&&(e.current=E)},[e]),[M,P]=Ne.useState(!1),{margin:B,cells:D,numCells:L,calculatedImageSettings:O}=wL({value:a,level:o,minVersion:u,boostLevel:f,includeMargin:d,marginSize:h,imageSettings:m,size:i});Ne.useEffect(()=>{if(v.current!=null){const E=v.current,T=E.getContext("2d");if(!T)return;let w=D;const C=y.current,j=O!=null&&C!==null&&C.complete&&C.naturalHeight!==0&&C.naturalWidth!==0;j&&O.excavation!=null&&(w=yL(D,O.excavation));const N=window.devicePixelRatio||1;E.height=E.width=i*N;const I=i/L*N;T.scale(I,I),T.fillStyle=c,T.fillRect(0,0,L,L),T.fillStyle=l,r1e?T.fill(new Path2D(vL(w,B))):D.forEach(function(R,U){R.forEach(function(V,z){V&&T.fillRect(z+B,U+B,1,1)})}),O&&(T.globalAlpha=O.opacity),j&&T.drawImage(C,O.x+B,O.y+B,O.w,O.h)}}),Ne.useEffect(()=>{P(!1)},[x]);const F=V1({height:i,width:i},p);let _=null;return x!=null&&(_=Ne.createElement("img",{src:x,key:x,style:{display:"none"},onLoad:()=>{P(!0)},ref:y,crossOrigin:O==null?void 0:O.crossOrigin})),Ne.createElement(Ne.Fragment,null,Ne.createElement("canvas",V1({style:F,height:i,width:i,ref:S,role:"img"},b)),_)});jL.displayName="QRCodeCanvas";var s1e=Ne.forwardRef(function(t,e){const s=t,{value:a,size:i=mL,level:o=pL,bgColor:c=AL,fgColor:l=gL,includeMargin:d=xL,minVersion:u=bL,boostLevel:f,title:h,marginSize:m,imageSettings:A}=s,g=z1(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:p,cells:b,numCells:x,calculatedImageSettings:v}=wL({value:a,level:o,minVersion:u,boostLevel:f,includeMargin:d,marginSize:m,imageSettings:A,size:i});let y=b,S=null;A!=null&&v!=null&&(v.excavation!=null&&(y=yL(b,v.excavation)),S=Ne.createElement("image",{href:A.src,height:v.h,width:v.w,x:v.x+p,y:v.y+p,preserveAspectRatio:"none",opacity:v.opacity,crossOrigin:v.crossOrigin}));const M=vL(y,p);return Ne.createElement("svg",V1({height:i,width:i,viewBox:`0 0 ${x} ${x}`,ref:e,role:"img"},g),!!h&&Ne.createElement("title",null,h),Ne.createElement("path",{fill:c,d:`M0,0 h${x}v${x}H0z`,shapeRendering:"crispEdges"}),Ne.createElement("path",{fill:l,d:M,shapeRendering:"crispEdges"}),S)});s1e.displayName="QRCodeSVG";const a1e=({order:n={}})=>{const{orderId:t}=oh(),e=t?Number(t):n.maDonHang??0,{tenNguoiNhan:s="",sdt:a="",diaChi:i="",finalAmount:o=0,discountAmount:c=0,shippingFee:l=0,ngayDat:d=new Date().toISOString(),chiTietDonHangs:u=[]}=n,f=h=>`${h.toLocaleString("vi-VN")}₫`;return console.log(u),r.jsx("div",{className:"bg-gray-50 min-h-screen py-10 px-4 flex items-center justify-center",children:r.jsxs("div",{className:"max-w-xl w-full bg-white shadow-md rounded-2xl p-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-pink-600 mb-2 text-center",children:"Đơn hàng đã được xác nhận"}),s&&r.jsxs("p",{className:"text-sm text-center text-gray-600 mb-6",children:["Cảm ơn ",r.jsx("strong",{children:s})," đã đặt hàng tại UltraStore!"]}),u.length>0&&r.jsx("div",{className:"space-y-4",children:u.map((h,m)=>{var A,g,p,b;return r.jsxs("div",{className:"flex items-center gap-4 border-b pb-3",children:[r.jsx("img",{src:((p=(g=(A=h.maSanPhamNavigation)==null?void 0:A.hinhAnhs)==null?void 0:g[0])==null?void 0:p.link)||"https://via.placeholder.com/64",alt:"product",className:"w-16 h-16 object-cover rounded-md"}),r.jsxs("div",{className:"flex-1 text-sm",children:[r.jsx("p",{className:"font-semibold truncate",children:((b=h.maSanPhamNavigation)==null?void 0:b.tenSanPham)||"Sản phẩm không xác định"}),r.jsxs("p",{className:"text-gray-500",children:[h.soLuong," × ",f(h.gia)]}),r.jsx("p",{className:"font-medium",children:f(h.thanhTien)})]})]},m)})}),r.jsxs("div",{className:"mt-6 border-t pt-4 space-y-1 text-sm text-gray-700",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Tổng phụ:"}),r.jsx("span",{children:f(u.reduce((h,m)=>h+(m.thanhTien||0),0))})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Vận chuyển:"}),r.jsx("span",{children:f(l)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Giảm giá:"}),r.jsx("span",{children:f(c)})]}),r.jsxs("div",{className:"flex justify-between font-semibold text-base",children:[r.jsx("span",{children:"Tổng cộng:"}),r.jsx("span",{children:f(o)})]})]}),i&&r.jsxs("div",{className:"mt-6 text-sm text-gray-700",children:[r.jsx("p",{className:"mb-1",children:"Địa chỉ giao hàng:"}),r.jsx("p",{children:s}),r.jsx("p",{children:a}),r.jsx("p",{children:i})]}),r.jsxs("div",{className:"mt-6 text-sm text-gray-600",children:[r.jsxs("p",{children:["Mã đơn hàng:"," ",r.jsxs("strong",{children:["ORD-",e.toString().padStart(5,"0")]})]}),r.jsxs("p",{children:["Ngày đặt: ",new Date(d).toLocaleString("vi-VN")]})]}),r.jsxs("div",{className:"mt-6 text-center",children:[r.jsx("p",{className:"text-sm mb-2 text-gray-700",children:"Quét mã QR để xem hoá đơn trực tuyến:"}),r.jsx(jL,{value:`https://fashionhub.name.vn/user/hoadon/${e}`,size:128,bgColor:"#ffffff",fgColor:"#000000",level:"H",includeMargin:!0})]})]})})};var CL={exports:{}},NL={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qu=k;function i1e(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var o1e=typeof Object.is=="function"?Object.is:i1e,l1e=qu.useState,c1e=qu.useEffect,d1e=qu.useLayoutEffect,u1e=qu.useDebugValue;function h1e(n,t){var e=t(),s=l1e({inst:{value:e,getSnapshot:t}}),a=s[0].inst,i=s[1];return d1e(function(){a.value=e,a.getSnapshot=t,oy(a)&&i({inst:a})},[n,e,t]),c1e(function(){return oy(a)&&i({inst:a}),n(function(){oy(a)&&i({inst:a})})},[n]),u1e(e),e}function oy(n){var t=n.getSnapshot;n=n.value;try{var e=t();return!o1e(n,e)}catch{return!0}}function f1e(n,t){return t()}var m1e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f1e:h1e;NL.useSyncExternalStore=qu.useSyncExternalStore!==void 0?qu.useSyncExternalStore:m1e;CL.exports=NL;var p1e=CL.exports;function A1e(){return p1e.useSyncExternalStore(g1e,()=>!0,()=>!1)}function g1e(){return()=>{}}var qC="Avatar",[x1e,ZBe]=ks(qC),[b1e,SL]=x1e(qC),TL=k.forwardRef((n,t)=>{const{__scopeAvatar:e,...s}=n,[a,i]=k.useState("idle");return r.jsx(b1e,{scope:e,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:r.jsx(Nt.span,{...s,ref:t})})});TL.displayName=qC;var kL="AvatarImage",_L=k.forwardRef((n,t)=>{const{__scopeAvatar:e,src:s,onLoadingStatusChange:a=()=>{},...i}=n,o=SL(kL,e),c=v1e(s,i),l=Hr(d=>{a(d),o.onImageLoadingStatusChange(d)});return Fr(()=>{c!=="idle"&&l(c)},[c,l]),c==="loaded"?r.jsx(Nt.img,{...i,ref:t,src:s}):null});_L.displayName=kL;var BL="AvatarFallback",EL=k.forwardRef((n,t)=>{const{__scopeAvatar:e,delayMs:s,...a}=n,i=SL(BL,e),[o,c]=k.useState(s===void 0);return k.useEffect(()=>{if(s!==void 0){const l=window.setTimeout(()=>c(!0),s);return()=>window.clearTimeout(l)}},[s]),o&&i.imageLoadingStatus!=="loaded"?r.jsx(Nt.span,{...a,ref:t}):null});EL.displayName=BL;function T3(n,t){return n?t?(n.src!==t&&(n.src=t),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function v1e(n,{referrerPolicy:t,crossOrigin:e}){const s=A1e(),a=k.useRef(null),i=s?(a.current||(a.current=new window.Image),a.current):null,[o,c]=k.useState(()=>T3(i,n));return Fr(()=>{c(T3(i,n))},[i,n]),Fr(()=>{const l=f=>()=>{c(f)};if(!i)return;const d=l("loaded"),u=l("error");return i.addEventListener("load",d),i.addEventListener("error",u),t&&(i.referrerPolicy=t),typeof e=="string"&&(i.crossOrigin=e),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,e,t]),o}var ML=TL,PL=_L,DL=EL;const wm=k.forwardRef(({className:n,...t},e)=>r.jsx(ML,{ref:e,className:Ue("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...t}));wm.displayName=ML.displayName;const Ol=k.forwardRef(({className:n,...t},e)=>r.jsx(PL,{ref:e,className:Ue("aspect-square h-full w-full",n),...t}));Ol.displayName=PL.displayName;const jm=k.forwardRef(({className:n,...t},e)=>r.jsx(DL,{ref:e,className:Ue("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...t}));jm.displayName=DL.displayName;const y1e=({userId:n,fullName:t,username:e,avatarUrl:s,bio:a="Chưa có thông tin",joinDate:i,birthDate:o,phone:c,cccd:l,email:d,address:u,password:f,role:h,status:m,createDate:A,gender:g,cancelCount:p,isVerified:b,lockoutEndDate:x,isCurrentUser:v=!1,location:y,website:S,followers:M=0,following:P=0})=>{const B=dr(),D=w=>{switch(w){case null:return{text:"Khác",icon:r.jsx(BN,{className:"h-5 w-5 mr-3 text-[#9b87f5]"})};case 1:return{text:"Nam",icon:r.jsx(Un,{className:"h-5 w-5 mr-3 text-[#9b87f5]"})};case 2:return{text:"Nữ",icon:r.jsx(R$,{className:"h-5 w-5 mr-3 text-[#9b87f5]"})};default:return{text:"Khác",icon:r.jsx(BN,{className:"h-5 w-5 mr-3 text-[#9b87f5]"})}}},L=w=>{switch(w){case 0:return"Người dùng";case 1:return"Quản trị viên";default:return"Không xác định"}},O=w=>{switch(w){case 0:return"Hoạt động";case 1:return"Không hoạt động";default:return"Không xác định"}},F=()=>{B("/user/messages",{state:{recipientId:n,recipientName:t}})},_=D(g),E=L(h),T=O(m);return r.jsx("div",{className:"container mx-auto py-8 px-6",children:r.jsxs(at,{className:"max-w-4xl mx-auto shadow-lg rounded-xl border-2 border-[#9b87f5]/20",children:[r.jsx(yt,{className:"pb-6 border-b border-[#9b87f5]/30 bg-gradient-to-r from-[#9b87f5]/10 to-[#e6e1ff]/30 rounded-t-xl",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx(wm,{className:"h-24 w-24 border-4 border-[#9b87f5]/30",children:s?r.jsx(Ol,{src:s,alt:t}):r.jsx(jm,{className:"bg-[#e6e1ff] text-[#9b87f5] text-2xl",children:t.split(" ").map(w=>w[0]).join("")})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-[#9b87f5]",children:t}),r.jsxs("p",{className:"text-[#9b87f5]/80 text-lg",children:["@",e]}),r.jsxs("div",{className:"flex items-center mt-2",children:[_.icon,r.jsx("p",{className:"text-[#9b87f5]/80 text-md",children:_.text})]})]})]}),r.jsxs("div",{className:"flex gap-4",children:[!v&&r.jsxs(fe,{onClick:F,className:"bg-[#9b87f5] hover:bg-[#8a77e0] text-white flex items-center gap-3 rounded-lg px-6 py-3 text-lg","aria-label":`Gửi tin nhắn đến ${t}`,children:[r.jsx(ad,{className:"h-10 w-10"}),r.jsx("span",{children:"Nhắn tin"})]}),v&&r.jsx(fe,{asChild:!0,className:"bg-[#9b87f5] hover:bg-[#8a77e0] text-white flex items-center gap-3 rounded-lg px-6 py-3 text-lg","aria-label":`Chỉnh sửa hồ sơ của ${t}`,children:r.jsxs(lt,{to:"/user/edit-profile",children:[r.jsx(Xf,{className:"h-5 w-5"}),r.jsx("span",{children:"Chỉnh sửa"})]})})]})]})}),r.jsx(dt,{className:"pt-8",children:r.jsx("div",{className:"space-y-8",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold mb-6 text-[#9b87f5]",children:"Thông tin cá nhân"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"bio",className:"font-medium text-gray-700 mb-2 flex items-center text-lg",children:[r.jsx(H2,{className:"h-5 w-5 mr-3 text-[#9b87f5]"}),"Giới thiệu"]}),r.jsx("input",{id:"bio",type:"text",value:a,readOnly:!0,className:"w-full px-4 py-3 border-2 border-[#9b87f5]/30 rounded-lg bg-[#9b87f5]/5 text-gray-700 focus:outline-none focus:ring-2 focus:ring-[#9b87f5] text-lg"})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"phone",className:"font-medium text-gray-700 mb-2 flex items-center text-lg",children:[r.jsx(Yl,{className:"h-5 w-5 mr-3 text-[#9b87f5]"}),"Số điện thoại"]}),r.jsx("input",{id:"phone",type:"text",value:c||"Không có số điện thoại",readOnly:!0,className:"w-full px-4 py-3 border-2 border-[#9b87f5]/30 rounded-lg bg-[#9b87f5]/5 text-gray-700 focus:outline-none focus:ring-2 focus:ring-[#9b87f5] text-lg"})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"birthDate",className:"font-medium text-gray-700 mb-2 flex items-center text-lg",children:[r.jsx($r,{className:"h-5 w-5 mr-3 text-[#9b87f5]"}),"Ngày sinh"]}),r.jsx("input",{id:"birthDate",type:"text",value:o||"Không có ngày sinh",readOnly:!0,className:"w-full px-4 py-3 border-2 border-[#9b87f5]/30 rounded-lg bg-[#9b87f5]/5 text-gray-700 focus:outline-none focus:ring-2 focus:ring-[#9b87f5] text-lg"})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"role",className:"font-medium text-gray-700 mb-2 flex items-center text-lg",children:[r.jsx(i$,{className:"h-5 w-5 mr-3 text-[#9b87f5]"}),"Vai trò"]}),r.jsx("input",{id:"role",type:"text",value:E,readOnly:!0,className:"w-full px-4 py-3 border-2 border-[#9b87f5]/30 rounded-lg bg-[#9b87f5]/5 text-gray-700 focus:outline-none focus:ring-2 focus:ring-[#9b87f5] text-lg"})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"address",className:"font-medium text-gray-700 mb-2 flex items-center text-lg",children:[r.jsx(qo,{className:"h-5 w-5 mr-3 text-[#9b87f5]"}),"Địa chỉ"]}),r.jsx("input",{id:"address",type:"text",value:u||"Không có địa chỉ",readOnly:!0,className:"w-full px-4 py-3 border-2 border-[#9b87f5]/30 rounded-lg bg-[#9b87f5]/5 text-gray-700 focus:outline-none focus:ring-2 focus:ring-[#9b87f5] text-lg"})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"email",className:"font-medium text-gray-700 mb-2 flex items-center text-lg",children:[r.jsx(Aa,{className:"h-5 w-5 mr-3 text-[#9b87f5]"}),"Email"]}),r.jsx("input",{id:"email",type:"text",value:d||"Không có email",readOnly:!0,className:"w-full px-4 py-3 border-2 border-[#9b87f5]/30 rounded-lg bg-[#9b87f5]/5 text-gray-700 focus:outline-none focus:ring-2 focus:ring-[#9b87f5] text-lg"})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"joinDate",className:"font-medium text-gray-700 mb-2 flex items-center text-lg",children:[r.jsx($r,{className:"h-5 w-5 mr-3 text-[#9b87f5]"}),"Ngày tạo"]}),r.jsx("input",{id:"joinDate",type:"text",value:i,readOnly:!0,className:"w-full px-4 py-3 border-2 border-[#9b87f5]/30 rounded-lg bg-[#9b87f5]/5 text-gray-700 focus:outline-none focus:ring-2 focus:ring-[#9b87f5] text-lg"})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"status",className:"font-medium text-gray-700 mb-2 flex items-center text-lg",children:[r.jsx(V2,{className:"h-5 w-5 mr-3 text-[#9b87f5]"}),"Trạng thái"]}),r.jsx("input",{id:"status",type:"text",value:T,readOnly:!0,className:"w-full px-4 py-3 border-2 border-[#9b87f5]/30 rounded-lg bg-[#9b87f5]/5 text-gray-700 focus:outline-none focus:ring-2 focus:ring-[#9b87f5] text-lg"})]})]})]})]})})})]})})},k3="https://bicacuatho.azurewebsites.net",w1e=()=>{const{userId:n=""}=oh(),[t,e]=k.useState(null),[s,a]=k.useState(!0),[i,o]=k.useState(null),[c,l]=k.useState(null),d=async()=>{try{const h=await fetch(`${k3}/api/GiaoDien`);if(!h.ok)throw new Error("Lỗi khi tải avatar mặc định");const A=(await h.json()).find(g=>g.trangThai===1);A&&A.avt?l(`data:image/png;base64,${A.avt}`):l(null)}catch(h){console.error("Lỗi khi lấy avatar mặc định:",h.message),l(null)}};if(k.useEffect(()=>{const h=async()=>{try{const m=localStorage.getItem("token");if(!m)throw new Error("Bạn cần đăng nhập để xem thông tin người dùng.");const A=await fetch(`${k3}/api/NguoiDung/${n||"current"}`,{headers:{Authorization:`Bearer ${m}`}});if(!A.ok){const p=await A.text();throw new Error(`Không thể tải thông tin người dùng: ${p}`)}const g=await A.json();e(g),a(!1)}catch(m){const A=m instanceof Error?m.message:"Lỗi khi tải thông tin người dùng.";o(A),a(!1),Ce.fire({icon:"error",title:"Lỗi",text:A,timer:3e3,showConfirmButton:!1})}};d(),h()},[n]),s)return r.jsx("div",{className:"py-6 bg-gray-50/50 min-h-screen flex items-center justify-center",children:r.jsx("p",{className:"text-gray-600","aria-label":"Đang tải thông tin người dùng",children:"Đang tải thông tin người dùng..."})});if(i||!t)return r.jsx("div",{className:"py-6 bg-gray-50/50 min-h-screen flex items-center justify-center",children:r.jsx("p",{className:"text-gray-600","aria-label":"Không thể tải thông tin người dùng",children:"Không thể tải thông tin người dùng."})});const u=n==="current"||!n,f={userId:t.maNguoiDung||"",fullName:t.hoTen||"Không có tên",username:t.taiKhoan||"",avatarUrl:t.hinhAnh?`data:image/png;base64,${t.hinhAnh}`:c||"https://gockienthuc.edu.vn/wp-content/uploads/2024/07/hinh-anh-avatar-trang-mac-dinh-doc-dao-khong-lao-nhao_6690f0076072b.webp",bio:t.moTa||"Chưa có mô tả.",joinDate:t.ngayTao?new Date(t.ngayTao).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"Không có ngày tham gia",birthDate:t.ngaySinh?new Date(t.ngaySinh).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"Không có ngày sinh",phone:t.sdt||"Không có số điện thoại",cccd:t.cccd||"Không có CCCD",email:t.email||"Không có email",address:t.diaChi||"Không có địa chỉ",password:t.matKhau||"Không có mật khẩu",role:t.vaiTro,status:t.trangThai,createDate:t.ngayTao?new Date(t.ngayTao).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"Không có ngày tạo",gender:t.gioiTinh,cancelCount:t.cancelConunt||0,isVerified:t.isveryfied||!1,lockoutEndDate:t.lockoutEndDate?new Date(t.lockoutEndDate).toLocaleString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",hour12:!0}):"Không bị khóa",location:t.diaChi||"Không có địa chỉ",website:"",followers:0,following:0};return r.jsx("div",{className:"py-6 bg-gray-50/50 min-h-screen",children:r.jsx(y1e,{userId:f.userId,fullName:f.fullName,username:f.username,avatarUrl:f.avatarUrl,bio:f.bio,joinDate:f.joinDate,birthDate:f.birthDate,phone:f.phone,cccd:f.cccd,email:f.email,address:f.address,password:f.password,role:f.role,status:f.status,createDate:f.createDate,gender:f.gender,cancelCount:f.cancelCount,isVerified:f.isVerified,lockoutEndDate:f.lockoutEndDate,isCurrentUser:u,location:f.location,website:f.website,followers:f.followers,following:f.following})})},Ld=Cle,IL=k.createContext({}),Lt=({...n})=>r.jsx(IL.Provider,{value:{name:n.name},children:r.jsx(kle,{...n})}),Tb=()=>{const n=k.useContext(IL),t=k.useContext(OL),{getFieldState:e,formState:s}=cb(),a=e(n.name,s);if(!n)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:n.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},OL=k.createContext({}),Et=k.forwardRef(({className:n,...t},e)=>{const s=k.useId();return r.jsx(OL.Provider,{value:{id:s},children:r.jsx("div",{ref:e,className:Ue("space-y-2",n),...t})})});Et.displayName="FormItem";const It=k.forwardRef(({className:n,...t},e)=>{const{error:s,formItemId:a}=Tb();return r.jsx(Oe,{ref:e,className:Ue(s&&"text-destructive",n),htmlFor:a,...t})});It.displayName="FormLabel";const Mt=k.forwardRef(({...n},t)=>{const{error:e,formItemId:s,formDescriptionId:a,formMessageId:i}=Tb();return r.jsx(kd,{ref:t,id:s,"aria-describedby":e?`${a} ${i}`:`${a}`,"aria-invalid":!!e,...n})});Mt.displayName="FormControl";const j1e=k.forwardRef(({className:n,...t},e)=>{const{formDescriptionId:s}=Tb();return r.jsx("p",{ref:e,id:s,className:Ue("text-sm text-muted-foreground",n),...t})});j1e.displayName="FormDescription";const zt=k.forwardRef(({className:n,children:t,...e},s)=>{const{error:a,formMessageId:i}=Tb(),o=a?String(a==null?void 0:a.message):t;return o?r.jsx("p",{ref:s,id:i,className:Ue("text-sm font-medium text-destructive",n),...e,children:o}):null});zt.displayName="FormMessage";const C1e=["😊","😂","❤️","👍","😍","😢","😡","🎉","🔥","💯"],N1e=ho({message:Ft().max(1e3,"Tin nhắn không được vượt quá 1000 ký tự")}),S1e=({recipientId:n,recipientName:t,initialMessage:e="",onSuccess:s})=>{const[a,i]=k.useState(!1),[o,c]=k.useState(null),[l,d]=k.useState(null),[u,f]=k.useState(!1),h=k.useRef(null),m=Ji({resolver:Zi(N1e),defaultValues:{message:e}});k.useEffect(()=>{const y=localStorage.getItem(`messageForm_${n}`);if(y){const{selectedFileData:S,previewUrlData:M}=JSON.parse(y);S&&c(new File([],S.name,{type:S.type})),M&&d(M)}},[n]),k.useEffect(()=>{o||l?localStorage.setItem(`messageForm_${n}`,JSON.stringify({selectedFileData:o?{name:o.name,type:o.type}:null,previewUrlData:l})):localStorage.removeItem(`messageForm_${n}`)},[o,l,n]);const A=async(y,S=!1,M)=>{i(!0),f(!1);try{const P=localStorage.getItem("token"),B=localStorage.getItem("userId");if(!P||!B)throw new Error("Vui lòng đăng nhập để gửi tin nhắn.");if(M&&M.size>10*1024*1024)throw new Error("Dung lượng tệp không được vượt quá 10MB.");const D=new FormData;D.append("NguoiGuiId",B),D.append("NguoiNhanId",n),D.append("NoiDung",y),S&&D.append("KieuTinNhan","emoji"),M&&D.append("TepTin",M);const L=await fetch("https://bicacuatho.azurewebsites.net/api/TinNhan/gui",{method:"POST",headers:{Authorization:`Bearer ${P}`},body:D});if(!L.ok){const F=await L.text();throw new Error(F||"Gửi tin nhắn thất bại")}const O=await L.json();m.reset(),c(null),d(null),s==null||s(y,M)}catch(P){const B=P instanceof Error?P.message:"Gửi thất bại";m.setError("message",{type:"manual",message:B}),console.error("Lỗi gửi tin nhắn:",P)}finally{i(!1)}},g=y=>{var M;const S=(M=y.target.files)==null?void 0:M[0];if(S){if(S.size>10*1024*1024){m.setError("message",{type:"manual",message:"Dung lượng tệp không được vượt quá 10MB."});return}c(S),S.type.startsWith("image/")?d(URL.createObjectURL(S)):d(null)}},p=()=>{c(null),d(null),h.current&&(h.current.value="")},b=y=>{y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),m.handleSubmit(S=>A(S.message,!1,o))())},x=y=>A(y,!0),v=()=>A("❤️",!0);return r.jsx(Ld,{...m,children:r.jsx("form",{onSubmit:m.handleSubmit(y=>A(y.message,!1,o)),children:r.jsx(Lt,{control:m.control,name:"message",render:({field:y})=>{var S;return r.jsxs(Et,{children:[(o||l)&&r.jsxs("div",{className:"relative mb-2",children:[l&&(o!=null&&o.type.startsWith("image/"))?r.jsx("img",{src:l,alt:"Preview",className:"max-w-[150px] rounded-md"}):r.jsxs("p",{className:"text-sm text-gray-600",children:["Tệp đã chọn: ",o==null?void 0:o.name]}),r.jsx(fe,{type:"button",onClick:p,className:"absolute top-1 right-1 p-1 rounded-full bg-gray-500/80 text-white",children:r.jsx(st,{className:"w-4 h-4"})})]}),u&&r.jsx("div",{className:"flex flex-wrap gap-2 p-2 mb-2 border rounded-md bg-white border-[#c083fc]",children:C1e.map(M=>r.jsx(fe,{type:"button",className:"text-2xl bg-transparent hover:bg-[#c083fc]/10",onClick:()=>x(M),children:M},M))}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(fe,{type:"button",onClick:()=>{var M;return(M=h.current)==null?void 0:M.click()},className:"p-2 bg-[#f5f0ff] text-[#c083fc] rounded-full hover:bg-[#c083fc]/20",children:r.jsx(LH,{className:"w-5 h-5"})}),r.jsx("input",{ref:h,type:"file",accept:"image/*,.pdf",onChange:g,className:"hidden"}),r.jsx(fe,{type:"button",onClick:()=>f(M=>!M),className:"p-2 bg-[#f5f0ff] text-[#c083fc] rounded-full hover:bg-[#c083fc]/20",children:r.jsx(u$,{className:"w-5 h-5"})})]}),r.jsx(Mt,{className:"flex-1",children:r.jsx(sl,{...y,placeholder:`Nhập tin nhắn đến ${t}...`,className:"min-h-[40px] max-h-[120px] h-[40px] resize-none overflow-y-auto border-2 border-[#c083fc] bg-[#f5f0ff] focus:ring-[#c083fc] rounded-full px-4 py-2 text-sm",onChange:y.onChange,onKeyDown:b})}),(S=m.watch("message"))!=null&&S.trim()?r.jsx(fe,{type:"submit",disabled:a,className:"p-2 rounded-full text-white bg-[#c083fc] hover:bg-[#b072e8]",children:r.jsx(hu,{className:"w-5 h-5"})}):r.jsx(fe,{type:"button",disabled:a,onClick:v,className:"p-2 rounded-full text-[#00c2cb] bg-[#f5f0ff] hover:bg-[#00c2cb]/20",children:r.jsx(Ts,{className:"w-5 h-5"})})]}),r.jsx(zt,{className:"text-xs text-red-600 mt-1"})]})}})})})},jc="https://bicacuatho.azurewebsites.net",T1e=n=>new Date(n).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"}),k1e=({threadId:n,user:t})=>{var w,C;const e=localStorage.getItem("userId")||"",[s,a]=k.useState([]),[i,o]=k.useState(!0),[c,l]=k.useState(!1),[d,u]=k.useState(null),[f,h]=k.useState(!1),[m,A]=k.useState(void 0),[g,p]=k.useState(""),[b,x]=k.useState(!1),[v,y]=k.useState(!1),[S,M]=k.useState({}),P=k.useRef(null),B=dr(),D=["😊","😂","❤️","👍","😍","😢","😡","🎉","🔥","💯"],L=async()=>{try{const j=await fetch(`${jc}/api/GiaoDien`);if(!j.ok)throw new Error("Lỗi khi tải avatar mặc định");const I=(await j.json()).find(R=>R.trangThai===1);I!=null&&I.avt?u(`data:image/png;base64,${I.avt}`):u(null)}catch(j){console.error("Lỗi khi lấy avatar mặc định:",j instanceof Error?j.message:"Không xác định"),u(null)}},O=async(j,N)=>{try{const I=await fetch(j,{headers:{Authorization:`Bearer ${N}`},mode:"cors"});if(console.log("Image fetch response:",I.status,I.statusText,j),!I.ok)throw new Error(`Không thể tải hình ảnh từ ${j}: ${I.statusText}`);const R=await I.blob();return URL.createObjectURL(R)}catch(I){return console.error("Lỗi khi tải hình ảnh:",I),"/fallback-image.png"}};k.useEffect(()=>{const j=async()=>{o(!0);try{const N=localStorage.getItem("token")||"",I=await fetch(`${jc}/api/TinNhan/doan-chat?nguoiGuiId=${encodeURIComponent(e)}&nguoiNhanId=${encodeURIComponent(n)}`,{headers:{Authorization:`Bearer ${N}`}});if(!I.ok)throw new Error(`Không thể tải tin nhắn: ${I.statusText}`);const R=await I.json();console.log("Fetched messages:",R);const U={};for(const V of R)if(V.kieuTinNhan==="image"&&V.tepDinhKemUrl&&!V.isPending){const z=`${jc}${V.tepDinhKemUrl}`,X=await O(z,N);U[V.maTinNhan]=X}M(U),a(R)}catch(N){console.error("Lỗi khi tải tin nhắn:",N),a([])}finally{o(!1),l(!0)}};L(),j()},[n,e]),k.useEffect(()=>{c&&P.current&&(P.current.scrollIntoView({behavior:"smooth"}),l(!1))},[s,c]);const F=(j,N)=>{const I=new Date().toISOString(),R={maTinNhan:Date.now(),nguoiGuiId:e,nguoiNhanId:n,noiDung:j,kieuTinNhan:N?"image":D.includes(j)?"emoji":"text",tepDinhKemUrl:N?URL.createObjectURL(N):void 0,ngayTao:I,isPending:!0,sentTime:I};console.log("Thêm tin nhắn tạm thời:",R),a(U=>[...U,R]),l(!0)},_=j=>{if(!j)return"Tệp không xác định";const N=j.split("/"),I=N[N.length-1]||"Tệp không xác định",R=I.lastIndexOf("_");if(R!==-1&&R<I.length-1)return I.substring(R+1);const U=I.lastIndexOf(".");return U!==-1&&U<I.length-1?I.substring(U+1):I},E=(j,N,I)=>{j&&(A(j),p(_(j)),x(!!N),y(!!I),h(!0))},T=async()=>{if(m)try{const j=localStorage.getItem("token")||"";console.log("Attempting download from:",m);const N=await fetch(m,{headers:{Authorization:`Bearer ${j}`},mode:"cors"});if(!N.ok)throw console.error(`Download failed: ${N.status} - ${N.statusText}`,m),new Error(`Không thể tải tệp: ${N.statusText}`);const I=await N.blob(),R=window.URL.createObjectURL(I),U=document.createElement("a");U.href=R,U.download=g||"file",document.body.appendChild(U),U.click(),document.body.removeChild(U),window.URL.revokeObjectURL(R)}catch(j){console.error("Lỗi khi tải tệp:",j),alert(`Không thể tải tệp. Vui lòng thử lại. Chi tiết: ${j instanceof Error?j.message:"Lỗi không xác định"}`)}finally{h(!1)}};return i?r.jsx("div",{className:"flex items-center justify-center h-full",children:"Đang tải..."}):r.jsxs("div",{className:"flex flex-col h-full bg-[#f5f0ff] border border-[#9b87f5] rounded-xl overflow-hidden max-h-[calc(100vh-50px)]",children:[r.jsxs("div",{className:"flex items-center p-2 bg-[#f5f0ff] border-b border-[#9b87f5]/20",children:[r.jsx(wm,{className:"h-10 w-10 mr-2 border border-[#9b87f5] cursor-pointer",onClick:()=>B(`/user/profile/${t.id}`),children:t.avatar?r.jsx(Ol,{src:t.avatar,alt:t.name}):d?r.jsx(Ol,{src:d,alt:"Default avatar"}):r.jsx(jm,{children:((w=t.name)==null?void 0:w[0])||"?"})}),r.jsx("h3",{className:"text-[#9b87f5] font-semibold",children:t.name})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",style:{maxHeight:"calc(100vh - 150px)"},children:s.map((j,N)=>{const I=j.nguoiGuiId===e,R=N===s.length-1;return r.jsx("div",{ref:R?P:null,className:Ue("flex",I?"justify-end":"justify-start"),children:r.jsxs("div",{className:Ue("max-w-[70%] p-3 rounded-xl",I?"bg-[#9b87f5] text-white":"bg-white border border-[#9b87f5]/20 text-gray-800"),children:[r.jsx("p",{className:j.kieuTinNhan==="emoji"?"text-2xl":"text-sm",children:j.noiDung}),j.tepDinhKemUrl&&(j.kieuTinNhan==="image"?r.jsx("img",{src:j.isPending?j.tepDinhKemUrl:S[j.maTinNhan]||`${jc}${j.tepDinhKemUrl}`,alt:"Đính kèm hình ảnh",className:"mt-2 max-w-[200px] rounded cursor-pointer",onClick:()=>E(j.isPending?j.tepDinhKemUrl:`${jc}${j.tepDinhKemUrl}`,j.isPending,!0),onError:U=>{const V=U.target;console.error("Hình ảnh tải thất bại:",V.src),V.src="/fallback-image.png"}}):r.jsx("span",{onClick:()=>E(j.isPending?j.tepDinhKemUrl:`${jc}${j.tepDinhKemUrl}`,j.isPending,!1),className:Ue("mt-2 text-sm cursor-pointer hover:underline",I?"text-white/90":"text-blue-600"),children:_((j.isPending,j.tepDinhKemUrl))})),r.jsx("div",{className:Ue("text-xs mt-1",I?"text-white/80":"text-gray-500"),children:T1e(j.ngayTao)})]})},j.maTinNhan)})}),r.jsx("div",{className:"p-2 bg-[#f5f0ff] border-t border-[#9b87f5]/20 sticky bottom-0 z-10",children:r.jsx(S1e,{recipientId:t.id,recipientName:t.name,onSuccess:F})}),r.jsx(Yt,{open:f,onOpenChange:h,children:r.jsxs(Kt,{className:"p-6",children:[r.jsxs(rn,{children:[r.jsx(Zt,{children:"Xác nhận tải xuống"}),r.jsx(kr,{children:v?r.jsxs(r.Fragment,{children:["Bạn có muốn tải về hình ảnh này không?",r.jsx("img",{src:b?m:S[(C=s.find(j=>j.tepDinhKemUrl===(m==null?void 0:m.replace(`${jc}`,""))))==null?void 0:C.maTinNhan]||m||"/fallback-image.png",alt:"Xem trước",className:"mt-2 max-w-[200px] rounded",onError:j=>{const N=j.target;console.error("Xem trước hình ảnh thất bại:",N.src),N.src="/fallback-image.png"}})]}):r.jsxs(r.Fragment,{children:["Bạn có muốn tải về tệp ",r.jsx("strong",{children:g})," không?"]})})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[r.jsx(Yre,{asChild:!0,children:r.jsx(fe,{variant:"outline",children:"Hủy"})}),r.jsx(fe,{onClick:T,children:"Đồng ý"})]})]})})]})},qh="https://bicacuatho.azurewebsites.net",LL=({recipientId:n,recipientName:t})=>{const e=localStorage.getItem("userId")||"",[s,a]=k.useState([]),[i,o]=k.useState(null),[c,l]=k.useState(!0),[d,u]=k.useState(""),[f,h]=k.useState([]),[m,A]=k.useState(!1),[g,p]=k.useState(null),b="AD00012",x="Admin",v=async()=>{try{const S=await fetch(`${qh}/api/GiaoDien`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!S.ok)throw new Error("Lỗi khi tải avatar mặc định");const P=(await S.json()).find(B=>B.trangThai===1);P&&P.avt?p(`data:image/png;base64,${P.avt}`):p(null)}catch(S){console.error("Lỗi khi lấy avatar mặc định:",S.message),p(null)}};k.useEffect(()=>{v()},[]),k.useEffect(()=>{(async()=>{l(!0);const M=localStorage.getItem("token")||"";try{const P=await fetch(`${qh}/api/TinNhan/threads?userId=${encodeURIComponent(e)}`,{headers:{Authorization:`Bearer ${M}`}});if(!P.ok)throw new Error("Không thể tải threads");const B=await P.json(),D=await Promise.all(B.map(async O=>{const F=O.nguoiGuiId===e?O.nguoiNhanId:O.nguoiGuiId,_=await fetch(`${qh}/api/NguoiDung?searchTerm=${encodeURIComponent(F)}`,{headers:{Authorization:`Bearer ${M}`}}),T=(_.ok?await _.json():[]).find(w=>w.maNguoiDung===F);return{id:F,user:{id:F,name:(T==null?void 0:T.hoTen)||F,avatar:T!=null&&T.hinhAnh?`data:image/png;base64,${T.hinhAnh}`:null},lastMessage:{content:O.noiDung,timestamp:O.ngayTao,isRead:!0},isPinned:F===b}}));if(!D.some(O=>O.id===b)){const O=await fetch(`${qh}/api/NguoiDung?searchTerm=${encodeURIComponent(b)}`,{headers:{Authorization:`Bearer ${M}`}}),_=(O.ok?await O.json():[]).find(E=>E.maNguoiDung===b);D.unshift({id:b,user:{id:b,name:(_==null?void 0:_.hoTen)||x,avatar:_!=null&&_.hinhAnh?`data:image/png;base64,${_.hinhAnh}`:null},lastMessage:{content:"",timestamp:new Date().toISOString(),isRead:!0},isPinned:!0})}a(D.sort((O,F)=>(F.isPinned?1:0)-(O.isPinned?1:0))),n&&(!D.find(F=>F.id===n)&&t&&a([{id:n,user:{id:n,name:t,avatar:null},lastMessage:{content:"",timestamp:new Date().toISOString(),isRead:!0},isPinned:n===b},...D]),o(n))}catch(P){console.error("Lỗi khi tải threads:",P)}finally{l(!1)}})()},[e,n,t]),k.useEffect(()=>{if(!d.trim()){h([]);return}const S=setTimeout(async()=>{A(!0);const M=localStorage.getItem("token")||"";try{const P=await fetch(`${qh}/api/NguoiDung?searchTerm=${encodeURIComponent(d)}`,{headers:{Authorization:`Bearer ${M}`}});if(!P.ok)throw new Error("Không thể tìm kiếm người dùng");const B=await P.json();h(B.map(D=>({id:D.maNguoiDung,name:D.hoTen,avatar:D.hinhAnh?`data:image/png;base64,${D.hinhAnh}`:null})))}catch(P){console.error("Lỗi khi tìm kiếm:",P)}finally{A(!1)}},300);return()=>clearTimeout(S)},[d]);const y=S=>{s.find(M=>M.id===S.id)||a(M=>[{id:S.id,user:S,lastMessage:{content:"",timestamp:new Date().toISOString(),isRead:!0},isPinned:S.id===b},...M].sort((P,B)=>(B.isPinned?1:0)-(P.isPinned?1:0))),o(S.id),h([]),u("")};return c?r.jsx("div",{className:"flex items-center justify-center h-full",children:"Đang tải..."}):r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-2 h-full",children:[r.jsxs(at,{className:"lg:col-span-1 border border-[#c083fc] rounded-xl shadow h-full bg-[#f5f0ff]",children:[r.jsxs(yt,{className:"p-2 border-b border-[#c083fc]/30",children:[r.jsxs(Ct,{className:"flex items-center gap-2 text-[#c083fc]",children:[r.jsx(ad,{className:"h-5 w-5"})," Tin nhắn"]}),r.jsx(us,{className:"text-gray-600",children:"Tìm hoặc chọn người để trò chuyện"})]}),r.jsxs(dt,{className:"p-2 space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Rn,{className:"absolute left-2 top-1/2 -translate-y-1/2 text-[#c083fc]"}),r.jsx(je,{placeholder:"Tìm người dùng...",className:"pl-8 border-[#c083fc] rounded-full focus:ring-[#c083fc] bg-white",value:d,onChange:S=>u(S.target.value)})]}),m&&r.jsx("p",{className:"text-[#c083fc] text-sm",children:"Đang tìm..."}),f.map(S=>r.jsxs("div",{onClick:()=>y(S),className:"flex items-center p-2 cursor-pointer hover:bg-[#c083fc]/10 rounded-xl border border-[#c083fc]/50",children:[r.jsx(wm,{className:"h-8 w-8 mr-2",children:S.avatar?r.jsx(Ol,{src:S.avatar}):g?r.jsx(Ol,{src:g}):r.jsx(jm,{className:"bg-[#00c2cb] text-white",children:S.name[0]})}),r.jsx("span",{className:"text-[#c083fc]",children:S.name})]},S.id)),r.jsx("div",{className:"overflow-y-auto max-h-[calc(100vh-200px)] space-y-1",children:s.map(S=>r.jsxs("div",{onClick:()=>o(S.id),className:`flex items-center p-2 rounded-xl cursor-pointer ${i===S.id?"bg-[#c083fc]/20":"hover:bg-[#c083fc]/10"} border border-[#c083fc]/50`,children:[r.jsx(wm,{className:"h-8 w-8 mr-2",children:S.user.avatar?r.jsx(Ol,{src:S.user.avatar}):g?r.jsx(Ol,{src:g}):r.jsx(jm,{className:"bg-[#00c2cb] text-white",children:S.user.name[0]})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("p",{className:"font-medium text-[#c083fc]",children:[S.user.name," ",S.isPinned&&r.jsx(QH,{className:"inline h-4 w-4 ml-1 text-[#c083fc]"})]}),r.jsx("p",{className:"text-xs truncate text-gray-600",children:S.lastMessage.content})]}),r.jsx("span",{className:"text-xs text-gray-500",children:new Date(S.lastMessage.timestamp).toLocaleTimeString()})]},S.id))})]})]}),r.jsx("div",{className:"lg:col-span-2",children:i?r.jsx(k1e,{threadId:i,user:s.find(S=>S.id===i).user}):r.jsxs(at,{className:"h-full flex items-center justify-center flex-col border-[#c083fc] rounded-xl bg-[#f5f0ff]",children:[r.jsx(ad,{className:"text-[#c083fc] text-4xl"}),r.jsx("p",{className:"mt-2 text-[#c083fc]",children:"Chọn một cuộc trò chuyện để bắt đầu"})]})})]})},_1e=()=>{const n=fs(),{recipientId:t,recipientName:e}=n.state||{};return r.jsx("div",{className:"w-full h-[calc(100vh-64px)] flex flex-col",children:r.jsx(LL,{recipientId:t,recipientName:e})})},B1e=n=>/^[0-9a-fA-F]{6}$/.test(n),ly=(n,t)=>{xt[t](n,{duration:3e3,position:"top-right",style:{background:t==="success"?"#10B981":"#EF4444",color:"white",border:"none"}})},_3=()=>{const n=dr(),[t,e]=k.useState([]),[s,a]=k.useState([]),[i,o]=k.useState([]),[c,l]=k.useState(!0),[d,u]=k.useState("grid"),[f,h]=k.useState(""),[m,A]=k.useState(""),[g,p]=k.useState(1),[b,x]=k.useState(""),[v,y]=k.useState(!1),[S,M]=k.useState(0),[P,B]=k.useState(0),[D,L]=k.useState(null),[O,F]=k.useState(null),[_,E]=k.useState("cash"),[T,w]=k.useState(""),C=6,j=oe=>oe.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")+" VND",N=()=>{const oe=s.reduce((W,Y)=>W+Y.tienSanPham*Y.soLuong,0),ee=i.reduce((W,Y)=>W+Y.gia*Y.soLuong,0);return oe+ee},I=()=>S,R=()=>N()-S,U=()=>{const oe=R(),ee=parseFloat(T)||0;return ee>=oe?ee-oe:0};k.useEffect(()=>{const oe=async()=>{const W="KH001";try{const Z=await(await fetch(`https://bicacuatho.azurewebsites.net/api/Cart/GioHangByKhachHang?id=${W}`)).json();F(Z.id);const se=Z.ctghSanPhamView.map(ae=>({...ae,hinhAnh:ae.hinhAnh.startsWith("data:image")?ae.hinhAnh:`data:image/jpeg;base64,${ae.hinhAnh}`}));a(se);const re=Z.ctghComboView.map(ae=>{var ue;return{...ae,chiTietGioHangCombo:ae.chiTietGioHangCombo,hinhAnh:(ue=ae.hinhAnh)!=null&&ue.startsWith("data:image")?ae.hinhAnh:ae.hinhAnh?`data:image/jpeg;base64,${ae.hinhAnh}`:"/placeholder-image.jpg",sanPhamList:ae.sanPhamList.map(he=>{var pe;return{...he,hinhAnh:(pe=he.hinhAnh)!=null&&pe.startsWith("data:image")?he.hinhAnh:he.hinhAnh?`data:image/jpeg;base64,${he.hinhAnh}`:"/placeholder-image.jpg"}})}});o(re);const le=se.reduce((ae,ue)=>ae+ue.tienSanPham*ue.soLuong,0)+re.reduce((ae,ue)=>ae+ue.gia*ue.soLuong,0);B(le)}catch(Y){console.error("Lỗi lấy dữ liệu giỏ hàng:",Y)}},ee=async()=>{try{const W=await fetch("https://bicacuatho.azurewebsites.net/api/SanPham/ListSanPham",{method:"GET",headers:{"Content-Type":"application/json"}});if(W.ok){const Z=(await W.json()).flatMap(se=>{const{mauSac:re=[""],kichThuoc:le=[""],hinh:ae=[],...ue}=se;return re.flatMap(he=>le.map(pe=>({...ue,mauSac:he||"N/A",kichThuoc:pe,hinh:ae.length>0?ae:["/placeholder-image.jpg"],variationId:`${se.id}-${he}-${pe}`,name:`${se.name||"Không có tên"} ${he?`(${he}`:""}${pe?`${he?", ":"("}${pe})`:he?")":""}`})))});e(Z||[])}else console.error("Lỗi khi lấy danh sách sản phẩm:",W.status),e([])}catch(W){console.error("Lỗi kết nối API danh sách sản phẩm:",W),e([])}finally{l(!1)}};oe(),ee()},[n]);const V=async oe=>{if(!oe.kichThuoc||oe.kichThuoc==="N/A"){ly("Vui lòng chọn kích thước trước khi thêm vào giỏ hàng!","error");return}const ee={IDNguoiDung:"KH001",IDSanPham:oe.id,MauSac:oe.mauSac,KichThuoc:oe.kichThuoc,SoLuong:1};try{if(!(await fetch("https://bicacuatho.azurewebsites.net/api/Cart/ThemSanPhamVaoGioHang",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ee)})).ok)throw new Error("Không thể thêm vào giỏ hàng");const Y=await fetch("https://bicacuatho.azurewebsites.net/api/Cart/GioHangByKhachHang?id=KH001");if(Y.ok){const Z=await Y.json();F(Z.id);const se=Z.ctghSanPhamView.map(ae=>({...ae,hinhAnh:ae.hinhAnh.startsWith("data:image")?ae.hinhAnh:`data:image/jpeg;base64,${ae.hinhAnh}`}));a(se);const re=Z.ctghComboView.map(ae=>{var ue;return{...ae,chiTietGioHangCombo:ae.chiTietGioHangCombo,hinhAnh:(ue=ae.hinhAnh)!=null&&ue.startsWith("data:image")?ae.hinhAnh:ae.hinhAnh?`data:image/jpeg;base64,${ae.hinhAnh}`:"/placeholder-image.jpg",sanPhamList:ae.sanPhamList.map(he=>{var pe;return{...he,hinhAnh:(pe=he.hinhAnh)!=null&&pe.startsWith("data:image")?he.hinhAnh:he.hinhAnh?`data:image/jpeg;base64,${he.hinhAnh}`:"/placeholder-image.jpg"}})}});o(re);const le=se.reduce((ae,ue)=>ae+ue.tienSanPham*ue.soLuong,0)+re.reduce((ae,ue)=>ae+ue.gia*ue.soLuong,0);B(le)}ly("Đã thêm vào giỏ hàng thành công!","success")}catch(W){ly("Có lỗi xảy ra khi thêm vào giỏ hàng!","error"),console.error("Lỗi thêm vào giỏ hàng:",W)}},z=async(oe,ee)=>{const Y={MaKhachHang:"KH001",IDSanPham:oe,IDCombo:null};try{ee>0?await fetch("https://bicacuatho.azurewebsites.net/api/Cart/TangSoLuongSanPham",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)}):await fetch("https://bicacuatho.azurewebsites.net/api/Cart/GiamSoLuongSanPham",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)}),a(se=>se.map(re=>re.idSanPham===oe?{...re,soLuong:Math.max(1,re.soLuong+ee)}:re));const Z=N();B(Z-S)}catch(Z){xt.error("Không thể cập nhật số lượng"),console.error("Lỗi cập nhật số lượng:",Z)}},X=async oe=>{const ee="KH001";if((await Ce.fire({title:"Bạn có chắc không?",text:"Bạn có muốn xóa sản phẩm này khỏi giỏ hàng?",icon:"warning",showCancelButton:!0,confirmButtonText:"Có, xóa nó!",cancelButtonText:"Không, giữ lại"})).isConfirmed){const Y={MaKhachHang:ee,IDSanPham:oe,IDCombo:null};try{await fetch("https://bicacuatho.azurewebsites.net/api/Cart/XoaSanPham",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)}),a(Z=>Z.filter(se=>se.idSanPham!==oe)),xt.success("Đã xóa sản phẩm khỏi giỏ hàng")}catch(Z){xt.error("Xóa sản phẩm thất bại"),console.error("Lỗi xóa sản phẩm:",Z)}}},Q=async oe=>{const ee="KH001";if((await Ce.fire({title:"Bạn có chắc không?",text:"Bạn có muốn xóa combo này khỏi giỏ hàng?",icon:"warning",showCancelButton:!0,confirmButtonText:"Có, xóa nó!",cancelButtonText:"Không, giữ lại"})).isConfirmed){const Y={MaKhachHang:ee,IDSanPham:null,IDCombo:oe};try{await fetch("https://bicacuatho.azurewebsites.net/api/Cart/XoaCombo",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)}),o(Z=>Z.filter(se=>se.idCombo!==oe)),xt.success("Đã xóa combo khỏi giỏ hàng")}catch(Z){xt.error("Xóa combo thất bại"),console.error("Lỗi xóa combo:",Z)}}},q=async()=>{if(!b){xt.error("Vui lòng nhập mã giảm giá");return}if(!O){xt.error("Giỏ hàng không hợp lệ");return}try{const oe=await fetch(`https://bicacuatho.azurewebsites.net/api/Voucher/Validate?code=${encodeURIComponent(b)}&cartId=${O}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!oe.ok)throw new Error(`Lỗi HTTP! Trạng thái: ${oe.status}`);const ee=await oe.json();ee.success?(y(!0),M(ee.discountAmount),B(N()-ee.discountAmount),xt.success("Mã giảm giá đã được áp dụng!")):(y(!1),M(0),B(N()),xt.error(ee.message))}catch(oe){xt.error("Mã giảm giá không hợp lệ hoặc đã hết hạn."),console.error("Lỗi áp dụng mã giảm giá:",oe)}},H=async oe=>{oe.preventDefault();const ee="KH001";if(_==="cash"){const W=R();if((parseFloat(T)||0)<W){xt.error("Số tiền khách đưa không đủ để thanh toán!");return}}try{const Y=await(await fetch(`https://bicacuatho.azurewebsites.net/api/Cart/GioHangByKhachHang?id=${ee}`)).json();F(Y.id);const Z=Y.ctghSanPhamView.map(pe=>({...pe,hinhAnh:pe.hinhAnh.startsWith("data:image")?pe.hinhAnh:`data:image/jpeg;base64,${pe.hinhAnh}`}));a(Z);const se=Y.ctghComboView.map(pe=>{var Ae;return{...pe,chiTietGioHangCombo:pe.chiTietGioHangCombo,hinhAnh:(Ae=pe.hinhAnh)!=null&&Ae.startsWith("data:image")?pe.hinhAnh:pe.hinhAnh?`data:image/jpeg;base64,${pe.hinhAnh}`:"/placeholder-image.jpg",sanPhamList:pe.sanPhamList.map(ie=>{var de;return{...ie,hinhAnh:(de=ie.hinhAnh)!=null&&de.startsWith("data:image")?ie.hinhAnh:ie.hinhAnh?`data:image/jpeg;base64,${ie.hinhAnh}`:"/placeholder-image.jpg"}})}});if(o(se),b){const Ae=await(await fetch(`https://bicacuatho.azurewebsites.net/api/Voucher/Validate?code=${encodeURIComponent(b)}&cartId=${Y.id}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json();if(Ae.success)y(!0),M(Ae.discountAmount);else{y(!1),M(0),xt.error("Mã giảm giá không hợp lệ, đã xóa giảm giá"),B(N());return}}const le=N()-S,ae={cartId:Y.id,couponCode:b||null,paymentMethod:_,discountAmount:S,finalAmount:le,shippingFee:0,tenNguoiNhan:"Khách hàng offline",sdt:"N/A",diaChi:"Thanh toán tại cửa hàng"},he=await(await fetch("https://bicacuatho.azurewebsites.net/api/CheckOut/process-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)})).json();if(he.success){if(_==="cash")xt.success(he.message,{description:`Mã đơn hàng: ${he.orderId}`,duration:3e3,action:{label:"Xem chi tiết",onClick:()=>n("/payment-success",{state:{orderId:he.orderId}})}}),a([]),o([]),x(""),y(!1),M(0),B(0),w(""),n("/payment-success",{state:{orderId:he.orderId}});else if(_==="vnpay"){if(he.finalAmount!==le){xt.error(`Tổng tiền VNPay (${j(he.finalAmount)}) không khớp với kỳ vọng (${j(le)}).`);return}window.location.href=he.message}}else xt.error(he.message)}catch(W){xt.error("Đã xảy ra lỗi khi thanh toán"),console.error("Lỗi thanh toán:",W)}},G=(()=>{var ee,W,Y,Z,se,re;let oe=[...t];if(f.includes("_")){const le=f.split("_"),ae=((ee=le[0])==null?void 0:ee.trim())||"",ue=((W=le[1])==null?void 0:W.trim())||"",he=((Y=le[2])==null?void 0:Y.trim())||"";oe=oe.filter(pe=>{var me,ve,Me;const Ae=ae?(((me=pe.id)==null?void 0:me.toLowerCase())||"")===ae.toLowerCase():!0,ie=ue?(((ve=pe.mauSac)==null?void 0:ve.toLowerCase())||"")===ue.toLowerCase():!0,de=he?(((Me=pe.kichThuoc)==null?void 0:Me.toLowerCase())||"")===he.toLowerCase():!0;return he?Ae&&ie&&de:Ae&&ie})}else if(f.includes(",")){const le=f.split(","),ae=((Z=le[0])==null?void 0:Z.trim())||"",ue=((se=le[1])==null?void 0:se.trim())||"",he=((re=le[2])==null?void 0:re.trim())||"";oe=oe.filter(pe=>{var me,ve,Me;const Ae=ae?(((me=pe.id)==null?void 0:me.toLowerCase())||"")===ae.toLowerCase():!0,ie=ue?(((ve=pe.mauSac)==null?void 0:ve.toLowerCase())||"")===ue.toLowerCase():!0,de=he?(((Me=pe.kichThuoc)==null?void 0:Me.toLowerCase())||"")===he.toLowerCase():!0;return Ae&&ie&&de})}else oe=oe.filter(le=>{var ae,ue,he,pe,Ae;return(((ae=le.name)==null?void 0:ae.toLowerCase())||"").includes(f.toLowerCase())||(((ue=le.loaiSanPham)==null?void 0:ue.toLowerCase())||"").includes(f.toLowerCase())||(((he=le.id)==null?void 0:he.toString().toLowerCase())||"").includes(f.toLowerCase())||(((pe=le.mauSac)==null?void 0:pe.toLowerCase())||"").includes(f.toLowerCase())||(((Ae=le.kichThuoc)==null?void 0:Ae.toLowerCase())||"").includes(f.toLowerCase())});switch(m){case"price-asc":return oe.sort((le,ae)=>(le.donGia||0)-(ae.donGia||0));case"price-desc":return oe.sort((le,ae)=>(ae.donGia||0)-(le.donGia||0));case"name-asc":return oe.sort((le,ae)=>(le.name||"").localeCompare(ae.name||""));case"name-desc":return oe.sort((le,ae)=>(ae.name||"").localeCompare(le.name||""));default:return oe}})(),J=g*C,te=J-C,K=G.slice(te,J),ne=Math.ceil(G.length/C),ce=oe=>{p(oe)};return c?r.jsx("div",{className:"flex justify-center items-center h-screen",children:"Đang tải sản phẩm..."}):r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:r.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[r.jsx(lt,{to:"/admin",children:r.jsx(eh,{className:"w-6 h-6 hover:text-purple-500 transition-colors duration-200"})}),r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Nhân viên bán hàng"})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[r.jsx("div",{className:"lg:col-span-3",children:r.jsxs(at,{children:[r.jsx(yt,{className:"pb-3",children:r.jsx(Ct,{children:"Bán hàng tại quầy"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6 justify-between items-start sm:items-center",children:[r.jsxs("div",{className:"relative w-full sm:w-auto",children:[r.jsx(Rn,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{type:"search",placeholder:"Tìm theo tên, loại, mã, màu, kích thước hoặc mã_màu_kích thước, mã_màu, mã,màu,kích thước",className:"pl-8 w-full sm:w-[300px]",value:f,onChange:oe=>h(oe.target.value)})]}),r.jsx("div",{className:"flex gap-2 self-end items-center",children:r.jsxs("div",{className:"flex border rounded-md",children:[r.jsx(fe,{variant:d==="grid"?"secondary":"ghost",size:"sm",className:"h-9 rounded-r-none",onClick:()=>u("grid"),children:r.jsx(U2,{className:"h-4 w-4"})}),r.jsx(fe,{variant:d==="list"?"secondary":"ghost",size:"sm",className:"h-9 rounded-l-none",onClick:()=>u("list"),children:r.jsx(Um,{className:"h-4 w-4"})})]})})]}),d==="grid"?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:K.map(oe=>r.jsxs(at,{className:"hover-scale overflow-hidden",children:[r.jsx("div",{className:"h-40 bg-purple-light flex items-center justify-center",children:r.jsx("img",{src:oe.hinh&&oe.hinh[0]?`data:image/jpeg;base64,${oe.hinh[0]}`:"/placeholder-image.jpg",alt:oe.name,className:"w-full h-full object-cover"})}),r.jsxs(dt,{className:"p-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:oe.name||"Không có tên"}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Mã: ",oe.id||"N/A","_",oe.mauSac,"_",oe.kichThuoc]}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Thương hiệu: ",oe.thuongHieu||"Không xác định"]}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1 flex items-center",children:["Màu sắc: ",oe.mauSac||"N/A",B1e(oe.mauSac)&&r.jsx("span",{className:"inline-block w-4 h-4 ml-2 rounded-full border border-gray-300",style:{backgroundColor:`#${oe.mauSac}`}})]}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Kích thước: ",oe.kichThuoc||"N/A"]}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Chất liệu: ",oe.chatLieu||"N/A"]}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Số lượng: ",oe.soLuong||0]})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[r.jsxs(Vt,{variant:"outline",className:"bg-secondary border-0 text-white",children:[r.jsx(Ir,{className:"h-3 w-3 mr-1"})," ",oe.loaiSanPham||"N/A"]}),r.jsx(Vt,{variant:oe.soLuong>0?"default":"destructive",className:"flex items-center px-2",children:oe.trangThai===0?"Tạm Ngưng Bán":"Đang Bán"})]}),r.jsx("div",{className:"flex justify-between items-center mt-3",children:r.jsx("span",{className:"font-bold text-purple",children:j(oe.donGia||0)})}),r.jsx("div",{className:"flex gap-3 mt-3",children:r.jsxs(fe,{onClick:()=>V(oe),className:"flex-1 bg-crocus-600 hover:bg-crocus-700",disabled:oe.soLuong===0,children:[r.jsx(vs,{className:"mr-2 h-4 w-4"})," Thêm"]})})]})]},oe.variationId))}):r.jsx("div",{className:"space-y-4",children:K.map(oe=>r.jsxs(at,{className:"flex",children:[r.jsx("div",{className:"w-32 h-32 bg-gray-100 flex items-center justify-center",children:r.jsx("img",{src:oe.hinh&&oe.hinh[0]?`data:image/jpeg;base64,${oe.hinh[0]}`:"/placeholder-image.jpg",alt:oe.name,className:"object-cover w-full h-full"})}),r.jsxs(dt,{className:"flex-1 p-4",children:[r.jsx("h3",{className:"font-semibold",children:oe.name||"Không có tên"}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Mã: ",oe.id||"N/A"]}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Màu sắc: ",oe.mauSac||"N/A"]}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Kích thước: ",oe.kichThuoc||"N/A"]}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Giá: ",j(oe.donGia||0)]}),r.jsx("div",{className:"flex gap-3 mt-3",children:r.jsxs(fe,{onClick:()=>V(oe),className:"flex-1 bg-crocus-600 hover:bg-crocus-700",disabled:oe.soLuong===0,children:[r.jsx(vs,{className:"mr-2 h-4 w-4"})," Thêm"]})})]})]},oe.variationId))}),r.jsx("div",{className:"mt-6 flex justify-center gap-2 flex-wrap",children:Array.from({length:ne},(oe,ee)=>ee+1).map(oe=>r.jsx(fe,{size:"sm",variant:oe===g?"default":"outline",onClick:()=>ce(oe),children:oe},oe))})]})]})}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-border sticky top-4",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Giỏ hàng"}),s.length>0||i.length>0?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-4 mb-6",children:[s.map(oe=>r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center p-2 bg-gray-50 rounded-md",children:[r.jsx("div",{className:"w-full sm:w-16 h-16 bg-muted rounded-md overflow-hidden mr-2 mb-2 sm:mb-0",children:r.jsx("img",{src:oe.hinhAnh,alt:oe.tenSanPham,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-sm",children:oe.tenSanPham}),r.jsxs("p",{className:"text-muted-foreground text-xs",children:[oe.mauSac,", ",oe.kichThuoc]}),r.jsxs("p",{className:"text-muted-foreground text-xs",children:[j(oe.tienSanPham)," x ",oe.soLuong]})]}),r.jsxs("div",{className:"flex items-center mt-2 sm:mt-0",children:[r.jsx("button",{onClick:()=>z(oe.idSanPham,-1),className:"p-1 rounded-md hover:bg-muted",children:r.jsx(rx,{size:12})}),r.jsx("span",{className:"mx-1 w-6 text-center text-xs",children:oe.soLuong}),r.jsx("button",{onClick:()=>z(oe.idSanPham,1),className:"p-1 rounded-md hover:bg-muted",children:r.jsx(cr,{size:12})}),r.jsx("button",{onClick:()=>X(oe.idSanPham),className:"ml-2 p-1 text-red-500 hover:bg-red-50 rounded-md",children:r.jsx(Ma,{size:12})})]})]},oe.idSanPham)),i.map(oe=>r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center p-2 bg-gray-50 rounded-md",children:[r.jsx("div",{className:"w-full sm:w-16 h-16 bg-muted rounded-md overflow-hidden mr-2 mb-2 sm:mb-0",children:r.jsx("img",{src:oe.hinhAnh,alt:oe.tenCombo,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-sm",children:oe.tenCombo}),r.jsxs("p",{className:"text-muted-foreground text-xs",children:["Gồm: ",oe.sanPhamList.length," sản phẩm"]}),r.jsxs("p",{className:"text-muted-foreground text-xs",children:[j(oe.gia)," x ",oe.soLuong]})]}),r.jsxs("div",{className:"flex items-center mt-2 sm:mt-0",children:[r.jsx("span",{className:"mx-1 w-6 text-center text-xs",children:oe.soLuong}),r.jsx(fe,{variant:"outline",size:"sm",className:"text-xs px-1 py-0 h-6",onClick:()=>L(oe),children:"Cập nhật"}),r.jsx("button",{onClick:()=>Q(oe.idCombo),className:"ml-2 p-1 text-red-500 hover:bg-red-50 rounded-md",children:r.jsx(Ma,{size:12})})]})]},oe.idCombo)),r.jsx("div",{className:"border-t my-3"}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Tổng tiền gốc"}),r.jsx("span",{children:j(N())})]}),v&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Giảm giá"}),r.jsxs("span",{children:["-",j(I())]})]}),r.jsxs("div",{className:"border-t pt-3 flex justify-between font-medium",children:[r.jsx("span",{children:"Tổng tiền"}),r.jsx("span",{className:"text-lg",children:j(R())})]})]}),r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(je,{placeholder:"Mã giảm giá",value:b,onChange:oe=>x(oe.target.value),className:"mr-2"}),r.jsx(fe,{size:"sm",onClick:q,children:"Áp Dụng"})]}),r.jsxs("form",{onSubmit:H,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{children:"Phương thức thanh toán"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("label",{className:"flex items-center text-sm",children:[r.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:_==="cash",onChange:()=>{E("cash"),w("")},className:"mr-1"}),"Tiền mặt"]}),r.jsxs("label",{className:"flex items-center text-sm",children:[r.jsx("input",{type:"radio",name:"paymentMethod",value:"vnpay",checked:_==="vnpay",onChange:()=>{E("vnpay"),w("")},className:"mr-1"}),"VNPay"]})]}),_==="cash"&&r.jsxs("div",{className:"space-y-2 mt-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"customerPaid",children:"Số tiền khách đưa (VND)"}),r.jsx(je,{id:"customerPaid",type:"number",value:T,onChange:oe=>w(oe.target.value),placeholder:"Nhập số tiền khách đưa",min:"0",required:!0})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-medium",children:"Số tiền thối lại:"}),r.jsx("span",{className:U()>=0?"text-green-600":"text-red-600",children:j(U())})]})]})]}),r.jsx(fe,{type:"submit",className:"w-full",disabled:!O||_==="cash"&&parseFloat(T)<R(),children:_==="cash"?"Xác nhận thanh toán tiền mặt":"Thanh toán qua VNPay"})]})]}):r.jsxs("div",{className:"text-center",children:[r.jsx(vs,{className:"mx-auto h-12 w-12 text-muted-foreground/60 mb-2"}),r.jsx("p",{className:"text-muted-foreground",children:"Chưa có sản phẩm nào."})]})]})})]}),r.jsx(ld,{open:!!D,onOpenChange:oe=>!oe&&L(null),children:r.jsxs(cd,{children:[r.jsx(Yo,{className:"fixed inset-0 bg-black/50"}),r.jsx(Jo,{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})]})})]})},gl=n=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(n||0),E1e=n=>n?new Date(n).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"N/A",M1e=()=>{var x,v,y,S,M,P,B;const[n]=yG(),t=dr(),e=n.get("orderId"),[s,a]=k.useState(null),[i,o]=k.useState(!0),[c,l]=k.useState(null),[d,u]=k.useState(""),[f,h]=k.useState(!1);k.useEffect(()=>{(async()=>{if(!e){l("Không tìm thấy mã đơn hàng"),o(!1);return}try{o(!0);const L=JSON.parse(localStorage.getItem("user")||"{}"),O=L==null?void 0:L.maNguoiDung;if(O){const _=(await St.get(`https://bicacuatho.azurewebsites.net/api/user/orders/${O}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;if(Array.isArray(_)){const E=_.find(T=>T.maDonHang.toString()===e);if(E)a(E);else{const w=(await St.get(`https://bicacuatho.azurewebsites.net/api/user/orders/bill/${e}`)).data;if(w&&typeof w=="object"&&w.maDonHang)a(w);else throw new Error("Order not found in user orders or bill API")}}else throw new Error("Invalid response format from orders API")}else{const _=(await St.get(`https://bicacuatho.azurewebsites.net/api/user/orders/bill/${e}`)).data;if(_&&typeof _=="object"&&_.maDonHang)a(_);else throw new Error("Invalid order data received")}}catch(L){console.error("Error fetching order detail:",L),l("Không thể tải thông tin đơn hàng");try{const F=(await St.get(`https://bicacuatho.azurewebsites.net/api/user/orders/bill/${e}`)).data;if(F&&typeof F=="object"&&F.maDonHang)a(F),l(null);else throw new Error("Invalid fallback data")}catch(O){console.error("Fallback API also failed:",O),l("Không thể tải thông tin đơn hàng từ cả hai nguồn")}}finally{o(!1)}})()},[e]),k.useEffect(()=>{(async()=>{if(s!=null&&s.maDonHang)try{h(!0);const O=(await St.get(`https://bicacuatho.azurewebsites.net/api/OrderNotification/test-qr-base64/${s.maDonHang}`)).data;if(O&&O.dataUrl)u(O.dataUrl);else if(O&&O.qrCode)u(`data:image/png;base64,${O.qrCode}`);else{const F=`http://localhost:8080/user/hoadon?orderId=${s.maDonHang}`;m(F)}}catch(L){console.error("Error fetching QR code:",L);const O=`http://localhost:8080/user/hoadon?orderId=${s.maDonHang}`;m(O)}finally{h(!1)}})()},[s]);const m=D=>{try{const L=`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(D)}`;u(L)}catch(L){console.error("Fallback QR generation failed:",L)}},A=D=>D&&typeof D=="object"&&typeof D.maDonHang=="number"&&Array.isArray(D.sanPhams);if(i)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Đang tải thông tin đơn hàng..."})]})});if(c||!s||!A(s))return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"📦"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Không tìm thấy đơn hàng"}),r.jsx("p",{className:"text-gray-600 mb-4",children:c||"Đơn hàng không tồn tại hoặc dữ liệu không hợp lệ"}),r.jsx("button",{onClick:()=>t("/user/orders"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Quay lại lịch sử đơn hàng"})]})});const g=()=>s.paymentStatusText?s.paymentStatusText:s.hinhThucThanhToan==="VNPay"||s.hinhThucThanhToan==="COD"&&s.trangThaiDonHang===3?"Đã thanh toán":"Chưa thanh toán",p=()=>({0:"Chờ xác nhận",1:"Đang xử lý",2:"Đang giao hàng",3:"Đã hoàn thành",4:"Đã thanh toán",5:"Đã hủy"})[s.trangThaiDonHang]||"Không xác định",b=D=>{var L,O,F;return r.jsx("div",{className:"border-b border-gray-100 pb-4 mb-4 last:border-b-0",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex-shrink-0 overflow-hidden",children:r.jsx("img",{src:D.hinhAnh||"/placeholder.svg",alt:D.laCombo?(L=D.combo)==null?void 0:L.tenCombo:D.tenSanPham,className:"w-full h-full object-cover",onError:_=>{_.currentTarget.src="/placeholder.svg"}})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:D.laCombo?(O=D.combo)==null?void 0:O.tenCombo:D.tenSanPham}),!D.laCombo&&(D.mauSac||D.kichThuoc)&&r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[D.mauSac&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Màu:"}),r.jsxs("div",{className:"flex items-center space-x-1",children:[D.mauSacHex&&r.jsx("div",{className:"w-3 h-3 rounded-full border border-gray-300",style:{backgroundColor:D.mauSacHex}}),r.jsx("span",{className:"text-xs font-medium bg-gray-100 px-2 py-0.5 rounded",children:D.mauSac})]})]}),D.kichThuoc&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Size:"}),r.jsx("span",{className:"text-xs font-medium bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:D.kichThuoc})]})]}),D.laCombo&&((F=D.combo)==null?void 0:F.sanPhamsTrongCombo)&&r.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded border",children:[r.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2",children:"Sản phẩm trong combo:"}),r.jsx("div",{className:"space-y-1",children:D.combo.sanPhamsTrongCombo.map((_,E)=>r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[_.hinhAnh&&r.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded overflow-hidden flex-shrink-0",children:r.jsx("img",{src:_.hinhAnh,alt:_.tenSanPham,className:"w-full h-full object-cover",onError:T=>{T.currentTarget.src="/placeholder.svg"}})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-800",children:_.tenSanPham}),r.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[_.mauSac&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("span",{children:"Màu:"}),_.mauSacHex&&r.jsx("div",{className:"w-2 h-2 rounded-full border border-gray-300",style:{backgroundColor:_.mauSacHex}}),r.jsx("span",{className:"bg-gray-100 px-1 py-0.5 rounded text-xs",children:_.mauSac})]}),_.kichThuoc&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("span",{children:"Size:"}),r.jsx("span",{className:"bg-blue-100 text-blue-800 px-1 py-0.5 rounded text-xs",children:_.kichThuoc})]})]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-gray-600",children:["x",_.soLuong]}),r.jsx("div",{className:"font-medium",children:gl(_.gia)})]})]},E))})]}),r.jsxs("div",{className:"flex items-center justify-between mt-2",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:[D.soLuong," x ",gl(D.gia)]}),r.jsx("span",{className:"font-medium text-gray-900",children:gl(D.thanhTien)})]})]})]})},D.maChiTietDh)};return r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[r.jsxs("div",{className:"text-center border-b border-gray-200 pb-6 mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-pink-600 mb-2",children:"📦 UltraStore"}),r.jsx("h2",{className:"text-xl font-semibold text-pink-600",children:"Đơn hàng đã được xác nhận"}),r.jsxs("p",{className:"text-gray-600 mt-2",children:["Cảm ơn ",r.jsx("strong",{children:s.tenNguoiNhan||((x=s.thongTinNguoiDung)==null?void 0:x.tenNguoiNhan)})," đã đặt hàng tại UltraStore!"]})]}),r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"text-green-600 mr-2",children:"✅"}),r.jsxs("span",{className:"font-medium text-green-800",children:["Trạng thái: ",p()]})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"📋 Thông tin đơn hàng"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Mã đơn hàng:"}),r.jsxs("span",{className:"ml-2 text-pink-600 font-bold text-lg",children:["ORD-",s.maDonHang.toString().padStart(5,"0")]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Ngày đặt:"}),r.jsx("span",{className:"ml-2 text-gray-900",children:E1e(s.ngayDat)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Phương thức thanh toán:"}),r.jsx("span",{className:"ml-2 text-gray-900",children:s.hinhThucThanhToan||"COD"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Trạng thái thanh toán:"}),r.jsx("span",{className:`ml-2 font-medium ${g()==="Đã thanh toán"?"text-green-600":"text-orange-600"}`,children:g()})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"🛍️ Sản phẩm đã đặt"}),r.jsx("div",{className:"space-y-4",children:(v=s.sanPhams)==null?void 0:v.map(b)})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"💰 Tổng kết đơn hàng"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Tổng phụ:"}),r.jsx("span",{className:"font-medium",children:gl(((y=s.thongTinDonHang)==null?void 0:y.tongTien)||s.tongTien)})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Vận chuyển:"}),r.jsx("span",{className:"font-medium text-green-600",children:gl(((S=s.thongTinDonHang)==null?void 0:S.phiGiaoHang)||0)})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Giảm giá:"}),r.jsx("span",{className:`font-medium ${(((M=s.thongTinDonHang)==null?void 0:M.soTienGiam)||0)>0?"text-red-600":"text-gray-600"}`,children:(((P=s.thongTinDonHang)==null?void 0:P.soTienGiam)||0)>0?`-${gl(s.thongTinDonHang.soTienGiam)}`:gl(0)})]}),r.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Tổng cộng:"}),r.jsx("span",{className:"text-xl font-bold text-pink-600",children:gl(((B=s.thongTinDonHang)==null?void 0:B.thanhTienCuoiCung)||s.finalAmount)})]})})]})]}),s.thongTinNguoiDung&&r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"🏠 Địa chỉ giao hàng"}),r.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[r.jsx("div",{children:r.jsx("strong",{children:s.thongTinNguoiDung.tenNguoiNhan})}),r.jsx("div",{children:s.thongTinNguoiDung.sdt}),r.jsx("div",{children:s.thongTinNguoiDung.diaChi})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"📱 Quét mã QR để xem hóa đơn trực tuyến"}),r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"relative w-48 h-48 bg-white border-2 border-pink-300 rounded-lg flex items-center justify-center shadow-lg",children:f?r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-pink-600 mx-auto mb-2"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Đang tạo QR..."})]}):d?r.jsx("img",{src:d,alt:`QR Code cho đơn hàng ORD-${s.maDonHang.toString().padStart(5,"0")}`,className:"w-44 h-44 object-contain rounded",onError:D=>{console.error("QR image failed to load");const L=`http://localhost:8080/user/hoadon?orderId=${s.maDonHang}`;m(L)}}):r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl mb-2 text-gray-400",children:"📱"}),r.jsx("div",{className:"text-sm text-gray-500",children:"QR Code không khả dụng"}),r.jsx("button",{onClick:()=>{const D=`http://localhost:8080/user/hoadon?orderId=${s.maDonHang}`;m(D)},className:"mt-2 text-pink-600 hover:text-pink-700 text-sm underline",children:"Thử tạo lại"})]})})}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Quét mã QR này để truy cập hóa đơn trực tuyến bất cứ lúc nào"}),r.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Hoặc truy cập trực tiếp:"}),r.jsxs("a",{href:`http://localhost:8080/user/hoadon?orderId=${s.maDonHang}`,className:"text-pink-600 hover:text-pink-700 text-sm font-medium underline break-all",target:"_blank",rel:"noopener noreferrer",children:["http://localhost:8080/user/hoadon?orderId=",s.maDonHang]})]})]}),r.jsx("div",{className:"text-center mt-8",children:r.jsx("button",{onClick:()=>t("/user/orders"),className:"bg-pink-600 text-white px-8 py-3 rounded-lg hover:bg-pink-700 transition-colors font-medium",children:"← Quay lại lịch sử đơn hàng"})})]})})},P1e=({orderId:n,onClose:t})=>{var A,g,p,b;const[e,s]=k.useState(null),[a,i]=k.useState(!0),[o,c]=k.useState(null),l=x=>{if(!x)return{mauSac:"",kichThuoc:"",colorHex:""};const v=x.split("_");if(v.length>=3){const y=v[1],S=v[2],M=B=>({ff0000:"Đỏ","0000ff":"Xanh dương","00ff00":"Xanh lá",ffffff:"Trắng","000000":"Đen",ff00ff:"Hồng","0c06f5":"Xanh navy",ffff00:"Vàng",ffa500:"Cam",800080:"Tím",a52a2a:"Nâu",808080:"Xám",c0c0c0:"Bạc",ffc0cb:"Hồng nhạt"})[B.toLowerCase()]||`#${B}`,P=B=>({S:"S",M:"M",L:"L",XL:"XL",XXL:"XXL",XXXL:"XXXL"})[B]||B;return{mauSac:M(y),kichThuoc:P(S),colorHex:`#${y}`}}return{mauSac:"",kichThuoc:"",colorHex:""}},d=({colorName:x,colorHex:v,className:y="text-xs"})=>r.jsxs("div",{className:`flex items-center gap-2 ${y}`,children:[r.jsx("span",{className:"text-sm font-medium",children:"Màu:"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300 shadow-sm",style:{backgroundColor:v},title:x}),r.jsx(Vt,{variant:"outline",className:"text-xs",children:x})]})]}),u=async()=>{var x,v,y;try{i(!0),c(null);const S=localStorage.getItem("token");console.log(`[DEBUG] Fetching order details for order ${n}`);const M=await St.get("https://bicacuatho.azurewebsites.net/api/orders",{headers:{Authorization:`Bearer ${S}`}});console.log("[DEBUG] API Response:",M.data);const B=M.data.find(L=>L.maDonHang===n);if(!B)throw new Error("Không tìm thấy đơn hàng");console.log("[DEBUG] Found order:",B);const D=((x=B.chiTietSanPhams)==null?void 0:x.map(L=>{console.log("[DEBUG] Processing product:",L);const O=!L.laCombo&&L.maSanPham?l(L.maSanPham):{mauSac:"",kichThuoc:"",colorHex:""};let F=null;return L.combo&&L.combo.sanPhamsTrongCombo&&(console.log("[DEBUG] Processing combo items:",L.combo.sanPhamsTrongCombo),F={tenCombo:L.combo.tenCombo,giaCombo:L.combo.giaCombo,sanPhamsTrongCombo:L.combo.sanPhamsTrongCombo.map(_=>{const E=l(_.maSanPham);return console.log(`[DEBUG] Combo item ${_.maSanPham}:`,E),{tenSanPham:_.tenSanPham,soLuong:_.soLuong,gia:_.gia,thanhTien:_.thanhTien,maSanPham:_.maSanPham,hinhAnh:_.hinhAnh,mauSac:_.mauSac||E.mauSac,kichThuoc:_.kichThuoc||E.kichThuoc,colorHex:E.colorHex}})}),{maChiTietDh:L.maChiTietDh,laCombo:L.laCombo,tenSanPham:L.tenSanPham,soLuong:L.soLuong,gia:L.gia,thanhTien:L.thanhTien,maSanPham:L.maSanPham,hinhAnh:L.hinhAnh,mauSac:L.mauSac||O.mauSac,kichThuoc:L.kichThuoc||O.kichThuoc,colorHex:O.colorHex,combo:F}}))||[];s({maDonHang:B.maDonHang,tenNguoiNhan:B.tenNguoiNhan,ngayDat:B.ngayDat,trangThaiDonHang:B.trangThaiDonHang,trangThaiThanhToan:B.trangThaiThanhToan,hinhThucThanhToan:B.hinhThucThanhToan,lyDoHuy:B.lyDoHuy,tongTien:B.tongTien||0,finalAmount:B.finalAmount||0,shippingFee:B.shippingFee||0,discountAmount:B.discountAmount||0,chiTietSanPhams:D,diaChi:B.diaChi,sdt:B.sdt,thongTinNguoiDung:{tenNguoiNhan:B.tenNguoiNhan,diaChi:B.diaChi||((v=B.thongTinNguoiDung)==null?void 0:v.diaChi)||"",sdt:B.sdt||((y=B.thongTinNguoiDung)==null?void 0:y.sdt)||"",tenNguoiDat:B.hoTenKhachHang||""}})}catch(S){console.error("[ERROR] Error fetching order detail:",S),c("Không thể tải chi tiết đơn hàng"),Wt.error("Không thể tải chi tiết đơn hàng")}finally{i(!1)}};k.useEffect(()=>{n&&u()},[n]);const f=x=>{switch(x){case 0:return"Chưa xác nhận";case 1:return"Đang xử lý";case 2:return"Đang giao hàng";case 3:return"Hoàn thành";case 4:return"Đã hủy";default:return"Không xác định"}},h=x=>{switch(x){case 0:return"bg-yellow-100 text-yellow-800";case 1:return"bg-blue-100 text-blue-800";case 2:return"bg-orange-100 text-orange-800";case 3:return"bg-green-100 text-green-800";case 4:return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},m=(x,v)=>x===1&&v===3?"Đã thanh toán":"Chưa thanh toán";return a?r.jsx(Yt,{open:!0,onOpenChange:t,children:r.jsxs(Kt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[r.jsxs(rn,{children:[r.jsx(Zt,{children:"Chi tiết đơn hàng"}),r.jsx(fe,{variant:"ghost",size:"icon",className:"absolute right-4 top-4",onClick:t,children:r.jsx(st,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"flex justify-center items-center py-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{children:"Đang tải chi tiết đơn hàng..."})]})})]})}):o||!e?r.jsx(Yt,{open:!0,onOpenChange:t,children:r.jsxs(Kt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[r.jsxs(rn,{children:[r.jsx(Zt,{children:"Chi tiết đơn hàng"}),r.jsx(fe,{variant:"ghost",size:"icon",className:"absolute right-4 top-4",onClick:t,children:r.jsx(st,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"flex justify-center items-center py-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-red-600",children:o||"Không thể tải chi tiết đơn hàng"}),r.jsx(fe,{variant:"outline",onClick:u,className:"mt-4",children:"Thử lại"})]})})]})}):r.jsx(Yt,{open:!0,onOpenChange:t,children:r.jsxs(Kt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[r.jsxs(rn,{children:[r.jsxs(Zt,{children:["Chi tiết đơn hàng #",e.maDonHang]}),r.jsx(fe,{variant:"ghost",size:"icon",className:"absolute right-4 top-4",onClick:t,children:r.jsx(st,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-semibold mb-3",children:"Thông tin đơn hàng"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Mã đ hàng:"})," ",e.maDonHang]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Ngày đặt:"})," ",e.ngayDat]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Trạng thái:"}),r.jsx(Vt,{className:`ml-2 ${h(e.trangThaiDonHang)}`,children:f(e.trangThaiDonHang)})]})]}),r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Thanh toán:"})," ",m(e.trangThaiThanhToan,e.trangThaiDonHang)]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Hình thức:"})," ",e.hinhThucThanhToan]}),e.lyDoHuy&&r.jsxs("p",{children:[r.jsx("strong",{children:"Lý do hủy:"})," ",r.jsx("span",{className:"text-red-600",children:e.lyDoHuy})]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-semibold mb-3",children:"Thông tin người nhận"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Tên người nhận:"})," ",e.tenNguoiNhan||"Chưa có thông tin"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Tên người đặt:"})," ",((A=e.thongTinNguoiDung)==null?void 0:A.tenNguoiDat)||"Chưa có thông tin"]})]}),r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Số điện thoại:"})," ",e.sdt||((g=e.thongTinNguoiDung)==null?void 0:g.sdt)||"Chưa có thông tin"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Địa chỉ:"})," ",e.diaChi||((p=e.thongTinNguoiDung)==null?void 0:p.diaChi)||"Chưa có thông tin"]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-semibold mb-3",children:"Chi tiết sản phẩm"}),r.jsx("div",{className:"space-y-4",children:e.chiTietSanPhams&&e.chiTietSanPhams.length>0?e.chiTietSanPhams.map((x,v)=>{var y,S;return r.jsx("div",{className:"border border-gray-200 rounded-lg p-4 bg-white",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[x.hinhAnh&&r.jsx("img",{src:x.hinhAnh,alt:x.tenSanPham,className:"w-20 h-20 object-cover rounded-md",onError:M=>{const P=M.target;P.src="/placeholder.svg"}}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium",children:x.tenSanPham}),x.maSanPham&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Mã SP: ",x.maSanPham]}),!x.laCombo&&r.jsxs("div",{className:"flex gap-4 mt-2",children:[x.mauSac&&x.colorHex&&r.jsx(d,{colorName:x.mauSac,colorHex:x.colorHex}),x.kichThuoc&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Size:"}),r.jsx(Vt,{variant:"outline",className:"text-xs",children:x.kichThuoc})]})]}),r.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Số lượng: ",x.soLuong," × ",(y=x.gia)==null?void 0:y.toLocaleString("vi-VN"),"đ"]}),r.jsxs("p",{className:"font-semibold text-blue-600",children:["Thành tiền: ",(S=x.thanhTien)==null?void 0:S.toLocaleString("vi-VN"),"đ"]}),x.combo&&r.jsxs("div",{className:"mt-3 pl-4 border-l-2 border-blue-200",children:[r.jsx("h5",{className:"font-medium text-blue-700",children:"Sản phẩm trong combo:"}),r.jsx("div",{className:"space-y-2 mt-2",children:x.combo.sanPhamsTrongCombo.map((M,P)=>{var B,D;return r.jsxs("div",{className:"flex items-center space-x-3 text-sm bg-blue-50 p-3 rounded",children:[M.hinhAnh&&r.jsx("img",{src:M.hinhAnh,alt:M.tenSanPham,className:"w-12 h-12 object-cover rounded",onError:L=>{const O=L.target;O.src="/placeholder.svg"}}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:M.tenSanPham}),r.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:["Mã SP: ",M.maSanPham]}),r.jsxs("div",{className:"flex gap-3 mt-1",children:[M.mauSac&&M.colorHex&&r.jsx(d,{colorName:M.mauSac,colorHex:M.colorHex,className:"text-xs"}),M.kichThuoc&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-xs font-medium",children:"Size:"}),r.jsx(Vt,{variant:"outline",className:"text-xs",children:M.kichThuoc})]})]}),r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["SL: ",M.soLuong," × ",(B=M.gia)==null?void 0:B.toLocaleString("vi-VN"),"đ = ",(D=M.thanhTien)==null?void 0:D.toLocaleString("vi-VN"),"đ"]})]})]},P)})})]})]})]})},v)}):r.jsx("p",{className:"text-gray-500",children:"Không có thông tin chi tiết sản phẩm"})})]}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-semibold mb-3",children:"Chi tiết thanh toán"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Tổng tiền hàng:"}),r.jsxs("span",{children:[(b=e.tongTien)==null?void 0:b.toLocaleString("vi-VN"),"đ"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Phí vận chuyển:"}),r.jsxs("span",{children:[(e.shippingFee||0).toLocaleString("vi-VN"),"đ"]})]}),r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Giảm giá:"}),r.jsxs("span",{children:["-",(e.discountAmount||0).toLocaleString("vi-VN"),"đ"]})]}),r.jsx("hr",{className:"my-2"}),r.jsxs("div",{className:"flex justify-between items-center font-bold text-lg",children:[r.jsx("span",{children:"Tổng thanh toán:"}),r.jsxs("span",{className:"text-blue-600",children:[(e.finalAmount||e.tongTien||0).toLocaleString("vi-VN"),"đ"]})]})]})]})]})]})})},Br=k.forwardRef(({className:n,...t},e)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:e,className:Ue("w-full caption-bottom text-sm",n),...t})}));Br.displayName="Table";const Er=k.forwardRef(({className:n,...t},e)=>r.jsx("thead",{ref:e,className:Ue("[&_tr]:border-b",n),...t}));Er.displayName="TableHeader";const Mr=k.forwardRef(({className:n,...t},e)=>r.jsx("tbody",{ref:e,className:Ue("[&_tr:last-child]:border-0",n),...t}));Mr.displayName="TableBody";const D1e=k.forwardRef(({className:n,...t},e)=>r.jsx("tfoot",{ref:e,className:Ue("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n),...t}));D1e.displayName="TableFooter";const Rt=k.forwardRef(({className:n,...t},e)=>r.jsx("tr",{ref:e,className:Ue("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",n),...t}));Rt.displayName="TableRow";const Qe=k.forwardRef(({className:n,...t},e)=>r.jsx("th",{ref:e,className:Ue("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",n),...t}));Qe.displayName="TableHead";const He=k.forwardRef(({className:n,...t},e)=>r.jsx("td",{ref:e,className:Ue("p-4 align-middle [&:has([role=checkbox])]:pr-0",n),...t}));He.displayName="TableCell";const I1e=k.forwardRef(({className:n,...t},e)=>r.jsx("caption",{ref:e,className:Ue("mt-4 text-sm text-muted-foreground",n),...t}));I1e.displayName="TableCaption";const O1e=({currentPage:n,totalPages:t,onPageChange:e})=>{if(t<=1)return null;const s=()=>{const i=[],o=[],c=Math.max(2,n-2),l=Math.min(t-1,n+2);for(let d=c;d<=l;d++)i.push(d);return n-2>2?o.push(1,"..."):o.push(1),o.push(...i),n+2<t-1?o.push("...",t):t>1&&o.push(t),o};return r.jsxs("div",{className:"flex justify-center items-center gap-2 mt-6",children:[r.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>e(n-1),disabled:n===1,className:"flex items-center gap-1",children:[r.jsx(zr,{className:"h-4 w-4"}),"Trước"]}),r.jsx("div",{className:"flex items-center gap-1",children:s().map((a,i)=>r.jsx(Ne.Fragment,{children:a==="..."?r.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."}):r.jsx(fe,{variant:a===n?"default":"outline",size:"sm",onClick:()=>e(a),className:`min-w-[40px] ${a===n?"bg-blue-600 text-white hover:bg-blue-700":"hover:bg-gray-100"}`,children:a})},i))}),r.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>e(n+1),disabled:n===t,className:"flex items-center gap-1",children:["Sau",r.jsx(xr,{className:"h-4 w-4"})]})]})},aA=()=>{const[n,t]=k.useState([]),[e,s]=k.useState([]),[a,i]=k.useState({all:0,unconfirmed:0,processing:0,delivering:0,completed:0,canceled:0}),[o,c]=k.useState(""),[l,d]=k.useState(null),[u,f]=k.useState(!1),[h,m]=k.useState(!1),[A,g]=k.useState(""),[p,b]=k.useState(null),[x,v]=k.useState("all"),[y,S]=k.useState(1),[M,P]=k.useState(1),[B,D]=k.useState(!1),[L,O]=k.useState(null),[F,_]=k.useState(!0),E=10,T=["Khách hàng không muốn mua nữa","Hết hàng","Khách hủy đơn","Sai thông tin đơn hàng","Khác"],w=async()=>{try{_(!0);const J=localStorage.getItem("token"),te=await St.get("https://bicacuatho.azurewebsites.net/api/orders/current-user",{headers:{Authorization:`Bearer ${J}`}});console.log("✅ Current user from API:",te.data),O(te.data),localStorage.setItem("userId",te.data.maNguoiDung),localStorage.setItem("role",te.data.vaiTro.toString()),localStorage.setItem("user",JSON.stringify(te.data))}catch(J){console.error("❌ Error fetching current user:",J),Wt.error("Không thể lấy thông tin người dùng");const te=localStorage.getItem("user");if(te)try{const K=JSON.parse(te);O({maNguoiDung:K.maNguoiDung||localStorage.getItem("userId")||"",fullName:K.fullName||K.hoTen||"Unknown",email:K.email||"",vaiTro:parseInt(K.vaiTro||localStorage.getItem("role")||"2"),isAdmin:(K.vaiTro||localStorage.getItem("role"))==="1",isStaff:(K.vaiTro||localStorage.getItem("role"))==="2"})}catch(K){console.error("Error parsing stored user:",K)}}finally{_(!1)}},C=J=>L?J.canProcess!==void 0?J.canProcess:L.isAdmin?!0:L.isStaff?!J.maNhanVien||J.maNhanVien===L.maNguoiDung:!1:!1,j=J=>({all:J.length,unconfirmed:J.filter(te=>te.trangThaiDonHang===0).length,processing:J.filter(te=>te.trangThaiDonHang===1).length,delivering:J.filter(te=>te.trangThaiDonHang===2).length,completed:J.filter(te=>te.trangThaiDonHang===3).length,canceled:J.filter(te=>te.trangThaiDonHang===4).length}),N=async(J=!1)=>{try{D(!0);const te=localStorage.getItem("token");J&&S(1);const K=J?1:y;if(x==="canceled"){const ne=await St.get(`https://bicacuatho.azurewebsites.net/api/orders/cancelled?page=${K}&pageSize=${E}`,{headers:{Authorization:`Bearer ${te}`}});if(console.log("Fetched cancelled orders:",ne.data),ne.data&&ne.data.data){const ce=ne.data.data.map(ee=>({maDonHang:ee.maDonHang,tenNguoiNhan:ee.tenNguoiNhan,ngayDat:ee.ngayDat,trangThaiDonHang:ee.trangThaiDonHang,trangThaiThanhToan:ee.trangThaiThanhToan,hinhThucThanhToan:ee.hinhThucThanhToan,lyDoHuy:ee.lyDoHuy,tenSanPhamHoacCombo:ee.tenSanPhamHoacCombo,maNguoiDung:ee.maNguoiDung,hoTenKhachHang:ee.hoTenKhachHang,hoTenNhanVien:ee.hoTenNhanVien,maNhanVien:ee.maNhanVien,tongTien:ee.tongTien,diaChi:ee.diaChi,soDienThoai:ee.soDienThoai,canProcess:ee.canProcess})),oe=R(ce);s(oe),P(ne.data.pagination.totalPages),i(ee=>({...ee,canceled:ne.data.pagination.totalRecords}))}}else{const ne=await St.get("https://bicacuatho.azurewebsites.net/api/orders",{headers:{Authorization:`Bearer ${te}`}});console.log("Fetched all orders:",ne.data),t(ne.data);const ce=j(ne.data);try{const le=await St.get("https://bicacuatho.azurewebsites.net/api/orders/cancelled?page=1&pageSize=1",{headers:{Authorization:`Bearer ${te}`}});ce.canceled=le.data.pagination.totalRecords,ce.all=ne.data.length+ce.canceled}catch(le){console.warn("Could not fetch cancelled count:",le)}i(ce);const oe=I(ne.data,x),ee=R(oe),W=ee.length,Y=Math.ceil(W/E);P(Y);const Z=(K-1)*E,se=Z+E,re=ee.slice(Z,se);s(re)}}catch(te){console.error("Error fetching orders:",te),Wt.error("Có lỗi xảy ra khi lấy danh sách đơn hàng.")}finally{D(!1)}},I=(J,te)=>{switch(te){case"all":return J;case"unconfirmed":return J.filter(K=>K.trangThaiDonHang===0);case"processing":return J.filter(K=>K.trangThaiDonHang===1);case"delivering":return J.filter(K=>K.trangThaiDonHang===2);case"completed":return J.filter(K=>K.trangThaiDonHang===3);case"canceled":return J.filter(K=>K.trangThaiDonHang===4);default:return J}},R=J=>{if(!o.trim())return J;const te=o.toLowerCase();return J.filter(K=>{var ne,ce,oe,ee,W;return K.maDonHang.toString().toLowerCase().includes(te)||((ne=K.tenNguoiNhan)==null?void 0:ne.toLowerCase().includes(te))||!1||((ce=K.tenSanPhamHoacCombo)==null?void 0:ce.toLowerCase().includes(te))||!1||((oe=K.ngayDat)==null?void 0:oe.toLowerCase().includes(te))||!1||((ee=K.hinhThucThanhToan)==null?void 0:ee.toLowerCase().includes(te))||!1||((W=K.lyDoHuy)==null?void 0:W.toLowerCase().includes(te))||!1||(K.hoTenNguoiDuyet||"").toLowerCase().includes(te)||(K.hoTenKhachHang||"").toLowerCase().includes(te)||z(K.trangThaiDonHang).toLowerCase().includes(te)||X(K.trangThaiThanhToan,K.trangThaiDonHang).toLowerCase().includes(te)})};k.useEffect(()=>{w()},[]),k.useEffect(()=>{L&&!F&&N()},[x,y,L,F]),k.useEffect(()=>{if(L&&!F){const J=setTimeout(()=>{N(!0)},300);return()=>clearTimeout(J)}},[o,L,F]);const U=J=>{console.log("Tab changed to:",J),v(J),S(1),c("")},V=J=>{J>=1&&J<=M&&J!==y&&S(J)},z=J=>{switch(J){case 0:return"Chưa xác nhận";case 1:return"Đang xử lý";case 2:return"Đang giao hàng";case 3:return"Hoàn thành";case 4:case 5:return"Đã hủy";default:return"Không xác định"}},X=(J,te)=>J===1&&te===3?"Đã thanh toán":"Chưa thanh toán",Q=async J=>{var te,K;try{const ne=localStorage.getItem("token");if(!(L!=null&&L.maNguoiDung)){Wt.error("Không thể xác định người dùng. Vui lòng đăng nhập lại.");return}console.log("Sending userId:",L.maNguoiDung);const ce=await St.put(`https://bicacuatho.azurewebsites.net/api/orders/approve/${J}`,{userId:L.maNguoiDung},{headers:{Authorization:`Bearer ${ne}`}});Wt.success("Duyệt đơn hàng thành công!",{duration:2e3}),setTimeout(()=>{N()},1e3)}catch(ne){console.error("Error approving order:",ne);const ce=((K=(te=ne.response)==null?void 0:te.data)==null?void 0:K.message)||"Có lỗi xảy ra khi duyệt đơn hàng.";Wt.error(ce)}},q=J=>{b(J),g(""),m(!0)},H=async()=>{var J,te;if(!A.trim()){Wt.error("Vui lòng nhập lý do hủy!");return}if(p!==null)try{const K=localStorage.getItem("token"),ne=await St.put(`https://bicacuatho.azurewebsites.net/api/orders/cancel/${p}`,JSON.stringify(A),{headers:{"Content-Type":"application/json",Authorization:`Bearer ${K}`}});Wt.success("Hủy đơn hàng thành công!"),m(!1),g(""),b(null),await N(),v("canceled")}catch(K){console.error("Error canceling order:",K);const ne=((te=(J=K.response)==null?void 0:J.data)==null?void 0:te.message)||"Có lỗi xảy ra khi hủy đơn hàng.";Wt.error(ne)}},$=J=>{console.log("Opening details for order:",J.maDonHang),d(J),f(!0)},G=J=>{g(J)};return F?r.jsx("div",{className:"p-6 bg-white rounded-lg shadow",children:r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2",children:"Đang tải thông tin người dùng..."})]})}):L?r.jsxs("div",{className:"p-6 bg-white rounded-lg shadow",children:[r.jsx(Ah,{position:"top-right"}),r.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Quản lý đơn hàng"}),r.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:r.jsxs("p",{className:"text-sm text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Vai trò hiện tại:"}),r.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${L.isAdmin?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:L.isAdmin?"Admin (Toàn quyền)":"Nhân viên (Hạn chế)"}),r.jsxs("span",{className:"ml-2 text-gray-500",children:["• ",L.fullName," (",L.email,")"]})]})}),r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Đơn hàng"}),r.jsx("br",{}),r.jsxs("div",{className:"relative w-full sm:w-[300px] mb-4",children:[r.jsx(Rn,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{type:"search",placeholder:"Tìm kiếm đơn hàng...",className:"pl-8 w-full",value:o,onChange:J=>c(J.target.value),disabled:B})]}),r.jsx(Na,{value:x,onValueChange:U,children:r.jsxs(sa,{className:"mb-4 grid w-full grid-cols-6 bg-gray-100 rounded-lg p-1",children:[r.jsxs(kn,{value:"all",className:`relative flex items-center justify-center gap-2 px-4 py-2 rounded-md transition-all duration-200 ${x==="all"?"bg-purple-100 text-purple-800 shadow-sm":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:[x==="all"&&r.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),r.jsxs("span",{className:"text-sm font-medium",children:["Tất cả (",a.all,")"]})]}),r.jsxs(kn,{value:"unconfirmed",className:`relative flex items-center justify-center gap-2 px-4 py-2 rounded-md transition-all duration-200 ${x==="unconfirmed"?"bg-gray-200 text-gray-800 shadow-sm":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:[x==="unconfirmed"&&r.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full"}),r.jsxs("span",{className:"text-sm font-medium",children:["Chưa xác nhận (",a.unconfirmed,")"]})]}),r.jsxs(kn,{value:"processing",className:`relative flex items-center justify-center gap-2 px-4 py-2 rounded-md transition-all duration-200 ${x==="processing"?"bg-yellow-100 text-yellow-800 shadow-sm":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:[x==="processing"&&r.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),r.jsxs("span",{className:"text-sm font-medium",children:["Đang xử lý (",a.processing,")"]})]}),r.jsxs(kn,{value:"delivering",className:`relative flex items-center justify-center gap-2 px-4 py-2 rounded-md transition-all duration-200 ${x==="delivering"?"bg-blue-100 text-blue-800 shadow-sm":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:[x==="delivering"&&r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsxs("span",{className:"text-sm font-medium",children:["Đang giao (",a.delivering,")"]})]}),r.jsxs(kn,{value:"completed",className:`relative flex items-center justify-center gap-2 px-4 py-2 rounded-md transition-all duration-200 ${x==="completed"?"bg-green-100 text-green-800 shadow-sm":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:[x==="completed"&&r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsxs("span",{className:"text-sm font-medium",children:["Hoàn thành (",a.completed,")"]})]}),r.jsxs(kn,{value:"canceled",className:`relative flex items-center justify-center gap-2 px-4 py-2 rounded-md transition-all duration-200 ${x==="canceled"?"bg-red-100 text-red-800 shadow-sm":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:[x==="canceled"&&r.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),r.jsxs("span",{className:"text-sm font-medium",children:["Đã hủy (",a.canceled,")"]})]})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Br,{children:[r.jsx(Er,{children:r.jsxs(Rt,{children:[r.jsx(Qe,{className:"w-16 text-center",children:"#"}),r.jsx(Qe,{className:"min-w-32",children:"Tên khách hàng"}),r.jsx(Qe,{className:"min-w-48",children:"Tên sản phẩm/Combo"}),r.jsx(Qe,{className:"min-w-24 text-center",children:"Ngày đặt"}),r.jsx(Qe,{className:"w-36 text-center",children:"Trạng thái"}),r.jsx(Qe,{className:"min-w-28 text-center",children:"Thanh toán"}),r.jsx(Qe,{className:"w-24 text-center",children:r.jsxs("div",{className:"leading-tight",children:[r.jsx("div",{children:"Hình thức"}),r.jsx("div",{children:"thanh toán"})]})}),r.jsx(Qe,{className:"min-w-32 text-center",children:"Nhân viên xử lý"}),x==="canceled"&&r.jsx(Qe,{className:"min-w-32 text-center",children:"Lý do hủy"}),r.jsx(Qe,{className:"w-72 text-center",children:"Thao tác"})]})}),r.jsx(Mr,{children:B?r.jsx(Rt,{children:r.jsx(He,{colSpan:x==="canceled"?10:9,className:"text-center py-8",children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),r.jsx("span",{children:"Đang tải..."})]})})}):e.length>0?e.map((J,te)=>r.jsxs(Rt,{className:"hover:bg-gray-50",children:[r.jsx(He,{className:"font-medium text-center",children:J.maDonHang}),r.jsx(He,{className:"max-w-32 truncate",title:J.tenNguoiNhan,children:J.tenNguoiNhan||"N/A"}),r.jsx(He,{className:"max-w-48 truncate",title:J.tenSanPhamHoacCombo,children:J.tenSanPhamHoacCombo||"N/A"}),r.jsx(He,{className:"text-center whitespace-nowrap",children:J.ngayDat?new Date(J.ngayDat.split("/").reverse().join("-")).toLocaleDateString("vi-VN"):"Không có ngày"}),r.jsx(He,{className:"text-center",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium whitespace-nowrap ${J.trangThaiDonHang===4||J.trangThaiDonHang===5?"bg-red-100 text-red-800":J.trangThaiDonHang===3?"bg-green-100 text-green-800":J.trangThaiDonHang===2?"bg-blue-100 text-blue-800":J.trangThaiDonHang===1?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:z(J.trangThaiDonHang)})}),r.jsx(He,{className:"text-center",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium whitespace-nowrap ${X(J.trangThaiThanhToan,J.trangThaiDonHang)==="Đã thanh toán"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:X(J.trangThaiThanhToan,J.trangThaiDonHang)})}),r.jsx(He,{className:"text-center",children:r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${J.hinhThucThanhToan==="VNPay"?"bg-blue-50 text-blue-700":"bg-orange-50 text-orange-700"}`,children:J.hinhThucThanhToan||"COD"})}),r.jsx(He,{className:"text-center",children:r.jsx("span",{className:`text-sm ${J.hoTenNhanVien?"text-gray-900":"text-gray-500 italic"}`,children:J.hoTenNhanVien||"Chưa có"})}),x==="canceled"&&r.jsx(He,{className:"text-center max-w-32 truncate",title:J.lyDoHuy,children:r.jsx("span",{className:"text-red-600 text-sm",children:J.lyDoHuy||"Không có lý do"})}),r.jsx(He,{className:"w-72",children:r.jsxs("div",{className:"flex justify-center items-center gap-2 min-h-[40px]",children:[r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>$(J),className:"hover:bg-blue-50 flex-shrink-0",title:"Xem chi tiết đơn hàng",children:r.jsx(qU,{className:"h-4 w-4"})}),(J.trangThaiDonHang===0||J.trangThaiDonHang===1||J.trangThaiDonHang===2)&&r.jsx(fe,{variant:"default",size:"sm",onClick:()=>Q(J.maDonHang),disabled:!C(J),className:`flex-shrink-0 ${C(J)?"bg-green-600 hover:bg-green-700":"bg-gray-400 cursor-not-allowed"}`,title:C(J)?"Duyệt đơn hàng":L.isStaff?"Đơn hàng đã được gán cho nhân viên khác xử lý":"Bạn không có quyền duyệt đơn hàng này",children:"Duyệt đơn"}),(J.trangThaiDonHang===0||J.trangThaiDonHang===1)&&r.jsx(fe,{variant:"destructive",size:"sm",onClick:()=>q(J.maDonHang),disabled:!C(J),className:`flex-shrink-0 ${C(J)?"bg-red-600 hover:bg-red-700":"bg-gray-400 cursor-not-allowed"}`,title:C(J)?"Hủy đơn hàng":L.isStaff?"Chỉ nhân viên đã duyệt đơn hoặc admin mới có thể hủy":"Bạn không có quyền hủy đơn hàng này",children:"Hủy đơn"})]})})]},J.maDonHang)):r.jsx(Rt,{children:r.jsx(He,{colSpan:x==="canceled"?10:9,className:"text-center py-8",children:r.jsx("div",{className:"text-gray-500",children:o?r.jsxs(r.Fragment,{children:[r.jsx(Rn,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r.jsxs("p",{children:['Không tìm thấy đơn hàng nào với từ khóa "',r.jsx("strong",{children:o}),'"']})]}):r.jsx(r.Fragment,{children:r.jsx("p",{children:"Không có đơn hàng nào trong trạng thái này."})})})})})})]})}),r.jsx(O1e,{currentPage:y,totalPages:M,onPageChange:V}),u&&l&&r.jsx(P1e,{orderId:l.maDonHang,onClose:()=>{f(!1),d(null)}}),r.jsx(Yt,{open:h,onOpenChange:m,children:r.jsxs(Kt,{className:"max-w-md",children:[r.jsx(rn,{children:r.jsx(Zt,{children:"Nhập lý do hủy đơn hàng"})}),r.jsxs("div",{className:"py-4 space-y-4",children:[r.jsx(je,{type:"text",placeholder:"Lý do hủy",value:A,onChange:J=>g(J.target.value),className:"w-full"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-semibold",children:"Chọn lý do gợi ý:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:T.map((J,te)=>r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>G(J),className:`text-sm transition-colors ${A===J?"bg-blue-100 border-blue-300 text-blue-800":"hover:bg-gray-50"}`,children:J},te))})]})]}),r.jsxs(Ln,{children:[r.jsx(fe,{variant:"outline",onClick:()=>m(!1),children:"Đóng"}),r.jsx(fe,{variant:"destructive",onClick:H,disabled:!A.trim(),children:"Xác nhận hủy"})]})]})})]}):r.jsx("div",{className:"p-6 bg-white rounded-lg shadow",children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx("p",{className:"text-red-600",children:"Không thể tải thông tin người dùng. Vui lòng đăng nhập lại."}),r.jsx(fe,{onClick:()=>window.location.href="/login",className:"mt-4",children:"Đăng nhập lại"})]})})},B3=n=>{if(!n||isNaN(new Date(n).getTime()))return"Ngày không hợp lệ";const t=new Date(n),e=t.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),s=t.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"});return`${e}, ${s}`},E3=()=>{const[n,t]=k.useState(""),[e,s]=k.useState([]),[a,i]=k.useState(!0),[o,c]=k.useState(!1),[l,d]=k.useState(null),[u,f]=k.useState(!1),[h,m]=k.useState(null),[A,g]=k.useState({product:1,blog:1,combo:1}),[p,b]=k.useState("productComments"),x=10,v=async()=>{try{i(!0);const j=localStorage.getItem("token"),N=await fetch("https://bicacuatho.azurewebsites.net/api/Comment/list",{headers:{"Content-Type":"application/json",Authorization:j?`Bearer ${j}`:void 0}});if(!N.ok)throw new Error(`Không thể lấy dữ liệu bình luận: ${N.status} ${N.statusText}`);const I=await N.json();s(I)}catch(j){console.error("Lỗi khi lấy danh sách bình luận:",j),Wt.error("Không thể tải danh sách bình luận.")}finally{i(!1)}},y=async()=>{if(l)try{const j=localStorage.getItem("token");if(!(await fetch(`https://bicacuatho.azurewebsites.net/api/Comment/delete/${l.maBinhLuan}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:j?`Bearer ${j}`:void 0}})).ok)throw new Error("Không thể xóa bình luận");s(e.filter(I=>I.maBinhLuan!==l.maBinhLuan)),c(!1),d(null),Wt.success("Xóa bình luận thành công!")}catch(j){console.error("Lỗi khi xóa bình luận:",j),Wt.error("Có lỗi xảy ra khi xóa bình luận.")}},S=async j=>{try{const N=localStorage.getItem("token");if(!(await fetch(`https://bicacuatho.azurewebsites.net/api/Comment/approve/${j.maBinhLuan}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:N?`Bearer ${N}`:void 0}})).ok)throw new Error("Không thể duyệt bình luận");s(e.map(R=>R.maBinhLuan===j.maBinhLuan?{...R,trangThai:1}:R)),Wt.success("Duyệt bình luận thành công!")}catch(N){console.error("Lỗi khi duyệt bình luận:",N),Wt.error("Có lỗi xảy ra khi duyệt bình luận.")}},M=async j=>{try{const N=localStorage.getItem("token");if(!(await fetch(`https://bicacuatho.azurewebsites.net/api/Comment/unapprove/${j.maBinhLuan}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:N?`Bearer ${N}`:void 0}})).ok)throw new Error("Không thể hủy duyệt bình luận");s(e.map(R=>R.maBinhLuan===j.maBinhLuan?{...R,trangThai:0}:R)),Wt.success("Hủy duyệt bình luận thành công!")}catch(N){console.error("Lỗi khi hủy duyệt bình luận:",N),Wt.error("Có lỗi xảy ra khi hủy duyệt bình luận.")}};k.useEffect(()=>{v()},[]),k.useEffect(()=>{g({product:1,blog:1,combo:1})},[p]);const P=j=>e.filter(N=>{var U,V,z,X,Q,q,H;let I=!1;if(j==="product"?I=N.maSanPham!==void 0&&N.maSanPham!==null:j==="combo"?I=N.maCombo!==void 0&&N.maCombo!==null&&(N.maSanPham===void 0||N.maSanPham===null):j==="blog"&&(I=N.maBlog!==void 0&&N.maBlog!==null&&(N.maSanPham===void 0||N.maSanPham===null)&&(N.maCombo===void 0||N.maCombo===null)),!I)return!1;const R=N.trangThai===0?"Chưa Duyệt":N.trangThai===1?"Đã Duyệt":"";return((U=N.noiDungBinhLuan)==null?void 0:U.toLowerCase().includes(n.toLowerCase()))||""||N.maBinhLuan.toString().includes(n.toLowerCase())||""||((V=N.ngayBinhLuan)==null?void 0:V.toString().includes(n.toLowerCase()))||""||R.toLowerCase().includes(n.toLowerCase())||""||((z=N.tenSanPham)==null?void 0:z.toLowerCase().includes(n.toLowerCase()))||""||((X=N.tenCombo)==null?void 0:X.toLowerCase().includes(n.toLowerCase()))||""||((Q=N.hoTen)==null?void 0:Q.toLowerCase().includes(n.toLowerCase()))||""||((q=N.maBlog)==null?void 0:q.toString().includes(n.toLowerCase()))||""||((H=N.maCombo)==null?void 0:H.toString().includes(n.toLowerCase()))||""}).sort((N,I)=>new Date(I.ngayBinhLuan||"").getTime()-new Date(N.ngayBinhLuan||"").getTime()),B=P("product"),D=P("blog"),L=P("combo"),O=j=>A[j]*x,F=j=>O(j)-x,_=j=>(j==="product"?B:j==="blog"?D:L).slice(F(j),O(j)),E=j=>Math.ceil((j==="product"?B:j==="blog"?D:L).length/x),T=j=>{d(j),c(!0)},w=j=>{m(j),f(!0)},C=(j,N)=>r.jsx("div",{className:"rounded-md border overflow-hidden",children:r.jsxs(Br,{children:[r.jsx(Er,{children:r.jsxs(Rt,{children:[r.jsx(Qe,{children:"ID"}),r.jsx(Qe,{children:"Hình Ảnh"}),r.jsx(Qe,{children:"Họ Tên"}),r.jsx(Qe,{children:"Nội Dung"}),N==="product"?r.jsx(Qe,{children:"Tên Sản Phẩm"}):N==="combo"?r.jsx(Qe,{children:"Tên Combo"}):r.jsx(Qe,{children:"Mã Blog"}),(N==="product"||N==="combo")&&r.jsx(Qe,{children:"Đánh Giá"}),r.jsx(Qe,{children:"Trạng Thái"}),r.jsx(Qe,{children:"Ngày Bình Luận"}),r.jsx(Qe,{className:"w-[60px]"})]})}),r.jsx(Mr,{children:a?r.jsx(Rt,{children:r.jsx(He,{colSpan:N==="product"||N==="combo"?9:8,className:"text-center py-6 text-muted-foreground",children:"Đang tải..."})}):j.length>0?j.map(I=>r.jsxs(Rt,{className:"hover:bg-muted/50",children:[r.jsx(He,{children:I.maBinhLuan}),r.jsx(He,{children:r.jsx("img",{src:I.hinhAnh||"https://via.placeholder.com/50",alt:I.hoTen||"Avatar",className:"w-10 h-10 rounded-full object-cover"})}),r.jsx(He,{children:I.hoTen}),r.jsx(He,{children:r.jsx("div",{className:"text-gray-800 line-clamp-3",dangerouslySetInnerHTML:{__html:pd.sanitize(I.noiDungBinhLuan||"Chưa cập nhật",{ADD_ATTR:["style","src"]})}})}),r.jsx(He,{children:N==="product"?I.tenSanPham??"Chưa cập nhật":N==="combo"?I.tenCombo??`Combo ${I.maCombo}`:I.maBlog??"Chưa cập nhật"}),(N==="product"||N==="combo")&&r.jsx(He,{children:`${I.danhGia||0} / 5`}),r.jsx(He,{children:r.jsx("span",{className:Ue(I.trangThai===1?"bg-green-100 text-green-800 px-2 py-1 rounded hover:bg-green-100":I.trangThai===0?"bg-red-100 text-red-800 px-2 py-1 rounded hover:bg-red-100":""),children:I.trangThai===0?"Chưa Duyệt":I.trangThai===1?"Đã Duyệt":""})}),r.jsx(He,{children:I.ngayBinhLuan?B3(I.ngayBinhLuan):"Ngày không hợp lệ"}),r.jsx(He,{children:r.jsxs(Ar,{children:[r.jsx(gr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsx(Fs,{className:"h-4 w-4"})})}),r.jsxs(hr,{align:"end",children:[I.trangThai===0?r.jsxs(ct,{onClick:()=>S(I),className:"flex items-center",children:[r.jsx(ja,{className:"mr-2 h-4 w-4 text-green-500"}),"Duyệt"]}):r.jsxs(ct,{onClick:()=>M(I),className:"flex items-center",children:[r.jsx(Go,{className:"mr-2 h-4 w-4 text-red-500"}),"Hủy Duyệt"]}),r.jsxs(ct,{onClick:()=>w(I),className:"flex items-center",children:[r.jsx(pr,{className:"mr-2 h-4 w-4 text-blue-500"}),"Chi Tiết"]}),r.jsxs(ct,{onClick:()=>T(I),className:"flex items-center",children:[r.jsx(Ma,{className:"mr-2 h-4 w-4 text-red-500"}),"Xóa"]})]})]})})]},I.maBinhLuan)):r.jsx(Rt,{children:r.jsx(He,{colSpan:N==="product"||N==="combo"?9:8,className:"text-center py-6 text-muted-foreground",children:"Không tìm thấy bình luận nào phù hợp với tìm kiếm của bạn."})})})]})});return r.jsxs("div",{className:"space-y-6 comments",children:[r.jsx(Ah,{position:"top-right"}),r.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:r.jsx("div",{children:r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Bình Luận"})})}),r.jsxs(at,{children:[r.jsx(yt,{className:"pb-3",children:r.jsx(Ct,{children:"Danh Sách Bình Luận"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6 justify-between items-start sm:items-center",children:[r.jsxs("div",{className:"relative w-full sm:w-auto",children:[r.jsx(Rn,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{type:"search",placeholder:"Tìm kiếm bình luận...",className:"pl-8 w-full sm:w-[300px]",value:n,onChange:j=>t(j.target.value)})]}),r.jsx("div",{className:"flex gap-2 self-end",children:r.jsxs(fe,{variant:"outline",size:"sm",className:"h-9",onClick:v,children:[r.jsx(Io,{className:"h-4 w-4 mr-2"}),"Làm Mới"]})})]}),r.jsxs(Na,{defaultValue:"productComments",value:p,onValueChange:b,className:"w-full",children:[r.jsxs(sa,{className:"grid w-full md:w-auto grid-cols-3 gap-1",children:[r.jsx(kn,{value:"productComments",className:"flex items-center gap-2",children:"Bình Luận Sản Phẩm"}),r.jsx(kn,{value:"comboComments",className:"flex items-center gap-2",children:"Bình Luận Combo"}),r.jsx(kn,{value:"blogComments",className:"flex items-center gap-2",children:"Bình Luận Blog"})]}),r.jsxs(Fn,{value:"productComments",children:[C(_("product"),"product"),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>g({...A,product:Math.max(1,A.product-1)}),disabled:A.product===1,children:"Trang Trước"}),r.jsxs("span",{children:["Trang ",A.product," / ",E("product")]}),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>g({...A,product:Math.min(E("product"),A.product+1)}),disabled:A.product===E("product"),children:"Trang Sau"})]})]}),r.jsxs(Fn,{value:"blogComments",children:[C(_("blog"),"blog"),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>g({...A,blog:Math.max(1,A.blog-1)}),disabled:A.blog===1,children:"Trang Trước"}),r.jsxs("span",{children:["Trang ",A.blog," / ",E("blog")]}),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>g({...A,blog:Math.min(E("blog"),A.blog+1)}),disabled:A.blog===E("blog"),children:"Trang Sau"})]})]}),r.jsxs(Fn,{value:"comboComments",children:[C(_("combo"),"combo"),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>g({...A,combo:Math.max(1,A.combo-1)}),disabled:A.combo===1,children:"Trang Trước"}),r.jsxs("span",{children:["Trang ",A.combo," / ",E("combo")]}),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>g({...A,combo:Math.min(E("combo"),A.combo+1)}),disabled:A.combo===E("combo"),children:"Trang Sau"})]})]})]})]})]}),r.jsx(Yt,{open:o,onOpenChange:c,children:r.jsxs(Kt,{children:[r.jsxs(rn,{children:[r.jsx(Zt,{children:"Xác nhận xóa bình luận"}),r.jsx(kr,{children:"Bạn có chắc chắn muốn xóa bình luận này không? Hành động này không thể hoàn tác."})]}),r.jsxs(Ln,{children:[r.jsx(fe,{variant:"outline",onClick:()=>c(!1),children:"Hủy"}),r.jsx(fe,{variant:"destructive",onClick:y,children:"Xóa"})]})]})}),r.jsx(Yt,{open:u,onOpenChange:f,children:r.jsxs(Kt,{className:"p-6 max-w-3xl w-full detail-dialog-content",children:[r.jsx(rn,{children:r.jsx(Zt,{children:"Chi Tiết Bình Luận"})}),h&&r.jsxs("div",{className:"grid grid-cols-2 gap-6 mt-4",children:[r.jsxs("div",{className:"col-span-2 flex items-center gap-4",children:[r.jsx("img",{src:h.hinhAnh||"https://via.placeholder.com/50",alt:h.hoTen||"Avatar",className:"w-16 h-16 rounded-full object-cover"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Họ Tên"}),r.jsx(je,{value:h.hoTen||"Chưa cập nhật",disabled:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"ID Bình Luận"}),r.jsx(je,{value:h.maBinhLuan||"Chưa cập nhật",disabled:!0})]}),h.maSanPham!==void 0&&h.maSanPham!==null?r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Mã Sản Phẩm"}),r.jsx(je,{value:h.maSanPham||"Chưa cập nhật",disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Tên Sản Phẩm"}),r.jsx(je,{value:h.tenSanPham||"Chưa cập nhật",disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Đánh Giá"}),r.jsx(je,{value:`${h.danhGia||0} / 5`,disabled:!0})]})]}):h.maCombo!==void 0&&h.maCombo!==null?r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Mã Combo"}),r.jsx(je,{value:h.maCombo||"Chưa cập nhật",disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Tên Combo"}),r.jsx(je,{value:h.tenCombo||`Combo ${h.maCombo}`,disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Đánh Giá"}),r.jsx(je,{value:`${h.danhGia||0} / 5`,disabled:!0})]})]}):r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Mã Blog"}),r.jsx(je,{value:h.maBlog??"Chưa cập nhật",disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Mã Người Dùng"}),r.jsx(je,{value:h.maNguoiDung||"Chưa cập nhật",disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Nội Dung"}),r.jsx("div",{className:"text-gray-800 border border-input rounded-md p-2 bg-background",dangerouslySetInnerHTML:{__html:pd.sanitize(h.noiDungBinhLuan||"Chưa cập nhật",{ADD_ATTR:["style","src"]})}})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Số Tim"}),r.jsx(je,{value:h.soTimBinhLuan??"0",disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Trạng Thái"}),r.jsx(je,{value:h.trangThai===0?"Chưa Duyệt":"Đã Duyệt",disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Ngày Bình Luận"}),r.jsx(je,{value:h.ngayBinhLuan?B3(h.ngayBinhLuan):"Chưa cập nhật",disabled:!0})]})]}),r.jsx(Ln,{className:"mt-6",children:r.jsx(fe,{variant:"outline",onClick:()=>f(!1),children:"Đóng"})})]})}),r.jsx("style",{children:`
        .comments .line-clamp-3 {
          display: flex;
          flex-direction: column;
          gap: 0.5rem;
          overflow: hidden;
          -webkit-line-clamp: unset;
          -webkit-box-orient: vertical;
          white-space: pre-line;
        }

        .comments .line-clamp-3 img {
          display: block;
          transform: scale(1.5);
          transform-origin: top left;
          max-width: 225px;
          height: auto;
          margin-top: 0.5rem;
        }

        .detail-dialog-content {
          max-height: 600px;
          overflow-y: auto;
        }

        .detail-dialog-content img {
          max-width: 100%;
          height: auto;
        }
      `})]})},Sh=({children:n,activeFormId:t})=>{const[e,s]=k.useState(t||""),[a,i]=k.useState(!1),[o,c]=k.useState(!1);k.useEffect(()=>{const l=()=>{i(window.innerWidth<768)};return l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[])},L1e=ho({productName:Ft().min(2,"Product name is required"),sku:Ft().min(2,"SKU code is required"),quantity:Ft().min(1,"Quantity is required"),category:Ft().min(1,"Category is required"),reorderLevel:Ft(),location:Ft(),supplier:Ft(),notes:Ft()}),F1e=()=>{const{toast:n}=ac(),t=Ji({resolver:Zi(L1e),defaultValues:{productName:"",sku:"",quantity:"",category:"",reorderLevel:"",location:"",supplier:"",notes:""}});function e(s){console.log("Form submitted:",s),n({title:"Inventory item saved",description:`${s.productName} has been added to your inventory.`}),t.reset()}return r.jsx(Sh,{activeFormId:"inventory",children:r.jsxs(at,{className:"border-purple-100 shadow-sm",children:[r.jsx(yt,{className:"border-b pb-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ir,{className:"h-5 w-5 text-purple-500"}),r.jsxs("div",{children:[r.jsx(Ct,{className:"text-xl",children:"Inventory Management"}),r.jsx(us,{children:"Add or update inventory items in your stock"})]})]})}),r.jsx(dt,{className:"pt-6",children:r.jsx(Ld,{...t,children:r.jsxs("form",{onSubmit:t.handleSubmit(e),className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(Lt,{control:t.control,name:"productName",render:({field:s})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Product Name"}),r.jsx(Mt,{children:r.jsx(je,{placeholder:"Enter product name",...s})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:t.control,name:"sku",render:({field:s})=>r.jsxs(Et,{children:[r.jsx(It,{children:"SKU"}),r.jsx(Mt,{children:r.jsx(je,{placeholder:"Enter SKU code",...s})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:t.control,name:"quantity",render:({field:s})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Quantity"}),r.jsx(Mt,{children:r.jsx(je,{type:"number",min:"0",placeholder:"0",...s})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:t.control,name:"category",render:({field:s})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Category"}),r.jsxs(hn,{onValueChange:s.onChange,value:s.value,children:[r.jsx(Mt,{children:r.jsx(on,{children:r.jsx(fn,{placeholder:"Select category"})})}),r.jsxs(ln,{children:[r.jsx(Ve,{value:"clothing",children:"Clothing"}),r.jsx(Ve,{value:"accessories",children:"Accessories"}),r.jsx(Ve,{value:"footwear",children:"Footwear"}),r.jsx(Ve,{value:"beauty",children:"Beauty"}),r.jsx(Ve,{value:"home",children:"Home"})]})]}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:t.control,name:"reorderLevel",render:({field:s})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Reorder Level"}),r.jsx(Mt,{children:r.jsx(je,{type:"number",min:"0",placeholder:"0",...s})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:t.control,name:"location",render:({field:s})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Storage Location"}),r.jsxs(hn,{onValueChange:s.onChange,value:s.value,children:[r.jsx(Mt,{children:r.jsx(on,{children:r.jsx(fn,{placeholder:"Select location"})})}),r.jsxs(ln,{children:[r.jsx(Ve,{value:"Warehouse A",children:"Warehouse A"}),r.jsx(Ve,{value:"Warehouse B",children:"Warehouse B"}),r.jsx(Ve,{value:"Warehouse C",children:"Warehouse C"}),r.jsx(Ve,{value:"Store Front",children:"Store Front"})]})]}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:t.control,name:"supplier",render:({field:s})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Supplier"}),r.jsx(Mt,{children:r.jsx(je,{placeholder:"Enter supplier name",...s})}),r.jsx(zt,{})]})})]}),r.jsx(Lt,{control:t.control,name:"notes",render:({field:s})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Notes"}),r.jsx(Mt,{children:r.jsx(sl,{placeholder:"Add additional notes about this inventory item...",className:"min-h-[100px]",...s})}),r.jsx(zt,{})]})}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsxs(fe,{variant:"outline",type:"button",onClick:()=>t.reset(),className:"gap-1",children:[r.jsx(st,{className:"h-4 w-4"}),"Cancel"]}),r.jsxs(fe,{type:"submit",className:"bg-purple-600 hover:bg-purple-700 gap-1",children:[r.jsx(Hm,{className:"h-4 w-4"}),"Save Inventory"]})]})]})})})]})})},R1e=ho({supplierName:Ft().min(2,"Supplier name is required"),poNumber:Ft().min(1,"Purchase order number is required"),orderDate:Ft().min(1,"Order date is required"),expectedDelivery:Ft(),status:Ft(),totalAmount:Ft().min(1,"Amount is required"),notes:Ft()}),M3=()=>{const n=Ji({resolver:Zi(R1e),defaultValues:{supplierName:"",poNumber:"",orderDate:"",expectedDelivery:"",status:"pending",totalAmount:"",notes:""}});function t(e){console.log(e)}return r.jsx(Sh,{activeFormId:"purchase-orders",children:r.jsxs(at,{className:"max-w-3xl mx-auto",children:[r.jsxs(yt,{children:[r.jsx(Ct,{className:"text-2xl",children:"Purchase Order Form"}),r.jsx(us,{children:"Create a new purchase order for inventory"})]}),r.jsx(dt,{children:r.jsx(Ld,{...n,children:r.jsxs("form",{onSubmit:n.handleSubmit(t),className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(Lt,{control:n.control,name:"supplierName",render:({field:e})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Supplier Name"}),r.jsx(Mt,{children:r.jsx(je,{placeholder:"Enter supplier name",...e})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:n.control,name:"poNumber",render:({field:e})=>r.jsxs(Et,{children:[r.jsx(It,{children:"PO Number"}),r.jsx(Mt,{children:r.jsx(je,{placeholder:"Enter PO number",...e})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:n.control,name:"orderDate",render:({field:e})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Order Date"}),r.jsx(Mt,{children:r.jsx(je,{type:"date",...e})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:n.control,name:"expectedDelivery",render:({field:e})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Expected Delivery"}),r.jsx(Mt,{children:r.jsx(je,{type:"date",...e})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:n.control,name:"status",render:({field:e})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Status"}),r.jsxs(hn,{onValueChange:e.onChange,defaultValue:e.value,children:[r.jsx(Mt,{children:r.jsx(on,{children:r.jsx(fn,{placeholder:"Select status"})})}),r.jsxs(ln,{children:[r.jsx(Ve,{value:"pending",children:"Pending"}),r.jsx(Ve,{value:"approved",children:"Approved"}),r.jsx(Ve,{value:"completed",children:"Completed"}),r.jsx(Ve,{value:"cancelled",children:"Cancelled"})]})]}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:n.control,name:"totalAmount",render:({field:e})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Total Amount"}),r.jsx(Mt,{children:r.jsx(je,{type:"number",placeholder:"0.00",...e})}),r.jsx(zt,{})]})})]}),r.jsx(Lt,{control:n.control,name:"notes",render:({field:e})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Notes"}),r.jsx(Mt,{children:r.jsx(sl,{placeholder:"Add any additional information",className:"min-h-[100px]",...e})}),r.jsx(zt,{})]})}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(fe,{variant:"outline",type:"button",children:"Cancel"}),r.jsx(fe,{type:"submit",children:"Submit Order"})]})]})})})]})})},U1e=ho({name:Ft().min(2,"Product name is required"),sku:Ft().min(1,"SKU is required"),category:Ft().min(1,"Category is required"),price:Ft().min(1,"Price is required"),salePrice:Ft().optional(),cost:Ft(),description:Ft(),isActive:w1().default(!0),isFeatured:w1().default(!1),stock:Ft(),tags:Ft()}),P3=()=>{const n=Ji({resolver:Zi(U1e),defaultValues:{name:"",sku:"",category:"",price:"",salePrice:"",cost:"",description:"",isActive:!0,isFeatured:!1,stock:"",tags:""}});function t(e){console.log(e)}return r.jsx(Sh,{activeFormId:"products",children:r.jsxs(at,{className:"max-w-3xl mx-auto",children:[r.jsx(yt,{className:"flex md:flex-row md:items-center md:justify-between gap-4",children:r.jsxs("div",{children:[r.jsxs(Ct,{className:"text-2xl flex items-center gap-2",children:[r.jsx(Ir,{className:"h-6 w-6 text-purple-500"}),"Product Form"]}),r.jsx(us,{children:"Add or update product information"})]})}),r.jsx(dt,{children:r.jsx(Ld,{...n,children:r.jsxs("form",{onSubmit:n.handleSubmit(t),className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(Lt,{control:n.control,name:"name",render:({field:e})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Product Name"}),r.jsx(Mt,{children:r.jsx(je,{placeholder:"Enter product name",...e})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:n.control,name:"sku",render:({field:e})=>r.jsxs(Et,{children:[r.jsx(It,{children:"SKU"}),r.jsx(Mt,{children:r.jsx(je,{placeholder:"Enter SKU code",...e})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:n.control,name:"category",render:({field:e})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Category"}),r.jsxs(hn,{onValueChange:e.onChange,defaultValue:e.value,children:[r.jsx(Mt,{children:r.jsx(on,{children:r.jsx(fn,{placeholder:"Select category"})})}),r.jsxs(ln,{children:[r.jsx(Ve,{value:"clothing",children:"Clothing"}),r.jsx(Ve,{value:"accessories",children:"Accessories"}),r.jsx(Ve,{value:"footwear",children:"Footwear"}),r.jsx(Ve,{value:"beauty",children:"Beauty"})]})]}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:n.control,name:"price",render:({field:e})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Regular Price"}),r.jsx(Mt,{children:r.jsx(je,{type:"number",placeholder:"0.00",...e})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:n.control,name:"salePrice",render:({field:e})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Sale Price (optional)"}),r.jsx(Mt,{children:r.jsx(je,{type:"number",placeholder:"0.00",...e})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:n.control,name:"cost",render:({field:e})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Cost Price"}),r.jsx(Mt,{children:r.jsx(je,{type:"number",placeholder:"0.00",...e})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:n.control,name:"stock",render:({field:e})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Stock Quantity"}),r.jsx(Mt,{children:r.jsx(je,{type:"number",placeholder:"0",...e})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:n.control,name:"tags",render:({field:e})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Tags (comma-separated)"}),r.jsx(Mt,{children:r.jsx(je,{placeholder:"new,featured,sale",...e})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:n.control,name:"isActive",render:({field:e})=>r.jsxs(Et,{className:"flex flex-row items-center space-x-3 space-y-0 rounded-md border p-4",children:[r.jsx(Mt,{children:r.jsx(Ns,{checked:e.value,onCheckedChange:e.onChange})}),r.jsxs("div",{className:"space-y-1 leading-none",children:[r.jsx(It,{children:"Active Product"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Product will be visible in the store"})]})]})}),r.jsx(Lt,{control:n.control,name:"isFeatured",render:({field:e})=>r.jsxs(Et,{className:"flex flex-row items-center space-x-3 space-y-0 rounded-md border p-4",children:[r.jsx(Mt,{children:r.jsx(Ns,{checked:e.value,onCheckedChange:e.onChange})}),r.jsxs("div",{className:"space-y-1 leading-none",children:[r.jsx(It,{children:"Featured Product"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Display this product in featured sections"})]})]})})]}),r.jsx(Lt,{control:n.control,name:"description",render:({field:e})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Product Description"}),r.jsx(Mt,{children:r.jsx(sl,{placeholder:"Enter product description",className:"min-h-[100px]",...e})}),r.jsx(zt,{})]})}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(fe,{variant:"outline",type:"button",children:"Cancel"}),r.jsx(fe,{type:"submit",children:"Save Product"})]})]})})})]})})},H1e=ho({orderNumber:Ft().min(1,"Order number is required"),trackingNumber:Ft(),carrier:Ft().min(1,"Shipping carrier is required"),method:gce(["standard","express","overnight"],{required_error:"Please select a shipping method"}),customerName:Ft().min(1,"Customer name is required"),email:Ft().email("Invalid email address"),phone:Ft(),addressLine1:Ft().min(1,"Address is required"),addressLine2:Ft().optional(),city:Ft().min(1,"City is required"),state:Ft().min(1,"State is required"),postalCode:Ft().min(1,"Postal code is required"),country:Ft().min(1,"Country is required"),specialInstructions:Ft().optional(),status:Ft()}),D3=()=>{const n=Ji({resolver:Zi(H1e),defaultValues:{orderNumber:"",trackingNumber:"",carrier:"",method:"standard",customerName:"",email:"",phone:"",addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:"USA",specialInstructions:"",status:"pending"}});function t(e){console.log(e)}return r.jsx(Sh,{activeFormId:"shipping",children:r.jsxs(at,{className:"max-w-4xl mx-auto",children:[r.jsx(yt,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(z2,{className:"h-6 w-6 text-purple-500"}),r.jsxs("div",{children:[r.jsx(Ct,{className:"text-2xl",children:"Shipping Form"}),r.jsx(us,{children:"Create a new shipping label or update existing shipment"})]})]})}),r.jsx(dt,{children:r.jsx(Ld,{...n,children:r.jsxs("form",{onSubmit:n.handleSubmit(t),className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-4",children:"Order Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(Lt,{control:n.control,name:"orderNumber",render:({field:e})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Order Number"}),r.jsx(Mt,{children:r.jsx(je,{placeholder:"Enter order number",...e})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:n.control,name:"trackingNumber",render:({field:e})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Tracking Number (if available)"}),r.jsx(Mt,{children:r.jsx(je,{placeholder:"Enter tracking number",...e})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:n.control,name:"carrier",render:({field:e})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Shipping Carrier"}),r.jsxs(hn,{onValueChange:e.onChange,defaultValue:e.value,children:[r.jsx(Mt,{children:r.jsx(on,{children:r.jsx(fn,{placeholder:"Select carrier"})})}),r.jsxs(ln,{children:[r.jsx(Ve,{value:"fedex",children:"FedEx"}),r.jsx(Ve,{value:"ups",children:"UPS"}),r.jsx(Ve,{value:"usps",children:"USPS"}),r.jsx(Ve,{value:"dhl",children:"DHL"})]})]}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:n.control,name:"status",render:({field:e})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Status"}),r.jsxs(hn,{onValueChange:e.onChange,defaultValue:e.value,children:[r.jsx(Mt,{children:r.jsx(on,{children:r.jsx(fn,{placeholder:"Select status"})})}),r.jsxs(ln,{children:[r.jsx(Ve,{value:"pending",children:"Pending"}),r.jsx(Ve,{value:"processing",children:"Processing"}),r.jsx(Ve,{value:"shipped",children:"Shipped"}),r.jsx(Ve,{value:"delivered",children:"Delivered"}),r.jsx(Ve,{value:"returned",children:"Returned"})]})]}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:n.control,name:"method",render:({field:e})=>r.jsxs(Et,{className:"col-span-1 md:col-span-2 space-y-3",children:[r.jsx(It,{children:"Shipping Method"}),r.jsx(Mt,{children:r.jsxs(vm,{onValueChange:e.onChange,defaultValue:e.value,className:"flex flex-col sm:flex-row sm:space-x-4 space-y-2 sm:space-y-0",children:[r.jsxs(Et,{className:"flex items-center space-x-3 space-y-0",children:[r.jsx(Mt,{children:r.jsx(qa,{value:"standard"})}),r.jsx(It,{className:"font-normal",children:"Standard Shipping (3-5 days)"})]}),r.jsxs(Et,{className:"flex items-center space-x-3 space-y-0",children:[r.jsx(Mt,{children:r.jsx(qa,{value:"express"})}),r.jsx(It,{className:"font-normal",children:"Express Shipping (2-3 days)"})]}),r.jsxs(Et,{className:"flex items-center space-x-3 space-y-0",children:[r.jsx(Mt,{children:r.jsx(qa,{value:"overnight"})}),r.jsx(It,{className:"font-normal",children:"Overnight Shipping (1 day)"})]})]})}),r.jsx(zt,{})]})})]})]}),r.jsx(Ys,{}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-4",children:"Customer Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(Lt,{control:n.control,name:"customerName",render:({field:e})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Customer Name"}),r.jsx(Mt,{children:r.jsx(je,{placeholder:"Enter customer name",...e})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:n.control,name:"email",render:({field:e})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Email"}),r.jsx(Mt,{children:r.jsx(je,{type:"email",placeholder:"Enter email address",...e})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:n.control,name:"phone",render:({field:e})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Phone Number"}),r.jsx(Mt,{children:r.jsx(je,{type:"tel",placeholder:"Enter phone number",...e})}),r.jsx(zt,{})]})})]})]}),r.jsx(Ys,{}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-4",children:"Shipping Address"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(Lt,{control:n.control,name:"addressLine1",render:({field:e})=>r.jsxs(Et,{className:"col-span-1 md:col-span-2",children:[r.jsx(It,{children:"Address Line 1"}),r.jsx(Mt,{children:r.jsx(je,{placeholder:"Street address",...e})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:n.control,name:"addressLine2",render:({field:e})=>r.jsxs(Et,{className:"col-span-1 md:col-span-2",children:[r.jsx(It,{children:"Address Line 2 (Optional)"}),r.jsx(Mt,{children:r.jsx(je,{placeholder:"Apartment, suite, etc.",...e})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:n.control,name:"city",render:({field:e})=>r.jsxs(Et,{children:[r.jsx(It,{children:"City"}),r.jsx(Mt,{children:r.jsx(je,{placeholder:"Enter city",...e})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:n.control,name:"state",render:({field:e})=>r.jsxs(Et,{children:[r.jsx(It,{children:"State/Province"}),r.jsx(Mt,{children:r.jsx(je,{placeholder:"Enter state",...e})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:n.control,name:"postalCode",render:({field:e})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Postal/Zip Code"}),r.jsx(Mt,{children:r.jsx(je,{placeholder:"Enter postal code",...e})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:n.control,name:"country",render:({field:e})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Country"}),r.jsxs(hn,{onValueChange:e.onChange,defaultValue:e.value,children:[r.jsx(Mt,{children:r.jsx(on,{children:r.jsx(fn,{placeholder:"Select country"})})}),r.jsxs(ln,{children:[r.jsx(Ve,{value:"USA",children:"United States"}),r.jsx(Ve,{value:"CAN",children:"Canada"}),r.jsx(Ve,{value:"MEX",children:"Mexico"}),r.jsx(Ve,{value:"GBR",children:"United Kingdom"})]})]}),r.jsx(zt,{})]})})]})]}),r.jsx(Lt,{control:n.control,name:"specialInstructions",render:({field:e})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Special Instructions (Optional)"}),r.jsx(Mt,{children:r.jsx(sl,{placeholder:"Enter any special delivery instructions",className:"min-h-[80px]",...e})}),r.jsx(zt,{})]})}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(fe,{variant:"outline",type:"button",children:"Cancel"}),r.jsx(fe,{type:"submit",children:"Create Shipment"})]})]})})})]})})},FL={success:"#62c97d",error:"#ea384c",warning:"#F97316",info:"#0EA5E9",question:"#9b87f5"},$1e={confirmButtonColor:FL.info,cancelButtonColor:"#6b7280",customClass:{popup:"rounded-lg shadow-lg",title:"text-lg font-medium",confirmButton:"rounded-md",cancelButton:"rounded-md"}},RL=(n,t)=>{const{onConfirm:e,onCancel:s,...a}=t;return Ce.fire({icon:n,iconColor:FL[n],...$1e,...a}).then(i=>(i.isConfirmed&&e?e():i.isDismissed&&s&&s(),i))},Q1e=(n,t="Success",e={})=>RL("success",{title:t,text:n,...e}),V1e=(n,t="Error",e={})=>RL("error",{title:t,text:n,...e}),z1e=ho({customerName:Ft().min(1,"Customer name is required"),email:Ft().email("Invalid email address"),phone:Ft(),orderDate:Ft().min(1,"Order date is required"),status:Ft().min(1,"Status is required"),shippingMethod:Ft().min(1,"Shipping method is required"),paymentMethod:Ft().min(1,"Payment method is required"),notes:Ft(),discount:Ft()}),I3=()=>{const n=yi("mobile");yi("tablet");const[t,e]=Ne.useState([{id:"1",name:"T-Shirt",quantity:2,price:24.99},{id:"2",name:"Jeans",quantity:1,price:49.99}]),[s,a]=Ne.useState(""),[i,o]=Ne.useState(1),[c,l]=Ne.useState(""),d=Ji({resolver:Zi(z1e),defaultValues:{customerName:"",email:"",phone:"",orderDate:new Date().toISOString().split("T")[0],status:"pending",shippingMethod:"standard",paymentMethod:"credit_card",notes:"",discount:"0"}});function u(g){console.log({...g,orderItems:t}),Q1e("Order has been saved successfully")}const f=()=>{s&&c?(e([...t,{id:Date.now().toString(),name:s,quantity:i,price:parseFloat(c)}]),a(""),o(1),l("")):V1e("Please fill in all item fields")},h=g=>{e(t.filter(p=>p.id!==g))},m=()=>t.reduce((g,p)=>g+p.price*p.quantity,0),A=()=>{const g=m(),p=parseFloat(d.watch("discount")||"0");return g-p};return r.jsx(Sh,{activeFormId:"orders",children:r.jsxs(at,{className:"max-w-4xl mx-auto",children:[r.jsx(yt,{className:"space-y-1",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(vs,{className:"h-6 w-6 text-purple-500"}),r.jsxs("div",{children:[r.jsx(Ct,{className:"text-2xl",children:"Order Form"}),r.jsx(us,{children:"Create or edit customer orders"})]})]})}),r.jsx(dt,{children:r.jsx(Ld,{...d,children:r.jsxs("form",{onSubmit:d.handleSubmit(u),className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-4",children:"Customer Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(Lt,{control:d.control,name:"customerName",render:({field:g})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Customer Name"}),r.jsx(Mt,{children:r.jsx(je,{placeholder:"Enter customer name",...g})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:d.control,name:"email",render:({field:g})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Email"}),r.jsx(Mt,{children:r.jsx(je,{type:"email",placeholder:"Enter email address",...g})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:d.control,name:"phone",render:({field:g})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Phone Number"}),r.jsx(Mt,{children:r.jsx(je,{type:"tel",placeholder:"Enter phone number",...g})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:d.control,name:"orderDate",render:({field:g})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Order Date"}),r.jsx(Mt,{children:r.jsx(je,{type:"date",...g})}),r.jsx(zt,{})]})})]})]}),r.jsx(Ys,{}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium",children:"Order Details"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Add items to this order"}),r.jsxs("div",{className:`mb-6 grid ${n?"grid-cols-1 gap-3":"grid-cols-1 md:grid-cols-4 gap-4"} items-end`,children:[r.jsxs("div",{className:"col-span-1 md:col-span-2",children:[r.jsx(Oe,{htmlFor:"itemName",children:"Item Name"}),r.jsx(je,{id:"itemName",value:s,onChange:g=>a(g.target.value),placeholder:"Product name"})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"itemQuantity",children:"Quantity"}),r.jsx(je,{id:"itemQuantity",type:"number",min:"1",value:i,onChange:g=>o(parseInt(g.target.value))})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"itemPrice",children:"Price"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(je,{id:"itemPrice",type:"number",min:"0",step:"0.01",value:c,onChange:g=>l(g.target.value),placeholder:"0.00"}),r.jsx(fe,{type:"button",onClick:f,children:"Add"})]})]})]}),r.jsx("div",{className:"border rounded-md overflow-x-auto",children:r.jsxs(Br,{children:[r.jsx(Er,{children:r.jsxs(Rt,{children:[r.jsx(Qe,{children:"Product"}),r.jsx(Qe,{className:"text-right",children:"Quantity"}),r.jsx(Qe,{className:"text-right",children:"Price"}),r.jsx(Qe,{className:"text-right",children:"Total"}),r.jsx(Qe,{className:"w-[50px]"})]})}),r.jsx(Mr,{children:t.length>0?t.map(g=>r.jsxs(Rt,{children:[r.jsx(He,{children:g.name}),r.jsx(He,{className:"text-right",children:g.quantity}),r.jsxs(He,{className:"text-right",children:["$",g.price.toFixed(2)]}),r.jsxs(He,{className:"text-right",children:["$",(g.quantity*g.price).toFixed(2)]}),r.jsx(He,{children:r.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>h(g.id),className:"h-8 w-8 p-0",children:"✕"})})]},g.id)):r.jsx(Rt,{children:r.jsx(He,{colSpan:5,className:"text-center py-4 text-gray-500",children:"No items added to this order"})})})]})}),r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsxs("div",{className:`${n?"w-full":"w-full max-w-xs"} space-y-2`,children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Subtotal:"}),r.jsxs("span",{children:["$",m().toFixed(2)]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:"Discount:"}),r.jsx("div",{className:"flex-1",children:r.jsx(Lt,{control:d.control,name:"discount",render:({field:g})=>r.jsx(Et,{className:"m-0",children:r.jsx(Mt,{children:r.jsx(je,{type:"number",min:"0",step:"0.01",className:"h-8 text-right",placeholder:"0.00",...g})})})})})]}),r.jsxs("div",{className:"flex justify-between pt-2 border-t font-medium",children:[r.jsx("span",{children:"Total:"}),r.jsxs("span",{children:["$",A().toFixed(2)]})]})]})})]}),r.jsx(Ys,{}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(Lt,{control:d.control,name:"status",render:({field:g})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Order Status"}),r.jsxs(hn,{onValueChange:g.onChange,defaultValue:g.value,children:[r.jsx(Mt,{children:r.jsx(on,{children:r.jsx(fn,{placeholder:"Select status"})})}),r.jsxs(ln,{children:[r.jsx(Ve,{value:"pending",children:"Pending"}),r.jsx(Ve,{value:"processing",children:"Processing"}),r.jsx(Ve,{value:"completed",children:"Completed"}),r.jsx(Ve,{value:"cancelled",children:"Cancelled"}),r.jsx(Ve,{value:"refunded",children:"Refunded"})]})]}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:d.control,name:"shippingMethod",render:({field:g})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Shipping Method"}),r.jsxs(hn,{onValueChange:g.onChange,defaultValue:g.value,children:[r.jsx(Mt,{children:r.jsx(on,{children:r.jsx(fn,{placeholder:"Select shipping method"})})}),r.jsxs(ln,{children:[r.jsx(Ve,{value:"standard",children:"Standard Shipping"}),r.jsx(Ve,{value:"express",children:"Express Shipping"}),r.jsx(Ve,{value:"overnight",children:"Overnight Shipping"}),r.jsx(Ve,{value:"pickup",children:"In-Store Pickup"})]})]}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:d.control,name:"paymentMethod",render:({field:g})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Payment Method"}),r.jsxs(hn,{onValueChange:g.onChange,defaultValue:g.value,children:[r.jsx(Mt,{children:r.jsx(on,{children:r.jsx(fn,{placeholder:"Select payment method"})})}),r.jsxs(ln,{children:[r.jsx(Ve,{value:"credit_card",children:"Credit Card"}),r.jsx(Ve,{value:"paypal",children:"PayPal"}),r.jsx(Ve,{value:"bank_transfer",children:"Bank Transfer"}),r.jsx(Ve,{value:"cash",children:"Cash on Delivery"})]})]}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:d.control,name:"notes",render:({field:g})=>r.jsxs(Et,{className:"col-span-1 md:col-span-2",children:[r.jsx(It,{children:"Order Notes"}),r.jsx(Mt,{children:r.jsx(je,{placeholder:"Add any notes about this order",...g})}),r.jsx(zt,{})]})})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-end",children:[r.jsx(fe,{variant:"outline",type:"button",children:"Cancel"}),r.jsx(fe,{type:"submit",children:"Save Order"})]})]})})})]})})},K1e=ho({invoiceNumber:Ft().min(1,"Invoice number is required"),orderNumber:Ft().min(1,"Order number is required"),customerName:Ft().min(1,"Customer name is required"),customerEmail:Ft().email("Invalid email format"),issueDate:Ft().min(1,"Issue date is required"),dueDate:Ft().min(1,"Due date is required"),status:Ft().min(1,"Status is required"),notes:Ft(),taxRate:Ft(),discount:Ft(),sendEmail:w1().default(!1)}),G1e=()=>{const[n,t]=Ne.useState([{id:"1",description:"Product Design",quantity:1,price:500},{id:"2",description:"Website Development",quantity:1,price:2e3}]),[e,s]=Ne.useState(""),[a,i]=Ne.useState(1),[o,c]=Ne.useState(""),l=Ji({resolver:Zi(K1e),defaultValues:{invoiceNumber:`INV-${Date.now().toString().slice(-6)}`,orderNumber:"",customerName:"",customerEmail:"",issueDate:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],status:"draft",notes:"",taxRate:"10",discount:"0",sendEmail:!0}});function d(A){console.log({...A,invoiceItems:n})}const u=()=>{e&&o&&(t([...n,{id:Date.now().toString(),description:e,quantity:a,price:parseFloat(o)}]),s(""),i(1),c(""))},f=A=>{t(n.filter(g=>g.id!==A))},h=()=>n.reduce((A,g)=>A+g.price*g.quantity,0),m=()=>{const A=h(),g=parseFloat(l.watch("taxRate")||"0")/100,p=parseFloat(l.watch("discount")||"0"),b=A*g;return A+b-p};return r.jsx(Sh,{activeFormId:"invoice",children:r.jsxs(at,{className:"max-w-4xl mx-auto",children:[r.jsx(yt,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(R2,{className:"h-6 w-6 text-purple-500"}),r.jsxs("div",{children:[r.jsx(Ct,{className:"text-2xl",children:"Invoice Form"}),r.jsx(us,{children:"Create a professional invoice for your customers"})]})]})}),r.jsx(dt,{children:r.jsx(Ld,{...l,children:r.jsxs("form",{onSubmit:l.handleSubmit(d),className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(Lt,{control:l.control,name:"invoiceNumber",render:({field:A})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Invoice Number"}),r.jsx(Mt,{children:r.jsx(je,{...A})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:l.control,name:"orderNumber",render:({field:A})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Order Reference"}),r.jsx(Mt,{children:r.jsx(je,{placeholder:"Enter order number",...A})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:l.control,name:"customerName",render:({field:A})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Customer Name"}),r.jsx(Mt,{children:r.jsx(je,{placeholder:"Enter customer name",...A})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:l.control,name:"customerEmail",render:({field:A})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Customer Email"}),r.jsx(Mt,{children:r.jsx(je,{type:"email",placeholder:"Enter email",...A})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:l.control,name:"issueDate",render:({field:A})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Issue Date"}),r.jsx(Mt,{children:r.jsx(je,{type:"date",...A})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:l.control,name:"dueDate",render:({field:A})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Due Date"}),r.jsx(Mt,{children:r.jsx(je,{type:"date",...A})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:l.control,name:"status",render:({field:A})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Status"}),r.jsxs(hn,{onValueChange:A.onChange,defaultValue:A.value,children:[r.jsx(Mt,{children:r.jsx(on,{children:r.jsx(fn,{placeholder:"Select status"})})}),r.jsxs(ln,{children:[r.jsx(Ve,{value:"draft",children:"Draft"}),r.jsx(Ve,{value:"pending",children:"Pending"}),r.jsx(Ve,{value:"paid",children:"Paid"}),r.jsx(Ve,{value:"overdue",children:"Overdue"}),r.jsx(Ve,{value:"cancelled",children:"Cancelled"})]})]}),r.jsx(zt,{})]})})]}),r.jsx(Ys,{}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium",children:"Invoice Items"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Add the items or services for this invoice"}),r.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[r.jsxs("div",{className:"col-span-1 md:col-span-2",children:[r.jsx(Oe,{htmlFor:"itemDescription",children:"Description"}),r.jsx(je,{id:"itemDescription",value:e,onChange:A=>s(A.target.value),placeholder:"Item or service description"})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"itemQuantity",children:"Quantity"}),r.jsx(je,{id:"itemQuantity",type:"number",min:"1",value:a,onChange:A=>i(parseInt(A.target.value))})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"itemPrice",children:"Price"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(je,{id:"itemPrice",type:"number",min:"0",step:"0.01",value:o,onChange:A=>c(A.target.value),placeholder:"0.00"}),r.jsx(fe,{type:"button",onClick:u,children:"Add"})]})]})]}),r.jsx("div",{className:"border rounded-md overflow-hidden",children:r.jsxs(Br,{children:[r.jsx(Er,{children:r.jsxs(Rt,{children:[r.jsx(Qe,{className:"w-[50%]",children:"Description"}),r.jsx(Qe,{className:"text-right",children:"Quantity"}),r.jsx(Qe,{className:"text-right",children:"Price"}),r.jsx(Qe,{className:"text-right",children:"Total"}),r.jsx(Qe,{className:"w-[50px]"})]})}),r.jsx(Mr,{children:n.length>0?n.map(A=>r.jsxs(Rt,{children:[r.jsx(He,{children:A.description}),r.jsx(He,{className:"text-right",children:A.quantity}),r.jsxs(He,{className:"text-right",children:["$",A.price.toFixed(2)]}),r.jsxs(He,{className:"text-right",children:["$",(A.quantity*A.price).toFixed(2)]}),r.jsx(He,{children:r.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>f(A.id),className:"h-8 w-8 p-0",children:"✕"})})]},A.id)):r.jsx(Rt,{children:r.jsx(He,{colSpan:5,className:"text-center py-4 text-gray-500",children:"No items added to this invoice"})})})]})}),r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsxs("div",{className:"w-full max-w-xs space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Subtotal:"}),r.jsxs("span",{children:["$",h().toFixed(2)]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:"Tax Rate (%):"}),r.jsx("div",{className:"flex-1",children:r.jsx(Lt,{control:l.control,name:"taxRate",render:({field:A})=>r.jsx(Et,{className:"m-0",children:r.jsx(Mt,{children:r.jsx(je,{type:"number",min:"0",step:"0.1",className:"h-8 text-right",placeholder:"0",...A})})})})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:"Discount:"}),r.jsx("div",{className:"flex-1",children:r.jsx(Lt,{control:l.control,name:"discount",render:({field:A})=>r.jsx(Et,{className:"m-0",children:r.jsx(Mt,{children:r.jsx(je,{type:"number",min:"0",step:"0.01",className:"h-8 text-right",placeholder:"0.00",...A})})})})})]}),r.jsxs("div",{className:"flex justify-between pt-2 border-t font-medium",children:[r.jsx("span",{children:"Total:"}),r.jsxs("span",{children:["$",m().toFixed(2)]})]})]})})]}),r.jsx(Ys,{}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Lt,{control:l.control,name:"notes",render:({field:A})=>r.jsxs(Et,{children:[r.jsx(It,{children:"Notes to Customer"}),r.jsx(Mt,{children:r.jsx(je,{placeholder:"Enter any additional notes",...A})}),r.jsx(zt,{})]})}),r.jsx(Lt,{control:l.control,name:"sendEmail",render:({field:A})=>r.jsxs(Et,{className:"flex flex-row items-center space-x-3 space-y-0 rounded-md border p-4",children:[r.jsx(Mt,{children:r.jsx(Ns,{checked:A.value,onCheckedChange:A.onChange})}),r.jsxs("div",{className:"space-y-1 leading-none",children:[r.jsx(It,{children:"Email Invoice to Customer"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Send this invoice automatically to the customer email"})]})]})})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(fe,{variant:"outline",type:"button",children:"Save as Draft"}),r.jsx(fe,{type:"submit",children:"Generate Invoice"})]})]})})})]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function vp(n){return n+.5|0}const Ll=(n,t,e)=>Math.max(Math.min(n,e),t);function Af(n){return Ll(vp(n*2.55),0,255)}function Gl(n){return Ll(vp(n*255),0,255)}function Mo(n){return Ll(vp(n/2.55)/100,0,1)}function O3(n){return Ll(vp(n*100),0,100)}const Qa={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},K1=[..."0123456789ABCDEF"],q1e=n=>K1[n&15],W1e=n=>K1[(n&240)>>4]+K1[n&15],iA=n=>(n&240)>>4===(n&15),X1e=n=>iA(n.r)&&iA(n.g)&&iA(n.b)&&iA(n.a);function Y1e(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Qa[n[1]]*17,g:255&Qa[n[2]]*17,b:255&Qa[n[3]]*17,a:t===5?Qa[n[4]]*17:255}:(t===7||t===9)&&(e={r:Qa[n[1]]<<4|Qa[n[2]],g:Qa[n[3]]<<4|Qa[n[4]],b:Qa[n[5]]<<4|Qa[n[6]],a:t===9?Qa[n[7]]<<4|Qa[n[8]]:255})),e}const J1e=(n,t)=>n<255?t(n):"";function Z1e(n){var t=X1e(n)?q1e:W1e;return n?"#"+t(n.r)+t(n.g)+t(n.b)+J1e(n.a,t):void 0}const e2e=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function UL(n,t,e){const s=t*Math.min(e,1-e),a=(i,o=(i+n/30)%12)=>e-s*Math.max(Math.min(o-3,9-o,1),-1);return[a(0),a(8),a(4)]}function t2e(n,t,e){const s=(a,i=(a+n/60)%6)=>e-e*t*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function n2e(n,t,e){const s=UL(n,1,.5);let a;for(t+e>1&&(a=1/(t+e),t*=a,e*=a),a=0;a<3;a++)s[a]*=1-t-e,s[a]+=t;return s}function r2e(n,t,e,s,a){return n===a?(t-e)/s+(t<e?6:0):t===a?(e-n)/s+2:(n-t)/s+4}function WC(n){const e=n.r/255,s=n.g/255,a=n.b/255,i=Math.max(e,s,a),o=Math.min(e,s,a),c=(i+o)/2;let l,d,u;return i!==o&&(u=i-o,d=c>.5?u/(2-i-o):u/(i+o),l=r2e(e,s,a,u,i),l=l*60+.5),[l|0,d||0,c]}function XC(n,t,e,s){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,s)).map(Gl)}function YC(n,t,e){return XC(UL,n,t,e)}function s2e(n,t,e){return XC(n2e,n,t,e)}function a2e(n,t,e){return XC(t2e,n,t,e)}function HL(n){return(n%360+360)%360}function i2e(n){const t=e2e.exec(n);let e=255,s;if(!t)return;t[5]!==s&&(e=t[6]?Af(+t[5]):Gl(+t[5]));const a=HL(+t[2]),i=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?s=s2e(a,i,o):t[1]==="hsv"?s=a2e(a,i,o):s=YC(a,i,o),{r:s[0],g:s[1],b:s[2],a:e}}function o2e(n,t){var e=WC(n);e[0]=HL(e[0]+t),e=YC(e),n.r=e[0],n.g=e[1],n.b=e[2]}function l2e(n){if(!n)return;const t=WC(n),e=t[0],s=O3(t[1]),a=O3(t[2]);return n.a<255?`hsla(${e}, ${s}%, ${a}%, ${Mo(n.a)})`:`hsl(${e}, ${s}%, ${a}%)`}const L3={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},F3={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function c2e(){const n={},t=Object.keys(F3),e=Object.keys(L3);let s,a,i,o,c;for(s=0;s<t.length;s++){for(o=c=t[s],a=0;a<e.length;a++)i=e[a],c=c.replace(i,L3[i]);i=parseInt(F3[o],16),n[c]=[i>>16&255,i>>8&255,i&255]}return n}let oA;function d2e(n){oA||(oA=c2e(),oA.transparent=[0,0,0,0]);const t=oA[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const u2e=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function h2e(n){const t=u2e.exec(n);let e=255,s,a,i;if(t){if(t[7]!==s){const o=+t[7];e=t[8]?Af(o):Ll(o*255,0,255)}return s=+t[1],a=+t[3],i=+t[5],s=255&(t[2]?Af(s):Ll(s,0,255)),a=255&(t[4]?Af(a):Ll(a,0,255)),i=255&(t[6]?Af(i):Ll(i,0,255)),{r:s,g:a,b:i,a:e}}}function f2e(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Mo(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const cy=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Gd=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function m2e(n,t,e){const s=Gd(Mo(n.r)),a=Gd(Mo(n.g)),i=Gd(Mo(n.b));return{r:Gl(cy(s+e*(Gd(Mo(t.r))-s))),g:Gl(cy(a+e*(Gd(Mo(t.g))-a))),b:Gl(cy(i+e*(Gd(Mo(t.b))-i))),a:n.a+e*(t.a-n.a)}}function lA(n,t,e){if(n){let s=WC(n);s[t]=Math.max(0,Math.min(s[t]+s[t]*e,t===0?360:1)),s=YC(s),n.r=s[0],n.g=s[1],n.b=s[2]}}function $L(n,t){return n&&Object.assign(t||{},n)}function R3(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Gl(n[3]))):(t=$L(n,{r:0,g:0,b:0,a:1}),t.a=Gl(t.a)),t}function p2e(n){return n.charAt(0)==="r"?h2e(n):i2e(n)}class Cm{constructor(t){if(t instanceof Cm)return t;const e=typeof t;let s;e==="object"?s=R3(t):e==="string"&&(s=Y1e(t)||d2e(t)||p2e(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=$L(this._rgb);return t&&(t.a=Mo(t.a)),t}set rgb(t){this._rgb=R3(t)}rgbString(){return this._valid?f2e(this._rgb):void 0}hexString(){return this._valid?Z1e(this._rgb):void 0}hslString(){return this._valid?l2e(this._rgb):void 0}mix(t,e){if(t){const s=this.rgb,a=t.rgb;let i;const o=e===i?.5:e,c=2*o-1,l=s.a-a.a,d=((c*l===-1?c:(c+l)/(1+c*l))+1)/2;i=1-d,s.r=255&d*s.r+i*a.r+.5,s.g=255&d*s.g+i*a.g+.5,s.b=255&d*s.b+i*a.b+.5,s.a=o*s.a+(1-o)*a.a,this.rgb=s}return this}interpolate(t,e){return t&&(this._rgb=m2e(this._rgb,t._rgb,e)),this}clone(){return new Cm(this.rgb)}alpha(t){return this._rgb.a=Gl(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=vp(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return lA(this._rgb,2,t),this}darken(t){return lA(this._rgb,2,-t),this}saturate(t){return lA(this._rgb,1,t),this}desaturate(t){return lA(this._rgb,1,-t),this}rotate(t){return o2e(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function yo(){}const A2e=(()=>{let n=0;return()=>n++})();function Pn(n){return n==null}function _r(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function On(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Qr(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Ta(n,t){return Qr(n)?n:t}function xn(n,t){return typeof n>"u"?t:n}const g2e=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,QL=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function fr(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function sr(n,t,e,s){let a,i,o;if(_r(n))for(i=n.length,a=0;a<i;a++)t.call(e,n[a],a);else if(On(n))for(o=Object.keys(n),i=o.length,a=0;a<i;a++)t.call(e,n[o[a]],o[a])}function D0(n,t){let e,s,a,i;if(!n||!t||n.length!==t.length)return!1;for(e=0,s=n.length;e<s;++e)if(a=n[e],i=t[e],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function I0(n){if(_r(n))return n.map(I0);if(On(n)){const t=Object.create(null),e=Object.keys(n),s=e.length;let a=0;for(;a<s;++a)t[e[a]]=I0(n[e[a]]);return t}return n}function VL(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function x2e(n,t,e,s){if(!VL(n))return;const a=t[n],i=e[n];On(a)&&On(i)?Nm(a,i,s):t[n]=I0(i)}function Nm(n,t,e){const s=_r(t)?t:[t],a=s.length;if(!On(n))return n;e=e||{};const i=e.merger||x2e;let o;for(let c=0;c<a;++c){if(o=s[c],!On(o))continue;const l=Object.keys(o);for(let d=0,u=l.length;d<u;++d)i(l[d],n,o,e)}return n}function If(n,t){return Nm(n,t,{merger:b2e})}function b2e(n,t,e){if(!VL(n))return;const s=t[n],a=e[n];On(s)&&On(a)?If(s,a):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=I0(a))}const U3={"":n=>n,x:n=>n.x,y:n=>n.y};function v2e(n){const t=n.split("."),e=[];let s="";for(const a of t)s+=a,s.endsWith("\\")?s=s.slice(0,-1)+".":(e.push(s),s="");return e}function y2e(n){const t=v2e(n);return e=>{for(const s of t){if(s==="")break;e=e&&e[s]}return e}}function nc(n,t){return(U3[t]||(U3[t]=y2e(t)))(n)}function JC(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Sm=n=>typeof n<"u",rc=n=>typeof n=="function",H3=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function w2e(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const qn=Math.PI,Nr=2*qn,j2e=Nr+qn,O0=Number.POSITIVE_INFINITY,C2e=qn/180,Xr=qn/2,Cc=qn/4,$3=qn*2/3,Fl=Math.log10,no=Math.sign;function Of(n,t,e){return Math.abs(n-t)<e}function Q3(n){const t=Math.round(n);n=Of(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Fl(n))),s=n/e;return(s<=1?1:s<=2?2:s<=5?5:10)*e}function N2e(n){const t=[],e=Math.sqrt(n);let s;for(s=1;s<e;s++)n%s===0&&(t.push(s),t.push(n/s));return e===(e|0)&&t.push(e),t.sort((a,i)=>a-i).pop(),t}function S2e(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Wu(n){return!S2e(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function T2e(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function zL(n,t,e){let s,a,i;for(s=0,a=n.length;s<a;s++)i=n[s][e],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function pi(n){return n*(qn/180)}function ZC(n){return n*(180/qn)}function V3(n){if(!Qr(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function KL(n,t){const e=t.x-n.x,s=t.y-n.y,a=Math.sqrt(e*e+s*s);let i=Math.atan2(s,e);return i<-.5*qn&&(i+=Nr),{angle:i,distance:a}}function G1(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function k2e(n,t){return(n-t+j2e)%Nr-qn}function Is(n){return(n%Nr+Nr)%Nr}function Tm(n,t,e,s){const a=Is(n),i=Is(t),o=Is(e),c=Is(i-a),l=Is(o-a),d=Is(a-i),u=Is(a-o);return a===i||a===o||s&&i===o||c>l&&d<u}function bs(n,t,e){return Math.max(t,Math.min(e,n))}function _2e(n){return bs(n,-32768,32767)}function Oo(n,t,e,s=1e-6){return n>=Math.min(t,e)-s&&n<=Math.max(t,e)+s}function eN(n,t,e){e=e||(o=>n[o]<t);let s=n.length-1,a=0,i;for(;s-a>1;)i=a+s>>1,e(i)?a=i:s=i;return{lo:a,hi:s}}const Lo=(n,t,e,s)=>eN(n,e,s?a=>{const i=n[a][t];return i<e||i===e&&n[a+1][t]===e}:a=>n[a][t]<e),B2e=(n,t,e)=>eN(n,e,s=>n[s][t]>=e);function E2e(n,t,e){let s=0,a=n.length;for(;s<a&&n[s]<t;)s++;for(;a>s&&n[a-1]>e;)a--;return s>0||a<n.length?n.slice(s,a):n}const GL=["push","pop","shift","splice","unshift"];function M2e(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),GL.forEach(e=>{const s="_onData"+JC(e),a=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...i){const o=a.apply(this,i);return n._chartjs.listeners.forEach(c=>{typeof c[s]=="function"&&c[s](...i)}),o}})})}function z3(n,t){const e=n._chartjs;if(!e)return;const s=e.listeners,a=s.indexOf(t);a!==-1&&s.splice(a,1),!(s.length>0)&&(GL.forEach(i=>{delete n[i]}),delete n._chartjs)}function qL(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const WL=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function XL(n,t){let e=[],s=!1;return function(...a){e=a,s||(s=!0,WL.call(window,()=>{s=!1,n.apply(t,e)}))}}function P2e(n,t){let e;return function(...s){return t?(clearTimeout(e),e=setTimeout(n,t,s)):n.apply(this,s),t}}const tN=n=>n==="start"?"left":n==="end"?"right":"center",Ds=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,D2e=(n,t,e,s)=>n===(s?"left":"right")?e:n==="center"?(t+e)/2:t;function YL(n,t,e){const s=t.length;let a=0,i=s;if(n._sorted){const{iScale:o,vScale:c,_parsed:l}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,u=o.axis,{min:f,max:h,minDefined:m,maxDefined:A}=o.getUserBounds();if(m){if(a=Math.min(Lo(l,u,f).lo,e?s:Lo(t,u,o.getPixelForValue(f)).lo),d){const g=l.slice(0,a+1).reverse().findIndex(p=>!Pn(p[c.axis]));a-=Math.max(0,g)}a=bs(a,0,s-1)}if(A){let g=Math.max(Lo(l,o.axis,h,!0).hi+1,e?0:Lo(t,u,o.getPixelForValue(h),!0).hi+1);if(d){const p=l.slice(g-1).findIndex(b=>!Pn(b[c.axis]));g+=Math.max(0,p)}i=bs(g,a,s)-a}else i=s-a}return{start:a,count:i}}function JL(n){const{xScale:t,yScale:e,_scaleRanges:s}=n,a={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!s)return n._scaleRanges=a,!0;const i=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==e.min||s.ymax!==e.max;return Object.assign(s,a),i}const cA=n=>n===0||n===1,K3=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Nr/e)),G3=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Nr/e)+1,Lf={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Xr)+1,easeOutSine:n=>Math.sin(n*Xr),easeInOutSine:n=>-.5*(Math.cos(qn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>cA(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>cA(n)?n:K3(n,.075,.3),easeOutElastic:n=>cA(n)?n:G3(n,.075,.3),easeInOutElastic(n){return cA(n)?n:n<.5?.5*K3(n*2,.1125,.45):.5+.5*G3(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Lf.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Lf.easeInBounce(n*2)*.5:Lf.easeOutBounce(n*2-1)*.5+.5};function nN(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function q3(n){return nN(n)?n:new Cm(n)}function dy(n){return nN(n)?n:new Cm(n).saturate(.5).darken(.1).hexString()}const I2e=["x","y","borderWidth","radius","tension"],O2e=["color","borderColor","backgroundColor"];function L2e(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:O2e},numbers:{type:"number",properties:I2e}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function F2e(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const W3=new Map;function R2e(n,t){t=t||{};const e=n+JSON.stringify(t);let s=W3.get(e);return s||(s=new Intl.NumberFormat(n,t),W3.set(e,s)),s}function yp(n,t,e){return R2e(t,e).format(n)}const ZL={values(n){return _r(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const s=this.chart.options.locale;let a,i=n;if(e.length>1){const d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(a="scientific"),i=U2e(n,e)}const o=Fl(Math.abs(i)),c=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:a,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(l,this.options.ticks.format),yp(n,s,l)},logarithmic(n,t,e){if(n===0)return"0";const s=e[t].significand||n/Math.pow(10,Math.floor(Fl(n)));return[1,2,3,5,10,15].includes(s)||t>.8*e.length?ZL.numeric.call(this,n,t,e):""}};function U2e(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var kb={formatters:ZL};function H2e(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:kb.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const jd=Object.create(null),q1=Object.create(null);function Ff(n,t){if(!t)return n;const e=t.split(".");for(let s=0,a=e.length;s<a;++s){const i=e[s];n=n[i]||(n[i]=Object.create(null))}return n}function uy(n,t,e){return typeof t=="string"?Nm(Ff(n,t),e):Nm(Ff(n,""),t)}class $2e{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,a)=>dy(a.backgroundColor),this.hoverBorderColor=(s,a)=>dy(a.borderColor),this.hoverColor=(s,a)=>dy(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return uy(this,t,e)}get(t){return Ff(this,t)}describe(t,e){return uy(q1,t,e)}override(t,e){return uy(jd,t,e)}route(t,e,s,a){const i=Ff(this,t),o=Ff(this,s),c="_"+e;Object.defineProperties(i,{[c]:{value:i[e],writable:!0},[e]:{enumerable:!0,get(){const l=this[c],d=o[a];return On(l)?Object.assign({},d,l):xn(l,d)},set(l){this[c]=l}}})}apply(t){t.forEach(e=>e(this))}}var Pr=new $2e({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[L2e,F2e,H2e]);function Q2e(n){return!n||Pn(n.size)||Pn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function L0(n,t,e,s,a){let i=t[a];return i||(i=t[a]=n.measureText(a).width,e.push(a)),i>s&&(s=i),s}function V2e(n,t,e,s){s=s||{};let a=s.data=s.data||{},i=s.garbageCollect=s.garbageCollect||[];s.font!==t&&(a=s.data={},i=s.garbageCollect=[],s.font=t),n.save(),n.font=t;let o=0;const c=e.length;let l,d,u,f,h;for(l=0;l<c;l++)if(f=e[l],f!=null&&!_r(f))o=L0(n,a,i,o,f);else if(_r(f))for(d=0,u=f.length;d<u;d++)h=f[d],h!=null&&!_r(h)&&(o=L0(n,a,i,o,h));n.restore();const m=i.length/2;if(m>e.length){for(l=0;l<m;l++)delete a[i[l]];i.splice(0,m)}return o}function Nc(n,t,e){const s=n.currentDevicePixelRatio,a=e!==0?Math.max(e/2,.5):0;return Math.round((t-a)*s)/s+a}function X3(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function W1(n,t,e,s){eF(n,t,e,s,null)}function eF(n,t,e,s,a){let i,o,c,l,d,u,f,h;const m=t.pointStyle,A=t.rotation,g=t.radius;let p=(A||0)*C2e;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){n.save(),n.translate(e,s),n.rotate(p),n.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),n.restore();return}if(!(isNaN(g)||g<=0)){switch(n.beginPath(),m){default:a?n.ellipse(e,s,a/2,g,0,0,Nr):n.arc(e,s,g,0,Nr),n.closePath();break;case"triangle":u=a?a/2:g,n.moveTo(e+Math.sin(p)*u,s-Math.cos(p)*g),p+=$3,n.lineTo(e+Math.sin(p)*u,s-Math.cos(p)*g),p+=$3,n.lineTo(e+Math.sin(p)*u,s-Math.cos(p)*g),n.closePath();break;case"rectRounded":d=g*.516,l=g-d,o=Math.cos(p+Cc)*l,f=Math.cos(p+Cc)*(a?a/2-d:l),c=Math.sin(p+Cc)*l,h=Math.sin(p+Cc)*(a?a/2-d:l),n.arc(e-f,s-c,d,p-qn,p-Xr),n.arc(e+h,s-o,d,p-Xr,p),n.arc(e+f,s+c,d,p,p+Xr),n.arc(e-h,s+o,d,p+Xr,p+qn),n.closePath();break;case"rect":if(!A){l=Math.SQRT1_2*g,u=a?a/2:l,n.rect(e-u,s-l,2*u,2*l);break}p+=Cc;case"rectRot":f=Math.cos(p)*(a?a/2:g),o=Math.cos(p)*g,c=Math.sin(p)*g,h=Math.sin(p)*(a?a/2:g),n.moveTo(e-f,s-c),n.lineTo(e+h,s-o),n.lineTo(e+f,s+c),n.lineTo(e-h,s+o),n.closePath();break;case"crossRot":p+=Cc;case"cross":f=Math.cos(p)*(a?a/2:g),o=Math.cos(p)*g,c=Math.sin(p)*g,h=Math.sin(p)*(a?a/2:g),n.moveTo(e-f,s-c),n.lineTo(e+f,s+c),n.moveTo(e+h,s-o),n.lineTo(e-h,s+o);break;case"star":f=Math.cos(p)*(a?a/2:g),o=Math.cos(p)*g,c=Math.sin(p)*g,h=Math.sin(p)*(a?a/2:g),n.moveTo(e-f,s-c),n.lineTo(e+f,s+c),n.moveTo(e+h,s-o),n.lineTo(e-h,s+o),p+=Cc,f=Math.cos(p)*(a?a/2:g),o=Math.cos(p)*g,c=Math.sin(p)*g,h=Math.sin(p)*(a?a/2:g),n.moveTo(e-f,s-c),n.lineTo(e+f,s+c),n.moveTo(e+h,s-o),n.lineTo(e-h,s+o);break;case"line":o=a?a/2:Math.cos(p)*g,c=Math.sin(p)*g,n.moveTo(e-o,s-c),n.lineTo(e+o,s+c);break;case"dash":n.moveTo(e,s),n.lineTo(e+Math.cos(p)*(a?a/2:g),s+Math.sin(p)*g);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Fo(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function _b(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Bb(n){n.restore()}function z2e(n,t,e,s,a){if(!t)return n.lineTo(e.x,e.y);if(a==="middle"){const i=(t.x+e.x)/2;n.lineTo(i,t.y),n.lineTo(i,e.y)}else a==="after"!=!!s?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function K2e(n,t,e,s){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?e.cp2x:e.cp1x,s?e.cp2y:e.cp1y,e.x,e.y)}function G2e(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Pn(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function q2e(n,t,e,s,a){if(a.strikethrough||a.underline){const i=n.measureText(s),o=t-i.actualBoundingBoxLeft,c=t+i.actualBoundingBoxRight,l=e-i.actualBoundingBoxAscent,d=e+i.actualBoundingBoxDescent,u=a.strikethrough?(l+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=a.decorationWidth||2,n.moveTo(o,u),n.lineTo(c,u),n.stroke()}}function W2e(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Cd(n,t,e,s,a,i={}){const o=_r(t)?t:[t],c=i.strokeWidth>0&&i.strokeColor!=="";let l,d;for(n.save(),n.font=a.string,G2e(n,i),l=0;l<o.length;++l)d=o[l],i.backdrop&&W2e(n,i.backdrop),c&&(i.strokeColor&&(n.strokeStyle=i.strokeColor),Pn(i.strokeWidth)||(n.lineWidth=i.strokeWidth),n.strokeText(d,e,s,i.maxWidth)),n.fillText(d,e,s,i.maxWidth),q2e(n,e,s,d,i),s+=Number(a.lineHeight);n.restore()}function km(n,t){const{x:e,y:s,w:a,h:i,radius:o}=t;n.arc(e+o.topLeft,s+o.topLeft,o.topLeft,1.5*qn,qn,!0),n.lineTo(e,s+i-o.bottomLeft),n.arc(e+o.bottomLeft,s+i-o.bottomLeft,o.bottomLeft,qn,Xr,!0),n.lineTo(e+a-o.bottomRight,s+i),n.arc(e+a-o.bottomRight,s+i-o.bottomRight,o.bottomRight,Xr,0,!0),n.lineTo(e+a,s+o.topRight),n.arc(e+a-o.topRight,s+o.topRight,o.topRight,0,-Xr,!0),n.lineTo(e+o.topLeft,s)}const X2e=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Y2e=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function J2e(n,t){const e=(""+n).match(X2e);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const Z2e=n=>+n||0;function rN(n,t){const e={},s=On(t),a=s?Object.keys(t):t,i=On(n)?s?o=>xn(n[o],n[t[o]]):o=>n[o]:()=>n;for(const o of a)e[o]=Z2e(i(o));return e}function tF(n){return rN(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Jc(n){return rN(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Hs(n){const t=tF(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ds(n,t){n=n||{},t=t||Pr.font;let e=xn(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let s=xn(n.style,t.style);s&&!(""+s).match(Y2e)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const a={family:xn(n.family,t.family),lineHeight:J2e(xn(n.lineHeight,t.lineHeight),e),size:e,style:s,weight:xn(n.weight,t.weight),string:""};return a.string=Q2e(a),a}function gf(n,t,e,s){let a,i,o;for(a=0,i=n.length;a<i;++a)if(o=n[a],o!==void 0&&o!==void 0)return o}function eje(n,t,e){const{min:s,max:a}=n,i=QL(t,(a-s)/2),o=(c,l)=>e&&c===0?0:c+l;return{min:o(s,-Math.abs(i)),max:o(a,i)}}function bc(n,t){return Object.assign(Object.create(n),t)}function sN(n,t=[""],e,s,a=()=>n[0]){const i=e||n;typeof s>"u"&&(s=aF("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:i,_fallback:s,_getTarget:a,override:c=>sN([c,...n],t,i,s)};return new Proxy(o,{deleteProperty(c,l){return delete c[l],delete c._keys,delete n[0][l],!0},get(c,l){return rF(c,l,()=>lje(l,t,n,c))},getOwnPropertyDescriptor(c,l){return Reflect.getOwnPropertyDescriptor(c._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,l){return J3(c).includes(l)},ownKeys(c){return J3(c)},set(c,l,d){const u=c._storage||(c._storage=a());return c[l]=u[l]=d,delete c._keys,!0}})}function Xu(n,t,e,s){const a={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:nF(n,s),setContext:i=>Xu(n,i,e,s),override:i=>Xu(n.override(i),t,e,s)};return new Proxy(a,{deleteProperty(i,o){return delete i[o],delete n[o],!0},get(i,o,c){return rF(i,o,()=>nje(i,o,c))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(i,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(i,o,c){return n[o]=c,delete i[o],!0}})}function nF(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:s=t.indexable,_allKeys:a=t.allKeys}=n;return{allKeys:a,scriptable:e,indexable:s,isScriptable:rc(e)?e:()=>e,isIndexable:rc(s)?s:()=>s}}const tje=(n,t)=>n?n+JC(t):t,aN=(n,t)=>On(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function rF(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const s=e();return n[t]=s,s}function nje(n,t,e){const{_proxy:s,_context:a,_subProxy:i,_descriptors:o}=n;let c=s[t];return rc(c)&&o.isScriptable(t)&&(c=rje(t,c,n,e)),_r(c)&&c.length&&(c=sje(t,c,n,o.isIndexable)),aN(t,c)&&(c=Xu(c,a,i&&i[t],o)),c}function rje(n,t,e,s){const{_proxy:a,_context:i,_subProxy:o,_stack:c}=e;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let l=t(i,o||s);return c.delete(n),aN(n,l)&&(l=iN(a._scopes,a,n,l)),l}function sje(n,t,e,s){const{_proxy:a,_context:i,_subProxy:o,_descriptors:c}=e;if(typeof i.index<"u"&&s(n))return t[i.index%t.length];if(On(t[0])){const l=t,d=a._scopes.filter(u=>u!==l);t=[];for(const u of l){const f=iN(d,a,n,u);t.push(Xu(f,i,o&&o[n],c))}}return t}function sF(n,t,e){return rc(n)?n(t,e):n}const aje=(n,t)=>n===!0?t:typeof n=="string"?nc(t,n):void 0;function ije(n,t,e,s,a){for(const i of t){const o=aje(e,i);if(o){n.add(o);const c=sF(o._fallback,e,a);if(typeof c<"u"&&c!==e&&c!==s)return c}else if(o===!1&&typeof s<"u"&&e!==s)return null}return!1}function iN(n,t,e,s){const a=t._rootScopes,i=sF(t._fallback,e,s),o=[...n,...a],c=new Set;c.add(s);let l=Y3(c,o,e,i||e,s);return l===null||typeof i<"u"&&i!==e&&(l=Y3(c,o,i,l,s),l===null)?!1:sN(Array.from(c),[""],a,i,()=>oje(t,e,s))}function Y3(n,t,e,s,a){for(;e;)e=ije(n,t,e,s,a);return e}function oje(n,t,e){const s=n._getTarget();t in s||(s[t]={});const a=s[t];return _r(a)&&On(e)?e:a||{}}function lje(n,t,e,s){let a;for(const i of t)if(a=aF(tje(i,n),e),typeof a<"u")return aN(n,a)?iN(e,s,n,a):a}function aF(n,t){for(const e of t){if(!e)continue;const s=e[n];if(typeof s<"u")return s}}function J3(n){let t=n._keys;return t||(t=n._keys=cje(n._scopes)),t}function cje(n){const t=new Set;for(const e of n)for(const s of Object.keys(e).filter(a=>!a.startsWith("_")))t.add(s);return Array.from(t)}function iF(n,t,e,s){const{iScale:a}=n,{key:i="r"}=this._parsing,o=new Array(s);let c,l,d,u;for(c=0,l=s;c<l;++c)d=c+e,u=t[d],o[c]={r:a.parse(nc(u,i),d)};return o}const dje=Number.EPSILON||1e-14,Yu=(n,t)=>t<n.length&&!n[t].skip&&n[t],oF=n=>n==="x"?"y":"x";function uje(n,t,e,s){const a=n.skip?t:n,i=t,o=e.skip?t:e,c=G1(i,a),l=G1(o,i);let d=c/(c+l),u=l/(c+l);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const f=s*d,h=s*u;return{previous:{x:i.x-f*(o.x-a.x),y:i.y-f*(o.y-a.y)},next:{x:i.x+h*(o.x-a.x),y:i.y+h*(o.y-a.y)}}}function hje(n,t,e){const s=n.length;let a,i,o,c,l,d=Yu(n,0);for(let u=0;u<s-1;++u)if(l=d,d=Yu(n,u+1),!(!l||!d)){if(Of(t[u],0,dje)){e[u]=e[u+1]=0;continue}a=e[u]/t[u],i=e[u+1]/t[u],c=Math.pow(a,2)+Math.pow(i,2),!(c<=9)&&(o=3/Math.sqrt(c),e[u]=a*o*t[u],e[u+1]=i*o*t[u])}}function fje(n,t,e="x"){const s=oF(e),a=n.length;let i,o,c,l=Yu(n,0);for(let d=0;d<a;++d){if(o=c,c=l,l=Yu(n,d+1),!c)continue;const u=c[e],f=c[s];o&&(i=(u-o[e])/3,c[`cp1${e}`]=u-i,c[`cp1${s}`]=f-i*t[d]),l&&(i=(l[e]-u)/3,c[`cp2${e}`]=u+i,c[`cp2${s}`]=f+i*t[d])}}function mje(n,t="x"){const e=oF(t),s=n.length,a=Array(s).fill(0),i=Array(s);let o,c,l,d=Yu(n,0);for(o=0;o<s;++o)if(c=l,l=d,d=Yu(n,o+1),!!l){if(d){const u=d[t]-l[t];a[o]=u!==0?(d[e]-l[e])/u:0}i[o]=c?d?no(a[o-1])!==no(a[o])?0:(a[o-1]+a[o])/2:a[o-1]:a[o]}hje(n,a,i),fje(n,i,t)}function dA(n,t,e){return Math.max(Math.min(n,e),t)}function pje(n,t){let e,s,a,i,o,c=Fo(n[0],t);for(e=0,s=n.length;e<s;++e)o=i,i=c,c=e<s-1&&Fo(n[e+1],t),i&&(a=n[e],o&&(a.cp1x=dA(a.cp1x,t.left,t.right),a.cp1y=dA(a.cp1y,t.top,t.bottom)),c&&(a.cp2x=dA(a.cp2x,t.left,t.right),a.cp2y=dA(a.cp2y,t.top,t.bottom)))}function Aje(n,t,e,s,a){let i,o,c,l;if(t.spanGaps&&(n=n.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")mje(n,a);else{let d=s?n[n.length-1]:n[0];for(i=0,o=n.length;i<o;++i)c=n[i],l=uje(d,c,n[Math.min(i+1,o-(s?0:1))%o],t.tension),c.cp1x=l.previous.x,c.cp1y=l.previous.y,c.cp2x=l.next.x,c.cp2y=l.next.y,d=c}t.capBezierPoints&&pje(n,e)}function oN(){return typeof window<"u"&&typeof document<"u"}function lN(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function F0(n,t,e){let s;return typeof n=="string"?(s=parseInt(n,10),n.indexOf("%")!==-1&&(s=s/100*t.parentNode[e])):s=n,s}const Eb=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function gje(n,t){return Eb(n).getPropertyValue(t)}const xje=["top","right","bottom","left"];function Zc(n,t,e){const s={};e=e?"-"+e:"";for(let a=0;a<4;a++){const i=xje[a];s[i]=parseFloat(n[t+"-"+i+e])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const bje=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function vje(n,t){const e=n.touches,s=e&&e.length?e[0]:n,{offsetX:a,offsetY:i}=s;let o=!1,c,l;if(bje(a,i,n.target))c=a,l=i;else{const d=t.getBoundingClientRect();c=s.clientX-d.left,l=s.clientY-d.top,o=!0}return{x:c,y:l,box:o}}function Ic(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:s}=t,a=Eb(e),i=a.boxSizing==="border-box",o=Zc(a,"padding"),c=Zc(a,"border","width"),{x:l,y:d,box:u}=vje(n,e),f=o.left+(u&&c.left),h=o.top+(u&&c.top);let{width:m,height:A}=t;return i&&(m-=o.width+c.width,A-=o.height+c.height),{x:Math.round((l-f)/m*e.width/s),y:Math.round((d-h)/A*e.height/s)}}function yje(n,t,e){let s,a;if(t===void 0||e===void 0){const i=n&&lN(n);if(!i)t=n.clientWidth,e=n.clientHeight;else{const o=i.getBoundingClientRect(),c=Eb(i),l=Zc(c,"border","width"),d=Zc(c,"padding");t=o.width-d.width-l.width,e=o.height-d.height-l.height,s=F0(c.maxWidth,i,"clientWidth"),a=F0(c.maxHeight,i,"clientHeight")}}return{width:t,height:e,maxWidth:s||O0,maxHeight:a||O0}}const uA=n=>Math.round(n*10)/10;function wje(n,t,e,s){const a=Eb(n),i=Zc(a,"margin"),o=F0(a.maxWidth,n,"clientWidth")||O0,c=F0(a.maxHeight,n,"clientHeight")||O0,l=yje(n,t,e);let{width:d,height:u}=l;if(a.boxSizing==="content-box"){const h=Zc(a,"border","width"),m=Zc(a,"padding");d-=m.width+h.width,u-=m.height+h.height}return d=Math.max(0,d-i.width),u=Math.max(0,s?d/s:u-i.height),d=uA(Math.min(d,o,l.maxWidth)),u=uA(Math.min(u,c,l.maxHeight)),d&&!u&&(u=uA(d/2)),(t!==void 0||e!==void 0)&&s&&l.height&&u>l.height&&(u=l.height,d=uA(Math.floor(u*s))),{width:d,height:u}}function Z3(n,t,e){const s=t||1,a=Math.floor(n.height*s),i=Math.floor(n.width*s);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==s||o.height!==a||o.width!==i?(n.currentDevicePixelRatio=s,o.height=a,o.width=i,n.ctx.setTransform(s,0,0,s,0,0),!0):!1}const jje=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};oN()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function e5(n,t){const e=gje(n,t),s=e&&e.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Oc(n,t,e,s){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function Cje(n,t,e,s){return{x:n.x+e*(t.x-n.x),y:s==="middle"?e<.5?n.y:t.y:s==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function Nje(n,t,e,s){const a={x:n.cp2x,y:n.cp2y},i={x:t.cp1x,y:t.cp1y},o=Oc(n,a,e),c=Oc(a,i,e),l=Oc(i,t,e),d=Oc(o,c,e),u=Oc(c,l,e);return Oc(d,u,e)}const Sje=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,s){return e-s},leftForLtr(e,s){return e-s}}},Tje=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function vu(n,t,e){return n?Sje(t,e):Tje()}function lF(n,t){let e,s;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,s=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=s)}function cF(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function dF(n){return n==="angle"?{between:Tm,compare:k2e,normalize:Is}:{between:Oo,compare:(t,e)=>t-e,normalize:t=>t}}function t5({start:n,end:t,count:e,loop:s,style:a}){return{start:n%e,end:t%e,loop:s&&(t-n+1)%e===0,style:a}}function kje(n,t,e){const{property:s,start:a,end:i}=e,{between:o,normalize:c}=dF(s),l=t.length;let{start:d,end:u,loop:f}=n,h,m;if(f){for(d+=l,u+=l,h=0,m=l;h<m&&o(c(t[d%l][s]),a,i);++h)d--,u--;d%=l,u%=l}return u<d&&(u+=l),{start:d,end:u,loop:f,style:n.style}}function uF(n,t,e){if(!e)return[n];const{property:s,start:a,end:i}=e,o=t.length,{compare:c,between:l,normalize:d}=dF(s),{start:u,end:f,loop:h,style:m}=kje(n,t,e),A=[];let g=!1,p=null,b,x,v;const y=()=>l(a,v,b)&&c(a,v)!==0,S=()=>c(i,b)===0||l(i,v,b),M=()=>g||y(),P=()=>!g||S();for(let B=u,D=u;B<=f;++B)x=t[B%o],!x.skip&&(b=d(x[s]),b!==v&&(g=l(b,a,i),p===null&&M()&&(p=c(b,a)===0?B:D),p!==null&&P()&&(A.push(t5({start:p,end:B,loop:h,count:o,style:m})),p=null),D=B,v=b));return p!==null&&A.push(t5({start:p,end:f,loop:h,count:o,style:m})),A}function hF(n,t){const e=[],s=n.segments;for(let a=0;a<s.length;a++){const i=uF(s[a],n.points,t);i.length&&e.push(...i)}return e}function _je(n,t,e,s){let a=0,i=t-1;if(e&&!s)for(;a<t&&!n[a].skip;)a++;for(;a<t&&n[a].skip;)a++;for(a%=t,e&&(i+=a);i>a&&n[i%t].skip;)i--;return i%=t,{start:a,end:i}}function Bje(n,t,e,s){const a=n.length,i=[];let o=t,c=n[t],l;for(l=t+1;l<=e;++l){const d=n[l%a];d.skip||d.stop?c.skip||(s=!1,i.push({start:t%a,end:(l-1)%a,loop:s}),t=o=d.stop?l:null):(o=l,c.skip&&(t=l)),c=d}return o!==null&&i.push({start:t%a,end:o%a,loop:s}),i}function Eje(n,t){const e=n.points,s=n.options.spanGaps,a=e.length;if(!a)return[];const i=!!n._loop,{start:o,end:c}=_je(e,a,i,s);if(s===!0)return n5(n,[{start:o,end:c,loop:i}],e,t);const l=c<o?c+a:c,d=!!n._fullLoop&&o===0&&c===a-1;return n5(n,Bje(e,o,l,d),e,t)}function n5(n,t,e,s){return!s||!s.setContext||!e?t:Mje(n,t,e,s)}function Mje(n,t,e,s){const a=n._chart.getContext(),i=r5(n.options),{_datasetIndex:o,options:{spanGaps:c}}=n,l=e.length,d=[];let u=i,f=t[0].start,h=f;function m(A,g,p,b){const x=c?-1:1;if(A!==g){for(A+=l;e[A%l].skip;)A-=x;for(;e[g%l].skip;)g+=x;A%l!==g%l&&(d.push({start:A%l,end:g%l,loop:p,style:b}),u=b,f=g%l)}}for(const A of t){f=c?f:A.start;let g=e[f%l],p;for(h=f+1;h<=A.end;h++){const b=e[h%l];p=r5(s.setContext(bc(a,{type:"segment",p0:g,p1:b,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),Pje(p,u)&&m(f,h-1,A.loop,u),g=b,u=p}f<h-1&&m(f,h-1,A.loop,u)}return d}function r5(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Pje(n,t){if(!t)return!1;const e=[],s=function(a,i){return nN(i)?(e.includes(i)||e.push(i),e.indexOf(i)):i};return JSON.stringify(n,s)!==JSON.stringify(t,s)}function hA(n,t,e){return n.options.clip?n[e]:t[e]}function Dje(n,t){const{xScale:e,yScale:s}=n;return e&&s?{left:hA(e,t,"left"),right:hA(e,t,"right"),top:hA(s,t,"top"),bottom:hA(s,t,"bottom")}:t}function fF(n,t){const e=t._clip;if(e.disabled)return!1;const s=Dje(t,n.chartArea);return{left:e.left===!1?0:s.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:s.right+(e.right===!0?0:e.right),top:e.top===!1?0:s.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:s.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Ije{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,s,a){const i=e.listeners[a],o=e.duration;i.forEach(c=>c({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(s-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=WL.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const i=s.items;let o=i.length-1,c=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(t),c=!0):(i[o]=i[i.length-1],i.pop());c&&(a.draw(),this._notify(a,s,t,"progress")),i.length||(s.running=!1,this._notify(a,s,t,"complete"),s.initial=!1),e+=i.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let s=e.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,s)),s}listen(t,e,s){this._getAnims(t).listeners[e].push(s)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((s,a)=>Math.max(s,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const s=e.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Bo=new Ije;const s5="transparent",Oje={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const s=q3(n||s5),a=s.valid&&q3(t||s5);return a&&a.valid?a.mix(s,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class Lje{constructor(t,e,s,a){const i=e[s];a=gf([t.to,a,i,t.from]);const o=gf([t.from,i,a]);this._active=!0,this._fn=t.fn||Oje[t.type||typeof o],this._easing=Lf[t.easing]||Lf.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=s,this._from=o,this._to=a,this._promises=void 0}active(){return this._active}update(t,e,s){if(this._active){this._notify(!1);const a=this._target[this._prop],i=s-this._start,o=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=gf([t.to,e,a,t.from]),this._from=gf([t.from,a,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,s=this._duration,a=this._prop,i=this._from,o=this._loop,c=this._to;let l;if(this._active=i!==c&&(o||e<s),!this._active){this._target[a]=c,this._notify(!0);return}if(e<0){this._target[a]=i;return}l=e/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[a]=this._fn(i,c,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,s)=>{t.push({res:e,rej:s})})}_notify(t){const e=t?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][e]()}}class mF{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!On(t))return;const e=Object.keys(Pr.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const i=t[a];if(!On(i))return;const o={};for(const c of e)o[c]=i[c];(_r(i.properties)&&i.properties||[a]).forEach(c=>{(c===a||!s.has(c))&&s.set(c,o)})})}_animateOptions(t,e){const s=e.options,a=Rje(t,s);if(!a)return[];const i=this._createAnimations(a,s);return s.$shared&&Fje(t.options.$animations,s).then(()=>{t.options=s},()=>{}),i}_createAnimations(t,e){const s=this._properties,a=[],i=t.$animations||(t.$animations={}),o=Object.keys(e),c=Date.now();let l;for(l=o.length-1;l>=0;--l){const d=o[l];if(d.charAt(0)==="$")continue;if(d==="options"){a.push(...this._animateOptions(t,e));continue}const u=e[d];let f=i[d];const h=s.get(d);if(f)if(h&&f.active()){f.update(h,u,c);continue}else f.cancel();if(!h||!h.duration){t[d]=u;continue}i[d]=f=new Lje(h,t,d,u),a.push(f)}return a}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const s=this._createAnimations(t,e);if(s.length)return Bo.add(this._chart,s),!0}}function Fje(n,t){const e=[],s=Object.keys(t);for(let a=0;a<s.length;a++){const i=n[s[a]];i&&i.active()&&e.push(i.wait())}return Promise.all(e)}function Rje(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function a5(n,t){const e=n&&n.options||{},s=e.reverse,a=e.min===void 0?t:0,i=e.max===void 0?t:0;return{start:s?i:a,end:s?a:i}}function Uje(n,t,e){if(e===!1)return!1;const s=a5(n,e),a=a5(t,e);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function Hje(n){let t,e,s,a;return On(n)?(t=n.top,e=n.right,s=n.bottom,a=n.left):t=e=s=a=n,{top:t,right:e,bottom:s,left:a,disabled:n===!1}}function pF(n,t){const e=[],s=n._getSortedDatasetMetas(t);let a,i;for(a=0,i=s.length;a<i;++a)e.push(s[a].index);return e}function i5(n,t,e,s={}){const a=n.keys,i=s.mode==="single";let o,c,l,d;if(t===null)return;let u=!1;for(o=0,c=a.length;o<c;++o){if(l=+a[o],l===e){if(u=!0,s.all)continue;break}d=n.values[l],Qr(d)&&(i||t===0||no(t)===no(d))&&(t+=d)}return!u&&!s.all?0:t}function $je(n,t){const{iScale:e,vScale:s}=t,a=e.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",o=Object.keys(n),c=new Array(o.length);let l,d,u;for(l=0,d=o.length;l<d;++l)u=o[l],c[l]={[a]:u,[i]:n[u]};return c}function hy(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function Qje(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function Vje(n){const{min:t,max:e,minDefined:s,maxDefined:a}=n.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:a?e:Number.POSITIVE_INFINITY}}function zje(n,t,e){const s=n[t]||(n[t]={});return s[e]||(s[e]={})}function o5(n,t,e,s){for(const a of t.getMatchingVisibleMetas(s).reverse()){const i=n[a.index];if(e&&i>0||!e&&i<0)return a.index}return null}function l5(n,t){const{chart:e,_cachedMeta:s}=n,a=e._stacks||(e._stacks={}),{iScale:i,vScale:o,index:c}=s,l=i.axis,d=o.axis,u=Qje(i,o,s),f=t.length;let h;for(let m=0;m<f;++m){const A=t[m],{[l]:g,[d]:p}=A,b=A._stacks||(A._stacks={});h=b[d]=zje(a,u,g),h[c]=p,h._top=o5(h,o,!0,s.type),h._bottom=o5(h,o,!1,s.type);const x=h._visualValues||(h._visualValues={});x[c]=p}}function fy(n,t){const e=n.scales;return Object.keys(e).filter(s=>e[s].axis===t).shift()}function Kje(n,t){return bc(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Gje(n,t,e){return bc(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Wh(n,t){const e=n.controller.index,s=n.vScale&&n.vScale.axis;if(s){t=t||n._parsed;for(const a of t){const i=a._stacks;if(!i||i[s]===void 0||i[s][e]===void 0)return;delete i[s][e],i[s]._visualValues!==void 0&&i[s]._visualValues[e]!==void 0&&delete i[s]._visualValues[e]}}}const my=n=>n==="reset"||n==="none",c5=(n,t)=>t?n:Object.assign({},n),qje=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:pF(e,!0),values:null};class xi{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=hy(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Wh(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,s=this.getDataset(),a=(f,h,m,A)=>f==="x"?h:f==="r"?A:m,i=e.xAxisID=xn(s.xAxisID,fy(t,"x")),o=e.yAxisID=xn(s.yAxisID,fy(t,"y")),c=e.rAxisID=xn(s.rAxisID,fy(t,"r")),l=e.indexAxis,d=e.iAxisID=a(l,i,o,c),u=e.vAxisID=a(l,o,i,c);e.xScale=this.getScaleForId(i),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(c),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&z3(this._data,this),t._stacked&&Wh(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),s=this._data;if(On(e)){const a=this._cachedMeta;this._data=$je(e,a)}else if(s!==e){if(s){z3(s,this);const a=this._cachedMeta;Wh(a),a._parsed=[]}e&&Object.isExtensible(e)&&M2e(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,s=this.getDataset();let a=!1;this._dataCheck();const i=e._stacked;e._stacked=hy(e.vScale,e),e.stack!==s.stack&&(a=!0,Wh(e),e.stack=s.stack),this._resyncElements(t),(a||i!==e._stacked)&&(l5(this,e._parsed),e._stacked=hy(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:s,_data:a}=this,{iScale:i,_stacked:o}=s,c=i.axis;let l=t===0&&e===a.length?!0:s._sorted,d=t>0&&s._parsed[t-1],u,f,h;if(this._parsing===!1)s._parsed=a,s._sorted=!0,h=a;else{_r(a[t])?h=this.parseArrayData(s,a,t,e):On(a[t])?h=this.parseObjectData(s,a,t,e):h=this.parsePrimitiveData(s,a,t,e);const m=()=>f[c]===null||d&&f[c]<d[c];for(u=0;u<e;++u)s._parsed[u+t]=f=h[u],l&&(m()&&(l=!1),d=f);s._sorted=l}o&&l5(this,h)}parsePrimitiveData(t,e,s,a){const{iScale:i,vScale:o}=t,c=i.axis,l=o.axis,d=i.getLabels(),u=i===o,f=new Array(a);let h,m,A;for(h=0,m=a;h<m;++h)A=h+s,f[h]={[c]:u||i.parse(d[A],A),[l]:o.parse(e[A],A)};return f}parseArrayData(t,e,s,a){const{xScale:i,yScale:o}=t,c=new Array(a);let l,d,u,f;for(l=0,d=a;l<d;++l)u=l+s,f=e[u],c[l]={x:i.parse(f[0],u),y:o.parse(f[1],u)};return c}parseObjectData(t,e,s,a){const{xScale:i,yScale:o}=t,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=new Array(a);let u,f,h,m;for(u=0,f=a;u<f;++u)h=u+s,m=e[h],d[u]={x:i.parse(nc(m,c),h),y:o.parse(nc(m,l),h)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,s){const a=this.chart,i=this._cachedMeta,o=e[t.axis],c={keys:pF(a,!0),values:e._stacks[t.axis]._visualValues};return i5(c,o,i.index,{mode:s})}updateRangeFromParsed(t,e,s,a){const i=s[e.axis];let o=i===null?NaN:i;const c=a&&s._stacks[e.axis];a&&c&&(a.values=c,o=i5(a,i,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const s=this._cachedMeta,a=s._parsed,i=s._sorted&&t===s.iScale,o=a.length,c=this._getOtherScale(t),l=qje(e,s,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=Vje(c);let h,m;function A(){m=a[h];const g=m[c.axis];return!Qr(m[t.axis])||u>g||f<g}for(h=0;h<o&&!(!A()&&(this.updateRangeFromParsed(d,t,m,l),i));++h);if(i){for(h=o-1;h>=0;--h)if(!A()){this.updateRangeFromParsed(d,t,m,l);break}}return d}getAllParsedValues(t){const e=this._cachedMeta._parsed,s=[];let a,i,o;for(a=0,i=e.length;a<i;++a)o=e[a][t.axis],Qr(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,s=e.iScale,a=e.vScale,i=this.getParsed(t);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=Hje(xn(this.options.clip,Uje(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,s=this._cachedMeta,a=s.data||[],i=e.chartArea,o=[],c=this._drawStart||0,l=this._drawCount||a.length-c,d=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(t,i,c,l),u=c;u<c+l;++u){const f=a[u];f.hidden||(f.active&&d?o.push(f):f.draw(t,i))}for(u=0;u<o.length;++u)o[u].draw(t,i)}getStyle(t,e){const s=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,e,s){const a=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];i=o.$context||(o.$context=Gje(this.getContext(),t,o)),i.parsed=this.getParsed(t),i.raw=a.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=Kje(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!e,i.mode=s,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",s){const a=e==="active",i=this._cachedDataOpts,o=t+"-"+e,c=i[o],l=this.enableOptionSharing&&Sm(s);if(c)return c5(c,l);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,t),f=a?[`${t}Hover`,"hover",t,""]:[t,""],h=d.getOptionScopes(this.getDataset(),u),m=Object.keys(Pr.elements[t]),A=()=>this.getContext(s,a,e),g=d.resolveNamedOptions(h,m,A,f);return g.$shared&&(g.$shared=l,i[o]=Object.freeze(c5(g,l))),g}_resolveAnimations(t,e,s){const a=this.chart,i=this._cachedDataOpts,o=`animation-${e}`,c=i[o];if(c)return c;let l;if(a.options.animation!==!1){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,e),h=u.getOptionScopes(this.getDataset(),f);l=u.createResolver(h,this.getContext(t,s,e))}const d=new mF(a,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||my(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const s=this.resolveDataElementOptions(t,e),a=this._sharedOptions,i=this.getSharedOptions(s),o=this.includeOptions(e,i)||i!==a;return this.updateSharedOptions(i,e,s),{sharedOptions:i,includeOptions:o}}updateElement(t,e,s,a){my(a)?Object.assign(t,s):this._resolveAnimations(e,a).update(t,s)}updateSharedOptions(t,e,s){t&&!my(e)&&this._resolveAnimations(void 0,e).update(t,s)}_setStyle(t,e,s,a){t.active=a;const i=this.getStyle(e,a);this._resolveAnimations(e,s,a).update(t,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(t,e,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,e,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,s=this._cachedMeta.data;for(const[c,l,d]of this._syncList)this[c](l,d);this._syncList=[];const a=s.length,i=e.length,o=Math.min(i,a);o&&this.parse(0,o),i>a?this._insertElements(a,i-a,t):i<a&&this._removeElements(i,a-i)}_insertElements(t,e,s=!0){const a=this._cachedMeta,i=a.data,o=t+e;let c;const l=d=>{for(d.length+=e,c=d.length-1;c>=o;c--)d[c]=d[c-e]};for(l(i),c=t;c<o;++c)i[c]=new this.dataElementType;this._parsing&&l(a._parsed),this.parse(t,e),s&&this.updateElements(i,t,e,"reset")}updateElements(t,e,s,a){}_removeElements(t,e){const s=this._cachedMeta;if(this._parsing){const a=s._parsed.splice(t,e);s._stacked&&Wh(s,a)}s.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,s,a]=t;this[e](s,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}bt(xi,"defaults",{}),bt(xi,"datasetElementType",null),bt(xi,"dataElementType",null);function Wje(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let s=[];for(let a=0,i=e.length;a<i;a++)s=s.concat(e[a].controller.getAllParsedValues(n));n._cache.$bar=qL(s.sort((a,i)=>a-i))}return n._cache.$bar}function Xje(n){const t=n.iScale,e=Wje(t,n.type);let s=t._length,a,i,o,c;const l=()=>{o===32767||o===-32768||(Sm(c)&&(s=Math.min(s,Math.abs(o-c)||s)),c=o)};for(a=0,i=e.length;a<i;++a)o=t.getPixelForValue(e[a]),l();for(c=void 0,a=0,i=t.ticks.length;a<i;++a)o=t.getPixelForTick(a),l();return s}function Yje(n,t,e,s){const a=e.barThickness;let i,o;return Pn(a)?(i=t.min*e.categoryPercentage,o=e.barPercentage):(i=a*s,o=1),{chunk:i/s,ratio:o,start:t.pixels[n]-i/2}}function Jje(n,t,e,s){const a=t.pixels,i=a[n];let o=n>0?a[n-1]:null,c=n<a.length-1?a[n+1]:null;const l=e.categoryPercentage;o===null&&(o=i-(c===null?t.end-t.start:c-i)),c===null&&(c=i+i-o);const d=i-(i-Math.min(o,c))/2*l;return{chunk:Math.abs(c-o)/2*l/s,ratio:e.barPercentage,start:d}}function Zje(n,t,e,s){const a=e.parse(n[0],s),i=e.parse(n[1],s),o=Math.min(a,i),c=Math.max(a,i);let l=o,d=c;Math.abs(o)>Math.abs(c)&&(l=c,d=o),t[e.axis]=d,t._custom={barStart:l,barEnd:d,start:a,end:i,min:o,max:c}}function AF(n,t,e,s){return _r(n)?Zje(n,t,e,s):t[e.axis]=e.parse(n,s),t}function d5(n,t,e,s){const a=n.iScale,i=n.vScale,o=a.getLabels(),c=a===i,l=[];let d,u,f,h;for(d=e,u=e+s;d<u;++d)h=t[d],f={},f[a.axis]=c||a.parse(o[d],d),l.push(AF(h,f,i,d));return l}function py(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function eCe(n,t,e){return n!==0?no(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function tCe(n){let t,e,s,a,i;return n.horizontal?(t=n.base>n.x,e="left",s="right"):(t=n.base<n.y,e="bottom",s="top"),t?(a="end",i="start"):(a="start",i="end"),{start:e,end:s,reverse:t,top:a,bottom:i}}function nCe(n,t,e,s){let a=t.borderSkipped;const i={};if(!a){n.borderSkipped=i;return}if(a===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:c,reverse:l,top:d,bottom:u}=tCe(n);a==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===s?a=d:(e._bottom||0)===s?a=u:(i[u5(u,o,c,l)]=!0,a=d)),i[u5(a,o,c,l)]=!0,n.borderSkipped=i}function u5(n,t,e,s){return s?(n=rCe(n,t,e),n=h5(n,e,t)):n=h5(n,t,e),n}function rCe(n,t,e){return n===t?e:n===e?t:n}function h5(n,t,e){return n==="start"?t:n==="end"?e:n}function sCe(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class Rf extends xi{parsePrimitiveData(t,e,s,a){return d5(t,e,s,a)}parseArrayData(t,e,s,a){return d5(t,e,s,a)}parseObjectData(t,e,s,a){const{iScale:i,vScale:o}=t,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=i.axis==="x"?c:l,u=o.axis==="x"?c:l,f=[];let h,m,A,g;for(h=s,m=s+a;h<m;++h)g=e[h],A={},A[i.axis]=i.parse(nc(g,d),h),f.push(AF(nc(g,u),A,o,h));return f}updateRangeFromParsed(t,e,s,a){super.updateRangeFromParsed(t,e,s,a);const i=s._custom;i&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:s,vScale:a}=e,i=this.getParsed(t),o=i._custom,c=py(o)?"["+o.start+", "+o.end+"]":""+a.getLabelForValue(i[a.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,s,a){const i=a==="reset",{index:o,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),d=c.isHorizontal(),u=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(e,a);for(let m=e;m<e+s;m++){const A=this.getParsed(m),g=i||Pn(A[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(m),p=this._calculateBarIndexPixels(m,u),b=(A._stacks||{})[c.axis],x={horizontal:d,base:g.base,enableBorderRadius:!b||py(A._custom)||o===b._top||o===b._bottom,x:d?g.head:p.center,y:d?p.center:g.head,height:d?p.size:Math.abs(g.size),width:d?Math.abs(g.size):p.size};h&&(x.options=f||this.resolveDataElementOptions(m,t[m].active?"active":a));const v=x.options||t[m].options;nCe(x,v,b,o),sCe(x,v,u.ratio),this.updateElement(t[m],m,x,a)}}_getStacks(t,e){const{iScale:s}=this._cachedMeta,a=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=s.options.stacked,o=[],c=this._cachedMeta.controller.getParsed(e),l=c&&c[s.axis],d=u=>{const f=u._parsed.find(m=>m[s.axis]===l),h=f&&f[u.vScale.axis];if(Pn(h)||isNaN(h))return!0};for(const u of a)if(!(e!==void 0&&d(u))&&((i===!1||o.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(s=>t[s].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)t[xn(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,s){const a=this._getStacks(t,s),i=e!==void 0?a.indexOf(e):-1;return i===-1?a.length-1:i}_getRuler(){const t=this.options,e=this._cachedMeta,s=e.iScale,a=[];let i,o;for(i=0,o=e.data.length;i<o;++i)a.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const c=t.barThickness;return{min:c||Xje(e),pixels:a,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:s,index:a},options:{base:i,minBarLength:o}}=this,c=i||0,l=this.getParsed(t),d=l._custom,u=py(d);let f=l[e.axis],h=0,m=s?this.applyStack(e,l,s):f,A,g;m!==f&&(h=m-f,m=f),u&&(f=d.barStart,m=d.barEnd-d.barStart,f!==0&&no(f)!==no(d.barEnd)&&(h=0),h+=f);const p=!Pn(i)&&!u?i:h;let b=e.getPixelForValue(p);if(this.chart.getDataVisibility(t)?A=e.getPixelForValue(h+m):A=b,g=A-b,Math.abs(g)<o){g=eCe(g,e,c)*o,f===c&&(b-=g/2);const x=e.getPixelForDecimal(0),v=e.getPixelForDecimal(1),y=Math.min(x,v),S=Math.max(x,v);b=Math.max(Math.min(b,S),y),A=b+g,s&&!u&&(l._stacks[e.axis]._visualValues[a]=e.getValueForPixel(A)-e.getValueForPixel(b))}if(b===e.getPixelForValue(c)){const x=no(g)*e.getLineWidthForValue(c)/2;b+=x,g-=x}return{size:g,base:b,head:A,center:A+g/2}}_calculateBarIndexPixels(t,e){const s=e.scale,a=this.options,i=a.skipNull,o=xn(a.maxBarThickness,1/0);let c,l;const d=this._getAxisCount();if(e.grouped){const u=i?this._getStackCount(t):e.stackCount,f=a.barThickness==="flex"?Jje(t,e,a,u*d):Yje(t,e,a,u*d),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(xn(h,this.getFirstScaleIdForIndexAxis())),A=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0)+m;c=f.start+f.chunk*A+f.chunk/2,l=Math.min(o,f.chunk*f.ratio)}else c=s.getPixelForValue(this.getParsed(t)[s.axis],t),l=Math.min(o,e.min*e.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){const t=this._cachedMeta,e=t.vScale,s=t.data,a=s.length;let i=0;for(;i<a;++i)this.getParsed(i)[e.axis]!==null&&!s[i].hidden&&s[i].draw(this._ctx)}}bt(Rf,"id","bar"),bt(Rf,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),bt(Rf,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Ag extends xi{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,s,a){const i=super.parsePrimitiveData(t,e,s,a);for(let o=0;o<i.length;o++)i[o]._custom=this.resolveDataElementOptions(o+s).radius;return i}parseArrayData(t,e,s,a){const i=super.parseArrayData(t,e,s,a);for(let o=0;o<i.length;o++){const c=e[s+o];i[o]._custom=xn(c[2],this.resolveDataElementOptions(o+s).radius)}return i}parseObjectData(t,e,s,a){const i=super.parseObjectData(t,e,s,a);for(let o=0;o<i.length;o++){const c=e[s+o];i[o]._custom=xn(c&&c.r&&+c.r,this.resolveDataElementOptions(o+s).radius)}return i}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let s=t.length-1;s>=0;--s)e=Math.max(e,t[s].size(this.resolveDataElementOptions(s))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,s=this.chart.data.labels||[],{xScale:a,yScale:i}=e,o=this.getParsed(t),c=a.getLabelForValue(o.x),l=i.getLabelForValue(o.y),d=o._custom;return{label:s[t]||"",value:"("+c+", "+l+(d?", "+d:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,s,a){const i=a==="reset",{iScale:o,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:d}=this._getSharedOptions(e,a),u=o.axis,f=c.axis;for(let h=e;h<e+s;h++){const m=t[h],A=!i&&this.getParsed(h),g={},p=g[u]=i?o.getPixelForDecimal(.5):o.getPixelForValue(A[u]),b=g[f]=i?c.getBasePixel():c.getPixelForValue(A[f]);g.skip=isNaN(p)||isNaN(b),d&&(g.options=l||this.resolveDataElementOptions(h,m.active?"active":a),i&&(g.options.radius=0)),this.updateElement(m,h,g,a)}}resolveDataElementOptions(t,e){const s=this.getParsed(t);let a=super.resolveDataElementOptions(t,e);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const i=a.radius;return e!=="active"&&(a.radius=0),a.radius+=xn(s&&s._custom,i),a}}bt(Ag,"id","bubble"),bt(Ag,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),bt(Ag,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function aCe(n,t,e){let s=1,a=1,i=0,o=0;if(t<Nr){const c=n,l=c+t,d=Math.cos(c),u=Math.sin(c),f=Math.cos(l),h=Math.sin(l),m=(v,y,S)=>Tm(v,c,l,!0)?1:Math.max(y,y*e,S,S*e),A=(v,y,S)=>Tm(v,c,l,!0)?-1:Math.min(y,y*e,S,S*e),g=m(0,d,f),p=m(Xr,u,h),b=A(qn,d,f),x=A(qn+Xr,u,h);s=(g-b)/2,a=(p-x)/2,i=-(g+b)/2,o=-(p+x)/2}return{ratioX:s,ratioY:a,offsetX:i,offsetY:o}}class Uc extends xi{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const s=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=s;else{let i=l=>+s[l];if(On(s[t])){const{key:l="value"}=this._parsing;i=d=>+nc(s[d],l)}let o,c;for(o=t,c=t+e;o<c;++o)a._parsed[o]=i(o)}}_getRotation(){return pi(this.options.rotation-90)}_getCircumference(){return pi(this.options.circumference)}_getRotationExtents(){let t=Nr,e=-Nr;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const a=this.chart.getDatasetMeta(s).controller,i=a._getRotation(),o=a._getCircumference();t=Math.min(t,i),e=Math.max(e,i+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:s}=e,a=this._cachedMeta,i=a.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,c=Math.max((Math.min(s.width,s.height)-o)/2,0),l=Math.min(g2e(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:u,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:m,offsetX:A,offsetY:g}=aCe(f,u,l),p=(s.width-o)/h,b=(s.height-o)/m,x=Math.max(Math.min(p,b)/2,0),v=QL(this.options.radius,x),y=Math.max(v*l,0),S=(v-y)/this._getVisibleDatasetWeightTotal();this.offsetX=A*v,this.offsetY=g*v,a.total=this.calculateTotal(),this.outerRadius=v-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*d,0),this.updateElements(i,0,i.length,t)}_circumference(t,e){const s=this.options,a=this._cachedMeta,i=this._getCircumference();return e&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||a._parsed[t]===null||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*i/Nr)}updateElements(t,e,s,a){const i=a==="reset",o=this.chart,c=o.chartArea,d=o.options.animation,u=(c.left+c.right)/2,f=(c.top+c.bottom)/2,h=i&&d.animateScale,m=h?0:this.innerRadius,A=h?0:this.outerRadius,{sharedOptions:g,includeOptions:p}=this._getSharedOptions(e,a);let b=this._getRotation(),x;for(x=0;x<e;++x)b+=this._circumference(x,i);for(x=e;x<e+s;++x){const v=this._circumference(x,i),y=t[x],S={x:u+this.offsetX,y:f+this.offsetY,startAngle:b,endAngle:b+v,circumference:v,outerRadius:A,innerRadius:m};p&&(S.options=g||this.resolveDataElementOptions(x,y.active?"active":a)),b+=v,this.updateElement(y,x,S,a)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let s=0,a;for(a=0;a<e.length;a++){const i=t._parsed[a];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(a)&&!e[a].hidden&&(s+=Math.abs(i))}return s}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Nr*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,s=this.chart,a=s.data.labels||[],i=yp(e._parsed[t],s.options.locale);return{label:a[t]||"",value:i}}getMaxBorderWidth(t){let e=0;const s=this.chart;let a,i,o,c,l;if(!t){for(a=0,i=s.data.datasets.length;a<i;++a)if(s.isDatasetVisible(a)){o=s.getDatasetMeta(a),t=o.data,c=o.controller;break}}if(!t)return 0;for(a=0,i=t.length;a<i;++a)l=c.resolveDataElementOptions(a),l.borderAlign!=="inner"&&(e=Math.max(e,l.borderWidth||0,l.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let s=0,a=t.length;s<a;++s){const i=this.resolveDataElementOptions(s);e=Math.max(e,i.offset||0,i.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(e+=this._getRingWeight(s));return e}_getRingWeight(t){return Math.max(xn(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}bt(Uc,"id","doughnut"),bt(Uc,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),bt(Uc,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),bt(Uc,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:s,color:a}}=t.legend.options;return e.labels.map((i,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:a,lineWidth:l.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,s){s.chart.toggleDataVisibility(e.index),s.chart.update()}}}});class Uf extends xi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:s,data:a=[],_dataset:i}=e,o=this.chart._animationsDisabled;let{start:c,count:l}=YL(e,a,o);this._drawStart=c,this._drawCount=l,JL(e)&&(c=0,l=a.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!i._decimated,s.points=a;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:d},t),this.updateElements(a,c,l,t)}updateElements(t,e,s,a){const i=a==="reset",{iScale:o,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(e,a),h=o.axis,m=c.axis,{spanGaps:A,segment:g}=this.options,p=Wu(A)?A:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||i||a==="none",x=e+s,v=t.length;let y=e>0&&this.getParsed(e-1);for(let S=0;S<v;++S){const M=t[S],P=b?M:{};if(S<e||S>=x){P.skip=!0;continue}const B=this.getParsed(S),D=Pn(B[m]),L=P[h]=o.getPixelForValue(B[h],S),O=P[m]=i||D?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,B,l):B[m],S);P.skip=isNaN(L)||isNaN(O)||D,P.stop=S>0&&Math.abs(B[h]-y[h])>p,g&&(P.parsed=B,P.raw=d.data[S]),f&&(P.options=u||this.resolveDataElementOptions(S,M.active?"active":a)),b||this.updateElement(M,S,P,a),y=B}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,s=e.options&&e.options.borderWidth||0,a=t.data||[];if(!a.length)return s;const i=a[0].size(this.resolveDataElementOptions(0)),o=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(s,i,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}bt(Uf,"id","line"),bt(Uf,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),bt(Uf,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Hf extends xi{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,s=this.chart,a=s.data.labels||[],i=yp(e._parsed[t].r,s.options.locale);return{label:a[t]||"",value:i}}parseObjectData(t,e,s,a){return iF.bind(this)(t,e,s,a)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((s,a)=>{const i=this.getParsed(a).r;!isNaN(i)&&this.chart.getDataVisibility(a)&&(i<e.min&&(e.min=i),i>e.max&&(e.max=i))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,s=t.options,a=Math.min(e.right-e.left,e.bottom-e.top),i=Math.max(a/2,0),o=Math.max(s.cutoutPercentage?i/100*s.cutoutPercentage:1,0),c=(i-o)/t.getVisibleDatasetCount();this.outerRadius=i-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,e,s,a){const i=a==="reset",o=this.chart,l=o.options.animation,d=this._cachedMeta.rScale,u=d.xCenter,f=d.yCenter,h=d.getIndexAngle(0)-.5*qn;let m=h,A;const g=360/this.countVisibleElements();for(A=0;A<e;++A)m+=this._computeAngle(A,a,g);for(A=e;A<e+s;A++){const p=t[A];let b=m,x=m+this._computeAngle(A,a,g),v=o.getDataVisibility(A)?d.getDistanceFromCenterForValue(this.getParsed(A).r):0;m=x,i&&(l.animateScale&&(v=0),l.animateRotate&&(b=x=h));const y={x:u,y:f,innerRadius:0,outerRadius:v,startAngle:b,endAngle:x,options:this.resolveDataElementOptions(A,p.active?"active":a)};this.updateElement(p,A,y,a)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((s,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&e++}),e}_computeAngle(t,e,s){return this.chart.getDataVisibility(t)?pi(this.resolveDataElementOptions(t,e).angle||s):0}}bt(Hf,"id","polarArea"),bt(Hf,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),bt(Hf,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:s,color:a}}=t.legend.options;return e.labels.map((i,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:a,lineWidth:l.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,s){s.chart.toggleDataVisibility(e.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class R0 extends Uc{}bt(R0,"id","pie"),bt(R0,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class gg extends xi{getLabelAndValue(t){const e=this._cachedMeta.vScale,s=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(s[e.axis])}}parseObjectData(t,e,s,a){return iF.bind(this)(t,e,s,a)}update(t){const e=this._cachedMeta,s=e.dataset,a=e.data||[],i=e.iScale.getLabels();if(s.points=a,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const c={_loop:!0,_fullLoop:i.length===a.length,options:o};this.updateElement(s,void 0,c,t)}this.updateElements(a,0,a.length,t)}updateElements(t,e,s,a){const i=this._cachedMeta.rScale,o=a==="reset";for(let c=e;c<e+s;c++){const l=t[c],d=this.resolveDataElementOptions(c,l.active?"active":a),u=i.getPointPositionForValue(c,this.getParsed(c).r),f=o?i.xCenter:u.x,h=o?i.yCenter:u.y,m={x:f,y:h,angle:u.angle,skip:isNaN(f)||isNaN(h),options:d};this.updateElement(l,c,m,a)}}}bt(gg,"id","radar"),bt(gg,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),bt(gg,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class xg extends xi{getLabelAndValue(t){const e=this._cachedMeta,s=this.chart.data.labels||[],{xScale:a,yScale:i}=e,o=this.getParsed(t),c=a.getLabelForValue(o.x),l=i.getLabelForValue(o.y);return{label:s[t]||"",value:"("+c+", "+l+")"}}update(t){const e=this._cachedMeta,{data:s=[]}=e,a=this.chart._animationsDisabled;let{start:i,count:o}=YL(e,s,a);if(this._drawStart=i,this._drawCount=o,JL(e)&&(i=0,o=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:l}=e;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=s;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!a,options:d},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(s,i,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,s,a){const i=a==="reset",{iScale:o,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,u=this.resolveDataElementOptions(e,a),f=this.getSharedOptions(u),h=this.includeOptions(a,f),m=o.axis,A=c.axis,{spanGaps:g,segment:p}=this.options,b=Wu(g)?g:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||i||a==="none";let v=e>0&&this.getParsed(e-1);for(let y=e;y<e+s;++y){const S=t[y],M=this.getParsed(y),P=x?S:{},B=Pn(M[A]),D=P[m]=o.getPixelForValue(M[m],y),L=P[A]=i||B?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,M,l):M[A],y);P.skip=isNaN(D)||isNaN(L)||B,P.stop=y>0&&Math.abs(M[m]-v[m])>b,p&&(P.parsed=M,P.raw=d.data[y]),h&&(P.options=f||this.resolveDataElementOptions(y,S.active?"active":a)),x||this.updateElement(S,y,P,a),v=M}this.updateSharedOptions(f,a,u)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let c=0;for(let l=e.length-1;l>=0;--l)c=Math.max(c,e[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}const s=t.dataset,a=s.options&&s.options.borderWidth||0;if(!e.length)return a;const i=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(a,i,o)/2}}bt(xg,"id","scatter"),bt(xg,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),bt(xg,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var iCe=Object.freeze({__proto__:null,BarController:Rf,BubbleController:Ag,DoughnutController:Uc,LineController:Uf,PieController:R0,PolarAreaController:Hf,RadarController:gg,ScatterController:xg});function Sc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class cN{constructor(t){bt(this,"options");this.options=t||{}}static override(t){Object.assign(cN.prototype,t)}init(){}formats(){return Sc()}parse(){return Sc()}format(){return Sc()}add(){return Sc()}diff(){return Sc()}startOf(){return Sc()}endOf(){return Sc()}}var oCe={_date:cN};function lCe(n,t,e,s){const{controller:a,data:i,_sorted:o}=n,c=a._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(c&&t===c.axis&&t!=="r"&&o&&i.length){const d=c._reversePixels?B2e:Lo;if(s){if(a._sharedOptions){const u=i[0],f=typeof u.getRange=="function"&&u.getRange(t);if(f){const h=d(i,t,e-f),m=d(i,t,e+f);return{lo:h.lo,hi:m.hi}}}}else{const u=d(i,t,e);if(l){const{vScale:f}=a._cachedMeta,{_parsed:h}=n,m=h.slice(0,u.lo+1).reverse().findIndex(g=>!Pn(g[f.axis]));u.lo-=Math.max(0,m);const A=h.slice(u.hi).findIndex(g=>!Pn(g[f.axis]));u.hi+=Math.max(0,A)}return u}}return{lo:0,hi:i.length-1}}function Mb(n,t,e,s,a){const i=n.getSortedVisibleDatasetMetas(),o=e[t];for(let c=0,l=i.length;c<l;++c){const{index:d,data:u}=i[c],{lo:f,hi:h}=lCe(i[c],t,o,a);for(let m=f;m<=h;++m){const A=u[m];A.skip||s(A,d,m)}}}function cCe(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(s,a){const i=t?Math.abs(s.x-a.x):0,o=e?Math.abs(s.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function Ay(n,t,e,s,a){const i=[];return!a&&!n.isPointInArea(t)||Mb(n,e,t,function(c,l,d){!a&&!Fo(c,n.chartArea,0)||c.inRange(t.x,t.y,s)&&i.push({element:c,datasetIndex:l,index:d})},!0),i}function dCe(n,t,e,s){let a=[];function i(o,c,l){const{startAngle:d,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:f}=KL(o,{x:t.x,y:t.y});Tm(f,d,u)&&a.push({element:o,datasetIndex:c,index:l})}return Mb(n,e,t,i),a}function uCe(n,t,e,s,a,i){let o=[];const c=cCe(e);let l=Number.POSITIVE_INFINITY;function d(u,f,h){const m=u.inRange(t.x,t.y,a);if(s&&!m)return;const A=u.getCenterPoint(a);if(!(!!i||n.isPointInArea(A))&&!m)return;const p=c(t,A);p<l?(o=[{element:u,datasetIndex:f,index:h}],l=p):p===l&&o.push({element:u,datasetIndex:f,index:h})}return Mb(n,e,t,d),o}function gy(n,t,e,s,a,i){return!i&&!n.isPointInArea(t)?[]:e==="r"&&!s?dCe(n,t,e,a):uCe(n,t,e,s,a,i)}function f5(n,t,e,s,a){const i=[],o=e==="x"?"inXRange":"inYRange";let c=!1;return Mb(n,e,t,(l,d,u)=>{l[o]&&l[o](t[e],a)&&(i.push({element:l,datasetIndex:d,index:u}),c=c||l.inRange(t.x,t.y,a))}),s&&!c?[]:i}var hCe={modes:{index(n,t,e,s){const a=Ic(t,n),i=e.axis||"x",o=e.includeInvisible||!1,c=e.intersect?Ay(n,a,i,s,o):gy(n,a,i,!1,s,o),l=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const u=c[0].index,f=d.data[u];f&&!f.skip&&l.push({element:f,datasetIndex:d.index,index:u})}),l):[]},dataset(n,t,e,s){const a=Ic(t,n),i=e.axis||"xy",o=e.includeInvisible||!1;let c=e.intersect?Ay(n,a,i,s,o):gy(n,a,i,!1,s,o);if(c.length>0){const l=c[0].datasetIndex,d=n.getDatasetMeta(l).data;c=[];for(let u=0;u<d.length;++u)c.push({element:d[u],datasetIndex:l,index:u})}return c},point(n,t,e,s){const a=Ic(t,n),i=e.axis||"xy",o=e.includeInvisible||!1;return Ay(n,a,i,s,o)},nearest(n,t,e,s){const a=Ic(t,n),i=e.axis||"xy",o=e.includeInvisible||!1;return gy(n,a,i,e.intersect,s,o)},x(n,t,e,s){const a=Ic(t,n);return f5(n,a,"x",e.intersect,s)},y(n,t,e,s){const a=Ic(t,n);return f5(n,a,"y",e.intersect,s)}}};const gF=["left","top","right","bottom"];function Xh(n,t){return n.filter(e=>e.pos===t)}function m5(n,t){return n.filter(e=>gF.indexOf(e.pos)===-1&&e.box.axis===t)}function Yh(n,t){return n.sort((e,s)=>{const a=t?s:e,i=t?e:s;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function fCe(n){const t=[];let e,s,a,i,o,c;for(e=0,s=(n||[]).length;e<s;++e)a=n[e],{position:i,options:{stack:o,stackWeight:c=1}}=a,t.push({index:e,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:o&&i+o,stackWeight:c});return t}function mCe(n){const t={};for(const e of n){const{stack:s,pos:a,stackWeight:i}=e;if(!s||!gF.includes(a))continue;const o=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return t}function pCe(n,t){const e=mCe(n),{vBoxMaxWidth:s,hBoxMaxHeight:a}=t;let i,o,c;for(i=0,o=n.length;i<o;++i){c=n[i];const{fullSize:l}=c.box,d=e[c.stack],u=d&&c.stackWeight/d.weight;c.horizontal?(c.width=u?u*s:l&&t.availableWidth,c.height=a):(c.width=s,c.height=u?u*a:l&&t.availableHeight)}return e}function ACe(n){const t=fCe(n),e=Yh(t.filter(d=>d.box.fullSize),!0),s=Yh(Xh(t,"left"),!0),a=Yh(Xh(t,"right")),i=Yh(Xh(t,"top"),!0),o=Yh(Xh(t,"bottom")),c=m5(t,"x"),l=m5(t,"y");return{fullSize:e,leftAndTop:s.concat(i),rightAndBottom:a.concat(l).concat(o).concat(c),chartArea:Xh(t,"chartArea"),vertical:s.concat(a).concat(l),horizontal:i.concat(o).concat(c)}}function p5(n,t,e,s){return Math.max(n[e],t[e])+Math.max(n[s],t[s])}function xF(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function gCe(n,t,e,s){const{pos:a,box:i}=e,o=n.maxPadding;if(!On(a)){e.size&&(n[a]-=e.size);const f=s[e.stack]||{size:0,count:1};f.size=Math.max(f.size,e.horizontal?i.height:i.width),e.size=f.size/f.count,n[a]+=e.size}i.getPadding&&xF(o,i.getPadding());const c=Math.max(0,t.outerWidth-p5(o,n,"left","right")),l=Math.max(0,t.outerHeight-p5(o,n,"top","bottom")),d=c!==n.w,u=l!==n.h;return n.w=c,n.h=l,e.horizontal?{same:d,other:u}:{same:u,other:d}}function xCe(n){const t=n.maxPadding;function e(s){const a=Math.max(t[s]-n[s],0);return n[s]+=a,a}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function bCe(n,t){const e=t.maxPadding;function s(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(o=>{i[o]=Math.max(t[o],e[o])}),i}return s(n?["left","right"]:["top","bottom"])}function xf(n,t,e,s){const a=[];let i,o,c,l,d,u;for(i=0,o=n.length,d=0;i<o;++i){c=n[i],l=c.box,l.update(c.width||t.w,c.height||t.h,bCe(c.horizontal,t));const{same:f,other:h}=gCe(t,e,c,s);d|=f&&a.length,u=u||h,l.fullSize||a.push(c)}return d&&xf(a,t,e,s)||u}function fA(n,t,e,s,a){n.top=e,n.left=t,n.right=t+s,n.bottom=e+a,n.width=s,n.height=a}function A5(n,t,e,s){const a=e.padding;let{x:i,y:o}=t;for(const c of n){const l=c.box,d=s[c.stack]||{placed:0,weight:1},u=c.stackWeight/d.weight||1;if(c.horizontal){const f=t.w*u,h=d.size||l.height;Sm(d.start)&&(o=d.start),l.fullSize?fA(l,a.left,o,e.outerWidth-a.right-a.left,h):fA(l,t.left+d.placed,o,f,h),d.start=o,d.placed+=f,o=l.bottom}else{const f=t.h*u,h=d.size||l.width;Sm(d.start)&&(i=d.start),l.fullSize?fA(l,i,a.top,h,e.outerHeight-a.bottom-a.top):fA(l,i,t.top+d.placed,h,f),d.start=i,d.placed+=f,i=l.right}}t.x=i,t.y=o}var Rs={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,s){if(!n)return;const a=Hs(n.options.layout.padding),i=Math.max(t-a.width,0),o=Math.max(e-a.height,0),c=ACe(n.boxes),l=c.vertical,d=c.horizontal;sr(n.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,p)=>p.box.options&&p.box.options.display===!1?g:g+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:e,padding:a,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},a);xF(h,Hs(s));const m=Object.assign({maxPadding:h,w:i,h:o,x:a.left,y:a.top},a),A=pCe(l.concat(d),f);xf(c.fullSize,m,f,A),xf(l,m,f,A),xf(d,m,f,A)&&xf(l,m,f,A),xCe(m),A5(c.leftAndTop,m,f,A),m.x+=m.w,m.y+=m.h,A5(c.rightAndBottom,m,f,A),n.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},sr(c.chartArea,g=>{const p=g.box;Object.assign(p,n.chartArea),p.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class bF{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,s){}removeEventListener(t,e,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,s,a){return e=Math.max(0,e||t.width),s=s||t.height,{width:e,height:Math.max(0,a?Math.floor(e/a):s)}}isAttached(t){return!0}updateConfig(t){}}class vCe extends bF{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const bg="$chartjs",yCe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},g5=n=>n===null||n==="";function wCe(n,t){const e=n.style,s=n.getAttribute("height"),a=n.getAttribute("width");if(n[bg]={initial:{height:s,width:a,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",g5(a)){const i=e5(n,"width");i!==void 0&&(n.width=i)}if(g5(s))if(n.style.height==="")n.height=n.width/(t||2);else{const i=e5(n,"height");i!==void 0&&(n.height=i)}return n}const vF=jje?{passive:!0}:!1;function jCe(n,t,e){n&&n.addEventListener(t,e,vF)}function CCe(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,vF)}function NCe(n,t){const e=yCe[n.type]||n.type,{x:s,y:a}=Ic(n,t);return{type:e,chart:t,native:n,x:s!==void 0?s:null,y:a!==void 0?a:null}}function U0(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function SCe(n,t,e){const s=n.canvas,a=new MutationObserver(i=>{let o=!1;for(const c of i)o=o||U0(c.addedNodes,s),o=o&&!U0(c.removedNodes,s);o&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}function TCe(n,t,e){const s=n.canvas,a=new MutationObserver(i=>{let o=!1;for(const c of i)o=o||U0(c.removedNodes,s),o=o&&!U0(c.addedNodes,s);o&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}const _m=new Map;let x5=0;function yF(){const n=window.devicePixelRatio;n!==x5&&(x5=n,_m.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function kCe(n,t){_m.size||window.addEventListener("resize",yF),_m.set(n,t)}function _Ce(n){_m.delete(n),_m.size||window.removeEventListener("resize",yF)}function BCe(n,t,e){const s=n.canvas,a=s&&lN(s);if(!a)return;const i=XL((c,l)=>{const d=a.clientWidth;e(c,l),d<a.clientWidth&&e()},window),o=new ResizeObserver(c=>{const l=c[0],d=l.contentRect.width,u=l.contentRect.height;d===0&&u===0||i(d,u)});return o.observe(a),kCe(n,i),o}function xy(n,t,e){e&&e.disconnect(),t==="resize"&&_Ce(n)}function ECe(n,t,e){const s=n.canvas,a=XL(i=>{n.ctx!==null&&e(NCe(i,n))},n);return jCe(s,t,a),a}class MCe extends bF{acquireContext(t,e){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(wCe(t,e),s):null}releaseContext(t){const e=t.canvas;if(!e[bg])return!1;const s=e[bg].initial;["height","width"].forEach(i=>{const o=s[i];Pn(o)?e.removeAttribute(i):e.setAttribute(i,o)});const a=s.style||{};return Object.keys(a).forEach(i=>{e.style[i]=a[i]}),e.width=e.width,delete e[bg],!0}addEventListener(t,e,s){this.removeEventListener(t,e);const a=t.$proxies||(t.$proxies={}),o={attach:SCe,detach:TCe,resize:BCe}[e]||ECe;a[e]=o(t,e,s)}removeEventListener(t,e){const s=t.$proxies||(t.$proxies={}),a=s[e];if(!a)return;({attach:xy,detach:xy,resize:xy}[e]||CCe)(t,e,a),s[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,s,a){return wje(t,e,s,a)}isAttached(t){const e=t&&lN(t);return!!(e&&e.isConnected)}}function PCe(n){return!oN()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?vCe:MCe}var GA;let ol=(GA=class{constructor(){bt(this,"x");bt(this,"y");bt(this,"active",!1);bt(this,"options");bt(this,"$animations")}tooltipPosition(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}hasValue(){return Wu(this.x)&&Wu(this.y)}getProps(t,e){const s=this.$animations;if(!e||!s)return this;const a={};return t.forEach(i=>{a[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),a}},bt(GA,"defaults",{}),bt(GA,"defaultRoutes"),GA);function DCe(n,t){const e=n.options.ticks,s=ICe(n),a=Math.min(e.maxTicksLimit||s,s),i=e.major.enabled?LCe(t):[],o=i.length,c=i[0],l=i[o-1],d=[];if(o>a)return FCe(t,d,i,o/a),d;const u=OCe(i,t,a);if(o>0){let f,h;const m=o>1?Math.round((l-c)/(o-1)):null;for(mA(t,d,u,Pn(m)?0:c-m,c),f=0,h=o-1;f<h;f++)mA(t,d,u,i[f],i[f+1]);return mA(t,d,u,l,Pn(m)?t.length:l+m),d}return mA(t,d,u),d}function ICe(n){const t=n.options.offset,e=n._tickSize(),s=n._length/e+(t?0:1),a=n._maxLength/e;return Math.floor(Math.min(s,a))}function OCe(n,t,e){const s=RCe(n),a=t.length/e;if(!s)return Math.max(a,1);const i=N2e(s);for(let o=0,c=i.length-1;o<c;o++){const l=i[o];if(l>a)return l}return Math.max(a,1)}function LCe(n){const t=[];let e,s;for(e=0,s=n.length;e<s;e++)n[e].major&&t.push(e);return t}function FCe(n,t,e,s){let a=0,i=e[0],o;for(s=Math.ceil(s),o=0;o<n.length;o++)o===i&&(t.push(n[o]),a++,i=e[a*s])}function mA(n,t,e,s,a){const i=xn(s,0),o=Math.min(xn(a,n.length),n.length);let c=0,l,d,u;for(e=Math.ceil(e),a&&(l=a-s,e=l/Math.floor(l/e)),u=i;u<0;)c++,u=Math.round(i+c*e);for(d=Math.max(i,0);d<o;d++)d===u&&(t.push(n[d]),c++,u=Math.round(i+c*e))}function RCe(n){const t=n.length;let e,s;if(t<2)return!1;for(s=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==s)return!1;return s}const UCe=n=>n==="left"?"right":n==="right"?"left":n,b5=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,v5=(n,t)=>Math.min(t||n,n);function y5(n,t){const e=[],s=n.length/t,a=n.length;let i=0;for(;i<a;i+=s)e.push(n[Math.floor(i)]);return e}function HCe(n,t,e){const s=n.ticks.length,a=Math.min(t,s-1),i=n._startPixel,o=n._endPixel,c=1e-6;let l=n.getPixelForTick(a),d;if(!(e&&(s===1?d=Math.max(l-i,o-l):t===0?d=(n.getPixelForTick(1)-l)/2:d=(l-n.getPixelForTick(a-1))/2,l+=a<t?d:-d,l<i-c||l>o+c)))return l}function $Ce(n,t){sr(n,e=>{const s=e.gc,a=s.length/2;let i;if(a>t){for(i=0;i<a;++i)delete e.data[s[i]];s.splice(0,a)}})}function Jh(n){return n.drawTicks?n.tickLength:0}function w5(n,t){if(!n.display)return 0;const e=ds(n.font,t),s=Hs(n.padding);return(_r(n.text)?n.text.length:1)*e.lineHeight+s.height}function QCe(n,t){return bc(n,{scale:t,type:"scale"})}function VCe(n,t,e){return bc(n,{tick:e,index:t,type:"tick"})}function zCe(n,t,e){let s=tN(n);return(e&&t!=="right"||!e&&t==="right")&&(s=UCe(s)),s}function KCe(n,t,e,s){const{top:a,left:i,bottom:o,right:c,chart:l}=n,{chartArea:d,scales:u}=l;let f=0,h,m,A;const g=o-a,p=c-i;if(n.isHorizontal()){if(m=Ds(s,i,c),On(e)){const b=Object.keys(e)[0],x=e[b];A=u[b].getPixelForValue(x)+g-t}else e==="center"?A=(d.bottom+d.top)/2+g-t:A=b5(n,e,t);h=c-i}else{if(On(e)){const b=Object.keys(e)[0],x=e[b];m=u[b].getPixelForValue(x)-p+t}else e==="center"?m=(d.left+d.right)/2-p+t:m=b5(n,e,t);A=Ds(s,o,a),f=e==="left"?-Xr:Xr}return{titleX:m,titleY:A,maxWidth:h,rotation:f}}class Fd extends ol{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:s,_suggestedMax:a}=this;return t=Ta(t,Number.POSITIVE_INFINITY),e=Ta(e,Number.NEGATIVE_INFINITY),s=Ta(s,Number.POSITIVE_INFINITY),a=Ta(a,Number.NEGATIVE_INFINITY),{min:Ta(t,s),max:Ta(e,a),minDefined:Qr(t),maxDefined:Qr(e)}}getMinMax(t){let{min:e,max:s,minDefined:a,maxDefined:i}=this.getUserBounds(),o;if(a&&i)return{min:e,max:s};const c=this.getMatchingVisibleMetas();for(let l=0,d=c.length;l<d;++l)o=c[l].controller.getMinMax(this,t),a||(e=Math.min(e,o.min)),i||(s=Math.max(s,o.max));return e=i&&e>s?s:e,s=a&&e>s?e:s,{min:Ta(e,Ta(s,e)),max:Ta(s,Ta(e,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){fr(this.options.beforeUpdate,[this])}update(t,e,s){const{beginAtZero:a,grace:i,ticks:o}=this.options,c=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=eje(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=c<this.ticks.length;this._convertTicksToLabels(l?y5(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=DCe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,s;this.isHorizontal()?(e=this.left,s=this.right):(e=this.top,s=this.bottom,t=!t),this._startPixel=e,this._endPixel=s,this._reversePixels=t,this._length=s-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){fr(this.options.afterUpdate,[this])}beforeSetDimensions(){fr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){fr(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),fr(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){fr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let s,a,i;for(s=0,a=t.length;s<a;s++)i=t[s],i.label=fr(e.callback,[i.value,s,t],this)}afterTickToLabelConversion(){fr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){fr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,s=v5(this.ticks.length,t.ticks.maxTicksLimit),a=e.minRotation||0,i=e.maxRotation;let o=a,c,l,d;if(!this._isVisible()||!e.display||a>=i||s<=1||!this.isHorizontal()){this.labelRotation=a;return}const u=this._getLabelSizes(),f=u.widest.width,h=u.highest.height,m=bs(this.chart.width-f,0,this.maxWidth);c=t.offset?this.maxWidth/s:m/(s-1),f+6>c&&(c=m/(s-(t.offset?.5:1)),l=this.maxHeight-Jh(t.grid)-e.padding-w5(t.title,this.chart.options.font),d=Math.sqrt(f*f+h*h),o=ZC(Math.min(Math.asin(bs((u.highest.height+6)/c,-1,1)),Math.asin(bs(l/d,-1,1))-Math.asin(bs(h/d,-1,1)))),o=Math.max(a,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){fr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){fr(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:s,title:a,grid:i}}=this,o=this._isVisible(),c=this.isHorizontal();if(o){const l=w5(a,e.options.font);if(c?(t.width=this.maxWidth,t.height=Jh(i)+l):(t.height=this.maxHeight,t.width=Jh(i)+l),s.display&&this.ticks.length){const{first:d,last:u,widest:f,highest:h}=this._getLabelSizes(),m=s.padding*2,A=pi(this.labelRotation),g=Math.cos(A),p=Math.sin(A);if(c){const b=s.mirror?0:p*f.width+g*h.height;t.height=Math.min(this.maxHeight,t.height+b+m)}else{const b=s.mirror?0:g*f.width+p*h.height;t.width=Math.min(this.maxWidth,t.width+b+m)}this._calculatePadding(d,u,p,g)}}this._handleMargins(),c?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,s,a){const{ticks:{align:i,padding:o},position:c}=this.options,l=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,m=0;l?d?(h=a*t.width,m=s*e.height):(h=s*t.height,m=a*e.width):i==="start"?m=e.width:i==="end"?h=t.width:i!=="inner"&&(h=t.width/2,m=e.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((m-f+o)*this.width/(this.width-f),0)}else{let u=e.height/2,f=t.height/2;i==="start"?(u=0,f=t.height):i==="end"&&(u=e.height,f=0),this.paddingTop=u+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){fr(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,s;for(e=0,s=t.length;e<s;e++)Pn(t[e].label)&&(t.splice(e,1),s--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let s=this.ticks;e<s.length&&(s=y5(s,e)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,s){const{ctx:a,_longestTextCache:i}=this,o=[],c=[],l=Math.floor(e/v5(e,s));let d=0,u=0,f,h,m,A,g,p,b,x,v,y,S;for(f=0;f<e;f+=l){if(A=t[f].label,g=this._resolveTickFontOptions(f),a.font=p=g.string,b=i[p]=i[p]||{data:{},gc:[]},x=g.lineHeight,v=y=0,!Pn(A)&&!_r(A))v=L0(a,b.data,b.gc,v,A),y=x;else if(_r(A))for(h=0,m=A.length;h<m;++h)S=A[h],!Pn(S)&&!_r(S)&&(v=L0(a,b.data,b.gc,v,S),y+=x);o.push(v),c.push(y),d=Math.max(v,d),u=Math.max(y,u)}$Ce(i,e);const M=o.indexOf(d),P=c.indexOf(u),B=D=>({width:o[D]||0,height:c[D]||0});return{first:B(0),last:B(e-1),widest:B(M),highest:B(P),widths:o,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return _2e(this._alignToPixels?Nc(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const s=e[t];return s.$context||(s.$context=VCe(this.getContext(),t,s))}return this.$context||(this.$context=QCe(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=pi(this.labelRotation),s=Math.abs(Math.cos(e)),a=Math.abs(Math.sin(e)),i=this._getLabelSizes(),o=t.autoSkipPadding||0,c=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*s>c*a?c/s:l/a:l*a<c*s?l/s:c/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,s=this.chart,a=this.options,{grid:i,position:o,border:c}=a,l=i.offset,d=this.isHorizontal(),f=this.ticks.length+(l?1:0),h=Jh(i),m=[],A=c.setContext(this.getContext()),g=A.display?A.width:0,p=g/2,b=function(w){return Nc(s,w,g)};let x,v,y,S,M,P,B,D,L,O,F,_;if(o==="top")x=b(this.bottom),P=this.bottom-h,D=x-p,O=b(t.top)+p,_=t.bottom;else if(o==="bottom")x=b(this.top),O=t.top,_=b(t.bottom)-p,P=x+p,D=this.top+h;else if(o==="left")x=b(this.right),M=this.right-h,B=x-p,L=b(t.left)+p,F=t.right;else if(o==="right")x=b(this.left),L=t.left,F=b(t.right)-p,M=x+p,B=this.left+h;else if(e==="x"){if(o==="center")x=b((t.top+t.bottom)/2+.5);else if(On(o)){const w=Object.keys(o)[0],C=o[w];x=b(this.chart.scales[w].getPixelForValue(C))}O=t.top,_=t.bottom,P=x+p,D=P+h}else if(e==="y"){if(o==="center")x=b((t.left+t.right)/2);else if(On(o)){const w=Object.keys(o)[0],C=o[w];x=b(this.chart.scales[w].getPixelForValue(C))}M=x-p,B=M-h,L=t.left,F=t.right}const E=xn(a.ticks.maxTicksLimit,f),T=Math.max(1,Math.ceil(f/E));for(v=0;v<f;v+=T){const w=this.getContext(v),C=i.setContext(w),j=c.setContext(w),N=C.lineWidth,I=C.color,R=j.dash||[],U=j.dashOffset,V=C.tickWidth,z=C.tickColor,X=C.tickBorderDash||[],Q=C.tickBorderDashOffset;y=HCe(this,v,l),y!==void 0&&(S=Nc(s,y,N),d?M=B=L=F=S:P=D=O=_=S,m.push({tx1:M,ty1:P,tx2:B,ty2:D,x1:L,y1:O,x2:F,y2:_,width:N,color:I,borderDash:R,borderDashOffset:U,tickWidth:V,tickColor:z,tickBorderDash:X,tickBorderDashOffset:Q}))}return this._ticksLength=f,this._borderValue=x,m}_computeLabelItems(t){const e=this.axis,s=this.options,{position:a,ticks:i}=s,o=this.isHorizontal(),c=this.ticks,{align:l,crossAlign:d,padding:u,mirror:f}=i,h=Jh(s.grid),m=h+u,A=f?-u:m,g=-pi(this.labelRotation),p=[];let b,x,v,y,S,M,P,B,D,L,O,F,_="middle";if(a==="top")M=this.bottom-A,P=this._getXAxisLabelAlignment();else if(a==="bottom")M=this.top+A,P=this._getXAxisLabelAlignment();else if(a==="left"){const T=this._getYAxisLabelAlignment(h);P=T.textAlign,S=T.x}else if(a==="right"){const T=this._getYAxisLabelAlignment(h);P=T.textAlign,S=T.x}else if(e==="x"){if(a==="center")M=(t.top+t.bottom)/2+m;else if(On(a)){const T=Object.keys(a)[0],w=a[T];M=this.chart.scales[T].getPixelForValue(w)+m}P=this._getXAxisLabelAlignment()}else if(e==="y"){if(a==="center")S=(t.left+t.right)/2-m;else if(On(a)){const T=Object.keys(a)[0],w=a[T];S=this.chart.scales[T].getPixelForValue(w)}P=this._getYAxisLabelAlignment(h).textAlign}e==="y"&&(l==="start"?_="top":l==="end"&&(_="bottom"));const E=this._getLabelSizes();for(b=0,x=c.length;b<x;++b){v=c[b],y=v.label;const T=i.setContext(this.getContext(b));B=this.getPixelForTick(b)+i.labelOffset,D=this._resolveTickFontOptions(b),L=D.lineHeight,O=_r(y)?y.length:1;const w=O/2,C=T.color,j=T.textStrokeColor,N=T.textStrokeWidth;let I=P;o?(S=B,P==="inner"&&(b===x-1?I=this.options.reverse?"left":"right":b===0?I=this.options.reverse?"right":"left":I="center"),a==="top"?d==="near"||g!==0?F=-O*L+L/2:d==="center"?F=-E.highest.height/2-w*L+L:F=-E.highest.height+L/2:d==="near"||g!==0?F=L/2:d==="center"?F=E.highest.height/2-w*L:F=E.highest.height-O*L,f&&(F*=-1),g!==0&&!T.showLabelBackdrop&&(S+=L/2*Math.sin(g))):(M=B,F=(1-O)*L/2);let R;if(T.showLabelBackdrop){const U=Hs(T.backdropPadding),V=E.heights[b],z=E.widths[b];let X=F-U.top,Q=0-U.left;switch(_){case"middle":X-=V/2;break;case"bottom":X-=V;break}switch(P){case"center":Q-=z/2;break;case"right":Q-=z;break;case"inner":b===x-1?Q-=z:b>0&&(Q-=z/2);break}R={left:Q,top:X,width:z+U.width,height:V+U.height,color:T.backdropColor}}p.push({label:y,font:D,textOffset:F,options:{rotation:g,color:C,strokeColor:j,strokeWidth:N,textAlign:I,textBaseline:_,translation:[S,M],backdrop:R}})}return p}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-pi(this.labelRotation))return t==="top"?"left":"right";let a="center";return e.align==="start"?a="left":e.align==="end"?a="right":e.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:s,mirror:a,padding:i}}=this.options,o=this._getLabelSizes(),c=t+i,l=o.widest.width;let d,u;return e==="left"?a?(u=this.right+i,s==="near"?d="left":s==="center"?(d="center",u+=l/2):(d="right",u+=l)):(u=this.right-c,s==="near"?d="right":s==="center"?(d="center",u-=l/2):(d="left",u=this.left)):e==="right"?a?(u=this.left+i,s==="near"?d="right":s==="center"?(d="center",u-=l/2):(d="left",u-=l)):(u=this.left+c,s==="near"?d="left":s==="center"?(d="center",u+=l/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:s,top:a,width:i,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(s,a,i,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const a=this.ticks.findIndex(i=>i.value===t);return a>=0?e.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const e=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,o;const c=(l,d,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(d.x,d.y),s.stroke(),s.restore())};if(e.display)for(i=0,o=a.length;i<o;++i){const l=a[i];e.drawOnChartArea&&c({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&c({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:s,grid:a}}=this,i=s.setContext(this.getContext()),o=s.display?i.width:0;if(!o)return;const c=a.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let d,u,f,h;this.isHorizontal()?(d=Nc(t,this.left,o)-o/2,u=Nc(t,this.right,c)+c/2,f=h=l):(f=Nc(t,this.top,o)-o/2,h=Nc(t,this.bottom,c)+c/2,d=u=l),e.save(),e.lineWidth=i.width,e.strokeStyle=i.color,e.beginPath(),e.moveTo(d,f),e.lineTo(u,h),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,a=this._computeLabelArea();a&&_b(s,a);const i=this.getLabelItems(t);for(const o of i){const c=o.options,l=o.font,d=o.label,u=o.textOffset;Cd(s,d,0,u,l,c)}a&&Bb(s)}drawTitle(){const{ctx:t,options:{position:e,title:s,reverse:a}}=this;if(!s.display)return;const i=ds(s.font),o=Hs(s.padding),c=s.align;let l=i.lineHeight/2;e==="bottom"||e==="center"||On(e)?(l+=o.bottom,_r(s.text)&&(l+=i.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:d,titleY:u,maxWidth:f,rotation:h}=KCe(this,l,e,c);Cd(t,s.text,0,0,i,{color:s.color,maxWidth:f,rotation:h,textAlign:zCe(c,e,a),textBaseline:"middle",translation:[d,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,s=xn(t.grid&&t.grid.z,-1),a=xn(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Fd.prototype.draw?[{z:e,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:e,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let i,o;for(i=0,o=e.length;i<o;++i){const c=e[i];c[s]===this.id&&(!t||c.type===t)&&a.push(c)}return a}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return ds(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class pA{constructor(t,e,s){this.type=t,this.scope=e,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let s;WCe(e)&&(s=this.register(e));const a=this.items,i=t.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in a||(a[i]=t,GCe(t,o,s),this.override&&Pr.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,s=t.id,a=this.scope;s in e&&delete e[s],a&&s in Pr[a]&&(delete Pr[a][s],this.override&&delete jd[s])}}function GCe(n,t,e){const s=Nm(Object.create(null),[e?Pr.get(e):{},Pr.get(t),n.defaults]);Pr.set(t,s),n.defaultRoutes&&qCe(t,n.defaultRoutes),n.descriptors&&Pr.describe(t,n.descriptors)}function qCe(n,t){Object.keys(t).forEach(e=>{const s=e.split("."),a=s.pop(),i=[n].concat(s).join("."),o=t[e].split("."),c=o.pop(),l=o.join(".");Pr.route(i,a,l,c)})}function WCe(n){return"id"in n&&"defaults"in n}class XCe{constructor(){this.controllers=new pA(xi,"datasets",!0),this.elements=new pA(ol,"elements"),this.plugins=new pA(Object,"plugins"),this.scales=new pA(Fd,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,s){[...e].forEach(a=>{const i=s||this._getRegistryForType(a);s||i.isForType(a)||i===this.plugins&&a.id?this._exec(t,i,a):sr(a,o=>{const c=s||this._getRegistryForType(o);this._exec(t,c,o)})})}_exec(t,e,s){const a=JC(t);fr(s["before"+a],[],s),e[t](s),fr(s["after"+a],[],s)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const s=this._typedRegistries[e];if(s.isForType(t))return s}return this.plugins}_get(t,e,s){const a=e.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return a}}var Di=new XCe;class YCe{constructor(){this._init=[]}notify(t,e,s,a){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=a?this._descriptors(t).filter(a):this._descriptors(t),o=this._notify(i,t,e,s);return e==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,s,a){a=a||{};for(const i of t){const o=i.plugin,c=o[s],l=[e,a,i.options];if(fr(c,l,o)===!1&&a.cancelable)return!1}return!0}invalidate(){Pn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const s=t&&t.config,a=xn(s.options&&s.options.plugins,{}),i=JCe(s);return a===!1&&!e?[]:eNe(t,i,a,e)}_notifyStateChanges(t){const e=this._oldCache||[],s=this._cache,a=(i,o)=>i.filter(c=>!o.some(l=>c.plugin.id===l.plugin.id));this._notify(a(e,s),t,"stop"),this._notify(a(s,e),t,"start")}}function JCe(n){const t={},e=[],s=Object.keys(Di.plugins.items);for(let i=0;i<s.length;i++)e.push(Di.getPlugin(s[i]));const a=n.plugins||[];for(let i=0;i<a.length;i++){const o=a[i];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function ZCe(n,t){return!t&&n===!1?null:n===!0?{}:n}function eNe(n,{plugins:t,localIds:e},s,a){const i=[],o=n.getContext();for(const c of t){const l=c.id,d=ZCe(s[l],a);d!==null&&i.push({plugin:c,options:tNe(n.config,{plugin:c,local:e[l]},d,o)})}return i}function tNe(n,{plugin:t,local:e},s,a){const i=n.pluginScopeKeys(t),o=n.getOptionScopes(s,i);return e&&t.defaults&&o.push(t.defaults),n.createResolver(o,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function X1(n,t){const e=Pr.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function nNe(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function rNe(n,t){return n===t?"_index_":"_value_"}function j5(n){if(n==="x"||n==="y"||n==="r")return n}function sNe(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Y1(n,...t){if(j5(n))return n;for(const e of t){const s=e.axis||sNe(e.position)||n.length>1&&j5(n[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function C5(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function aNe(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(s=>s.xAxisID===n||s.yAxisID===n);if(e.length)return C5(n,"x",e[0])||C5(n,"y",e[0])}return{}}function iNe(n,t){const e=jd[n.type]||{scales:{}},s=t.scales||{},a=X1(n.type,t),i=Object.create(null);return Object.keys(s).forEach(o=>{const c=s[o];if(!On(c))return console.error(`Invalid scale configuration for scale: ${o}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Y1(o,c,aNe(o,n),Pr.scales[c.type]),d=rNe(l,a),u=e.scales||{};i[o]=If(Object.create(null),[{axis:l},c,u[l],u[d]])}),n.data.datasets.forEach(o=>{const c=o.type||n.type,l=o.indexAxis||X1(c,t),u=(jd[c]||{}).scales||{};Object.keys(u).forEach(f=>{const h=nNe(f,l),m=o[h+"AxisID"]||h;i[m]=i[m]||Object.create(null),If(i[m],[{axis:h},s[m],u[f]])})}),Object.keys(i).forEach(o=>{const c=i[o];If(c,[Pr.scales[c.type],Pr.scale])}),i}function wF(n){const t=n.options||(n.options={});t.plugins=xn(t.plugins,{}),t.scales=iNe(n,t)}function jF(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function oNe(n){return n=n||{},n.data=jF(n.data),wF(n),n}const N5=new Map,CF=new Set;function AA(n,t){let e=N5.get(n);return e||(e=t(),N5.set(n,e),CF.add(e)),e}const Zh=(n,t,e)=>{const s=nc(t,e);s!==void 0&&n.add(s)};class lNe{constructor(t){this._config=oNe(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=jF(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),wF(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return AA(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return AA(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return AA(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,s=this.type;return AA(`${s}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const s=this._scopeCache;let a=s.get(t);return(!a||e)&&(a=new Map,s.set(t,a)),a}getOptionScopes(t,e,s){const{options:a,type:i}=this,o=this._cachedScopes(t,s),c=o.get(e);if(c)return c;const l=new Set;e.forEach(u=>{t&&(l.add(t),u.forEach(f=>Zh(l,t,f))),u.forEach(f=>Zh(l,a,f)),u.forEach(f=>Zh(l,jd[i]||{},f)),u.forEach(f=>Zh(l,Pr,f)),u.forEach(f=>Zh(l,q1,f))});const d=Array.from(l);return d.length===0&&d.push(Object.create(null)),CF.has(e)&&o.set(e,d),d}chartOptionScopes(){const{options:t,type:e}=this;return[t,jd[e]||{},Pr.datasets[e]||{},{type:e},Pr,q1]}resolveNamedOptions(t,e,s,a=[""]){const i={$shared:!0},{resolver:o,subPrefixes:c}=S5(this._resolverCache,t,a);let l=o;if(dNe(o,e)){i.$shared=!1,s=rc(s)?s():s;const d=this.createResolver(t,s,c);l=Xu(o,s,d)}for(const d of e)i[d]=l[d];return i}createResolver(t,e,s=[""],a){const{resolver:i}=S5(this._resolverCache,t,s);return On(e)?Xu(i,e,void 0,a):i}}function S5(n,t,e){let s=n.get(t);s||(s=new Map,n.set(t,s));const a=e.join();let i=s.get(a);return i||(i={resolver:sN(t,e),subPrefixes:e.filter(c=>!c.toLowerCase().includes("hover"))},s.set(a,i)),i}const cNe=n=>On(n)&&Object.getOwnPropertyNames(n).some(t=>rc(n[t]));function dNe(n,t){const{isScriptable:e,isIndexable:s}=nF(n);for(const a of t){const i=e(a),o=s(a),c=(o||i)&&n[a];if(i&&(rc(c)||cNe(c))||o&&_r(c))return!0}return!1}var uNe="4.5.0";const hNe=["top","bottom","left","right","chartArea"];function T5(n,t){return n==="top"||n==="bottom"||hNe.indexOf(n)===-1&&t==="x"}function k5(n,t){return function(e,s){return e[n]===s[n]?e[t]-s[t]:e[n]-s[n]}}function _5(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),fr(e&&e.onComplete,[n],t)}function fNe(n){const t=n.chart,e=t.options.animation;fr(e&&e.onProgress,[n],t)}function NF(n){return oN()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const vg={},B5=n=>{const t=NF(n);return Object.values(vg).filter(e=>e.canvas===t).pop()};function mNe(n,t,e){const s=Object.keys(n);for(const a of s){const i=+a;if(i>=t){const o=n[a];delete n[a],(e>0||i>t)&&(n[i+e]=o)}}}function pNe(n,t,e,s){return!e||n.type==="mouseout"?null:s?t:n}var xl;let ti=(xl=class{static register(...t){Di.add(...t),E5()}static unregister(...t){Di.remove(...t),E5()}constructor(t,e){const s=this.config=new lNe(e),a=NF(t),i=B5(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||PCe(a)),this.platform.updateConfig(s);const c=this.platform.acquireContext(a,o.aspectRatio),l=c&&c.canvas,d=l&&l.height,u=l&&l.width;if(this.id=A2e(),this.ctx=c,this.canvas=l,this.width=u,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new YCe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=P2e(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],vg[this.id]=this,!c||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Bo.listen(this,"complete",_5),Bo.listen(this,"progress",fNe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:s,height:a,_aspectRatio:i}=this;return Pn(t)?e&&i?i:a?s/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Di}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Z3(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return X3(this.canvas,this.ctx),this}stop(){return Bo.stop(this),this}resize(t,e){Bo.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const s=this.options,a=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(a,t,e,i),c=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Z3(this,c,!0)&&(this.notifyPlugins("resize",{size:o}),fr(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};sr(e,(s,a)=>{s.id=a})}buildOrUpdateScales(){const t=this.options,e=t.scales,s=this.scales,a=Object.keys(s).reduce((o,c)=>(o[c]=!1,o),{});let i=[];e&&(i=i.concat(Object.keys(e).map(o=>{const c=e[o],l=Y1(o,c),d=l==="r",u=l==="x";return{options:c,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),sr(i,o=>{const c=o.options,l=c.id,d=Y1(l,c),u=xn(c.type,o.dtype);(c.position===void 0||T5(c.position,d)!==T5(o.dposition))&&(c.position=o.dposition),a[l]=!0;let f=null;if(l in s&&s[l].type===u)f=s[l];else{const h=Di.getScale(u);f=new h({id:l,type:u,ctx:this.ctx,chart:this}),s[f.id]=f}f.init(c,t)}),sr(a,(o,c)=>{o||delete s[c]}),sr(s,o=>{Rs.configure(this,o,o.options),Rs.addBox(this,o)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,s=t.length;if(t.sort((a,i)=>a.index-i.index),s>e){for(let a=e;a<s;++a)this._destroyDatasetMeta(a);t.splice(e,s-e)}this._sortedMetasets=t.slice(0).sort(k5("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((s,a)=>{e.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=e.length;s<a;s++){const i=e[s];let o=this.getDatasetMeta(s);const c=i.type||this.config.type;if(o.type&&o.type!==c&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=c,o.indexAxis=i.indexAxis||X1(c,this.options),o.order=i.order||0,o.index=s,o.label=""+i.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=Di.getController(c),{datasetElementType:d,dataElementType:u}=Pr.datasets[c];Object.assign(l,{dataElementType:Di.getElement(u),datasetElementType:d&&Di.getElement(d)}),o.controller=new l(this,s),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){sr(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const s=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:f}=this.getDatasetMeta(d),h=!a&&i.indexOf(f)===-1;f.buildOrUpdateElements(h),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),a||sr(i,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(k5("z","_idx"));const{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){sr(this.scales,t=>{Rs.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!H3(e,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:i}of e){const o=s==="_removeElements"?-i:i;mNe(t,a,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,s=i=>new Set(t.filter(o=>o[0]===i).map((o,c)=>c+","+o.splice(1).join(","))),a=s(0);for(let i=1;i<e;i++)if(!H3(a,s(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Rs.update(this,this.width,this.height,t);const e=this.chartArea,s=e.width<=0||e.height<=0;this._layers=[],sr(this.boxes,a=>{s&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,s=this.data.datasets.length;e<s;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,s=this.data.datasets.length;e<s;++e)this._updateDataset(e,rc(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const s=this.getDatasetMeta(t),a={meta:s,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(s.controller._update(e),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Bo.has(this)?this.attached&&!Bo.running(this)&&Bo.start(this):(this.draw(),_5({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,s=[];let a,i;for(a=0,i=e.length;a<i;++a){const o=e[a];(!t||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,s={meta:t,index:t.index,cancelable:!0},a=fF(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(a&&_b(e,a),t.controller.draw(),a&&Bb(e),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return Fo(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,s,a){const i=hCe.modes[e];return typeof i=="function"?i(this,t,s,a):[]}getDatasetMeta(t){const e=this.data.datasets[t],s=this._metasets;let a=s.filter(i=>i&&i._dataset===e).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=bc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!e.hidden}setDatasetVisibility(t,e){const s=this.getDatasetMeta(t);s.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,s){const a=s?"show":"hide",i=this.getDatasetMeta(t),o=i.controller._resolveAnimations(void 0,a);Sm(e)?(i.data[e].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),o.update(i,{visible:s}),this.update(c=>c.datasetIndex===t?a:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Bo.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),X3(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete vg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,s=(i,o)=>{e.addEventListener(this,i,o),t[i]=o},a=(i,o,c)=>{i.offsetX=o,i.offsetY=c,this._eventHandler(i)};sr(this.options.events,i=>s(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,s=(l,d)=>{e.addEventListener(this,l,d),t[l]=d},a=(l,d)=>{t[l]&&(e.removeEventListener(this,l,d),delete t[l])},i=(l,d)=>{this.canvas&&this.resize(l,d)};let o;const c=()=>{a("attach",c),this.attached=!0,this.resize(),s("resize",i),s("detach",o)};o=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),s("attach",c)},e.isAttached(this.canvas)?c():o()}unbindEvents(){sr(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},sr(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,s){const a=s?"set":"remove";let i,o,c,l;for(e==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),c=0,l=t.length;c<l;++c){o=t[c];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[a+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],s=t.map(({datasetIndex:i,index:o})=>{const c=this.getDatasetMeta(i);if(!c)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:c.data[o],index:o}});!D0(s,e)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,e))}notifyPlugins(t,e,s){return this._plugins.notify(this,t,e,s)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,s){const a=this.options.hover,i=(l,d)=>l.filter(u=>!d.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),o=i(e,t),c=s?t:i(t,e);o.length&&this.updateHoverStyle(o,a.mode,!1),c.length&&a.mode&&this.updateHoverStyle(c,a.mode,!0)}_eventHandler(t,e){const s={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},a=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,a)===!1)return;const i=this._handleEvent(t,e,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(i||s.changed)&&this.render(),this}_handleEvent(t,e,s){const{_active:a=[],options:i}=this,o=e,c=this._getActiveElements(t,a,s,o),l=w2e(t),d=pNe(t,this._lastEvent,s,l);s&&(this._lastEvent=null,fr(i.onHover,[t,c,this],this),l&&fr(i.onClick,[t,c,this],this));const u=!D0(c,a);return(u||e)&&(this._active=c,this._updateHoverStyles(c,a,e)),this._lastEvent=d,u}_getActiveElements(t,e,s,a){if(t.type==="mouseout")return[];if(!s)return e;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,a)}},bt(xl,"defaults",Pr),bt(xl,"instances",vg),bt(xl,"overrides",jd),bt(xl,"registry",Di),bt(xl,"version",uNe),bt(xl,"getChart",B5),xl);function E5(){return sr(ti.instances,n=>n._plugins.invalidate())}function ANe(n,t,e){const{startAngle:s,x:a,y:i,outerRadius:o,innerRadius:c,options:l}=t,{borderWidth:d,borderJoinStyle:u}=l,f=Math.min(d/o,Is(s-e));if(n.beginPath(),n.arc(a,i,o-d/2,s+f/2,e-f/2),c>0){const h=Math.min(d/c,Is(s-e));n.arc(a,i,c+d/2,e-h/2,s+h/2,!0)}else{const h=Math.min(d/2,o*Is(s-e));if(u==="round")n.arc(a,i,h,e-qn/2,s+qn/2,!0);else if(u==="bevel"){const m=2*h*h,A=-m*Math.cos(e+qn/2)+a,g=-m*Math.sin(e+qn/2)+i,p=m*Math.cos(s+qn/2)+a,b=m*Math.sin(s+qn/2)+i;n.lineTo(A,g),n.lineTo(p,b)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function gNe(n,t,e){const{startAngle:s,pixelMargin:a,x:i,y:o,outerRadius:c,innerRadius:l}=t;let d=a/c;n.beginPath(),n.arc(i,o,c,s-d,e+d),l>a?(d=a/l,n.arc(i,o,l,e+d,s-d,!0)):n.arc(i,o,a,e+Xr,s-Xr),n.closePath(),n.clip()}function xNe(n){return rN(n,["outerStart","outerEnd","innerStart","innerEnd"])}function bNe(n,t,e,s){const a=xNe(n.options.borderRadius),i=(e-t)/2,o=Math.min(i,s*t/2),c=l=>{const d=(e-Math.min(i,l))*s/2;return bs(l,0,Math.min(i,d))};return{outerStart:c(a.outerStart),outerEnd:c(a.outerEnd),innerStart:bs(a.innerStart,0,o),innerEnd:bs(a.innerEnd,0,o)}}function qd(n,t,e,s){return{x:e+n*Math.cos(t),y:s+n*Math.sin(t)}}function H0(n,t,e,s,a,i){const{x:o,y:c,startAngle:l,pixelMargin:d,innerRadius:u}=t,f=Math.max(t.outerRadius+s+e-d,0),h=u>0?u+s+e+d:0;let m=0;const A=a-l;if(s){const T=u>0?u-s:0,w=f>0?f-s:0,C=(T+w)/2,j=C!==0?A*C/(C+s):A;m=(A-j)/2}const g=Math.max(.001,A*f-e/qn)/f,p=(A-g)/2,b=l+p+m,x=a-p-m,{outerStart:v,outerEnd:y,innerStart:S,innerEnd:M}=bNe(t,h,f,x-b),P=f-v,B=f-y,D=b+v/P,L=x-y/B,O=h+S,F=h+M,_=b+S/O,E=x-M/F;if(n.beginPath(),i){const T=(D+L)/2;if(n.arc(o,c,f,D,T),n.arc(o,c,f,T,L),y>0){const N=qd(B,L,o,c);n.arc(N.x,N.y,y,L,x+Xr)}const w=qd(F,x,o,c);if(n.lineTo(w.x,w.y),M>0){const N=qd(F,E,o,c);n.arc(N.x,N.y,M,x+Xr,E+Math.PI)}const C=(x-M/h+(b+S/h))/2;if(n.arc(o,c,h,x-M/h,C,!0),n.arc(o,c,h,C,b+S/h,!0),S>0){const N=qd(O,_,o,c);n.arc(N.x,N.y,S,_+Math.PI,b-Xr)}const j=qd(P,b,o,c);if(n.lineTo(j.x,j.y),v>0){const N=qd(P,D,o,c);n.arc(N.x,N.y,v,b-Xr,D)}}else{n.moveTo(o,c);const T=Math.cos(D)*f+o,w=Math.sin(D)*f+c;n.lineTo(T,w);const C=Math.cos(L)*f+o,j=Math.sin(L)*f+c;n.lineTo(C,j)}n.closePath()}function vNe(n,t,e,s,a){const{fullCircles:i,startAngle:o,circumference:c}=t;let l=t.endAngle;if(i){H0(n,t,e,s,l,a);for(let d=0;d<i;++d)n.fill();isNaN(c)||(l=o+(c%Nr||Nr))}return H0(n,t,e,s,l,a),n.fill(),l}function yNe(n,t,e,s,a){const{fullCircles:i,startAngle:o,circumference:c,options:l}=t,{borderWidth:d,borderJoinStyle:u,borderDash:f,borderDashOffset:h,borderRadius:m}=l,A=l.borderAlign==="inner";if(!d)return;n.setLineDash(f||[]),n.lineDashOffset=h,A?(n.lineWidth=d*2,n.lineJoin=u||"round"):(n.lineWidth=d,n.lineJoin=u||"bevel");let g=t.endAngle;if(i){H0(n,t,e,s,g,a);for(let p=0;p<i;++p)n.stroke();isNaN(c)||(g=o+(c%Nr||Nr))}A&&gNe(n,t,g),l.selfJoin&&g-o>=qn&&m===0&&u!=="miter"&&ANe(n,t,g),i||(H0(n,t,e,s,g,a),n.stroke())}class Rl extends ol{constructor(e){super();bt(this,"circumference");bt(this,"endAngle");bt(this,"fullCircles");bt(this,"innerRadius");bt(this,"outerRadius");bt(this,"pixelMargin");bt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,s,a){const i=this.getProps(["x","y"],a),{angle:o,distance:c}=KL(i,{x:e,y:s}),{startAngle:l,endAngle:d,innerRadius:u,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),m=(this.options.spacing+this.options.borderWidth)/2,A=xn(h,d-l),g=Tm(o,l,d)&&l!==d,p=A>=Nr||g,b=Oo(c,u+m,f+m);return p&&b}getCenterPoint(e){const{x:s,y:a,startAngle:i,endAngle:o,innerRadius:c,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:d,spacing:u}=this.options,f=(i+o)/2,h=(c+l+u+d)/2;return{x:s+Math.cos(f)*h,y:a+Math.sin(f)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:s,circumference:a}=this,i=(s.offset||0)/4,o=(s.spacing||0)/2,c=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=a>Nr?Math.floor(a/Nr):0,a===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*i,Math.sin(l)*i);const d=1-Math.sin(Math.min(qn,a||0)),u=i*d;e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,vNe(e,this,u,o,c),yNe(e,this,u,o,c),e.restore()}}bt(Rl,"id","arc"),bt(Rl,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),bt(Rl,"defaultRoutes",{backgroundColor:"backgroundColor"}),bt(Rl,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function SF(n,t,e=t){n.lineCap=xn(e.borderCapStyle,t.borderCapStyle),n.setLineDash(xn(e.borderDash,t.borderDash)),n.lineDashOffset=xn(e.borderDashOffset,t.borderDashOffset),n.lineJoin=xn(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=xn(e.borderWidth,t.borderWidth),n.strokeStyle=xn(e.borderColor,t.borderColor)}function wNe(n,t,e){n.lineTo(e.x,e.y)}function jNe(n){return n.stepped?z2e:n.tension||n.cubicInterpolationMode==="monotone"?K2e:wNe}function TF(n,t,e={}){const s=n.length,{start:a=0,end:i=s-1}=e,{start:o,end:c}=t,l=Math.max(a,o),d=Math.min(i,c),u=a<o&&i<o||a>c&&i>c;return{count:s,start:l,loop:t.loop,ilen:d<l&&!u?s+d-l:d-l}}function CNe(n,t,e,s){const{points:a,options:i}=t,{count:o,start:c,loop:l,ilen:d}=TF(a,e,s),u=jNe(i);let{move:f=!0,reverse:h}=s||{},m,A,g;for(m=0;m<=d;++m)A=a[(c+(h?d-m:m))%o],!A.skip&&(f?(n.moveTo(A.x,A.y),f=!1):u(n,g,A,h,i.stepped),g=A);return l&&(A=a[(c+(h?d:0))%o],u(n,g,A,h,i.stepped)),!!l}function NNe(n,t,e,s){const a=t.points,{count:i,start:o,ilen:c}=TF(a,e,s),{move:l=!0,reverse:d}=s||{};let u=0,f=0,h,m,A,g,p,b;const x=y=>(o+(d?c-y:y))%i,v=()=>{g!==p&&(n.lineTo(u,p),n.lineTo(u,g),n.lineTo(u,b))};for(l&&(m=a[x(0)],n.moveTo(m.x,m.y)),h=0;h<=c;++h){if(m=a[x(h)],m.skip)continue;const y=m.x,S=m.y,M=y|0;M===A?(S<g?g=S:S>p&&(p=S),u=(f*u+y)/++f):(v(),n.lineTo(y,S),A=M,f=0,g=p=S),b=S}v()}function J1(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?NNe:CNe}function SNe(n){return n.stepped?Cje:n.tension||n.cubicInterpolationMode==="monotone"?Nje:Oc}function TNe(n,t,e,s){let a=t._path;a||(a=t._path=new Path2D,t.path(a,e,s)&&a.closePath()),SF(n,t.options),n.stroke(a)}function kNe(n,t,e,s){const{segments:a,options:i}=t,o=J1(t);for(const c of a)SF(n,i,c.style),n.beginPath(),o(n,t,c,{start:e,end:e+s-1})&&n.closePath(),n.stroke()}const _Ne=typeof Path2D=="function";function BNe(n,t,e,s){_Ne&&!t.options.segment?TNe(n,t,e,s):kNe(n,t,e,s)}class qi extends ol{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const a=s.spanGaps?this._loop:this._fullLoop;Aje(this._points,s,t,a,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Eje(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,s=t.length;return s&&e[t[s-1].end]}interpolate(t,e){const s=this.options,a=t[e],i=this.points,o=hF(this,{property:e,start:a,end:a});if(!o.length)return;const c=[],l=SNe(s);let d,u;for(d=0,u=o.length;d<u;++d){const{start:f,end:h}=o[d],m=i[f],A=i[h];if(m===A){c.push(m);continue}const g=Math.abs((a-m[e])/(A[e]-m[e])),p=l(m,A,g,s.stepped);p[e]=t[e],c.push(p)}return c.length===1?c[0]:c}pathSegment(t,e,s){return J1(this)(t,this,e,s)}path(t,e,s){const a=this.segments,i=J1(this);let o=this._loop;e=e||0,s=s||this.points.length-e;for(const c of a)o&=i(t,this,c,{start:e,end:e+s-1});return!!o}draw(t,e,s,a){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),BNe(t,this,s,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}bt(qi,"id","line"),bt(qi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),bt(qi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),bt(qi,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function M5(n,t,e,s){const a=n.options,{[e]:i}=n.getProps([e],s);return Math.abs(t-i)<a.radius+a.hitRadius}class yu extends ol{constructor(e){super();bt(this,"parsed");bt(this,"skip");bt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,s,a){const i=this.options,{x:o,y:c}=this.getProps(["x","y"],a);return Math.pow(e-o,2)+Math.pow(s-c,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,s){return M5(this,e,"x",s)}inYRange(e,s){return M5(this,e,"y",s)}getCenterPoint(e){const{x:s,y:a}=this.getProps(["x","y"],e);return{x:s,y:a}}size(e){e=e||this.options||{};let s=e.radius||0;s=Math.max(s,s&&e.hoverRadius||0);const a=s&&e.borderWidth||0;return(s+a)*2}draw(e,s){const a=this.options;this.skip||a.radius<.1||!Fo(this,s,this.size(a)/2)||(e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.fillStyle=a.backgroundColor,W1(e,a,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}bt(yu,"id","point"),bt(yu,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),bt(yu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function kF(n,t){const{x:e,y:s,base:a,width:i,height:o}=n.getProps(["x","y","base","width","height"],t);let c,l,d,u,f;return n.horizontal?(f=o/2,c=Math.min(e,a),l=Math.max(e,a),d=s-f,u=s+f):(f=i/2,c=e-f,l=e+f,d=Math.min(s,a),u=Math.max(s,a)),{left:c,top:d,right:l,bottom:u}}function Ul(n,t,e,s){return n?0:bs(t,e,s)}function ENe(n,t,e){const s=n.options.borderWidth,a=n.borderSkipped,i=tF(s);return{t:Ul(a.top,i.top,0,e),r:Ul(a.right,i.right,0,t),b:Ul(a.bottom,i.bottom,0,e),l:Ul(a.left,i.left,0,t)}}function MNe(n,t,e){const{enableBorderRadius:s}=n.getProps(["enableBorderRadius"]),a=n.options.borderRadius,i=Jc(a),o=Math.min(t,e),c=n.borderSkipped,l=s||On(a);return{topLeft:Ul(!l||c.top||c.left,i.topLeft,0,o),topRight:Ul(!l||c.top||c.right,i.topRight,0,o),bottomLeft:Ul(!l||c.bottom||c.left,i.bottomLeft,0,o),bottomRight:Ul(!l||c.bottom||c.right,i.bottomRight,0,o)}}function PNe(n){const t=kF(n),e=t.right-t.left,s=t.bottom-t.top,a=ENe(n,e/2,s/2),i=MNe(n,e/2,s/2);return{outer:{x:t.left,y:t.top,w:e,h:s,radius:i},inner:{x:t.left+a.l,y:t.top+a.t,w:e-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function by(n,t,e,s){const a=t===null,i=e===null,c=n&&!(a&&i)&&kF(n,s);return c&&(a||Oo(t,c.left,c.right))&&(i||Oo(e,c.top,c.bottom))}function DNe(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function INe(n,t){n.rect(t.x,t.y,t.w,t.h)}function vy(n,t,e={}){const s=n.x!==e.x?-t:0,a=n.y!==e.y?-t:0,i=(n.x+n.w!==e.x+e.w?t:0)-s,o=(n.y+n.h!==e.y+e.h?t:0)-a;return{x:n.x+s,y:n.y+a,w:n.w+i,h:n.h+o,radius:n.radius}}class wu extends ol{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:s,backgroundColor:a}}=this,{inner:i,outer:o}=PNe(this),c=DNe(o.radius)?km:INe;t.save(),(o.w!==i.w||o.h!==i.h)&&(t.beginPath(),c(t,vy(o,e,i)),t.clip(),c(t,vy(i,-e,o)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),c(t,vy(i,e)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,e,s){return by(this,t,e,s)}inXRange(t,e){return by(this,t,null,e)}inYRange(t,e){return by(this,null,t,e)}getCenterPoint(t){const{x:e,y:s,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(e+a)/2:e,y:i?s:(s+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}bt(wu,"id","bar"),bt(wu,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),bt(wu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var ONe=Object.freeze({__proto__:null,ArcElement:Rl,BarElement:wu,LineElement:qi,PointElement:yu});const Z1=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],P5=Z1.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function _F(n){return Z1[n%Z1.length]}function BF(n){return P5[n%P5.length]}function LNe(n,t){return n.borderColor=_F(t),n.backgroundColor=BF(t),++t}function FNe(n,t){return n.backgroundColor=n.data.map(()=>_F(t++)),t}function RNe(n,t){return n.backgroundColor=n.data.map(()=>BF(t++)),t}function UNe(n){let t=0;return(e,s)=>{const a=n.getDatasetMeta(s).controller;a instanceof Uc?t=FNe(e,t):a instanceof Hf?t=RNe(e,t):a&&(t=LNe(e,t))}}function D5(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function HNe(n){return n&&(n.borderColor||n.backgroundColor)}function $Ne(){return Pr.borderColor!=="rgba(0,0,0,0.1)"||Pr.backgroundColor!=="rgba(0,0,0,0.1)"}var QNe={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:s},options:a}=n.config,{elements:i}=a,o=D5(s)||HNe(a)||i&&D5(i)||$Ne();if(!e.forceOverride&&o)return;const c=UNe(n);s.forEach(c)}};function VNe(n,t,e,s,a){const i=a.samples||s;if(i>=e)return n.slice(t,t+e);const o=[],c=(e-2)/(i-2);let l=0;const d=t+e-1;let u=t,f,h,m,A,g;for(o[l++]=n[u],f=0;f<i-2;f++){let p=0,b=0,x;const v=Math.floor((f+1)*c)+1+t,y=Math.min(Math.floor((f+2)*c)+1,e)+t,S=y-v;for(x=v;x<y;x++)p+=n[x].x,b+=n[x].y;p/=S,b/=S;const M=Math.floor(f*c)+1+t,P=Math.min(Math.floor((f+1)*c)+1,e)+t,{x:B,y:D}=n[u];for(m=A=-1,x=M;x<P;x++)A=.5*Math.abs((B-p)*(n[x].y-D)-(B-n[x].x)*(b-D)),A>m&&(m=A,h=n[x],g=x);o[l++]=h,u=g}return o[l++]=n[d],o}function zNe(n,t,e,s){let a=0,i=0,o,c,l,d,u,f,h,m,A,g;const p=[],b=t+e-1,x=n[t].x,y=n[b].x-x;for(o=t;o<t+e;++o){c=n[o],l=(c.x-x)/y*s,d=c.y;const S=l|0;if(S===u)d<A?(A=d,f=o):d>g&&(g=d,h=o),a=(i*a+c.x)/++i;else{const M=o-1;if(!Pn(f)&&!Pn(h)){const P=Math.min(f,h),B=Math.max(f,h);P!==m&&P!==M&&p.push({...n[P],x:a}),B!==m&&B!==M&&p.push({...n[B],x:a})}o>0&&M!==m&&p.push(n[M]),p.push(c),u=S,i=0,A=g=d,f=h=m=o}}return p}function EF(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function I5(n){n.data.datasets.forEach(t=>{EF(t)})}function KNe(n,t){const e=t.length;let s=0,a;const{iScale:i}=n,{min:o,max:c,minDefined:l,maxDefined:d}=i.getUserBounds();return l&&(s=bs(Lo(t,i.axis,o).lo,0,e-1)),d?a=bs(Lo(t,i.axis,c).hi+1,s,e)-s:a=e-s,{start:s,count:a}}var GNe={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){I5(n);return}const s=n.width;n.data.datasets.forEach((a,i)=>{const{_data:o,indexAxis:c}=a,l=n.getDatasetMeta(i),d=o||a.data;if(gf([c,n.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=n.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||n.options.parsing)return;let{start:f,count:h}=KNe(l,d);const m=e.threshold||4*s;if(h<=m){EF(a);return}Pn(o)&&(a._data=d,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let A;switch(e.algorithm){case"lttb":A=VNe(d,f,h,s,e);break;case"min-max":A=zNe(d,f,h,s);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}a._decimated=A})},destroy(n){I5(n)}};function qNe(n,t,e){const s=n.segments,a=n.points,i=t.points,o=[];for(const c of s){let{start:l,end:d}=c;d=Pb(l,d,a);const u=e2(e,a[l],a[d],c.loop);if(!t.segments){o.push({source:c,target:u,start:a[l],end:a[d]});continue}const f=hF(t,u);for(const h of f){const m=e2(e,i[h.start],i[h.end],h.loop),A=uF(c,a,m);for(const g of A)o.push({source:g,target:h,start:{[e]:O5(u,m,"start",Math.max)},end:{[e]:O5(u,m,"end",Math.min)}})}}return o}function e2(n,t,e,s){if(s)return;let a=t[n],i=e[n];return n==="angle"&&(a=Is(a),i=Is(i)),{property:n,start:a,end:i}}function WNe(n,t){const{x:e=null,y:s=null}=n||{},a=t.points,i=[];return t.segments.forEach(({start:o,end:c})=>{c=Pb(o,c,a);const l=a[o],d=a[c];s!==null?(i.push({x:l.x,y:s}),i.push({x:d.x,y:s})):e!==null&&(i.push({x:e,y:l.y}),i.push({x:e,y:d.y}))}),i}function Pb(n,t,e){for(;t>n;t--){const s=e[t];if(!isNaN(s.x)&&!isNaN(s.y))break}return t}function O5(n,t,e,s){return n&&t?s(n[e],t[e]):n?n[e]:t?t[e]:0}function MF(n,t){let e=[],s=!1;return _r(n)?(s=!0,e=n):e=WNe(n,t),e.length?new qi({points:e,options:{tension:0},_loop:s,_fullLoop:s}):null}function L5(n){return n&&n.fill!==!1}function XNe(n,t,e){let a=n[t].fill;const i=[t];let o;if(!e)return a;for(;a!==!1&&i.indexOf(a)===-1;){if(!Qr(a))return a;if(o=n[a],!o)return!1;if(o.visible)return a;i.push(a),a=o.fill}return!1}function YNe(n,t,e){const s=t4e(n);if(On(s))return isNaN(s.value)?!1:s;let a=parseFloat(s);return Qr(a)&&Math.floor(a)===a?JNe(s[0],t,a,e):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function JNe(n,t,e,s){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=s?!1:e}function ZNe(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:On(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function e4e(n,t,e){let s;return n==="start"?s=e:n==="end"?s=t.options.reverse?t.min:t.max:On(n)?s=n.value:s=t.getBaseValue(),s}function t4e(n){const t=n.options,e=t.fill;let s=xn(e&&e.target,e);return s===void 0&&(s=!!t.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function n4e(n){const{scale:t,index:e,line:s}=n,a=[],i=s.segments,o=s.points,c=r4e(t,e);c.push(MF({x:null,y:t.bottom},s));for(let l=0;l<i.length;l++){const d=i[l];for(let u=d.start;u<=d.end;u++)s4e(a,o[u],c)}return new qi({points:a,options:{}})}function r4e(n,t){const e=[],s=n.getMatchingVisibleMetas("line");for(let a=0;a<s.length;a++){const i=s[a];if(i.index===t)break;i.hidden||e.unshift(i.dataset)}return e}function s4e(n,t,e){const s=[];for(let a=0;a<e.length;a++){const i=e[a],{first:o,last:c,point:l}=a4e(i,t,"x");if(!(!l||o&&c)){if(o)s.unshift(l);else if(n.push(l),!c)break}}n.push(...s)}function a4e(n,t,e){const s=n.interpolate(t,e);if(!s)return{};const a=s[e],i=n.segments,o=n.points;let c=!1,l=!1;for(let d=0;d<i.length;d++){const u=i[d],f=o[u.start][e],h=o[u.end][e];if(Oo(a,f,h)){c=a===f,l=a===h;break}}return{first:c,last:l,point:s}}class PF{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,s){const{x:a,y:i,radius:o}=this;return e=e||{start:0,end:Nr},t.arc(a,i,o,e.end,e.start,!0),!s.bounds}interpolate(t){const{x:e,y:s,radius:a}=this,i=t.angle;return{x:e+Math.cos(i)*a,y:s+Math.sin(i)*a,angle:i}}}function i4e(n){const{chart:t,fill:e,line:s}=n;if(Qr(e))return o4e(t,e);if(e==="stack")return n4e(n);if(e==="shape")return!0;const a=l4e(n);return a instanceof PF?a:MF(a,s)}function o4e(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function l4e(n){return(n.scale||{}).getPointPositionForValue?d4e(n):c4e(n)}function c4e(n){const{scale:t={},fill:e}=n,s=ZNe(e,t);if(Qr(s)){const a=t.isHorizontal();return{x:a?s:null,y:a?null:s}}return null}function d4e(n){const{scale:t,fill:e}=n,s=t.options,a=t.getLabels().length,i=s.reverse?t.max:t.min,o=e4e(e,t,i),c=[];if(s.grid.circular){const l=t.getPointPositionForValue(0,i);return new PF({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<a;++l)c.push(t.getPointPositionForValue(l,o));return c}function yy(n,t,e){const s=i4e(t),{chart:a,index:i,line:o,scale:c,axis:l}=t,d=o.options,u=d.fill,f=d.backgroundColor,{above:h=f,below:m=f}=u||{},A=a.getDatasetMeta(i),g=fF(a,A);s&&o.points.length&&(_b(n,e),u4e(n,{line:o,target:s,above:h,below:m,area:e,scale:c,axis:l,clip:g}),Bb(n))}function u4e(n,t){const{line:e,target:s,above:a,below:i,area:o,scale:c,clip:l}=t,d=e._loop?"angle":t.axis;n.save();let u=i;i!==a&&(d==="x"?(F5(n,s,o.top),wy(n,{line:e,target:s,color:a,scale:c,property:d,clip:l}),n.restore(),n.save(),F5(n,s,o.bottom)):d==="y"&&(R5(n,s,o.left),wy(n,{line:e,target:s,color:i,scale:c,property:d,clip:l}),n.restore(),n.save(),R5(n,s,o.right),u=a)),wy(n,{line:e,target:s,color:u,scale:c,property:d,clip:l}),n.restore()}function F5(n,t,e){const{segments:s,points:a}=t;let i=!0,o=!1;n.beginPath();for(const c of s){const{start:l,end:d}=c,u=a[l],f=a[Pb(l,d,a)];i?(n.moveTo(u.x,u.y),i=!1):(n.lineTo(u.x,e),n.lineTo(u.x,u.y)),o=!!t.pathSegment(n,c,{move:o}),o?n.closePath():n.lineTo(f.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function R5(n,t,e){const{segments:s,points:a}=t;let i=!0,o=!1;n.beginPath();for(const c of s){const{start:l,end:d}=c,u=a[l],f=a[Pb(l,d,a)];i?(n.moveTo(u.x,u.y),i=!1):(n.lineTo(e,u.y),n.lineTo(u.x,u.y)),o=!!t.pathSegment(n,c,{move:o}),o?n.closePath():n.lineTo(e,f.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function wy(n,t){const{line:e,target:s,property:a,color:i,scale:o,clip:c}=t,l=qNe(e,s,a);for(const{source:d,target:u,start:f,end:h}of l){const{style:{backgroundColor:m=i}={}}=d,A=s!==!0;n.save(),n.fillStyle=m,h4e(n,o,c,A&&e2(a,f,h)),n.beginPath();const g=!!e.pathSegment(n,d);let p;if(A){g?n.closePath():U5(n,s,h,a);const b=!!s.pathSegment(n,u,{move:g,reverse:!0});p=g&&b,p||U5(n,s,f,a)}n.closePath(),n.fill(p?"evenodd":"nonzero"),n.restore()}}function h4e(n,t,e,s){const a=t.chart.chartArea,{property:i,start:o,end:c}=s||{};if(i==="x"||i==="y"){let l,d,u,f;i==="x"?(l=o,d=a.top,u=c,f=a.bottom):(l=a.left,d=o,u=a.right,f=c),n.beginPath(),e&&(l=Math.max(l,e.left),u=Math.min(u,e.right),d=Math.max(d,e.top),f=Math.min(f,e.bottom)),n.rect(l,d,u-l,f-d),n.clip()}}function U5(n,t,e,s){const a=t.interpolate(e,s);a&&n.lineTo(a.x,a.y)}var f4e={id:"filler",afterDatasetsUpdate(n,t,e){const s=(n.data.datasets||[]).length,a=[];let i,o,c,l;for(o=0;o<s;++o)i=n.getDatasetMeta(o),c=i.dataset,l=null,c&&c.options&&c instanceof qi&&(l={visible:n.isDatasetVisible(o),index:o,fill:YNe(c,o,s),chart:n,axis:i.controller.options.indexAxis,scale:i.vScale,line:c}),i.$filler=l,a.push(l);for(o=0;o<s;++o)l=a[o],!(!l||l.fill===!1)&&(l.fill=XNe(a,o,e.propagate))},beforeDraw(n,t,e){const s=e.drawTime==="beforeDraw",a=n.getSortedVisibleDatasetMetas(),i=n.chartArea;for(let o=a.length-1;o>=0;--o){const c=a[o].$filler;c&&(c.line.updateControlPoints(i,c.axis),s&&c.fill&&yy(n.ctx,c,i))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const s=n.getSortedVisibleDatasetMetas();for(let a=s.length-1;a>=0;--a){const i=s[a].$filler;L5(i)&&yy(n.ctx,i,n.chartArea)}},beforeDatasetDraw(n,t,e){const s=t.meta.$filler;!L5(s)||e.drawTime!=="beforeDatasetDraw"||yy(n.ctx,s,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const H5=(n,t)=>{let{boxHeight:e=t,boxWidth:s=t}=n;return n.usePointStyle&&(e=Math.min(e,t),s=n.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:e,itemHeight:Math.max(t,e)}},m4e=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class $5 extends ol{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,s){this.maxWidth=t,this.maxHeight=e,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=fr(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(s=>t.filter(s,this.chart.data))),t.sort&&(e=e.sort((s,a)=>t.sort(s,a,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,a=ds(s.font),i=a.size,o=this._computeTitleHeight(),{boxWidth:c,itemHeight:l}=H5(s,i);let d,u;e.font=a.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(o,i,c,l)+10):(u=this.maxHeight,d=this._fitCols(o,a,c,l)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,e,s,a){const{ctx:i,maxWidth:o,options:{labels:{padding:c}}}=this,l=this.legendHitBoxes=[],d=this.lineWidths=[0],u=a+c;let f=t;i.textAlign="left",i.textBaseline="middle";let h=-1,m=-u;return this.legendItems.forEach((A,g)=>{const p=s+e/2+i.measureText(A.text).width;(g===0||d[d.length-1]+p+2*c>o)&&(f+=u,d[d.length-(g>0?0:1)]=0,m+=u,h++),l[g]={left:0,top:m,row:h,width:p,height:a},d[d.length-1]+=p+c}),f}_fitCols(t,e,s,a){const{ctx:i,maxHeight:o,options:{labels:{padding:c}}}=this,l=this.legendHitBoxes=[],d=this.columnSizes=[],u=o-t;let f=c,h=0,m=0,A=0,g=0;return this.legendItems.forEach((p,b)=>{const{itemWidth:x,itemHeight:v}=p4e(s,e,i,p,a);b>0&&m+v+2*c>u&&(f+=h+c,d.push({width:h,height:m}),A+=h+c,g++,h=m=0),l[b]={left:A,top:m,col:g,width:x,height:v},h=Math.max(h,x),m+=v+c}),f+=h,d.push({width:h,height:m}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:s,labels:{padding:a},rtl:i}}=this,o=vu(i,this.left,this.width);if(this.isHorizontal()){let c=0,l=Ds(s,this.left+a,this.right-this.lineWidths[c]);for(const d of e)c!==d.row&&(c=d.row,l=Ds(s,this.left+a,this.right-this.lineWidths[c])),d.top+=this.top+t+a,d.left=o.leftForLtr(o.x(l),d.width),l+=d.width+a}else{let c=0,l=Ds(s,this.top+t+a,this.bottom-this.columnSizes[c].height);for(const d of e)d.col!==c&&(c=d.col,l=Ds(s,this.top+t+a,this.bottom-this.columnSizes[c].height)),d.top=l,d.left+=this.left+a,d.left=o.leftForLtr(o.x(d.left),d.width),l+=d.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;_b(t,this),this._draw(),Bb(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:s,ctx:a}=this,{align:i,labels:o}=t,c=Pr.color,l=vu(t.rtl,this.left,this.width),d=ds(o.font),{padding:u}=o,f=d.size,h=f/2;let m;this.drawTitle(),a.textAlign=l.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=d.string;const{boxWidth:A,boxHeight:g,itemHeight:p}=H5(o,f),b=function(M,P,B){if(isNaN(A)||A<=0||isNaN(g)||g<0)return;a.save();const D=xn(B.lineWidth,1);if(a.fillStyle=xn(B.fillStyle,c),a.lineCap=xn(B.lineCap,"butt"),a.lineDashOffset=xn(B.lineDashOffset,0),a.lineJoin=xn(B.lineJoin,"miter"),a.lineWidth=D,a.strokeStyle=xn(B.strokeStyle,c),a.setLineDash(xn(B.lineDash,[])),o.usePointStyle){const L={radius:g*Math.SQRT2/2,pointStyle:B.pointStyle,rotation:B.rotation,borderWidth:D},O=l.xPlus(M,A/2),F=P+h;eF(a,L,O,F,o.pointStyleWidth&&A)}else{const L=P+Math.max((f-g)/2,0),O=l.leftForLtr(M,A),F=Jc(B.borderRadius);a.beginPath(),Object.values(F).some(_=>_!==0)?km(a,{x:O,y:L,w:A,h:g,radius:F}):a.rect(O,L,A,g),a.fill(),D!==0&&a.stroke()}a.restore()},x=function(M,P,B){Cd(a,B.text,M,P+p/2,d,{strikethrough:B.hidden,textAlign:l.textAlign(B.textAlign)})},v=this.isHorizontal(),y=this._computeTitleHeight();v?m={x:Ds(i,this.left+u,this.right-s[0]),y:this.top+u+y,line:0}:m={x:this.left+u,y:Ds(i,this.top+y+u,this.bottom-e[0].height),line:0},lF(this.ctx,t.textDirection);const S=p+u;this.legendItems.forEach((M,P)=>{a.strokeStyle=M.fontColor,a.fillStyle=M.fontColor;const B=a.measureText(M.text).width,D=l.textAlign(M.textAlign||(M.textAlign=o.textAlign)),L=A+h+B;let O=m.x,F=m.y;l.setWidth(this.width),v?P>0&&O+L+u>this.right&&(F=m.y+=S,m.line++,O=m.x=Ds(i,this.left+u,this.right-s[m.line])):P>0&&F+S>this.bottom&&(O=m.x=O+e[m.line].width+u,m.line++,F=m.y=Ds(i,this.top+y+u,this.bottom-e[m.line].height));const _=l.x(O);if(b(_,F,M),O=D2e(D,O+A+h,v?O+L:this.right,t.rtl),x(l.x(O),F,M),v)m.x+=L+u;else if(typeof M.text!="string"){const E=d.lineHeight;m.y+=DF(M,E)+u}else m.y+=S}),cF(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,s=ds(e.font),a=Hs(e.padding);if(!e.display)return;const i=vu(t.rtl,this.left,this.width),o=this.ctx,c=e.position,l=s.size/2,d=a.top+l;let u,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+d,f=Ds(t.align,f,this.right-h);else{const A=this.columnSizes.reduce((g,p)=>Math.max(g,p.height),0);u=d+Ds(t.align,this.top,this.bottom-A-t.labels.padding-this._computeTitleHeight())}const m=Ds(c,f,f+h);o.textAlign=i.textAlign(tN(c)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=s.string,Cd(o,e.text,m,u,s)}_computeTitleHeight(){const t=this.options.title,e=ds(t.font),s=Hs(t.padding);return t.display?e.lineHeight+s.height:0}_getLegendItemAt(t,e){let s,a,i;if(Oo(t,this.left,this.right)&&Oo(e,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(a=i[s],Oo(t,a.left,a.left+a.width)&&Oo(e,a.top,a.top+a.height))return this.legendItems[s]}return null}handleEvent(t){const e=this.options;if(!x4e(t.type,e))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,i=m4e(a,s);a&&!i&&fr(e.onLeave,[t,a,this],this),this._hoveredItem=s,s&&!i&&fr(e.onHover,[t,s,this],this)}else s&&fr(e.onClick,[t,s,this],this)}}function p4e(n,t,e,s,a){const i=A4e(s,n,t,e),o=g4e(a,s,t.lineHeight);return{itemWidth:i,itemHeight:o}}function A4e(n,t,e,s){let a=n.text;return a&&typeof a!="string"&&(a=a.reduce((i,o)=>i.length>o.length?i:o)),t+e.size/2+s.measureText(a).width}function g4e(n,t,e){let s=n;return typeof t.text!="string"&&(s=DF(t,e)),s}function DF(n,t){const e=n.text?n.text.length:0;return t*e}function x4e(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var wp={id:"legend",_element:$5,start(n,t,e){const s=n.legend=new $5({ctx:n.ctx,options:e,chart:n});Rs.configure(n,s,e),Rs.addBox(n,s)},stop(n){Rs.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const s=n.legend;Rs.configure(n,s,e),s.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const s=t.datasetIndex,a=e.chart;a.isDatasetVisible(s)?(a.hide(s),t.hidden=!0):(a.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:s,textAlign:a,color:i,useBorderRadius:o,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const d=l.controller.getStyle(e?0:void 0),u=Hs(d.borderWidth);return{text:t[l.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:s||d.pointStyle,rotation:d.rotation,textAlign:a||d.textAlign,borderRadius:o&&(c||d.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class dN extends ol{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const a=_r(s.text)?s.text.length:1;this._padding=Hs(s.padding);const i=a*ds(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:s,bottom:a,right:i,options:o}=this,c=o.align;let l=0,d,u,f;return this.isHorizontal()?(u=Ds(c,s,i),f=e+t,d=i-s):(o.position==="left"?(u=s+t,f=Ds(c,a,e),l=qn*-.5):(u=i-t,f=Ds(c,e,a),l=qn*.5),d=a-e),{titleX:u,titleY:f,maxWidth:d,rotation:l}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const s=ds(e.font),i=s.lineHeight/2+this._padding.top,{titleX:o,titleY:c,maxWidth:l,rotation:d}=this._drawArgs(i);Cd(t,e.text,0,0,s,{color:e.color,maxWidth:l,rotation:d,textAlign:tN(e.align),textBaseline:"middle",translation:[o,c]})}}function b4e(n,t){const e=new dN({ctx:n.ctx,options:t,chart:n});Rs.configure(n,e,t),Rs.addBox(n,e),n.titleBlock=e}var uN={id:"title",_element:dN,start(n,t,e){b4e(n,e)},stop(n){const t=n.titleBlock;Rs.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const s=n.titleBlock;Rs.configure(n,s,e),s.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const gA=new WeakMap;var v4e={id:"subtitle",start(n,t,e){const s=new dN({ctx:n.ctx,options:e,chart:n});Rs.configure(n,s,e),Rs.addBox(n,s),gA.set(n,s)},stop(n){Rs.removeBox(n,gA.get(n)),gA.delete(n)},beforeUpdate(n,t,e){const s=gA.get(n);Rs.configure(n,s,e),s.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const bf={average(n){if(!n.length)return!1;let t,e,s=new Set,a=0,i=0;for(t=0,e=n.length;t<e;++t){const c=n[t].element;if(c&&c.hasValue()){const l=c.tooltipPosition();s.add(l.x),a+=l.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((c,l)=>c+l)/s.size,y:a/i}},nearest(n,t){if(!n.length)return!1;let e=t.x,s=t.y,a=Number.POSITIVE_INFINITY,i,o,c;for(i=0,o=n.length;i<o;++i){const l=n[i].element;if(l&&l.hasValue()){const d=l.getCenterPoint(),u=G1(t,d);u<a&&(a=u,c=l)}}if(c){const l=c.tooltipPosition();e=l.x,s=l.y}return{x:e,y:s}}};function Pi(n,t){return t&&(_r(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Eo(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function y4e(n,t){const{element:e,datasetIndex:s,index:a}=t,i=n.getDatasetMeta(s).controller,{label:o,value:c}=i.getLabelAndValue(a);return{chart:n,label:o,parsed:i.getParsed(a),raw:n.data.datasets[s].data[a],formattedValue:c,dataset:i.getDataset(),dataIndex:a,datasetIndex:s,element:e}}function Q5(n,t){const e=n.chart.ctx,{body:s,footer:a,title:i}=n,{boxWidth:o,boxHeight:c}=t,l=ds(t.bodyFont),d=ds(t.titleFont),u=ds(t.footerFont),f=i.length,h=a.length,m=s.length,A=Hs(t.padding);let g=A.height,p=0,b=s.reduce((y,S)=>y+S.before.length+S.lines.length+S.after.length,0);if(b+=n.beforeBody.length+n.afterBody.length,f&&(g+=f*d.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),b){const y=t.displayColors?Math.max(c,l.lineHeight):l.lineHeight;g+=m*y+(b-m)*l.lineHeight+(b-1)*t.bodySpacing}h&&(g+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let x=0;const v=function(y){p=Math.max(p,e.measureText(y).width+x)};return e.save(),e.font=d.string,sr(n.title,v),e.font=l.string,sr(n.beforeBody.concat(n.afterBody),v),x=t.displayColors?o+2+t.boxPadding:0,sr(s,y=>{sr(y.before,v),sr(y.lines,v),sr(y.after,v)}),x=0,e.font=u.string,sr(n.footer,v),e.restore(),p+=A.width,{width:p,height:g}}function w4e(n,t){const{y:e,height:s}=t;return e<s/2?"top":e>n.height-s/2?"bottom":"center"}function j4e(n,t,e,s){const{x:a,width:i}=s,o=e.caretSize+e.caretPadding;if(n==="left"&&a+i+o>t.width||n==="right"&&a-i-o<0)return!0}function C4e(n,t,e,s){const{x:a,width:i}=e,{width:o,chartArea:{left:c,right:l}}=n;let d="center";return s==="center"?d=a<=(c+l)/2?"left":"right":a<=i/2?d="left":a>=o-i/2&&(d="right"),j4e(d,n,t,e)&&(d="center"),d}function V5(n,t,e){const s=e.yAlign||t.yAlign||w4e(n,e);return{xAlign:e.xAlign||t.xAlign||C4e(n,t,e,s),yAlign:s}}function N4e(n,t){let{x:e,width:s}=n;return t==="right"?e-=s:t==="center"&&(e-=s/2),e}function S4e(n,t,e){let{y:s,height:a}=n;return t==="top"?s+=e:t==="bottom"?s-=a+e:s-=a/2,s}function z5(n,t,e,s){const{caretSize:a,caretPadding:i,cornerRadius:o}=n,{xAlign:c,yAlign:l}=e,d=a+i,{topLeft:u,topRight:f,bottomLeft:h,bottomRight:m}=Jc(o);let A=N4e(t,c);const g=S4e(t,l,d);return l==="center"?c==="left"?A+=d:c==="right"&&(A-=d):c==="left"?A-=Math.max(u,h)+a:c==="right"&&(A+=Math.max(f,m)+a),{x:bs(A,0,s.width-t.width),y:bs(g,0,s.height-t.height)}}function xA(n,t,e){const s=Hs(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-s.right:n.x+s.left}function K5(n){return Pi([],Eo(n))}function T4e(n,t,e){return bc(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function G5(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const IF={beforeTitle:yo,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,s=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return e[t.dataIndex]}return""},afterTitle:yo,beforeBody:yo,beforeLabel:yo,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Pn(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:yo,afterBody:yo,beforeFooter:yo,footer:yo,afterFooter:yo};function la(n,t,e,s){const a=n[t].call(e,s);return typeof a>"u"?IF[t].call(e,s):a}class t2 extends ol{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,s=this.options.setContext(this.getContext()),a=s.enabled&&e.options.animation&&s.animations,i=new mF(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=T4e(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:s}=e,a=la(s,"beforeTitle",this,t),i=la(s,"title",this,t),o=la(s,"afterTitle",this,t);let c=[];return c=Pi(c,Eo(a)),c=Pi(c,Eo(i)),c=Pi(c,Eo(o)),c}getBeforeBody(t,e){return K5(la(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:s}=e,a=[];return sr(t,i=>{const o={before:[],lines:[],after:[]},c=G5(s,i);Pi(o.before,Eo(la(c,"beforeLabel",this,i))),Pi(o.lines,la(c,"label",this,i)),Pi(o.after,Eo(la(c,"afterLabel",this,i))),a.push(o)}),a}getAfterBody(t,e){return K5(la(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:s}=e,a=la(s,"beforeFooter",this,t),i=la(s,"footer",this,t),o=la(s,"afterFooter",this,t);let c=[];return c=Pi(c,Eo(a)),c=Pi(c,Eo(i)),c=Pi(c,Eo(o)),c}_createItems(t){const e=this._active,s=this.chart.data,a=[],i=[],o=[];let c=[],l,d;for(l=0,d=e.length;l<d;++l)c.push(y4e(this.chart,e[l]));return t.filter&&(c=c.filter((u,f,h)=>t.filter(u,f,h,s))),t.itemSort&&(c=c.sort((u,f)=>t.itemSort(u,f,s))),sr(c,u=>{const f=G5(t.callbacks,u);a.push(la(f,"labelColor",this,u)),i.push(la(f,"labelPointStyle",this,u)),o.push(la(f,"labelTextColor",this,u))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=c,c}update(t,e){const s=this.options.setContext(this.getContext()),a=this._active;let i,o=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const c=bf[s.position].call(this,a,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=Q5(this,s),d=Object.assign({},c,l),u=V5(this.chart,s,d),f=z5(s,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,s,a){const i=this.getCaretPosition(t,s,a);e.lineTo(i.x1,i.y1),e.lineTo(i.x2,i.y2),e.lineTo(i.x3,i.y3)}getCaretPosition(t,e,s){const{xAlign:a,yAlign:i}=this,{caretSize:o,cornerRadius:c}=s,{topLeft:l,topRight:d,bottomLeft:u,bottomRight:f}=Jc(c),{x:h,y:m}=t,{width:A,height:g}=e;let p,b,x,v,y,S;return i==="center"?(y=m+g/2,a==="left"?(p=h,b=p-o,v=y+o,S=y-o):(p=h+A,b=p+o,v=y-o,S=y+o),x=p):(a==="left"?b=h+Math.max(l,u)+o:a==="right"?b=h+A-Math.max(d,f)-o:b=this.caretX,i==="top"?(v=m,y=v-o,p=b-o,x=b+o):(v=m+g,y=v+o,p=b+o,x=b-o),S=v),{x1:p,x2:b,x3:x,y1:v,y2:y,y3:S}}drawTitle(t,e,s){const a=this.title,i=a.length;let o,c,l;if(i){const d=vu(s.rtl,this.x,this.width);for(t.x=xA(this,s.titleAlign,s),e.textAlign=d.textAlign(s.titleAlign),e.textBaseline="middle",o=ds(s.titleFont),c=s.titleSpacing,e.fillStyle=s.titleColor,e.font=o.string,l=0;l<i;++l)e.fillText(a[l],d.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+c,l+1===i&&(t.y+=s.titleMarginBottom-c)}}_drawColorBox(t,e,s,a,i){const o=this.labelColors[s],c=this.labelPointStyles[s],{boxHeight:l,boxWidth:d}=i,u=ds(i.bodyFont),f=xA(this,"left",i),h=a.x(f),m=l<u.lineHeight?(u.lineHeight-l)/2:0,A=e.y+m;if(i.usePointStyle){const g={radius:Math.min(d,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},p=a.leftForLtr(h,d)+d/2,b=A+l/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,W1(t,g,p,b),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,W1(t,g,p,b)}else{t.lineWidth=On(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const g=a.leftForLtr(h,d),p=a.leftForLtr(a.xPlus(h,1),d-2),b=Jc(o.borderRadius);Object.values(b).some(x=>x!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,km(t,{x:g,y:A,w:d,h:l,radius:b}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),km(t,{x:p,y:A+1,w:d-2,h:l-2,radius:b}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(g,A,d,l),t.strokeRect(g,A,d,l),t.fillStyle=o.backgroundColor,t.fillRect(p,A+1,d-2,l-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,e,s){const{body:a}=this,{bodySpacing:i,bodyAlign:o,displayColors:c,boxHeight:l,boxWidth:d,boxPadding:u}=s,f=ds(s.bodyFont);let h=f.lineHeight,m=0;const A=vu(s.rtl,this.x,this.width),g=function(B){e.fillText(B,A.x(t.x+m),t.y+h/2),t.y+=h+i},p=A.textAlign(o);let b,x,v,y,S,M,P;for(e.textAlign=o,e.textBaseline="middle",e.font=f.string,t.x=xA(this,p,s),e.fillStyle=s.bodyColor,sr(this.beforeBody,g),m=c&&p!=="right"?o==="center"?d/2+u:d+2+u:0,y=0,M=a.length;y<M;++y){for(b=a[y],x=this.labelTextColors[y],e.fillStyle=x,sr(b.before,g),v=b.lines,c&&v.length&&(this._drawColorBox(e,t,y,A,s),h=Math.max(f.lineHeight,l)),S=0,P=v.length;S<P;++S)g(v[S]),h=f.lineHeight;sr(b.after,g)}m=0,h=f.lineHeight,sr(this.afterBody,g),t.y-=i}drawFooter(t,e,s){const a=this.footer,i=a.length;let o,c;if(i){const l=vu(s.rtl,this.x,this.width);for(t.x=xA(this,s.footerAlign,s),t.y+=s.footerMarginTop,e.textAlign=l.textAlign(s.footerAlign),e.textBaseline="middle",o=ds(s.footerFont),e.fillStyle=s.footerColor,e.font=o.string,c=0;c<i;++c)e.fillText(a[c],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+s.footerSpacing}}drawBackground(t,e,s,a){const{xAlign:i,yAlign:o}=this,{x:c,y:l}=t,{width:d,height:u}=s,{topLeft:f,topRight:h,bottomLeft:m,bottomRight:A}=Jc(a.cornerRadius);e.fillStyle=a.backgroundColor,e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.beginPath(),e.moveTo(c+f,l),o==="top"&&this.drawCaret(t,e,s,a),e.lineTo(c+d-h,l),e.quadraticCurveTo(c+d,l,c+d,l+h),o==="center"&&i==="right"&&this.drawCaret(t,e,s,a),e.lineTo(c+d,l+u-A),e.quadraticCurveTo(c+d,l+u,c+d-A,l+u),o==="bottom"&&this.drawCaret(t,e,s,a),e.lineTo(c+m,l+u),e.quadraticCurveTo(c,l+u,c,l+u-m),o==="center"&&i==="left"&&this.drawCaret(t,e,s,a),e.lineTo(c,l+f),e.quadraticCurveTo(c,l,c+f,l),e.closePath(),e.fill(),a.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,s=this.$animations,a=s&&s.x,i=s&&s.y;if(a||i){const o=bf[t.position].call(this,this._active,this._eventPosition);if(!o)return;const c=this._size=Q5(this,t),l=Object.assign({},o,this._size),d=V5(e,t,l),u=z5(t,l,d,e);(a._to!==u.x||i._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(e);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=Hs(e.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&c&&(t.save(),t.globalAlpha=s,this.drawBackground(i,t,a,e),lF(t,e.textDirection),i.y+=o.top,this.drawTitle(i,t,e),this.drawBody(i,t,e),this.drawFooter(i,t,e),cF(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const s=this._active,a=t.map(({datasetIndex:c,index:l})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[l],index:l}}),i=!D0(s,a),o=this._positionChanged(a,e);(i||o)&&(this._active=a,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,s=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],o=this._getActiveElements(t,i,e,s),c=this._positionChanged(o,t),l=e||!D0(o,i)||c;return l&&(this._active=o,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),l}_getActiveElements(t,e,s,a){const i=this.options;if(t.type==="mouseout")return[];if(!a)return e.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,i.mode,i,s);return i.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:s,caretY:a,options:i}=this,o=bf[i.position].call(this,t,e);return o!==!1&&(s!==o.x||a!==o.y)}}bt(t2,"positioners",bf);var jp={id:"tooltip",_element:t2,positioners:bf,afterInit(n,t,e){e&&(n.tooltip=new t2({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:IF},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},k4e=Object.freeze({__proto__:null,Colors:QNe,Decimation:GNe,Filler:f4e,Legend:wp,SubTitle:v4e,Title:uN,Tooltip:jp});const _4e=(n,t,e,s)=>(typeof t=="string"?(e=n.push(t)-1,s.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function B4e(n,t,e,s){const a=n.indexOf(t);if(a===-1)return _4e(n,t,e,s);const i=n.lastIndexOf(t);return a!==i?e:a}const E4e=(n,t)=>n===null?null:bs(Math.round(n),0,t);function q5(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class Nd extends Fd{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const s=this.getLabels();for(const{index:a,label:i}of e)s[a]===i&&s.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Pn(t))return null;const s=this.getLabels();return e=isFinite(e)&&s[e]===t?e:B4e(s,t,xn(e,t),this._addedLabels),E4e(e,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),e||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const t=this.min,e=this.max,s=this.options.offset,a=[];let i=this.getLabels();i=t===0&&e===i.length-1?i:i.slice(t,e+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=t;o<=e;o++)a.push({value:o});return a}getLabelForValue(t){return q5.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}bt(Nd,"id","category"),bt(Nd,"defaults",{ticks:{callback:q5}});function M4e(n,t){const e=[],{bounds:a,step:i,min:o,max:c,precision:l,count:d,maxTicks:u,maxDigits:f,includeBounds:h}=n,m=i||1,A=u-1,{min:g,max:p}=t,b=!Pn(o),x=!Pn(c),v=!Pn(d),y=(p-g)/(f+1);let S=Q3((p-g)/A/m)*m,M,P,B,D;if(S<1e-14&&!b&&!x)return[{value:g},{value:p}];D=Math.ceil(p/S)-Math.floor(g/S),D>A&&(S=Q3(D*S/A/m)*m),Pn(l)||(M=Math.pow(10,l),S=Math.ceil(S*M)/M),a==="ticks"?(P=Math.floor(g/S)*S,B=Math.ceil(p/S)*S):(P=g,B=p),b&&x&&i&&T2e((c-o)/i,S/1e3)?(D=Math.round(Math.min((c-o)/S,u)),S=(c-o)/D,P=o,B=c):v?(P=b?o:P,B=x?c:B,D=d-1,S=(B-P)/D):(D=(B-P)/S,Of(D,Math.round(D),S/1e3)?D=Math.round(D):D=Math.ceil(D));const L=Math.max(V3(S),V3(P));M=Math.pow(10,Pn(l)?L:l),P=Math.round(P*M)/M,B=Math.round(B*M)/M;let O=0;for(b&&(h&&P!==o?(e.push({value:o}),P<o&&O++,Of(Math.round((P+O*S)*M)/M,o,W5(o,y,n))&&O++):P<o&&O++);O<D;++O){const F=Math.round((P+O*S)*M)/M;if(x&&F>c)break;e.push({value:F})}return x&&h&&B!==c?e.length&&Of(e[e.length-1].value,c,W5(c,y,n))?e[e.length-1].value=c:e.push({value:c}):(!x||B===c)&&e.push({value:B}),e}function W5(n,t,{horizontal:e,minRotation:s}){const a=pi(s),i=(e?Math.sin(a):Math.cos(a))||.001,o=.75*t*(""+n).length;return Math.min(t/i,o)}class $0 extends Fd{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Pn(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:a,max:i}=this;const o=l=>a=e?a:l,c=l=>i=s?i:l;if(t){const l=no(a),d=no(i);l<0&&d<0?c(0):l>0&&d>0&&o(0)}if(a===i){let l=i===0?1:Math.abs(i*.05);c(i+l),t||o(a-l)}this.min=a,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:s}=t,a;return s?(a=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),e=e||11),e&&(a=Math.min(e,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},i=this._range||this,o=M4e(a,i);return t.bounds==="ticks"&&zL(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const a=(s-e)/Math.max(t.length-1,1)/2;e-=a,s+=a}this._startValue=e,this._endValue=s,this._valueRange=s-e}getLabelForValue(t){return yp(t,this.chart.options.locale,this.options.ticks.format)}}class Sd extends $0{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Qr(t)?t:0,this.max=Qr(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,s=pi(this.options.ticks.minRotation),a=(t?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,i.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}bt(Sd,"id","linear"),bt(Sd,"defaults",{ticks:{callback:kb.formatters.numeric}});const Bm=n=>Math.floor(Fl(n)),Tc=(n,t)=>Math.pow(10,Bm(n)+t);function X5(n){return n/Math.pow(10,Bm(n))===1}function Y5(n,t,e){const s=Math.pow(10,e),a=Math.floor(n/s);return Math.ceil(t/s)-a}function P4e(n,t){const e=t-n;let s=Bm(e);for(;Y5(n,t,s)>10;)s++;for(;Y5(n,t,s)<10;)s--;return Math.min(s,Bm(n))}function D4e(n,{min:t,max:e}){t=Ta(n.min,t);const s=[],a=Bm(t);let i=P4e(t,e),o=i<0?Math.pow(10,Math.abs(i)):1;const c=Math.pow(10,i),l=a>i?Math.pow(10,a):0,d=Math.round((t-l)*o)/o,u=Math.floor((t-l)/c/10)*c*10;let f=Math.floor((d-u)/Math.pow(10,i)),h=Ta(n.min,Math.round((l+u+f*Math.pow(10,i))*o)/o);for(;h<e;)s.push({value:h,major:X5(h),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(i++,f=2,o=i>=0?1:o),h=Math.round((l+u+f*Math.pow(10,i))*o)/o;const m=Ta(n.max,h);return s.push({value:m,major:X5(m),significand:f}),s}class n2 extends Fd{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const s=$0.prototype.parse.apply(this,[t,e]);if(s===0){this._zero=!0;return}return Qr(s)&&s>0?s:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Qr(t)?Math.max(0,t):null,this.max=Qr(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Qr(this._userMin)&&(this.min=t===Tc(this.min,0)?Tc(this.min,-1):Tc(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let s=this.min,a=this.max;const i=c=>s=t?s:c,o=c=>a=e?a:c;s===a&&(s<=0?(i(1),o(10)):(i(Tc(s,-1)),o(Tc(a,1)))),s<=0&&i(Tc(a,-1)),a<=0&&o(Tc(s,1)),this.min=s,this.max=a}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},s=D4e(e,this);return t.bounds==="ticks"&&zL(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(t){return t===void 0?"0":yp(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Fl(t),this._valueRange=Fl(this.max)-Fl(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Fl(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}bt(n2,"id","logarithmic"),bt(n2,"defaults",{ticks:{callback:kb.formatters.logarithmic,major:{enabled:!0}}});function r2(n){const t=n.ticks;if(t.display&&n.display){const e=Hs(t.backdropPadding);return xn(t.font&&t.font.size,Pr.font.size)+e.height}return 0}function I4e(n,t,e){return e=_r(e)?e:[e],{w:V2e(n,t.string,e),h:e.length*t.lineHeight}}function J5(n,t,e,s,a){return n===s||n===a?{start:t-e/2,end:t+e/2}:n<s||n>a?{start:t-e,end:t}:{start:t,end:t+e}}function O4e(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),s=[],a=[],i=n._pointLabels.length,o=n.options.pointLabels,c=o.centerPointLabels?qn/i:0;for(let l=0;l<i;l++){const d=o.setContext(n.getPointLabelContext(l));a[l]=d.padding;const u=n.getPointPosition(l,n.drawingArea+a[l],c),f=ds(d.font),h=I4e(n.ctx,f,n._pointLabels[l]);s[l]=h;const m=Is(n.getIndexAngle(l)+c),A=Math.round(ZC(m)),g=J5(A,u.x,h.w,0,180),p=J5(A,u.y,h.h,90,270);L4e(e,t,m,g,p)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=U4e(n,s,a)}function L4e(n,t,e,s,a){const i=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e));let c=0,l=0;s.start<t.l?(c=(t.l-s.start)/i,n.l=Math.min(n.l,t.l-c)):s.end>t.r&&(c=(s.end-t.r)/i,n.r=Math.max(n.r,t.r+c)),a.start<t.t?(l=(t.t-a.start)/o,n.t=Math.min(n.t,t.t-l)):a.end>t.b&&(l=(a.end-t.b)/o,n.b=Math.max(n.b,t.b+l))}function F4e(n,t,e){const s=n.drawingArea,{extra:a,additionalAngle:i,padding:o,size:c}=e,l=n.getPointPosition(t,s+a+o,i),d=Math.round(ZC(Is(l.angle+Xr))),u=Q4e(l.y,c.h,d),f=H4e(d),h=$4e(l.x,c.w,f);return{visible:!0,x:l.x,y:u,textAlign:f,left:h,top:u,right:h+c.w,bottom:u+c.h}}function R4e(n,t){if(!t)return!0;const{left:e,top:s,right:a,bottom:i}=n;return!(Fo({x:e,y:s},t)||Fo({x:e,y:i},t)||Fo({x:a,y:s},t)||Fo({x:a,y:i},t))}function U4e(n,t,e){const s=[],a=n._pointLabels.length,i=n.options,{centerPointLabels:o,display:c}=i.pointLabels,l={extra:r2(i)/2,additionalAngle:o?qn/a:0};let d;for(let u=0;u<a;u++){l.padding=e[u],l.size=t[u];const f=F4e(n,u,l);s.push(f),c==="auto"&&(f.visible=R4e(f,d),f.visible&&(d=f))}return s}function H4e(n){return n===0||n===180?"center":n<180?"left":"right"}function $4e(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function Q4e(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function V4e(n,t,e){const{left:s,top:a,right:i,bottom:o}=e,{backdropColor:c}=t;if(!Pn(c)){const l=Jc(t.borderRadius),d=Hs(t.backdropPadding);n.fillStyle=c;const u=s-d.left,f=a-d.top,h=i-s+d.width,m=o-a+d.height;Object.values(l).some(A=>A!==0)?(n.beginPath(),km(n,{x:u,y:f,w:h,h:m,radius:l}),n.fill()):n.fillRect(u,f,h,m)}}function z4e(n,t){const{ctx:e,options:{pointLabels:s}}=n;for(let a=t-1;a>=0;a--){const i=n._pointLabelItems[a];if(!i.visible)continue;const o=s.setContext(n.getPointLabelContext(a));V4e(e,o,i);const c=ds(o.font),{x:l,y:d,textAlign:u}=i;Cd(e,n._pointLabels[a],l,d+c.lineHeight/2,c,{color:o.color,textAlign:u,textBaseline:"middle"})}}function OF(n,t,e,s){const{ctx:a}=n;if(e)a.arc(n.xCenter,n.yCenter,t,0,Nr);else{let i=n.getPointPosition(0,t);a.moveTo(i.x,i.y);for(let o=1;o<s;o++)i=n.getPointPosition(o,t),a.lineTo(i.x,i.y)}}function K4e(n,t,e,s,a){const i=n.ctx,o=t.circular,{color:c,lineWidth:l}=t;!o&&!s||!c||!l||e<0||(i.save(),i.strokeStyle=c,i.lineWidth=l,i.setLineDash(a.dash||[]),i.lineDashOffset=a.dashOffset,i.beginPath(),OF(n,e,o,s),i.closePath(),i.stroke(),i.restore())}function G4e(n,t,e){return bc(n,{label:e,index:t,type:"pointLabel"})}class vf extends $0{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Hs(r2(this.options)/2),e=this.width=this.maxWidth-t.width,s=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+s/2+t.top),this.drawingArea=Math.floor(Math.min(e,s)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Qr(t)&&!isNaN(t)?t:0,this.max=Qr(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/r2(this.options))}generateTickLabels(t){$0.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,s)=>{const a=fr(this.options.pointLabels.callback,[e,s],this);return a||a===0?a:""}).filter((e,s)=>this.chart.getDataVisibility(s))}fit(){const t=this.options;t.display&&t.pointLabels.display?O4e(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,s,a){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((s-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,s,a))}getIndexAngle(t){const e=Nr/(this._pointLabels.length||1),s=this.options.startAngle||0;return Is(t*e+pi(s))}getDistanceFromCenterForValue(t){if(Pn(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Pn(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const s=e[t];return G4e(this.getContext(),t,s)}}getPointPosition(t,e,s=0){const a=this.getIndexAngle(t)-Xr+s;return{x:Math.cos(a)*e+this.xCenter,y:Math.sin(a)*e+this.yCenter,angle:a}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:s,right:a,bottom:i}=this._pointLabelItems[t];return{left:e,top:s,right:a,bottom:i}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const s=this.ctx;s.save(),s.beginPath(),OF(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),s.closePath(),s.fillStyle=t,s.fill(),s.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:s,grid:a,border:i}=e,o=this._pointLabels.length;let c,l,d;if(e.pointLabels.display&&z4e(this,o),a.display&&this.ticks.forEach((u,f)=>{if(f!==0||f===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const h=this.getContext(f),m=a.setContext(h),A=i.setContext(h);K4e(this,m,l,o,A)}}),s.display){for(t.save(),c=o-1;c>=0;c--){const u=s.setContext(this.getPointLabelContext(c)),{color:f,lineWidth:h}=u;!h||!f||(t.lineWidth=h,t.strokeStyle=f,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),d=this.getPointPosition(c,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,s=e.ticks;if(!s.display)return;const a=this.getIndexAngle(0);let i,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(a),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((c,l)=>{if(l===0&&this.min>=0&&!e.reverse)return;const d=s.setContext(this.getContext(l)),u=ds(d.font);if(i=this.getDistanceFromCenterForValue(this.ticks[l].value),d.showLabelBackdrop){t.font=u.string,o=t.measureText(c.label).width,t.fillStyle=d.backdropColor;const f=Hs(d.backdropPadding);t.fillRect(-o/2-f.left,-i-u.size/2-f.top,o+f.width,u.size+f.height)}Cd(t,c.label,0,-i,u,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}bt(vf,"id","radialLinear"),bt(vf,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:kb.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),bt(vf,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),bt(vf,"descriptors",{angleLines:{_fallback:"grid"}});const Db={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},fa=Object.keys(Db);function Z5(n,t){return n-t}function ek(n,t){if(Pn(t))return null;const e=n._adapter,{parser:s,round:a,isoWeekday:i}=n._parseOpts;let o=t;return typeof s=="function"&&(o=s(o)),Qr(o)||(o=typeof s=="string"?e.parse(o,s):e.parse(o)),o===null?null:(a&&(o=a==="week"&&(Wu(i)||i===!0)?e.startOf(o,"isoWeek",i):e.startOf(o,a)),+o)}function tk(n,t,e,s){const a=fa.length;for(let i=fa.indexOf(n);i<a-1;++i){const o=Db[fa[i]],c=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(c*o.size))<=s)return fa[i]}return fa[a-1]}function q4e(n,t,e,s,a){for(let i=fa.length-1;i>=fa.indexOf(e);i--){const o=fa[i];if(Db[o].common&&n._adapter.diff(a,s,o)>=t-1)return o}return fa[e?fa.indexOf(e):0]}function W4e(n){for(let t=fa.indexOf(n)+1,e=fa.length;t<e;++t)if(Db[fa[t]].common)return fa[t]}function nk(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:s,hi:a}=eN(e,t),i=e[s]>=t?e[s]:e[a];n[i]=!0}}function X4e(n,t,e,s){const a=n._adapter,i=+a.startOf(t[0].value,s),o=t[t.length-1].value;let c,l;for(c=i;c<=o;c=+a.add(c,1,s))l=e[c],l>=0&&(t[l].major=!0);return t}function rk(n,t,e){const s=[],a={},i=t.length;let o,c;for(o=0;o<i;++o)c=t[o],a[c]=o,s.push({value:c,major:!1});return i===0||!e?s:X4e(n,s,a,e)}class Em extends Fd{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const s=t.time||(t.time={}),a=this._adapter=new oCe._date(t.adapters.date);a.init(e),If(s.displayFormats,a.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:ek(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,s=t.time.unit||"day";let{min:a,max:i,minDefined:o,maxDefined:c}=this.getUserBounds();function l(d){!o&&!isNaN(d.min)&&(a=Math.min(a,d.min)),!c&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!o||!c)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),a=Qr(a)&&!isNaN(a)?a:+e.startOf(Date.now(),s),i=Qr(i)&&!isNaN(i)?i:+e.endOf(Date.now(),s)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],s=t[t.length-1]),{min:e,max:s}}buildTicks(){const t=this.options,e=t.time,s=t.ticks,a=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,o=this.max,c=E2e(a,i,o);return this._unit=e.unit||(s.autoSkip?tk(e.minUnit,this.min,this.max,this._getLabelCapacity(i)):q4e(this,c.length,e.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:W4e(this._unit),this.initOffsets(a),t.reverse&&c.reverse(),rk(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,s=0,a,i;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?e=1-a:e=(this.getDecimalForValue(t[1])-a)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?s=i:s=(i-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;e=bs(e,0,o),s=bs(s,0,o),this._offsets={start:e,end:s,factor:1/(e+1+s)}}_generate(){const t=this._adapter,e=this.min,s=this.max,a=this.options,i=a.time,o=i.unit||tk(i.minUnit,e,s,this._getLabelCapacity(e)),c=xn(a.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,d=Wu(l)||l===!0,u={};let f=e,h,m;if(d&&(f=+t.startOf(f,"isoWeek",l)),f=+t.startOf(f,d?"day":o),t.diff(s,e,o)>1e5*c)throw new Error(e+" and "+s+" are too far apart with stepSize of "+c+" "+o);const A=a.ticks.source==="data"&&this.getDataTimestamps();for(h=f,m=0;h<s;h=+t.add(h,c,o),m++)nk(u,h,A);return(h===s||a.bounds==="ticks"||m===1)&&nk(u,h,A),Object.keys(u).sort(Z5).map(g=>+g)}getLabelForValue(t){const e=this._adapter,s=this.options.time;return s.tooltipFormat?e.format(t,s.tooltipFormat):e.format(t,s.displayFormats.datetime)}format(t,e){const a=this.options.time.displayFormats,i=this._unit,o=e||a[i];return this._adapter.format(t,o)}_tickFormatFunction(t,e,s,a){const i=this.options,o=i.ticks.callback;if(o)return fr(o,[t,e,s],this);const c=i.time.displayFormats,l=this._unit,d=this._majorUnit,u=l&&c[l],f=d&&c[d],h=s[e],m=d&&f&&h&&h.major;return this._adapter.format(t,a||(m?f:u))}generateTickLabels(t){let e,s,a;for(e=0,s=t.length;e<s;++e)a=t[e],a.label=this._tickFormatFunction(a.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+s)*e.factor)}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,s=this.ctx.measureText(t).width,a=pi(this.isHorizontal()?e.maxRotation:e.minRotation),i=Math.cos(a),o=Math.sin(a),c=this._resolveTickFontOptions(0).size;return{w:s*i+c*o,h:s*o+c*i}}_getLabelCapacity(t){const e=this.options.time,s=e.displayFormats,a=s[e.unit]||s.millisecond,i=this._tickFormatFunction(t,0,rk(this,[t],this._majorUnit),a),o=this._getLabelSize(i),c=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],e,s;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(e=0,s=a.length;e<s;++e)t=t.concat(a[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,s;if(t.length)return t;const a=this.getLabels();for(e=0,s=a.length;e<s;++e)t.push(ek(this,a[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return qL(t.sort(Z5))}}bt(Em,"id","time"),bt(Em,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function bA(n,t,e){let s=0,a=n.length-1,i,o,c,l;e?(t>=n[s].pos&&t<=n[a].pos&&({lo:s,hi:a}=Lo(n,"pos",t)),{pos:i,time:c}=n[s],{pos:o,time:l}=n[a]):(t>=n[s].time&&t<=n[a].time&&({lo:s,hi:a}=Lo(n,"time",t)),{time:i,pos:c}=n[s],{time:o,pos:l}=n[a]);const d=o-i;return d?c+(l-c)*(t-i)/d:c}class s2 extends Em{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=bA(e,this.min),this._tableRange=bA(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:s}=this,a=[],i=[];let o,c,l,d,u;for(o=0,c=t.length;o<c;++o)d=t[o],d>=e&&d<=s&&a.push(d);if(a.length<2)return[{time:e,pos:0},{time:s,pos:1}];for(o=0,c=a.length;o<c;++o)u=a[o+1],l=a[o-1],d=a[o],Math.round((u+l)/2)!==d&&i.push({time:d,pos:o/(c-1)});return i}_generate(){const t=this.min,e=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(e)||s.length===1)&&s.push(e),s.sort((a,i)=>a-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),s=this.getLabelTimestamps();return e.length&&s.length?t=this.normalize(e.concat(s)):t=e.length?e:s,t=this._cache.all=t,t}getDecimalForValue(t){return(bA(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return bA(this._table,s*this._tableRange+this._minPos,!0)}}bt(s2,"id","timeseries"),bt(s2,"defaults",Em.defaults);var Y4e=Object.freeze({__proto__:null,CategoryScale:Nd,LinearScale:Sd,LogarithmicScale:n2,RadialLinearScale:vf,TimeScale:Em,TimeSeriesScale:s2});const J4e=[iCe,ONe,k4e,Y4e];ti.register(...J4e);ti.register(Rl,jp,wp,Nd,Sd);const Z4e=()=>{const[n,t]=k.useState("daily"),[e,s]=k.useState(new Date().toISOString().split("T")[0]),[a,i]=k.useState("2025"),[o,c]=k.useState("1"),[l,d]=k.useState("2025"),[u,f]=k.useState(null),[h,m]=k.useState(null),[A,g]=k.useState(null),[p,b]=k.useState([]),[x,v]=k.useState([]),[y,S]=k.useState({revenue:null,orderStatus:[],topProducts:[]}),[M,P]=k.useState("summary"),[B,D]=k.useState(!1),L=k.useRef(null),O=k.useRef(null),F=k.useRef(null),_=k.useRef(null),E=k.useRef(null),T=k.useRef(null),w=k.useRef(null),C=k.useRef(null),j=Array.from({length:76},(K,ne)=>2025+ne),N=Array.from({length:12},(K,ne)=>ne+1),I=new Date().toISOString().split("T")[0],R="https://bicacuatho.azurewebsites.net/api/ThongKe",U=(K,ne,ce,oe,ee,W)=>{const Y=document.getElementById(K);if(!Y)return;const Z=Y.getContext("2d");Z&&(W.current&&W.current.destroy(),W.current=new ti(Z,{type:"line",data:{labels:ne,datasets:[{label:`${ee} - Doanh thu`,data:ce,borderColor:"rgba(54, 162, 235, 1)",backgroundColor:"rgba(54, 162, 235, 0.2)",borderWidth:2,tension:.4,fill:!0},{label:`${ee} - Đơn hàng`,data:oe,borderColor:"rgba(255, 99, 132, 1)",backgroundColor:"rgba(255, 99, 132, 0.2)",borderWidth:2,tension:.4,fill:!0}]},options:{responsive:!1,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1}},scales:{x:{title:{display:!0,text:"Thời gian"}},y:{title:{display:!0,text:"Giá trị (VND/Đơn hàng)"},beginAtZero:!0,ticks:{callback:se=>se.toLocaleString()}}}}}))},V=(K,ne,ce,oe)=>{const ee=document.getElementById(K);if(!ee)return;const W=ee.getContext("2d");W&&(oe.current&&oe.current.destroy(),oe.current=new ti(W,{type:"pie",data:{labels:ne.map(Y=>Y.tenTrangThai||Y.name),datasets:[{data:ne.map(Y=>Y.tongDonHang||Y.soLuongDaBan),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#FFCD56","#4BC0C0","#36A2EB","#FF6384"],hoverOffset:4,borderWidth:2,borderColor:"#fff"}]},options:{responsive:!0,plugins:{legend:{position:"bottom",labels:{font:{size:12},padding:15}},tooltip:{backgroundColor:"rgba(0,0,0,0.8)",cornerRadius:8,callbacks:{label:Y=>{const Z=ne[Y.dataIndex];return Z.statusBreakdown?[`${Z.name}: ${Z.soLuongDaBan} sản phẩm`,...Z.statusBreakdown.map(se=>`${se.status}: ${se.soLuong} (${se.doanhThu.toLocaleString()} VND)`)]:`${Z.tenTrangThai}: ${Z.tongDonHang} đơn hàng`}}}}}}))},z=async(K=e)=>{if(!K)return null;D(!0);const[ne,ce,oe]=K.split("-");try{const ee=await fetch(`${R}/Daily?year=${ne}&month=${ce}&day=${oe}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!ee.ok)throw new Error("Failed to fetch daily statistics");const W=await ee.json();if(W.length===0)return null;const Y=W.map(re=>`${re.ngay}/${re.thang}/${re.nam}`),Z=W.map(re=>re.tongDoanhThu),se=W.map(re=>re.tongDonHang);return{labels:Y,revenues:Z,orders:se,totalRevenue:W.reduce((re,le)=>re+le.tongDoanhThu,0),totalOrders:W.reduce((re,le)=>re+le.tongDonHang,0)}}catch(ee){return console.error("Error fetching daily statistics:",ee),null}finally{D(!1)}},X=async()=>{if(!(!a||!o)){D(!0);try{const K=await fetch(`${R}/Monthly?year=${a}&month=${o}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!K.ok)throw new Error("Failed to fetch monthly statistics");const ne=await K.json();if(ne.length===0){m(null);return}const ce=ne.map(W=>`${W.ngay}/${W.thang}/${W.nam}`),oe=ne.map(W=>W.tongDoanhThu),ee=ne.map(W=>W.tongDonHang);U("monthlyChart",ce,oe,ee,"Thống kê theo tháng",O),m({totalRevenue:ne.reduce((W,Y)=>W+Y.tongDoanhThu,0),totalOrders:ne.reduce((W,Y)=>W+Y.tongDonHang,0)})}catch(K){console.error("Error fetching monthly statistics:",K),m(null)}finally{D(!1)}}},Q=async()=>{if(l){D(!0);try{const K=await fetch(`${R}/Yearly?year=${l}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!K.ok)throw new Error("Failed to fetch yearly statistics");const ne=await K.json();if(ne.length===0){g(null);return}const ce=ne.map(W=>`${W.ngay}/${W.thang}/${W.nam}`),oe=ne.map(W=>W.tongDoanhThu),ee=ne.map(W=>W.tongDonHang);U("yearlyChart",ce,oe,ee,"Thống kê theo năm",F),g({totalRevenue:ne.reduce((W,Y)=>W+Y.tongDoanhThu,0),totalOrders:ne.reduce((W,Y)=>W+Y.tongDonHang,0)})}catch(K){console.error("Error fetching yearly statistics:",K),g(null)}finally{D(!1)}}},q=async(K,ne,ce)=>{let oe=`${R}/OrderStatus`;if(K){const[ee,W,Y]=K.split("-");oe+=`?year=${ee}&month=${W}&day=${Y}`}else ne&&ce?oe+=`?year=${ne}&month=${ce}`:ne&&(oe+=`?year=${ne}`);D(!0);try{const ee=await fetch(oe,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!ee.ok)throw new Error("Failed to fetch order status statistics");const W=await ee.json();return W.length>0?W:[]}catch(ee){return console.error("Error fetching order status statistics:",ee),[]}finally{D(!1)}},H=async(K,ne,ce)=>{let oe=`${R}/TopProducts`;if(K){const[ee,W,Y]=K.split("-");oe+=`?year=${ee}&month=${W}&day=${Y}`}else ne&&ce?oe+=`?year=${ne}&month=${ce}`:ne&&(oe+=`?year=${ne}`);D(!0);try{const ee=await fetch(oe,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!ee.ok)throw new Error("Failed to fetch top products statistics");const W=await ee.json();return W.length>0?W:[]}catch(ee){return console.error("Error fetching top products statistics:",ee),[]}finally{D(!1)}},$=async()=>{D(!0);const K=await z(I),ne=await q(I),ce=await H(I);S({revenue:K,orderStatus:ne,topProducts:ce}),K&&U("todayRevenueChart",K.labels,K.revenues,K.orders,"Thống kê doanh thu hôm nay",T),ne.length>0&&V("todayOrderStatusChart",ne,"Thống kê trạng thái đơn hàng hôm nay",w),ce.length>0&&V("todayTopProductsChart",ce,"Top sản phẩm bán chạy hôm nay",C),D(!1)};k.useEffect(()=>{if(M==="summary"){$();const K=setInterval($,6e4);return()=>clearInterval(K)}else M==="revenue"?n==="daily"?z().then(K=>{K?(f(K),U("dailyChart",K.labels,K.revenues,K.orders,"Thống kê theo ngày",L)):f(null)}):n==="monthly"?X():n==="yearly"&&Q():M==="orderStatus"?q(n==="daily"?e:void 0,n==="monthly"?a:n==="yearly"?l:void 0,n==="monthly"?o:void 0).then(K=>{b(K),K.length>0&&V("orderStatusChart",K,"Thống kê trạng thái đơn hàng",_)}):M==="topProducts"&&H(n==="daily"?e:void 0,n==="monthly"?a:n==="yearly"?l:void 0,n==="monthly"?o:void 0).then(K=>{v(K),K.length>0&&V("topProductsChart",K,"Top Sản Phẩm Bán Chạy",E)})},[M,n,e,a,o,l]);const G=K=>{K.preventDefault(),z().then(ne=>{ne?(f(ne),U("dailyChart",ne.labels,ne.revenues,ne.orders,"Thống kê theo ngày",L)):f(null)})},J=K=>{K.preventDefault(),q(n==="daily"?e:void 0,n==="monthly"?a:n==="yearly"?l:void 0,n==="monthly"?o:void 0).then(ne=>{b(ne),ne.length>0&&V("orderStatusChart",ne,"Thống kê trạng thái đơn hàng",_)})},te=K=>{K.preventDefault(),H(n==="daily"?e:void 0,n==="monthly"?a:n==="yearly"?l:void 0,n==="monthly"?o:void 0).then(ne=>{v(ne),ne.length>0&&V("topProductsChart",ne,"Top Sản Phẩm Bán Chạy",E)})};return r.jsxs("div",{className:"space-y-6 p-6 bg-gradient-to-br from-gray-50 to-blue-50 min-h-screen",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:r.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 flex items-center gap-3",children:[r.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),"Quản lý thống kê"]})}),B&&r.jsx("div",{className:"text-center py-8",children:r.jsxs("div",{className:"inline-flex items-center gap-2 text-blue-600",children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),r.jsx("span",{className:"text-lg font-medium",children:"Đang tải dữ liệu..."})]})}),r.jsxs(Na,{defaultValue:"summary",onValueChange:P,className:"space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-2 border border-gray-200",children:r.jsxs(sa,{className:"bg-gray-100 p-1 rounded-md",children:[r.jsx(kn,{value:"summary",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:"📊 Tổng hợp"}),r.jsx(kn,{value:"revenue",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:"💰 Doanh thu"}),r.jsx(kn,{value:"orderStatus",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:"📦 Trạng thái đơn hàng"}),r.jsx(kn,{value:"topProducts",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:"🏆 Sản phẩm bán chạy"})]})}),r.jsx(Fn,{value:"summary",children:r.jsxs("div",{className:"space-y-6",children:[r.jsx(at,{className:"border-0 shadow-lg bg-gradient-to-r from-blue-600 via-purple-600 to-blue-800 text-white",children:r.jsxs(yt,{className:"pb-4",children:[r.jsx(Ct,{className:"text-2xl font-bold text-center",children:"📈 Thống kê tổng hợp hôm nay"}),r.jsxs("p",{className:"text-center text-blue-100 text-lg font-medium",children:[new Date().toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," - ",new Date().toLocaleTimeString("vi-VN")]})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[r.jsxs(at,{className:"shadow-lg border-0 hover:shadow-xl transition-shadow duration-300",children:[r.jsx(yt,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-t-lg",children:r.jsx(Ct,{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:"💰 Doanh thu & Đơn hàng"})}),r.jsx(dt,{className:"p-6",children:y.revenue?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-gray-50 rounded-lg p-3 flex justify-center",children:r.jsx("canvas",{id:"todayRevenueChart",width:"250",height:"180",className:"mx-auto"})}),r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-lg border border-green-200",children:[r.jsx("div",{className:"text-sm text-green-700 font-medium",children:"Tổng doanh thu"}),r.jsxs("div",{className:"text-2xl font-bold text-green-800",children:[y.revenue.totalRevenue.toLocaleString()," VND"]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 p-4 rounded-lg border border-blue-200",children:[r.jsx("div",{className:"text-sm text-blue-700 font-medium",children:"Tổng đơn hàng"}),r.jsx("div",{className:"text-2xl font-bold text-blue-800",children:y.revenue.totalOrders.toLocaleString()})]})]})]}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📊"}),r.jsx("p",{className:"text-gray-500 font-medium",children:"Không có dữ liệu doanh thu hôm nay"})]})})]}),r.jsxs(at,{className:"shadow-lg border-0 hover:shadow-xl transition-shadow duration-300",children:[r.jsx(yt,{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-t-lg",children:r.jsx(Ct,{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:"📦 Trạng thái đơn hàng"})}),r.jsx(dt,{className:"p-6",children:y.orderStatus.length>0?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:r.jsx("canvas",{id:"todayOrderStatusChart",width:"250",height:"250",className:"mx-auto"})}),r.jsx("div",{className:"space-y-2",children:y.orderStatus.map((K,ne)=>r.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-3 rounded-lg border border-purple-200",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-medium text-purple-700",children:K.tenTrangThai}),r.jsxs("span",{className:"text-lg font-bold text-purple-800",children:[K.tongDonHang," đơn"]})]})},ne))})]}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📦"}),r.jsx("p",{className:"text-gray-500 font-medium",children:"Không có dữ liệu trạng thái đơn hàng"})]})})]}),r.jsxs(at,{className:"shadow-lg border-0 hover:shadow-xl transition-shadow duration-300 lg:col-span-2 xl:col-span-1",children:[r.jsx(yt,{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-t-lg",children:r.jsx(Ct,{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:"🏆 Top sản phẩm bán chạy"})}),r.jsx(dt,{className:"p-6",children:y.topProducts.length>0?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:r.jsx("canvas",{id:"todayTopProductsChart",width:"250",height:"250",className:"mx-auto"})}),r.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 p-4 rounded-lg border border-amber-200",children:[r.jsx("div",{className:"text-sm text-amber-700 font-medium",children:"Số sản phẩm bán chạy"}),r.jsxs("div",{className:"text-2xl font-bold text-amber-800",children:[y.topProducts.length," sản phẩm"]})]})]}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"🏆"}),r.jsx("p",{className:"text-gray-500 font-medium",children:"Không có dữ liệu sản phẩm bán chạy"})]})})]})]}),y.topProducts.length>0&&r.jsxs(at,{className:"shadow-lg border-0",children:[r.jsx(yt,{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-t-lg",children:r.jsx(Ct,{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:"📋 Chi tiết sản phẩm bán chạy hôm nay"})}),r.jsx(dt,{className:"p-6",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Br,{children:[r.jsx(Er,{children:r.jsxs(Rt,{className:"bg-gray-50",children:[r.jsx(Qe,{className:"font-bold text-gray-700",children:"Tên sản phẩm"}),r.jsx(Qe,{className:"font-bold text-gray-700",children:"Số lượng bán"}),r.jsx(Qe,{className:"font-bold text-gray-700",children:"Doanh thu"}),r.jsx(Qe,{className:"font-bold text-gray-700",children:"Trạng thái"})]})}),r.jsx(Mr,{children:y.topProducts.map((K,ne)=>{var ce;return r.jsxs(Rt,{className:ne%2===0?"bg-white":"bg-gray-50",children:[r.jsx(He,{className:"font-medium text-gray-900",children:K.name}),r.jsx(He,{className:"text-blue-600 font-semibold",children:K.soLuongDaBan}),r.jsxs(He,{className:"text-green-600 font-semibold",children:[K.doanhThu.toLocaleString()," VND"]}),r.jsx(He,{children:(ce=K.statusBreakdown)==null?void 0:ce.map((oe,ee)=>r.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:[r.jsxs("span",{className:"font-medium",children:[oe.status,":"]})," ",oe.soLuong,r.jsxs("span",{className:"text-green-600 ml-1",children:["(",oe.doanhThu.toLocaleString()," VND)"]})]},ee))})]},K.id)})})]})})})]})]})}),r.jsx(Fn,{value:"revenue",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("label",{htmlFor:"timeFilter",className:"font-medium",children:"Chọn khoảng thời gian:"}),r.jsxs(hn,{value:n,onValueChange:t,children:[r.jsx(on,{className:"w-[180px]",children:r.jsx(fn,{placeholder:"Chọn khoảng thời gian"})}),r.jsxs(ln,{children:[r.jsx(Ve,{value:"daily",children:"Theo ngày"}),r.jsx(Ve,{value:"monthly",children:"Theo tháng"}),r.jsx(Ve,{value:"yearly",children:"Theo năm"})]})]})]}),n==="daily"&&r.jsxs(at,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(Ct,{children:"Thống kê theo ngày"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("input",{type:"date",value:e,onChange:K=>s(K.target.value),className:"border rounded-md p-2",style:{width:"350px"},"aria-label":"Chọn ngày thống kê"}),r.jsx(fe,{onClick:G,children:"Thống kê"})]}),u?r.jsxs(r.Fragment,{children:[r.jsx("canvas",{id:"dailyChart",width:"900",height:"500",style:{margin:"auto",display:"block"}}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("p",{children:["Tổng doanh thu: ",u.totalRevenue.toLocaleString()," VND"]}),r.jsxs("p",{children:["Tổng đơn hàng: ",u.totalOrders.toLocaleString()]})]})]}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]}),n==="monthly"&&r.jsxs(at,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(Ct,{children:"Thống kê theo tháng"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsxs(hn,{value:a,onValueChange:i,children:[r.jsx(on,{className:"w-[350px]",children:r.jsx(fn,{placeholder:"Chọn năm"})}),r.jsx(ln,{children:j.map(K=>r.jsx(Ve,{value:K.toString(),children:K},K))})]}),r.jsxs(hn,{value:o,onValueChange:c,children:[r.jsx(on,{className:"w-[350px]",children:r.jsx(fn,{placeholder:"Chọn tháng"})}),r.jsx(ln,{children:N.map(K=>r.jsxs(Ve,{value:K.toString(),children:["Tháng ",K]},K))})]}),r.jsx(fe,{onClick:X,children:"Thống kê"})]}),h?r.jsxs(r.Fragment,{children:[r.jsx("canvas",{id:"monthlyChart",width:"900",height:"500",style:{margin:"auto",display:"block"}}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("p",{children:["Tổng doanh thu: ",h.totalRevenue.toLocaleString()," VND"]}),r.jsxs("p",{children:["Tổng đơn hàng: ",h.totalOrders.toLocaleString()]})]})]}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]}),n==="yearly"&&r.jsxs(at,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(Ct,{children:"Thống kê theo năm"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsxs(hn,{value:l,onValueChange:d,children:[r.jsx(on,{className:"w-[350px]",children:r.jsx(fn,{placeholder:"Chọn năm"})}),r.jsx(ln,{children:j.map(K=>r.jsx(Ve,{value:K.toString(),children:K},K))})]}),r.jsx(fe,{onClick:Q,children:"Thống kê"})]}),A?r.jsxs(r.Fragment,{children:[r.jsx("canvas",{id:"yearlyChart",width:"900",height:"500",style:{margin:"auto",display:"block"}}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("p",{children:["Tổng doanh thu: ",A.totalRevenue.toLocaleString()," VND"]}),r.jsxs("p",{children:["Tổng đơn hàng: ",A.totalOrders.toLocaleString()]})]})]}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]})]})}),r.jsx(Fn,{value:"orderStatus",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("label",{htmlFor:"timeFilter",className:"font-medium",children:"Chọn khoảng thời gian:"}),r.jsxs(hn,{value:n,onValueChange:t,children:[r.jsx(on,{className:"w-[180px]",children:r.jsx(fn,{placeholder:"Chọn khoảng thời gian"})}),r.jsxs(ln,{children:[r.jsx(Ve,{value:"daily",children:"Theo ngày"}),r.jsx(Ve,{value:"monthly",children:"Theo tháng"}),r.jsx(Ve,{value:"yearly",children:"Theo năm"})]})]})]}),n==="daily"&&r.jsxs(at,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(Ct,{children:"Thống kê trạng thái đơn hàng theo ngày"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("input",{type:"date",value:e,onChange:K=>s(K.target.value),className:"border rounded-md p-2",style:{width:"350px"},"aria-label":"Chọn ngày thống kê"}),r.jsx(fe,{onClick:J,children:"Thống kê"})]}),p.length>0?r.jsx("canvas",{id:"orderStatusChart",width:"500",height:"500",style:{margin:"auto",display:"block"}}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]}),n==="monthly"&&r.jsxs(at,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(Ct,{children:"Thống kê trạng thái đơn hàng theo tháng"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsxs(hn,{value:a,onValueChange:i,children:[r.jsx(on,{className:"w-[350px]",children:r.jsx(fn,{placeholder:"Chọn năm"})}),r.jsx(ln,{children:j.map(K=>r.jsx(Ve,{value:K.toString(),children:K},K))})]}),r.jsxs(hn,{value:o,onValueChange:c,children:[r.jsx(on,{className:"w-[350px]",children:r.jsx(fn,{placeholder:"Chọn tháng"})}),r.jsx(ln,{children:N.map(K=>r.jsxs(Ve,{value:K.toString(),children:["Tháng ",K]},K))})]}),r.jsx(fe,{onClick:J,children:"Thống kê"})]}),p.length>0?r.jsx("canvas",{id:"orderStatusChart",width:"500",height:"500",style:{margin:"auto",display:"block"}}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]}),n==="yearly"&&r.jsxs(at,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(Ct,{children:"Thống kê trạng thái đơn hàng theo năm"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsxs(hn,{value:l,onValueChange:d,children:[r.jsx(on,{className:"w-[350px]",children:r.jsx(fn,{placeholder:"Chọn năm"})}),r.jsx(ln,{children:j.map(K=>r.jsx(Ve,{value:K.toString(),children:K},K))})]}),r.jsx(fe,{onClick:J,children:"Thống kê"})]}),p.length>0?r.jsx("canvas",{id:"orderStatusChart",width:"500",height:"500",style:{margin:"auto",display:"block"}}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]})]})}),r.jsx(Fn,{value:"topProducts",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("label",{htmlFor:"timeFilter",className:"font-medium",children:"Chọn khoảng thời gian:"}),r.jsxs(hn,{value:n,onValueChange:t,children:[r.jsx(on,{className:"w-[180px]",children:r.jsx(fn,{placeholder:"Chọn khoảng thời gian"})}),r.jsxs(ln,{children:[r.jsx(Ve,{value:"daily",children:"Theo ngày"}),r.jsx(Ve,{value:"monthly",children:"Theo tháng"}),r.jsx(Ve,{value:"yearly",children:"Theo năm"})]})]})]}),n==="daily"&&r.jsxs(at,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(Ct,{children:"Sản phẩm bán chạy theo ngày"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("input",{type:"date",value:e,onChange:K=>s(K.target.value),className:"border rounded-md p-2",style:{width:"350px"},"aria-label":"Chọn ngày thống kê"}),r.jsx(fe,{onClick:te,children:"Thống kê"})]}),x.length>0?r.jsxs(r.Fragment,{children:[r.jsx("canvas",{id:"topProductsChart",width:"500",height:"500",style:{margin:"auto",display:"block"}}),r.jsx("div",{className:"mt-4",children:r.jsxs(Br,{children:[r.jsx(Er,{children:r.jsxs(Rt,{children:[r.jsx(Qe,{children:"Tên sản phẩm"}),r.jsx(Qe,{children:"Thương hiệu"}),r.jsx(Qe,{children:"Chất liệu"}),r.jsx(Qe,{children:"Số lượng đã bán"}),r.jsx(Qe,{children:"Doanh thu"}),r.jsx(Qe,{children:"Trạng thái"})]})}),r.jsx(Mr,{children:x.map(K=>r.jsxs(Rt,{children:[r.jsx(He,{children:K.name}),r.jsx(He,{children:K.thuongHieu}),r.jsx(He,{children:K.chatLieu}),r.jsx(He,{children:K.soLuongDaBan}),r.jsxs(He,{children:[K.doanhThu.toLocaleString()," VND"]}),r.jsx(He,{children:K.statusBreakdown.map((ne,ce)=>r.jsxs("div",{children:[ne.status,": ",ne.soLuong," (Doanh thu: ",ne.doanhThu.toLocaleString()," VND)"]},ce))})]},K.id))})]})})]}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]}),n==="monthly"&&r.jsxs(at,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(Ct,{children:"Sản phẩm bán chạy theo tháng"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsxs(hn,{value:a,onValueChange:i,children:[r.jsx(on,{className:"w-[350px]",children:r.jsx(fn,{placeholder:"Chọn năm"})}),r.jsx(ln,{children:j.map(K=>r.jsx(Ve,{value:K.toString(),children:K},K))})]}),r.jsxs(hn,{value:o,onValueChange:c,children:[r.jsx(on,{className:"w-[350px]",children:r.jsx(fn,{placeholder:"Chọn tháng"})}),r.jsx(ln,{children:N.map(K=>r.jsxs(Ve,{value:K.toString(),children:["Tháng ",K]},K))})]}),r.jsx(fe,{onClick:te,children:"Thống kê"})]}),x.length>0?r.jsxs(r.Fragment,{children:[r.jsx("canvas",{id:"topProductsChart",width:"500",height:"500",style:{margin:"auto",display:"block"}}),r.jsx("div",{className:"mt-4",children:r.jsxs(Br,{children:[r.jsx(Er,{children:r.jsxs(Rt,{children:[r.jsx(Qe,{children:"Tên sản phẩm"}),r.jsx(Qe,{children:"Thương hiệu"}),r.jsx(Qe,{children:"Chất liệu"}),r.jsx(Qe,{children:"Số lượng đã bán"}),r.jsx(Qe,{children:"Doanh thu"}),r.jsx(Qe,{children:"Trạng thái"})]})}),r.jsx(Mr,{children:x.map(K=>r.jsxs(Rt,{children:[r.jsx(He,{children:K.name}),r.jsx(He,{children:K.thuongHieu}),r.jsx(He,{children:K.chatLieu}),r.jsx(He,{children:K.soLuongDaBan}),r.jsxs(He,{children:[K.doanhThu.toLocaleString()," VND"]}),r.jsx(He,{children:K.statusBreakdown.map((ne,ce)=>r.jsxs("div",{children:[ne.status,": ",ne.soLuong," (Doanh thu: ",ne.doanhThu.toLocaleString()," VND)"]},ce))})]},K.id))})]})})]}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]}),n==="yearly"&&r.jsxs(at,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(Ct,{children:"Sản phẩm bán chạy theo năm"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsxs(hn,{value:l,onValueChange:d,children:[r.jsx(on,{className:"w-[350px]",children:r.jsx(fn,{placeholder:"Chọn năm"})}),r.jsx(ln,{children:j.map(K=>r.jsx(Ve,{value:K.toString(),children:K},K))})]}),r.jsx(fe,{onClick:te,children:"Thống kê"})]}),x.length>0?r.jsxs(r.Fragment,{children:[r.jsx("canvas",{id:"topProductsChart",width:"500",height:"500",style:{margin:"auto",display:"block"}}),r.jsx("div",{className:"mt-4",children:r.jsxs(Br,{children:[r.jsx(Er,{children:r.jsxs(Rt,{children:[r.jsx(Qe,{children:"Tên sản phẩm"}),r.jsx(Qe,{children:"Thương hiệu"}),r.jsx(Qe,{children:"Chất liệu"}),r.jsx(Qe,{children:"Số lượng đã bán"}),r.jsx(Qe,{children:"Doanh thu"}),r.jsx(Qe,{children:"Trạng thái"})]})}),r.jsx(Mr,{children:x.map(K=>r.jsxs(Rt,{children:[r.jsx(He,{children:K.name}),r.jsx(He,{children:K.thuongHieu}),r.jsx(He,{children:K.chatLieu}),r.jsx(He,{children:K.soLuongDaBan}),r.jsxs(He,{children:[K.doanhThu.toLocaleString()," VND"]}),r.jsx(He,{children:K.statusBreakdown.map((ne,ce)=>r.jsxs("div",{children:[ne.status,": ",ne.soLuong," (Doanh thu: ",ne.doanhThu.toLocaleString()," VND)"]},ce))})]},K.id))})]})})]}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]})]})})]})]})},LF="label";function sk(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function eSe(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function FF(n,t){n.labels=t}function RF(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:LF;const s=[];n.datasets=t.map(a=>{const i=n.datasets.find(o=>o[e]===a[e]);return!i||!a.data||s.includes(i)?{...a}:(s.push(i),Object.assign(i,a),i)})}function tSe(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:LF;const e={labels:[],datasets:[]};return FF(e,n.labels),RF(e,n.datasets,t),e}function nSe(n,t){const{height:e=150,width:s=300,redraw:a=!1,datasetIdKey:i,type:o,data:c,options:l,plugins:d=[],fallbackContent:u,updateMode:f,...h}=n,m=k.useRef(null),A=k.useRef(null),g=()=>{m.current&&(A.current=new ti(m.current,{type:o,data:tSe(c,i),options:l&&{...l},plugins:d}),sk(t,A.current))},p=()=>{sk(t,null),A.current&&(A.current.destroy(),A.current=null)};return k.useEffect(()=>{!a&&A.current&&l&&eSe(A.current,l)},[a,l]),k.useEffect(()=>{!a&&A.current&&FF(A.current.config.data,c.labels)},[a,c.labels]),k.useEffect(()=>{!a&&A.current&&c.datasets&&RF(A.current.config.data,c.datasets,i)},[a,c.datasets]),k.useEffect(()=>{A.current&&(a?(p(),setTimeout(g)):A.current.update(f))},[a,l,c.labels,c.datasets,f]),k.useEffect(()=>{A.current&&(p(),setTimeout(g))},[o]),k.useEffect(()=>(g(),()=>p()),[]),Ne.createElement("canvas",{ref:m,role:"img",height:e,width:s,...h},u)}const rSe=k.forwardRef(nSe);function hN(n,t){return ti.register(t),k.forwardRef((e,s)=>Ne.createElement(rSe,{...e,ref:s,type:n}))}const UF=hN("line",Uf),HF=hN("bar",Rf),sSe=hN("pie",R0);ti.register(Nd,Sd,wu,uN,jp,wp,Rl,yu,qi);const wo="https://bicacuatho.azurewebsites.net",aSe=()=>{const[n,t]=k.useState([]),[e,s]=k.useState(!1),[a,i]=k.useState(""),[o,c]=k.useState(""),[l,d]=k.useState("all"),[u,f]=k.useState("all"),[h,m]=k.useState(1),[A,g]=k.useState("danhSachTaiKhoan"),p=10,[b,x]=k.useState(null),[v,y]=k.useState(!1),[S,M]=k.useState(!1),[P,B]=k.useState(!1),[D,L]=k.useState(!1),[O,F]=k.useState(null),[_,E]=k.useState(null),[T,w]=k.useState(null),[C,j]=k.useState(!1),[N,I]=k.useState({hoTen:"",email:"",taiKhoan:"",matKhau:"",vaiTro:"0"}),[R,U]=k.useState(!1),[V,z]=k.useState([]),[X,Q]=k.useState(null),[q,H]=k.useState(""),[$,G]=k.useState(""),[J,te]=k.useState(""),[K,ne]=k.useState(""),[ce,oe]=k.useState(""),[ee,W]=k.useState(""),[Y,Z]=k.useState(""),[se,re]=k.useState(0),[le,ae]=k.useState(0),[ue,he]=k.useState(null),[pe,Ae]=k.useState(""),[ie,de]=k.useState(0),[me,ve]=k.useState(null),[Me,Be]=k.useState(!1),[xe,Te]=k.useState(!1),[_e,Pe]=k.useState(null),[be,Ee]=k.useState(null),[ge,Se]=k.useState({totalUsers:0,activeUsers:0,lockedUsers:0,usersToday:0,usersThisMonth:0,usersThisYear:0}),[Ie,ze]=k.useState({admin:0,nhanvien:0,nguoidung:0}),[Le,$e]=k.useState({active:0,locked:0}),[et,jt]=k.useState(Array(12).fill(0)),[At,Ut]=k.useState(!1),[ut,ft]=k.useState({}),ke={labels:["Admin","Nhân viên","Người dùng"],datasets:[{label:"Số lượng",data:[Ie.admin,Ie.nhanvien,Ie.nguoidung],backgroundColor:["#FF6384","#36A2EB","#FFCE56"]}]},Re={labels:["Hoạt động","Khóa"],datasets:[{data:[Le.active,Le.locked],backgroundColor:["#36A2EB","#FF6384"]}]},Ke={labels:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],datasets:[{label:"Người dùng mới",data:et,fill:!1,borderColor:"#42A5F5",tension:.1}]},it=k.useCallback(async()=>{s(!0),i("");try{const we=await fetch(`${wo}/api/NguoiDung`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!we.ok)throw new Error("Lỗi khi tải danh sách người dùng");const rt=await we.json();t(rt)}catch(we){i(we.message)}finally{s(!1)}},[]);k.useEffect(()=>{it()},[it]);const $t=async()=>{try{const we=await fetch(`${wo}/api/GiaoDien`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!we.ok)throw new Error("Lỗi khi tải avatar mặc định");const mn=(await we.json()).find(qt=>qt.trangThai===1);mn&&mn.avt?x(`data:image/png;base64,${mn.avt}`):x(null)}catch(we){console.error("Lỗi khi lấy avatar mặc định:",we.message),x(null)}},gt=async we=>{try{const rt=await fetch(`${wo}/api/DanhSachDiaChi/maNguoiDung/${we}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!rt.ok)throw new Error("Lỗi khi tải danh sách địa chỉ");const qt=(await rt.json()).sort((Yn,oa)=>new Date(oa.ngayTao).getTime()-new Date(Yn.ngayTao).getTime());z(qt)}catch(rt){i(rt.message),z([])}},Dt=async we=>{Q(we.maNguoiDung),U(!0),await gt(we.maNguoiDung)},Qt=k.useCallback(()=>{const we=new Date,rt=new Date(we.setHours(0,0,0,0)),mn=new Date(we.getFullYear(),we.getMonth(),1),qt=new Date(we.getFullYear(),0,1);let Yn=0,oa=0,_i=0,ul=0,vc=0;n.forEach(hl=>{hl.trangThai===0?Yn++:hl.trangThai===1&&oa++;const Ud=new Date(hl.ngayTao);Ud>=rt&&_i++,Ud>=mn&&ul++,Ud>=qt&&vc++}),Se({totalUsers:n.length,activeUsers:Yn,lockedUsers:oa,usersToday:_i,usersThisMonth:ul,usersThisYear:vc})},[n]),Pt=k.useCallback(()=>{const we={admin:0,nhanvien:0,nguoidung:0};n.forEach(rt=>{rt.vaiTro===1?we.admin++:rt.vaiTro===2?we.nhanvien++:we.nguoidung++}),ze(we)},[n]),en=k.useCallback(()=>{const we={active:0,locked:0};n.forEach(rt=>{rt.trangThai===0?we.active++:rt.trangThai===1&&we.locked++}),$e(we)},[n]),Jt=k.useCallback(()=>{const we=Array(12).fill(0),rt=new Date().getFullYear();n.forEach(mn=>{const qt=new Date(mn.ngayTao);if(qt.getFullYear()===rt){const Yn=qt.getMonth();we[Yn]++}}),jt(we)},[n]);k.useEffect(()=>{$t()},[]),k.useEffect(()=>{Qt(),Pt(),en(),Jt()},[n,Qt,Pt,en,Jt]);const An=we=>we===1?"admin":we===2?"nhanvien":"nguoidung",vt=we=>we===1?"Nam":we===2?"Nữ":"Khác",Je=n.filter(we=>{var Yn,oa,_i;const rt=o.toLowerCase(),mn=((Yn=we.hoTen)==null?void 0:Yn.toLowerCase().includes(rt))||((oa=we.email)==null?void 0:oa.toLowerCase().includes(rt))||((_i=we.taiKhoan)==null?void 0:_i.toLowerCase().includes(rt)),qt=l==="all"||An(we.vaiTro)===l;if(A==="danhSachTaiKhoan"){const ul=u==="all"||u==="active"&&we.trangThai===0||u==="locked"&&we.trangThai===1;return mn&&qt&&ul&&(we.trangThai===0||we.trangThai===1)}else if(A==="khoiPhuc")return mn&&qt&&we.trangThai===2;return!1}).sort((we,rt)=>new Date(rt.ngayTao).getTime()-new Date(we.ngayTao).getTime()),pt=Math.ceil(Je.length/p),pn=Je.slice((h-1)*p,h*p);k.useEffect(()=>{m(1)},[A]);const ye=we=>we.length<=5?"Họ tên phải dài hơn 5 ký tự":"",Fe=we=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(we)?"":"Email không hợp lệ",We=we=>we.length<=5?"Mật khẩu phải dài hơn 5 ký tự":"",Ze=we=>we?we.length<=5?"Tài khoản phải dài hơn 5 ký tự":"":"Tài khoản không được để trống",_t=we=>we&&!/^\d{10}$/.test(we)?"Số điện thoại phải có đúng 10 chữ số":"",ot=we=>we&&!/^\d{12}$/.test(we)?"CCCD phải có đúng 12 chữ số":"",nt=we=>{if(we){const rt=new Date(we),mn=new Date;let qt=mn.getFullYear()-rt.getFullYear();const Yn=mn.getMonth()-rt.getMonth();if((Yn<0||Yn===0&&mn.getDate()<rt.getDate())&&qt--,qt<15)return"Người dùng phải ít nhất 15 tuổi"}return""},Cn=(we,rt)=>rt===1&&!we?"Ngày kết thúc khóa là bắt buộc khi trạng thái là Khóa":rt===1&&we&&new Date(we)<=new Date?"Ngày kết thúc khóa phải là ngày trong tương lai":"",dn=(we,rt)=>n.find(qt=>qt.taiKhoan===we&&qt.maNguoiDung!==rt)?"Tài khoản đã tồn tại":"",vn=(we,rt)=>n.find(qt=>qt.email===we&&qt.maNguoiDung!==rt)?"Email đã tồn tại":"",Gt=(we,rt)=>we&&n.find(qt=>qt.sdt===we&&qt.maNguoiDung!==rt)?"Số điện thoại đã tồn tại":"",Qn=(we,rt)=>we&&n.find(qt=>qt.cccd===we&&qt.maNguoiDung!==rt)?"CCCD đã tồn tại":"",Vn=we=>{const rt=we.currentTarget.value;/^\d{0,10}$/.test(rt)&&te(rt)},Xn=we=>{const rt=we.currentTarget.value;/^\d{0,12}$/.test(rt)&&ne(rt)},yr=()=>{I({hoTen:"",email:"",taiKhoan:"",matKhau:"",vaiTro:"0"}),ft({}),y(!0)},wr=we=>{w(we),M(!0)},ps=we=>{if(!we||!we.maNguoiDung){Ce.fire({icon:"error",title:"Lỗi",text:"Không tìm thấy mã người dùng",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}w(we),H(we.hoTen||""),G(we.ngaySinh?new Date(we.ngaySinh).toISOString().split("T")[0]:""),te(we.sdt||""),ne(we.cccd||""),oe(we.email||""),W(we.taiKhoan||""),Z(we.diaChi||""),re(we.vaiTro||0),ae(we.trangThai||0),he(we.hinhAnh?we.hinhAnh.startsWith("data:image")?we.hinhAnh:`data:image/png;base64,${we.hinhAnh}`:null),Ae(we.moTa||""),de(we.gioiTinh||0),ve(we.trangThai===0?null:we.lockoutEndDate?new Date(we.lockoutEndDate).toISOString().split("T")[0]:null),ft({}),B(!0)},ia=(we,rt)=>{Pe(we),Ee(rt),Te(!0)},po=async()=>{if(!_e||be===null){Ce.fire({icon:"error",title:"Lỗi",text:"Không thể xác định người dùng hoặc trạng thái",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}Be(!0);try{const we={maNguoiDung:_e.maNguoiDung,hoTen:_e.hoTen,email:_e.email,taiKhoan:_e.taiKhoan,sdt:_e.sdt,cccd:_e.cccd,diaChi:_e.diaChi,vaiTro:_e.vaiTro,trangThai:be,...be===1?{cancelCount:4,lockoutEndDate:new Date(Date.now()+2592e5).toISOString()}:{cancelCount:0,lockoutEndDate:null}},rt=await fetch(`${wo}/api/NguoiDung/${_e.maNguoiDung}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(we)});if(!rt.ok){const mn=await rt.json();throw new Error(mn.message||"Lỗi khi cập nhật trạng thái")}await it(),Ce.fire({icon:"success",title:"Thành công",text:"Cập nhật trạng thái thành công",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(we){Ce.fire({icon:"error",title:"Lỗi",text:we.message||"Lỗi khi cập nhật trạng thái",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{Be(!1),Te(!1),Pe(null),Ee(null)}},ll=async we=>{we.preventDefault();const rt={};if(rt.hoTen=ye(N.hoTen),rt.email=Fe(N.email),rt.taiKhoan=Ze(N.taiKhoan),rt.matKhau=We(N.matKhau),rt.taiKhoanUnique=dn(N.taiKhoan),rt.emailUnique=vn(N.email),ft(rt),!Object.values(rt).some(mn=>mn!=="")){s(!0);try{const mn={HoTen:N.hoTen,Email:N.email,TaiKhoan:N.taiKhoan,MatKhau:N.matKhau,VaiTro:parseInt(N.vaiTro),TrangThai:0,NgayTao:new Date().toISOString()};if(!(await fetch(`${wo}/api/NguoiDung`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:JSON.stringify(mn)})).ok)throw new Error("Lỗi khi thêm người dùng");await it(),y(!1),I({hoTen:"",email:"",taiKhoan:"",matKhau:"",vaiTro:"0"}),Ce.fire({icon:"success",title:"Thành công",text:"Thêm người dùng thành công",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(mn){Ce.fire({icon:"error",title:"Lỗi",text:mn.message||"Lỗi khi thêm người dùng",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{s(!1)}}},cl=async()=>{if(_)try{O==="hide"?await fetch(`${wo}/api/NguoiDung/${_.maNguoiDung}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:JSON.stringify({..._,trangThai:2})}):O==="restore"?await fetch(`${wo}/api/NguoiDung/${_.maNguoiDung}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:JSON.stringify({..._,trangThai:0})}):O==="delete"&&await fetch(`${wo}/api/NguoiDung/${_.maNguoiDung}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}}),await it(),Ce.fire({icon:"success",title:"Thành công",text:`Đã ${O==="hide"?"xóa":O==="restore"?"khôi phục":"xóa vĩnh viễn"} người dùng thành công`,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(we){Ce.fire({icon:"error",title:"Lỗi",text:we.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{L(!1),E(null),F(null)}},dl=we=>{we.preventDefault(),Ut(!0)},zn=we=>{we.preventDefault(),Ut(!1)},Dn=we=>{we.preventDefault(),Ut(!1);const rt=we.dataTransfer.files[0];if(rt&&rt.type.startsWith("image/")){const mn=URL.createObjectURL(rt);he(mn)}else Ce.fire({icon:"error",title:"Lỗi",text:"Vui lòng chọn file hình ảnh",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})},ki=()=>{const we=document.getElementById("fileInput");we&&we.click()},Ao=we=>{var mn;const rt=(mn=we.target.files)==null?void 0:mn[0];if(rt){const qt=URL.createObjectURL(rt);he(qt)}},Rd=async we=>{we.preventDefault();const rt={};rt.chiTietHoTen=ye(q),rt.chiTietEmail=Fe(ce),rt.chiTietSdt=_t(J),rt.chiTietCccd=ot(K),rt.chiTietNgaySinh=nt($),rt.chiTietLockoutEndDate=Cn(me,le);const mn=T==null?void 0:T.maNguoiDung;if(rt.chiTietTaiKhoanUnique=dn(ee,mn),rt.chiTietEmailUnique=vn(ce,mn),rt.chiTietSdtUnique=Gt(J,mn),rt.chiTietCccdUnique=Qn(K,mn),ft(rt),Object.values(rt).some(Yn=>Yn!==""))return;if(!T||!T.maNguoiDung){Ce.fire({icon:"error",title:"Lỗi",text:"Không tìm thấy mã người dùng để cập nhật",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}const qt=new FormData;if(qt.append("MaNguoiDung",T.maNguoiDung),qt.append("HoTen",q),qt.append("NgaySinh",$||""),qt.append("Sdt",J||""),qt.append("Cccd",K||""),qt.append("Email",ce),qt.append("TaiKhoan",ee),qt.append("DiaChi",Y||""),qt.append("VaiTro",se.toString()),qt.append("TrangThai",le.toString()),qt.append("MoTa",pe||""),qt.append("GioiTinh",ie.toString()),le===1&&me?qt.append("LockoutEndDate",me):qt.append("LockoutEndDate",""),ue&&ue.startsWith("blob:")){const oa=await(await fetch(ue)).blob();qt.append("HinhAnhFile",oa,"avatar.jpg")}else if(ue&&!ue.startsWith("http")){const Yn=ue.startsWith("data:image")?ue.split(",")[1]:ue;qt.append("HinhAnh",Yn||"")}Be(!0);try{const Yn=await fetch(`${wo}/api/NguoiDung/chitiet/${T.maNguoiDung}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:qt}),oa=await Yn.json();if(!Yn.ok)throw new Error(oa.message||"Lỗi khi cập nhật chi tiết người dùng");await it(),Ce.fire({icon:"success",title:"Thành công",text:"Cập nhật chi tiết người dùng thành công",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0}),B(!1)}catch(Yn){Ce.fire({icon:"error",title:"Lỗi",text:Yn.message||"Lỗi khi cập nhật chi tiết người dùng",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{Be(!1)}},_s=we=>{if(!we)return"";const rt=new Date(we);return`${rt.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})}, ${rt.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})}`},Bs=we=>{m(we)};return e?r.jsx("div",{className:"text-center py-10",children:"Đang tải..."}):a?r.jsx("div",{className:"text-center py-10 text-red-500",children:a}):r.jsxs("div",{className:"py-6 space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsx("div",{children:r.jsx("h1",{className:"text-2xl font-bold flex items-center",children:"Quản lý người dùng"})}),r.jsxs(Yt,{open:v,onOpenChange:y,children:[r.jsx(nC,{asChild:!0,children:r.jsxs(fe,{className:"bg-purple-400 hover:bg-purple-500 text-white",onClick:yr,children:[r.jsx(T6,{className:"h-4 w-4 mr-2"})," Thêm Người Dùng"]})}),r.jsxs(Kt,{children:[r.jsx(rn,{children:r.jsx(Zt,{children:"Thêm Người Dùng Mới"})}),r.jsxs("form",{onSubmit:ll,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"hoTen",children:"Họ Tên"}),r.jsxs("div",{className:"relative",children:[r.jsx(Un,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{id:"hoTen",placeholder:"Nhập họ tên",value:N.hoTen,onChange:we=>I({...N,hoTen:we.target.value}),className:"pl-8",required:!0})]}),ut.hoTen&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:ut.hoTen})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"email",children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(Aa,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{id:"email",type:"email",placeholder:"Nhập email",value:N.email,onChange:we=>I({...N,email:we.target.value}),className:"pl-8",required:!0})]}),ut.email&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:ut.email}),ut.emailUnique&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:ut.emailUnique})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"taiKhoan",children:"Tài Khoản"}),r.jsxs("div",{className:"relative",children:[r.jsx(Un,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{id:"taiKhoan",placeholder:"Nhập tài khoản",value:N.taiKhoan,onChange:we=>I({...N,taiKhoan:we.target.value}),className:"pl-8",required:!0})]}),ut.taiKhoan&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:ut.taiKhoan}),ut.taiKhoanUnique&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:ut.taiKhoanUnique})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"matKhau",children:"Mật Khẩu"}),r.jsxs("div",{className:"relative",children:[r.jsx(ma,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{id:"matKhau",type:C?"text":"password",placeholder:"Nhập mật khẩu",value:N.matKhau,onChange:we=>I({...N,matKhau:we.target.value}),className:"pl-8 pr-10",required:!0}),r.jsx("button",{type:"button",onClick:()=>j(!C),className:"absolute right-5 top-2 h-4 w-4 text-muted-foreground",children:C?r.jsx(pr,{}):r.jsx(Wi,{})})]}),ut.matKhau&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:ut.matKhau})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"vaiTro",children:"Vai Trò"}),r.jsxs("div",{className:"relative",children:[r.jsx(Un,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsxs("select",{id:"vaiTro",value:N.vaiTro,onChange:we=>I({...N,vaiTro:we.target.value}),className:"w-full border rounded-md p-2 pl-8",children:[r.jsx("option",{value:"0",children:"Người dùng"}),r.jsx("option",{value:"1",children:"Admin"}),r.jsx("option",{value:"2",children:"Nhân viên"})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsxs(fe,{type:"button",onClick:()=>y(!1),disabled:e,children:[r.jsx(st,{className:"h-4 w-4 mr-2"})," Hủy"]}),r.jsx(fe,{type:"submit",disabled:e,children:e?r.jsxs(r.Fragment,{children:[r.jsx(MN,{className:"h-4 w-4 mr-2 animate-spin"})," Đang lưu..."]}):r.jsxs(r.Fragment,{children:[r.jsx(cr,{className:"h-4 w-4 mr-2"})," Thêm"]})})]})]})]})]})]}),r.jsxs(Na,{defaultValue:"danhSachTaiKhoan",value:A,onValueChange:g,className:"w-full",children:[r.jsxs(sa,{className:"grid w-full md:w-auto grid-cols-3 md:grid-cols-3 gap-1",children:[r.jsxs(kn,{value:"danhSachTaiKhoan",className:"flex items-center gap-2",children:[r.jsx(Un,{className:"h-4 w-4"})," Danh sách tài khoản"]}),r.jsxs(kn,{value:"khoiPhuc",className:"flex items-center gap-2",children:[r.jsx($o,{className:"h-4 w-4"})," Khôi phục"]}),r.jsxs(kn,{value:"danhSachThongKe",className:"flex items-center gap-2",children:[r.jsx(h6,{className:"h-4 w-4"})," Danh sách thống kê"]})]}),r.jsxs(Fn,{value:"danhSachTaiKhoan",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[r.jsxs("div",{className:"relative flex-grow",children:[r.jsx(Rn,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{placeholder:"Tìm kiếm người dùng...",className:"pl-8 pr-10",value:o,onChange:we=>c(we.target.value)}),o&&r.jsx("button",{onClick:()=>c(""),className:"absolute right-2.5 top-2.5 h-4 w-4 text-muted-foreground",children:r.jsx(st,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Un,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsxs("select",{value:l,onChange:we=>d(we.target.value),className:"border rounded-md p-2 pl-8",children:[r.jsx("option",{value:"all",children:"Tất cả vai trò"}),r.jsx("option",{value:"admin",children:"Admin"}),r.jsx("option",{value:"nhanvien",children:"Nhân viên"}),r.jsx("option",{value:"nguoidung",children:"Người dùng"})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Un,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsxs("select",{value:u,onChange:we=>f(we.target.value),className:"border rounded-md p-2 pl-8",children:[r.jsx("option",{value:"all",children:"Tất cả trạng thái"}),r.jsx("option",{value:"active",children:"Hoạt động"}),r.jsx("option",{value:"locked",children:"Khóa"})]})]})]}),r.jsx("div",{className:"hidden md:block border rounded-lg overflow-hidden",children:r.jsxs(Br,{children:[r.jsx(Er,{children:r.jsxs(Rt,{children:[r.jsx(Qe,{className:"w-[50px]",children:"STT"}),r.jsx(Qe,{className:"w-[120px]",children:"Hình Ảnh"}),r.jsx(Qe,{children:"Họ Tên"}),r.jsx(Qe,{children:"Email"}),r.jsx(Qe,{children:"Tài Khoản"}),r.jsx(Qe,{children:"Vai Trò"}),r.jsx(Qe,{children:"Trạng Thái"}),r.jsx(Qe,{className:"w-[120px]",children:"Hành động"})]})}),r.jsx(Mr,{children:pn.length>0?pn.map((we,rt)=>r.jsxs(Rt,{className:"hover:bg-muted/50",children:[r.jsx(He,{align:"center",children:(h-1)*p+rt+1}),r.jsx(He,{align:"center",children:r.jsx("img",{src:we.hinhAnh?we.hinhAnh.startsWith("data:image")?we.hinhAnh:`data:image/png;base64,${we.hinhAnh}`:b||"https://gockienthuc.edu.vn/wp-content/uploads/2024/07/hinh-anh-avatar-trang-mac-dinh-doc-dao-khong-lao-nhao_6690f0076072b.webp",alt:"Avatar",className:"w-16 h-16 rounded-full mx-auto mt-4 object-cover cursor-pointer hover:scale-105 transition-transform",onClick:()=>wr(we)})}),r.jsx(He,{children:we.hoTen}),r.jsx(He,{children:we.email}),r.jsx(He,{children:we.taiKhoan||""}),r.jsx(He,{children:we.vaiTro===1?"Admin":we.vaiTro===2?"Nhân viên":"Người dùng"}),r.jsx(He,{children:r.jsxs("label",{className:"relative inline-block w-[60px] h-[34px]",children:[r.jsx("input",{type:"checkbox",className:"opacity-0 w-0 h-0",checked:we.trangThai===0,onChange:mn=>ia(we,mn.target.checked?0:1),disabled:Me}),r.jsx("span",{className:`absolute cursor-pointer inset-0 rounded-full transition-all duration-300 ease-in-out
                              before:absolute before:h-[30px] before:w-[30px] before:left-[2px] before:bottom-[2px]
                              before:bg-white before:rounded-full before:shadow-md before:transition-all before:duration-300 before:ease-in-out
                              ${we.trangThai===0?"bg-crocus-500 before:translate-x-[26px]":"bg-gray-400"} hover:scale-110 shadow-sm hover:shadow-md`}),r.jsx("span",{className:"sr-only",children:we.trangThai===0?"Hoạt động":"Khóa"})]})}),r.jsx(He,{align:"center",children:r.jsxs(Ar,{children:[r.jsx(gr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsx(Fs,{className:"h-4 w-4"})})}),r.jsxs(hr,{align:"end",children:[r.jsxs(ct,{onClick:()=>Dt(we),className:"text-gray-700",children:[r.jsx(qo,{className:"mr-2 h-4 w-4 text-gray-600"})," Địa chỉ"]}),r.jsxs(ct,{onClick:()=>wr(we),className:"text-green-700",children:[r.jsx(pr,{className:"mr-2 h-4 w-4"})," Xem"]}),r.jsxs(ct,{onClick:()=>ps(we),className:"text-blue-700",children:[r.jsx(Xf,{className:"mr-2 h-4 w-4"})," Sửa"]}),r.jsxs(ct,{onClick:()=>{E(we),F("hide"),L(!0)},className:"text-red-700",children:[r.jsx(mi,{className:"mr-2 h-4 w-4"})," Xóa"]})]})]})})]},we.maNguoiDung)):r.jsx(Rt,{children:r.jsx(He,{colSpan:8,className:"text-center py-6 text-muted-foreground",children:"Không tìm thấy người dùng nào phù hợp với tìm kiếm của bạn."})})})]})}),r.jsx("div",{className:"md:hidden space-y-4",children:pn.map(we=>r.jsxs(at,{children:[r.jsx(yt,{className:"p-4 pb-2",children:r.jsxs(Ct,{className:"text-base flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("img",{src:we.hinhAnh?we.hinhAnh.startsWith("data:image")?we.hinhAnh:`data:image/png;base64,${we.hinhAnh}`:b||"https://gockienthuc.edu.vn/wp-content/uploads/2024/07/hinh-anh-avatar-trang-mac-dinh-doc-dao-khong-lao-nhao_6690f0076072b.webp",alt:"Avatar",className:"w-8 h-8 rounded-full object-cover"}),r.jsx("span",{children:we.hoTen})]}),r.jsxs(Ar,{children:[r.jsx(gr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsx(Fs,{className:"h-4 w-4"})})}),r.jsxs(hr,{align:"end",children:[r.jsxs(ct,{onClick:()=>Dt(we),children:[r.jsx(qo,{className:"mr-2 h-4 w-4"})," Địa chỉ"]}),r.jsxs(ct,{onClick:()=>wr(we),children:[r.jsx(pr,{className:"mr-2 h-4 w-4"})," Chi tiết"]}),r.jsxs(ct,{onClick:()=>ps(we),children:[r.jsx(Xf,{className:"mr-2 h-4 w-4"})," Sửa chi tiết"]}),r.jsxs(ct,{onClick:()=>{E(we),F("hide"),L(!0)},children:[r.jsx(mi,{className:"mr-2 h-4 w-4"})," Ẩn"]})]})]})]})}),r.jsxs(dt,{className:"p-4 pt-0 space-y-1",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:we.email}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:we.vaiTro===1?"Admin":we.vaiTro===2?"Nhân viên":"Người dùng"}),r.jsx("span",{children:new Date(we.ngayTao).toLocaleDateString()})]}),r.jsx("div",{children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${we.trangThai===0?"bg-crocus-100 text-crocus-800":"bg-gray-100 text-gray-800"}`,children:we.trangThai===0?"Hoạt động":"Khóa"})})]})]},we.maNguoiDung))}),pt>1&&r.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[r.jsxs(fe,{onClick:()=>Bs(h-1),disabled:h===1,variant:"outline",className:"flex items-center",children:[r.jsx(zr,{className:"h-4 w-4 mr-2"}),"Trước"]}),Array.from({length:pt},(we,rt)=>rt+1).map(we=>r.jsx(fe,{onClick:()=>Bs(we),variant:h===we?"default":"outline",className:h===we?"bg-purple-400 text-white hover:bg-purple-300":"",children:we},we)),r.jsxs(fe,{onClick:()=>Bs(h+1),disabled:h===pt,variant:"outline",className:"flex items-center",children:["Sau",r.jsx(xr,{className:"h-4 w-4 ml-2"})]})]})]}),r.jsxs(Fn,{value:"khoiPhuc",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[r.jsxs("div",{className:"relative flex-grow",children:[r.jsx(Rn,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{placeholder:"Tìm kiếm người dùng...",className:"pl-8 pr-10",value:o,onChange:we=>c(we.target.value)}),o&&r.jsx("button",{onClick:()=>c(""),className:"absolute right-2.5 top-2.5 h-4 w-4 text-muted-foreground",children:r.jsx(st,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Un,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsxs("select",{value:l,onChange:we=>d(we.target.value),className:"border rounded-md p-2 pl-8",children:[r.jsx("option",{value:"all",children:"Tất cả vai trò"}),r.jsx("option",{value:"admin",children:"Admin"}),r.jsx("option",{value:"nhanvien",children:"Nhân viên"}),r.jsx("option",{value:"nguoidung",children:"Người dùng"})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Un,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx("select",{value:u,onChange:we=>f(we.target.value),className:"border rounded-md p-2 pl-8",children:r.jsx("option",{value:"all",children:"Tất cả trạng thái"})})]})]}),r.jsx("div",{className:"hidden md:block border rounded-lg overflow-hidden",children:r.jsxs(Br,{children:[r.jsx(Er,{children:r.jsxs(Rt,{children:[r.jsx(Qe,{className:"w-[50px]",children:"STT"}),r.jsx(Qe,{className:"w-[120px]",children:"Hình Ảnh"}),r.jsx(Qe,{children:"Họ Tên"}),r.jsx(Qe,{children:"Email"}),r.jsx(Qe,{children:"Tài Khoản"}),r.jsx(Qe,{children:"Vai Trò"}),r.jsx(Qe,{children:"Trạng Thái"}),r.jsx(Qe,{className:"w-[120px]",children:"Hành động"})]})}),r.jsx(Mr,{children:pn.length>0?pn.map((we,rt)=>r.jsxs(Rt,{className:"hover:bg-muted/50",children:[r.jsx(He,{align:"center",children:(h-1)*p+rt+1}),r.jsx(He,{align:"center",children:r.jsx("img",{src:we.hinhAnh?we.hinhAnh.startsWith("data:image")?we.hinhAnh:`data:image/png;base64,${we.hinhAnh}`:b||"https://gockienthuc.edu.vn/wp-content/uploads/2024/07/hinh-anh-avatar-trang-mac-dinh-doc-dao-khong-lao-nhao_6690f0076072b.webp",alt:"Avatar",className:"w-16 h-16 rounded-full mx-auto mt-4 object-cover cursor-pointer hover:scale-105 transition-transform",onClick:()=>wr(we)})}),r.jsx(He,{children:we.hoTen}),r.jsx(He,{children:we.email}),r.jsx(He,{children:we.taiKhoan||""}),r.jsx(He,{children:we.vaiTro===1?"Admin":we.vaiTro===2?"Nhân viên":"Người dùng"}),r.jsx(He,{children:r.jsxs("label",{className:"relative inline-block w-[60px] h-[34px]",children:[r.jsx("input",{type:"checkbox",className:"opacity-0 w-0 h-0",checked:we.trangThai===0,onChange:mn=>{mn.target.checked?(E(we),F("restore"),L(!0)):ia(we,1)},disabled:Me}),r.jsx("span",{className:`absolute cursor-pointer inset-0 rounded-full transition-all duration-300 ease-in-out
                              before:absolute before:h-[30px] before:w-[30px] before:left-[2px] before:bottom-[2px]
                              before:bg-white before:rounded-full before:shadow-md before:transition-all before:duration-300 before:ease-in-out
                              ${we.trangThai===0?"bg-crocus-500 before:translate-x-[26px]":"bg-gray-400"} hover:scale-110 shadow-sm hover:shadow-md`}),r.jsx("span",{className:"sr-only",children:we.trangThai===0?"Hoạt động":"Ẩn"})]})}),r.jsx(He,{align:"center",children:r.jsxs(Ar,{children:[r.jsx(gr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsx(Fs,{className:"h-4 w-4"})})}),r.jsxs(hr,{align:"end",children:[r.jsxs(ct,{onClick:()=>wr(we),className:"text-green-700",children:[r.jsx(pr,{className:"mr-2 h-4 w-4"})," Chi tiết"]}),r.jsxs(ct,{onClick:()=>{E(we),F("restore"),L(!0)},className:"text-blue-700",children:[r.jsx($o,{className:"mr-2 h-4 w-4"})," Khôi phục"]}),r.jsxs(ct,{onClick:()=>{E(we),F("delete"),L(!0)},className:"text-red-700",children:[r.jsx(mi,{className:"mr-2 h-4 w-4"})," Xóa vĩnh viễn"]})]})]})})]},we.maNguoiDung)):r.jsx(Rt,{children:r.jsx(He,{colSpan:8,className:"text-center py-6 text-muted-foreground",children:"Không có người dùng ẩn nào để hiển thị."})})})]})}),r.jsx("div",{className:"md:hidden space-y-4",children:pn.map(we=>r.jsxs(at,{children:[r.jsx(yt,{className:"p-4 pb-2",children:r.jsxs(Ct,{className:"text-base flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("img",{src:we.hinhAnh?we.hinhAnh.startsWith("data:image")?we.hinhAnh:`data:image/png;base64,${we.hinhAnh}`:b||"https://gockienthuc.edu.vn/wp-content/uploads/2024/07/hinh-anh-avatar-trang-mac-dinh-doc-dao-khong-lao-nhao_6690f0076072b.webp",alt:"Avatar",className:"w-8 h-8 rounded-full object-cover"}),r.jsx("span",{children:we.hoTen})]}),r.jsxs(Ar,{children:[r.jsx(gr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsx(Fs,{className:"h-4 w-4"})})}),r.jsxs(hr,{align:"end",children:[r.jsxs(ct,{onClick:()=>wr(we),children:[r.jsx(pr,{className:"mr-2 h-4 w-4"})," Chi tiết"]}),r.jsxs(ct,{onClick:()=>{E(we),F("restore"),L(!0)},children:[r.jsx($o,{className:"mr-2 h-4 w-4"})," Khôi phục"]}),r.jsxs(ct,{onClick:()=>{E(we),F("delete"),L(!0)},children:[r.jsx(mi,{className:"mr-2 h-4 w-4"})," Xóa vĩnh viễn"]})]})]})]})}),r.jsxs(dt,{className:"p-4 pt-0 space-y-1",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:we.email}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:we.vaiTro===1?"Admin":we.vaiTro===2?"Nhân viên":"Người dùng"}),r.jsx("span",{children:new Date(we.ngayTao).toLocaleDateString()})]}),r.jsx("div",{children:r.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-gray-100 text-gray-800",children:"Ẩn"})})]})]},we.maNguoiDung))}),pt>1&&r.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[r.jsxs(fe,{onClick:()=>Bs(h-1),disabled:h===1,variant:"outline",className:"flex items-center",children:[r.jsx(zr,{className:"h-4 w-4 mr-2"}),"Trước"]}),Array.from({length:pt},(we,rt)=>rt+1).map(we=>r.jsx(fe,{onClick:()=>Bs(we),variant:h===we?"default":"outline",className:h===we?"bg-purple-400 text-white hover:bg-purple-300":"",children:we},we)),r.jsxs(fe,{onClick:()=>Bs(h+1),disabled:h===pt,variant:"outline",className:"flex items-center",children:["Sau",r.jsx(xr,{className:"h-4 w-4 ml-2"})]})]})]}),r.jsxs(Fn,{value:"danhSachThongKe",children:[r.jsxs("div",{className:"mt-8",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Thống kê người dùng"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Người dùng mới hôm nay"}),r.jsx("p",{className:"text-2xl font-bold",children:ge.usersToday})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Tổng số người dùng"}),r.jsx("p",{className:"text-2xl font-bold",children:ge.totalUsers})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Người dùng hoạt động"}),r.jsx("p",{className:"text-2xl font-bold",children:ge.activeUsers})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Người dùng bị khóa"}),r.jsx("p",{className:"text-2xl font-bold",children:ge.lockedUsers})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Người dùng mới tháng này"}),r.jsx("p",{className:"text-2xl font-bold",children:ge.usersThisMonth})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Người dùng mới năm nay"}),r.jsx("p",{className:"text-2xl font-bold",children:ge.usersThisYear})]})]})]}),r.jsxs("div",{className:"mt-8",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Biểu đồ thống kê"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Số lượng người dùng theo vai trò"}),r.jsx(HF,{data:ke,options:{responsive:!0}})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Tỷ lệ người dùng hoạt động và bị khóa"}),r.jsx("div",{style:{height:"300px",width:"300px"},children:r.jsx(sSe,{data:Re,options:{responsive:!0,maintainAspectRatio:!1}})})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Người dùng mới theo tháng trong năm ",new Date().getFullYear()]}),r.jsx(UF,{data:Ke,options:{responsive:!0}})]})]})]})]})]}),r.jsx(Yt,{open:S,onOpenChange:M,children:r.jsxs(Kt,{className:"p-6 max-w-4xl w-full",children:[r.jsx(rn,{children:r.jsx(Zt,{children:"Chi Tiết Người Dùng"})}),T&&r.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[r.jsxs("div",{className:"col-span-1 space-y-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{children:"Hình Ảnh"}),r.jsx("img",{src:T.hinhAnh?T.hinhAnh.startsWith("data:image")?T.hinhAnh:`data:image/png;base64,${T.hinhAnh}`:b||"https://gockienthuc.edu.vn/wp-content/uploads/2024/07/hinh-anh-avatar-trang-mac-dinh-doc-dao-khong-lao-nhao_6690f0076072b.webp",alt:"Avatar",className:"mt-2 w-64 h-64 object-cover rounded-full border-2 border-crocus-500"})]}),r.jsxs("div",{children:[r.jsx(Oe,{children:"Mô Tả"}),r.jsx("textarea",{value:T.moTa||"Chưa cập nhật",readOnly:!0,className:"w-full p-2 border rounded cursor-not-allowed text-black border-2 border-crocus-300",rows:4})]})]}),r.jsxs("div",{className:"col-span-1 space-y-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{children:"Tài Khoản"}),r.jsxs("div",{className:"relative",children:[r.jsx(Un,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{value:T.taiKhoan||"Chưa cập nhật",disabled:!0,className:"pl-8 text-black border-2 border-crocus-500"})]})]}),r.jsxs("div",{children:[r.jsx(Oe,{children:"Họ Tên"}),r.jsxs("div",{className:"relative",children:[r.jsx(Un,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{value:T.hoTen||"Chưa cập nhật",disabled:!0,className:"pl-8 text-black border-2 border-crocus-500"})]})]}),r.jsxs("div",{children:[r.jsx(Oe,{children:"Vai Trò"}),r.jsxs("div",{className:"relative",children:[r.jsx(Un,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{value:T.vaiTro===1?"Admin":T.vaiTro===2?"Nhân viên":"Người dùng",disabled:!0,className:"pl-8 text-black border-2 border-crocus-500"})]})]}),r.jsxs("div",{children:[r.jsx(Oe,{children:"Ngày Tạo"}),r.jsxs("div",{className:"relative",children:[r.jsx($r,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{value:T.ngayTao?_s(T.ngayTao):"Chưa cập nhật",disabled:!0,className:"pl-8 text-black border-2 border-crocus-500"})]})]}),r.jsxs("div",{children:[r.jsx(Oe,{children:"Giới Tính"}),r.jsxs("div",{className:"relative",children:[r.jsx(Un,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{value:vt(T.gioiTinh||0),disabled:!0,className:"pl-8 text-black border-2 border-crocus-500"})]})]}),r.jsxs("div",{children:[r.jsx(Oe,{children:"Trạng Thái"}),r.jsxs("div",{className:"relative",children:[r.jsx(ma,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{value:T.trangThai===0?"Hoạt động":T.trangThai===1?"Khóa":"Ẩn",disabled:!0,className:`pl-8 font-semibold border-2 border-crocus-500 ${T.trangThai===0?"text-green-600":T.trangThai===1?"text-red-600":"text-gray-600"}`})]})]})]}),r.jsxs("div",{className:"col-span-1 space-y-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{children:"Ngày Sinh"}),r.jsxs("div",{className:"relative",children:[r.jsx($r,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{value:T.ngaySinh?new Date(T.ngaySinh).toLocaleDateString("vi-VN"):"Chưa cập nhật",disabled:!0,className:"pl-8 text-black border-2 border-crocus-500"})]})]}),r.jsxs("div",{children:[r.jsx(Oe,{children:"Số Điện Thoại"}),r.jsxs("div",{className:"relative",children:[r.jsx(Yl,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{value:T.sdt||"Chưa cập nhật",disabled:!0,className:"pl-8 text-black border-2 border-crocus-500"})]})]}),r.jsxs("div",{children:[r.jsx(Oe,{children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(Aa,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{value:T.email||"Chưa cập nhật",disabled:!0,className:"pl-8 text-black border-2 border-crocus-500"})]})]}),r.jsxs("div",{children:[r.jsx(Oe,{children:"CCCD"}),r.jsxs("div",{className:"relative",children:[r.jsx(rd,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{value:T.cccd||"Chưa cập nhật",disabled:!0,className:"pl-8 text-black border-2 border-crocus-500"})]})]}),r.jsxs("div",{children:[r.jsx(Oe,{children:"Địa Chỉ"}),r.jsxs("div",{className:"relative",children:[r.jsx(tw,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{value:T.diaChi||"Chưa cập nhật",disabled:!0,className:"pl-8 text-black border-2 border-crocus-500"})]})]}),r.jsxs("div",{children:[r.jsx(Oe,{children:"Ngày Kết Thúc Khóa"}),r.jsxs("div",{className:"relative",children:[r.jsx($r,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{value:T.lockoutEndDate?_s(T.lockoutEndDate):"Chưa cập nhật",disabled:!0,className:"pl-8 text-black border-2 border-crocus-500"})]})]})]})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsxs(fe,{type:"button",onClick:()=>M(!1),children:[r.jsx(st,{className:"h-4 w-4 mr-2"})," Đóng"]})})]})}),r.jsx(Yt,{open:P,onOpenChange:B,children:r.jsxs(Kt,{className:"p-6 max-w-4xl w-full",children:[r.jsx(rn,{children:r.jsx(Zt,{children:"Cập Nhật Chi Tiết Người Dùng"})}),r.jsxs("form",{onSubmit:Rd,className:"grid grid-cols-3 gap-6",children:[r.jsxs("div",{className:"col-span-1 space-y-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{children:"Hình Ảnh"}),r.jsx("div",{className:`mt-2 w-32 h-32 border-2 border-dashed rounded-lg relative flex items-center justify-center cursor-pointer ${At?"border-crocus-500 bg-crocus-50":"border-gray-300"}`,onDragOver:dl,onDragLeave:zn,onDrop:Dn,onClick:ki,children:ue?r.jsxs(r.Fragment,{children:[r.jsx("img",{src:ue,alt:"Avatar",className:"w-full h-full object-cover rounded-lg"}),r.jsx("button",{className:"absolute top-3 right-3 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center",onClick:we=>{we.stopPropagation(),he(null)},children:"X"})]}):r.jsx("span",{className:"text-gray-500 text-sm text-center",children:"Nhấp để chọn hình ảnh"})}),r.jsx("input",{type:"file",accept:"image/*",id:"fileInput",onChange:Ao,className:"hidden"})]}),r.jsxs("div",{children:[r.jsx(Oe,{children:"Mô Tả"}),r.jsx("textarea",{value:pe,onChange:we=>Ae(we.target.value),className:"w-full p-2 border rounded text-muted-foreground focus:ring-2 focus:ring-purple-400 focus:outline-none",rows:3,placeholder:"Nhập mô tả..."})]}),le===1&&r.jsxs("div",{children:[r.jsx(Oe,{children:"Ngày Kết Thúc Khóa"}),r.jsxs("div",{className:"relative",children:[r.jsx($r,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{type:"date",value:me||"",onChange:we=>ve(we.target.value),min:new Date(new Date().setDate(new Date().getDate()+1)).toISOString().split("T")[0],className:"pl-8",required:le===1})]}),ut.chiTietLockoutEndDate&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:ut.chiTietLockoutEndDate})]})]}),r.jsxs("div",{className:"col-span-1 space-y-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{children:"Tài Khoản"}),r.jsxs("div",{className:"relative",children:[r.jsx(Un,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{value:ee,onChange:we=>W(we.target.value),disabled:!0,className:"pl-8"})]}),ut.chiTietTaiKhoanUnique&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:ut.chiTietTaiKhoanUnique})]}),r.jsxs("div",{children:[r.jsx(Oe,{children:"Họ Tên"}),r.jsxs("div",{className:"relative",children:[r.jsx(Un,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{value:q,placeholder:"Nhập họ tên",onChange:we=>H(we.target.value),required:!0,className:"pl-8"})]}),ut.chiTietHoTen&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:ut.chiTietHoTen})]}),r.jsxs("div",{children:[r.jsx(Oe,{children:"Vai Trò"}),r.jsxs("div",{className:"relative",children:[r.jsx(Un,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{value:se===1?"Admin":se===2?"Nhân viên":"Người dùng",disabled:!0,className:"text-black pl-8"})]})]}),r.jsxs("div",{children:[r.jsx(Oe,{children:"Trạng Thái"}),r.jsxs("div",{className:"relative",children:[r.jsx(Un,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsxs("select",{value:le,onChange:we=>{const rt=parseInt(we.target.value);ae(rt),rt===0&&ve(null)},className:"w-full border rounded-md p-2 pl-8 focus:outline-none focus:ring-2 focus:ring-purple-400",children:[r.jsx("option",{value:0,children:"Hoạt động"}),r.jsx("option",{value:1,children:"Khóa"})]})]})]}),r.jsxs("div",{children:[r.jsx(Oe,{children:"Giới Tính"}),r.jsxs("div",{className:"relative",children:[r.jsx(Un,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsxs("select",{value:ie,onChange:we=>de(parseInt(we.target.value)),className:"w-full border rounded-md p-2 pl-8 focus:outline-none focus:ring-2 focus:ring-purple-400",children:[r.jsx("option",{value:1,children:"Nam"}),r.jsx("option",{value:2,children:"Nữ"}),r.jsx("option",{value:0,children:"Khác"})]})]})]})]}),r.jsxs("div",{className:"col-span-1 space-y-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{children:"Ngày Sinh"}),r.jsxs("div",{className:"relative",children:[r.jsx($r,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{type:"date",value:$,onChange:we=>G(we.target.value),className:"pl-8"})]}),ut.chiTietNgaySinh&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:ut.chiTietNgaySinh})]}),r.jsxs("div",{children:[r.jsx(Oe,{children:"Số Điện Thoại"}),r.jsxs("div",{className:"relative",children:[r.jsx(Yl,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{value:J,placeholder:"Nhập số điện thoại",onChange:we=>te(we.target.value),onInput:Vn,maxLength:10,className:"pl-8"})]}),ut.chiTietSdt&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:ut.chiTietSdt}),ut.chiTietSdtUnique&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:ut.chiTietSdtUnique})]}),r.jsxs("div",{children:[r.jsx(Oe,{children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(Aa,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{value:ce,placeholder:"Nhập email",onChange:we=>oe(we.target.value),required:!0,className:"pl-8"})]}),ut.chiTietEmail&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:ut.chiTietEmail}),ut.chiTietEmailUnique&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:ut.chiTietEmailUnique})]}),r.jsxs("div",{children:[r.jsx(Oe,{children:"CCCD"}),r.jsxs("div",{className:"relative",children:[r.jsx(rd,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{value:K,placeholder:"Nhập CCCD",onChange:we=>ne(we.target.value),onInput:Xn,maxLength:12,className:"pl-8"})]}),ut.chiTietCccd&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:ut.chiTietCccd}),ut.chiTietCccdUnique&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:ut.chiTietCccdUnique})]}),r.jsxs("div",{children:[r.jsx(Oe,{children:"Địa Chỉ"}),r.jsxs("div",{className:"relative",children:[r.jsx(tw,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{value:Y,placeholder:"Nhập địa chỉ",onChange:we=>Z(we.target.value),className:"pl-8"})]})]})]}),r.jsxs("div",{className:"col-span-3 flex justify-end space-x-2 mt-6",children:[r.jsxs(fe,{type:"button",onClick:()=>B(!1),disabled:Me,children:[r.jsx(st,{className:"h-4 w-4 mr-2"})," Hủy"]}),r.jsx(fe,{type:"submit",disabled:Me,children:Me?r.jsxs(r.Fragment,{children:[r.jsx(MN,{className:"h-4 w-4 mr-2 animate-spin"})," Đang cập nhật..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Hm,{className:"h-4 w-4 mr-2"})," Cập nhật"]})})]})]})]})}),r.jsx(Yt,{open:R,onOpenChange:U,children:r.jsxs(Kt,{className:"p-6 max-w-5xl w-full",children:[r.jsx(rn,{children:r.jsx(Zt,{children:"Danh Sách Địa Chỉ"})}),V.length>0?r.jsxs(Br,{children:[r.jsx(Er,{children:r.jsxs(Rt,{children:[r.jsx(Qe,{children:"STT"}),r.jsx(Qe,{children:"Họ Tên"}),r.jsx(Qe,{children:"Số Điện Thoại"}),r.jsx(Qe,{children:"Mô Tả"}),r.jsx(Qe,{children:"Tỉnh"}),r.jsx(Qe,{children:"Huyện"}),r.jsx(Qe,{children:"Xã"}),r.jsx(Qe,{children:"Địa Chỉ"}),r.jsx(Qe,{children:"Trạng Thái"})]})}),r.jsx(Mr,{children:V.map((we,rt)=>r.jsxs(Rt,{children:[r.jsx(He,{children:rt+1}),r.jsx(He,{children:we.hoTen||"Chưa cập nhật"}),r.jsx(He,{children:we.sdt||"Chưa cập nhật"}),r.jsx(He,{children:we.moTa||"Chưa cập nhật"}),r.jsx(He,{children:we.tinh||"Chưa cập nhật"}),r.jsx(He,{children:we.quanHuyen||"Chưa cập nhật"}),r.jsx(He,{children:we.phuongXa||"Chưa cập nhật"}),r.jsx(He,{children:we.diaChi||"Chưa cập nhật"}),r.jsx(He,{children:we.trangThai?"Hoạt động":"Không hoạt động"})]},we.maDiaChi))})]}):r.jsx("p",{children:"Không có địa chỉ nào cho người dùng này."}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsxs(fe,{type:"button",onClick:()=>U(!1),children:[r.jsx(st,{className:"h-4 w-4 mr-2"})," Đóng"]})})]})}),r.jsx(Yt,{open:xe,onOpenChange:Te,children:r.jsxs(Kt,{className:"p-6",children:[r.jsx(rn,{children:r.jsx(Zt,{children:"Xác nhận thay đổi trạng thái"})}),r.jsxs(kr,{children:["Bạn có chắc chắn muốn ",be===0?"mở khóa":"khóa"," tài khoản"," ",r.jsx("strong",{children:_e==null?void 0:_e.taiKhoan})," không?"]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[r.jsxs(fe,{type:"button",onClick:()=>Te(!1),disabled:Me,children:[r.jsx(st,{className:"h-4 w-4 mr-2"})," Hủy"]}),r.jsxs(fe,{type:"button",onClick:po,disabled:Me,children:[r.jsx(Bd,{className:"h-4 w-4 mr-2"})," ",Me?"Đang xử lý...":"Xác nhận"]})]})]})}),r.jsx(Yt,{open:D,onOpenChange:L,children:r.jsxs(Kt,{className:"p-6",children:[r.jsxs(Zt,{children:[O==="hide"&&"Xác nhận xóa người dùng",O==="restore"&&"Xác nhận khôi phục người dùng",O==="delete"&&"Xác nhận xóa vĩnh viễn người dùng"]}),r.jsxs("p",{children:["Bạn có chắc chắn muốn ",O==="hide"?"xóa":O==="restore"?"khôi phục":"xóa vĩnh viễn"," người dùng ",_==null?void 0:_.hoTen," không?"]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[r.jsxs(fe,{onClick:()=>L(!1),variant:"outline",children:[r.jsx(Go,{className:"w-4 h-4 mr-2"}),"Hủy"]}),r.jsxs(fe,{onClick:cl,variant:"destructive",children:[r.jsx(ja,{className:"w-4 h-4 mr-2"}),"Xác nhận"]})]})]})})]})},iSe=()=>r.jsxs("div",{className:"py-10 space-y-8",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Staff Management"}),r.jsxs(fe,{children:[r.jsx(cr,{className:"h-4 w-4 mr-2"}),"Add Staff"]})]}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsx(je,{placeholder:"Search staff members...",className:"max-w-sm"})}),r.jsx("div",{className:"border rounded-lg",children:r.jsxs(Br,{children:[r.jsx(Er,{children:r.jsxs(Rt,{children:[r.jsx(Qe,{children:"Staff Member"}),r.jsx(Qe,{children:"Email"}),r.jsx(Qe,{children:"Role"}),r.jsx(Qe,{children:"Department"}),r.jsx(Qe,{children:"Status"})]})}),r.jsx(Mr,{children:r.jsxs(Rt,{children:[r.jsx(He,{className:"font-medium",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Un,{className:"h-4 w-4"}),r.jsx("span",{children:"Jane Smith"})]})}),r.jsx(He,{children:"jane@example.com"}),r.jsx(He,{children:"Manager"}),r.jsx(He,{children:"Sales"}),r.jsx(He,{children:r.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs",children:"Active"})})]})})]})})]}),oSe=oc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 bg-green-50 text-green-700 dark:border-green-500 [&>svg]:text-green-500",warning:"border-yellow-500/50 bg-yellow-50 text-yellow-700 dark:border-yellow-500 [&>svg]:text-yellow-500",info:"border-blue-500/50 bg-blue-50 text-blue-700 dark:border-blue-500 [&>svg]:text-blue-500"}},defaultVariants:{variant:"default"}}),a2=k.forwardRef(({className:n,variant:t,children:e,icon:s,...a},i)=>{const o=()=>{if(s)return s;switch(t){case"success":return r.jsx(MU,{className:"h-4 w-4"});case"destructive":return r.jsx(Go,{className:"h-4 w-4"});case"warning":return r.jsx(V2,{className:"h-4 w-4"});case"info":return r.jsx(H2,{className:"h-4 w-4"});default:return null}};return r.jsxs("div",{ref:i,role:"alert",className:Ue(oSe({variant:t}),n),...a,children:[o(),e]})});a2.displayName="Alert";const i2=k.forwardRef(({className:n,...t},e)=>r.jsx("h5",{ref:e,className:Ue("mb-1 font-medium leading-none tracking-tight",n),...t}));i2.displayName="AlertTitle";const o2=k.forwardRef(({className:n,...t},e)=>r.jsx("div",{ref:e,className:Ue("text-sm [&_p]:leading-relaxed",n),...t}));o2.displayName="AlertDescription";const kc="https://bicacuatho.azurewebsites.net",lSe=({isOpen:n,onClose:t,children:e})=>n?r.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-10",onClick:t,children:r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg relative w-full max-w-2xl h-auto max-h-[90vh] overflow-y-auto",onClick:s=>s.stopPropagation(),children:[r.jsx("button",{className:"absolute top-2 right-2 text-black hover:text-gray-700",onClick:t,children:r.jsx(st,{className:"h-6 w-6"})}),e]})}):null,cSe=({isOpen:n,onClose:t,onConfirm:e,message:s})=>n?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",onClick:t,children:r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg relative w-full max-w-2xl",onClick:a=>a.stopPropagation(),children:[r.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",onClick:t,children:r.jsx(st,{className:"h-6 w-6"})}),r.jsx("h2",{className:"text-xl font-bold",children:"Xác nhận"}),r.jsx("p",{className:"mt-4",children:s}),r.jsxs("div",{className:"flex justify-end space-x-4 mt-4",children:[r.jsxs(fe,{onClick:t,variant:"outline",className:"flex items-center gap-2",children:[r.jsx(st,{className:"h-5 w-5"})," Hủy"]}),r.jsxs(fe,{onClick:e,className:"bg-purple-400 text-white hover:bg-purple-300 flex items-center gap-2",children:[r.jsx(Bd,{className:"h-5 w-5"})," Đồng ý"]})]})]})}):null,Ka=({id:n,label:t,currentImage:e,onImageChange:s,error:a})=>{const[i,o]=k.useState(e?`data:image/png;base64,${e}`:null),c=k.useRef(null),l=h=>{h.preventDefault();const m=h.dataTransfer.files[0];if(m&&m.type.startsWith("image/")&&m.size<=5*1024*1024){const A=new FileReader;A.onload=()=>o(A.result),A.readAsDataURL(m),s(m)}else s(null),o(null)},d=h=>{var A;const m=(A=h.target.files)==null?void 0:A[0];if(m&&m.type.startsWith("image/")&&m.size<=5*1024*1024){const g=new FileReader;g.onload=()=>o(g.result),g.readAsDataURL(m),s(m)}else s(null),o(null)},u=()=>{var h;return(h=c.current)==null?void 0:h.click()},f=h=>{h.stopPropagation(),o(null),s(null)};return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-4 rounded-md text-center cursor-pointer",onClick:u,onDrop:l,onDragOver:h=>h.preventDefault(),children:[r.jsxs(Oe,{htmlFor:n,className:"flex items-center justify-center gap-2",children:[r.jsx(Lr,{className:"h-4 w-4"})," ",t]}),i?r.jsxs("div",{className:"relative mt-2",children:[r.jsx("img",{src:i,alt:"Preview",className:n==="logo"?"w-32 h-16 object-cover rounded-md":n==="avt"?"w-16 h-16 object-cover rounded-full":"w-32 h-16 object-cover rounded-md"}),r.jsx("button",{className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center",onClick:f,"aria-label":"Xóa ảnh",children:"X"})]}):r.jsx("p",{className:"text-gray-500",children:"Kéo thả hình ảnh hoặc nhấp để chọn tệp"}),r.jsx(je,{type:"file",id:n,name:n,accept:"image/png,image/jpeg",className:"hidden",ref:c,onChange:d})]}),a&&r.jsx("p",{className:"text-red-500 text-sm",children:a})]})},dSe=({onSubmit:n,onCancel:t})=>{const[e,s]=k.useState(""),[a,i]=k.useState(null),[o,c]=k.useState(null),[l,d]=k.useState(null),[u,f]=k.useState(null),[h,m]=k.useState(null),[A,g]=k.useState(null),[p,b]=k.useState({}),x=()=>{const y={};return e?e.length<=5&&(y.tenGiaoDien="Tên giao diện phải trên 5 ký tự"):y.tenGiaoDien="Vui lòng nhập tên giao diện",a||(y.logo="Vui lòng chọn ảnh logo"),o||(y.avt="Vui lòng chọn ảnh avt"),l||(y.slider1="Vui lòng chọn ảnh slider1"),u||(y.slider2="Vui lòng chọn ảnh slider2"),h||(y.slider3="Vui lòng chọn ảnh slider3"),A||(y.slider4="Vui lòng chọn ảnh slider4"),y},v=y=>{y.preventDefault();const S=x();if(Object.keys(S).length>0){b(S);return}const M=new FormData;M.append("TenGiaoDien",e),a&&M.append("Logo",a),o&&M.append("Avt",o),l&&M.append("Slider1",l),u&&M.append("Slider2",u),h&&M.append("Slider3",h),A&&M.append("Slider4",A),M.append("TrangThai","0"),n(M)};return r.jsxs("form",{onSubmit:v,className:"space-y-4",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Thêm Mới Giao Diện"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs(Oe,{htmlFor:"tenGiaoDien",className:"flex items-center gap-2",children:[r.jsx(so,{className:"h-6 w-6"})," Tên Giao Diện"]}),r.jsx(je,{id:"tenGiaoDien",value:e,onChange:y=>s(y.target.value),placeholder:"Nhập tên giao diện"}),p.tenGiaoDien&&r.jsx("p",{className:"text-red-500 text-sm",children:p.tenGiaoDien})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"flex flex-col space-y-4",children:[r.jsx(Ka,{id:"logo",label:"Logo",onImageChange:i,error:p.logo}),r.jsx(Ka,{id:"avt",label:"Avt",onImageChange:c,error:p.avt})]}),r.jsxs("div",{className:"flex flex-col space-y-4",children:[r.jsx(Ka,{id:"slider1",label:"Slider 1",onImageChange:d,error:p.slider1}),r.jsx(Ka,{id:"slider2",label:"Slider 2",onImageChange:f,error:p.slider2})]}),r.jsxs("div",{className:"flex flex-col space-y-4",children:[r.jsx(Ka,{id:"slider3",label:"Slider 3",onImageChange:m,error:p.slider3}),r.jsx(Ka,{id:"slider4",label:"Slider 4",onImageChange:g,error:p.slider4})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-4",children:[r.jsxs(fe,{onClick:t,variant:"outline",className:"flex items-center gap-2",children:[r.jsx(st,{className:"h-5 w-5"})," Hủy"]}),r.jsxs(fe,{type:"submit",className:"bg-purple-400 text-white hover:bg-purple-300 flex items-center gap-2",children:[r.jsx(cr,{className:"h-5 w-5"})," Thêm"]})]})]})},uSe=({giaoDien:n,onSubmit:t,onCancel:e})=>{const[s,a]=k.useState(n.tenGiaoDien||""),[i,o]=k.useState(null),[c,l]=k.useState(null),[d,u]=k.useState(null),[f,h]=k.useState(null),[m,A]=k.useState(null),[g,p]=k.useState(null),[b,x]=k.useState({}),v=()=>{const S={};return s?s.length<=5&&(S.tenGiaoDien="Tên giao diện phải trên 5 ký tự"):S.tenGiaoDien="Vui lòng nhập tên giao diện",S},y=S=>{S.preventDefault();const M=v();if(Object.keys(M).length>0){x(M);return}const P=new FormData;P.append("MaGiaoDien",n.maGiaoDien.toString()),P.append("TenGiaoDien",s),P.append("TrangThai",n.trangThai.toString()),i&&P.append("Logo",i),c&&P.append("Avt",c),d&&P.append("Slider1",d),f&&P.append("Slider2",f),m&&P.append("Slider3",m),g&&P.append("Slider4",g),t(P)};return r.jsxs("form",{onSubmit:y,className:"space-y-4",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Chỉnh Sửa Giao Diện"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs(Oe,{htmlFor:"tenGiaoDien",className:"flex items-center gap-2",children:[r.jsx(so,{className:"h-4 w-4"})," Tên Giao Diện"]}),r.jsx(je,{id:"tenGiaoDien",value:s,onChange:S=>a(S.target.value),placeholder:"Nhập tên giao diện"}),b.tenGiaoDien&&r.jsx("p",{className:"text-red-500 text-sm",children:b.tenGiaoDien})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"flex flex-col space-y-4",children:[r.jsx(Ka,{id:"logo",label:"Logo",currentImage:n.logo,onImageChange:o,error:b.logo}),r.jsx(Ka,{id:"avt",label:"Avt",currentImage:n.avt,onImageChange:l,error:b.avt})]}),r.jsxs("div",{className:"flex flex-col space-y-4",children:[r.jsx(Ka,{id:"slider1",label:"Slider 1",currentImage:n.slider1,onImageChange:u,error:b.slider1}),r.jsx(Ka,{id:"slider2",label:"Slider 2",currentImage:n.slider2,onImageChange:h,error:b.slider2})]}),r.jsxs("div",{className:"flex flex-col space-y-4",children:[r.jsx(Ka,{id:"slider3",label:"Slider 3",currentImage:n.slider3,onImageChange:A,error:b.slider3}),r.jsx(Ka,{id:"slider4",label:"Slider 4",currentImage:n.slider4,onImageChange:p,error:b.slider4})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-4",children:[r.jsxs(fe,{onClick:e,variant:"outline",className:"flex items-center gap-2",children:[r.jsx(st,{className:"h-5 w-5"})," Hủy"]}),r.jsxs(fe,{type:"submit",className:"bg-purple-400 text-white hover:bg-purple-300 flex items-center gap-2",children:[r.jsx(Hm,{className:"h-5 w-5"})," Cập nhật"]})]})]})},hSe=({giaoDien:n,onConfirm:t,onCancel:e})=>r.jsxs("div",{className:"space-y-4 min-h-[150px]",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Xác nhận xóa Giao Diện"}),r.jsxs("p",{children:["Bạn có chắc chắn muốn xóa giao diện ",n.tenGiaoDien," không?"]}),r.jsxs("div",{className:"flex justify-end space-x-4 mt-4",children:[r.jsxs(fe,{onClick:e,variant:"outline",className:"flex items-center gap-2",children:[r.jsx(st,{className:"h-5 w-5"})," Hủy"]}),r.jsxs(fe,{onClick:t,className:"bg-purple-400 text-white hover:bg-purple-300 flex items-center gap-2",children:[r.jsx(mi,{className:"h-5 w-5"})," Xóa"]})]})]}),fSe=({giaoDien:n,onConfirm:t,onCancel:e})=>r.jsxs("div",{className:"space-y-4 min-h-[150px]",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Xác nhận khôi phục Giao Diện"}),r.jsxs("p",{children:["Bạn có chắc chắn muốn khôi phục giao diện ",n.tenGiaoDien," không?"]}),r.jsxs("div",{className:"flex justify-end space-x-4 mt-4",children:[r.jsxs(fe,{onClick:e,variant:"outline",className:"flex items-center gap-2",children:[r.jsx(st,{className:"h-5 w-5"})," Hủy"]}),r.jsxs(fe,{onClick:t,className:"bg-purple-400 text-white hover:bg-purple-300 flex items-center gap-2",children:[r.jsx($o,{className:"h-5 w-5"})," Khôi phục"]})]})]}),mSe=({giaoDien:n,onConfirm:t,onCancel:e})=>r.jsxs("div",{className:"space-y-4 min-h-[150px]",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Xác nhận xóa vĩnh viễn Giao Diện"}),r.jsxs("p",{children:["Bạn có chắc chắn muốn xóa vĩnh viễn giao diện ",n.tenGiaoDien," không?"]}),r.jsxs("div",{className:"flex justify-end space-x-4 mt-4",children:[r.jsxs(fe,{onClick:e,variant:"outline",className:"flex items-center gap-2",children:[r.jsx(st,{className:"h-5 w-5"})," Hủy"]}),r.jsxs(fe,{onClick:t,className:"bg-purple-400 text-white hover:bg-purple-300 flex items-center gap-2",children:[r.jsx(mi,{className:"h-5 w-5"})," Xóa"]})]})]}),pSe=({giaoDien:n,onClose:t})=>r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Chi Tiết Giao Diện"}),r.jsxs("p",{children:[r.jsx("strong",{children:"Tên Giao Diện:"})," ",n.tenGiaoDien]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Logo"}),r.jsx("img",{src:`data:image/png;base64,${n.logo}`,alt:"Logo",className:"w-32 h-32 object-cover rounded-md"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Avt"}),r.jsx("img",{src:`data:image/png;base64,${n.avt}`,alt:"Avatar",className:"w-32 h-32 rounded-full"})]})]}),r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Slider 1"}),r.jsx("img",{src:`data:image/png;base64,${n.slider1}`,alt:"Slider1",className:"w-32 h-32 object-cover rounded-md"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Slider 2"}),r.jsx("img",{src:`data:image/png;base64,${n.slider2}`,alt:"Slider2",className:"w-32 h-32 object-cover rounded-md"})]})]}),r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Slider 3"}),r.jsx("img",{src:`data:image/png;base64,${n.slider3}`,alt:"Slider3",className:"w-32 h-32 object-cover rounded-md"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Slider 4"}),r.jsx("img",{src:`data:image/png;base64,${n.slider4}`,alt:"Slider4",className:"w-32 h-32 object-cover rounded-md"})]})]})]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Trạng thái:"})," ",n.trangThai===1?"Hoạt động":n.trangThai===0?"Không hoạt động":"Ẩn"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Ngày tạo:"})," ",new Date(n.ngayTao).toLocaleDateString()]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(fe,{onClick:t,variant:"outline",className:"flex items-center gap-2",children:[r.jsx(st,{className:"h-5 w-5"})," Đóng"]})})]}),Wd=n=>n.normalize("NFD").replace(/[\u0300-\u036f]/g,"");function ASe(){const{theme:n,setTheme:t}=U6(),[e,s]=k.useState(100),[a,i]=k.useState("default"),[o,c]=k.useState([]),[l,d]=k.useState(!0),[u,f]=k.useState(null),[h,m]=k.useState(!1),[A,g]=k.useState(null),[p,b]=k.useState(null),[x,v]=k.useState(""),[y,S]=k.useState(1),M=4,[P,B]=k.useState(""),[D,L]=k.useState(""),[O,F]=k.useState(!1),[_,E]=k.useState(""),[T,w]=k.useState("");k.useEffect(()=>(document.documentElement.style.filter=`brightness(${e}%)`,()=>{document.documentElement.style.filter=""}),[e]),k.useEffect(()=>{document.documentElement.classList.remove("color-scheme-warm","color-scheme-cool"),a==="warm"?document.documentElement.classList.add("color-scheme-warm"):a==="cool"&&document.documentElement.classList.add("color-scheme-cool")},[a]);const C=async()=>{try{const he=await fetch(`${kc}/api/GiaoDien`);if(!he.ok){const ie=await he.text();throw new Error(`Không thể tải dữ liệu: ${ie}`)}const Ae=(await he.json()).sort((ie,de)=>new Date(de.ngayTao).getTime()-new Date(ie.ngayTao).getTime());c(Ae),d(!1)}catch(he){const pe=he instanceof Error?he.message:"Lỗi khi tải danh sách giao diện.";f(pe),d(!1)}};k.useEffect(()=>{C()},[]);const j=async he=>{try{const pe=await fetch(`${kc}/api/GiaoDien`,{method:"POST",body:he});if(!pe.ok){const Ae=await pe.text();throw new Error(`Lỗi khi tạo giao diện: ${Ae}`)}m(!1),g(null),C(),Ce.fire({title:"Thành công!",text:"Tạo giao diện thành công",icon:"success",timer:3e3,showConfirmButton:!1,timerProgressBar:!0,showCloseButton:!0}),S(1)}catch(pe){const Ae=pe instanceof Error?pe.message:"Lỗi khi tạo giao diện.";f(Ae),Ce.fire({title:"Lỗi!",text:Ae,icon:"error",timer:3e3,showConfirmButton:!1,timerProgressBar:!0,showCloseButton:!0})}},N=async he=>{if(p)try{const pe=await fetch(`${kc}/api/GiaoDien/${p.maGiaoDien}`,{method:"PUT",body:he});if(!pe.ok){const Ae=await pe.text();throw new Error(`Lỗi khi cập nhật: ${Ae}`)}m(!1),g(null),b(null),C(),Ce.fire({title:"Thành công!",text:"Cập nhật giao diện thành công",icon:"success",timer:3e3,showConfirmButton:!1,timerProgressBar:!0,showCloseButton:!0})}catch(pe){const Ae=pe instanceof Error?pe.message:"Lỗi khi cập nhật giao diện.";f(Ae),Ce.fire({title:"Lỗi!",text:Ae,icon:"error",timer:3e3,showConfirmButton:!1,timerProgressBar:!0,showCloseButton:!0})}},I=async()=>{if(p){if(p.trangThai===1){m(!1),g(null),b(null),Ce.fire({title:"Lỗi!",text:"Không thể xóa giao diện đang ở trạng thái hoạt động. Vui lòng chọn giao diện khác để kích hoạt trước khi xóa giao diện này.",icon:"error",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}try{const he=new FormData;he.append("MaGiaoDien",p.maGiaoDien.toString()),he.append("TenGiaoDien",p.tenGiaoDien),he.append("TrangThai","2");const pe=await fetch(`${kc}/api/GiaoDien/${p.maGiaoDien}`,{method:"PUT",body:he});if(!pe.ok){const de=await pe.text();throw new Error(`Lỗi khi xóa giao diện: ${de}`)}m(!1),g(null),b(null),C(),Ce.fire({title:"Thành công!",text:"xóa giao diện thành công",icon:"success",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});const Ae=o.filter(de=>de.trangThai!==2).length-1,ie=Math.ceil(Ae/M);y>ie&&S(ie||1)}catch(he){const pe=he instanceof Error?he.message:"Lỗi khi xóa giao diện.";f(pe),Ce.fire({title:"Lỗi!",text:pe,icon:"error",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}}},R=async()=>{if(p)try{const he=new FormData;he.append("MaGiaoDien",p.maGiaoDien.toString()),he.append("TenGiaoDien",p.tenGiaoDien),he.append("TrangThai","0");const pe=await fetch(`${kc}/api/GiaoDien/${p.maGiaoDien}`,{method:"PUT",body:he});if(!pe.ok){const de=await pe.text();throw new Error(`Lỗi khi khôi phục giao diện: ${de}`)}m(!1),g(null),b(null),C(),Ce.fire({title:"Thành công!",text:"Khôi phục giao diện thành công",icon:"success",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});const Ae=o.filter(de=>de.trangThai===2).length-1,ie=Math.ceil(Ae/M);y>ie&&S(ie||1)}catch(he){const pe=he instanceof Error?he.message:"Lỗi khi khôi phục giao diện.";f(pe),Ce.fire({title:"Lỗi!",text:pe,icon:"error",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}},U=async()=>{if(p)try{const he=await fetch(`${kc}/api/GiaoDien/${p.maGiaoDien}`,{method:"DELETE"});if(!he.ok){const ie=await he.text();throw new Error(`Lỗi khi xóa vĩnh viễn: ${ie}`)}m(!1),g(null),b(null),C(),Ce.fire({title:"Thành công!",text:"Xóa giao diện vĩnh viễn thành công",icon:"success",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});const pe=o.filter(ie=>ie.trangThai===2).length-1,Ae=Math.ceil(pe/M);y>Ae&&S(Ae||1)}catch(he){const pe=he instanceof Error?he.message:"Lỗi khi xóa vĩnh viễn giao diện.";f(pe),Ce.fire({title:"Lỗi!",text:pe,icon:"error",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}},V=async he=>{try{const pe=await fetch(`${kc}/api/GiaoDien/SetActive/${he}`,{method:"PUT"});if(!pe.ok){const Ae=await pe.text();throw new Error(`Lỗi khi cập nhật trạng thái: ${Ae}`)}m(!1),g(null),b(null),C(),Ce.fire({title:"Thành công!",text:"Cập nhật trạng thái thành công",icon:"success",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(pe){const Ae=pe instanceof Error?pe.message:"Lỗi khi cập nhật trạng thái.";f(Ae),Ce.fire({title:"Lỗi!",text:Ae,icon:"error",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}},z=he=>{b(he),v(`Bạn có muốn chuyển sang giao diện ${he.tenGiaoDien} không?`),g("confirm"),m(!0)},X=()=>{p&&V(p.maGiaoDien)},Q=()=>{g("create"),m(!0)},q=he=>{b(he),g("edit"),m(!0)},H=he=>{b(he),g("hide"),m(!0)},$=he=>{b(he),g("restore"),m(!0)},G=he=>{b(he),g("delete"),m(!0)},J=he=>{b(he),g("detail"),m(!0)},te=o.filter(he=>{const pe=Wd(P.toLowerCase()),Ae=Wd(he.tenGiaoDien.toLowerCase()),ie=Wd(new Date(he.ngayTao).toLocaleDateString().toLowerCase()),de=Ae.includes(pe)||he.maGiaoDien.toString().includes(pe)||ie.includes(pe),me=D===""||he.trangThai.toString()===D,ve=new Date(he.ngayTao).getTime(),Me=_?new Date(_).getTime():-1/0,Be=T?new Date(T).getTime():1/0,xe=ve>=Me&&ve<=Be;return de&&me&&xe&&(he.trangThai===0||he.trangThai===1)}),K=o.filter(he=>{const pe=Wd(P.toLowerCase()),Ae=Wd(he.tenGiaoDien.toLowerCase()),ie=Wd(new Date(he.ngayTao).toLocaleDateString().toLowerCase()),de=Ae.includes(pe)||he.maGiaoDien.toString().includes(pe)||ie.includes(pe),me=D===""||he.trangThai.toString()===D,ve=new Date(he.ngayTao).getTime(),Me=_?new Date(_).getTime():-1/0,Be=T?new Date(T).getTime():1/0,xe=ve>=Me&&ve<=Be;return de&&me&&xe&&he.trangThai===2}),ne=te.length,ce=K.length,oe=Math.ceil(ne/M),ee=Math.ceil(ce/M),W=(y-1)*M,Y=W+M,Z=te.slice(W,Y),se=K.slice(W,Y),re=(he,pe)=>{he>=1&&he<=(pe?ee:oe)&&S(he)},le=()=>{F(!O)},ae=he=>{E(he.target.value)},ue=he=>{w(he.target.value)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[r.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Quản Lý Cài đặt"}),r.jsxs(fe,{className:"bg-purple-400 hover:bg-purple-500 text-white",onClick:Q,children:[r.jsx(cr,{className:"mr-2 h-4 w-4"})," Thêm Giao diện"]})]}),r.jsxs(Na,{defaultValue:"general",className:"w-full",children:[r.jsxs(sa,{className:"grid w-full md:w-auto grid-cols-2 md:grid-cols-2 gap-1",children:[r.jsxs(kn,{value:"general",className:"flex items-center gap-2",children:[r.jsx(so,{className:"h-4 w-4"})," Giao diện"]}),r.jsxs(kn,{value:"restore",className:"flex items-center gap-2",children:[r.jsx($o,{className:"h-4 w-4"})," Khôi phục"]})]}),r.jsx(Fn,{value:"appearance",className:"space-y-4 mt-4",children:r.jsxs(at,{children:[r.jsx(yt,{children:r.jsx(Ct,{children:"Màu sắc"})}),r.jsxs(dt,{className:"space-y-6",children:[r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx(Oe,{htmlFor:"theme",children:"Chế độ giao diện"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(fe,{variant:n==="light"?"default":"outline",size:"sm",onClick:()=>t("light"),className:"flex items-center gap-1",children:[r.jsx(C6,{className:"h-4 w-4"})," Sáng"]}),r.jsxs(fe,{variant:n==="dark"?"default":"outline",size:"sm",onClick:()=>t("dark"),className:"flex items-center gap-1",children:[r.jsx(j6,{className:"h-4 w-4"})," Tối"]})]})]})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"flex justify-between",children:r.jsxs(Oe,{htmlFor:"brightness",children:["Độ sáng (",e,"%)"]})}),r.jsx(Xx,{id:"brightness",min:50,max:150,step:5,defaultValue:[100],onValueChange:he=>s(he[0]),className:"w-full"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{children:"Bảng màu"}),r.jsxs("div",{className:"flex flex-col space-y-2 pt-1",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("input",{type:"radio",value:"default",id:"default",checked:a==="default",onChange:()=>i("default")}),r.jsxs(Oe,{htmlFor:"default",className:"flex items-center",children:[r.jsx("span",{className:"w-6 h-6 rounded-full bg-crocus-500 mr-2"}),"Mặc định"]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("input",{type:"radio",value:"warm",id:"warm",checked:a==="warm",onChange:()=>i("warm")}),r.jsxs(Oe,{htmlFor:"warm",className:"flex items-center",children:[r.jsx("span",{className:"w-6 h-6 rounded-full bg-amber-500 mr-2"}),"Ấm"]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("input",{type:"radio",value:"cool",id:"cool",checked:a==="cool",onChange:()=>i("cool")}),r.jsxs(Oe,{htmlFor:"cool",className:"flex items-center",children:[r.jsx("span",{className:"w-6 h-6 rounded-full bg-cyan-500 mr-2"}),"Mát"]})]})]})]})]})]})}),r.jsx(Fn,{value:"general",className:"space-y-4 mt-4",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between space-x-4 rounded-lg",children:[r.jsx("div",{className:"flex-1 relative",children:r.jsxs("div",{className:"relative",children:[r.jsx(Rn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx(je,{id:"searchTerm",value:P,onChange:he=>B(he.target.value),placeholder:"Tìm kiếm giao diện...",className:"w-full pl-10 pr-10"}),r.jsx(fe,{variant:"ghost",className:"absolute right-0 top-1/2 transform -translate-y-1/2 h-5 w-10 p-0",onClick:le,children:r.jsx($r,{className:"h-5 w-5 text-gray-400"})})]})}),r.jsx("div",{className:"ml-auto",children:r.jsxs("select",{id:"searchTrangThai",value:D,onChange:he=>L(he.target.value),className:"w-full p-2 border rounded-md",children:[r.jsx("option",{value:"",children:"Tất cả trạng thái"}),r.jsx("option",{value:"1",children:"Hoạt động"}),r.jsx("option",{value:"0",children:"Không hoạt động"})]})})]}),O&&r.jsx("div",{className:"p-4 bg-gray-50 rounded-lg shadow-md",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs(Oe,{htmlFor:"startDate",className:"flex items-center gap-2",children:[r.jsx($r,{className:"h-4 w-4"})," Từ ngày"]}),r.jsx(je,{id:"startDate",type:"date",value:_,onChange:ae,className:"w-full mt-2"})]}),r.jsxs("div",{children:[r.jsxs(Oe,{htmlFor:"endDate",className:"flex items-center gap-2",children:[r.jsx($r,{className:"h-4 w-4"})," Đến ngày"]}),r.jsx(je,{id:"endDate",type:"date",value:T,onChange:ue,className:"w-full mt-2"})]})]})})]}),l?r.jsx(Fg,{className:"h-64 w-full"}):r.jsxs(r.Fragment,{children:[u&&r.jsxs(a2,{variant:"destructive",children:[r.jsx(i2,{children:"Lỗi"}),r.jsx(o2,{children:u})]}),te.length===0?r.jsx("p",{className:"text-center text-gray-500",children:"Không có giao diện nào để hiển thị."}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Z.map(he=>r.jsxs(at,{className:he.trangThai===1?"border-2 border-purple-500 relative":"relative",children:[r.jsxs(dt,{className:"pt-6",children:[r.jsxs("p",{className:"text-lg font-semibold mb-4",children:["Tên Giao Diện: ",he.tenGiaoDien]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Logo"}),r.jsx("img",{src:`data:image/png;base64,${he.logo}`,alt:"Logo",className:"w-32 h-32 object-cover rounded-md"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Avt"}),r.jsx("img",{src:`data:image/png;base64,${he.avt}`,alt:"Avatar",className:"w-32 h-32 rounded-full"})]})]}),r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Slider 1"}),r.jsx("img",{src:`data:image/png;base64,${he.slider1}`,alt:"Slider1",className:"w-32 h-32 object-cover rounded-md"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Slider 2"}),r.jsx("img",{src:`data:image/png;base64,${he.slider2}`,alt:"Slider2",className:"w-32 h-32 object-cover rounded-md"})]})]}),r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Slider 3"}),r.jsx("img",{src:`data:image/png;base64,${he.slider3}`,alt:"Slider3",className:"w-32 h-32 object-cover rounded-md"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Slider 4"}),r.jsx("img",{src:`data:image/png;base64,${he.slider4}`,alt:"Slider4",className:"w-32 h-32 object-cover rounded-md"})]})]})]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-4 px-6 pb-6",children:[r.jsx("div",{className:"flex items-center",children:r.jsx("input",{type:"checkbox",checked:he.trangThai===1,onChange:()=>z(he),className:"w-8 h-8 text-purple-400 border-2 border-gray-300 rounded focus:ring-purple-500"})}),r.jsxs(Ar,{children:[r.jsx(gr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",className:"text-2xl",children:r.jsxs("div",{className:"flex flex-col space-y-1",children:[r.jsx("span",{className:"w-1 h-1 bg-black rounded-full"}),r.jsx("span",{className:"w-1 h-1 bg-black rounded-full"}),r.jsx("span",{className:"w-1 h-1 bg-black rounded-full"})]})})}),r.jsxs(hr,{className:"bottom-0 mb-2",children:[r.jsxs(ct,{onClick:()=>J(he),className:"text-green-700",children:[r.jsx(pr,{className:"mr-2 h-4 w-4"}),"Xem"]}),r.jsxs(ct,{onClick:()=>q(he),className:"text-blue-700",children:[r.jsx(Xf,{className:"mr-2 h-4 w-4"}),"Sửa"]}),r.jsxs(ct,{onClick:()=>H(he),className:"text-red-700",children:[r.jsx(mi,{className:"mr-2 h-4 w-4"}),"Xóa"]})]})]})]})]},he.maGiaoDien))}),oe>1&&r.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[r.jsxs(fe,{onClick:()=>re(y-1,!1),disabled:y===1,variant:"outline",className:"flex items-center",children:[r.jsx(zr,{className:"h-4 w-4 mr-2"}),"Trước"]}),Array.from({length:oe},(he,pe)=>pe+1).map(he=>r.jsx(fe,{onClick:()=>re(he,!1),variant:y===he?"default":"outline",className:y===he?"bg-purple-400 text-white hover:bg-purple-300":"",children:he},he)),r.jsxs(fe,{onClick:()=>re(y+1,!1),disabled:y===oe,variant:"outline",className:"flex items-center",children:["Sau",r.jsx(xr,{className:"h-4 w-4 ml-2"})]})]})]})]})]})}),r.jsx(Fn,{value:"restore",className:"space-y-4 mt-4",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between space-x-4 rounded-lg",children:[r.jsx("div",{className:"flex-1 relative",children:r.jsxs("div",{className:"relative",children:[r.jsx(Rn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx(je,{id:"searchTerm",value:P,onChange:he=>B(he.target.value),placeholder:"Tìm kiếm giao diện...",className:"w-full pl-10 pr-10"}),r.jsx(fe,{variant:"ghost",className:"absolute right-0 top-1/2 transform -translate-y-1/2 h-5 w-10 p-0",onClick:le,children:r.jsx($r,{className:"h-5 w-5 text-gray-400"})})]})}),r.jsx("div",{className:"ml-auto",children:r.jsx("select",{id:"searchTrangThai",value:D,onChange:he=>L(he.target.value),className:"w-full p-2 border rounded-md",children:r.jsx("option",{value:"",children:"Tất cả trạng thái"})})})]}),O&&r.jsx("div",{className:"p-4 bg-gray-50 rounded-lg shadow-md",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs(Oe,{htmlFor:"startDate",className:"flex items-center gap-2",children:[r.jsx($r,{className:"h-4 w-4"})," Từ ngày"]}),r.jsx(je,{id:"startDate",type:"date",value:_,onChange:ae,className:"w-full mt-2"})]}),r.jsxs("div",{children:[r.jsxs(Oe,{htmlFor:"endDate",className:"flex items-center gap-2",children:[r.jsx($r,{className:"h-4 w-4"})," Đến ngày"]}),r.jsx(je,{id:"endDate",type:"date",value:T,onChange:ue,className:"w-full mt-2"})]})]})})]}),l?r.jsx(Fg,{className:"h-64 w-full"}):r.jsxs(r.Fragment,{children:[u&&r.jsxs(a2,{variant:"destructive",children:[r.jsx(i2,{children:"Lỗi"}),r.jsx(o2,{children:u})]}),K.length===0?r.jsx("p",{className:"text-center text-gray-500",children:"Không có giao diện nào để hiển thị."}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:se.map(he=>r.jsxs(at,{className:"relative",children:[r.jsxs(dt,{className:"pt-6",children:[r.jsxs("p",{className:"text-lg font-semibold mb-4",children:["Tên Giao Diện: ",he.tenGiaoDien]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Logo"}),r.jsx("img",{src:`data:image/png;base64,${he.logo}`,alt:"Logo",className:"w-32 h-32 object-cover rounded-md"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Avt"}),r.jsx("img",{src:`data:image/png;base64,${he.avt}`,alt:"Avatar",className:"w-32 h-32 rounded-full"})]})]}),r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Slider 1"}),r.jsx("img",{src:`data:image/png;base64,${he.slider1}`,alt:"Slider1",className:"w-32 h-32 object-cover rounded-md"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Slider 2"}),r.jsx("img",{src:`data:image/png;base64,${he.slider2}`,alt:"Slider2",className:"w-32 h-32 object-cover rounded-md"})]})]}),r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Slider 3"}),r.jsx("img",{src:`data:image/png;base64,${he.slider3}`,alt:"Slider3",className:"w-32 h-32 object-cover rounded-md"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Slider 4"}),r.jsx("img",{src:`data:image/png;base64,${he.slider4}`,alt:"Slider4",className:"w-32 h-32 object-cover rounded-md"})]})]})]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-4 px-6 pb-6",children:[r.jsx("div",{className:"flex items-center"}),r.jsxs(Ar,{children:[r.jsx(gr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",className:"text-2xl",children:r.jsxs("div",{className:"flex flex-col space-y-1",children:[r.jsx("span",{className:"w-1 h-1 bg-black rounded-full"}),r.jsx("span",{className:"w-1 h-1 bg-black rounded-full"}),r.jsx("span",{className:"w-1 h-1 bg-black rounded-full"})]})})}),r.jsxs(hr,{className:"bottom-0 mb-2",children:[r.jsxs(ct,{onClick:()=>J(he),className:"text-green-700",children:[r.jsx(pr,{className:"mr-2 h-4 w-4"}),"Chi tiết"]}),r.jsxs(ct,{onClick:()=>$(he),className:"text-blue-700",children:[r.jsx($o,{className:"mr-2 h-4 w-4"}),"Khôi phục"]}),r.jsxs(ct,{onClick:()=>G(he),className:"text-red-700",children:[r.jsx(mi,{className:"mr-2 h-4 w-4"}),"Xóa vĩnh viễn"]})]})]})]})]},he.maGiaoDien))}),ee>1&&r.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[r.jsxs(fe,{onClick:()=>re(y-1,!0),disabled:y===1,variant:"outline",className:"flex items-center",children:[r.jsx(zr,{className:"h-4 w-4 mr-2"}),"Trước"]}),Array.from({length:ee},(he,pe)=>pe+1).map(he=>r.jsx(fe,{onClick:()=>re(he,!0),variant:y===he?"default":"outline",className:y===he?"bg-purple-400 text-white hover:bg-purple-300":"",children:he},he)),r.jsxs(fe,{onClick:()=>re(y+1,!0),disabled:y===ee,variant:"outline",className:"flex items-center",children:["Sau",r.jsx(xr,{className:"h-4 w-4 ml-2"})]})]})]})]})]})})]}),r.jsxs(lSe,{isOpen:h&&A!=="confirm",onClose:()=>{m(!1),g(null),b(null)},children:[A==="create"&&r.jsx(dSe,{onSubmit:j,onCancel:()=>{m(!1),g(null)}}),A==="edit"&&p&&r.jsx(uSe,{giaoDien:p,onSubmit:N,onCancel:()=>{m(!1),g(null),b(null)}}),A==="hide"&&p&&r.jsx(hSe,{giaoDien:p,onConfirm:I,onCancel:()=>{m(!1),g(null),b(null)}}),A==="restore"&&p&&r.jsx(fSe,{giaoDien:p,onConfirm:R,onCancel:()=>{m(!1),g(null),b(null)}}),A==="delete"&&p&&r.jsx(mSe,{giaoDien:p,onConfirm:U,onCancel:()=>{m(!1),g(null),b(null)}}),A==="detail"&&p&&r.jsx(pSe,{giaoDien:p,onClose:()=>{m(!1),g(null),b(null)}})]}),A==="confirm"&&r.jsx(cSe,{isOpen:h,onClose:()=>{m(!1),g(null),b(null)},onConfirm:X,message:x})]})}function gSe(){return r.jsx("div",{className:"container mx-auto py-6",children:r.jsx(ASe,{})})}const jy=n=>{const t=new Date(n);return new Date(t.getTime()-t.getTimezoneOffset()*6e4).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"})},ak=n=>n.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/đ/g,"d").replace(/Đ/g,"D"),ik=()=>{const[n,t]=k.useState(""),[e,s]=k.useState("all"),[a,i]=k.useState(""),[o,c]=k.useState(""),[l,d]=k.useState([]),[u,f]=k.useState(!0),[h,m]=k.useState(!1),[A,g]=k.useState(null),[p,b]=k.useState(!1),[x,v]=k.useState(null),[y,S]=k.useState(!1),[M,P]=k.useState(!1),[B,D]=k.useState({tenVoucher:"",giaTri:"",moTa:"",ngayBatDau:"",ngayKetThuc:"",dieuKien:"",giaTriToiDa:"",loaiVoucher:"0",hinhAnh:"",trangThai:0}),[L,O]=k.useState(null),[F,_]=k.useState(!1),[E,T]=k.useState(!1),[w,C]=k.useState(1),j=8,N=async()=>{try{f(!0);const be=localStorage.getItem("token"),Ee=await fetch("https://bicacuatho.azurewebsites.net/api/Voucher",{method:"GET",headers:{"Content-Type":"application/json",Authorization:be?`Bearer ${be}`:void 0}});if(!Ee.ok)throw new Error("Không thể lấy dữ liệu voucher");const Se=(await Ee.json()).map(Ie=>({...Ie,giaTri:Ie.giaTri??(Ie.loaiVoucher===2,0),ngayBatDau:new Date(new Date(Ie.ngayBatDau).getTime()-new Date(Ie.ngayBatDau).getTimezoneOffset()*6e4).toISOString().split("T")[0],ngayKetThuc:new Date(new Date(Ie.ngayKetThuc).getTime()-new Date(Ie.ngayKetThuc).getTimezoneOffset()*6e4).toISOString().split("T")[0]}));d(Se)}catch(be){console.error("Lỗi khi lấy danh sách voucher:",be),Wt.error("Có lỗi xảy ra khi tải danh sách voucher.")}finally{f(!1)}},I=be=>{be.preventDefault(),t(""),s("all"),i(""),c(""),C(1),N()},R=async()=>{if(A)try{const be=localStorage.getItem("token"),Ee=await fetch(`https://bicacuatho.azurewebsites.net/api/Voucher/${A.maVoucher}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:be?`Bearer ${be}`:void 0}});if(Ee.status===204)d(l.filter(ge=>ge.maVoucher!==A.maVoucher)),m(!1),g(null),Wt.success("Xóa voucher thành công!");else throw Ee.status===404?new Error("Voucher không tồn tại"):new Error("Không thể xóa voucher")}catch(be){console.error("Lỗi khi xóa voucher:",be),Wt.error(be.message||"Có lỗi xảy ra khi xóa voucher.")}},U=async()=>{const be=new Date().toISOString().split("T")[0];if(B.ngayBatDau<be){Wt.error("Ngày bắt đầu không được trước ngày hôm nay!");return}if(B.ngayKetThuc<B.ngayBatDau){Wt.error("Ngày kết thúc không được trước ngày bắt đầu!");return}if(B.loaiVoucher!=="2"&&parseFloat(B.giaTriToiDa)<=parseFloat(B.dieuKien)){Wt.error("Giá trị tối đa phải lớn hơn điều kiện!");return}if(!B.tenVoucher||!B.ngayBatDau||!B.ngayKetThuc||!B.dieuKien||B.loaiVoucher!=="2"&&!B.giaTriToiDa||B.loaiVoucher===void 0||B.loaiVoucher!=="2"&&!B.giaTri){Wt.error("Vui lòng điền đầy đủ các trường bắt buộc!");return}try{const Ee=localStorage.getItem("token"),ge=await fetch("https://bicacuatho.azurewebsites.net/api/Voucher",{method:"POST",headers:{"Content-Type":"application/json",Authorization:Ee?`Bearer ${Ee}`:void 0},body:JSON.stringify({tenVoucher:B.tenVoucher,giaTri:B.loaiVoucher==="2"?0:parseInt(B.giaTri,10),moTa:B.moTa||null,ngayBatDau:B.ngayBatDau,ngayKetThuc:B.ngayKetThuc,dieuKien:parseFloat(B.dieuKien),giaTriToiDa:B.loaiVoucher==="2"?0:parseFloat(B.giaTriToiDa),loaiVoucher:parseInt(B.loaiVoucher,10),hinhAnh:B.hinhAnh||null,trangThai:B.trangThai})});if(!ge.ok){const Se=await ge.json();throw new Error(Se.message||"Không thể thêm voucher")}await N(),S(!1),D({tenVoucher:"",giaTri:"",moTa:"",ngayBatDau:"",ngayKetThuc:"",dieuKien:"",giaTriToiDa:"",loaiVoucher:"0",hinhAnh:"",trangThai:0}),Wt.success("Thêm voucher thành công!")}catch(Ee){console.error("Lỗi khi thêm voucher:",Ee),Wt.error(Ee.message||"Có lỗi xảy ra khi thêm voucher.")}},V=async()=>{if(!L){Wt.error("Không có voucher để sửa!");return}if(L.ngayKetThuc<L.ngayBatDau){Wt.error("Ngày kết thúc không được trước ngày bắt đầu!");return}if(L.loaiVoucher!==2&&L.giaTriToiDa<=L.dieuKien){Wt.error("Giá trị tối đa phải lớn hơn điều kiện!");return}if(!L.tenVoucher||!L.ngayBatDau||!L.ngayKetThuc||!L.dieuKien||L.loaiVoucher!==2&&(!L.giaTri||!L.giaTriToiDa)||L.loaiVoucher===void 0){Wt.error("Vui lòng điền đầy đủ các trường bắt buộc!");return}const be={maVoucher:L.maVoucher,tenVoucher:L.tenVoucher,giaTri:L.loaiVoucher===2?0:L.giaTri??0,moTa:L.moTa||null,ngayBatDau:L.ngayBatDau,ngayKetThuc:L.ngayKetThuc,dieuKien:L.dieuKien,giaTriToiDa:L.loaiVoucher===2?0:L.giaTriToiDa??0,loaiVoucher:L.loaiVoucher,trangThai:L.trangThai,hinhAnh:L.hinhAnh||null};try{console.log("Sending payload to update voucher:",JSON.stringify(be,null,2));const Ee=localStorage.getItem("token"),ge=await fetch("https://bicacuatho.azurewebsites.net/api/Voucher",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:Ee?`Bearer ${Ee}`:void 0},body:JSON.stringify(be)});if(!ge.ok){let Se="Không thể sửa voucher";try{Se=(await ge.json()).message||Se}catch{const ze=await ge.text();console.error("Non-JSON response from server:",ze),Se=ze||"Lỗi server không xác định"}throw new Error(Se)}await N(),P(!1),O(null),Wt.success("Sửa voucher thành công!")}catch(Ee){console.error("Lỗi khi sửa voucher:",Ee),Wt.error(Ee.message||"Có lỗi xảy ra khi sửa voucher.")}};k.useEffect(()=>{N()},[]);const z=l.filter(be=>{var Le;const Ee=ak(n.toLowerCase()),Se=ak(((Le=be.tenVoucher)==null?void 0:Le.toLowerCase())||"").includes(Ee)||be.maVoucher.toString().includes(n.toLowerCase()),Ie=e==="all"||e==="0"&&be.trangThai===0||e==="1"&&be.trangThai===1,ze=(!a||new Date(be.ngayBatDau)>=new Date(a))&&(!o||new Date(be.ngayKetThuc)<=new Date(o));return Se&&Ie&&ze}),X=w*j,Q=X-j,q=z.slice(Q,X),H=Math.ceil(z.length/j),$=be=>{g(be),m(!0)},G=be=>{v(be),b(!0)},J=be=>{O({...be,ngayBatDau:new Date(be.ngayBatDau).toISOString().split("T")[0],ngayKetThuc:new Date(be.ngayKetThuc).toISOString().split("T")[0]}),P(!0)},te=be=>{D({...B,tenVoucher:be.target.value})},K=be=>{const Ee=be.target.value;if(B.loaiVoucher==="0")if(Ee==="")D({...B,giaTri:Ee});else{const ge=parseInt(Ee,10);ge>=1&&ge<=99?D({...B,giaTri:Ee}):Wt.error("Giá trị phần trăm phải từ 1 đến 99!")}else D({...B,giaTri:Ee})},ne=be=>{D({...B,moTa:be.target.value})},ce=be=>{D({...B,ngayBatDau:be.target.value})},oe=be=>{D({...B,ngayKetThuc:be.target.value})},ee=be=>{D({...B,dieuKien:be.target.value})},W=be=>{D({...B,giaTriToiDa:be.target.value})},Y=be=>{L&&O({...L,tenVoucher:be.target.value})},Z=be=>{if(L){const Ee=be.target.value;if(L.loaiVoucher===0)if(Ee==="")O({...L,giaTri:null});else{const ge=parseInt(Ee,10);ge>=1&&ge<=99?O({...L,giaTri:ge}):Wt.error("Giá trị phần trăm phải từ 1 đến 99!")}else O({...L,giaTri:Ee===""?null:parseInt(Ee,10)})}},se=be=>{L&&O({...L,moTa:be.target.value||null})},re=be=>{L&&O({...L,ngayBatDau:be.target.value})},le=be=>{L&&O({...L,ngayKetThuc:be.target.value})},ae=be=>{L&&O({...L,dieuKien:parseFloat(be.target.value)||0})},ue=be=>{L&&O({...L,giaTriToiDa:parseFloat(be.target.value)||0})},he=be=>{be.preventDefault(),_(!0)},pe=be=>{be.preventDefault(),_(!1)},Ae=be=>{be.preventDefault(),_(!1);const Ee=be.dataTransfer.files[0];setTimeout(()=>{Ee&&Ee.type.startsWith("image/")?ie(Ee):Wt.error("Vui lòng chọn một tệp hình ảnh!")},0)},ie=be=>{const Ee=new FileReader;Ee.onloadend=()=>{if(typeof Ee.result=="string"){const ge=Ee.result.split(",")[1];D({...B,hinhAnh:ge})}},Ee.readAsDataURL(be)},de=be=>{var ge;const Ee=(ge=be.target.files)==null?void 0:ge[0];Ee&&Ee.type.startsWith("image/")?ie(Ee):Wt.error("Vui lòng chọn một tệp hình ảnh!")},me=be=>{be.preventDefault(),T(!0)},ve=be=>{be.preventDefault(),T(!1)},Me=be=>{be.preventDefault(),T(!1);const Ee=be.dataTransfer.files[0];setTimeout(()=>{Ee&&Ee.type.startsWith("image/")?Be(Ee):Wt.error("Vui lòng chọn một tệp hình ảnh!")},0)},Be=be=>{const Ee=new FileReader;Ee.onloadend=()=>{if(typeof Ee.result=="string"){const ge=Ee.result.split(",")[1];O({...L,hinhAnh:ge})}},Ee.readAsDataURL(be)},xe=be=>{var ge;const Ee=(ge=be.target.files)==null?void 0:ge[0];Ee&&Ee.type.startsWith("image/")?Be(Ee):Wt.error("Vui lòng chọn một tệp hình ảnh!")},Te=()=>{const be=[],ge=Math.floor(2.5);let Se=Math.max(1,w-ge),Ie=Math.min(H,w+ge);Ie-Se+1<5&&(Se===1?Ie=Math.min(H,Se+5-1):Se=Math.max(1,Ie-5+1));for(let ze=Se;ze<=Ie;ze++)be.push(ze);return be},_e=be=>{switch(be){case 0:return"Giảm giá theo phần trăm";case 1:return"Giảm giá theo số tiền";case 2:return"Miễn phí vận chuyển";default:return"Không xác định"}},Pe=new Date().toISOString().split("T")[0];return r.jsxs("div",{className:"space-y-6",children:[r.jsx(Ah,{position:"top-right"}),r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsx("div",{children:r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Voucher"})}),r.jsxs(fe,{className:"bg-purple-400 hover:bg-purple-500 text-white",variant:"outline",size:"sm",onClick:()=>S(!0),children:[r.jsx(cr,{className:"h-4 w-4 mr-2"})," Thêm Voucher"]})]}),r.jsxs(at,{children:[r.jsx(yt,{className:"pb-3",children:r.jsx(Ct,{children:"Danh sách voucher"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[r.jsxs("div",{className:"relative w-full sm:w-auto",children:[r.jsx(Rn,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{type:"search",placeholder:"Tìm kiếm voucher (tên, mã)...",className:"pl-8 w-full sm:w-[300px]",value:n,onChange:be=>t(be.target.value)})]}),r.jsx("div",{className:"flex gap-2 self-end",children:r.jsxs(fe,{variant:"outline",size:"sm",className:"h-9",onClick:I,type:"button",children:[r.jsx(Io,{className:"h-4 w-4 mr-2"}),"Làm Mới"]})})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[r.jsxs("div",{className:"w-full sm:w-48 space-y-1",children:[r.jsx(Oe,{htmlFor:"filterStatus",className:"text-sm font-medium text-gray-700",children:"Trạng Thái"}),r.jsxs(hn,{value:e,onValueChange:s,children:[r.jsx(on,{id:"filterStatus",children:r.jsx(fn,{placeholder:"Trạng thái"})}),r.jsxs(ln,{children:[r.jsx(Ve,{value:"all",children:"Tất cả trạng thái"}),r.jsx(Ve,{value:"0",children:"Đang Dùng"}),r.jsx(Ve,{value:"1",children:"Tạm Ngưng"})]})]})]}),r.jsxs("div",{className:"w-full sm:w-48 space-y-1",children:[r.jsx(Oe,{htmlFor:"filterStartDate",className:"text-sm font-medium text-gray-700",children:"Ngày Bắt Đầu"}),r.jsxs("div",{className:"relative",children:[r.jsx($r,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{id:"filterStartDate",type:"date",placeholder:"Ngày bắt đầu",value:a,onChange:be=>i(be.target.value),max:o||void 0,className:"pl-8 border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-md"})]})]}),r.jsxs("div",{className:"w-full sm:w-48 space-y-1",children:[r.jsx(Oe,{htmlFor:"filterEndDate",className:"text-sm font-medium text-gray-700",children:"Ngày Kết Thúc"}),r.jsxs("div",{className:"relative",children:[r.jsx($r,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{id:"filterEndDate",type:"date",placeholder:"Ngày kết thúc",value:o,onChange:be=>c(be.target.value),min:a||void 0,className:"pl-8 border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-md"})]})]})]})]}),u?r.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"Đang tải..."}):q.length>0?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:q.map(be=>r.jsxs(at,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(yt,{children:r.jsx(Ct,{className:"text-lg truncate",children:be.tenVoucher})}),r.jsxs(dt,{className:"space-y-2",children:[be.hinhAnh&&r.jsx("img",{src:`data:image/jpeg;base64,${be.hinhAnh}`,alt:be.tenVoucher,className:"w-full h-48 object-cover rounded"}),r.jsxs("div",{children:[r.jsx("strong",{children:"ID:"})," ",be.maVoucher]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Giá trị: "}),be.loaiVoucher===0?`${be.giaTri??0}%`:be.loaiVoucher===1?`${be.giaTri!=null?be.giaTri.toLocaleString("vi-VN"):"0"} VND`:"Miễn phí vận chuyển"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Hết hạn:"})," ",jy(be.ngayKetThuc)]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Trạng thái:"}),r.jsx("span",{className:be.trangThai===1?"bg-red-100 text-red-800 px-2 py-1 rounded ml-2":"bg-green-100 text-green-800 px-2 py-1 rounded ml-2",children:be.trangThai===0?"Đang Dùng":"Tạm Ngưng"})]}),r.jsx("div",{className:"flex justify-end mt-4",children:r.jsxs(Ar,{children:[r.jsx(gr,{asChild:!0,children:r.jsx(fe,{variant:"outline",size:"sm",children:r.jsx(_1,{})})}),r.jsxs(hr,{align:"end",children:[r.jsxs(ct,{onClick:()=>G(be),className:"flex items-center text-gray-700 hover:text-blue-600",children:[r.jsx(Ra,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Chi Tiết"})]}),r.jsxs(ct,{onClick:()=>J(be),className:"flex items-center text-gray-700 hover:text-green-600",children:[r.jsx(Da,{className:"mr-2 h-4 w-4 text-green-500"}),r.jsx("span",{children:"Sửa"})]}),r.jsxs(ct,{onClick:()=>$(be),className:"flex items-center text-gray-700 hover:text-red-600",children:[r.jsx(Ja,{className:"mr-2 h-4 w-4 text-red-500"}),r.jsx("span",{children:"Xóa"})]})]})]})})]})]},be.maVoucher))}):r.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"Không tìm thấy voucher nào phù hợp với bộ lọc của bạn."}),H>1&&r.jsxs("div",{className:"flex justify-center items-center gap-2 mt-4",children:[r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>C(1),disabled:w===1,children:"Đầu"}),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>C(Math.max(1,w-1)),disabled:w===1,children:"Trước"}),Te().map(be=>r.jsx(fe,{variant:w===be?"default":"outline",size:"sm",onClick:()=>C(be),children:be},be)),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>C(Math.min(H,w+1)),disabled:w===H,children:"Sau"}),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>C(H),disabled:w===H,children:"Cuối"})]})]})]}),r.jsx(Yt,{open:h,onOpenChange:be=>{be||m(!1)},children:r.jsxs(Kt,{children:[r.jsxs(rn,{children:[r.jsx(Zt,{children:"Xác nhận xóa voucher"}),r.jsx(kr,{children:"Bạn có chắc chắn muốn xóa voucher này không? Hành động này không thể hoàn tác."})]}),r.jsxs(Ln,{children:[r.jsx(fe,{variant:"outline",onClick:()=>m(!1),children:"Hủy"}),r.jsx(fe,{variant:"destructive",onClick:R,children:"Xóa"})]})]})}),r.jsx(Yt,{open:p,onOpenChange:be=>{be||b(!1)},children:r.jsxs(Kt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[r.jsx(rn,{children:r.jsx(Zt,{children:"Chi Tiết Voucher"})}),x&&r.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-3 gap-3",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mã Voucher"}),r.jsx(je,{value:x.maVoucher||"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tên Voucher"}),r.jsx(je,{value:x.tenVoucher||"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Giá Trị"}),r.jsx(je,{value:x.loaiVoucher===0?`${x.giaTri??0}%`:x.loaiVoucher===1?`${x.giaTri!=null?x.giaTri.toLocaleString("vi-VN"):"0"} VND`:"Miễn phí vận chuyển",disabled:!0,className:"mt-1 bg-gray-50"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ngày Bắt Đầu"}),r.jsx(je,{value:x.ngayBatDau?jy(x.ngayBatDau):"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ngày Kết Thúc"}),r.jsx(je,{value:x.ngayKetThuc?jy(x.ngayKetThuc):"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Điều Kiện Trên"}),r.jsx(je,{value:x.dieuKien?`${x.dieuKien.toLocaleString("vi-VN")} VND`:"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-50"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Loại Voucher"}),r.jsx(je,{value:_e(x.loaiVoucher),disabled:!0,className:"mt-1 bg-gray-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Giá Trị Tối Đa"}),r.jsx(je,{value:x.giaTriToiDa?`${x.giaTriToiDa.toLocaleString("vi-VN")} VND`:"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Trạng Thái"}),r.jsx(je,{value:x.trangThai===0?"Đang Dùng":"Tạm Ngưng",disabled:!0,className:"mt-1 bg-gray-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hình Ảnh"}),x.hinhAnh?r.jsx("img",{src:`data:image/jpeg;base64,${x.hinhAnh}`,alt:x.tenVoucher,className:"w-24 h-24 object-cover rounded mt-1 border"}):r.jsx(je,{value:"Chưa có hình ảnh",disabled:!0,className:"mt-1 bg-gray-50"})]})]}),r.jsxs("div",{className:"md:col-span-3 space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mô Tả"}),r.jsx(je,{value:x.moTa||"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mã Coupon"}),x.coupons&&x.coupons.length>0?r.jsx("ul",{className:"list-disc pl-5 mt-1 space-y-1 max-h-32 overflow-y-auto border rounded p-2 bg-gray-50",children:x.coupons.map(be=>r.jsx("li",{className:be.trangThai===1?"line-through text-gray-500":"text-gray-800",children:be.maNhap},be.id))}):r.jsx(je,{value:"Không có mã",disabled:!0,className:"mt-1 bg-gray-50"})]})]})]}),r.jsx(Ln,{className:"mt-4",children:r.jsx(fe,{variant:"outline",onClick:()=>b(!1),children:"Đóng"})})]})}),r.jsx(Yt,{open:y,onOpenChange:be=>{be||S(!1)},children:r.jsxs(Kt,{className:"max-w-5xl",children:[r.jsx(rn,{children:r.jsx(Zt,{children:"Thêm Voucher Mới"})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tên Voucher"}),r.jsx(je,{placeholder:"Tên Voucher",value:B.tenVoucher,onChange:te,required:!0})]}),B.loaiVoucher!=="2"&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Giá trị ",B.loaiVoucher==="0"?"(%)":"(VND)"]}),r.jsx(je,{type:"number",placeholder:`Giá trị ${B.loaiVoucher==="0"?"(%)":"(VND)"}`,value:B.giaTri,onChange:K,required:!0,...B.loaiVoucher==="0"?{min:1,max:99}:{}})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mô tả"}),r.jsx(je,{placeholder:"Mô tả",value:B.moTa,onChange:ne})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ngày Bắt Đầu"}),r.jsx(je,{type:"date",placeholder:"Ngày bắt đầu",value:B.ngayBatDau,onChange:ce,min:Pe,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ngày Kết Thúc"}),r.jsx(je,{type:"date",placeholder:"Ngày kết thúc",value:B.ngayKetThuc,onChange:oe,min:B.ngayBatDau||Pe,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Điều Kiện (VND)"}),r.jsx(je,{type:"number",placeholder:"Điều kiện (VND)",value:B.dieuKien,onChange:ee,required:!0})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{children:"Loại Voucher"}),r.jsxs(hn,{value:B.loaiVoucher,onValueChange:be=>D({...B,loaiVoucher:be,giaTri:be==="2"?"":B.giaTri,giaTriToiDa:be==="2"?"":B.giaTriToiDa}),children:[r.jsx(on,{children:r.jsx(fn,{placeholder:"Loại voucher"})}),r.jsxs(ln,{children:[r.jsx(Ve,{value:"0",children:"Giảm giá theo phần trăm"}),r.jsx(Ve,{value:"1",children:"Giảm giá theo số tiền"}),r.jsx(Ve,{value:"2",children:"Miễn phí vận chuyển"})]})]})]}),B.loaiVoucher!=="2"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Giá Trị Tối Đa (VND)"}),r.jsx(je,{type:"number",placeholder:"Giá trị tối đa (VND)",value:B.giaTriToiDa,onChange:W,required:!0})]}),r.jsxs("div",{children:[r.jsx(Oe,{children:"Trạng Thái"}),r.jsxs(vm,{value:B.trangThai.toString(),onValueChange:be=>D({...B,trangThai:parseInt(be,10)}),className:"flex space-x-4 mt-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(qa,{value:"0",id:"dang-dung"}),r.jsx(Oe,{htmlFor:"dang-dung",children:"Đang Dùng"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(qa,{value:"1",id:"tam-ngung"}),r.jsx(Oe,{htmlFor:"tam-ngung",children:"Tạm Ngưng"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hình Ảnh"}),r.jsx("div",{className:`border-2 border-dashed rounded-lg p-4 text-center ${F?"border-blue-500 bg-blue-50":"border-gray-300"}`,onDragOver:he,onDragLeave:pe,onDrop:Ae,children:B.hinhAnh?r.jsx("img",{src:`data:image/jpeg;base64,${B.hinhAnh}`,alt:"Preview",className:"h-20 w-20 mx-auto object-cover rounded"}):r.jsxs("div",{children:[r.jsx(Lr,{className:"h-8 w-8 mx-auto text-gray-400"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Kéo và thả hình ảnh vào đây hoặc nhấp để chọn"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"fileInputCreate",onChange:de}),r.jsx("label",{htmlFor:"fileInputCreate",className:"cursor-pointer text-blue-500 hover:underline",children:"Chọn tệp"})]})}),B.hinhAnh&&r.jsx(fe,{variant:"outline",onClick:()=>D({...B,hinhAnh:""}),className:"w-full mt-2",children:"Xóa hình ảnh"})]})]})]}),r.jsxs(Ln,{className:"mt-4",children:[r.jsx(fe,{variant:"outline",onClick:()=>S(!1),children:"Hủy"}),r.jsx(fe,{onClick:U,children:"Thêm"})]})]})}),r.jsx(Yt,{open:M,onOpenChange:be=>{be||P(!1)},children:r.jsxs(Kt,{className:"max-w-5xl",children:[r.jsx(rn,{children:r.jsx(Zt,{children:"Sửa Voucher"})}),L&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tên Voucher"}),r.jsx(je,{placeholder:"Tên Voucher",value:L.tenVoucher,onChange:Y,required:!0})]}),L.loaiVoucher!==2&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Giá trị ",L.loaiVoucher===0?"(%)":"(VND)"]}),r.jsx(je,{type:"number",placeholder:`Giá trị ${L.loaiVoucher===0?"(%)":"(VND)"}`,value:L.giaTri??"",onChange:Z,required:!0,...L.loaiVoucher===0?{min:1,max:99}:{}})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mô tả"}),r.jsx(je,{placeholder:"Mô tả",value:L.moTa||"",onChange:se})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ngày Bắt Đầu"}),r.jsx(je,{type:"date",placeholder:"Ngày bắt đầu",value:L.ngayBatDau,onChange:re,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ngày Kết Thúc"}),r.jsx(je,{type:"date",placeholder:"Ngày kết thúc",value:L.ngayKetThuc,onChange:le,min:L.ngayBatDau,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Điều Kiện (VND)"}),r.jsx(je,{type:"number",placeholder:"Điều kiện (VND)",value:L.dieuKien,onChange:ae,required:!0})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{children:"Loại Voucher"}),r.jsxs(hn,{value:L.loaiVoucher.toString(),onValueChange:be=>O({...L,loaiVoucher:parseInt(be,10),giaTri:be==="2"?0:L.giaTri,giaTriToiDa:be==="2"?0:L.giaTriToiDa}),children:[r.jsx(on,{children:r.jsx(fn,{placeholder:"Loại voucher"})}),r.jsxs(ln,{children:[r.jsx(Ve,{value:"0",children:"Giảm giá theo phần trăm"}),r.jsx(Ve,{value:"1",children:"Giảm giá theo số tiền"}),r.jsx(Ve,{value:"2",children:"Miễn phí vận chuyển"})]})]})]}),L.loaiVoucher!==2&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Giá Trị Tối Đa (VND)"}),r.jsx(je,{type:"number",placeholder:"Giá trị tối đa (VND)",value:L.giaTriToiDa,onChange:ue,required:!0})]}),r.jsxs("div",{children:[r.jsx(Oe,{children:"Trạng Thái"}),r.jsxs(vm,{value:L.trangThai.toString(),onValueChange:be=>O({...L,trangThai:parseInt(be,10)}),className:"flex space-x-4 mt-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(qa,{value:"0",id:"dang-dung-edit"}),r.jsx(Oe,{htmlFor:"dang-dung-edit",children:"Đang Dùng"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(qa,{value:"1",id:"tam-ngung-edit"}),r.jsx(Oe,{htmlFor:"tam-ngung-edit",children:"Tạm Ngưng"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hình Ảnh"}),r.jsx("div",{className:`border-2 border-dashed rounded-lg p-4 text-center ${E?"border-blue-500 bg-blue-50":"border-gray-300"}`,onDragOver:me,onDragLeave:ve,onDrop:Me,children:L.hinhAnh?r.jsx("img",{src:`data:image/jpeg;base64,${L.hinhAnh}`,alt:"Preview",className:"h-20 w-20 mx-auto object-cover rounded"}):r.jsxs("div",{children:[r.jsx(Lr,{className:"h-8 w-8 mx-auto text-gray-400"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Kéo và thả hình ảnh vào đây hoặc nhấp để chọn"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"fileInputEdit",onChange:xe}),r.jsx("label",{htmlFor:"fileInputEdit",className:"cursor-pointer text-blue-500 hover:underline",children:"Chọn tệp"})]})}),L.hinhAnh&&r.jsx(fe,{variant:"outline",onClick:()=>O({...L,hinhAnh:""}),className:"w-full mt-2",children:"Xóa hình ảnh"})]})]})]}),r.jsxs(Ln,{className:"mt-4",children:[r.jsx(fe,{variant:"outline",onClick:()=>P(!1),children:"Hủy"}),r.jsx(fe,{onClick:V,children:"Lưu"})]})]})})]})};ti.register(Nd,Sd,wu,qi,yu,uN,jp,wp);const vA=10,Xd="https://bicacuatho.azurewebsites.net",ok=()=>{const[n,t]=k.useState([]),[e,s]=k.useState(""),[a,i]=k.useState(""),[o,c]=k.useState("all"),[l,d]=k.useState(!1),[u,f]=k.useState(""),[h,m]=k.useState(null),[A,g]=k.useState(!1),[p,b]=k.useState(""),[x,v]=k.useState(null),[y,S]=k.useState(1),[M,P]=k.useState(!1),[B,D]=k.useState([]),[L,O]=k.useState({}),[F,_]=k.useState(null),[E,T]=k.useState(!1),[w,C]=k.useState(!1);k.useEffect(()=>{j();const Y=setTimeout(()=>{i(e)},300);return()=>{clearTimeout(Y)}},[e]);const j=async()=>{d(!0);try{const Y=await fetch(`${Xd}/api/LienHe`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!Y.ok)throw new Error("Lỗi khi tải danh sách liên hệ");const Z=await Y.json();t(Z)}catch(Y){f(Y instanceof Error?Y.message:"Lỗi không xác định"),Ce.fire({icon:"error",title:"Lỗi",text:"Lỗi khi tải danh sách liên hệ: "+(Y instanceof Error?Y.message:"Lỗi không xác định"),timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{d(!1)}},N=k.useMemo(()=>{let Y=[...n].sort((Z,se)=>se.maLienHe-Z.maLienHe).filter(Z=>{var se,re,le;return((se=Z.hoTen)==null?void 0:se.toLowerCase().includes(a))||((re=Z.email)==null?void 0:re.toLowerCase().includes(a))||((le=Z.sdt)==null?void 0:le.toLowerCase().includes(a))});return o!=="all"&&(Y=Y.filter(Z=>String(Z.trangThai)===o)),Y},[n,a,o]),I=Math.ceil(N.length/vA),R=N.slice((y-1)*vA,y*vA),U=R.every(Y=>B.includes(Y.maLienHe)),V=Y=>{s(Y.target.value.toLowerCase()),S(1)},z=Y=>{c(Y),S(1)},X=(Y,Z)=>{_({contact:Y,newStatus:Z})},Q=()=>{_(null),T(!1)},q=async()=>{if(!F)return;const{contact:Y,newStatus:Z}=F;T(!0),O(se=>({...se,[Y.maLienHe]:!0}));try{if(!(await fetch(`${Xd}/api/LienHe/${Y.maLienHe}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:JSON.stringify({...Y,trangThai:Number(Z)})})).ok)throw new Error("Lỗi khi cập nhật trạng thái");t(re=>re.map(le=>le.maLienHe===Y.maLienHe?{...le,trangThai:Number(Z)}:le)),Ce.fire({icon:"success",title:"Thành công",text:"Cập nhật trạng thái thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(se){f(se instanceof Error?se.message:"Lỗi không xác định"),Ce.fire({icon:"error",title:"Lỗi",text:"Lỗi khi cập nhật trạng thái: "+(se instanceof Error?se.message:"Lỗi không xác định"),timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{O(se=>({...se,[Y.maLienHe]:!1})),T(!1),Q()}},H=Y=>{D(Z=>Z.includes(Y)?Z.filter(se=>se!==Y):[...Z,Y])},$=()=>{if(U)D(Y=>Y.filter(Z=>!R.some(se=>se.maLienHe===Z)));else{const Y=R.map(Z=>Z.maLienHe);D(Z=>[...new Set([...Z,...Y])])}},G=async()=>{if(C(!0),!x&&B.length===0){Ce.fire({icon:"error",title:"Lỗi",text:"Vui lòng chọn ít nhất một liên hệ để xóa.",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0}),v(null),C(!1);return}try{if(B.length>0){if(!(await fetch(`${Xd}/api/LienHe/DeleteMultiple`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:JSON.stringify(B)})).ok)throw new Error("Lỗi khi xóa nhiều liên hệ");t(Z=>Z.filter(se=>!B.includes(se.maLienHe))),D([])}else if(x){if(!(await fetch(`${Xd}/api/LienHe/${x.maLienHe}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}})).ok)throw new Error("Lỗi khi xóa liên hệ");t(Z=>Z.filter(se=>se.maLienHe!==x.maLienHe))}v(null),S(1),Ce.fire({icon:"success",title:"Thành công",text:"Xóa liên hệ thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(Y){f(Y instanceof Error?Y.message:"Lỗi không xác định"),Ce.fire({icon:"error",title:"Lỗi",text:"Lỗi khi xóa liên hệ: "+(Y instanceof Error?Y.message:"Lỗi không xác định"),timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}C(!1)},J=Y=>{m(Y),g(!0),b("")},te=()=>{g(!1),m(null),b(""),f("")},K=async()=>{if(!p.trim()){f("Nội dung hỗ trợ không được để trống.");return}P(!0);try{const Y={toEmail:h==null?void 0:h.email,message:p,hoTen:h==null?void 0:h.hoTen,sdt:h==null?void 0:h.sdt};if(!(await fetch(`${Xd}/api/LienHe/SupportEmail`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:JSON.stringify(Y)})).ok)throw new Error("Lỗi khi gửi email hỗ trợ");if(h){if(!(await fetch(`${Xd}/api/LienHe/${h.maLienHe}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:JSON.stringify({...h,trangThai:1})})).ok)throw new Error("Lỗi khi cập nhật trạng thái");t(re=>re.map(le=>le.maLienHe===h.maLienHe?{...le,trangThai:1}:le))}Ce.fire({icon:"success",title:"Thành công",text:"Gửi hỗ trợ thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0}),te()}catch(Y){f(Y instanceof Error?Y.message:"Lỗi không xác định"),Ce.fire({icon:"error",title:"Lỗi",text:"Lỗi khi gửi email hỗ trợ: "+(Y instanceof Error?Y.message:"Lỗi không xác định"),timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{P(!1)}},ne=Y=>{S(Y)},ce={labels:["Tổng số liên hệ"],datasets:[{label:"Số lượng",data:[n.length],backgroundColor:["#9b87f5"]}]},oe={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Tổng số lượng liên hệ"}}},ee=k.useMemo(()=>{const Y={};return n.forEach(Z=>{const se=new Date(Z.ngayTao).toISOString().split("T")[0];Y[se]=(Y[se]||0)+1}),{labels:Object.keys(Y).sort(),datasets:[{label:"Tổng số liên hệ",data:Object.keys(Y).sort().map(Z=>Y[Z]),borderColor:"#9b87f5",backgroundColor:"#9b87f5",fill:!1}]}},[n]),W={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Tăng giảm tổng số lượng liên hệ theo thời gian"}},scales:{x:{title:{display:!0,text:"Ngày"}},y:{title:{display:!0,text:"Số lượng liên hệ"},beginAtZero:!0}}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{children:r.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-800",children:"Quản lý liên hệ"})}),r.jsxs(Na,{defaultValue:"general",className:"w-full",children:[r.jsxs(sa,{className:"grid w-full md:w-auto grid-cols-2 md:grid-cols-2 gap-1",children:[r.jsxs(kn,{value:"general",className:"flex items-center gap-2",children:[r.jsx(so,{className:"h-4 w-4"})," Danh sách liên hệ"]}),r.jsxs(kn,{value:"statistics",className:"flex items-center gap-2",children:[r.jsx(nw,{className:"h-4 w-4"})," Danh sách thống kê"]})]}),r.jsxs(Fn,{value:"general",children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(je,{type:"search",placeholder:"Tìm kiếm liên hệ...",value:e,onChange:V,className:"w-full md:w-[820px] pl-10"}),r.jsx(Rn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),r.jsxs(hn,{value:o,onValueChange:z,children:[r.jsx(on,{className:"w-full md:w-[250px]",children:r.jsx(fn,{placeholder:"Lọc theo trạng thái"})}),r.jsxs(ln,{children:[r.jsx(Ve,{value:"all",children:"Tất cả trạng thái"}),r.jsx(Ve,{value:"0",children:"Chưa xử lý"}),r.jsx(Ve,{value:"1",children:"Đã xử lý"})]})]}),B.length>0&&r.jsxs(fe,{variant:"destructive",onClick:()=>v({}),className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3]",children:[r.jsx(mi,{className:"h-4 w-4 mr-2"})," Xóa nhiều"]})]}),l?r.jsx("div",{className:"flex justify-center items-center",children:r.jsx(ns,{className:"h-8 w-8 animate-spin text-[#9b87f5]"})}):u&&!A?r.jsx("p",{className:"text-red-500",children:u}):r.jsxs(r.Fragment,{children:[r.jsxs(at,{children:[r.jsx(yt,{children:r.jsx(Ct,{children:"Danh sách liên hệ"})}),r.jsx(dt,{children:r.jsxs(Br,{children:[r.jsx(Er,{children:r.jsxs(Rt,{children:[r.jsx(Qe,{children:"STT"}),r.jsx(Qe,{children:"Họ Tên"}),r.jsx(Qe,{children:"Email"}),r.jsx(Qe,{children:"Số Điện Thoại"}),r.jsx(Qe,{children:"Nội Dung"}),r.jsx(Qe,{children:"Ngày Tạo"}),r.jsx(Qe,{children:"Trạng Thái"}),r.jsx(Qe,{children:"Hành Động"}),r.jsx(Qe,{children:r.jsx("input",{type:"checkbox",checked:U,onChange:$})})]})}),r.jsx(Mr,{children:R.map((Y,Z)=>r.jsxs(Rt,{children:[r.jsx(He,{children:(y-1)*vA+Z+1}),r.jsx(He,{children:Y.hoTen}),r.jsx(He,{children:Y.email}),r.jsx(He,{children:Y.sdt}),r.jsx(He,{children:Y.noiDung}),r.jsx(He,{children:new Date(Y.ngayTao).toLocaleString()}),r.jsx(He,{children:r.jsxs("div",{className:"flex items-center gap-2 relative",children:[L[Y.maLienHe]&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx("div",{className:"w-6 h-6 border-2 border-green-500 border-t-transparent rounded-full animate-spin"})}),r.jsxs("label",{className:"relative inline-block w-[60px] h-[34px]",children:[r.jsx("input",{type:"checkbox",className:"opacity-0 w-0 h-0",checked:Y.trangThai===1,onChange:se=>X(Y,se.target.checked?"1":"0"),disabled:L[Y.maLienHe]}),r.jsx("span",{className:`absolute cursor-pointer inset-0 rounded-full transition-all duration-300 ease-in-out
                                    before:absolute before:h-[30px] before:w-[30px] before:left-[2px] before:bottom-[2px]
                                    before:bg-white before:rounded-full before:shadow-md before:transition-all before:duration-300 before:ease-in-out
                                    ${Y.trangThai===1?"bg-[#9b87f5] before:translate-x-[26px]":"bg-[#9E9E9E]"} hover:scale-110 shadow-sm hover:shadow-md`}),r.jsx("span",{className:"sr-only",children:Y.trangThai===0?"Chưa xử lý":"Đã xử lý"})]})]})}),r.jsx(He,{children:r.jsxs(Ar,{children:[r.jsx(gr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",children:r.jsx(Fs,{className:"h-4 w-4"})})}),r.jsxs(hr,{align:"end",children:[r.jsxs(ct,{onClick:()=>J(Y),className:"text-green-700",children:[r.jsx(pr,{className:"mr-2 h-4 w-4"})," Chi tiết"]}),r.jsxs(ct,{onClick:()=>v(Y),className:"text-red-700",children:[r.jsx(mi,{className:"mr-2 h-4 w-4"})," Xóa"]})]})]})}),r.jsx(He,{children:r.jsx("input",{type:"checkbox",checked:B.includes(Y.maLienHe),onChange:()=>H(Y.maLienHe)})})]},Y.maLienHe))})]})})]}),I>1&&r.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[r.jsxs(fe,{onClick:()=>ne(y-1),disabled:y===1,variant:"outline",className:"flex items-center",children:[r.jsx(zr,{className:"h-4 w-4 mr-2"}),"Trước"]}),Array.from({length:I},(Y,Z)=>Z+1).map(Y=>r.jsx(fe,{onClick:()=>ne(Y),variant:y===Y?"default":"outline",className:y===Y?"bg-purple-400 text-white hover:bg-purple-300":"",children:Y},Y)),r.jsxs(fe,{onClick:()=>ne(y+1),disabled:y===I,variant:"outline",className:"flex items-center",children:["Sau",r.jsx(xr,{className:"h-4 w-4 ml-2"})]})]})]})]}),r.jsx(Fn,{value:"statistics",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(at,{children:[r.jsx(yt,{children:r.jsx(Ct,{children:"Tổng số lượng liên hệ"})}),r.jsx(dt,{children:l?r.jsx("p",{children:"Đang tải dữ liệu thống kê..."}):u?r.jsx("p",{className:"text-red-500",children:u}):r.jsx(HF,{data:ce,options:oe})})]}),r.jsxs(at,{children:[r.jsx(yt,{children:r.jsx(Ct,{children:"Tăng giảm tổng số lượng liên hệ theo thời gian"})}),r.jsx(dt,{children:l?r.jsx("p",{children:"Đang tải dữ liệu thống kê..."}):u?r.jsx("p",{className:"text-red-500",children:u}):r.jsx(UF,{data:ee,options:W})})]})]})})]}),A&&h&&r.jsx(Yt,{open:!0,onOpenChange:te,children:r.jsxs(Kt,{children:[r.jsx(rn,{children:r.jsx(Zt,{children:"Chi tiết liên hệ & Gửi hỗ trợ"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Họ Tên:"})," ",h.hoTen]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," ",h.email]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Số điện thoại:"})," ",h.sdt]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Nội dung:"})," ",h.noiDung]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Ngày tạo:"})," ",new Date(h.ngayTao).toLocaleString()]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Trạng thái:"})," ",h.trangThai===0?"Chưa xử lý":"Đã xử lý"]}),r.jsx("textarea",{value:p,onChange:Y=>b(Y.target.value),placeholder:"Nhập nội dung hỗ trợ...",className:"w-full rounded-md border border-gray-300 p-2",rows:5}),u&&r.jsx("p",{className:"text-red-500",children:u})]}),r.jsxs(Ln,{className:"flex justify-between items-center mt-4",children:[r.jsxs(fe,{variant:"ghost",onClick:te,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Đóng"]}),r.jsxs(fe,{onClick:K,disabled:M,className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3]",children:[M?"Đang gửi...":"Gửi hỗ trợ",r.jsx(Aa,{className:"ml-2 h-4 w-4"})]})]})]})}),x&&r.jsx(Yt,{open:!0,onOpenChange:()=>v(null),children:r.jsxs(Kt,{children:[r.jsx(rn,{children:r.jsx(Zt,{children:"Xác nhận xóa"})}),r.jsx("div",{className:"space-y-4",children:B.length>0?r.jsxs("p",{children:["Bạn có chắc chắn muốn xóa ",B.length," liên hệ đã chọn không?"]}):r.jsxs("p",{children:["Bạn có chắc chắn muốn xóa liên hệ của ",r.jsx("strong",{children:x.hoTen})," không?"]})}),r.jsxs(Ln,{className:"flex justify-end space-x-2 mt-4",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>v(null),className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(Go,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{variant:"destructive",onClick:G,disabled:w,className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3] flex items-center gap-2",children:[w?"Đang xóa...":"Xóa",r.jsx(mi,{className:"h-4 w-4 mr-2"})]})]})]})}),F&&r.jsx(Yt,{open:!0,onOpenChange:Q,children:r.jsxs(Kt,{children:[r.jsx(rn,{children:r.jsx(Zt,{children:"Xác nhận thay đổi trạng thái"})}),r.jsx("div",{className:"space-y-4",children:r.jsxs("p",{children:["Bạn có chắc chắn muốn thay đổi trạng thái của liên hệ ",r.jsx("strong",{children:F.contact.hoTen})," không?"]})}),r.jsxs(Ln,{className:"flex justify-end space-x-2 mt-4",children:[r.jsxs(fe,{variant:"ghost",onClick:Q,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(Go,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:q,disabled:E,className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3] flex items-center gap-2",children:[E?"Đang xử lý...":"Xác nhận",r.jsx(ja,{className:"h-4 w-4"})]})]})]})})]})};function lk(n){return ms({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"},child:[]}]})(n)}const Cy=n=>{try{return new Date(n).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"})}catch{return"Không xác định"}},ck=(n,t)=>{const e=n.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-");let s=e,a=1;for(;t.includes(s);)s=`${e}-${a}`,a++;return s},dk=n=>`Hình ảnh cho bài viết: ${n}`,uk=()=>{var ae,ue,he,pe,Ae;const[n,t]=k.useState(""),[e,s]=k.useState([]),[a,i]=k.useState(!0),[o,c]=k.useState(null),[l,d]=k.useState("grid"),[u,f]=k.useState(""),[h,m]=k.useState(!1),[A,g]=k.useState(null),[p,b]=k.useState(!1),[x,v]=k.useState(null),[y,S]=k.useState(!1),[M,P]=k.useState(!1),[B,D]=k.useState({maBlog:null,maNguoiDung:"",tieuDe:"",noiDung:"",ngayTao:new Date().toISOString().split("T")[0],slug:"",metaTitle:"",metaDescription:"",hinhAnh:"",moTaHinhAnh:"",chuDe:"",isPublished:!1,tags:[]}),[L,O]=k.useState(null),[F,_]=k.useState(!1),[E,T]=k.useState(!1),[w,C]=k.useState(null),[j,N]=k.useState(1),[I,R]=k.useState({}),U=8;k.useEffect(()=>{const ie=localStorage.getItem("userId");ie?(C(ie),D(de=>({...de,maNguoiDung:ie}))):(c("Không tìm thấy mã người dùng. Vui lòng đăng nhập lại."),Ce.fire({icon:"error",title:"Lỗi",text:"Không tìm thấy mã người dùng. Vui lòng đăng nhập lại.",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0}))},[]);const V=async()=>{try{i(!0),c(null);const ie=await fetch("https://bicacuatho.azurewebsites.net/api/Blog",{method:"GET",headers:{"Content-Type":"application/json"}});if(!ie.ok)throw new Error(`HTTP error! status: ${ie.status}`);const de=await ie.json();s(de||[]);const me=[...new Set(de.map(xe=>xe.maNguoiDung))],ve=me.map(xe=>fetch(`https://bicacuatho.azurewebsites.net/api/NguoiDung/${xe}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then(Te=>Te.ok?Te.json():null).catch(()=>null)),Me=await Promise.all(ve),Be=me.reduce((xe,Te,_e)=>(xe[Te]=Me[_e]||null,xe),{});R(Be)}catch(ie){console.error("Error fetching blogs:",ie),c("Có lỗi xảy ra khi tải danh sách blog."),Ce.fire({icon:"error",title:"Lỗi",text:"Có lỗi xảy ra khi tải danh sách blog.",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0}),s([])}finally{i(!1)}},z=async()=>{if(A)try{const ie=localStorage.getItem("token"),de=await fetch(`https://bicacuatho.azurewebsites.net/api/Blog/${A.maBlog}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ie}`}});if(de.status===204)s(e.filter(me=>me.maBlog!==A.maBlog)),m(!1),g(null),Ce.fire({icon:"success",title:"Thành công",text:"Xóa blog thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});else throw new Error(`HTTP error! status: ${de.status}`)}catch(ie){console.error("Error deleting blog:",ie),Ce.fire({icon:"error",title:"Lỗi",text:"Có lỗi xảy ra khi xóa blog.",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}},X=async()=>{if(!w){Ce.fire({icon:"error",title:"Lỗi",text:"Không tìm thấy mã người dùng.",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}if(!B.tieuDe||!B.noiDung||!B.chuDe){Ce.fire({icon:"warning",title:"Cảnh báo",text:"Vui lòng điền tiêu đề, nội dung và chủ đề!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}try{const ie=e.map(Be=>Be.slug||""),de=ck(B.tieuDe,ie),me=dk(B.tieuDe),ve=localStorage.getItem("token"),Me=await fetch("https://bicacuatho.azurewebsites.net/api/Blog/CreateBlog",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ve}`},body:JSON.stringify({...B,maNguoiDung:w,ngayTao:new Date(B.ngayTao).toISOString(),hinhAnh:B.hinhAnh||null,slug:de,moTaHinhAnh:me,chuDe:B.chuDe})});if(!Me.ok){const Be=await Me.json();throw new Error(Be.message||"Không thể thêm blog")}await V(),S(!1),D({maBlog:null,maNguoiDung:w||"",tieuDe:"",noiDung:"",ngayTao:new Date().toISOString().split("T")[0],slug:"",metaTitle:"",metaDescription:"",hinhAnh:"",moTaHinhAnh:"",chuDe:"",isPublished:!1,tags:[]}),Ce.fire({icon:"success",title:"Thành công",text:"Thêm blog thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(ie){console.error("Error creating blog:",ie),Ce.fire({icon:"error",title:"Lỗi",text:"Có lỗi xảy ra khi thêm blog.",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}},Q=async()=>{if(!L||!L.tieuDe||!L.noiDung||!L.chuDe){Ce.fire({icon:"warning",title:"Cảnh báo",text:"Vui lòng điền tiêu đề, nội dung và chủ đề!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}try{const ie=e.filter(Be=>Be.maBlog!==L.maBlog).map(Be=>Be.slug||""),de=ck(L.tieuDe,ie),me=dk(L.tieuDe),ve=localStorage.getItem("token"),Me=await fetch(`https://bicacuatho.azurewebsites.net/api/Blog/${L.maBlog}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ve}`},body:JSON.stringify({...L,ngayTao:new Date(L.ngayTao).toISOString(),hinhAnh:L.hinhAnh||null,slug:de,moTaHinhAnh:me,chuDe:L.chuDe})});if(!Me.ok){const Be=await Me.json();throw new Error(Be.message||"Không thể sửa blog")}await V(),P(!1),O(null),Ce.fire({icon:"success",title:"Thành công",text:"Sửa blog thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(ie){console.error("Error updating blog:",ie),Ce.fire({icon:"error",title:"Lỗi",text:"Có lỗi xảy ra khi sửa blog.",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}};k.useEffect(()=>{V()},[]);const q=k.useMemo(()=>{const ie=e.filter(de=>de.tieuDe.toLowerCase().includes(n.toLowerCase()));switch(u){case"title-asc":return[...ie].sort((de,me)=>(de.tieuDe||"").localeCompare(me.tieuDe||""));case"title-desc":return[...ie].sort((de,me)=>(me.tieuDe||"").localeCompare(de.tieuDe||""));case"date-asc":return[...ie].sort((de,me)=>new Date(de.ngayTao).getTime()-new Date(me.ngayTao).getTime());case"date-desc":return[...ie].sort((de,me)=>new Date(me.ngayTao).getTime()-new Date(de.ngayTao).getTime());default:return ie}},[e,n,u]),H=j*U,$=H-U,G=q.slice($,H),J=Math.ceil(q.length/U),te=ie=>{g(ie),m(!0)},K=ie=>{v(ie),b(!0)},ne=ie=>{O({...ie,ngayTao:new Date(ie.ngayTao).toISOString().split("T")[0],slug:ie.slug||"",metaTitle:ie.metaTitle||"",metaDescription:ie.metaDescription||"",moTaHinhAnh:ie.moTaHinhAnh||"",chuDe:ie.chuDe||"",tags:ie.tags||[]}),P(!0)},ce=ie=>{const{name:de,value:me}=ie.target;D({...B,[de]:me})},oe=ie=>{const{name:de,value:me}=ie.target;O({...L,[de]:me})},ee=(ie,de)=>{if(!ie.type.startsWith("image/")){Ce.fire({icon:"error",title:"Lỗi",text:"Vui lòng chọn một tệp hình ảnh!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}const me=new FileReader;me.onloadend=()=>{if(typeof me.result=="string"){const ve=me.result.split(",")[1];de?O({...L,hinhAnh:ve}):D({...B,hinhAnh:ve})}},me.readAsDataURL(ie)},W=(ie,de)=>{ie.preventDefault(),de?T(!0):_(!0)},Y=(ie,de)=>{ie.preventDefault(),de?T(!1):_(!1)},Z=(ie,de)=>{ie.preventDefault(),de?T(!1):_(!1);const me=ie.dataTransfer.files[0];me&&ee(me,de)},se=(ie,de)=>{var ve;const me=(ve=ie.target.files)==null?void 0:ve[0];me&&ee(me,de)},re=()=>{const de=Math.floor(2.5);let me=Math.max(1,j-de),ve=Math.min(J,j+de);return ve-me+1<5&&(me===1?ve=Math.min(J,me+5-1):me=Math.max(1,ve-5+1)),Array.from({length:ve-me+1},(Me,Be)=>me+Be)},le={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small","normal","large","huge"]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image"]]};return r.jsxs("div",{className:"space-y-8 p-6 bg-gray-50 min-h-screen",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsx("div",{children:r.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-800",children:"Quản lý bài viết"})}),r.jsxs(fe,{className:"bg-purple-400 hover:bg-purple-500 text-white",size:"lg",onClick:()=>S(!0),children:[r.jsx(F1,{className:"h-5 w-5 mr-2"})," Thêm Blog"]})]}),r.jsxs(at,{className:"shadow-lg rounded-xl bg-white",children:[r.jsx(yt,{className:"pb-4",children:r.jsx(Ct,{className:"text-2xl font-bold text-gray-800",children:"Danh sách bài viết"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8 justify-between items-start sm:items-center",children:[r.jsxs("div",{className:"relative w-full sm:w-80",children:[r.jsx(dge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx(je,{type:"search",placeholder:"Tìm kiếm...",className:"pl-10 w-full bg-gray-50 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all",value:n,onChange:ie=>t(ie.target.value)})]}),r.jsxs("div",{className:"flex gap-2 self-end",children:[r.jsxs(Ar,{children:[r.jsx(gr,{asChild:!0,children:r.jsxs(fe,{variant:"outline",size:"sm",className:"h-9 border-gray-300 text-gray-700 hover:bg-gray-100",children:[r.jsx(oge,{className:"h-4 w-4 mr-2"}),u===""?"Sắp xếp":u==="title-asc"?"Tiêu đề: A - Z":u==="title-desc"?"Tiêu đề: Z - A":u==="date-asc"?"Cũ nhất":"Mới nhất"]})}),r.jsxs(hr,{className:"rounded-lg shadow-lg",children:[r.jsx(ct,{onClick:()=>f(""),children:"Mặc định"}),r.jsx(ct,{onClick:()=>f("title-asc"),children:"Tiêu đề: A - Z"}),r.jsx(ct,{onClick:()=>f("title-desc"),children:"Tiêu đề: Z - A"}),r.jsx(ct,{onClick:()=>f("date-asc"),children:"Cũ nhất"}),r.jsx(ct,{onClick:()=>f("date-desc"),children:"Mới nhất"})]})]}),r.jsxs("div",{className:"flex border rounded-md",children:[r.jsx(fe,{variant:l==="grid"?"secondary":"ghost",size:"sm",className:"h-9 rounded-r-none",onClick:()=>d("grid"),"aria-label":"Chuyển sang chế độ lưới",children:r.jsx(lge,{className:"h-4 w-4"})}),r.jsx(fe,{variant:l==="list"?"secondary":"ghost",size:"sm",className:"h-9 rounded-l-none",onClick:()=>d("list"),"aria-label":"Chuyển sang chế độ danh sách",children:r.jsx(cge,{className:"h-4 w-4"})})]})]})]}),o&&r.jsx("div",{className:"text-center py-4 text-red-600 text-lg",children:o}),a?r.jsx("div",{className:"text-center py-8 text-gray-500 text-lg",children:"Đang tải..."}):G.length>0?l==="grid"?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:G.map(ie=>{var me;const de=((me=I[ie.maNguoiDung])==null?void 0:me.hoTen)||ie.hoTen||ie.maNguoiDung.replace(/\d+$/,"").trim()||"Không xác định";return r.jsxs(at,{className:"hover:shadow-xl transition-shadow duration-300 rounded-xl overflow-hidden bg-white group",children:[r.jsx("div",{className:"max-h-48 bg-purple-50 flex items-center justify-center overflow-hidden",children:ie.hinhAnh?r.jsx("img",{src:`data:image/jpeg;base64,${ie.hinhAnh}`,alt:ie.moTaHinhAnh||ie.tieuDe,className:"w-full max-h-48 object-contain"}):r.jsx("div",{className:"text-gray-400 text-sm",children:"Không có hình"})}),r.jsx(dt,{className:"p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800 whitespace-normal break-words",children:ie.tieuDe}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Người tạo: ",de]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ngày tạo: ",Cy(ie.ngayTao)]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Chủ đề: ",ie.chuDe||"Chưa xác định"]})]}),r.jsxs(Ar,{children:[r.jsx(gr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(_1,{className:"h-4 w-4 text-gray-600"})})}),r.jsxs(hr,{align:"end",className:"rounded-lg shadow-lg",children:[r.jsxs(ct,{onClick:()=>K(ie),className:"flex items-center text-gray-700 hover:bg-blue-50 hover:text-blue-600",children:[r.jsx(Ra,{className:"mr-2 h-4 w-4 text-blue-500"}),"Chi tiết"]}),r.jsxs(ct,{onClick:()=>ne(ie),className:"flex items-center text-gray-700 hover:bg-green-50 hover:text-green-600",children:[r.jsx(Da,{className:"mr-2 h-4 w-4 text-green-500"}),"Sửa"]}),r.jsxs(ct,{onClick:()=>te(ie),className:"flex items-center text-gray-700 hover:bg-red-50 hover:text-red-600",children:[r.jsx(Ja,{className:"mr-2 h-4 w-4 text-red-500"}),"Xóa"]})]})]})]})})]},ie.maBlog)})}):r.jsx("div",{className:"border rounded-md divide-y",children:G.map(ie=>{var me;const de=((me=I[ie.maNguoiDung])==null?void 0:me.hoTen)||ie.hoTen||ie.maNguoiDung.replace(/\d+$/,"").trim()||"Không xác định";return r.jsxs("div",{className:"p-4 flex items-center gap-4 hover:bg-muted/50",children:[r.jsx("div",{className:"max-w-20 max-h-20 bg-purple-50 rounded-md flex items-center justify-center overflow-hidden",children:ie.hinhAnh?r.jsx("img",{src:`data:image/jpeg;base64,${ie.hinhAnh}`,alt:ie.moTaHinhAnh||ie.tieuDe,className:"max-w-full max-h-full object-contain rounded-md"}):r.jsx("div",{className:"text-gray-400 text-xs",children:"Không có hình"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-800 whitespace-normal break-words",children:ie.tieuDe}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Người tạo: ",de]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ngày tạo: ",Cy(ie.ngayTao)]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Chủ đề: ",ie.chuDe||"Chưa xác định"]})]}),r.jsxs(Ar,{children:[r.jsx(gr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsx(_1,{className:"h-4 w-4 text-gray-600"})})}),r.jsxs(hr,{align:"end",className:"rounded-lg shadow-lg",children:[r.jsxs(ct,{onClick:()=>K(ie),className:"flex items-center text-gray-700 hover:bg-blue-50 hover:text-blue-600",children:[r.jsx(Ra,{className:"mr-2 h-4 w-4 text-blue-500"}),"Chi tiết"]}),r.jsxs(ct,{onClick:()=>ne(ie),className:"flex items-center text-gray-700 hover:bg-green-50 hover:text-green-600",children:[r.jsx(Da,{className:"mr-2 h-4 w-4 text-green-500"}),"Sửa"]}),r.jsxs(ct,{onClick:()=>te(ie),className:"flex items-center text-gray-700 hover:bg-red-50 hover:text-red-600",children:[r.jsx(Ja,{className:"mr-2 h-4 w-4 text-red-500"}),"Xóa"]})]})]})]},ie.maBlog)})}):r.jsx("div",{className:"text-center py-8 text-gray-500 text-lg",children:"Không tìm thấy blog nào phù hợp với tìm kiếm của bạn."}),J>1&&r.jsxs("div",{className:"flex justify-center items-center gap-2 mt-8",children:[r.jsx(fe,{variant:"outline",size:"sm",className:"border-gray-300 text-gray-700 hover:bg-gray-100 rounded-lg",onClick:()=>N(1),disabled:j===1,"aria-label":"First page",children:"Đầu"}),r.jsx(fe,{variant:"outline",size:"sm",className:"border-gray-300 text-gray-700 hover:bg-gray-100 rounded-lg",onClick:()=>N(ie=>Math.max(1,ie-1)),disabled:j===1,"aria-label":"Previous page",children:"Trước"}),re().map(ie=>r.jsx(fe,{variant:j===ie?"default":"outline",size:"sm",className:`${j===ie?"bg-purple-400 hover:bg-purple-500 text-white":"border-gray-300 text-gray-700 hover:bg-gray-100"} rounded-lg`,onClick:()=>N(ie),"aria-label":`Page ${ie}`,children:ie},ie)),r.jsx(fe,{variant:"outline",size:"sm",className:"border-gray-300 text-gray-700 hover:bg-gray-100 rounded-lg",onClick:()=>N(ie=>Math.min(J,ie+1)),disabled:j===J,"aria-label":"Next page",children:"Sau"}),r.jsx(fe,{variant:"outline",size:"sm",className:"border-gray-300 text-gray-700 hover:bg-gray-100 rounded-lg",onClick:()=>N(J),disabled:j===J,"aria-label":"Last page",children:"Cuối"})]})]})]}),r.jsx(Yt,{open:h,onOpenChange:m,children:r.jsxs(Kt,{className:"rounded-lg shadow-xl",children:[r.jsxs(rn,{children:[r.jsx(Zt,{className:"text-xl font-bold text-gray-800",children:"Xác nhận xóa blog"}),r.jsxs(kr,{className:"text-gray-600",children:['Bạn có chắc chắn muốn xóa blog "',A==null?void 0:A.tieuDe,'"? Hành động này không thể hoàn tác.']})]}),r.jsxs(Ln,{className:"mt-6",children:[r.jsxs(fe,{variant:"outline",className:"border-gray-300 text-gray-700 hover:bg-gray-100 rounded-lg",onClick:()=>m(!1),"aria-label":"Cancel delete blog",children:[r.jsx(Pc,{className:"h-4 w-4 mr-2"})," Hủy"]}),r.jsxs(fe,{variant:"destructive",className:"bg-red-600 hover:bg-red-700 text-white rounded-lg",onClick:z,"aria-label":"Confirm delete blog",children:[r.jsx(Ja,{className:"h-4 w-4 mr-2"})," Xóa"]})]})]})}),r.jsx(Yt,{open:p,onOpenChange:b,children:r.jsxs(Kt,{className:"max-w-5xl rounded-lg shadow-xl bg-white overflow-y-auto max-h-[80vh]",children:[r.jsx(rn,{children:r.jsxs(Zt,{className:"text-xl font-bold text-gray-800",children:["Chi tiết blog ",x==null?void 0:x.maBlog]})}),x&&r.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Mã Blog"}),r.jsx(je,{value:x.maBlog??"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-100 border-gray-300 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Tiêu đề"}),r.jsx(je,{value:x.tieuDe||"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-100 border-gray-300 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Người tạo"}),r.jsx(je,{value:((ae=I[x.maNguoiDung])==null?void 0:ae.hoTen)||x.hoTen||x.maNguoiDung.replace(/\d+$/,"").trim()||"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-100 border-gray-300 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Chủ đề"}),r.jsx(je,{value:x.chuDe||"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-100 border-gray-300 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Slug"}),r.jsx(je,{value:x.slug||"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-100 border-gray-300 rounded-lg"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Ngày tạo"}),r.jsx(je,{value:x.ngayTao?Cy(x.ngayTao):"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-100 border-gray-300 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Hình ảnh"}),x.hinhAnh?r.jsx("img",{src:`data:image/jpeg;base64,${x.hinhAnh}`,alt:x.moTaHinhAnh||x.tieuDe,className:"max-w-full max-h-64 object-contain rounded-lg mt-1 border border-gray-200"}):r.jsx(je,{value:"Chưa có hình ảnh",disabled:!0,className:"mt-1 bg-gray-100 border-gray-300 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Mô tả hình ảnh (ALT)"}),r.jsx(je,{value:x.moTaHinhAnh||"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-100 border-gray-300 rounded-lg"})]})]}),r.jsxs("div",{className:"md:col-span-2 space-y-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Meta Title"}),r.jsx(je,{value:x.metaTitle||"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-100 border-gray-300 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Meta Description"}),r.jsx(je,{value:x.metaDescription||"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-100 border-gray-300 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Tags"}),r.jsx(je,{value:((ue=x.tags)==null?void 0:ue.join(", "))||"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-100 border-gray-300 rounded-lg"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",id:"isPublishedDetail",checked:x.isPublished,disabled:!0,className:"h-5 w-5 text-purple-400 border-gray-300 rounded focus:ring-purple-500"}),r.jsx(Oe,{htmlFor:"isPublishedDetail",className:"text-sm font-semibold text-gray-700",children:"Công khai?"})]}),r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Nội dung"}),r.jsx("div",{className:"mt-1 w-full border border-gray-300 p-3",dangerouslySetInnerHTML:{__html:x.noiDung||"Chưa cập nhật"}})]})]})]}),r.jsx(Ln,{className:"mt-6",children:r.jsxs(fe,{variant:"outline",className:"border-gray-300 text-gray-700 hover:bg-gray-100 rounded-lg",onClick:()=>b(!1),"aria-label":"Đóng chi tiết blog",children:[r.jsx(Pc,{className:"h-4 w-4 mr-2"})," Đóng"]})})]})}),r.jsx(Yt,{open:y,onOpenChange:S,children:r.jsxs(Kt,{className:"max-w-5xl rounded-lg shadow-xl bg-white overflow-y-auto max-h-[80vh]",children:[r.jsx(rn,{children:r.jsx(Zt,{className:"text-xl font-bold text-gray-800",children:"Thêm blog mới"})}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Tiêu đề"}),r.jsx(je,{name:"tieuDe",placeholder:"Tiêu đề",value:B.tieuDe,onChange:ce,required:!0,className:"mt-1 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Chủ đề"}),r.jsx(je,{name:"chuDe",placeholder:"Chủ đề",value:B.chuDe,onChange:ce,required:!0,className:"mt-1 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Meta Title"}),r.jsx(je,{name:"metaTitle",placeholder:"Tiêu đề SEO",value:B.metaTitle,onChange:ce,className:"mt-1 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Hình ảnh"}),r.jsx("div",{className:`relative border-2 border-dashed rounded-lg p-6 text-center transition-all duration-200 ${F?"border-purple-500 bg-purple-50":"border-gray-300 bg-gray-50"}`,onDragOver:ie=>W(ie,!1),onDragLeave:ie=>Y(ie,!1),onDrop:ie=>Z(ie,!1),children:B.hinhAnh?r.jsxs("div",{className:"relative inline-block",children:[r.jsx("img",{src:`data:image/jpeg;base64,${B.hinhAnh}`,alt:B.moTaHinhAnh||B.tieuDe,className:"max-w-full max-h-48 object-contain rounded-lg border border-gray-200"}),r.jsx("button",{className:"absolute top-0 right-0 -mt-2 -mr-2 bg-white rounded-full p-1 shadow-md hover:bg-red-100",onClick:()=>D({...B,hinhAnh:""}),children:r.jsx(Pc,{className:"h-4 w-4 text-red-600"})})]}):r.jsxs("div",{children:[r.jsx(lk,{className:"h-10 w-10 mx-auto text-gray-400"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Kéo và thả hình ảnh vào đây hoặc nhấp để chọn"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"fileInputCreate",onChange:ie=>se(ie,!1)}),r.jsx("label",{htmlFor:"fileInputCreate",className:"cursor-pointer text-purple-600 hover:text-purple-700 font-semibold",children:"Chọn tệp"})]})})]})}),r.jsxs("div",{className:"md:col-span-2 space-y-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Meta Description"}),r.jsx(je,{name:"metaDescription",placeholder:"Mô tả SEO",value:B.metaDescription,onChange:ce,className:"mt-1 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Tags (phân cách bằng dấu phẩy)"}),r.jsx(je,{name:"tags",placeholder:"seo, marketing, tutorial",value:((he=B.tags)==null?void 0:he.map(ie=>ie.replace(/^#/,"")).join(", "))||"",onChange:ie=>D({...B,tags:ie.target.value.split(",").map(de=>de.trim()).filter(de=>de).map(de=>`#${de}`)}),className:"mt-1 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",id:"isPublished",checked:B.isPublished,onChange:ie=>D({...B,isPublished:ie.target.checked}),className:"h-5 w-5 text-purple-400 border-gray-300 rounded focus:ring-purple-500"}),r.jsx(Oe,{htmlFor:"isPublished",className:"text-sm font-semibold text-gray-700",children:"Công khai?"})]}),r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Nội dung"}),r.jsx(ym,{value:B.noiDung,onChange:ie=>D({...B,noiDung:ie}),modules:le,className:"h-48 border rounded-lg mb-10"})]})]})]}),r.jsxs(Ln,{className:"mt-6",children:[r.jsxs(fe,{variant:"outline",className:"border-gray-300 text-gray-700 hover:bg-gray-100 rounded-lg",onClick:()=>S(!1),"aria-label":"Hủy thêm blog",children:[r.jsx(Pc,{className:"h-4 w-4 mr-2"})," Hủy"]}),r.jsxs(fe,{className:"bg-purple-400 hover:bg-purple-500 text-white rounded-lg",onClick:X,"aria-label":"Thêm blog",children:[r.jsx(F1,{className:"h-4 w-4 mr-2"})," Thêm"]})]})]})}),r.jsx(Yt,{open:M,onOpenChange:P,children:r.jsxs(Kt,{className:"max-w-5xl rounded-lg shadow-xl bg-white overflow-y-auto max-h-[80vh]",children:[r.jsx(rn,{children:r.jsxs(Zt,{className:"text-xl font-bold text-gray-800",children:["Sửa blog ",L==null?void 0:L.maBlog]})}),L&&r.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Mã người dùng"}),r.jsx(je,{value:((pe=I[L.maNguoiDung])==null?void 0:pe.hoTen)||L.maNguoiDung.replace(/\d+$/,"").trim()||"Chưa cập nhật",disabled:!0,className:"mt-1 bg-gray-100 border-gray-300 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Tiêu đề"}),r.jsx(je,{name:"tieuDe",placeholder:"Tiêu đề",value:L.tieuDe,onChange:oe,required:!0,className:"mt-1 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Chủ đề"}),r.jsx(je,{name:"chuDe",placeholder:"Chủ đề",value:L.chuDe,onChange:oe,required:!0,className:"mt-1 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Slug"}),r.jsx(je,{name:"slug",placeholder:"slug-url",value:L.slug,onChange:oe,className:"mt-1 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Hình ảnh"}),r.jsx("div",{className:`relative border-2 border-dashed rounded-lg p-6 text-center transition-all duration-200 ${E?"border-purple-500 bg-purple-50":"border-gray-300 bg-gray-50"}`,onDragOver:ie=>W(ie,!0),onDragLeave:ie=>Y(ie,!0),onDrop:ie=>Z(ie,!0),children:L.hinhAnh?r.jsxs("div",{className:"relative inline-block",children:[r.jsx("img",{src:`data:image/jpeg;base64,${L.hinhAnh}`,alt:L.moTaHinhAnh||L.tieuDe,className:"max-w-full max-h-48 object-contain rounded-lg border border-gray-200"}),r.jsx("button",{type:"button",className:"absolute top-0 right-0 transform translate-x-1/2 -translate-y-1/2 bg-white rounded-full p-1 shadow-md hover:bg-red-100",onClick:()=>O({...L,hinhAnh:""}),children:r.jsx(Pc,{className:"h-4 w-4 text-red-600"})})]}):r.jsxs("div",{children:[r.jsx(lk,{className:"h-10 w-10 mx-auto text-gray-400"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Kéo và thả hình ảnh vào đây hoặc nhấp để chọn"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"fileInputEdit",onChange:ie=>se(ie,!0)}),r.jsx("label",{htmlFor:"fileInputEdit",className:"cursor-pointer text-purple-600 hover:text-purple-700 font-semibold",children:"Chọn tệp"})]})})]}),r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Mô tả hình ảnh (ALT)"}),r.jsx(je,{name:"moTaHinhAnh",placeholder:"Mô tả hình ảnh",value:L.moTaHinhAnh,onChange:oe,className:"mt-1 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),r.jsxs("div",{className:"md:col-span-2 space-y-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Meta Title"}),r.jsx(je,{name:"metaTitle",placeholder:"Tiêu đề SEO",value:L.metaTitle,onChange:oe,className:"mt-1 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Meta Description"}),r.jsx(je,{name:"metaDescription",placeholder:"Mô tả SEO",value:L.metaDescription,onChange:oe,className:"mt-1 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Tags (phân cách bằng dấu phẩy)"}),r.jsx(je,{name:"tags",placeholder:"seo, marketing, tutorial",value:((Ae=L.tags)==null?void 0:Ae.map(ie=>ie.replace(/^#/,"")).join(", "))||"",onChange:ie=>O({...L,tags:ie.target.value.split(",").map(de=>de.trim()).filter(de=>de).map(de=>`#${de}`)}),className:"mt-1 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",id:"isPublishedEdit",checked:L.isPublished,onChange:ie=>O({...L,isPublished:ie.target.checked}),className:"h-5 w-5 text-purple-400 border-gray-300 rounded focus:ring-purple-500"}),r.jsx(Oe,{htmlFor:"isPublishedEdit",className:"text-sm font-semibold text-gray-700",children:"Công khai?"})]}),r.jsxs("div",{children:[r.jsx(Oe,{className:"block text-sm font-semibold text-gray-700",children:"Nội dung"}),r.jsx(ym,{value:L.noiDung,onChange:ie=>O({...L,noiDung:ie}),modules:le,className:"h-48 border rounded-lg mb-10"})]})]})]}),r.jsxs(Ln,{className:"mt-6",children:[r.jsxs(fe,{variant:"outline",className:"border-gray-300 text-gray-700 hover:bg-gray-100 rounded-lg",onClick:()=>P(!1),"aria-label":"Hủy sửa blog",children:[r.jsx(Pc,{className:"h-4 w-4 mr-2"})," Hủy"]}),r.jsxs(fe,{className:"bg-purple-400 hover:bg-purple-500 text-white rounded-lg",onClick:Q,"aria-label":"Lưu blog",children:[r.jsx(Da,{className:"h-4 w-4 mr-2"})," Lưu"]})]})]})})]})};ti.register(Rl,jp,wp,Nd,Sd);const xSe=()=>{const[n,t]=k.useState("daily"),[e,s]=k.useState(new Date().toISOString().split("T")[0]),[a,i]=k.useState("2025"),[o,c]=k.useState("1"),[l,d]=k.useState("2025"),[u,f]=k.useState(null),[h,m]=k.useState(null),[A,g]=k.useState(null),[p,b]=k.useState([]),[x,v]=k.useState([]),[y,S]=k.useState({revenue:null,orderStatus:[],topProducts:[]}),[M,P]=k.useState("summary"),[B,D]=k.useState(!1),L=k.useRef(null),O=k.useRef(null),F=k.useRef(null),_=k.useRef(null),E=k.useRef(null),T=k.useRef(null),w=k.useRef(null),C=k.useRef(null),j=Array.from({length:76},(K,ne)=>2025+ne),N=Array.from({length:12},(K,ne)=>ne+1),I=new Date().toISOString().split("T")[0],R="https://bicacuatho.azurewebsites.net/api/ThongKe",U=(K,ne,ce,oe,ee,W)=>{const Y=document.getElementById(K);if(!Y)return;const Z=Y.getContext("2d");Z&&(W.current&&W.current.destroy(),W.current=new ti(Z,{type:"line",data:{labels:ne,datasets:[{label:`${ee} - Doanh thu`,data:ce,borderColor:"rgba(54, 162, 235, 1)",backgroundColor:"rgba(54, 162, 235, 0.2)",borderWidth:2,tension:.4,fill:!0},{label:`${ee} - Đơn hàng`,data:oe,borderColor:"rgba(255, 99, 132, 1)",backgroundColor:"rgba(255, 99, 132, 0.2)",borderWidth:2,tension:.4,fill:!0}]},options:{responsive:!1,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1}},scales:{x:{title:{display:!0,text:"Thời gian"}},y:{title:{display:!0,text:"Giá trị (VND/Đơn hàng)"},beginAtZero:!0,ticks:{callback:se=>se.toLocaleString()}}}}}))},V=(K,ne,ce,oe)=>{const ee=document.getElementById(K);if(!ee)return;const W=ee.getContext("2d");W&&(oe.current&&oe.current.destroy(),oe.current=new ti(W,{type:"pie",data:{labels:ne.map(Y=>Y.tenTrangThai||Y.name),datasets:[{data:ne.map(Y=>Y.tongDonHang||Y.soLuongDaBan),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#FFCD56","#4BC0C0","#36A2EB","#FF6384"],hoverOffset:4,borderWidth:2,borderColor:"#fff"}]},options:{responsive:!0,plugins:{legend:{position:"bottom",labels:{font:{size:12},padding:15}},tooltip:{backgroundColor:"rgba(0,0,0,0.8)",cornerRadius:8,callbacks:{label:Y=>{const Z=ne[Y.dataIndex];return Z.statusBreakdown?[`${Z.name}: ${Z.soLuongDaBan} sản phẩm`,...Z.statusBreakdown.map(se=>`${se.status}: ${se.soLuong} (${se.doanhThu.toLocaleString()} VND)`)]:`${Z.tenTrangThai}: ${Z.tongDonHang} đơn hàng`}}}}}}))},z=async(K=e)=>{if(!K)return null;D(!0);const[ne,ce,oe]=K.split("-");try{const ee=await fetch(`${R}/Daily?year=${ne}&month=${ce}&day=${oe}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!ee.ok)throw new Error("Failed to fetch daily statistics");const W=await ee.json();if(W.length===0)return null;const Y=W.map(re=>`${re.ngay}/${re.thang}/${re.nam}`),Z=W.map(re=>re.tongDoanhThu),se=W.map(re=>re.tongDonHang);return{labels:Y,revenues:Z,orders:se,totalRevenue:W.reduce((re,le)=>re+le.tongDoanhThu,0),totalOrders:W.reduce((re,le)=>re+le.tongDonHang,0)}}catch(ee){return console.error("Error fetching daily statistics:",ee),null}finally{D(!1)}},X=async()=>{if(!(!a||!o)){D(!0);try{const K=await fetch(`${R}/Monthly?year=${a}&month=${o}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!K.ok)throw new Error("Failed to fetch monthly statistics");const ne=await K.json();if(ne.length===0){m(null);return}const ce=ne.map(W=>`${W.ngay}/${W.thang}/${W.nam}`),oe=ne.map(W=>W.tongDoanhThu),ee=ne.map(W=>W.tongDonHang);U("monthlyChart",ce,oe,ee,"Thống kê theo tháng",O),m({totalRevenue:ne.reduce((W,Y)=>W+Y.tongDoanhThu,0),totalOrders:ne.reduce((W,Y)=>W+Y.tongDonHang,0)})}catch(K){console.error("Error fetching monthly statistics:",K),m(null)}finally{D(!1)}}},Q=async()=>{if(l){D(!0);try{const K=await fetch(`${R}/Yearly?year=${l}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!K.ok)throw new Error("Failed to fetch yearly statistics");const ne=await K.json();if(ne.length===0){g(null);return}const ce=ne.map(W=>`${W.ngay}/${W.thang}/${W.nam}`),oe=ne.map(W=>W.tongDoanhThu),ee=ne.map(W=>W.tongDonHang);U("yearlyChart",ce,oe,ee,"Thống kê theo năm",F),g({totalRevenue:ne.reduce((W,Y)=>W+Y.tongDoanhThu,0),totalOrders:ne.reduce((W,Y)=>W+Y.tongDonHang,0)})}catch(K){console.error("Error fetching yearly statistics:",K),g(null)}finally{D(!1)}}},q=async(K,ne,ce)=>{let oe=`${R}/OrderStatus`;if(K){const[ee,W,Y]=K.split("-");oe+=`?year=${ee}&month=${W}&day=${Y}`}else ne&&ce?oe+=`?year=${ne}&month=${ce}`:ne&&(oe+=`?year=${ne}`);D(!0);try{const ee=await fetch(oe,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!ee.ok)throw new Error("Failed to fetch order status statistics");const W=await ee.json();return W.length>0?W:[]}catch(ee){return console.error("Error fetching order status statistics:",ee),[]}finally{D(!1)}},H=async(K,ne,ce)=>{let oe=`${R}/TopProducts`;if(K){const[ee,W,Y]=K.split("-");oe+=`?year=${ee}&month=${W}&day=${Y}`}else ne&&ce?oe+=`?year=${ne}&month=${ce}`:ne&&(oe+=`?year=${ne}`);D(!0);try{const ee=await fetch(oe,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!ee.ok)throw new Error("Failed to fetch top products statistics");const W=await ee.json();return W.length>0?W:[]}catch(ee){return console.error("Error fetching top products statistics:",ee),[]}finally{D(!1)}},$=async()=>{D(!0);const K=await z(I),ne=await q(I),ce=await H(I);S({revenue:K,orderStatus:ne,topProducts:ce}),K&&U("todayRevenueChart",K.labels,K.revenues,K.orders,"Thống kê doanh thu hôm nay",T),ne.length>0&&V("todayOrderStatusChart",ne,"Thống kê trạng thái đơn hàng hôm nay",w),ce.length>0&&V("todayTopProductsChart",ce,"Top sản phẩm bán chạy hôm nay",C),D(!1)};k.useEffect(()=>{if(M==="summary"){$();const K=setInterval($,6e4);return()=>clearInterval(K)}else M==="revenue"?n==="daily"?z().then(K=>{K?(f(K),U("dailyChart",K.labels,K.revenues,K.orders,"Thống kê theo ngày",L)):f(null)}):n==="monthly"?X():n==="yearly"&&Q():M==="orderStatus"?q(n==="daily"?e:void 0,n==="monthly"?a:n==="yearly"?l:void 0,n==="monthly"?o:void 0).then(K=>{b(K),K.length>0&&V("orderStatusChart",K,"Thống kê trạng thái đơn hàng",_)}):M==="topProducts"&&H(n==="daily"?e:void 0,n==="monthly"?a:n==="yearly"?l:void 0,n==="monthly"?o:void 0).then(K=>{v(K),K.length>0&&V("topProductsChart",K,"Top Sản Phẩm Bán Chạy",E)})},[M,n,e,a,o,l]);const G=K=>{K.preventDefault(),z().then(ne=>{ne?(f(ne),U("dailyChart",ne.labels,ne.revenues,ne.orders,"Thống kê theo ngày",L)):f(null)})},J=K=>{K.preventDefault(),q(n==="daily"?e:void 0,n==="monthly"?a:n==="yearly"?l:void 0,n==="monthly"?o:void 0).then(ne=>{b(ne),ne.length>0&&V("orderStatusChart",ne,"Thống kê trạng thái đơn hàng",_)})},te=K=>{K.preventDefault(),H(n==="daily"?e:void 0,n==="monthly"?a:n==="yearly"?l:void 0,n==="monthly"?o:void 0).then(ne=>{v(ne),ne.length>0&&V("topProductsChart",ne,"Top Sản Phẩm Bán Chạy",E)})};return r.jsxs("div",{className:"space-y-6 p-6 bg-gradient-to-br from-gray-50 to-blue-50 min-h-screen",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:r.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 flex items-center gap-3",children:[r.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),"Quản lý thống kê"]})}),B&&r.jsx("div",{className:"text-center py-8",children:r.jsxs("div",{className:"inline-flex items-center gap-2 text-blue-600",children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),r.jsx("span",{className:"text-lg font-medium",children:"Đang tải dữ liệu..."})]})}),r.jsxs(Na,{defaultValue:"summary",onValueChange:P,className:"space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-2 border border-gray-200",children:r.jsxs(sa,{className:"bg-gray-100 p-1 rounded-md",children:[r.jsx(kn,{value:"summary",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:"📊 Tổng hợp"}),r.jsx(kn,{value:"revenue",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:"💰 Doanh thu"}),r.jsx(kn,{value:"orderStatus",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:"📦 Trạng thái đơn hàng"}),r.jsx(kn,{value:"topProducts",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:"🏆 Sản phẩm bán chạy"})]})}),r.jsx(Fn,{value:"summary",children:r.jsxs("div",{className:"space-y-6",children:[r.jsx(at,{className:"border-0 shadow-lg bg-gradient-to-r from-blue-600 via-purple-600 to-blue-800 text-white",children:r.jsxs(yt,{className:"pb-4",children:[r.jsx(Ct,{className:"text-2xl font-bold text-center",children:"📈 Thống kê tổng hợp hôm nay"}),r.jsxs("p",{className:"text-center text-blue-100 text-lg font-medium",children:[new Date().toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," - ",new Date().toLocaleTimeString("vi-VN")]})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[r.jsxs(at,{className:"shadow-lg border-0 hover:shadow-xl transition-shadow duration-300",children:[r.jsx(yt,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-t-lg",children:r.jsx(Ct,{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:"💰 Doanh thu & Đơn hàng"})}),r.jsx(dt,{className:"p-6",children:y.revenue?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-gray-50 rounded-lg p-3 flex justify-center",children:r.jsx("canvas",{id:"todayRevenueChart",width:"250",height:"180",className:"mx-auto"})}),r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-lg border border-green-200",children:[r.jsx("div",{className:"text-sm text-green-700 font-medium",children:"Tổng doanh thu"}),r.jsxs("div",{className:"text-2xl font-bold text-green-800",children:[y.revenue.totalRevenue.toLocaleString()," VND"]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 p-4 rounded-lg border border-blue-200",children:[r.jsx("div",{className:"text-sm text-blue-700 font-medium",children:"Tổng đơn hàng"}),r.jsx("div",{className:"text-2xl font-bold text-blue-800",children:y.revenue.totalOrders.toLocaleString()})]})]})]}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📊"}),r.jsx("p",{className:"text-gray-500 font-medium",children:"Không có dữ liệu doanh thu hôm nay"})]})})]}),r.jsxs(at,{className:"shadow-lg border-0 hover:shadow-xl transition-shadow duration-300",children:[r.jsx(yt,{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-t-lg",children:r.jsx(Ct,{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:"📦 Trạng thái đơn hàng"})}),r.jsx(dt,{className:"p-6",children:y.orderStatus.length>0?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:r.jsx("canvas",{id:"todayOrderStatusChart",width:"250",height:"250",className:"mx-auto"})}),r.jsx("div",{className:"space-y-2",children:y.orderStatus.map((K,ne)=>r.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-3 rounded-lg border border-purple-200",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-medium text-purple-700",children:K.tenTrangThai}),r.jsxs("span",{className:"text-lg font-bold text-purple-800",children:[K.tongDonHang," đơn"]})]})},ne))})]}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📦"}),r.jsx("p",{className:"text-gray-500 font-medium",children:"Không có dữ liệu trạng thái đơn hàng"})]})})]}),r.jsxs(at,{className:"shadow-lg border-0 hover:shadow-xl transition-shadow duration-300 lg:col-span-2 xl:col-span-1",children:[r.jsx(yt,{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-t-lg",children:r.jsx(Ct,{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:"🏆 Top sản phẩm bán chạy"})}),r.jsx(dt,{className:"p-6",children:y.topProducts.length>0?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:r.jsx("canvas",{id:"todayTopProductsChart",width:"250",height:"250",className:"mx-auto"})}),r.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 p-4 rounded-lg border border-amber-200",children:[r.jsx("div",{className:"text-sm text-amber-700 font-medium",children:"Số sản phẩm bán chạy"}),r.jsxs("div",{className:"text-2xl font-bold text-amber-800",children:[y.topProducts.length," sản phẩm"]})]})]}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"🏆"}),r.jsx("p",{className:"text-gray-500 font-medium",children:"Không có dữ liệu sản phẩm bán chạy"})]})})]})]}),y.topProducts.length>0&&r.jsxs(at,{className:"shadow-lg border-0",children:[r.jsx(yt,{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-t-lg",children:r.jsx(Ct,{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:"📋 Chi tiết sản phẩm bán chạy hôm nay"})}),r.jsx(dt,{className:"p-6",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Br,{children:[r.jsx(Er,{children:r.jsxs(Rt,{className:"bg-gray-50",children:[r.jsx(Qe,{className:"font-bold text-gray-700",children:"Tên sản phẩm"}),r.jsx(Qe,{className:"font-bold text-gray-700",children:"Số lượng bán"}),r.jsx(Qe,{className:"font-bold text-gray-700",children:"Doanh thu"}),r.jsx(Qe,{className:"font-bold text-gray-700",children:"Trạng thái"})]})}),r.jsx(Mr,{children:y.topProducts.map((K,ne)=>{var ce;return r.jsxs(Rt,{className:ne%2===0?"bg-white":"bg-gray-50",children:[r.jsx(He,{className:"font-medium text-gray-900",children:K.name}),r.jsx(He,{className:"text-blue-600 font-semibold",children:K.soLuongDaBan}),r.jsxs(He,{className:"text-green-600 font-semibold",children:[K.doanhThu.toLocaleString()," VND"]}),r.jsx(He,{children:(ce=K.statusBreakdown)==null?void 0:ce.map((oe,ee)=>r.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:[r.jsxs("span",{className:"font-medium",children:[oe.status,":"]})," ",oe.soLuong,r.jsxs("span",{className:"text-green-600 ml-1",children:["(",oe.doanhThu.toLocaleString()," VND)"]})]},ee))})]},K.id)})})]})})})]})]})}),r.jsx(Fn,{value:"revenue",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("label",{htmlFor:"timeFilter",className:"font-medium",children:"Chọn khoảng thời gian:"}),r.jsxs(hn,{value:n,onValueChange:t,children:[r.jsx(on,{className:"w-[180px]",children:r.jsx(fn,{placeholder:"Chọn khoảng thời gian"})}),r.jsxs(ln,{children:[r.jsx(Ve,{value:"daily",children:"Theo ngày"}),r.jsx(Ve,{value:"monthly",children:"Theo tháng"}),r.jsx(Ve,{value:"yearly",children:"Theo năm"})]})]})]}),n==="daily"&&r.jsxs(at,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(Ct,{children:"Thống kê theo ngày"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("input",{type:"date",value:e,onChange:K=>s(K.target.value),className:"border rounded-md p-2",style:{width:"350px"},"aria-label":"Chọn ngày thống kê"}),r.jsx(fe,{onClick:G,children:"Thống kê"})]}),u?r.jsxs(r.Fragment,{children:[r.jsx("canvas",{id:"dailyChart",width:"900",height:"500",style:{margin:"auto",display:"block"}}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("p",{children:["Tổng doanh thu: ",u.totalRevenue.toLocaleString()," VND"]}),r.jsxs("p",{children:["Tổng đơn hàng: ",u.totalOrders.toLocaleString()]})]})]}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]}),n==="monthly"&&r.jsxs(at,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(Ct,{children:"Thống kê theo tháng"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsxs(hn,{value:a,onValueChange:i,children:[r.jsx(on,{className:"w-[350px]",children:r.jsx(fn,{placeholder:"Chọn năm"})}),r.jsx(ln,{children:j.map(K=>r.jsx(Ve,{value:K.toString(),children:K},K))})]}),r.jsxs(hn,{value:o,onValueChange:c,children:[r.jsx(on,{className:"w-[350px]",children:r.jsx(fn,{placeholder:"Chọn tháng"})}),r.jsx(ln,{children:N.map(K=>r.jsxs(Ve,{value:K.toString(),children:["Tháng ",K]},K))})]}),r.jsx(fe,{onClick:X,children:"Thống kê"})]}),h?r.jsxs(r.Fragment,{children:[r.jsx("canvas",{id:"monthlyChart",width:"900",height:"500",style:{margin:"auto",display:"block"}}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("p",{children:["Tổng doanh thu: ",h.totalRevenue.toLocaleString()," VND"]}),r.jsxs("p",{children:["Tổng đơn hàng: ",h.totalOrders.toLocaleString()]})]})]}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]}),n==="yearly"&&r.jsxs(at,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(Ct,{children:"Thống kê theo năm"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsxs(hn,{value:l,onValueChange:d,children:[r.jsx(on,{className:"w-[350px]",children:r.jsx(fn,{placeholder:"Chọn năm"})}),r.jsx(ln,{children:j.map(K=>r.jsx(Ve,{value:K.toString(),children:K},K))})]}),r.jsx(fe,{onClick:Q,children:"Thống kê"})]}),A?r.jsxs(r.Fragment,{children:[r.jsx("canvas",{id:"yearlyChart",width:"900",height:"500",style:{margin:"auto",display:"block"}}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("p",{children:["Tổng doanh thu: ",A.totalRevenue.toLocaleString()," VND"]}),r.jsxs("p",{children:["Tổng đơn hàng: ",A.totalOrders.toLocaleString()]})]})]}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]})]})}),r.jsx(Fn,{value:"orderStatus",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("label",{htmlFor:"timeFilter",className:"font-medium",children:"Chọn khoảng thời gian:"}),r.jsxs(hn,{value:n,onValueChange:t,children:[r.jsx(on,{className:"w-[180px]",children:r.jsx(fn,{placeholder:"Chọn khoảng thời gian"})}),r.jsxs(ln,{children:[r.jsx(Ve,{value:"daily",children:"Theo ngày"}),r.jsx(Ve,{value:"monthly",children:"Theo tháng"}),r.jsx(Ve,{value:"yearly",children:"Theo năm"})]})]})]}),n==="daily"&&r.jsxs(at,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(Ct,{children:"Thống kê trạng thái đơn hàng theo ngày"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("input",{type:"date",value:e,onChange:K=>s(K.target.value),className:"border rounded-md p-2",style:{width:"350px"},"aria-label":"Chọn ngày thống kê"}),r.jsx(fe,{onClick:J,children:"Thống kê"})]}),p.length>0?r.jsx("canvas",{id:"orderStatusChart",width:"500",height:"500",style:{margin:"auto",display:"block"}}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]}),n==="monthly"&&r.jsxs(at,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(Ct,{children:"Thống kê trạng thái đơn hàng theo tháng"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsxs(hn,{value:a,onValueChange:i,children:[r.jsx(on,{className:"w-[350px]",children:r.jsx(fn,{placeholder:"Chọn năm"})}),r.jsx(ln,{children:j.map(K=>r.jsx(Ve,{value:K.toString(),children:K},K))})]}),r.jsxs(hn,{value:o,onValueChange:c,children:[r.jsx(on,{className:"w-[350px]",children:r.jsx(fn,{placeholder:"Chọn tháng"})}),r.jsx(ln,{children:N.map(K=>r.jsxs(Ve,{value:K.toString(),children:["Tháng ",K]},K))})]}),r.jsx(fe,{onClick:J,children:"Thống kê"})]}),p.length>0?r.jsx("canvas",{id:"orderStatusChart",width:"500",height:"500",style:{margin:"auto",display:"block"}}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]}),n==="yearly"&&r.jsxs(at,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(Ct,{children:"Thống kê trạng thái đơn hàng theo năm"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsxs(hn,{value:l,onValueChange:d,children:[r.jsx(on,{className:"w-[350px]",children:r.jsx(fn,{placeholder:"Chọn năm"})}),r.jsx(ln,{children:j.map(K=>r.jsx(Ve,{value:K.toString(),children:K},K))})]}),r.jsx(fe,{onClick:J,children:"Thống kê"})]}),p.length>0?r.jsx("canvas",{id:"orderStatusChart",width:"500",height:"500",style:{margin:"auto",display:"block"}}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]})]})}),r.jsx(Fn,{value:"topProducts",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("label",{htmlFor:"timeFilter",className:"font-medium",children:"Chọn khoảng thời gian:"}),r.jsxs(hn,{value:n,onValueChange:t,children:[r.jsx(on,{className:"w-[180px]",children:r.jsx(fn,{placeholder:"Chọn khoảng thời gian"})}),r.jsxs(ln,{children:[r.jsx(Ve,{value:"daily",children:"Theo ngày"}),r.jsx(Ve,{value:"monthly",children:"Theo tháng"}),r.jsx(Ve,{value:"yearly",children:"Theo năm"})]})]})]}),n==="daily"&&r.jsxs(at,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(Ct,{children:"Sản phẩm bán chạy theo ngày"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("input",{type:"date",value:e,onChange:K=>s(K.target.value),className:"border rounded-md p-2",style:{width:"350px"},"aria-label":"Chọn ngày thống kê"}),r.jsx(fe,{onClick:te,children:"Thống kê"})]}),x.length>0?r.jsxs(r.Fragment,{children:[r.jsx("canvas",{id:"topProductsChart",width:"500",height:"500",style:{margin:"auto",display:"block"}}),r.jsx("div",{className:"mt-4",children:r.jsxs(Br,{children:[r.jsx(Er,{children:r.jsxs(Rt,{children:[r.jsx(Qe,{children:"Tên sản phẩm"}),r.jsx(Qe,{children:"Thương hiệu"}),r.jsx(Qe,{children:"Chất liệu"}),r.jsx(Qe,{children:"Số lượng đã bán"}),r.jsx(Qe,{children:"Doanh thu"}),r.jsx(Qe,{children:"Trạng thái"})]})}),r.jsx(Mr,{children:x.map(K=>r.jsxs(Rt,{children:[r.jsx(He,{children:K.name}),r.jsx(He,{children:K.thuongHieu}),r.jsx(He,{children:K.chatLieu}),r.jsx(He,{children:K.soLuongDaBan}),r.jsxs(He,{children:[K.doanhThu.toLocaleString()," VND"]}),r.jsx(He,{children:K.statusBreakdown.map((ne,ce)=>r.jsxs("div",{children:[ne.status,": ",ne.soLuong," (Doanh thu: ",ne.doanhThu.toLocaleString()," VND)"]},ce))})]},K.id))})]})})]}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]}),n==="monthly"&&r.jsxs(at,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(Ct,{children:"Sản phẩm bán chạy theo tháng"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsxs(hn,{value:a,onValueChange:i,children:[r.jsx(on,{className:"w-[350px]",children:r.jsx(fn,{placeholder:"Chọn năm"})}),r.jsx(ln,{children:j.map(K=>r.jsx(Ve,{value:K.toString(),children:K},K))})]}),r.jsxs(hn,{value:o,onValueChange:c,children:[r.jsx(on,{className:"w-[350px]",children:r.jsx(fn,{placeholder:"Chọn tháng"})}),r.jsx(ln,{children:N.map(K=>r.jsxs(Ve,{value:K.toString(),children:["Tháng ",K]},K))})]}),r.jsx(fe,{onClick:te,children:"Thống kê"})]}),x.length>0?r.jsxs(r.Fragment,{children:[r.jsx("canvas",{id:"topProductsChart",width:"500",height:"500",style:{margin:"auto",display:"block"}}),r.jsx("div",{className:"mt-4",children:r.jsxs(Br,{children:[r.jsx(Er,{children:r.jsxs(Rt,{children:[r.jsx(Qe,{children:"Tên sản phẩm"}),r.jsx(Qe,{children:"Thương hiệu"}),r.jsx(Qe,{children:"Chất liệu"}),r.jsx(Qe,{children:"Số lượng đã bán"}),r.jsx(Qe,{children:"Doanh thu"}),r.jsx(Qe,{children:"Trạng thái"})]})}),r.jsx(Mr,{children:x.map(K=>r.jsxs(Rt,{children:[r.jsx(He,{children:K.name}),r.jsx(He,{children:K.thuongHieu}),r.jsx(He,{children:K.chatLieu}),r.jsx(He,{children:K.soLuongDaBan}),r.jsxs(He,{children:[K.doanhThu.toLocaleString()," VND"]}),r.jsx(He,{children:K.statusBreakdown.map((ne,ce)=>r.jsxs("div",{children:[ne.status,": ",ne.soLuong," (Doanh thu: ",ne.doanhThu.toLocaleString()," VND)"]},ce))})]},K.id))})]})})]}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]}),n==="yearly"&&r.jsxs(at,{className:"mt-4",children:[r.jsx(yt,{children:r.jsx(Ct,{children:"Sản phẩm bán chạy theo năm"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsxs(hn,{value:l,onValueChange:d,children:[r.jsx(on,{className:"w-[350px]",children:r.jsx(fn,{placeholder:"Chọn năm"})}),r.jsx(ln,{children:j.map(K=>r.jsx(Ve,{value:K.toString(),children:K},K))})]}),r.jsx(fe,{onClick:te,children:"Thống kê"})]}),x.length>0?r.jsxs(r.Fragment,{children:[r.jsx("canvas",{id:"topProductsChart",width:"500",height:"500",style:{margin:"auto",display:"block"}}),r.jsx("div",{className:"mt-4",children:r.jsxs(Br,{children:[r.jsx(Er,{children:r.jsxs(Rt,{children:[r.jsx(Qe,{children:"Tên sản phẩm"}),r.jsx(Qe,{children:"Thương hiệu"}),r.jsx(Qe,{children:"Chất liệu"}),r.jsx(Qe,{children:"Số lượng đã bán"}),r.jsx(Qe,{children:"Doanh thu"}),r.jsx(Qe,{children:"Trạng thái"})]})}),r.jsx(Mr,{children:x.map(K=>r.jsxs(Rt,{children:[r.jsx(He,{children:K.name}),r.jsx(He,{children:K.thuongHieu}),r.jsx(He,{children:K.chatLieu}),r.jsx(He,{children:K.soLuongDaBan}),r.jsxs(He,{children:[K.doanhThu.toLocaleString()," VND"]}),r.jsx(He,{children:K.statusBreakdown.map((ne,ce)=>r.jsxs("div",{children:[ne.status,": ",ne.soLuong," (Doanh thu: ",ne.doanhThu.toLocaleString()," VND)"]},ce))})]},K.id))})]})})]}):r.jsx("p",{className:"text-center text-muted-foreground",children:"Không tìm thấy dữ liệu trong khoảng thời gian này."})]})]})]})})]})]})},bSe=({formData:n})=>{const[t,e]=k.useState(new Set),[s,a]=k.useState(0);k.useRef(null);const i=async()=>{try{const o=window.open("","_blank","width=1400,height=900,scrollbars=yes,resizable=yes");if(!o){alert("Không thể mở cửa sổ preview. Vui lòng kiểm tra popup blocker!");return}const c=`
            <!DOCTYPE html>
            <html lang="vi">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Xem Trước Mô Tả Sản Phẩm</title>
                <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"><\/script>
                <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"><\/script>
                <script src="https://unpkg.com/@babel/standalone/babel.min.js"><\/script>
                <script src="https://unpkg.com/swiper@8/swiper-bundle.min.js"><\/script>
                <link href="https://unpkg.com/swiper@8/swiper-bundle.min.css" rel="stylesheet"/>
                <script src="https://cdn.tailwindcss.com"><\/script>
                <style>
                    .magnifier-container {
                        position: relative;
                        display: inline-block;
                        overflow: visible;
                    }
                    
                    .magnifier-glass {
                        position: absolute;
                        width: 227px;
                        height: 227px;
                        border: 3px solid #000;
                        background-color: #fff;
                        box-shadow: 0 0 10px rgba(0,0,0,0.5);
                        pointer-events: none;
                        z-index: 1000;
                    }
                    
                    ::-webkit-scrollbar {
                        width: 8px;
                    }
                    
                    ::-webkit-scrollbar-track {
                        background: #f1f1f1;
                        border-radius: 4px;
                    }
                    
                    ::-webkit-scrollbar-thumb {
                        background: #888;
                        border-radius: 4px;
                    }
                    
                    ::-webkit-scrollbar-thumb:hover {
                        background: #555;
                    }
                    
                    .title-content {
                        max-height: 0;
                        overflow: hidden;
                        transition: max-height 0.3s ease-out;
                    }
                    
                    .title-content.active {
                        max-height: 1000px;
                        transition: max-height 0.5s ease-in;
                    }
                    
                    .swiper-button-next,
                    .swiper-button-prev {
                        color: #3b82f6;
                        background: white;
                        border-radius: 50%;
                        width: 44px;
                        height: 44px;
                        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                    }
                    
                    .swiper-button-next::after,
                    .swiper-button-prev::after {
                        font-size: 18px;
                        font-weight: bold;
                    }
                    
                    .swiper-pagination-bullet {
                        background: #3b82f6;
                        opacity: 0.7;
                    }
                    
                    .swiper-pagination-bullet-active {
                        opacity: 1;
                    }
                    
                    .card-hover:hover {
                        transform: translateY(-2px);
                        box-shadow: 0 20px 40px rgba(0,0,0,0.1);
                    }
                    
                    .arrow-rotate {
                        transition: transform 0.3s ease;
                    }
                    
                    .arrow-rotate.rotated {
                        transform: rotate(180deg);
                    }
                    
                    .loading {
                        display: flex;
                        justify-content: center;
                        align-items: center;
                        height: 100vh;
                        background: #fff;
                    }
                    
                    .loading-spinner {
                        width: 50px;
                        height: 50px;
                        border: 4px solid #f3f3f3;
                        border-top: 4px solid #3b82f6;
                        border-radius: 50%;
                        animation: spin 1s linear infinite;
                    }
                    
                    @keyframes spin {
                        0% { transform: rotate(0deg); }
                        100% { transform: rotate(360deg); }
                    }

                    .main-image {
                        cursor: pointer;
                    }
                </style>
            </head>
            <body class="min-h-screen">
                <div id="loading" class="loading">
                    <div className="loading-spinner"></div>
                </div>
                <div id="root" style="display: none;"></div>
                <script type="text/babel">
                    const { useState, useEffect, useRef } = React;

                    const MagnifierComponent = ({ children, magnifierSize = 227, zoomLevel = 3, imageSrc }) => {
                        const [isVisible, setIsVisible] = useState(false);
                        const [position, setPosition] = useState({ x: 0, y: 0 });
                        const [backgroundPosition, setBackgroundPosition] = useState('0px 0px');
                        const containerRef = useRef(null);
                        const magnifierRef = useRef(null);

                        const handleMouseMove = (e) => {
                            if (!containerRef.current || !magnifierRef.current) return;

                            const rect = containerRef.current.getBoundingClientRect();
                            const x = e.clientX - rect.left;
                            const y = e.clientY - rect.top;

                            if (x < 0 || x > rect.width || y < 0 || y > rect.height) {
                                setIsVisible(false);
                                return;
                            }

                            let magnifierX = x + 20;
                            let magnifierY = y - magnifierSize - 20;

                            const viewportWidth = window.innerWidth;
                            const viewportHeight = window.innerHeight;
                            const absoluteX = e.clientX + 20;
                            const absoluteY = e.clientY - magnifierSize - 20;

                            if (absoluteX + magnifierSize > viewportWidth) {
                                magnifierX = x - magnifierSize - 20;
                            }
                            if (absoluteY < 0) {
                                magnifierY = y + 20;
                            }

                            setPosition({ x: magnifierX, y: magnifierY });

                            const backgroundX = -(x * zoomLevel - magnifierSize / 2);
                            const backgroundY = -(y * zoomLevel - magnifierSize / 2);
                            setBackgroundPosition(\`\${backgroundX}px \${backgroundY}px\`);
                        };

                        const handleMouseEnter = () => {
                            setIsVisible(true);
                        };

                        const handleMouseLeave = () => {
                            setIsVisible(false);
                        };

                        return (
                            <div
                                ref={containerRef}
                                className="magnifier-container"
                                style={{ position: 'relative', display: 'inline-block', overflow: 'visible' }}
                                onMouseMove={handleMouseMove}
                                onMouseEnter={handleMouseEnter}
                                onMouseLeave={handleMouseLeave}
                            >
                                {children}
                                {isVisible && (
                                    <div
                                        ref={magnifierRef}
                                        className="magnifier-glass"
                                        style={{
                                            position: 'absolute',
                                            width: \`\${magnifierSize}px\`,
                                            height: \`\${magnifierSize}px\`,
                                            border: '3px solid #000',
                                            backgroundColor: '#fff',
                                            boxShadow: '0 0 10px rgba(0,0,0,0.5)',
                                            pointerEvents: 'none',
                                            zIndex: 1000,
                                            left: \`\${position.x}px\`,
                                            top: \`\${position.y}px\`,
                                            backgroundImage: \`url(\${imageSrc})\`,
                                            backgroundSize: \`\${containerRef.current?.offsetWidth * zoomLevel}px \${containerRef.current?.offsetHeight * zoomLevel}px\`,
                                            backgroundPosition: backgroundPosition,
                                            backgroundRepeat: 'no-repeat',
                                        }}
                                    />
                                )}
                            </div>
                        );
                    };

                    const formData = ${JSON.stringify(n)};

                    const PreviewDes = ({ formData }) => {
                        const [activeTitles, setActiveTitles] = useState(new Set());
                        const [mainImageIndex, setMainImageIndex] = useState(0);
                        const mainImageRef = useRef(null);

                        const toggleTitle = (index) => {
                            const newActiveTitles = new Set(activeTitles);
                            if (newActiveTitles.has(index)) {
                                newActiveTitles.delete(index);
                            } else {
                                newActiveTitles.add(index);
                            }
                            setActiveTitles(newActiveTitles);
                        };

                        const handleSliderImageClick = (index) => {
                            setMainImageIndex(index + 1);
                        };

                        const handleMainImageClick = () => {
                            if (formData.MoTa.Picture[mainImageIndex]?.url) {
                                const imageSrc = \`data:image/jpeg;base64,\${formData.MoTa.Picture[mainImageIndex].url}\`;
                                const fullImageWindow = window.open('', '_blank', 'width=800,height=600,scrollbars=yes,resizable=yes');
                                
                                if (!fullImageWindow) {
                                    alert('Không thể mở cửa sổ ảnh. Vui lòng kiểm tra popup blocker!');
                                    return;
                                }

                                const fullImageHtml = \`
                                <!DOCTYPE html>
                                <html lang="vi">
                                <head>
                                    <meta charset="UTF-8">
                                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                                    <title>Ảnh Sản Phẩm Toàn Kích Thước</title>
                                    <style>
                                        body {
                                            margin: 0;
                                            padding: 0;
                                            background-color: #f1f1f1;
                                            display: flex;
                                            justify-content: center;
                                            align-items: center;
                                            min-height: 100vh;
                                        }
                                        img {
                                            max-width: 100%;
                                            max-height: 100vh;
                                            object-fit: contain;
                                        }
                                    </style>
                                </head>
                                <body>
                                    <img src="\${imageSrc}" alt="Full Size Product Image" />
                                </body>
                                </html>
                                \`;

                                fullImageWindow.document.write(fullImageHtml);
                                fullImageWindow.document.close();
                                fullImageWindow.focus();
                            }
                        };

                        useEffect(() => {
                            setTimeout(() => {
                                document.getElementById('loading').style.display = 'none';
                                document.getElementById('root').style.display = 'block';
                            }, 1000);

                            const swiper = new Swiper('.swiper', {
                                slidesPerView: 1,
                                spaceBetween: 16,
                                breakpoints: {
                                    640: {
                                        slidesPerView: 2,
                                    },
                                    1024: {
                                        slidesPerView: 3,
                                    },
                                },
                                pagination: {
                                    el: '.swiper-pagination',
                                    clickable: true,
                                },
                                navigation: {
                                    nextEl: '.swiper-button-next',
                                    prevEl: '.swiper-button-prev',
                                },
                                autoplay: {
                                    delay: 3000,
                                    disableOnInteraction: false,
                                },
                                loop: formData.MoTa.Picture.length > 1,
                            });

                            return () => {
                                if (swiper) {
                                    swiper.destroy(true, true);
                                }
                            };
                        }, []);

                        return (
                            <div className="min-h-screen p-4 lg:p-8">
                                <div className="max-w-6xl mx-auto">
                                    <div className="bg-white rounded-2xl shadow-xl p-6 lg:p-8 mb-8 card-hover transition-all duration-300">
                                        <div className="text-center">
                                            <div className="inline-block bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-2 rounded-full text-sm font-medium mb-4">
                                                Mô Tả Chi Tiết Của Sản Phẩm
                                            </div>
                                            {formData.MoTa.Header.title && (
                                                <h1 className="text-3xl lg:text-4xl font-bold text-gray-800 mb-2">
                                                    {formData.MoTa.Header.title}
                                                </h1>
                                            )}
                                            <div className="w-24 h-1 bg-gradient-to-r from-blue-500 to-purple-600 mx-auto rounded-full"></div>
                                        </div>
                                    </div>

                                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
                                        <div className="bg-white rounded-2xl shadow-xl p-6 lg:p-8 card-hover transition-all duration-300">
                                            <h2 className="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                                                <span className="w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm mr-3">📸</span>
                                                Hình ảnh sản phẩm
                                            </h2>
                                            
                                            {formData.MoTa.Picture[mainImageIndex]?.url && (
                                                <MagnifierComponent 
                                                    magnifierSize={227} 
                                                    zoomLevel={3} 
                                                    imageSrc={\`data:image/jpeg;base64,\${formData.MoTa.Picture[mainImageIndex].url}\`}
                                                >
                                                    <img 
                                                        ref={mainImageRef}
                                                        src={\`data:image/jpeg;base64,\${formData.MoTa.Picture[mainImageIndex].url}\`}
                                                        alt="Main Image"
                                                        className="w-full max-w-md mx-auto rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 main-image"
                                                        onClick={handleMainImageClick}
                                                    />
                                                </MagnifierComponent>
                                            )}

                                            {formData.MoTa.Picture.slice(1).length > 0 && (
                                                <div className="bg-gray-50 rounded-2xl p-4">
                                                    <h3 className="text-lg font-semibold mb-4 text-gray-700">🖼️ Thư viện ảnh</h3>
                                                    <div className="swiper">
                                                        <div className="swiper-wrapper">
                                                            {formData.MoTa.Picture.slice(1).map((pic, index) => (
                                                                pic.url && (
                                                                    <div key={index} className="swiper-slide">
                                                                        <img 
                                                                            src={\`data:image/jpeg;base64,\${pic.url}\`}
                                                                            alt={\`Gallery Image \${index + 1}\`}
                                                                            className="w-full h-48 object-cover rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300 cursor-pointer"
                                                                            onClick={() => handleSliderImageClick(index)}
                                                                        />
                                                                    </div>
                                                                )
                                                            ))}
                                                        </div>
                                                        <div className="swiper-pagination mt-4"></div>
                                                        <div className="swiper-button-prev"></div>
                                                        <div className="swiper-button-next"></div>
                                                    </div>
                                                </div>
                                            )}
                                        </div>

                                        <div className="space-y-6">
                                            {formData.MoTa.Title.map((title, titleIndex) => (
                                                <div key={titleIndex} className="bg-white rounded-2xl shadow-xl overflow-hidden card-hover transition-all duration-300">
                                                    {title.name && (
                                                        <div 
                                                            className="p-6 cursor-pointer hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100"
                                                            onClick={() => toggleTitle(titleIndex)}
                                                        >
                                                            <div className="flex items-center justify-between">
                                                                <h3 className="text-xl font-bold text-gray-800 flex items-center">
                                                                    <span className="w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm mr-3">
                                                                        {titleIndex + 1}
                                                                    </span>
                                                                    {title.name}
                                                                </h3>
                                                                <div className={\`arrow-rotate \${activeTitles.has(titleIndex) ? 'rotated' : ''}\`}>
                                                                    <svg className="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
                                                                    </svg>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    )}
                                                    <div className={\`title-content \${activeTitles.has(titleIndex) ? 'active' : ''}\`}>
                                                        <div className="p-6 pt-0">
                                                            {title.Subtitle.map((subtitle, subtitleIndex) => (
                                                                <div key={subtitleIndex} className="mb-6 last:mb-0">
                                                                    {subtitle.name && (
                                                                        <div className="bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 mb-3">
                                                                            <h4 className="text-lg font-semibold text-gray-700 flex items-center">
                                                                                <span className="w-6 h-6 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white text-xs mr-2">
                                                                                    ✓
                                                                                </span>
                                                                                {subtitle.name}
                                                                            </h4>
                                                                        </div>
                                                                    )}
                                                                    {subtitle.Description.content && (
                                                                        <div 
                                                                            className="text-gray-600 prose max-w-none pl-8 leading-relaxed"
                                                                            dangerouslySetInnerHTML={{ __html: subtitle.Description.content }}
                                                                        />
                                                                    )}
                                                                </div>
                                                            ))}
                                                        </div>
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        );
                    };

                    const App = () => (
                        <PreviewDes formData={formData} />
                    );

                    const rootElement = document.getElementById('root');
                    ReactDOM.render(<App />, rootElement);
                <\/script>
            </body>
            </html>
            `;o.document.write(c),o.document.close(),o.focus(),console.log("Preview window opened successfully")}catch(o){console.error("Error opening preview window:",o),alert("Có lỗi xảy ra khi mở preview. Vui lòng thử lại!")}};return r.jsx("button",{onClick:i,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg flex items-center justify-center gap-2",children:"Preview Mô Tả của Sản phẩm"})},vSe={toolbar:[[{header:[1,2,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["clean"]]},$F=({isOpen:n,onClose:t,moTaChiTiet:e})=>{const[s,a]=k.useState({MoTa:{Header:{},Picture:[{}],Title:[{Subtitle:[{Description:{}}]}]}}),[i,o]=k.useState(!1),[c,l]=k.useState(""),[d,u]=k.useState(!1),[f,h]=k.useState(!1),[m,A]=k.useState(null),[g,p]=k.useState([]),b=k.useRef(null),x=k.useRef(null);k.useEffect(()=>{var N;if(e){const{header:I,picture:R,title:U}=e.moTa||{};a({MaSanPham:e.maSanPham||null,MoTa:{Header:I||{},Picture:R&&Array.isArray(R)?R:[{}],Title:U&&Array.isArray(U)?U.map(V=>({name:V.name||"",Subtitle:V.subtitle&&Array.isArray(V.subtitle)?V.subtitle.map(z=>({name:z.name||"",Description:z.description||{}})):[{Description:{}}]})):[{Subtitle:[{Description:{}}]}]}}),A(((N=R==null?void 0:R[0])==null?void 0:N.url)||null),p(R&&Array.isArray(R)?R.slice(1).map(V=>V.url).filter(V=>V):[])}else a({MaSanPham:null,MoTa:{Header:{},Picture:[{}],Title:[{Subtitle:[{Description:{}}]}]}}),A(null),p([])},[e]);const v=(N,I=!1)=>{N.preventDefault(),N.stopPropagation(),I?h(!0):u(!0)},y=(N,I=!1)=>{N.preventDefault(),N.stopPropagation(),I?h(!1):u(!1)},S=(N,I=!1)=>{N.preventDefault(),N.stopPropagation(),I?h(!1):u(!1);const R=Array.from(N.dataTransfer.files);P(R,I)},M=(N,I=!1)=>{const R=Array.from(N.target.files);P(R,I)},P=(N,I)=>{N.forEach(R=>{if(R.type.startsWith("image/")){const U=new FileReader;U.onloadend=()=>{const V=U.result.replace(/^data:image\/[a-z]+;base64,/,"");I?(p(z=>[...z,V]),a(z=>({...z,MoTa:{...z.MoTa,Picture:z.MoTa.Picture.length===1&&!z.MoTa.Picture[0].url?[z.MoTa.Picture[0],{url:V}]:[...z.MoTa.Picture,{url:V}]}}))):(A(V),a(z=>({...z,MoTa:{...z.MoTa,Picture:[{url:V},...z.MoTa.Picture.slice(1)]}})))},U.readAsDataURL(R)}})},B=(N,I=!1)=>{I?(p(R=>R.filter((U,V)=>V!==N)),a(R=>({...R,MoTa:{...R.MoTa,Picture:[R.MoTa.Picture[0],...R.MoTa.Picture.slice(1).filter((U,V)=>V!==N)]}}))):(A(null),a(R=>({...R,MoTa:{...R.MoTa,Picture:[{},...R.MoTa.Picture.slice(1)]}})))},D=N=>{a(I=>({...I,MoTa:{...I.MoTa,Header:{title:N}}}))},L=(N,I)=>{a(R=>({...R,MoTa:{...R.MoTa,Title:R.MoTa.Title.map((U,V)=>V===N?{...U,name:I}:U)}}))},O=()=>{a(N=>({...N,MoTa:{...N.MoTa,Title:[...N.MoTa.Title,{Subtitle:[{Description:{}}]}]}}))},F=N=>{s.MoTa.Title.length>1&&a(I=>({...I,MoTa:{...I.MoTa,Title:I.MoTa.Title.filter((R,U)=>U!==N)}}))},_=(N,I,R)=>{a(U=>({...U,MoTa:{...U.MoTa,Title:U.MoTa.Title.map((V,z)=>z===N?{...V,Subtitle:V.Subtitle.map((X,Q)=>Q===I?{...X,name:R}:X)}:V)}}))},E=N=>{a(I=>({...I,MoTa:{...I.MoTa,Title:I.MoTa.Title.map((R,U)=>U===N?{...R,Subtitle:[...R.Subtitle,{Description:{}}]}:R)}}))},T=(N,I)=>{s.MoTa.Title[N].Subtitle.length>1&&a(U=>({...U,MoTa:{...U.MoTa,Title:U.MoTa.Title.map((V,z)=>z===N?{...V,Subtitle:V.Subtitle.filter((X,Q)=>Q!==I)}:V)}}))},w=(N,I,R)=>{a(U=>({...U,MoTa:{...U.MoTa,Title:U.MoTa.Title.map((V,z)=>z===N?{...V,Subtitle:V.Subtitle.map((X,Q)=>Q===I?{...X,Description:{content:R}}:X)}:V)}}))},C=()=>{const N=JSON.stringify([s],null,2);l(N),o(!0)},j=async()=>{const N=[{...s,MaSanPham:(e==null?void 0:e.maSanPham)||null,IdMoTa:(e==null?void 0:e.idMoTa)||null}];console.log(N);try{const I=await fetch("https://bicacuatho.azurewebsites.net/api/SanPham/MoTaSanPhamCreate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});if(I.ok)Ce.fire({title:"Thành công!",text:"Lưu mô tả thành công!",icon:"success",timer:800,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{C(),t()});else{const R=await I.json();Ce.fire({title:"Lỗi!",text:R.message||"Có lỗi xảy ra khi lưu mô tả.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}}catch(I){console.error("Lỗi khi gửi dữ liệu:",I),Ce.fire({title:"Lỗi!",text:"Có lỗi xảy ra khi gửi dữ liệu tới API.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}};return r.jsx(Yt,{open:n,onOpenChange:t,children:r.jsxs(Kt,{className:"max-w-4xl p-6 bg-white rounded-lg shadow-lg max-h-[90vh] overflow-y-auto",children:[r.jsx(rn,{children:r.jsx(Zt,{className:"text-xl font-semibold text-gray-800",children:"Nhập Thông Tin Mô Tả Sản Phẩm"})}),r.jsxs("div",{className:"py-4 space-y-6",children:[r.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-base font-semibold text-gray-700 mb-3",children:"Tiêu đề"}),r.jsx(je,{type:"text",className:"w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nhập tiêu đề chính",value:s.MoTa.Header.title||"",onChange:N=>D(N.target.value)})]}),r.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-base font-semibold text-gray-700 mb-3",children:"Ảnh Chính"}),r.jsxs("div",{className:`relative w-full h-40 border-2 border-dashed rounded-lg transition-all duration-200 cursor-pointer overflow-hidden ${d?"border-blue-500 bg-blue-50":m?"border-green-500 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragOver:N=>v(N),onDragLeave:N=>y(N),onDrop:N=>S(N),onClick:()=>{var N;return!m&&((N=b.current)==null?void 0:N.click())},children:[r.jsx("input",{type:"file",ref:b,onChange:N=>M(N),accept:"image/*",className:"hidden"}),m?r.jsxs("div",{className:"relative w-full h-full",children:[r.jsx("img",{src:`data:image/jpeg;base64,${m}`,alt:"Main Image Preview",className:"w-full h-full object-contain"}),r.jsx("button",{onClick:N=>{N.stopPropagation(),B(0)},className:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full w-8 h-8 flex items-center justify-center transition-colors shadow-lg z-10",children:r.jsx(st,{size:16})})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[r.jsx(Lr,{className:"w-10 h-10 mb-2"}),r.jsx("p",{className:"text-base font-medium",children:"Kéo thả ảnh vào đây"}),r.jsx("p",{className:"text-sm",children:"hoặc nhấp để chọn file"}),r.jsx("p",{className:"text-xs mt-1 text-gray-400",children:"PNG, JPG, GIF (1 ảnh duy nhất)"})]})]})]}),r.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-base font-semibold text-gray-700 mb-3",children:"Ảnh Slider"}),r.jsxs("div",{className:`relative w-full min-h-[160px] border-2 border-dashed rounded-lg transition-all duration-200 cursor-pointer ${f?"border-blue-500 bg-blue-50":g.length>0?"border-green-500 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragOver:N=>v(N,!0),onDragLeave:N=>y(N,!0),onDrop:N=>S(N,!0),onClick:()=>{var N;return(N=x.current)==null?void 0:N.click()},children:[r.jsx("input",{type:"file",ref:x,onChange:N=>M(N,!0),accept:"image/*",multiple:!0,className:"hidden"}),g.length>0?r.jsxs("div",{className:"p-4",children:[r.jsx("div",{className:"grid grid-cols-4 gap-4",children:g.map((N,I)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:`data:image/jpeg;base64,${N}`,alt:`Slider Image ${I+1}`,className:"w-full h-24 object-cover rounded-lg border-2 border-gray-300 group-hover:border-blue-400 transition-colors"}),r.jsx("button",{onClick:R=>{R.stopPropagation(),B(I,!0)},className:"absolute -top-2 -right-2 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center transition-colors shadow-lg opacity-0 group-hover:opacity-100",children:r.jsx(st,{size:12})})]},I))}),r.jsx("div",{className:"mt-4 text-center",children:r.jsxs("p",{className:"text-sm text-gray-600",children:[g.length," ảnh đã chọn - Click để thêm ảnh khác"]})})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-gray-500",children:[r.jsx(Lr,{className:"w-10 h-10 mb-2"}),r.jsx("p",{className:"text-base font-medium",children:"Kéo thả ảnh vào đây"}),r.jsx("p",{className:"text-sm",children:"hoặc nhấp để chọn file"}),r.jsx("p",{className:"text-xs mt-1 text-gray-400",children:"PNG, JPG, GIF (nhiều ảnh)"})]})]})]}),r.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-base font-semibold text-gray-700",children:"Mục Đề"}),r.jsxs(fe,{onClick:O,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[r.jsx(cr,{size:16}),"Thêm Mục Đề"]})]}),s.MoTa.Title.map((N,I)=>r.jsxs("div",{className:"bg-white p-4 rounded-lg mb-4 border border-gray-200",children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsxs("h4",{className:"text-sm font-medium text-gray-600",hidden:!0,children:["Mục Đề ",I+1]}),s.MoTa.Title.length>1&&r.jsx("button",{onClick:()=>F(I),className:"bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center transition-colors",children:r.jsx(st,{size:12})})]}),r.jsx("div",{className:"mb-4",children:r.jsx(je,{type:"text",className:"w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Tên Mục Đề",value:N.name||"",onChange:R=>L(I,R.target.value)})}),r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h5",{className:"text-sm font-medium text-gray-600",hidden:!0,children:"Mục Đề Con"}),r.jsxs(fe,{onClick:()=>E(I),variant:"outline",size:"sm",className:"border-gray-300 text-gray-700 hover:bg-gray-100",children:[r.jsx(cr,{size:12}),"Thêm Mục Nhỏ"]})]}),r.jsx("div",{className:"space-y-3",children:N.Subtitle.map((R,U)=>r.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("h6",{className:"text-xs font-medium text-gray-500",hidden:!0,children:["Mục Nhỏ ",U+1]}),N.Subtitle.length>1&&r.jsx("button",{onClick:()=>T(I,U),className:"bg-red-500 hover:bg-red-600 text-white rounded-full w-5 h-5 flex items-center justify-center transition-colors",children:r.jsx(st,{size:10})})]}),r.jsx("div",{className:"mb-3",children:r.jsx(je,{type:"text",className:"w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Tên Mục Nhỏ",value:R.name||"",onChange:V=>_(I,U,V.target.value)})}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 mb-2 block",hidden:!0,children:"Nội dung mô tả:"}),r.jsx(ym,{value:R.Description.content||"",onChange:V=>w(I,U,V),modules:vSe,className:"min-h-[100px] bg-white border border-gray-300 rounded-lg",placeholder:"Nội dung mô tả"})]})]},U))})]})]},I))]}),r.jsx("div",{className:"space-y-3",children:r.jsx(bSe,{formData:s})}),i&&r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 max-h-64 overflow-y-auto",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-2",children:"JSON Preview"}),r.jsx("pre",{className:"bg-gray-800 text-green-400 p-3 rounded-md text-xs overflow-x-auto",children:c||JSON.stringify([s],null,2)})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t mt-6",children:[r.jsx(fe,{variant:"outline",onClick:t,className:"border-gray-300 text-gray-700 hover:bg-gray-100 rounded-lg px-6",children:"Hủy"}),r.jsx(fe,{onClick:j,className:"bg-purple-500 hover:bg-purple-600 text-white px-6",children:"Lưu Mô Tả"})]})]})})},ySe=({isEditModalOpen:n,setIsEditModalOpen:t,selectedProduct:e,productData:s})=>{var se;const[a,i]=k.useState([{color:"#ffffff",image:null,sizes:[{size:"",price:"",giaNhap:"",quantity:"1"}]}]),[o,c]=k.useState(""),[l,d]=k.useState(""),[u,f]=k.useState(""),[h,m]=k.useState(""),[A,g]=k.useState(""),[p,b]=k.useState(""),[x,v]=k.useState([]),[y,S]=k.useState({}),[M,P]=k.useState([]),[B,D]=k.useState([]),[L,O]=k.useState([]),[F,_]=k.useState([]),[E,T]=k.useState(""),[w,C]=k.useState(!1),[j,N]=k.useState(!1),[I,R]=k.useState([]),U=k.useRef(null),V=k.useRef({});k.useEffect(()=>{const re=async()=>{try{const ue=localStorage.getItem("token"),he=await fetch("https://bicacuatho.azurewebsites.net/api/LoaiSanPham",{method:"GET",headers:{"Content-Type":"application/json",Authorization:ue?`Bearer ${ue}`:void 0}});if(!he.ok)throw new Error("Không thể lấy danh sách loại sản phẩm.");const pe=await he.json();P(Array.isArray(pe)?pe.filter(Ae=>Ae.trangThai===1):[])}catch(ue){console.error("Lỗi khi lấy danh sách loại sản phẩm:",ue),Ce.fire({title:"Lỗi!",text:ue.message||"Không thể lấy danh sách loại sản phẩm.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}},le=async()=>{try{const ue=localStorage.getItem("token"),he=await fetch("https://bicacuatho.azurewebsites.net/api/ThuongHieu",{method:"GET",headers:{"Content-Type":"application/json",Authorization:ue?`Bearer ${ue}`:void 0}});if(!he.ok)throw new Error("Không thể lấy danh sách thương hiệu.");const pe=await he.json();D(Array.isArray(pe)?pe:[])}catch(ue){console.error("Lỗi khi lấy danh sách thương hiệu:",ue),Ce.fire({title:"Lỗi!",text:ue.message||"Không thể lấy danh sách thương hiệu.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}},ae=async()=>{try{const ue=localStorage.getItem("token"),he=await fetch("https://bicacuatho.azurewebsites.net/api/HashTag",{method:"GET",headers:{"Content-Type":"application/json",Authorization:ue?`Bearer ${ue}`:void 0}});if(!he.ok)throw new Error("Không thể lấy danh sách hashtag.");const pe=await he.json();O(Array.isArray(pe)?pe:[])}catch(ue){console.error("Lỗi khi lấy danh sách hashtag:",ue),Ce.fire({title:"Lỗi!",text:ue.message||"Không thể lấy danh sách hashtag.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}};re(),le(),ae()},[]),k.useEffect(()=>{(async()=>{if(!u){R([]);return}try{const le=localStorage.getItem("token"),ae=await fetch(`https://bicacuatho.azurewebsites.net/api/LoaiSanPham/${u}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:le?`Bearer ${le}`:void 0}});if(!ae.ok)throw new Error("Không thể lấy danh sách kích thước.");const ue=await ae.json();R(Array.isArray(ue.kichThuoc)?ue.kichThuoc:[])}catch(le){console.error("Lỗi khi lấy danh sách kích thước:",le),Ce.fire({title:"Lỗi!",text:le.message||"Không thể lấy danh sách kích thước.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}),R([])}})()},[u]),k.useEffect(()=>{if(s&&s.length>0&&B.length>0&&M.length>0){const re=s[0];c(re.tenSanPham||""),d(String(re.th||"")),f(String(re.lsp||"")),m(re.moTa||""),g(re.chatLieu||""),b(String(re.gioiTinh||"")),v(re.hinhAnhs||[]),_((re.listHashTag||[]).map(le=>({ID:le.id,Name:le.name}))),z(s)}},[s,B,M]);const z=re=>{if(re&&re.length>0){const le=re.map(ae=>{var ue;return{color:`#${ae.mauSac}`,image:((ue=ae.details[0])==null?void 0:ue.hinhAnh)||null,sizes:ae.details.map(he=>({size:he.kichThuoc.trim(),price:he.gia.toString(),giaNhap:he.giaNhap?he.giaNhap.toString():"",quantity:he.soLuong!=null?he.soLuong.toString():"0"}))}});i(le)}},X=re=>{re.preventDefault(),re.stopPropagation(),C(!0)},Q=re=>{re.preventDefault(),re.stopPropagation(),C(!1)},q=re=>{re.preventDefault(),re.stopPropagation(),C(!1),Array.from(re.dataTransfer.files).forEach(ae=>{if(ae.type.startsWith("image/")&&ae.size<=5*1024*1024){const ue=new FileReader;ue.onloadend=()=>{const he=ue.result.replace(/^data:image\/[a-z]+;base64,/,"");v(pe=>[...pe,he]),S(pe=>({...pe,images:""}))},ue.readAsDataURL(ae)}else Ce.fire({title:"Lỗi!",text:ae.type.startsWith("image/")?"Hình ảnh không được vượt quá 5MB.":"Vui lòng chọn tệp hình ảnh.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})})},H=re=>{Array.from(re.target.files).forEach(ae=>{if(ae.type.startsWith("image/")&&ae.size<=5*1024*1024){const ue=new FileReader;ue.onloadend=()=>{const he=ue.result.replace(/^data:image\/[a-z]+;base64,/,"");v(pe=>[...pe,he]),S(pe=>({...pe,images:""}))},ue.readAsDataURL(ae)}else Ce.fire({title:"Lỗi!",text:ae.type.startsWith("image/")?"Hình ảnh không được vượt quá 5MB.":"Vui lòng chọn tệp hình ảnh.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})})},$=(re,le)=>{const ae=le.target.files[0];if(ae&&ae.type.startsWith("image/")&&ae.size<=5*1024*1024){const ue=new FileReader;ue.onloadend=()=>{const he=ue.result.replace(/^data:image\/[a-z]+;base64,/,""),pe=[...a];pe[re].image=he,i(pe)},ue.readAsDataURL(ae)}else Ce.fire({title:"Lỗi!",text:ae.type.startsWith("image/")?"Hình ảnh không được vượt quá 5MB.":"Vui lòng chọn tệp hình ảnh.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})},G=re=>{v(le=>le.filter((ae,ue)=>ue!==re))},J=re=>{const le=[...a];le[re].image=null,i(le)},te=()=>{i([...a,{color:"#ffffff",image:null,sizes:[{size:I.length>0?I[0]:"",price:"",giaNhap:"",quantity:"1"}]}])},K=re=>{const le=[...a];le[re].sizes.push({size:I.length>0?I[0]:"",price:"",giaNhap:"",quantity:"1"}),i(le)},ne=(re,le)=>{const ae=[...a];ae[re].sizes.splice(le,1),i(ae)},ce=re=>{const le=a.filter((ae,ue)=>ue!==re);i(le)},oe=(re,le,ae,ue)=>{const he=[...a];ae==="color"?he[re].color=ue:he[re].sizes[le][ae]=ue,i(he)},ee=(re,le,ae)=>{const ue=[...a],he=parseInt(ue[re].sizes[le].quantity)||0,pe=Math.max(1,he+ae);ue[re].sizes[le].quantity=pe.toString(),i(ue)},W=re=>{_(le=>le.some(ue=>ue.ID===re.maHashTag)?le.filter(ue=>ue.ID!==re.maHashTag):[...le,{ID:re.maHashTag,Name:re.tenHashTag}])},Y=async()=>{let re={},le=!1;const ae=new Set,ue=x.map(pe=>pe.startsWith("data:image")?pe.replace(/^data:image\/[a-z]+;base64,/,""):pe);if(o.trim()||(re.tenSanPham="Tên sản phẩm không được để trống.",le=!0),l||(re.maThuongHieu="Vui lòng chọn thương hiệu.",le=!0),u||(re.loaiSanPham="Vui lòng chọn loại sản phẩm.",le=!0),p||(re.gioiTinh="Vui lòng chọn giới tính.",le=!0),ue.length===0&&(re.images="Vui lòng thêm ít nhất một hình ảnh.",le=!0),A.trim()||(re.chatLieu="Chất liệu không được để trống.",le=!0),a.forEach((pe,Ae)=>{const ie=pe.color.slice(1).toUpperCase();ie?ae.has(ie)?(re[`${Ae}-mauSac`]=`- Màu ${ie} đã tồn tại.`,le=!0):ae.add(ie):(re[`${Ae}-mauSac`]=`- Vui lòng chọn màu sắc cho màu ${Ae+1}.`,le=!0),pe.image||(re[`${Ae}-image`]=`- Vui lòng thêm hình ảnh cho màu ${ie}.`,le=!0);const de=new Set;pe.sizes.forEach((me,ve)=>{me.size?de.has(me.size)?(re[`${Ae}-details-${ve}-kichThuoc`]=`- Kích thước ${me.size} của màu ${ie} đã tồn tại.`,le=!0):de.add(me.size):(re[`${Ae}-details-${ve}-kichThuoc`]=`- Vui lòng chọn kích thước cho màu ${ie}.`,le=!0),(!me.price||parseInt(me.price)<=0)&&(re[`${Ae}-details-${ve}-gia`]=`- Giá của kích thước ${me.size} thuộc màu ${ie} phải lớn hơn 0.`,le=!0),(!me.giaNhap||parseInt(me.giaNhap)<=0)&&(re[`${Ae}-details-${ve}-giaNhap`]=`- Giá nhập của kích thước ${me.size} thuộc màu ${ie} phải lớn hơn 0.`,le=!0)})}),le){S(re),Ce.fire({title:"Lỗi!",text:"Vui lòng điền đầy đủ và đúng thông tin trước khi cập nhật sản phẩm.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1});return}const he={data:a.map(pe=>({ID:(e==null?void 0:e.id)||"A00001",TenSanPham:o.trim(),MaThuongHieu:parseInt(l),LoaiSanPham:parseInt(u),MauSac:pe.color.slice(1).toUpperCase(),MoTa:h.trim()||null,ChatLieu:A.trim(),GioiTinh:parseInt(p),HinhAnhs:ue,Details:pe.sizes.map(Ae=>({KichThuoc:Ae.size.trim(),SoLuong:parseInt(Ae.quantity),Gia:parseInt(Ae.price),GiaNhap:parseInt(Ae.giaNhap),HinhAnh:pe.image||null}))})),hashtaglist:F.map(pe=>({ID:pe.ID,Name:pe.Name}))};try{const pe=localStorage.getItem("token"),Ae=await fetch("https://bicacuatho.azurewebsites.net/api/SanPham/EditSanPham",{method:"POST",headers:{"Content-Type":"application/json",Authorization:pe?`Bearer ${pe}`:void 0},body:JSON.stringify(he)});if(Ae.ok)Ce.fire({title:"Thành công!",text:"Cập nhật sản phẩm thành công!",icon:"success",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{t(!1),window.location.reload()});else{const ie=await Ae.json();Ce.fire({title:"Lỗi!",text:ie.message||"Có lỗi xảy ra khi cập nhật sản phẩm.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}}catch(pe){console.error("Lỗi khi gửi dữ liệu:",pe),Ce.fire({title:"Lỗi!",text:"Có lỗi xảy ra khi gửi dữ liệu tới API.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}},Z=L.filter(re=>re.tenHashTag.toLowerCase().includes(E.toLowerCase()));return r.jsxs(r.Fragment,{children:[r.jsx(Yt,{open:n,onOpenChange:t,children:r.jsxs(Kt,{className:"max-w-7xl p-6 bg-white rounded-lg",children:[r.jsx(rn,{children:r.jsx(Zt,{className:"text-2xl font-bold text-gray-800",children:"Chỉnh Sửa Sản Phẩm"})}),r.jsxs("div",{className:"py-4 shadow-lg max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[r.jsxs("div",{className:"col-span-2 space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Tên Sản Phẩm"}),r.jsx(je,{value:o,onChange:re=>{c(re.target.value),S({...y,tenSanPham:""})},className:"w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Nhập tên sản phẩm",maxLength:100}),y.tenSanPham&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.tenSanPham})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Chất Liệu"}),r.jsx(je,{value:A,onChange:re=>{g(re.target.value),S({...y,chatLieu:""})},className:"w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Nhập chất liệu",maxLength:50}),y.chatLieu&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.chatLieu})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Thương Hiệu"}),r.jsxs("select",{value:l,onChange:re=>{d(re.target.value),S({...y,maThuongHieu:""})},className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"",children:"Chọn thương hiệu"}),B.map(re=>r.jsx("option",{value:re.maThuongHieu,children:re.tenThuongHieu},re.maThuongHieu))]}),y.maThuongHieu&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.maThuongHieu})]}),r.jsxs("div",{hidden:!0,children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Loại Sản Phẩm"}),r.jsxs("select",{value:u,onChange:re=>{f(re.target.value),S({...y,loaiSanPham:""})},className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"",children:"Chọn loại sản phẩm"}),M.map(re=>r.jsxs("option",{value:re.maLoaiSanPham,children:[re.tenLoaiSanPham," (",re.kiHieu,")"]},re.maLoaiSanPham))]}),y.loaiSanPham&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.loaiSanPham})]})]}),r.jsx("div",{className:"grid grid-cols-2 gap-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Giới Tính"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",name:"gioiTinh",value:"1",checked:p==="1",onChange:re=>{b(re.target.value),S({...y,gioiTinh:""})},className:"h-4 w-4 text-purple-500 focus:ring-purple-500 border-gray-300"}),r.jsx("span",{className:"text-gray-700",children:"Nam"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",name:"gioiTinh",value:"2",checked:p==="2",onChange:re=>{b(re.target.value),S({...y,gioiTinh:""})},className:"h-4 w-4 text-purple-500 focus:ring-purple-500 border-gray-300"}),r.jsx("span",{className:"text-gray-700",children:"Nữ"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",name:"gioiTinh",value:"3",checked:p==="3",onChange:re=>{b(re.target.value),S({...y,gioiTinh:""})},className:"h-4 w-4 text-purple-500 focus:ring-purple-500 border-gray-300"}),r.jsx("span",{className:"text-gray-700",children:"Unisex"})]})]}),y.gioiTinh&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.gioiTinh})]})})]}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("label",{className:"block font-medium text-gray-700",children:"Màu Sắc và Kích Thước"}),r.jsxs(fe,{onClick:te,className:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg flex items-center gap-2",disabled:!u,children:[r.jsx(cr,{size:16}),"Thêm Màu Sắc"]})]}),r.jsx("div",{className:"space-y-4",children:a.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-300 rounded-lg",children:[r.jsx("svg",{className:"w-12 h-12 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),r.jsx("p",{className:"text-sm",children:"Chưa có màu sắc hoặc kích thước nào"}),r.jsx("p",{className:"text-xs",children:'Nhấn "Thêm Màu Sắc" để bắt đầu'})]}):a.map((re,le)=>r.jsxs("div",{className:"relative border border-gray-200 rounded-lg p-4 bg-white shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"color",value:re.color,onChange:ae=>oe(le,null,"color",ae.target.value),className:"w-12 h-12 border-2 border-gray-300 rounded-lg cursor-pointer"}),r.jsxs("span",{className:"font-medium text-gray-700",children:["Màu ",le+1," (",re.color.slice(1).toUpperCase(),")"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"file",ref:ae=>V.current[le]=ae,onChange:ae=>$(le,ae),accept:"image/*",className:"hidden"}),re.image?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:`data:image/jpeg;base64,${re.image}`,alt:`Color ${le+1}`,className:"w-12 h-12 object-cover rounded-lg border-2 border-gray-300"}),r.jsx("button",{onClick:()=>J(le),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center hover:bg-red-600 transition-colors",children:r.jsx(st,{size:12})})]}):r.jsx("button",{onClick:()=>{var ae;return(ae=V.current[le])==null?void 0:ae.click()},className:"w-12 h-12 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center hover:border-gray-400 transition-colors",children:r.jsx(Lr,{size:16,className:"text-gray-400"})})]})]}),r.jsx("button",{onClick:()=>ce(le),className:"bg-red-500 hover:bg-red-600 text-white rounded-full w-8 h-8 flex items-center justify-center transition-colors",title:"Xóa màu sắc",children:r.jsx(Ma,{size:16})})]}),r.jsxs("div",{className:"grid grid-cols-12 gap-2 text-sm font-medium text-gray-600 mb-2 px-2",children:[r.jsx("div",{className:"col-span-2 text-center",children:"Kích thước"}),r.jsx("div",{className:"col-span-3 text-center",children:"Giá Nhập"}),r.jsx("div",{className:"col-span-3 text-center",children:"Đơn Giá"}),r.jsx("div",{className:"col-span-3 text-center",children:"Số Lượng"}),r.jsx("div",{className:"col-span-1 text-center",children:"Thao tác"})]}),r.jsx("div",{className:"space-y-2",children:re.sizes.map((ae,ue)=>r.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[r.jsx("div",{className:"col-span-2",children:r.jsx("select",{value:ae.size,onChange:he=>oe(le,ue,"size",he.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",disabled:!u||I.length===0,children:I.length===0?r.jsx("option",{value:"",children:"Chọn loại sản phẩm trước"}):I.map(he=>r.jsx("option",{value:he,children:he},he))})}),r.jsx("div",{className:"col-span-3",children:r.jsx(je,{type:"number",min:"1",placeholder:"Giá Nhập",value:ae.giaNhap,onChange:he=>oe(le,ue,"giaNhap",he.target.value),className:"w-full p-2 border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm"})}),r.jsx("div",{className:"col-span-3",children:r.jsx(je,{type:"number",min:"1",placeholder:"Đơn Giá",value:ae.price,onChange:he=>oe(le,ue,"price",he.target.value),className:"w-full p-2 border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm"})}),r.jsx("div",{className:"col-span-3",children:r.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md",children:[r.jsx("button",{onClick:()=>ee(le,ue,-1),className:"p-1 hover:bg-gray-100 transition-colors",children:r.jsx(rx,{size:16})}),r.jsx(je,{type:"number",min:"1",value:ae.quantity,onChange:he=>oe(le,ue,"quantity",he.target.value),className:"flex-1 border-0 text-center text-sm focus:ring-0"}),r.jsx("button",{onClick:()=>ee(le,ue,1),className:"p-1 hover:bg-gray-100 transition-colors",children:r.jsx(cr,{size:16})})]})}),r.jsx("div",{className:"col-span-1 flex justify-center",children:re.sizes.length>1?r.jsx("button",{onClick:()=>ne(le,ue),className:"bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center transition-colors",title:"Xóa kích thước",children:r.jsx(st,{size:12})}):r.jsx("div",{className:"w-6 h-6"})})]},ue))}),r.jsx("div",{className:"flex justify-center mt-3",children:r.jsxs(fe,{onClick:()=>K(le),variant:"outline",size:"sm",className:"flex items-center gap-2",disabled:!u||I.length===0,children:[r.jsx(cr,{size:14}),"Thêm Kích Thước"]})})]},le))})]})]}),r.jsxs("div",{className:"col-span-1 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Hình Ảnh Chung"}),r.jsxs("div",{className:`relative w-full h-48 border-2 border-dashed rounded-lg transition-all duration-200 ${w?"border-purple-500 bg-purple-50":x.length>0?"border-green-500 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragOver:X,onDragLeave:Q,onDrop:q,children:[r.jsx("input",{type:"file",ref:U,onChange:H,accept:"image/*",multiple:!0,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),x.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[r.jsx(Lr,{className:"w-12 h-12 mb-3"}),r.jsx("p",{className:"text-lg font-medium",children:"Kéo thả ảnh vào đây"}),r.jsx("p",{className:"text-sm",children:"hoặc nhấp để chọn file"}),r.jsx("p",{className:"text-xs mt-2 text-gray-400",children:"PNG, JPG, GIF (tối đa 5MB)"})]}):r.jsx("div",{className:"flex flex-wrap gap-2 p-2 overflow-y-auto h-full",children:x.map((re,le)=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:re.startsWith("data:image")?re:`data:image/jpeg;base64,${re}`,alt:`Image ${le}`,className:"w-16 h-16 object-cover rounded-lg"}),r.jsx("button",{onClick:()=>G(le),className:"absolute -top-2 -right-2 bg-red-500 hover:bg-red-600 text-white rounded-full w-5 h-5 flex items-center justify-center transition-colors",children:r.jsx(st,{size:12})})]},le))})]}),y.images&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.images})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Mô Tả Ngắn Gọn"}),r.jsx("textarea",{className:"w-full h-32 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors resize-none",value:h,onChange:re=>m(re.target.value),placeholder:"Nhập mô tả ngắn gọn về sản phẩm...",maxLength:500}),r.jsx(fe,{onClick:()=>N(!0),className:"w-full mt-2 bg-purple-600 hover:bg-purple-700 text-white py-3 rounded-lg",children:"Nhập Mô Tả Chi Tiết"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Hashtags"}),r.jsxs("div",{className:"relative mb-2",children:[r.jsx(Rn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx(je,{value:E,onChange:re=>T(re.target.value),placeholder:"Tìm kiếm hashtag...",className:"pl-10 w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsx("div",{className:"max-h-32 overflow-y-auto border border-gray-300 rounded-lg p-2",children:Z.length===0?r.jsx("p",{className:"text-gray-500 text-sm",children:"Không tìm thấy hashtag"}):Z.map(re=>r.jsxs("div",{className:"flex items-center gap-2 p-2 hover:bg-gray-100 rounded-md cursor-pointer",onClick:()=>W(re),children:[r.jsx("input",{type:"checkbox",checked:F.some(le=>le.ID===re.maHashTag),readOnly:!0,className:"h-4 w-4 text-purple-500 focus:ring-purple-500 border-gray-300"}),r.jsx("span",{children:re.tenHashTag})]},re.maHashTag))}),F.length>0&&r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Hashtags đã chọn:"}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:F.map(re=>r.jsxs("div",{className:"flex items-center gap-1 bg-purple-100 text-purple-800 text-sm px-2 py-1 rounded-full",children:[r.jsx("span",{children:re.Name}),r.jsx("button",{onClick:()=>W({maHashTag:re.ID,tenHashTag:re.Name}),className:"text-purple-600 hover:text-purple-800",children:r.jsx(st,{size:14})})]},re.ID))})]})]}),Object.keys(y).length>0&&r.jsxs("div",{className:"text-red-500 text-sm",children:[r.jsx("p",{className:"font-medium",children:"Đã xảy ra lỗi:"}),r.jsx("ul",{className:"list-disc pl-5 mt-1",children:Object.values(y).map((re,le)=>r.jsx("li",{children:re},le))})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[r.jsx(fe,{variant:"outline",onClick:()=>t(!1),className:"border-gray-300 text-gray-700 hover:bg-gray-100 rounded-lg px-6",children:"Hủy"}),r.jsx(fe,{onClick:Y,className:"bg-purple-500 hover:bg-purple-600 text-white px-6",children:"Lưu Thay Đổi"})]})]})]})}),r.jsx($F,{isOpen:j,onClose:()=>N(!1),moTaChiTiet:((se=s==null?void 0:s[0])==null?void 0:se.moTaChiTiet)||null})]})},wSe=({isAddModalOpen:n,setIsAddModalOpen:t})=>{const[e,s]=k.useState([{color:"#ffffff",image:null,sizes:[{size:"",price:"",giaNhap:"",quantity:1}]}]),[a,i]=k.useState(""),[o,c]=k.useState(""),[l,d]=k.useState(""),[u,f]=k.useState(""),[h,m]=k.useState(""),[A,g]=k.useState(""),[p,b]=k.useState([]),[x,v]=k.useState({}),[y,S]=k.useState([]),[M,P]=k.useState([]),[B,D]=k.useState([]),[L,O]=k.useState([]),[F,_]=k.useState(""),[E,T]=k.useState(!1),[w,C]=k.useState(!1),[j,N]=k.useState([]),I=k.useRef(null),R=k.useRef({});k.useEffect(()=>{const W=async()=>{try{const se=localStorage.getItem("token"),re=await fetch("https://bicacuatho.azurewebsites.net/api/LoaiSanPham",{method:"GET",headers:{"Content-Type":"application/json",Authorization:se?`Bearer ${se}`:""}});if(!re.ok)throw re.status===401?new Error("Không có quyền truy cập, vui lòng đăng nhập lại."):new Error("Không thể lấy danh sách loại sản phẩm.");const le=await re.json();S(Array.isArray(le)?le.filter(ae=>ae.trangThai===1):[])}catch(se){console.error("Lỗi khi lấy danh sách loại sản phẩm:",se),Ce.fire({title:"Lỗi!",text:se.message||"Không thể lấy danh sách loại sản phẩm.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}},Y=async()=>{try{const se=localStorage.getItem("token"),re=await fetch("https://bicacuatho.azurewebsites.net/api/ThuongHieu",{method:"GET",headers:{"Content-Type":"application/json",Authorization:se?`Bearer ${se}`:""}});if(!re.ok)throw re.status===401?new Error("Không có quyền truy cập, vui lòng đăng nhập lại."):new Error("Không thể lấy danh sách thương hiệu.");const le=await re.json();P(Array.isArray(le)?le:[])}catch(se){console.error("Lỗi khi lấy danh sách thương hiệu:",se),Ce.fire({title:"Lỗi!",text:se.message||"Không thể lấy danh sách thương hiệu.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}},Z=async()=>{try{const se=localStorage.getItem("token"),re=await fetch("https://bicacuatho.azurewebsites.net/api/HashTag",{method:"GET",headers:{"Content-Type":"application/json",Authorization:se?`Bearer ${se}`:""}});if(!re.ok)throw re.status===401?new Error("Không có quyền truy cập, vui lòng đăng nhập lại."):new Error("Không thể lấy danh sách hashtag.");const le=await re.json();D(Array.isArray(le)?le:[])}catch(se){console.error("Lỗi khi lấy danh sách hashtag:",se),Ce.fire({title:"Lỗi!",text:se.message||"Không thể lấy danh sách hashtag.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}};W(),Y(),Z()},[]),k.useEffect(()=>{(async()=>{if(!l){N([]);return}try{const Y=localStorage.getItem("token"),Z=await fetch(`https://bicacuatho.azurewebsites.net/api/LoaiSanPham/${l}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:Y?`Bearer ${Y}`:""}});if(!Z.ok)throw Z.status===401?new Error("Không có quyền truy cập, vui lòng đăng nhập lại."):Z.status===404?new Error("Loại sản phẩm không tồn tại."):new Error("Không thể lấy danh sách kích thước.");const se=await Z.json();N(Array.isArray(se.kichThuoc)?se.kichThuoc:[]),s(e.map(re=>({...re,sizes:re.sizes.map(le=>({...le,size:se.kichThuoc.length>0?se.kichThuoc[0]:""}))})))}catch(Y){console.error("Lỗi khi lấy danh sách kích thước:",Y),Ce.fire({title:"Lỗi!",text:Y.message||"Không thể lấy danh sách kích thước.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}),N([])}})()},[l]);const U=W=>{W.preventDefault(),W.stopPropagation(),T(!0)},V=W=>{W.preventDefault(),W.stopPropagation(),T(!1)},z=W=>{W.preventDefault(),W.stopPropagation(),T(!1),Array.from(W.dataTransfer.files).forEach(Z=>{if(Z.type.startsWith("image/")&&Z.size<=5*1024*1024){const se=new FileReader;se.onloadend=()=>{const re=se.result.replace(/^data:image\/[a-z]+;base64,/,"");b(le=>[...le,re]),v(le=>({...le,images:""}))},se.readAsDataURL(Z)}else Ce.fire({title:"Lỗi!",text:Z.type.startsWith("image/")?"Hình ảnh không được vượt quá 5MB.":"Vui lòng chọn tệp hình ảnh.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})})},X=W=>{Array.from(W.target.files).forEach(Z=>{if(Z.type.startsWith("image/")&&Z.size<=5*1024*1024){const se=new FileReader;se.onloadend=()=>{const re=se.result.replace(/^data:image\/[a-z]+;base64,/,"");b(le=>[...le,re]),v(le=>({...le,images:""}))},se.readAsDataURL(Z)}else Ce.fire({title:"Lỗi!",text:Z.type.startsWith("image/")?"Hình ảnh không được vượt quá 5MB.":"Vui lòng chọn tệp hình ảnh.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})})},Q=(W,Y)=>{const Z=Y.target.files[0];if(Z&&Z.type.startsWith("image/")&&Z.size<=5*1024*1024){const se=new FileReader;se.onloadend=()=>{const re=se.result.replace(/^data:image\/[a-z]+;base64,/,""),le=[...e];le[W].image=re,s(le)},se.readAsDataURL(Z)}else Ce.fire({title:"Lỗi!",text:Z.type.startsWith("image/")?"Hình ảnh không được vượt quá 5MB.":"Vui lòng chọn tệp hình ảnh.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})},q=W=>{b(Y=>Y.filter((Z,se)=>se!==W))},H=W=>{const Y=[...e];Y[W].image=null,s(Y)},$=()=>{s([...e,{color:"#ffffff",image:null,sizes:[{size:j.length>0?j[0]:"",price:"",giaNhap:"",quantity:1}]}])},G=W=>{const Y=[...e];Y[W].sizes.push({size:j.length>0?j[0]:"",price:"",giaNhap:"",quantity:1}),s(Y)},J=(W,Y)=>{const Z=[...e];Z[W].sizes.splice(Y,1),s(Z)},te=W=>{const Y=e.filter((Z,se)=>se!==W);s(Y)},K=(W,Y,Z,se)=>{const re=[...e];Z==="color"?re[W].color=se:re[W].sizes[Y][Z]=se,s(re)},ne=(W,Y,Z)=>{const se=[...e],re=parseInt(se[W].sizes[Y].quantity)||0,le=Math.max(1,re+Z);se[W].sizes[Y].quantity=le.toString(),s(se)},ce=W=>{O(Y=>Y.some(se=>se.ID===W.maHashTag)?Y.filter(se=>se.ID!==W.maHashTag):[...Y,{ID:W.maHashTag,Name:W.tenHashTag}])},oe=async()=>{let W={},Y=!1;const Z=new Set,se=p.map(le=>le.startsWith("data:image")?le.replace(/^data:image\/[a-z]+;base64,/,""):le);if(a.trim()||(W.tenSanPham="Tên sản phẩm không được để trống.",Y=!0),o||(W.maThuongHieu="Vui lòng chọn thương hiệu.",Y=!0),l||(W.loaiSanPham="Vui lòng chọn loại sản phẩm.",Y=!0),A||(W.gioiTinh="Vui lòng chọn giới tính.",Y=!0),se.length===0&&(W.images="Vui lòng thêm ít nhất một hình ảnh.",Y=!0),h.trim()||(W.chatLieu="Chất liệu không được để trống.",Y=!0),e.forEach((le,ae)=>{const ue=le.color.slice(1).toUpperCase();ue?Z.has(ue)?(W[`${ae}-mauSac`]=`- Màu ${ue} đã tồn tại.`,Y=!0):Z.add(ue):(W[`${ae}-mauSac`]=`- Vui lòng chọn màu sắc cho màu ${ae+1}.`,Y=!0),le.image||(W[`${ae}-image`]=`- Vui lòng thêm hình ảnh cho màu ${ue}.`,Y=!0);const he=new Set;le.sizes.forEach((pe,Ae)=>{pe.size?he.has(pe.size)?(W[`${ae}-details-${Ae}-kichThuoc`]=`- Kích thước ${pe.size} của màu ${ue} đã tồn tại.`,Y=!0):he.add(pe.size):(W[`${ae}-details-${Ae}-kichThuoc`]=`- Vui lòng chọn kích thước cho màu ${ue}.`,Y=!0),(!pe.quantity||parseInt(pe.quantity)<=0)&&(W[`${ae}-details-${Ae}-soLuong`]=`- Số lượng của kích thước ${pe.size} thuộc màu ${ue} phải lớn hơn 0.`,Y=!0),(!pe.price||parseInt(pe.price)<=0)&&(W[`${ae}-details-${Ae}-gia`]=`- Giá của kích thước ${pe.size} thuộc màu ${ue} phải lớn hơn 0.`,Y=!0),(!pe.giaNhap||parseInt(pe.giaNhap)<=0)&&(W[`${ae}-details-${Ae}-giaNhap`]=`- Giá nhập của kích thước ${pe.size} thuộc màu ${ue} phải lớn hơn 0.`,Y=!0)})}),Y){v(W),Ce.fire({title:"Lỗi!",text:"Vui lòng điền đầy đủ và đúng thông tin trước khi thêm sản phẩm.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1});return}const re={data:e.map(le=>({TenSanPham:a.trim(),MaThuongHieu:parseInt(o),LoaiSanPham:parseInt(l),MoTa:u.trim()||null,MauSac:le.color.slice(1).toUpperCase(),ChatLieu:h.trim(),GioiTinh:parseInt(A),HinhAnhs:se,Details:le.sizes.map(ae=>({KichThuoc:ae.size.trim(),SoLuong:parseInt(ae.quantity),Gia:parseInt(ae.price),GiaNhap:parseInt(ae.giaNhap),HinhAnh:le.image||null}))})),ListHashTag:L.map(le=>({ID:le.ID,Name:le.Name}))};try{const le=localStorage.getItem("token"),ae=await fetch("https://bicacuatho.azurewebsites.net/api/SanPham/CreateSanPham",{method:"POST",headers:{"Content-Type":"application/json",Authorization:le?`Bearer ${le}`:""},body:JSON.stringify(re)});if(ae.ok){const ue=await ae.json();Ce.fire({title:"Thành công!",text:"Thêm sản phẩm thành công!",icon:"success",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{window.location.reload(),t(!1),i(""),c(""),d(""),f(""),m(""),g(""),b([]),s([{color:"#ffffff",image:null,sizes:[{size:j.length>0?j[0]:"",price:"",giaNhap:"",quantity:1}]}]),O([]),v({}),C(!0)})}else{const ue=await ae.json();Ce.fire({title:"Lỗi!",text:ue.message||"Có lỗi xảy ra khi thêm sản phẩm.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}}catch(le){console.error("Lỗi khi gửi dữ liệu:",le),Ce.fire({title:"Lỗi!",text:"Có lỗi xảy ra khi gửi dữ liệu tới API.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}},ee=B.filter(W=>W.tenHashTag.toLowerCase().includes(F.toLowerCase()));return r.jsxs(Yt,{open:n,onOpenChange:t,children:[r.jsxs(Kt,{className:"max-w-7xl p-6 bg-white rounded-lg",children:[r.jsx(rn,{children:r.jsx(Zt,{className:"text-2xl font-bold text-gray-800",children:"Thêm sản phẩm mới"})}),r.jsxs("div",{className:"py-4 shadow-lg max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[r.jsxs("div",{className:"col-span-2 space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Tên Sản Phẩm"}),r.jsx(je,{value:a,onChange:W=>{i(W.target.value),v({...x,tenSanPham:""})},className:"w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Nhập tên sản phẩm",maxLength:100}),x.tenSanPham&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.tenSanPham})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Chất Liệu"}),r.jsx(je,{value:h,onChange:W=>{m(W.target.value),v({...x,chatLieu:""})},className:"w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Nhập chất liệu",maxLength:50}),x.chatLieu&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.chatLieu})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Thương Hiệu"}),r.jsxs("select",{value:o,onChange:W=>{c(W.target.value),v({...x,maThuongHieu:""})},className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"",children:"Chọn thương hiệu"}),M.map(W=>r.jsx("option",{value:W.maThuongHieu,children:W.tenThuongHieu},W.maThuongHieu))]}),x.maThuongHieu&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.maThuongHieu})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Loại Sản Phẩm"}),r.jsxs("select",{value:l,onChange:W=>{d(W.target.value),v({...x,loaiSanPham:""})},className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"",children:"Chọn loại sản phẩm"}),y.map(W=>r.jsxs("option",{value:W.maLoaiSanPham,children:[W.tenLoaiSanPham," (",W.kiHieu,")"]},W.maLoaiSanPham))]}),x.loaiSanPham&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.loaiSanPham})]})]}),r.jsx("div",{className:"grid grid-cols-2 gap-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Giới Tính"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",name:"gioiTinh",value:"1",checked:A==="1",onChange:W=>{g(W.target.value),v({...x,gioiTinh:""})},className:"h-4 w-4 text-purple-500 focus:ring-purple-500 border-gray-300"}),r.jsx("span",{className:"text-gray-700",children:"Nam"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",name:"gioiTinh",value:"2",checked:A==="2",onChange:W=>{g(W.target.value),v({...x,gioiTinh:""})},className:"h-4 w-4 text-purple-500 focus:ring-purple-500 border-gray-300"}),r.jsx("span",{className:"text-gray-700",children:"Nữ"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",name:"gioiTinh",value:"3",checked:A==="3",onChange:W=>{g(W.target.value),v({...x,gioiTinh:""})},className:"h-4 w-4 text-purple-500 focus:ring-purple-500 border-gray-300"}),r.jsx("span",{className:"text-gray-700",children:"Unisex"})]})]}),x.gioiTinh&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.gioiTinh})]})})]}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("label",{className:"block font-medium text-gray-700",children:"Màu sắc và kích thước"}),r.jsxs(fe,{onClick:$,className:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg flex items-center gap-2",disabled:!l,children:[r.jsx(cr,{size:16}),"Thêm Màu Sắc"]})]}),r.jsx("div",{className:"space-y-4",children:e.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-300 rounded-lg",children:[r.jsx("svg",{className:"w-12 h-12 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),r.jsx("p",{className:"text-sm",children:"Chưa có màu sắc hoặc kích thước nào"}),r.jsx("p",{className:"text-xs",children:'Nhấn "Thêm Màu Sắc" để bắt đầu'})]}):e.map((W,Y)=>r.jsxs("div",{className:"relative border border-gray-200 rounded-lg p-4 bg-white shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"color",value:W.color,onChange:Z=>K(Y,null,"color",Z.target.value),className:"w-12 h-12 border-2 border-gray-300 rounded-lg cursor-pointer"}),r.jsxs("span",{className:"font-medium text-gray-700",children:["Màu ",Y+1," (",W.color.slice(1).toUpperCase(),")"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"file",ref:Z=>R.current[Y]=Z,onChange:Z=>Q(Y,Z),accept:"image/*",className:"hidden"}),W.image?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:`data:image/jpeg;base64,${W.image}`,alt:`Color ${Y+1}`,className:"w-12 h-12 object-cover rounded-lg border-2 border-gray-300"}),r.jsx("button",{onClick:()=>H(Y),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center hover:bg-red-600 transition-colors",children:r.jsx(st,{size:12})})]}):r.jsx("button",{onClick:()=>{var Z;return(Z=R.current[Y])==null?void 0:Z.click()},className:"w-12 h-12 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center hover:border-gray-400 transition-colors",children:r.jsx(Lr,{size:16,className:"text-gray-400"})})]})]}),r.jsx("button",{onClick:()=>te(Y),className:"bg-red-500 hover:bg-red-600 text-white rounded-full w-8 h-8 flex items-center justify-center transition-colors",title:"Xóa màu sắc",children:r.jsx(Ma,{size:16})})]}),r.jsxs("div",{className:"grid grid-cols-12 gap-2 text-sm font-medium text-gray-600 mb-2 px-2",children:[r.jsx("div",{className:"col-span-2 text-center",children:"Kích thước"}),r.jsx("div",{className:"col-span-3 text-center",children:"Giá Nhập"}),r.jsx("div",{className:"col-span-3 text-center",children:"Đơn Giá"}),r.jsx("div",{className:"col-span-3 text-center",children:"Số Lượng"}),r.jsx("div",{className:"col-span-1 text-center",children:"Thao tác"})]}),r.jsx("div",{className:"space-y-2",children:W.sizes.map((Z,se)=>r.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[r.jsx("div",{className:"col-span-2",children:r.jsx("select",{value:Z.size,onChange:re=>K(Y,se,"size",re.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",disabled:!l||j.length===0,children:j.length===0?r.jsx("option",{value:"",children:"Chọn loại sản phẩm trước"}):j.map(re=>r.jsx("option",{value:re,children:re},re))})}),r.jsx("div",{className:"col-span-3",children:r.jsx(je,{type:"number",min:"1",placeholder:"Giá Nhập",value:Z.giaNhap,onChange:re=>K(Y,se,"giaNhap",re.target.value),className:"w-full p-2 border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm"})}),r.jsx("div",{className:"col-span-3",children:r.jsx(je,{type:"number",min:"1",placeholder:"Đơn Giá",value:Z.price,onChange:re=>K(Y,se,"price",re.target.value),className:"w-full p-2 border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm"})}),r.jsx("div",{className:"col-span-3",children:r.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md",children:[r.jsx("button",{onClick:()=>ne(Y,se,-1),className:"p-1 hover:bg-gray-100 transition-colors",children:r.jsx(rx,{size:16})}),r.jsx(je,{type:"number",min:"1",value:Z.quantity,onChange:re=>K(Y,se,"quantity",re.target.value),className:"flex-1 border-0 text-center text-sm focus:ring-0"}),r.jsx("button",{onClick:()=>ne(Y,se,1),className:"p-1 hover:bg-gray-100 transition-colors",children:r.jsx(cr,{size:16})})]})}),r.jsx("div",{className:"col-span-1 flex justify-center",children:W.sizes.length>1?r.jsx("button",{onClick:()=>J(Y,se),className:"bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center transition-colors",title:"Xóa kích thước",children:r.jsx(st,{size:12})}):r.jsx("div",{className:"w-6 h-6"})})]},se))}),r.jsx("div",{className:"flex justify-center mt-3",children:r.jsxs(fe,{onClick:()=>G(Y),variant:"outline",size:"sm",className:"flex items-center gap-2",disabled:!l||j.length===0,children:[r.jsx(cr,{size:14}),"Thêm Kích Thước"]})})]},Y))})]})]}),r.jsxs("div",{className:"col-span-1 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Hình Ảnh Chung"}),r.jsxs("div",{className:`relative w-full h-48 border-2 border-dashed rounded-lg transition-all duration-200 ${E?"border-purple-500 bg-purple-50":p.length>0?"border-green-500 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragOver:U,onDragLeave:V,onDrop:z,children:[r.jsx("input",{type:"file",ref:I,onChange:X,accept:"image/*",multiple:!0,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),p.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[r.jsx(Lr,{className:"w-12 h-12 mb-3"}),r.jsx("p",{className:"text-lg font-medium",children:"Kéo thả ảnh vào đây"}),r.jsx("p",{className:"text-sm",children:"hoặc nhấp để chọn file"}),r.jsx("p",{className:"text-xs mt-2 text-gray-400",children:"PNG, JPG, GIF (tối đa 5MB)"})]}):r.jsx("div",{className:"flex flex-wrap gap-2 p-2 overflow-y-auto h-full",children:p.map((W,Y)=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:W.startsWith("data:image")?W:`data:image/jpeg;base64,${W}`,alt:`Image ${Y}`,className:"w-16 h-16 object-cover rounded-lg"}),r.jsx("button",{onClick:()=>q(Y),className:"absolute -top-2 -right-2 bg-red-500 hover:bg-red-600 text-white rounded-full w-5 h-5 flex items-center justify-center transition-colors",children:r.jsx(st,{size:12})})]},Y))})]}),x.images&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.images})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Mô Tả Ngắn Gọn"}),r.jsx("textarea",{className:"w-full h-32 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors resize-none",value:u,onChange:W=>f(W.target.value),placeholder:"Nhập mô tả ngắn gọn về sản phẩm...",maxLength:500}),r.jsx(fe,{onClick:()=>C(!0),className:"w-full mt-2 bg-purple-600 hover:bg-purple-700 text-white py-3 rounded-lg",children:"Nhập Mô Tả Chi Tiết"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Hashtags"}),r.jsxs("div",{className:"relative mb-2",children:[r.jsx(Rn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx(je,{value:F,onChange:W=>_(W.target.value),placeholder:"Tìm kiếm hashtag...",className:"pl-10 w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsx("div",{className:"max-h-32 overflow-y-auto border border-gray-300 rounded-lg p-2",children:ee.length===0?r.jsx("p",{className:"text-gray-500 text-sm",children:"Không tìm thấy hashtag"}):ee.map(W=>r.jsxs("div",{className:"flex items-center gap-2 p-2 hover:bg-gray-100 rounded-md cursor-pointer",onClick:()=>ce(W),children:[r.jsx("input",{type:"checkbox",checked:L.some(Y=>Y.ID===W.maHashTag),readOnly:!0,className:"h-4 w-4 text-purple-500 focus:ring-purple-500 border-gray-300"}),r.jsx("span",{children:W.tenHashTag})]},W.maHashTag))}),L.length>0&&r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Hashtags đã chọn:"}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:L.map(W=>r.jsxs("div",{className:"flex items-center gap-1 bg-purple-100 text-purple-800 text-sm px-2 py-1 rounded-full",children:[r.jsx("span",{children:W.Name}),r.jsx("button",{onClick:()=>ce({maHashTag:W.ID,tenHashTag:W.Name}),className:"text-purple-600 hover:text-purple-800",children:r.jsx(st,{size:14})})]},W.ID))})]})]}),Object.keys(x).length>0&&r.jsxs("div",{className:"text-red-500 text-sm",children:[r.jsx("p",{className:"font-medium",children:"Đã xảy ra lỗi:"}),r.jsx("ul",{className:"list-disc pl-5 mt-1",children:Object.values(x).map((W,Y)=>r.jsx("li",{children:W},Y))})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[r.jsx(fe,{variant:"outline",onClick:()=>t(!1),className:"border-gray-300 text-gray-700 hover:bg-gray-100 rounded-lg px-6",children:"Hủy"}),r.jsx(fe,{onClick:oe,className:"bg-purple-500 hover:bg-purple-600 text-white px-6",children:"Thêm Sản Phẩm"})]})]})]}),r.jsx($F,{isOpen:w,onClose:()=>C(!1),moTaChiTiet:null})]})},jSe=({productId:n,isOpen:t,onClose:e})=>{const[s,a]=k.useState([]),[i,o]=k.useState(null),[c,l]=k.useState(""),[d,u]=k.useState(0),[f,h]=k.useState(!0),[m,A]=k.useState(null),[g,p]=k.useState(!1);if(k.useEffect(()=>{(async()=>{if(!(!n||!t))try{h(!0);const D=localStorage.getItem("token"),L=n.split("_")[0]||n,O=await fetch(`https://bicacuatho.azurewebsites.net/api/SanPham/SanPhamByIDSorted?id=${L}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:D?`Bearer ${D}`:void 0}});if(!O.ok)throw new Error("Không thể tải thông tin sản phẩm");const F=await O.json(),E=(Array.isArray(F)?F:[F]).map(T=>{var w;return{id:T.id,tenSanPham:T.tenSanPham,maThuongHieu:T.maThuongHieu,loaiSanPham:T.loaiSanPham,mauSac:T.mauSac,moTa:T.moTa||"Không có mô tả rút gọn",chatLieu:T.chatLieu,details:T.details.map(C=>({kichThuoc:C.kichThuoc.trim(),soLuong:C.soLuong,gia:C.gia,hinhAnh:C.hinhAnh,giaNhap:C.giaNhap})),hinhAnhs:((w=T.hinhAnhs)==null?void 0:w.map(C=>`data:image/jpeg;base64,${C}`))||[],moTaChiTiet:T.moTaChiTiet}});a(E),o(E[0]),E.length>0&&E[0].hinhAnhs.length>0&&l(E[0].hinhAnhs[0])}catch(D){A(D.message)}finally{h(!1)}})()},[n,t]),!t)return null;if(f)return r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:r.jsx("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-md w-full mx-4",children:r.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("p",{className:"text-lg text-gray-700 font-medium",children:"Đang tải thông tin sản phẩm..."})]})})});if(m||!s.length||!i)return r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:r.jsx("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-md w-full mx-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:r.jsx(st,{className:"h-6 w-6 text-red-600"})}),r.jsx("p",{className:"text-lg text-red-600 font-medium mb-4",children:m||"Không tìm thấy sản phẩm"}),r.jsx("button",{onClick:e,className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:"Đóng"})]})})});const b=[...i.hinhAnhs,...s.flatMap(B=>B.details.filter(D=>D.hinhAnh).map(D=>`data:image/jpeg;base64,${D.hinhAnh}`))].filter((B,D,L)=>B&&L.indexOf(B)===D),x=s.reduce((B,D)=>B+D.details.reduce((L,O)=>L+O.soLuong,0),0),v=s.reduce((B,D)=>B+D.details.reduce((L,O)=>L+Math.floor(Math.random()*100),0),0),y=3,S=Math.ceil(b.length/y),M=()=>{u(B=>B===0?S-1:B-1)},P=()=>{u(B=>B===S-1?0:B+1)};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-7xl h-[80vh] flex flex-col",children:[r.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-8 py-6 rounded-t-2xl z-10",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Chi Tiết Sản Phẩm"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Quản lý thông tin sản phẩm"})]}),r.jsx("div",{className:"flex gap-3",children:r.jsx("button",{onClick:e,className:"p-3 hover:bg-gray-100 rounded-xl transition-all duration-200","aria-label":"Đóng modal",title:"Đóng",children:r.jsx(st,{className:"h-6 w-6 text-gray-600"})})})]})}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-8 ",style:{maxHeight:"650px"},children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"aspect-square rounded-2xl overflow-hidden bg-gray-100 shadow-lg",children:r.jsx("img",{src:c||i.hinhAnhs[0]||"",alt:i.tenSanPham,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"})}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"overflow-hidden",children:r.jsx("div",{className:"flex transition-transform duration-300",style:{transform:`translateX(-${d*100}%)`},children:Array.from({length:S}).map((B,D)=>r.jsx("div",{className:"flex-shrink-0 w-full grid grid-cols-3 gap-4",children:b.slice(D*y,(D+1)*y).map((L,O)=>r.jsx("button",{onClick:()=>l(L),className:`aspect-square rounded-lg overflow-hidden transition-all duration-200 ${c===L?"ring-3 ring-blue-500 shadow-lg transform scale-105":"opacity-70 hover:opacity-100 hover:shadow-md"}`,children:r.jsx("img",{src:L,alt:`${i.tenSanPham} ${D*y+O+1}`,className:"w-full h-full object-cover"})},`slide-${D}-${O}`))},D))})}),S>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:M,className:"absolute left-0 top-1/2 -translate-y-1/2 bg-gray-800/70 text-white p-2 rounded-full hover:bg-gray-800","aria-label":"Previous slide",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),r.jsx("button",{onClick:P,className:"absolute right-0 top-1/2 -translate-y-1/2 bg-gray-800/70 text-white p-2 rounded-full hover:bg-gray-800","aria-label":"Next slide",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]})]})]}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:i.tenSanPham}),r.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:i.moTa})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-4 text-white",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ir,{className:"h-8 w-8"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-100 text-sm",children:"Tổng tồn kho"}),r.jsx("p",{className:"text-2xl font-bold",children:x})]})]})}),r.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-xl p-4 text-white",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Gc,{className:"h-8 w-8"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-green-100 text-sm",children:"Đã bán"}),r.jsx("p",{className:"text-2xl font-bold",children:v})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[r.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[r.jsx(pr,{className:"h-5 w-5 text-gray-600"}),"Thông tin cơ bản"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 text-sm",children:"Chất liệu"}),r.jsx("p",{className:"font-medium",children:i.chatLieu})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 text-sm",children:"Thương hiệu"}),r.jsx("p",{className:"font-medium",children:i.maThuongHieu})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 text-sm",children:"Loại sản phẩm"}),r.jsx("p",{className:"font-medium",children:i.loaiSanPham})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 text-sm",children:"Số biến thể"}),r.jsxs("p",{className:"font-medium",children:[s.length," màu sắc"]})]})]})]}),r.jsx("div",{className:"rounded-xl p-6 flex justify-center",children:r.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 p-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all duration-200","aria-label":"Xem chi tiết sản phẩm",title:"Chi Tiết Sản Phẩm",children:[r.jsx(pr,{className:"h-6 w-6"}),r.jsx("span",{children:"Xem chi tiết Mô Tả"})]})})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden mt-8",children:[r.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-8 py-6 border-b border-gray-200",children:[r.jsxs("h3",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(nw,{className:"h-6 w-6"}),"Tất cả biến thể sản phẩm"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Quản lý thông tin chi tiết từng biến thể"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50",children:[r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(nw,{className:"h-4 w-4"}),"Màu sắc"]})}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(rw,{className:"h-4 w-4"}),"Kích thước"]})}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ir,{className:"h-4 w-4"}),"Tồn kho"]})}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gc,{className:"h-4 w-4"}),"Đã bán"]})}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(UU,{className:"h-4 w-4"}),"Giá Nhập"]})}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zU,{className:"h-4 w-4"}),"Giá Nhập"]})}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900 border-b border-gray-200",children:"Trạng thái"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:s.map((B,D)=>B.details.map((L,O)=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[r.jsx("td",{className:"px-6 py-5",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white shadow-md",style:{backgroundColor:`#${B.mauSac}`},title:`#${B.mauSac}`}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-gray-900",children:["#",B.mauSac]}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Màu ",D+1]})]})]})}),r.jsx("td",{className:"px-6 py-5",children:r.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:L.kichThuoc})}),r.jsx("td",{className:"px-6 py-5",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`text-lg font-semibold ${L.soLuong>10?"text-green-600":L.soLuong>0?"text-yellow-600":"text-red-600"}`,children:L.soLuong}),r.jsx("span",{className:"text-gray-500 text-sm",children:"cái"})]})}),r.jsx("td",{className:"px-6 py-5",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg font-semibold text-gray-900",children:Math.floor(Math.random()*100)}),r.jsx("span",{className:"text-gray-500 text-sm",children:"cái"})]})}),r.jsx("td",{className:"px-6 py-5",children:r.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[(L.giaNhap/1e3).toFixed(3)," VND"]})}),r.jsx("td",{className:"px-6 py-5",children:r.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[(L.gia/1e3).toFixed(3)," VND"]})}),r.jsx("td",{className:"px-6 py-5",children:r.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${L.soLuong>10?"bg-green-100 text-green-800":L.soLuong>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:L.soLuong>10?"Còn hàng":L.soLuong>0?"Sắp hết":"Hết hàng"})})]},`${D}-${O}`)))})]})}),r.jsx("div",{className:"bg-gray-50 px-8 py-4 border-t border-gray-200",children:r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsxs("span",{className:"text-gray-600",children:["Tổng cộng: ",s.reduce((B,D)=>B+D.details.length,0)," biến thể"]}),r.jsxs("div",{className:"flex gap-6",children:[r.jsxs("span",{className:"text-gray-600",children:["Tổng tồn kho: ",r.jsx("span",{className:"font-semibold text-blue-600",children:x})]}),r.jsxs("span",{className:"text-gray-600",children:["Tổng đã bán: ",r.jsx("span",{className:"font-semibold text-green-600",children:v})]})]})]})})]})]}),r.jsx("div",{className:"bg-gray-100 px-8 py-4 border-t border-gray-200 text-center",children:r.jsx("p",{className:"text-sm text-gray-600",children:"© 2025 FashionHub. All rights reserved."})})]})}),g&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-7xl h-[80vh] flex flex-col",children:[r.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-8 py-6 rounded-t-2xl z-10",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Mô Tả Chi Tiết Sản Phẩm"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Xem chi tiết sản phẩm"})]}),r.jsx("button",{onClick:()=>p(!1),className:"p-3 hover:bg-gray-100 rounded-xl transition-all duration-200","aria-label":"Đóng modal",title:"Đóng",children:r.jsx(st,{className:"h-6 w-6 text-gray-600"})})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto p-8",style:{maxHeight:"650px"},children:r.jsx(jI,{product:i})}),r.jsx("div",{className:"bg-gray-100 px-8 py-4 border-t border-gray-200 text-center",children:r.jsx("p",{className:"text-sm text-gray-600",children:"© 2025 FashionHub. All rights reserved."})})]})})]})};function yA(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var QF={exports:{}};/*! ExcelJS 19-10-2023 */(function(n,t){(function(e){n.exports=e()})(function(){return function e(s,a,i){function o(d,u){if(!a[d]){if(!s[d]){var f=typeof yA=="function"&&yA;if(!u&&f)return f(d,!0);if(c)return c(d,!0);var h=new Error("Cannot find module '"+d+"'");throw h.code="MODULE_NOT_FOUND",h}var m=a[d]={exports:{}};s[d][0].call(m.exports,function(A){return o(s[d][1][A]||A)},m,m.exports,e,s,a,i)}return a[d].exports}for(var c=typeof yA=="function"&&yA,l=0;l<i.length;l++)o(i[l]);return o}({1:[function(e,s,a){const i=e("fs"),o=e("fast-csv"),c=e("dayjs/plugin/customParseFormat"),l=e("dayjs/plugin/utc"),d=e("dayjs").extend(c).extend(l),u=e("../utils/stream-buf"),{fs:{exists:f}}=e("../utils/utils"),h={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};s.exports=class{constructor(m){this.workbook=m,this.worksheet=null}async readFile(m,A){if(A=A||{},!await f(m))throw new Error("File not found: "+m);const g=i.createReadStream(m),p=await this.read(g,A);return g.close(),p}read(m,A){return A=A||{},new Promise((g,p)=>{const b=this.workbook.addWorksheet(A.sheetName),x=A.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],v=A.map||function(S){if(S==="")return null;const M=Number(S);if(!Number.isNaN(M)&&M!==1/0)return M;const P=x.reduce((D,L)=>{if(D)return D;const O=d(S,L,!0);return O.isValid()?O:null},null);if(P)return new Date(P.valueOf());const B=h[S];return B!==void 0?B:S},y=o.parse(A.parserOptions).on("data",S=>{b.addRow(S.map(v))}).on("end",()=>{y.emit("worksheet",b)});y.on("worksheet",g).on("error",p),m.pipe(y)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(m,A){return new Promise((g,p)=>{A=A||{};const b=this.workbook.getWorksheet(A.sheetName||A.sheetId),x=o.format(A.formatterOptions);m.on("finish",()=>{g()}),x.on("error",p),x.pipe(m);const{dateFormat:v,dateUTC:y}=A,S=A.map||(B=>{if(B){if(B.text||B.hyperlink)return B.hyperlink||B.text||"";if(B.formula||B.result)return B.result||"";if(B instanceof Date)return v?y?d.utc(B).format(v):d(B).format(v):y?d.utc(B).format():d(B).format();if(B.error)return B.error;if(typeof B=="object")return JSON.stringify(B)}return B}),M=A.includeEmptyRows===void 0||A.includeEmptyRows;let P=1;b&&b.eachRow((B,D)=>{if(M)for(;P++<D-1;)x.write([]);const{values:L}=B;L.shift(),x.write(L.map(S)),P=D}),x.end()})}writeFile(m,A){const g={encoding:(A=A||{}).encoding||"utf8"},p=i.createWriteStream(m,g);return this.write(p,A)}async writeBuffer(m){const A=new u;return await this.write(A,m),A.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,s,a){const i=e("../utils/col-cache");class o{constructor(l,d){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=l,d)if(typeof d=="string"){const f=i.decodeAddress(d);this.nativeCol=f.col+u,this.nativeColOff=0,this.nativeRow=f.row+u,this.nativeRowOff=0}else d.nativeCol!==void 0?(this.nativeCol=d.nativeCol||0,this.nativeColOff=d.nativeColOff||0,this.nativeRow=d.nativeRow||0,this.nativeRowOff=d.nativeRowOff||0):d.col!==void 0?(this.col=d.col+u,this.row=d.row+u):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(l){return l instanceof o||l==null?l:new o(l)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(l){this.nativeCol=Math.floor(l),this.nativeColOff=Math.floor((l-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(l){this.nativeRow=Math.floor(l),this.nativeRowOff=Math.floor((l-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(l){this.nativeCol=l.nativeCol,this.nativeColOff=l.nativeColOff,this.nativeRow=l.nativeRow,this.nativeRowOff=l.nativeRowOff}}s.exports=o},{"../utils/col-cache":19}],3:[function(e,s,a){const i=e("../utils/col-cache"),o=e("../utils/under-dash"),c=e("./enums"),{slideFormula:l}=e("../utils/shared-formula"),d=e("./note");class u{constructor(m,A,g){if(!m||!A)throw new Error("A Cell needs a Row");this._row=m,this._column=A,i.validateAddress(g),this._address=g,this._value=f.create(u.Types.Null,this),this.style=this._mergeStyle(m.style,A.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(m){this.style.numFmt=m}get font(){return this.style.font}set font(m){this.style.font=m}get alignment(){return this.style.alignment}set alignment(m){this.style.alignment=m}get border(){return this.style.border}set border(m){this.style.border=m}get fill(){return this.style.fill}set fill(m){this.style.fill=m}get protection(){return this.style.protection}set protection(m){this.style.protection=m}_mergeStyle(m,A,g){const p=m&&m.numFmt||A&&A.numFmt;p&&(g.numFmt=p);const b=m&&m.font||A&&A.font;b&&(g.font=b);const x=m&&m.alignment||A&&A.alignment;x&&(g.alignment=x);const v=m&&m.border||A&&A.border;v&&(g.border=v);const y=m&&m.fill||A&&A.fill;y&&(g.fill=y);const S=m&&m.protection||A&&A.protection;return S&&(g.protection=S),g}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===u.Types.Merge}merge(m,A){this._value.release(),this._value=f.create(u.Types.Merge,this,m),A||(this.style=m.style)}unmerge(){this.type===u.Types.Merge&&(this._value.release(),this._value=f.create(u.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(m){return this._value.type===u.Types.Merge&&this._value.isMergedTo(m)}get master(){return this.type===u.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===u.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(m){this.type!==u.Types.Merge?(this._value.release(),this._value=f.create(f.getType(m),this,m)):this._value.master.value=m}get note(){return this._comment&&this._comment.note}set note(m){this._comment=new d(m)}get text(){return this._value.toString()}get html(){return o.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(m){this.type===u.Types.String&&(this._value=f.create(u.Types.Hyperlink,this,{text:this._value.value,hyperlink:m}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:m}=this._row;return{sheetName:m.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(m){this.names=[m]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(m){const{definedNames:A}=this.workbook;A.removeAllNames(this.fullAddress),m.forEach(g=>{A.addEx(this.fullAddress,g)})}addName(m){this.workbook.definedNames.addEx(this.fullAddress,m)}removeName(m){this.workbook.definedNames.removeEx(this.fullAddress,m)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(m){this._dataValidations.add(this.address,m)}get model(){const{model:m}=this._value;return m.style=this.style,this._comment&&(m.comment=this._comment.model),m}set model(m){if(this._value.release(),this._value=f.create(m.type,this),this._value.model=m,m.comment)switch(m.comment.type){case"note":this._comment=d.fromModel(m.comment)}m.style?this.style=m.style:this.style={}}}u.Types=c.ValueType;const f={getType:h=>h==null?u.Types.Null:h instanceof String||typeof h=="string"?u.Types.String:typeof h=="number"?u.Types.Number:typeof h=="boolean"?u.Types.Boolean:h instanceof Date?u.Types.Date:h.text&&h.hyperlink?u.Types.Hyperlink:h.formula||h.sharedFormula?u.Types.Formula:h.richText?u.Types.RichText:h.sharedString?u.Types.SharedString:h.error?u.Types.Error:u.Types.JSON,types:[{t:u.Types.Null,f:class{constructor(h){this.model={address:h.address,type:u.Types.Null}}get value(){return null}set value(h){}get type(){return u.Types.Null}get effectiveType(){return u.Types.Null}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){}toString(){return""}}},{t:u.Types.Number,f:class{constructor(h,m){this.model={address:h.address,type:u.Types.Number,value:m}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Number}get effectiveType(){return u.Types.Number}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.String,f:class{constructor(h,m){this.model={address:h.address,type:u.Types.String,value:m}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:u.Types.Date,f:class{constructor(h,m){this.model={address:h.address,type:u.Types.Date,value:m}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Date}get effectiveType(){return u.Types.Date}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Hyperlink,f:class{constructor(h,m){this.model={address:h.address,type:u.Types.Hyperlink,text:m?m.text:void 0,hyperlink:m?m.hyperlink:void 0},m&&m.tooltip&&(this.model.tooltip=m.tooltip)}get value(){const h={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(h.tooltip=this.model.tooltip),h}set value(h){this.model={text:h.text,hyperlink:h.hyperlink},h.tooltip&&(this.model.tooltip=h.tooltip)}get text(){return this.model.text}set text(h){this.model.text=h}get hyperlink(){return this.model.hyperlink}set hyperlink(h){this.model.hyperlink=h}get type(){return u.Types.Hyperlink}get effectiveType(){return u.Types.Hyperlink}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:u.Types.Formula,f:class{constructor(h,m){this.cell=h,this.model={address:h.address,type:u.Types.Formula,shareType:m?m.shareType:void 0,ref:m?m.ref:void 0,formula:m?m.formula:void 0,sharedFormula:m?m.sharedFormula:void 0,result:m?m.result:void 0}}_copyModel(h){const m={},A=g=>{const p=h[g];p&&(m[g]=p)};return A("formula"),A("result"),A("ref"),A("shareType"),A("sharedFormula"),m}get value(){return this._copyModel(this.model)}set value(h){this.model=this._copyModel(h)}validate(h){switch(f.getType(h)){case u.Types.Null:case u.Types.String:case u.Types.Number:case u.Types.Date:break;case u.Types.Hyperlink:case u.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(h){this.model.formula=h}get formulaType(){return this.model.formula?c.FormulaType.Master:this.model.sharedFormula?c.FormulaType.Shared:c.FormulaType.None}get result(){return this.model.result}set result(h){this.model.result=h}get type(){return u.Types.Formula}get effectiveType(){const h=this.model.result;return h==null?c.ValueType.Null:h instanceof String||typeof h=="string"?c.ValueType.String:typeof h=="number"?c.ValueType.Number:h instanceof Date?c.ValueType.Date:h.text&&h.hyperlink?c.ValueType.Hyperlink:h.formula?c.ValueType.Formula:c.ValueType.Null}get address(){return this.model.address}set address(h){this.model.address=h}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:h}=this.cell,m=h.findCell(this.model.sharedFormula);this._translatedFormula=m&&l(m.formula,m.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:u.Types.Merge,f:class{constructor(h,m){this.model={address:h.address,type:u.Types.Merge,master:m?m.address:void 0},this._master=m,m&&m.addMergeRef()}get value(){return this._master.value}set value(h){h instanceof u?(this._master&&this._master.releaseMergeRef(),h.addMergeRef(),this._master=h):this._master.value=h}isMergedTo(h){return h===this._master}get master(){return this._master}get type(){return u.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:u.Types.JSON,f:class{constructor(h,m){this.model={address:h.address,type:u.Types.String,value:JSON.stringify(m),rawValue:m}}get value(){return this.model.rawValue}set value(h){this.model.rawValue=h,this.model.value=JSON.stringify(h)}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:u.Types.SharedString,f:class{constructor(h,m){this.model={address:h.address,type:u.Types.SharedString,value:m}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.SharedString}get effectiveType(){return u.Types.SharedString}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.RichText,f:class{constructor(h,m){this.model={address:h.address,type:u.Types.String,value:m}}get value(){return this.model.value}set value(h){this.model.value=h}toString(){return this.model.value.richText.map(h=>h.text).join("")}get type(){return u.Types.RichText}get effectiveType(){return u.Types.RichText}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:u.Types.Boolean,f:class{constructor(h,m){this.model={address:h.address,type:u.Types.Boolean,value:m}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Boolean}get effectiveType(){return u.Types.Boolean}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Error,f:class{constructor(h,m){this.model={address:h.address,type:u.Types.Error,value:m}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Error}get effectiveType(){return u.Types.Error}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((h,m)=>(h[m.t]=m.f,h),[]),create(h,m,A){const g=this.types[h];if(!g)throw new Error("Could not create Value of type "+h);return new g(m,A)}};s.exports=u},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,s,a){const i=e("../utils/under-dash"),o=e("./enums"),c=e("../utils/col-cache");class l{constructor(u,f,h){this._worksheet=u,this._number=f,h!==!1&&(this.defn=h)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return c.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(u){u?(this.key=u.key,this.width=u.width!==void 0?u.width:9,this.outlineLevel=u.outlineLevel,u.style?this.style=u.style:this.style={},this.header=u.header,this._hidden=!!u.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(u){u!==void 0?(this._header=u,this.headers.forEach((f,h)=>{this._worksheet.getCell(h+1,this.number).value=f})):this._header=void 0}get key(){return this._key}set key(u){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=u,u&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(u){this._hidden=u}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(u){this._outlineLevel=u}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(u){return this.width===u.width&&this.hidden===u.hidden&&this.outlineLevel===u.outlineLevel&&i.isEqual(this.style,u.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const u=this.style;return!u||!(u.font||u.numFmt||u.alignment||u.border||u.fill||u.protection)}get headerCount(){return this.headers.length}eachCell(u,f){const h=this.number;f||(f=u,u=null),this._worksheet.eachRow(u,(m,A)=>{f(m.getCell(h),A)})}get values(){const u=[];return this.eachCell((f,h)=>{f&&f.type!==o.ValueType.Null&&(u[h]=f.value)}),u}set values(u){if(!u)return;const f=this.number;let h=0;u.hasOwnProperty("0")&&(h=1),u.forEach((m,A)=>{this._worksheet.getCell(A+h,f).value=m})}_applyStyle(u,f){return this.style[u]=f,this.eachCell(h=>{h[u]=f}),f}get numFmt(){return this.style.numFmt}set numFmt(u){this._applyStyle("numFmt",u)}get font(){return this.style.font}set font(u){this._applyStyle("font",u)}get alignment(){return this.style.alignment}set alignment(u){this._applyStyle("alignment",u)}get protection(){return this.style.protection}set protection(u){this._applyStyle("protection",u)}get border(){return this.style.border}set border(u){this._applyStyle("border",u)}get fill(){return this.style.fill}set fill(u){this._applyStyle("fill",u)}static toModel(u){const f=[];let h=null;return u&&u.forEach((m,A)=>{m.isDefault?h&&(h=null):h&&m.equivalentTo(h)?h.max=A+1:(h={min:A+1,max:A+1,width:m.width!==void 0?m.width:9,style:m.style,isCustomWidth:m.isCustomWidth,hidden:m.hidden,outlineLevel:m.outlineLevel,collapsed:m.collapsed},f.push(h))}),f.length?f:void 0}static fromModel(u,f){const h=[];let m=1,A=0;for(f=(f=f||[]).sort(function(g,p){return g.min-p.min});A<f.length;){const g=f[A++];for(;m<g.min;)h.push(new l(u,m++));for(;m<=g.max;)h.push(new l(u,m++,g))}return h.length?h:null}}s.exports=l},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,s,a){s.exports=class{constructor(i){this.model=i||{}}add(i,o){return this.model[i]=o}find(i){return this.model[i]}remove(i){this.model[i]=void 0}}},{}],6:[function(e,s,a){const i=e("../utils/under-dash"),o=e("../utils/col-cache"),c=e("../utils/cell-matrix"),l=e("./range"),d=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;s.exports=class{constructor(){this.matrixMap={}}getMatrix(u){return this.matrixMap[u]||(this.matrixMap[u]=new c)}add(u,f){const h=o.decodeEx(u);this.addEx(h,f)}addEx(u,f){const h=this.getMatrix(f);if(u.top)for(let m=u.left;m<=u.right;m++)for(let A=u.top;A<=u.bottom;A++){const g={sheetName:u.sheetName,address:o.n2l(m)+A,row:A,col:m};h.addCellEx(g)}else h.addCellEx(u)}remove(u,f){const h=o.decodeEx(u);this.removeEx(h,f)}removeEx(u,f){this.getMatrix(f).removeCellEx(u)}removeAllNames(u){i.each(this.matrixMap,f=>{f.removeCellEx(u)})}forEach(u){i.each(this.matrixMap,(f,h)=>{f.forEach(m=>{u(h,m)})})}getNames(u){return this.getNamesEx(o.decodeEx(u))}getNamesEx(u){return i.map(this.matrixMap,(f,h)=>f.findCellEx(u)&&h).filter(Boolean)}_explore(u,f){f.mark=!1;const{sheetName:h}=f,m=new l(f.row,f.col,f.row,f.col,h);let A,g;function p(x,v){const y=u.findCellAt(h,x,f.col);return!(!y||!y.mark)&&(m[v]=x,y.mark=!1,!0)}for(g=f.row-1;p(g,"top");g--);for(g=f.row+1;p(g,"bottom");g++);function b(x,v){const y=[];for(g=m.top;g<=m.bottom;g++){const S=u.findCellAt(h,g,x);if(!S||!S.mark)return!1;y.push(S)}m[v]=x;for(let S=0;S<y.length;S++)y[S].mark=!1;return!0}for(A=f.col-1;b(A,"left");A--);for(A=f.col+1;b(A,"right");A++);return m}getRanges(u,f){return(f=f||this.matrixMap[u])?(f.forEach(h=>{h.mark=!0}),{name:u,ranges:f.map(h=>h.mark&&this._explore(f,h)).filter(Boolean).map(h=>h.$shortRange)}):{name:u,ranges:[]}}normaliseMatrix(u,f){u.forEachInSheet(f,(h,m,A)=>{h&&(h.row===m&&h.col===A||(h.row=m,h.col=A,h.address=o.n2l(A)+m))})}spliceRows(u,f,h,m){i.each(this.matrixMap,A=>{A.spliceRows(u,f,h,m),this.normaliseMatrix(A,u)})}spliceColumns(u,f,h,m){i.each(this.matrixMap,A=>{A.spliceColumns(u,f,h,m),this.normaliseMatrix(A,u)})}get model(){return i.map(this.matrixMap,(u,f)=>this.getRanges(f,u)).filter(u=>u.ranges.length)}set model(u){const f=this.matrixMap={};u.forEach(h=>{const m=f[h.name]=new c;h.ranges.forEach(A=>{d.test(A.split("!").pop()||"")&&m.addCell(A)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,s,a){s.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,s,a){const i=e("../utils/col-cache"),o=e("./anchor");s.exports=class{constructor(c,l){this.worksheet=c,this.model=l}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(c){let{type:l,imageId:d,range:u,hyperlinks:f}=c;if(this.type=l,this.imageId=d,l==="image")if(typeof u=="string"){const h=i.decode(u);this.range={tl:new o(this.worksheet,{col:h.left,row:h.top},-1),br:new o(this.worksheet,{col:h.right,row:h.bottom},0),editAs:"oneCell"}}else this.range={tl:new o(this.worksheet,u.tl,0),br:u.br&&new o(this.worksheet,u.br,0),ext:u.ext,editAs:u.editAs,hyperlinks:f||u.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,s,a){const i=e("../utils/under-dash");class o{constructor(l){this.note=l}get model(){let l=null;switch(typeof this.note){case"string":l={type:"note",note:{texts:[{text:this.note}]}};break;default:l={type:"note",note:this.note}}return i.deepMerge({},o.DEFAULT_CONFIGS,l)}set model(l){const{note:d}=l,{texts:u}=d;u.length===1&&Object.keys(u[0]).length===1?this.note=u[0].text:this.note=d}static fromModel(l){const d=new o;return d.model=l,d}}o.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},s.exports=o},{"../utils/under-dash":26}],10:[function(e,s,a){const i=e("../utils/col-cache");class o{constructor(){this.decode(arguments)}setTLBR(l,d,u,f,h){if(arguments.length<4){const m=i.decodeAddress(l),A=i.decodeAddress(d);this.model={top:Math.min(m.row,A.row),left:Math.min(m.col,A.col),bottom:Math.max(m.row,A.row),right:Math.max(m.col,A.col),sheetName:u},this.setTLBR(m.row,m.col,A.row,A.col,h)}else this.model={top:Math.min(l,u),left:Math.min(d,f),bottom:Math.max(l,u),right:Math.max(d,f),sheetName:h}}decode(l){switch(l.length){case 5:this.setTLBR(l[0],l[1],l[2],l[3],l[4]);break;case 4:this.setTLBR(l[0],l[1],l[2],l[3]);break;case 3:this.setTLBR(l[0],l[1],l[2]);break;case 2:this.setTLBR(l[0],l[1]);break;case 1:{const d=l[0];if(d instanceof o)this.model={top:d.model.top,left:d.model.left,bottom:d.model.bottom,right:d.model.right,sheetName:d.sheetName};else if(d instanceof Array)this.decode(d);else if(d.top&&d.left&&d.bottom&&d.right)this.model={top:d.top,left:d.left,bottom:d.bottom,right:d.right,sheetName:d.sheetName};else{const u=i.decodeEx(d);u.top?this.model={top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName}:this.model={top:u.row,left:u.col,bottom:u.row,right:u.col,sheetName:u.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+l.length)}}get top(){return this.model.top||1}set top(l){this.model.top=l}get left(){return this.model.left||1}set left(l){this.model.left=l}get bottom(){return this.model.bottom||1}set bottom(l){this.model.bottom=l}get right(){return this.model.right||1}set right(l){this.model.right=l}get sheetName(){return this.model.sheetName}set sheetName(l){this.model.sheetName=l}get _serialisedSheetName(){const{sheetName:l}=this.model;return l?/^[a-zA-Z0-9]*$/.test(l)?l+"!":`'${l}'!`:""}expand(l,d,u,f){(!this.model.top||l<this.top)&&(this.top=l),(!this.model.left||d<this.left)&&(this.left=d),(!this.model.bottom||u>this.bottom)&&(this.bottom=u),(!this.model.right||f>this.right)&&(this.right=f)}expandRow(l){if(l){const{dimensions:d,number:u}=l;d&&this.expand(u,d.min,u,d.max)}}expandToAddress(l){const d=i.decodeEx(l);this.expand(d.row,d.col,d.row,d.col)}get tl(){return i.n2l(this.left)+this.top}get $t$l(){return`$${i.n2l(this.left)}$${this.top}`}get br(){return i.n2l(this.right)+this.bottom}get $b$r(){return`$${i.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&!(l.bottom<this.top)&&!(l.top>this.bottom)&&!(l.right<this.left)&&!(l.left>this.right)}contains(l){const d=i.decodeEx(l);return this.containsEx(d)}containsEx(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&l.row>=this.top&&l.row<=this.bottom&&l.col>=this.left&&l.col<=this.right}forEachAddress(l){for(let d=this.left;d<=this.right;d++)for(let u=this.top;u<=this.bottom;u++)l(i.encodeAddress(u,d),u,d)}}s.exports=o},{"../utils/col-cache":19}],11:[function(e,s,a){const i=e("../utils/under-dash"),o=e("./enums"),c=e("../utils/col-cache"),l=e("./cell");s.exports=class{constructor(d,u){this._worksheet=d,this._number=u,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(d){return this._cells[d-1]}getCellEx(d){let u=this._cells[d.col-1];if(!u){const f=this._worksheet.getColumn(d.col);u=new l(this,f,d.address),this._cells[d.col-1]=u}return u}getCell(d){if(typeof d=="string"){const u=this._worksheet.getColumnKey(d);d=u?u.number:c.l2n(d)}return this._cells[d-1]||this.getCellEx({address:c.encodeAddress(this._number,d),row:this._number,col:d})}splice(d,u){const f=d+u;for(var h=arguments.length,m=new Array(h>2?h-2:0),A=2;A<h;A++)m[A-2]=arguments[A];const g=m.length-u,p=this._cells.length;let b,x,v;if(g<0)for(b=d+m.length;b<=p;b++)v=this._cells[b-1],x=this._cells[b-g-1],x?(v=this.getCell(b),v.value=x.value,v.style=x.style,v._comment=x._comment):v&&(v.value=null,v.style={},v._comment=void 0);else if(g>0)for(b=p;b>=f;b--)x=this._cells[b-1],x?(v=this.getCell(b+g),v.value=x.value,v.style=x.style,v._comment=x._comment):this._cells[b+g-1]=void 0;for(b=0;b<m.length;b++)v=this.getCell(d+b),v.value=m[b],v.style={},v._comment=void 0}eachCell(d,u){if(u||(u=d,d=null),d&&d.includeEmpty){const f=this._cells.length;for(let h=1;h<=f;h++)u(this.getCell(h),h)}else this._cells.forEach((f,h)=>{f&&f.type!==o.ValueType.Null&&u(f,h+1)})}addPageBreak(d,u){const f=this._worksheet,h=Math.max(0,d-1)||0,m=Math.max(0,u-1)||16838,A={id:this._number,max:m,man:1};h&&(A.min=h),f.rowBreaks.push(A)}get values(){const d=[];return this._cells.forEach(u=>{u&&u.type!==o.ValueType.Null&&(d[u.col]=u.value)}),d}set values(d){if(this._cells=[],d)if(d instanceof Array){let u=0;d.hasOwnProperty("0")&&(u=1),d.forEach((f,h)=>{f!==void 0&&(this.getCellEx({address:c.encodeAddress(this._number,h+u),row:this._number,col:h+u}).value=f)})}else this._worksheet.eachColumnKey((u,f)=>{d[f]!==void 0&&(this.getCellEx({address:c.encodeAddress(this._number,u.number),row:this._number,col:u.number}).value=d[f])})}get hasValues(){return i.some(this._cells,d=>d&&d.type!==o.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let d=0;return this.eachCell(()=>{d++}),d}get dimensions(){let d=0,u=0;return this._cells.forEach(f=>{f&&f.type!==o.ValueType.Null&&((!d||d>f.col)&&(d=f.col),u<f.col&&(u=f.col))}),d>0?{min:d,max:u}:null}_applyStyle(d,u){return this.style[d]=u,this._cells.forEach(f=>{f&&(f[d]=u)}),u}get numFmt(){return this.style.numFmt}set numFmt(d){this._applyStyle("numFmt",d)}get font(){return this.style.font}set font(d){this._applyStyle("font",d)}get alignment(){return this.style.alignment}set alignment(d){this._applyStyle("alignment",d)}get protection(){return this.style.protection}set protection(d){this._applyStyle("protection",d)}get border(){return this.style.border}set border(d){this._applyStyle("border",d)}get fill(){return this.style.fill}set fill(d){this._applyStyle("fill",d)}get hidden(){return!!this._hidden}set hidden(d){this._hidden=d}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(d){this._outlineLevel=d}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const d=[];let u=0,f=0;return this._cells.forEach(h=>{if(h){const m=h.model;m&&((!u||u>h.col)&&(u=h.col),f<h.col&&(f=h.col),d.push(m))}}),this.height||d.length?{cells:d,number:this.number,min:u,max:f,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(d){if(d.number!==this._number)throw new Error("Invalid row number in model");let u;this._cells=[],d.cells.forEach(f=>{switch(f.type){case l.Types.Merge:break;default:{let h;if(f.address)h=c.decodeAddress(f.address);else if(u){const{row:m}=u,A=u.col+1;h={row:m,col:A,address:c.encodeAddress(m,A),$col$row:`$${c.n2l(A)}$${m}`}}u=h,this.getCellEx(h).model=f;break}}}),d.height?this.height=d.height:delete this.height,this.hidden=d.hidden,this.outlineLevel=d.outlineLevel||0,this.style=d.style&&JSON.parse(JSON.stringify(d.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,s,a){const i=e("../utils/col-cache");class o{constructor(l,d,u){this.table=l,this.column=d,this.index=u}_set(l,d){this.table.cacheState(),this.column[l]=d}get name(){return this.column.name}set name(l){this._set("name",l)}get filterButton(){return this.column.filterButton}set filterButton(l){this.column.filterButton=l}get style(){return this.column.style}set style(l){this.column.style=l}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(l){this._set("totalsRowLabel",l)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(l){this._set("totalsRowFunction",l)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(l){this._set("totalsRowResult",l)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(l){this._set("totalsRowFormula",l)}}s.exports=class{constructor(c,l){this.worksheet=c,l&&(this.table=l,this.validate(),this.store())}getFormula(c){switch(c.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${c.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${c.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${c.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${c.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${c.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${c.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${c.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${c.name}])`;case"custom":return c.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+c.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:c}=this,l=(g,p,b)=>{g[p]===void 0&&(g[p]=b)};l(c,"headerRow",!0),l(c,"totalsRow",!1),l(c,"style",{}),l(c.style,"theme","TableStyleMedium2"),l(c.style,"showFirstColumn",!1),l(c.style,"showLastColumn",!1),l(c.style,"showRowStripes",!1),l(c.style,"showColumnStripes",!1);const d=(g,p)=>{if(!g)throw new Error(p)};d(c.ref,"Table must have ref"),d(c.columns,"Table must have column definitions"),d(c.rows,"Table must have row definitions"),c.tl=i.decodeAddress(c.ref);const{row:u,col:f}=c.tl;d(u>0,"Table must be on valid row"),d(f>0,"Table must be on valid col");const{width:h,filterHeight:m,tableHeight:A}=this;c.autoFilterRef=i.encode(u,f,u+m-1,f+h-1),c.tableRef=i.encode(u,f,u+A-1,f+h-1),c.columns.forEach((g,p)=>{d(g.name,`Column ${p} must have a name`),p===0?l(g,"totalsRowLabel","Total"):(l(g,"totalsRowFunction","none"),g.totalsRowFormula=this.getFormula(g))})}store(){const c=(m,A)=>{A&&Object.keys(A).forEach(g=>{m[g]=A[g]})},{worksheet:l,table:d}=this,{row:u,col:f}=d.tl;let h=0;if(d.headerRow){const m=l.getRow(u+h++);d.columns.forEach((A,g)=>{const{style:p,name:b}=A,x=m.getCell(f+g);x.value=b,c(x,p)})}if(d.rows.forEach(m=>{const A=l.getRow(u+h++);m.forEach((g,p)=>{const b=A.getCell(f+p);b.value=g,c(b,d.columns[p].style)})}),d.totalsRow){const m=l.getRow(u+h++);d.columns.forEach((A,g)=>{const p=m.getCell(f+g);if(g===0)p.value=A.totalsRowLabel;else{const b=this.getFormula(A);p.value=b?{formula:A.totalsRowFormula,result:A.totalsRowResult}:null}c(p,A.style)})}}load(c){const{table:l}=this,{row:d,col:u}=l.tl;let f=0;if(l.headerRow){const h=c.getRow(d+f++);l.columns.forEach((m,A)=>{h.getCell(u+A).value=m.name})}if(l.rows.forEach(h=>{const m=c.getRow(d+f++);h.forEach((A,g)=>{m.getCell(u+g).value=A})}),l.totalsRow){const h=c.getRow(d+f++);l.columns.forEach((m,A)=>{const g=h.getCell(u+A);A===0?g.value=m.totalsRowLabel:this.getFormula(m)&&(g.value={formula:m.totalsRowFormula,result:m.totalsRowResult})})}}get model(){return this.table}set model(c){this.table=c}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const c=i.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let l=0;l<this._cache.tableHeight;l++){const d=this.worksheet.getRow(c.row+l);for(let u=0;u<this._cache.width;u++)d.getCell(c.col+u).value=null}else{for(let l=this.tableHeight;l<this._cache.tableHeight;l++){const d=this.worksheet.getRow(c.row+l);for(let u=0;u<this._cache.width;u++)d.getCell(c.col+u).value=null}for(let l=0;l<this.tableHeight;l++){const d=this.worksheet.getRow(c.row+l);for(let u=this.width;u<this._cache.width;u++)d.getCell(c.col+u).value=null}}this.store()}addRow(c,l){this.cacheState(),l===void 0?this.table.rows.push(c):this.table.rows.splice(l,0,c)}removeRows(c){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(c,l)}getColumn(c){const l=this.table.columns[c];return new o(this,l,c)}addColumn(c,l,d){this.cacheState(),d===void 0?(this.table.columns.push(c),this.table.rows.forEach((u,f)=>{u.push(l[f])})):(this.table.columns.splice(d,0,c),this.table.rows.forEach((u,f)=>{u.splice(d,0,l[f])}))}removeColumns(c){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(c,l),this.table.rows.forEach(d=>{d.splice(c,l)})}_assign(c,l,d){this.cacheState(),c[l]=d}get ref(){return this.table.ref}set ref(c){this._assign(this.table,"ref",c)}get name(){return this.table.name}set name(c){this.table.name=c}get displayName(){return this.table.displyName||this.table.name}set displayNamename(c){this.table.displayName=c}get headerRow(){return this.table.headerRow}set headerRow(c){this._assign(this.table,"headerRow",c)}get totalsRow(){return this.table.totalsRow}set totalsRow(c){this._assign(this.table,"totalsRow",c)}get theme(){return this.table.style.name}set theme(c){this.table.style.name=c}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(c){this.table.style.showFirstColumn=c}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(c){this.table.style.showLastColumn=c}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(c){this.table.style.showRowStripes=c}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(c){this.table.style.showColumnStripes=c}}},{"../utils/col-cache":19}],13:[function(e,s,a){const i=e("./worksheet"),o=e("./defined-names"),c=e("../xlsx/xlsx"),l=e("../csv/csv");s.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new o}get xlsx(){return this._xlsx||(this._xlsx=new c(this)),this._xlsx}get csv(){return this._csv||(this._csv=new l(this)),this._csv}get nextId(){for(let d=1;d<this._worksheets.length;d++)if(!this._worksheets[d])return d;return this._worksheets.length||1}addWorksheet(d,u){const f=this.nextId;u&&(typeof u=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),u={properties:{tabColor:{argb:u}}}):(u.argb||u.theme||u.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),u={properties:{tabColor:u}}));const h=this._worksheets.reduce((g,p)=>(p&&p.orderNo)>g?p.orderNo:g,0),m=Object.assign({},u,{id:f,name:d,orderNo:h+1,workbook:this}),A=new i(m);return this._worksheets[f]=A,A}removeWorksheetEx(d){delete this._worksheets[d.id]}removeWorksheet(d){const u=this.getWorksheet(d);u&&u.destroy()}getWorksheet(d){return d===void 0?this._worksheets.find(Boolean):typeof d=="number"?this._worksheets[d]:typeof d=="string"?this._worksheets.find(u=>u&&u.name===d):void 0}get worksheets(){return this._worksheets.slice(1).sort((d,u)=>d.orderNo-u.orderNo).filter(Boolean)}eachSheet(d){this.worksheets.forEach(u=>{d(u,u.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(d){const u=this.media.length;return this.media.push(Object.assign({},d,{type:"image"})),u}getImage(d){return this.media[d]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(d=>d.model),sheets:this.worksheets.map(d=>d.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(d){this.creator=d.creator,this.lastModifiedBy=d.lastModifiedBy,this.lastPrinted=d.lastPrinted,this.created=d.created,this.modified=d.modified,this.company=d.company,this.manager=d.manager,this.title=d.title,this.subject=d.subject,this.keywords=d.keywords,this.category=d.category,this.description=d.description,this.language=d.language,this.revision=d.revision,this.contentStatus=d.contentStatus,this.properties=d.properties,this.calcProperties=d.calcProperties,this._worksheets=[],d.worksheets.forEach(u=>{const{id:f,name:h,state:m}=u,A=d.sheets&&d.sheets.findIndex(g=>g.id===f);(this._worksheets[f]=new i({id:f,name:h,orderNo:A,state:m,workbook:this})).model=u}),this._definedNames.model=d.definedNames,this.views=d.views,this._themes=d.themes,this.media=d.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,s,a){const i=e("../utils/under-dash"),o=e("../utils/col-cache"),c=e("./range"),l=e("./row"),d=e("./column"),u=e("./enums"),f=e("./image"),h=e("./table"),m=e("./data-validations"),A=e("../utils/encryptor"),{copyStyle:g}=e("../utils/copy-style");s.exports=class{constructor(p){p=p||{},this._workbook=p.workbook,this.id=p.id,this.orderNo=p.orderNo,this.name=p.name,this.state=p.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},p.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!p.pageSetup||!p.pageSetup.fitToWidth&&!p.pageSetup.fitToHeight||p.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},p.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},p.headerFooter),this.dataValidations=new m,this.views=p.views||[],this.autoFilter=p.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(p){if(p===void 0&&(p="sheet"+this.id),this._name!==p){if(typeof p!="string")throw new Error("The name has to be a string.");if(p==="")throw new Error("The name can't be empty.");if(p==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(p))throw new Error(`Worksheet name ${p} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(p))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+p);if(p&&p.length>31&&(console.warn(`Worksheet name ${p} exceeds 31 chars. This will be truncated`),p=p.substring(0,31)),this._workbook._worksheets.find(b=>b&&b.name.toLowerCase()===p.toLowerCase()))throw new Error("Worksheet name already exists: "+p);this._name=p}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const p=new c;return this._rows.forEach(b=>{if(b){const x=b.dimensions;x&&p.expand(b.number,x.min,b.number,x.max)}}),p}get columns(){return this._columns}set columns(p){this._headerRowCount=p.reduce((v,y)=>{const S=(y.header?1:y.headers&&y.headers.length)||0;return Math.max(v,S)},0);let b=1;const x=this._columns=[];p.forEach(v=>{const y=new d(this,b++,!1);x.push(y),y.defn=v})}getColumnKey(p){return this._keys[p]}setColumnKey(p,b){this._keys[p]=b}deleteColumnKey(p){delete this._keys[p]}eachColumnKey(p){i.each(this._keys,p)}getColumn(p){if(typeof p=="string"){const b=this._keys[p];if(b)return b;p=o.l2n(p)}if(this._columns||(this._columns=[]),p>this._columns.length){let b=this._columns.length+1;for(;b<=p;)this._columns.push(new d(this,b++))}return this._columns[p-1]}spliceColumns(p,b){const x=this._rows.length;for(var v=arguments.length,y=new Array(v>2?v-2:0),S=2;S<v;S++)y[S-2]=arguments[S];if(y.length>0)for(let D=0;D<x;D++){const L=[p,b];y.forEach(F=>{L.push(F[D]||null)});const O=this.getRow(D+1);O.splice.apply(O,L)}else this._rows.forEach(D=>{D&&D.splice(p,b)});const M=y.length-b,P=p+b,B=this._columns.length;if(M<0)for(let D=p+y.length;D<=B;D++)this.getColumn(D).defn=this.getColumn(D-M).defn;else if(M>0)for(let D=B;D>=P;D--)this.getColumn(D+M).defn=this.getColumn(D).defn;for(let D=p;D<p+y.length;D++)this.getColumn(D).defn=null;this.workbook.definedNames.spliceColumns(this.name,p,b,y.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let p=0;return this.eachRow(b=>{p=Math.max(p,b.cellCount)}),p}get actualColumnCount(){const p=[];let b=0;return this.eachRow(x=>{x.eachCell(v=>{let{col:y}=v;p[y]||(p[y]=!0,b++)})}),b}_commitRow(){}get _lastRowNumber(){const p=this._rows;let b=p.length;for(;b>0&&p[b-1]===void 0;)b--;return b}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(p){return this._rows[p-1]}findRows(p,b){return this._rows.slice(p-1,p-1+b)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let p=0;return this.eachRow(()=>{p++}),p}getRow(p){let b=this._rows[p-1];return b||(b=this._rows[p-1]=new l(this,p)),b}getRows(p,b){if(b<1)return;const x=[];for(let v=p;v<p+b;v++)x.push(this.getRow(v));return x}addRow(p){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const x=this._nextRow,v=this.getRow(x);return v.values=p,this._setStyleOption(x,b[0]==="i"?b:"n"),v}addRows(p){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const x=[];return p.forEach(v=>{x.push(this.addRow(v,b))}),x}insertRow(p,b){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(p,0,b),this._setStyleOption(p,x),this.getRow(p)}insertRows(p,b){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(p,0,...b),x!=="n")for(let v=0;v<b.length;v++)x[0]==="o"&&this.findRow(b.length+p+v)!==void 0?this._copyStyle(b.length+p+v,p+v,x[1]==="+"):x[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p+v,x[1]==="+");return this.getRows(p,b.length)}_setStyleOption(p){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";b[0]==="o"&&this.findRow(p+1)!==void 0?this._copyStyle(p+1,p,b[1]==="+"):b[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p,b[1]==="+")}_copyStyle(p,b){let x=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const v=this.getRow(p),y=this.getRow(b);y.style=g(v.style),v.eachCell({includeEmpty:x},(S,M)=>{y.getCell(M).style=g(S.style)}),y.height=v.height}duplicateRow(p,b){let x=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const v=this._rows[p-1],y=new Array(b).fill(v.values);this.spliceRows(p+1,x?0:b,...y);for(let S=0;S<b;S++){const M=this._rows[p+S];M.style=v.style,M.height=v.height,v.eachCell({includeEmpty:!0},(P,B)=>{M.getCell(B).style=P.style})}}spliceRows(p,b){const x=p+b;for(var v=arguments.length,y=new Array(v>2?v-2:0),S=2;S<v;S++)y[S-2]=arguments[S];const M=y.length,P=M-b,B=this._rows.length;let D,L;if(P<0)for(p===B&&(this._rows[B-1]=void 0),D=x;D<=B;D++)if(L=this._rows[D-1],L){const O=this.getRow(D+P);O.values=L.values,O.style=L.style,O.height=L.height,L.eachCell({includeEmpty:!0},(F,_)=>{O.getCell(_).style=F.style}),this._rows[D-1]=void 0}else this._rows[D+P-1]=void 0;else if(P>0)for(D=B;D>=x;D--)if(L=this._rows[D-1],L){const O=this.getRow(D+P);O.values=L.values,O.style=L.style,O.height=L.height,L.eachCell({includeEmpty:!0},(F,_)=>{if(O.getCell(_).style=F.style,F._value.constructor.name==="MergeValue"){const E=this.getRow(F._row._number+M).getCell(_),T=F._value._master,w=this.getRow(T._row._number+M).getCell(T._column._number);E.merge(w)}})}else this._rows[D+P-1]=void 0;for(D=0;D<M;D++){const O=this.getRow(p+D);O.style={},O.values=y[D]}this.workbook.definedNames.spliceRows(this.name,p,b,M)}eachRow(p,b){if(b||(b=p,p=void 0),p&&p.includeEmpty){const x=this._rows.length;for(let v=1;v<=x;v++)b(this.getRow(v),v)}else this._rows.forEach(x=>{x&&x.hasValues&&b(x,x.number)})}getSheetValues(){const p=[];return this._rows.forEach(b=>{b&&(p[b.number]=b.values)}),p}findCell(p,b){const x=o.getAddress(p,b),v=this._rows[x.row-1];return v?v.findCell(x.col):void 0}getCell(p,b){const x=o.getAddress(p,b);return this.getRow(x.row).getCellEx(x)}mergeCells(){for(var p=arguments.length,b=new Array(p),x=0;x<p;x++)b[x]=arguments[x];const v=new c(b);this._mergeCellsInternal(v)}mergeCellsWithoutStyle(){for(var p=arguments.length,b=new Array(p),x=0;x<p;x++)b[x]=arguments[x];const v=new c(b);this._mergeCellsInternal(v,!0)}_mergeCellsInternal(p,b){i.each(this._merges,v=>{if(v.intersects(p))throw new Error("Cannot merge already merged cells")});const x=this.getCell(p.top,p.left);for(let v=p.top;v<=p.bottom;v++)for(let y=p.left;y<=p.right;y++)(v>p.top||y>p.left)&&this.getCell(v,y).merge(x,b);this._merges[x.address]=p}_unMergeMaster(p){const b=this._merges[p.address];if(b){for(let x=b.top;x<=b.bottom;x++)for(let v=b.left;v<=b.right;v++)this.getCell(x,v).unmerge();delete this._merges[p.address]}}get hasMerges(){return i.some(this._merges,Boolean)}unMergeCells(){for(var p=arguments.length,b=new Array(p),x=0;x<p;x++)b[x]=arguments[x];const v=new c(b);for(let y=v.top;y<=v.bottom;y++)for(let S=v.left;S<=v.right;S++){const M=this.findCell(y,S);M&&(M.type===u.ValueType.Merge?this._unMergeMaster(M.master):this._merges[M.address]&&this._unMergeMaster(M))}}fillFormula(p,b,x){let v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const y=o.decode(p),{top:S,left:M,bottom:P,right:B}=y,D=B-M+1,L=o.encodeAddress(S,M),O=v==="shared";let F;F=typeof x=="function"?x:Array.isArray(x)?Array.isArray(x[0])?(E,T)=>x[E-S][T-M]:(E,T)=>x[(E-S)*D+(T-M)]:()=>{};let _=!0;for(let E=S;E<=P;E++)for(let T=M;T<=B;T++)_?(this.getCell(E,T).value={shareType:v,formula:b,ref:p,result:F(E,T)},_=!1):this.getCell(E,T).value=O?{sharedFormula:L,result:F(E,T)}:F(E,T)}addImage(p,b){const x={type:"image",imageId:p,range:b};this._media.push(new f(this,x))}getImages(){return this._media.filter(p=>p.type==="image")}addBackgroundImage(p){const b={type:"background",imageId:p};this._media.push(new f(this,b))}getBackgroundImageId(){const p=this._media.find(b=>b.type==="background");return p&&p.imageId}protect(p,b){return new Promise(x=>{this.sheetProtection={sheet:!0},b&&"spinCount"in b&&(b.spinCount=Number.isFinite(b.spinCount)?Math.round(Math.max(0,b.spinCount)):1e5),p&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=A.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=b&&"spinCount"in b?b.spinCount:1e5,this.sheetProtection.hashValue=A.convertPasswordToHash(p,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),b&&(this.sheetProtection=Object.assign(this.sheetProtection,b),!p&&"spinCount"in b&&delete this.sheetProtection.spinCount),x()})}unprotect(){this.sheetProtection=null}addTable(p){const b=new h(this,p);return this.tables[p.name]=b,b}getTable(p){return this.tables[p]}removeTable(p){delete this.tables[p]}getTables(){return Object.values(this.tables)}addConditionalFormatting(p){this.conditionalFormattings.push(p)}removeConditionalFormatting(p){typeof p=="number"?this.conditionalFormattings.splice(p,1):this.conditionalFormattings=p instanceof Function?this.conditionalFormattings.filter(p):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(p){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=p}get model(){const p={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(v=>v.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(v=>v.model),conditionalFormattings:this.conditionalFormattings};p.cols=d.toModel(this.columns);const b=p.rows=[],x=p.dimensions=new c;return this._rows.forEach(v=>{const y=v&&v.model;y&&(x.expand(y.number,y.min,y.number,y.max),b.push(y))}),p.merges=[],i.each(this._merges,v=>{p.merges.push(v.range)}),p}_parseRows(p){this._rows=[],p.rows.forEach(b=>{const x=new l(this,b.number);this._rows[x.number-1]=x,x.model=b})}_parseMergeCells(p){i.each(p.mergeCells,b=>{this.mergeCellsWithoutStyle(b)})}set model(p){this.name=p.name,this._columns=d.fromModel(this,p.cols),this._parseRows(p),this._parseMergeCells(p),this.dataValidations=new m(p.dataValidations),this.properties=p.properties,this.pageSetup=p.pageSetup,this.headerFooter=p.headerFooter,this.views=p.views,this.autoFilter=p.autoFilter,this._media=p.media.map(b=>new f(this,b)),this.sheetProtection=p.sheetProtection,this.tables=p.tables.reduce((b,x)=>{const v=new h;return v.model=x,b[x.name]=v,b},{}),this.conditionalFormattings=p.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,s,a){e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");const i={Workbook:e("./doc/workbook")},o=e("./doc/enums");Object.keys(o).forEach(c=>{i[c]=o[c]}),s.exports=i},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,s,a){const i=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");a.bufferToString=function(o){return typeof o=="string"?o:i?i.decode(o):o.toString()}},{}],17:[function(e,s,a){const i=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:o}=e("buffer");a.stringToBuffer=function(c){return typeof c!="string"?c:i?o.from(i.encode(c).buffer):o.from(c)}},{buffer:220}],18:[function(e,s,a){const i=e("./under-dash"),o=e("./col-cache");s.exports=class{constructor(c){this.template=c,this.sheets={}}addCell(c){this.addCellEx(o.decodeEx(c))}getCell(c){return this.findCellEx(o.decodeEx(c),!0)}findCell(c){return this.findCellEx(o.decodeEx(c),!1)}findCellAt(c,l,d){const u=this.sheets[c],f=u&&u[l];return f&&f[d]}addCellEx(c){if(c.top)for(let l=c.top;l<=c.bottom;l++)for(let d=c.left;d<=c.right;d++)this.getCellAt(c.sheetName,l,d);else this.findCellEx(c,!0)}getCellEx(c){return this.findCellEx(c,!0)}findCellEx(c,l){const d=this.findSheet(c,l),u=this.findSheetRow(d,c,l);return this.findRowCell(u,c,l)}getCellAt(c,l,d){const u=this.sheets[c]||(this.sheets[c]=[]),f=u[l]||(u[l]=[]);return f[d]||(f[d]={sheetName:c,address:o.n2l(d)+l,row:l,col:d})}removeCellEx(c){const l=this.findSheet(c);if(!l)return;const d=this.findSheetRow(l,c);d&&delete d[c.col]}forEachInSheet(c,l){const d=this.sheets[c];d&&d.forEach((u,f)=>{u&&u.forEach((h,m)=>{h&&l(h,f,m)})})}forEach(c){i.each(this.sheets,(l,d)=>{this.forEachInSheet(d,c)})}map(c){const l=[];return this.forEach(d=>{l.push(c(d))}),l}findSheet(c,l){const d=c.sheetName;return this.sheets[d]?this.sheets[d]:l?this.sheets[d]=[]:void 0}findSheetRow(c,l,d){const{row:u}=l;return c&&c[u]?c[u]:d?c[u]=[]:void 0}findRowCell(c,l,d){const{col:u}=l;return c&&c[u]?c[u]:d?c[u]=this.template?Object.assign(l,JSON.parse(JSON.stringify(this.template))):l:void 0}spliceRows(c,l,d,u){const f=this.sheets[c];if(f){const h=[];for(let m=0;m<u;m++)h.push([]);f.splice(l,d,...h)}}spliceColumns(c,l,d,u){const f=this.sheets[c];if(f){const h=[];for(let m=0;m<u;m++)h.push(null);i.each(f,m=>{m.splice(l,d,...h)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(e,s,a){const i=/^[A-Z]+\d+$/,o={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:c=>c<=26?1:c<=676?2:3,_fill(c){let l,d,u,f,h,m=1;if(c>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&c>=1){for(;m<=26;)l=this._dictionary[m-1],this._n2l[m]=l,this._l2n[l]=m,m++;this._l2nFill=1}if(this._l2nFill<2&&c>=2){for(m=27;m<=702;)d=m-27,u=d%26,f=Math.floor(d/26),l=this._dictionary[f]+this._dictionary[u],this._n2l[m]=l,this._l2n[l]=m,m++;this._l2nFill=2}if(this._l2nFill<3&&c>=3){for(m=703;m<=16384;)d=m-703,u=d%26,f=Math.floor(d/26)%26,h=Math.floor(d/676),l=this._dictionary[h]+this._dictionary[f]+this._dictionary[u],this._n2l[m]=l,this._l2n[l]=m,m++;this._l2nFill=3}},l2n(c){if(this._l2n[c]||this._fill(c.length),!this._l2n[c])throw new Error("Out of bounds. Invalid column letter: "+c);return this._l2n[c]},n2l(c){if(c<1||c>16384)throw new Error(c+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[c]||this._fill(this._level(c)),this._n2l[c]},_hash:{},validateAddress(c){if(!i.test(c))throw new Error("Invalid Address: "+c);return!0},decodeAddress(c){const l=c.length<5&&this._hash[c];if(l)return l;let d=!1,u="",f=0,h=!1,m="",A=0;for(let p,b=0;b<c.length;b++)if(p=c.charCodeAt(b),!h&&p>=65&&p<=90)d=!0,u+=c[b],f=26*f+p-64;else if(p>=48&&p<=57)h=!0,m+=c[b],A=10*A+p-48;else if(h&&d&&p!==36)break;if(d){if(f>16384)throw new Error("Out of bounds. Invalid column letter: "+u)}else f=void 0;h||(A=void 0);const g={address:c=u+m,col:f,row:A,$col$row:`$${u}$${m}`};return f<=100&&A<=100&&(this._hash[c]=g,this._hash[g.$col$row]=g),g},getAddress(c,l){if(l){const d=this.n2l(l)+c;return this.decodeAddress(d)}return this.decodeAddress(c)},decode(c){const l=c.split(":");if(l.length===2){const d=this.decodeAddress(l[0]),u=this.decodeAddress(l[1]),f={top:Math.min(d.row,u.row),left:Math.min(d.col,u.col),bottom:Math.max(d.row,u.row),right:Math.max(d.col,u.col)};return f.tl=this.n2l(f.left)+f.top,f.br=this.n2l(f.right)+f.bottom,f.dimensions=`${f.tl}:${f.br}`,f}return this.decodeAddress(c)},decodeEx(c){const l=c.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),d=l[1]||l[2],u=l[3],f=u.split(":");if(f.length>1){let m=this.decodeAddress(f[0]),A=this.decodeAddress(f[1]);const g=Math.min(m.row,A.row),p=Math.min(m.col,A.col),b=Math.max(m.row,A.row),x=Math.max(m.col,A.col);return m=this.n2l(p)+g,A=this.n2l(x)+b,{top:g,left:p,bottom:b,right:x,sheetName:d,tl:{address:m,col:p,row:g,$col$row:`$${this.n2l(p)}$${g}`,sheetName:d},br:{address:A,col:x,row:b,$col$row:`$${this.n2l(x)}$${b}`,sheetName:d},dimensions:`${m}:${A}`}}if(u.startsWith("#"))return d?{sheetName:d,error:u}:{error:u};const h=this.decodeAddress(u);return d?{sheetName:d,...h}:h},encodeAddress:(c,l)=>o.n2l(l)+c,encode(){switch(arguments.length){case 2:return o.encodeAddress(arguments[0],arguments[1]);case 4:return`${o.encodeAddress(arguments[0],arguments[1])}:${o.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(c,l){const[d,u,,f,h]=c,[m,A]=l;return m>=d&&m<=f&&A>=u&&A<=h}};s.exports=o},{}],20:[function(e,s,a){const i=(c,l)=>({...c,...l.reduce((d,u)=>(c[u]&&(d[u]={...c[u]}),d),{})}),o=function(c,l,d){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];c[d]&&(l[d]=i(c[d],u))};a.copyStyle=c=>{if(!c)return c;if(l=c,Object.keys(l).length===0)return{};var l;const d={...c};return o(c,d,"font",["color"]),o(c,d,"alignment"),o(c,d,"protection"),c.border&&(o(c,d,"border"),o(c.border,d.border,"top",["color"]),o(c.border,d.border,"left",["color"]),o(c.border,d.border,"bottom",["color"]),o(c.border,d.border,"right",["color"]),o(c.border,d.border,"diagonal",["color"])),c.fill&&(o(c,d,"fill",["fgColor","bgColor","center"]),c.fill.stops&&(d.fill.stops=c.fill.stops.map(u=>i(u,["color"])))),d}},{}],21:[function(e,s,a){(function(i){(function(){const o=e("crypto"),c={hash(l){const d=o.createHash(l);for(var u=arguments.length,f=new Array(u>1?u-1:0),h=1;h<u;h++)f[h-1]=arguments[h];return d.update(i.concat(f)),d.digest()},convertPasswordToHash(l,d,u,f){if(d=d.toLowerCase(),o.getHashes().indexOf(d)<0)throw new Error(`Hash algorithm '${d}' not supported!`);const h=i.from(l,"utf16le");let m=this.hash(d,i.from(u,"base64"),h);for(let A=0;A<f;A++){const g=i.alloc(4);g.writeUInt32LE(A,0),m=this.hash(d,m,g)}return m.toString("base64")},randomBytes:l=>o.randomBytes(l)};s.exports=c}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,s,a){const{SaxesParser:i}=e("saxes"),{PassThrough:o}=e("readable-stream"),{bufferToString:c}=e("./browser-buffer-decode");s.exports=async function*(l){l.pipe&&!l[Symbol.asyncIterator]&&(l=l.pipe(new o));const d=new i;let u;d.on("error",h=>{u=h});let f=[];d.on("opentag",h=>f.push({eventType:"opentag",value:h})),d.on("text",h=>f.push({eventType:"text",value:h})),d.on("closetag",h=>f.push({eventType:"closetag",value:h}));for await(const h of l){if(d.write(c(h)),u)throw u;yield f,f=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,s,a){const i=e("./col-cache"),o=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,c=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;s.exports={slideFormula:function(l,d,u){const f=i.decode(d),h=i.decode(u);return l.replace(o,(m,A,g,p,b)=>{if(b)return m;const x=c.exec(p);if(x){const v=x[1],y=x[2].toUpperCase(),S=x[3],M=x[4];if(y.length>3||y.length===3&&y>"XFD")return m;let P=i.l2n(y),B=parseInt(M,10);return v||(P+=h.col-f.col),S||(B+=h.row-f.row),(A||"")+(v||"")+i.n2l(P)+(S||"")+B}return m})}}},{"./col-cache":19}],24:[function(e,s,a){(function(i,o){(function(){const c=e("readable-stream"),l=e("./utils"),d=e("./string-buf");class u{constructor(p,b){this._data=p,this._encoding=b}get length(){return this.toBuffer().length}copy(p,b,x,v){return this.toBuffer().copy(p,b,x,v)}toBuffer(){return this._buffer||(this._buffer=o.from(this._data,this._encoding)),this._buffer}}class f{constructor(p){this._data=p}get length(){return this._data.length}copy(p,b,x,v){return this._data._buf.copy(p,b,x,v)}toBuffer(){return this._data.toBuffer()}}class h{constructor(p){this._data=p}get length(){return this._data.length}copy(p,b,x,v){this._data.copy(p,b,x,v)}toBuffer(){return this._data}}class m{constructor(p){this.size=p,this.buffer=o.alloc(p),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const p=o.alloc(this.iWrite-this.iRead);return this.buffer.copy(p,0,this.iRead,this.iWrite),p}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(p){let b;return p===0?null:p===void 0||p>=this.length?(b=this.toBuffer(),this.iRead=this.iWrite,b):(b=o.alloc(p),this.buffer.copy(b,0,this.iRead,p),this.iRead+=p,b)}write(p,b,x){const v=Math.min(x,this.size-this.iWrite);return p.copy(this.buffer,this.iWrite,b,b+v),this.iWrite+=v,v}}const A=function(g){g=g||{},this.bufSize=g.bufSize||1048576,this.buffers=[],this.batch=g.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};l.inherits(A,c.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return o.concat(this.buffers.map(g=>g.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const p=this.buffers[this.buffers.length-1];if(!p.full)return p}const g=new m(this.bufSize);return this.buffers.push(g),g},async _pipe(g){await Promise.all(this.pipes.map(function(p){return new Promise(b=>{p.write(g.toBuffer(),()=>{b()})})}))},_writeToBuffers(g){let p=0;const b=g.length;for(;p<b;)p+=this._getWritableBuffer().write(g,p,b-p)},async write(g,p,b){let x;if(p instanceof Function&&(b=p,p="utf8"),b=b||l.nop,g instanceof d)x=new f(g);else if(g instanceof o)x=new h(g);else{if(!(typeof g=="string"||g instanceof String||g instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");x=new u(g,p)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(x);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(x),i.nextTick(b)):(await this._pipe(x),b());else this.paused||this.emit("data",x.toBuffer()),this._writeToBuffers(x),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(g,p,b){const x=v=>{v?b(v):(this._flush(),this.pipes.forEach(y=>{y.end()}),this.emit("finish"))};g?this.write(g,p,x):x()},read(g){let p;if(g){for(p=[];g&&this.buffers.length&&!this.buffers[0].eod;){const b=this.buffers[0],x=b.read(g);g-=x.length,p.push(x),b.eod&&b.full&&this.buffers.shift()}return o.concat(p)}return p=this.buffers.map(b=>b.toBuffer()).filter(Boolean),this.buffers=[],o.concat(p)},setEncoding(g){this.encoding=g},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(g){this.pipes.push(g),!this.paused&&this.buffers.length&&this.end()},unpipe(g){this.pipes=this.pipes.filter(p=>p!==g)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),s.exports=A}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,s,a){(function(i){(function(){s.exports=class{constructor(o){this._buf=i.alloc(o&&o.size||16384),this._encoding=o&&o.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=i.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(o){o=o||0,this._buffer=void 0,this._inPos=o}_grow(o){let c=2*this._buf.length;for(;c<o;)c*=2;const l=i.alloc(c);this._buf.copy(l,0),this._buf=l}addText(o){this._buffer=void 0;let c=this._inPos+this._buf.write(o,this._inPos,this._encoding);for(;c>=this._buf.length-4;)this._grow(this._inPos+o.length),c=this._inPos+this._buf.write(o,this._inPos,this._encoding);this._inPos=c}addStringBuf(o){o.length&&(this._buffer=void 0,this.length+o.length>this.capacity&&this._grow(this.length+o.length),o._buf.copy(this._buf,this._inPos,0,o.length),this._inPos+=o.length)}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,s,a){const{toString:i}=Object.prototype,o=/["&<>]/,c={each:function(l,d){l&&(Array.isArray(l)?l.forEach(d):Object.keys(l).forEach(u=>{d(l[u],u)}))},some:function(l,d){return!!l&&(Array.isArray(l)?l.some(d):Object.keys(l).some(u=>d(l[u],u)))},every:function(l,d){return!l||(Array.isArray(l)?l.every(d):Object.keys(l).every(u=>d(l[u],u)))},map:function(l,d){return l?Array.isArray(l)?l.map(d):Object.keys(l).map(u=>d(l[u],u)):[]},keyBy:(l,d)=>l.reduce((u,f)=>(u[f[d]]=f,u),{}),isEqual:function(l,d){const u=typeof l,f=typeof d,h=Array.isArray(l),m=Array.isArray(d);let A;if(u!==f)return!1;switch(typeof l){case"object":if(h||m)return!(!h||!m)&&l.length===d.length&&l.every((g,p)=>{const b=d[p];return c.isEqual(g,b)});if(l===null||d===null)return l===d;if(A=Object.keys(l),Object.keys(d).length!==A.length)return!1;for(const g of A)if(!d.hasOwnProperty(g))return!1;return c.every(l,(g,p)=>{const b=d[p];return c.isEqual(g,b)});default:return l===d}},escapeHtml(l){const d=o.exec(l);if(!d)return l;let u="",f="",h=0,m=d.index;for(;m<l.length;m++){switch(l.charAt(m)){case'"':f="&quot;";break;case"&":f="&amp;";break;case"'":f="&apos;";break;case"<":f="&lt;";break;case">":f="&gt;";break;default:continue}h!==m&&(u+=l.substring(h,m)),h=m+1,u+=f}return h!==m?u+l.substring(h,m):u},strcmp:(l,d)=>l<d?-1:l>d?1:0,isUndefined:l=>i.call(l)==="[object Undefined]",isObject:l=>i.call(l)==="[object Object]",deepMerge(){const l=arguments[0]||{},{length:d}=arguments;let u,f,h;function m(A,g){u=l[g],h=Array.isArray(A),c.isObject(A)||h?(h?(h=!1,f=u&&Array.isArray(u)?u:[]):f=u&&c.isObject(u)?u:{},l[g]=c.deepMerge(f,A)):c.isUndefined(A)||(l[g]=A)}for(let A=0;A<d;A++)c.each(arguments[A],m);return l}};s.exports=c},{}],27:[function(e,s,a){(function(i,o){(function(){const c=e("fs"),l=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,d={nop(){},promiseImmediate:u=>new Promise(f=>{i.setImmediate?o(()=>{f(u)}):setTimeout(()=>{f(u)},1)}),inherits:function(u,f,h,m){u.super_=f,m||(m=h,h=null),h&&Object.keys(h).forEach(g=>{Object.defineProperty(u,g,Object.getOwnPropertyDescriptor(h,g))});const A={constructor:{value:u,enumerable:!1,writable:!1,configurable:!0}};m&&Object.keys(m).forEach(g=>{A[g]=Object.getOwnPropertyDescriptor(m,g)}),u.prototype=Object.create(f.prototype,A)},dateToExcel:(u,f)=>25569+u.getTime()/864e5-(f?1462:0),excelToDate(u,f){const h=Math.round(24*(u-25569+(f?1462:0))*3600*1e3);return new Date(h)},parsePath(u){const f=u.lastIndexOf("/");return{path:u.substring(0,f),name:u.substring(f+1)}},getRelsPath(u){const f=d.parsePath(u);return`${f.path}/_rels/${f.name}.rels`},xmlEncode(u){const f=l.exec(u);if(!f)return u;let h="",m="",A=0,g=f.index;for(;g<u.length;g++){const p=u.charCodeAt(g);switch(p){case 34:m="&quot;";break;case 38:m="&amp;";break;case 39:m="&apos;";break;case 60:m="&lt;";break;case 62:m="&gt;";break;case 127:m="";break;default:if(p<=31&&(p<=8||p>=11&&p!==13)){m="";break}continue}A!==g&&(h+=u.substring(A,g)),A=g+1,m&&(h+=m)}return A!==g?h+u.substring(A,g):h},xmlDecode:u=>u.replace(/&([a-z]*);/g,f=>{switch(f){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return f}}),validInt(u){const f=parseInt(u,10);return Number.isNaN(f)?0:f},isDateFmt(u){return u?(u=(u=u.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:u=>new Promise(f=>{c.access(u,c.constants.F_OK,h=>{f(!h)})})},toIsoDateString:u=>u.toIsoString().subsstr(0,10),parseBoolean:u=>u===!0||u==="true"||u===1||u==="1"};s.exports=d}).call(this)}).call(this,typeof an<"u"?an:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,s,a){const i=e("./under-dash"),o=e("./utils");function c(u,f,h){u.push(` ${f}="${o.xmlEncode(h.toString())}"`)}function l(u,f){if(f){const h=[];i.each(f,(m,A)=>{m!==void 0&&c(h,A,m)}),u.push(h.join(""))}}class d{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(f){const h=this._xml;h.push("<?xml"),l(h,f),h.push(`?>
`)}openNode(f,h){const m=this.tos,A=this._xml;m&&this.open&&A.push(">"),this._stack.push(f),A.push("<"),A.push(f),l(A,h),this.leaf=!0,this.open=!0}addAttribute(f,h){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");h!==void 0&&c(this._xml,f,h)}addAttributes(f){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");l(this._xml,f)}writeText(f){const h=this._xml;this.open&&(h.push(">"),this.open=!1),this.leaf=!1,h.push(o.xmlEncode(f.toString()))}writeXml(f){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(f)}closeNode(){const f=this._stack.pop(),h=this._xml;this.leaf?h.push("/>"):(h.push("</"),h.push(f),h.push(">")),this.open=!1,this.leaf=!1}leafNode(f,h,m){this.openNode(f,h),m!==void 0&&this.writeText(m),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const f=this._rollbacks.pop();this._xml.length>f.xml&&this._xml.splice(f.xml,this._xml.length-f.xml),this._stack.length>f.stack&&this._stack.splice(f.stack,this._stack.length-f.stack),this.leaf=f.leaf,this.open=f.open}get xml(){return this.closeAll(),this._xml.join("")}}d.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},s.exports=d},{"./under-dash":26,"./utils":27}],29:[function(e,s,a){(function(i){(function(){const o=e("events"),c=e("jszip"),l=e("./stream-buf"),{stringToBuffer:d}=e("./browser-buffer-encode");class u extends o.EventEmitter{constructor(h){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},h),this.zip=new c,this.stream=new l}append(h,m){m.hasOwnProperty("base64")&&m.base64?this.zip.file(m.name,h,{base64:!0}):(i.browser&&typeof h=="string"&&(h=d(h)),this.zip.file(m.name,h))}async finalize(){const h=await this.zip.generateAsync(this.options);this.stream.end(h),this.emit("finish")}read(h){return this.stream.read(h)}setEncoding(h){return this.stream.setEncoding(h)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(h,m){return this.stream.pipe(h,m)}unpipe(h){return this.stream.unpipe(h)}unshift(h){return this.stream.unshift(h)}wrap(h){return this.stream.wrap(h)}}s.exports={ZipWriter:u}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,s,a){s.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},28:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"年"m"月"d"日"',"zh-cn":'yyyy"年"m"月"d"日"',"ja-jp":'yyyy"年"m"月"d"日"',"ko-kr":'yyyy"년" mm"월" dd"일"'},32:{"zh-tw":'hh"時"mm"分"',"zh-cn":'h"时"mm"分"',"ja-jp":'h"時"mm"分"',"ko-kr":'h"시" mm"분"'},33:{"zh-tw":'hh"時"mm"分"ss"秒"',"zh-cn":'h"时"mm"分"ss"秒"',"ja-jp":'h"時"mm"分"ss"秒"',"ko-kr":'h"시" mm"분" ss"초"'},34:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},51:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},52:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'yyyy"年"m"月"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'m"月"d"日"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},55:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},58:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,s,a){s.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,s,a){const i=e("../../utils/parse-sax"),o=e("../../utils/xml-stream");class c{prepare(){}render(){}parseOpen(d){}parseText(d){}parseClose(d){}reconcile(d,u){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(d=>{d instanceof c?d.reset():d.xform&&d.xform.reset()})}mergeModel(d){this.model=Object.assign(this.model||{},d)}async parse(d){for await(const u of d)for(const{eventType:f,value:h}of u)if(f==="opentag")this.parseOpen(h);else if(f==="text")this.parseText(h);else if(f==="closetag"&&!this.parseClose(h.name))return this.model;return this.model}async parseStream(d){return this.parse(i(d))}get xml(){return this.toXml(this.model)}toXml(d){const u=new o;return this.render(u,d),u.xml}static toAttribute(d,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(d===void 0){if(f)return u}else if(f||d!==u)return d.toString()}static toStringAttribute(d,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(d,u,f)}static toStringValue(d,u){return d===void 0?u:d}static toBoolAttribute(d,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(d===void 0){if(f)return u}else if(f||d!==u)return d?"1":"0"}static toBoolValue(d,u){return d===void 0?u:d==="1"}static toIntAttribute(d,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(d,u,f)}static toIntValue(d,u){return d===void 0?u:parseInt(d,10)}static toFloatAttribute(d,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(d,u,f)}static toFloatValue(d,u){return d===void 0?u:parseFloat(d)}}s.exports=c},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,s,a){const i=e("../base-xform"),o=e("../../../utils/col-cache");function c(d){try{return o.decodeEx(d),!0}catch{return!1}}function l(d){const u=[];let f=!1,h="";return d.split(",").forEach(m=>{if(!m)return;const A=(m.match(/'/g)||[]).length;if(!A)return void(f?h+=m+",":c(m)&&u.push(m));const g=A%2==0;!f&&g&&c(m)?u.push(m):f&&!g?(f=!1,c(h+m)&&u.push(h+m),h=""):(f=!0,h+=m+",")}),u}s.exports=class extends i{render(d,u){d.openNode("definedName",{name:u.name,localSheetId:u.localSheetId}),d.writeText(u.ranges.join(",")),d.closeNode()}parseOpen(d){switch(d.name){case"definedName":return this._parsedName=d.attributes.name,this._parsedLocalSheetId=d.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(d){this._parsedText.push(d)}parseClose(){return this.model={name:this._parsedName,ranges:l(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,s,a){const i=e("../../../utils/utils"),o=e("../base-xform");s.exports=class extends o{render(c,l){c.leafNode("sheet",{sheetId:l.id,name:l.name,state:l.state,"r:id":l.rId})}parseOpen(c){return c.name==="sheet"&&(this.model={name:i.xmlDecode(c.attributes.name),id:parseInt(c.attributes.sheetId,10),state:c.attributes.state,rId:c.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{render(o,c){o.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:c.fullCalcOnLoad?1:void 0})}parseOpen(o){return o.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{render(o,c){o.leafNode("workbookPr",{date1904:c.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(o){return o.name==="workbookPr"&&(this.model={date1904:o.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{render(o,c){const l={xWindow:c.x||0,yWindow:c.y||0,windowWidth:c.width||12e3,windowHeight:c.height||24e3,firstSheet:c.firstSheet,activeTab:c.activeTab};c.visibility&&c.visibility!=="visible"&&(l.visibility=c.visibility),o.leafNode("workbookView",l)}parseOpen(o){if(o.name==="workbookView"){const c=this.model={},l=function(u,f,h){const m=f!==void 0?c[u]=f:h;m!==void 0&&(c[u]=m)},d=function(u,f,h){const m=f!==void 0?c[u]=parseInt(f,10):h;m!==void 0&&(c[u]=m)};return d("x",o.attributes.xWindow,0),d("y",o.attributes.yWindow,0),d("width",o.attributes.windowWidth,25e3),d("height",o.attributes.windowHeight,1e4),l("visibility",o.attributes.visibility,"visible"),d("activeTab",o.attributes.activeTab,void 0),d("firstSheet",o.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(e,s,a){const i=e("../../../utils/under-dash"),o=e("../../../utils/col-cache"),c=e("../../../utils/xml-stream"),l=e("../base-xform"),d=e("../static-xform"),u=e("../list-xform"),f=e("./defined-name-xform"),h=e("./sheet-xform"),m=e("./workbook-view-xform"),A=e("./workbook-properties-xform"),g=e("./workbook-calc-properties-xform");class p extends l{constructor(){super(),this.map={fileVersion:p.STATIC_XFORMS.fileVersion,workbookPr:new A,bookViews:new u({tag:"bookViews",count:!1,childXform:new m}),sheets:new u({tag:"sheets",count:!1,childXform:new h}),definedNames:new u({tag:"definedNames",count:!1,childXform:new f}),calcPr:new g}}prepare(x){x.sheets=x.worksheets;const v=[];let y=0;x.sheets.forEach(S=>{if(S.pageSetup&&S.pageSetup.printArea&&S.pageSetup.printArea.split("&&").forEach(M=>{const P=M.split(":"),B={name:"_xlnm.Print_Area",ranges:[`'${S.name}'!$${P[0]}:$${P[1]}`],localSheetId:y};v.push(B)}),S.pageSetup&&(S.pageSetup.printTitlesRow||S.pageSetup.printTitlesColumn)){const M=[];if(S.pageSetup.printTitlesColumn){const B=S.pageSetup.printTitlesColumn.split(":");M.push(`'${S.name}'!$${B[0]}:$${B[1]}`)}if(S.pageSetup.printTitlesRow){const B=S.pageSetup.printTitlesRow.split(":");M.push(`'${S.name}'!$${B[0]}:$${B[1]}`)}const P={name:"_xlnm.Print_Titles",ranges:M,localSheetId:y};v.push(P)}y++}),v.length&&(x.definedNames=x.definedNames.concat(v)),(x.media||[]).forEach((S,M)=>{S.name=S.type+(M+1)})}render(x,v){x.openXml(c.StdDocAttributes),x.openNode("workbook",p.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(x),this.map.workbookPr.render(x,v.properties),this.map.bookViews.render(x,v.views),this.map.sheets.render(x,v.sheets),this.map.definedNames.render(x,v.definedNames),this.map.calcPr.render(x,v.calcProperties),x.closeNode()}parseOpen(x){if(this.parser)return this.parser.parseOpen(x),!0;switch(x.name){case"workbook":return!0;default:return this.parser=this.map[x.name],this.parser&&this.parser.parseOpen(x),!0}}parseText(x){this.parser&&this.parser.parseText(x)}parseClose(x){if(this.parser)return this.parser.parseClose(x)||(this.parser=void 0),!0;switch(x){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(x){const v=(x.workbookRels||[]).reduce((B,D)=>(B[D.Id]=D,B),{}),y=[];let S,M=0;(x.sheets||[]).forEach(B=>{const D=v[B.rId];D&&(S=x.worksheetHash["xl/"+D.Target.replace(/^(\s|\/xl\/)+/,"")],S&&(S.name=B.name,S.id=B.id,S.state=B.state,y[M++]=S))});const P=[];i.each(x.definedNames,B=>{if(B.name==="_xlnm.Print_Area"){if(S=y[B.localSheetId],S){S.pageSetup||(S.pageSetup={});const D=o.decodeEx(B.ranges[0]);S.pageSetup.printArea=S.pageSetup.printArea?`${S.pageSetup.printArea}&&${D.dimensions}`:D.dimensions}}else if(B.name==="_xlnm.Print_Titles"){if(S=y[B.localSheetId],S){S.pageSetup||(S.pageSetup={});const D=B.ranges.join(","),L=/\$/g,O=/\$\d+:\$\d+/,F=D.match(O);if(F&&F.length){const T=F[0];S.pageSetup.printTitlesRow=T.replace(L,"")}const _=/\$[A-Z]+:\$[A-Z]+/,E=D.match(_);if(E&&E.length){const T=E[0];S.pageSetup.printTitlesColumn=T.replace(L,"")}}}else P.push(B)}),x.definedNames=P,x.media.forEach((B,D)=>{B.index=D})}}p.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},p.STATIC_XFORMS={fileVersion:new d({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},s.exports=p},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,s,a){const i=e("../strings/rich-text-xform"),o=e("../../../utils/utils"),c=e("../base-xform"),l=s.exports=function(d){this.model=d};o.inherits(l,c,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new i),this._richTextXform},render(d,u){u=u||this.model,d.openNode("comment",{ref:u.ref,authorId:0}),d.openNode("text"),u&&u.note&&u.note.texts&&u.note.texts.forEach(f=>{this.richTextXform.render(d,f)}),d.closeNode(),d.closeNode()},parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"comment":return this.model={type:"note",note:{texts:[]},...d.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(d),!0;default:return!1}},parseText(d){this.parser&&this.parser.parseText(d)},parseClose(d){switch(d){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(d),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,s,a){const i=e("../../../utils/xml-stream"),o=e("../../../utils/utils"),c=e("../base-xform"),l=e("./comment-xform"),d=s.exports=function(){this.map={comment:new l}};o.inherits(d,c,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(u,f){f=f||this.model,u.openXml(i.StdDocAttributes),u.openNode("comments",d.COMMENTS_ATTRIBUTES),u.openNode("authors"),u.leafNode("author",null,"Author"),u.closeNode(),u.openNode("commentList"),f.comments.forEach(h=>{this.map.comment.render(u,h)}),u.closeNode(),u.closeNode()},parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(u),!0;default:return!1}},parseText(u){this.parser&&this.parser.parseText(u)},parseClose(u){switch(u){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,s,a){const i=e("../../base-xform");s.exports=class extends i{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,c,l){(c===l[2]||this.tag==="x:SizeWithCells"&&c===l[1])&&o.leafNode(this.tag)}parseOpen(o){switch(o.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(e,s,a){const i=e("../../base-xform");s.exports=class extends i{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,c){o.leafNode(this.tag,null,c)}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"x:Anchor"}getAnchorRect(o){const c=Math.floor(o.left),l=Math.floor(68*(o.left-c)),d=Math.floor(o.top),u=Math.floor(18*(o.top-d)),f=Math.floor(o.right),h=Math.floor(68*(o.right-f)),m=Math.floor(o.bottom);return[c,l,d,u,f,h,m,Math.floor(18*(o.bottom-m))]}getDefaultRect(o){const c=o.col,l=Math.max(o.row-2,0);return[c,6,l,14,c+2,2,l+4,16]}render(o,c){const l=c.anchor?this.getAnchorRect(c.anchor):this.getDefaultRect(c.refAddress);o.leafNode("x:Anchor",null,l.join(", "))}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../base-xform":32}],44:[function(e,s,a){const i=e("../base-xform"),o=e("./vml-anchor-xform"),c=e("./style/vml-protection-xform"),l=e("./style/vml-position-xform"),d=["twoCells","oneCells","absolute"];s.exports=class extends i{constructor(){super(),this.map={"x:Anchor":new o,"x:Locked":new c({tag:"x:Locked"}),"x:LockText":new c({tag:"x:LockText"}),"x:SizeWithCells":new l({tag:"x:SizeWithCells"}),"x:MoveWithCells":new l({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(u,f){const{protection:h,editAs:m}=f.note;u.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(u,m,d),this.map["x:SizeWithCells"].render(u,m,d),this.map["x:Anchor"].render(u,f),this.map["x:Locked"].render(u,h.locked),u.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(u,h.lockText),u.leafNode("x:Row",null,f.refAddress.row-1),u.leafNode("x:Column",null,f.refAddress.col-1),u.closeNode()}parseOpen(u){switch(u.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const u=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),f=Object.keys(u).length;this.model.editAs=d[f],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,s,a){const i=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("./vml-shape-xform");class l extends o{constructor(){super(),this.map={"v:shape":new c}}get tag(){return"xml"}render(u,f){u.openXml(i.StdDocAttributes),u.openNode(this.tag,l.DRAWING_ATTRIBUTES),u.openNode("o:shapelayout",{"v:ext":"edit"}),u.leafNode("o:idmap",{"v:ext":"edit",data:1}),u.closeNode(),u.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),u.leafNode("v:stroke",{joinstyle:"miter"}),u.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),u.closeNode(),f.comments.forEach((h,m)=>{this.map["v:shape"].render(u,h,m)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}reconcile(u,f){u.anchors.forEach(h=>{h.br?this.map["xdr:twoCellAnchor"].reconcile(h,f):this.map["xdr:oneCellAnchor"].reconcile(h,f)})}}l.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},s.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,s,a){const i=e("../base-xform"),o=e("./vml-textbox-xform"),c=e("./vml-client-data-xform");class l extends i{constructor(){super(),this.map={"v:textbox":new o,"x:ClientData":new c}}get tag(){return"v:shape"}render(u,f,h){u.openNode("v:shape",l.V_SHAPE_ATTRIBUTES(f,h)),u.leafNode("v:fill",{color2:"infoBackground [80]"}),u.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),u.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(u,f),this.map["x:ClientData"].render(u,f),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={margins:{insetmode:u.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}l.V_SHAPE_ATTRIBUTES=(d,u)=>({id:"_x0000_s"+(1025+u),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":d.note.margins&&d.note.margins.insetmode}),s.exports=l},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"v:textbox"}conversionUnit(o,c,l){return`${parseFloat(o)*c.toFixed(2)}${l}`}reverseConversionUnit(o){return(o||"").split(",").map(c=>Number(parseFloat(this.conversionUnit(parseFloat(c),.1,"")).toFixed(2)))}render(o,c){const l={style:"mso-direction-alt:auto"};if(c&&c.note){let{inset:d}=c.note&&c.note.margins;Array.isArray(d)&&(d=d.map(u=>this.conversionUnit(u,10,"mm")).join(",")),d&&(l.inset=d)}o.openNode("v:textbox",l),o.leafNode("div",{style:"text-align:left"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:return this.model={inset:this.reverseConversionUnit(o.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(e,s,a){const i=e("./base-xform");s.exports=class extends i{createNewModel(o){return{}}parseOpen(o){return this.parser=this.parser||this.map[o.name],this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag&&(this.model=this.createNewModel(o),!0)}parseText(o){this.parser&&this.parser.parseText(o)}onParserClose(o,c){this.model[o]=c.model}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.onParserClose(o,this.parser),this.parser=void 0),!0):o!==this.tag}}},{"./base-xform":32}],49:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{render(o,c){o.openNode("HeadingPairs"),o.openNode("vt:vector",{size:2,baseType:"variant"}),o.openNode("vt:variant"),o.leafNode("vt:lpstr",void 0,"Worksheets"),o.closeNode(),o.openNode("vt:variant"),o.leafNode("vt:i4",void 0,c.length),o.closeNode(),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="HeadingPairs"}parseText(){}parseClose(o){return o!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{render(o,c){o.openNode("TitlesOfParts"),o.openNode("vt:vector",{size:c.length,baseType:"lpstr"}),c.forEach(l=>{o.leafNode("vt:lpstr",void 0,l.name)}),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="TitlesOfParts"}parseText(){}parseClose(o){return o!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(e,s,a){const i=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("../simple/string-xform"),l=e("./app-heading-pairs-xform"),d=e("./app-titles-of-parts-xform");class u extends o{constructor(){super(),this.map={Company:new c({tag:"Company"}),Manager:new c({tag:"Manager"}),HeadingPairs:new l,TitleOfParts:new d}}render(h,m){h.openXml(i.StdDocAttributes),h.openNode("Properties",u.PROPERTY_ATTRIBUTES),h.leafNode("Application",void 0,"Microsoft Excel"),h.leafNode("DocSecurity",void 0,"0"),h.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(h,m.worksheets),this.map.TitleOfParts.render(h,m.worksheets),this.map.Company.render(h,m.company||""),this.map.Manager.render(h,m.manager),h.leafNode("LinksUpToDate",void 0,"false"),h.leafNode("SharedDoc",void 0,"false"),h.leafNode("HyperlinksChanged",void 0,"false"),h.leafNode("AppVersion",void 0,"16.0300"),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"Properties":return!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}u.DateFormat=function(f){return f.toISOString().replace(/[.]\d{3,6}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},s.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,s,a){const i=e("../../../utils/xml-stream"),o=e("../base-xform");class c extends o{render(d,u){d.openXml(i.StdDocAttributes),d.openNode("Types",c.PROPERTY_ATTRIBUTES);const f={};(u.media||[]).forEach(h=>{if(h.type==="image"){const m=h.extension;f[m]||(f[m]=!0,d.leafNode("Default",{Extension:m,ContentType:"image/"+m}))}}),d.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),d.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),d.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),u.worksheets.forEach(h=>{const m=`/xl/worksheets/sheet${h.id}.xml`;d.leafNode("Override",{PartName:m,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),d.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),d.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),u.sharedStrings&&u.sharedStrings.count&&d.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),u.tables&&u.tables.forEach(h=>{d.leafNode("Override",{PartName:"/xl/tables/"+h.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),u.drawings&&u.drawings.forEach(h=>{d.leafNode("Override",{PartName:`/xl/drawings/${h.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),u.commentRefs&&(d.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),u.commentRefs.forEach(h=>{let{commentName:m}=h;d.leafNode("Override",{PartName:`/xl/${m}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),d.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),d.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),d.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}c.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},s.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,s,a){const i=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("../simple/date-xform"),l=e("../simple/string-xform"),d=e("../simple/integer-xform");class u extends o{constructor(){super(),this.map={"dc:creator":new l({tag:"dc:creator"}),"dc:title":new l({tag:"dc:title"}),"dc:subject":new l({tag:"dc:subject"}),"dc:description":new l({tag:"dc:description"}),"dc:identifier":new l({tag:"dc:identifier"}),"dc:language":new l({tag:"dc:language"}),"cp:keywords":new l({tag:"cp:keywords"}),"cp:category":new l({tag:"cp:category"}),"cp:lastModifiedBy":new l({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new c({tag:"cp:lastPrinted",format:u.DateFormat}),"cp:revision":new d({tag:"cp:revision"}),"cp:version":new l({tag:"cp:version"}),"cp:contentStatus":new l({tag:"cp:contentStatus"}),"cp:contentType":new l({tag:"cp:contentType"}),"dcterms:created":new c({tag:"dcterms:created",attrs:u.DateAttrs,format:u.DateFormat}),"dcterms:modified":new c({tag:"dcterms:modified",attrs:u.DateAttrs,format:u.DateFormat})}}render(h,m){h.openXml(i.StdDocAttributes),h.openNode("cp:coreProperties",u.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(h,m.creator),this.map["dc:title"].render(h,m.title),this.map["dc:subject"].render(h,m.subject),this.map["dc:description"].render(h,m.description),this.map["dc:identifier"].render(h,m.identifier),this.map["dc:language"].render(h,m.language),this.map["cp:keywords"].render(h,m.keywords),this.map["cp:category"].render(h,m.category),this.map["cp:lastModifiedBy"].render(h,m.lastModifiedBy),this.map["cp:lastPrinted"].render(h,m.lastPrinted),this.map["cp:revision"].render(h,m.revision),this.map["cp:version"].render(h,m.version),this.map["cp:contentStatus"].render(h,m.contentStatus),this.map["cp:contentType"].render(h,m.contentType),this.map["dcterms:created"].render(h,m.created),this.map["dcterms:modified"].render(h,m.modified),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[h.name],this.parser)return this.parser.parseOpen(h),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(h))}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+h)}}}u.DateFormat=function(f){return f.toISOString().replace(/[.]\d{3}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},s.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{render(o,c){o.leafNode("Relationship",c)}parseOpen(o){switch(o.name){case"Relationship":return this.model=o.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(e,s,a){const i=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("./relationship-xform");class l extends o{constructor(){super(),this.map={Relationship:new c}}render(u,f){f=f||this._values,u.openXml(i.StdDocAttributes),u.openNode("Relationships",l.RELATIONSHIPS_ATTRIBUTES),f.forEach(h=>{this.map.Relationship.render(u,h)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[u.name],this.parser)return this.parser.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(u){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}l.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},s.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset(),this.model={range:{editAs:o.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}reconcilePicture(o,c){if(o&&o.rId){const l=c.rels[o.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(l){const d=l[1],u=c.mediaIndex[d];return c.media[u]}}}}},{"../base-xform":32}],57:[function(e,s,a){const i=e("../base-xform"),o=e("./blip-xform");s.exports=class extends i{constructor(){super(),this.map={"a:blip":new o}}get tag(){return"xdr:blipFill"}render(c,l){c.openNode(this.tag),this.map["a:blip"].render(c,l),c.openNode("a:stretch"),c.leafNode("a:fillRect"),c.closeNode(),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"a:blip"}render(o,c){o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":c.rId,cstate:"print"})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"xdr:cNvPicPr"}render(o){o.openNode(this.tag),o.leafNode("a:picLocks",{noChangeAspect:"1"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(e,s,a){const i=e("../base-xform"),o=e("./hlink-click-xform"),c=e("./ext-lst-xform");s.exports=class extends i{constructor(){super(),this.map={"a:hlinkClick":new o,"a:extLst":new c}}get tag(){return"xdr:cNvPr"}render(l,d){l.openNode(this.tag,{id:d.index,name:"Picture "+d.index}),this.map["a:hlinkClick"].render(l,d),this.map["a:extLst"].render(l,d),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,s,a){const i=e("../base-xform"),o=e("../simple/integer-xform");s.exports=class extends i{constructor(c){super(),this.tag=c.tag,this.map={"xdr:col":new o({tag:"xdr:col",zero:!0}),"xdr:colOff":new o({tag:"xdr:colOff",zero:!0}),"xdr:row":new o({tag:"xdr:row",zero:!0}),"xdr:rowOff":new o({tag:"xdr:rowOff",zero:!0})}}render(c,l){c.openNode(this.tag),this.map["xdr:col"].render(c,l.nativeCol),this.map["xdr:colOff"].render(c,l.nativeColOff),this.map["xdr:row"].render(c,l.nativeRow),this.map["xdr:rowOff"].render(c,l.nativeRowOff),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,s,a){const i=e("../../../utils/col-cache"),o=e("../../../utils/xml-stream"),c=e("../base-xform"),l=e("./two-cell-anchor-xform"),d=e("./one-cell-anchor-xform");class u extends c{constructor(){super(),this.map={"xdr:twoCellAnchor":new l,"xdr:oneCellAnchor":new d}}prepare(h){h.anchors.forEach((m,A)=>{m.anchorType=function(g){return(typeof g.range=="string"?i.decode(g.range):g.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(m),this.map[m.anchorType].prepare(m,{index:A})})}get tag(){return"xdr:wsDr"}render(h,m){h.openXml(o.StdDocAttributes),h.openNode(this.tag,u.DRAWING_ATTRIBUTES),m.anchors.forEach(A=>{this.map[A.anchorType].render(h,A)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(h){case this.tag:return!1;default:return!0}}reconcile(h,m){h.anchors.forEach(A=>{A.br?this.map["xdr:twoCellAnchor"].reconcile(A,m):this.map["xdr:oneCellAnchor"].reconcile(A,m)})}}u.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},s.exports=u},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"a:extLst"}render(o){o.openNode(this.tag),o.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),o.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),o.closeNode(),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.map={}}render(o,c){o.openNode(this.tag);const l=Math.floor(9525*c.width),d=Math.floor(9525*c.height);o.addAttribute("cx",l),o.addAttribute("cy",d),o.closeNode()}parseOpen(o){return o.name===this.tag&&(this.model={width:parseInt(o.attributes.cx||"0",10)/9525,height:parseInt(o.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"a:hlinkClick"}render(o,c){c.hyperlinks&&c.hyperlinks.rId&&o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":c.hyperlinks.rId,tooltip:c.hyperlinks.tooltip})}parseOpen(o){switch(o.name){case this.tag:return this.model={hyperlinks:{rId:o.attributes["r:id"],tooltip:o.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(e,s,a){const i=e("../base-xform"),o=e("./c-nv-pr-xform"),c=e("./c-nv-pic-pr-xform");s.exports=class extends i{constructor(){super(),this.map={"xdr:cNvPr":new o,"xdr:cNvPicPr":new c}}get tag(){return"xdr:nvPicPr"}render(l,d){l.openNode(this.tag),this.map["xdr:cNvPr"].render(l,d),this.map["xdr:cNvPicPr"].render(l,d),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,s,a){const i=e("./base-cell-anchor-xform"),o=e("../static-xform"),c=e("./cell-position-xform"),l=e("./ext-xform"),d=e("./pic-xform");s.exports=class extends i{constructor(){super(),this.map={"xdr:from":new c({tag:"xdr:from"}),"xdr:ext":new l({tag:"xdr:ext"}),"xdr:pic":new d,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(u,f){this.map["xdr:pic"].prepare(u.picture,f)}render(u,f){u.openNode(this.tag,{editAs:f.range.editAs||"oneCell"}),this.map["xdr:from"].render(u,f.range.tl),this.map["xdr:ext"].render(u,f.range.ext),this.map["xdr:pic"].render(u,f.picture),this.map["xdr:clientData"].render(u,{}),u.closeNode()}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(u,f){u.medium=this.reconcilePicture(u.picture,f)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,s,a){const i=e("../base-xform"),o=e("../static-xform"),c=e("./blip-fill-xform"),l=e("./nv-pic-pr-xform"),d=e("./sp-pr");s.exports=class extends i{constructor(){super(),this.map={"xdr:nvPicPr":new l,"xdr:blipFill":new c,"xdr:spPr":new o(d)}}get tag(){return"xdr:pic"}prepare(u,f){u.index=f.index+1}render(u,f){u.openNode(this.tag),this.map["xdr:nvPicPr"].render(u,f),this.map["xdr:blipFill"].render(u,f),this.map["xdr:spPr"].render(u,f),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,s,a){s.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,s,a){const i=e("./base-cell-anchor-xform"),o=e("../static-xform"),c=e("./cell-position-xform"),l=e("./pic-xform");s.exports=class extends i{constructor(){super(),this.map={"xdr:from":new c({tag:"xdr:from"}),"xdr:to":new c({tag:"xdr:to"}),"xdr:pic":new l,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(d,u){this.map["xdr:pic"].prepare(d.picture,u)}render(d,u){d.openNode(this.tag,{editAs:u.range.editAs||"oneCell"}),this.map["xdr:from"].render(d,u.range.tl),this.map["xdr:to"].render(d,u.range.br),this.map["xdr:pic"].render(d,u.picture),this.map["xdr:clientData"].render(d,{}),d.closeNode()}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(d,u){d.medium=this.reconcilePicture(d.picture,u)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,s,a){const i=e("./base-xform");s.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.always=!!o.always,this.count=o.count,this.empty=o.empty,this.$count=o.$count||"count",this.$=o.$,this.childXform=o.childXform,this.maxItems=o.maxItems}prepare(o,c){const{childXform:l}=this;o&&o.forEach((d,u)=>{c.index=u,l.prepare(d,c)})}render(o,c){if(this.always||c&&c.length){o.openNode(this.tag,this.$),this.count&&o.addAttribute(this.$count,c&&c.length||0);const{childXform:l}=this;(c||[]).forEach((d,u)=>{l.render(o,d,u)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(o)&&(this.parser=this.childXform,!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(o,c){if(o){const{childXform:l}=this;o.forEach(d=>{l.reconcile(d,c)})}}}},{"./base-xform":32}],72:[function(e,s,a){const i=e("../../../utils/col-cache"),o=e("../base-xform");s.exports=class extends o{get tag(){return"autoFilter"}render(c,l){if(l)if(typeof l=="string")c.leafNode("autoFilter",{ref:l});else{const d=function(h){return typeof h=="string"?h:i.getAddress(h.row,h.column).address},u=d(l.from),f=d(l.to);u&&f&&c.leafNode("autoFilter",{ref:`${u}:${f}`})}}parseOpen(c){c.name==="autoFilter"&&(this.model=c.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,s,a){const i=e("../../../utils/utils"),o=e("../base-xform"),c=e("../../../doc/range"),l=e("../../../doc/enums"),d=e("../strings/rich-text-xform");function u(f){if(f==null)return l.ValueType.Null;if(f instanceof String||typeof f=="string")return l.ValueType.String;if(typeof f=="number")return l.ValueType.Number;if(typeof f=="boolean")return l.ValueType.Boolean;if(f instanceof Date)return l.ValueType.Date;if(f.text&&f.hyperlink)return l.ValueType.Hyperlink;if(f.formula)return l.ValueType.Formula;if(f.error)return l.ValueType.Error;throw new Error("I could not understand type of value")}s.exports=class extends o{constructor(){super(),this.richTextXForm=new d}get tag(){return"c"}prepare(f,h){const m=h.styles.addStyleModel(f.style||{},function(A){switch(A.type){case l.ValueType.Formula:return u(A.result);default:return A.type}}(f));switch(m&&(f.styleId=m),f.comment&&h.comments.push({...f.comment,ref:f.address}),f.type){case l.ValueType.String:case l.ValueType.RichText:h.sharedStrings&&(f.ssId=h.sharedStrings.add(f.value));break;case l.ValueType.Date:h.date1904&&(f.date1904=!0);break;case l.ValueType.Hyperlink:h.sharedStrings&&f.text!==void 0&&f.text!==null&&(f.ssId=h.sharedStrings.add(f.text)),h.hyperlinks.push({address:f.address,target:f.hyperlink,tooltip:f.tooltip});break;case l.ValueType.Merge:h.merges.add(f);break;case l.ValueType.Formula:if(h.date1904&&(f.date1904=!0),f.shareType==="shared"&&(f.si=h.siFormulae++),f.formula)h.formulae[f.address]=f;else if(f.sharedFormula){const A=h.formulae[f.sharedFormula];if(!A)throw new Error("Shared Formula master must exist above and or left of clone for cell "+f.address);A.si===void 0?(A.shareType="shared",A.si=h.siFormulae++,A.range=new c(A.address,f.address)):A.range&&A.range.expandToAddress(f.address),f.si=A.si}}}renderFormula(f,h){let m=null;switch(h.shareType){case"shared":m={t:"shared",ref:h.ref||h.range.range,si:h.si};break;case"array":m={t:"array",ref:h.ref};break;default:h.si!==void 0&&(m={t:"shared",si:h.si})}switch(u(h.result)){case l.ValueType.Null:f.leafNode("f",m,h.formula);break;case l.ValueType.String:f.addAttribute("t","str"),f.leafNode("f",m,h.formula),f.leafNode("v",null,h.result);break;case l.ValueType.Number:f.leafNode("f",m,h.formula),f.leafNode("v",null,h.result);break;case l.ValueType.Boolean:f.addAttribute("t","b"),f.leafNode("f",m,h.formula),f.leafNode("v",null,h.result?1:0);break;case l.ValueType.Error:f.addAttribute("t","e"),f.leafNode("f",m,h.formula),f.leafNode("v",null,h.result.error);break;case l.ValueType.Date:f.leafNode("f",m,h.formula),f.leafNode("v",null,i.dateToExcel(h.result,h.date1904));break;default:throw new Error("I could not understand type of value")}}render(f,h){if(h.type!==l.ValueType.Null||h.styleId){switch(f.openNode("c"),f.addAttribute("r",h.address),h.styleId&&f.addAttribute("s",h.styleId),h.type){case l.ValueType.Null:break;case l.ValueType.Number:f.leafNode("v",null,h.value);break;case l.ValueType.Boolean:f.addAttribute("t","b"),f.leafNode("v",null,h.value?"1":"0");break;case l.ValueType.Error:f.addAttribute("t","e"),f.leafNode("v",null,h.value.error);break;case l.ValueType.String:case l.ValueType.RichText:h.ssId!==void 0?(f.addAttribute("t","s"),f.leafNode("v",null,h.ssId)):h.value&&h.value.richText?(f.addAttribute("t","inlineStr"),f.openNode("is"),h.value.richText.forEach(m=>{this.richTextXForm.render(f,m)}),f.closeNode("is")):(f.addAttribute("t","str"),f.leafNode("v",null,h.value));break;case l.ValueType.Date:f.leafNode("v",null,i.dateToExcel(h.value,h.date1904));break;case l.ValueType.Hyperlink:h.ssId!==void 0?(f.addAttribute("t","s"),f.leafNode("v",null,h.ssId)):(f.addAttribute("t","str"),f.leafNode("v",null,h.text));break;case l.ValueType.Formula:this.renderFormula(f,h);break;case l.ValueType.Merge:}f.closeNode()}}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"c":return this.model={address:f.attributes.r},this.t=f.attributes.t,f.attributes.s&&(this.model.styleId=parseInt(f.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=f.attributes.si,this.model.shareType=f.attributes.t,this.model.ref=f.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){if(this.parser)this.parser.parseText(f);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+f:f;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+f:f:this.model.value=this.model.value?this.model.value+f:f}}parseClose(f){switch(f){case"c":{const{model:h}=this;if(h.formula||h.shareType)h.type=l.ValueType.Formula,h.value&&(this.t==="str"?h.result=i.xmlDecode(h.value):this.t==="b"?h.result=parseInt(h.value,10)!==0:this.t==="e"?h.result={error:h.value}:h.result=parseFloat(h.value),h.value=void 0);else if(h.value!==void 0)switch(this.t){case"s":h.type=l.ValueType.String,h.value=parseInt(h.value,10);break;case"str":h.type=l.ValueType.String,h.value=i.xmlDecode(h.value);break;case"inlineStr":h.type=l.ValueType.String;break;case"b":h.type=l.ValueType.Boolean,h.value=parseInt(h.value,10)!==0;break;case"e":h.type=l.ValueType.Error,h.value={error:h.value};break;default:h.type=l.ValueType.Number,h.value=parseFloat(h.value)}else h.styleId?h.type=l.ValueType.Null:h.type=l.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(f),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(f),!0)}}reconcile(f,h){const m=f.styleId&&h.styles&&h.styles.getStyleModel(f.styleId);switch(m&&(f.style=m),f.styleId!==void 0&&(f.styleId=void 0),f.type){case l.ValueType.String:typeof f.value=="number"&&h.sharedStrings&&(f.value=h.sharedStrings.getString(f.value)),f.value.richText&&(f.type=l.ValueType.RichText);break;case l.ValueType.Number:m&&i.isDateFmt(m.numFmt)&&(f.type=l.ValueType.Date,f.value=i.excelToDate(f.value,h.date1904));break;case l.ValueType.Formula:f.result!==void 0&&m&&i.isDateFmt(m.numFmt)&&(f.result=i.excelToDate(f.result,h.date1904)),f.shareType==="shared"&&(f.ref?h.formulae[f.si]=f.address:(f.sharedFormula=h.formulae[f.si],delete f.shareType),delete f.si)}const A=h.hyperlinkMap[f.address];A&&(f.type===l.ValueType.Formula?(f.text=f.result,f.result=void 0):(f.text=f.value,f.value=void 0),f.type=l.ValueType.Hyperlink,f.hyperlink=A);const g=h.commentsMap&&h.commentsMap[f.address];g&&(f.comment=g)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,s,a){const i=e("../../base-xform");s.exports=class extends i{get tag(){return"x14:cfIcon"}render(o,c){o.leafNode(this.tag,{iconSet:c.iconSet,iconId:c.iconId})}parseOpen(o){let{attributes:c}=o;this.model={iconSet:c.iconSet,iconId:i.toIntValue(c.iconId)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],75:[function(e,s,a){const{v4:i}=e("uuid"),o=e("../../base-xform"),c=e("../../composite-xform"),l=e("./databar-ext-xform"),d=e("./icon-set-ext-xform"),u={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class f extends c{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new l,"x14:iconSet":this.iconSetXform=new d}}get tag(){return"x14:cfRule"}static isExt(m){return m.type==="dataBar"?l.isExt(m):!(m.type!=="iconSet"||!m.custom&&!u[m.iconSet])}prepare(m){f.isExt(m)&&(m.x14Id=`{${i()}}`.toUpperCase())}render(m,A){if(f.isExt(A))switch(A.type){case"dataBar":this.renderDataBar(m,A);break;case"iconSet":this.renderIconSet(m,A)}}renderDataBar(m,A){m.openNode(this.tag,{type:"dataBar",id:A.x14Id}),this.databarXform.render(m,A),m.closeNode()}renderIconSet(m,A){m.openNode(this.tag,{type:"iconSet",priority:A.priority,id:A.x14Id||`{${i()}}`}),this.iconSetXform.render(m,A),m.closeNode()}createNewModel(m){let{attributes:A}=m;return{type:A.type,x14Id:A.id,priority:o.toIntValue(A.priority)}}onParserClose(m,A){Object.assign(this.model,A.model)}}s.exports=f},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,s,a){const i=e("../../composite-xform"),o=e("./f-ext-xform");s.exports=class extends i{constructor(){super(),this.map={"xm:f":this.fExtXform=new o}}get tag(){return"x14:cfvo"}render(c,l){c.openNode(this.tag,{type:l.type}),l.value!==void 0&&this.fExtXform.render(c,l.value),c.closeNode()}createNewModel(c){return{type:c.attributes.type}}onParserClose(c,l){switch(c){case"xm:f":this.model.value=l.model?parseFloat(l.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,s,a){const i=e("../../composite-xform"),o=e("./sqref-ext-xform"),c=e("./cf-rule-ext-xform");s.exports=class extends i{constructor(){super(),this.map={"xm:sqref":this.sqRef=new o,"x14:cfRule":this.cfRule=new c}}get tag(){return"x14:conditionalFormatting"}prepare(l,d){l.rules.forEach(u=>{this.cfRule.prepare(u,d)})}render(l,d){d.rules.some(c.isExt)&&(l.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),d.rules.filter(c.isExt).forEach(u=>this.cfRule.render(l,u)),this.sqRef.render(l,d.ref),l.closeNode())}createNewModel(){return{rules:[]}}onParserClose(l,d){switch(l){case"xm:sqref":this.model.ref=d.model;break;case"x14:cfRule":this.model.rules.push(d.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,s,a){const i=e("../../composite-xform"),o=e("./cf-rule-ext-xform"),c=e("./conditional-formatting-ext-xform");s.exports=class extends i{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new c}}get tag(){return"x14:conditionalFormattings"}hasContent(l){return l.hasExtContent===void 0&&(l.hasExtContent=l.some(d=>d.rules.some(o.isExt))),l.hasExtContent}prepare(l,d){l.forEach(u=>{this.cfXform.prepare(u,d)})}render(l,d){this.hasContent(d)&&(l.openNode(this.tag),d.forEach(u=>this.cfXform.render(l,u)),l.closeNode())}createNewModel(){return[]}onParserClose(l,d){this.model.push(d.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,s,a){const i=e("../../base-xform"),o=e("../../composite-xform"),c=e("../../style/color-xform"),l=e("./cfvo-ext-xform");s.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new l,"x14:borderColor":this.borderColorXform=new c("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new c("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new c("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new c("x14:axisColor")}}static isExt(d){return!d.gradient}get tag(){return"x14:dataBar"}render(d,u){d.openNode(this.tag,{minLength:i.toIntAttribute(u.minLength,0,!0),maxLength:i.toIntAttribute(u.maxLength,100,!0),border:i.toBoolAttribute(u.border,!1),gradient:i.toBoolAttribute(u.gradient,!0),negativeBarColorSameAsPositive:i.toBoolAttribute(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolAttribute(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toAttribute(u.axisPosition,"auto"),direction:i.toAttribute(u.direction,"leftToRight")}),u.cfvo.forEach(f=>{this.cfvoXform.render(d,f)}),this.borderColorXform.render(d,u.borderColor),this.negativeBorderColorXform.render(d,u.negativeBorderColor),this.negativeFillColorXform.render(d,u.negativeFillColor),this.axisColorXform.render(d,u.axisColor),d.closeNode()}createNewModel(d){let{attributes:u}=d;return{cfvo:[],minLength:i.toIntValue(u.minLength,0),maxLength:i.toIntValue(u.maxLength,100),border:i.toBoolValue(u.border,!1),gradient:i.toBoolValue(u.gradient,!0),negativeBarColorSameAsPositive:i.toBoolValue(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolValue(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toStringValue(u.axisPosition,"auto"),direction:i.toStringValue(u.direction,"leftToRight")}}onParserClose(d,u){const[,f]=d.split(":");switch(f){case"cfvo":this.model.cfvo.push(u.model);break;default:this.model[f]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,s,a){const i=e("../../base-xform");s.exports=class extends i{get tag(){return"xm:f"}render(o,c){o.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],81:[function(e,s,a){const i=e("../../base-xform"),o=e("../../composite-xform"),c=e("./cfvo-ext-xform"),l=e("./cf-icon-ext-xform");s.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new c,"x14:cfIcon":this.cfIconXform=new l}}get tag(){return"x14:iconSet"}render(d,u){d.openNode(this.tag,{iconSet:i.toStringAttribute(u.iconSet),reverse:i.toBoolAttribute(u.reverse,!1),showValue:i.toBoolAttribute(u.showValue,!0),custom:i.toBoolAttribute(u.icons,!1)}),u.cfvo.forEach(f=>{this.cfvoXform.render(d,f)}),u.icons&&u.icons.forEach((f,h)=>{f.iconId=h,this.cfIconXform.render(d,f)}),d.closeNode()}createNewModel(d){let{attributes:u}=d;return{cfvo:[],iconSet:i.toStringValue(u.iconSet,"3TrafficLights"),reverse:i.toBoolValue(u.reverse,!1),showValue:i.toBoolValue(u.showValue,!0)}}onParserClose(d,u){const[,f]=d.split(":");switch(f){case"cfvo":this.model.cfvo.push(u.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(u.model);break;default:this.model[f]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,s,a){const i=e("../../base-xform");s.exports=class extends i{get tag(){return"xm:sqref"}render(o,c){o.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],83:[function(e,s,a){const i=e("../../base-xform"),o=e("../../composite-xform"),c=e("../../../../doc/range"),l=e("./databar-xform"),d=e("./ext-lst-ref-xform"),u=e("./formula-xform"),f=e("./color-scale-xform"),h=e("./icon-set-xform"),m={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},A=p=>{const{type:b,operator:x}=p;switch(b){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:b};default:return{type:b,operator:x}}};class g extends o{constructor(){super(),this.map={dataBar:this.databarXform=new l,extLst:this.extLstRefXform=new d,formula:this.formulaXform=new u,colorScale:this.colorScaleXform=new f,iconSet:this.iconSetXform=new h}}get tag(){return"cfRule"}static isPrimitive(b){return b.type!=="iconSet"||!b.custom&&!m[b.iconSet]}render(b,x){switch(x.type){case"expression":this.renderExpression(b,x);break;case"cellIs":this.renderCellIs(b,x);break;case"top10":this.renderTop10(b,x);break;case"aboveAverage":this.renderAboveAverage(b,x);break;case"dataBar":this.renderDataBar(b,x);break;case"colorScale":this.renderColorScale(b,x);break;case"iconSet":this.renderIconSet(b,x);break;case"containsText":this.renderText(b,x);break;case"timePeriod":this.renderTimePeriod(b,x)}}renderExpression(b,x){b.openNode(this.tag,{type:"expression",dxfId:x.dxfId,priority:x.priority}),this.formulaXform.render(b,x.formulae[0]),b.closeNode()}renderCellIs(b,x){b.openNode(this.tag,{type:"cellIs",dxfId:x.dxfId,priority:x.priority,operator:x.operator}),x.formulae.forEach(v=>{this.formulaXform.render(b,v)}),b.closeNode()}renderTop10(b,x){b.leafNode(this.tag,{type:"top10",dxfId:x.dxfId,priority:x.priority,percent:i.toBoolAttribute(x.percent,!1),bottom:i.toBoolAttribute(x.bottom,!1),rank:i.toIntValue(x.rank,10,!0)})}renderAboveAverage(b,x){b.leafNode(this.tag,{type:"aboveAverage",dxfId:x.dxfId,priority:x.priority,aboveAverage:i.toBoolAttribute(x.aboveAverage,!0)})}renderDataBar(b,x){b.openNode(this.tag,{type:"dataBar",priority:x.priority}),this.databarXform.render(b,x),this.extLstRefXform.render(b,x),b.closeNode()}renderColorScale(b,x){b.openNode(this.tag,{type:"colorScale",priority:x.priority}),this.colorScaleXform.render(b,x),b.closeNode()}renderIconSet(b,x){g.isPrimitive(x)&&(b.openNode(this.tag,{type:"iconSet",priority:x.priority}),this.iconSetXform.render(b,x),b.closeNode())}renderText(b,x){b.openNode(this.tag,{type:x.operator,dxfId:x.dxfId,priority:x.priority,operator:i.toStringAttribute(x.operator,"containsText")});const v=(y=>{if(y.formulae&&y.formulae[0])return y.formulae[0];const S=new c(y.ref),{tl:M}=S;switch(y.operator){case"containsText":return`NOT(ISERROR(SEARCH("${y.text}",${M})))`;case"containsBlanks":return`LEN(TRIM(${M}))=0`;case"notContainsBlanks":return`LEN(TRIM(${M}))>0`;case"containsErrors":return`ISERROR(${M})`;case"notContainsErrors":return`NOT(ISERROR(${M}))`;default:return}})(x);v&&this.formulaXform.render(b,v),b.closeNode()}renderTimePeriod(b,x){b.openNode(this.tag,{type:"timePeriod",dxfId:x.dxfId,priority:x.priority,timePeriod:x.timePeriod});const v=(y=>{if(y.formulae&&y.formulae[0])return y.formulae[0];const S=new c(y.ref),{tl:M}=S;switch(y.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${M},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${M},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${M},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${M},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${M},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${M},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${M},1)=TODAY()-1`;case"today":return`FLOOR(${M},1)=TODAY()`;case"tomorrow":return`FLOOR(${M},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${M},1)<=6,FLOOR(${M},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${M})=MONTH(EDATE(TODAY(),0-1)),YEAR(${M})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${M})=MONTH(TODAY()),YEAR(${M})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${M})=MONTH(EDATE(TODAY(),0+1)),YEAR(${M})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(x);v&&this.formulaXform.render(b,v),b.closeNode()}createNewModel(b){let{attributes:x}=b;return{...A(x),dxfId:i.toIntValue(x.dxfId),priority:i.toIntValue(x.priority),timePeriod:x.timePeriod,percent:i.toBoolValue(x.percent),bottom:i.toBoolValue(x.bottom),rank:i.toIntValue(x.rank),aboveAverage:i.toBoolValue(x.aboveAverage)}}onParserClose(b,x){switch(b){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,x.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(x.model)}}}s.exports=g},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,s,a){const i=e("../../base-xform");s.exports=class extends i{get tag(){return"cfvo"}render(o,c){o.leafNode(this.tag,{type:c.type,val:c.value})}parseOpen(o){this.model={type:o.attributes.type,value:i.toFloatValue(o.attributes.val)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],85:[function(e,s,a){const i=e("../../composite-xform"),o=e("../../style/color-xform"),c=e("./cfvo-xform");s.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new c,color:this.colorXform=new o}}get tag(){return"colorScale"}render(l,d){l.openNode(this.tag),d.cfvo.forEach(u=>{this.cfvoXform.render(l,u)}),d.color.forEach(u=>{this.colorXform.render(l,u)}),l.closeNode()}createNewModel(l){return{cfvo:[],color:[]}}onParserClose(l,d){this.model[l].push(d.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,s,a){const i=e("../../composite-xform"),o=e("./cf-rule-xform");s.exports=class extends i{constructor(){super(),this.map={cfRule:new o}}get tag(){return"conditionalFormatting"}render(c,l){l.rules.some(o.isPrimitive)&&(c.openNode(this.tag,{sqref:l.ref}),l.rules.forEach(d=>{o.isPrimitive(d)&&(d.ref=l.ref,this.map.cfRule.render(c,d))}),c.closeNode())}createNewModel(c){let{attributes:l}=c;return{ref:l.sqref,rules:[]}}onParserClose(c,l){this.model.rules.push(l.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,s,a){const i=e("../../base-xform"),o=e("./conditional-formatting-xform");s.exports=class extends i{constructor(){super(),this.cfXform=new o}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(c,l){let d=c.reduce((u,f)=>Math.max(u,...f.rules.map(h=>h.priority||0)),1);c.forEach(u=>{u.rules.forEach(f=>{f.priority||(f.priority=d++),f.style&&(f.dxfId=l.styles.addDxfStyle(f.style))})})}render(c,l){l.forEach(d=>{this.cfXform.render(c,d)})}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return!!this.parser&&(!!this.parser.parseClose(c)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(c,l){c.forEach(d=>{d.rules.forEach(u=>{u.dxfId!==void 0&&(u.style=l.styles.getDxfStyle(u.dxfId),delete u.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,s,a){const i=e("../../composite-xform"),o=e("../../style/color-xform"),c=e("./cfvo-xform");s.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new c,color:this.colorXform=new o}}get tag(){return"dataBar"}render(l,d){l.openNode(this.tag),d.cfvo.forEach(u=>{this.cfvoXform.render(l,u)}),this.colorXform.render(l,d.color),l.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(l,d){switch(l){case"cfvo":this.model.cfvo.push(d.model);break;case"color":this.model.color=d.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,s,a){const i=e("../../base-xform"),o=e("../../composite-xform");class c extends i{get tag(){return"x14:id"}render(u,f){u.leafNode(this.tag,null,f)}parseOpen(){this.model=""}parseText(u){this.model+=u}parseClose(u){return u!==this.tag}}class l extends o{constructor(){super(),this.map={"x14:id":this.idXform=new c}}get tag(){return"ext"}render(u,f){u.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(u,f.x14Id),u.closeNode()}createNewModel(){return{}}onParserClose(u,f){this.model.x14Id=f.model}}s.exports=class extends o{constructor(){super(),this.map={ext:new l}}get tag(){return"extLst"}render(d,u){d.openNode(this.tag),this.map.ext.render(d,u),d.closeNode()}createNewModel(){return{}}onParserClose(d,u){Object.assign(this.model,u.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,s,a){const i=e("../../base-xform");s.exports=class extends i{get tag(){return"formula"}render(o,c){o.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],91:[function(e,s,a){const i=e("../../base-xform"),o=e("../../composite-xform"),c=e("./cfvo-xform");s.exports=class extends o{constructor(){super(),this.map={cfvo:this.cfvoXform=new c}}get tag(){return"iconSet"}render(l,d){l.openNode(this.tag,{iconSet:i.toStringAttribute(d.iconSet,"3TrafficLights"),reverse:i.toBoolAttribute(d.reverse,!1),showValue:i.toBoolAttribute(d.showValue,!0)}),d.cfvo.forEach(u=>{this.cfvoXform.render(l,u)}),l.closeNode()}createNewModel(l){let{attributes:d}=l;return{iconSet:i.toStringValue(d.iconSet,"3TrafficLights"),reverse:i.toBoolValue(d.reverse),showValue:i.toBoolValue(d.showValue),cfvo:[]}}onParserClose(l,d){this.model[l].push(d.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,s,a){const i=e("../../../utils/utils"),o=e("../base-xform");s.exports=class extends o{get tag(){return"col"}prepare(c,l){const d=l.styles.addStyleModel(c.style||{});d&&(c.styleId=d)}render(c,l){c.openNode("col"),c.addAttribute("min",l.min),c.addAttribute("max",l.max),l.width&&c.addAttribute("width",l.width),l.styleId&&c.addAttribute("style",l.styleId),l.hidden&&c.addAttribute("hidden","1"),l.bestFit&&c.addAttribute("bestFit","1"),l.outlineLevel&&c.addAttribute("outlineLevel",l.outlineLevel),l.collapsed&&c.addAttribute("collapsed","1"),c.addAttribute("customWidth","1"),c.closeNode()}parseOpen(c){if(c.name==="col"){const l=this.model={min:parseInt(c.attributes.min||"0",10),max:parseInt(c.attributes.max||"0",10),width:c.attributes.width===void 0?void 0:parseFloat(c.attributes.width||"0")};return c.attributes.style&&(l.styleId=parseInt(c.attributes.style,10)),i.parseBoolean(c.attributes.hidden)&&(l.hidden=!0),i.parseBoolean(c.attributes.bestFit)&&(l.bestFit=!0),c.attributes.outlineLevel&&(l.outlineLevel=parseInt(c.attributes.outlineLevel,10)),i.parseBoolean(c.attributes.collapsed)&&(l.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(c,l){c.styleId&&(c.style=l.styles.getStyleModel(c.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,s,a){const i=e("../../../utils/under-dash"),o=e("../../../utils/utils"),c=e("../../../utils/col-cache"),l=e("../base-xform"),d=e("../../../doc/range");function u(h,m,A,g){const p=m[A];p!==void 0?h[A]=p:g!==void 0&&(h[A]=g)}function f(h,m,A,g){const p=m[A];p!==void 0&&(h[A]=o.parseBoolean(p))}s.exports=class extends l{get tag(){return"dataValidations"}render(h,m){const A=function(g){const p=i.map(g,(v,y)=>({address:y,dataValidation:v,marked:!1})).sort((v,y)=>i.strcmp(v.address,y.address)),b=i.keyBy(p,"address"),x=(v,y,S)=>{for(let M=0;M<y;M++){const P=c.encodeAddress(v.row+M,S);if(!g[P]||!i.isEqual(g[v.address],g[P]))return!1}return!0};return p.map(v=>{if(!v.marked){const y=c.decodeEx(v.address);if(y.dimensions)return b[y.dimensions].marked=!0,{...v.dataValidation,sqref:v.address};let S=1,M=c.encodeAddress(y.row+S,y.col);for(;g[M]&&i.isEqual(v.dataValidation,g[M]);)S++,M=c.encodeAddress(y.row+S,y.col);let P=1;for(;x(y,S,y.col+P);)P++;for(let B=0;B<S;B++)for(let D=0;D<P;D++)M=c.encodeAddress(y.row+B,y.col+D),b[M].marked=!0;if(S>1||P>1){const B=y.row+(S-1),D=y.col+(P-1);return{...v.dataValidation,sqref:`${v.address}:${c.encodeAddress(B,D)}`}}return{...v.dataValidation,sqref:v.address}}return null}).filter(Boolean)}(m);A.length&&(h.openNode("dataValidations",{count:A.length}),A.forEach(g=>{h.openNode("dataValidation"),g.type!=="any"&&(h.addAttribute("type",g.type),g.operator&&g.type!=="list"&&g.operator!=="between"&&h.addAttribute("operator",g.operator),g.allowBlank&&h.addAttribute("allowBlank","1")),g.showInputMessage&&h.addAttribute("showInputMessage","1"),g.promptTitle&&h.addAttribute("promptTitle",g.promptTitle),g.prompt&&h.addAttribute("prompt",g.prompt),g.showErrorMessage&&h.addAttribute("showErrorMessage","1"),g.errorStyle&&h.addAttribute("errorStyle",g.errorStyle),g.errorTitle&&h.addAttribute("errorTitle",g.errorTitle),g.error&&h.addAttribute("error",g.error),h.addAttribute("sqref",g.sqref),(g.formulae||[]).forEach((p,b)=>{h.openNode("formula"+(b+1)),g.type==="date"?h.writeText(o.dateToExcel(new Date(p))):h.writeText(p),h.closeNode()}),h.closeNode()}),h.closeNode())}parseOpen(h){switch(h.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=h.attributes.sqref;const m={type:h.attributes.type||"any",formulae:[]};switch(h.attributes.type&&f(m,h.attributes,"allowBlank"),f(m,h.attributes,"showInputMessage"),f(m,h.attributes,"showErrorMessage"),m.type){case"any":case"list":case"custom":break;default:u(m,h.attributes,"operator","between")}return u(m,h.attributes,"promptTitle"),u(m,h.attributes,"prompt"),u(m,h.attributes,"errorStyle"),u(m,h.attributes,"errorTitle"),u(m,h.attributes,"error"),this._dataValidation=m,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(h){this._formula&&this._formula.push(h)}parseClose(h){switch(h){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(m=>{m.includes(":")?new d(m).forEachAddress(A=>{this.model[A]=this._dataValidation}):this.model[m]=this._dataValidation}),!0;case"formula1":case"formula2":{let m=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":m=parseInt(m,10);break;case"decimal":m=parseFloat(m);break;case"date":m=o.excelToDate(parseFloat(m))}return this._dataValidation.formulae.push(m),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"dimension"}render(o,c){c&&o.leafNode("dimension",{ref:c})}parseOpen(o){return o.name==="dimension"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"drawing"}render(o,c){c&&o.leafNode(this.tag,{"r:id":c.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(e,s,a){const i=e("../composite-xform"),o=e("./cf-ext/conditional-formattings-ext-xform");class c extends i{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new o}}get tag(){return"ext"}hasContent(d){return this.conditionalFormattings.hasContent(d.conditionalFormattings)}prepare(d,u){this.conditionalFormattings.prepare(d.conditionalFormattings,u)}render(d,u){d.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(d,u.conditionalFormattings),d.closeNode()}createNewModel(){return{}}onParserClose(d,u){this.model[d]=u.model}}s.exports=class extends i{constructor(){super(),this.map={ext:this.ext=new c}}get tag(){return"extLst"}prepare(l,d){this.ext.prepare(l,d)}hasContent(l){return this.ext.hasContent(l)}render(l,d){this.hasContent(d)&&(l.openNode("extLst"),this.ext.render(l,d),l.closeNode())}createNewModel(){return{}}onParserClose(l,d){Object.assign(this.model,d.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"headerFooter"}render(o,c){if(c){o.addRollback();let l=!1;o.openNode("headerFooter"),c.differentFirst&&(o.addAttribute("differentFirst","1"),l=!0),c.differentOddEven&&(o.addAttribute("differentOddEven","1"),l=!0),c.oddHeader&&typeof c.oddHeader=="string"&&(o.leafNode("oddHeader",null,c.oddHeader),l=!0),c.oddFooter&&typeof c.oddFooter=="string"&&(o.leafNode("oddFooter",null,c.oddFooter),l=!0),c.evenHeader&&typeof c.evenHeader=="string"&&(o.leafNode("evenHeader",null,c.evenHeader),l=!0),c.evenFooter&&typeof c.evenFooter=="string"&&(o.leafNode("evenFooter",null,c.evenFooter),l=!0),c.firstHeader&&typeof c.firstHeader=="string"&&(o.leafNode("firstHeader",null,c.firstHeader),l=!0),c.firstFooter&&typeof c.firstFooter=="string"&&(o.leafNode("firstFooter",null,c.firstFooter),l=!0),l?(o.closeNode(),o.commit()):o.rollback()}}parseOpen(o){switch(o.name){case"headerFooter":return this.model={},o.attributes.differentFirst&&(this.model.differentFirst=parseInt(o.attributes.differentFirst,0)===1),o.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(o.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(o){switch(this.currentNode){case"oddHeader":this.model.oddHeader=o;break;case"oddFooter":this.model.oddFooter=o;break;case"evenHeader":this.model.evenHeader=o;break;case"evenFooter":this.model.evenFooter=o;break;case"firstHeader":this.model.firstHeader=o;break;case"firstFooter":this.model.firstFooter=o}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"hyperlink"}render(o,c){this.isInternalLink(c)?o.leafNode("hyperlink",{ref:c.address,"r:id":c.rId,tooltip:c.tooltip,location:c.target}):o.leafNode("hyperlink",{ref:c.address,"r:id":c.rId,tooltip:c.tooltip})}parseOpen(o){return o.name==="hyperlink"&&(this.model={address:o.attributes.ref,rId:o.attributes["r:id"],tooltip:o.attributes.tooltip},o.attributes.location&&(this.model.target=o.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(o){return o.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(o.target)}}},{"../base-xform":32}],99:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"mergeCell"}render(o,c){o.leafNode("mergeCell",{ref:c})}parseOpen(o){return o.name==="mergeCell"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(e,s,a){const i=e("../../../utils/under-dash"),o=e("../../../doc/range"),c=e("../../../utils/col-cache"),l=e("../../../doc/enums");s.exports=class{constructor(){this.merges={}}add(d){if(this.merges[d.master])this.merges[d.master].expandToAddress(d.address);else{const u=`${d.master}:${d.address}`;this.merges[d.master]=new o(u)}}get mergeCells(){return i.map(this.merges,d=>d.range)}reconcile(d,u){i.each(d,f=>{const h=c.decode(f);for(let m=h.top;m<=h.bottom;m++){const A=u[m-1];for(let g=h.left;g<=h.right;g++){const p=A.cells[g-1];p?p.type===l.ValueType.Merge&&(p.master=h.tl):A.cells[g]={type:l.ValueType.Null,address:c.encodeAddress(m,g)}}}})}getMasterAddress(d){const u=this.hash[d];return u&&u.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,s,a){const i=e("../base-xform"),o=c=>c!==void 0;s.exports=class extends i{get tag(){return"outlinePr"}render(c,l){return!(!l||!o(l.summaryBelow)&&!o(l.summaryRight))&&(c.leafNode(this.tag,{summaryBelow:o(l.summaryBelow)?Number(l.summaryBelow):void 0,summaryRight:o(l.summaryRight)?Number(l.summaryRight):void 0}),!0)}parseOpen(c){return c.name===this.tag&&(this.model={summaryBelow:o(c.attributes.summaryBelow)?!!Number(c.attributes.summaryBelow):void 0,summaryRight:o(c.attributes.summaryRight)?!!Number(c.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"brk"}render(o,c){o.leafNode("brk",c)}parseOpen(o){return o.name==="brk"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(e,s,a){const i=e("../../../utils/under-dash"),o=e("../base-xform");s.exports=class extends o{get tag(){return"pageMargins"}render(c,l){if(l){const d={left:l.left,right:l.right,top:l.top,bottom:l.bottom,header:l.header,footer:l.footer};i.some(d,u=>u!==void 0)&&c.leafNode(this.tag,d)}}parseOpen(c){switch(c.name){case this.tag:return this.model={left:parseFloat(c.attributes.left||.7),right:parseFloat(c.attributes.right||.7),top:parseFloat(c.attributes.top||.75),bottom:parseFloat(c.attributes.bottom||.75),header:parseFloat(c.attributes.header||.3),footer:parseFloat(c.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"pageSetUpPr"}render(o,c){return!(!c||!c.fitToPage)&&(o.leafNode(this.tag,{fitToPage:c.fitToPage?"1":void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={fitToPage:o.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(e,s,a){const i=e("../../../utils/under-dash"),o=e("../base-xform");function c(f){return f?"1":void 0}function l(f){switch(f){case"overThenDown":return f;default:return}}function d(f){switch(f){case"atEnd":case"asDisplyed":return f;default:return}}function u(f){switch(f){case"dash":case"blank":case"NA":return f;default:return}}s.exports=class extends o{get tag(){return"pageSetup"}render(f,h){if(h){const m={paperSize:h.paperSize,orientation:h.orientation,horizontalDpi:h.horizontalDpi,verticalDpi:h.verticalDpi,pageOrder:l(h.pageOrder),blackAndWhite:c(h.blackAndWhite),draft:c(h.draft),cellComments:d(h.cellComments),errors:u(h.errors),scale:h.scale,fitToWidth:h.fitToWidth,fitToHeight:h.fitToHeight,firstPageNumber:h.firstPageNumber,useFirstPageNumber:c(h.firstPageNumber),usePrinterDefaults:c(h.usePrinterDefaults),copies:h.copies};i.some(m,A=>A!==void 0)&&f.leafNode(this.tag,m)}}parseOpen(f){switch(f.name){case this.tag:return this.model={paperSize:(h=f.attributes.paperSize,h!==void 0?parseInt(h,10):void 0),orientation:f.attributes.orientation||"portrait",horizontalDpi:parseInt(f.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(f.attributes.verticalDpi||"4294967295",10),pageOrder:f.attributes.pageOrder||"downThenOver",blackAndWhite:f.attributes.blackAndWhite==="1",draft:f.attributes.draft==="1",cellComments:f.attributes.cellComments||"None",errors:f.attributes.errors||"displayed",scale:parseInt(f.attributes.scale||"100",10),fitToWidth:parseInt(f.attributes.fitToWidth||"1",10),fitToHeight:parseInt(f.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(f.attributes.firstPageNumber||"1",10),useFirstPageNumber:f.attributes.useFirstPageNumber==="1",usePrinterDefaults:f.attributes.usePrinterDefaults==="1",copies:parseInt(f.attributes.copies||"1",10)},!0;default:return!1}var h}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"picture"}render(o,c){c&&o.leafNode(this.tag,{"r:id":c.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(e,s,a){const i=e("../../../utils/under-dash"),o=e("../base-xform");function c(l){return l?"1":void 0}s.exports=class extends o{get tag(){return"printOptions"}render(l,d){if(d){const u={headings:c(d.showRowColHeaders),gridLines:c(d.showGridLines),horizontalCentered:c(d.horizontalCentered),verticalCentered:c(d.verticalCentered)};i.some(u,f=>f!==void 0)&&l.leafNode(this.tag,u)}}parseOpen(l){switch(l.name){case this.tag:return this.model={showRowColHeaders:l.attributes.headings==="1",showGridLines:l.attributes.gridLines==="1",horizontalCentered:l.attributes.horizontalCentered==="1",verticalCentered:l.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,s,a){const i=e("./page-breaks-xform"),o=e("../list-xform");s.exports=class extends o{constructor(){super({tag:"rowBreaks",count:!0,childXform:new i})}render(c,l){if(l&&l.length){c.openNode(this.tag,this.$),this.count&&(c.addAttribute(this.$count,l.length),c.addAttribute("manualBreakCount",l.length));const{childXform:d}=this;l.forEach(u=>{d.render(c,u)}),c.closeNode()}else this.empty&&c.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,s,a){const i=e("../base-xform"),o=e("../../../utils/utils"),c=e("./cell-xform");s.exports=class extends i{constructor(l){super(),this.maxItems=l&&l.maxItems,this.map={c:new c}}get tag(){return"row"}prepare(l,d){const u=d.styles.addStyleModel(l.style);u&&(l.styleId=u);const f=this.map.c;l.cells.forEach(h=>{f.prepare(h,d)})}render(l,d,u){l.openNode("row"),l.addAttribute("r",d.number),d.height&&(l.addAttribute("ht",d.height),l.addAttribute("customHeight","1")),d.hidden&&l.addAttribute("hidden","1"),d.min>0&&d.max>0&&d.min<=d.max&&l.addAttribute("spans",`${d.min}:${d.max}`),d.styleId&&(l.addAttribute("s",d.styleId),l.addAttribute("customFormat","1")),l.addAttribute("x14ac:dyDescent","0.25"),d.outlineLevel&&l.addAttribute("outlineLevel",d.outlineLevel),d.collapsed&&l.addAttribute("collapsed","1");const f=this.map.c;d.cells.forEach(h=>{f.render(l,h,u)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;if(l.name==="row"){this.numRowsSeen+=1;const d=l.attributes.spans?l.attributes.spans.split(":").map(f=>parseInt(f,10)):[void 0,void 0],u=this.model={number:parseInt(l.attributes.r,10),min:d[0],max:d[1],cells:[]};return l.attributes.s&&(u.styleId=parseInt(l.attributes.s,10)),o.parseBoolean(l.attributes.hidden)&&(u.hidden=!0),o.parseBoolean(l.attributes.bestFit)&&(u.bestFit=!0),l.attributes.ht&&(u.height=parseFloat(l.attributes.ht)),l.attributes.outlineLevel&&(u.outlineLevel=parseInt(l.attributes.outlineLevel,10)),o.parseBoolean(l.attributes.collapsed)&&(u.collapsed=!0),!0}return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(l,d){l.style=l.styleId?d.styles.getStyleModel(l.styleId):{},l.styleId!==void 0&&(l.styleId=void 0);const u=this.map.c;l.cells.forEach(f=>{u.reconcile(f,d)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,s,a){const i=e("../../../utils/under-dash"),o=e("../base-xform");s.exports=class extends o{get tag(){return"sheetFormatPr"}render(c,l){if(l){const d={defaultRowHeight:l.defaultRowHeight,outlineLevelRow:l.outlineLevelRow,outlineLevelCol:l.outlineLevelCol,"x14ac:dyDescent":l.dyDescent};l.defaultColWidth&&(d.defaultColWidth=l.defaultColWidth),l.defaultRowHeight&&l.defaultRowHeight===15||(d.customHeight="1"),i.some(d,u=>u!==void 0)&&c.leafNode("sheetFormatPr",d)}}parseOpen(c){return c.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(c.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(c.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(c.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(c.attributes.outlineLevelCol||"0",10)},c.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(c.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,s,a){const i=e("../base-xform"),o=e("../style/color-xform"),c=e("./page-setup-properties-xform"),l=e("./outline-properties-xform");s.exports=class extends i{constructor(){super(),this.map={tabColor:new o("tabColor"),pageSetUpPr:new c,outlinePr:new l}}get tag(){return"sheetPr"}render(d,u){if(u){d.addRollback(),d.openNode("sheetPr");let f=!1;f=this.map.tabColor.render(d,u.tabColor)||f,f=this.map.pageSetUpPr.render(d,u.pageSetup)||f,f=this.map.outlinePr.render(d,u.outlineProperties)||f,f?(d.closeNode(),d.commit()):d.rollback()}}parseOpen(d){return this.parser?(this.parser.parseOpen(d),!0):d.name===this.tag?(this.reset(),!0):!!this.map[d.name]&&(this.parser=this.map[d.name],this.parser.parseOpen(d),!0)}parseText(d){return!!this.parser&&(this.parser.parseText(d),!0)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,s,a){const i=e("../../../utils/under-dash"),o=e("../base-xform");function c(d,u){return d?u:void 0}function l(d,u){return d===u||void 0}s.exports=class extends o{get tag(){return"sheetProtection"}render(d,u){if(u){const f={sheet:c(u.sheet,"1"),selectLockedCells:u.selectLockedCells===!1?"1":void 0,selectUnlockedCells:u.selectUnlockedCells===!1?"1":void 0,formatCells:c(u.formatCells,"0"),formatColumns:c(u.formatColumns,"0"),formatRows:c(u.formatRows,"0"),insertColumns:c(u.insertColumns,"0"),insertRows:c(u.insertRows,"0"),insertHyperlinks:c(u.insertHyperlinks,"0"),deleteColumns:c(u.deleteColumns,"0"),deleteRows:c(u.deleteRows,"0"),sort:c(u.sort,"0"),autoFilter:c(u.autoFilter,"0"),pivotTables:c(u.pivotTables,"0")};u.sheet&&(f.algorithmName=u.algorithmName,f.hashValue=u.hashValue,f.saltValue=u.saltValue,f.spinCount=u.spinCount,f.objects=c(u.objects===!1,"1"),f.scenarios=c(u.scenarios===!1,"1")),i.some(f,h=>h!==void 0)&&d.leafNode(this.tag,f)}}parseOpen(d){switch(d.name){case this.tag:return this.model={sheet:l(d.attributes.sheet,"1"),objects:d.attributes.objects!=="1"&&void 0,scenarios:d.attributes.scenarios!=="1"&&void 0,selectLockedCells:d.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:d.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:l(d.attributes.formatCells,"0"),formatColumns:l(d.attributes.formatColumns,"0"),formatRows:l(d.attributes.formatRows,"0"),insertColumns:l(d.attributes.insertColumns,"0"),insertRows:l(d.attributes.insertRows,"0"),insertHyperlinks:l(d.attributes.insertHyperlinks,"0"),deleteColumns:l(d.attributes.deleteColumns,"0"),deleteRows:l(d.attributes.deleteRows,"0"),sort:l(d.attributes.sort,"0"),autoFilter:l(d.attributes.autoFilter,"0"),pivotTables:l(d.attributes.pivotTables,"0")},d.attributes.algorithmName&&(this.model.algorithmName=d.attributes.algorithmName,this.model.hashValue=d.attributes.hashValue,this.model.saltValue=d.attributes.saltValue,this.model.spinCount=parseInt(d.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,s,a){const i=e("../../../utils/col-cache"),o=e("../base-xform"),c={frozen:"frozen",frozenSplit:"frozen",split:"split"};s.exports=class extends o{get tag(){return"sheetView"}prepare(l){switch(l.state){case"frozen":case"split":break;default:l.state="normal"}}render(l,d){l.openNode("sheetView",{workbookViewId:d.workbookViewId||0});const u=function(g,p,b){b&&l.addAttribute(g,p)};let f,h,m,A;switch(u("rightToLeft","1",d.rightToLeft===!0),u("tabSelected","1",d.tabSelected),u("showRuler","0",d.showRuler===!1),u("showRowColHeaders","0",d.showRowColHeaders===!1),u("showGridLines","0",d.showGridLines===!1),u("zoomScale",d.zoomScale,d.zoomScale),u("zoomScaleNormal",d.zoomScaleNormal,d.zoomScaleNormal),u("view",d.style,d.style),d.state){case"frozen":h=d.xSplit||0,m=d.ySplit||0,f=d.topLeftCell||i.getAddress(m+1,h+1).address,A=(d.xSplit&&d.ySplit?"bottomRight":d.xSplit&&"topRight")||"bottomLeft",l.leafNode("pane",{xSplit:d.xSplit||void 0,ySplit:d.ySplit||void 0,topLeftCell:f,activePane:A,state:"frozen"}),l.leafNode("selection",{pane:A,activeCell:d.activeCell,sqref:d.activeCell});break;case"split":d.activePane==="topLeft"&&(d.activePane=void 0),l.leafNode("pane",{xSplit:d.xSplit||void 0,ySplit:d.ySplit||void 0,topLeftCell:d.topLeftCell,activePane:d.activePane}),l.leafNode("selection",{pane:d.activePane,activeCell:d.activeCell,sqref:d.activeCell});break;case"normal":d.activeCell&&l.leafNode("selection",{activeCell:d.activeCell,sqref:d.activeCell})}l.closeNode()}parseOpen(l){switch(l.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(l.attributes.workbookViewId,10),rightToLeft:l.attributes.rightToLeft==="1",tabSelected:l.attributes.tabSelected==="1",showRuler:l.attributes.showRuler!=="0",showRowColHeaders:l.attributes.showRowColHeaders!=="0",showGridLines:l.attributes.showGridLines!=="0",zoomScale:parseInt(l.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(l.attributes.zoomScaleNormal||"100",10),style:l.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(l.attributes.xSplit||"0",10),ySplit:parseInt(l.attributes.ySplit||"0",10),topLeftCell:l.attributes.topLeftCell,activePane:l.attributes.activePane||"topLeft",state:l.attributes.state},!0;case"selection":{const d=l.attributes.pane||"topLeft";return this.selections[d]={pane:d,activeCell:l.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(l){let d,u;switch(l){case"sheetView":return this.sheetView&&this.pane?(d=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:c[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(d.activePane=this.pane.activePane),u=this.selections[this.pane.activePane],u&&u.activeCell&&(d.activeCell=u.activeCell),this.sheetView.style&&(d.style=this.sheetView.style)):(d=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},u=this.selections.topLeft,u&&u.activeCell&&(d.activeCell=u.activeCell),this.sheetView.style&&(d.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"tablePart"}render(o,c){c&&o.leafNode(this.tag,{"r:id":c.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(e,s,a){const i=e("../../../utils/under-dash"),o=e("../../../utils/col-cache"),c=e("../../../utils/xml-stream"),l=e("../../rel-type"),d=e("./merges"),u=e("../base-xform"),f=e("../list-xform"),h=e("./row-xform"),m=e("./col-xform"),A=e("./dimension-xform"),g=e("./hyperlink-xform"),p=e("./merge-cell-xform"),b=e("./data-validations-xform"),x=e("./sheet-properties-xform"),v=e("./sheet-format-properties-xform"),y=e("./sheet-view-xform"),S=e("./sheet-protection-xform"),M=e("./page-margins-xform"),P=e("./page-setup-xform"),B=e("./print-options-xform"),D=e("./auto-filter-xform"),L=e("./picture-xform"),O=e("./drawing-xform"),F=e("./table-part-xform"),_=e("./row-breaks-xform"),E=e("./header-footer-xform"),T=e("./cf/conditional-formattings-xform"),w=e("./ext-lst-xform"),C=(N,I)=>{if(!I||!I.length)return N;if(!N||!N.length)return I;const R={},U={};return N.forEach(V=>{R[V.ref]=V,V.rules.forEach(z=>{const{x14Id:X}=z;X&&(U[X]=z)})}),I.forEach(V=>{V.rules.forEach(z=>{const X=U[z.x14Id];X?((Q,q)=>{Object.keys(q).forEach(H=>{const $=Q[H],G=q[H];$===void 0&&G!==void 0&&(Q[H]=G)})})(X,z):R[V.ref]?R[V.ref].rules.push(z):N.push({ref:V.ref,rules:[z]})})}),N};class j extends u{constructor(I){super();const{maxRows:R,maxCols:U,ignoreNodes:V}=I||{};this.ignoreNodes=V||[],this.map={sheetPr:new x,dimension:new A,sheetViews:new f({tag:"sheetViews",count:!1,childXform:new y}),sheetFormatPr:new v,cols:new f({tag:"cols",count:!1,childXform:new m}),sheetData:new f({tag:"sheetData",count:!1,empty:!0,childXform:new h({maxItems:U}),maxItems:R}),autoFilter:new D,mergeCells:new f({tag:"mergeCells",count:!0,childXform:new p}),rowBreaks:new _,hyperlinks:new f({tag:"hyperlinks",count:!1,childXform:new g}),pageMargins:new M,dataValidations:new b,pageSetup:new P,headerFooter:new E,printOptions:new B,picture:new L,drawing:new O,sheetProtection:new S,tableParts:new f({tag:"tableParts",count:!0,childXform:new F}),conditionalFormatting:new T,extLst:new w}}prepare(I,R){R.merges=new d,I.hyperlinks=R.hyperlinks=[],I.comments=R.comments=[],R.formulae={},R.siFormulae=0,this.map.cols.prepare(I.cols,R),this.map.sheetData.prepare(I.rows,R),this.map.conditionalFormatting.prepare(I.conditionalFormattings,R),I.mergeCells=R.merges.mergeCells;const U=I.rels=[];function V(Q){return"rId"+(Q.length+1)}if(I.hyperlinks.forEach(Q=>{const q=V(U);Q.rId=q,U.push({Id:q,Type:l.Hyperlink,Target:Q.target,TargetMode:"External"})}),I.comments.length>0){const Q={Id:V(U),Type:l.Comments,Target:`../comments${I.id}.xml`};U.push(Q);const q={Id:V(U),Type:l.VmlDrawing,Target:`../drawings/vmlDrawing${I.id}.vml`};U.push(q),I.comments.forEach(H=>{H.refAddress=o.decodeAddress(H.ref)}),R.commentRefs.push({commentName:"comments"+I.id,vmlDrawing:"vmlDrawing"+I.id})}const z=[];let X;I.media.forEach(Q=>{if(Q.type==="background"){const q=V(U);X=R.media[Q.imageId],U.push({Id:q,Type:l.Image,Target:`../media/${X.name}.${X.extension}`}),I.background={rId:q},I.image=R.media[Q.imageId]}else if(Q.type==="image"){let{drawing:q}=I;X=R.media[Q.imageId],q||(q=I.drawing={rId:V(U),name:"drawing"+ ++R.drawingsCount,anchors:[],rels:[]},R.drawings.push(q),U.push({Id:q.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${q.name}.xml`}));let H=this.preImageId===Q.imageId?z[Q.imageId]:z[q.rels.length];H||(H=V(q.rels),z[q.rels.length]=H,q.rels.push({Id:H,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${X.name}.${X.extension}`}));const $={picture:{rId:H},range:Q.range};if(Q.hyperlinks&&Q.hyperlinks.hyperlink){const G=V(q.rels);z[q.rels.length]=G,$.picture.hyperlinks={tooltip:Q.hyperlinks.tooltip,rId:G},q.rels.push({Id:G,Type:l.Hyperlink,Target:Q.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=Q.imageId,q.anchors.push($)}}),I.tables.forEach(Q=>{const q=V(U);Q.rId=q,U.push({Id:q,Type:l.Table,Target:"../tables/"+Q.target}),Q.columns.forEach(H=>{const{style:$}=H;$&&(H.dxfId=R.styles.addDxfStyle($))})}),this.map.extLst.prepare(I,R)}render(I,R){I.openXml(c.StdDocAttributes),I.openNode("worksheet",j.WORKSHEET_ATTRIBUTES);const U=R.properties?{defaultRowHeight:R.properties.defaultRowHeight,dyDescent:R.properties.dyDescent,outlineLevelCol:R.properties.outlineLevelCol,outlineLevelRow:R.properties.outlineLevelRow}:void 0;R.properties&&R.properties.defaultColWidth&&(U.defaultColWidth=R.properties.defaultColWidth);const V={outlineProperties:R.properties&&R.properties.outlineProperties,tabColor:R.properties&&R.properties.tabColor,pageSetup:R.pageSetup&&R.pageSetup.fitToPage?{fitToPage:R.pageSetup.fitToPage}:void 0},z=R.pageSetup&&R.pageSetup.margins,X={showRowColHeaders:R.pageSetup&&R.pageSetup.showRowColHeaders,showGridLines:R.pageSetup&&R.pageSetup.showGridLines,horizontalCentered:R.pageSetup&&R.pageSetup.horizontalCentered,verticalCentered:R.pageSetup&&R.pageSetup.verticalCentered},Q=R.sheetProtection;this.map.sheetPr.render(I,V),this.map.dimension.render(I,R.dimensions),this.map.sheetViews.render(I,R.views),this.map.sheetFormatPr.render(I,U),this.map.cols.render(I,R.cols),this.map.sheetData.render(I,R.rows),this.map.sheetProtection.render(I,Q),this.map.autoFilter.render(I,R.autoFilter),this.map.mergeCells.render(I,R.mergeCells),this.map.conditionalFormatting.render(I,R.conditionalFormattings),this.map.dataValidations.render(I,R.dataValidations),this.map.hyperlinks.render(I,R.hyperlinks),this.map.printOptions.render(I,X),this.map.pageMargins.render(I,z),this.map.pageSetup.render(I,R.pageSetup),this.map.headerFooter.render(I,R.headerFooter),this.map.rowBreaks.render(I,R.rowBreaks),this.map.drawing.render(I,R.drawing),this.map.picture.render(I,R.background),this.map.tableParts.render(I,R.tables),this.map.extLst.render(I,R),R.rels&&R.rels.forEach(q=>{q.Type===l.VmlDrawing&&I.leafNode("legacyDrawing",{"r:id":q.Id})}),I.closeNode()}parseOpen(I){return this.parser?(this.parser.parseOpen(I),!0):I.name==="worksheet"?(i.each(this.map,R=>{R.reset()}),!0):(this.map[I.name]&&!this.ignoreNodes.includes(I.name)&&(this.parser=this.map[I.name],this.parser.parseOpen(I)),!0)}parseText(I){this.parser&&this.parser.parseText(I)}parseClose(I){if(this.parser)return this.parser.parseClose(I)||(this.parser=void 0),!0;switch(I){case"worksheet":{const R=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(R.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(R.outlineProperties=this.map.sheetPr.model.outlineProperties);const U={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},V=Object.assign(U,this.map.pageSetup.model,this.map.printOptions.model),z=C(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:R,views:this.map.sheetViews.model,pageSetup:V,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:z},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(I,R){const U=(I.relationships||[]).reduce((z,X)=>{if(z[X.Id]=X,X.Type===l.Comments&&(I.comments=R.comments[X.Target].comments),X.Type===l.VmlDrawing&&I.comments&&I.comments.length){const Q=R.vmlDrawings[X.Target].comments;I.comments.forEach((q,H)=>{q.note=Object.assign({},q.note,Q[H])})}return z},{});if(R.commentsMap=(I.comments||[]).reduce((z,X)=>(X.ref&&(z[X.ref]=X),z),{}),R.hyperlinkMap=(I.hyperlinks||[]).reduce((z,X)=>(X.rId&&(z[X.address]=U[X.rId].Target),z),{}),R.formulae={},I.rows=I.rows&&I.rows.filter(Boolean)||[],I.rows.forEach(z=>{z.cells=z.cells&&z.cells.filter(Boolean)||[]}),this.map.cols.reconcile(I.cols,R),this.map.sheetData.reconcile(I.rows,R),this.map.conditionalFormatting.reconcile(I.conditionalFormattings,R),I.media=[],I.drawing){const z=U[I.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(z){const X=z[1];R.drawings[X].anchors.forEach(Q=>{if(Q.medium){const q={type:"image",imageId:Q.medium.index,range:Q.range,hyperlinks:Q.picture.hyperlinks};I.media.push(q)}})}}const V=I.background&&U[I.background.rId];if(V){const z=V.Target.split("/media/")[1],X=R.mediaIndex&&R.mediaIndex[z];X!==void 0&&I.media.push({type:"background",imageId:X})}I.tables=(I.tables||[]).map(z=>{const X=U[z.rId];return R.tables[X.Target]}),delete I.relationships,delete I.hyperlinks,delete I.comments}}j.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},s.exports=j},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.attr=o.attr}render(o,c){c&&(o.openNode(this.tag),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this._format=o.format||function(c){try{return Number.isNaN(c.getTime())?"":c.toISOString()}catch{return""}},this._parse=o.parse||function(c){return new Date(c)}}render(o,c){c&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,this._format(c)):o.writeText(this._format(c)),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=this._parse(o.attributes[this.attr]):this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this.zero=o.zero}render(o,c){(c||this.zero)&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,c):o.writeText(c),o.closeNode())}parseOpen(o){return o.name===this.tag&&(this.attr?this.model=parseInt(o.attributes[this.attr],10):this.text=[],!0)}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs}render(o,c){c!==void 0&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,c):o.writeText(c),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=o.attributes[this.attr]:this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(e,s,a){const i=e("./base-xform"),o=e("../../utils/xml-stream");s.exports=class extends i{constructor(c){super(),this._model=c}render(c){if(!this._xml){const l=new o;(function d(u,f){u.openNode(f.tag,f.$),f.c&&f.c.forEach(h=>{d(u,h)}),f.t&&u.writeText(f.t),u.closeNode()})(l,this._model),this._xml=l.xml}c.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(c){switch(c){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,s,a){const i=e("./text-xform"),o=e("./rich-text-xform"),c=e("../base-xform");s.exports=class extends c{constructor(){super(),this.map={r:new o,t:new i}}get tag(){return"rPh"}render(l,d){if(l.openNode(this.tag,{sb:d.sb||0,eb:d.eb||0}),d&&d.hasOwnProperty("richText")&&d.richText){const{r:u}=this.map;d.richText.forEach(f=>{u.render(l,f)})}else d&&this.map.t.render(l,d.text);l.closeNode()}parseOpen(l){const{name:d}=l;return this.parser?(this.parser.parseOpen(l),!0):d===this.tag?(this.model={sb:parseInt(l.attributes.sb,10),eb:parseInt(l.attributes.eb,10)},!0):(this.parser=this.map[d],!!this.parser&&(this.parser.parseOpen(l),!0))}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){switch(l){case"r":{let d=this.model.richText;d||(d=this.model.richText=[]),d.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,s,a){const i=e("./text-xform"),o=e("../style/font-xform"),c=e("../base-xform");class l extends c{constructor(u){super(),this.model=u}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new i)}get fontXform(){return this._fontXform||(this._fontXform=new o(l.FONT_OPTIONS))}render(u,f){f=f||this.model,u.openNode("r"),f.font&&this.fontXform.render(u,f.font),this.textXform.render(u,f.text),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(u),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){switch(u){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}}l.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},s.exports=l},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,s,a){const i=e("./text-xform"),o=e("./rich-text-xform"),c=e("./phonetic-text-xform"),l=e("../base-xform");s.exports=class extends l{constructor(d){super(),this.model=d,this.map={r:new o,t:new i,rPh:new c}}get tag(){return"si"}render(d,u){d.openNode(this.tag),u&&u.hasOwnProperty("richText")&&u.richText?u.richText.length?u.richText.forEach(f=>{this.map.r.render(d,f)}):this.map.t.render(d,""):u!=null&&this.map.t.render(d,u),d.closeNode()}parseOpen(d){const{name:u}=d;return this.parser?(this.parser.parseOpen(d),!0):u===this.tag?(this.model={},!0):(this.parser=this.map[u],!!this.parser&&(this.parser.parseOpen(d),!0))}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser){if(!this.parser.parseClose(d)){switch(d){case"r":{let u=this.model.richText;u||(u=this.model.richText=[]),u.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(d){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,s,a){const i=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("./shared-string-xform");s.exports=class extends o{constructor(l){super(),this.model=l||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new c)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(l){return this.model.values[l]}add(l){return l.richText?this.addRichText(l):this.addText(l)}addText(l){let d=this.hash[l];return d===void 0&&(d=this.hash[l]=this.model.values.length,this.model.values.push(l)),this.model.count++,d}addRichText(l){const d=this.sharedStringXform.toXml(l);let u=this.rich[d];return u===void 0&&(u=this.rich[d]=this.model.values.length,this.model.values.push(l)),this.model.count++,u}render(l,d){d=d||this._values,l.openXml(i.StdDocAttributes),l.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:d.count,uniqueCount:d.values.length});const u=this.sharedStringXform;d.values.forEach(f=>{u.render(l,f)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(l),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(l){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"t"}render(o,c){o.openNode("t"),/^\s|\n|\s$/.test(c)&&o.addAttribute("xml:space","preserve"),o.writeText(c),o.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(o,c)=>String.fromCharCode(parseInt(c,16)))}parseOpen(o){switch(o.name){case"t":return this._text=[],!0;default:return!1}}parseText(o){this._text.push(o)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(e,s,a){const i=e("../../../doc/enums"),o=e("../../../utils/utils"),c=e("../base-xform"),l={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((u,f)=>(u[f]=!0,u),{}),horizontal(u){return this.horizontalValues[u]?u:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((u,f)=>(u[f]=!0,u),{}),vertical(u){return u==="middle"?"center":this.verticalValues[u]?u:void 0},wrapText:u=>!!u||void 0,shrinkToFit:u=>!!u||void 0,textRotation(u){switch(u){case"vertical":return u;default:return(u=o.validInt(u))>=-90&&u<=90?u:void 0}},indent:u=>(u=o.validInt(u),Math.max(0,u)),readingOrder(u){switch(u){case"ltr":return i.ReadingOrder.LeftToRight;case"rtl":return i.ReadingOrder.RightToLeft;default:return}}},d={toXml(u){if(u=l.textRotation(u)){if(u==="vertical")return 255;const f=Math.round(u);if(f>=0&&f<=90)return f;if(f<0&&f>=-90)return 90-f}},toModel(u){const f=o.validInt(u);if(f!==void 0){if(f===255)return"vertical";if(f>=0&&f<=90)return f;if(f>90&&f<=180)return 90-f}}};s.exports=class extends c{get tag(){return"alignment"}render(u,f){u.addRollback(),u.openNode("alignment");let h=!1;function m(A,g){g&&(u.addAttribute(A,g),h=!0)}m("horizontal",l.horizontal(f.horizontal)),m("vertical",l.vertical(f.vertical)),m("wrapText",!!l.wrapText(f.wrapText)&&"1"),m("shrinkToFit",!!l.shrinkToFit(f.shrinkToFit)&&"1"),m("indent",l.indent(f.indent)),m("textRotation",d.toXml(f.textRotation)),m("readingOrder",l.readingOrder(f.readingOrder)),u.closeNode(),h?u.commit():u.rollback()}parseOpen(u){const f={};let h=!1;function m(A,g,p){A&&(f[g]=p,h=!0)}m(u.attributes.horizontal,"horizontal",u.attributes.horizontal),m(u.attributes.vertical,"vertical",u.attributes.vertical==="center"?"middle":u.attributes.vertical),m(u.attributes.wrapText,"wrapText",o.parseBoolean(u.attributes.wrapText)),m(u.attributes.shrinkToFit,"shrinkToFit",o.parseBoolean(u.attributes.shrinkToFit)),m(u.attributes.indent,"indent",parseInt(u.attributes.indent,10)),m(u.attributes.textRotation,"textRotation",d.toModel(u.attributes.textRotation)),m(u.attributes.readingOrder,"readingOrder",u.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=h?f:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,s,a){const i=e("../base-xform"),o=e("../../../utils/utils"),c=e("./color-xform");class l extends i{constructor(u){super(),this.name=u,this.map={color:new c}}get tag(){return this.name}render(u,f,h){const m=f&&f.color||h||this.defaultColor;u.openNode(this.name),f&&f.style&&(u.addAttribute("style",f.style),m&&this.map.color.render(u,m)),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.name:{const{style:f}=u.attributes;return this.model=f?{style:f}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):(u===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(u){return l.validStyleValues[u]}}l.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((d,u)=>(d[u]=!0,d),{}),s.exports=class extends i{constructor(){super(),this.map={top:new l("top"),left:new l("left"),bottom:new l("bottom"),right:new l("right"),diagonal:new l("diagonal")}}render(d,u){const{color:f}=u;function h(m,A){m&&!m.color&&u.color&&(m={...m,color:u.color}),A.render(d,m,f)}d.openNode("border"),u.diagonal&&u.diagonal.style&&(u.diagonal.up&&d.addAttribute("diagonalUp","1"),u.diagonal.down&&d.addAttribute("diagonalDown","1")),h(u.left,this.map.left),h(u.right,this.map.right),h(u.top,this.map.top),h(u.bottom,this.map.bottom),h(u.diagonal,this.map.diagonal),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"border":return this.reset(),this.diagonalUp=o.parseBoolean(d.attributes.diagonalUp),this.diagonalDown=o.parseBoolean(d.attributes.diagonalDown),!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;if(d==="border"){const u=this.model={},f=function(h,m,A){m&&(A&&Object.assign(m,A),u[h]=m)};f("left",this.map.left.model),f("right",this.map.right.model),f("top",this.map.top.model),f("bottom",this.map.bottom.model),f("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{constructor(o){super(),this.name=o||"color"}get tag(){return this.name}render(o,c){return!!c&&(o.openNode(this.name),c.argb?o.addAttribute("rgb",c.argb):c.theme!==void 0?(o.addAttribute("theme",c.theme),c.tint!==void 0&&o.addAttribute("tint",c.tint)):c.indexed!==void 0?o.addAttribute("indexed",c.indexed):o.addAttribute("auto","1"),o.closeNode(),!0)}parseOpen(o){return o.name===this.name&&(o.attributes.rgb?this.model={argb:o.attributes.rgb}:o.attributes.theme?(this.model={theme:parseInt(o.attributes.theme,10)},o.attributes.tint&&(this.model.tint=parseFloat(o.attributes.tint))):o.attributes.indexed?this.model={indexed:parseInt(o.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(e,s,a){const i=e("../base-xform"),o=e("./alignment-xform"),c=e("./border-xform"),l=e("./fill-xform"),d=e("./font-xform"),u=e("./numfmt-xform"),f=e("./protection-xform");s.exports=class extends i{constructor(){super(),this.map={alignment:new o,border:new c,fill:new l,font:new d,numFmt:new u,protection:new f}}get tag(){return"dxf"}render(h,m){if(h.openNode(this.tag),m.font&&this.map.font.render(h,m.font),m.numFmt&&m.numFmtId){const A={id:m.numFmtId,formatCode:m.numFmt};this.map.numFmt.render(h,A)}m.fill&&this.map.fill.render(h,m.fill),m.alignment&&this.map.alignment.render(h,m.alignment),m.border&&this.map.border.render(h,m.border),m.protection&&this.map.protection.render(h,m.protection),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h),!0}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return this.parser?(this.parser.parseClose(h)||(this.parser=void 0),!0):h!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,s,a){const i=e("../base-xform"),o=e("./color-xform");class c extends i{constructor(){super(),this.map={color:new o}}get tag(){return"stop"}render(h,m){h.openNode("stop"),h.addAttribute("position",m.position),this.map.color.render(h,m.color),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"stop":return this.model={position:parseFloat(h.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(h),!0;default:return!1}}parseText(){}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class l extends i{constructor(){super(),this.map={fgColor:new o("fgColor"),bgColor:new o("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(h,m){h.openNode("patternFill"),h.addAttribute("patternType",m.pattern),m.fgColor&&this.map.fgColor.render(h,m.fgColor),m.bgColor&&this.map.bgColor.render(h,m.bgColor),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"patternFill":return this.model={type:"pattern",pattern:h.attributes.patternType},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.parser.model&&(this.model[h]=this.parser.model),this.parser=void 0),!0)}}class d extends i{constructor(){super(),this.map={stop:new c}}get name(){return"gradient"}get tag(){return"gradientFill"}render(h,m){switch(h.openNode("gradientFill"),m.gradient){case"angle":h.addAttribute("degree",m.degree);break;case"path":h.addAttribute("type","path"),m.center.left&&(h.addAttribute("left",m.center.left),m.center.right===void 0&&h.addAttribute("right",m.center.left)),m.center.right&&h.addAttribute("right",m.center.right),m.center.top&&(h.addAttribute("top",m.center.top),m.center.bottom===void 0&&h.addAttribute("bottom",m.center.top)),m.center.bottom&&h.addAttribute("bottom",m.center.bottom)}const A=this.map.stop;m.stops.forEach(g=>{A.render(h,g)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"gradientFill":{const m=this.model={stops:[]};return h.attributes.degree?(m.gradient="angle",m.degree=parseInt(h.attributes.degree,10)):h.attributes.type==="path"&&(m.gradient="path",m.center={left:h.attributes.left?parseFloat(h.attributes.left):0,top:h.attributes.top?parseFloat(h.attributes.top):0},h.attributes.right!==h.attributes.left&&(m.center.right=h.attributes.right?parseFloat(h.attributes.right):0),h.attributes.bottom!==h.attributes.top&&(m.center.bottom=h.attributes.bottom?parseFloat(h.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(h),!0;default:return!1}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class u extends i{constructor(){super(),this.map={patternFill:new l,gradientFill:new d}}get tag(){return"fill"}render(h,m){switch(h.addRollback(),h.openNode("fill"),m.type){case"pattern":this.map.patternFill.render(h,m);break;case"gradient":this.map.gradientFill.render(h,m);break;default:return void h.rollback()}h.closeNode(),h.commit()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"fill":return this.model={},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(h){return u.validPatternValues[h]}}u.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((f,h)=>(f[h]=!0,f),{}),u.StopXform=c,u.PatternFillXform=l,u.GradientFillXform=d,s.exports=u},{"../base-xform":32,"./color-xform":128}],131:[function(e,s,a){const i=e("./color-xform"),o=e("../simple/boolean-xform"),c=e("../simple/integer-xform"),l=e("../simple/string-xform"),d=e("./underline-xform"),u=e("../../../utils/under-dash"),f=e("../base-xform");class h extends f{constructor(A){super(),this.options=A||h.OPTIONS,this.map={b:{prop:"bold",xform:new o({tag:"b",attr:"val"})},i:{prop:"italic",xform:new o({tag:"i",attr:"val"})},u:{prop:"underline",xform:new d},charset:{prop:"charset",xform:new c({tag:"charset",attr:"val"})},color:{prop:"color",xform:new i},condense:{prop:"condense",xform:new o({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new o({tag:"extend",attr:"val"})},family:{prop:"family",xform:new c({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new o({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new l({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new l({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new o({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new o({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new c({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new l({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(A,g){const{map:p}=this;A.openNode(this.options.tagName),u.each(this.map,(b,x)=>{p[x].xform.render(A,g[b.prop])}),A.closeNode()}parseOpen(A){if(this.parser)return this.parser.parseOpen(A),!0;if(this.map[A.name])return this.parser=this.map[A.name].xform,this.parser.parseOpen(A);switch(A.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(A){this.parser&&this.parser.parseText(A)}parseClose(A){if(this.parser&&!this.parser.parseClose(A)){const g=this.map[A];return this.parser.model&&(this.model[g.prop]=this.parser.model),this.parser=void 0,!0}switch(A){case this.options.tagName:return!1;default:return!0}}}h.OPTIONS={tagName:"font",fontNameTag:"name"},s.exports=h},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,s,a){const i=e("../../../utils/under-dash"),o=e("../../defaultnumformats"),c=e("../base-xform"),l=function(){const u={};return i.each(o,(f,h)=>{f.f&&(u[f.f]=parseInt(h,10))}),u}();class d extends c{constructor(f,h){super(),this.id=f,this.formatCode=h}get tag(){return"numFmt"}render(f,h){f.leafNode("numFmt",{numFmtId:h.id,formatCode:h.formatCode})}parseOpen(f){switch(f.name){case"numFmt":return this.model={id:parseInt(f.attributes.numFmtId,10),formatCode:f.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}d.getDefaultFmtId=function(u){return l[u]},d.getDefaultFmtCode=function(u){return o[u]&&o[u].f},s.exports=d},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,s,a){const i=e("../base-xform"),o={boolean:(c,l)=>c===void 0?l:c};s.exports=class extends i{get tag(){return"protection"}render(c,l){c.addRollback(),c.openNode("protection");let d=!1;function u(f,h){h!==void 0&&(c.addAttribute(f,h),d=!0)}u("locked",o.boolean(l.locked,!0)?void 0:"0"),u("hidden",o.boolean(l.hidden,!1)?"1":void 0),c.closeNode(),d?c.commit():c.rollback()}parseOpen(c){const l={locked:c.attributes.locked!=="0",hidden:c.attributes.hidden==="1"},d=!l.locked||l.hidden;this.model=d?l:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(e,s,a){const i=e("../base-xform"),o=e("./alignment-xform"),c=e("./protection-xform");s.exports=class extends i{constructor(l){super(),this.xfId=!(!l||!l.xfId),this.map={alignment:new o,protection:new c}}get tag(){return"xf"}render(l,d){l.openNode("xf",{numFmtId:d.numFmtId||0,fontId:d.fontId||0,fillId:d.fillId||0,borderId:d.borderId||0}),this.xfId&&l.addAttribute("xfId",d.xfId||0),d.numFmtId&&l.addAttribute("applyNumberFormat","1"),d.fontId&&l.addAttribute("applyFont","1"),d.fillId&&l.addAttribute("applyFill","1"),d.borderId&&l.addAttribute("applyBorder","1"),d.alignment&&l.addAttribute("applyAlignment","1"),d.protection&&l.addAttribute("applyProtection","1"),d.alignment&&this.map.alignment.render(l,d.alignment),d.protection&&this.map.protection.render(l,d.protection),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"xf":return this.model={numFmtId:parseInt(l.attributes.numFmtId,10),fontId:parseInt(l.attributes.fontId,10),fillId:parseInt(l.attributes.fillId,10),borderId:parseInt(l.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(l.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(l),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):l!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,s,a){const i=e("../../../doc/enums"),o=e("../../../utils/xml-stream"),c=e("../base-xform"),l=e("../static-xform"),d=e("../list-xform"),u=e("./font-xform"),f=e("./fill-xform"),h=e("./border-xform"),m=e("./numfmt-xform"),A=e("./style-xform"),g=e("./dxf-xform");class p extends c{constructor(x){super(),this.map={numFmts:new d({tag:"numFmts",count:!0,childXform:new m}),fonts:new d({tag:"fonts",count:!0,childXform:new u,$:{"x14ac:knownFonts":1}}),fills:new d({tag:"fills",count:!0,childXform:new f}),borders:new d({tag:"borders",count:!0,childXform:new h}),cellStyleXfs:new d({tag:"cellStyleXfs",count:!0,childXform:new A}),cellXfs:new d({tag:"cellXfs",count:!0,childXform:new A({xfId:!0})}),dxfs:new d({tag:"dxfs",always:!0,count:!0,childXform:new g}),numFmt:new m,font:new u,fill:new f,border:new h,style:new A({xfId:!0}),cellStyles:p.STATIC_XFORMS.cellStyles,tableStyles:p.STATIC_XFORMS.tableStyles,extLst:p.STATIC_XFORMS.extLst},x&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(x,v){v=v||this.model,x.openXml(o.StdDocAttributes),x.openNode("styleSheet",p.STYLESHEET_ATTRIBUTES),this.index?(v.numFmts&&v.numFmts.length&&(x.openNode("numFmts",{count:v.numFmts.length}),v.numFmts.forEach(y=>{x.writeXml(y)}),x.closeNode()),v.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),x.openNode("fonts",{count:v.fonts.length,"x14ac:knownFonts":1}),v.fonts.forEach(y=>{x.writeXml(y)}),x.closeNode(),x.openNode("fills",{count:v.fills.length}),v.fills.forEach(y=>{x.writeXml(y)}),x.closeNode(),x.openNode("borders",{count:v.borders.length}),v.borders.forEach(y=>{x.writeXml(y)}),x.closeNode(),this.map.cellStyleXfs.render(x,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),x.openNode("cellXfs",{count:v.styles.length}),v.styles.forEach(y=>{x.writeXml(y)}),x.closeNode()):(this.map.numFmts.render(x,v.numFmts),this.map.fonts.render(x,v.fonts),this.map.fills.render(x,v.fills),this.map.borders.render(x,v.borders),this.map.cellStyleXfs.render(x,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(x,v.styles)),p.STATIC_XFORMS.cellStyles.render(x),this.map.dxfs.render(x,v.dxfs),p.STATIC_XFORMS.tableStyles.render(x),p.STATIC_XFORMS.extLst.render(x),x.closeNode()}parseOpen(x){if(this.parser)return this.parser.parseOpen(x),!0;switch(x.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[x.name],this.parser&&this.parser.parseOpen(x),!0}}parseText(x){this.parser&&this.parser.parseText(x)}parseClose(x){if(this.parser)return this.parser.parseClose(x)||(this.parser=void 0),!0;switch(x){case"styleSheet":{this.model={};const v=(y,S)=>{S.model&&S.model.length&&(this.model[y]=S.model)};if(v("numFmts",this.map.numFmts),v("fonts",this.map.fonts),v("fills",this.map.fills),v("borders",this.map.borders),v("styles",this.map.cellXfs),v("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const y=this.index.numFmt;this.model.numFmts.forEach(S=>{y[S.id]=S.formatCode})}return!1}default:return!0}}addStyleModel(x,v){if(!x)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(x))return this.weakMap.get(x);const y={};if(v=v||i.ValueType.Number,x.numFmt)y.numFmtId=this._addNumFmtStr(x.numFmt);else switch(v){case i.ValueType.Number:y.numFmtId=this._addNumFmtStr("General");break;case i.ValueType.Date:y.numFmtId=this._addNumFmtStr("mm-dd-yy")}x.font&&(y.fontId=this._addFont(x.font)),x.border&&(y.borderId=this._addBorder(x.border)),x.fill&&(y.fillId=this._addFill(x.fill)),x.alignment&&(y.alignment=x.alignment),x.protection&&(y.protection=x.protection);const S=this._addStyle(y);return this.weakMap&&this.weakMap.set(x,S),S}getStyleModel(x){const v=this.model.styles[x];if(!v)return null;let y=this.index.model[x];if(y)return y;if(y=this.index.model[x]={},v.numFmtId){const M=this.index.numFmt[v.numFmtId]||m.getDefaultFmtCode(v.numFmtId);M&&(y.numFmt=M)}function S(M,P,B){if(B||B===0){const D=P[B];D&&(y[M]=D)}}return S("font",this.model.fonts,v.fontId),S("border",this.model.borders,v.borderId),S("fill",this.model.fills,v.fillId),v.alignment&&(y.alignment=v.alignment),v.protection&&(y.protection=v.protection),y}addDxfStyle(x){return x.numFmt&&(x.numFmtId=this._addNumFmtStr(x.numFmt)),this.model.dxfs.push(x),this.model.dxfs.length-1}getDxfStyle(x){return this.model.dxfs[x]}_addStyle(x){const v=this.map.style.toXml(x);let y=this.index.style[v];return y===void 0&&(y=this.index.style[v]=this.model.styles.length,this.model.styles.push(v)),y}_addNumFmtStr(x){let v=m.getDefaultFmtId(x);if(v!==void 0||(v=this.index.numFmt[x],v!==void 0))return v;v=this.index.numFmt[x]=164+this.model.numFmts.length;const y=this.map.numFmt.toXml({id:v,formatCode:x});return this.model.numFmts.push(y),v}_addFont(x){const v=this.map.font.toXml(x);let y=this.index.font[v];return y===void 0&&(y=this.index.font[v]=this.model.fonts.length,this.model.fonts.push(v)),y}_addBorder(x){const v=this.map.border.toXml(x);let y=this.index.border[v];return y===void 0&&(y=this.index.border[v]=this.model.borders.length,this.model.borders.push(v)),y}_addFill(x){const v=this.map.fill.toXml(x);let y=this.index.fill[v];return y===void 0&&(y=this.index.fill[v]=this.model.fills.length,this.model.fills.push(v)),y}}p.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},p.STATIC_XFORMS={cellStyles:new l({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new l({tag:"dxfs",$:{count:0}}),tableStyles:new l({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new l({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},p.Mock=class extends p{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(b){return b.autodrain(),Promise.resolve()}addStyleModel(b,x){switch(x){case i.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const b={numFmtId:m.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(b)}return this._dateStyleId}getStyleModel(){return{}}},s.exports=p},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,s,a){const i=e("../base-xform");class o extends i{constructor(l){super(),this.model=l}get tag(){return"u"}render(l,d){if((d=d||this.model)===!0)l.leafNode("u");else{const u=o.Attributes[d];u&&l.leafNode("u",u)}}parseOpen(l){l.name==="u"&&(this.model=l.attributes.val||!0)}parseText(){}parseClose(){return!1}}o.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},s.exports=o},{"../base-xform":32}],137:[function(e,s,a){const i=e("../base-xform"),o=e("./filter-column-xform");s.exports=class extends i{constructor(){super(),this.map={filterColumn:new o}}get tag(){return"autoFilter"}prepare(c){c.columns.forEach((l,d)=>{this.map.filterColumn.prepare(l,{index:d})})}render(c,l){return c.openNode(this.tag,{ref:l.autoFilterRef}),l.columns.forEach(d=>{this.map.filterColumn.render(c,d)}),c.closeNode(),!0}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:return this.model={autoFilterRef:c.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[c.name],this.parser)return this.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"customFilter"}render(o,c){o.leafNode(this.tag,{val:c.val,operator:c.operator})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val,operator:o.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(e,s,a){const i=e("../base-xform"),o=e("../list-xform"),c=e("./custom-filter-xform"),l=e("./filter-xform");s.exports=class extends i{constructor(){super(),this.map={customFilters:new o({tag:"customFilters",count:!1,empty:!0,childXform:new c}),filters:new o({tag:"filters",count:!1,empty:!0,childXform:new l})}}get tag(){return"filterColumn"}prepare(d,u){d.colId=u.index.toString()}render(d,u){return u.customFilters?(d.openNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),this.map.customFilters.render(d,u.customFilters),d.closeNode(),!0):(d.leafNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),!0)}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;const{attributes:u}=d;switch(d.name){case this.tag:return this.model={filterButton:u.hiddenButton==="0"},!0;default:if(this.parser=this.map[d.name],this.parser)return this.parseOpen(d),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(d))}}parseText(){}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"filter"}render(o,c){o.leafNode(this.tag,{val:c.val})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"tableColumn"}prepare(o,c){o.id=c.index+1}render(o,c){return o.leafNode(this.tag,{id:c.id.toString(),name:c.name,totalsRowLabel:c.totalsRowLabel,totalsRowFunction:c.totalsRowFunction,dxfId:c.dxfId}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:c}=o;return this.model={name:c.name,totalsRowLabel:c.totalsRowLabel,totalsRowFunction:c.totalsRowFunction,dxfId:c.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"tableStyleInfo"}render(o,c){return o.leafNode(this.tag,{name:c.theme?c.theme:void 0,showFirstColumn:c.showFirstColumn?"1":"0",showLastColumn:c.showLastColumn?"1":"0",showRowStripes:c.showRowStripes?"1":"0",showColumnStripes:c.showColumnStripes?"1":"0"}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:c}=o;return this.model={theme:c.name?c.name:null,showFirstColumn:c.showFirstColumn==="1",showLastColumn:c.showLastColumn==="1",showRowStripes:c.showRowStripes==="1",showColumnStripes:c.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(e,s,a){const i=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("../list-xform"),l=e("./auto-filter-xform"),d=e("./table-column-xform"),u=e("./table-style-info-xform");class f extends o{constructor(){super(),this.map={autoFilter:new l,tableColumns:new c({tag:"tableColumns",count:!0,empty:!0,childXform:new d}),tableStyleInfo:new u}}prepare(m,A){this.map.autoFilter.prepare(m),this.map.tableColumns.prepare(m.columns,A)}get tag(){return"table"}render(m,A){m.openXml(i.StdDocAttributes),m.openNode(this.tag,{...f.TABLE_ATTRIBUTES,id:A.id,name:A.name,displayName:A.displayName||A.name,ref:A.tableRef,totalsRowCount:A.totalsRow?"1":void 0,totalsRowShown:A.totalsRow?void 0:"1",headerRowCount:A.headerRow?"1":"0"}),this.map.autoFilter.render(m,A),this.map.tableColumns.render(m,A.columns),this.map.tableStyleInfo.render(m,A.style),m.closeNode()}parseOpen(m){if(this.parser)return this.parser.parseOpen(m),!0;const{name:A,attributes:g}=m;switch(A){case this.tag:this.reset(),this.model={name:g.name,displayName:g.displayName||g.name,tableRef:g.ref,totalsRow:g.totalsRowCount==="1",headerRow:g.headerRowCount==="1"};break;default:this.parser=this.map[m.name],this.parser&&this.parser.parseOpen(m)}return!0}parseText(m){this.parser&&this.parser.parseText(m)}parseClose(m){if(this.parser)return this.parser.parseClose(m)||(this.parser=void 0),!0;switch(m){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((A,g)=>{this.model.columns[g].filterButton=A.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(m,A){m.columns.forEach(g=>{g.dxfId!==void 0&&(g.style=A.styles.getDxfStyle(g.dxfId))})}}f.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},s.exports=f},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,s,a){(function(i,o){(function(){const c=e("fs"),l=e("jszip"),{PassThrough:d}=e("readable-stream"),u=e("../utils/zip-stream"),f=e("../utils/stream-buf"),h=e("../utils/utils"),m=e("../utils/xml-stream"),{bufferToString:A}=e("../utils/browser-buffer-decode"),g=e("./xform/style/styles-xform"),p=e("./xform/core/core-xform"),b=e("./xform/strings/shared-strings-xform"),x=e("./xform/core/relationships-xform"),v=e("./xform/core/content-types-xform"),y=e("./xform/core/app-xform"),S=e("./xform/book/workbook-xform"),M=e("./xform/sheet/worksheet-xform"),P=e("./xform/drawing/drawing-xform"),B=e("./xform/table/table-xform"),D=e("./xform/comment/comments-xform"),L=e("./xform/comment/vml-notes-xform"),O=e("./xml/theme1");class F{constructor(E){this.workbook=E}async readFile(E,T){if(!await h.fs.exists(E))throw new Error("File not found: "+E);const w=c.createReadStream(E);try{const C=await this.read(w,T);return w.close(),C}catch(C){throw w.close(),C}}parseRels(E){return new x().parseStream(E)}parseWorkbook(E){return new S().parseStream(E)}parseSharedStrings(E){return new b().parseStream(E)}reconcile(E,T){const w=new S,C=new M(T),j=new P,N=new B;w.reconcile(E);const I={media:E.media,mediaIndex:E.mediaIndex};Object.keys(E.drawings).forEach(V=>{const z=E.drawings[V],X=E.drawingRels[V];X&&(I.rels=X.reduce((Q,q)=>(Q[q.Id]=q,Q),{}),(z.anchors||[]).forEach(Q=>{const q=Q.picture&&Q.picture.hyperlinks;q&&I.rels[q.rId]&&(q.hyperlink=I.rels[q.rId].Target,delete q.rId)}),j.reconcile(z,I))});const R={styles:E.styles};Object.values(E.tables).forEach(V=>{N.reconcile(V,R)});const U={styles:E.styles,sharedStrings:E.sharedStrings,media:E.media,mediaIndex:E.mediaIndex,date1904:E.properties&&E.properties.date1904,drawings:E.drawings,comments:E.comments,tables:E.tables,vmlDrawings:E.vmlDrawings};E.worksheets.forEach(V=>{V.relationships=E.worksheetRels[V.sheetNo],C.reconcile(V,U)}),delete E.worksheetHash,delete E.worksheetRels,delete E.globalRels,delete E.sharedStrings,delete E.workbookRels,delete E.sheetDefs,delete E.styles,delete E.mediaIndex,delete E.drawings,delete E.drawingRels,delete E.vmlDrawings}async _processWorksheetEntry(E,T,w,C,j){const N=new M(C),I=await N.parseStream(E);I.sheetNo=w,T.worksheetHash[j]=I,T.worksheets.push(I)}async _processCommentEntry(E,T,w){const C=new D,j=await C.parseStream(E);T.comments[`../${w}.xml`]=j}async _processTableEntry(E,T,w){const C=new B,j=await C.parseStream(E);T.tables[`../tables/${w}.xml`]=j}async _processWorksheetRelsEntry(E,T,w){const C=new x,j=await C.parseStream(E);T.worksheetRels[w]=j}async _processMediaEntry(E,T,w){const C=w.lastIndexOf(".");if(C>=1){const j=w.substr(C+1),N=w.substr(0,C);await new Promise((I,R)=>{const U=new f;U.on("finish",()=>{T.mediaIndex[w]=T.media.length,T.mediaIndex[N]=T.media.length;const V={type:"image",name:N,extension:j,buffer:U.toBuffer()};T.media.push(V),I()}),E.on("error",V=>{R(V)}),E.pipe(U)})}}async _processDrawingEntry(E,T,w){const C=new P,j=await C.parseStream(E);T.drawings[w]=j}async _processDrawingRelsEntry(E,T,w){const C=new x,j=await C.parseStream(E);T.drawingRels[w]=j}async _processVmlDrawingEntry(E,T,w){const C=new L,j=await C.parseStream(E);T.vmlDrawings[`../drawings/${w}.vml`]=j}async _processThemeEntry(E,T,w){await new Promise((C,j)=>{const N=new f;E.on("error",j),N.on("error",j),N.on("finish",()=>{T.themes[w]=N.read().toString(),C()}),E.pipe(N)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(E,T){!E[Symbol.asyncIterator]&&E.pipe&&(E=E.pipe(new d));const w=[];for await(const C of E)w.push(C);return this.load(o.concat(w),T)}async load(E,T){let w;w=T&&T.base64?o.from(E.toString(),"base64"):E;const C={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},j=await l.loadAsync(w);for(const N of Object.values(j.files))if(!N.dir){let I,R=N.name;if(R[0]==="/"&&(R=R.substr(1)),R.match(/xl\/media\//)||R.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))I=new d,I.write(await N.async("nodebuffer"));else{let U;I=new d({writableObjectMode:!0,readableObjectMode:!0}),U=i.browser?A(await N.async("nodebuffer")):await N.async("string");const V=16384;for(let z=0;z<U.length;z+=V)I.write(U.substring(z,z+V))}switch(I.end(),R){case"_rels/.rels":C.globalRels=await this.parseRels(I);break;case"xl/workbook.xml":{const U=await this.parseWorkbook(I);C.sheets=U.sheets,C.definedNames=U.definedNames,C.views=U.views,C.properties=U.properties,C.calcProperties=U.calcProperties;break}case"xl/_rels/workbook.xml.rels":C.workbookRels=await this.parseRels(I);break;case"xl/sharedStrings.xml":C.sharedStrings=new b,await C.sharedStrings.parseStream(I);break;case"xl/styles.xml":C.styles=new g,await C.styles.parseStream(I);break;case"docProps/app.xml":{const U=new y,V=await U.parseStream(I);C.company=V.company,C.manager=V.manager;break}case"docProps/core.xml":{const U=new p,V=await U.parseStream(I);Object.assign(C,V);break}default:{let U=R.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(U){await this._processWorksheetEntry(I,C,U[1],T,R);break}if(U=R.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),U){await this._processWorksheetRelsEntry(I,C,U[1]);break}if(U=R.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),U){await this._processThemeEntry(I,C,U[1]);break}if(U=R.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),U){await this._processMediaEntry(I,C,U[1]);break}if(U=R.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),U){await this._processDrawingEntry(I,C,U[1]);break}if(U=R.match(/xl\/(comments\d+)[.]xml/),U){await this._processCommentEntry(I,C,U[1]);break}if(U=R.match(/xl\/tables\/(table\d+)[.]xml/),U){await this._processTableEntry(I,C,U[1]);break}if(U=R.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),U){await this._processDrawingRelsEntry(I,C,U[1]);break}if(U=R.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),U){await this._processVmlDrawingEntry(I,C,U[1]);break}}}}return this.reconcile(C,T),this.workbook.model=C,this.workbook}async addMedia(E,T){await Promise.all(T.media.map(async w=>{if(w.type==="image"){const C=`xl/media/${w.name}.${w.extension}`;if(w.filename){const j=await function(N,I){return new Promise((R,U)=>{c.readFile(N,I,(V,z)=>{V?U(V):R(z)})})}(w.filename);return E.append(j,{name:C})}if(w.buffer)return E.append(w.buffer,{name:C});if(w.base64){const j=w.base64,N=j.substring(j.indexOf(",")+1);return E.append(N,{name:C,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(E,T){const w=new P,C=new x;T.worksheets.forEach(j=>{const{drawing:N}=j;if(N){w.prepare(N,{});let I=w.toXml(N);E.append(I,{name:`xl/drawings/${N.name}.xml`}),I=C.toXml(N.rels),E.append(I,{name:`xl/drawings/_rels/${N.name}.xml.rels`})}})}addTables(E,T){const w=new B;T.worksheets.forEach(C=>{const{tables:j}=C;j.forEach(N=>{w.prepare(N,{});const I=w.toXml(N);E.append(I,{name:"xl/tables/"+N.target})})})}async addContentTypes(E,T){const w=new v().toXml(T);E.append(w,{name:"[Content_Types].xml"})}async addApp(E,T){const w=new y().toXml(T);E.append(w,{name:"docProps/app.xml"})}async addCore(E,T){const w=new p;E.append(w.toXml(T),{name:"docProps/core.xml"})}async addThemes(E,T){const w=T.themes||{theme1:O};Object.keys(w).forEach(C=>{const j=w[C],N=`xl/theme/${C}.xml`;E.append(j,{name:N})})}async addOfficeRels(E){const T=new x().toXml([{Id:"rId1",Type:F.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:F.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:F.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);E.append(T,{name:"_rels/.rels"})}async addWorkbookRels(E,T){let w=1;const C=[{Id:"rId"+w++,Type:F.RelType.Styles,Target:"styles.xml"},{Id:"rId"+w++,Type:F.RelType.Theme,Target:"theme/theme1.xml"}];T.sharedStrings.count&&C.push({Id:"rId"+w++,Type:F.RelType.SharedStrings,Target:"sharedStrings.xml"}),T.worksheets.forEach(N=>{N.rId="rId"+w++,C.push({Id:N.rId,Type:F.RelType.Worksheet,Target:`worksheets/sheet${N.id}.xml`})});const j=new x().toXml(C);E.append(j,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(E,T){T.sharedStrings&&T.sharedStrings.count&&E.append(T.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(E,T){const{xml:w}=T.styles;w&&E.append(w,{name:"xl/styles.xml"})}async addWorkbook(E,T){const w=new S;E.append(w.toXml(T),{name:"xl/workbook.xml"})}async addWorksheets(E,T){const w=new M,C=new x,j=new D,N=new L;T.worksheets.forEach(I=>{let R=new m;w.render(R,I),E.append(R.xml,{name:`xl/worksheets/sheet${I.id}.xml`}),I.rels&&I.rels.length&&(R=new m,C.render(R,I.rels),E.append(R.xml,{name:`xl/worksheets/_rels/sheet${I.id}.xml.rels`})),I.comments.length>0&&(R=new m,j.render(R,I),E.append(R.xml,{name:`xl/comments${I.id}.xml`}),R=new m,N.render(R,I),E.append(R.xml,{name:`xl/drawings/vmlDrawing${I.id}.vml`}))})}_finalize(E){return new Promise((T,w)=>{E.on("finish",()=>{T(this)}),E.on("error",w),E.finalize()})}prepareModel(E,T){E.creator=E.creator||"ExcelJS",E.lastModifiedBy=E.lastModifiedBy||"ExcelJS",E.created=E.created||new Date,E.modified=E.modified||new Date,E.useSharedStrings=T.useSharedStrings===void 0||T.useSharedStrings,E.useStyles=T.useStyles===void 0||T.useStyles,E.sharedStrings=new b,E.styles=E.useStyles?new g(!0):new g.Mock;const w=new S,C=new M;w.prepare(E);const j={sharedStrings:E.sharedStrings,styles:E.styles,date1904:E.properties.date1904,drawingsCount:0,media:E.media};j.drawings=E.drawings=[],j.commentRefs=E.commentRefs=[];let N=0;E.tables=[],E.worksheets.forEach(I=>{I.tables.forEach(R=>{N++,R.target=`table${N}.xml`,R.id=N,E.tables.push(R)}),C.prepare(I,j)})}async write(E,T){T=T||{};const{model:w}=this.workbook,C=new u.ZipWriter(T.zip);return C.pipe(E),this.prepareModel(w,T),await this.addContentTypes(C,w),await this.addOfficeRels(C,w),await this.addWorkbookRels(C,w),await this.addWorksheets(C,w),await this.addSharedStrings(C,w),await this.addDrawings(C,w),await this.addTables(C,w),await Promise.all([this.addThemes(C,w),this.addStyles(C,w)]),await this.addMedia(C,w),await Promise.all([this.addApp(C,w),this.addCore(C,w)]),await this.addWorkbook(C,w),this._finalize(C)}writeFile(E,T){const w=c.createWriteStream(E);return new Promise((C,j)=>{w.on("finish",()=>{C()}),w.on("error",N=>{j(N)}),this.write(w,T).then(()=>{w.end()}).catch(N=>{j(N)})})}async writeBuffer(E){const T=new f;return await this.write(T,E),T.read()}}F.RelType=e("./rel-type"),s.exports=F}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,s,a){s.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,s,a){(function(i){(function(){Object.defineProperty(a,"__esModule",{value:!0}),a.CsvFormatterStream=void 0;const o=e("stream"),c=e("./formatter");class l extends o.Transform{constructor(u){super({writableObjectMode:u.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=u,this.rowFormatter=new c.RowFormatter(u),this.hasWrittenBOM=!u.writeBOM}transform(u){return this.rowFormatter.rowTransform=u,this}_transform(u,f,h){let m=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(u,(A,g)=>A?(m=!0,h(A)):(g&&g.forEach(p=>{this.push(i.from(p,"utf8"))}),m=!0,h()))}catch(A){if(m)throw A;h(A)}}_flush(u){this.rowFormatter.finish((f,h)=>f?u(f):(h&&h.forEach(m=>{this.push(i.from(m,"utf8"))}),u()))}}a.CsvFormatterStream=l}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.FormatterOptions=void 0,a.FormatterOptions=class{constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var o;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,i||{}),(i==null?void 0:i.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(i==null?void 0:i.quote)===!0?this.quote='"':(i==null?void 0:i.quote)===!1&&(this.quote=""),typeof(i==null?void 0:i.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((o=i.writeHeaders)===null||o===void 0||o),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(e,s,a){var i=function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(a,"__esModule",{value:!0}),a.FieldFormatter=void 0;const o=i(e("lodash.isboolean")),c=i(e("lodash.isnil")),l=i(e("lodash.escaperegexp"));a.FieldFormatter=class{constructor(d){this._headers=null,this.formatterOptions=d,d.headers!==null&&(this.headers=d.headers),this.REPLACE_REGEXP=new RegExp(d.quote,"g");const u=`[${d.delimiter}${l.default(d.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(u)}set headers(d){this._headers=d}shouldQuote(d,u){const f=u?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return o.default(f)?f:Array.isArray(f)?f[d]:this._headers!==null&&f[this._headers[d]]}format(d,u,f){const h=(""+(c.default(d)?"":d)).replace(/\0/g,""),{formatterOptions:m}=this;return m.quote!==""&&h.indexOf(m.quote)!==-1?this.quoteField(h.replace(this.REPLACE_REGEXP,m.escapedQuote)):h.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(u,f)?this.quoteField(h):h}quoteField(d){const{quote:u}=this.formatterOptions;return`${u}${d}${u}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,s,a){var i=function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(a,"__esModule",{value:!0}),a.RowFormatter=void 0;const o=i(e("lodash.isfunction")),c=i(e("lodash.isequal")),l=e("./FieldFormatter"),d=e("../types");class u{constructor(h){this.rowCount=0,this.formatterOptions=h,this.fieldFormatter=new l.FieldFormatter(h),this.headers=h.headers,this.shouldWriteHeaders=h.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),h.transform&&(this.rowTransform=h.transform)}static isRowHashArray(h){return!!Array.isArray(h)&&Array.isArray(h[0])&&h[0].length===2}static isRowArray(h){return Array.isArray(h)&&!this.isRowHashArray(h)}static gatherHeaders(h){return u.isRowHashArray(h)?h.map(m=>m[0]):Array.isArray(h)?h:Object.keys(h)}static createTransform(h){return d.isSyncTransform(h)?(m,A)=>{let g=null;try{g=h(m)}catch(p){return A(p)}return A(null,g)}:(m,A)=>{h(m,A)}}set rowTransform(h){if(!o.default(h))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(h)}format(h,m){this.callTransformer(h,(A,g)=>{if(A)return m(A);if(!h)return m(null);const p=[];if(g){const{shouldFormatColumns:b,headers:x}=this.checkHeaders(g);if(this.shouldWriteHeaders&&x&&!this.hasWrittenHeaders&&(p.push(this.formatColumns(x,!0)),this.hasWrittenHeaders=!0),b){const v=this.gatherColumns(g);p.push(this.formatColumns(v,!1))}}return m(null,p)})}finish(h){const m=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return h(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));m.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&m.push(this.formatterOptions.rowDelimiter),h(null,m)}checkHeaders(h){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const m=u.gatherHeaders(h);return this.headers=m,this.fieldFormatter.headers=m,this.shouldWriteHeaders?{shouldFormatColumns:!c.default(m,h),headers:m}:{shouldFormatColumns:!0,headers:null}}gatherColumns(h){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(h)?u.isRowHashArray(h)?this.headers.map((m,A)=>{const g=h[A];return g?g[1]:""}):u.isRowArray(h)&&!this.shouldWriteHeaders?h:this.headers.map((m,A)=>h[A]):this.headers.map(m=>h[m])}callTransformer(h,m){return this._rowTransform?this._rowTransform(h,m):m(null,h)}formatColumns(h,m){const A=h.map((p,b)=>this.fieldFormatter.format(p,b,m)).join(this.formatterOptions.delimiter),{rowCount:g}=this;return this.rowCount+=1,g?[this.formatterOptions.rowDelimiter,A].join(""):A}}a.RowFormatter=u},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.FieldFormatter=a.RowFormatter=void 0;var i=e("./RowFormatter");Object.defineProperty(a,"RowFormatter",{enumerable:!0,get:function(){return i.RowFormatter}});var o=e("./FieldFormatter");Object.defineProperty(a,"FieldFormatter",{enumerable:!0,get:function(){return o.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,s,a){(function(i){(function(){var o=Object.create?function(b,x,v,y){y===void 0&&(y=v),Object.defineProperty(b,y,{enumerable:!0,get:function(){return x[v]}})}:function(b,x,v,y){y===void 0&&(y=v),b[y]=x[v]},c=Object.create?function(b,x){Object.defineProperty(b,"default",{enumerable:!0,value:x})}:function(b,x){b.default=x},l=function(b){if(b&&b.__esModule)return b;var x={};if(b!=null)for(var v in b)v!=="default"&&Object.prototype.hasOwnProperty.call(b,v)&&o(x,b,v);return c(x,b),x},d=function(b,x){for(var v in b)v==="default"||Object.prototype.hasOwnProperty.call(x,v)||o(x,b,v)};Object.defineProperty(a,"__esModule",{value:!0}),a.writeToPath=a.writeToString=a.writeToBuffer=a.writeToStream=a.write=a.format=a.FormatterOptions=a.CsvFormatterStream=void 0;const u=e("util"),f=e("stream"),h=l(e("fs")),m=e("./FormatterOptions"),A=e("./CsvFormatterStream");d(e("./types"),a);var g=e("./CsvFormatterStream");Object.defineProperty(a,"CsvFormatterStream",{enumerable:!0,get:function(){return g.CsvFormatterStream}});var p=e("./FormatterOptions");Object.defineProperty(a,"FormatterOptions",{enumerable:!0,get:function(){return p.FormatterOptions}}),a.format=b=>new A.CsvFormatterStream(new m.FormatterOptions(b)),a.write=(b,x)=>{const v=a.format(x),y=u.promisify((S,M)=>{v.write(S,void 0,M)});return b.reduce((S,M)=>S.then(()=>y(M)),Promise.resolve()).then(()=>v.end()).catch(S=>{v.emit("error",S)}),v},a.writeToStream=(b,x,v)=>a.write(x,v).pipe(b),a.writeToBuffer=function(b){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const v=[],y=new f.Writable({write(S,M,P){v.push(S),P()}});return new Promise((S,M)=>{y.on("error",M).on("finish",()=>S(i.concat(v))),a.write(b,x).pipe(y)})},a.writeToString=(b,x)=>a.writeToBuffer(b,x).then(v=>v.toString()),a.writeToPath=(b,x,v)=>{const y=h.createWriteStream(b,{encoding:"utf8"});return a.write(x,v).pipe(y)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isSyncTransform=void 0,a.isSyncTransform=i=>i.length===1},{}],153:[function(e,s,a){(function(i){(function(){Object.defineProperty(a,"__esModule",{value:!0}),a.CsvParserStream=void 0;const o=e("string_decoder"),c=e("stream"),l=e("./transforms"),d=e("./parser");class u extends c.Transform{constructor(h){super({objectMode:h.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=h,this.parser=new d.Parser(h),this.headerTransformer=new l.HeaderTransformer(h),this.decoder=new o.StringDecoder(h.encoding),this.rowTransformerValidator=new l.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(h){return this.rowTransformerValidator.rowTransform=h,this}validate(h){return this.rowTransformerValidator.rowValidator=h,this}emit(h){if(h==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var m=arguments.length,A=new Array(m>1?m-1:0),g=1;g<m;g++)A[g-1]=arguments[g];return super.emit(h,...A)}_transform(h,m,A){if(this.hasHitRowLimit)return A();const g=u.wrapDoneCallback(A);try{const{lines:p}=this,b=p+this.decoder.write(h),x=this.parse(b,!0);return this.processRows(x,g)}catch(p){return g(p)}}_flush(h){const m=u.wrapDoneCallback(h);if(this.hasHitRowLimit)return m();try{const A=this.lines+this.decoder.end(),g=this.parse(A,!1);return this.processRows(g,m)}catch(A){return m(A)}}parse(h,m){if(!h)return[];const{line:A,rows:g}=this.parser.parse(h,m);return this.lines=A,g}processRows(h,m){const A=h.length,g=p=>{const b=y=>y?m(y):p%100!=0?g(p+1):void i(()=>g(p+1));if(this.checkAndEmitHeaders(),p>=A||this.hasHitRowLimit)return m();if(this.parsedLineCount+=1,this.shouldSkipLine)return b();const x=h[p];this.rowCount+=1,this.parsedRowCount+=1;const v=this.rowCount;return this.transformRow(x,(y,S)=>{if(y)return this.rowCount-=1,b(y);if(!S)return b(new Error("expected transform result"));if(S.isValid){if(S.row)return this.pushRow(S.row,b)}else this.emit("data-invalid",S.row,v,S.reason);return b()})};g(0)}transformRow(h,m){try{this.headerTransformer.transform(h,(A,g)=>A?m(A):g?g.isValid?g.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(g.row,m):this.skipRow(m):(this.rowCount-=1,this.parsedRowCount-=1,m(null,{row:null,isValid:!0})):this.shouldEmitRows?m(null,{isValid:!1,row:h}):this.skipRow(m):m(new Error("Expected result from header transform")))}catch(A){m(A)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(h){return this.rowCount-=1,h(null,{row:null,isValid:!0})}pushRow(h,m){try{this.parserOptions.objectMode?this.push(h):this.push(JSON.stringify(h)),m()}catch(A){m(A)}}static wrapDoneCallback(h){let m=!1;return function(A){if(A){if(m)throw A;return m=!0,void h(A)}for(var g=arguments.length,p=new Array(g>1?g-1:0),b=1;b<g;b++)p[b-1]=arguments[b];h(...p)}}}a.CsvParserStream=u}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,s,a){var i=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(a,"__esModule",{value:!0}),a.ParserOptions=void 0;const o=i(e("lodash.escaperegexp")),c=i(e("lodash.isnil"));a.ParserOptions=class{constructor(l){var d;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,l||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=o.default(this.delimiter),this.escapeChar=(d=this.escape)!==null&&d!==void 0?d:this.quote,this.supportsComments=!c.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,s,a){var i=Object.create?function(g,p,b,x){x===void 0&&(x=b),Object.defineProperty(g,x,{enumerable:!0,get:function(){return p[b]}})}:function(g,p,b,x){x===void 0&&(x=b),g[x]=p[b]},o=Object.create?function(g,p){Object.defineProperty(g,"default",{enumerable:!0,value:p})}:function(g,p){g.default=p},c=function(g){if(g&&g.__esModule)return g;var p={};if(g!=null)for(var b in g)b!=="default"&&Object.prototype.hasOwnProperty.call(g,b)&&i(p,g,b);return o(p,g),p},l=function(g,p){for(var b in g)b==="default"||Object.prototype.hasOwnProperty.call(p,b)||i(p,g,b)};Object.defineProperty(a,"__esModule",{value:!0}),a.parseString=a.parseFile=a.parseStream=a.parse=a.ParserOptions=a.CsvParserStream=void 0;const d=c(e("fs")),u=e("stream"),f=e("./ParserOptions"),h=e("./CsvParserStream");l(e("./types"),a);var m=e("./CsvParserStream");Object.defineProperty(a,"CsvParserStream",{enumerable:!0,get:function(){return m.CsvParserStream}});var A=e("./ParserOptions");Object.defineProperty(a,"ParserOptions",{enumerable:!0,get:function(){return A.ParserOptions}}),a.parse=g=>new h.CsvParserStream(new f.ParserOptions(g)),a.parseStream=(g,p)=>g.pipe(new h.CsvParserStream(new f.ParserOptions(p))),a.parseFile=function(g){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return d.createReadStream(g).pipe(new h.CsvParserStream(new f.ParserOptions(p)))},a.parseString=(g,p)=>{const b=new u.Readable;return b.push(g),b.push(null),b.pipe(new h.CsvParserStream(new f.ParserOptions(p)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.Parser=void 0;const i=e("./Scanner"),o=e("./RowParser"),c=e("./Token");class l{constructor(u){this.parserOptions=u,this.rowParser=new o.RowParser(this.parserOptions)}static removeBOM(u){return u&&u.charCodeAt(0)===65279?u.slice(1):u}parse(u,f){const h=new i.Scanner({line:l.removeBOM(u),parserOptions:this.parserOptions,hasMoreData:f});return this.parserOptions.supportsComments?this.parseWithComments(h):this.parseWithoutComments(h)}parseWithoutComments(u){const f=[];let h=!0;for(;h;)h=this.parseRow(u,f);return{line:u.line,rows:f}}parseWithComments(u){const{parserOptions:f}=this,h=[];for(let m=u.nextCharacterToken;m!==null;m=u.nextCharacterToken)if(c.Token.isTokenComment(m,f)){if(u.advancePastLine()===null)return{line:u.lineFromCursor,rows:h};if(!u.hasMoreCharacters)return{line:u.lineFromCursor,rows:h};u.truncateToCursor()}else if(!this.parseRow(u,h))break;return{line:u.line,rows:h}}parseRow(u,f){if(!u.nextNonSpaceToken)return!1;const h=this.rowParser.parse(u);return h!==null&&(this.parserOptions.ignoreEmpty&&o.RowParser.isEmptyRow(h)||f.push(h),!0)}}a.Parser=l},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.RowParser=void 0;const i=e("./column"),o=e("./Token");a.RowParser=class{constructor(c){this.parserOptions=c,this.columnParser=new i.ColumnParser(c)}static isEmptyRow(c){return c.join("").replace(/\s+/g,"")===""}parse(c){const{parserOptions:l}=this,{hasMoreData:d}=c,u=c,f=[];let h=this.getStartToken(u,f);for(;h;){if(o.Token.isTokenRowDelimiter(h))return u.advancePastToken(h),!u.hasMoreCharacters&&o.Token.isTokenCarriageReturn(h,l)&&d?null:(u.truncateToCursor(),f);if(!this.shouldSkipColumnParse(u,h,f)){const m=this.columnParser.parse(u);if(m===null)return null;f.push(m)}h=u.nextNonSpaceToken}return d?null:(u.truncateToCursor(),f)}getStartToken(c,l){const d=c.nextNonSpaceToken;return d!==null&&o.Token.isTokenDelimiter(d,this.parserOptions)?(l.push(""),c.nextNonSpaceToken):d}shouldSkipColumnParse(c,l,d){const{parserOptions:u}=this;if(o.Token.isTokenDelimiter(l,u)){c.advancePastToken(l);const f=c.nextCharacterToken;if(!c.hasMoreCharacters||f!==null&&o.Token.isTokenRowDelimiter(f)||f!==null&&o.Token.isTokenDelimiter(f,u))return d.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.Scanner=void 0;const i=e("./Token"),o=/((?:\r\n)|\n|\r)/;a.Scanner=class{constructor(c){this.cursor=0,this.line=c.line,this.lineLength=this.line.length,this.parserOptions=c.parserOptions,this.hasMoreData=c.hasMoreData,this.cursor=c.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:c}=this,l=this.parserOptions.NEXT_TOKEN_REGEXP;if(c.search(l)===-1)return null;const d=l.exec(c);if(d==null)return null;const u=d[1],f=this.cursor+(d.index||0);return new i.Token({token:u,startCursor:f,endCursor:f+u.length-1})}get nextCharacterToken(){const{cursor:c,lineLength:l}=this;return l<=c?null:new i.Token({token:this.line[c],startCursor:c,endCursor:c})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const c=o.exec(this.lineFromCursor);return c?(this.cursor+=(c.index||0)+c[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(c){return this.cursor=c,this}advanceToToken(c){return this.cursor=c.startCursor,this}advancePastToken(c){return this.cursor=c.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.Token=void 0,a.Token=class{constructor(i){this.token=i.token,this.startCursor=i.startCursor,this.endCursor=i.endCursor}static isTokenRowDelimiter(i){const o=i.token;return o==="\r"||o===`
`||o===`\r
`}static isTokenCarriageReturn(i,o){return i.token===o.carriageReturn}static isTokenComment(i,o){return o.supportsComments&&!!i&&i.token===o.comment}static isTokenEscapeCharacter(i,o){return i.token===o.escapeChar}static isTokenQuote(i,o){return i.token===o.quote}static isTokenDelimiter(i,o){return i.token===o.delimiter}}},{}],160:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.ColumnFormatter=void 0,a.ColumnFormatter=class{constructor(i){i.trim?this.format=o=>o.trim():i.ltrim?this.format=o=>o.trimLeft():i.rtrim?this.format=o=>o.trimRight():this.format=o=>o}}},{}],161:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.ColumnParser=void 0;const i=e("./NonQuotedColumnParser"),o=e("./QuotedColumnParser"),c=e("../Token");a.ColumnParser=class{constructor(l){this.parserOptions=l,this.quotedColumnParser=new o.QuotedColumnParser(l),this.nonQuotedColumnParser=new i.NonQuotedColumnParser(l)}parse(l){const{nextNonSpaceToken:d}=l;return d!==null&&c.Token.isTokenQuote(d,this.parserOptions)?(l.advanceToToken(d),this.quotedColumnParser.parse(l)):this.nonQuotedColumnParser.parse(l)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.NonQuotedColumnParser=void 0;const i=e("./ColumnFormatter"),o=e("../Token");a.NonQuotedColumnParser=class{constructor(c){this.parserOptions=c,this.columnFormatter=new i.ColumnFormatter(c)}parse(c){if(!c.hasMoreCharacters)return null;const{parserOptions:l}=this,d=[];let u=c.nextCharacterToken;for(;u&&!o.Token.isTokenDelimiter(u,l)&&!o.Token.isTokenRowDelimiter(u);u=c.nextCharacterToken)d.push(u.token),c.advancePastToken(u);return this.columnFormatter.format(d.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.QuotedColumnParser=void 0;const i=e("./ColumnFormatter"),o=e("../Token");a.QuotedColumnParser=class{constructor(c){this.parserOptions=c,this.columnFormatter=new i.ColumnFormatter(c)}parse(c){if(!c.hasMoreCharacters)return null;const l=c.cursor,{foundClosingQuote:d,col:u}=this.gatherDataBetweenQuotes(c);if(!d){if(c.advanceTo(l),!c.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${c.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(c),u}gatherDataBetweenQuotes(c){const{parserOptions:l}=this;let d=!1,u=!1;const f=[];let h=c.nextCharacterToken;for(;!u&&h!==null;h=c.nextCharacterToken){const m=o.Token.isTokenQuote(h,l);if(!d&&m)d=!0;else if(d)if(o.Token.isTokenEscapeCharacter(h,l)){c.advancePastToken(h);const A=c.nextCharacterToken;A!==null&&(o.Token.isTokenQuote(A,l)||o.Token.isTokenEscapeCharacter(A,l))?(f.push(A.token),h=A):m?u=!0:f.push(h.token)}else m?u=!0:f.push(h.token);c.advancePastToken(h)}return{col:this.columnFormatter.format(f.join("")),foundClosingQuote:u}}checkForMalformedColumn(c){const{parserOptions:l}=this,{nextNonSpaceToken:d}=c;if(d){const u=o.Token.isTokenDelimiter(d,l),f=o.Token.isTokenRowDelimiter(d);if(!u&&!f){const h=c.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${l.escapedDelimiter}' OR new line got: '${d.token}'. at '${h}`)}c.advanceToToken(d)}else c.hasMoreData||c.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.ColumnFormatter=a.QuotedColumnParser=a.NonQuotedColumnParser=a.ColumnParser=void 0;var i=e("./ColumnParser");Object.defineProperty(a,"ColumnParser",{enumerable:!0,get:function(){return i.ColumnParser}});var o=e("./NonQuotedColumnParser");Object.defineProperty(a,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}});var c=e("./QuotedColumnParser");Object.defineProperty(a,"QuotedColumnParser",{enumerable:!0,get:function(){return c.QuotedColumnParser}});var l=e("./ColumnFormatter");Object.defineProperty(a,"ColumnFormatter",{enumerable:!0,get:function(){return l.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.QuotedColumnParser=a.NonQuotedColumnParser=a.ColumnParser=a.Token=a.Scanner=a.RowParser=a.Parser=void 0;var i=e("./Parser");Object.defineProperty(a,"Parser",{enumerable:!0,get:function(){return i.Parser}});var o=e("./RowParser");Object.defineProperty(a,"RowParser",{enumerable:!0,get:function(){return o.RowParser}});var c=e("./Scanner");Object.defineProperty(a,"Scanner",{enumerable:!0,get:function(){return c.Scanner}});var l=e("./Token");Object.defineProperty(a,"Token",{enumerable:!0,get:function(){return l.Token}});var d=e("./column");Object.defineProperty(a,"ColumnParser",{enumerable:!0,get:function(){return d.ColumnParser}}),Object.defineProperty(a,"NonQuotedColumnParser",{enumerable:!0,get:function(){return d.NonQuotedColumnParser}}),Object.defineProperty(a,"QuotedColumnParser",{enumerable:!0,get:function(){return d.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,s,a){var i=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(a,"__esModule",{value:!0}),a.HeaderTransformer=void 0;const o=i(e("lodash.isundefined")),c=i(e("lodash.isfunction")),l=i(e("lodash.uniq")),d=i(e("lodash.groupby"));a.HeaderTransformer=class{constructor(u){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=u,u.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(u.headers)?this.setHeaders(u.headers):c.default(u.headers)&&(this.headersTransform=u.headers)}transform(u,f){return this.shouldMapRow(u)?f(null,this.processRow(u)):f(null,{row:null,isValid:!0})}shouldMapRow(u){const{parserOptions:f}=this;if(!this.headersTransform&&f.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(u)){if(this.headersTransform)this.setHeaders(this.headersTransform(u));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(u)}return!1}return!0}processRow(u){if(!this.headers)return{row:u,isValid:!0};const{parserOptions:f}=this;if(!f.discardUnmappedColumns&&u.length>this.headersLength){if(!f.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${u.length}`);return{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}}return f.strictColumnHandling&&u.length<this.headersLength?{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}:{row:this.mapHeaders(u),isValid:!0}}mapHeaders(u){const f={},{headers:h,headersLength:m}=this;for(let A=0;A<m;A+=1){const g=h[A];if(!o.default(g)){const p=u[A];o.default(p)?f[g]="":f[g]=p}}return f}setHeaders(u){var f;const h=u.filter(m=>!!m);if(l.default(h).length!==h.length){const m=d.default(h),A=Object.keys(m).filter(g=>m[g].length>1);throw new Error("Duplicate headers found "+JSON.stringify(A))}this.headers=u,this.receivedHeaders=!0,this.headersLength=((f=this.headers)===null||f===void 0?void 0:f.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,s,a){var i=function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(a,"__esModule",{value:!0}),a.RowTransformerValidator=void 0;const o=i(e("lodash.isfunction")),c=e("../types");class l{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(u){return c.isSyncTransform(u)?(f,h)=>{let m=null;try{m=u(f)}catch(A){return h(A)}return h(null,m)}:u}static createValidator(u){return c.isSyncValidate(u)?(f,h)=>{h(null,{row:f,isValid:u(f)})}:(f,h)=>{u(f,(m,A,g)=>m?h(m):h(null,A?{row:f,isValid:A,reason:g}:{row:f,isValid:!1,reason:g}))}}set rowTransform(u){if(!o.default(u))throw new TypeError("The transform should be a function");this._rowTransform=l.createTransform(u)}set rowValidator(u){if(!o.default(u))throw new TypeError("The validate should be a function");this._rowValidator=l.createValidator(u)}transformAndValidate(u,f){return this.callTransformer(u,(h,m)=>h?f(h):m?this.callValidator(m,(A,g)=>A?f(A):g&&!g.isValid?f(null,{row:m,isValid:!1,reason:g.reason}):f(null,{row:m,isValid:!0})):f(null,{row:null,isValid:!0}))}callTransformer(u,f){return this._rowTransform?this._rowTransform(u,f):f(null,u)}callValidator(u,f){return this._rowValidator?this._rowValidator(u,f):f(null,{row:u,isValid:!0})}}a.RowTransformerValidator=l},{"../types":169,"lodash.isfunction":446}],168:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.HeaderTransformer=a.RowTransformerValidator=void 0;var i=e("./RowTransformerValidator");Object.defineProperty(a,"RowTransformerValidator",{enumerable:!0,get:function(){return i.RowTransformerValidator}});var o=e("./HeaderTransformer");Object.defineProperty(a,"HeaderTransformer",{enumerable:!0,get:function(){return o.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isSyncValidate=a.isSyncTransform=void 0,a.isSyncTransform=i=>i.length===1,a.isSyncValidate=i=>i.length===1},{}],170:[function(e,s,a){const i=a;i.bignum=e("bn.js"),i.define=e("./asn1/api").define,i.base=e("./asn1/base"),i.constants=e("./asn1/constants"),i.decoders=e("./asn1/decoders"),i.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,s,a){const i=e("./encoders"),o=e("./decoders"),c=e("inherits");function l(d,u){this.name=d,this.body=u,this.decoders={},this.encoders={}}a.define=function(d,u){return new l(d,u)},l.prototype._createNamed=function(d){const u=this.name;function f(h){this._initNamed(h,u)}return c(f,d),f.prototype._initNamed=function(h,m){d.call(this,h,m)},new f(this)},l.prototype._getDecoder=function(d){return d=d||"der",this.decoders.hasOwnProperty(d)||(this.decoders[d]=this._createNamed(o[d])),this.decoders[d]},l.prototype.decode=function(d,u,f){return this._getDecoder(u).decode(d,f)},l.prototype._getEncoder=function(d){return d=d||"der",this.encoders.hasOwnProperty(d)||(this.encoders[d]=this._createNamed(i[d])),this.encoders[d]},l.prototype.encode=function(d,u,f){return this._getEncoder(u).encode(d,f)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,s,a){const i=e("inherits"),o=e("../base/reporter").Reporter,c=e("safer-buffer").Buffer;function l(u,f){o.call(this,f),c.isBuffer(u)?(this.base=u,this.offset=0,this.length=u.length):this.error("Input not Buffer")}function d(u,f){if(Array.isArray(u))this.length=0,this.value=u.map(function(h){return d.isEncoderBuffer(h)||(h=new d(h,f)),this.length+=h.length,h},this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return f.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=c.byteLength(u);else{if(!c.isBuffer(u))return f.error("Unsupported type: "+typeof u);this.value=u,this.length=u.length}}i(l,o),a.DecoderBuffer=l,l.isDecoderBuffer=function(u){return u instanceof l?!0:typeof u=="object"&&c.isBuffer(u.base)&&u.constructor.name==="DecoderBuffer"&&typeof u.offset=="number"&&typeof u.length=="number"&&typeof u.save=="function"&&typeof u.restore=="function"&&typeof u.isEmpty=="function"&&typeof u.readUInt8=="function"&&typeof u.skip=="function"&&typeof u.raw=="function"},l.prototype.save=function(){return{offset:this.offset,reporter:o.prototype.save.call(this)}},l.prototype.restore=function(u){const f=new l(this.base);return f.offset=u.offset,f.length=this.offset,this.offset=u.offset,o.prototype.restore.call(this,u.reporter),f},l.prototype.isEmpty=function(){return this.offset===this.length},l.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},l.prototype.skip=function(u,f){if(!(this.offset+u<=this.length))return this.error(f||"DecoderBuffer overrun");const h=new l(this.base);return h._reporterState=this._reporterState,h.offset=this.offset,h.length=this.offset+u,this.offset+=u,h},l.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)},a.EncoderBuffer=d,d.isEncoderBuffer=function(u){return u instanceof d?!0:typeof u=="object"&&u.constructor.name==="EncoderBuffer"&&typeof u.length=="number"&&typeof u.join=="function"},d.prototype.join=function(u,f){return u||(u=c.alloc(this.length)),f||(f=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(h){h.join(u,f),f+=h.length}):(typeof this.value=="number"?u[f]=this.value:typeof this.value=="string"?u.write(this.value,f):c.isBuffer(this.value)&&this.value.copy(u,f),f+=this.length)),u}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,s,a){const i=a;i.Reporter=e("./reporter").Reporter,i.DecoderBuffer=e("./buffer").DecoderBuffer,i.EncoderBuffer=e("./buffer").EncoderBuffer,i.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,s,a){const i=e("../base/reporter").Reporter,o=e("../base/buffer").EncoderBuffer,c=e("../base/buffer").DecoderBuffer,l=e("minimalistic-assert"),d=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(d);function f(m,A,g){const p={};this._baseState=p,p.name=g,p.enc=m,p.parent=A||null,p.children=null,p.tag=null,p.args=null,p.reverseArgs=null,p.choice=null,p.optional=!1,p.any=!1,p.obj=!1,p.use=null,p.useDecoder=null,p.key=null,p.default=null,p.explicit=null,p.implicit=null,p.contains=null,p.parent||(p.children=[],this._wrap())}s.exports=f;const h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];f.prototype.clone=function(){const m=this._baseState,A={};h.forEach(function(p){A[p]=m[p]});const g=new this.constructor(A.parent);return g._baseState=A,g},f.prototype._wrap=function(){const m=this._baseState;u.forEach(function(A){this[A]=function(){const g=new this.constructor(this);return m.children.push(g),g[A].apply(g,arguments)}},this)},f.prototype._init=function(m){const A=this._baseState;l(A.parent===null),m.call(this),A.children=A.children.filter(function(g){return g._baseState.parent===this},this),l.equal(A.children.length,1,"Root node can have only one child")},f.prototype._useArgs=function(m){const A=this._baseState,g=m.filter(function(p){return p instanceof this.constructor},this);m=m.filter(function(p){return!(p instanceof this.constructor)},this),g.length!==0&&(l(A.children===null),A.children=g,g.forEach(function(p){p._baseState.parent=this},this)),m.length!==0&&(l(A.args===null),A.args=m,A.reverseArgs=m.map(function(p){if(typeof p!="object"||p.constructor!==Object)return p;const b={};return Object.keys(p).forEach(function(x){x==(0|x)&&(x|=0);const v=p[x];b[v]=x}),b}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(m){f.prototype[m]=function(){const A=this._baseState;throw new Error(m+" not implemented for encoding: "+A.enc)}}),d.forEach(function(m){f.prototype[m]=function(){const A=this._baseState,g=Array.prototype.slice.call(arguments);return l(A.tag===null),A.tag=m,this._useArgs(g),this}}),f.prototype.use=function(m){l(m);const A=this._baseState;return l(A.use===null),A.use=m,this},f.prototype.optional=function(){return this._baseState.optional=!0,this},f.prototype.def=function(m){const A=this._baseState;return l(A.default===null),A.default=m,A.optional=!0,this},f.prototype.explicit=function(m){const A=this._baseState;return l(A.explicit===null&&A.implicit===null),A.explicit=m,this},f.prototype.implicit=function(m){const A=this._baseState;return l(A.explicit===null&&A.implicit===null),A.implicit=m,this},f.prototype.obj=function(){const m=this._baseState,A=Array.prototype.slice.call(arguments);return m.obj=!0,A.length!==0&&this._useArgs(A),this},f.prototype.key=function(m){const A=this._baseState;return l(A.key===null),A.key=m,this},f.prototype.any=function(){return this._baseState.any=!0,this},f.prototype.choice=function(m){const A=this._baseState;return l(A.choice===null),A.choice=m,this._useArgs(Object.keys(m).map(function(g){return m[g]})),this},f.prototype.contains=function(m){const A=this._baseState;return l(A.use===null),A.contains=m,this},f.prototype._decode=function(m,A){const g=this._baseState;if(g.parent===null)return m.wrapResult(g.children[0]._decode(m,A));let p,b=g.default,x=!0,v=null;if(g.key!==null&&(v=m.enterKey(g.key)),g.optional){let y=null;if(g.explicit!==null?y=g.explicit:g.implicit!==null?y=g.implicit:g.tag!==null&&(y=g.tag),y!==null||g.any){if(x=this._peekTag(m,y,g.any),m.isError(x))return x}else{const S=m.save();try{g.choice===null?this._decodeGeneric(g.tag,m,A):this._decodeChoice(m,A),x=!0}catch{x=!1}m.restore(S)}}if(g.obj&&x&&(p=m.enterObject()),x){if(g.explicit!==null){const S=this._decodeTag(m,g.explicit);if(m.isError(S))return S;m=S}const y=m.offset;if(g.use===null&&g.choice===null){let S;g.any&&(S=m.save());const M=this._decodeTag(m,g.implicit!==null?g.implicit:g.tag,g.any);if(m.isError(M))return M;g.any?b=m.raw(S):m=M}if(A&&A.track&&g.tag!==null&&A.track(m.path(),y,m.length,"tagged"),A&&A.track&&g.tag!==null&&A.track(m.path(),m.offset,m.length,"content"),g.any||(b=g.choice===null?this._decodeGeneric(g.tag,m,A):this._decodeChoice(m,A)),m.isError(b))return b;if(g.any||g.choice!==null||g.children===null||g.children.forEach(function(S){S._decode(m,A)}),g.contains&&(g.tag==="octstr"||g.tag==="bitstr")){const S=new c(b);b=this._getUse(g.contains,m._reporterState.obj)._decode(S,A)}}return g.obj&&x&&(b=m.leaveObject(p)),g.key===null||b===null&&x!==!0?v!==null&&m.exitKey(v):m.leaveKey(v,g.key,b),b},f.prototype._decodeGeneric=function(m,A,g){const p=this._baseState;return m==="seq"||m==="set"?null:m==="seqof"||m==="setof"?this._decodeList(A,m,p.args[0],g):/str$/.test(m)?this._decodeStr(A,m,g):m==="objid"&&p.args?this._decodeObjid(A,p.args[0],p.args[1],g):m==="objid"?this._decodeObjid(A,null,null,g):m==="gentime"||m==="utctime"?this._decodeTime(A,m,g):m==="null_"?this._decodeNull(A,g):m==="bool"?this._decodeBool(A,g):m==="objDesc"?this._decodeStr(A,m,g):m==="int"||m==="enum"?this._decodeInt(A,p.args&&p.args[0],g):p.use!==null?this._getUse(p.use,A._reporterState.obj)._decode(A,g):A.error("unknown tag: "+m)},f.prototype._getUse=function(m,A){const g=this._baseState;return g.useDecoder=this._use(m,A),l(g.useDecoder._baseState.parent===null),g.useDecoder=g.useDecoder._baseState.children[0],g.implicit!==g.useDecoder._baseState.implicit&&(g.useDecoder=g.useDecoder.clone(),g.useDecoder._baseState.implicit=g.implicit),g.useDecoder},f.prototype._decodeChoice=function(m,A){const g=this._baseState;let p=null,b=!1;return Object.keys(g.choice).some(function(x){const v=m.save(),y=g.choice[x];try{const S=y._decode(m,A);if(m.isError(S))return!1;p={type:x,value:S},b=!0}catch{return m.restore(v),!1}return!0},this),b?p:m.error("Choice not matched")},f.prototype._createEncoderBuffer=function(m){return new o(m,this.reporter)},f.prototype._encode=function(m,A,g){const p=this._baseState;if(p.default!==null&&p.default===m)return;const b=this._encodeValue(m,A,g);return b===void 0||this._skipDefault(b,A,g)?void 0:b},f.prototype._encodeValue=function(m,A,g){const p=this._baseState;if(p.parent===null)return p.children[0]._encode(m,A||new i);let b=null;if(this.reporter=A,p.optional&&m===void 0){if(p.default===null)return;m=p.default}let x=null,v=!1;if(p.any)b=this._createEncoderBuffer(m);else if(p.choice)b=this._encodeChoice(m,A);else if(p.contains)x=this._getUse(p.contains,g)._encode(m,A),v=!0;else if(p.children)x=p.children.map(function(y){if(y._baseState.tag==="null_")return y._encode(null,A,m);if(y._baseState.key===null)return A.error("Child should have a key");const S=A.enterKey(y._baseState.key);if(typeof m!="object")return A.error("Child expected, but input is not object");const M=y._encode(m[y._baseState.key],A,m);return A.leaveKey(S),M},this).filter(function(y){return y}),x=this._createEncoderBuffer(x);else if(p.tag==="seqof"||p.tag==="setof"){if(!p.args||p.args.length!==1)return A.error("Too many args for : "+p.tag);if(!Array.isArray(m))return A.error("seqof/setof, but data is not Array");const y=this.clone();y._baseState.implicit=null,x=this._createEncoderBuffer(m.map(function(S){const M=this._baseState;return this._getUse(M.args[0],m)._encode(S,A)},y))}else p.use!==null?b=this._getUse(p.use,g)._encode(m,A):(x=this._encodePrimitive(p.tag,m),v=!0);if(!p.any&&p.choice===null){const y=p.implicit!==null?p.implicit:p.tag,S=p.implicit===null?"universal":"context";y===null?p.use===null&&A.error("Tag could be omitted only for .use()"):p.use===null&&(b=this._encodeComposite(y,v,S,x))}return p.explicit!==null&&(b=this._encodeComposite(p.explicit,!1,"context",b)),b},f.prototype._encodeChoice=function(m,A){const g=this._baseState,p=g.choice[m.type];return p||l(!1,m.type+" not found in "+JSON.stringify(Object.keys(g.choice))),p._encode(m.value,A)},f.prototype._encodePrimitive=function(m,A){const g=this._baseState;if(/str$/.test(m))return this._encodeStr(A,m);if(m==="objid"&&g.args)return this._encodeObjid(A,g.reverseArgs[0],g.args[1]);if(m==="objid")return this._encodeObjid(A,null,null);if(m==="gentime"||m==="utctime")return this._encodeTime(A,m);if(m==="null_")return this._encodeNull();if(m==="int"||m==="enum")return this._encodeInt(A,g.args&&g.reverseArgs[0]);if(m==="bool")return this._encodeBool(A);if(m==="objDesc")return this._encodeStr(A,m);throw new Error("Unsupported tag: "+m)},f.prototype._isNumstr=function(m){return/^[0-9 ]*$/.test(m)},f.prototype._isPrintstr=function(m){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(m)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,s,a){const i=e("inherits");function o(l){this._reporterState={obj:null,path:[],options:l||{},errors:[]}}function c(l,d){this.path=l,this.rethrow(d)}a.Reporter=o,o.prototype.isError=function(l){return l instanceof c},o.prototype.save=function(){const l=this._reporterState;return{obj:l.obj,pathLen:l.path.length}},o.prototype.restore=function(l){const d=this._reporterState;d.obj=l.obj,d.path=d.path.slice(0,l.pathLen)},o.prototype.enterKey=function(l){return this._reporterState.path.push(l)},o.prototype.exitKey=function(l){const d=this._reporterState;d.path=d.path.slice(0,l-1)},o.prototype.leaveKey=function(l,d,u){const f=this._reporterState;this.exitKey(l),f.obj!==null&&(f.obj[d]=u)},o.prototype.path=function(){return this._reporterState.path.join("/")},o.prototype.enterObject=function(){const l=this._reporterState,d=l.obj;return l.obj={},d},o.prototype.leaveObject=function(l){const d=this._reporterState,u=d.obj;return d.obj=l,u},o.prototype.error=function(l){let d;const u=this._reporterState,f=l instanceof c;if(d=f?l:new c(u.path.map(function(h){return"["+JSON.stringify(h)+"]"}).join(""),l.message||l,l.stack),!u.options.partial)throw d;return f||u.errors.push(d),d},o.prototype.wrapResult=function(l){const d=this._reporterState;return d.options.partial?{result:this.isError(l)?null:l,errors:d.errors}:l},i(c,Error),c.prototype.rethrow=function(l){if(this.message=l+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,c),!this.stack)try{throw new Error(this.message)}catch(d){this.stack=d.stack}return this}},{inherits:440}],176:[function(e,s,a){function i(o){const c={};return Object.keys(o).forEach(function(l){(0|l)==l&&(l|=0);const d=o[l];c[d]=l}),c}a.tagClass={0:"universal",1:"application",2:"context",3:"private"},a.tagClassByName=i(a.tagClass),a.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},a.tagByName=i(a.tag)},{}],177:[function(e,s,a){const i=a;i._reverse=function(o){const c={};return Object.keys(o).forEach(function(l){(0|l)==l&&(l|=0);const d=o[l];c[d]=l}),c},i.der=e("./der")},{"./der":176}],178:[function(e,s,a){const i=e("inherits"),o=e("bn.js"),c=e("../base/buffer").DecoderBuffer,l=e("../base/node"),d=e("../constants/der");function u(A){this.enc="der",this.name=A.name,this.entity=A,this.tree=new f,this.tree._init(A.body)}function f(A){l.call(this,"der",A)}function h(A,g){let p=A.readUInt8(g);if(A.isError(p))return p;const b=d.tagClass[p>>6],x=(32&p)==0;if((31&p)==31){let v=p;for(p=0;(128&v)==128;){if(v=A.readUInt8(g),A.isError(v))return v;p<<=7,p|=127&v}}else p&=31;return{cls:b,primitive:x,tag:p,tagStr:d.tag[p]}}function m(A,g,p){let b=A.readUInt8(p);if(A.isError(b))return b;if(!g&&b===128)return null;if(!(128&b))return b;const x=127&b;if(x>4)return A.error("length octect is too long");b=0;for(let v=0;v<x;v++){b<<=8;const y=A.readUInt8(p);if(A.isError(y))return y;b|=y}return b}s.exports=u,u.prototype.decode=function(A,g){return c.isDecoderBuffer(A)||(A=new c(A,g)),this.tree._decode(A,g)},i(f,l),f.prototype._peekTag=function(A,g,p){if(A.isEmpty())return!1;const b=A.save(),x=h(A,'Failed to peek tag: "'+g+'"');return A.isError(x)?x:(A.restore(b),x.tag===g||x.tagStr===g||x.tagStr+"of"===g||p)},f.prototype._decodeTag=function(A,g,p){const b=h(A,'Failed to decode tag of "'+g+'"');if(A.isError(b))return b;let x=m(A,b.primitive,'Failed to get length of "'+g+'"');if(A.isError(x))return x;if(!p&&b.tag!==g&&b.tagStr!==g&&b.tagStr+"of"!==g)return A.error('Failed to match tag: "'+g+'"');if(b.primitive||x!==null)return A.skip(x,'Failed to match body of: "'+g+'"');const v=A.save(),y=this._skipUntilEnd(A,'Failed to skip indefinite length body: "'+this.tag+'"');return A.isError(y)?y:(x=A.offset-v.offset,A.restore(v),A.skip(x,'Failed to match body of: "'+g+'"'))},f.prototype._skipUntilEnd=function(A,g){for(;;){const p=h(A,g);if(A.isError(p))return p;const b=m(A,p.primitive,g);if(A.isError(b))return b;let x;if(x=p.primitive||b!==null?A.skip(b):this._skipUntilEnd(A,g),A.isError(x))return x;if(p.tagStr==="end")break}},f.prototype._decodeList=function(A,g,p,b){const x=[];for(;!A.isEmpty();){const v=this._peekTag(A,"end");if(A.isError(v))return v;const y=p.decode(A,"der",b);if(A.isError(y)&&v)break;x.push(y)}return x},f.prototype._decodeStr=function(A,g){if(g==="bitstr"){const p=A.readUInt8();return A.isError(p)?p:{unused:p,data:A.raw()}}if(g==="bmpstr"){const p=A.raw();if(p.length%2==1)return A.error("Decoding of string type: bmpstr length mismatch");let b="";for(let x=0;x<p.length/2;x++)b+=String.fromCharCode(p.readUInt16BE(2*x));return b}if(g==="numstr"){const p=A.raw().toString("ascii");return this._isNumstr(p)?p:A.error("Decoding of string type: numstr unsupported characters")}if(g==="octstr"||g==="objDesc")return A.raw();if(g==="printstr"){const p=A.raw().toString("ascii");return this._isPrintstr(p)?p:A.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(g)?A.raw().toString():A.error("Decoding of string type: "+g+" unsupported")},f.prototype._decodeObjid=function(A,g,p){let b;const x=[];let v=0,y=0;for(;!A.isEmpty();)y=A.readUInt8(),v<<=7,v|=127&y,!(128&y)&&(x.push(v),v=0);128&y&&x.push(v);const S=x[0]/40|0,M=x[0]%40;if(b=p?x:[S,M].concat(x.slice(1)),g){let P=g[b.join(" ")];P===void 0&&(P=g[b.join(".")]),P!==void 0&&(b=P)}return b},f.prototype._decodeTime=function(A,g){const p=A.raw().toString();let b,x,v,y,S,M;if(g==="gentime")b=0|p.slice(0,4),x=0|p.slice(4,6),v=0|p.slice(6,8),y=0|p.slice(8,10),S=0|p.slice(10,12),M=0|p.slice(12,14);else{if(g!=="utctime")return A.error("Decoding "+g+" time is not supported yet");b=0|p.slice(0,2),x=0|p.slice(2,4),v=0|p.slice(4,6),y=0|p.slice(6,8),S=0|p.slice(8,10),M=0|p.slice(10,12),b=b<70?2e3+b:1900+b}return Date.UTC(b,x-1,v,y,S,M,0)},f.prototype._decodeNull=function(){return null},f.prototype._decodeBool=function(A){const g=A.readUInt8();return A.isError(g)?g:g!==0},f.prototype._decodeInt=function(A,g){const p=A.raw();let b=new o(p);return g&&(b=g[b.toString(10)]||b),b},f.prototype._use=function(A,g){return typeof A=="function"&&(A=A(g)),A._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,s,a){const i=a;i.der=e("./der"),i.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,s,a){const i=e("inherits"),o=e("safer-buffer").Buffer,c=e("./der");function l(d){c.call(this,d),this.enc="pem"}i(l,c),s.exports=l,l.prototype.decode=function(d,u){const f=d.toString().split(/[\r\n]+/g),h=u.label.toUpperCase(),m=/^-----(BEGIN|END) ([^-]+)-----$/;let A=-1,g=-1;for(let x=0;x<f.length;x++){const v=f[x].match(m);if(v!==null&&v[2]===h){if(A!==-1){if(v[1]!=="END")break;g=x;break}if(v[1]!=="BEGIN")break;A=x}}if(A===-1||g===-1)throw new Error("PEM section not found for: "+h);const p=f.slice(A+1,g).join("");p.replace(/[^a-z0-9+/=]+/gi,"");const b=o.from(p,"base64");return c.prototype.decode.call(this,b,u)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,s,a){const i=e("inherits"),o=e("safer-buffer").Buffer,c=e("../base/node"),l=e("../constants/der");function d(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new u,this.tree._init(h.body)}function u(h){c.call(this,"der",h)}function f(h){return h<10?"0"+h:h}s.exports=d,d.prototype.encode=function(h,m){return this.tree._encode(h,m).join()},i(u,c),u.prototype._encodeComposite=function(h,m,A,g){const p=function(v,y,S,M){let P;if(v==="seqof"?v="seq":v==="setof"&&(v="set"),l.tagByName.hasOwnProperty(v))P=l.tagByName[v];else{if(typeof v!="number"||(0|v)!==v)return M.error("Unknown tag: "+v);P=v}return P>=31?M.error("Multi-octet tag encoding unsupported"):(y||(P|=32),P|=l.tagClassByName[S||"universal"]<<6,P)}(h,m,A,this.reporter);if(g.length<128){const v=o.alloc(2);return v[0]=p,v[1]=g.length,this._createEncoderBuffer([v,g])}let b=1;for(let v=g.length;v>=256;v>>=8)b++;const x=o.alloc(2+b);x[0]=p,x[1]=128|b;for(let v=1+b,y=g.length;y>0;v--,y>>=8)x[v]=255&y;return this._createEncoderBuffer([x,g])},u.prototype._encodeStr=function(h,m){if(m==="bitstr")return this._createEncoderBuffer([0|h.unused,h.data]);if(m==="bmpstr"){const A=o.alloc(2*h.length);for(let g=0;g<h.length;g++)A.writeUInt16BE(h.charCodeAt(g),2*g);return this._createEncoderBuffer(A)}return m==="numstr"?this._isNumstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: numstr supports only digits and space"):m==="printstr"?this._isPrintstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(m)||m==="objDesc"?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: "+m+" unsupported")},u.prototype._encodeObjid=function(h,m,A){if(typeof h=="string"){if(!m)return this.reporter.error("string objid given, but no values map found");if(!m.hasOwnProperty(h))return this.reporter.error("objid not found in values map");h=m[h].split(/[\s.]+/g);for(let x=0;x<h.length;x++)h[x]|=0}else if(Array.isArray(h)){h=h.slice();for(let x=0;x<h.length;x++)h[x]|=0}if(!Array.isArray(h))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(h));if(!A){if(h[1]>=40)return this.reporter.error("Second objid identifier OOB");h.splice(0,2,40*h[0]+h[1])}let g=0;for(let x=0;x<h.length;x++){let v=h[x];for(g++;v>=128;v>>=7)g++}const p=o.alloc(g);let b=p.length-1;for(let x=h.length-1;x>=0;x--){let v=h[x];for(p[b--]=127&v;(v>>=7)>0;)p[b--]=128|127&v}return this._createEncoderBuffer(p)},u.prototype._encodeTime=function(h,m){let A;const g=new Date(h);return m==="gentime"?A=[f(g.getUTCFullYear()),f(g.getUTCMonth()+1),f(g.getUTCDate()),f(g.getUTCHours()),f(g.getUTCMinutes()),f(g.getUTCSeconds()),"Z"].join(""):m==="utctime"?A=[f(g.getUTCFullYear()%100),f(g.getUTCMonth()+1),f(g.getUTCDate()),f(g.getUTCHours()),f(g.getUTCMinutes()),f(g.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+m+" time is not supported yet"),this._encodeStr(A,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(h,m){if(typeof h=="string"){if(!m)return this.reporter.error("String int or enum given, but no values map");if(!m.hasOwnProperty(h))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(h));h=m[h]}if(typeof h!="number"&&!o.isBuffer(h)){const p=h.toArray();!h.sign&&128&p[0]&&p.unshift(0),h=o.from(p)}if(o.isBuffer(h)){let p=h.length;h.length===0&&p++;const b=o.alloc(p);return h.copy(b),h.length===0&&(b[0]=0),this._createEncoderBuffer(b)}if(h<128)return this._createEncoderBuffer(h);if(h<256)return this._createEncoderBuffer([0,h]);let A=1;for(let p=h;p>=256;p>>=8)A++;const g=new Array(A);for(let p=g.length-1;p>=0;p--)g[p]=255&h,h>>=8;return 128&g[0]&&g.unshift(0),this._createEncoderBuffer(o.from(g))},u.prototype._encodeBool=function(h){return this._createEncoderBuffer(h?255:0)},u.prototype._use=function(h,m){return typeof h=="function"&&(h=h(m)),h._getEncoder("der").tree},u.prototype._skipDefault=function(h,m,A){const g=this._baseState;let p;if(g.default===null)return!1;const b=h.join();if(g.defaultBuffer===void 0&&(g.defaultBuffer=this._encodeValue(g.default,m,A).join()),b.length!==g.defaultBuffer.length)return!1;for(p=0;p<b.length;p++)if(b[p]!==g.defaultBuffer[p])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,s,a){const i=a;i.der=e("./der"),i.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,s,a){const i=e("inherits"),o=e("./der");function c(l){o.call(this,l),this.enc="pem"}i(c,o),s.exports=c,c.prototype.encode=function(l,d){const u=o.prototype.encode.call(this,l).toString("base64"),f=["-----BEGIN "+d.label+"-----"];for(let h=0;h<u.length;h+=64)f.push(u.slice(h,h+64));return f.push("-----END "+d.label+"-----"),f.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,s,a){(function(i,o){function c(_,E){if(!_)throw new Error(E||"Assertion failed")}function l(_,E){_.super_=E;var T=function(){};T.prototype=E.prototype,_.prototype=new T,_.prototype.constructor=_}function d(_,E,T){if(d.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&(E!=="le"&&E!=="be"||(T=E,E=10),this._init(_||0,E||10,T||"be"))}var u;typeof i=="object"?i.exports=d:(void 0).BN=d,d.BN=d,d.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function f(_,E){var T=_.charCodeAt(E);return T>=65&&T<=70?T-55:T>=97&&T<=102?T-87:T-48&15}function h(_,E,T){var w=f(_,T);return T-1>=E&&(w|=f(_,T-1)<<4),w}function m(_,E,T,w){for(var C=0,j=Math.min(_.length,T),N=E;N<j;N++){var I=_.charCodeAt(N)-48;C*=w,C+=I>=49?I-49+10:I>=17?I-17+10:I}return C}d.isBN=function(_){return _ instanceof d||_!==null&&typeof _=="object"&&_.constructor.wordSize===d.wordSize&&Array.isArray(_.words)},d.max=function(_,E){return _.cmp(E)>0?_:E},d.min=function(_,E){return _.cmp(E)<0?_:E},d.prototype._init=function(_,E,T){if(typeof _=="number")return this._initNumber(_,E,T);if(typeof _=="object")return this._initArray(_,E,T);E==="hex"&&(E=16),c(E===(0|E)&&E>=2&&E<=36);var w=0;(_=_.toString().replace(/\s+/g,""))[0]==="-"&&(w++,this.negative=1),w<_.length&&(E===16?this._parseHex(_,w,T):(this._parseBase(_,E,w),T==="le"&&this._initArray(this.toArray(),E,T)))},d.prototype._initNumber=function(_,E,T){_<0&&(this.negative=1,_=-_),_<67108864?(this.words=[67108863&_],this.length=1):_<4503599627370496?(this.words=[67108863&_,_/67108864&67108863],this.length=2):(c(_<9007199254740992),this.words=[67108863&_,_/67108864&67108863,1],this.length=3),T==="le"&&this._initArray(this.toArray(),E,T)},d.prototype._initArray=function(_,E,T){if(c(typeof _.length=="number"),_.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(_.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var C,j,N=0;if(T==="be")for(w=_.length-1,C=0;w>=0;w-=3)j=_[w]|_[w-1]<<8|_[w-2]<<16,this.words[C]|=j<<N&67108863,this.words[C+1]=j>>>26-N&67108863,(N+=24)>=26&&(N-=26,C++);else if(T==="le")for(w=0,C=0;w<_.length;w+=3)j=_[w]|_[w+1]<<8|_[w+2]<<16,this.words[C]|=j<<N&67108863,this.words[C+1]=j>>>26-N&67108863,(N+=24)>=26&&(N-=26,C++);return this.strip()},d.prototype._parseHex=function(_,E,T){this.length=Math.ceil((_.length-E)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var C,j=0,N=0;if(T==="be")for(w=_.length-1;w>=E;w-=2)C=h(_,E,w)<<j,this.words[N]|=67108863&C,j>=18?(j-=18,N+=1,this.words[N]|=C>>>26):j+=8;else for(w=(_.length-E)%2==0?E+1:E;w<_.length;w+=2)C=h(_,E,w)<<j,this.words[N]|=67108863&C,j>=18?(j-=18,N+=1,this.words[N]|=C>>>26):j+=8;this.strip()},d.prototype._parseBase=function(_,E,T){this.words=[0],this.length=1;for(var w=0,C=1;C<=67108863;C*=E)w++;w--,C=C/E|0;for(var j=_.length-T,N=j%w,I=Math.min(j,j-N)+T,R=0,U=T;U<I;U+=w)R=m(_,U,U+w,E),this.imuln(C),this.words[0]+R<67108864?this.words[0]+=R:this._iaddn(R);if(N!==0){var V=1;for(R=m(_,U,_.length,E),U=0;U<N;U++)V*=E;this.imuln(V),this.words[0]+R<67108864?this.words[0]+=R:this._iaddn(R)}this.strip()},d.prototype.copy=function(_){_.words=new Array(this.length);for(var E=0;E<this.length;E++)_.words[E]=this.words[E];_.length=this.length,_.negative=this.negative,_.red=this.red},d.prototype.clone=function(){var _=new d(null);return this.copy(_),_},d.prototype._expand=function(_){for(;this.length<_;)this.words[this.length++]=0;return this},d.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},d.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},d.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var A=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function b(_,E,T){T.negative=E.negative^_.negative;var w=_.length+E.length|0;T.length=w,w=w-1|0;var C=0|_.words[0],j=0|E.words[0],N=C*j,I=67108863&N,R=N/67108864|0;T.words[0]=I;for(var U=1;U<w;U++){for(var V=R>>>26,z=67108863&R,X=Math.min(U,E.length-1),Q=Math.max(0,U-_.length+1);Q<=X;Q++){var q=U-Q|0;V+=(N=(C=0|_.words[q])*(j=0|E.words[Q])+z)/67108864|0,z=67108863&N}T.words[U]=0|z,R=0|V}return R!==0?T.words[U]=0|R:T.length--,T.strip()}d.prototype.toString=function(_,E){var T;if(E=0|E||1,(_=_||10)===16||_==="hex"){T="";for(var w=0,C=0,j=0;j<this.length;j++){var N=this.words[j],I=(16777215&(N<<w|C)).toString(16);T=(C=N>>>24-w&16777215)!==0||j!==this.length-1?A[6-I.length]+I+T:I+T,(w+=2)>=26&&(w-=26,j--)}for(C!==0&&(T=C.toString(16)+T);T.length%E!=0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}if(_===(0|_)&&_>=2&&_<=36){var R=g[_],U=p[_];T="";var V=this.clone();for(V.negative=0;!V.isZero();){var z=V.modn(U).toString(_);T=(V=V.idivn(U)).isZero()?z+T:A[R-z.length]+z+T}for(this.isZero()&&(T="0"+T);T.length%E!=0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}c(!1,"Base should be between 2 and 36")},d.prototype.toNumber=function(){var _=this.words[0];return this.length===2?_+=67108864*this.words[1]:this.length===3&&this.words[2]===1?_+=4503599627370496+67108864*this.words[1]:this.length>2&&c(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-_:_},d.prototype.toJSON=function(){return this.toString(16)},d.prototype.toBuffer=function(_,E){return c(u!==void 0),this.toArrayLike(u,_,E)},d.prototype.toArray=function(_,E){return this.toArrayLike(Array,_,E)},d.prototype.toArrayLike=function(_,E,T){var w=this.byteLength(),C=T||Math.max(1,w);c(w<=C,"byte array longer than desired length"),c(C>0,"Requested array length <= 0"),this.strip();var j,N,I=E==="le",R=new _(C),U=this.clone();if(I){for(N=0;!U.isZero();N++)j=U.andln(255),U.iushrn(8),R[N]=j;for(;N<C;N++)R[N]=0}else{for(N=0;N<C-w;N++)R[N]=0;for(N=0;!U.isZero();N++)j=U.andln(255),U.iushrn(8),R[C-N-1]=j}return R},Math.clz32?d.prototype._countBits=function(_){return 32-Math.clz32(_)}:d.prototype._countBits=function(_){var E=_,T=0;return E>=4096&&(T+=13,E>>>=13),E>=64&&(T+=7,E>>>=7),E>=8&&(T+=4,E>>>=4),E>=2&&(T+=2,E>>>=2),T+E},d.prototype._zeroBits=function(_){if(_===0)return 26;var E=_,T=0;return!(8191&E)&&(T+=13,E>>>=13),!(127&E)&&(T+=7,E>>>=7),!(15&E)&&(T+=4,E>>>=4),!(3&E)&&(T+=2,E>>>=2),!(1&E)&&T++,T},d.prototype.bitLength=function(){var _=this.words[this.length-1],E=this._countBits(_);return 26*(this.length-1)+E},d.prototype.zeroBits=function(){if(this.isZero())return 0;for(var _=0,E=0;E<this.length;E++){var T=this._zeroBits(this.words[E]);if(_+=T,T!==26)break}return _},d.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},d.prototype.toTwos=function(_){return this.negative!==0?this.abs().inotn(_).iaddn(1):this.clone()},d.prototype.fromTwos=function(_){return this.testn(_-1)?this.notn(_).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function(){return this.negative!==0},d.prototype.neg=function(){return this.clone().ineg()},d.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function(_){for(;this.length<_.length;)this.words[this.length++]=0;for(var E=0;E<_.length;E++)this.words[E]=this.words[E]|_.words[E];return this.strip()},d.prototype.ior=function(_){return c((this.negative|_.negative)==0),this.iuor(_)},d.prototype.or=function(_){return this.length>_.length?this.clone().ior(_):_.clone().ior(this)},d.prototype.uor=function(_){return this.length>_.length?this.clone().iuor(_):_.clone().iuor(this)},d.prototype.iuand=function(_){var E;E=this.length>_.length?_:this;for(var T=0;T<E.length;T++)this.words[T]=this.words[T]&_.words[T];return this.length=E.length,this.strip()},d.prototype.iand=function(_){return c((this.negative|_.negative)==0),this.iuand(_)},d.prototype.and=function(_){return this.length>_.length?this.clone().iand(_):_.clone().iand(this)},d.prototype.uand=function(_){return this.length>_.length?this.clone().iuand(_):_.clone().iuand(this)},d.prototype.iuxor=function(_){var E,T;this.length>_.length?(E=this,T=_):(E=_,T=this);for(var w=0;w<T.length;w++)this.words[w]=E.words[w]^T.words[w];if(this!==E)for(;w<E.length;w++)this.words[w]=E.words[w];return this.length=E.length,this.strip()},d.prototype.ixor=function(_){return c((this.negative|_.negative)==0),this.iuxor(_)},d.prototype.xor=function(_){return this.length>_.length?this.clone().ixor(_):_.clone().ixor(this)},d.prototype.uxor=function(_){return this.length>_.length?this.clone().iuxor(_):_.clone().iuxor(this)},d.prototype.inotn=function(_){c(typeof _=="number"&&_>=0);var E=0|Math.ceil(_/26),T=_%26;this._expand(E),T>0&&E--;for(var w=0;w<E;w++)this.words[w]=67108863&~this.words[w];return T>0&&(this.words[w]=~this.words[w]&67108863>>26-T),this.strip()},d.prototype.notn=function(_){return this.clone().inotn(_)},d.prototype.setn=function(_,E){c(typeof _=="number"&&_>=0);var T=_/26|0,w=_%26;return this._expand(T+1),this.words[T]=E?this.words[T]|1<<w:this.words[T]&~(1<<w),this.strip()},d.prototype.iadd=function(_){var E,T,w;if(this.negative!==0&&_.negative===0)return this.negative=0,E=this.isub(_),this.negative^=1,this._normSign();if(this.negative===0&&_.negative!==0)return _.negative=0,E=this.isub(_),_.negative=1,E._normSign();this.length>_.length?(T=this,w=_):(T=_,w=this);for(var C=0,j=0;j<w.length;j++)E=(0|T.words[j])+(0|w.words[j])+C,this.words[j]=67108863&E,C=E>>>26;for(;C!==0&&j<T.length;j++)E=(0|T.words[j])+C,this.words[j]=67108863&E,C=E>>>26;if(this.length=T.length,C!==0)this.words[this.length]=C,this.length++;else if(T!==this)for(;j<T.length;j++)this.words[j]=T.words[j];return this},d.prototype.add=function(_){var E;return _.negative!==0&&this.negative===0?(_.negative=0,E=this.sub(_),_.negative^=1,E):_.negative===0&&this.negative!==0?(this.negative=0,E=_.sub(this),this.negative=1,E):this.length>_.length?this.clone().iadd(_):_.clone().iadd(this)},d.prototype.isub=function(_){if(_.negative!==0){_.negative=0;var E=this.iadd(_);return _.negative=1,E._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(_),this.negative=1,this._normSign();var T,w,C=this.cmp(_);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;C>0?(T=this,w=_):(T=_,w=this);for(var j=0,N=0;N<w.length;N++)j=(E=(0|T.words[N])-(0|w.words[N])+j)>>26,this.words[N]=67108863&E;for(;j!==0&&N<T.length;N++)j=(E=(0|T.words[N])+j)>>26,this.words[N]=67108863&E;if(j===0&&N<T.length&&T!==this)for(;N<T.length;N++)this.words[N]=T.words[N];return this.length=Math.max(this.length,N),T!==this&&(this.negative=1),this.strip()},d.prototype.sub=function(_){return this.clone().isub(_)};var x=function(_,E,T){var w,C,j,N=_.words,I=E.words,R=T.words,U=0,V=0|N[0],z=8191&V,X=V>>>13,Q=0|N[1],q=8191&Q,H=Q>>>13,$=0|N[2],G=8191&$,J=$>>>13,te=0|N[3],K=8191&te,ne=te>>>13,ce=0|N[4],oe=8191&ce,ee=ce>>>13,W=0|N[5],Y=8191&W,Z=W>>>13,se=0|N[6],re=8191&se,le=se>>>13,ae=0|N[7],ue=8191&ae,he=ae>>>13,pe=0|N[8],Ae=8191&pe,ie=pe>>>13,de=0|N[9],me=8191&de,ve=de>>>13,Me=0|I[0],Be=8191&Me,xe=Me>>>13,Te=0|I[1],_e=8191&Te,Pe=Te>>>13,be=0|I[2],Ee=8191&be,ge=be>>>13,Se=0|I[3],Ie=8191&Se,ze=Se>>>13,Le=0|I[4],$e=8191&Le,et=Le>>>13,jt=0|I[5],At=8191&jt,Ut=jt>>>13,ut=0|I[6],ft=8191&ut,ke=ut>>>13,Re=0|I[7],Ke=8191&Re,it=Re>>>13,$t=0|I[8],gt=8191&$t,Dt=$t>>>13,Qt=0|I[9],Pt=8191&Qt,en=Qt>>>13;T.negative=_.negative^E.negative,T.length=19;var Jt=(U+(w=Math.imul(z,Be))|0)+((8191&(C=(C=Math.imul(z,xe))+Math.imul(X,Be)|0))<<13)|0;U=((j=Math.imul(X,xe))+(C>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,w=Math.imul(q,Be),C=(C=Math.imul(q,xe))+Math.imul(H,Be)|0,j=Math.imul(H,xe);var An=(U+(w=w+Math.imul(z,_e)|0)|0)+((8191&(C=(C=C+Math.imul(z,Pe)|0)+Math.imul(X,_e)|0))<<13)|0;U=((j=j+Math.imul(X,Pe)|0)+(C>>>13)|0)+(An>>>26)|0,An&=67108863,w=Math.imul(G,Be),C=(C=Math.imul(G,xe))+Math.imul(J,Be)|0,j=Math.imul(J,xe),w=w+Math.imul(q,_e)|0,C=(C=C+Math.imul(q,Pe)|0)+Math.imul(H,_e)|0,j=j+Math.imul(H,Pe)|0;var vt=(U+(w=w+Math.imul(z,Ee)|0)|0)+((8191&(C=(C=C+Math.imul(z,ge)|0)+Math.imul(X,Ee)|0))<<13)|0;U=((j=j+Math.imul(X,ge)|0)+(C>>>13)|0)+(vt>>>26)|0,vt&=67108863,w=Math.imul(K,Be),C=(C=Math.imul(K,xe))+Math.imul(ne,Be)|0,j=Math.imul(ne,xe),w=w+Math.imul(G,_e)|0,C=(C=C+Math.imul(G,Pe)|0)+Math.imul(J,_e)|0,j=j+Math.imul(J,Pe)|0,w=w+Math.imul(q,Ee)|0,C=(C=C+Math.imul(q,ge)|0)+Math.imul(H,Ee)|0,j=j+Math.imul(H,ge)|0;var De=(U+(w=w+Math.imul(z,Ie)|0)|0)+((8191&(C=(C=C+Math.imul(z,ze)|0)+Math.imul(X,Ie)|0))<<13)|0;U=((j=j+Math.imul(X,ze)|0)+(C>>>13)|0)+(De>>>26)|0,De&=67108863,w=Math.imul(oe,Be),C=(C=Math.imul(oe,xe))+Math.imul(ee,Be)|0,j=Math.imul(ee,xe),w=w+Math.imul(K,_e)|0,C=(C=C+Math.imul(K,Pe)|0)+Math.imul(ne,_e)|0,j=j+Math.imul(ne,Pe)|0,w=w+Math.imul(G,Ee)|0,C=(C=C+Math.imul(G,ge)|0)+Math.imul(J,Ee)|0,j=j+Math.imul(J,ge)|0,w=w+Math.imul(q,Ie)|0,C=(C=C+Math.imul(q,ze)|0)+Math.imul(H,Ie)|0,j=j+Math.imul(H,ze)|0;var Je=(U+(w=w+Math.imul(z,$e)|0)|0)+((8191&(C=(C=C+Math.imul(z,et)|0)+Math.imul(X,$e)|0))<<13)|0;U=((j=j+Math.imul(X,et)|0)+(C>>>13)|0)+(Je>>>26)|0,Je&=67108863,w=Math.imul(Y,Be),C=(C=Math.imul(Y,xe))+Math.imul(Z,Be)|0,j=Math.imul(Z,xe),w=w+Math.imul(oe,_e)|0,C=(C=C+Math.imul(oe,Pe)|0)+Math.imul(ee,_e)|0,j=j+Math.imul(ee,Pe)|0,w=w+Math.imul(K,Ee)|0,C=(C=C+Math.imul(K,ge)|0)+Math.imul(ne,Ee)|0,j=j+Math.imul(ne,ge)|0,w=w+Math.imul(G,Ie)|0,C=(C=C+Math.imul(G,ze)|0)+Math.imul(J,Ie)|0,j=j+Math.imul(J,ze)|0,w=w+Math.imul(q,$e)|0,C=(C=C+Math.imul(q,et)|0)+Math.imul(H,$e)|0,j=j+Math.imul(H,et)|0;var pt=(U+(w=w+Math.imul(z,At)|0)|0)+((8191&(C=(C=C+Math.imul(z,Ut)|0)+Math.imul(X,At)|0))<<13)|0;U=((j=j+Math.imul(X,Ut)|0)+(C>>>13)|0)+(pt>>>26)|0,pt&=67108863,w=Math.imul(re,Be),C=(C=Math.imul(re,xe))+Math.imul(le,Be)|0,j=Math.imul(le,xe),w=w+Math.imul(Y,_e)|0,C=(C=C+Math.imul(Y,Pe)|0)+Math.imul(Z,_e)|0,j=j+Math.imul(Z,Pe)|0,w=w+Math.imul(oe,Ee)|0,C=(C=C+Math.imul(oe,ge)|0)+Math.imul(ee,Ee)|0,j=j+Math.imul(ee,ge)|0,w=w+Math.imul(K,Ie)|0,C=(C=C+Math.imul(K,ze)|0)+Math.imul(ne,Ie)|0,j=j+Math.imul(ne,ze)|0,w=w+Math.imul(G,$e)|0,C=(C=C+Math.imul(G,et)|0)+Math.imul(J,$e)|0,j=j+Math.imul(J,et)|0,w=w+Math.imul(q,At)|0,C=(C=C+Math.imul(q,Ut)|0)+Math.imul(H,At)|0,j=j+Math.imul(H,Ut)|0;var pn=(U+(w=w+Math.imul(z,ft)|0)|0)+((8191&(C=(C=C+Math.imul(z,ke)|0)+Math.imul(X,ft)|0))<<13)|0;U=((j=j+Math.imul(X,ke)|0)+(C>>>13)|0)+(pn>>>26)|0,pn&=67108863,w=Math.imul(ue,Be),C=(C=Math.imul(ue,xe))+Math.imul(he,Be)|0,j=Math.imul(he,xe),w=w+Math.imul(re,_e)|0,C=(C=C+Math.imul(re,Pe)|0)+Math.imul(le,_e)|0,j=j+Math.imul(le,Pe)|0,w=w+Math.imul(Y,Ee)|0,C=(C=C+Math.imul(Y,ge)|0)+Math.imul(Z,Ee)|0,j=j+Math.imul(Z,ge)|0,w=w+Math.imul(oe,Ie)|0,C=(C=C+Math.imul(oe,ze)|0)+Math.imul(ee,Ie)|0,j=j+Math.imul(ee,ze)|0,w=w+Math.imul(K,$e)|0,C=(C=C+Math.imul(K,et)|0)+Math.imul(ne,$e)|0,j=j+Math.imul(ne,et)|0,w=w+Math.imul(G,At)|0,C=(C=C+Math.imul(G,Ut)|0)+Math.imul(J,At)|0,j=j+Math.imul(J,Ut)|0,w=w+Math.imul(q,ft)|0,C=(C=C+Math.imul(q,ke)|0)+Math.imul(H,ft)|0,j=j+Math.imul(H,ke)|0;var ye=(U+(w=w+Math.imul(z,Ke)|0)|0)+((8191&(C=(C=C+Math.imul(z,it)|0)+Math.imul(X,Ke)|0))<<13)|0;U=((j=j+Math.imul(X,it)|0)+(C>>>13)|0)+(ye>>>26)|0,ye&=67108863,w=Math.imul(Ae,Be),C=(C=Math.imul(Ae,xe))+Math.imul(ie,Be)|0,j=Math.imul(ie,xe),w=w+Math.imul(ue,_e)|0,C=(C=C+Math.imul(ue,Pe)|0)+Math.imul(he,_e)|0,j=j+Math.imul(he,Pe)|0,w=w+Math.imul(re,Ee)|0,C=(C=C+Math.imul(re,ge)|0)+Math.imul(le,Ee)|0,j=j+Math.imul(le,ge)|0,w=w+Math.imul(Y,Ie)|0,C=(C=C+Math.imul(Y,ze)|0)+Math.imul(Z,Ie)|0,j=j+Math.imul(Z,ze)|0,w=w+Math.imul(oe,$e)|0,C=(C=C+Math.imul(oe,et)|0)+Math.imul(ee,$e)|0,j=j+Math.imul(ee,et)|0,w=w+Math.imul(K,At)|0,C=(C=C+Math.imul(K,Ut)|0)+Math.imul(ne,At)|0,j=j+Math.imul(ne,Ut)|0,w=w+Math.imul(G,ft)|0,C=(C=C+Math.imul(G,ke)|0)+Math.imul(J,ft)|0,j=j+Math.imul(J,ke)|0,w=w+Math.imul(q,Ke)|0,C=(C=C+Math.imul(q,it)|0)+Math.imul(H,Ke)|0,j=j+Math.imul(H,it)|0;var Fe=(U+(w=w+Math.imul(z,gt)|0)|0)+((8191&(C=(C=C+Math.imul(z,Dt)|0)+Math.imul(X,gt)|0))<<13)|0;U=((j=j+Math.imul(X,Dt)|0)+(C>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,w=Math.imul(me,Be),C=(C=Math.imul(me,xe))+Math.imul(ve,Be)|0,j=Math.imul(ve,xe),w=w+Math.imul(Ae,_e)|0,C=(C=C+Math.imul(Ae,Pe)|0)+Math.imul(ie,_e)|0,j=j+Math.imul(ie,Pe)|0,w=w+Math.imul(ue,Ee)|0,C=(C=C+Math.imul(ue,ge)|0)+Math.imul(he,Ee)|0,j=j+Math.imul(he,ge)|0,w=w+Math.imul(re,Ie)|0,C=(C=C+Math.imul(re,ze)|0)+Math.imul(le,Ie)|0,j=j+Math.imul(le,ze)|0,w=w+Math.imul(Y,$e)|0,C=(C=C+Math.imul(Y,et)|0)+Math.imul(Z,$e)|0,j=j+Math.imul(Z,et)|0,w=w+Math.imul(oe,At)|0,C=(C=C+Math.imul(oe,Ut)|0)+Math.imul(ee,At)|0,j=j+Math.imul(ee,Ut)|0,w=w+Math.imul(K,ft)|0,C=(C=C+Math.imul(K,ke)|0)+Math.imul(ne,ft)|0,j=j+Math.imul(ne,ke)|0,w=w+Math.imul(G,Ke)|0,C=(C=C+Math.imul(G,it)|0)+Math.imul(J,Ke)|0,j=j+Math.imul(J,it)|0,w=w+Math.imul(q,gt)|0,C=(C=C+Math.imul(q,Dt)|0)+Math.imul(H,gt)|0,j=j+Math.imul(H,Dt)|0;var We=(U+(w=w+Math.imul(z,Pt)|0)|0)+((8191&(C=(C=C+Math.imul(z,en)|0)+Math.imul(X,Pt)|0))<<13)|0;U=((j=j+Math.imul(X,en)|0)+(C>>>13)|0)+(We>>>26)|0,We&=67108863,w=Math.imul(me,_e),C=(C=Math.imul(me,Pe))+Math.imul(ve,_e)|0,j=Math.imul(ve,Pe),w=w+Math.imul(Ae,Ee)|0,C=(C=C+Math.imul(Ae,ge)|0)+Math.imul(ie,Ee)|0,j=j+Math.imul(ie,ge)|0,w=w+Math.imul(ue,Ie)|0,C=(C=C+Math.imul(ue,ze)|0)+Math.imul(he,Ie)|0,j=j+Math.imul(he,ze)|0,w=w+Math.imul(re,$e)|0,C=(C=C+Math.imul(re,et)|0)+Math.imul(le,$e)|0,j=j+Math.imul(le,et)|0,w=w+Math.imul(Y,At)|0,C=(C=C+Math.imul(Y,Ut)|0)+Math.imul(Z,At)|0,j=j+Math.imul(Z,Ut)|0,w=w+Math.imul(oe,ft)|0,C=(C=C+Math.imul(oe,ke)|0)+Math.imul(ee,ft)|0,j=j+Math.imul(ee,ke)|0,w=w+Math.imul(K,Ke)|0,C=(C=C+Math.imul(K,it)|0)+Math.imul(ne,Ke)|0,j=j+Math.imul(ne,it)|0,w=w+Math.imul(G,gt)|0,C=(C=C+Math.imul(G,Dt)|0)+Math.imul(J,gt)|0,j=j+Math.imul(J,Dt)|0;var Ze=(U+(w=w+Math.imul(q,Pt)|0)|0)+((8191&(C=(C=C+Math.imul(q,en)|0)+Math.imul(H,Pt)|0))<<13)|0;U=((j=j+Math.imul(H,en)|0)+(C>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,w=Math.imul(me,Ee),C=(C=Math.imul(me,ge))+Math.imul(ve,Ee)|0,j=Math.imul(ve,ge),w=w+Math.imul(Ae,Ie)|0,C=(C=C+Math.imul(Ae,ze)|0)+Math.imul(ie,Ie)|0,j=j+Math.imul(ie,ze)|0,w=w+Math.imul(ue,$e)|0,C=(C=C+Math.imul(ue,et)|0)+Math.imul(he,$e)|0,j=j+Math.imul(he,et)|0,w=w+Math.imul(re,At)|0,C=(C=C+Math.imul(re,Ut)|0)+Math.imul(le,At)|0,j=j+Math.imul(le,Ut)|0,w=w+Math.imul(Y,ft)|0,C=(C=C+Math.imul(Y,ke)|0)+Math.imul(Z,ft)|0,j=j+Math.imul(Z,ke)|0,w=w+Math.imul(oe,Ke)|0,C=(C=C+Math.imul(oe,it)|0)+Math.imul(ee,Ke)|0,j=j+Math.imul(ee,it)|0,w=w+Math.imul(K,gt)|0,C=(C=C+Math.imul(K,Dt)|0)+Math.imul(ne,gt)|0,j=j+Math.imul(ne,Dt)|0;var _t=(U+(w=w+Math.imul(G,Pt)|0)|0)+((8191&(C=(C=C+Math.imul(G,en)|0)+Math.imul(J,Pt)|0))<<13)|0;U=((j=j+Math.imul(J,en)|0)+(C>>>13)|0)+(_t>>>26)|0,_t&=67108863,w=Math.imul(me,Ie),C=(C=Math.imul(me,ze))+Math.imul(ve,Ie)|0,j=Math.imul(ve,ze),w=w+Math.imul(Ae,$e)|0,C=(C=C+Math.imul(Ae,et)|0)+Math.imul(ie,$e)|0,j=j+Math.imul(ie,et)|0,w=w+Math.imul(ue,At)|0,C=(C=C+Math.imul(ue,Ut)|0)+Math.imul(he,At)|0,j=j+Math.imul(he,Ut)|0,w=w+Math.imul(re,ft)|0,C=(C=C+Math.imul(re,ke)|0)+Math.imul(le,ft)|0,j=j+Math.imul(le,ke)|0,w=w+Math.imul(Y,Ke)|0,C=(C=C+Math.imul(Y,it)|0)+Math.imul(Z,Ke)|0,j=j+Math.imul(Z,it)|0,w=w+Math.imul(oe,gt)|0,C=(C=C+Math.imul(oe,Dt)|0)+Math.imul(ee,gt)|0,j=j+Math.imul(ee,Dt)|0;var ot=(U+(w=w+Math.imul(K,Pt)|0)|0)+((8191&(C=(C=C+Math.imul(K,en)|0)+Math.imul(ne,Pt)|0))<<13)|0;U=((j=j+Math.imul(ne,en)|0)+(C>>>13)|0)+(ot>>>26)|0,ot&=67108863,w=Math.imul(me,$e),C=(C=Math.imul(me,et))+Math.imul(ve,$e)|0,j=Math.imul(ve,et),w=w+Math.imul(Ae,At)|0,C=(C=C+Math.imul(Ae,Ut)|0)+Math.imul(ie,At)|0,j=j+Math.imul(ie,Ut)|0,w=w+Math.imul(ue,ft)|0,C=(C=C+Math.imul(ue,ke)|0)+Math.imul(he,ft)|0,j=j+Math.imul(he,ke)|0,w=w+Math.imul(re,Ke)|0,C=(C=C+Math.imul(re,it)|0)+Math.imul(le,Ke)|0,j=j+Math.imul(le,it)|0,w=w+Math.imul(Y,gt)|0,C=(C=C+Math.imul(Y,Dt)|0)+Math.imul(Z,gt)|0,j=j+Math.imul(Z,Dt)|0;var nt=(U+(w=w+Math.imul(oe,Pt)|0)|0)+((8191&(C=(C=C+Math.imul(oe,en)|0)+Math.imul(ee,Pt)|0))<<13)|0;U=((j=j+Math.imul(ee,en)|0)+(C>>>13)|0)+(nt>>>26)|0,nt&=67108863,w=Math.imul(me,At),C=(C=Math.imul(me,Ut))+Math.imul(ve,At)|0,j=Math.imul(ve,Ut),w=w+Math.imul(Ae,ft)|0,C=(C=C+Math.imul(Ae,ke)|0)+Math.imul(ie,ft)|0,j=j+Math.imul(ie,ke)|0,w=w+Math.imul(ue,Ke)|0,C=(C=C+Math.imul(ue,it)|0)+Math.imul(he,Ke)|0,j=j+Math.imul(he,it)|0,w=w+Math.imul(re,gt)|0,C=(C=C+Math.imul(re,Dt)|0)+Math.imul(le,gt)|0,j=j+Math.imul(le,Dt)|0;var Cn=(U+(w=w+Math.imul(Y,Pt)|0)|0)+((8191&(C=(C=C+Math.imul(Y,en)|0)+Math.imul(Z,Pt)|0))<<13)|0;U=((j=j+Math.imul(Z,en)|0)+(C>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,w=Math.imul(me,ft),C=(C=Math.imul(me,ke))+Math.imul(ve,ft)|0,j=Math.imul(ve,ke),w=w+Math.imul(Ae,Ke)|0,C=(C=C+Math.imul(Ae,it)|0)+Math.imul(ie,Ke)|0,j=j+Math.imul(ie,it)|0,w=w+Math.imul(ue,gt)|0,C=(C=C+Math.imul(ue,Dt)|0)+Math.imul(he,gt)|0,j=j+Math.imul(he,Dt)|0;var dn=(U+(w=w+Math.imul(re,Pt)|0)|0)+((8191&(C=(C=C+Math.imul(re,en)|0)+Math.imul(le,Pt)|0))<<13)|0;U=((j=j+Math.imul(le,en)|0)+(C>>>13)|0)+(dn>>>26)|0,dn&=67108863,w=Math.imul(me,Ke),C=(C=Math.imul(me,it))+Math.imul(ve,Ke)|0,j=Math.imul(ve,it),w=w+Math.imul(Ae,gt)|0,C=(C=C+Math.imul(Ae,Dt)|0)+Math.imul(ie,gt)|0,j=j+Math.imul(ie,Dt)|0;var vn=(U+(w=w+Math.imul(ue,Pt)|0)|0)+((8191&(C=(C=C+Math.imul(ue,en)|0)+Math.imul(he,Pt)|0))<<13)|0;U=((j=j+Math.imul(he,en)|0)+(C>>>13)|0)+(vn>>>26)|0,vn&=67108863,w=Math.imul(me,gt),C=(C=Math.imul(me,Dt))+Math.imul(ve,gt)|0,j=Math.imul(ve,Dt);var Gt=(U+(w=w+Math.imul(Ae,Pt)|0)|0)+((8191&(C=(C=C+Math.imul(Ae,en)|0)+Math.imul(ie,Pt)|0))<<13)|0;U=((j=j+Math.imul(ie,en)|0)+(C>>>13)|0)+(Gt>>>26)|0,Gt&=67108863;var Qn=(U+(w=Math.imul(me,Pt))|0)+((8191&(C=(C=Math.imul(me,en))+Math.imul(ve,Pt)|0))<<13)|0;return U=((j=Math.imul(ve,en))+(C>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,R[0]=Jt,R[1]=An,R[2]=vt,R[3]=De,R[4]=Je,R[5]=pt,R[6]=pn,R[7]=ye,R[8]=Fe,R[9]=We,R[10]=Ze,R[11]=_t,R[12]=ot,R[13]=nt,R[14]=Cn,R[15]=dn,R[16]=vn,R[17]=Gt,R[18]=Qn,U!==0&&(R[19]=U,T.length++),T};function v(_,E,T){return new y().mulp(_,E,T)}function y(_,E){this.x=_,this.y=E}Math.imul||(x=b),d.prototype.mulTo=function(_,E){var T=this.length+_.length;return this.length===10&&_.length===10?x(this,_,E):T<63?b(this,_,E):T<1024?function(w,C,j){j.negative=C.negative^w.negative,j.length=w.length+C.length;for(var N=0,I=0,R=0;R<j.length-1;R++){var U=I;I=0;for(var V=67108863&N,z=Math.min(R,C.length-1),X=Math.max(0,R-w.length+1);X<=z;X++){var Q=R-X,q=(0|w.words[Q])*(0|C.words[X]),H=67108863&q;V=67108863&(H=H+V|0),I+=(U=(U=U+(q/67108864|0)|0)+(H>>>26)|0)>>>26,U&=67108863}j.words[R]=V,N=U,U=I}return N!==0?j.words[R]=N:j.length--,j.strip()}(this,_,E):v(this,_,E)},y.prototype.makeRBT=function(_){for(var E=new Array(_),T=d.prototype._countBits(_)-1,w=0;w<_;w++)E[w]=this.revBin(w,T,_);return E},y.prototype.revBin=function(_,E,T){if(_===0||_===T-1)return _;for(var w=0,C=0;C<E;C++)w|=(1&_)<<E-C-1,_>>=1;return w},y.prototype.permute=function(_,E,T,w,C,j){for(var N=0;N<j;N++)w[N]=E[_[N]],C[N]=T[_[N]]},y.prototype.transform=function(_,E,T,w,C,j){this.permute(j,_,E,T,w,C);for(var N=1;N<C;N<<=1)for(var I=N<<1,R=Math.cos(2*Math.PI/I),U=Math.sin(2*Math.PI/I),V=0;V<C;V+=I)for(var z=R,X=U,Q=0;Q<N;Q++){var q=T[V+Q],H=w[V+Q],$=T[V+Q+N],G=w[V+Q+N],J=z*$-X*G;G=z*G+X*$,$=J,T[V+Q]=q+$,w[V+Q]=H+G,T[V+Q+N]=q-$,w[V+Q+N]=H-G,Q!==I&&(J=R*z-U*X,X=R*X+U*z,z=J)}},y.prototype.guessLen13b=function(_,E){var T=1|Math.max(E,_),w=1&T,C=0;for(T=T/2|0;T;T>>>=1)C++;return 1<<C+1+w},y.prototype.conjugate=function(_,E,T){if(!(T<=1))for(var w=0;w<T/2;w++){var C=_[w];_[w]=_[T-w-1],_[T-w-1]=C,C=E[w],E[w]=-E[T-w-1],E[T-w-1]=-C}},y.prototype.normalize13b=function(_,E){for(var T=0,w=0;w<E/2;w++){var C=8192*Math.round(_[2*w+1]/E)+Math.round(_[2*w]/E)+T;_[w]=67108863&C,T=C<67108864?0:C/67108864|0}return _},y.prototype.convert13b=function(_,E,T,w){for(var C=0,j=0;j<E;j++)C+=0|_[j],T[2*j]=8191&C,C>>>=13,T[2*j+1]=8191&C,C>>>=13;for(j=2*E;j<w;++j)T[j]=0;c(C===0),c((-8192&C)==0)},y.prototype.stub=function(_){for(var E=new Array(_),T=0;T<_;T++)E[T]=0;return E},y.prototype.mulp=function(_,E,T){var w=2*this.guessLen13b(_.length,E.length),C=this.makeRBT(w),j=this.stub(w),N=new Array(w),I=new Array(w),R=new Array(w),U=new Array(w),V=new Array(w),z=new Array(w),X=T.words;X.length=w,this.convert13b(_.words,_.length,N,w),this.convert13b(E.words,E.length,U,w),this.transform(N,j,I,R,w,C),this.transform(U,j,V,z,w,C);for(var Q=0;Q<w;Q++){var q=I[Q]*V[Q]-R[Q]*z[Q];R[Q]=I[Q]*z[Q]+R[Q]*V[Q],I[Q]=q}return this.conjugate(I,R,w),this.transform(I,R,X,j,w,C),this.conjugate(X,j,w),this.normalize13b(X,w),T.negative=_.negative^E.negative,T.length=_.length+E.length,T.strip()},d.prototype.mul=function(_){var E=new d(null);return E.words=new Array(this.length+_.length),this.mulTo(_,E)},d.prototype.mulf=function(_){var E=new d(null);return E.words=new Array(this.length+_.length),v(this,_,E)},d.prototype.imul=function(_){return this.clone().mulTo(_,this)},d.prototype.imuln=function(_){c(typeof _=="number"),c(_<67108864);for(var E=0,T=0;T<this.length;T++){var w=(0|this.words[T])*_,C=(67108863&w)+(67108863&E);E>>=26,E+=w/67108864|0,E+=C>>>26,this.words[T]=67108863&C}return E!==0&&(this.words[T]=E,this.length++),this},d.prototype.muln=function(_){return this.clone().imuln(_)},d.prototype.sqr=function(){return this.mul(this)},d.prototype.isqr=function(){return this.imul(this.clone())},d.prototype.pow=function(_){var E=function(j){for(var N=new Array(j.bitLength()),I=0;I<N.length;I++){var R=I/26|0,U=I%26;N[I]=(j.words[R]&1<<U)>>>U}return N}(_);if(E.length===0)return new d(1);for(var T=this,w=0;w<E.length&&E[w]===0;w++,T=T.sqr());if(++w<E.length)for(var C=T.sqr();w<E.length;w++,C=C.sqr())E[w]!==0&&(T=T.mul(C));return T},d.prototype.iushln=function(_){c(typeof _=="number"&&_>=0);var E,T=_%26,w=(_-T)/26,C=67108863>>>26-T<<26-T;if(T!==0){var j=0;for(E=0;E<this.length;E++){var N=this.words[E]&C,I=(0|this.words[E])-N<<T;this.words[E]=I|j,j=N>>>26-T}j&&(this.words[E]=j,this.length++)}if(w!==0){for(E=this.length-1;E>=0;E--)this.words[E+w]=this.words[E];for(E=0;E<w;E++)this.words[E]=0;this.length+=w}return this.strip()},d.prototype.ishln=function(_){return c(this.negative===0),this.iushln(_)},d.prototype.iushrn=function(_,E,T){var w;c(typeof _=="number"&&_>=0),w=E?(E-E%26)/26:0;var C=_%26,j=Math.min((_-C)/26,this.length),N=67108863^67108863>>>C<<C,I=T;if(w-=j,w=Math.max(0,w),I){for(var R=0;R<j;R++)I.words[R]=this.words[R];I.length=j}if(j!==0)if(this.length>j)for(this.length-=j,R=0;R<this.length;R++)this.words[R]=this.words[R+j];else this.words[0]=0,this.length=1;var U=0;for(R=this.length-1;R>=0&&(U!==0||R>=w);R--){var V=0|this.words[R];this.words[R]=U<<26-C|V>>>C,U=V&N}return I&&U!==0&&(I.words[I.length++]=U),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},d.prototype.ishrn=function(_,E,T){return c(this.negative===0),this.iushrn(_,E,T)},d.prototype.shln=function(_){return this.clone().ishln(_)},d.prototype.ushln=function(_){return this.clone().iushln(_)},d.prototype.shrn=function(_){return this.clone().ishrn(_)},d.prototype.ushrn=function(_){return this.clone().iushrn(_)},d.prototype.testn=function(_){c(typeof _=="number"&&_>=0);var E=_%26,T=(_-E)/26,w=1<<E;return!(this.length<=T)&&!!(this.words[T]&w)},d.prototype.imaskn=function(_){c(typeof _=="number"&&_>=0);var E=_%26,T=(_-E)/26;if(c(this.negative===0,"imaskn works only with positive numbers"),this.length<=T)return this;if(E!==0&&T++,this.length=Math.min(T,this.length),E!==0){var w=67108863^67108863>>>E<<E;this.words[this.length-1]&=w}return this.strip()},d.prototype.maskn=function(_){return this.clone().imaskn(_)},d.prototype.iaddn=function(_){return c(typeof _=="number"),c(_<67108864),_<0?this.isubn(-_):this.negative!==0?this.length===1&&(0|this.words[0])<_?(this.words[0]=_-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(_),this.negative=1,this):this._iaddn(_)},d.prototype._iaddn=function(_){this.words[0]+=_;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},d.prototype.isubn=function(_){if(c(typeof _=="number"),c(_<67108864),_<0)return this.iaddn(-_);if(this.negative!==0)return this.negative=0,this.iaddn(_),this.negative=1,this;if(this.words[0]-=_,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this.strip()},d.prototype.addn=function(_){return this.clone().iaddn(_)},d.prototype.subn=function(_){return this.clone().isubn(_)},d.prototype.iabs=function(){return this.negative=0,this},d.prototype.abs=function(){return this.clone().iabs()},d.prototype._ishlnsubmul=function(_,E,T){var w,C,j=_.length+T;this._expand(j);var N=0;for(w=0;w<_.length;w++){C=(0|this.words[w+T])+N;var I=(0|_.words[w])*E;N=((C-=67108863&I)>>26)-(I/67108864|0),this.words[w+T]=67108863&C}for(;w<this.length-T;w++)N=(C=(0|this.words[w+T])+N)>>26,this.words[w+T]=67108863&C;if(N===0)return this.strip();for(c(N===-1),N=0,w=0;w<this.length;w++)N=(C=-(0|this.words[w])+N)>>26,this.words[w]=67108863&C;return this.negative=1,this.strip()},d.prototype._wordDiv=function(_,E){var T=(this.length,_.length),w=this.clone(),C=_,j=0|C.words[C.length-1];(T=26-this._countBits(j))!==0&&(C=C.ushln(T),w.iushln(T),j=0|C.words[C.length-1]);var N,I=w.length-C.length;if(E!=="mod"){(N=new d(null)).length=I+1,N.words=new Array(N.length);for(var R=0;R<N.length;R++)N.words[R]=0}var U=w.clone()._ishlnsubmul(C,1,I);U.negative===0&&(w=U,N&&(N.words[I]=1));for(var V=I-1;V>=0;V--){var z=67108864*(0|w.words[C.length+V])+(0|w.words[C.length+V-1]);for(z=Math.min(z/j|0,67108863),w._ishlnsubmul(C,z,V);w.negative!==0;)z--,w.negative=0,w._ishlnsubmul(C,1,V),w.isZero()||(w.negative^=1);N&&(N.words[V]=z)}return N&&N.strip(),w.strip(),E!=="div"&&T!==0&&w.iushrn(T),{div:N||null,mod:w}},d.prototype.divmod=function(_,E,T){return c(!_.isZero()),this.isZero()?{div:new d(0),mod:new d(0)}:this.negative!==0&&_.negative===0?(j=this.neg().divmod(_,E),E!=="mod"&&(w=j.div.neg()),E!=="div"&&(C=j.mod.neg(),T&&C.negative!==0&&C.iadd(_)),{div:w,mod:C}):this.negative===0&&_.negative!==0?(j=this.divmod(_.neg(),E),E!=="mod"&&(w=j.div.neg()),{div:w,mod:j.mod}):this.negative&_.negative?(j=this.neg().divmod(_.neg(),E),E!=="div"&&(C=j.mod.neg(),T&&C.negative!==0&&C.isub(_)),{div:j.div,mod:C}):_.length>this.length||this.cmp(_)<0?{div:new d(0),mod:this}:_.length===1?E==="div"?{div:this.divn(_.words[0]),mod:null}:E==="mod"?{div:null,mod:new d(this.modn(_.words[0]))}:{div:this.divn(_.words[0]),mod:new d(this.modn(_.words[0]))}:this._wordDiv(_,E);var w,C,j},d.prototype.div=function(_){return this.divmod(_,"div",!1).div},d.prototype.mod=function(_){return this.divmod(_,"mod",!1).mod},d.prototype.umod=function(_){return this.divmod(_,"mod",!0).mod},d.prototype.divRound=function(_){var E=this.divmod(_);if(E.mod.isZero())return E.div;var T=E.div.negative!==0?E.mod.isub(_):E.mod,w=_.ushrn(1),C=_.andln(1),j=T.cmp(w);return j<0||C===1&&j===0?E.div:E.div.negative!==0?E.div.isubn(1):E.div.iaddn(1)},d.prototype.modn=function(_){c(_<=67108863);for(var E=(1<<26)%_,T=0,w=this.length-1;w>=0;w--)T=(E*T+(0|this.words[w]))%_;return T},d.prototype.idivn=function(_){c(_<=67108863);for(var E=0,T=this.length-1;T>=0;T--){var w=(0|this.words[T])+67108864*E;this.words[T]=w/_|0,E=w%_}return this.strip()},d.prototype.divn=function(_){return this.clone().idivn(_)},d.prototype.egcd=function(_){c(_.negative===0),c(!_.isZero());var E=this,T=_.clone();E=E.negative!==0?E.umod(_):E.clone();for(var w=new d(1),C=new d(0),j=new d(0),N=new d(1),I=0;E.isEven()&&T.isEven();)E.iushrn(1),T.iushrn(1),++I;for(var R=T.clone(),U=E.clone();!E.isZero();){for(var V=0,z=1;!(E.words[0]&z)&&V<26;++V,z<<=1);if(V>0)for(E.iushrn(V);V-- >0;)(w.isOdd()||C.isOdd())&&(w.iadd(R),C.isub(U)),w.iushrn(1),C.iushrn(1);for(var X=0,Q=1;!(T.words[0]&Q)&&X<26;++X,Q<<=1);if(X>0)for(T.iushrn(X);X-- >0;)(j.isOdd()||N.isOdd())&&(j.iadd(R),N.isub(U)),j.iushrn(1),N.iushrn(1);E.cmp(T)>=0?(E.isub(T),w.isub(j),C.isub(N)):(T.isub(E),j.isub(w),N.isub(C))}return{a:j,b:N,gcd:T.iushln(I)}},d.prototype._invmp=function(_){c(_.negative===0),c(!_.isZero());var E=this,T=_.clone();E=E.negative!==0?E.umod(_):E.clone();for(var w,C=new d(1),j=new d(0),N=T.clone();E.cmpn(1)>0&&T.cmpn(1)>0;){for(var I=0,R=1;!(E.words[0]&R)&&I<26;++I,R<<=1);if(I>0)for(E.iushrn(I);I-- >0;)C.isOdd()&&C.iadd(N),C.iushrn(1);for(var U=0,V=1;!(T.words[0]&V)&&U<26;++U,V<<=1);if(U>0)for(T.iushrn(U);U-- >0;)j.isOdd()&&j.iadd(N),j.iushrn(1);E.cmp(T)>=0?(E.isub(T),C.isub(j)):(T.isub(E),j.isub(C))}return(w=E.cmpn(1)===0?C:j).cmpn(0)<0&&w.iadd(_),w},d.prototype.gcd=function(_){if(this.isZero())return _.abs();if(_.isZero())return this.abs();var E=this.clone(),T=_.clone();E.negative=0,T.negative=0;for(var w=0;E.isEven()&&T.isEven();w++)E.iushrn(1),T.iushrn(1);for(;;){for(;E.isEven();)E.iushrn(1);for(;T.isEven();)T.iushrn(1);var C=E.cmp(T);if(C<0){var j=E;E=T,T=j}else if(C===0||T.cmpn(1)===0)break;E.isub(T)}return T.iushln(w)},d.prototype.invm=function(_){return this.egcd(_).a.umod(_)},d.prototype.isEven=function(){return(1&this.words[0])==0},d.prototype.isOdd=function(){return(1&this.words[0])==1},d.prototype.andln=function(_){return this.words[0]&_},d.prototype.bincn=function(_){c(typeof _=="number");var E=_%26,T=(_-E)/26,w=1<<E;if(this.length<=T)return this._expand(T+1),this.words[T]|=w,this;for(var C=w,j=T;C!==0&&j<this.length;j++){var N=0|this.words[j];C=(N+=C)>>>26,N&=67108863,this.words[j]=N}return C!==0&&(this.words[j]=C,this.length++),this},d.prototype.isZero=function(){return this.length===1&&this.words[0]===0},d.prototype.cmpn=function(_){var E,T=_<0;if(this.negative!==0&&!T)return-1;if(this.negative===0&&T)return 1;if(this.strip(),this.length>1)E=1;else{T&&(_=-_),c(_<=67108863,"Number is too big");var w=0|this.words[0];E=w===_?0:w<_?-1:1}return this.negative!==0?0|-E:E},d.prototype.cmp=function(_){if(this.negative!==0&&_.negative===0)return-1;if(this.negative===0&&_.negative!==0)return 1;var E=this.ucmp(_);return this.negative!==0?0|-E:E},d.prototype.ucmp=function(_){if(this.length>_.length)return 1;if(this.length<_.length)return-1;for(var E=0,T=this.length-1;T>=0;T--){var w=0|this.words[T],C=0|_.words[T];if(w!==C){w<C?E=-1:w>C&&(E=1);break}}return E},d.prototype.gtn=function(_){return this.cmpn(_)===1},d.prototype.gt=function(_){return this.cmp(_)===1},d.prototype.gten=function(_){return this.cmpn(_)>=0},d.prototype.gte=function(_){return this.cmp(_)>=0},d.prototype.ltn=function(_){return this.cmpn(_)===-1},d.prototype.lt=function(_){return this.cmp(_)===-1},d.prototype.lten=function(_){return this.cmpn(_)<=0},d.prototype.lte=function(_){return this.cmp(_)<=0},d.prototype.eqn=function(_){return this.cmpn(_)===0},d.prototype.eq=function(_){return this.cmp(_)===0},d.red=function(_){return new O(_)},d.prototype.toRed=function(_){return c(!this.red,"Already a number in reduction context"),c(this.negative===0,"red works only with positives"),_.convertTo(this)._forceRed(_)},d.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},d.prototype._forceRed=function(_){return this.red=_,this},d.prototype.forceRed=function(_){return c(!this.red,"Already a number in reduction context"),this._forceRed(_)},d.prototype.redAdd=function(_){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,_)},d.prototype.redIAdd=function(_){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,_)},d.prototype.redSub=function(_){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,_)},d.prototype.redISub=function(_){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,_)},d.prototype.redShl=function(_){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,_)},d.prototype.redMul=function(_){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.mul(this,_)},d.prototype.redIMul=function(_){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.imul(this,_)},d.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function(_){return c(this.red&&!_.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,_)};var S={k256:null,p224:null,p192:null,p25519:null};function M(_,E){this.name=_,this.p=new d(E,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function P(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function B(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function D(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function L(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function O(_){if(typeof _=="string"){var E=d._prime(_);this.m=E.p,this.prime=E}else c(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}function F(_){O.call(this,_),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}M.prototype._tmp=function(){var _=new d(null);return _.words=new Array(Math.ceil(this.n/13)),_},M.prototype.ireduce=function(_){var E,T=_;do this.split(T,this.tmp),E=(T=(T=this.imulK(T)).iadd(this.tmp)).bitLength();while(E>this.n);var w=E<this.n?-1:T.ucmp(this.p);return w===0?(T.words[0]=0,T.length=1):w>0?T.isub(this.p):T.strip!==void 0?T.strip():T._strip(),T},M.prototype.split=function(_,E){_.iushrn(this.n,0,E)},M.prototype.imulK=function(_){return _.imul(this.k)},l(P,M),P.prototype.split=function(_,E){for(var T=Math.min(_.length,9),w=0;w<T;w++)E.words[w]=_.words[w];if(E.length=T,_.length<=9)return _.words[0]=0,void(_.length=1);var C=_.words[9];for(E.words[E.length++]=4194303&C,w=10;w<_.length;w++){var j=0|_.words[w];_.words[w-10]=(4194303&j)<<4|C>>>22,C=j}C>>>=22,_.words[w-10]=C,C===0&&_.length>10?_.length-=10:_.length-=9},P.prototype.imulK=function(_){_.words[_.length]=0,_.words[_.length+1]=0,_.length+=2;for(var E=0,T=0;T<_.length;T++){var w=0|_.words[T];E+=977*w,_.words[T]=67108863&E,E=64*w+(E/67108864|0)}return _.words[_.length-1]===0&&(_.length--,_.words[_.length-1]===0&&_.length--),_},l(B,M),l(D,M),l(L,M),L.prototype.imulK=function(_){for(var E=0,T=0;T<_.length;T++){var w=19*(0|_.words[T])+E,C=67108863&w;w>>>=26,_.words[T]=C,E=w}return E!==0&&(_.words[_.length++]=E),_},d._prime=function(_){if(S[_])return S[_];var E;if(_==="k256")E=new P;else if(_==="p224")E=new B;else if(_==="p192")E=new D;else{if(_!=="p25519")throw new Error("Unknown prime "+_);E=new L}return S[_]=E,E},O.prototype._verify1=function(_){c(_.negative===0,"red works only with positives"),c(_.red,"red works only with red numbers")},O.prototype._verify2=function(_,E){c((_.negative|E.negative)==0,"red works only with positives"),c(_.red&&_.red===E.red,"red works only with red numbers")},O.prototype.imod=function(_){return this.prime?this.prime.ireduce(_)._forceRed(this):_.umod(this.m)._forceRed(this)},O.prototype.neg=function(_){return _.isZero()?_.clone():this.m.sub(_)._forceRed(this)},O.prototype.add=function(_,E){this._verify2(_,E);var T=_.add(E);return T.cmp(this.m)>=0&&T.isub(this.m),T._forceRed(this)},O.prototype.iadd=function(_,E){this._verify2(_,E);var T=_.iadd(E);return T.cmp(this.m)>=0&&T.isub(this.m),T},O.prototype.sub=function(_,E){this._verify2(_,E);var T=_.sub(E);return T.cmpn(0)<0&&T.iadd(this.m),T._forceRed(this)},O.prototype.isub=function(_,E){this._verify2(_,E);var T=_.isub(E);return T.cmpn(0)<0&&T.iadd(this.m),T},O.prototype.shl=function(_,E){return this._verify1(_),this.imod(_.ushln(E))},O.prototype.imul=function(_,E){return this._verify2(_,E),this.imod(_.imul(E))},O.prototype.mul=function(_,E){return this._verify2(_,E),this.imod(_.mul(E))},O.prototype.isqr=function(_){return this.imul(_,_.clone())},O.prototype.sqr=function(_){return this.mul(_,_)},O.prototype.sqrt=function(_){if(_.isZero())return _.clone();var E=this.m.andln(3);if(c(E%2==1),E===3){var T=this.m.add(new d(1)).iushrn(2);return this.pow(_,T)}for(var w=this.m.subn(1),C=0;!w.isZero()&&w.andln(1)===0;)C++,w.iushrn(1);c(!w.isZero());var j=new d(1).toRed(this),N=j.redNeg(),I=this.m.subn(1).iushrn(1),R=this.m.bitLength();for(R=new d(2*R*R).toRed(this);this.pow(R,I).cmp(N)!==0;)R.redIAdd(N);for(var U=this.pow(R,w),V=this.pow(_,w.addn(1).iushrn(1)),z=this.pow(_,w),X=C;z.cmp(j)!==0;){for(var Q=z,q=0;Q.cmp(j)!==0;q++)Q=Q.redSqr();c(q<X);var H=this.pow(U,new d(1).iushln(X-q-1));V=V.redMul(H),U=H.redSqr(),z=z.redMul(U),X=q}return V},O.prototype.invm=function(_){var E=_._invmp(this.m);return E.negative!==0?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},O.prototype.pow=function(_,E){if(E.isZero())return new d(1).toRed(this);if(E.cmpn(1)===0)return _.clone();var T=new Array(16);T[0]=new d(1).toRed(this),T[1]=_;for(var w=2;w<T.length;w++)T[w]=this.mul(T[w-1],_);var C=T[0],j=0,N=0,I=E.bitLength()%26;for(I===0&&(I=26),w=E.length-1;w>=0;w--){for(var R=E.words[w],U=I-1;U>=0;U--){var V=R>>U&1;C!==T[0]&&(C=this.sqr(C)),V!==0||j!==0?(j<<=1,j|=V,(++N===4||w===0&&U===0)&&(C=this.mul(C,T[j]),N=0,j=0)):N=0}I=26}return C},O.prototype.convertTo=function(_){var E=_.umod(this.m);return E===_?E.clone():E},O.prototype.convertFrom=function(_){var E=_.clone();return E.red=null,E},d.mont=function(_){return new F(_)},l(F,O),F.prototype.convertTo=function(_){return this.imod(_.ushln(this.shift))},F.prototype.convertFrom=function(_){var E=this.imod(_.mul(this.rinv));return E.red=null,E},F.prototype.imul=function(_,E){if(_.isZero()||E.isZero())return _.words[0]=0,_.length=1,_;var T=_.imul(E),w=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=T.isub(w).iushrn(this.shift),j=C;return C.cmp(this.m)>=0?j=C.isub(this.m):C.cmpn(0)<0&&(j=C.iadd(this.m)),j._forceRed(this)},F.prototype.mul=function(_,E){if(_.isZero()||E.isZero())return new d(0)._forceRed(this);var T=_.mul(E),w=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=T.isub(w).iushrn(this.shift),j=C;return C.cmp(this.m)>=0?j=C.isub(this.m):C.cmpn(0)<0&&(j=C.iadd(this.m)),j._forceRed(this)},F.prototype.invm=function(_){return this.imod(_._invmp(this.m).mul(this.r2))._forceRed(this)}})(s===void 0||s)},{buffer:188}],185:[function(e,s,a){a.byteLength=function(m){var A=f(m),g=A[0],p=A[1];return 3*(g+p)/4-p},a.toByteArray=function(m){var A,g,p=f(m),b=p[0],x=p[1],v=new c(function(M,P,B){return 3*(P+B)/4-B}(0,b,x)),y=0,S=x>0?b-4:b;for(g=0;g<S;g+=4)A=o[m.charCodeAt(g)]<<18|o[m.charCodeAt(g+1)]<<12|o[m.charCodeAt(g+2)]<<6|o[m.charCodeAt(g+3)],v[y++]=A>>16&255,v[y++]=A>>8&255,v[y++]=255&A;return x===2&&(A=o[m.charCodeAt(g)]<<2|o[m.charCodeAt(g+1)]>>4,v[y++]=255&A),x===1&&(A=o[m.charCodeAt(g)]<<10|o[m.charCodeAt(g+1)]<<4|o[m.charCodeAt(g+2)]>>2,v[y++]=A>>8&255,v[y++]=255&A),v},a.fromByteArray=function(m){for(var A,g=m.length,p=g%3,b=[],x=0,v=g-p;x<v;x+=16383)b.push(h(m,x,x+16383>v?v:x+16383));return p===1?(A=m[g-1],b.push(i[A>>2]+i[A<<4&63]+"==")):p===2&&(A=(m[g-2]<<8)+m[g-1],b.push(i[A>>10]+i[A>>4&63]+i[A<<2&63]+"=")),b.join("")};for(var i=[],o=[],c=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,u=l.length;d<u;++d)i[d]=l[d],o[l.charCodeAt(d)]=d;function f(m){var A=m.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=m.indexOf("=");return g===-1&&(g=A),[g,g===A?0:4-g%4]}function h(m,A,g){for(var p,b,x=[],v=A;v<g;v+=3)p=(m[v]<<16&16711680)+(m[v+1]<<8&65280)+(255&m[v+2]),x.push(i[(b=p)>>18&63]+i[b>>12&63]+i[b>>6&63]+i[63&b]);return x.join("")}o[45]=62,o[95]=63},{}],186:[function(e,s,a){(function(i,o){function c(T,w){if(!T)throw new Error(w||"Assertion failed")}function l(T,w){T.super_=w;var C=function(){};C.prototype=w.prototype,T.prototype=new C,T.prototype.constructor=T}function d(T,w,C){if(d.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&(w!=="le"&&w!=="be"||(C=w,w=10),this._init(T||0,w||10,C||"be"))}var u;typeof i=="object"?i.exports=d:(void 0).BN=d,d.BN=d,d.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function f(T,w){var C=T.charCodeAt(w);return C>=48&&C<=57?C-48:C>=65&&C<=70?C-55:C>=97&&C<=102?C-87:void c(!1,"Invalid character in "+T)}function h(T,w,C){var j=f(T,C);return C-1>=w&&(j|=f(T,C-1)<<4),j}function m(T,w,C,j){for(var N=0,I=0,R=Math.min(T.length,C),U=w;U<R;U++){var V=T.charCodeAt(U)-48;N*=j,I=V>=49?V-49+10:V>=17?V-17+10:V,c(V>=0&&I<j,"Invalid character"),N+=I}return N}function A(T,w){T.words=w.words,T.length=w.length,T.negative=w.negative,T.red=w.red}if(d.isBN=function(T){return T instanceof d||T!==null&&typeof T=="object"&&T.constructor.wordSize===d.wordSize&&Array.isArray(T.words)},d.max=function(T,w){return T.cmp(w)>0?T:w},d.min=function(T,w){return T.cmp(w)<0?T:w},d.prototype._init=function(T,w,C){if(typeof T=="number")return this._initNumber(T,w,C);if(typeof T=="object")return this._initArray(T,w,C);w==="hex"&&(w=16),c(w===(0|w)&&w>=2&&w<=36);var j=0;(T=T.toString().replace(/\s+/g,""))[0]==="-"&&(j++,this.negative=1),j<T.length&&(w===16?this._parseHex(T,j,C):(this._parseBase(T,w,j),C==="le"&&this._initArray(this.toArray(),w,C)))},d.prototype._initNumber=function(T,w,C){T<0&&(this.negative=1,T=-T),T<67108864?(this.words=[67108863&T],this.length=1):T<4503599627370496?(this.words=[67108863&T,T/67108864&67108863],this.length=2):(c(T<9007199254740992),this.words=[67108863&T,T/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),w,C)},d.prototype._initArray=function(T,w,C){if(c(typeof T.length=="number"),T.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(T.length/3),this.words=new Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var N,I,R=0;if(C==="be")for(j=T.length-1,N=0;j>=0;j-=3)I=T[j]|T[j-1]<<8|T[j-2]<<16,this.words[N]|=I<<R&67108863,this.words[N+1]=I>>>26-R&67108863,(R+=24)>=26&&(R-=26,N++);else if(C==="le")for(j=0,N=0;j<T.length;j+=3)I=T[j]|T[j+1]<<8|T[j+2]<<16,this.words[N]|=I<<R&67108863,this.words[N+1]=I>>>26-R&67108863,(R+=24)>=26&&(R-=26,N++);return this._strip()},d.prototype._parseHex=function(T,w,C){this.length=Math.ceil((T.length-w)/6),this.words=new Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var N,I=0,R=0;if(C==="be")for(j=T.length-1;j>=w;j-=2)N=h(T,w,j)<<I,this.words[R]|=67108863&N,I>=18?(I-=18,R+=1,this.words[R]|=N>>>26):I+=8;else for(j=(T.length-w)%2==0?w+1:w;j<T.length;j+=2)N=h(T,w,j)<<I,this.words[R]|=67108863&N,I>=18?(I-=18,R+=1,this.words[R]|=N>>>26):I+=8;this._strip()},d.prototype._parseBase=function(T,w,C){this.words=[0],this.length=1;for(var j=0,N=1;N<=67108863;N*=w)j++;j--,N=N/w|0;for(var I=T.length-C,R=I%j,U=Math.min(I,I-R)+C,V=0,z=C;z<U;z+=j)V=m(T,z,z+j,w),this.imuln(N),this.words[0]+V<67108864?this.words[0]+=V:this._iaddn(V);if(R!==0){var X=1;for(V=m(T,z,T.length,w),z=0;z<R;z++)X*=w;this.imuln(X),this.words[0]+V<67108864?this.words[0]+=V:this._iaddn(V)}this._strip()},d.prototype.copy=function(T){T.words=new Array(this.length);for(var w=0;w<this.length;w++)T.words[w]=this.words[w];T.length=this.length,T.negative=this.negative,T.red=this.red},d.prototype._move=function(T){A(T,this)},d.prototype.clone=function(){var T=new d(null);return this.copy(T),T},d.prototype._expand=function(T){for(;this.length<T;)this.words[this.length++]=0;return this},d.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},d.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{d.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{d.prototype.inspect=g}else d.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];d.prototype.toString=function(T,w){var C;if(w=0|w||1,(T=T||10)===16||T==="hex"){C="";for(var j=0,N=0,I=0;I<this.length;I++){var R=this.words[I],U=(16777215&(R<<j|N)).toString(16);N=R>>>24-j&16777215,(j+=2)>=26&&(j-=26,I--),C=N!==0||I!==this.length-1?p[6-U.length]+U+C:U+C}for(N!==0&&(C=N.toString(16)+C);C.length%w!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(T===(0|T)&&T>=2&&T<=36){var V=b[T],z=x[T];C="";var X=this.clone();for(X.negative=0;!X.isZero();){var Q=X.modrn(z).toString(T);C=(X=X.idivn(z)).isZero()?Q+C:p[V-Q.length]+Q+C}for(this.isZero()&&(C="0"+C);C.length%w!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}c(!1,"Base should be between 2 and 36")},d.prototype.toNumber=function(){var T=this.words[0];return this.length===2?T+=67108864*this.words[1]:this.length===3&&this.words[2]===1?T+=4503599627370496+67108864*this.words[1]:this.length>2&&c(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-T:T},d.prototype.toJSON=function(){return this.toString(16,2)},u&&(d.prototype.toBuffer=function(T,w){return this.toArrayLike(u,T,w)}),d.prototype.toArray=function(T,w){return this.toArrayLike(Array,T,w)};function v(T,w,C){C.negative=w.negative^T.negative;var j=T.length+w.length|0;C.length=j,j=j-1|0;var N=0|T.words[0],I=0|w.words[0],R=N*I,U=67108863&R,V=R/67108864|0;C.words[0]=U;for(var z=1;z<j;z++){for(var X=V>>>26,Q=67108863&V,q=Math.min(z,w.length-1),H=Math.max(0,z-T.length+1);H<=q;H++){var $=z-H|0;X+=(R=(N=0|T.words[$])*(I=0|w.words[H])+Q)/67108864|0,Q=67108863&R}C.words[z]=0|Q,V=0|X}return V!==0?C.words[z]=0|V:C.length--,C._strip()}d.prototype.toArrayLike=function(T,w,C){this._strip();var j=this.byteLength(),N=C||Math.max(1,j);c(j<=N,"byte array longer than desired length"),c(N>0,"Requested array length <= 0");var I=function(R,U){return R.allocUnsafe?R.allocUnsafe(U):new R(U)}(T,N);return this["_toArrayLike"+(w==="le"?"LE":"BE")](I,j),I},d.prototype._toArrayLikeLE=function(T,w){for(var C=0,j=0,N=0,I=0;N<this.length;N++){var R=this.words[N]<<I|j;T[C++]=255&R,C<T.length&&(T[C++]=R>>8&255),C<T.length&&(T[C++]=R>>16&255),I===6?(C<T.length&&(T[C++]=R>>24&255),j=0,I=0):(j=R>>>24,I+=2)}if(C<T.length)for(T[C++]=j;C<T.length;)T[C++]=0},d.prototype._toArrayLikeBE=function(T,w){for(var C=T.length-1,j=0,N=0,I=0;N<this.length;N++){var R=this.words[N]<<I|j;T[C--]=255&R,C>=0&&(T[C--]=R>>8&255),C>=0&&(T[C--]=R>>16&255),I===6?(C>=0&&(T[C--]=R>>24&255),j=0,I=0):(j=R>>>24,I+=2)}if(C>=0)for(T[C--]=j;C>=0;)T[C--]=0},Math.clz32?d.prototype._countBits=function(T){return 32-Math.clz32(T)}:d.prototype._countBits=function(T){var w=T,C=0;return w>=4096&&(C+=13,w>>>=13),w>=64&&(C+=7,w>>>=7),w>=8&&(C+=4,w>>>=4),w>=2&&(C+=2,w>>>=2),C+w},d.prototype._zeroBits=function(T){if(T===0)return 26;var w=T,C=0;return!(8191&w)&&(C+=13,w>>>=13),!(127&w)&&(C+=7,w>>>=7),!(15&w)&&(C+=4,w>>>=4),!(3&w)&&(C+=2,w>>>=2),!(1&w)&&C++,C},d.prototype.bitLength=function(){var T=this.words[this.length-1],w=this._countBits(T);return 26*(this.length-1)+w},d.prototype.zeroBits=function(){if(this.isZero())return 0;for(var T=0,w=0;w<this.length;w++){var C=this._zeroBits(this.words[w]);if(T+=C,C!==26)break}return T},d.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},d.prototype.toTwos=function(T){return this.negative!==0?this.abs().inotn(T).iaddn(1):this.clone()},d.prototype.fromTwos=function(T){return this.testn(T-1)?this.notn(T).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function(){return this.negative!==0},d.prototype.neg=function(){return this.clone().ineg()},d.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function(T){for(;this.length<T.length;)this.words[this.length++]=0;for(var w=0;w<T.length;w++)this.words[w]=this.words[w]|T.words[w];return this._strip()},d.prototype.ior=function(T){return c((this.negative|T.negative)==0),this.iuor(T)},d.prototype.or=function(T){return this.length>T.length?this.clone().ior(T):T.clone().ior(this)},d.prototype.uor=function(T){return this.length>T.length?this.clone().iuor(T):T.clone().iuor(this)},d.prototype.iuand=function(T){var w;w=this.length>T.length?T:this;for(var C=0;C<w.length;C++)this.words[C]=this.words[C]&T.words[C];return this.length=w.length,this._strip()},d.prototype.iand=function(T){return c((this.negative|T.negative)==0),this.iuand(T)},d.prototype.and=function(T){return this.length>T.length?this.clone().iand(T):T.clone().iand(this)},d.prototype.uand=function(T){return this.length>T.length?this.clone().iuand(T):T.clone().iuand(this)},d.prototype.iuxor=function(T){var w,C;this.length>T.length?(w=this,C=T):(w=T,C=this);for(var j=0;j<C.length;j++)this.words[j]=w.words[j]^C.words[j];if(this!==w)for(;j<w.length;j++)this.words[j]=w.words[j];return this.length=w.length,this._strip()},d.prototype.ixor=function(T){return c((this.negative|T.negative)==0),this.iuxor(T)},d.prototype.xor=function(T){return this.length>T.length?this.clone().ixor(T):T.clone().ixor(this)},d.prototype.uxor=function(T){return this.length>T.length?this.clone().iuxor(T):T.clone().iuxor(this)},d.prototype.inotn=function(T){c(typeof T=="number"&&T>=0);var w=0|Math.ceil(T/26),C=T%26;this._expand(w),C>0&&w--;for(var j=0;j<w;j++)this.words[j]=67108863&~this.words[j];return C>0&&(this.words[j]=~this.words[j]&67108863>>26-C),this._strip()},d.prototype.notn=function(T){return this.clone().inotn(T)},d.prototype.setn=function(T,w){c(typeof T=="number"&&T>=0);var C=T/26|0,j=T%26;return this._expand(C+1),this.words[C]=w?this.words[C]|1<<j:this.words[C]&~(1<<j),this._strip()},d.prototype.iadd=function(T){var w,C,j;if(this.negative!==0&&T.negative===0)return this.negative=0,w=this.isub(T),this.negative^=1,this._normSign();if(this.negative===0&&T.negative!==0)return T.negative=0,w=this.isub(T),T.negative=1,w._normSign();this.length>T.length?(C=this,j=T):(C=T,j=this);for(var N=0,I=0;I<j.length;I++)w=(0|C.words[I])+(0|j.words[I])+N,this.words[I]=67108863&w,N=w>>>26;for(;N!==0&&I<C.length;I++)w=(0|C.words[I])+N,this.words[I]=67108863&w,N=w>>>26;if(this.length=C.length,N!==0)this.words[this.length]=N,this.length++;else if(C!==this)for(;I<C.length;I++)this.words[I]=C.words[I];return this},d.prototype.add=function(T){var w;return T.negative!==0&&this.negative===0?(T.negative=0,w=this.sub(T),T.negative^=1,w):T.negative===0&&this.negative!==0?(this.negative=0,w=T.sub(this),this.negative=1,w):this.length>T.length?this.clone().iadd(T):T.clone().iadd(this)},d.prototype.isub=function(T){if(T.negative!==0){T.negative=0;var w=this.iadd(T);return T.negative=1,w._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(T),this.negative=1,this._normSign();var C,j,N=this.cmp(T);if(N===0)return this.negative=0,this.length=1,this.words[0]=0,this;N>0?(C=this,j=T):(C=T,j=this);for(var I=0,R=0;R<j.length;R++)I=(w=(0|C.words[R])-(0|j.words[R])+I)>>26,this.words[R]=67108863&w;for(;I!==0&&R<C.length;R++)I=(w=(0|C.words[R])+I)>>26,this.words[R]=67108863&w;if(I===0&&R<C.length&&C!==this)for(;R<C.length;R++)this.words[R]=C.words[R];return this.length=Math.max(this.length,R),C!==this&&(this.negative=1),this._strip()},d.prototype.sub=function(T){return this.clone().isub(T)};var y=function(T,w,C){var j,N,I,R=T.words,U=w.words,V=C.words,z=0,X=0|R[0],Q=8191&X,q=X>>>13,H=0|R[1],$=8191&H,G=H>>>13,J=0|R[2],te=8191&J,K=J>>>13,ne=0|R[3],ce=8191&ne,oe=ne>>>13,ee=0|R[4],W=8191&ee,Y=ee>>>13,Z=0|R[5],se=8191&Z,re=Z>>>13,le=0|R[6],ae=8191&le,ue=le>>>13,he=0|R[7],pe=8191&he,Ae=he>>>13,ie=0|R[8],de=8191&ie,me=ie>>>13,ve=0|R[9],Me=8191&ve,Be=ve>>>13,xe=0|U[0],Te=8191&xe,_e=xe>>>13,Pe=0|U[1],be=8191&Pe,Ee=Pe>>>13,ge=0|U[2],Se=8191&ge,Ie=ge>>>13,ze=0|U[3],Le=8191&ze,$e=ze>>>13,et=0|U[4],jt=8191&et,At=et>>>13,Ut=0|U[5],ut=8191&Ut,ft=Ut>>>13,ke=0|U[6],Re=8191&ke,Ke=ke>>>13,it=0|U[7],$t=8191&it,gt=it>>>13,Dt=0|U[8],Qt=8191&Dt,Pt=Dt>>>13,en=0|U[9],Jt=8191&en,An=en>>>13;C.negative=T.negative^w.negative,C.length=19;var vt=(z+(j=Math.imul(Q,Te))|0)+((8191&(N=(N=Math.imul(Q,_e))+Math.imul(q,Te)|0))<<13)|0;z=((I=Math.imul(q,_e))+(N>>>13)|0)+(vt>>>26)|0,vt&=67108863,j=Math.imul($,Te),N=(N=Math.imul($,_e))+Math.imul(G,Te)|0,I=Math.imul(G,_e);var De=(z+(j=j+Math.imul(Q,be)|0)|0)+((8191&(N=(N=N+Math.imul(Q,Ee)|0)+Math.imul(q,be)|0))<<13)|0;z=((I=I+Math.imul(q,Ee)|0)+(N>>>13)|0)+(De>>>26)|0,De&=67108863,j=Math.imul(te,Te),N=(N=Math.imul(te,_e))+Math.imul(K,Te)|0,I=Math.imul(K,_e),j=j+Math.imul($,be)|0,N=(N=N+Math.imul($,Ee)|0)+Math.imul(G,be)|0,I=I+Math.imul(G,Ee)|0;var Je=(z+(j=j+Math.imul(Q,Se)|0)|0)+((8191&(N=(N=N+Math.imul(Q,Ie)|0)+Math.imul(q,Se)|0))<<13)|0;z=((I=I+Math.imul(q,Ie)|0)+(N>>>13)|0)+(Je>>>26)|0,Je&=67108863,j=Math.imul(ce,Te),N=(N=Math.imul(ce,_e))+Math.imul(oe,Te)|0,I=Math.imul(oe,_e),j=j+Math.imul(te,be)|0,N=(N=N+Math.imul(te,Ee)|0)+Math.imul(K,be)|0,I=I+Math.imul(K,Ee)|0,j=j+Math.imul($,Se)|0,N=(N=N+Math.imul($,Ie)|0)+Math.imul(G,Se)|0,I=I+Math.imul(G,Ie)|0;var pt=(z+(j=j+Math.imul(Q,Le)|0)|0)+((8191&(N=(N=N+Math.imul(Q,$e)|0)+Math.imul(q,Le)|0))<<13)|0;z=((I=I+Math.imul(q,$e)|0)+(N>>>13)|0)+(pt>>>26)|0,pt&=67108863,j=Math.imul(W,Te),N=(N=Math.imul(W,_e))+Math.imul(Y,Te)|0,I=Math.imul(Y,_e),j=j+Math.imul(ce,be)|0,N=(N=N+Math.imul(ce,Ee)|0)+Math.imul(oe,be)|0,I=I+Math.imul(oe,Ee)|0,j=j+Math.imul(te,Se)|0,N=(N=N+Math.imul(te,Ie)|0)+Math.imul(K,Se)|0,I=I+Math.imul(K,Ie)|0,j=j+Math.imul($,Le)|0,N=(N=N+Math.imul($,$e)|0)+Math.imul(G,Le)|0,I=I+Math.imul(G,$e)|0;var pn=(z+(j=j+Math.imul(Q,jt)|0)|0)+((8191&(N=(N=N+Math.imul(Q,At)|0)+Math.imul(q,jt)|0))<<13)|0;z=((I=I+Math.imul(q,At)|0)+(N>>>13)|0)+(pn>>>26)|0,pn&=67108863,j=Math.imul(se,Te),N=(N=Math.imul(se,_e))+Math.imul(re,Te)|0,I=Math.imul(re,_e),j=j+Math.imul(W,be)|0,N=(N=N+Math.imul(W,Ee)|0)+Math.imul(Y,be)|0,I=I+Math.imul(Y,Ee)|0,j=j+Math.imul(ce,Se)|0,N=(N=N+Math.imul(ce,Ie)|0)+Math.imul(oe,Se)|0,I=I+Math.imul(oe,Ie)|0,j=j+Math.imul(te,Le)|0,N=(N=N+Math.imul(te,$e)|0)+Math.imul(K,Le)|0,I=I+Math.imul(K,$e)|0,j=j+Math.imul($,jt)|0,N=(N=N+Math.imul($,At)|0)+Math.imul(G,jt)|0,I=I+Math.imul(G,At)|0;var ye=(z+(j=j+Math.imul(Q,ut)|0)|0)+((8191&(N=(N=N+Math.imul(Q,ft)|0)+Math.imul(q,ut)|0))<<13)|0;z=((I=I+Math.imul(q,ft)|0)+(N>>>13)|0)+(ye>>>26)|0,ye&=67108863,j=Math.imul(ae,Te),N=(N=Math.imul(ae,_e))+Math.imul(ue,Te)|0,I=Math.imul(ue,_e),j=j+Math.imul(se,be)|0,N=(N=N+Math.imul(se,Ee)|0)+Math.imul(re,be)|0,I=I+Math.imul(re,Ee)|0,j=j+Math.imul(W,Se)|0,N=(N=N+Math.imul(W,Ie)|0)+Math.imul(Y,Se)|0,I=I+Math.imul(Y,Ie)|0,j=j+Math.imul(ce,Le)|0,N=(N=N+Math.imul(ce,$e)|0)+Math.imul(oe,Le)|0,I=I+Math.imul(oe,$e)|0,j=j+Math.imul(te,jt)|0,N=(N=N+Math.imul(te,At)|0)+Math.imul(K,jt)|0,I=I+Math.imul(K,At)|0,j=j+Math.imul($,ut)|0,N=(N=N+Math.imul($,ft)|0)+Math.imul(G,ut)|0,I=I+Math.imul(G,ft)|0;var Fe=(z+(j=j+Math.imul(Q,Re)|0)|0)+((8191&(N=(N=N+Math.imul(Q,Ke)|0)+Math.imul(q,Re)|0))<<13)|0;z=((I=I+Math.imul(q,Ke)|0)+(N>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,j=Math.imul(pe,Te),N=(N=Math.imul(pe,_e))+Math.imul(Ae,Te)|0,I=Math.imul(Ae,_e),j=j+Math.imul(ae,be)|0,N=(N=N+Math.imul(ae,Ee)|0)+Math.imul(ue,be)|0,I=I+Math.imul(ue,Ee)|0,j=j+Math.imul(se,Se)|0,N=(N=N+Math.imul(se,Ie)|0)+Math.imul(re,Se)|0,I=I+Math.imul(re,Ie)|0,j=j+Math.imul(W,Le)|0,N=(N=N+Math.imul(W,$e)|0)+Math.imul(Y,Le)|0,I=I+Math.imul(Y,$e)|0,j=j+Math.imul(ce,jt)|0,N=(N=N+Math.imul(ce,At)|0)+Math.imul(oe,jt)|0,I=I+Math.imul(oe,At)|0,j=j+Math.imul(te,ut)|0,N=(N=N+Math.imul(te,ft)|0)+Math.imul(K,ut)|0,I=I+Math.imul(K,ft)|0,j=j+Math.imul($,Re)|0,N=(N=N+Math.imul($,Ke)|0)+Math.imul(G,Re)|0,I=I+Math.imul(G,Ke)|0;var We=(z+(j=j+Math.imul(Q,$t)|0)|0)+((8191&(N=(N=N+Math.imul(Q,gt)|0)+Math.imul(q,$t)|0))<<13)|0;z=((I=I+Math.imul(q,gt)|0)+(N>>>13)|0)+(We>>>26)|0,We&=67108863,j=Math.imul(de,Te),N=(N=Math.imul(de,_e))+Math.imul(me,Te)|0,I=Math.imul(me,_e),j=j+Math.imul(pe,be)|0,N=(N=N+Math.imul(pe,Ee)|0)+Math.imul(Ae,be)|0,I=I+Math.imul(Ae,Ee)|0,j=j+Math.imul(ae,Se)|0,N=(N=N+Math.imul(ae,Ie)|0)+Math.imul(ue,Se)|0,I=I+Math.imul(ue,Ie)|0,j=j+Math.imul(se,Le)|0,N=(N=N+Math.imul(se,$e)|0)+Math.imul(re,Le)|0,I=I+Math.imul(re,$e)|0,j=j+Math.imul(W,jt)|0,N=(N=N+Math.imul(W,At)|0)+Math.imul(Y,jt)|0,I=I+Math.imul(Y,At)|0,j=j+Math.imul(ce,ut)|0,N=(N=N+Math.imul(ce,ft)|0)+Math.imul(oe,ut)|0,I=I+Math.imul(oe,ft)|0,j=j+Math.imul(te,Re)|0,N=(N=N+Math.imul(te,Ke)|0)+Math.imul(K,Re)|0,I=I+Math.imul(K,Ke)|0,j=j+Math.imul($,$t)|0,N=(N=N+Math.imul($,gt)|0)+Math.imul(G,$t)|0,I=I+Math.imul(G,gt)|0;var Ze=(z+(j=j+Math.imul(Q,Qt)|0)|0)+((8191&(N=(N=N+Math.imul(Q,Pt)|0)+Math.imul(q,Qt)|0))<<13)|0;z=((I=I+Math.imul(q,Pt)|0)+(N>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,j=Math.imul(Me,Te),N=(N=Math.imul(Me,_e))+Math.imul(Be,Te)|0,I=Math.imul(Be,_e),j=j+Math.imul(de,be)|0,N=(N=N+Math.imul(de,Ee)|0)+Math.imul(me,be)|0,I=I+Math.imul(me,Ee)|0,j=j+Math.imul(pe,Se)|0,N=(N=N+Math.imul(pe,Ie)|0)+Math.imul(Ae,Se)|0,I=I+Math.imul(Ae,Ie)|0,j=j+Math.imul(ae,Le)|0,N=(N=N+Math.imul(ae,$e)|0)+Math.imul(ue,Le)|0,I=I+Math.imul(ue,$e)|0,j=j+Math.imul(se,jt)|0,N=(N=N+Math.imul(se,At)|0)+Math.imul(re,jt)|0,I=I+Math.imul(re,At)|0,j=j+Math.imul(W,ut)|0,N=(N=N+Math.imul(W,ft)|0)+Math.imul(Y,ut)|0,I=I+Math.imul(Y,ft)|0,j=j+Math.imul(ce,Re)|0,N=(N=N+Math.imul(ce,Ke)|0)+Math.imul(oe,Re)|0,I=I+Math.imul(oe,Ke)|0,j=j+Math.imul(te,$t)|0,N=(N=N+Math.imul(te,gt)|0)+Math.imul(K,$t)|0,I=I+Math.imul(K,gt)|0,j=j+Math.imul($,Qt)|0,N=(N=N+Math.imul($,Pt)|0)+Math.imul(G,Qt)|0,I=I+Math.imul(G,Pt)|0;var _t=(z+(j=j+Math.imul(Q,Jt)|0)|0)+((8191&(N=(N=N+Math.imul(Q,An)|0)+Math.imul(q,Jt)|0))<<13)|0;z=((I=I+Math.imul(q,An)|0)+(N>>>13)|0)+(_t>>>26)|0,_t&=67108863,j=Math.imul(Me,be),N=(N=Math.imul(Me,Ee))+Math.imul(Be,be)|0,I=Math.imul(Be,Ee),j=j+Math.imul(de,Se)|0,N=(N=N+Math.imul(de,Ie)|0)+Math.imul(me,Se)|0,I=I+Math.imul(me,Ie)|0,j=j+Math.imul(pe,Le)|0,N=(N=N+Math.imul(pe,$e)|0)+Math.imul(Ae,Le)|0,I=I+Math.imul(Ae,$e)|0,j=j+Math.imul(ae,jt)|0,N=(N=N+Math.imul(ae,At)|0)+Math.imul(ue,jt)|0,I=I+Math.imul(ue,At)|0,j=j+Math.imul(se,ut)|0,N=(N=N+Math.imul(se,ft)|0)+Math.imul(re,ut)|0,I=I+Math.imul(re,ft)|0,j=j+Math.imul(W,Re)|0,N=(N=N+Math.imul(W,Ke)|0)+Math.imul(Y,Re)|0,I=I+Math.imul(Y,Ke)|0,j=j+Math.imul(ce,$t)|0,N=(N=N+Math.imul(ce,gt)|0)+Math.imul(oe,$t)|0,I=I+Math.imul(oe,gt)|0,j=j+Math.imul(te,Qt)|0,N=(N=N+Math.imul(te,Pt)|0)+Math.imul(K,Qt)|0,I=I+Math.imul(K,Pt)|0;var ot=(z+(j=j+Math.imul($,Jt)|0)|0)+((8191&(N=(N=N+Math.imul($,An)|0)+Math.imul(G,Jt)|0))<<13)|0;z=((I=I+Math.imul(G,An)|0)+(N>>>13)|0)+(ot>>>26)|0,ot&=67108863,j=Math.imul(Me,Se),N=(N=Math.imul(Me,Ie))+Math.imul(Be,Se)|0,I=Math.imul(Be,Ie),j=j+Math.imul(de,Le)|0,N=(N=N+Math.imul(de,$e)|0)+Math.imul(me,Le)|0,I=I+Math.imul(me,$e)|0,j=j+Math.imul(pe,jt)|0,N=(N=N+Math.imul(pe,At)|0)+Math.imul(Ae,jt)|0,I=I+Math.imul(Ae,At)|0,j=j+Math.imul(ae,ut)|0,N=(N=N+Math.imul(ae,ft)|0)+Math.imul(ue,ut)|0,I=I+Math.imul(ue,ft)|0,j=j+Math.imul(se,Re)|0,N=(N=N+Math.imul(se,Ke)|0)+Math.imul(re,Re)|0,I=I+Math.imul(re,Ke)|0,j=j+Math.imul(W,$t)|0,N=(N=N+Math.imul(W,gt)|0)+Math.imul(Y,$t)|0,I=I+Math.imul(Y,gt)|0,j=j+Math.imul(ce,Qt)|0,N=(N=N+Math.imul(ce,Pt)|0)+Math.imul(oe,Qt)|0,I=I+Math.imul(oe,Pt)|0;var nt=(z+(j=j+Math.imul(te,Jt)|0)|0)+((8191&(N=(N=N+Math.imul(te,An)|0)+Math.imul(K,Jt)|0))<<13)|0;z=((I=I+Math.imul(K,An)|0)+(N>>>13)|0)+(nt>>>26)|0,nt&=67108863,j=Math.imul(Me,Le),N=(N=Math.imul(Me,$e))+Math.imul(Be,Le)|0,I=Math.imul(Be,$e),j=j+Math.imul(de,jt)|0,N=(N=N+Math.imul(de,At)|0)+Math.imul(me,jt)|0,I=I+Math.imul(me,At)|0,j=j+Math.imul(pe,ut)|0,N=(N=N+Math.imul(pe,ft)|0)+Math.imul(Ae,ut)|0,I=I+Math.imul(Ae,ft)|0,j=j+Math.imul(ae,Re)|0,N=(N=N+Math.imul(ae,Ke)|0)+Math.imul(ue,Re)|0,I=I+Math.imul(ue,Ke)|0,j=j+Math.imul(se,$t)|0,N=(N=N+Math.imul(se,gt)|0)+Math.imul(re,$t)|0,I=I+Math.imul(re,gt)|0,j=j+Math.imul(W,Qt)|0,N=(N=N+Math.imul(W,Pt)|0)+Math.imul(Y,Qt)|0,I=I+Math.imul(Y,Pt)|0;var Cn=(z+(j=j+Math.imul(ce,Jt)|0)|0)+((8191&(N=(N=N+Math.imul(ce,An)|0)+Math.imul(oe,Jt)|0))<<13)|0;z=((I=I+Math.imul(oe,An)|0)+(N>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,j=Math.imul(Me,jt),N=(N=Math.imul(Me,At))+Math.imul(Be,jt)|0,I=Math.imul(Be,At),j=j+Math.imul(de,ut)|0,N=(N=N+Math.imul(de,ft)|0)+Math.imul(me,ut)|0,I=I+Math.imul(me,ft)|0,j=j+Math.imul(pe,Re)|0,N=(N=N+Math.imul(pe,Ke)|0)+Math.imul(Ae,Re)|0,I=I+Math.imul(Ae,Ke)|0,j=j+Math.imul(ae,$t)|0,N=(N=N+Math.imul(ae,gt)|0)+Math.imul(ue,$t)|0,I=I+Math.imul(ue,gt)|0,j=j+Math.imul(se,Qt)|0,N=(N=N+Math.imul(se,Pt)|0)+Math.imul(re,Qt)|0,I=I+Math.imul(re,Pt)|0;var dn=(z+(j=j+Math.imul(W,Jt)|0)|0)+((8191&(N=(N=N+Math.imul(W,An)|0)+Math.imul(Y,Jt)|0))<<13)|0;z=((I=I+Math.imul(Y,An)|0)+(N>>>13)|0)+(dn>>>26)|0,dn&=67108863,j=Math.imul(Me,ut),N=(N=Math.imul(Me,ft))+Math.imul(Be,ut)|0,I=Math.imul(Be,ft),j=j+Math.imul(de,Re)|0,N=(N=N+Math.imul(de,Ke)|0)+Math.imul(me,Re)|0,I=I+Math.imul(me,Ke)|0,j=j+Math.imul(pe,$t)|0,N=(N=N+Math.imul(pe,gt)|0)+Math.imul(Ae,$t)|0,I=I+Math.imul(Ae,gt)|0,j=j+Math.imul(ae,Qt)|0,N=(N=N+Math.imul(ae,Pt)|0)+Math.imul(ue,Qt)|0,I=I+Math.imul(ue,Pt)|0;var vn=(z+(j=j+Math.imul(se,Jt)|0)|0)+((8191&(N=(N=N+Math.imul(se,An)|0)+Math.imul(re,Jt)|0))<<13)|0;z=((I=I+Math.imul(re,An)|0)+(N>>>13)|0)+(vn>>>26)|0,vn&=67108863,j=Math.imul(Me,Re),N=(N=Math.imul(Me,Ke))+Math.imul(Be,Re)|0,I=Math.imul(Be,Ke),j=j+Math.imul(de,$t)|0,N=(N=N+Math.imul(de,gt)|0)+Math.imul(me,$t)|0,I=I+Math.imul(me,gt)|0,j=j+Math.imul(pe,Qt)|0,N=(N=N+Math.imul(pe,Pt)|0)+Math.imul(Ae,Qt)|0,I=I+Math.imul(Ae,Pt)|0;var Gt=(z+(j=j+Math.imul(ae,Jt)|0)|0)+((8191&(N=(N=N+Math.imul(ae,An)|0)+Math.imul(ue,Jt)|0))<<13)|0;z=((I=I+Math.imul(ue,An)|0)+(N>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,j=Math.imul(Me,$t),N=(N=Math.imul(Me,gt))+Math.imul(Be,$t)|0,I=Math.imul(Be,gt),j=j+Math.imul(de,Qt)|0,N=(N=N+Math.imul(de,Pt)|0)+Math.imul(me,Qt)|0,I=I+Math.imul(me,Pt)|0;var Qn=(z+(j=j+Math.imul(pe,Jt)|0)|0)+((8191&(N=(N=N+Math.imul(pe,An)|0)+Math.imul(Ae,Jt)|0))<<13)|0;z=((I=I+Math.imul(Ae,An)|0)+(N>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,j=Math.imul(Me,Qt),N=(N=Math.imul(Me,Pt))+Math.imul(Be,Qt)|0,I=Math.imul(Be,Pt);var Vn=(z+(j=j+Math.imul(de,Jt)|0)|0)+((8191&(N=(N=N+Math.imul(de,An)|0)+Math.imul(me,Jt)|0))<<13)|0;z=((I=I+Math.imul(me,An)|0)+(N>>>13)|0)+(Vn>>>26)|0,Vn&=67108863;var Xn=(z+(j=Math.imul(Me,Jt))|0)+((8191&(N=(N=Math.imul(Me,An))+Math.imul(Be,Jt)|0))<<13)|0;return z=((I=Math.imul(Be,An))+(N>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,V[0]=vt,V[1]=De,V[2]=Je,V[3]=pt,V[4]=pn,V[5]=ye,V[6]=Fe,V[7]=We,V[8]=Ze,V[9]=_t,V[10]=ot,V[11]=nt,V[12]=Cn,V[13]=dn,V[14]=vn,V[15]=Gt,V[16]=Qn,V[17]=Vn,V[18]=Xn,z!==0&&(V[19]=z,C.length++),C};function S(T,w,C){C.negative=w.negative^T.negative,C.length=T.length+w.length;for(var j=0,N=0,I=0;I<C.length-1;I++){var R=N;N=0;for(var U=67108863&j,V=Math.min(I,w.length-1),z=Math.max(0,I-T.length+1);z<=V;z++){var X=I-z,Q=(0|T.words[X])*(0|w.words[z]),q=67108863&Q;U=67108863&(q=q+U|0),N+=(R=(R=R+(Q/67108864|0)|0)+(q>>>26)|0)>>>26,R&=67108863}C.words[I]=U,j=R,R=N}return j!==0?C.words[I]=j:C.length--,C._strip()}function M(T,w,C){return S(T,w,C)}Math.imul||(y=v),d.prototype.mulTo=function(T,w){var C=this.length+T.length;return this.length===10&&T.length===10?y(this,T,w):C<63?v(this,T,w):C<1024?S(this,T,w):M(this,T,w)},d.prototype.mul=function(T){var w=new d(null);return w.words=new Array(this.length+T.length),this.mulTo(T,w)},d.prototype.mulf=function(T){var w=new d(null);return w.words=new Array(this.length+T.length),M(this,T,w)},d.prototype.imul=function(T){return this.clone().mulTo(T,this)},d.prototype.imuln=function(T){var w=T<0;w&&(T=-T),c(typeof T=="number"),c(T<67108864);for(var C=0,j=0;j<this.length;j++){var N=(0|this.words[j])*T,I=(67108863&N)+(67108863&C);C>>=26,C+=N/67108864|0,C+=I>>>26,this.words[j]=67108863&I}return C!==0&&(this.words[j]=C,this.length++),w?this.ineg():this},d.prototype.muln=function(T){return this.clone().imuln(T)},d.prototype.sqr=function(){return this.mul(this)},d.prototype.isqr=function(){return this.imul(this.clone())},d.prototype.pow=function(T){var w=function(I){for(var R=new Array(I.bitLength()),U=0;U<R.length;U++){var V=U/26|0,z=U%26;R[U]=I.words[V]>>>z&1}return R}(T);if(w.length===0)return new d(1);for(var C=this,j=0;j<w.length&&w[j]===0;j++,C=C.sqr());if(++j<w.length)for(var N=C.sqr();j<w.length;j++,N=N.sqr())w[j]!==0&&(C=C.mul(N));return C},d.prototype.iushln=function(T){c(typeof T=="number"&&T>=0);var w,C=T%26,j=(T-C)/26,N=67108863>>>26-C<<26-C;if(C!==0){var I=0;for(w=0;w<this.length;w++){var R=this.words[w]&N,U=(0|this.words[w])-R<<C;this.words[w]=U|I,I=R>>>26-C}I&&(this.words[w]=I,this.length++)}if(j!==0){for(w=this.length-1;w>=0;w--)this.words[w+j]=this.words[w];for(w=0;w<j;w++)this.words[w]=0;this.length+=j}return this._strip()},d.prototype.ishln=function(T){return c(this.negative===0),this.iushln(T)},d.prototype.iushrn=function(T,w,C){var j;c(typeof T=="number"&&T>=0),j=w?(w-w%26)/26:0;var N=T%26,I=Math.min((T-N)/26,this.length),R=67108863^67108863>>>N<<N,U=C;if(j-=I,j=Math.max(0,j),U){for(var V=0;V<I;V++)U.words[V]=this.words[V];U.length=I}if(I!==0)if(this.length>I)for(this.length-=I,V=0;V<this.length;V++)this.words[V]=this.words[V+I];else this.words[0]=0,this.length=1;var z=0;for(V=this.length-1;V>=0&&(z!==0||V>=j);V--){var X=0|this.words[V];this.words[V]=z<<26-N|X>>>N,z=X&R}return U&&z!==0&&(U.words[U.length++]=z),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},d.prototype.ishrn=function(T,w,C){return c(this.negative===0),this.iushrn(T,w,C)},d.prototype.shln=function(T){return this.clone().ishln(T)},d.prototype.ushln=function(T){return this.clone().iushln(T)},d.prototype.shrn=function(T){return this.clone().ishrn(T)},d.prototype.ushrn=function(T){return this.clone().iushrn(T)},d.prototype.testn=function(T){c(typeof T=="number"&&T>=0);var w=T%26,C=(T-w)/26,j=1<<w;return!(this.length<=C)&&!!(this.words[C]&j)},d.prototype.imaskn=function(T){c(typeof T=="number"&&T>=0);var w=T%26,C=(T-w)/26;if(c(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(w!==0&&C++,this.length=Math.min(C,this.length),w!==0){var j=67108863^67108863>>>w<<w;this.words[this.length-1]&=j}return this._strip()},d.prototype.maskn=function(T){return this.clone().imaskn(T)},d.prototype.iaddn=function(T){return c(typeof T=="number"),c(T<67108864),T<0?this.isubn(-T):this.negative!==0?this.length===1&&(0|this.words[0])<=T?(this.words[0]=T-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(T),this.negative=1,this):this._iaddn(T)},d.prototype._iaddn=function(T){this.words[0]+=T;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},d.prototype.isubn=function(T){if(c(typeof T=="number"),c(T<67108864),T<0)return this.iaddn(-T);if(this.negative!==0)return this.negative=0,this.iaddn(T),this.negative=1,this;if(this.words[0]-=T,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},d.prototype.addn=function(T){return this.clone().iaddn(T)},d.prototype.subn=function(T){return this.clone().isubn(T)},d.prototype.iabs=function(){return this.negative=0,this},d.prototype.abs=function(){return this.clone().iabs()},d.prototype._ishlnsubmul=function(T,w,C){var j,N,I=T.length+C;this._expand(I);var R=0;for(j=0;j<T.length;j++){N=(0|this.words[j+C])+R;var U=(0|T.words[j])*w;R=((N-=67108863&U)>>26)-(U/67108864|0),this.words[j+C]=67108863&N}for(;j<this.length-C;j++)R=(N=(0|this.words[j+C])+R)>>26,this.words[j+C]=67108863&N;if(R===0)return this._strip();for(c(R===-1),R=0,j=0;j<this.length;j++)R=(N=-(0|this.words[j])+R)>>26,this.words[j]=67108863&N;return this.negative=1,this._strip()},d.prototype._wordDiv=function(T,w){var C=(this.length,T.length),j=this.clone(),N=T,I=0|N.words[N.length-1];(C=26-this._countBits(I))!==0&&(N=N.ushln(C),j.iushln(C),I=0|N.words[N.length-1]);var R,U=j.length-N.length;if(w!=="mod"){(R=new d(null)).length=U+1,R.words=new Array(R.length);for(var V=0;V<R.length;V++)R.words[V]=0}var z=j.clone()._ishlnsubmul(N,1,U);z.negative===0&&(j=z,R&&(R.words[U]=1));for(var X=U-1;X>=0;X--){var Q=67108864*(0|j.words[N.length+X])+(0|j.words[N.length+X-1]);for(Q=Math.min(Q/I|0,67108863),j._ishlnsubmul(N,Q,X);j.negative!==0;)Q--,j.negative=0,j._ishlnsubmul(N,1,X),j.isZero()||(j.negative^=1);R&&(R.words[X]=Q)}return R&&R._strip(),j._strip(),w!=="div"&&C!==0&&j.iushrn(C),{div:R||null,mod:j}},d.prototype.divmod=function(T,w,C){return c(!T.isZero()),this.isZero()?{div:new d(0),mod:new d(0)}:this.negative!==0&&T.negative===0?(I=this.neg().divmod(T,w),w!=="mod"&&(j=I.div.neg()),w!=="div"&&(N=I.mod.neg(),C&&N.negative!==0&&N.iadd(T)),{div:j,mod:N}):this.negative===0&&T.negative!==0?(I=this.divmod(T.neg(),w),w!=="mod"&&(j=I.div.neg()),{div:j,mod:I.mod}):this.negative&T.negative?(I=this.neg().divmod(T.neg(),w),w!=="div"&&(N=I.mod.neg(),C&&N.negative!==0&&N.isub(T)),{div:I.div,mod:N}):T.length>this.length||this.cmp(T)<0?{div:new d(0),mod:this}:T.length===1?w==="div"?{div:this.divn(T.words[0]),mod:null}:w==="mod"?{div:null,mod:new d(this.modrn(T.words[0]))}:{div:this.divn(T.words[0]),mod:new d(this.modrn(T.words[0]))}:this._wordDiv(T,w);var j,N,I},d.prototype.div=function(T){return this.divmod(T,"div",!1).div},d.prototype.mod=function(T){return this.divmod(T,"mod",!1).mod},d.prototype.umod=function(T){return this.divmod(T,"mod",!0).mod},d.prototype.divRound=function(T){var w=this.divmod(T);if(w.mod.isZero())return w.div;var C=w.div.negative!==0?w.mod.isub(T):w.mod,j=T.ushrn(1),N=T.andln(1),I=C.cmp(j);return I<0||N===1&&I===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},d.prototype.modrn=function(T){var w=T<0;w&&(T=-T),c(T<=67108863);for(var C=(1<<26)%T,j=0,N=this.length-1;N>=0;N--)j=(C*j+(0|this.words[N]))%T;return w?-j:j},d.prototype.modn=function(T){return this.modrn(T)},d.prototype.idivn=function(T){var w=T<0;w&&(T=-T),c(T<=67108863);for(var C=0,j=this.length-1;j>=0;j--){var N=(0|this.words[j])+67108864*C;this.words[j]=N/T|0,C=N%T}return this._strip(),w?this.ineg():this},d.prototype.divn=function(T){return this.clone().idivn(T)},d.prototype.egcd=function(T){c(T.negative===0),c(!T.isZero());var w=this,C=T.clone();w=w.negative!==0?w.umod(T):w.clone();for(var j=new d(1),N=new d(0),I=new d(0),R=new d(1),U=0;w.isEven()&&C.isEven();)w.iushrn(1),C.iushrn(1),++U;for(var V=C.clone(),z=w.clone();!w.isZero();){for(var X=0,Q=1;!(w.words[0]&Q)&&X<26;++X,Q<<=1);if(X>0)for(w.iushrn(X);X-- >0;)(j.isOdd()||N.isOdd())&&(j.iadd(V),N.isub(z)),j.iushrn(1),N.iushrn(1);for(var q=0,H=1;!(C.words[0]&H)&&q<26;++q,H<<=1);if(q>0)for(C.iushrn(q);q-- >0;)(I.isOdd()||R.isOdd())&&(I.iadd(V),R.isub(z)),I.iushrn(1),R.iushrn(1);w.cmp(C)>=0?(w.isub(C),j.isub(I),N.isub(R)):(C.isub(w),I.isub(j),R.isub(N))}return{a:I,b:R,gcd:C.iushln(U)}},d.prototype._invmp=function(T){c(T.negative===0),c(!T.isZero());var w=this,C=T.clone();w=w.negative!==0?w.umod(T):w.clone();for(var j,N=new d(1),I=new d(0),R=C.clone();w.cmpn(1)>0&&C.cmpn(1)>0;){for(var U=0,V=1;!(w.words[0]&V)&&U<26;++U,V<<=1);if(U>0)for(w.iushrn(U);U-- >0;)N.isOdd()&&N.iadd(R),N.iushrn(1);for(var z=0,X=1;!(C.words[0]&X)&&z<26;++z,X<<=1);if(z>0)for(C.iushrn(z);z-- >0;)I.isOdd()&&I.iadd(R),I.iushrn(1);w.cmp(C)>=0?(w.isub(C),N.isub(I)):(C.isub(w),I.isub(N))}return(j=w.cmpn(1)===0?N:I).cmpn(0)<0&&j.iadd(T),j},d.prototype.gcd=function(T){if(this.isZero())return T.abs();if(T.isZero())return this.abs();var w=this.clone(),C=T.clone();w.negative=0,C.negative=0;for(var j=0;w.isEven()&&C.isEven();j++)w.iushrn(1),C.iushrn(1);for(;;){for(;w.isEven();)w.iushrn(1);for(;C.isEven();)C.iushrn(1);var N=w.cmp(C);if(N<0){var I=w;w=C,C=I}else if(N===0||C.cmpn(1)===0)break;w.isub(C)}return C.iushln(j)},d.prototype.invm=function(T){return this.egcd(T).a.umod(T)},d.prototype.isEven=function(){return(1&this.words[0])==0},d.prototype.isOdd=function(){return(1&this.words[0])==1},d.prototype.andln=function(T){return this.words[0]&T},d.prototype.bincn=function(T){c(typeof T=="number");var w=T%26,C=(T-w)/26,j=1<<w;if(this.length<=C)return this._expand(C+1),this.words[C]|=j,this;for(var N=j,I=C;N!==0&&I<this.length;I++){var R=0|this.words[I];N=(R+=N)>>>26,R&=67108863,this.words[I]=R}return N!==0&&(this.words[I]=N,this.length++),this},d.prototype.isZero=function(){return this.length===1&&this.words[0]===0},d.prototype.cmpn=function(T){var w,C=T<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;if(this._strip(),this.length>1)w=1;else{C&&(T=-T),c(T<=67108863,"Number is too big");var j=0|this.words[0];w=j===T?0:j<T?-1:1}return this.negative!==0?0|-w:w},d.prototype.cmp=function(T){if(this.negative!==0&&T.negative===0)return-1;if(this.negative===0&&T.negative!==0)return 1;var w=this.ucmp(T);return this.negative!==0?0|-w:w},d.prototype.ucmp=function(T){if(this.length>T.length)return 1;if(this.length<T.length)return-1;for(var w=0,C=this.length-1;C>=0;C--){var j=0|this.words[C],N=0|T.words[C];if(j!==N){j<N?w=-1:j>N&&(w=1);break}}return w},d.prototype.gtn=function(T){return this.cmpn(T)===1},d.prototype.gt=function(T){return this.cmp(T)===1},d.prototype.gten=function(T){return this.cmpn(T)>=0},d.prototype.gte=function(T){return this.cmp(T)>=0},d.prototype.ltn=function(T){return this.cmpn(T)===-1},d.prototype.lt=function(T){return this.cmp(T)===-1},d.prototype.lten=function(T){return this.cmpn(T)<=0},d.prototype.lte=function(T){return this.cmp(T)<=0},d.prototype.eqn=function(T){return this.cmpn(T)===0},d.prototype.eq=function(T){return this.cmp(T)===0},d.red=function(T){return new _(T)},d.prototype.toRed=function(T){return c(!this.red,"Already a number in reduction context"),c(this.negative===0,"red works only with positives"),T.convertTo(this)._forceRed(T)},d.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},d.prototype._forceRed=function(T){return this.red=T,this},d.prototype.forceRed=function(T){return c(!this.red,"Already a number in reduction context"),this._forceRed(T)},d.prototype.redAdd=function(T){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,T)},d.prototype.redIAdd=function(T){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,T)},d.prototype.redSub=function(T){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,T)},d.prototype.redISub=function(T){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,T)},d.prototype.redShl=function(T){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,T)},d.prototype.redMul=function(T){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.mul(this,T)},d.prototype.redIMul=function(T){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.imul(this,T)},d.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function(T){return c(this.red&&!T.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,T)};var P={k256:null,p224:null,p192:null,p25519:null};function B(T,w){this.name=T,this.p=new d(w,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function D(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function L(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function F(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(T){if(typeof T=="string"){var w=d._prime(T);this.m=w.p,this.prime=w}else c(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}function E(T){_.call(this,T),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}B.prototype._tmp=function(){var T=new d(null);return T.words=new Array(Math.ceil(this.n/13)),T},B.prototype.ireduce=function(T){var w,C=T;do this.split(C,this.tmp),w=(C=(C=this.imulK(C)).iadd(this.tmp)).bitLength();while(w>this.n);var j=w<this.n?-1:C.ucmp(this.p);return j===0?(C.words[0]=0,C.length=1):j>0?C.isub(this.p):C.strip!==void 0?C.strip():C._strip(),C},B.prototype.split=function(T,w){T.iushrn(this.n,0,w)},B.prototype.imulK=function(T){return T.imul(this.k)},l(D,B),D.prototype.split=function(T,w){for(var C=Math.min(T.length,9),j=0;j<C;j++)w.words[j]=T.words[j];if(w.length=C,T.length<=9)return T.words[0]=0,void(T.length=1);var N=T.words[9];for(w.words[w.length++]=4194303&N,j=10;j<T.length;j++){var I=0|T.words[j];T.words[j-10]=(4194303&I)<<4|N>>>22,N=I}N>>>=22,T.words[j-10]=N,N===0&&T.length>10?T.length-=10:T.length-=9},D.prototype.imulK=function(T){T.words[T.length]=0,T.words[T.length+1]=0,T.length+=2;for(var w=0,C=0;C<T.length;C++){var j=0|T.words[C];w+=977*j,T.words[C]=67108863&w,w=64*j+(w/67108864|0)}return T.words[T.length-1]===0&&(T.length--,T.words[T.length-1]===0&&T.length--),T},l(L,B),l(O,B),l(F,B),F.prototype.imulK=function(T){for(var w=0,C=0;C<T.length;C++){var j=19*(0|T.words[C])+w,N=67108863&j;j>>>=26,T.words[C]=N,w=j}return w!==0&&(T.words[T.length++]=w),T},d._prime=function(T){if(P[T])return P[T];var w;if(T==="k256")w=new D;else if(T==="p224")w=new L;else if(T==="p192")w=new O;else{if(T!=="p25519")throw new Error("Unknown prime "+T);w=new F}return P[T]=w,w},_.prototype._verify1=function(T){c(T.negative===0,"red works only with positives"),c(T.red,"red works only with red numbers")},_.prototype._verify2=function(T,w){c((T.negative|w.negative)==0,"red works only with positives"),c(T.red&&T.red===w.red,"red works only with red numbers")},_.prototype.imod=function(T){return this.prime?this.prime.ireduce(T)._forceRed(this):(A(T,T.umod(this.m)._forceRed(this)),T)},_.prototype.neg=function(T){return T.isZero()?T.clone():this.m.sub(T)._forceRed(this)},_.prototype.add=function(T,w){this._verify2(T,w);var C=T.add(w);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},_.prototype.iadd=function(T,w){this._verify2(T,w);var C=T.iadd(w);return C.cmp(this.m)>=0&&C.isub(this.m),C},_.prototype.sub=function(T,w){this._verify2(T,w);var C=T.sub(w);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},_.prototype.isub=function(T,w){this._verify2(T,w);var C=T.isub(w);return C.cmpn(0)<0&&C.iadd(this.m),C},_.prototype.shl=function(T,w){return this._verify1(T),this.imod(T.ushln(w))},_.prototype.imul=function(T,w){return this._verify2(T,w),this.imod(T.imul(w))},_.prototype.mul=function(T,w){return this._verify2(T,w),this.imod(T.mul(w))},_.prototype.isqr=function(T){return this.imul(T,T.clone())},_.prototype.sqr=function(T){return this.mul(T,T)},_.prototype.sqrt=function(T){if(T.isZero())return T.clone();var w=this.m.andln(3);if(c(w%2==1),w===3){var C=this.m.add(new d(1)).iushrn(2);return this.pow(T,C)}for(var j=this.m.subn(1),N=0;!j.isZero()&&j.andln(1)===0;)N++,j.iushrn(1);c(!j.isZero());var I=new d(1).toRed(this),R=I.redNeg(),U=this.m.subn(1).iushrn(1),V=this.m.bitLength();for(V=new d(2*V*V).toRed(this);this.pow(V,U).cmp(R)!==0;)V.redIAdd(R);for(var z=this.pow(V,j),X=this.pow(T,j.addn(1).iushrn(1)),Q=this.pow(T,j),q=N;Q.cmp(I)!==0;){for(var H=Q,$=0;H.cmp(I)!==0;$++)H=H.redSqr();c($<q);var G=this.pow(z,new d(1).iushln(q-$-1));X=X.redMul(G),z=G.redSqr(),Q=Q.redMul(z),q=$}return X},_.prototype.invm=function(T){var w=T._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},_.prototype.pow=function(T,w){if(w.isZero())return new d(1).toRed(this);if(w.cmpn(1)===0)return T.clone();var C=new Array(16);C[0]=new d(1).toRed(this),C[1]=T;for(var j=2;j<C.length;j++)C[j]=this.mul(C[j-1],T);var N=C[0],I=0,R=0,U=w.bitLength()%26;for(U===0&&(U=26),j=w.length-1;j>=0;j--){for(var V=w.words[j],z=U-1;z>=0;z--){var X=V>>z&1;N!==C[0]&&(N=this.sqr(N)),X!==0||I!==0?(I<<=1,I|=X,(++R===4||j===0&&z===0)&&(N=this.mul(N,C[I]),R=0,I=0)):R=0}U=26}return N},_.prototype.convertTo=function(T){var w=T.umod(this.m);return w===T?w.clone():w},_.prototype.convertFrom=function(T){var w=T.clone();return w.red=null,w},d.mont=function(T){return new E(T)},l(E,_),E.prototype.convertTo=function(T){return this.imod(T.ushln(this.shift))},E.prototype.convertFrom=function(T){var w=this.imod(T.mul(this.rinv));return w.red=null,w},E.prototype.imul=function(T,w){if(T.isZero()||w.isZero())return T.words[0]=0,T.length=1,T;var C=T.imul(w),j=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=C.isub(j).iushrn(this.shift),I=N;return N.cmp(this.m)>=0?I=N.isub(this.m):N.cmpn(0)<0&&(I=N.iadd(this.m)),I._forceRed(this)},E.prototype.mul=function(T,w){if(T.isZero()||w.isZero())return new d(0)._forceRed(this);var C=T.mul(w),j=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=C.isub(j).iushrn(this.shift),I=N;return N.cmp(this.m)>=0?I=N.isub(this.m):N.cmpn(0)<0&&(I=N.iadd(this.m)),I._forceRed(this)},E.prototype.invm=function(T){return this.imod(T._invmp(this.m).mul(this.r2))._forceRed(this)}})(s===void 0||s)},{buffer:188}],187:[function(e,s,a){var i;function o(l){this.rand=l}if(s.exports=function(l){return i||(i=new o(null)),i.generate(l)},s.exports.Rand=o,o.prototype.generate=function(l){return this._rand(l)},o.prototype._rand=function(l){if(this.rand.getBytes)return this.rand.getBytes(l);for(var d=new Uint8Array(l),u=0;u<d.length;u++)d[u]=this.rand.getByte();return d},typeof self=="object")self.crypto&&self.crypto.getRandomValues?o.prototype._rand=function(l){var d=new Uint8Array(l);return self.crypto.getRandomValues(d),d}:self.msCrypto&&self.msCrypto.getRandomValues?o.prototype._rand=function(l){var d=new Uint8Array(l);return self.msCrypto.getRandomValues(d),d}:typeof window=="object"&&(o.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var c=e("crypto");if(typeof c.randomBytes!="function")throw new Error("Not supported");o.prototype._rand=function(l){return c.randomBytes(l)}}catch{}},{crypto:188}],188:[function(e,s,a){},{}],189:[function(e,s,a){var i=e("safe-buffer").Buffer;function o(h){i.isBuffer(h)||(h=i.from(h));for(var m=h.length/4|0,A=new Array(m),g=0;g<m;g++)A[g]=h.readUInt32BE(4*g);return A}function c(h){for(;0<h.length;h++)h[0]=0}function l(h,m,A,g,p){for(var b,x,v,y,S=A[0],M=A[1],P=A[2],B=A[3],D=h[0]^m[0],L=h[1]^m[1],O=h[2]^m[2],F=h[3]^m[3],_=4,E=1;E<p;E++)b=S[D>>>24]^M[L>>>16&255]^P[O>>>8&255]^B[255&F]^m[_++],x=S[L>>>24]^M[O>>>16&255]^P[F>>>8&255]^B[255&D]^m[_++],v=S[O>>>24]^M[F>>>16&255]^P[D>>>8&255]^B[255&L]^m[_++],y=S[F>>>24]^M[D>>>16&255]^P[L>>>8&255]^B[255&O]^m[_++],D=b,L=x,O=v,F=y;return b=(g[D>>>24]<<24|g[L>>>16&255]<<16|g[O>>>8&255]<<8|g[255&F])^m[_++],x=(g[L>>>24]<<24|g[O>>>16&255]<<16|g[F>>>8&255]<<8|g[255&D])^m[_++],v=(g[O>>>24]<<24|g[F>>>16&255]<<16|g[D>>>8&255]<<8|g[255&L])^m[_++],y=(g[F>>>24]<<24|g[D>>>16&255]<<16|g[L>>>8&255]<<8|g[255&O])^m[_++],[b>>>=0,x>>>=0,v>>>=0,y>>>=0]}var d=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var h=new Array(256),m=0;m<256;m++)h[m]=m<128?m<<1:m<<1^283;for(var A=[],g=[],p=[[],[],[],[]],b=[[],[],[],[]],x=0,v=0,y=0;y<256;++y){var S=v^v<<1^v<<2^v<<3^v<<4;S=S>>>8^255&S^99,A[x]=S,g[S]=x;var M=h[x],P=h[M],B=h[P],D=257*h[S]^16843008*S;p[0][x]=D<<24|D>>>8,p[1][x]=D<<16|D>>>16,p[2][x]=D<<8|D>>>24,p[3][x]=D,D=16843009*B^65537*P^257*M^16843008*x,b[0][S]=D<<24|D>>>8,b[1][S]=D<<16|D>>>16,b[2][S]=D<<8|D>>>24,b[3][S]=D,x===0?x=v=1:(x=M^h[h[h[B^M]]],v^=h[h[v]])}return{SBOX:A,INV_SBOX:g,SUB_MIX:p,INV_SUB_MIX:b}}();function f(h){this._key=o(h),this._reset()}f.blockSize=16,f.keySize=32,f.prototype.blockSize=f.blockSize,f.prototype.keySize=f.keySize,f.prototype._reset=function(){for(var h=this._key,m=h.length,A=m+6,g=4*(A+1),p=[],b=0;b<m;b++)p[b]=h[b];for(b=m;b<g;b++){var x=p[b-1];b%m==0?(x=x<<8|x>>>24,x=u.SBOX[x>>>24]<<24|u.SBOX[x>>>16&255]<<16|u.SBOX[x>>>8&255]<<8|u.SBOX[255&x],x^=d[b/m|0]<<24):m>6&&b%m==4&&(x=u.SBOX[x>>>24]<<24|u.SBOX[x>>>16&255]<<16|u.SBOX[x>>>8&255]<<8|u.SBOX[255&x]),p[b]=p[b-m]^x}for(var v=[],y=0;y<g;y++){var S=g-y,M=p[S-(y%4?0:4)];v[y]=y<4||S<=4?M:u.INV_SUB_MIX[0][u.SBOX[M>>>24]]^u.INV_SUB_MIX[1][u.SBOX[M>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[M>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&M]]}this._nRounds=A,this._keySchedule=p,this._invKeySchedule=v},f.prototype.encryptBlockRaw=function(h){return l(h=o(h),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},f.prototype.encryptBlock=function(h){var m=this.encryptBlockRaw(h),A=i.allocUnsafe(16);return A.writeUInt32BE(m[0],0),A.writeUInt32BE(m[1],4),A.writeUInt32BE(m[2],8),A.writeUInt32BE(m[3],12),A},f.prototype.decryptBlock=function(h){var m=(h=o(h))[1];h[1]=h[3],h[3]=m;var A=l(h,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),g=i.allocUnsafe(16);return g.writeUInt32BE(A[0],0),g.writeUInt32BE(A[3],4),g.writeUInt32BE(A[2],8),g.writeUInt32BE(A[1],12),g},f.prototype.scrub=function(){c(this._keySchedule),c(this._invKeySchedule),c(this._key)},s.exports.AES=f},{"safe-buffer":494}],190:[function(e,s,a){var i=e("./aes"),o=e("safe-buffer").Buffer,c=e("cipher-base"),l=e("inherits"),d=e("./ghash"),u=e("buffer-xor"),f=e("./incr32");function h(m,A,g,p){c.call(this);var b=o.alloc(4,0);this._cipher=new i.AES(A);var x=this._cipher.encryptBlock(b);this._ghash=new d(x),g=function(v,y,S){if(y.length===12)return v._finID=o.concat([y,o.from([0,0,0,1])]),o.concat([y,o.from([0,0,0,2])]);var M=new d(S),P=y.length,B=P%16;M.update(y),B&&(B=16-B,M.update(o.alloc(B,0))),M.update(o.alloc(8,0));var D=8*P,L=o.alloc(8);L.writeUIntBE(D,0,8),M.update(L),v._finID=M.state;var O=o.from(v._finID);return f(O),O}(this,g,x),this._prev=o.from(g),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=p,this._alen=0,this._len=0,this._mode=m,this._authTag=null,this._called=!1}l(h,c),h.prototype._update=function(m){if(!this._called&&this._alen){var A=16-this._alen%16;A<16&&(A=o.alloc(A,0),this._ghash.update(A))}this._called=!0;var g=this._mode.encrypt(this,m);return this._decrypt?this._ghash.update(m):this._ghash.update(g),this._len+=m.length,g},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var m=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(A,g){var p=0;A.length!==g.length&&p++;for(var b=Math.min(A.length,g.length),x=0;x<b;++x)p+=A[x]^g[x];return p}(m,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=m,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!o.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(m){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=m},h.prototype.setAAD=function(m){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(m),this._alen+=m.length},s.exports=h},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,s,a){var i=e("./encrypter"),o=e("./decrypter"),c=e("./modes/list.json");a.createCipher=a.Cipher=i.createCipher,a.createCipheriv=a.Cipheriv=i.createCipheriv,a.createDecipher=a.Decipher=o.createDecipher,a.createDecipheriv=a.Decipheriv=o.createDecipheriv,a.listCiphers=a.getCiphers=function(){return Object.keys(c)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,s,a){var i=e("./authCipher"),o=e("safe-buffer").Buffer,c=e("./modes"),l=e("./streamCipher"),d=e("cipher-base"),u=e("./aes"),f=e("evp_bytestokey");function h(g,p,b){d.call(this),this._cache=new m,this._last=void 0,this._cipher=new u.AES(p),this._prev=o.from(b),this._mode=g,this._autopadding=!0}function m(){this.cache=o.allocUnsafe(0)}function A(g,p,b){var x=c[g.toLowerCase()];if(!x)throw new TypeError("invalid suite type");if(typeof b=="string"&&(b=o.from(b)),x.mode!=="GCM"&&b.length!==x.iv)throw new TypeError("invalid iv length "+b.length);if(typeof p=="string"&&(p=o.from(p)),p.length!==x.key/8)throw new TypeError("invalid key length "+p.length);return x.type==="stream"?new l(x.module,p,b,!0):x.type==="auth"?new i(x.module,p,b,!0):new h(x.module,p,b)}e("inherits")(h,d),h.prototype._update=function(g){var p,b;this._cache.add(g);for(var x=[];p=this._cache.get(this._autopadding);)b=this._mode.decrypt(this,p),x.push(b);return o.concat(x)},h.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return function(p){var b=p[15];if(b<1||b>16)throw new Error("unable to decrypt data");for(var x=-1;++x<b;)if(p[x+(16-b)]!==b)throw new Error("unable to decrypt data");if(b!==16)return p.slice(0,16-b)}(this._mode.decrypt(this,g));if(g)throw new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this},m.prototype.add=function(g){this.cache=o.concat([this.cache,g])},m.prototype.get=function(g){var p;if(g){if(this.cache.length>16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p}else if(this.cache.length>=16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p;return null},m.prototype.flush=function(){if(this.cache.length)return this.cache},a.createDecipher=function(g,p){var b=c[g.toLowerCase()];if(!b)throw new TypeError("invalid suite type");var x=f(p,!1,b.key,b.iv);return A(g,x.key,x.iv)},a.createDecipheriv=A},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,s,a){var i=e("./modes"),o=e("./authCipher"),c=e("safe-buffer").Buffer,l=e("./streamCipher"),d=e("cipher-base"),u=e("./aes"),f=e("evp_bytestokey");function h(p,b,x){d.call(this),this._cache=new A,this._cipher=new u.AES(b),this._prev=c.from(x),this._mode=p,this._autopadding=!0}e("inherits")(h,d),h.prototype._update=function(p){var b,x;this._cache.add(p);for(var v=[];b=this._cache.get();)x=this._mode.encrypt(this,b),v.push(x);return c.concat(v)};var m=c.alloc(16,16);function A(){this.cache=c.allocUnsafe(0)}function g(p,b,x){var v=i[p.toLowerCase()];if(!v)throw new TypeError("invalid suite type");if(typeof b=="string"&&(b=c.from(b)),b.length!==v.key/8)throw new TypeError("invalid key length "+b.length);if(typeof x=="string"&&(x=c.from(x)),v.mode!=="GCM"&&x.length!==v.iv)throw new TypeError("invalid iv length "+x.length);return v.type==="stream"?new l(v.module,b,x):v.type==="auth"?new o(v.module,b,x):new h(v.module,b,x)}h.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return p=this._mode.encrypt(this,p),this._cipher.scrub(),p;if(!p.equals(m))throw this._cipher.scrub(),new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this},A.prototype.add=function(p){this.cache=c.concat([this.cache,p])},A.prototype.get=function(){if(this.cache.length>15){var p=this.cache.slice(0,16);return this.cache=this.cache.slice(16),p}return null},A.prototype.flush=function(){for(var p=16-this.cache.length,b=c.allocUnsafe(p),x=-1;++x<p;)b.writeUInt8(p,x);return c.concat([this.cache,b])},a.createCipheriv=g,a.createCipher=function(p,b){var x=i[p.toLowerCase()];if(!x)throw new TypeError("invalid suite type");var v=f(b,!1,x.key,x.iv);return g(p,v.key,v.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,s,a){var i=e("safe-buffer").Buffer,o=i.alloc(16,0);function c(d){var u=i.allocUnsafe(16);return u.writeUInt32BE(d[0]>>>0,0),u.writeUInt32BE(d[1]>>>0,4),u.writeUInt32BE(d[2]>>>0,8),u.writeUInt32BE(d[3]>>>0,12),u}function l(d){this.h=d,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}l.prototype.ghash=function(d){for(var u=-1;++u<d.length;)this.state[u]^=d[u];this._multiply()},l.prototype._multiply=function(){for(var d,u,f,h=[(d=this.h).readUInt32BE(0),d.readUInt32BE(4),d.readUInt32BE(8),d.readUInt32BE(12)],m=[0,0,0,0],A=-1;++A<128;){for(this.state[~~(A/8)]&1<<7-A%8&&(m[0]^=h[0],m[1]^=h[1],m[2]^=h[2],m[3]^=h[3]),f=(1&h[3])!=0,u=3;u>0;u--)h[u]=h[u]>>>1|(1&h[u-1])<<31;h[0]=h[0]>>>1,f&&(h[0]=h[0]^225<<24)}this.state=c(m)},l.prototype.update=function(d){var u;for(this.cache=i.concat([this.cache,d]);this.cache.length>=16;)u=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(u)},l.prototype.final=function(d,u){return this.cache.length&&this.ghash(i.concat([this.cache,o],16)),this.ghash(c([0,d,0,u])),this.state},s.exports=l},{"safe-buffer":494}],195:[function(e,s,a){s.exports=function(i){for(var o,c=i.length;c--;){if((o=i.readUInt8(c))!==255){o++,i.writeUInt8(o,c);break}i.writeUInt8(0,c)}}},{}],196:[function(e,s,a){var i=e("buffer-xor");a.encrypt=function(o,c){var l=i(c,o._prev);return o._prev=o._cipher.encryptBlock(l),o._prev},a.decrypt=function(o,c){var l=o._prev;o._prev=c;var d=o._cipher.decryptBlock(c);return i(d,l)}},{"buffer-xor":219}],197:[function(e,s,a){var i=e("safe-buffer").Buffer,o=e("buffer-xor");function c(l,d,u){var f=d.length,h=o(d,l._cache);return l._cache=l._cache.slice(f),l._prev=i.concat([l._prev,u?d:h]),h}a.encrypt=function(l,d,u){for(var f,h=i.allocUnsafe(0);d.length;){if(l._cache.length===0&&(l._cache=l._cipher.encryptBlock(l._prev),l._prev=i.allocUnsafe(0)),!(l._cache.length<=d.length)){h=i.concat([h,c(l,d,u)]);break}f=l._cache.length,h=i.concat([h,c(l,d.slice(0,f),u)]),d=d.slice(f)}return h}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,s,a){var i=e("safe-buffer").Buffer;function o(l,d,u){for(var f,h,m=-1,A=0;++m<8;)f=d&1<<7-m?128:0,A+=(128&(h=l._cipher.encryptBlock(l._prev)[0]^f))>>m%8,l._prev=c(l._prev,u?f:h);return A}function c(l,d){var u=l.length,f=-1,h=i.allocUnsafe(l.length);for(l=i.concat([l,i.from([d])]);++f<u;)h[f]=l[f]<<1|l[f+1]>>7;return h}a.encrypt=function(l,d,u){for(var f=d.length,h=i.allocUnsafe(f),m=-1;++m<f;)h[m]=o(l,d[m],u);return h}},{"safe-buffer":494}],199:[function(e,s,a){var i=e("safe-buffer").Buffer;function o(c,l,d){var u=c._cipher.encryptBlock(c._prev)[0]^l;return c._prev=i.concat([c._prev.slice(1),i.from([d?l:u])]),u}a.encrypt=function(c,l,d){for(var u=l.length,f=i.allocUnsafe(u),h=-1;++h<u;)f[h]=o(c,l[h],d);return f}},{"safe-buffer":494}],200:[function(e,s,a){var i=e("buffer-xor"),o=e("safe-buffer").Buffer,c=e("../incr32");function l(d){var u=d._cipher.encryptBlockRaw(d._prev);return c(d._prev),u}a.encrypt=function(d,u){var f=Math.ceil(u.length/16),h=d._cache.length;d._cache=o.concat([d._cache,o.allocUnsafe(16*f)]);for(var m=0;m<f;m++){var A=l(d),g=h+16*m;d._cache.writeUInt32BE(A[0],g+0),d._cache.writeUInt32BE(A[1],g+4),d._cache.writeUInt32BE(A[2],g+8),d._cache.writeUInt32BE(A[3],g+12)}var p=d._cache.slice(0,u.length);return d._cache=d._cache.slice(u.length),i(u,p)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,s,a){a.encrypt=function(i,o){return i._cipher.encryptBlock(o)},a.decrypt=function(i,o){return i._cipher.decryptBlock(o)}},{}],202:[function(e,s,a){var i={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},o=e("./list.json");for(var c in o)o[c].module=i[o[c].mode];s.exports=o},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,s,a){s.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,s,a){(function(i){(function(){var o=e("buffer-xor");function c(l){return l._prev=l._cipher.encryptBlock(l._prev),l._prev}a.encrypt=function(l,d){for(;l._cache.length<d.length;)l._cache=i.concat([l._cache,c(l)]);var u=l._cache.slice(0,d.length);return l._cache=l._cache.slice(d.length),o(d,u)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,s,a){var i=e("./aes"),o=e("safe-buffer").Buffer,c=e("cipher-base");function l(d,u,f,h){c.call(this),this._cipher=new i.AES(u),this._prev=o.from(f),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=h,this._mode=d}e("inherits")(l,c),l.prototype._update=function(d){return this._mode.encrypt(this,d,this._decrypt)},l.prototype._final=function(){this._cipher.scrub()},s.exports=l},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,s,a){var i=e("browserify-des"),o=e("browserify-aes/browser"),c=e("browserify-aes/modes"),l=e("browserify-des/modes"),d=e("evp_bytestokey");function u(h,m,A){if(h=h.toLowerCase(),c[h])return o.createCipheriv(h,m,A);if(l[h])return new i({key:m,iv:A,mode:h});throw new TypeError("invalid suite type")}function f(h,m,A){if(h=h.toLowerCase(),c[h])return o.createDecipheriv(h,m,A);if(l[h])return new i({key:m,iv:A,mode:h,decrypt:!0});throw new TypeError("invalid suite type")}a.createCipher=a.Cipher=function(h,m){var A,g;if(h=h.toLowerCase(),c[h])A=c[h].key,g=c[h].iv;else{if(!l[h])throw new TypeError("invalid suite type");A=8*l[h].key,g=l[h].iv}var p=d(m,!1,A,g);return u(h,p.key,p.iv)},a.createCipheriv=a.Cipheriv=u,a.createDecipher=a.Decipher=function(h,m){var A,g;if(h=h.toLowerCase(),c[h])A=c[h].key,g=c[h].iv;else{if(!l[h])throw new TypeError("invalid suite type");A=8*l[h].key,g=l[h].iv}var p=d(m,!1,A,g);return f(h,p.key,p.iv)},a.createDecipheriv=a.Decipheriv=f,a.listCiphers=a.getCiphers=function(){return Object.keys(l).concat(o.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,s,a){var i=e("cipher-base"),o=e("des.js"),c=e("inherits"),l=e("safe-buffer").Buffer,d={"des-ede3-cbc":o.CBC.instantiate(o.EDE),"des-ede3":o.EDE,"des-ede-cbc":o.CBC.instantiate(o.EDE),"des-ede":o.EDE,"des-cbc":o.CBC.instantiate(o.DES),"des-ecb":o.DES};function u(f){i.call(this);var h,m=f.mode.toLowerCase(),A=d[m];h=f.decrypt?"decrypt":"encrypt";var g=f.key;l.isBuffer(g)||(g=l.from(g)),m!=="des-ede"&&m!=="des-ede-cbc"||(g=l.concat([g,g.slice(0,8)]));var p=f.iv;l.isBuffer(p)||(p=l.from(p)),this._des=A.create({key:g,iv:p,type:h})}d.des=d["des-cbc"],d.des3=d["des-ede3-cbc"],s.exports=u,c(u,i),u.prototype._update=function(f){return l.from(this._des.update(f))},u.prototype._final=function(){return l.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,s,a){a["des-ecb"]={key:8,iv:0},a["des-cbc"]=a.des={key:8,iv:8},a["des-ede3-cbc"]=a.des3={key:24,iv:8},a["des-ede3"]={key:24,iv:0},a["des-ede-cbc"]={key:16,iv:8},a["des-ede"]={key:16,iv:0}},{}],209:[function(e,s,a){(function(i){(function(){var o=e("bn.js"),c=e("randombytes");function l(u){var f,h=u.modulus.byteLength();do f=new o(c(h));while(f.cmp(u.modulus)>=0||!f.umod(u.prime1)||!f.umod(u.prime2));return f}function d(u,f){var h=function(P){var B=l(P);return{blinder:B.toRed(o.mont(P.modulus)).redPow(new o(P.publicExponent)).fromRed(),unblinder:B.invm(P.modulus)}}(f),m=f.modulus.byteLength(),A=new o(u).mul(h.blinder).umod(f.modulus),g=A.toRed(o.mont(f.prime1)),p=A.toRed(o.mont(f.prime2)),b=f.coefficient,x=f.prime1,v=f.prime2,y=g.redPow(f.exponent1).fromRed(),S=p.redPow(f.exponent2).fromRed(),M=y.isub(S).imul(b).umod(x).imul(v);return S.iadd(M).imul(h.unblinder).umod(f.modulus).toArrayLike(i,"be",m)}d.getr=l,s.exports=d}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,s,a){s.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,s,a){s.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,s,a){s.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,s,a){var i=e("safe-buffer").Buffer,o=e("create-hash"),c=e("readable-stream"),l=e("inherits"),d=e("./sign"),u=e("./verify"),f=e("./algorithms.json");function h(p){c.Writable.call(this);var b=f[p];if(!b)throw new Error("Unknown message digest");this._hashType=b.hash,this._hash=o(b.hash),this._tag=b.id,this._signType=b.sign}function m(p){c.Writable.call(this);var b=f[p];if(!b)throw new Error("Unknown message digest");this._hash=o(b.hash),this._tag=b.id,this._signType=b.sign}function A(p){return new h(p)}function g(p){return new m(p)}Object.keys(f).forEach(function(p){f[p].id=i.from(f[p].id,"hex"),f[p.toLowerCase()]=f[p]}),l(h,c.Writable),h.prototype._write=function(p,b,x){this._hash.update(p),x()},h.prototype.update=function(p,b){return typeof p=="string"&&(p=i.from(p,b)),this._hash.update(p),this},h.prototype.sign=function(p,b){this.end();var x=this._hash.digest(),v=d(x,p,this._hashType,this._signType,this._tag);return b?v.toString(b):v},l(m,c.Writable),m.prototype._write=function(p,b,x){this._hash.update(p),x()},m.prototype.update=function(p,b){return typeof p=="string"&&(p=i.from(p,b)),this._hash.update(p),this},m.prototype.verify=function(p,b,x){typeof b=="string"&&(b=i.from(b,x)),this.end();var v=this._hash.digest();return u(b,v,p,this._signType,this._tag)},s.exports={Sign:A,Verify:g,createSign:A,createVerify:g}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,s,a){var i=e("safe-buffer").Buffer,o=e("create-hmac"),c=e("browserify-rsa"),l=e("elliptic").ec,d=e("bn.js"),u=e("parse-asn1"),f=e("./curves.json");function h(p,b,x,v){if((p=i.from(p.toArray())).length<b.byteLength()){var y=i.alloc(b.byteLength()-p.length);p=i.concat([y,p])}var S=x.length,M=function(D,L){D=(D=m(D,L)).mod(L);var O=i.from(D.toArray());if(O.length<L.byteLength()){var F=i.alloc(L.byteLength()-O.length);O=i.concat([F,O])}return O}(x,b),P=i.alloc(S);P.fill(1);var B=i.alloc(S);return B=o(v,B).update(P).update(i.from([0])).update(p).update(M).digest(),P=o(v,B).update(P).digest(),{k:B=o(v,B).update(P).update(i.from([1])).update(p).update(M).digest(),v:P=o(v,B).update(P).digest()}}function m(p,b){var x=new d(p),v=(p.length<<3)-b.bitLength();return v>0&&x.ishrn(v),x}function A(p,b,x){var v,y;do{for(v=i.alloc(0);8*v.length<p.bitLength();)b.v=o(x,b.k).update(b.v).digest(),v=i.concat([v,b.v]);y=m(v,p),b.k=o(x,b.k).update(b.v).update(i.from([0])).digest(),b.v=o(x,b.k).update(b.v).digest()}while(y.cmp(p)!==-1);return y}function g(p,b,x,v){return p.toRed(d.mont(x)).redPow(b).fromRed().mod(v)}s.exports=function(p,b,x,v,y){var S=u(b);if(S.curve){if(v!=="ecdsa"&&v!=="ecdsa/rsa")throw new Error("wrong private key type");return function(D,L){var O=f[L.curve.join(".")];if(!O)throw new Error("unknown curve "+L.curve.join("."));var F=new l(O).keyFromPrivate(L.privateKey).sign(D);return i.from(F.toDER())}(p,S)}if(S.type==="dsa"){if(v!=="dsa")throw new Error("wrong private key type");return function(D,L,O){for(var F,_=L.params.priv_key,E=L.params.p,T=L.params.q,w=L.params.g,C=new d(0),j=m(D,T).mod(T),N=!1,I=h(_,T,D,O);N===!1;)F=A(T,I,O),C=g(w,F,E,T),(N=F.invm(T).imul(j.add(_.mul(C))).mod(T)).cmpn(0)===0&&(N=!1,C=new d(0));return function(R,U){R=R.toArray(),U=U.toArray(),128&R[0]&&(R=[0].concat(R)),128&U[0]&&(U=[0].concat(U));var V=[48,R.length+U.length+4,2,R.length];return V=V.concat(R,[2,U.length],U),i.from(V)}(C,N)}(p,S,x)}if(v!=="rsa"&&v!=="ecdsa/rsa")throw new Error("wrong private key type");p=i.concat([y,p]);for(var M=S.modulus.byteLength(),P=[0,1];p.length+P.length+1<M;)P.push(255);P.push(0);for(var B=-1;++B<p.length;)P.push(p[B]);return c(P,S)},s.exports.getKey=h,s.exports.makeKey=A},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,s,a){var i=e("safe-buffer").Buffer,o=e("bn.js"),c=e("elliptic").ec,l=e("parse-asn1"),d=e("./curves.json");function u(f,h){if(f.cmpn(0)<=0)throw new Error("invalid sig");if(f.cmp(h)>=h)throw new Error("invalid sig")}s.exports=function(f,h,m,A,g){var p=l(m);if(p.type==="ec"){if(A!=="ecdsa"&&A!=="ecdsa/rsa")throw new Error("wrong public key type");return function(P,B,D){var L=d[D.data.algorithm.curve.join(".")];if(!L)throw new Error("unknown curve "+D.data.algorithm.curve.join("."));var O=new c(L),F=D.data.subjectPrivateKey.data;return O.verify(B,P,F)}(f,h,p)}if(p.type==="dsa"){if(A!=="dsa")throw new Error("wrong public key type");return function(P,B,D){var L=D.data.p,O=D.data.q,F=D.data.g,_=D.data.pub_key,E=l.signature.decode(P,"der"),T=E.s,w=E.r;u(T,O),u(w,O);var C=o.mont(L),j=T.invm(O);return F.toRed(C).redPow(new o(B).mul(j).mod(O)).fromRed().mul(_.toRed(C).redPow(w.mul(j).mod(O)).fromRed()).mod(L).mod(O).cmp(w)===0}(f,h,p)}if(A!=="rsa"&&A!=="ecdsa/rsa")throw new Error("wrong public key type");h=i.concat([g,h]);for(var b=p.modulus.byteLength(),x=[1],v=0;h.length+x.length+2<b;)x.push(255),v++;x.push(0);for(var y=-1;++y<h.length;)x.push(h[y]);x=i.from(x);var S=o.mont(p.modulus);f=(f=new o(f).toRed(S)).redPow(new o(p.publicExponent)),f=i.from(f.fromRed().toArray());var M=v<8?1:0;for(b=Math.min(f.length,x.length),f.length!==x.length&&(M=1),y=-1;++y<b;)M|=f[y]^x[y];return M===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,s,a){},{}],217:[function(e,s,a){var i=e("buffer"),o=i.Buffer;function c(d,u){for(var f in d)u[f]=d[f]}function l(d,u,f){return o(d,u,f)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?s.exports=i:(c(i,a),a.Buffer=l),c(o,l),l.from=function(d,u,f){if(typeof d=="number")throw new TypeError("Argument must not be a number");return o(d,u,f)},l.alloc=function(d,u,f){if(typeof d!="number")throw new TypeError("Argument must be a number");var h=o(d);return u!==void 0?typeof f=="string"?h.fill(u,f):h.fill(u):h.fill(0),h},l.allocUnsafe=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return o(d)},l.allocUnsafeSlow=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(d)}},{buffer:220}],218:[function(e,s,a){var i=e("safe-buffer").Buffer,o=i.isEncoding||function(p){switch((p=""+p)&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function c(p){var b;switch(this.encoding=function(x){var v=function(y){if(!y)return"utf8";for(var S;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(S)return;y=(""+y).toLowerCase(),S=!0}}(x);if(typeof v!="string"&&(i.isEncoding===o||!o(x)))throw new Error("Unknown encoding: "+x);return v||x}(p),this.encoding){case"utf16le":this.text=u,this.end=f,b=4;break;case"utf8":this.fillLast=d,b=4;break;case"base64":this.text=h,this.end=m,b=3;break;default:return this.write=A,void(this.end=g)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(b)}function l(p){return p<=127?0:p>>5==6?2:p>>4==14?3:p>>3==30?4:p>>6==2?-1:-2}function d(p){var b=this.lastTotal-this.lastNeed,x=function(v,y,S){if((192&y[0])!=128)return v.lastNeed=0,"�";if(v.lastNeed>1&&y.length>1){if((192&y[1])!=128)return v.lastNeed=1,"�";if(v.lastNeed>2&&y.length>2&&(192&y[2])!=128)return v.lastNeed=2,"�"}}(this,p);return x!==void 0?x:this.lastNeed<=p.length?(p.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(p.copy(this.lastChar,b,0,p.length),void(this.lastNeed-=p.length))}function u(p,b){if((p.length-b)%2==0){var x=p.toString("utf16le",b);if(x){var v=x.charCodeAt(x.length-1);if(v>=55296&&v<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],x.slice(0,-1)}return x}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",b,p.length-1)}function f(p){var b=p&&p.length?this.write(p):"";if(this.lastNeed){var x=this.lastTotal-this.lastNeed;return b+this.lastChar.toString("utf16le",0,x)}return b}function h(p,b){var x=(p.length-b)%3;return x===0?p.toString("base64",b):(this.lastNeed=3-x,this.lastTotal=3,x===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",b,p.length-x))}function m(p){var b=p&&p.length?this.write(p):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function A(p){return p.toString(this.encoding)}function g(p){return p&&p.length?this.write(p):""}a.StringDecoder=c,c.prototype.write=function(p){if(p.length===0)return"";var b,x;if(this.lastNeed){if((b=this.fillLast(p))===void 0)return"";x=this.lastNeed,this.lastNeed=0}else x=0;return x<p.length?b?b+this.text(p,x):this.text(p,x):b||""},c.prototype.end=function(p){var b=p&&p.length?this.write(p):"";return this.lastNeed?b+"�":b},c.prototype.text=function(p,b){var x=function(y,S,M){var P=S.length-1;if(P<M)return 0;var B=l(S[P]);return B>=0?(B>0&&(y.lastNeed=B-1),B):--P<M||B===-2?0:(B=l(S[P]))>=0?(B>0&&(y.lastNeed=B-2),B):--P<M||B===-2?0:(B=l(S[P]))>=0?(B>0&&(B===2?B=0:y.lastNeed=B-3),B):0}(this,p,b);if(!this.lastNeed)return p.toString("utf8",b);this.lastTotal=x;var v=p.length-(x-this.lastNeed);return p.copy(this.lastChar,0,v),p.toString("utf8",b,v)},c.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length}},{"safe-buffer":217}],219:[function(e,s,a){(function(i){(function(){s.exports=function(o,c){for(var l=Math.min(o.length,c.length),d=new i(l),u=0;u<l;++u)d[u]=o[u]^c[u];return d}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,s,a){(function(i){(function(){var o=e("base64-js"),c=e("ieee754");a.Buffer=d,a.SlowBuffer=function(H){return+H!=H&&(H=0),d.alloc(+H)},a.INSPECT_MAX_BYTES=50;function l(H){if(H>2147483647)throw new RangeError('The value "'+H+'" is invalid for option "size"');var $=new Uint8Array(H);return $.__proto__=d.prototype,$}function d(H,$,G){if(typeof H=="number"){if(typeof $=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(H)}return u(H,$,G)}function u(H,$,G){if(typeof H=="string")return function(K,ne){if(typeof ne=="string"&&ne!==""||(ne="utf8"),!d.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);var ce=0|g(K,ne),oe=l(ce),ee=oe.write(K,ne);return ee!==ce&&(oe=oe.slice(0,ee)),oe}(H,$);if(ArrayBuffer.isView(H))return m(H);if(H==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H);if(Q(H,ArrayBuffer)||H&&Q(H.buffer,ArrayBuffer))return function(K,ne,ce){if(ne<0||K.byteLength<ne)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<ne+(ce||0))throw new RangeError('"length" is outside of buffer bounds');var oe;return oe=ne===void 0&&ce===void 0?new Uint8Array(K):ce===void 0?new Uint8Array(K,ne):new Uint8Array(K,ne,ce),oe.__proto__=d.prototype,oe}(H,$,G);if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var J=H.valueOf&&H.valueOf();if(J!=null&&J!==H)return d.from(J,$,G);var te=function(K){if(d.isBuffer(K)){var ne=0|A(K.length),ce=l(ne);return ce.length===0||K.copy(ce,0,0,ne),ce}if(K.length!==void 0)return typeof K.length!="number"||q(K.length)?l(0):m(K);if(K.type==="Buffer"&&Array.isArray(K.data))return m(K.data)}(H);if(te)return te;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return d.from(H[Symbol.toPrimitive]("string"),$,G);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}function f(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function h(H){return f(H),l(H<0?0:0|A(H))}function m(H){for(var $=H.length<0?0:0|A(H.length),G=l($),J=0;J<$;J+=1)G[J]=255&H[J];return G}function A(H){if(H>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|H}function g(H,$){if(d.isBuffer(H))return H.length;if(ArrayBuffer.isView(H)||Q(H,ArrayBuffer))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);var G=H.length,J=arguments.length>2&&arguments[2]===!0;if(!J&&G===0)return 0;for(var te=!1;;)switch($){case"ascii":case"latin1":case"binary":return G;case"utf8":case"utf-8":return V(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*G;case"hex":return G>>>1;case"base64":return z(H).length;default:if(te)return J?-1:V(H).length;$=(""+$).toLowerCase(),te=!0}}function p(H,$,G){var J=!1;if(($===void 0||$<0)&&($=0),$>this.length||((G===void 0||G>this.length)&&(G=this.length),G<=0)||(G>>>=0)<=($>>>=0))return"";for(H||(H="utf8");;)switch(H){case"hex":return E(this,$,G);case"utf8":case"utf-8":return O(this,$,G);case"ascii":return F(this,$,G);case"latin1":case"binary":return _(this,$,G);case"base64":return L(this,$,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,$,G);default:if(J)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),J=!0}}function b(H,$,G){var J=H[$];H[$]=H[G],H[G]=J}function x(H,$,G,J,te){if(H.length===0)return-1;if(typeof G=="string"?(J=G,G=0):G>2147483647?G=2147483647:G<-2147483648&&(G=-2147483648),q(G=+G)&&(G=te?0:H.length-1),G<0&&(G=H.length+G),G>=H.length){if(te)return-1;G=H.length-1}else if(G<0){if(!te)return-1;G=0}if(typeof $=="string"&&($=d.from($,J)),d.isBuffer($))return $.length===0?-1:v(H,$,G,J,te);if(typeof $=="number")return $&=255,typeof Uint8Array.prototype.indexOf=="function"?te?Uint8Array.prototype.indexOf.call(H,$,G):Uint8Array.prototype.lastIndexOf.call(H,$,G):v(H,[$],G,J,te);throw new TypeError("val must be string, number or Buffer")}function v(H,$,G,J,te){var K,ne=1,ce=H.length,oe=$.length;if(J!==void 0&&((J=String(J).toLowerCase())==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(H.length<2||$.length<2)return-1;ne=2,ce/=2,oe/=2,G/=2}function ee(se,re){return ne===1?se[re]:se.readUInt16BE(re*ne)}if(te){var W=-1;for(K=G;K<ce;K++)if(ee(H,K)===ee($,W===-1?0:K-W)){if(W===-1&&(W=K),K-W+1===oe)return W*ne}else W!==-1&&(K-=K-W),W=-1}else for(G+oe>ce&&(G=ce-oe),K=G;K>=0;K--){for(var Y=!0,Z=0;Z<oe;Z++)if(ee(H,K+Z)!==ee($,Z)){Y=!1;break}if(Y)return K}return-1}function y(H,$,G,J){G=Number(G)||0;var te=H.length-G;J?(J=Number(J))>te&&(J=te):J=te;var K=$.length;J>K/2&&(J=K/2);for(var ne=0;ne<J;++ne){var ce=parseInt($.substr(2*ne,2),16);if(q(ce))return ne;H[G+ne]=ce}return ne}function S(H,$,G,J){return X(V($,H.length-G),H,G,J)}function M(H,$,G,J){return X(function(te){for(var K=[],ne=0;ne<te.length;++ne)K.push(255&te.charCodeAt(ne));return K}($),H,G,J)}function P(H,$,G,J){return M(H,$,G,J)}function B(H,$,G,J){return X(z($),H,G,J)}function D(H,$,G,J){return X(function(te,K){for(var ne,ce,oe,ee=[],W=0;W<te.length&&!((K-=2)<0);++W)ne=te.charCodeAt(W),ce=ne>>8,oe=ne%256,ee.push(oe),ee.push(ce);return ee}($,H.length-G),H,G,J)}function L(H,$,G){return $===0&&G===H.length?o.fromByteArray(H):o.fromByteArray(H.slice($,G))}function O(H,$,G){G=Math.min(H.length,G);for(var J=[],te=$;te<G;){var K,ne,ce,oe,ee=H[te],W=null,Y=ee>239?4:ee>223?3:ee>191?2:1;if(te+Y<=G)switch(Y){case 1:ee<128&&(W=ee);break;case 2:(192&(K=H[te+1]))==128&&(oe=(31&ee)<<6|63&K)>127&&(W=oe);break;case 3:K=H[te+1],ne=H[te+2],(192&K)==128&&(192&ne)==128&&(oe=(15&ee)<<12|(63&K)<<6|63&ne)>2047&&(oe<55296||oe>57343)&&(W=oe);break;case 4:K=H[te+1],ne=H[te+2],ce=H[te+3],(192&K)==128&&(192&ne)==128&&(192&ce)==128&&(oe=(15&ee)<<18|(63&K)<<12|(63&ne)<<6|63&ce)>65535&&oe<1114112&&(W=oe)}W===null?(W=65533,Y=1):W>65535&&(W-=65536,J.push(W>>>10&1023|55296),W=56320|1023&W),J.push(W),te+=Y}return function(Z){var se=Z.length;if(se<=4096)return String.fromCharCode.apply(String,Z);for(var re="",le=0;le<se;)re+=String.fromCharCode.apply(String,Z.slice(le,le+=4096));return re}(J)}a.kMaxLength=2147483647,d.TYPED_ARRAY_SUPPORT=function(){try{var H=new Uint8Array(1);return H.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},H.foo()===42}catch{return!1}}(),d.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),d.poolSize=8192,d.from=function(H,$,G){return u(H,$,G)},d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,d.alloc=function(H,$,G){return function(J,te,K){return f(J),J<=0?l(J):te!==void 0?typeof K=="string"?l(J).fill(te,K):l(J).fill(te):l(J)}(H,$,G)},d.allocUnsafe=function(H){return h(H)},d.allocUnsafeSlow=function(H){return h(H)},d.isBuffer=function(H){return H!=null&&H._isBuffer===!0&&H!==d.prototype},d.compare=function(H,$){if(Q(H,Uint8Array)&&(H=d.from(H,H.offset,H.byteLength)),Q($,Uint8Array)&&($=d.from($,$.offset,$.byteLength)),!d.isBuffer(H)||!d.isBuffer($))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(H===$)return 0;for(var G=H.length,J=$.length,te=0,K=Math.min(G,J);te<K;++te)if(H[te]!==$[te]){G=H[te],J=$[te];break}return G<J?-1:J<G?1:0},d.isEncoding=function(H){switch(String(H).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(H,$){if(!Array.isArray(H))throw new TypeError('"list" argument must be an Array of Buffers');if(H.length===0)return d.alloc(0);var G;if($===void 0)for($=0,G=0;G<H.length;++G)$+=H[G].length;var J=d.allocUnsafe($),te=0;for(G=0;G<H.length;++G){var K=H[G];if(Q(K,Uint8Array)&&(K=d.from(K)),!d.isBuffer(K))throw new TypeError('"list" argument must be an Array of Buffers');K.copy(J,te),te+=K.length}return J},d.byteLength=g,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var H=this.length;if(H%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var $=0;$<H;$+=2)b(this,$,$+1);return this},d.prototype.swap32=function(){var H=this.length;if(H%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var $=0;$<H;$+=4)b(this,$,$+3),b(this,$+1,$+2);return this},d.prototype.swap64=function(){var H=this.length;if(H%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var $=0;$<H;$+=8)b(this,$,$+7),b(this,$+1,$+6),b(this,$+2,$+5),b(this,$+3,$+4);return this},d.prototype.toString=function(){var H=this.length;return H===0?"":arguments.length===0?O(this,0,H):p.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(H){if(!d.isBuffer(H))throw new TypeError("Argument must be a Buffer");return this===H||d.compare(this,H)===0},d.prototype.inspect=function(){var H="",$=a.INSPECT_MAX_BYTES;return H=this.toString("hex",0,$).replace(/(.{2})/g,"$1 ").trim(),this.length>$&&(H+=" ... "),"<Buffer "+H+">"},d.prototype.compare=function(H,$,G,J,te){if(Q(H,Uint8Array)&&(H=d.from(H,H.offset,H.byteLength)),!d.isBuffer(H))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof H);if($===void 0&&($=0),G===void 0&&(G=H?H.length:0),J===void 0&&(J=0),te===void 0&&(te=this.length),$<0||G>H.length||J<0||te>this.length)throw new RangeError("out of range index");if(J>=te&&$>=G)return 0;if(J>=te)return-1;if($>=G)return 1;if(this===H)return 0;for(var K=(te>>>=0)-(J>>>=0),ne=(G>>>=0)-($>>>=0),ce=Math.min(K,ne),oe=this.slice(J,te),ee=H.slice($,G),W=0;W<ce;++W)if(oe[W]!==ee[W]){K=oe[W],ne=ee[W];break}return K<ne?-1:ne<K?1:0},d.prototype.includes=function(H,$,G){return this.indexOf(H,$,G)!==-1},d.prototype.indexOf=function(H,$,G){return x(this,H,$,G,!0)},d.prototype.lastIndexOf=function(H,$,G){return x(this,H,$,G,!1)},d.prototype.write=function(H,$,G,J){if($===void 0)J="utf8",G=this.length,$=0;else if(G===void 0&&typeof $=="string")J=$,G=this.length,$=0;else{if(!isFinite($))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");$>>>=0,isFinite(G)?(G>>>=0,J===void 0&&(J="utf8")):(J=G,G=void 0)}var te=this.length-$;if((G===void 0||G>te)&&(G=te),H.length>0&&(G<0||$<0)||$>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");for(var K=!1;;)switch(J){case"hex":return y(this,H,$,G);case"utf8":case"utf-8":return S(this,H,$,G);case"ascii":return M(this,H,$,G);case"latin1":case"binary":return P(this,H,$,G);case"base64":return B(this,H,$,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,H,$,G);default:if(K)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),K=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function F(H,$,G){var J="";G=Math.min(H.length,G);for(var te=$;te<G;++te)J+=String.fromCharCode(127&H[te]);return J}function _(H,$,G){var J="";G=Math.min(H.length,G);for(var te=$;te<G;++te)J+=String.fromCharCode(H[te]);return J}function E(H,$,G){var J=H.length;(!$||$<0)&&($=0),(!G||G<0||G>J)&&(G=J);for(var te="",K=$;K<G;++K)te+=U(H[K]);return te}function T(H,$,G){for(var J=H.slice($,G),te="",K=0;K<J.length;K+=2)te+=String.fromCharCode(J[K]+256*J[K+1]);return te}function w(H,$,G){if(H%1!=0||H<0)throw new RangeError("offset is not uint");if(H+$>G)throw new RangeError("Trying to access beyond buffer length")}function C(H,$,G,J,te,K){if(!d.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if($>te||$<K)throw new RangeError('"value" argument is out of bounds');if(G+J>H.length)throw new RangeError("Index out of range")}function j(H,$,G,J,te,K){if(G+J>H.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("Index out of range")}function N(H,$,G,J,te){return $=+$,G>>>=0,te||j(H,0,G,4),c.write(H,$,G,J,23,4),G+4}function I(H,$,G,J,te){return $=+$,G>>>=0,te||j(H,0,G,8),c.write(H,$,G,J,52,8),G+8}d.prototype.slice=function(H,$){var G=this.length;(H=~~H)<0?(H+=G)<0&&(H=0):H>G&&(H=G),($=$===void 0?G:~~$)<0?($+=G)<0&&($=0):$>G&&($=G),$<H&&($=H);var J=this.subarray(H,$);return J.__proto__=d.prototype,J},d.prototype.readUIntLE=function(H,$,G){H>>>=0,$>>>=0,G||w(H,$,this.length);for(var J=this[H],te=1,K=0;++K<$&&(te*=256);)J+=this[H+K]*te;return J},d.prototype.readUIntBE=function(H,$,G){H>>>=0,$>>>=0,G||w(H,$,this.length);for(var J=this[H+--$],te=1;$>0&&(te*=256);)J+=this[H+--$]*te;return J},d.prototype.readUInt8=function(H,$){return H>>>=0,$||w(H,1,this.length),this[H]},d.prototype.readUInt16LE=function(H,$){return H>>>=0,$||w(H,2,this.length),this[H]|this[H+1]<<8},d.prototype.readUInt16BE=function(H,$){return H>>>=0,$||w(H,2,this.length),this[H]<<8|this[H+1]},d.prototype.readUInt32LE=function(H,$){return H>>>=0,$||w(H,4,this.length),(this[H]|this[H+1]<<8|this[H+2]<<16)+16777216*this[H+3]},d.prototype.readUInt32BE=function(H,$){return H>>>=0,$||w(H,4,this.length),16777216*this[H]+(this[H+1]<<16|this[H+2]<<8|this[H+3])},d.prototype.readIntLE=function(H,$,G){H>>>=0,$>>>=0,G||w(H,$,this.length);for(var J=this[H],te=1,K=0;++K<$&&(te*=256);)J+=this[H+K]*te;return J>=(te*=128)&&(J-=Math.pow(2,8*$)),J},d.prototype.readIntBE=function(H,$,G){H>>>=0,$>>>=0,G||w(H,$,this.length);for(var J=$,te=1,K=this[H+--J];J>0&&(te*=256);)K+=this[H+--J]*te;return K>=(te*=128)&&(K-=Math.pow(2,8*$)),K},d.prototype.readInt8=function(H,$){return H>>>=0,$||w(H,1,this.length),128&this[H]?-1*(255-this[H]+1):this[H]},d.prototype.readInt16LE=function(H,$){H>>>=0,$||w(H,2,this.length);var G=this[H]|this[H+1]<<8;return 32768&G?4294901760|G:G},d.prototype.readInt16BE=function(H,$){H>>>=0,$||w(H,2,this.length);var G=this[H+1]|this[H]<<8;return 32768&G?4294901760|G:G},d.prototype.readInt32LE=function(H,$){return H>>>=0,$||w(H,4,this.length),this[H]|this[H+1]<<8|this[H+2]<<16|this[H+3]<<24},d.prototype.readInt32BE=function(H,$){return H>>>=0,$||w(H,4,this.length),this[H]<<24|this[H+1]<<16|this[H+2]<<8|this[H+3]},d.prototype.readFloatLE=function(H,$){return H>>>=0,$||w(H,4,this.length),c.read(this,H,!0,23,4)},d.prototype.readFloatBE=function(H,$){return H>>>=0,$||w(H,4,this.length),c.read(this,H,!1,23,4)},d.prototype.readDoubleLE=function(H,$){return H>>>=0,$||w(H,8,this.length),c.read(this,H,!0,52,8)},d.prototype.readDoubleBE=function(H,$){return H>>>=0,$||w(H,8,this.length),c.read(this,H,!1,52,8)},d.prototype.writeUIntLE=function(H,$,G,J){H=+H,$>>>=0,G>>>=0,J||C(this,H,$,G,Math.pow(2,8*G)-1,0);var te=1,K=0;for(this[$]=255&H;++K<G&&(te*=256);)this[$+K]=H/te&255;return $+G},d.prototype.writeUIntBE=function(H,$,G,J){H=+H,$>>>=0,G>>>=0,J||C(this,H,$,G,Math.pow(2,8*G)-1,0);var te=G-1,K=1;for(this[$+te]=255&H;--te>=0&&(K*=256);)this[$+te]=H/K&255;return $+G},d.prototype.writeUInt8=function(H,$,G){return H=+H,$>>>=0,G||C(this,H,$,1,255,0),this[$]=255&H,$+1},d.prototype.writeUInt16LE=function(H,$,G){return H=+H,$>>>=0,G||C(this,H,$,2,65535,0),this[$]=255&H,this[$+1]=H>>>8,$+2},d.prototype.writeUInt16BE=function(H,$,G){return H=+H,$>>>=0,G||C(this,H,$,2,65535,0),this[$]=H>>>8,this[$+1]=255&H,$+2},d.prototype.writeUInt32LE=function(H,$,G){return H=+H,$>>>=0,G||C(this,H,$,4,4294967295,0),this[$+3]=H>>>24,this[$+2]=H>>>16,this[$+1]=H>>>8,this[$]=255&H,$+4},d.prototype.writeUInt32BE=function(H,$,G){return H=+H,$>>>=0,G||C(this,H,$,4,4294967295,0),this[$]=H>>>24,this[$+1]=H>>>16,this[$+2]=H>>>8,this[$+3]=255&H,$+4},d.prototype.writeIntLE=function(H,$,G,J){if(H=+H,$>>>=0,!J){var te=Math.pow(2,8*G-1);C(this,H,$,G,te-1,-te)}var K=0,ne=1,ce=0;for(this[$]=255&H;++K<G&&(ne*=256);)H<0&&ce===0&&this[$+K-1]!==0&&(ce=1),this[$+K]=(H/ne>>0)-ce&255;return $+G},d.prototype.writeIntBE=function(H,$,G,J){if(H=+H,$>>>=0,!J){var te=Math.pow(2,8*G-1);C(this,H,$,G,te-1,-te)}var K=G-1,ne=1,ce=0;for(this[$+K]=255&H;--K>=0&&(ne*=256);)H<0&&ce===0&&this[$+K+1]!==0&&(ce=1),this[$+K]=(H/ne>>0)-ce&255;return $+G},d.prototype.writeInt8=function(H,$,G){return H=+H,$>>>=0,G||C(this,H,$,1,127,-128),H<0&&(H=255+H+1),this[$]=255&H,$+1},d.prototype.writeInt16LE=function(H,$,G){return H=+H,$>>>=0,G||C(this,H,$,2,32767,-32768),this[$]=255&H,this[$+1]=H>>>8,$+2},d.prototype.writeInt16BE=function(H,$,G){return H=+H,$>>>=0,G||C(this,H,$,2,32767,-32768),this[$]=H>>>8,this[$+1]=255&H,$+2},d.prototype.writeInt32LE=function(H,$,G){return H=+H,$>>>=0,G||C(this,H,$,4,2147483647,-2147483648),this[$]=255&H,this[$+1]=H>>>8,this[$+2]=H>>>16,this[$+3]=H>>>24,$+4},d.prototype.writeInt32BE=function(H,$,G){return H=+H,$>>>=0,G||C(this,H,$,4,2147483647,-2147483648),H<0&&(H=4294967295+H+1),this[$]=H>>>24,this[$+1]=H>>>16,this[$+2]=H>>>8,this[$+3]=255&H,$+4},d.prototype.writeFloatLE=function(H,$,G){return N(this,H,$,!0,G)},d.prototype.writeFloatBE=function(H,$,G){return N(this,H,$,!1,G)},d.prototype.writeDoubleLE=function(H,$,G){return I(this,H,$,!0,G)},d.prototype.writeDoubleBE=function(H,$,G){return I(this,H,$,!1,G)},d.prototype.copy=function(H,$,G,J){if(!d.isBuffer(H))throw new TypeError("argument should be a Buffer");if(G||(G=0),J||J===0||(J=this.length),$>=H.length&&($=H.length),$||($=0),J>0&&J<G&&(J=G),J===G||H.length===0||this.length===0)return 0;if($<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),H.length-$<J-G&&(J=H.length-$+G);var te=J-G;if(this===H&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin($,G,J);else if(this===H&&G<$&&$<J)for(var K=te-1;K>=0;--K)H[K+$]=this[K+G];else Uint8Array.prototype.set.call(H,this.subarray(G,J),$);return te},d.prototype.fill=function(H,$,G,J){if(typeof H=="string"){if(typeof $=="string"?(J=$,$=0,G=this.length):typeof G=="string"&&(J=G,G=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!d.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(H.length===1){var te=H.charCodeAt(0);(J==="utf8"&&te<128||J==="latin1")&&(H=te)}}else typeof H=="number"&&(H&=255);if($<0||this.length<$||this.length<G)throw new RangeError("Out of range index");if(G<=$)return this;var K;if($>>>=0,G=G===void 0?this.length:G>>>0,H||(H=0),typeof H=="number")for(K=$;K<G;++K)this[K]=H;else{var ne=d.isBuffer(H)?H:d.from(H,J),ce=ne.length;if(ce===0)throw new TypeError('The value "'+H+'" is invalid for argument "value"');for(K=0;K<G-$;++K)this[K+$]=ne[K%ce]}return this};var R=/[^+/0-9A-Za-z-_]/g;function U(H){return H<16?"0"+H.toString(16):H.toString(16)}function V(H,$){var G;$=$||1/0;for(var J=H.length,te=null,K=[],ne=0;ne<J;++ne){if((G=H.charCodeAt(ne))>55295&&G<57344){if(!te){if(G>56319){($-=3)>-1&&K.push(239,191,189);continue}if(ne+1===J){($-=3)>-1&&K.push(239,191,189);continue}te=G;continue}if(G<56320){($-=3)>-1&&K.push(239,191,189),te=G;continue}G=65536+(te-55296<<10|G-56320)}else te&&($-=3)>-1&&K.push(239,191,189);if(te=null,G<128){if(($-=1)<0)break;K.push(G)}else if(G<2048){if(($-=2)<0)break;K.push(G>>6|192,63&G|128)}else if(G<65536){if(($-=3)<0)break;K.push(G>>12|224,G>>6&63|128,63&G|128)}else{if(!(G<1114112))throw new Error("Invalid code point");if(($-=4)<0)break;K.push(G>>18|240,G>>12&63|128,G>>6&63|128,63&G|128)}}return K}function z(H){return o.toByteArray(function($){if(($=($=$.split("=")[0]).trim().replace(R,"")).length<2)return"";for(;$.length%4!=0;)$+="=";return $}(H))}function X(H,$,G,J){for(var te=0;te<J&&!(te+G>=$.length||te>=H.length);++te)$[te+G]=H[te];return te}function Q(H,$){return H instanceof $||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===$.name}function q(H){return H!=H}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,s,a){var i=e("safe-buffer").Buffer,o=e("stream").Transform,c=e("string_decoder").StringDecoder;function l(d){o.call(this),this.hashMode=typeof d=="string",this.hashMode?this[d]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(l,o),l.prototype.update=function(d,u,f){typeof d=="string"&&(d=i.from(d,u));var h=this._update(d);return this.hashMode?this:(f&&(h=this._toString(h,f)),h)},l.prototype.setAutoPadding=function(){},l.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},l.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},l.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},l.prototype._transform=function(d,u,f){var h;try{this.hashMode?this._update(d):this.push(this._update(d))}catch(m){h=m}finally{f(h)}},l.prototype._flush=function(d){var u;try{this.push(this.__final())}catch(f){u=f}d(u)},l.prototype._finalOrDigest=function(d){var u=this.__final()||i.alloc(0);return d&&(u=this._toString(u,d,!0)),u},l.prototype._toString=function(d,u,f){if(this._decoder||(this._decoder=new c(u),this._encoding=u),this._encoding!==u)throw new Error("can't switch encodings");var h=this._decoder.write(d);return f&&(h+=this._decoder.end()),h},s.exports=l},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,s,a){var i=e("../internals/is-callable"),o=e("../internals/try-to-string"),c=TypeError;s.exports=function(l){if(i(l))return l;throw new c(o(l)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,s,a){var i=e("../internals/is-constructor"),o=e("../internals/try-to-string"),c=TypeError;s.exports=function(l){if(i(l))return l;throw new c(o(l)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,s,a){var i=e("../internals/is-callable"),o=String,c=TypeError;s.exports=function(l){if(typeof l=="object"||i(l))return l;throw new c("Can't set "+o(l)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,s,a){var i=e("../internals/well-known-symbol"),o=e("../internals/object-create"),c=e("../internals/object-define-property").f,l=i("unscopables"),d=Array.prototype;d[l]===void 0&&c(d,l,{configurable:!0,value:o(null)}),s.exports=function(u){d[l][u]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,s,a){var i=e("../internals/object-is-prototype-of"),o=TypeError;s.exports=function(c,l){if(i(l,c))return c;throw new o("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,s,a){var i=e("../internals/is-object"),o=String,c=TypeError;s.exports=function(l){if(i(l))return l;throw new c(o(l)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,s,a){var i=e("../internals/to-indexed-object"),o=e("../internals/to-absolute-index"),c=e("../internals/length-of-array-like"),l=function(d){return function(u,f,h){var m,A=i(u),g=c(A),p=o(h,g);if(d&&f!=f){for(;g>p;)if((m=A[p++])!=m)return!0}else for(;g>p;p++)if((d||p in A)&&A[p]===f)return d||p||0;return!d&&-1}};s.exports={includes:l(!0),indexOf:l(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,s,a){var i=e("../internals/function-bind-context"),o=e("../internals/function-uncurry-this"),c=e("../internals/indexed-object"),l=e("../internals/to-object"),d=e("../internals/length-of-array-like"),u=e("../internals/array-species-create"),f=o([].push),h=function(m){var A=m===1,g=m===2,p=m===3,b=m===4,x=m===6,v=m===7,y=m===5||x;return function(S,M,P,B){for(var D,L,O=l(S),F=c(O),_=i(M,P),E=d(F),T=0,w=B||u,C=A?w(S,E):g||v?w(S,0):void 0;E>T;T++)if((y||T in F)&&(L=_(D=F[T],T,O),m))if(A)C[T]=L;else if(L)switch(m){case 3:return!0;case 5:return D;case 6:return T;case 2:f(C,D)}else switch(m){case 4:return!1;case 7:f(C,D)}return x?-1:p||b?b:C}};s.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,s,a){var i=e("../internals/to-absolute-index"),o=e("../internals/length-of-array-like"),c=e("../internals/create-property"),l=Array,d=Math.max;s.exports=function(u,f,h){for(var m=o(u),A=i(f,m),g=i(h===void 0?m:h,m),p=l(d(g-A,0)),b=0;A<g;A++,b++)c(p,b,u[A]);return p.length=b,p}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,s,a){var i=e("../internals/function-uncurry-this");s.exports=i([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,s,a){var i=e("../internals/is-array"),o=e("../internals/is-constructor"),c=e("../internals/is-object"),l=e("../internals/well-known-symbol")("species"),d=Array;s.exports=function(u){var f;return i(u)&&(f=u.constructor,(o(f)&&(f===d||i(f.prototype))||c(f)&&(f=f[l])===null)&&(f=void 0)),f===void 0?d:f}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,s,a){var i=e("../internals/array-species-constructor");s.exports=function(o,c){return new(i(o))(c===0?0:c)}},{"../internals/array-species-constructor":232}],234:[function(e,s,a){var i=e("../internals/well-known-symbol")("iterator"),o=!1;try{var c=0,l={next:function(){return{done:!!c++}},return:function(){o=!0}};l[i]=function(){return this},Array.from(l,function(){throw 2})}catch{}s.exports=function(d,u){try{if(!u&&!o)return!1}catch{return!1}var f=!1;try{var h={};h[i]=function(){return{next:function(){return{done:f=!0}}}},d(h)}catch{}return f}},{"../internals/well-known-symbol":357}],235:[function(e,s,a){var i=e("../internals/function-uncurry-this"),o=i({}.toString),c=i("".slice);s.exports=function(l){return c(o(l),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,s,a){var i=e("../internals/to-string-tag-support"),o=e("../internals/is-callable"),c=e("../internals/classof-raw"),l=e("../internals/well-known-symbol")("toStringTag"),d=Object,u=c(function(){return arguments}())==="Arguments";s.exports=i?c:function(f){var h,m,A;return f===void 0?"Undefined":f===null?"Null":typeof(m=function(g,p){try{return g[p]}catch{}}(h=d(f),l))=="string"?m:u?c(h):(A=c(h))==="Object"&&o(h.callee)?"Arguments":A}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,s,a){var i=e("../internals/has-own-property"),o=e("../internals/own-keys"),c=e("../internals/object-get-own-property-descriptor"),l=e("../internals/object-define-property");s.exports=function(d,u,f){for(var h=o(u),m=l.f,A=c.f,g=0;g<h.length;g++){var p=h[g];i(d,p)||f&&i(f,p)||m(d,p,A(u,p))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,s,a){var i=e("../internals/well-known-symbol")("match");s.exports=function(o){var c=/./;try{"/./"[o](c)}catch{try{return c[i]=!1,"/./"[o](c)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,s,a){var i=e("../internals/fails");s.exports=!i(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},{"../internals/fails":260}],240:[function(e,s,a){s.exports=function(i,o){return{value:i,done:o}}},{}],241:[function(e,s,a){var i=e("../internals/descriptors"),o=e("../internals/object-define-property"),c=e("../internals/create-property-descriptor");s.exports=i?function(l,d,u){return o.f(l,d,c(1,u))}:function(l,d,u){return l[d]=u,l}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,s,a){s.exports=function(i,o){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:o}}},{}],243:[function(e,s,a){var i=e("../internals/to-property-key"),o=e("../internals/object-define-property"),c=e("../internals/create-property-descriptor");s.exports=function(l,d,u){var f=i(d);f in l?o.f(l,f,c(0,u)):l[f]=u}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,s,a){var i=e("../internals/make-built-in"),o=e("../internals/object-define-property");s.exports=function(c,l,d){return d.get&&i(d.get,l,{getter:!0}),d.set&&i(d.set,l,{setter:!0}),o.f(c,l,d)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,s,a){var i=e("../internals/is-callable"),o=e("../internals/object-define-property"),c=e("../internals/make-built-in"),l=e("../internals/define-global-property");s.exports=function(d,u,f,h){h||(h={});var m=h.enumerable,A=h.name!==void 0?h.name:u;if(i(f)&&c(f,A,h),h.global)m?d[u]=f:l(u,f);else{try{h.unsafe?d[u]&&(m=!0):delete d[u]}catch{}m?d[u]=f:o.f(d,u,{value:f,enumerable:!1,configurable:!h.nonConfigurable,writable:!h.nonWritable})}return d}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,s,a){var i=e("../internals/global"),o=Object.defineProperty;s.exports=function(c,l){try{o(i,c,{value:l,configurable:!0,writable:!0})}catch{i[c]=l}return l}},{"../internals/global":274}],247:[function(e,s,a){var i=e("../internals/fails");s.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(e,s,a){var i=typeof document=="object"&&document.all,o=i===void 0&&i!==void 0;s.exports={all:i,IS_HTMLDDA:o}},{}],249:[function(e,s,a){var i=e("../internals/global"),o=e("../internals/is-object"),c=i.document,l=o(c)&&o(c.createElement);s.exports=function(d){return l?c.createElement(d):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,s,a){var i=e("../internals/engine-is-deno"),o=e("../internals/engine-is-node");s.exports=!i&&!o&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,s,a){s.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,s,a){var i=e("../internals/engine-user-agent");s.exports=/ipad|iphone|ipod/i.test(i)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,s,a){var i=e("../internals/engine-user-agent");s.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},{"../internals/engine-user-agent":256}],254:[function(e,s,a){var i=e("../internals/global"),o=e("../internals/classof-raw");s.exports=o(i.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,s,a){var i=e("../internals/engine-user-agent");s.exports=/web0s(?!.*chrome)/i.test(i)},{"../internals/engine-user-agent":256}],256:[function(e,s,a){s.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,s,a){var i,o,c=e("../internals/global"),l=e("../internals/engine-user-agent"),d=c.process,u=c.Deno,f=d&&d.versions||u&&u.version,h=f&&f.v8;h&&(o=(i=h.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!o&&l&&(!(i=l.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=l.match(/Chrome\/(\d+)/))&&(o=+i[1]),s.exports=o},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,s,a){s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,s,a){var i=e("../internals/global"),o=e("../internals/object-get-own-property-descriptor").f,c=e("../internals/create-non-enumerable-property"),l=e("../internals/define-built-in"),d=e("../internals/define-global-property"),u=e("../internals/copy-constructor-properties"),f=e("../internals/is-forced");s.exports=function(h,m){var A,g,p,b,x,v=h.target,y=h.global,S=h.stat;if(A=y?i:S?i[v]||d(v,{}):(i[v]||{}).prototype)for(g in m){if(b=m[g],p=h.dontCallGetSet?(x=o(A,g))&&x.value:A[g],!f(y?g:v+(S?".":"#")+g,h.forced)&&p!==void 0){if(typeof b==typeof p)continue;u(b,p)}(h.sham||p&&p.sham)&&c(b,"sham",!0),l(A,g,b,h)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,s,a){s.exports=function(i){try{return!!i()}catch{return!0}}},{}],261:[function(e,s,a){var i=e("../internals/function-bind-native"),o=Function.prototype,c=o.apply,l=o.call;s.exports=typeof Reflect=="object"&&Reflect.apply||(i?l.bind(c):function(){return l.apply(c,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,s,a){var i=e("../internals/function-uncurry-this-clause"),o=e("../internals/a-callable"),c=e("../internals/function-bind-native"),l=i(i.bind);s.exports=function(d,u){return o(d),u===void 0?d:c?l(d,u):function(){return d.apply(u,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,s,a){var i=e("../internals/fails");s.exports=!i(function(){var o=(function(){}).bind();return typeof o!="function"||o.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(e,s,a){var i=e("../internals/function-bind-native"),o=Function.prototype.call;s.exports=i?o.bind(o):function(){return o.apply(o,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,s,a){var i=e("../internals/descriptors"),o=e("../internals/has-own-property"),c=Function.prototype,l=i&&Object.getOwnPropertyDescriptor,d=o(c,"name"),u=d&&(function(){}).name==="something",f=d&&(!i||i&&l(c,"name").configurable);s.exports={EXISTS:d,PROPER:u,CONFIGURABLE:f}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,s,a){var i=e("../internals/function-uncurry-this"),o=e("../internals/a-callable");s.exports=function(c,l,d){try{return i(o(Object.getOwnPropertyDescriptor(c,l)[d]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,s,a){var i=e("../internals/classof-raw"),o=e("../internals/function-uncurry-this");s.exports=function(c){if(i(c)==="Function")return o(c)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,s,a){var i=e("../internals/function-bind-native"),o=Function.prototype,c=o.call,l=i&&o.bind.bind(c,c);s.exports=i?l:function(d){return function(){return c.apply(d,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,s,a){var i=e("../internals/global"),o=e("../internals/is-callable"),c=function(l){return o(l)?l:void 0};s.exports=function(l,d){return arguments.length<2?c(i[l]):i[l]&&i[l][d]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,s,a){var i=e("../internals/classof"),o=e("../internals/get-method"),c=e("../internals/is-null-or-undefined"),l=e("../internals/iterators"),d=e("../internals/well-known-symbol")("iterator");s.exports=function(u){if(!c(u))return o(u,d)||o(u,"@@iterator")||l[i(u)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,s,a){var i=e("../internals/function-call"),o=e("../internals/a-callable"),c=e("../internals/an-object"),l=e("../internals/try-to-string"),d=e("../internals/get-iterator-method"),u=TypeError;s.exports=function(f,h){var m=arguments.length<2?d(f):h;if(o(m))return c(i(m,f));throw new u(l(f)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,s,a){var i=e("../internals/function-uncurry-this"),o=e("../internals/is-array"),c=e("../internals/is-callable"),l=e("../internals/classof-raw"),d=e("../internals/to-string"),u=i([].push);s.exports=function(f){if(c(f))return f;if(o(f)){for(var h=f.length,m=[],A=0;A<h;A++){var g=f[A];typeof g=="string"?u(m,g):typeof g!="number"&&l(g)!=="Number"&&l(g)!=="String"||u(m,d(g))}var p=m.length,b=!0;return function(x,v){if(b)return b=!1,v;if(o(this))return v;for(var y=0;y<p;y++)if(m[y]===x)return v}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,s,a){var i=e("../internals/a-callable"),o=e("../internals/is-null-or-undefined");s.exports=function(c,l){var d=c[l];return o(d)?void 0:i(d)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,s,a){(function(i){(function(){var o=function(c){return c&&c.Math===Math&&c};s.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof i=="object"&&i)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof an<"u"?an:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,s,a){var i=e("../internals/function-uncurry-this"),o=e("../internals/to-object"),c=i({}.hasOwnProperty);s.exports=Object.hasOwn||function(l,d){return c(o(l),d)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,s,a){s.exports={}},{}],277:[function(e,s,a){s.exports=function(i,o){try{arguments.length===1?console.error(i):console.error(i,o)}catch{}}},{}],278:[function(e,s,a){var i=e("../internals/get-built-in");s.exports=i("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,s,a){var i=e("../internals/descriptors"),o=e("../internals/fails"),c=e("../internals/document-create-element");s.exports=!i&&!o(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,s,a){var i=e("../internals/function-uncurry-this"),o=e("../internals/fails"),c=e("../internals/classof-raw"),l=Object,d=i("".split);s.exports=o(function(){return!l("z").propertyIsEnumerable(0)})?function(u){return c(u)==="String"?d(u,""):l(u)}:l},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,s,a){var i=e("../internals/function-uncurry-this"),o=e("../internals/is-callable"),c=e("../internals/shared-store"),l=i(Function.toString);o(c.inspectSource)||(c.inspectSource=function(d){return l(d)}),s.exports=c.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,s,a){var i,o,c,l=e("../internals/weak-map-basic-detection"),d=e("../internals/global"),u=e("../internals/is-object"),f=e("../internals/create-non-enumerable-property"),h=e("../internals/has-own-property"),m=e("../internals/shared-store"),A=e("../internals/shared-key"),g=e("../internals/hidden-keys"),p=d.TypeError,b=d.WeakMap;if(l||m.state){var x=m.state||(m.state=new b);x.get=x.get,x.has=x.has,x.set=x.set,i=function(y,S){if(x.has(y))throw new p("Object already initialized");return S.facade=y,x.set(y,S),S},o=function(y){return x.get(y)||{}},c=function(y){return x.has(y)}}else{var v=A("state");g[v]=!0,i=function(y,S){if(h(y,v))throw new p("Object already initialized");return S.facade=y,f(y,v,S),S},o=function(y){return h(y,v)?y[v]:{}},c=function(y){return h(y,v)}}s.exports={set:i,get:o,has:c,enforce:function(y){return c(y)?o(y):i(y,{})},getterFor:function(y){return function(S){var M;if(!u(S)||(M=o(S)).type!==y)throw new p("Incompatible receiver, "+y+" required");return M}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,s,a){var i=e("../internals/well-known-symbol"),o=e("../internals/iterators"),c=i("iterator"),l=Array.prototype;s.exports=function(d){return d!==void 0&&(o.Array===d||l[c]===d)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,s,a){var i=e("../internals/classof-raw");s.exports=Array.isArray||function(o){return i(o)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,s,a){var i=e("../internals/document-all"),o=i.all;s.exports=i.IS_HTMLDDA?function(c){return typeof c=="function"||c===o}:function(c){return typeof c=="function"}},{"../internals/document-all":248}],286:[function(e,s,a){var i=e("../internals/function-uncurry-this"),o=e("../internals/fails"),c=e("../internals/is-callable"),l=e("../internals/classof"),d=e("../internals/get-built-in"),u=e("../internals/inspect-source"),f=function(){},h=[],m=d("Reflect","construct"),A=/^\s*(?:class|function)\b/,g=i(A.exec),p=!A.test(f),b=function(v){if(!c(v))return!1;try{return m(f,h,v),!0}catch{return!1}},x=function(v){if(!c(v))return!1;switch(l(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!g(A,u(v))}catch{return!0}};x.sham=!0,s.exports=!m||o(function(){var v;return b(b.call)||!b(Object)||!b(function(){v=!0})||v})?x:b},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,s,a){var i=e("../internals/fails"),o=e("../internals/is-callable"),c=/#|\.prototype\./,l=function(m,A){var g=u[d(m)];return g===h||g!==f&&(o(A)?i(A):!!A)},d=l.normalize=function(m){return String(m).replace(c,".").toLowerCase()},u=l.data={},f=l.NATIVE="N",h=l.POLYFILL="P";s.exports=l},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,s,a){s.exports=function(i){return i==null}},{}],289:[function(e,s,a){var i=e("../internals/is-callable"),o=e("../internals/document-all"),c=o.all;s.exports=o.IS_HTMLDDA?function(l){return typeof l=="object"?l!==null:i(l)||l===c}:function(l){return typeof l=="object"?l!==null:i(l)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,s,a){s.exports=!1},{}],291:[function(e,s,a){var i=e("../internals/is-object"),o=e("../internals/classof-raw"),c=e("../internals/well-known-symbol")("match");s.exports=function(l){var d;return i(l)&&((d=l[c])!==void 0?!!d:o(l)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,s,a){var i=e("../internals/get-built-in"),o=e("../internals/is-callable"),c=e("../internals/object-is-prototype-of"),l=e("../internals/use-symbol-as-uid"),d=Object;s.exports=l?function(u){return typeof u=="symbol"}:function(u){var f=i("Symbol");return o(f)&&c(f.prototype,d(u))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,s,a){var i=e("../internals/function-bind-context"),o=e("../internals/function-call"),c=e("../internals/an-object"),l=e("../internals/try-to-string"),d=e("../internals/is-array-iterator-method"),u=e("../internals/length-of-array-like"),f=e("../internals/object-is-prototype-of"),h=e("../internals/get-iterator"),m=e("../internals/get-iterator-method"),A=e("../internals/iterator-close"),g=TypeError,p=function(x,v){this.stopped=x,this.result=v},b=p.prototype;s.exports=function(x,v,y){var S,M,P,B,D,L,O,F=y&&y.that,_=!(!y||!y.AS_ENTRIES),E=!(!y||!y.IS_RECORD),T=!(!y||!y.IS_ITERATOR),w=!(!y||!y.INTERRUPTED),C=i(v,F),j=function(I){return S&&A(S,"normal",I),new p(!0,I)},N=function(I){return _?(c(I),w?C(I[0],I[1],j):C(I[0],I[1])):w?C(I,j):C(I)};if(E)S=x.iterator;else if(T)S=x;else{if(!(M=m(x)))throw new g(l(x)+" is not iterable");if(d(M)){for(P=0,B=u(x);B>P;P++)if((D=N(x[P]))&&f(b,D))return D;return new p(!1)}S=h(x,M)}for(L=E?x.next:S.next;!(O=o(L,S)).done;){try{D=N(O.value)}catch(I){A(S,"throw",I)}if(typeof D=="object"&&D&&f(b,D))return D}return new p(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,s,a){var i=e("../internals/function-call"),o=e("../internals/an-object"),c=e("../internals/get-method");s.exports=function(l,d,u){var f,h;o(l);try{if(!(f=c(l,"return"))){if(d==="throw")throw u;return u}f=i(f,l)}catch(m){h=!0,f=m}if(d==="throw")throw u;if(h)throw f;return o(f),u}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,s,a){var i=e("../internals/iterators-core").IteratorPrototype,o=e("../internals/object-create"),c=e("../internals/create-property-descriptor"),l=e("../internals/set-to-string-tag"),d=e("../internals/iterators"),u=function(){return this};s.exports=function(f,h,m,A){var g=h+" Iterator";return f.prototype=o(i,{next:c(+!A,m)}),l(f,g,!1,!0),d[g]=u,f}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/function-call"),c=e("../internals/is-pure"),l=e("../internals/function-name"),d=e("../internals/is-callable"),u=e("../internals/iterator-create-constructor"),f=e("../internals/object-get-prototype-of"),h=e("../internals/object-set-prototype-of"),m=e("../internals/set-to-string-tag"),A=e("../internals/create-non-enumerable-property"),g=e("../internals/define-built-in"),p=e("../internals/well-known-symbol"),b=e("../internals/iterators"),x=e("../internals/iterators-core"),v=l.PROPER,y=l.CONFIGURABLE,S=x.IteratorPrototype,M=x.BUGGY_SAFARI_ITERATORS,P=p("iterator"),B=function(){return this};s.exports=function(D,L,O,F,_,E,T){u(O,L,F);var w,C,j,N=function(Q){if(Q===_&&z)return z;if(!M&&Q&&Q in U)return U[Q];switch(Q){case"keys":case"values":case"entries":return function(){return new O(this,Q)}}return function(){return new O(this)}},I=L+" Iterator",R=!1,U=D.prototype,V=U[P]||U["@@iterator"]||_&&U[_],z=!M&&V||N(_),X=L==="Array"&&U.entries||V;if(X&&(w=f(X.call(new D)))!==Object.prototype&&w.next&&(c||f(w)===S||(h?h(w,S):d(w[P])||g(w,P,B)),m(w,I,!0,!0),c&&(b[I]=B)),v&&_==="values"&&V&&V.name!=="values"&&(!c&&y?A(U,"name","values"):(R=!0,z=function(){return o(V,this)})),_)if(C={values:N("values"),keys:E?z:N("keys"),entries:N("entries")},T)for(j in C)(M||R||!(j in U))&&g(U,j,C[j]);else i({target:L,proto:!0,forced:M||R},C);return c&&!T||U[P]===z||g(U,P,z,{name:_}),b[L]=z,C}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,s,a){var i,o,c,l=e("../internals/fails"),d=e("../internals/is-callable"),u=e("../internals/is-object"),f=e("../internals/object-create"),h=e("../internals/object-get-prototype-of"),m=e("../internals/define-built-in"),A=e("../internals/well-known-symbol"),g=e("../internals/is-pure"),p=A("iterator"),b=!1;[].keys&&("next"in(c=[].keys())?(o=h(h(c)))!==Object.prototype&&(i=o):b=!0),!u(i)||l(function(){var x={};return i[p].call(x)!==x})?i={}:g&&(i=f(i)),d(i[p])||m(i,p,function(){return this}),s.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:b}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,s,a){arguments[4][276][0].apply(a,arguments)},{dup:276}],299:[function(e,s,a){var i=e("../internals/to-length");s.exports=function(o){return i(o.length)}},{"../internals/to-length":343}],300:[function(e,s,a){var i=e("../internals/function-uncurry-this"),o=e("../internals/fails"),c=e("../internals/is-callable"),l=e("../internals/has-own-property"),d=e("../internals/descriptors"),u=e("../internals/function-name").CONFIGURABLE,f=e("../internals/inspect-source"),h=e("../internals/internal-state"),m=h.enforce,A=h.get,g=String,p=Object.defineProperty,b=i("".slice),x=i("".replace),v=i([].join),y=d&&!o(function(){return p(function(){},"length",{value:8}).length!==8}),S=String(String).split("String"),M=s.exports=function(P,B,D){b(g(B),0,7)==="Symbol("&&(B="["+x(g(B),/^Symbol\(([^)]*)\)/,"$1")+"]"),D&&D.getter&&(B="get "+B),D&&D.setter&&(B="set "+B),(!l(P,"name")||u&&P.name!==B)&&(d?p(P,"name",{value:B,configurable:!0}):P.name=B),y&&D&&l(D,"arity")&&P.length!==D.arity&&p(P,"length",{value:D.arity});try{D&&l(D,"constructor")&&D.constructor?d&&p(P,"prototype",{writable:!1}):P.prototype&&(P.prototype=void 0)}catch{}var L=m(P);return l(L,"source")||(L.source=v(S,typeof B=="string"?B:"")),P};Function.prototype.toString=M(function(){return c(this)&&A(this).source||f(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,s,a){var i=Math.ceil,o=Math.floor;s.exports=Math.trunc||function(c){var l=+c;return(l>0?o:i)(l)}},{}],302:[function(e,s,a){var i,o,c,l,d,u=e("../internals/global"),f=e("../internals/function-bind-context"),h=e("../internals/object-get-own-property-descriptor").f,m=e("../internals/task").set,A=e("../internals/queue"),g=e("../internals/engine-is-ios"),p=e("../internals/engine-is-ios-pebble"),b=e("../internals/engine-is-webos-webkit"),x=e("../internals/engine-is-node"),v=u.MutationObserver||u.WebKitMutationObserver,y=u.document,S=u.process,M=u.Promise,P=h(u,"queueMicrotask"),B=P&&P.value;if(!B){var D=new A,L=function(){var O,F;for(x&&(O=S.domain)&&O.exit();F=D.get();)try{F()}catch(_){throw D.head&&i(),_}O&&O.enter()};g||x||b||!v||!y?!p&&M&&M.resolve?((l=M.resolve(void 0)).constructor=M,d=f(l.then,l),i=function(){d(L)}):x?i=function(){S.nextTick(L)}:(m=f(m,u),i=function(){m(L)}):(o=!0,c=y.createTextNode(""),new v(L).observe(c,{characterData:!0}),i=function(){c.data=o=!o}),B=function(O){D.head||i(),D.add(O)}}s.exports=B},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,s,a){var i=e("../internals/a-callable"),o=TypeError,c=function(l){var d,u;this.promise=new l(function(f,h){if(d!==void 0||u!==void 0)throw new o("Bad Promise constructor");d=f,u=h}),this.resolve=i(d),this.reject=i(u)};s.exports.f=function(l){return new c(l)}},{"../internals/a-callable":222}],304:[function(e,s,a){var i=e("../internals/is-regexp"),o=TypeError;s.exports=function(c){if(i(c))throw new o("The method doesn't accept regular expressions");return c}},{"../internals/is-regexp":291}],305:[function(e,s,a){var i=e("../internals/descriptors"),o=e("../internals/function-uncurry-this"),c=e("../internals/function-call"),l=e("../internals/fails"),d=e("../internals/object-keys"),u=e("../internals/object-get-own-property-symbols"),f=e("../internals/object-property-is-enumerable"),h=e("../internals/to-object"),m=e("../internals/indexed-object"),A=Object.assign,g=Object.defineProperty,p=o([].concat);s.exports=!A||l(function(){if(i&&A({b:1},A(g({},"a",{enumerable:!0,get:function(){g(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var b={},x={},v=Symbol("assign detection");return b[v]=7,"abcdefghijklmnopqrst".split("").forEach(function(y){x[y]=y}),A({},b)[v]!==7||d(A({},x)).join("")!=="abcdefghijklmnopqrst"})?function(b,x){for(var v=h(b),y=arguments.length,S=1,M=u.f,P=f.f;y>S;)for(var B,D=m(arguments[S++]),L=M?p(d(D),M(D)):d(D),O=L.length,F=0;O>F;)B=L[F++],i&&!c(P,D,B)||(v[B]=D[B]);return v}:A},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,s,a){var i,o=e("../internals/an-object"),c=e("../internals/object-define-properties"),l=e("../internals/enum-bug-keys"),d=e("../internals/hidden-keys"),u=e("../internals/html"),f=e("../internals/document-create-element"),h=e("../internals/shared-key"),m=h("IE_PROTO"),A=function(){},g=function(x){return"<script>"+x+"<\/script>"},p=function(x){x.write(g("")),x.close();var v=x.parentWindow.Object;return x=null,v},b=function(){try{i=new ActiveXObject("htmlfile")}catch{}var x,v;b=typeof document<"u"?document.domain&&i?p(i):((v=f("iframe")).style.display="none",u.appendChild(v),v.src="javascript:",(x=v.contentWindow.document).open(),x.write(g("document.F=Object")),x.close(),x.F):p(i);for(var y=l.length;y--;)delete b.prototype[l[y]];return b()};d[m]=!0,s.exports=Object.create||function(x,v){var y;return x!==null?(A.prototype=o(x),y=new A,A.prototype=null,y[m]=x):y=b(),v===void 0?y:c.f(y,v)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,s,a){var i=e("../internals/descriptors"),o=e("../internals/v8-prototype-define-bug"),c=e("../internals/object-define-property"),l=e("../internals/an-object"),d=e("../internals/to-indexed-object"),u=e("../internals/object-keys");a.f=i&&!o?Object.defineProperties:function(f,h){l(f);for(var m,A=d(h),g=u(h),p=g.length,b=0;p>b;)c.f(f,m=g[b++],A[m]);return f}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,s,a){var i=e("../internals/descriptors"),o=e("../internals/ie8-dom-define"),c=e("../internals/v8-prototype-define-bug"),l=e("../internals/an-object"),d=e("../internals/to-property-key"),u=TypeError,f=Object.defineProperty,h=Object.getOwnPropertyDescriptor;a.f=i?c?function(m,A,g){if(l(m),A=d(A),l(g),typeof m=="function"&&A==="prototype"&&"value"in g&&"writable"in g&&!g.writable){var p=h(m,A);p&&p.writable&&(m[A]=g.value,g={configurable:"configurable"in g?g.configurable:p.configurable,enumerable:"enumerable"in g?g.enumerable:p.enumerable,writable:!1})}return f(m,A,g)}:f:function(m,A,g){if(l(m),A=d(A),l(g),o)try{return f(m,A,g)}catch{}if("get"in g||"set"in g)throw new u("Accessors not supported");return"value"in g&&(m[A]=g.value),m}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,s,a){var i=e("../internals/descriptors"),o=e("../internals/function-call"),c=e("../internals/object-property-is-enumerable"),l=e("../internals/create-property-descriptor"),d=e("../internals/to-indexed-object"),u=e("../internals/to-property-key"),f=e("../internals/has-own-property"),h=e("../internals/ie8-dom-define"),m=Object.getOwnPropertyDescriptor;a.f=i?m:function(A,g){if(A=d(A),g=u(g),h)try{return m(A,g)}catch{}if(f(A,g))return l(!o(c.f,A,g),A[g])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,s,a){var i=e("../internals/classof-raw"),o=e("../internals/to-indexed-object"),c=e("../internals/object-get-own-property-names").f,l=e("../internals/array-slice-simple"),d=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];s.exports.f=function(u){return d&&i(u)==="Window"?function(f){try{return c(f)}catch{return l(d)}}(u):c(o(u))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,s,a){var i=e("../internals/object-keys-internal"),o=e("../internals/enum-bug-keys").concat("length","prototype");a.f=Object.getOwnPropertyNames||function(c){return i(c,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,s,a){a.f=Object.getOwnPropertySymbols},{}],313:[function(e,s,a){var i=e("../internals/has-own-property"),o=e("../internals/is-callable"),c=e("../internals/to-object"),l=e("../internals/shared-key"),d=e("../internals/correct-prototype-getter"),u=l("IE_PROTO"),f=Object,h=f.prototype;s.exports=d?f.getPrototypeOf:function(m){var A=c(m);if(i(A,u))return A[u];var g=A.constructor;return o(g)&&A instanceof g?g.prototype:A instanceof f?h:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,s,a){var i=e("../internals/function-uncurry-this");s.exports=i({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,s,a){var i=e("../internals/function-uncurry-this"),o=e("../internals/has-own-property"),c=e("../internals/to-indexed-object"),l=e("../internals/array-includes").indexOf,d=e("../internals/hidden-keys"),u=i([].push);s.exports=function(f,h){var m,A=c(f),g=0,p=[];for(m in A)!o(d,m)&&o(A,m)&&u(p,m);for(;h.length>g;)o(A,m=h[g++])&&(~l(p,m)||u(p,m));return p}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,s,a){var i=e("../internals/object-keys-internal"),o=e("../internals/enum-bug-keys");s.exports=Object.keys||function(c){return i(c,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,s,a){var i={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,c=o&&!i.call({1:2},1);a.f=c?function(l){var d=o(this,l);return!!d&&d.enumerable}:i},{}],318:[function(e,s,a){var i=e("../internals/function-uncurry-this-accessor"),o=e("../internals/an-object"),c=e("../internals/a-possible-prototype");s.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var l,d=!1,u={};try{(l=i(Object.prototype,"__proto__","set"))(u,[]),d=u instanceof Array}catch{}return function(f,h){return o(f),c(h),d?l(f,h):f.__proto__=h,f}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,s,a){var i=e("../internals/descriptors"),o=e("../internals/fails"),c=e("../internals/function-uncurry-this"),l=e("../internals/object-get-prototype-of"),d=e("../internals/object-keys"),u=e("../internals/to-indexed-object"),f=c(e("../internals/object-property-is-enumerable").f),h=c([].push),m=i&&o(function(){var g=Object.create(null);return g[2]=2,!f(g,2)}),A=function(g){return function(p){for(var b,x=u(p),v=d(x),y=m&&l(x)===null,S=v.length,M=0,P=[];S>M;)b=v[M++],i&&!(y?b in x:f(x,b))||h(P,g?[b,x[b]]:x[b]);return P}};s.exports={entries:A(!0),values:A(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,s,a){var i=e("../internals/function-call"),o=e("../internals/is-callable"),c=e("../internals/is-object"),l=TypeError;s.exports=function(d,u){var f,h;if(u==="string"&&o(f=d.toString)&&!c(h=i(f,d))||o(f=d.valueOf)&&!c(h=i(f,d))||u!=="string"&&o(f=d.toString)&&!c(h=i(f,d)))return h;throw new l("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,s,a){var i=e("../internals/get-built-in"),o=e("../internals/function-uncurry-this"),c=e("../internals/object-get-own-property-names"),l=e("../internals/object-get-own-property-symbols"),d=e("../internals/an-object"),u=o([].concat);s.exports=i("Reflect","ownKeys")||function(f){var h=c.f(d(f)),m=l.f;return m?u(h,m(f)):h}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,s,a){var i=e("../internals/global");s.exports=i},{"../internals/global":274}],323:[function(e,s,a){s.exports=function(i){try{return{error:!1,value:i()}}catch(o){return{error:!0,value:o}}}},{}],324:[function(e,s,a){var i=e("../internals/global"),o=e("../internals/promise-native-constructor"),c=e("../internals/is-callable"),l=e("../internals/is-forced"),d=e("../internals/inspect-source"),u=e("../internals/well-known-symbol"),f=e("../internals/engine-is-browser"),h=e("../internals/engine-is-deno"),m=e("../internals/is-pure"),A=e("../internals/engine-v8-version"),g=o&&o.prototype,p=u("species"),b=!1,x=c(i.PromiseRejectionEvent),v=l("Promise",function(){var y=d(o),S=y!==String(o);if(!S&&A===66||m&&(!g.catch||!g.finally))return!0;if(!A||A<51||!/native code/.test(y)){var M=new o(function(B){B(1)}),P=function(B){B(function(){},function(){})};if((M.constructor={})[p]=P,!(b=M.then(function(){})instanceof P))return!0}return!S&&(f||h)&&!x});s.exports={CONSTRUCTOR:v,REJECTION_EVENT:x,SUBCLASSING:b}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,s,a){var i=e("../internals/global");s.exports=i.Promise},{"../internals/global":274}],326:[function(e,s,a){var i=e("../internals/an-object"),o=e("../internals/is-object"),c=e("../internals/new-promise-capability");s.exports=function(l,d){if(i(l),o(d)&&d.constructor===l)return d;var u=c.f(l);return(0,u.resolve)(d),u.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,s,a){var i=e("../internals/promise-native-constructor"),o=e("../internals/check-correctness-of-iteration"),c=e("../internals/promise-constructor-detection").CONSTRUCTOR;s.exports=c||!o(function(l){i.all(l).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,s,a){var i=function(){this.head=null,this.tail=null};i.prototype={add:function(o){var c={item:o,next:null},l=this.tail;l?l.next=c:this.head=c,this.tail=c},get:function(){var o=this.head;if(o)return(this.head=o.next)===null&&(this.tail=null),o.item}},s.exports=i},{}],329:[function(e,s,a){var i=e("../internals/is-null-or-undefined"),o=TypeError;s.exports=function(c){if(i(c))throw new o("Can't call method on "+c);return c}},{"../internals/is-null-or-undefined":288}],330:[function(e,s,a){var i=e("../internals/get-built-in"),o=e("../internals/define-built-in-accessor"),c=e("../internals/well-known-symbol"),l=e("../internals/descriptors"),d=c("species");s.exports=function(u){var f=i(u);l&&f&&!f[d]&&o(f,d,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,s,a){var i=e("../internals/object-define-property").f,o=e("../internals/has-own-property"),c=e("../internals/well-known-symbol")("toStringTag");s.exports=function(l,d,u){l&&!u&&(l=l.prototype),l&&!o(l,c)&&i(l,c,{configurable:!0,value:d})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,s,a){var i=e("../internals/shared"),o=e("../internals/uid"),c=i("keys");s.exports=function(l){return c[l]||(c[l]=o(l))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,s,a){var i=e("../internals/global"),o=e("../internals/define-global-property"),c=i["__core-js_shared__"]||o("__core-js_shared__",{});s.exports=c},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,s,a){var i=e("../internals/is-pure"),o=e("../internals/shared-store");(s.exports=function(c,l){return o[c]||(o[c]=l!==void 0?l:{})})("versions",[]).push({version:"3.33.0",mode:i?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,s,a){var i=e("../internals/an-object"),o=e("../internals/a-constructor"),c=e("../internals/is-null-or-undefined"),l=e("../internals/well-known-symbol")("species");s.exports=function(d,u){var f,h=i(d).constructor;return h===void 0||c(f=i(h)[l])?u:o(f)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,s,a){var i=e("../internals/engine-v8-version"),o=e("../internals/fails"),c=e("../internals/global").String;s.exports=!!Object.getOwnPropertySymbols&&!o(function(){var l=Symbol("symbol detection");return!c(l)||!(Object(l)instanceof Symbol)||!Symbol.sham&&i&&i<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,s,a){var i=e("../internals/function-call"),o=e("../internals/get-built-in"),c=e("../internals/well-known-symbol"),l=e("../internals/define-built-in");s.exports=function(){var d=o("Symbol"),u=d&&d.prototype,f=u&&u.valueOf,h=c("toPrimitive");u&&!u[h]&&l(u,h,function(m){return i(f,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,s,a){var i=e("../internals/symbol-constructor-detection");s.exports=i&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,s,a){var i,o,c,l,d=e("../internals/global"),u=e("../internals/function-apply"),f=e("../internals/function-bind-context"),h=e("../internals/is-callable"),m=e("../internals/has-own-property"),A=e("../internals/fails"),g=e("../internals/html"),p=e("../internals/array-slice"),b=e("../internals/document-create-element"),x=e("../internals/validate-arguments-length"),v=e("../internals/engine-is-ios"),y=e("../internals/engine-is-node"),S=d.setImmediate,M=d.clearImmediate,P=d.process,B=d.Dispatch,D=d.Function,L=d.MessageChannel,O=d.String,F=0,_={};A(function(){i=d.location});var E=function(j){if(m(_,j)){var N=_[j];delete _[j],N()}},T=function(j){return function(){E(j)}},w=function(j){E(j.data)},C=function(j){d.postMessage(O(j),i.protocol+"//"+i.host)};S&&M||(S=function(j){x(arguments.length,1);var N=h(j)?j:D(j),I=p(arguments,1);return _[++F]=function(){u(N,void 0,I)},o(F),F},M=function(j){delete _[j]},y?o=function(j){P.nextTick(T(j))}:B&&B.now?o=function(j){B.now(T(j))}:L&&!v?(l=(c=new L).port2,c.port1.onmessage=w,o=f(l.postMessage,l)):d.addEventListener&&h(d.postMessage)&&!d.importScripts&&i&&i.protocol!=="file:"&&!A(C)?(o=C,d.addEventListener("message",w,!1)):o="onreadystatechange"in b("script")?function(j){g.appendChild(b("script")).onreadystatechange=function(){g.removeChild(this),E(j)}}:function(j){setTimeout(T(j),0)}),s.exports={set:S,clear:M}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,s,a){var i=e("../internals/to-integer-or-infinity"),o=Math.max,c=Math.min;s.exports=function(l,d){var u=i(l);return u<0?o(u+d,0):c(u,d)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,s,a){var i=e("../internals/indexed-object"),o=e("../internals/require-object-coercible");s.exports=function(c){return i(o(c))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,s,a){var i=e("../internals/math-trunc");s.exports=function(o){var c=+o;return c!=c||c===0?0:i(c)}},{"../internals/math-trunc":301}],343:[function(e,s,a){var i=e("../internals/to-integer-or-infinity"),o=Math.min;s.exports=function(c){return c>0?o(i(c),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,s,a){var i=e("../internals/require-object-coercible"),o=Object;s.exports=function(c){return o(i(c))}},{"../internals/require-object-coercible":329}],345:[function(e,s,a){var i=e("../internals/function-call"),o=e("../internals/is-object"),c=e("../internals/is-symbol"),l=e("../internals/get-method"),d=e("../internals/ordinary-to-primitive"),u=e("../internals/well-known-symbol"),f=TypeError,h=u("toPrimitive");s.exports=function(m,A){if(!o(m)||c(m))return m;var g,p=l(m,h);if(p){if(A===void 0&&(A="default"),g=i(p,m,A),!o(g)||c(g))return g;throw new f("Can't convert object to primitive value")}return A===void 0&&(A="number"),d(m,A)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,s,a){var i=e("../internals/to-primitive"),o=e("../internals/is-symbol");s.exports=function(c){var l=i(c,"string");return o(l)?l:l+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,s,a){var i={};i[e("../internals/well-known-symbol")("toStringTag")]="z",s.exports=String(i)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,s,a){var i=e("../internals/classof"),o=String;s.exports=function(c){if(i(c)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return o(c)}},{"../internals/classof":236}],349:[function(e,s,a){var i=String;s.exports=function(o){try{return i(o)}catch{return"Object"}}},{}],350:[function(e,s,a){var i=e("../internals/function-uncurry-this"),o=0,c=Math.random(),l=i(1 .toString);s.exports=function(d){return"Symbol("+(d===void 0?"":d)+")_"+l(++o+c,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,s,a){var i=e("../internals/symbol-constructor-detection");s.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,s,a){var i=e("../internals/descriptors"),o=e("../internals/fails");s.exports=i&&o(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,s,a){var i=TypeError;s.exports=function(o,c){if(o<c)throw new i("Not enough arguments");return o}},{}],354:[function(e,s,a){var i=e("../internals/global"),o=e("../internals/is-callable"),c=i.WeakMap;s.exports=o(c)&&/native code/.test(String(c))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,s,a){var i=e("../internals/path"),o=e("../internals/has-own-property"),c=e("../internals/well-known-symbol-wrapped"),l=e("../internals/object-define-property").f;s.exports=function(d){var u=i.Symbol||(i.Symbol={});o(u,d)||l(u,d,{value:c.f(d)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,s,a){var i=e("../internals/well-known-symbol");a.f=i},{"../internals/well-known-symbol":357}],357:[function(e,s,a){var i=e("../internals/global"),o=e("../internals/shared"),c=e("../internals/has-own-property"),l=e("../internals/uid"),d=e("../internals/symbol-constructor-detection"),u=e("../internals/use-symbol-as-uid"),f=i.Symbol,h=o("wks"),m=u?f.for||f:f&&f.withoutSetter||l;s.exports=function(A){return c(h,A)||(h[A]=d&&c(f,A)?f[A]:m("Symbol."+A)),h[A]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/array-iteration").findIndex,c=e("../internals/add-to-unscopables"),l=!0;"findIndex"in[]&&Array(1).findIndex(function(){l=!1}),i({target:"Array",proto:!0,forced:l},{findIndex:function(d){return o(this,d,arguments.length>1?arguments[1]:void 0)}}),c("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/array-iteration").find,c=e("../internals/add-to-unscopables"),l=!0;"find"in[]&&Array(1).find(function(){l=!1}),i({target:"Array",proto:!0,forced:l},{find:function(d){return o(this,d,arguments.length>1?arguments[1]:void 0)}}),c("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/array-includes").includes,c=e("../internals/fails"),l=e("../internals/add-to-unscopables");i({target:"Array",proto:!0,forced:c(function(){return!Array(1).includes()})},{includes:function(d){return o(this,d,arguments.length>1?arguments[1]:void 0)}}),l("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,s,a){var i=e("../internals/to-indexed-object"),o=e("../internals/add-to-unscopables"),c=e("../internals/iterators"),l=e("../internals/internal-state"),d=e("../internals/object-define-property").f,u=e("../internals/iterator-define"),f=e("../internals/create-iter-result-object"),h=e("../internals/is-pure"),m=e("../internals/descriptors"),A=l.set,g=l.getterFor("Array Iterator");s.exports=u(Array,"Array",function(b,x){A(this,{type:"Array Iterator",target:i(b),index:0,kind:x})},function(){var b=g(this),x=b.target,v=b.kind,y=b.index++;if(!x||y>=x.length)return b.target=void 0,f(void 0,!0);switch(v){case"keys":return f(y,!1);case"values":return f(x[y],!1)}return f([y,x[y]],!1)},"values");var p=c.Arguments=c.Array;if(o("keys"),o("values"),o("entries"),!h&&m&&p.name!=="values")try{d(p,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/get-built-in"),c=e("../internals/function-apply"),l=e("../internals/function-call"),d=e("../internals/function-uncurry-this"),u=e("../internals/fails"),f=e("../internals/is-callable"),h=e("../internals/is-symbol"),m=e("../internals/array-slice"),A=e("../internals/get-json-replacer-function"),g=e("../internals/symbol-constructor-detection"),p=String,b=o("JSON","stringify"),x=d(/./.exec),v=d("".charAt),y=d("".charCodeAt),S=d("".replace),M=d(1 .toString),P=/[\uD800-\uDFFF]/g,B=/^[\uD800-\uDBFF]$/,D=/^[\uDC00-\uDFFF]$/,L=!g||u(function(){var E=o("Symbol")("stringify detection");return b([E])!=="[null]"||b({a:E})!=="{}"||b(Object(E))!=="{}"}),O=u(function(){return b("\uDF06\uD834")!=='"\\udf06\\ud834"'||b("\uDEAD")!=='"\\udead"'}),F=function(E,T){var w=m(arguments),C=A(T);if(f(C)||E!==void 0&&!h(E))return w[1]=function(j,N){if(f(C)&&(N=l(C,this,p(j),N)),!h(N))return N},c(b,null,w)},_=function(E,T,w){var C=v(w,T-1),j=v(w,T+1);return x(B,E)&&!x(D,j)||x(D,E)&&!x(B,C)?"\\u"+M(y(E,0),16):E};b&&i({target:"JSON",stat:!0,arity:3,forced:L||O},{stringify:function(E,T,w){var C=m(arguments),j=c(L?F:b,null,C);return O&&typeof j=="string"?S(j,P,_):j}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,s,a){e("../internals/export")({target:"Number",stat:!0},{isNaN:function(i){return i!=i}})},{"../internals/export":259}],364:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/object-assign");i({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/symbol-constructor-detection"),c=e("../internals/fails"),l=e("../internals/object-get-own-property-symbols"),d=e("../internals/to-object");i({target:"Object",stat:!0,forced:!o||c(function(){l.f(1)})},{getOwnPropertySymbols:function(u){var f=l.f;return f?f(d(u)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/to-object"),c=e("../internals/object-keys");i({target:"Object",stat:!0,forced:e("../internals/fails")(function(){c(1)})},{keys:function(l){return c(o(l))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/object-to-array").values;i({target:"Object",stat:!0},{values:function(c){return o(c)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/function-call"),c=e("../internals/a-callable"),l=e("../internals/new-promise-capability"),d=e("../internals/perform"),u=e("../internals/iterate");i({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{all:function(f){var h=this,m=l.f(h),A=m.resolve,g=m.reject,p=d(function(){var b=c(h.resolve),x=[],v=0,y=1;u(f,function(S){var M=v++,P=!1;y++,o(b,h,S).then(function(B){P||(P=!0,x[M]=B,--y||A(x))},g)}),--y||A(x)});return p.error&&g(p.value),m.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/is-pure"),c=e("../internals/promise-constructor-detection").CONSTRUCTOR,l=e("../internals/promise-native-constructor"),d=e("../internals/get-built-in"),u=e("../internals/is-callable"),f=e("../internals/define-built-in"),h=l&&l.prototype;if(i({target:"Promise",proto:!0,forced:c,real:!0},{catch:function(A){return this.then(void 0,A)}}),!o&&u(l)){var m=d("Promise").prototype.catch;h.catch!==m&&f(h,"catch",m,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,s,a){var i,o,c,l=e("../internals/export"),d=e("../internals/is-pure"),u=e("../internals/engine-is-node"),f=e("../internals/global"),h=e("../internals/function-call"),m=e("../internals/define-built-in"),A=e("../internals/object-set-prototype-of"),g=e("../internals/set-to-string-tag"),p=e("../internals/set-species"),b=e("../internals/a-callable"),x=e("../internals/is-callable"),v=e("../internals/is-object"),y=e("../internals/an-instance"),S=e("../internals/species-constructor"),M=e("../internals/task").set,P=e("../internals/microtask"),B=e("../internals/host-report-errors"),D=e("../internals/perform"),L=e("../internals/queue"),O=e("../internals/internal-state"),F=e("../internals/promise-native-constructor"),_=e("../internals/promise-constructor-detection"),E=e("../internals/new-promise-capability"),T=_.CONSTRUCTOR,w=_.REJECTION_EVENT,C=_.SUBCLASSING,j=O.getterFor("Promise"),N=O.set,I=F&&F.prototype,R=F,U=I,V=f.TypeError,z=f.document,X=f.process,Q=E.f,q=Q,H=!!(z&&z.createEvent&&f.dispatchEvent),$=function(Y){var Z;return!(!v(Y)||!x(Z=Y.then))&&Z},G=function(Y,Z){var se,re,le,ae=Z.value,ue=Z.state===1,he=ue?Y.ok:Y.fail,pe=Y.resolve,Ae=Y.reject,ie=Y.domain;try{he?(ue||(Z.rejection===2&&ce(Z),Z.rejection=1),he===!0?se=ae:(ie&&ie.enter(),se=he(ae),ie&&(ie.exit(),le=!0)),se===Y.promise?Ae(new V("Promise-chain cycle")):(re=$(se))?h(re,se,pe,Ae):pe(se)):Ae(ae)}catch(de){ie&&!le&&ie.exit(),Ae(de)}},J=function(Y,Z){Y.notified||(Y.notified=!0,P(function(){for(var se,re=Y.reactions;se=re.get();)G(se,Y);Y.notified=!1,Z&&!Y.rejection&&K(Y)}))},te=function(Y,Z,se){var re,le;H?((re=z.createEvent("Event")).promise=Z,re.reason=se,re.initEvent(Y,!1,!0),f.dispatchEvent(re)):re={promise:Z,reason:se},!w&&(le=f["on"+Y])?le(re):Y==="unhandledrejection"&&B("Unhandled promise rejection",se)},K=function(Y){h(M,f,function(){var Z,se=Y.facade,re=Y.value;if(ne(Y)&&(Z=D(function(){u?X.emit("unhandledRejection",re,se):te("unhandledrejection",se,re)}),Y.rejection=u||ne(Y)?2:1,Z.error))throw Z.value})},ne=function(Y){return Y.rejection!==1&&!Y.parent},ce=function(Y){h(M,f,function(){var Z=Y.facade;u?X.emit("rejectionHandled",Z):te("rejectionhandled",Z,Y.value)})},oe=function(Y,Z,se){return function(re){Y(Z,re,se)}},ee=function(Y,Z,se){Y.done||(Y.done=!0,se&&(Y=se),Y.value=Z,Y.state=2,J(Y,!0))},W=function(Y,Z,se){if(!Y.done){Y.done=!0,se&&(Y=se);try{if(Y.facade===Z)throw new V("Promise can't be resolved itself");var re=$(Z);re?P(function(){var le={done:!1};try{h(re,Z,oe(W,le,Y),oe(ee,le,Y))}catch(ae){ee(le,ae,Y)}}):(Y.value=Z,Y.state=1,J(Y,!1))}catch(le){ee({done:!1},le,Y)}}};if(T&&(U=(R=function(Y){y(this,U),b(Y),h(i,this);var Z=j(this);try{Y(oe(W,Z),oe(ee,Z))}catch(se){ee(Z,se)}}).prototype,(i=function(Y){N(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new L,rejection:!1,state:0,value:void 0})}).prototype=m(U,"then",function(Y,Z){var se=j(this),re=Q(S(this,R));return se.parent=!0,re.ok=!x(Y)||Y,re.fail=x(Z)&&Z,re.domain=u?X.domain:void 0,se.state===0?se.reactions.add(re):P(function(){G(re,se)}),re.promise}),o=function(){var Y=new i,Z=j(Y);this.promise=Y,this.resolve=oe(W,Z),this.reject=oe(ee,Z)},E.f=Q=function(Y){return Y===R||Y===void 0?new o(Y):q(Y)},!d&&x(F)&&I!==Object.prototype)){c=I.then,C||m(I,"then",function(Y,Z){var se=this;return new R(function(re,le){h(c,se,re,le)}).then(Y,Z)},{unsafe:!0});try{delete I.constructor}catch{}A&&A(I,U)}l({global:!0,constructor:!0,wrap:!0,forced:T},{Promise:R}),g(R,"Promise",!1,!0),p("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/is-pure"),c=e("../internals/promise-native-constructor"),l=e("../internals/fails"),d=e("../internals/get-built-in"),u=e("../internals/is-callable"),f=e("../internals/species-constructor"),h=e("../internals/promise-resolve"),m=e("../internals/define-built-in"),A=c&&c.prototype;if(i({target:"Promise",proto:!0,real:!0,forced:!!c&&l(function(){A.finally.call({then:function(){}},function(){})})},{finally:function(p){var b=f(this,d("Promise")),x=u(p);return this.then(x?function(v){return h(b,p()).then(function(){return v})}:p,x?function(v){return h(b,p()).then(function(){throw v})}:p)}}),!o&&u(c)){var g=d("Promise").prototype.finally;A.finally!==g&&m(A,"finally",g,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,s,a){e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/function-call"),c=e("../internals/a-callable"),l=e("../internals/new-promise-capability"),d=e("../internals/perform"),u=e("../internals/iterate");i({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{race:function(f){var h=this,m=l.f(h),A=m.reject,g=d(function(){var p=c(h.resolve);u(f,function(b){o(p,h,b).then(m.resolve,A)})});return g.error&&A(g.value),m.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/function-call"),c=e("../internals/new-promise-capability");i({target:"Promise",stat:!0,forced:e("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(l){var d=c.f(this);return o(d.reject,void 0,l),d.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/get-built-in"),c=e("../internals/is-pure"),l=e("../internals/promise-native-constructor"),d=e("../internals/promise-constructor-detection").CONSTRUCTOR,u=e("../internals/promise-resolve"),f=o("Promise"),h=c&&!d;i({target:"Promise",stat:!0,forced:c||d},{resolve:function(m){return u(h&&this===f?l:this,m)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/function-uncurry-this"),c=e("../internals/to-absolute-index"),l=RangeError,d=String.fromCharCode,u=String.fromCodePoint,f=o([].join);i({target:"String",stat:!0,arity:1,forced:!!u&&u.length!==1},{fromCodePoint:function(h){for(var m,A=[],g=arguments.length,p=0;g>p;){if(m=+arguments[p++],c(m,1114111)!==m)throw new l(m+" is not a valid code point");A[p]=m<65536?d(m):d(55296+((m-=65536)>>10),m%1024+56320)}return f(A,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/function-uncurry-this"),c=e("../internals/not-a-regexp"),l=e("../internals/require-object-coercible"),d=e("../internals/to-string"),u=e("../internals/correct-is-regexp-logic"),f=o("".indexOf);i({target:"String",proto:!0,forced:!u("includes")},{includes:function(h){return!!~f(d(l(this)),d(c(h)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,s,a){e("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/global"),c=e("../internals/function-call"),l=e("../internals/function-uncurry-this"),d=e("../internals/is-pure"),u=e("../internals/descriptors"),f=e("../internals/symbol-constructor-detection"),h=e("../internals/fails"),m=e("../internals/has-own-property"),A=e("../internals/object-is-prototype-of"),g=e("../internals/an-object"),p=e("../internals/to-indexed-object"),b=e("../internals/to-property-key"),x=e("../internals/to-string"),v=e("../internals/create-property-descriptor"),y=e("../internals/object-create"),S=e("../internals/object-keys"),M=e("../internals/object-get-own-property-names"),P=e("../internals/object-get-own-property-names-external"),B=e("../internals/object-get-own-property-symbols"),D=e("../internals/object-get-own-property-descriptor"),L=e("../internals/object-define-property"),O=e("../internals/object-define-properties"),F=e("../internals/object-property-is-enumerable"),_=e("../internals/define-built-in"),E=e("../internals/define-built-in-accessor"),T=e("../internals/shared"),w=e("../internals/shared-key"),C=e("../internals/hidden-keys"),j=e("../internals/uid"),N=e("../internals/well-known-symbol"),I=e("../internals/well-known-symbol-wrapped"),R=e("../internals/well-known-symbol-define"),U=e("../internals/symbol-define-to-primitive"),V=e("../internals/set-to-string-tag"),z=e("../internals/internal-state"),X=e("../internals/array-iteration").forEach,Q=w("hidden"),q=z.set,H=z.getterFor("Symbol"),$=Object.prototype,G=o.Symbol,J=G&&G.prototype,te=o.RangeError,K=o.TypeError,ne=o.QObject,ce=D.f,oe=L.f,ee=P.f,W=F.f,Y=l([].push),Z=T("symbols"),se=T("op-symbols"),re=T("wks"),le=!ne||!ne.prototype||!ne.prototype.findChild,ae=function(Me,Be,xe){var Te=ce($,Be);Te&&delete $[Be],oe(Me,Be,xe),Te&&Me!==$&&oe($,Be,Te)},ue=u&&h(function(){return y(oe({},"a",{get:function(){return oe(this,"a",{value:7}).a}})).a!==7})?ae:oe,he=function(Me,Be){var xe=Z[Me]=y(J);return q(xe,{type:"Symbol",tag:Me,description:Be}),u||(xe.description=Be),xe},pe=function(Me,Be,xe){Me===$&&pe(se,Be,xe),g(Me);var Te=b(Be);return g(xe),m(Z,Te)?(xe.enumerable?(m(Me,Q)&&Me[Q][Te]&&(Me[Q][Te]=!1),xe=y(xe,{enumerable:v(0,!1)})):(m(Me,Q)||oe(Me,Q,v(1,{})),Me[Q][Te]=!0),ue(Me,Te,xe)):oe(Me,Te,xe)},Ae=function(Me,Be){g(Me);var xe=p(Be),Te=S(xe).concat(ve(xe));return X(Te,function(_e){u&&!c(ie,xe,_e)||pe(Me,_e,xe[_e])}),Me},ie=function(Me){var Be=b(Me),xe=c(W,this,Be);return!(this===$&&m(Z,Be)&&!m(se,Be))&&(!(xe||!m(this,Be)||!m(Z,Be)||m(this,Q)&&this[Q][Be])||xe)},de=function(Me,Be){var xe=p(Me),Te=b(Be);if(xe!==$||!m(Z,Te)||m(se,Te)){var _e=ce(xe,Te);return!_e||!m(Z,Te)||m(xe,Q)&&xe[Q][Te]||(_e.enumerable=!0),_e}},me=function(Me){var Be=ee(p(Me)),xe=[];return X(Be,function(Te){m(Z,Te)||m(C,Te)||Y(xe,Te)}),xe},ve=function(Me){var Be=Me===$,xe=ee(Be?se:p(Me)),Te=[];return X(xe,function(_e){!m(Z,_e)||Be&&!m($,_e)||Y(Te,Z[_e])}),Te};f||(_(J=(G=function(){if(A(J,this))throw new K("Symbol is not a constructor");var Me=arguments.length&&arguments[0]!==void 0?x(arguments[0]):void 0,Be=j(Me),xe=function(Te){this===$&&c(xe,se,Te),m(this,Q)&&m(this[Q],Be)&&(this[Q][Be]=!1);var _e=v(1,Te);try{ue(this,Be,_e)}catch(Pe){if(!(Pe instanceof te))throw Pe;ae(this,Be,_e)}};return u&&le&&ue($,Be,{configurable:!0,set:xe}),he(Be,Me)}).prototype,"toString",function(){return H(this).tag}),_(G,"withoutSetter",function(Me){return he(j(Me),Me)}),F.f=ie,L.f=pe,O.f=Ae,D.f=de,M.f=P.f=me,B.f=ve,I.f=function(Me){return he(N(Me),Me)},u&&(E(J,"description",{configurable:!0,get:function(){return H(this).description}}),d||_($,"propertyIsEnumerable",ie,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!f,sham:!f},{Symbol:G}),X(S(re),function(Me){R(Me)}),i({target:"Symbol",stat:!0,forced:!f},{useSetter:function(){le=!0},useSimple:function(){le=!1}}),i({target:"Object",stat:!0,forced:!f,sham:!u},{create:function(Me,Be){return Be===void 0?y(Me):Ae(y(Me),Be)},defineProperty:pe,defineProperties:Ae,getOwnPropertyDescriptor:de}),i({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:me}),U(),V(G,"Symbol"),C[Q]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/get-built-in"),c=e("../internals/has-own-property"),l=e("../internals/to-string"),d=e("../internals/shared"),u=e("../internals/symbol-registry-detection"),f=d("string-to-symbol-registry"),h=d("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!u},{for:function(m){var A=l(m);if(c(f,A))return f[A];var g=o("Symbol")(A);return f[A]=g,h[g]=A,g}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,s,a){e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/has-own-property"),c=e("../internals/is-symbol"),l=e("../internals/try-to-string"),d=e("../internals/shared"),u=e("../internals/symbol-registry-detection"),f=d("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!u},{keyFor:function(h){if(!c(h))throw new TypeError(l(h)+" is not a symbol");if(o(f,h))return f[h]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,s,a){function i(o){return Object.prototype.toString.call(o)}a.isArray=function(o){return Array.isArray?Array.isArray(o):i(o)==="[object Array]"},a.isBoolean=function(o){return typeof o=="boolean"},a.isNull=function(o){return o===null},a.isNullOrUndefined=function(o){return o==null},a.isNumber=function(o){return typeof o=="number"},a.isString=function(o){return typeof o=="string"},a.isSymbol=function(o){return typeof o=="symbol"},a.isUndefined=function(o){return o===void 0},a.isRegExp=function(o){return i(o)==="[object RegExp]"},a.isObject=function(o){return typeof o=="object"&&o!==null},a.isDate=function(o){return i(o)==="[object Date]"},a.isError=function(o){return i(o)==="[object Error]"||o instanceof Error},a.isFunction=function(o){return typeof o=="function"},a.isPrimitive=function(o){return o===null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||typeof o=="symbol"||o===void 0},a.isBuffer=e("buffer").Buffer.isBuffer},{buffer:220}],384:[function(e,s,a){(function(i){(function(){var o=e("elliptic"),c=e("bn.js");s.exports=function(f){return new d(f)};var l={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function d(f){this.curveType=l[f],this.curveType||(this.curveType={name:f}),this.curve=new o.ec(this.curveType.name),this.keys=void 0}function u(f,h,m){Array.isArray(f)||(f=f.toArray());var A=new i(f);if(m&&A.length<m){var g=new i(m-A.length);g.fill(0),A=i.concat([g,A])}return h?A.toString(h):A}l.p224=l.secp224r1,l.p256=l.secp256r1=l.prime256v1,l.p192=l.secp192r1=l.prime192v1,l.p384=l.secp384r1,l.p521=l.secp521r1,d.prototype.generateKeys=function(f,h){return this.keys=this.curve.genKeyPair(),this.getPublicKey(f,h)},d.prototype.computeSecret=function(f,h,m){return h=h||"utf8",i.isBuffer(f)||(f=new i(f,h)),u(this.curve.keyFromPublic(f).getPublic().mul(this.keys.getPrivate()).getX(),m,this.curveType.byteLength)},d.prototype.getPublicKey=function(f,h){var m=this.keys.getPublic(h==="compressed",!0);return h==="hybrid"&&(m[m.length-1]%2?m[0]=7:m[0]=6),u(m,f)},d.prototype.getPrivateKey=function(f){return u(this.keys.getPrivate(),f)},d.prototype.setPublicKey=function(f,h){return h=h||"utf8",i.isBuffer(f)||(f=new i(f,h)),this.keys._importPublic(f),this},d.prototype.setPrivateKey=function(f,h){h=h||"utf8",i.isBuffer(f)||(f=new i(f,h));var m=new c(f);return m=m.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(m),this}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,s,a){arguments[4][184][0].apply(a,arguments)},{buffer:188,dup:184}],386:[function(e,s,a){var i=e("inherits"),o=e("md5.js"),c=e("ripemd160"),l=e("sha.js"),d=e("cipher-base");function u(f){d.call(this,"digest"),this._hash=f}i(u,d),u.prototype._update=function(f){this._hash.update(f)},u.prototype._final=function(){return this._hash.digest()},s.exports=function(f){return(f=f.toLowerCase())==="md5"?new o:f==="rmd160"||f==="ripemd160"?new c:new u(l(f))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,s,a){var i=e("md5.js");s.exports=function(o){return new i().update(o).digest()}},{"md5.js":450}],388:[function(e,s,a){var i=e("inherits"),o=e("./legacy"),c=e("cipher-base"),l=e("safe-buffer").Buffer,d=e("create-hash/md5"),u=e("ripemd160"),f=e("sha.js"),h=l.alloc(128);function m(A,g){c.call(this,"digest"),typeof g=="string"&&(g=l.from(g));var p=A==="sha512"||A==="sha384"?128:64;this._alg=A,this._key=g,g.length>p?g=(A==="rmd160"?new u:f(A)).update(g).digest():g.length<p&&(g=l.concat([g,h],p));for(var b=this._ipad=l.allocUnsafe(p),x=this._opad=l.allocUnsafe(p),v=0;v<p;v++)b[v]=54^g[v],x[v]=92^g[v];this._hash=A==="rmd160"?new u:f(A),this._hash.update(b)}i(m,c),m.prototype._update=function(A){this._hash.update(A)},m.prototype._final=function(){var A=this._hash.digest();return(this._alg==="rmd160"?new u:f(this._alg)).update(this._opad).update(A).digest()},s.exports=function(A,g){return(A=A.toLowerCase())==="rmd160"||A==="ripemd160"?new m("rmd160",g):A==="md5"?new o(d,g):new m(A,g)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,s,a){var i=e("inherits"),o=e("safe-buffer").Buffer,c=e("cipher-base"),l=o.alloc(128);function d(u,f){c.call(this,"digest"),typeof f=="string"&&(f=o.from(f)),this._alg=u,this._key=f,f.length>64?f=u(f):f.length<64&&(f=o.concat([f,l],64));for(var h=this._ipad=o.allocUnsafe(64),m=this._opad=o.allocUnsafe(64),A=0;A<64;A++)h[A]=54^f[A],m[A]=92^f[A];this._hash=[h]}i(d,c),d.prototype._update=function(u){this._hash.push(u)},d.prototype._final=function(){var u=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,u]))},s.exports=d},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,s,a){a.randomBytes=a.rng=a.pseudoRandomBytes=a.prng=e("randombytes"),a.createHash=a.Hash=e("create-hash"),a.createHmac=a.Hmac=e("create-hmac");var i=e("browserify-sign/algos"),o=Object.keys(i),c=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(o);a.getHashes=function(){return c};var l=e("pbkdf2");a.pbkdf2=l.pbkdf2,a.pbkdf2Sync=l.pbkdf2Sync;var d=e("browserify-cipher");a.Cipher=d.Cipher,a.createCipher=d.createCipher,a.Cipheriv=d.Cipheriv,a.createCipheriv=d.createCipheriv,a.Decipher=d.Decipher,a.createDecipher=d.createDecipher,a.Decipheriv=d.Decipheriv,a.createDecipheriv=d.createDecipheriv,a.getCiphers=d.getCiphers,a.listCiphers=d.listCiphers;var u=e("diffie-hellman");a.DiffieHellmanGroup=u.DiffieHellmanGroup,a.createDiffieHellmanGroup=u.createDiffieHellmanGroup,a.getDiffieHellman=u.getDiffieHellman,a.createDiffieHellman=u.createDiffieHellman,a.DiffieHellman=u.DiffieHellman;var f=e("browserify-sign");a.createSign=f.createSign,a.Sign=f.Sign,a.createVerify=f.createVerify,a.Verify=f.Verify,a.createECDH=e("create-ecdh");var h=e("public-encrypt");a.publicEncrypt=h.publicEncrypt,a.privateEncrypt=h.privateEncrypt,a.publicDecrypt=h.publicDecrypt,a.privateDecrypt=h.privateDecrypt;var m=e("randomfill");a.randomFill=m.randomFill,a.randomFillSync=m.randomFillSync,a.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},a.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,s,a){(function(i,o){typeof a=="object"&&s!==void 0?s.exports=o():(i=typeof globalThis<"u"?globalThis:i||self).dayjs=o()})(void 0,function(){var i=6e4,o=36e5,c="millisecond",l="second",d="minute",u="hour",f="day",h="week",m="month",A="quarter",g="year",p="date",b="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(w){var C=["th","st","nd","rd"],j=w%100;return"["+w+(C[(j-20)%10]||C[j]||C[0])+"]"}},S=function(w,C,j){var N=String(w);return!N||N.length>=C?w:""+Array(C+1-N.length).join(j)+w},M={s:S,z:function(w){var C=-w.utcOffset(),j=Math.abs(C),N=Math.floor(j/60),I=j%60;return(C<=0?"+":"-")+S(N,2,"0")+":"+S(I,2,"0")},m:function w(C,j){if(C.date()<j.date())return-w(j,C);var N=12*(j.year()-C.year())+(j.month()-C.month()),I=C.clone().add(N,m),R=j-I<0,U=C.clone().add(N+(R?-1:1),m);return+(-(N+(j-I)/(R?I-U:U-I))||0)},a:function(w){return w<0?Math.ceil(w)||0:Math.floor(w)},p:function(w){return{M:m,y:g,w:h,d:f,D:p,h:u,m:d,s:l,ms:c,Q:A}[w]||String(w||"").toLowerCase().replace(/s$/,"")},u:function(w){return w===void 0}},P="en",B={};B[P]=y;var D="$isDayjsObject",L=function(w){return w instanceof E||!(!w||!w[D])},O=function w(C,j,N){var I;if(!C)return P;if(typeof C=="string"){var R=C.toLowerCase();B[R]&&(I=R),j&&(B[R]=j,I=R);var U=C.split("-");if(!I&&U.length>1)return w(U[0])}else{var V=C.name;B[V]=C,I=V}return!N&&I&&(P=I),I||!N&&P},F=function(w,C){if(L(w))return w.clone();var j=typeof C=="object"?C:{};return j.date=w,j.args=arguments,new E(j)},_=M;_.l=O,_.i=L,_.w=function(w,C){return F(w,{locale:C.$L,utc:C.$u,x:C.$x,$offset:C.$offset})};var E=function(){function w(j){this.$L=O(j.locale,null,!0),this.parse(j),this.$x=this.$x||j.x||{},this[D]=!0}var C=w.prototype;return C.parse=function(j){this.$d=function(N){var I=N.date,R=N.utc;if(I===null)return new Date(NaN);if(_.u(I))return new Date;if(I instanceof Date)return new Date(I);if(typeof I=="string"&&!/Z$/i.test(I)){var U=I.match(x);if(U){var V=U[2]-1||0,z=(U[7]||"0").substring(0,3);return R?new Date(Date.UTC(U[1],V,U[3]||1,U[4]||0,U[5]||0,U[6]||0,z)):new Date(U[1],V,U[3]||1,U[4]||0,U[5]||0,U[6]||0,z)}}return new Date(I)}(j),this.init()},C.init=function(){var j=this.$d;this.$y=j.getFullYear(),this.$M=j.getMonth(),this.$D=j.getDate(),this.$W=j.getDay(),this.$H=j.getHours(),this.$m=j.getMinutes(),this.$s=j.getSeconds(),this.$ms=j.getMilliseconds()},C.$utils=function(){return _},C.isValid=function(){return this.$d.toString()!==b},C.isSame=function(j,N){var I=F(j);return this.startOf(N)<=I&&I<=this.endOf(N)},C.isAfter=function(j,N){return F(j)<this.startOf(N)},C.isBefore=function(j,N){return this.endOf(N)<F(j)},C.$g=function(j,N,I){return _.u(j)?this[N]:this.set(I,j)},C.unix=function(){return Math.floor(this.valueOf()/1e3)},C.valueOf=function(){return this.$d.getTime()},C.startOf=function(j,N){var I=this,R=!!_.u(N)||N,U=_.p(j),V=function(J,te){var K=_.w(I.$u?Date.UTC(I.$y,te,J):new Date(I.$y,te,J),I);return R?K:K.endOf(f)},z=function(J,te){return _.w(I.toDate()[J].apply(I.toDate("s"),(R?[0,0,0,0]:[23,59,59,999]).slice(te)),I)},X=this.$W,Q=this.$M,q=this.$D,H="set"+(this.$u?"UTC":"");switch(U){case g:return R?V(1,0):V(31,11);case m:return R?V(1,Q):V(0,Q+1);case h:var $=this.$locale().weekStart||0,G=(X<$?X+7:X)-$;return V(R?q-G:q+(6-G),Q);case f:case p:return z(H+"Hours",0);case u:return z(H+"Minutes",1);case d:return z(H+"Seconds",2);case l:return z(H+"Milliseconds",3);default:return this.clone()}},C.endOf=function(j){return this.startOf(j,!1)},C.$set=function(j,N){var I,R=_.p(j),U="set"+(this.$u?"UTC":""),V=(I={},I[f]=U+"Date",I[p]=U+"Date",I[m]=U+"Month",I[g]=U+"FullYear",I[u]=U+"Hours",I[d]=U+"Minutes",I[l]=U+"Seconds",I[c]=U+"Milliseconds",I)[R],z=R===f?this.$D+(N-this.$W):N;if(R===m||R===g){var X=this.clone().set(p,1);X.$d[V](z),X.init(),this.$d=X.set(p,Math.min(this.$D,X.daysInMonth())).$d}else V&&this.$d[V](z);return this.init(),this},C.set=function(j,N){return this.clone().$set(j,N)},C.get=function(j){return this[_.p(j)]()},C.add=function(j,N){var I,R=this;j=Number(j);var U=_.p(N),V=function(Q){var q=F(R);return _.w(q.date(q.date()+Math.round(Q*j)),R)};if(U===m)return this.set(m,this.$M+j);if(U===g)return this.set(g,this.$y+j);if(U===f)return V(1);if(U===h)return V(7);var z=(I={},I[d]=i,I[u]=o,I[l]=1e3,I)[U]||1,X=this.$d.getTime()+j*z;return _.w(X,this)},C.subtract=function(j,N){return this.add(-1*j,N)},C.format=function(j){var N=this,I=this.$locale();if(!this.isValid())return I.invalidDate||b;var R=j||"YYYY-MM-DDTHH:mm:ssZ",U=_.z(this),V=this.$H,z=this.$m,X=this.$M,Q=I.weekdays,q=I.months,H=I.meridiem,$=function(te,K,ne,ce){return te&&(te[K]||te(N,R))||ne[K].slice(0,ce)},G=function(te){return _.s(V%12||12,te,"0")},J=H||function(te,K,ne){var ce=te<12?"AM":"PM";return ne?ce.toLowerCase():ce};return R.replace(v,function(te,K){return K||function(ne){switch(ne){case"YY":return String(N.$y).slice(-2);case"YYYY":return _.s(N.$y,4,"0");case"M":return X+1;case"MM":return _.s(X+1,2,"0");case"MMM":return $(I.monthsShort,X,q,3);case"MMMM":return $(q,X);case"D":return N.$D;case"DD":return _.s(N.$D,2,"0");case"d":return String(N.$W);case"dd":return $(I.weekdaysMin,N.$W,Q,2);case"ddd":return $(I.weekdaysShort,N.$W,Q,3);case"dddd":return Q[N.$W];case"H":return String(V);case"HH":return _.s(V,2,"0");case"h":return G(1);case"hh":return G(2);case"a":return J(V,z,!0);case"A":return J(V,z,!1);case"m":return String(z);case"mm":return _.s(z,2,"0");case"s":return String(N.$s);case"ss":return _.s(N.$s,2,"0");case"SSS":return _.s(N.$ms,3,"0");case"Z":return U}return null}(te)||U.replace(":","")})},C.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},C.diff=function(j,N,I){var R,U=this,V=_.p(N),z=F(j),X=(z.utcOffset()-this.utcOffset())*i,Q=this-z,q=function(){return _.m(U,z)};switch(V){case g:R=q()/12;break;case m:R=q();break;case A:R=q()/3;break;case h:R=(Q-X)/6048e5;break;case f:R=(Q-X)/864e5;break;case u:R=Q/o;break;case d:R=Q/i;break;case l:R=Q/1e3;break;default:R=Q}return I?R:_.a(R)},C.daysInMonth=function(){return this.endOf(m).$D},C.$locale=function(){return B[this.$L]},C.locale=function(j,N){if(!j)return this.$L;var I=this.clone(),R=O(j,N,!0);return R&&(I.$L=R),I},C.clone=function(){return _.w(this.$d,this)},C.toDate=function(){return new Date(this.valueOf())},C.toJSON=function(){return this.isValid()?this.toISOString():null},C.toISOString=function(){return this.$d.toISOString()},C.toString=function(){return this.$d.toUTCString()},w}(),T=E.prototype;return F.prototype=T,[["$ms",c],["$s",l],["$m",d],["$H",u],["$W",f],["$M",m],["$y",g],["$D",p]].forEach(function(w){T[w[1]]=function(C){return this.$g(C,w[0],w[1])}}),F.extend=function(w,C){return w.$i||(w(C,E,F),w.$i=!0),F},F.locale=O,F.isDayjs=L,F.unix=function(w){return F(1e3*w)},F.en=B[P],F.Ls=B,F.p={},F})},{}],392:[function(e,s,a){(function(i,o){typeof a=="object"&&s!==void 0?s.exports=o():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_customParseFormat=o()})(void 0,function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},o=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,c=/\d\d/,l=/\d\d?/,d=/\d*[^-_:/,()\s\d]+/,u={},f=function(x){return(x=+x)+(x>68?1900:2e3)},h=function(x){return function(v){this[x]=+v}},m=[/[+-]\d\d:?(\d\d)?|Z/,function(x){(this.zone||(this.zone={})).offset=function(v){if(!v||v==="Z")return 0;var y=v.match(/([+-]|\d\d)/g),S=60*y[1]+(+y[2]||0);return S===0?0:y[0]==="+"?-S:S}(x)}],A=function(x){var v=u[x];return v&&(v.indexOf?v:v.s.concat(v.f))},g=function(x,v){var y,S=u.meridiem;if(S){for(var M=1;M<=24;M+=1)if(x.indexOf(S(M,0,v))>-1){y=M>12;break}}else y=x===(v?"pm":"PM");return y},p={A:[d,function(x){this.afternoon=g(x,!1)}],a:[d,function(x){this.afternoon=g(x,!0)}],S:[/\d/,function(x){this.milliseconds=100*+x}],SS:[c,function(x){this.milliseconds=10*+x}],SSS:[/\d{3}/,function(x){this.milliseconds=+x}],s:[l,h("seconds")],ss:[l,h("seconds")],m:[l,h("minutes")],mm:[l,h("minutes")],H:[l,h("hours")],h:[l,h("hours")],HH:[l,h("hours")],hh:[l,h("hours")],D:[l,h("day")],DD:[c,h("day")],Do:[d,function(x){var v=u.ordinal,y=x.match(/\d+/);if(this.day=y[0],v)for(var S=1;S<=31;S+=1)v(S).replace(/\[|\]/g,"")===x&&(this.day=S)}],M:[l,h("month")],MM:[c,h("month")],MMM:[d,function(x){var v=A("months"),y=(A("monthsShort")||v.map(function(S){return S.slice(0,3)})).indexOf(x)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[d,function(x){var v=A("months").indexOf(x)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,h("year")],YY:[c,function(x){this.year=f(x)}],YYYY:[/\d{4}/,h("year")],Z:m,ZZ:m};function b(x){var v,y;v=x,y=u&&u.formats;for(var S=(x=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(F,_,E){var T=E&&E.toUpperCase();return _||y[E]||i[E]||y[T].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(w,C,j){return C||j.slice(1)})})).match(o),M=S.length,P=0;P<M;P+=1){var B=S[P],D=p[B],L=D&&D[0],O=D&&D[1];S[P]=O?{regex:L,parser:O}:B.replace(/^\[|\]$/g,"")}return function(F){for(var _={},E=0,T=0;E<M;E+=1){var w=S[E];if(typeof w=="string")T+=w.length;else{var C=w.regex,j=w.parser,N=F.slice(T),I=C.exec(N)[0];j.call(_,I),F=F.replace(I,"")}}return function(R){var U=R.afternoon;if(U!==void 0){var V=R.hours;U?V<12&&(R.hours+=12):V===12&&(R.hours=0),delete R.afternoon}}(_),_}}return function(x,v,y){y.p.customParseFormat=!0,x&&x.parseTwoDigitYear&&(f=x.parseTwoDigitYear);var S=v.prototype,M=S.parse;S.parse=function(P){var B=P.date,D=P.utc,L=P.args;this.$u=D;var O=L[1];if(typeof O=="string"){var F=L[2]===!0,_=L[3]===!0,E=F||_,T=L[2];_&&(T=L[2]),u=this.$locale(),!F&&T&&(u=y.Ls[T]),this.$d=function(N,I,R){try{if(["x","X"].indexOf(I)>-1)return new Date((I==="X"?1e3:1)*N);var U=b(I)(N),V=U.year,z=U.month,X=U.day,Q=U.hours,q=U.minutes,H=U.seconds,$=U.milliseconds,G=U.zone,J=new Date,te=X||(V||z?1:J.getDate()),K=V||J.getFullYear(),ne=0;V&&!z||(ne=z>0?z-1:J.getMonth());var ce=Q||0,oe=q||0,ee=H||0,W=$||0;return G?new Date(Date.UTC(K,ne,te,ce,oe,ee,W+60*G.offset*1e3)):R?new Date(Date.UTC(K,ne,te,ce,oe,ee,W)):new Date(K,ne,te,ce,oe,ee,W)}catch{return new Date("")}}(B,O,D),this.init(),T&&T!==!0&&(this.$L=this.locale(T).$L),E&&B!=this.format(O)&&(this.$d=new Date("")),u={}}else if(O instanceof Array)for(var w=O.length,C=1;C<=w;C+=1){L[1]=O[C-1];var j=y.apply(this,L);if(j.isValid()){this.$d=j.$d,this.$L=j.$L,this.init();break}C===w&&(this.$d=new Date(""))}else M.call(this,P)}}})},{}],393:[function(e,s,a){(function(i,o){typeof a=="object"&&s!==void 0?s.exports=o():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_utc=o()})(void 0,function(){var i="minute",o=/[+-]\d\d(?::?\d\d)?/g,c=/([+-]|\d\d)/g;return function(l,d,u){var f=d.prototype;u.utc=function(x){var v={date:x,utc:!0,args:arguments};return new d(v)},f.utc=function(x){var v=u(this.toDate(),{locale:this.$L,utc:!0});return x?v.add(this.utcOffset(),i):v},f.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var h=f.parse;f.parse=function(x){x.utc&&(this.$u=!0),this.$utils().u(x.$offset)||(this.$offset=x.$offset),h.call(this,x)};var m=f.init;f.init=function(){if(this.$u){var x=this.$d;this.$y=x.getUTCFullYear(),this.$M=x.getUTCMonth(),this.$D=x.getUTCDate(),this.$W=x.getUTCDay(),this.$H=x.getUTCHours(),this.$m=x.getUTCMinutes(),this.$s=x.getUTCSeconds(),this.$ms=x.getUTCMilliseconds()}else m.call(this)};var A=f.utcOffset;f.utcOffset=function(x,v){var y=this.$utils().u;if(y(x))return this.$u?0:y(this.$offset)?A.call(this):this.$offset;if(typeof x=="string"&&(x=function(B){B===void 0&&(B="");var D=B.match(o);if(!D)return null;var L=(""+D[0]).match(c)||["-",0,0],O=L[0],F=60*+L[1]+ +L[2];return F===0?0:O==="+"?F:-F}(x))===null)return this;var S=Math.abs(x)<=16?60*x:x,M=this;if(v)return M.$offset=S,M.$u=x===0,M;if(x!==0){var P=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(M=this.local().add(S+P,i)).$offset=S,M.$x.$localOffset=P}else M=this.utc();return M};var g=f.format;f.format=function(x){var v=x||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return g.call(this,v)},f.valueOf=function(){var x=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*x},f.isUTC=function(){return!!this.$u},f.toISOString=function(){return this.toDate().toISOString()},f.toString=function(){return this.toDate().toUTCString()};var p=f.toDate;f.toDate=function(x){return x==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var b=f.diff;f.diff=function(x,v,y){if(x&&this.$u===x.$u)return b.call(this,x,v,y);var S=this.local(),M=u(x).local();return b.call(S,M,v,y)}}})},{}],394:[function(e,s,a){a.utils=e("./des/utils"),a.Cipher=e("./des/cipher"),a.DES=e("./des/des"),a.CBC=e("./des/cbc"),a.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,s,a){var i=e("minimalistic-assert"),o=e("inherits"),c={};function l(d){i.equal(d.length,8,"Invalid IV length"),this.iv=new Array(8);for(var u=0;u<this.iv.length;u++)this.iv[u]=d[u]}a.instantiate=function(d){function u(A){d.call(this,A),this._cbcInit()}o(u,d);for(var f=Object.keys(c),h=0;h<f.length;h++){var m=f[h];u.prototype[m]=c[m]}return u.create=function(A){return new u(A)},u},c._cbcInit=function(){var d=new l(this.options.iv);this._cbcState=d},c._update=function(d,u,f,h){var m=this._cbcState,A=this.constructor.super_.prototype,g=m.iv;if(this.type==="encrypt"){for(var p=0;p<this.blockSize;p++)g[p]^=d[u+p];for(A._update.call(this,g,0,f,h),p=0;p<this.blockSize;p++)g[p]=f[h+p]}else{for(A._update.call(this,d,u,f,h),p=0;p<this.blockSize;p++)f[h+p]^=g[p];for(p=0;p<this.blockSize;p++)g[p]=d[u+p]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,s,a){var i=e("minimalistic-assert");function o(c){this.options=c,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=c.padding!==!1}s.exports=o,o.prototype._init=function(){},o.prototype.update=function(c){return c.length===0?[]:this.type==="decrypt"?this._updateDecrypt(c):this._updateEncrypt(c)},o.prototype._buffer=function(c,l){for(var d=Math.min(this.buffer.length-this.bufferOff,c.length-l),u=0;u<d;u++)this.buffer[this.bufferOff+u]=c[l+u];return this.bufferOff+=d,d},o.prototype._flushBuffer=function(c,l){return this._update(this.buffer,0,c,l),this.bufferOff=0,this.blockSize},o.prototype._updateEncrypt=function(c){var l=0,d=0,u=(this.bufferOff+c.length)/this.blockSize|0,f=new Array(u*this.blockSize);this.bufferOff!==0&&(l+=this._buffer(c,l),this.bufferOff===this.buffer.length&&(d+=this._flushBuffer(f,d)));for(var h=c.length-(c.length-l)%this.blockSize;l<h;l+=this.blockSize)this._update(c,l,f,d),d+=this.blockSize;for(;l<c.length;l++,this.bufferOff++)this.buffer[this.bufferOff]=c[l];return f},o.prototype._updateDecrypt=function(c){for(var l=0,d=0,u=Math.ceil((this.bufferOff+c.length)/this.blockSize)-1,f=new Array(u*this.blockSize);u>0;u--)l+=this._buffer(c,l),d+=this._flushBuffer(f,d);return l+=this._buffer(c,l),f},o.prototype.final=function(c){var l,d;return c&&(l=this.update(c)),d=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),l?l.concat(d):d},o.prototype._pad=function(c,l){if(l===0)return!1;for(;l<c.length;)c[l++]=0;return!0},o.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var c=new Array(this.blockSize);return this._update(this.buffer,0,c,0),c},o.prototype._unpad=function(c){return c},o.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var c=new Array(this.blockSize);return this._flushBuffer(c,0),this._unpad(c)}},{"minimalistic-assert":453}],397:[function(e,s,a){var i=e("minimalistic-assert"),o=e("inherits"),c=e("./utils"),l=e("./cipher");function d(){this.tmp=new Array(2),this.keys=null}function u(h){l.call(this,h);var m=new d;this._desState=m,this.deriveKeys(m,h.key)}o(u,l),s.exports=u,u.create=function(h){return new u(h)};var f=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(h,m){h.keys=new Array(32),i.equal(m.length,this.blockSize,"Invalid key length");var A=c.readUInt32BE(m,0),g=c.readUInt32BE(m,4);c.pc1(A,g,h.tmp,0),A=h.tmp[0],g=h.tmp[1];for(var p=0;p<h.keys.length;p+=2){var b=f[p>>>1];A=c.r28shl(A,b),g=c.r28shl(g,b),c.pc2(A,g,h.keys,p)}},u.prototype._update=function(h,m,A,g){var p=this._desState,b=c.readUInt32BE(h,m),x=c.readUInt32BE(h,m+4);c.ip(b,x,p.tmp,0),b=p.tmp[0],x=p.tmp[1],this.type==="encrypt"?this._encrypt(p,b,x,p.tmp,0):this._decrypt(p,b,x,p.tmp,0),b=p.tmp[0],x=p.tmp[1],c.writeUInt32BE(A,b,g),c.writeUInt32BE(A,x,g+4)},u.prototype._pad=function(h,m){if(this.padding===!1)return!1;for(var A=h.length-m,g=m;g<h.length;g++)h[g]=A;return!0},u.prototype._unpad=function(h){if(this.padding===!1)return h;for(var m=h[h.length-1],A=h.length-m;A<h.length;A++)i.equal(h[A],m);return h.slice(0,h.length-m)},u.prototype._encrypt=function(h,m,A,g,p){for(var b=m,x=A,v=0;v<h.keys.length;v+=2){var y=h.keys[v],S=h.keys[v+1];c.expand(x,h.tmp,0),y^=h.tmp[0],S^=h.tmp[1];var M=c.substitute(y,S),P=x;x=(b^c.permute(M))>>>0,b=P}c.rip(x,b,g,p)},u.prototype._decrypt=function(h,m,A,g,p){for(var b=A,x=m,v=h.keys.length-2;v>=0;v-=2){var y=h.keys[v],S=h.keys[v+1];c.expand(b,h.tmp,0),y^=h.tmp[0],S^=h.tmp[1];var M=c.substitute(y,S),P=b;b=(x^c.permute(M))>>>0,x=P}c.rip(b,x,g,p)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,s,a){var i=e("minimalistic-assert"),o=e("inherits"),c=e("./cipher"),l=e("./des");function d(f,h){i.equal(h.length,24,"Invalid key length");var m=h.slice(0,8),A=h.slice(8,16),g=h.slice(16,24);this.ciphers=f==="encrypt"?[l.create({type:"encrypt",key:m}),l.create({type:"decrypt",key:A}),l.create({type:"encrypt",key:g})]:[l.create({type:"decrypt",key:g}),l.create({type:"encrypt",key:A}),l.create({type:"decrypt",key:m})]}function u(f){c.call(this,f);var h=new d(this.type,this.options.key);this._edeState=h}o(u,c),s.exports=u,u.create=function(f){return new u(f)},u.prototype._update=function(f,h,m,A){var g=this._edeState;g.ciphers[0]._update(f,h,m,A),g.ciphers[1]._update(m,A,m,A),g.ciphers[2]._update(m,A,m,A)},u.prototype._pad=l.prototype._pad,u.prototype._unpad=l.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,s,a){a.readUInt32BE=function(l,d){return(l[0+d]<<24|l[1+d]<<16|l[2+d]<<8|l[3+d])>>>0},a.writeUInt32BE=function(l,d,u){l[0+u]=d>>>24,l[1+u]=d>>>16&255,l[2+u]=d>>>8&255,l[3+u]=255&d},a.ip=function(l,d,u,f){for(var h=0,m=0,A=6;A>=0;A-=2){for(var g=0;g<=24;g+=8)h<<=1,h|=d>>>g+A&1;for(g=0;g<=24;g+=8)h<<=1,h|=l>>>g+A&1}for(A=6;A>=0;A-=2){for(g=1;g<=25;g+=8)m<<=1,m|=d>>>g+A&1;for(g=1;g<=25;g+=8)m<<=1,m|=l>>>g+A&1}u[f+0]=h>>>0,u[f+1]=m>>>0},a.rip=function(l,d,u,f){for(var h=0,m=0,A=0;A<4;A++)for(var g=24;g>=0;g-=8)h<<=1,h|=d>>>g+A&1,h<<=1,h|=l>>>g+A&1;for(A=4;A<8;A++)for(g=24;g>=0;g-=8)m<<=1,m|=d>>>g+A&1,m<<=1,m|=l>>>g+A&1;u[f+0]=h>>>0,u[f+1]=m>>>0},a.pc1=function(l,d,u,f){for(var h=0,m=0,A=7;A>=5;A--){for(var g=0;g<=24;g+=8)h<<=1,h|=d>>g+A&1;for(g=0;g<=24;g+=8)h<<=1,h|=l>>g+A&1}for(g=0;g<=24;g+=8)h<<=1,h|=d>>g+A&1;for(A=1;A<=3;A++){for(g=0;g<=24;g+=8)m<<=1,m|=d>>g+A&1;for(g=0;g<=24;g+=8)m<<=1,m|=l>>g+A&1}for(g=0;g<=24;g+=8)m<<=1,m|=l>>g+A&1;u[f+0]=h>>>0,u[f+1]=m>>>0},a.r28shl=function(l,d){return l<<d&268435455|l>>>28-d};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];a.pc2=function(l,d,u,f){for(var h=0,m=0,A=i.length>>>1,g=0;g<A;g++)h<<=1,h|=l>>>i[g]&1;for(g=A;g<i.length;g++)m<<=1,m|=d>>>i[g]&1;u[f+0]=h>>>0,u[f+1]=m>>>0},a.expand=function(l,d,u){var f=0,h=0;f=(1&l)<<5|l>>>27;for(var m=23;m>=15;m-=4)f<<=6,f|=l>>>m&63;for(m=11;m>=3;m-=4)h|=l>>>m&63,h<<=6;h|=(31&l)<<1|l>>>31,d[u+0]=f>>>0,d[u+1]=h>>>0};var o=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];a.substitute=function(l,d){for(var u=0,f=0;f<4;f++)u<<=4,u|=o[64*f+(l>>>18-6*f&63)];for(f=0;f<4;f++)u<<=4,u|=o[256+64*f+(d>>>18-6*f&63)];return u>>>0};var c=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];a.permute=function(l){for(var d=0,u=0;u<c.length;u++)d<<=1,d|=l>>>c[u]&1;return d>>>0},a.padSplit=function(l,d,u){for(var f=l.toString(2);f.length<d;)f="0"+f;for(var h=[],m=0;m<d;m+=u)h.push(f.slice(m,m+u));return h.join(" ")}},{}],400:[function(e,s,a){(function(i){(function(){var o=e("./lib/generatePrime"),c=e("./lib/primes.json"),l=e("./lib/dh"),d={binary:!0,hex:!0,base64:!0};a.DiffieHellmanGroup=a.createDiffieHellmanGroup=a.getDiffieHellman=function(u){var f=new i(c[u].prime,"hex"),h=new i(c[u].gen,"hex");return new l(f,h)},a.createDiffieHellman=a.DiffieHellman=function u(f,h,m,A){return i.isBuffer(h)||d[h]===void 0?u(f,"binary",h,m):(h=h||"binary",A=A||"binary",m=m||new i([2]),i.isBuffer(m)||(m=new i(m,A)),typeof f=="number"?new l(o(f,m),m,!0):(i.isBuffer(f)||(f=new i(f,h)),new l(f,m,!0)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,s,a){(function(i){(function(){var o=e("bn.js"),c=new(e("miller-rabin")),l=new o(24),d=new o(11),u=new o(10),f=new o(3),h=new o(7),m=e("./generatePrime"),A=e("randombytes");function g(y,S){return S=S||"utf8",i.isBuffer(y)||(y=new i(y,S)),this._pub=new o(y),this}function p(y,S){return S=S||"utf8",i.isBuffer(y)||(y=new i(y,S)),this._priv=new o(y),this}s.exports=x;var b={};function x(y,S,M){this.setGenerator(S),this.__prime=new o(y),this._prime=o.mont(this.__prime),this._primeLen=y.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,M?(this.setPublicKey=g,this.setPrivateKey=p):this._primeCode=8}function v(y,S){var M=new i(y.toArray());return S?M.toString(S):M}Object.defineProperty(x.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(y,S){var M=S.toString("hex"),P=[M,y.toString(16)].join("_");if(P in b)return b[P];var B,D=0;if(y.isEven()||!m.simpleSieve||!m.fermatTest(y)||!c.test(y))return D+=1,D+=M==="02"||M==="05"?8:4,b[P]=D,D;switch(c.test(y.shrn(1))||(D+=2),M){case"02":y.mod(l).cmp(d)&&(D+=8);break;case"05":(B=y.mod(u)).cmp(f)&&B.cmp(h)&&(D+=8);break;default:D+=4}return b[P]=D,D}(this.__prime,this.__gen)),this._primeCode}}),x.prototype.generateKeys=function(){return this._priv||(this._priv=new o(A(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},x.prototype.computeSecret=function(y){var S=(y=(y=new o(y)).toRed(this._prime)).redPow(this._priv).fromRed(),M=new i(S.toArray()),P=this.getPrime();if(M.length<P.length){var B=new i(P.length-M.length);B.fill(0),M=i.concat([B,M])}return M},x.prototype.getPublicKey=function(y){return v(this._pub,y)},x.prototype.getPrivateKey=function(y){return v(this._priv,y)},x.prototype.getPrime=function(y){return v(this.__prime,y)},x.prototype.getGenerator=function(y){return v(this._gen,y)},x.prototype.setGenerator=function(y,S){return S=S||"utf8",i.isBuffer(y)||(y=new i(y,S)),this.__gen=y,this._gen=new o(y),this}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,s,a){var i=e("randombytes");s.exports=y,y.simpleSieve=x,y.fermatTest=v;var o=e("bn.js"),c=new o(24),l=new(e("miller-rabin")),d=new o(1),u=new o(2),f=new o(5),h=(new o(16),new o(8),new o(10)),m=new o(3),A=(new o(7),new o(11)),g=new o(4),p=(new o(12),null);function b(){if(p!==null)return p;var S=[];S[0]=2;for(var M=1,P=3;P<1048576;P+=2){for(var B=Math.ceil(Math.sqrt(P)),D=0;D<M&&S[D]<=B&&P%S[D]!=0;D++);M!==D&&S[D]<=B||(S[M++]=P)}return p=S,S}function x(S){for(var M=b(),P=0;P<M.length;P++)if(S.modn(M[P])===0)return S.cmpn(M[P])===0;return!0}function v(S){var M=o.mont(S);return u.toRed(M).redPow(S.subn(1)).fromRed().cmpn(1)===0}function y(S,M){if(S<16)return new o(M===2||M===5?[140,123]:[140,39]);var P,B;for(M=new o(M);;){for(P=new o(i(Math.ceil(S/8)));P.bitLength()>S;)P.ishrn(1);if(P.isEven()&&P.iadd(d),P.testn(1)||P.iadd(u),M.cmp(u)){if(!M.cmp(f))for(;P.mod(h).cmp(m);)P.iadd(g)}else for(;P.mod(c).cmp(A);)P.iadd(g);if(x(B=P.shrn(1))&&x(P)&&v(B)&&v(P)&&l.test(B)&&l.test(P))return P}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,s,a){s.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,s,a){arguments[4][184][0].apply(a,arguments)},{buffer:188,dup:184}],405:[function(e,s,a){var i=a;i.version=e("../package.json").version,i.utils=e("./elliptic/utils"),i.rand=e("brorand"),i.curve=e("./elliptic/curve"),i.curves=e("./elliptic/curves"),i.ec=e("./elliptic/ec"),i.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,s,a){var i=e("bn.js"),o=e("../utils"),c=o.getNAF,l=o.getJSF,d=o.assert;function u(h,m){this.type=h,this.p=new i(m.p,16),this.red=m.prime?i.red(m.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=m.n&&new i(m.n,16),this.g=m.g&&this.pointFromJSON(m.g,m.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var A=this.n&&this.p.div(this.n);!A||A.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function f(h,m){this.curve=h,this.type=m,this.precomputed=null}s.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(h,m){d(h.precomputed);var A=h._getDoubles(),g=c(m,1,this._bitLength),p=(1<<A.step+1)-(A.step%2==0?2:1);p/=3;var b,x,v=[];for(b=0;b<g.length;b+=A.step){x=0;for(var y=b+A.step-1;y>=b;y--)x=(x<<1)+g[y];v.push(x)}for(var S=this.jpoint(null,null,null),M=this.jpoint(null,null,null),P=p;P>0;P--){for(b=0;b<v.length;b++)(x=v[b])===P?M=M.mixedAdd(A.points[b]):x===-P&&(M=M.mixedAdd(A.points[b].neg()));S=S.add(M)}return S.toP()},u.prototype._wnafMul=function(h,m){var A=4,g=h._getNAFPoints(A);A=g.wnd;for(var p=g.points,b=c(m,A,this._bitLength),x=this.jpoint(null,null,null),v=b.length-1;v>=0;v--){for(var y=0;v>=0&&b[v]===0;v--)y++;if(v>=0&&y++,x=x.dblp(y),v<0)break;var S=b[v];d(S!==0),x=h.type==="affine"?S>0?x.mixedAdd(p[S-1>>1]):x.mixedAdd(p[-S-1>>1].neg()):S>0?x.add(p[S-1>>1]):x.add(p[-S-1>>1].neg())}return h.type==="affine"?x.toP():x},u.prototype._wnafMulAdd=function(h,m,A,g,p){var b,x,v,y=this._wnafT1,S=this._wnafT2,M=this._wnafT3,P=0;for(b=0;b<g;b++){var B=(v=m[b])._getNAFPoints(h);y[b]=B.wnd,S[b]=B.points}for(b=g-1;b>=1;b-=2){var D=b-1,L=b;if(y[D]===1&&y[L]===1){var O=[m[D],null,null,m[L]];m[D].y.cmp(m[L].y)===0?(O[1]=m[D].add(m[L]),O[2]=m[D].toJ().mixedAdd(m[L].neg())):m[D].y.cmp(m[L].y.redNeg())===0?(O[1]=m[D].toJ().mixedAdd(m[L]),O[2]=m[D].add(m[L].neg())):(O[1]=m[D].toJ().mixedAdd(m[L]),O[2]=m[D].toJ().mixedAdd(m[L].neg()));var F=[-3,-1,-5,-7,0,7,5,1,3],_=l(A[D],A[L]);for(P=Math.max(_[0].length,P),M[D]=new Array(P),M[L]=new Array(P),x=0;x<P;x++){var E=0|_[0][x],T=0|_[1][x];M[D][x]=F[3*(E+1)+(T+1)],M[L][x]=0,S[D]=O}}else M[D]=c(A[D],y[D],this._bitLength),M[L]=c(A[L],y[L],this._bitLength),P=Math.max(M[D].length,P),P=Math.max(M[L].length,P)}var w=this.jpoint(null,null,null),C=this._wnafT4;for(b=P;b>=0;b--){for(var j=0;b>=0;){var N=!0;for(x=0;x<g;x++)C[x]=0|M[x][b],C[x]!==0&&(N=!1);if(!N)break;j++,b--}if(b>=0&&j++,w=w.dblp(j),b<0)break;for(x=0;x<g;x++){var I=C[x];I!==0&&(I>0?v=S[x][I-1>>1]:I<0&&(v=S[x][-I-1>>1].neg()),w=v.type==="affine"?w.mixedAdd(v):w.add(v))}}for(b=0;b<g;b++)S[b]=null;return p?w:w.toP()},u.BasePoint=f,f.prototype.eq=function(){throw new Error("Not implemented")},f.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(h,m){h=o.toArray(h,m);var A=this.p.byteLength();if((h[0]===4||h[0]===6||h[0]===7)&&h.length-1==2*A)return h[0]===6?d(h[h.length-1]%2==0):h[0]===7&&d(h[h.length-1]%2==1),this.point(h.slice(1,1+A),h.slice(1+A,1+2*A));if((h[0]===2||h[0]===3)&&h.length-1===A)return this.pointFromX(h.slice(1,1+A),h[0]===3);throw new Error("Unknown point format")},f.prototype.encodeCompressed=function(h){return this.encode(h,!0)},f.prototype._encode=function(h){var m=this.curve.p.byteLength(),A=this.getX().toArray("be",m);return h?[this.getY().isEven()?2:3].concat(A):[4].concat(A,this.getY().toArray("be",m))},f.prototype.encode=function(h,m){return o.encode(this._encode(m),h)},f.prototype.precompute=function(h){if(this.precomputed)return this;var m={doubles:null,naf:null,beta:null};return m.naf=this._getNAFPoints(8),m.doubles=this._getDoubles(4,h),m.beta=this._getBeta(),this.precomputed=m,this},f.prototype._hasDoubles=function(h){if(!this.precomputed)return!1;var m=this.precomputed.doubles;return!!m&&m.points.length>=Math.ceil((h.bitLength()+1)/m.step)},f.prototype._getDoubles=function(h,m){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var A=[this],g=this,p=0;p<m;p+=h){for(var b=0;b<h;b++)g=g.dbl();A.push(g)}return{step:h,points:A}},f.prototype._getNAFPoints=function(h){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var m=[this],A=(1<<h)-1,g=A===1?null:this.dbl(),p=1;p<A;p++)m[p]=m[p-1].add(g);return{wnd:h,points:m}},f.prototype._getBeta=function(){return null},f.prototype.dblp=function(h){for(var m=this,A=0;A<h;A++)m=m.dbl();return m}},{"../utils":419,"bn.js":420}],407:[function(e,s,a){var i=e("../utils"),o=e("bn.js"),c=e("inherits"),l=e("./base"),d=i.assert;function u(h){this.twisted=(0|h.a)!=1,this.mOneA=this.twisted&&(0|h.a)==-1,this.extended=this.mOneA,l.call(this,"edwards",h),this.a=new o(h.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(h.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(h.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),d(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|h.c)==1}function f(h,m,A,g,p){l.BasePoint.call(this,h,"projective"),m===null&&A===null&&g===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(m,16),this.y=new o(A,16),this.z=g?new o(g,16):this.curve.one,this.t=p&&new o(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}c(u,l),s.exports=u,u.prototype._mulA=function(h){return this.mOneA?h.redNeg():this.a.redMul(h)},u.prototype._mulC=function(h){return this.oneC?h:this.c.redMul(h)},u.prototype.jpoint=function(h,m,A,g){return this.point(h,m,A,g)},u.prototype.pointFromX=function(h,m){(h=new o(h,16)).red||(h=h.toRed(this.red));var A=h.redSqr(),g=this.c2.redSub(this.a.redMul(A)),p=this.one.redSub(this.c2.redMul(this.d).redMul(A)),b=g.redMul(p.redInvm()),x=b.redSqrt();if(x.redSqr().redSub(b).cmp(this.zero)!==0)throw new Error("invalid point");var v=x.fromRed().isOdd();return(m&&!v||!m&&v)&&(x=x.redNeg()),this.point(h,x)},u.prototype.pointFromY=function(h,m){(h=new o(h,16)).red||(h=h.toRed(this.red));var A=h.redSqr(),g=A.redSub(this.c2),p=A.redMul(this.d).redMul(this.c2).redSub(this.a),b=g.redMul(p.redInvm());if(b.cmp(this.zero)===0){if(m)throw new Error("invalid point");return this.point(this.zero,h)}var x=b.redSqrt();if(x.redSqr().redSub(b).cmp(this.zero)!==0)throw new Error("invalid point");return x.fromRed().isOdd()!==m&&(x=x.redNeg()),this.point(x,h)},u.prototype.validate=function(h){if(h.isInfinity())return!0;h.normalize();var m=h.x.redSqr(),A=h.y.redSqr(),g=m.redMul(this.a).redAdd(A),p=this.c2.redMul(this.one.redAdd(this.d.redMul(m).redMul(A)));return g.cmp(p)===0},c(f,l.BasePoint),u.prototype.pointFromJSON=function(h){return f.fromJSON(this,h)},u.prototype.point=function(h,m,A,g){return new f(this,h,m,A,g)},f.fromJSON=function(h,m){return new f(h,m[0],m[1],m[2])},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},f.prototype._extDbl=function(){var h=this.x.redSqr(),m=this.y.redSqr(),A=this.z.redSqr();A=A.redIAdd(A);var g=this.curve._mulA(h),p=this.x.redAdd(this.y).redSqr().redISub(h).redISub(m),b=g.redAdd(m),x=b.redSub(A),v=g.redSub(m),y=p.redMul(x),S=b.redMul(v),M=p.redMul(v),P=x.redMul(b);return this.curve.point(y,S,P,M)},f.prototype._projDbl=function(){var h,m,A,g,p,b,x=this.x.redAdd(this.y).redSqr(),v=this.x.redSqr(),y=this.y.redSqr();if(this.curve.twisted){var S=(g=this.curve._mulA(v)).redAdd(y);this.zOne?(h=x.redSub(v).redSub(y).redMul(S.redSub(this.curve.two)),m=S.redMul(g.redSub(y)),A=S.redSqr().redSub(S).redSub(S)):(p=this.z.redSqr(),b=S.redSub(p).redISub(p),h=x.redSub(v).redISub(y).redMul(b),m=S.redMul(g.redSub(y)),A=S.redMul(b))}else g=v.redAdd(y),p=this.curve._mulC(this.z).redSqr(),b=g.redSub(p).redSub(p),h=this.curve._mulC(x.redISub(g)).redMul(b),m=this.curve._mulC(g).redMul(v.redISub(y)),A=g.redMul(b);return this.curve.point(h,m,A)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},f.prototype._extAdd=function(h){var m=this.y.redSub(this.x).redMul(h.y.redSub(h.x)),A=this.y.redAdd(this.x).redMul(h.y.redAdd(h.x)),g=this.t.redMul(this.curve.dd).redMul(h.t),p=this.z.redMul(h.z.redAdd(h.z)),b=A.redSub(m),x=p.redSub(g),v=p.redAdd(g),y=A.redAdd(m),S=b.redMul(x),M=v.redMul(y),P=b.redMul(y),B=x.redMul(v);return this.curve.point(S,M,B,P)},f.prototype._projAdd=function(h){var m,A,g=this.z.redMul(h.z),p=g.redSqr(),b=this.x.redMul(h.x),x=this.y.redMul(h.y),v=this.curve.d.redMul(b).redMul(x),y=p.redSub(v),S=p.redAdd(v),M=this.x.redAdd(this.y).redMul(h.x.redAdd(h.y)).redISub(b).redISub(x),P=g.redMul(y).redMul(M);return this.curve.twisted?(m=g.redMul(S).redMul(x.redSub(this.curve._mulA(b))),A=y.redMul(S)):(m=g.redMul(S).redMul(x.redSub(b)),A=this.curve._mulC(y).redMul(S)),this.curve.point(P,m,A)},f.prototype.add=function(h){return this.isInfinity()?h:h.isInfinity()?this:this.curve.extended?this._extAdd(h):this._projAdd(h)},f.prototype.mul=function(h){return this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve._wnafMul(this,h)},f.prototype.mulAdd=function(h,m,A){return this.curve._wnafMulAdd(1,[this,m],[h,A],2,!1)},f.prototype.jmulAdd=function(h,m,A){return this.curve._wnafMulAdd(1,[this,m],[h,A],2,!0)},f.prototype.normalize=function(){if(this.zOne)return this;var h=this.z.redInvm();return this.x=this.x.redMul(h),this.y=this.y.redMul(h),this.t&&(this.t=this.t.redMul(h)),this.z=this.curve.one,this.zOne=!0,this},f.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},f.prototype.getX=function(){return this.normalize(),this.x.fromRed()},f.prototype.getY=function(){return this.normalize(),this.y.fromRed()},f.prototype.eq=function(h){return this===h||this.getX().cmp(h.getX())===0&&this.getY().cmp(h.getY())===0},f.prototype.eqXToP=function(h){var m=h.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(m)===0)return!0;for(var A=h.clone(),g=this.curve.redN.redMul(this.z);;){if(A.iadd(this.curve.n),A.cmp(this.curve.p)>=0)return!1;if(m.redIAdd(g),this.x.cmp(m)===0)return!0}},f.prototype.toP=f.prototype.normalize,f.prototype.mixedAdd=f.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,s,a){var i=a;i.base=e("./base"),i.short=e("./short"),i.mont=e("./mont"),i.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,s,a){var i=e("bn.js"),o=e("inherits"),c=e("./base"),l=e("../utils");function d(f){c.call(this,"mont",f),this.a=new i(f.a,16).toRed(this.red),this.b=new i(f.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(f,h,m){c.BasePoint.call(this,f,"projective"),h===null&&m===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(h,16),this.z=new i(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(d,c),s.exports=d,d.prototype.validate=function(f){var h=f.normalize().x,m=h.redSqr(),A=m.redMul(h).redAdd(m.redMul(this.a)).redAdd(h);return A.redSqrt().redSqr().cmp(A)===0},o(u,c.BasePoint),d.prototype.decodePoint=function(f,h){return this.point(l.toArray(f,h),1)},d.prototype.point=function(f,h){return new u(this,f,h)},d.prototype.pointFromJSON=function(f){return u.fromJSON(this,f)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(f,h){return new u(f,h[0],h[1]||f.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.z.cmpn(0)===0},u.prototype.dbl=function(){var f=this.x.redAdd(this.z).redSqr(),h=this.x.redSub(this.z).redSqr(),m=f.redSub(h),A=f.redMul(h),g=m.redMul(h.redAdd(this.curve.a24.redMul(m)));return this.curve.point(A,g)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(f,h){var m=this.x.redAdd(this.z),A=this.x.redSub(this.z),g=f.x.redAdd(f.z),p=f.x.redSub(f.z).redMul(m),b=g.redMul(A),x=h.z.redMul(p.redAdd(b).redSqr()),v=h.x.redMul(p.redISub(b).redSqr());return this.curve.point(x,v)},u.prototype.mul=function(f){for(var h=f.clone(),m=this,A=this.curve.point(null,null),g=[];h.cmpn(0)!==0;h.iushrn(1))g.push(h.andln(1));for(var p=g.length-1;p>=0;p--)g[p]===0?(m=m.diffAdd(A,this),A=A.dbl()):(A=m.diffAdd(A,this),m=m.dbl());return A},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(f){return this.getX().cmp(f.getX())===0},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,s,a){var i=e("../utils"),o=e("bn.js"),c=e("inherits"),l=e("./base"),d=i.assert;function u(m){l.call(this,"short",m),this.a=new o(m.a,16).toRed(this.red),this.b=new o(m.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(m),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function f(m,A,g,p){l.BasePoint.call(this,m,"affine"),A===null&&g===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(A,16),this.y=new o(g,16),p&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(m,A,g,p){l.BasePoint.call(this,m,"jacobian"),A===null&&g===null&&p===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(A,16),this.y=new o(g,16),this.z=new o(p,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}c(u,l),s.exports=u,u.prototype._getEndomorphism=function(m){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var A,g;if(m.beta)A=new o(m.beta,16).toRed(this.red);else{var p=this._getEndoRoots(this.p);A=(A=p[0].cmp(p[1])<0?p[0]:p[1]).toRed(this.red)}if(m.lambda)g=new o(m.lambda,16);else{var b=this._getEndoRoots(this.n);this.g.mul(b[0]).x.cmp(this.g.x.redMul(A))===0?g=b[0]:(g=b[1],d(this.g.mul(g).x.cmp(this.g.x.redMul(A))===0))}return{beta:A,lambda:g,basis:m.basis?m.basis.map(function(x){return{a:new o(x.a,16),b:new o(x.b,16)}}):this._getEndoBasis(g)}}},u.prototype._getEndoRoots=function(m){var A=m===this.p?this.red:o.mont(m),g=new o(2).toRed(A).redInvm(),p=g.redNeg(),b=new o(3).toRed(A).redNeg().redSqrt().redMul(g);return[p.redAdd(b).fromRed(),p.redSub(b).fromRed()]},u.prototype._getEndoBasis=function(m){for(var A,g,p,b,x,v,y,S,M,P=this.n.ushrn(Math.floor(this.n.bitLength()/2)),B=m,D=this.n.clone(),L=new o(1),O=new o(0),F=new o(0),_=new o(1),E=0;B.cmpn(0)!==0;){var T=D.div(B);S=D.sub(T.mul(B)),M=F.sub(T.mul(L));var w=_.sub(T.mul(O));if(!p&&S.cmp(P)<0)A=y.neg(),g=L,p=S.neg(),b=M;else if(p&&++E==2)break;y=S,D=B,B=S,F=L,L=M,_=O,O=w}x=S.neg(),v=M;var C=p.sqr().add(b.sqr());return x.sqr().add(v.sqr()).cmp(C)>=0&&(x=A,v=g),p.negative&&(p=p.neg(),b=b.neg()),x.negative&&(x=x.neg(),v=v.neg()),[{a:p,b},{a:x,b:v}]},u.prototype._endoSplit=function(m){var A=this.endo.basis,g=A[0],p=A[1],b=p.b.mul(m).divRound(this.n),x=g.b.neg().mul(m).divRound(this.n),v=b.mul(g.a),y=x.mul(p.a),S=b.mul(g.b),M=x.mul(p.b);return{k1:m.sub(v).sub(y),k2:S.add(M).neg()}},u.prototype.pointFromX=function(m,A){(m=new o(m,16)).red||(m=m.toRed(this.red));var g=m.redSqr().redMul(m).redIAdd(m.redMul(this.a)).redIAdd(this.b),p=g.redSqrt();if(p.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var b=p.fromRed().isOdd();return(A&&!b||!A&&b)&&(p=p.redNeg()),this.point(m,p)},u.prototype.validate=function(m){if(m.inf)return!0;var A=m.x,g=m.y,p=this.a.redMul(A),b=A.redSqr().redMul(A).redIAdd(p).redIAdd(this.b);return g.redSqr().redISub(b).cmpn(0)===0},u.prototype._endoWnafMulAdd=function(m,A,g){for(var p=this._endoWnafT1,b=this._endoWnafT2,x=0;x<m.length;x++){var v=this._endoSplit(A[x]),y=m[x],S=y._getBeta();v.k1.negative&&(v.k1.ineg(),y=y.neg(!0)),v.k2.negative&&(v.k2.ineg(),S=S.neg(!0)),p[2*x]=y,p[2*x+1]=S,b[2*x]=v.k1,b[2*x+1]=v.k2}for(var M=this._wnafMulAdd(1,p,b,2*x,g),P=0;P<2*x;P++)p[P]=null,b[P]=null;return M},c(f,l.BasePoint),u.prototype.point=function(m,A,g){return new f(this,m,A,g)},u.prototype.pointFromJSON=function(m,A){return f.fromJSON(this,m,A)},f.prototype._getBeta=function(){if(this.curve.endo){var m=this.precomputed;if(m&&m.beta)return m.beta;var A=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(m){var g=this.curve,p=function(b){return g.point(b.x.redMul(g.endo.beta),b.y)};m.beta=A,A.precomputed={beta:null,naf:m.naf&&{wnd:m.naf.wnd,points:m.naf.points.map(p)},doubles:m.doubles&&{step:m.doubles.step,points:m.doubles.points.map(p)}}}return A}},f.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},f.fromJSON=function(m,A,g){typeof A=="string"&&(A=JSON.parse(A));var p=m.point(A[0],A[1],g);if(!A[2])return p;function b(v){return m.point(v[0],v[1],g)}var x=A[2];return p.precomputed={beta:null,doubles:x.doubles&&{step:x.doubles.step,points:[p].concat(x.doubles.points.map(b))},naf:x.naf&&{wnd:x.naf.wnd,points:[p].concat(x.naf.points.map(b))}},p},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.inf},f.prototype.add=function(m){if(this.inf)return m;if(m.inf)return this;if(this.eq(m))return this.dbl();if(this.neg().eq(m))return this.curve.point(null,null);if(this.x.cmp(m.x)===0)return this.curve.point(null,null);var A=this.y.redSub(m.y);A.cmpn(0)!==0&&(A=A.redMul(this.x.redSub(m.x).redInvm()));var g=A.redSqr().redISub(this.x).redISub(m.x),p=A.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,p)},f.prototype.dbl=function(){if(this.inf)return this;var m=this.y.redAdd(this.y);if(m.cmpn(0)===0)return this.curve.point(null,null);var A=this.curve.a,g=this.x.redSqr(),p=m.redInvm(),b=g.redAdd(g).redIAdd(g).redIAdd(A).redMul(p),x=b.redSqr().redISub(this.x.redAdd(this.x)),v=b.redMul(this.x.redSub(x)).redISub(this.y);return this.curve.point(x,v)},f.prototype.getX=function(){return this.x.fromRed()},f.prototype.getY=function(){return this.y.fromRed()},f.prototype.mul=function(m){return m=new o(m,16),this.isInfinity()?this:this._hasDoubles(m)?this.curve._fixedNafMul(this,m):this.curve.endo?this.curve._endoWnafMulAdd([this],[m]):this.curve._wnafMul(this,m)},f.prototype.mulAdd=function(m,A,g){var p=[this,A],b=[m,g];return this.curve.endo?this.curve._endoWnafMulAdd(p,b):this.curve._wnafMulAdd(1,p,b,2)},f.prototype.jmulAdd=function(m,A,g){var p=[this,A],b=[m,g];return this.curve.endo?this.curve._endoWnafMulAdd(p,b,!0):this.curve._wnafMulAdd(1,p,b,2,!0)},f.prototype.eq=function(m){return this===m||this.inf===m.inf&&(this.inf||this.x.cmp(m.x)===0&&this.y.cmp(m.y)===0)},f.prototype.neg=function(m){if(this.inf)return this;var A=this.curve.point(this.x,this.y.redNeg());if(m&&this.precomputed){var g=this.precomputed,p=function(b){return b.neg()};A.precomputed={naf:g.naf&&{wnd:g.naf.wnd,points:g.naf.points.map(p)},doubles:g.doubles&&{step:g.doubles.step,points:g.doubles.points.map(p)}}}return A},f.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},c(h,l.BasePoint),u.prototype.jpoint=function(m,A,g){return new h(this,m,A,g)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var m=this.z.redInvm(),A=m.redSqr(),g=this.x.redMul(A),p=this.y.redMul(A).redMul(m);return this.curve.point(g,p)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(m){if(this.isInfinity())return m;if(m.isInfinity())return this;var A=m.z.redSqr(),g=this.z.redSqr(),p=this.x.redMul(A),b=m.x.redMul(g),x=this.y.redMul(A.redMul(m.z)),v=m.y.redMul(g.redMul(this.z)),y=p.redSub(b),S=x.redSub(v);if(y.cmpn(0)===0)return S.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var M=y.redSqr(),P=M.redMul(y),B=p.redMul(M),D=S.redSqr().redIAdd(P).redISub(B).redISub(B),L=S.redMul(B.redISub(D)).redISub(x.redMul(P)),O=this.z.redMul(m.z).redMul(y);return this.curve.jpoint(D,L,O)},h.prototype.mixedAdd=function(m){if(this.isInfinity())return m.toJ();if(m.isInfinity())return this;var A=this.z.redSqr(),g=this.x,p=m.x.redMul(A),b=this.y,x=m.y.redMul(A).redMul(this.z),v=g.redSub(p),y=b.redSub(x);if(v.cmpn(0)===0)return y.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var S=v.redSqr(),M=S.redMul(v),P=g.redMul(S),B=y.redSqr().redIAdd(M).redISub(P).redISub(P),D=y.redMul(P.redISub(B)).redISub(b.redMul(M)),L=this.z.redMul(v);return this.curve.jpoint(B,D,L)},h.prototype.dblp=function(m){if(m===0)return this;if(this.isInfinity())return this;if(!m)return this.dbl();var A;if(this.curve.zeroA||this.curve.threeA){var g=this;for(A=0;A<m;A++)g=g.dbl();return g}var p=this.curve.a,b=this.curve.tinv,x=this.x,v=this.y,y=this.z,S=y.redSqr().redSqr(),M=v.redAdd(v);for(A=0;A<m;A++){var P=x.redSqr(),B=M.redSqr(),D=B.redSqr(),L=P.redAdd(P).redIAdd(P).redIAdd(p.redMul(S)),O=x.redMul(B),F=L.redSqr().redISub(O.redAdd(O)),_=O.redISub(F),E=L.redMul(_);E=E.redIAdd(E).redISub(D);var T=M.redMul(y);A+1<m&&(S=S.redMul(D)),x=F,y=T,M=E}return this.curve.jpoint(x,M.redMul(b),y)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var m,A,g;if(this.zOne){var p=this.x.redSqr(),b=this.y.redSqr(),x=b.redSqr(),v=this.x.redAdd(b).redSqr().redISub(p).redISub(x);v=v.redIAdd(v);var y=p.redAdd(p).redIAdd(p),S=y.redSqr().redISub(v).redISub(v),M=x.redIAdd(x);M=(M=M.redIAdd(M)).redIAdd(M),m=S,A=y.redMul(v.redISub(S)).redISub(M),g=this.y.redAdd(this.y)}else{var P=this.x.redSqr(),B=this.y.redSqr(),D=B.redSqr(),L=this.x.redAdd(B).redSqr().redISub(P).redISub(D);L=L.redIAdd(L);var O=P.redAdd(P).redIAdd(P),F=O.redSqr(),_=D.redIAdd(D);_=(_=_.redIAdd(_)).redIAdd(_),m=F.redISub(L).redISub(L),A=O.redMul(L.redISub(m)).redISub(_),g=(g=this.y.redMul(this.z)).redIAdd(g)}return this.curve.jpoint(m,A,g)},h.prototype._threeDbl=function(){var m,A,g;if(this.zOne){var p=this.x.redSqr(),b=this.y.redSqr(),x=b.redSqr(),v=this.x.redAdd(b).redSqr().redISub(p).redISub(x);v=v.redIAdd(v);var y=p.redAdd(p).redIAdd(p).redIAdd(this.curve.a),S=y.redSqr().redISub(v).redISub(v);m=S;var M=x.redIAdd(x);M=(M=M.redIAdd(M)).redIAdd(M),A=y.redMul(v.redISub(S)).redISub(M),g=this.y.redAdd(this.y)}else{var P=this.z.redSqr(),B=this.y.redSqr(),D=this.x.redMul(B),L=this.x.redSub(P).redMul(this.x.redAdd(P));L=L.redAdd(L).redIAdd(L);var O=D.redIAdd(D),F=(O=O.redIAdd(O)).redAdd(O);m=L.redSqr().redISub(F),g=this.y.redAdd(this.z).redSqr().redISub(B).redISub(P);var _=B.redSqr();_=(_=(_=_.redIAdd(_)).redIAdd(_)).redIAdd(_),A=L.redMul(O.redISub(m)).redISub(_)}return this.curve.jpoint(m,A,g)},h.prototype._dbl=function(){var m=this.curve.a,A=this.x,g=this.y,p=this.z,b=p.redSqr().redSqr(),x=A.redSqr(),v=g.redSqr(),y=x.redAdd(x).redIAdd(x).redIAdd(m.redMul(b)),S=A.redAdd(A),M=(S=S.redIAdd(S)).redMul(v),P=y.redSqr().redISub(M.redAdd(M)),B=M.redISub(P),D=v.redSqr();D=(D=(D=D.redIAdd(D)).redIAdd(D)).redIAdd(D);var L=y.redMul(B).redISub(D),O=g.redAdd(g).redMul(p);return this.curve.jpoint(P,L,O)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var m=this.x.redSqr(),A=this.y.redSqr(),g=this.z.redSqr(),p=A.redSqr(),b=m.redAdd(m).redIAdd(m),x=b.redSqr(),v=this.x.redAdd(A).redSqr().redISub(m).redISub(p),y=(v=(v=(v=v.redIAdd(v)).redAdd(v).redIAdd(v)).redISub(x)).redSqr(),S=p.redIAdd(p);S=(S=(S=S.redIAdd(S)).redIAdd(S)).redIAdd(S);var M=b.redIAdd(v).redSqr().redISub(x).redISub(y).redISub(S),P=A.redMul(M);P=(P=P.redIAdd(P)).redIAdd(P);var B=this.x.redMul(y).redISub(P);B=(B=B.redIAdd(B)).redIAdd(B);var D=this.y.redMul(M.redMul(S.redISub(M)).redISub(v.redMul(y)));D=(D=(D=D.redIAdd(D)).redIAdd(D)).redIAdd(D);var L=this.z.redAdd(v).redSqr().redISub(g).redISub(y);return this.curve.jpoint(B,D,L)},h.prototype.mul=function(m,A){return m=new o(m,A),this.curve._wnafMul(this,m)},h.prototype.eq=function(m){if(m.type==="affine")return this.eq(m.toJ());if(this===m)return!0;var A=this.z.redSqr(),g=m.z.redSqr();if(this.x.redMul(g).redISub(m.x.redMul(A)).cmpn(0)!==0)return!1;var p=A.redMul(this.z),b=g.redMul(m.z);return this.y.redMul(b).redISub(m.y.redMul(p)).cmpn(0)===0},h.prototype.eqXToP=function(m){var A=this.z.redSqr(),g=m.toRed(this.curve.red).redMul(A);if(this.x.cmp(g)===0)return!0;for(var p=m.clone(),b=this.curve.redN.redMul(A);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(g.redIAdd(b),this.x.cmp(g)===0)return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,s,a){var i,o=a,c=e("hash.js"),l=e("./curve"),d=e("./utils").assert;function u(h){h.type==="short"?this.curve=new l.short(h):h.type==="edwards"?this.curve=new l.edwards(h):this.curve=new l.mont(h),this.g=this.curve.g,this.n=this.curve.n,this.hash=h.hash,d(this.g.validate(),"Invalid curve"),d(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function f(h,m){Object.defineProperty(o,h,{configurable:!0,enumerable:!0,get:function(){var A=new u(m);return Object.defineProperty(o,h,{configurable:!0,enumerable:!0,value:A}),A}})}o.PresetCurve=u,f("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:c.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),f("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:c.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),f("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:c.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),f("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:c.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),f("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:c.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),f("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:c.sha256,gRed:!1,g:["9"]}),f("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:c.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=e("./precomputed/secp256k1")}catch{i=void 0}f("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:c.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,s,a){var i=e("bn.js"),o=e("hmac-drbg"),c=e("../utils"),l=e("../curves"),d=e("brorand"),u=c.assert,f=e("./key"),h=e("./signature");function m(A){if(!(this instanceof m))return new m(A);typeof A=="string"&&(u(Object.prototype.hasOwnProperty.call(l,A),"Unknown curve "+A),A=l[A]),A instanceof l.PresetCurve&&(A={curve:A}),this.curve=A.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=A.curve.g,this.g.precompute(A.curve.n.bitLength()+1),this.hash=A.hash||A.curve.hash}s.exports=m,m.prototype.keyPair=function(A){return new f(this,A)},m.prototype.keyFromPrivate=function(A,g){return f.fromPrivate(this,A,g)},m.prototype.keyFromPublic=function(A,g){return f.fromPublic(this,A,g)},m.prototype.genKeyPair=function(A){A||(A={});for(var g=new o({hash:this.hash,pers:A.pers,persEnc:A.persEnc||"utf8",entropy:A.entropy||d(this.hash.hmacStrength),entropyEnc:A.entropy&&A.entropyEnc||"utf8",nonce:this.n.toArray()}),p=this.n.byteLength(),b=this.n.sub(new i(2));;){var x=new i(g.generate(p));if(!(x.cmp(b)>0))return x.iaddn(1),this.keyFromPrivate(x)}},m.prototype._truncateToN=function(A,g){var p=8*A.byteLength()-this.n.bitLength();return p>0&&(A=A.ushrn(p)),!g&&A.cmp(this.n)>=0?A.sub(this.n):A},m.prototype.sign=function(A,g,p,b){typeof p=="object"&&(b=p,p=null),b||(b={}),g=this.keyFromPrivate(g,p),A=this._truncateToN(new i(A,16));for(var x=this.n.byteLength(),v=g.getPrivate().toArray("be",x),y=A.toArray("be",x),S=new o({hash:this.hash,entropy:v,nonce:y,pers:b.pers,persEnc:b.persEnc||"utf8"}),M=this.n.sub(new i(1)),P=0;;P++){var B=b.k?b.k(P):new i(S.generate(this.n.byteLength()));if(!((B=this._truncateToN(B,!0)).cmpn(1)<=0||B.cmp(M)>=0)){var D=this.g.mul(B);if(!D.isInfinity()){var L=D.getX(),O=L.umod(this.n);if(O.cmpn(0)!==0){var F=B.invm(this.n).mul(O.mul(g.getPrivate()).iadd(A));if((F=F.umod(this.n)).cmpn(0)!==0){var _=(D.getY().isOdd()?1:0)|(L.cmp(O)!==0?2:0);return b.canonical&&F.cmp(this.nh)>0&&(F=this.n.sub(F),_^=1),new h({r:O,s:F,recoveryParam:_})}}}}}},m.prototype.verify=function(A,g,p,b){A=this._truncateToN(new i(A,16)),p=this.keyFromPublic(p,b);var x=(g=new h(g,"hex")).r,v=g.s;if(x.cmpn(1)<0||x.cmp(this.n)>=0||v.cmpn(1)<0||v.cmp(this.n)>=0)return!1;var y,S=v.invm(this.n),M=S.mul(A).umod(this.n),P=S.mul(x).umod(this.n);return this.curve._maxwellTrick?!(y=this.g.jmulAdd(M,p.getPublic(),P)).isInfinity()&&y.eqXToP(x):!(y=this.g.mulAdd(M,p.getPublic(),P)).isInfinity()&&y.getX().umod(this.n).cmp(x)===0},m.prototype.recoverPubKey=function(A,g,p,b){u((3&p)===p,"The recovery param is more than two bits"),g=new h(g,b);var x=this.n,v=new i(A),y=g.r,S=g.s,M=1&p,P=p>>1;if(y.cmp(this.curve.p.umod(this.curve.n))>=0&&P)throw new Error("Unable to find sencond key candinate");y=P?this.curve.pointFromX(y.add(this.curve.n),M):this.curve.pointFromX(y,M);var B=g.r.invm(x),D=x.sub(v).mul(B).umod(x),L=S.mul(B).umod(x);return this.g.mulAdd(D,y,L)},m.prototype.getKeyRecoveryParam=function(A,g,p,b){if((g=new h(g,b)).recoveryParam!==null)return g.recoveryParam;for(var x=0;x<4;x++){var v;try{v=this.recoverPubKey(A,g,x)}catch{continue}if(v.eq(p))return x}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,s,a){var i=e("bn.js"),o=e("../utils").assert;function c(l,d){this.ec=l,this.priv=null,this.pub=null,d.priv&&this._importPrivate(d.priv,d.privEnc),d.pub&&this._importPublic(d.pub,d.pubEnc)}s.exports=c,c.fromPublic=function(l,d,u){return d instanceof c?d:new c(l,{pub:d,pubEnc:u})},c.fromPrivate=function(l,d,u){return d instanceof c?d:new c(l,{priv:d,privEnc:u})},c.prototype.validate=function(){var l=this.getPublic();return l.isInfinity()?{result:!1,reason:"Invalid public key"}:l.validate()?l.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},c.prototype.getPublic=function(l,d){return typeof l=="string"&&(d=l,l=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),d?this.pub.encode(d,l):this.pub},c.prototype.getPrivate=function(l){return l==="hex"?this.priv.toString(16,2):this.priv},c.prototype._importPrivate=function(l,d){this.priv=new i(l,d||16),this.priv=this.priv.umod(this.ec.curve.n)},c.prototype._importPublic=function(l,d){if(l.x||l.y)return this.ec.curve.type==="mont"?o(l.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||o(l.x&&l.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(l.x,l.y));this.pub=this.ec.curve.decodePoint(l,d)},c.prototype.derive=function(l){return l.validate()||o(l.validate(),"public point not validated"),l.mul(this.priv).getX()},c.prototype.sign=function(l,d,u){return this.ec.sign(l,this,d,u)},c.prototype.verify=function(l,d){return this.ec.verify(l,d,this)},c.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,s,a){var i=e("bn.js"),o=e("../utils"),c=o.assert;function l(m,A){if(m instanceof l)return m;this._importDER(m,A)||(c(m.r&&m.s,"Signature without r or s"),this.r=new i(m.r,16),this.s=new i(m.s,16),m.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=m.recoveryParam)}function d(){this.place=0}function u(m,A){var g=m[A.place++];if(!(128&g))return g;var p=15&g;if(p===0||p>4)return!1;for(var b=0,x=0,v=A.place;x<p;x++,v++)b<<=8,b|=m[v],b>>>=0;return!(b<=127)&&(A.place=v,b)}function f(m){for(var A=0,g=m.length-1;!m[A]&&!(128&m[A+1])&&A<g;)A++;return A===0?m:m.slice(A)}function h(m,A){if(A<128)m.push(A);else{var g=1+(Math.log(A)/Math.LN2>>>3);for(m.push(128|g);--g;)m.push(A>>>(g<<3)&255);m.push(A)}}s.exports=l,l.prototype._importDER=function(m,A){m=o.toArray(m,A);var g=new d;if(m[g.place++]!==48)return!1;var p=u(m,g);if(p===!1||p+g.place!==m.length||m[g.place++]!==2)return!1;var b=u(m,g);if(b===!1)return!1;var x=m.slice(g.place,b+g.place);if(g.place+=b,m[g.place++]!==2)return!1;var v=u(m,g);if(v===!1||m.length!==v+g.place)return!1;var y=m.slice(g.place,v+g.place);if(x[0]===0){if(!(128&x[1]))return!1;x=x.slice(1)}if(y[0]===0){if(!(128&y[1]))return!1;y=y.slice(1)}return this.r=new i(x),this.s=new i(y),this.recoveryParam=null,!0},l.prototype.toDER=function(m){var A=this.r.toArray(),g=this.s.toArray();for(128&A[0]&&(A=[0].concat(A)),128&g[0]&&(g=[0].concat(g)),A=f(A),g=f(g);!(g[0]||128&g[1]);)g=g.slice(1);var p=[2];h(p,A.length),(p=p.concat(A)).push(2),h(p,g.length);var b=p.concat(g),x=[48];return h(x,b.length),x=x.concat(b),o.encode(x,m)}},{"../utils":419,"bn.js":420}],415:[function(e,s,a){var i=e("hash.js"),o=e("../curves"),c=e("../utils"),l=c.assert,d=c.parseBytes,u=e("./key"),f=e("./signature");function h(m){if(l(m==="ed25519","only tested with ed25519 so far"),!(this instanceof h))return new h(m);m=o[m].curve,this.curve=m,this.g=m.g,this.g.precompute(m.n.bitLength()+1),this.pointClass=m.point().constructor,this.encodingLength=Math.ceil(m.n.bitLength()/8),this.hash=i.sha512}s.exports=h,h.prototype.sign=function(m,A){m=d(m);var g=this.keyFromSecret(A),p=this.hashInt(g.messagePrefix(),m),b=this.g.mul(p),x=this.encodePoint(b),v=this.hashInt(x,g.pubBytes(),m).mul(g.priv()),y=p.add(v).umod(this.curve.n);return this.makeSignature({R:b,S:y,Rencoded:x})},h.prototype.verify=function(m,A,g){m=d(m),A=this.makeSignature(A);var p=this.keyFromPublic(g),b=this.hashInt(A.Rencoded(),p.pubBytes(),m),x=this.g.mul(A.S());return A.R().add(p.pub().mul(b)).eq(x)},h.prototype.hashInt=function(){for(var m=this.hash(),A=0;A<arguments.length;A++)m.update(arguments[A]);return c.intFromLE(m.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(m){return u.fromPublic(this,m)},h.prototype.keyFromSecret=function(m){return u.fromSecret(this,m)},h.prototype.makeSignature=function(m){return m instanceof f?m:new f(this,m)},h.prototype.encodePoint=function(m){var A=m.getY().toArray("le",this.encodingLength);return A[this.encodingLength-1]|=m.getX().isOdd()?128:0,A},h.prototype.decodePoint=function(m){var A=(m=c.parseBytes(m)).length-1,g=m.slice(0,A).concat(-129&m[A]),p=(128&m[A])!=0,b=c.intFromLE(g);return this.curve.pointFromY(b,p)},h.prototype.encodeInt=function(m){return m.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(m){return c.intFromLE(m)},h.prototype.isPoint=function(m){return m instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,s,a){var i=e("../utils"),o=i.assert,c=i.parseBytes,l=i.cachedProperty;function d(u,f){this.eddsa=u,this._secret=c(f.secret),u.isPoint(f.pub)?this._pub=f.pub:this._pubBytes=c(f.pub)}d.fromPublic=function(u,f){return f instanceof d?f:new d(u,{pub:f})},d.fromSecret=function(u,f){return f instanceof d?f:new d(u,{secret:f})},d.prototype.secret=function(){return this._secret},l(d,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),l(d,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),l(d,"privBytes",function(){var u=this.eddsa,f=this.hash(),h=u.encodingLength-1,m=f.slice(0,u.encodingLength);return m[0]&=248,m[h]&=127,m[h]|=64,m}),l(d,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),l(d,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),l(d,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),d.prototype.sign=function(u){return o(this._secret,"KeyPair can only verify"),this.eddsa.sign(u,this)},d.prototype.verify=function(u,f){return this.eddsa.verify(u,f,this)},d.prototype.getSecret=function(u){return o(this._secret,"KeyPair is public only"),i.encode(this.secret(),u)},d.prototype.getPublic=function(u){return i.encode(this.pubBytes(),u)},s.exports=d},{"../utils":419}],417:[function(e,s,a){var i=e("bn.js"),o=e("../utils"),c=o.assert,l=o.cachedProperty,d=o.parseBytes;function u(f,h){this.eddsa=f,typeof h!="object"&&(h=d(h)),Array.isArray(h)&&(h={R:h.slice(0,f.encodingLength),S:h.slice(f.encodingLength)}),c(h.R&&h.S,"Signature without R or S"),f.isPoint(h.R)&&(this._R=h.R),h.S instanceof i&&(this._S=h.S),this._Rencoded=Array.isArray(h.R)?h.R:h.Rencoded,this._Sencoded=Array.isArray(h.S)?h.S:h.Sencoded}l(u,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),l(u,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),l(u,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),l(u,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return o.encode(this.toBytes(),"hex").toUpperCase()},s.exports=u},{"../utils":419,"bn.js":420}],418:[function(e,s,a){s.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,s,a){var i=a,o=e("bn.js"),c=e("minimalistic-assert"),l=e("minimalistic-crypto-utils");i.assert=c,i.toArray=l.toArray,i.zero2=l.zero2,i.toHex=l.toHex,i.encode=l.encode,i.getNAF=function(d,u,f){var h=new Array(Math.max(d.bitLength(),f)+1);h.fill(0);for(var m=1<<u+1,A=d.clone(),g=0;g<h.length;g++){var p,b=A.andln(m-1);A.isOdd()?(p=b>(m>>1)-1?(m>>1)-b:b,A.isubn(p)):p=0,h[g]=p,A.iushrn(1)}return h},i.getJSF=function(d,u){var f=[[],[]];d=d.clone(),u=u.clone();for(var h,m=0,A=0;d.cmpn(-m)>0||u.cmpn(-A)>0;){var g,p,b=d.andln(3)+m&3,x=u.andln(3)+A&3;b===3&&(b=-1),x===3&&(x=-1),g=1&b?(h=d.andln(7)+m&7)!==3&&h!==5||x!==2?b:-b:0,f[0].push(g),p=1&x?(h=u.andln(7)+A&7)!==3&&h!==5||b!==2?x:-x:0,f[1].push(p),2*m===g+1&&(m=1-m),2*A===p+1&&(A=1-A),d.iushrn(1),u.iushrn(1)}return f},i.cachedProperty=function(d,u,f){var h="_"+u;d.prototype[u]=function(){return this[h]!==void 0?this[h]:this[h]=f.call(this)}},i.parseBytes=function(d){return typeof d=="string"?i.toArray(d,"hex"):d},i.intFromLE=function(d){return new o(d,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,s,a){arguments[4][184][0].apply(a,arguments)},{buffer:188,dup:184}],421:[function(e,s,a){s.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,s,a){var i=Object.create||function(B){var D=function(){};return D.prototype=B,new D},o=Object.keys||function(B){var D=[];for(var L in B)Object.prototype.hasOwnProperty.call(B,L)&&D.push(L);return L},c=Function.prototype.bind||function(B){var D=this;return function(){return D.apply(B,arguments)}};function l(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=i(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}s.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._maxListeners=void 0;var d,u=10;try{var f={};Object.defineProperty&&Object.defineProperty(f,"x",{value:0}),d=f.x===0}catch{d=!1}function h(B){return B._maxListeners===void 0?l.defaultMaxListeners:B._maxListeners}function m(B,D,L){if(D)B.call(L);else for(var O=B.length,F=P(B,O),_=0;_<O;++_)F[_].call(L)}function A(B,D,L,O){if(D)B.call(L,O);else for(var F=B.length,_=P(B,F),E=0;E<F;++E)_[E].call(L,O)}function g(B,D,L,O,F){if(D)B.call(L,O,F);else for(var _=B.length,E=P(B,_),T=0;T<_;++T)E[T].call(L,O,F)}function p(B,D,L,O,F,_){if(D)B.call(L,O,F,_);else for(var E=B.length,T=P(B,E),w=0;w<E;++w)T[w].call(L,O,F,_)}function b(B,D,L,O){if(D)B.apply(L,O);else for(var F=B.length,_=P(B,F),E=0;E<F;++E)_[E].apply(L,O)}function x(B,D,L,O){var F,_,E;if(typeof L!="function")throw new TypeError('"listener" argument must be a function');if((_=B._events)?(_.newListener&&(B.emit("newListener",D,L.listener?L.listener:L),_=B._events),E=_[D]):(_=B._events=i(null),B._eventsCount=0),E){if(typeof E=="function"?E=_[D]=O?[L,E]:[E,L]:O?E.unshift(L):E.push(L),!E.warned&&(F=h(B))&&F>0&&E.length>F){E.warned=!0;var T=new Error("Possible EventEmitter memory leak detected. "+E.length+' "'+String(D)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');T.name="MaxListenersExceededWarning",T.emitter=B,T.type=D,T.count=E.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",T.name,T.message)}}else E=_[D]=L,++B._eventsCount;return B}function v(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var B=new Array(arguments.length),D=0;D<B.length;++D)B[D]=arguments[D];this.listener.apply(this.target,B)}}function y(B,D,L){var O={fired:!1,wrapFn:void 0,target:B,type:D,listener:L},F=c.call(v,O);return F.listener=L,O.wrapFn=F,F}function S(B,D,L){var O=B._events;if(!O)return[];var F=O[D];return F?typeof F=="function"?L?[F.listener||F]:[F]:L?function(_){for(var E=new Array(_.length),T=0;T<E.length;++T)E[T]=_[T].listener||_[T];return E}(F):P(F,F.length):[]}function M(B){var D=this._events;if(D){var L=D[B];if(typeof L=="function")return 1;if(L)return L.length}return 0}function P(B,D){for(var L=new Array(D),O=0;O<D;++O)L[O]=B[O];return L}d?Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(B){if(typeof B!="number"||B<0||B!=B)throw new TypeError('"defaultMaxListeners" must be a positive number');u=B}}):l.defaultMaxListeners=u,l.prototype.setMaxListeners=function(B){if(typeof B!="number"||B<0||isNaN(B))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=B,this},l.prototype.getMaxListeners=function(){return h(this)},l.prototype.emit=function(B){var D,L,O,F,_,E,T=B==="error";if(E=this._events)T=T&&E.error==null;else if(!T)return!1;if(T){if(arguments.length>1&&(D=arguments[1]),D instanceof Error)throw D;var w=new Error('Unhandled "error" event. ('+D+")");throw w.context=D,w}if(!(L=E[B]))return!1;var C=typeof L=="function";switch(O=arguments.length){case 1:m(L,C,this);break;case 2:A(L,C,this,arguments[1]);break;case 3:g(L,C,this,arguments[1],arguments[2]);break;case 4:p(L,C,this,arguments[1],arguments[2],arguments[3]);break;default:for(F=new Array(O-1),_=1;_<O;_++)F[_-1]=arguments[_];b(L,C,this,F)}return!0},l.prototype.addListener=function(B,D){return x(this,B,D,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(B,D){return x(this,B,D,!0)},l.prototype.once=function(B,D){if(typeof D!="function")throw new TypeError('"listener" argument must be a function');return this.on(B,y(this,B,D)),this},l.prototype.prependOnceListener=function(B,D){if(typeof D!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(B,y(this,B,D)),this},l.prototype.removeListener=function(B,D){var L,O,F,_,E;if(typeof D!="function")throw new TypeError('"listener" argument must be a function');if(!(O=this._events))return this;if(!(L=O[B]))return this;if(L===D||L.listener===D)--this._eventsCount==0?this._events=i(null):(delete O[B],O.removeListener&&this.emit("removeListener",B,L.listener||D));else if(typeof L!="function"){for(F=-1,_=L.length-1;_>=0;_--)if(L[_]===D||L[_].listener===D){E=L[_].listener,F=_;break}if(F<0)return this;F===0?L.shift():function(T,w){for(var C=w,j=C+1,N=T.length;j<N;C+=1,j+=1)T[C]=T[j];T.pop()}(L,F),L.length===1&&(O[B]=L[0]),O.removeListener&&this.emit("removeListener",B,E||D)}return this},l.prototype.removeAllListeners=function(B){var D,L,O;if(!(L=this._events))return this;if(!L.removeListener)return arguments.length===0?(this._events=i(null),this._eventsCount=0):L[B]&&(--this._eventsCount==0?this._events=i(null):delete L[B]),this;if(arguments.length===0){var F,_=o(L);for(O=0;O<_.length;++O)(F=_[O])!=="removeListener"&&this.removeAllListeners(F);return this.removeAllListeners("removeListener"),this._events=i(null),this._eventsCount=0,this}if(typeof(D=L[B])=="function")this.removeListener(B,D);else if(D)for(O=D.length-1;O>=0;O--)this.removeListener(B,D[O]);return this},l.prototype.listeners=function(B){return S(this,B,!0)},l.prototype.rawListeners=function(B){return S(this,B,!1)},l.listenerCount=function(B,D){return typeof B.listenerCount=="function"?B.listenerCount(D):M.call(B,D)},l.prototype.listenerCount=M,l.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(e,s,a){var i=e("safe-buffer").Buffer,o=e("md5.js");s.exports=function(c,l,d,u){if(i.isBuffer(c)||(c=i.from(c,"binary")),l&&(i.isBuffer(l)||(l=i.from(l,"binary")),l.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var f=d/8,h=i.alloc(f),m=i.alloc(u||0),A=i.alloc(0);f>0||u>0;){var g=new o;g.update(A),g.update(c),l&&g.update(l),A=g.digest();var p=0;if(f>0){var b=h.length-f;p=Math.min(f,A.length),A.copy(h,b,0,p),f-=p}if(p<A.length&&u>0){var x=m.length-u,v=Math.min(u,A.length-p);A.copy(m,x,p,p+v),u-=v}}return A.fill(0),{key:h,iv:m}}},{"md5.js":450,"safe-buffer":494}],424:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.CsvParserStream=a.ParserOptions=a.parseFile=a.parseStream=a.parseString=a.parse=a.FormatterOptions=a.CsvFormatterStream=a.writeToPath=a.writeToString=a.writeToBuffer=a.writeToStream=a.write=a.format=void 0;var i=e("@fast-csv/format");Object.defineProperty(a,"format",{enumerable:!0,get:function(){return i.format}}),Object.defineProperty(a,"write",{enumerable:!0,get:function(){return i.write}}),Object.defineProperty(a,"writeToStream",{enumerable:!0,get:function(){return i.writeToStream}}),Object.defineProperty(a,"writeToBuffer",{enumerable:!0,get:function(){return i.writeToBuffer}}),Object.defineProperty(a,"writeToString",{enumerable:!0,get:function(){return i.writeToString}}),Object.defineProperty(a,"writeToPath",{enumerable:!0,get:function(){return i.writeToPath}}),Object.defineProperty(a,"CsvFormatterStream",{enumerable:!0,get:function(){return i.CsvFormatterStream}}),Object.defineProperty(a,"FormatterOptions",{enumerable:!0,get:function(){return i.FormatterOptions}});var o=e("@fast-csv/parse");Object.defineProperty(a,"parse",{enumerable:!0,get:function(){return o.parse}}),Object.defineProperty(a,"parseString",{enumerable:!0,get:function(){return o.parseString}}),Object.defineProperty(a,"parseStream",{enumerable:!0,get:function(){return o.parseStream}}),Object.defineProperty(a,"parseFile",{enumerable:!0,get:function(){return o.parseFile}}),Object.defineProperty(a,"ParserOptions",{enumerable:!0,get:function(){return o.ParserOptions}}),Object.defineProperty(a,"CsvParserStream",{enumerable:!0,get:function(){return o.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,s,a){var i=e("safe-buffer").Buffer,o=e("readable-stream").Transform;function c(l){o.call(this),this._block=i.allocUnsafe(l),this._blockSize=l,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(c,o),c.prototype._transform=function(l,d,u){var f=null;try{this.update(l,d)}catch(h){f=h}u(f)},c.prototype._flush=function(l){var d=null;try{this.push(this.digest())}catch(u){d=u}l(d)},c.prototype.update=function(l,d){if(function(g,p){if(!i.isBuffer(g)&&typeof g!="string")throw new TypeError(p+" must be a string or a buffer")}(l,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(l)||(l=i.from(l,d));for(var u=this._block,f=0;this._blockOffset+l.length-f>=this._blockSize;){for(var h=this._blockOffset;h<this._blockSize;)u[h++]=l[f++];this._update(),this._blockOffset=0}for(;f<l.length;)u[this._blockOffset++]=l[f++];for(var m=0,A=8*l.length;A>0;++m)this._length[m]+=A,(A=this._length[m]/4294967296|0)>0&&(this._length[m]-=4294967296*A);return this},c.prototype._update=function(){throw new Error("_update is not implemented")},c.prototype.digest=function(l){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var d=this._digest();l!==void 0&&(d=d.toString(l)),this._block.fill(0),this._blockOffset=0;for(var u=0;u<4;++u)this._length[u]=0;return d},c.prototype._digest=function(){throw new Error("_digest is not implemented")},s.exports=c},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,s,a){var i=a;i.utils=e("./hash/utils"),i.common=e("./hash/common"),i.sha=e("./hash/sha"),i.ripemd=e("./hash/ripemd"),i.hmac=e("./hash/hmac"),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,s,a){var i=e("./utils"),o=e("minimalistic-assert");function c(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}a.BlockHash=c,c.prototype.update=function(l,d){if(l=i.toArray(l,d),this.pending?this.pending=this.pending.concat(l):this.pending=l,this.pendingTotal+=l.length,this.pending.length>=this._delta8){var u=(l=this.pending).length%this._delta8;this.pending=l.slice(l.length-u,l.length),this.pending.length===0&&(this.pending=null),l=i.join32(l,0,l.length-u,this.endian);for(var f=0;f<l.length;f+=this._delta32)this._update(l,f,f+this._delta32)}return this},c.prototype.digest=function(l){return this.update(this._pad()),o(this.pending===null),this._digest(l)},c.prototype._pad=function(){var l=this.pendingTotal,d=this._delta8,u=d-(l+this.padLength)%d,f=new Array(u+this.padLength);f[0]=128;for(var h=1;h<u;h++)f[h]=0;if(l<<=3,this.endian==="big"){for(var m=8;m<this.padLength;m++)f[h++]=0;f[h++]=0,f[h++]=0,f[h++]=0,f[h++]=0,f[h++]=l>>>24&255,f[h++]=l>>>16&255,f[h++]=l>>>8&255,f[h++]=255&l}else for(f[h++]=255&l,f[h++]=l>>>8&255,f[h++]=l>>>16&255,f[h++]=l>>>24&255,f[h++]=0,f[h++]=0,f[h++]=0,f[h++]=0,m=8;m<this.padLength;m++)f[h++]=0;return f}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,s,a){var i=e("./utils"),o=e("minimalistic-assert");function c(l,d,u){if(!(this instanceof c))return new c(l,d,u);this.Hash=l,this.blockSize=l.blockSize/8,this.outSize=l.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(d,u))}s.exports=c,c.prototype._init=function(l){l.length>this.blockSize&&(l=new this.Hash().update(l).digest()),o(l.length<=this.blockSize);for(var d=l.length;d<this.blockSize;d++)l.push(0);for(d=0;d<l.length;d++)l[d]^=54;for(this.inner=new this.Hash().update(l),d=0;d<l.length;d++)l[d]^=106;this.outer=new this.Hash().update(l)},c.prototype.update=function(l,d){return this.inner.update(l,d),this},c.prototype.digest=function(l){return this.outer.update(this.inner.digest()),this.outer.digest(l)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,s,a){var i=e("./utils"),o=e("./common"),c=i.rotl32,l=i.sum32,d=i.sum32_3,u=i.sum32_4,f=o.BlockHash;function h(){if(!(this instanceof h))return new h;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function m(y,S,M,P){return y<=15?S^M^P:y<=31?S&M|~S&P:y<=47?(S|~M)^P:y<=63?S&P|M&~P:S^(M|~P)}function A(y){return y<=15?0:y<=31?1518500249:y<=47?1859775393:y<=63?2400959708:2840853838}function g(y){return y<=15?1352829926:y<=31?1548603684:y<=47?1836072691:y<=63?2053994217:0}i.inherits(h,f),a.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(y,S){for(var M=this.h[0],P=this.h[1],B=this.h[2],D=this.h[3],L=this.h[4],O=M,F=P,_=B,E=D,T=L,w=0;w<80;w++){var C=l(c(u(M,m(w,P,B,D),y[p[w]+S],A(w)),x[w]),L);M=L,L=D,D=c(B,10),B=P,P=C,C=l(c(u(O,m(79-w,F,_,E),y[b[w]+S],g(w)),v[w]),T),O=T,T=E,E=c(_,10),_=F,F=C}C=d(this.h[1],B,E),this.h[1]=d(this.h[2],D,T),this.h[2]=d(this.h[3],L,O),this.h[3]=d(this.h[4],M,F),this.h[4]=d(this.h[0],P,_),this.h[0]=C},h.prototype._digest=function(y){return y==="hex"?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],x=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,s,a){a.sha1=e("./sha/1"),a.sha224=e("./sha/224"),a.sha256=e("./sha/256"),a.sha384=e("./sha/384"),a.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,s,a){var i=e("../utils"),o=e("../common"),c=e("./common"),l=i.rotl32,d=i.sum32,u=i.sum32_5,f=c.ft_1,h=o.BlockHash,m=[1518500249,1859775393,2400959708,3395469782];function A(){if(!(this instanceof A))return new A;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(A,h),s.exports=A,A.blockSize=512,A.outSize=160,A.hmacStrength=80,A.padLength=64,A.prototype._update=function(g,p){for(var b=this.W,x=0;x<16;x++)b[x]=g[p+x];for(;x<b.length;x++)b[x]=l(b[x-3]^b[x-8]^b[x-14]^b[x-16],1);var v=this.h[0],y=this.h[1],S=this.h[2],M=this.h[3],P=this.h[4];for(x=0;x<b.length;x++){var B=~~(x/20),D=u(l(v,5),f(B,y,S,M),P,b[x],m[B]);P=M,M=S,S=l(y,30),y=v,v=D}this.h[0]=d(this.h[0],v),this.h[1]=d(this.h[1],y),this.h[2]=d(this.h[2],S),this.h[3]=d(this.h[3],M),this.h[4]=d(this.h[4],P)},A.prototype._digest=function(g){return g==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,s,a){var i=e("../utils"),o=e("./256");function c(){if(!(this instanceof c))return new c;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(c,o),s.exports=c,c.blockSize=512,c.outSize=224,c.hmacStrength=192,c.padLength=64,c.prototype._digest=function(l){return l==="hex"?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,s,a){var i=e("../utils"),o=e("../common"),c=e("./common"),l=e("minimalistic-assert"),d=i.sum32,u=i.sum32_4,f=i.sum32_5,h=c.ch32,m=c.maj32,A=c.s0_256,g=c.s1_256,p=c.g0_256,b=c.g1_256,x=o.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;x.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}i.inherits(y,x),s.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(S,M){for(var P=this.W,B=0;B<16;B++)P[B]=S[M+B];for(;B<P.length;B++)P[B]=u(b(P[B-2]),P[B-7],p(P[B-15]),P[B-16]);var D=this.h[0],L=this.h[1],O=this.h[2],F=this.h[3],_=this.h[4],E=this.h[5],T=this.h[6],w=this.h[7];for(l(this.k.length===P.length),B=0;B<P.length;B++){var C=f(w,g(_),h(_,E,T),this.k[B],P[B]),j=d(A(D),m(D,L,O));w=T,T=E,E=_,_=d(F,C),F=O,O=L,L=D,D=d(C,j)}this.h[0]=d(this.h[0],D),this.h[1]=d(this.h[1],L),this.h[2]=d(this.h[2],O),this.h[3]=d(this.h[3],F),this.h[4]=d(this.h[4],_),this.h[5]=d(this.h[5],E),this.h[6]=d(this.h[6],T),this.h[7]=d(this.h[7],w)},y.prototype._digest=function(S){return S==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,s,a){var i=e("../utils"),o=e("./512");function c(){if(!(this instanceof c))return new c;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(c,o),s.exports=c,c.blockSize=1024,c.outSize=384,c.hmacStrength=192,c.padLength=128,c.prototype._digest=function(l){return l==="hex"?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,s,a){var i=e("../utils"),o=e("../common"),c=e("minimalistic-assert"),l=i.rotr64_hi,d=i.rotr64_lo,u=i.shr64_hi,f=i.shr64_lo,h=i.sum64,m=i.sum64_hi,A=i.sum64_lo,g=i.sum64_4_hi,p=i.sum64_4_lo,b=i.sum64_5_hi,x=i.sum64_5_lo,v=o.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function S(){if(!(this instanceof S))return new S;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function M(j,N,I,R,U){var V=j&I^~j&U;return V<0&&(V+=4294967296),V}function P(j,N,I,R,U,V){var z=N&R^~N&V;return z<0&&(z+=4294967296),z}function B(j,N,I,R,U){var V=j&I^j&U^I&U;return V<0&&(V+=4294967296),V}function D(j,N,I,R,U,V){var z=N&R^N&V^R&V;return z<0&&(z+=4294967296),z}function L(j,N){var I=l(j,N,28)^l(N,j,2)^l(N,j,7);return I<0&&(I+=4294967296),I}function O(j,N){var I=d(j,N,28)^d(N,j,2)^d(N,j,7);return I<0&&(I+=4294967296),I}function F(j,N){var I=l(j,N,14)^l(j,N,18)^l(N,j,9);return I<0&&(I+=4294967296),I}function _(j,N){var I=d(j,N,14)^d(j,N,18)^d(N,j,9);return I<0&&(I+=4294967296),I}function E(j,N){var I=l(j,N,1)^l(j,N,8)^u(j,N,7);return I<0&&(I+=4294967296),I}function T(j,N){var I=d(j,N,1)^d(j,N,8)^f(j,N,7);return I<0&&(I+=4294967296),I}function w(j,N){var I=l(j,N,19)^l(N,j,29)^u(j,N,6);return I<0&&(I+=4294967296),I}function C(j,N){var I=d(j,N,19)^d(N,j,29)^f(j,N,6);return I<0&&(I+=4294967296),I}i.inherits(S,v),s.exports=S,S.blockSize=1024,S.outSize=512,S.hmacStrength=192,S.padLength=128,S.prototype._prepareBlock=function(j,N){for(var I=this.W,R=0;R<32;R++)I[R]=j[N+R];for(;R<I.length;R+=2){var U=w(I[R-4],I[R-3]),V=C(I[R-4],I[R-3]),z=I[R-14],X=I[R-13],Q=E(I[R-30],I[R-29]),q=T(I[R-30],I[R-29]),H=I[R-32],$=I[R-31];I[R]=g(U,V,z,X,Q,q,H,$),I[R+1]=p(U,V,z,X,Q,q,H,$)}},S.prototype._update=function(j,N){this._prepareBlock(j,N);var I=this.W,R=this.h[0],U=this.h[1],V=this.h[2],z=this.h[3],X=this.h[4],Q=this.h[5],q=this.h[6],H=this.h[7],$=this.h[8],G=this.h[9],J=this.h[10],te=this.h[11],K=this.h[12],ne=this.h[13],ce=this.h[14],oe=this.h[15];c(this.k.length===I.length);for(var ee=0;ee<I.length;ee+=2){var W=ce,Y=oe,Z=F($,G),se=_($,G),re=M($,G,J,te,K),le=P($,G,J,te,K,ne),ae=this.k[ee],ue=this.k[ee+1],he=I[ee],pe=I[ee+1],Ae=b(W,Y,Z,se,re,le,ae,ue,he,pe),ie=x(W,Y,Z,se,re,le,ae,ue,he,pe);W=L(R,U),Y=O(R,U),Z=B(R,U,V,z,X),se=D(R,U,V,z,X,Q);var de=m(W,Y,Z,se),me=A(W,Y,Z,se);ce=K,oe=ne,K=J,ne=te,J=$,te=G,$=m(q,H,Ae,ie),G=A(H,H,Ae,ie),q=X,H=Q,X=V,Q=z,V=R,z=U,R=m(Ae,ie,de,me),U=A(Ae,ie,de,me)}h(this.h,0,R,U),h(this.h,2,V,z),h(this.h,4,X,Q),h(this.h,6,q,H),h(this.h,8,$,G),h(this.h,10,J,te),h(this.h,12,K,ne),h(this.h,14,ce,oe)},S.prototype._digest=function(j){return j==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,s,a){var i=e("../utils").rotr32;function o(d,u,f){return d&u^~d&f}function c(d,u,f){return d&u^d&f^u&f}function l(d,u,f){return d^u^f}a.ft_1=function(d,u,f,h){return d===0?o(u,f,h):d===1||d===3?l(u,f,h):d===2?c(u,f,h):void 0},a.ch32=o,a.maj32=c,a.p32=l,a.s0_256=function(d){return i(d,2)^i(d,13)^i(d,22)},a.s1_256=function(d){return i(d,6)^i(d,11)^i(d,25)},a.g0_256=function(d){return i(d,7)^i(d,18)^d>>>3},a.g1_256=function(d){return i(d,17)^i(d,19)^d>>>10}},{"../utils":437}],437:[function(e,s,a){var i=e("minimalistic-assert"),o=e("inherits");function c(f,h){return(64512&f.charCodeAt(h))==55296&&!(h<0||h+1>=f.length)&&(64512&f.charCodeAt(h+1))==56320}function l(f){return(f>>>24|f>>>8&65280|f<<8&16711680|(255&f)<<24)>>>0}function d(f){return f.length===1?"0"+f:f}function u(f){return f.length===7?"0"+f:f.length===6?"00"+f:f.length===5?"000"+f:f.length===4?"0000"+f:f.length===3?"00000"+f:f.length===2?"000000"+f:f.length===1?"0000000"+f:f}a.inherits=o,a.toArray=function(f,h){if(Array.isArray(f))return f.slice();if(!f)return[];var m=[];if(typeof f=="string")if(h){if(h==="hex")for((f=f.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(f="0"+f),g=0;g<f.length;g+=2)m.push(parseInt(f[g]+f[g+1],16))}else for(var A=0,g=0;g<f.length;g++){var p=f.charCodeAt(g);p<128?m[A++]=p:p<2048?(m[A++]=p>>6|192,m[A++]=63&p|128):c(f,g)?(p=65536+((1023&p)<<10)+(1023&f.charCodeAt(++g)),m[A++]=p>>18|240,m[A++]=p>>12&63|128,m[A++]=p>>6&63|128,m[A++]=63&p|128):(m[A++]=p>>12|224,m[A++]=p>>6&63|128,m[A++]=63&p|128)}else for(g=0;g<f.length;g++)m[g]=0|f[g];return m},a.toHex=function(f){for(var h="",m=0;m<f.length;m++)h+=d(f[m].toString(16));return h},a.htonl=l,a.toHex32=function(f,h){for(var m="",A=0;A<f.length;A++){var g=f[A];h==="little"&&(g=l(g)),m+=u(g.toString(16))}return m},a.zero2=d,a.zero8=u,a.join32=function(f,h,m,A){var g=m-h;i(g%4==0);for(var p=new Array(g/4),b=0,x=h;b<p.length;b++,x+=4){var v;v=A==="big"?f[x]<<24|f[x+1]<<16|f[x+2]<<8|f[x+3]:f[x+3]<<24|f[x+2]<<16|f[x+1]<<8|f[x],p[b]=v>>>0}return p},a.split32=function(f,h){for(var m=new Array(4*f.length),A=0,g=0;A<f.length;A++,g+=4){var p=f[A];h==="big"?(m[g]=p>>>24,m[g+1]=p>>>16&255,m[g+2]=p>>>8&255,m[g+3]=255&p):(m[g+3]=p>>>24,m[g+2]=p>>>16&255,m[g+1]=p>>>8&255,m[g]=255&p)}return m},a.rotr32=function(f,h){return f>>>h|f<<32-h},a.rotl32=function(f,h){return f<<h|f>>>32-h},a.sum32=function(f,h){return f+h>>>0},a.sum32_3=function(f,h,m){return f+h+m>>>0},a.sum32_4=function(f,h,m,A){return f+h+m+A>>>0},a.sum32_5=function(f,h,m,A,g){return f+h+m+A+g>>>0},a.sum64=function(f,h,m,A){var g=f[h],p=A+f[h+1]>>>0,b=(p<A?1:0)+m+g;f[h]=b>>>0,f[h+1]=p},a.sum64_hi=function(f,h,m,A){return(h+A>>>0<h?1:0)+f+m>>>0},a.sum64_lo=function(f,h,m,A){return h+A>>>0},a.sum64_4_hi=function(f,h,m,A,g,p,b,x){var v=0,y=h;return v+=(y=y+A>>>0)<h?1:0,v+=(y=y+p>>>0)<p?1:0,f+m+g+b+(v+=(y=y+x>>>0)<x?1:0)>>>0},a.sum64_4_lo=function(f,h,m,A,g,p,b,x){return h+A+p+x>>>0},a.sum64_5_hi=function(f,h,m,A,g,p,b,x,v,y){var S=0,M=h;return S+=(M=M+A>>>0)<h?1:0,S+=(M=M+p>>>0)<p?1:0,S+=(M=M+x>>>0)<x?1:0,f+m+g+b+v+(S+=(M=M+y>>>0)<y?1:0)>>>0},a.sum64_5_lo=function(f,h,m,A,g,p,b,x,v,y){return h+A+p+x+y>>>0},a.rotr64_hi=function(f,h,m){return(h<<32-m|f>>>m)>>>0},a.rotr64_lo=function(f,h,m){return(f<<32-m|h>>>m)>>>0},a.shr64_hi=function(f,h,m){return f>>>m},a.shr64_lo=function(f,h,m){return(f<<32-m|h>>>m)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(e,s,a){var i=e("hash.js"),o=e("minimalistic-crypto-utils"),c=e("minimalistic-assert");function l(d){if(!(this instanceof l))return new l(d);this.hash=d.hash,this.predResist=!!d.predResist,this.outLen=this.hash.outSize,this.minEntropy=d.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var u=o.toArray(d.entropy,d.entropyEnc||"hex"),f=o.toArray(d.nonce,d.nonceEnc||"hex"),h=o.toArray(d.pers,d.persEnc||"hex");c(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(u,f,h)}s.exports=l,l.prototype._init=function(d,u,f){var h=d.concat(u).concat(f);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var m=0;m<this.V.length;m++)this.K[m]=0,this.V[m]=1;this._update(h),this._reseed=1,this.reseedInterval=281474976710656},l.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},l.prototype._update=function(d){var u=this._hmac().update(this.V).update([0]);d&&(u=u.update(d)),this.K=u.digest(),this.V=this._hmac().update(this.V).digest(),d&&(this.K=this._hmac().update(this.V).update([1]).update(d).digest(),this.V=this._hmac().update(this.V).digest())},l.prototype.reseed=function(d,u,f,h){typeof u!="string"&&(h=f,f=u,u=null),d=o.toArray(d,u),f=o.toArray(f,h),c(d.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(d.concat(f||[])),this._reseed=1},l.prototype.generate=function(d,u,f,h){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof u!="string"&&(h=f,f=u,u=null),f&&(f=o.toArray(f,h||"hex"),this._update(f));for(var m=[];m.length<d;)this.V=this._hmac().update(this.V).digest(),m=m.concat(this.V);var A=m.slice(0,d);return this._update(f),this._reseed++,o.encode(A,u)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,s,a){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */a.read=function(i,o,c,l,d){var u,f,h=8*d-l-1,m=(1<<h)-1,A=m>>1,g=-7,p=c?d-1:0,b=c?-1:1,x=i[o+p];for(p+=b,u=x&(1<<-g)-1,x>>=-g,g+=h;g>0;u=256*u+i[o+p],p+=b,g-=8);for(f=u&(1<<-g)-1,u>>=-g,g+=l;g>0;f=256*f+i[o+p],p+=b,g-=8);if(u===0)u=1-A;else{if(u===m)return f?NaN:1/0*(x?-1:1);f+=Math.pow(2,l),u-=A}return(x?-1:1)*f*Math.pow(2,u-l)},a.write=function(i,o,c,l,d,u){var f,h,m,A=8*u-d-1,g=(1<<A)-1,p=g>>1,b=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=l?0:u-1,v=l?1:-1,y=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(h=isNaN(o)?1:0,f=g):(f=Math.floor(Math.log(o)/Math.LN2),o*(m=Math.pow(2,-f))<1&&(f--,m*=2),(o+=f+p>=1?b/m:b*Math.pow(2,1-p))*m>=2&&(f++,m/=2),f+p>=g?(h=0,f=g):f+p>=1?(h=(o*m-1)*Math.pow(2,d),f+=p):(h=o*Math.pow(2,p-1)*Math.pow(2,d),f=0));d>=8;i[c+x]=255&h,x+=v,h/=256,d-=8);for(f=f<<d|h,A+=d;A>0;i[c+x]=255&f,x+=v,f/=256,A-=8);i[c+x-v]|=128*y}},{}],440:[function(e,s,a){typeof Object.create=="function"?s.exports=function(i,o){o&&(i.super_=o,i.prototype=Object.create(o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:s.exports=function(i,o){if(o){i.super_=o;var c=function(){};c.prototype=o.prototype,i.prototype=new c,i.prototype.constructor=i}}},{}],441:[function(e,s,a){(function(i,o,c,l,d,u,f,h){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(m){typeof a=="object"&&s!==void 0?s.exports=m():(typeof window<"u"?window:o!==void 0?o:typeof self<"u"?self:this).JSZip=m()})(function(){return function m(A,g,p){function b(y,S){if(!g[y]){if(!A[y]){var M=typeof e=="function"&&e;if(!S&&M)return M(y,!0);if(x)return x(y,!0);var P=new Error("Cannot find module '"+y+"'");throw P.code="MODULE_NOT_FOUND",P}var B=g[y]={exports:{}};A[y][0].call(B.exports,function(D){return b(A[y][1][D]||D)},B,B.exports,m,A,g,p)}return g[y].exports}for(var x=typeof e=="function"&&e,v=0;v<p.length;v++)b(p[v]);return b}({1:[function(m,A,g){var p=m("./utils"),b=m("./support"),x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";g.encode=function(v){for(var y,S,M,P,B,D,L,O=[],F=0,_=v.length,E=_,T=p.getTypeOf(v)!=="string";F<v.length;)E=_-F,M=T?(y=v[F++],S=F<_?v[F++]:0,F<_?v[F++]:0):(y=v.charCodeAt(F++),S=F<_?v.charCodeAt(F++):0,F<_?v.charCodeAt(F++):0),P=y>>2,B=(3&y)<<4|S>>4,D=1<E?(15&S)<<2|M>>6:64,L=2<E?63&M:64,O.push(x.charAt(P)+x.charAt(B)+x.charAt(D)+x.charAt(L));return O.join("")},g.decode=function(v){var y,S,M,P,B,D,L=0,O=0,F="data:";if(v.substr(0,F.length)===F)throw new Error("Invalid base64 input, it looks like a data url.");var _,E=3*(v=v.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(v.charAt(v.length-1)===x.charAt(64)&&E--,v.charAt(v.length-2)===x.charAt(64)&&E--,E%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=b.uint8array?new Uint8Array(0|E):new Array(0|E);L<v.length;)y=x.indexOf(v.charAt(L++))<<2|(P=x.indexOf(v.charAt(L++)))>>4,S=(15&P)<<4|(B=x.indexOf(v.charAt(L++)))>>2,M=(3&B)<<6|(D=x.indexOf(v.charAt(L++))),_[O++]=y,B!==64&&(_[O++]=S),D!==64&&(_[O++]=M);return _}},{"./support":30,"./utils":32}],2:[function(m,A,g){var p=m("./external"),b=m("./stream/DataWorker"),x=m("./stream/Crc32Probe"),v=m("./stream/DataLengthProbe");function y(S,M,P,B,D){this.compressedSize=S,this.uncompressedSize=M,this.crc32=P,this.compression=B,this.compressedContent=D}y.prototype={getContentWorker:function(){var S=new b(p.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new v("data_length")),M=this;return S.on("end",function(){if(this.streamInfo.data_length!==M.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),S},getCompressedWorker:function(){return new b(p.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},y.createWorkerFrom=function(S,M,P){return S.pipe(new x).pipe(new v("uncompressedSize")).pipe(M.compressWorker(P)).pipe(new v("compressedSize")).withStreamInfo("compression",M)},A.exports=y},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(m,A,g){var p=m("./stream/GenericWorker");g.STORE={magic:"\0\0",compressWorker:function(){return new p("STORE compression")},uncompressWorker:function(){return new p("STORE decompression")}},g.DEFLATE=m("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(m,A,g){var p=m("./utils"),b=function(){for(var x,v=[],y=0;y<256;y++){x=y;for(var S=0;S<8;S++)x=1&x?3988292384^x>>>1:x>>>1;v[y]=x}return v}();A.exports=function(x,v){return x!==void 0&&x.length?p.getTypeOf(x)!=="string"?function(y,S,M,P){var B=b,D=0+M;y^=-1;for(var L=0;L<D;L++)y=y>>>8^B[255&(y^S[L])];return-1^y}(0|v,x,x.length):function(y,S,M,P){var B=b,D=0+M;y^=-1;for(var L=0;L<D;L++)y=y>>>8^B[255&(y^S.charCodeAt(L))];return-1^y}(0|v,x,x.length):0}},{"./utils":32}],5:[function(m,A,g){g.base64=!1,g.binary=!1,g.dir=!1,g.createFolders=!0,g.date=null,g.compression=null,g.compressionOptions=null,g.comment=null,g.unixPermissions=null,g.dosPermissions=null},{}],6:[function(m,A,g){var p;p=typeof Promise<"u"?Promise:m("lie"),A.exports={Promise:p}},{lie:37}],7:[function(m,A,g){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",b=m("pako"),x=m("./utils"),v=m("./stream/GenericWorker"),y=p?"uint8array":"array";function S(M,P){v.call(this,"FlateWorker/"+M),this._pako=null,this._pakoAction=M,this._pakoOptions=P,this.meta={}}g.magic="\b\0",x.inherits(S,v),S.prototype.processChunk=function(M){this.meta=M.meta,this._pako===null&&this._createPako(),this._pako.push(x.transformTo(y,M.data),!1)},S.prototype.flush=function(){v.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},S.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this._pako=null},S.prototype._createPako=function(){this._pako=new b[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var M=this;this._pako.onData=function(P){M.push({data:P,meta:M.meta})}},g.compressWorker=function(M){return new S("Deflate",M)},g.uncompressWorker=function(){return new S("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(m,A,g){function p(B,D){var L,O="";for(L=0;L<D;L++)O+=String.fromCharCode(255&B),B>>>=8;return O}function b(B,D,L,O,F,_){var E,T,w=B.file,C=B.compression,j=_!==y.utf8encode,N=x.transformTo("string",_(w.name)),I=x.transformTo("string",y.utf8encode(w.name)),R=w.comment,U=x.transformTo("string",_(R)),V=x.transformTo("string",y.utf8encode(R)),z=I.length!==w.name.length,X=V.length!==R.length,Q="",q="",H="",$=w.dir,G=w.date,J={crc32:0,compressedSize:0,uncompressedSize:0};D&&!L||(J.crc32=B.crc32,J.compressedSize=B.compressedSize,J.uncompressedSize=B.uncompressedSize);var te=0;D&&(te|=8),j||!z&&!X||(te|=2048);var K=0,ne=0;$&&(K|=16),F==="UNIX"?(ne=798,K|=function(oe,ee){var W=oe;return oe||(W=ee?16893:33204),(65535&W)<<16}(w.unixPermissions,$)):(ne=20,K|=function(oe){return 63&(oe||0)}(w.dosPermissions)),E=G.getUTCHours(),E<<=6,E|=G.getUTCMinutes(),E<<=5,E|=G.getUTCSeconds()/2,T=G.getUTCFullYear()-1980,T<<=4,T|=G.getUTCMonth()+1,T<<=5,T|=G.getUTCDate(),z&&(q=p(1,1)+p(S(N),4)+I,Q+="up"+p(q.length,2)+q),X&&(H=p(1,1)+p(S(U),4)+V,Q+="uc"+p(H.length,2)+H);var ce="";return ce+=`
\0`,ce+=p(te,2),ce+=C.magic,ce+=p(E,2),ce+=p(T,2),ce+=p(J.crc32,4),ce+=p(J.compressedSize,4),ce+=p(J.uncompressedSize,4),ce+=p(N.length,2),ce+=p(Q.length,2),{fileRecord:M.LOCAL_FILE_HEADER+ce+N+Q,dirRecord:M.CENTRAL_FILE_HEADER+p(ne,2)+ce+p(U.length,2)+"\0\0\0\0"+p(K,4)+p(O,4)+N+Q+U}}var x=m("../utils"),v=m("../stream/GenericWorker"),y=m("../utf8"),S=m("../crc32"),M=m("../signature");function P(B,D,L,O){v.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=D,this.zipPlatform=L,this.encodeFileName=O,this.streamFiles=B,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}x.inherits(P,v),P.prototype.push=function(B){var D=B.meta.percent||0,L=this.entriesCount,O=this._sources.length;this.accumulate?this.contentBuffer.push(B):(this.bytesWritten+=B.data.length,v.prototype.push.call(this,{data:B.data,meta:{currentFile:this.currentFile,percent:L?(D+100*(L-O-1))/L:100}}))},P.prototype.openedSource=function(B){this.currentSourceOffset=this.bytesWritten,this.currentFile=B.file.name;var D=this.streamFiles&&!B.file.dir;if(D){var L=b(B,D,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:L.fileRecord,meta:{percent:0}})}else this.accumulate=!0},P.prototype.closedSource=function(B){this.accumulate=!1;var D=this.streamFiles&&!B.file.dir,L=b(B,D,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(L.dirRecord),D)this.push({data:function(O){return M.DATA_DESCRIPTOR+p(O.crc32,4)+p(O.compressedSize,4)+p(O.uncompressedSize,4)}(B),meta:{percent:100}});else for(this.push({data:L.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},P.prototype.flush=function(){for(var B=this.bytesWritten,D=0;D<this.dirRecords.length;D++)this.push({data:this.dirRecords[D],meta:{percent:100}});var L=this.bytesWritten-B,O=function(F,_,E,T,w){var C=x.transformTo("string",w(T));return M.CENTRAL_DIRECTORY_END+"\0\0\0\0"+p(F,2)+p(F,2)+p(_,4)+p(E,4)+p(C.length,2)+C}(this.dirRecords.length,L,B,this.zipComment,this.encodeFileName);this.push({data:O,meta:{percent:100}})},P.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},P.prototype.registerPrevious=function(B){this._sources.push(B);var D=this;return B.on("data",function(L){D.processChunk(L)}),B.on("end",function(){D.closedSource(D.previous.streamInfo),D._sources.length?D.prepareNextSource():D.end()}),B.on("error",function(L){D.error(L)}),this},P.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},P.prototype.error=function(B){var D=this._sources;if(!v.prototype.error.call(this,B))return!1;for(var L=0;L<D.length;L++)try{D[L].error(B)}catch{}return!0},P.prototype.lock=function(){v.prototype.lock.call(this);for(var B=this._sources,D=0;D<B.length;D++)B[D].lock()},A.exports=P},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(m,A,g){var p=m("../compressions"),b=m("./ZipFileWorker");g.generateWorker=function(x,v,y){var S=new b(v.streamFiles,y,v.platform,v.encodeFileName),M=0;try{x.forEach(function(P,B){M++;var D=function(_,E){var T=_||E,w=p[T];if(!w)throw new Error(T+" is not a valid compression method !");return w}(B.options.compression,v.compression),L=B.options.compressionOptions||v.compressionOptions||{},O=B.dir,F=B.date;B._compressWorker(D,L).withStreamInfo("file",{name:P,dir:O,date:F,comment:B.comment||"",unixPermissions:B.unixPermissions,dosPermissions:B.dosPermissions}).pipe(S)}),S.entriesCount=M}catch(P){S.error(P)}return S}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(m,A,g){function p(){if(!(this instanceof p))return new p;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var b=new p;for(var x in this)typeof this[x]!="function"&&(b[x]=this[x]);return b}}(p.prototype=m("./object")).loadAsync=m("./load"),p.support=m("./support"),p.defaults=m("./defaults"),p.version="3.10.1",p.loadAsync=function(b,x){return new p().loadAsync(b,x)},p.external=m("./external"),A.exports=p},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(m,A,g){var p=m("./utils"),b=m("./external"),x=m("./utf8"),v=m("./zipEntries"),y=m("./stream/Crc32Probe"),S=m("./nodejsUtils");function M(P){return new b.Promise(function(B,D){var L=P.decompressed.getContentWorker().pipe(new y);L.on("error",function(O){D(O)}).on("end",function(){L.streamInfo.crc32!==P.decompressed.crc32?D(new Error("Corrupted zip : CRC32 mismatch")):B()}).resume()})}A.exports=function(P,B){var D=this;return B=p.extend(B||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:x.utf8decode}),S.isNode&&S.isStream(P)?b.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):p.prepareContent("the loaded zip file",P,!0,B.optimizedBinaryString,B.base64).then(function(L){var O=new v(B);return O.load(L),O}).then(function(L){var O=[b.Promise.resolve(L)],F=L.files;if(B.checkCRC32)for(var _=0;_<F.length;_++)O.push(M(F[_]));return b.Promise.all(O)}).then(function(L){for(var O=L.shift(),F=O.files,_=0;_<F.length;_++){var E=F[_],T=E.fileNameStr,w=p.resolve(E.fileNameStr);D.file(w,E.decompressed,{binary:!0,optimizedBinaryString:!0,date:E.date,dir:E.dir,comment:E.fileCommentStr.length?E.fileCommentStr:null,unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions,createFolders:B.createFolders}),E.dir||(D.file(w).unsafeOriginalName=T)}return O.zipComment.length&&(D.comment=O.zipComment),D})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(m,A,g){var p=m("../utils"),b=m("../stream/GenericWorker");function x(v,y){b.call(this,"Nodejs stream input adapter for "+v),this._upstreamEnded=!1,this._bindStream(y)}p.inherits(x,b),x.prototype._bindStream=function(v){var y=this;(this._stream=v).pause(),v.on("data",function(S){y.push({data:S,meta:{percent:0}})}).on("error",function(S){y.isPaused?this.generatedError=S:y.error(S)}).on("end",function(){y.isPaused?y._upstreamEnded=!0:y.end()})},x.prototype.pause=function(){return!!b.prototype.pause.call(this)&&(this._stream.pause(),!0)},x.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},A.exports=x},{"../stream/GenericWorker":28,"../utils":32}],13:[function(m,A,g){var p=m("readable-stream").Readable;function b(x,v,y){p.call(this,v),this._helper=x;var S=this;x.on("data",function(M,P){S.push(M)||S._helper.pause(),y&&y(P)}).on("error",function(M){S.emit("error",M)}).on("end",function(){S.push(null)})}m("../utils").inherits(b,p),b.prototype._read=function(){this._helper.resume()},A.exports=b},{"../utils":32,"readable-stream":16}],14:[function(m,A,g){A.exports={isNode:c!==void 0,newBufferFrom:function(p,b){if(c.from&&c.from!==Uint8Array.from)return c.from(p,b);if(typeof p=="number")throw new Error('The "data" argument must not be a number');return new c(p,b)},allocBuffer:function(p){if(c.alloc)return c.alloc(p);var b=new c(p);return b.fill(0),b},isBuffer:function(p){return c.isBuffer(p)},isStream:function(p){return p&&typeof p.on=="function"&&typeof p.pause=="function"&&typeof p.resume=="function"}}},{}],15:[function(m,A,g){function p(w,C,j){var N,I=x.getTypeOf(C),R=x.extend(j||{},S);R.date=R.date||new Date,R.compression!==null&&(R.compression=R.compression.toUpperCase()),typeof R.unixPermissions=="string"&&(R.unixPermissions=parseInt(R.unixPermissions,8)),R.unixPermissions&&16384&R.unixPermissions&&(R.dir=!0),R.dosPermissions&&16&R.dosPermissions&&(R.dir=!0),R.dir&&(w=F(w)),R.createFolders&&(N=O(w))&&_.call(this,N,!0);var U=I==="string"&&R.binary===!1&&R.base64===!1;j&&j.binary!==void 0||(R.binary=!U),(C instanceof M&&C.uncompressedSize===0||R.dir||!C||C.length===0)&&(R.base64=!1,R.binary=!0,C="",R.compression="STORE",I="string");var V;V=C instanceof M||C instanceof v?C:D.isNode&&D.isStream(C)?new L(w,C):x.prepareContent(w,C,R.binary,R.optimizedBinaryString,R.base64);var z=new P(w,V,R);this.files[w]=z}var b=m("./utf8"),x=m("./utils"),v=m("./stream/GenericWorker"),y=m("./stream/StreamHelper"),S=m("./defaults"),M=m("./compressedObject"),P=m("./zipObject"),B=m("./generate"),D=m("./nodejsUtils"),L=m("./nodejs/NodejsStreamInputAdapter"),O=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var C=w.lastIndexOf("/");return 0<C?w.substring(0,C):""},F=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},_=function(w,C){return C=C!==void 0?C:S.createFolders,w=F(w),this.files[w]||p.call(this,w,null,{dir:!0,createFolders:C}),this.files[w]};function E(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var C,j,N;for(C in this.files)N=this.files[C],(j=C.slice(this.root.length,C.length))&&C.slice(0,this.root.length)===this.root&&w(j,N)},filter:function(w){var C=[];return this.forEach(function(j,N){w(j,N)&&C.push(N)}),C},file:function(w,C,j){if(arguments.length!==1)return w=this.root+w,p.call(this,w,C,j),this;if(E(w)){var N=w;return this.filter(function(R,U){return!U.dir&&N.test(R)})}var I=this.files[this.root+w];return I&&!I.dir?I:null},folder:function(w){if(!w)return this;if(E(w))return this.filter(function(I,R){return R.dir&&w.test(I)});var C=this.root+w,j=_.call(this,C),N=this.clone();return N.root=j.name,N},remove:function(w){w=this.root+w;var C=this.files[w];if(C||(w.slice(-1)!=="/"&&(w+="/"),C=this.files[w]),C&&!C.dir)delete this.files[w];else for(var j=this.filter(function(I,R){return R.name.slice(0,w.length)===w}),N=0;N<j.length;N++)delete this.files[j[N].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var C,j={};try{if((j=x.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:b.utf8encode})).type=j.type.toLowerCase(),j.compression=j.compression.toUpperCase(),j.type==="binarystring"&&(j.type="string"),!j.type)throw new Error("No output type specified.");x.checkSupport(j.type),j.platform!=="darwin"&&j.platform!=="freebsd"&&j.platform!=="linux"&&j.platform!=="sunos"||(j.platform="UNIX"),j.platform==="win32"&&(j.platform="DOS");var N=j.comment||this.comment||"";C=B.generateWorker(this,j,N)}catch(I){(C=new v("error")).error(I)}return new y(C,j.type||"string",j.mimeType)},generateAsync:function(w,C){return this.generateInternalStream(w).accumulate(C)},generateNodeStream:function(w,C){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(C)}};A.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(m,A,g){A.exports=m("stream")},{stream:void 0}],17:[function(m,A,g){var p=m("./DataReader");function b(x){p.call(this,x);for(var v=0;v<this.data.length;v++)x[v]=255&x[v]}m("../utils").inherits(b,p),b.prototype.byteAt=function(x){return this.data[this.zero+x]},b.prototype.lastIndexOfSignature=function(x){for(var v=x.charCodeAt(0),y=x.charCodeAt(1),S=x.charCodeAt(2),M=x.charCodeAt(3),P=this.length-4;0<=P;--P)if(this.data[P]===v&&this.data[P+1]===y&&this.data[P+2]===S&&this.data[P+3]===M)return P-this.zero;return-1},b.prototype.readAndCheckSignature=function(x){var v=x.charCodeAt(0),y=x.charCodeAt(1),S=x.charCodeAt(2),M=x.charCodeAt(3),P=this.readData(4);return v===P[0]&&y===P[1]&&S===P[2]&&M===P[3]},b.prototype.readData=function(x){if(this.checkOffset(x),x===0)return[];var v=this.data.slice(this.zero+this.index,this.zero+this.index+x);return this.index+=x,v},A.exports=b},{"../utils":32,"./DataReader":18}],18:[function(m,A,g){var p=m("../utils");function b(x){this.data=x,this.length=x.length,this.index=0,this.zero=0}b.prototype={checkOffset:function(x){this.checkIndex(this.index+x)},checkIndex:function(x){if(this.length<this.zero+x||x<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+x+"). Corrupted zip ?")},setIndex:function(x){this.checkIndex(x),this.index=x},skip:function(x){this.setIndex(this.index+x)},byteAt:function(){},readInt:function(x){var v,y=0;for(this.checkOffset(x),v=this.index+x-1;v>=this.index;v--)y=(y<<8)+this.byteAt(v);return this.index+=x,y},readString:function(x){return p.transformTo("string",this.readData(x))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var x=this.readInt(4);return new Date(Date.UTC(1980+(x>>25&127),(x>>21&15)-1,x>>16&31,x>>11&31,x>>5&63,(31&x)<<1))}},A.exports=b},{"../utils":32}],19:[function(m,A,g){var p=m("./Uint8ArrayReader");function b(x){p.call(this,x)}m("../utils").inherits(b,p),b.prototype.readData=function(x){this.checkOffset(x);var v=this.data.slice(this.zero+this.index,this.zero+this.index+x);return this.index+=x,v},A.exports=b},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(m,A,g){var p=m("./DataReader");function b(x){p.call(this,x)}m("../utils").inherits(b,p),b.prototype.byteAt=function(x){return this.data.charCodeAt(this.zero+x)},b.prototype.lastIndexOfSignature=function(x){return this.data.lastIndexOf(x)-this.zero},b.prototype.readAndCheckSignature=function(x){return x===this.readData(4)},b.prototype.readData=function(x){this.checkOffset(x);var v=this.data.slice(this.zero+this.index,this.zero+this.index+x);return this.index+=x,v},A.exports=b},{"../utils":32,"./DataReader":18}],21:[function(m,A,g){var p=m("./ArrayReader");function b(x){p.call(this,x)}m("../utils").inherits(b,p),b.prototype.readData=function(x){if(this.checkOffset(x),x===0)return new Uint8Array(0);var v=this.data.subarray(this.zero+this.index,this.zero+this.index+x);return this.index+=x,v},A.exports=b},{"../utils":32,"./ArrayReader":17}],22:[function(m,A,g){var p=m("../utils"),b=m("../support"),x=m("./ArrayReader"),v=m("./StringReader"),y=m("./NodeBufferReader"),S=m("./Uint8ArrayReader");A.exports=function(M){var P=p.getTypeOf(M);return p.checkSupport(P),P!=="string"||b.uint8array?P==="nodebuffer"?new y(M):b.uint8array?new S(p.transformTo("uint8array",M)):new x(p.transformTo("array",M)):new v(M)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(m,A,g){g.LOCAL_FILE_HEADER="PK",g.CENTRAL_FILE_HEADER="PK",g.CENTRAL_DIRECTORY_END="PK",g.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",g.ZIP64_CENTRAL_DIRECTORY_END="PK",g.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(m,A,g){var p=m("./GenericWorker"),b=m("../utils");function x(v){p.call(this,"ConvertWorker to "+v),this.destType=v}b.inherits(x,p),x.prototype.processChunk=function(v){this.push({data:b.transformTo(this.destType,v.data),meta:v.meta})},A.exports=x},{"../utils":32,"./GenericWorker":28}],25:[function(m,A,g){var p=m("./GenericWorker"),b=m("../crc32");function x(){p.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}m("../utils").inherits(x,p),x.prototype.processChunk=function(v){this.streamInfo.crc32=b(v.data,this.streamInfo.crc32||0),this.push(v)},A.exports=x},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(m,A,g){var p=m("../utils"),b=m("./GenericWorker");function x(v){b.call(this,"DataLengthProbe for "+v),this.propName=v,this.withStreamInfo(v,0)}p.inherits(x,b),x.prototype.processChunk=function(v){if(v){var y=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=y+v.data.length}b.prototype.processChunk.call(this,v)},A.exports=x},{"../utils":32,"./GenericWorker":28}],27:[function(m,A,g){var p=m("../utils"),b=m("./GenericWorker");function x(v){b.call(this,"DataWorker");var y=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,v.then(function(S){y.dataIsReady=!0,y.data=S,y.max=S&&S.length||0,y.type=p.getTypeOf(S),y.isPaused||y._tickAndRepeat()},function(S){y.error(S)})}p.inherits(x,b),x.prototype.cleanUp=function(){b.prototype.cleanUp.call(this),this.data=null},x.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,p.delay(this._tickAndRepeat,[],this)),!0)},x.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(p.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},x.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var v=null,y=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":v=this.data.substring(this.index,y);break;case"uint8array":v=this.data.subarray(this.index,y);break;case"array":case"nodebuffer":v=this.data.slice(this.index,y)}return this.index=y,this.push({data:v,meta:{percent:this.max?this.index/this.max*100:0}})},A.exports=x},{"../utils":32,"./GenericWorker":28}],28:[function(m,A,g){function p(b){this.name=b||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}p.prototype={push:function(b){this.emit("data",b)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(b){this.emit("error",b)}return!0},error:function(b){return!this.isFinished&&(this.isPaused?this.generatedError=b:(this.isFinished=!0,this.emit("error",b),this.previous&&this.previous.error(b),this.cleanUp()),!0)},on:function(b,x){return this._listeners[b].push(x),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(b,x){if(this._listeners[b])for(var v=0;v<this._listeners[b].length;v++)this._listeners[b][v].call(this,x)},pipe:function(b){return b.registerPrevious(this)},registerPrevious:function(b){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=b.streamInfo,this.mergeStreamInfo(),this.previous=b;var x=this;return b.on("data",function(v){x.processChunk(v)}),b.on("end",function(){x.end()}),b.on("error",function(v){x.error(v)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var b=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),b=!0),this.previous&&this.previous.resume(),!b},flush:function(){},processChunk:function(b){this.push(b)},withStreamInfo:function(b,x){return this.extraStreamInfo[b]=x,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var b in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,b)&&(this.streamInfo[b]=this.extraStreamInfo[b])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var b="Worker "+this.name;return this.previous?this.previous+" -> "+b:b}},A.exports=p},{}],29:[function(m,A,g){var p=m("../utils"),b=m("./ConvertWorker"),x=m("./GenericWorker"),v=m("../base64"),y=m("../support"),S=m("../external"),M=null;if(y.nodestream)try{M=m("../nodejs/NodejsStreamOutputAdapter")}catch{}function P(B,D,L){var O=D;switch(D){case"blob":case"arraybuffer":O="uint8array";break;case"base64":O="string"}try{this._internalType=O,this._outputType=D,this._mimeType=L,p.checkSupport(O),this._worker=B.pipe(new b(O)),B.lock()}catch(F){this._worker=new x("error"),this._worker.error(F)}}P.prototype={accumulate:function(B){return function(D,L){return new S.Promise(function(O,F){var _=[],E=D._internalType,T=D._outputType,w=D._mimeType;D.on("data",function(C,j){_.push(C),L&&L(j)}).on("error",function(C){_=[],F(C)}).on("end",function(){try{var C=function(j,N,I){switch(j){case"blob":return p.newBlob(p.transformTo("arraybuffer",N),I);case"base64":return v.encode(N);default:return p.transformTo(j,N)}}(T,function(j,N){var I,R=0,U=null,V=0;for(I=0;I<N.length;I++)V+=N[I].length;switch(j){case"string":return N.join("");case"array":return Array.prototype.concat.apply([],N);case"uint8array":for(U=new Uint8Array(V),I=0;I<N.length;I++)U.set(N[I],R),R+=N[I].length;return U;case"nodebuffer":return c.concat(N);default:throw new Error("concat : unsupported type '"+j+"'")}}(E,_),w);O(C)}catch(j){F(j)}_=[]}).resume()})}(this,B)},on:function(B,D){var L=this;return B==="data"?this._worker.on(B,function(O){D.call(L,O.data,O.meta)}):this._worker.on(B,function(){p.delay(D,arguments,L)}),this},resume:function(){return p.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(B){if(p.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new M(this,{objectMode:this._outputType!=="nodebuffer"},B)}},A.exports=P},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(m,A,g){if(g.base64=!0,g.array=!0,g.string=!0,g.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",g.nodebuffer=c!==void 0,g.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")g.blob=!1;else{var p=new ArrayBuffer(0);try{g.blob=new Blob([p],{type:"application/zip"}).size===0}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);b.append(p),g.blob=b.getBlob("application/zip").size===0}catch{g.blob=!1}}}try{g.nodestream=!!m("readable-stream").Readable}catch{g.nodestream=!1}},{"readable-stream":16}],31:[function(m,A,g){for(var p=m("./utils"),b=m("./support"),x=m("./nodejsUtils"),v=m("./stream/GenericWorker"),y=new Array(256),S=0;S<256;S++)y[S]=252<=S?6:248<=S?5:240<=S?4:224<=S?3:192<=S?2:1;function M(){v.call(this,"utf-8 decode"),this.leftOver=null}function P(){v.call(this,"utf-8 encode")}y[254]=y[254]=1,g.utf8encode=function(B){return b.nodebuffer?x.newBufferFrom(B,"utf-8"):function(D){var L,O,F,_,E,T=D.length,w=0;for(_=0;_<T;_++)(64512&(O=D.charCodeAt(_)))==55296&&_+1<T&&(64512&(F=D.charCodeAt(_+1)))==56320&&(O=65536+(O-55296<<10)+(F-56320),_++),w+=O<128?1:O<2048?2:O<65536?3:4;for(L=b.uint8array?new Uint8Array(w):new Array(w),_=E=0;E<w;_++)(64512&(O=D.charCodeAt(_)))==55296&&_+1<T&&(64512&(F=D.charCodeAt(_+1)))==56320&&(O=65536+(O-55296<<10)+(F-56320),_++),O<128?L[E++]=O:(O<2048?L[E++]=192|O>>>6:(O<65536?L[E++]=224|O>>>12:(L[E++]=240|O>>>18,L[E++]=128|O>>>12&63),L[E++]=128|O>>>6&63),L[E++]=128|63&O);return L}(B)},g.utf8decode=function(B){return b.nodebuffer?p.transformTo("nodebuffer",B).toString("utf-8"):function(D){var L,O,F,_,E=D.length,T=new Array(2*E);for(L=O=0;L<E;)if((F=D[L++])<128)T[O++]=F;else if(4<(_=y[F]))T[O++]=65533,L+=_-1;else{for(F&=_===2?31:_===3?15:7;1<_&&L<E;)F=F<<6|63&D[L++],_--;1<_?T[O++]=65533:F<65536?T[O++]=F:(F-=65536,T[O++]=55296|F>>10&1023,T[O++]=56320|1023&F)}return T.length!==O&&(T.subarray?T=T.subarray(0,O):T.length=O),p.applyFromCharCode(T)}(B=p.transformTo(b.uint8array?"uint8array":"array",B))},p.inherits(M,v),M.prototype.processChunk=function(B){var D=p.transformTo(b.uint8array?"uint8array":"array",B.data);if(this.leftOver&&this.leftOver.length){if(b.uint8array){var L=D;(D=new Uint8Array(L.length+this.leftOver.length)).set(this.leftOver,0),D.set(L,this.leftOver.length)}else D=this.leftOver.concat(D);this.leftOver=null}var O=function(_,E){var T;for((E=E||_.length)>_.length&&(E=_.length),T=E-1;0<=T&&(192&_[T])==128;)T--;return T<0||T===0?E:T+y[_[T]]>E?T:E}(D),F=D;O!==D.length&&(b.uint8array?(F=D.subarray(0,O),this.leftOver=D.subarray(O,D.length)):(F=D.slice(0,O),this.leftOver=D.slice(O,D.length))),this.push({data:g.utf8decode(F),meta:B.meta})},M.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:g.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},g.Utf8DecodeWorker=M,p.inherits(P,v),P.prototype.processChunk=function(B){this.push({data:g.utf8encode(B.data),meta:B.meta})},g.Utf8EncodeWorker=P},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(m,A,g){var p=m("./support"),b=m("./base64"),x=m("./nodejsUtils"),v=m("./external");function y(L){return L}function S(L,O){for(var F=0;F<L.length;++F)O[F]=255&L.charCodeAt(F);return O}m("setimmediate"),g.newBlob=function(L,O){g.checkSupport("blob");try{return new Blob([L],{type:O})}catch{try{var F=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return F.append(L),F.getBlob(O)}catch{throw new Error("Bug : can't construct the Blob.")}}};var M={stringifyByChunk:function(L,O,F){var _=[],E=0,T=L.length;if(T<=F)return String.fromCharCode.apply(null,L);for(;E<T;)O==="array"||O==="nodebuffer"?_.push(String.fromCharCode.apply(null,L.slice(E,Math.min(E+F,T)))):_.push(String.fromCharCode.apply(null,L.subarray(E,Math.min(E+F,T)))),E+=F;return _.join("")},stringifyByChar:function(L){for(var O="",F=0;F<L.length;F++)O+=String.fromCharCode(L[F]);return O},applyCanBeUsed:{uint8array:function(){try{return p.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return p.nodebuffer&&String.fromCharCode.apply(null,x.allocBuffer(1)).length===1}catch{return!1}}()}};function P(L){var O=65536,F=g.getTypeOf(L),_=!0;if(F==="uint8array"?_=M.applyCanBeUsed.uint8array:F==="nodebuffer"&&(_=M.applyCanBeUsed.nodebuffer),_)for(;1<O;)try{return M.stringifyByChunk(L,F,O)}catch{O=Math.floor(O/2)}return M.stringifyByChar(L)}function B(L,O){for(var F=0;F<L.length;F++)O[F]=L[F];return O}g.applyFromCharCode=P;var D={};D.string={string:y,array:function(L){return S(L,new Array(L.length))},arraybuffer:function(L){return D.string.uint8array(L).buffer},uint8array:function(L){return S(L,new Uint8Array(L.length))},nodebuffer:function(L){return S(L,x.allocBuffer(L.length))}},D.array={string:P,array:y,arraybuffer:function(L){return new Uint8Array(L).buffer},uint8array:function(L){return new Uint8Array(L)},nodebuffer:function(L){return x.newBufferFrom(L)}},D.arraybuffer={string:function(L){return P(new Uint8Array(L))},array:function(L){return B(new Uint8Array(L),new Array(L.byteLength))},arraybuffer:y,uint8array:function(L){return new Uint8Array(L)},nodebuffer:function(L){return x.newBufferFrom(new Uint8Array(L))}},D.uint8array={string:P,array:function(L){return B(L,new Array(L.length))},arraybuffer:function(L){return L.buffer},uint8array:y,nodebuffer:function(L){return x.newBufferFrom(L)}},D.nodebuffer={string:P,array:function(L){return B(L,new Array(L.length))},arraybuffer:function(L){return D.nodebuffer.uint8array(L).buffer},uint8array:function(L){return B(L,new Uint8Array(L.length))},nodebuffer:y},g.transformTo=function(L,O){if(O=O||"",!L)return O;g.checkSupport(L);var F=g.getTypeOf(O);return D[F][L](O)},g.resolve=function(L){for(var O=L.split("/"),F=[],_=0;_<O.length;_++){var E=O[_];E==="."||E===""&&_!==0&&_!==O.length-1||(E===".."?F.pop():F.push(E))}return F.join("/")},g.getTypeOf=function(L){return typeof L=="string"?"string":Object.prototype.toString.call(L)==="[object Array]"?"array":p.nodebuffer&&x.isBuffer(L)?"nodebuffer":p.uint8array&&L instanceof Uint8Array?"uint8array":p.arraybuffer&&L instanceof ArrayBuffer?"arraybuffer":void 0},g.checkSupport=function(L){if(!p[L.toLowerCase()])throw new Error(L+" is not supported by this platform")},g.MAX_VALUE_16BITS=65535,g.MAX_VALUE_32BITS=-1,g.pretty=function(L){var O,F,_="";for(F=0;F<(L||"").length;F++)_+="\\x"+((O=L.charCodeAt(F))<16?"0":"")+O.toString(16).toUpperCase();return _},g.delay=function(L,O,F){h(function(){L.apply(F||null,O||[])})},g.inherits=function(L,O){function F(){}F.prototype=O.prototype,L.prototype=new F},g.extend=function(){var L,O,F={};for(L=0;L<arguments.length;L++)for(O in arguments[L])Object.prototype.hasOwnProperty.call(arguments[L],O)&&F[O]===void 0&&(F[O]=arguments[L][O]);return F},g.prepareContent=function(L,O,F,_,E){return v.Promise.resolve(O).then(function(T){return p.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new v.Promise(function(w,C){var j=new FileReader;j.onload=function(N){w(N.target.result)},j.onerror=function(N){C(N.target.error)},j.readAsArrayBuffer(T)}):T}).then(function(T){var w=g.getTypeOf(T);return w?(w==="arraybuffer"?T=g.transformTo("uint8array",T):w==="string"&&(E?T=b.decode(T):F&&_!==!0&&(T=function(C){return S(C,p.uint8array?new Uint8Array(C.length):new Array(C.length))}(T))),T):v.Promise.reject(new Error("Can't read the data of '"+L+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(m,A,g){var p=m("./reader/readerFor"),b=m("./utils"),x=m("./signature"),v=m("./zipEntry"),y=m("./support");function S(M){this.files=[],this.loadOptions=M}S.prototype={checkSignature:function(M){if(!this.reader.readAndCheckSignature(M)){this.reader.index-=4;var P=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+b.pretty(P)+", expected "+b.pretty(M)+")")}},isSignature:function(M,P){var B=this.reader.index;this.reader.setIndex(M);var D=this.reader.readString(4)===P;return this.reader.setIndex(B),D},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var M=this.reader.readData(this.zipCommentLength),P=y.uint8array?"uint8array":"array",B=b.transformTo(P,M);this.zipComment=this.loadOptions.decodeFileName(B)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var M,P,B,D=this.zip64EndOfCentralSize-44;0<D;)M=this.reader.readInt(2),P=this.reader.readInt(4),B=this.reader.readData(P),this.zip64ExtensibleData[M]={id:M,length:P,value:B}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var M,P;for(M=0;M<this.files.length;M++)P=this.files[M],this.reader.setIndex(P.localHeaderOffset),this.checkSignature(x.LOCAL_FILE_HEADER),P.readLocalPart(this.reader),P.handleUTF8(),P.processAttributes()},readCentralDir:function(){var M;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(x.CENTRAL_FILE_HEADER);)(M=new v({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(M);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var M=this.reader.lastIndexOfSignature(x.CENTRAL_DIRECTORY_END);if(M<0)throw this.isSignature(0,x.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(M);var P=M;if(this.checkSignature(x.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===b.MAX_VALUE_16BITS||this.diskWithCentralDirStart===b.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===b.MAX_VALUE_16BITS||this.centralDirRecords===b.MAX_VALUE_16BITS||this.centralDirSize===b.MAX_VALUE_32BITS||this.centralDirOffset===b.MAX_VALUE_32BITS){if(this.zip64=!0,(M=this.reader.lastIndexOfSignature(x.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(M),this.checkSignature(x.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,x.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(x.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(x.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var B=this.centralDirOffset+this.centralDirSize;this.zip64&&(B+=20,B+=12+this.zip64EndOfCentralSize);var D=P-B;if(0<D)this.isSignature(P,x.CENTRAL_FILE_HEADER)||(this.reader.zero=D);else if(D<0)throw new Error("Corrupted zip: missing "+Math.abs(D)+" bytes.")},prepareReader:function(M){this.reader=p(M)},load:function(M){this.prepareReader(M),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},A.exports=S},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(m,A,g){var p=m("./reader/readerFor"),b=m("./utils"),x=m("./compressedObject"),v=m("./crc32"),y=m("./utf8"),S=m("./compressions"),M=m("./support");function P(B,D){this.options=B,this.loadOptions=D}P.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(B){var D,L;if(B.skip(22),this.fileNameLength=B.readInt(2),L=B.readInt(2),this.fileName=B.readData(this.fileNameLength),B.skip(L),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((D=function(O){for(var F in S)if(Object.prototype.hasOwnProperty.call(S,F)&&S[F].magic===O)return S[F];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+b.pretty(this.compressionMethod)+" unknown (inner file : "+b.transformTo("string",this.fileName)+")");this.decompressed=new x(this.compressedSize,this.uncompressedSize,this.crc32,D,B.readData(this.compressedSize))},readCentralPart:function(B){this.versionMadeBy=B.readInt(2),B.skip(2),this.bitFlag=B.readInt(2),this.compressionMethod=B.readString(2),this.date=B.readDate(),this.crc32=B.readInt(4),this.compressedSize=B.readInt(4),this.uncompressedSize=B.readInt(4);var D=B.readInt(2);if(this.extraFieldsLength=B.readInt(2),this.fileCommentLength=B.readInt(2),this.diskNumberStart=B.readInt(2),this.internalFileAttributes=B.readInt(2),this.externalFileAttributes=B.readInt(4),this.localHeaderOffset=B.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");B.skip(D),this.readExtraFields(B),this.parseZIP64ExtraField(B),this.fileComment=B.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var B=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),B==0&&(this.dosPermissions=63&this.externalFileAttributes),B==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var B=p(this.extraFields[1].value);this.uncompressedSize===b.MAX_VALUE_32BITS&&(this.uncompressedSize=B.readInt(8)),this.compressedSize===b.MAX_VALUE_32BITS&&(this.compressedSize=B.readInt(8)),this.localHeaderOffset===b.MAX_VALUE_32BITS&&(this.localHeaderOffset=B.readInt(8)),this.diskNumberStart===b.MAX_VALUE_32BITS&&(this.diskNumberStart=B.readInt(4))}},readExtraFields:function(B){var D,L,O,F=B.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});B.index+4<F;)D=B.readInt(2),L=B.readInt(2),O=B.readData(L),this.extraFields[D]={id:D,length:L,value:O};B.setIndex(F)},handleUTF8:function(){var B=M.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=y.utf8decode(this.fileName),this.fileCommentStr=y.utf8decode(this.fileComment);else{var D=this.findExtraFieldUnicodePath();if(D!==null)this.fileNameStr=D;else{var L=b.transformTo(B,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(L)}var O=this.findExtraFieldUnicodeComment();if(O!==null)this.fileCommentStr=O;else{var F=b.transformTo(B,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(F)}}},findExtraFieldUnicodePath:function(){var B=this.extraFields[28789];if(B){var D=p(B.value);return D.readInt(1)!==1||v(this.fileName)!==D.readInt(4)?null:y.utf8decode(D.readData(B.length-5))}return null},findExtraFieldUnicodeComment:function(){var B=this.extraFields[25461];if(B){var D=p(B.value);return D.readInt(1)!==1||v(this.fileComment)!==D.readInt(4)?null:y.utf8decode(D.readData(B.length-5))}return null}},A.exports=P},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(m,A,g){function p(D,L,O){this.name=D,this.dir=O.dir,this.date=O.date,this.comment=O.comment,this.unixPermissions=O.unixPermissions,this.dosPermissions=O.dosPermissions,this._data=L,this._dataBinary=O.binary,this.options={compression:O.compression,compressionOptions:O.compressionOptions}}var b=m("./stream/StreamHelper"),x=m("./stream/DataWorker"),v=m("./utf8"),y=m("./compressedObject"),S=m("./stream/GenericWorker");p.prototype={internalStream:function(D){var L=null,O="string";try{if(!D)throw new Error("No output type specified.");var F=(O=D.toLowerCase())==="string"||O==="text";O!=="binarystring"&&O!=="text"||(O="string"),L=this._decompressWorker();var _=!this._dataBinary;_&&!F&&(L=L.pipe(new v.Utf8EncodeWorker)),!_&&F&&(L=L.pipe(new v.Utf8DecodeWorker))}catch(E){(L=new S("error")).error(E)}return new b(L,O,"")},async:function(D,L){return this.internalStream(D).accumulate(L)},nodeStream:function(D,L){return this.internalStream(D||"nodebuffer").toNodejsStream(L)},_compressWorker:function(D,L){if(this._data instanceof y&&this._data.compression.magic===D.magic)return this._data.getCompressedWorker();var O=this._decompressWorker();return this._dataBinary||(O=O.pipe(new v.Utf8EncodeWorker)),y.createWorkerFrom(O,D,L)},_decompressWorker:function(){return this._data instanceof y?this._data.getContentWorker():this._data instanceof S?this._data:new x(this._data)}};for(var M=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],P=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},B=0;B<M.length;B++)p.prototype[M[B]]=P;A.exports=p},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(m,A,g){(function(p){var b,x,v=p.MutationObserver||p.WebKitMutationObserver;if(v){var y=0,S=new v(D),M=p.document.createTextNode("");S.observe(M,{characterData:!0}),b=function(){M.data=y=++y%2}}else if(p.setImmediate||p.MessageChannel===void 0)b="document"in p&&"onreadystatechange"in p.document.createElement("script")?function(){var L=p.document.createElement("script");L.onreadystatechange=function(){D(),L.onreadystatechange=null,L.parentNode.removeChild(L),L=null},p.document.documentElement.appendChild(L)}:function(){setTimeout(D,0)};else{var P=new p.MessageChannel;P.port1.onmessage=D,b=function(){P.port2.postMessage(0)}}var B=[];function D(){var L,O;x=!0;for(var F=B.length;F;){for(O=B,B=[],L=-1;++L<F;)O[L]();F=B.length}x=!1}A.exports=function(L){B.push(L)!==1||x||b()}}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(m,A,g){var p=m("immediate");function b(){}var x={},v=["REJECTED"],y=["FULFILLED"],S=["PENDING"];function M(F){if(typeof F!="function")throw new TypeError("resolver must be a function");this.state=S,this.queue=[],this.outcome=void 0,F!==b&&L(this,F)}function P(F,_,E){this.promise=F,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}function B(F,_,E){p(function(){var T;try{T=_(E)}catch(w){return x.reject(F,w)}T===F?x.reject(F,new TypeError("Cannot resolve promise with itself")):x.resolve(F,T)})}function D(F){var _=F&&F.then;if(F&&(typeof F=="object"||typeof F=="function")&&typeof _=="function")return function(){_.apply(F,arguments)}}function L(F,_){var E=!1;function T(j){E||(E=!0,x.reject(F,j))}function w(j){E||(E=!0,x.resolve(F,j))}var C=O(function(){_(w,T)});C.status==="error"&&T(C.value)}function O(F,_){var E={};try{E.value=F(_),E.status="success"}catch(T){E.status="error",E.value=T}return E}(A.exports=M).prototype.finally=function(F){if(typeof F!="function")return this;var _=this.constructor;return this.then(function(E){return _.resolve(F()).then(function(){return E})},function(E){return _.resolve(F()).then(function(){throw E})})},M.prototype.catch=function(F){return this.then(null,F)},M.prototype.then=function(F,_){if(typeof F!="function"&&this.state===y||typeof _!="function"&&this.state===v)return this;var E=new this.constructor(b);return this.state!==S?B(E,this.state===y?F:_,this.outcome):this.queue.push(new P(E,F,_)),E},P.prototype.callFulfilled=function(F){x.resolve(this.promise,F)},P.prototype.otherCallFulfilled=function(F){B(this.promise,this.onFulfilled,F)},P.prototype.callRejected=function(F){x.reject(this.promise,F)},P.prototype.otherCallRejected=function(F){B(this.promise,this.onRejected,F)},x.resolve=function(F,_){var E=O(D,_);if(E.status==="error")return x.reject(F,E.value);var T=E.value;if(T)L(F,T);else{F.state=y,F.outcome=_;for(var w=-1,C=F.queue.length;++w<C;)F.queue[w].callFulfilled(_)}return F},x.reject=function(F,_){F.state=v,F.outcome=_;for(var E=-1,T=F.queue.length;++E<T;)F.queue[E].callRejected(_);return F},M.resolve=function(F){return F instanceof this?F:x.resolve(new this(b),F)},M.reject=function(F){var _=new this(b);return x.reject(_,F)},M.all=function(F){var _=this;if(Object.prototype.toString.call(F)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=F.length,T=!1;if(!E)return this.resolve([]);for(var w=new Array(E),C=0,j=-1,N=new this(b);++j<E;)I(F[j],j);return N;function I(R,U){_.resolve(R).then(function(V){w[U]=V,++C!==E||T||(T=!0,x.resolve(N,w))},function(V){T||(T=!0,x.reject(N,V))})}},M.race=function(F){if(Object.prototype.toString.call(F)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=F.length,E=!1;if(!_)return this.resolve([]);for(var T,w=-1,C=new this(b);++w<_;)T=F[w],this.resolve(T).then(function(j){E||(E=!0,x.resolve(C,j))},function(j){E||(E=!0,x.reject(C,j))});return C}},{immediate:36}],38:[function(m,A,g){var p={};(0,m("./lib/utils/common").assign)(p,m("./lib/deflate"),m("./lib/inflate"),m("./lib/zlib/constants")),A.exports=p},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(m,A,g){var p=m("./zlib/deflate"),b=m("./utils/common"),x=m("./utils/strings"),v=m("./zlib/messages"),y=m("./zlib/zstream"),S=Object.prototype.toString;function M(B){if(!(this instanceof M))return new M(B);this.options=b.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},B||{});var D=this.options;D.raw&&0<D.windowBits?D.windowBits=-D.windowBits:D.gzip&&0<D.windowBits&&D.windowBits<16&&(D.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var L=p.deflateInit2(this.strm,D.level,D.method,D.windowBits,D.memLevel,D.strategy);if(L!==0)throw new Error(v[L]);if(D.header&&p.deflateSetHeader(this.strm,D.header),D.dictionary){var O;if(O=typeof D.dictionary=="string"?x.string2buf(D.dictionary):S.call(D.dictionary)==="[object ArrayBuffer]"?new Uint8Array(D.dictionary):D.dictionary,(L=p.deflateSetDictionary(this.strm,O))!==0)throw new Error(v[L]);this._dict_set=!0}}function P(B,D){var L=new M(D);if(L.push(B,!0),L.err)throw L.msg||v[L.err];return L.result}M.prototype.push=function(B,D){var L,O,F=this.strm,_=this.options.chunkSize;if(this.ended)return!1;O=D===~~D?D:D===!0?4:0,typeof B=="string"?F.input=x.string2buf(B):S.call(B)==="[object ArrayBuffer]"?F.input=new Uint8Array(B):F.input=B,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new b.Buf8(_),F.next_out=0,F.avail_out=_),(L=p.deflate(F,O))!==1&&L!==0)return this.onEnd(L),!(this.ended=!0);F.avail_out!==0&&(F.avail_in!==0||O!==4&&O!==2)||(this.options.to==="string"?this.onData(x.buf2binstring(b.shrinkBuf(F.output,F.next_out))):this.onData(b.shrinkBuf(F.output,F.next_out)))}while((0<F.avail_in||F.avail_out===0)&&L!==1);return O===4?(L=p.deflateEnd(this.strm),this.onEnd(L),this.ended=!0,L===0):O!==2||(this.onEnd(0),!(F.avail_out=0))},M.prototype.onData=function(B){this.chunks.push(B)},M.prototype.onEnd=function(B){B===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=b.flattenChunks(this.chunks)),this.chunks=[],this.err=B,this.msg=this.strm.msg},g.Deflate=M,g.deflate=P,g.deflateRaw=function(B,D){return(D=D||{}).raw=!0,P(B,D)},g.gzip=function(B,D){return(D=D||{}).gzip=!0,P(B,D)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(m,A,g){var p=m("./zlib/inflate"),b=m("./utils/common"),x=m("./utils/strings"),v=m("./zlib/constants"),y=m("./zlib/messages"),S=m("./zlib/zstream"),M=m("./zlib/gzheader"),P=Object.prototype.toString;function B(L){if(!(this instanceof B))return new B(L);this.options=b.assign({chunkSize:16384,windowBits:0,to:""},L||{});var O=this.options;O.raw&&0<=O.windowBits&&O.windowBits<16&&(O.windowBits=-O.windowBits,O.windowBits===0&&(O.windowBits=-15)),!(0<=O.windowBits&&O.windowBits<16)||L&&L.windowBits||(O.windowBits+=32),15<O.windowBits&&O.windowBits<48&&!(15&O.windowBits)&&(O.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new S,this.strm.avail_out=0;var F=p.inflateInit2(this.strm,O.windowBits);if(F!==v.Z_OK)throw new Error(y[F]);this.header=new M,p.inflateGetHeader(this.strm,this.header)}function D(L,O){var F=new B(O);if(F.push(L,!0),F.err)throw F.msg||y[F.err];return F.result}B.prototype.push=function(L,O){var F,_,E,T,w,C,j=this.strm,N=this.options.chunkSize,I=this.options.dictionary,R=!1;if(this.ended)return!1;_=O===~~O?O:O===!0?v.Z_FINISH:v.Z_NO_FLUSH,typeof L=="string"?j.input=x.binstring2buf(L):P.call(L)==="[object ArrayBuffer]"?j.input=new Uint8Array(L):j.input=L,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new b.Buf8(N),j.next_out=0,j.avail_out=N),(F=p.inflate(j,v.Z_NO_FLUSH))===v.Z_NEED_DICT&&I&&(C=typeof I=="string"?x.string2buf(I):P.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,F=p.inflateSetDictionary(this.strm,C)),F===v.Z_BUF_ERROR&&R===!0&&(F=v.Z_OK,R=!1),F!==v.Z_STREAM_END&&F!==v.Z_OK)return this.onEnd(F),!(this.ended=!0);j.next_out&&(j.avail_out!==0&&F!==v.Z_STREAM_END&&(j.avail_in!==0||_!==v.Z_FINISH&&_!==v.Z_SYNC_FLUSH)||(this.options.to==="string"?(E=x.utf8border(j.output,j.next_out),T=j.next_out-E,w=x.buf2string(j.output,E),j.next_out=T,j.avail_out=N-T,T&&b.arraySet(j.output,j.output,E,T,0),this.onData(w)):this.onData(b.shrinkBuf(j.output,j.next_out)))),j.avail_in===0&&j.avail_out===0&&(R=!0)}while((0<j.avail_in||j.avail_out===0)&&F!==v.Z_STREAM_END);return F===v.Z_STREAM_END&&(_=v.Z_FINISH),_===v.Z_FINISH?(F=p.inflateEnd(this.strm),this.onEnd(F),this.ended=!0,F===v.Z_OK):_!==v.Z_SYNC_FLUSH||(this.onEnd(v.Z_OK),!(j.avail_out=0))},B.prototype.onData=function(L){this.chunks.push(L)},B.prototype.onEnd=function(L){L===v.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=b.flattenChunks(this.chunks)),this.chunks=[],this.err=L,this.msg=this.strm.msg},g.Inflate=B,g.inflate=D,g.inflateRaw=function(L,O){return(O=O||{}).raw=!0,D(L,O)},g.ungzip=D},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(m,A,g){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";g.assign=function(v){for(var y=Array.prototype.slice.call(arguments,1);y.length;){var S=y.shift();if(S){if(typeof S!="object")throw new TypeError(S+"must be non-object");for(var M in S)S.hasOwnProperty(M)&&(v[M]=S[M])}}return v},g.shrinkBuf=function(v,y){return v.length===y?v:v.subarray?v.subarray(0,y):(v.length=y,v)};var b={arraySet:function(v,y,S,M,P){if(y.subarray&&v.subarray)v.set(y.subarray(S,S+M),P);else for(var B=0;B<M;B++)v[P+B]=y[S+B]},flattenChunks:function(v){var y,S,M,P,B,D;for(y=M=0,S=v.length;y<S;y++)M+=v[y].length;for(D=new Uint8Array(M),y=P=0,S=v.length;y<S;y++)B=v[y],D.set(B,P),P+=B.length;return D}},x={arraySet:function(v,y,S,M,P){for(var B=0;B<M;B++)v[P+B]=y[S+B]},flattenChunks:function(v){return[].concat.apply([],v)}};g.setTyped=function(v){v?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,b)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,x))},g.setTyped(p)},{}],42:[function(m,A,g){var p=m("./common"),b=!0,x=!0;try{String.fromCharCode.apply(null,[0])}catch{b=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{x=!1}for(var v=new p.Buf8(256),y=0;y<256;y++)v[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;function S(M,P){if(P<65537&&(M.subarray&&x||!M.subarray&&b))return String.fromCharCode.apply(null,p.shrinkBuf(M,P));for(var B="",D=0;D<P;D++)B+=String.fromCharCode(M[D]);return B}v[254]=v[254]=1,g.string2buf=function(M){var P,B,D,L,O,F=M.length,_=0;for(L=0;L<F;L++)(64512&(B=M.charCodeAt(L)))==55296&&L+1<F&&(64512&(D=M.charCodeAt(L+1)))==56320&&(B=65536+(B-55296<<10)+(D-56320),L++),_+=B<128?1:B<2048?2:B<65536?3:4;for(P=new p.Buf8(_),L=O=0;O<_;L++)(64512&(B=M.charCodeAt(L)))==55296&&L+1<F&&(64512&(D=M.charCodeAt(L+1)))==56320&&(B=65536+(B-55296<<10)+(D-56320),L++),B<128?P[O++]=B:(B<2048?P[O++]=192|B>>>6:(B<65536?P[O++]=224|B>>>12:(P[O++]=240|B>>>18,P[O++]=128|B>>>12&63),P[O++]=128|B>>>6&63),P[O++]=128|63&B);return P},g.buf2binstring=function(M){return S(M,M.length)},g.binstring2buf=function(M){for(var P=new p.Buf8(M.length),B=0,D=P.length;B<D;B++)P[B]=M.charCodeAt(B);return P},g.buf2string=function(M,P){var B,D,L,O,F=P||M.length,_=new Array(2*F);for(B=D=0;B<F;)if((L=M[B++])<128)_[D++]=L;else if(4<(O=v[L]))_[D++]=65533,B+=O-1;else{for(L&=O===2?31:O===3?15:7;1<O&&B<F;)L=L<<6|63&M[B++],O--;1<O?_[D++]=65533:L<65536?_[D++]=L:(L-=65536,_[D++]=55296|L>>10&1023,_[D++]=56320|1023&L)}return S(_,D)},g.utf8border=function(M,P){var B;for((P=P||M.length)>M.length&&(P=M.length),B=P-1;0<=B&&(192&M[B])==128;)B--;return B<0||B===0?P:B+v[M[B]]>P?B:P}},{"./common":41}],43:[function(m,A,g){A.exports=function(p,b,x,v){for(var y=65535&p|0,S=p>>>16&65535|0,M=0;x!==0;){for(x-=M=2e3<x?2e3:x;S=S+(y=y+b[v++]|0)|0,--M;);y%=65521,S%=65521}return y|S<<16|0}},{}],44:[function(m,A,g){A.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(m,A,g){var p=function(){for(var b,x=[],v=0;v<256;v++){b=v;for(var y=0;y<8;y++)b=1&b?3988292384^b>>>1:b>>>1;x[v]=b}return x}();A.exports=function(b,x,v,y){var S=p,M=y+v;b^=-1;for(var P=y;P<M;P++)b=b>>>8^S[255&(b^x[P])];return-1^b}},{}],46:[function(m,A,g){var p,b=m("../utils/common"),x=m("./trees"),v=m("./adler32"),y=m("./crc32"),S=m("./messages"),M=-2,P=258,B=262,D=113;function L(Q,q){return Q.msg=S[q],q}function O(Q){return(Q<<1)-(4<Q?9:0)}function F(Q){for(var q=Q.length;0<=--q;)Q[q]=0}function _(Q){var q=Q.state,H=q.pending;H>Q.avail_out&&(H=Q.avail_out),H!==0&&(b.arraySet(Q.output,q.pending_buf,q.pending_out,H,Q.next_out),Q.next_out+=H,q.pending_out+=H,Q.total_out+=H,Q.avail_out-=H,q.pending-=H,q.pending===0&&(q.pending_out=0))}function E(Q,q){x._tr_flush_block(Q,0<=Q.block_start?Q.block_start:-1,Q.strstart-Q.block_start,q),Q.block_start=Q.strstart,_(Q.strm)}function T(Q,q){Q.pending_buf[Q.pending++]=q}function w(Q,q){Q.pending_buf[Q.pending++]=q>>>8&255,Q.pending_buf[Q.pending++]=255&q}function C(Q,q){var H,$,G=Q.max_chain_length,J=Q.strstart,te=Q.prev_length,K=Q.nice_match,ne=Q.strstart>Q.w_size-B?Q.strstart-(Q.w_size-B):0,ce=Q.window,oe=Q.w_mask,ee=Q.prev,W=Q.strstart+P,Y=ce[J+te-1],Z=ce[J+te];Q.prev_length>=Q.good_match&&(G>>=2),K>Q.lookahead&&(K=Q.lookahead);do if(ce[(H=q)+te]===Z&&ce[H+te-1]===Y&&ce[H]===ce[J]&&ce[++H]===ce[J+1]){J+=2,H++;do;while(ce[++J]===ce[++H]&&ce[++J]===ce[++H]&&ce[++J]===ce[++H]&&ce[++J]===ce[++H]&&ce[++J]===ce[++H]&&ce[++J]===ce[++H]&&ce[++J]===ce[++H]&&ce[++J]===ce[++H]&&J<W);if($=P-(W-J),J=W-P,te<$){if(Q.match_start=q,K<=(te=$))break;Y=ce[J+te-1],Z=ce[J+te]}}while((q=ee[q&oe])>ne&&--G!=0);return te<=Q.lookahead?te:Q.lookahead}function j(Q){var q,H,$,G,J,te,K,ne,ce,oe,ee=Q.w_size;do{if(G=Q.window_size-Q.lookahead-Q.strstart,Q.strstart>=ee+(ee-B)){for(b.arraySet(Q.window,Q.window,ee,ee,0),Q.match_start-=ee,Q.strstart-=ee,Q.block_start-=ee,q=H=Q.hash_size;$=Q.head[--q],Q.head[q]=ee<=$?$-ee:0,--H;);for(q=H=ee;$=Q.prev[--q],Q.prev[q]=ee<=$?$-ee:0,--H;);G+=ee}if(Q.strm.avail_in===0)break;if(te=Q.strm,K=Q.window,ne=Q.strstart+Q.lookahead,oe=void 0,(ce=G)<(oe=te.avail_in)&&(oe=ce),H=oe===0?0:(te.avail_in-=oe,b.arraySet(K,te.input,te.next_in,oe,ne),te.state.wrap===1?te.adler=v(te.adler,K,oe,ne):te.state.wrap===2&&(te.adler=y(te.adler,K,oe,ne)),te.next_in+=oe,te.total_in+=oe,oe),Q.lookahead+=H,Q.lookahead+Q.insert>=3)for(J=Q.strstart-Q.insert,Q.ins_h=Q.window[J],Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[J+1])&Q.hash_mask;Q.insert&&(Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[J+3-1])&Q.hash_mask,Q.prev[J&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=J,J++,Q.insert--,!(Q.lookahead+Q.insert<3)););}while(Q.lookahead<B&&Q.strm.avail_in!==0)}function N(Q,q){for(var H,$;;){if(Q.lookahead<B){if(j(Q),Q.lookahead<B&&q===0)return 1;if(Q.lookahead===0)break}if(H=0,Q.lookahead>=3&&(Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[Q.strstart+3-1])&Q.hash_mask,H=Q.prev[Q.strstart&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=Q.strstart),H!==0&&Q.strstart-H<=Q.w_size-B&&(Q.match_length=C(Q,H)),Q.match_length>=3)if($=x._tr_tally(Q,Q.strstart-Q.match_start,Q.match_length-3),Q.lookahead-=Q.match_length,Q.match_length<=Q.max_lazy_match&&Q.lookahead>=3){for(Q.match_length--;Q.strstart++,Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[Q.strstart+3-1])&Q.hash_mask,H=Q.prev[Q.strstart&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=Q.strstart,--Q.match_length!=0;);Q.strstart++}else Q.strstart+=Q.match_length,Q.match_length=0,Q.ins_h=Q.window[Q.strstart],Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[Q.strstart+1])&Q.hash_mask;else $=x._tr_tally(Q,0,Q.window[Q.strstart]),Q.lookahead--,Q.strstart++;if($&&(E(Q,!1),Q.strm.avail_out===0))return 1}return Q.insert=Q.strstart<2?Q.strstart:2,q===4?(E(Q,!0),Q.strm.avail_out===0?3:4):Q.last_lit&&(E(Q,!1),Q.strm.avail_out===0)?1:2}function I(Q,q){for(var H,$,G;;){if(Q.lookahead<B){if(j(Q),Q.lookahead<B&&q===0)return 1;if(Q.lookahead===0)break}if(H=0,Q.lookahead>=3&&(Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[Q.strstart+3-1])&Q.hash_mask,H=Q.prev[Q.strstart&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=Q.strstart),Q.prev_length=Q.match_length,Q.prev_match=Q.match_start,Q.match_length=2,H!==0&&Q.prev_length<Q.max_lazy_match&&Q.strstart-H<=Q.w_size-B&&(Q.match_length=C(Q,H),Q.match_length<=5&&(Q.strategy===1||Q.match_length===3&&4096<Q.strstart-Q.match_start)&&(Q.match_length=2)),Q.prev_length>=3&&Q.match_length<=Q.prev_length){for(G=Q.strstart+Q.lookahead-3,$=x._tr_tally(Q,Q.strstart-1-Q.prev_match,Q.prev_length-3),Q.lookahead-=Q.prev_length-1,Q.prev_length-=2;++Q.strstart<=G&&(Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[Q.strstart+3-1])&Q.hash_mask,H=Q.prev[Q.strstart&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=Q.strstart),--Q.prev_length!=0;);if(Q.match_available=0,Q.match_length=2,Q.strstart++,$&&(E(Q,!1),Q.strm.avail_out===0))return 1}else if(Q.match_available){if(($=x._tr_tally(Q,0,Q.window[Q.strstart-1]))&&E(Q,!1),Q.strstart++,Q.lookahead--,Q.strm.avail_out===0)return 1}else Q.match_available=1,Q.strstart++,Q.lookahead--}return Q.match_available&&($=x._tr_tally(Q,0,Q.window[Q.strstart-1]),Q.match_available=0),Q.insert=Q.strstart<2?Q.strstart:2,q===4?(E(Q,!0),Q.strm.avail_out===0?3:4):Q.last_lit&&(E(Q,!1),Q.strm.avail_out===0)?1:2}function R(Q,q,H,$,G){this.good_length=Q,this.max_lazy=q,this.nice_length=H,this.max_chain=$,this.func=G}function U(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new b.Buf16(1146),this.dyn_dtree=new b.Buf16(122),this.bl_tree=new b.Buf16(78),F(this.dyn_ltree),F(this.dyn_dtree),F(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new b.Buf16(16),this.heap=new b.Buf16(573),F(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new b.Buf16(573),F(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function V(Q){var q;return Q&&Q.state?(Q.total_in=Q.total_out=0,Q.data_type=2,(q=Q.state).pending=0,q.pending_out=0,q.wrap<0&&(q.wrap=-q.wrap),q.status=q.wrap?42:D,Q.adler=q.wrap===2?0:1,q.last_flush=0,x._tr_init(q),0):L(Q,M)}function z(Q){var q=V(Q);return q===0&&function(H){H.window_size=2*H.w_size,F(H.head),H.max_lazy_match=p[H.level].max_lazy,H.good_match=p[H.level].good_length,H.nice_match=p[H.level].nice_length,H.max_chain_length=p[H.level].max_chain,H.strstart=0,H.block_start=0,H.lookahead=0,H.insert=0,H.match_length=H.prev_length=2,H.match_available=0,H.ins_h=0}(Q.state),q}function X(Q,q,H,$,G,J){if(!Q)return M;var te=1;if(q===-1&&(q=6),$<0?(te=0,$=-$):15<$&&(te=2,$-=16),G<1||9<G||H!==8||$<8||15<$||q<0||9<q||J<0||4<J)return L(Q,M);$===8&&($=9);var K=new U;return(Q.state=K).strm=Q,K.wrap=te,K.gzhead=null,K.w_bits=$,K.w_size=1<<K.w_bits,K.w_mask=K.w_size-1,K.hash_bits=G+7,K.hash_size=1<<K.hash_bits,K.hash_mask=K.hash_size-1,K.hash_shift=~~((K.hash_bits+3-1)/3),K.window=new b.Buf8(2*K.w_size),K.head=new b.Buf16(K.hash_size),K.prev=new b.Buf16(K.w_size),K.lit_bufsize=1<<G+6,K.pending_buf_size=4*K.lit_bufsize,K.pending_buf=new b.Buf8(K.pending_buf_size),K.d_buf=1*K.lit_bufsize,K.l_buf=3*K.lit_bufsize,K.level=q,K.strategy=J,K.method=H,z(Q)}p=[new R(0,0,0,0,function(Q,q){var H=65535;for(H>Q.pending_buf_size-5&&(H=Q.pending_buf_size-5);;){if(Q.lookahead<=1){if(j(Q),Q.lookahead===0&&q===0)return 1;if(Q.lookahead===0)break}Q.strstart+=Q.lookahead,Q.lookahead=0;var $=Q.block_start+H;if((Q.strstart===0||Q.strstart>=$)&&(Q.lookahead=Q.strstart-$,Q.strstart=$,E(Q,!1),Q.strm.avail_out===0)||Q.strstart-Q.block_start>=Q.w_size-B&&(E(Q,!1),Q.strm.avail_out===0))return 1}return Q.insert=0,q===4?(E(Q,!0),Q.strm.avail_out===0?3:4):(Q.strstart>Q.block_start&&(E(Q,!1),Q.strm.avail_out),1)}),new R(4,4,8,4,N),new R(4,5,16,8,N),new R(4,6,32,32,N),new R(4,4,16,16,I),new R(8,16,32,32,I),new R(8,16,128,128,I),new R(8,32,128,256,I),new R(32,128,258,1024,I),new R(32,258,258,4096,I)],g.deflateInit=function(Q,q){return X(Q,q,8,15,8,0)},g.deflateInit2=X,g.deflateReset=z,g.deflateResetKeep=V,g.deflateSetHeader=function(Q,q){return Q&&Q.state?Q.state.wrap!==2?M:(Q.state.gzhead=q,0):M},g.deflate=function(Q,q){var H,$,G,J;if(!Q||!Q.state||5<q||q<0)return Q?L(Q,M):M;if($=Q.state,!Q.output||!Q.input&&Q.avail_in!==0||$.status===666&&q!==4)return L(Q,Q.avail_out===0?-5:M);if($.strm=Q,H=$.last_flush,$.last_flush=q,$.status===42)if($.wrap===2)Q.adler=0,T($,31),T($,139),T($,8),$.gzhead?(T($,($.gzhead.text?1:0)+($.gzhead.hcrc?2:0)+($.gzhead.extra?4:0)+($.gzhead.name?8:0)+($.gzhead.comment?16:0)),T($,255&$.gzhead.time),T($,$.gzhead.time>>8&255),T($,$.gzhead.time>>16&255),T($,$.gzhead.time>>24&255),T($,$.level===9?2:2<=$.strategy||$.level<2?4:0),T($,255&$.gzhead.os),$.gzhead.extra&&$.gzhead.extra.length&&(T($,255&$.gzhead.extra.length),T($,$.gzhead.extra.length>>8&255)),$.gzhead.hcrc&&(Q.adler=y(Q.adler,$.pending_buf,$.pending,0)),$.gzindex=0,$.status=69):(T($,0),T($,0),T($,0),T($,0),T($,0),T($,$.level===9?2:2<=$.strategy||$.level<2?4:0),T($,3),$.status=D);else{var te=8+($.w_bits-8<<4)<<8;te|=(2<=$.strategy||$.level<2?0:$.level<6?1:$.level===6?2:3)<<6,$.strstart!==0&&(te|=32),te+=31-te%31,$.status=D,w($,te),$.strstart!==0&&(w($,Q.adler>>>16),w($,65535&Q.adler)),Q.adler=1}if($.status===69)if($.gzhead.extra){for(G=$.pending;$.gzindex<(65535&$.gzhead.extra.length)&&($.pending!==$.pending_buf_size||($.gzhead.hcrc&&$.pending>G&&(Q.adler=y(Q.adler,$.pending_buf,$.pending-G,G)),_(Q),G=$.pending,$.pending!==$.pending_buf_size));)T($,255&$.gzhead.extra[$.gzindex]),$.gzindex++;$.gzhead.hcrc&&$.pending>G&&(Q.adler=y(Q.adler,$.pending_buf,$.pending-G,G)),$.gzindex===$.gzhead.extra.length&&($.gzindex=0,$.status=73)}else $.status=73;if($.status===73)if($.gzhead.name){G=$.pending;do{if($.pending===$.pending_buf_size&&($.gzhead.hcrc&&$.pending>G&&(Q.adler=y(Q.adler,$.pending_buf,$.pending-G,G)),_(Q),G=$.pending,$.pending===$.pending_buf_size)){J=1;break}J=$.gzindex<$.gzhead.name.length?255&$.gzhead.name.charCodeAt($.gzindex++):0,T($,J)}while(J!==0);$.gzhead.hcrc&&$.pending>G&&(Q.adler=y(Q.adler,$.pending_buf,$.pending-G,G)),J===0&&($.gzindex=0,$.status=91)}else $.status=91;if($.status===91)if($.gzhead.comment){G=$.pending;do{if($.pending===$.pending_buf_size&&($.gzhead.hcrc&&$.pending>G&&(Q.adler=y(Q.adler,$.pending_buf,$.pending-G,G)),_(Q),G=$.pending,$.pending===$.pending_buf_size)){J=1;break}J=$.gzindex<$.gzhead.comment.length?255&$.gzhead.comment.charCodeAt($.gzindex++):0,T($,J)}while(J!==0);$.gzhead.hcrc&&$.pending>G&&(Q.adler=y(Q.adler,$.pending_buf,$.pending-G,G)),J===0&&($.status=103)}else $.status=103;if($.status===103&&($.gzhead.hcrc?($.pending+2>$.pending_buf_size&&_(Q),$.pending+2<=$.pending_buf_size&&(T($,255&Q.adler),T($,Q.adler>>8&255),Q.adler=0,$.status=D)):$.status=D),$.pending!==0){if(_(Q),Q.avail_out===0)return $.last_flush=-1,0}else if(Q.avail_in===0&&O(q)<=O(H)&&q!==4)return L(Q,-5);if($.status===666&&Q.avail_in!==0)return L(Q,-5);if(Q.avail_in!==0||$.lookahead!==0||q!==0&&$.status!==666){var K=$.strategy===2?function(ne,ce){for(var oe;;){if(ne.lookahead===0&&(j(ne),ne.lookahead===0)){if(ce===0)return 1;break}if(ne.match_length=0,oe=x._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++,oe&&(E(ne,!1),ne.strm.avail_out===0))return 1}return ne.insert=0,ce===4?(E(ne,!0),ne.strm.avail_out===0?3:4):ne.last_lit&&(E(ne,!1),ne.strm.avail_out===0)?1:2}($,q):$.strategy===3?function(ne,ce){for(var oe,ee,W,Y,Z=ne.window;;){if(ne.lookahead<=P){if(j(ne),ne.lookahead<=P&&ce===0)return 1;if(ne.lookahead===0)break}if(ne.match_length=0,ne.lookahead>=3&&0<ne.strstart&&(ee=Z[W=ne.strstart-1])===Z[++W]&&ee===Z[++W]&&ee===Z[++W]){Y=ne.strstart+P;do;while(ee===Z[++W]&&ee===Z[++W]&&ee===Z[++W]&&ee===Z[++W]&&ee===Z[++W]&&ee===Z[++W]&&ee===Z[++W]&&ee===Z[++W]&&W<Y);ne.match_length=P-(Y-W),ne.match_length>ne.lookahead&&(ne.match_length=ne.lookahead)}if(ne.match_length>=3?(oe=x._tr_tally(ne,1,ne.match_length-3),ne.lookahead-=ne.match_length,ne.strstart+=ne.match_length,ne.match_length=0):(oe=x._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++),oe&&(E(ne,!1),ne.strm.avail_out===0))return 1}return ne.insert=0,ce===4?(E(ne,!0),ne.strm.avail_out===0?3:4):ne.last_lit&&(E(ne,!1),ne.strm.avail_out===0)?1:2}($,q):p[$.level].func($,q);if(K!==3&&K!==4||($.status=666),K===1||K===3)return Q.avail_out===0&&($.last_flush=-1),0;if(K===2&&(q===1?x._tr_align($):q!==5&&(x._tr_stored_block($,0,0,!1),q===3&&(F($.head),$.lookahead===0&&($.strstart=0,$.block_start=0,$.insert=0))),_(Q),Q.avail_out===0))return $.last_flush=-1,0}return q!==4?0:$.wrap<=0?1:($.wrap===2?(T($,255&Q.adler),T($,Q.adler>>8&255),T($,Q.adler>>16&255),T($,Q.adler>>24&255),T($,255&Q.total_in),T($,Q.total_in>>8&255),T($,Q.total_in>>16&255),T($,Q.total_in>>24&255)):(w($,Q.adler>>>16),w($,65535&Q.adler)),_(Q),0<$.wrap&&($.wrap=-$.wrap),$.pending!==0?0:1)},g.deflateEnd=function(Q){var q;return Q&&Q.state?(q=Q.state.status)!==42&&q!==69&&q!==73&&q!==91&&q!==103&&q!==D&&q!==666?L(Q,M):(Q.state=null,q===D?L(Q,-3):0):M},g.deflateSetDictionary=function(Q,q){var H,$,G,J,te,K,ne,ce,oe=q.length;if(!Q||!Q.state||(J=(H=Q.state).wrap)===2||J===1&&H.status!==42||H.lookahead)return M;for(J===1&&(Q.adler=v(Q.adler,q,oe,0)),H.wrap=0,oe>=H.w_size&&(J===0&&(F(H.head),H.strstart=0,H.block_start=0,H.insert=0),ce=new b.Buf8(H.w_size),b.arraySet(ce,q,oe-H.w_size,H.w_size,0),q=ce,oe=H.w_size),te=Q.avail_in,K=Q.next_in,ne=Q.input,Q.avail_in=oe,Q.next_in=0,Q.input=q,j(H);H.lookahead>=3;){for($=H.strstart,G=H.lookahead-2;H.ins_h=(H.ins_h<<H.hash_shift^H.window[$+3-1])&H.hash_mask,H.prev[$&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=$,$++,--G;);H.strstart=$,H.lookahead=2,j(H)}return H.strstart+=H.lookahead,H.block_start=H.strstart,H.insert=H.lookahead,H.lookahead=0,H.match_length=H.prev_length=2,H.match_available=0,Q.next_in=K,Q.input=ne,Q.avail_in=te,H.wrap=J,0},g.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(m,A,g){A.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(m,A,g){A.exports=function(p,b){var x,v,y,S,M,P,B,D,L,O,F,_,E,T,w,C,j,N,I,R,U,V,z,X,Q;x=p.state,v=p.next_in,X=p.input,y=v+(p.avail_in-5),S=p.next_out,Q=p.output,M=S-(b-p.avail_out),P=S+(p.avail_out-257),B=x.dmax,D=x.wsize,L=x.whave,O=x.wnext,F=x.window,_=x.hold,E=x.bits,T=x.lencode,w=x.distcode,C=(1<<x.lenbits)-1,j=(1<<x.distbits)-1;e:do{E<15&&(_+=X[v++]<<E,E+=8,_+=X[v++]<<E,E+=8),N=T[_&C];t:for(;;){if(_>>>=I=N>>>24,E-=I,(I=N>>>16&255)==0)Q[S++]=65535&N;else{if(!(16&I)){if(!(64&I)){N=T[(65535&N)+(_&(1<<I)-1)];continue t}if(32&I){x.mode=12;break e}p.msg="invalid literal/length code",x.mode=30;break e}R=65535&N,(I&=15)&&(E<I&&(_+=X[v++]<<E,E+=8),R+=_&(1<<I)-1,_>>>=I,E-=I),E<15&&(_+=X[v++]<<E,E+=8,_+=X[v++]<<E,E+=8),N=w[_&j];n:for(;;){if(_>>>=I=N>>>24,E-=I,!(16&(I=N>>>16&255))){if(!(64&I)){N=w[(65535&N)+(_&(1<<I)-1)];continue n}p.msg="invalid distance code",x.mode=30;break e}if(U=65535&N,E<(I&=15)&&(_+=X[v++]<<E,(E+=8)<I&&(_+=X[v++]<<E,E+=8)),B<(U+=_&(1<<I)-1)){p.msg="invalid distance too far back",x.mode=30;break e}if(_>>>=I,E-=I,(I=S-M)<U){if(L<(I=U-I)&&x.sane){p.msg="invalid distance too far back",x.mode=30;break e}if(z=F,(V=0)===O){if(V+=D-I,I<R){for(R-=I;Q[S++]=F[V++],--I;);V=S-U,z=Q}}else if(O<I){if(V+=D+O-I,(I-=O)<R){for(R-=I;Q[S++]=F[V++],--I;);if(V=0,O<R){for(R-=I=O;Q[S++]=F[V++],--I;);V=S-U,z=Q}}}else if(V+=O-I,I<R){for(R-=I;Q[S++]=F[V++],--I;);V=S-U,z=Q}for(;2<R;)Q[S++]=z[V++],Q[S++]=z[V++],Q[S++]=z[V++],R-=3;R&&(Q[S++]=z[V++],1<R&&(Q[S++]=z[V++]))}else{for(V=S-U;Q[S++]=Q[V++],Q[S++]=Q[V++],Q[S++]=Q[V++],2<(R-=3););R&&(Q[S++]=Q[V++],1<R&&(Q[S++]=Q[V++]))}break}}break}}while(v<y&&S<P);v-=R=E>>3,_&=(1<<(E-=R<<3))-1,p.next_in=v,p.next_out=S,p.avail_in=v<y?y-v+5:5-(v-y),p.avail_out=S<P?P-S+257:257-(S-P),x.hold=_,x.bits=E}},{}],49:[function(m,A,g){var p=m("../utils/common"),b=m("./adler32"),x=m("./crc32"),v=m("./inffast"),y=m("./inftrees"),S=-2;function M(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function P(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new p.Buf16(320),this.work=new p.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function B(C){var j;return C&&C.state?(j=C.state,C.total_in=C.total_out=j.total=0,C.msg="",j.wrap&&(C.adler=1&j.wrap),j.mode=1,j.last=0,j.havedict=0,j.dmax=32768,j.head=null,j.hold=0,j.bits=0,j.lencode=j.lendyn=new p.Buf32(852),j.distcode=j.distdyn=new p.Buf32(592),j.sane=1,j.back=-1,0):S}function D(C){var j;return C&&C.state?((j=C.state).wsize=0,j.whave=0,j.wnext=0,B(C)):S}function L(C,j){var N,I;return C&&C.state?(I=C.state,j<0?(N=0,j=-j):(N=1+(j>>4),j<48&&(j&=15)),j&&(j<8||15<j)?S:(I.window!==null&&I.wbits!==j&&(I.window=null),I.wrap=N,I.wbits=j,D(C))):S}function O(C,j){var N,I;return C?(I=new P,(C.state=I).window=null,(N=L(C,j))!==0&&(C.state=null),N):S}var F,_,E=!0;function T(C){if(E){var j;for(F=new p.Buf32(512),_=new p.Buf32(32),j=0;j<144;)C.lens[j++]=8;for(;j<256;)C.lens[j++]=9;for(;j<280;)C.lens[j++]=7;for(;j<288;)C.lens[j++]=8;for(y(1,C.lens,0,288,F,0,C.work,{bits:9}),j=0;j<32;)C.lens[j++]=5;y(2,C.lens,0,32,_,0,C.work,{bits:5}),E=!1}C.lencode=F,C.lenbits=9,C.distcode=_,C.distbits=5}function w(C,j,N,I){var R,U=C.state;return U.window===null&&(U.wsize=1<<U.wbits,U.wnext=0,U.whave=0,U.window=new p.Buf8(U.wsize)),I>=U.wsize?(p.arraySet(U.window,j,N-U.wsize,U.wsize,0),U.wnext=0,U.whave=U.wsize):(I<(R=U.wsize-U.wnext)&&(R=I),p.arraySet(U.window,j,N-I,R,U.wnext),(I-=R)?(p.arraySet(U.window,j,N-I,I,0),U.wnext=I,U.whave=U.wsize):(U.wnext+=R,U.wnext===U.wsize&&(U.wnext=0),U.whave<U.wsize&&(U.whave+=R))),0}g.inflateReset=D,g.inflateReset2=L,g.inflateResetKeep=B,g.inflateInit=function(C){return O(C,15)},g.inflateInit2=O,g.inflate=function(C,j){var N,I,R,U,V,z,X,Q,q,H,$,G,J,te,K,ne,ce,oe,ee,W,Y,Z,se,re,le=0,ae=new p.Buf8(4),ue=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return S;(N=C.state).mode===12&&(N.mode=13),V=C.next_out,R=C.output,X=C.avail_out,U=C.next_in,I=C.input,z=C.avail_in,Q=N.hold,q=N.bits,H=z,$=X,Z=0;e:for(;;)switch(N.mode){case 1:if(N.wrap===0){N.mode=13;break}for(;q<16;){if(z===0)break e;z--,Q+=I[U++]<<q,q+=8}if(2&N.wrap&&Q===35615){ae[N.check=0]=255&Q,ae[1]=Q>>>8&255,N.check=x(N.check,ae,2,0),q=Q=0,N.mode=2;break}if(N.flags=0,N.head&&(N.head.done=!1),!(1&N.wrap)||(((255&Q)<<8)+(Q>>8))%31){C.msg="incorrect header check",N.mode=30;break}if((15&Q)!=8){C.msg="unknown compression method",N.mode=30;break}if(q-=4,Y=8+(15&(Q>>>=4)),N.wbits===0)N.wbits=Y;else if(Y>N.wbits){C.msg="invalid window size",N.mode=30;break}N.dmax=1<<Y,C.adler=N.check=1,N.mode=512&Q?10:12,q=Q=0;break;case 2:for(;q<16;){if(z===0)break e;z--,Q+=I[U++]<<q,q+=8}if(N.flags=Q,(255&N.flags)!=8){C.msg="unknown compression method",N.mode=30;break}if(57344&N.flags){C.msg="unknown header flags set",N.mode=30;break}N.head&&(N.head.text=Q>>8&1),512&N.flags&&(ae[0]=255&Q,ae[1]=Q>>>8&255,N.check=x(N.check,ae,2,0)),q=Q=0,N.mode=3;case 3:for(;q<32;){if(z===0)break e;z--,Q+=I[U++]<<q,q+=8}N.head&&(N.head.time=Q),512&N.flags&&(ae[0]=255&Q,ae[1]=Q>>>8&255,ae[2]=Q>>>16&255,ae[3]=Q>>>24&255,N.check=x(N.check,ae,4,0)),q=Q=0,N.mode=4;case 4:for(;q<16;){if(z===0)break e;z--,Q+=I[U++]<<q,q+=8}N.head&&(N.head.xflags=255&Q,N.head.os=Q>>8),512&N.flags&&(ae[0]=255&Q,ae[1]=Q>>>8&255,N.check=x(N.check,ae,2,0)),q=Q=0,N.mode=5;case 5:if(1024&N.flags){for(;q<16;){if(z===0)break e;z--,Q+=I[U++]<<q,q+=8}N.length=Q,N.head&&(N.head.extra_len=Q),512&N.flags&&(ae[0]=255&Q,ae[1]=Q>>>8&255,N.check=x(N.check,ae,2,0)),q=Q=0}else N.head&&(N.head.extra=null);N.mode=6;case 6:if(1024&N.flags&&(z<(G=N.length)&&(G=z),G&&(N.head&&(Y=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),p.arraySet(N.head.extra,I,U,G,Y)),512&N.flags&&(N.check=x(N.check,I,G,U)),z-=G,U+=G,N.length-=G),N.length))break e;N.length=0,N.mode=7;case 7:if(2048&N.flags){if(z===0)break e;for(G=0;Y=I[U+G++],N.head&&Y&&N.length<65536&&(N.head.name+=String.fromCharCode(Y)),Y&&G<z;);if(512&N.flags&&(N.check=x(N.check,I,G,U)),z-=G,U+=G,Y)break e}else N.head&&(N.head.name=null);N.length=0,N.mode=8;case 8:if(4096&N.flags){if(z===0)break e;for(G=0;Y=I[U+G++],N.head&&Y&&N.length<65536&&(N.head.comment+=String.fromCharCode(Y)),Y&&G<z;);if(512&N.flags&&(N.check=x(N.check,I,G,U)),z-=G,U+=G,Y)break e}else N.head&&(N.head.comment=null);N.mode=9;case 9:if(512&N.flags){for(;q<16;){if(z===0)break e;z--,Q+=I[U++]<<q,q+=8}if(Q!==(65535&N.check)){C.msg="header crc mismatch",N.mode=30;break}q=Q=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),C.adler=N.check=0,N.mode=12;break;case 10:for(;q<32;){if(z===0)break e;z--,Q+=I[U++]<<q,q+=8}C.adler=N.check=M(Q),q=Q=0,N.mode=11;case 11:if(N.havedict===0)return C.next_out=V,C.avail_out=X,C.next_in=U,C.avail_in=z,N.hold=Q,N.bits=q,2;C.adler=N.check=1,N.mode=12;case 12:if(j===5||j===6)break e;case 13:if(N.last){Q>>>=7&q,q-=7&q,N.mode=27;break}for(;q<3;){if(z===0)break e;z--,Q+=I[U++]<<q,q+=8}switch(N.last=1&Q,q-=1,3&(Q>>>=1)){case 0:N.mode=14;break;case 1:if(T(N),N.mode=20,j!==6)break;Q>>>=2,q-=2;break e;case 2:N.mode=17;break;case 3:C.msg="invalid block type",N.mode=30}Q>>>=2,q-=2;break;case 14:for(Q>>>=7&q,q-=7&q;q<32;){if(z===0)break e;z--,Q+=I[U++]<<q,q+=8}if((65535&Q)!=(Q>>>16^65535)){C.msg="invalid stored block lengths",N.mode=30;break}if(N.length=65535&Q,q=Q=0,N.mode=15,j===6)break e;case 15:N.mode=16;case 16:if(G=N.length){if(z<G&&(G=z),X<G&&(G=X),G===0)break e;p.arraySet(R,I,U,G,V),z-=G,U+=G,X-=G,V+=G,N.length-=G;break}N.mode=12;break;case 17:for(;q<14;){if(z===0)break e;z--,Q+=I[U++]<<q,q+=8}if(N.nlen=257+(31&Q),Q>>>=5,q-=5,N.ndist=1+(31&Q),Q>>>=5,q-=5,N.ncode=4+(15&Q),Q>>>=4,q-=4,286<N.nlen||30<N.ndist){C.msg="too many length or distance symbols",N.mode=30;break}N.have=0,N.mode=18;case 18:for(;N.have<N.ncode;){for(;q<3;){if(z===0)break e;z--,Q+=I[U++]<<q,q+=8}N.lens[ue[N.have++]]=7&Q,Q>>>=3,q-=3}for(;N.have<19;)N.lens[ue[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,se={bits:N.lenbits},Z=y(0,N.lens,0,19,N.lencode,0,N.work,se),N.lenbits=se.bits,Z){C.msg="invalid code lengths set",N.mode=30;break}N.have=0,N.mode=19;case 19:for(;N.have<N.nlen+N.ndist;){for(;ne=(le=N.lencode[Q&(1<<N.lenbits)-1])>>>16&255,ce=65535&le,!((K=le>>>24)<=q);){if(z===0)break e;z--,Q+=I[U++]<<q,q+=8}if(ce<16)Q>>>=K,q-=K,N.lens[N.have++]=ce;else{if(ce===16){for(re=K+2;q<re;){if(z===0)break e;z--,Q+=I[U++]<<q,q+=8}if(Q>>>=K,q-=K,N.have===0){C.msg="invalid bit length repeat",N.mode=30;break}Y=N.lens[N.have-1],G=3+(3&Q),Q>>>=2,q-=2}else if(ce===17){for(re=K+3;q<re;){if(z===0)break e;z--,Q+=I[U++]<<q,q+=8}q-=K,Y=0,G=3+(7&(Q>>>=K)),Q>>>=3,q-=3}else{for(re=K+7;q<re;){if(z===0)break e;z--,Q+=I[U++]<<q,q+=8}q-=K,Y=0,G=11+(127&(Q>>>=K)),Q>>>=7,q-=7}if(N.have+G>N.nlen+N.ndist){C.msg="invalid bit length repeat",N.mode=30;break}for(;G--;)N.lens[N.have++]=Y}}if(N.mode===30)break;if(N.lens[256]===0){C.msg="invalid code -- missing end-of-block",N.mode=30;break}if(N.lenbits=9,se={bits:N.lenbits},Z=y(1,N.lens,0,N.nlen,N.lencode,0,N.work,se),N.lenbits=se.bits,Z){C.msg="invalid literal/lengths set",N.mode=30;break}if(N.distbits=6,N.distcode=N.distdyn,se={bits:N.distbits},Z=y(2,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,se),N.distbits=se.bits,Z){C.msg="invalid distances set",N.mode=30;break}if(N.mode=20,j===6)break e;case 20:N.mode=21;case 21:if(6<=z&&258<=X){C.next_out=V,C.avail_out=X,C.next_in=U,C.avail_in=z,N.hold=Q,N.bits=q,v(C,$),V=C.next_out,R=C.output,X=C.avail_out,U=C.next_in,I=C.input,z=C.avail_in,Q=N.hold,q=N.bits,N.mode===12&&(N.back=-1);break}for(N.back=0;ne=(le=N.lencode[Q&(1<<N.lenbits)-1])>>>16&255,ce=65535&le,!((K=le>>>24)<=q);){if(z===0)break e;z--,Q+=I[U++]<<q,q+=8}if(ne&&!(240&ne)){for(oe=K,ee=ne,W=ce;ne=(le=N.lencode[W+((Q&(1<<oe+ee)-1)>>oe)])>>>16&255,ce=65535&le,!(oe+(K=le>>>24)<=q);){if(z===0)break e;z--,Q+=I[U++]<<q,q+=8}Q>>>=oe,q-=oe,N.back+=oe}if(Q>>>=K,q-=K,N.back+=K,N.length=ce,ne===0){N.mode=26;break}if(32&ne){N.back=-1,N.mode=12;break}if(64&ne){C.msg="invalid literal/length code",N.mode=30;break}N.extra=15&ne,N.mode=22;case 22:if(N.extra){for(re=N.extra;q<re;){if(z===0)break e;z--,Q+=I[U++]<<q,q+=8}N.length+=Q&(1<<N.extra)-1,Q>>>=N.extra,q-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=23;case 23:for(;ne=(le=N.distcode[Q&(1<<N.distbits)-1])>>>16&255,ce=65535&le,!((K=le>>>24)<=q);){if(z===0)break e;z--,Q+=I[U++]<<q,q+=8}if(!(240&ne)){for(oe=K,ee=ne,W=ce;ne=(le=N.distcode[W+((Q&(1<<oe+ee)-1)>>oe)])>>>16&255,ce=65535&le,!(oe+(K=le>>>24)<=q);){if(z===0)break e;z--,Q+=I[U++]<<q,q+=8}Q>>>=oe,q-=oe,N.back+=oe}if(Q>>>=K,q-=K,N.back+=K,64&ne){C.msg="invalid distance code",N.mode=30;break}N.offset=ce,N.extra=15&ne,N.mode=24;case 24:if(N.extra){for(re=N.extra;q<re;){if(z===0)break e;z--,Q+=I[U++]<<q,q+=8}N.offset+=Q&(1<<N.extra)-1,Q>>>=N.extra,q-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){C.msg="invalid distance too far back",N.mode=30;break}N.mode=25;case 25:if(X===0)break e;if(G=$-X,N.offset>G){if((G=N.offset-G)>N.whave&&N.sane){C.msg="invalid distance too far back",N.mode=30;break}J=G>N.wnext?(G-=N.wnext,N.wsize-G):N.wnext-G,G>N.length&&(G=N.length),te=N.window}else te=R,J=V-N.offset,G=N.length;for(X<G&&(G=X),X-=G,N.length-=G;R[V++]=te[J++],--G;);N.length===0&&(N.mode=21);break;case 26:if(X===0)break e;R[V++]=N.length,X--,N.mode=21;break;case 27:if(N.wrap){for(;q<32;){if(z===0)break e;z--,Q|=I[U++]<<q,q+=8}if($-=X,C.total_out+=$,N.total+=$,$&&(C.adler=N.check=N.flags?x(N.check,R,$,V-$):b(N.check,R,$,V-$)),$=X,(N.flags?Q:M(Q))!==N.check){C.msg="incorrect data check",N.mode=30;break}q=Q=0}N.mode=28;case 28:if(N.wrap&&N.flags){for(;q<32;){if(z===0)break e;z--,Q+=I[U++]<<q,q+=8}if(Q!==(4294967295&N.total)){C.msg="incorrect length check",N.mode=30;break}q=Q=0}N.mode=29;case 29:Z=1;break e;case 30:Z=-3;break e;case 31:return-4;case 32:default:return S}return C.next_out=V,C.avail_out=X,C.next_in=U,C.avail_in=z,N.hold=Q,N.bits=q,(N.wsize||$!==C.avail_out&&N.mode<30&&(N.mode<27||j!==4))&&w(C,C.output,C.next_out,$-C.avail_out)?(N.mode=31,-4):(H-=C.avail_in,$-=C.avail_out,C.total_in+=H,C.total_out+=$,N.total+=$,N.wrap&&$&&(C.adler=N.check=N.flags?x(N.check,R,$,C.next_out-$):b(N.check,R,$,C.next_out-$)),C.data_type=N.bits+(N.last?64:0)+(N.mode===12?128:0)+(N.mode===20||N.mode===15?256:0),(H==0&&$===0||j===4)&&Z===0&&(Z=-5),Z)},g.inflateEnd=function(C){if(!C||!C.state)return S;var j=C.state;return j.window&&(j.window=null),C.state=null,0},g.inflateGetHeader=function(C,j){var N;return C&&C.state&&2&(N=C.state).wrap?((N.head=j).done=!1,0):S},g.inflateSetDictionary=function(C,j){var N,I=j.length;return C&&C.state?(N=C.state).wrap!==0&&N.mode!==11?S:N.mode===11&&b(1,j,I,0)!==N.check?-3:w(C,j,I,I)?(N.mode=31,-4):(N.havedict=1,0):S},g.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(m,A,g){var p=m("../utils/common"),b=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],x=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],v=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],y=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];A.exports=function(S,M,P,B,D,L,O,F){var _,E,T,w,C,j,N,I,R,U=F.bits,V=0,z=0,X=0,Q=0,q=0,H=0,$=0,G=0,J=0,te=0,K=null,ne=0,ce=new p.Buf16(16),oe=new p.Buf16(16),ee=null,W=0;for(V=0;V<=15;V++)ce[V]=0;for(z=0;z<B;z++)ce[M[P+z]]++;for(q=U,Q=15;1<=Q&&ce[Q]===0;Q--);if(Q<q&&(q=Q),Q===0)return D[L++]=20971520,D[L++]=20971520,F.bits=1,0;for(X=1;X<Q&&ce[X]===0;X++);for(q<X&&(q=X),V=G=1;V<=15;V++)if(G<<=1,(G-=ce[V])<0)return-1;if(0<G&&(S===0||Q!==1))return-1;for(oe[1]=0,V=1;V<15;V++)oe[V+1]=oe[V]+ce[V];for(z=0;z<B;z++)M[P+z]!==0&&(O[oe[M[P+z]]++]=z);if(j=S===0?(K=ee=O,19):S===1?(K=b,ne-=257,ee=x,W-=257,256):(K=v,ee=y,-1),V=X,C=L,$=z=te=0,T=-1,w=(J=1<<(H=q))-1,S===1&&852<J||S===2&&592<J)return 1;for(;;){for(N=V-$,R=O[z]<j?(I=0,O[z]):O[z]>j?(I=ee[W+O[z]],K[ne+O[z]]):(I=96,0),_=1<<V-$,X=E=1<<H;D[C+(te>>$)+(E-=_)]=N<<24|I<<16|R|0,E!==0;);for(_=1<<V-1;te&_;)_>>=1;if(_!==0?(te&=_-1,te+=_):te=0,z++,--ce[V]==0){if(V===Q)break;V=M[P+O[z]]}if(q<V&&(te&w)!==T){for($===0&&($=q),C+=X,G=1<<(H=V-$);H+$<Q&&!((G-=ce[H+$])<=0);)H++,G<<=1;if(J+=1<<H,S===1&&852<J||S===2&&592<J)return 1;D[T=te&w]=q<<24|H<<16|C-L|0}}return te!==0&&(D[C+te]=V-$<<24|64<<16|0),F.bits=q,0}},{"../utils/common":41}],51:[function(m,A,g){A.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(m,A,g){var p=m("../utils/common");function b(ee){for(var W=ee.length;0<=--W;)ee[W]=0}var x=256,v=286,y=30,S=15,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=new Array(576);b(L);var O=new Array(60);b(O);var F=new Array(512);b(F);var _=new Array(256);b(_);var E=new Array(29);b(E);var T,w,C,j=new Array(y);function N(ee,W,Y,Z,se){this.static_tree=ee,this.extra_bits=W,this.extra_base=Y,this.elems=Z,this.max_length=se,this.has_stree=ee&&ee.length}function I(ee,W){this.dyn_tree=ee,this.max_code=0,this.stat_desc=W}function R(ee){return ee<256?F[ee]:F[256+(ee>>>7)]}function U(ee,W){ee.pending_buf[ee.pending++]=255&W,ee.pending_buf[ee.pending++]=W>>>8&255}function V(ee,W,Y){ee.bi_valid>16-Y?(ee.bi_buf|=W<<ee.bi_valid&65535,U(ee,ee.bi_buf),ee.bi_buf=W>>16-ee.bi_valid,ee.bi_valid+=Y-16):(ee.bi_buf|=W<<ee.bi_valid&65535,ee.bi_valid+=Y)}function z(ee,W,Y){V(ee,Y[2*W],Y[2*W+1])}function X(ee,W){for(var Y=0;Y|=1&ee,ee>>>=1,Y<<=1,0<--W;);return Y>>>1}function Q(ee,W,Y){var Z,se,re=new Array(16),le=0;for(Z=1;Z<=S;Z++)re[Z]=le=le+Y[Z-1]<<1;for(se=0;se<=W;se++){var ae=ee[2*se+1];ae!==0&&(ee[2*se]=X(re[ae]++,ae))}}function q(ee){var W;for(W=0;W<v;W++)ee.dyn_ltree[2*W]=0;for(W=0;W<y;W++)ee.dyn_dtree[2*W]=0;for(W=0;W<19;W++)ee.bl_tree[2*W]=0;ee.dyn_ltree[512]=1,ee.opt_len=ee.static_len=0,ee.last_lit=ee.matches=0}function H(ee){8<ee.bi_valid?U(ee,ee.bi_buf):0<ee.bi_valid&&(ee.pending_buf[ee.pending++]=ee.bi_buf),ee.bi_buf=0,ee.bi_valid=0}function $(ee,W,Y,Z){var se=2*W,re=2*Y;return ee[se]<ee[re]||ee[se]===ee[re]&&Z[W]<=Z[Y]}function G(ee,W,Y){for(var Z=ee.heap[Y],se=Y<<1;se<=ee.heap_len&&(se<ee.heap_len&&$(W,ee.heap[se+1],ee.heap[se],ee.depth)&&se++,!$(W,Z,ee.heap[se],ee.depth));)ee.heap[Y]=ee.heap[se],Y=se,se<<=1;ee.heap[Y]=Z}function J(ee,W,Y){var Z,se,re,le,ae=0;if(ee.last_lit!==0)for(;Z=ee.pending_buf[ee.d_buf+2*ae]<<8|ee.pending_buf[ee.d_buf+2*ae+1],se=ee.pending_buf[ee.l_buf+ae],ae++,Z===0?z(ee,se,W):(z(ee,(re=_[se])+x+1,W),(le=M[re])!==0&&V(ee,se-=E[re],le),z(ee,re=R(--Z),Y),(le=P[re])!==0&&V(ee,Z-=j[re],le)),ae<ee.last_lit;);z(ee,256,W)}function te(ee,W){var Y,Z,se,re=W.dyn_tree,le=W.stat_desc.static_tree,ae=W.stat_desc.has_stree,ue=W.stat_desc.elems,he=-1;for(ee.heap_len=0,ee.heap_max=573,Y=0;Y<ue;Y++)re[2*Y]!==0?(ee.heap[++ee.heap_len]=he=Y,ee.depth[Y]=0):re[2*Y+1]=0;for(;ee.heap_len<2;)re[2*(se=ee.heap[++ee.heap_len]=he<2?++he:0)]=1,ee.depth[se]=0,ee.opt_len--,ae&&(ee.static_len-=le[2*se+1]);for(W.max_code=he,Y=ee.heap_len>>1;1<=Y;Y--)G(ee,re,Y);for(se=ue;Y=ee.heap[1],ee.heap[1]=ee.heap[ee.heap_len--],G(ee,re,1),Z=ee.heap[1],ee.heap[--ee.heap_max]=Y,ee.heap[--ee.heap_max]=Z,re[2*se]=re[2*Y]+re[2*Z],ee.depth[se]=(ee.depth[Y]>=ee.depth[Z]?ee.depth[Y]:ee.depth[Z])+1,re[2*Y+1]=re[2*Z+1]=se,ee.heap[1]=se++,G(ee,re,1),2<=ee.heap_len;);ee.heap[--ee.heap_max]=ee.heap[1],function(pe,Ae){var ie,de,me,ve,Me,Be,xe=Ae.dyn_tree,Te=Ae.max_code,_e=Ae.stat_desc.static_tree,Pe=Ae.stat_desc.has_stree,be=Ae.stat_desc.extra_bits,Ee=Ae.stat_desc.extra_base,ge=Ae.stat_desc.max_length,Se=0;for(ve=0;ve<=S;ve++)pe.bl_count[ve]=0;for(xe[2*pe.heap[pe.heap_max]+1]=0,ie=pe.heap_max+1;ie<573;ie++)ge<(ve=xe[2*xe[2*(de=pe.heap[ie])+1]+1]+1)&&(ve=ge,Se++),xe[2*de+1]=ve,Te<de||(pe.bl_count[ve]++,Me=0,Ee<=de&&(Me=be[de-Ee]),Be=xe[2*de],pe.opt_len+=Be*(ve+Me),Pe&&(pe.static_len+=Be*(_e[2*de+1]+Me)));if(Se!==0){do{for(ve=ge-1;pe.bl_count[ve]===0;)ve--;pe.bl_count[ve]--,pe.bl_count[ve+1]+=2,pe.bl_count[ge]--,Se-=2}while(0<Se);for(ve=ge;ve!==0;ve--)for(de=pe.bl_count[ve];de!==0;)Te<(me=pe.heap[--ie])||(xe[2*me+1]!==ve&&(pe.opt_len+=(ve-xe[2*me+1])*xe[2*me],xe[2*me+1]=ve),de--)}}(ee,W),Q(re,he,ee.bl_count)}function K(ee,W,Y){var Z,se,re=-1,le=W[1],ae=0,ue=7,he=4;for(le===0&&(ue=138,he=3),W[2*(Y+1)+1]=65535,Z=0;Z<=Y;Z++)se=le,le=W[2*(Z+1)+1],++ae<ue&&se===le||(ae<he?ee.bl_tree[2*se]+=ae:se!==0?(se!==re&&ee.bl_tree[2*se]++,ee.bl_tree[32]++):ae<=10?ee.bl_tree[34]++:ee.bl_tree[36]++,re=se,he=(ae=0)===le?(ue=138,3):se===le?(ue=6,3):(ue=7,4))}function ne(ee,W,Y){var Z,se,re=-1,le=W[1],ae=0,ue=7,he=4;for(le===0&&(ue=138,he=3),Z=0;Z<=Y;Z++)if(se=le,le=W[2*(Z+1)+1],!(++ae<ue&&se===le)){if(ae<he)for(;z(ee,se,ee.bl_tree),--ae!=0;);else se!==0?(se!==re&&(z(ee,se,ee.bl_tree),ae--),z(ee,16,ee.bl_tree),V(ee,ae-3,2)):ae<=10?(z(ee,17,ee.bl_tree),V(ee,ae-3,3)):(z(ee,18,ee.bl_tree),V(ee,ae-11,7));re=se,he=(ae=0)===le?(ue=138,3):se===le?(ue=6,3):(ue=7,4)}}b(j);var ce=!1;function oe(ee,W,Y,Z){V(ee,0+(Z?1:0),3),function(se,re,le,ae){H(se),U(se,le),U(se,~le),p.arraySet(se.pending_buf,se.window,re,le,se.pending),se.pending+=le}(ee,W,Y)}g._tr_init=function(ee){ce||(function(){var W,Y,Z,se,re,le=new Array(16);for(se=Z=0;se<28;se++)for(E[se]=Z,W=0;W<1<<M[se];W++)_[Z++]=se;for(_[Z-1]=se,se=re=0;se<16;se++)for(j[se]=re,W=0;W<1<<P[se];W++)F[re++]=se;for(re>>=7;se<y;se++)for(j[se]=re<<7,W=0;W<1<<P[se]-7;W++)F[256+re++]=se;for(Y=0;Y<=S;Y++)le[Y]=0;for(W=0;W<=143;)L[2*W+1]=8,W++,le[8]++;for(;W<=255;)L[2*W+1]=9,W++,le[9]++;for(;W<=279;)L[2*W+1]=7,W++,le[7]++;for(;W<=287;)L[2*W+1]=8,W++,le[8]++;for(Q(L,287,le),W=0;W<y;W++)O[2*W+1]=5,O[2*W]=X(W,5);T=new N(L,M,257,v,S),w=new N(O,P,0,y,S),C=new N(new Array(0),B,0,19,7)}(),ce=!0),ee.l_desc=new I(ee.dyn_ltree,T),ee.d_desc=new I(ee.dyn_dtree,w),ee.bl_desc=new I(ee.bl_tree,C),ee.bi_buf=0,ee.bi_valid=0,q(ee)},g._tr_stored_block=oe,g._tr_flush_block=function(ee,W,Y,Z){var se,re,le=0;0<ee.level?(ee.strm.data_type===2&&(ee.strm.data_type=function(ae){var ue,he=4093624447;for(ue=0;ue<=31;ue++,he>>>=1)if(1&he&&ae.dyn_ltree[2*ue]!==0)return 0;if(ae.dyn_ltree[18]!==0||ae.dyn_ltree[20]!==0||ae.dyn_ltree[26]!==0)return 1;for(ue=32;ue<x;ue++)if(ae.dyn_ltree[2*ue]!==0)return 1;return 0}(ee)),te(ee,ee.l_desc),te(ee,ee.d_desc),le=function(ae){var ue;for(K(ae,ae.dyn_ltree,ae.l_desc.max_code),K(ae,ae.dyn_dtree,ae.d_desc.max_code),te(ae,ae.bl_desc),ue=18;3<=ue&&ae.bl_tree[2*D[ue]+1]===0;ue--);return ae.opt_len+=3*(ue+1)+5+5+4,ue}(ee),se=ee.opt_len+3+7>>>3,(re=ee.static_len+3+7>>>3)<=se&&(se=re)):se=re=Y+5,Y+4<=se&&W!==-1?oe(ee,W,Y,Z):ee.strategy===4||re===se?(V(ee,2+(Z?1:0),3),J(ee,L,O)):(V(ee,4+(Z?1:0),3),function(ae,ue,he,pe){var Ae;for(V(ae,ue-257,5),V(ae,he-1,5),V(ae,pe-4,4),Ae=0;Ae<pe;Ae++)V(ae,ae.bl_tree[2*D[Ae]+1],3);ne(ae,ae.dyn_ltree,ue-1),ne(ae,ae.dyn_dtree,he-1)}(ee,ee.l_desc.max_code+1,ee.d_desc.max_code+1,le+1),J(ee,ee.dyn_ltree,ee.dyn_dtree)),q(ee),Z&&H(ee)},g._tr_tally=function(ee,W,Y){return ee.pending_buf[ee.d_buf+2*ee.last_lit]=W>>>8&255,ee.pending_buf[ee.d_buf+2*ee.last_lit+1]=255&W,ee.pending_buf[ee.l_buf+ee.last_lit]=255&Y,ee.last_lit++,W===0?ee.dyn_ltree[2*Y]++:(ee.matches++,W--,ee.dyn_ltree[2*(_[Y]+x+1)]++,ee.dyn_dtree[2*R(W)]++),ee.last_lit===ee.lit_bufsize-1},g._tr_align=function(ee){V(ee,2,3),z(ee,256,L),function(W){W.bi_valid===16?(U(W,W.bi_buf),W.bi_buf=0,W.bi_valid=0):8<=W.bi_valid&&(W.pending_buf[W.pending++]=255&W.bi_buf,W.bi_buf>>=8,W.bi_valid-=8)}(ee)}},{"../utils/common":41}],53:[function(m,A,g){A.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(m,A,g){(function(p){(function(b,x){if(!b.setImmediate){var v,y,S,M,P=1,B={},D=!1,L=b.document,O=Object.getPrototypeOf&&Object.getPrototypeOf(b);O=O&&O.setTimeout?O:b,v={}.toString.call(b.process)==="[object process]"?function(T){i.nextTick(function(){_(T)})}:function(){if(b.postMessage&&!b.importScripts){var T=!0,w=b.onmessage;return b.onmessage=function(){T=!1},b.postMessage("","*"),b.onmessage=w,T}}()?(M="setImmediate$"+Math.random()+"$",b.addEventListener?b.addEventListener("message",E,!1):b.attachEvent("onmessage",E),function(T){b.postMessage(M+T,"*")}):b.MessageChannel?((S=new MessageChannel).port1.onmessage=function(T){_(T.data)},function(T){S.port2.postMessage(T)}):L&&"onreadystatechange"in L.createElement("script")?(y=L.documentElement,function(T){var w=L.createElement("script");w.onreadystatechange=function(){_(T),w.onreadystatechange=null,y.removeChild(w),w=null},y.appendChild(w)}):function(T){setTimeout(_,0,T)},O.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var w=new Array(arguments.length-1),C=0;C<w.length;C++)w[C]=arguments[C+1];var j={callback:T,args:w};return B[P]=j,v(P),P++},O.clearImmediate=F}function F(T){delete B[T]}function _(T){if(D)setTimeout(_,0,T);else{var w=B[T];if(w){D=!0;try{(function(C){var j=C.callback,N=C.args;switch(N.length){case 0:j();break;case 1:j(N[0]);break;case 2:j(N[0],N[1]);break;case 3:j(N[0],N[1],N[2]);break;default:j.apply(void 0,N)}})(w)}finally{F(T),D=!1}}}}function E(T){T.source===b&&typeof T.data=="string"&&T.data.indexOf(M)===0&&_(+T.data.slice(M.length))}})(typeof self>"u"?p===void 0?this:p:self)}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,e("_process"),typeof an<"u"?an:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,s,a){(function(i){(function(){var o=/[\\^$.*+?()[\]{}|]/g,c=RegExp(o.source),l=typeof i=="object"&&i&&i.Object===Object&&i,d=typeof self=="object"&&self&&self.Object===Object&&self,u=l||d||Function("return this")(),f=Object.prototype.toString,h=u.Symbol,m=h?h.prototype:void 0,A=m?m.toString:void 0;function g(p){if(typeof p=="string")return p;if(function(x){return typeof x=="symbol"||function(v){return!!v&&typeof v=="object"}(x)&&f.call(x)=="[object Symbol]"}(p))return A?A.call(p):"";var b=p+"";return b=="0"&&1/p==-1/0?"-0":b}s.exports=function(p){var b;return(p=(b=p)==null?"":g(b))&&c.test(p)?p.replace(o,"\\$&"):p}}).call(this)}).call(this,typeof an<"u"?an:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,s,a){(function(i){(function(){var o="[object Arguments]",c="[object Map]",l="[object Object]",d="[object Set]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/,h=/^\./,m=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,A=/\\(\\)?/g,g=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,b={};b["[object Float32Array]"]=b["[object Float64Array]"]=b["[object Int8Array]"]=b["[object Int16Array]"]=b["[object Int32Array]"]=b["[object Uint8Array]"]=b["[object Uint8ClampedArray]"]=b["[object Uint16Array]"]=b["[object Uint32Array]"]=!0,b[o]=b["[object Array]"]=b["[object ArrayBuffer]"]=b["[object Boolean]"]=b["[object DataView]"]=b["[object Date]"]=b["[object Error]"]=b["[object Function]"]=b[c]=b["[object Number]"]=b[l]=b["[object RegExp]"]=b[d]=b["[object String]"]=b["[object WeakMap]"]=!1;var x=typeof i=="object"&&i&&i.Object===Object&&i,v=typeof self=="object"&&self&&self.Object===Object&&self,y=x||v||Function("return this")(),S=typeof a=="object"&&a&&!a.nodeType&&a,M=S&&typeof s=="object"&&s&&!s.nodeType&&s,P=M&&M.exports===S&&x.process,B=function(){try{return P&&P.binding("util")}catch{}}(),D=B&&B.isTypedArray;function L(ye,Fe,We,Ze){for(var _t=-1,ot=ye?ye.length:0;++_t<ot;){var nt=ye[_t];Fe(Ze,nt,We(nt),ye)}return Ze}function O(ye,Fe){for(var We=-1,Ze=ye?ye.length:0;++We<Ze;)if(Fe(ye[We],We,ye))return!0;return!1}function F(ye){var Fe=!1;if(ye!=null&&typeof ye.toString!="function")try{Fe=!!(ye+"")}catch{}return Fe}function _(ye){var Fe=-1,We=Array(ye.size);return ye.forEach(function(Ze,_t){We[++Fe]=[_t,Ze]}),We}function E(ye){var Fe=-1,We=Array(ye.size);return ye.forEach(function(Ze){We[++Fe]=Ze}),We}var T,w,C,j=Array.prototype,N=Function.prototype,I=Object.prototype,R=y["__core-js_shared__"],U=(T=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+T:"",V=N.toString,z=I.hasOwnProperty,X=I.toString,Q=RegExp("^"+V.call(z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),q=y.Symbol,H=y.Uint8Array,$=I.propertyIsEnumerable,G=j.splice,J=(w=Object.keys,C=Object,function(ye){return w(C(ye))}),te=$e(y,"DataView"),K=$e(y,"Map"),ne=$e(y,"Promise"),ce=$e(y,"Set"),oe=$e(y,"WeakMap"),ee=$e(Object,"create"),W=Re(te),Y=Re(K),Z=Re(ne),se=Re(ce),re=Re(oe),le=q?q.prototype:void 0,ae=le?le.valueOf:void 0,ue=le?le.toString:void 0;function he(ye){var Fe=-1,We=ye?ye.length:0;for(this.clear();++Fe<We;){var Ze=ye[Fe];this.set(Ze[0],Ze[1])}}function pe(ye){var Fe=-1,We=ye?ye.length:0;for(this.clear();++Fe<We;){var Ze=ye[Fe];this.set(Ze[0],Ze[1])}}function Ae(ye){var Fe=-1,We=ye?ye.length:0;for(this.clear();++Fe<We;){var Ze=ye[Fe];this.set(Ze[0],Ze[1])}}function ie(ye){var Fe=-1,We=ye?ye.length:0;for(this.__data__=new Ae;++Fe<We;)this.add(ye[Fe])}function de(ye){this.__data__=new pe(ye)}function me(ye,Fe){var We=Qt(ye)||Dt(ye)?function(nt,Cn){for(var dn=-1,vn=Array(nt);++dn<nt;)vn[dn]=Cn(dn);return vn}(ye.length,String):[],Ze=We.length,_t=!!Ze;for(var ot in ye)!z.call(ye,ot)||_t&&(ot=="length"||jt(ot,Ze))||We.push(ot);return We}function ve(ye,Fe){for(var We=ye.length;We--;)if(gt(ye[We][0],Fe))return We;return-1}function Me(ye,Fe,We,Ze){return xe(ye,function(_t,ot,nt){Fe(Ze,_t,We(_t),nt)}),Ze}he.prototype.clear=function(){this.__data__=ee?ee(null):{}},he.prototype.delete=function(ye){return this.has(ye)&&delete this.__data__[ye]},he.prototype.get=function(ye){var Fe=this.__data__;if(ee){var We=Fe[ye];return We==="__lodash_hash_undefined__"?void 0:We}return z.call(Fe,ye)?Fe[ye]:void 0},he.prototype.has=function(ye){var Fe=this.__data__;return ee?Fe[ye]!==void 0:z.call(Fe,ye)},he.prototype.set=function(ye,Fe){return this.__data__[ye]=ee&&Fe===void 0?"__lodash_hash_undefined__":Fe,this},pe.prototype.clear=function(){this.__data__=[]},pe.prototype.delete=function(ye){var Fe=this.__data__,We=ve(Fe,ye);return!(We<0)&&(We==Fe.length-1?Fe.pop():G.call(Fe,We,1),!0)},pe.prototype.get=function(ye){var Fe=this.__data__,We=ve(Fe,ye);return We<0?void 0:Fe[We][1]},pe.prototype.has=function(ye){return ve(this.__data__,ye)>-1},pe.prototype.set=function(ye,Fe){var We=this.__data__,Ze=ve(We,ye);return Ze<0?We.push([ye,Fe]):We[Ze][1]=Fe,this},Ae.prototype.clear=function(){this.__data__={hash:new he,map:new(K||pe),string:new he}},Ae.prototype.delete=function(ye){return Le(this,ye).delete(ye)},Ae.prototype.get=function(ye){return Le(this,ye).get(ye)},Ae.prototype.has=function(ye){return Le(this,ye).has(ye)},Ae.prototype.set=function(ye,Fe){return Le(this,ye).set(ye,Fe),this},ie.prototype.add=ie.prototype.push=function(ye){return this.__data__.set(ye,"__lodash_hash_undefined__"),this},ie.prototype.has=function(ye){return this.__data__.has(ye)},de.prototype.clear=function(){this.__data__=new pe},de.prototype.delete=function(ye){return this.__data__.delete(ye)},de.prototype.get=function(ye){return this.__data__.get(ye)},de.prototype.has=function(ye){return this.__data__.has(ye)},de.prototype.set=function(ye,Fe){var We=this.__data__;if(We instanceof pe){var Ze=We.__data__;if(!K||Ze.length<199)return Ze.push([ye,Fe]),this;We=this.__data__=new Ae(Ze)}return We.set(ye,Fe),this};var Be,xe=(Be=function(ye,Fe){return ye&&Te(ye,Fe,pt)},function(ye,Fe){if(ye==null)return ye;if(!Pt(ye))return Be(ye,Fe);for(var We=ye.length,Ze=-1,_t=Object(ye);++Ze<We&&Fe(_t[Ze],Ze,_t)!==!1;);return ye}),Te=function(ye){return function(Fe,We,Ze){for(var _t=-1,ot=Object(Fe),nt=Ze(Fe),Cn=nt.length;Cn--;){var dn=nt[++_t];if(We(ot[dn],dn,ot)===!1)break}return Fe}}();function _e(ye,Fe){for(var We=0,Ze=(Fe=At(Fe,ye)?[Fe]:Ie(Fe)).length;ye!=null&&We<Ze;)ye=ye[ke(Fe[We++])];return We&&We==Ze?ye:void 0}function Pe(ye,Fe){return ye!=null&&Fe in Object(ye)}function be(ye,Fe,We,Ze,_t){return ye===Fe||(ye==null||Fe==null||!An(ye)&&!vt(Fe)?ye!=ye&&Fe!=Fe:function(ot,nt,Cn,dn,vn,Gt){var Qn=Qt(ot),Vn=Qt(nt),Xn="[object Array]",yr="[object Array]";Qn||(Xn=(Xn=et(ot))==o?l:Xn),Vn||(yr=(yr=et(nt))==o?l:yr);var wr=Xn==l&&!F(ot),ps=yr==l&&!F(nt),ia=Xn==yr;if(ia&&!wr)return Gt||(Gt=new de),Qn||Je(ot)?ze(ot,nt,Cn,dn,vn,Gt):function(zn,Dn,ki,Ao,Rd,_s,Bs){switch(ki){case"[object DataView]":if(zn.byteLength!=Dn.byteLength||zn.byteOffset!=Dn.byteOffset)return!1;zn=zn.buffer,Dn=Dn.buffer;case"[object ArrayBuffer]":return!(zn.byteLength!=Dn.byteLength||!Ao(new H(zn),new H(Dn)));case"[object Boolean]":case"[object Date]":case"[object Number]":return gt(+zn,+Dn);case"[object Error]":return zn.name==Dn.name&&zn.message==Dn.message;case"[object RegExp]":case"[object String]":return zn==Dn+"";case c:var we=_;case d:var rt=2&_s;if(we||(we=E),zn.size!=Dn.size&&!rt)return!1;var mn=Bs.get(zn);if(mn)return mn==Dn;_s|=1,Bs.set(zn,Dn);var qt=ze(we(zn),we(Dn),Ao,Rd,_s,Bs);return Bs.delete(zn),qt;case"[object Symbol]":if(ae)return ae.call(zn)==ae.call(Dn)}return!1}(ot,nt,Xn,Cn,dn,vn,Gt);if(!(2&vn)){var po=wr&&z.call(ot,"__wrapped__"),ll=ps&&z.call(nt,"__wrapped__");if(po||ll){var cl=po?ot.value():ot,dl=ll?nt.value():nt;return Gt||(Gt=new de),Cn(cl,dl,dn,vn,Gt)}}return ia?(Gt||(Gt=new de),function(zn,Dn,ki,Ao,Rd,_s){var Bs=2&Rd,we=pt(zn),rt=we.length,mn=pt(Dn).length;if(rt!=mn&&!Bs)return!1;for(var qt=rt;qt--;){var Yn=we[qt];if(!(Bs?Yn in Dn:z.call(Dn,Yn)))return!1}var oa=_s.get(zn);if(oa&&_s.get(Dn))return oa==Dn;var _i=!0;_s.set(zn,Dn),_s.set(Dn,zn);for(var ul=Bs;++qt<rt;){Yn=we[qt];var vc=zn[Yn],hl=Dn[Yn];if(Ao)var Ud=Bs?Ao(hl,vc,Yn,Dn,zn,_s):Ao(vc,hl,Yn,zn,Dn,_s);if(!(Ud===void 0?vc===hl||ki(vc,hl,Ao,Rd,_s):Ud)){_i=!1;break}ul||(ul=Yn=="constructor")}if(_i&&!ul){var Sp=zn.constructor,Tp=Dn.constructor;Sp==Tp||!("constructor"in zn)||!("constructor"in Dn)||typeof Sp=="function"&&Sp instanceof Sp&&typeof Tp=="function"&&Tp instanceof Tp||(_i=!1)}return _s.delete(zn),_s.delete(Dn),_i}(ot,nt,Cn,dn,vn,Gt)):!1}(ye,Fe,be,We,Ze,_t))}function Ee(ye){return!(!An(ye)||function(Fe){return!!U&&U in Fe}(ye))&&(en(ye)||F(ye)?Q:g).test(Re(ye))}function ge(ye){return typeof ye=="function"?ye:ye==null?pn:typeof ye=="object"?Qt(ye)?function(Ze,_t){return At(Ze)&&Ut(_t)?ut(ke(Ze),_t):function(ot){var nt=function(Cn,dn,vn){var Gt=Cn==null?void 0:_e(Cn,dn);return Gt===void 0?vn:Gt}(ot,Ze);return nt===void 0&&nt===_t?function(Cn,dn){return Cn!=null&&function(vn,Gt,Qn){Gt=At(Gt,vn)?[Gt]:Ie(Gt);for(var Vn,Xn=-1,yr=Gt.length;++Xn<yr;){var wr=ke(Gt[Xn]);if(!(Vn=vn!=null&&Qn(vn,wr)))break;vn=vn[wr]}return Vn||!!(yr=vn?vn.length:0)&&Jt(yr)&&jt(wr,yr)&&(Qt(vn)||Dt(vn))}(Cn,dn,Pe)}(ot,Ze):be(_t,nt,void 0,3)}}(ye[0],ye[1]):function(Ze){var _t=function(ot){for(var nt=pt(ot),Cn=nt.length;Cn--;){var dn=nt[Cn],vn=ot[dn];nt[Cn]=[dn,vn,Ut(vn)]}return nt}(Ze);return _t.length==1&&_t[0][2]?ut(_t[0][0],_t[0][1]):function(ot){return ot===Ze||function(nt,Cn,dn,vn){var Gt=dn.length,Qn=Gt;if(nt==null)return!Qn;for(nt=Object(nt);Gt--;){var Vn=dn[Gt];if(Vn[2]?Vn[1]!==nt[Vn[0]]:!(Vn[0]in nt))return!1}for(;++Gt<Qn;){var Xn=(Vn=dn[Gt])[0],yr=nt[Xn],wr=Vn[1];if(Vn[2]){if(yr===void 0&&!(Xn in nt))return!1}else{var ps=new de,ia;if(!(ia===void 0?be(wr,yr,vn,3,ps):ia))return!1}}return!0}(ot,Ze,_t)}}(ye):At(Fe=ye)?(We=ke(Fe),function(Ze){return Ze==null?void 0:Ze[We]}):function(Ze){return function(_t){return _e(_t,Ze)}}(Fe);var Fe,We}function Se(ye){if(We=(Fe=ye)&&Fe.constructor,Ze=typeof We=="function"&&We.prototype||I,Fe!==Ze)return J(ye);var Fe,We,Ze,_t=[];for(var ot in Object(ye))z.call(ye,ot)&&ot!="constructor"&&_t.push(ot);return _t}function Ie(ye){return Qt(ye)?ye:ft(ye)}function ze(ye,Fe,We,Ze,_t,ot){var nt=2&_t,Cn=ye.length,dn=Fe.length;if(Cn!=dn&&!(nt&&dn>Cn))return!1;var vn=ot.get(ye);if(vn&&ot.get(Fe))return vn==Fe;var Gt=-1,Qn=!0,Vn=1&_t?new ie:void 0;for(ot.set(ye,Fe),ot.set(Fe,ye);++Gt<Cn;){var Xn=ye[Gt],yr=Fe[Gt];if(Ze)var wr=nt?Ze(yr,Xn,Gt,Fe,ye,ot):Ze(Xn,yr,Gt,ye,Fe,ot);if(wr!==void 0){if(wr)continue;Qn=!1;break}if(Vn){if(!O(Fe,function(ps,ia){if(!Vn.has(ia)&&(Xn===ps||We(Xn,ps,Ze,_t,ot)))return Vn.add(ia)})){Qn=!1;break}}else if(Xn!==yr&&!We(Xn,yr,Ze,_t,ot)){Qn=!1;break}}return ot.delete(ye),ot.delete(Fe),Qn}function Le(ye,Fe){var We,Ze,_t=ye.__data__;return((Ze=typeof(We=Fe))=="string"||Ze=="number"||Ze=="symbol"||Ze=="boolean"?We!=="__proto__":We===null)?_t[typeof Fe=="string"?"string":"hash"]:_t.map}function $e(ye,Fe){var We=function(Ze,_t){return Ze==null?void 0:Ze[_t]}(ye,Fe);return Ee(We)?We:void 0}var et=function(ye){return X.call(ye)};function jt(ye,Fe){return!!(Fe=Fe??9007199254740991)&&(typeof ye=="number"||p.test(ye))&&ye>-1&&ye%1==0&&ye<Fe}function At(ye,Fe){if(Qt(ye))return!1;var We=typeof ye;return!(We!="number"&&We!="symbol"&&We!="boolean"&&ye!=null&&!De(ye))||f.test(ye)||!u.test(ye)||Fe!=null&&ye in Object(Fe)}function Ut(ye){return ye==ye&&!An(ye)}function ut(ye,Fe){return function(We){return We!=null&&We[ye]===Fe&&(Fe!==void 0||ye in Object(We))}}(te&&et(new te(new ArrayBuffer(1)))!="[object DataView]"||K&&et(new K)!=c||ne&&et(ne.resolve())!="[object Promise]"||ce&&et(new ce)!=d||oe&&et(new oe)!="[object WeakMap]")&&(et=function(ye){var Fe=X.call(ye),We=Fe==l?ye.constructor:void 0,Ze=We?Re(We):void 0;if(Ze)switch(Ze){case W:return"[object DataView]";case Y:return c;case Z:return"[object Promise]";case se:return d;case re:return"[object WeakMap]"}return Fe});var ft=$t(function(ye){var Fe;ye=(Fe=ye)==null?"":function(Ze){if(typeof Ze=="string")return Ze;if(De(Ze))return ue?ue.call(Ze):"";var _t=Ze+"";return _t=="0"&&1/Ze==-1/0?"-0":_t}(Fe);var We=[];return h.test(ye)&&We.push(""),ye.replace(m,function(Ze,_t,ot,nt){We.push(ot?nt.replace(A,"$1"):_t||Ze)}),We});function ke(ye){if(typeof ye=="string"||De(ye))return ye;var Fe=ye+"";return Fe=="0"&&1/ye==-1/0?"-0":Fe}function Re(ye){if(ye!=null){try{return V.call(ye)}catch{}try{return ye+""}catch{}}return""}var Ke,it=(Ke=function(ye,Fe,We){z.call(ye,We)?ye[We].push(Fe):ye[We]=[Fe]},function(ye,Fe){var We=Qt(ye)?L:Me,Ze={};return We(ye,Ke,ge(Fe),Ze)});function $t(ye,Fe){if(typeof ye!="function"||Fe&&typeof Fe!="function")throw new TypeError("Expected a function");var We=function(){var Ze=arguments,_t=Fe?Fe.apply(this,Ze):Ze[0],ot=We.cache;if(ot.has(_t))return ot.get(_t);var nt=ye.apply(this,Ze);return We.cache=ot.set(_t,nt),nt};return We.cache=new($t.Cache||Ae),We}function gt(ye,Fe){return ye===Fe||ye!=ye&&Fe!=Fe}function Dt(ye){return function(Fe){return vt(Fe)&&Pt(Fe)}(ye)&&z.call(ye,"callee")&&(!$.call(ye,"callee")||X.call(ye)==o)}$t.Cache=Ae;var Qt=Array.isArray;function Pt(ye){return ye!=null&&Jt(ye.length)&&!en(ye)}function en(ye){var Fe=An(ye)?X.call(ye):"";return Fe=="[object Function]"||Fe=="[object GeneratorFunction]"}function Jt(ye){return typeof ye=="number"&&ye>-1&&ye%1==0&&ye<=9007199254740991}function An(ye){var Fe=typeof ye;return!!ye&&(Fe=="object"||Fe=="function")}function vt(ye){return!!ye&&typeof ye=="object"}function De(ye){return typeof ye=="symbol"||vt(ye)&&X.call(ye)=="[object Symbol]"}var Je=D?function(ye){return function(Fe){return ye(Fe)}}(D):function(ye){return vt(ye)&&Jt(ye.length)&&!!b[X.call(ye)]};function pt(ye){return Pt(ye)?me(ye):Se(ye)}function pn(ye){return ye}s.exports=it}).call(this)}).call(this,typeof an<"u"?an:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,s,a){var i=Object.prototype.toString;s.exports=function(o){return o===!0||o===!1||function(c){return!!c&&typeof c=="object"}(o)&&i.call(o)=="[object Boolean]"}},{}],445:[function(e,s,a){(function(i){(function(){var o="[object Arguments]",c="[object Map]",l="[object Object]",d="[object Set]",u=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h[o]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h["[object Function]"]=h[c]=h["[object Number]"]=h[l]=h["[object RegExp]"]=h[d]=h["[object String]"]=h["[object WeakMap]"]=!1;var m=typeof i=="object"&&i&&i.Object===Object&&i,A=typeof self=="object"&&self&&self.Object===Object&&self,g=m||A||Function("return this")(),p=typeof a=="object"&&a&&!a.nodeType&&a,b=p&&typeof s=="object"&&s&&!s.nodeType&&s,x=b&&b.exports===p,v=x&&m.process,y=function(){try{return v&&v.binding&&v.binding("util")}catch{}}(),S=y&&y.isTypedArray;function M(ke,Re){for(var Ke=-1,it=ke==null?0:ke.length;++Ke<it;)if(Re(ke[Ke],Ke,ke))return!0;return!1}function P(ke){var Re=-1,Ke=Array(ke.size);return ke.forEach(function(it,$t){Ke[++Re]=[$t,it]}),Ke}function B(ke){var Re=-1,Ke=Array(ke.size);return ke.forEach(function(it){Ke[++Re]=it}),Ke}var D,L,O,F=Array.prototype,_=Function.prototype,E=Object.prototype,T=g["__core-js_shared__"],w=_.toString,C=E.hasOwnProperty,j=(D=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+D:"",N=E.toString,I=RegExp("^"+w.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=x?g.Buffer:void 0,U=g.Symbol,V=g.Uint8Array,z=E.propertyIsEnumerable,X=F.splice,Q=U?U.toStringTag:void 0,q=Object.getOwnPropertySymbols,H=R?R.isBuffer:void 0,$=(L=Object.keys,O=Object,function(ke){return L(O(ke))}),G=Pe(g,"DataView"),J=Pe(g,"Map"),te=Pe(g,"Promise"),K=Pe(g,"Set"),ne=Pe(g,"WeakMap"),ce=Pe(Object,"create"),oe=Se(G),ee=Se(J),W=Se(te),Y=Se(K),Z=Se(ne),se=U?U.prototype:void 0,re=se?se.valueOf:void 0;function le(ke){var Re=-1,Ke=ke==null?0:ke.length;for(this.clear();++Re<Ke;){var it=ke[Re];this.set(it[0],it[1])}}function ae(ke){var Re=-1,Ke=ke==null?0:ke.length;for(this.clear();++Re<Ke;){var it=ke[Re];this.set(it[0],it[1])}}function ue(ke){var Re=-1,Ke=ke==null?0:ke.length;for(this.clear();++Re<Ke;){var it=ke[Re];this.set(it[0],it[1])}}function he(ke){var Re=-1,Ke=ke==null?0:ke.length;for(this.__data__=new ue;++Re<Ke;)this.add(ke[Re])}function pe(ke){var Re=this.__data__=new ae(ke);this.size=Re.size}function Ae(ke,Re){var Ke=Le(ke),it=!Ke&&ze(ke),$t=!Ke&&!it&&$e(ke),gt=!Ke&&!it&&!$t&&ut(ke),Dt=Ke||it||$t||gt,Qt=Dt?function(Jt,An){for(var vt=-1,De=Array(Jt);++vt<Jt;)De[vt]=An(vt);return De}(ke.length,String):[],Pt=Qt.length;for(var en in ke)!C.call(ke,en)||Dt&&(en=="length"||$t&&(en=="offset"||en=="parent")||gt&&(en=="buffer"||en=="byteLength"||en=="byteOffset")||ge(en,Pt))||Qt.push(en);return Qt}function ie(ke,Re){for(var Ke=ke.length;Ke--;)if(Ie(ke[Ke][0],Re))return Ke;return-1}function de(ke){return ke==null?ke===void 0?"[object Undefined]":"[object Null]":Q&&Q in Object(ke)?function(Re){var Ke=C.call(Re,Q),it=Re[Q];try{Re[Q]=void 0;var $t=!0}catch{}var gt=N.call(Re);return $t&&(Ke?Re[Q]=it:delete Re[Q]),gt}(ke):function(Re){return N.call(Re)}(ke)}function me(ke){return Ut(ke)&&de(ke)==o}function ve(ke,Re,Ke,it,$t){return ke===Re||(ke==null||Re==null||!Ut(ke)&&!Ut(Re)?ke!=ke&&Re!=Re:function(gt,Dt,Qt,Pt,en,Jt){var An=Le(gt),vt=Le(Dt),De=An?"[object Array]":Ee(gt),Je=vt?"[object Array]":Ee(Dt),pt=(De=De==o?l:De)==l,pn=(Je=Je==o?l:Je)==l,ye=De==Je;if(ye&&$e(gt)){if(!$e(Dt))return!1;An=!0,pt=!1}if(ye&&!pt)return Jt||(Jt=new pe),An||ut(gt)?xe(gt,Dt,Qt,Pt,en,Jt):function(ot,nt,Cn,dn,vn,Gt,Qn){switch(Cn){case"[object DataView]":if(ot.byteLength!=nt.byteLength||ot.byteOffset!=nt.byteOffset)return!1;ot=ot.buffer,nt=nt.buffer;case"[object ArrayBuffer]":return!(ot.byteLength!=nt.byteLength||!Gt(new V(ot),new V(nt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ie(+ot,+nt);case"[object Error]":return ot.name==nt.name&&ot.message==nt.message;case"[object RegExp]":case"[object String]":return ot==nt+"";case c:var Vn=P;case d:var Xn=1&dn;if(Vn||(Vn=B),ot.size!=nt.size&&!Xn)return!1;var yr=Qn.get(ot);if(yr)return yr==nt;dn|=2,Qn.set(ot,nt);var wr=xe(Vn(ot),Vn(nt),dn,vn,Gt,Qn);return Qn.delete(ot),wr;case"[object Symbol]":if(re)return re.call(ot)==re.call(nt)}return!1}(gt,Dt,De,Qt,Pt,en,Jt);if(!(1&Qt)){var Fe=pt&&C.call(gt,"__wrapped__"),We=pn&&C.call(Dt,"__wrapped__");if(Fe||We){var Ze=Fe?gt.value():gt,_t=We?Dt.value():Dt;return Jt||(Jt=new pe),en(Ze,_t,Qt,Pt,Jt)}}return ye?(Jt||(Jt=new pe),function(ot,nt,Cn,dn,vn,Gt){var Qn=1&Cn,Vn=Te(ot),Xn=Vn.length,yr=Te(nt).length;if(Xn!=yr&&!Qn)return!1;for(var wr=Xn;wr--;){var ps=Vn[wr];if(!(Qn?ps in nt:C.call(nt,ps)))return!1}var ia=Gt.get(ot);if(ia&&Gt.get(nt))return ia==nt;var po=!0;Gt.set(ot,nt),Gt.set(nt,ot);for(var ll=Qn;++wr<Xn;){ps=Vn[wr];var cl=ot[ps],dl=nt[ps];if(dn)var zn=Qn?dn(dl,cl,ps,nt,ot,Gt):dn(cl,dl,ps,ot,nt,Gt);if(!(zn===void 0?cl===dl||vn(cl,dl,Cn,dn,Gt):zn)){po=!1;break}ll||(ll=ps=="constructor")}if(po&&!ll){var Dn=ot.constructor,ki=nt.constructor;Dn==ki||!("constructor"in ot)||!("constructor"in nt)||typeof Dn=="function"&&Dn instanceof Dn&&typeof ki=="function"&&ki instanceof ki||(po=!1)}return Gt.delete(ot),Gt.delete(nt),po}(gt,Dt,Qt,Pt,en,Jt)):!1}(ke,Re,Ke,it,ve,$t))}function Me(ke){return!(!At(ke)||function(Re){return!!j&&j in Re}(ke))&&(et(ke)?I:u).test(Se(ke))}function Be(ke){if(Ke=(Re=ke)&&Re.constructor,it=typeof Ke=="function"&&Ke.prototype||E,Re!==it)return $(ke);var Re,Ke,it,$t=[];for(var gt in Object(ke))C.call(ke,gt)&&gt!="constructor"&&$t.push(gt);return $t}function xe(ke,Re,Ke,it,$t,gt){var Dt=1&Ke,Qt=ke.length,Pt=Re.length;if(Qt!=Pt&&!(Dt&&Pt>Qt))return!1;var en=gt.get(ke);if(en&&gt.get(Re))return en==Re;var Jt=-1,An=!0,vt=2&Ke?new he:void 0;for(gt.set(ke,Re),gt.set(Re,ke);++Jt<Qt;){var De=ke[Jt],Je=Re[Jt];if(it)var pt=Dt?it(Je,De,Jt,Re,ke,gt):it(De,Je,Jt,ke,Re,gt);if(pt!==void 0){if(pt)continue;An=!1;break}if(vt){if(!M(Re,function(pn,ye){if(Fe=ye,!vt.has(Fe)&&(De===pn||$t(De,pn,Ke,it,gt)))return vt.push(ye);var Fe})){An=!1;break}}else if(De!==Je&&!$t(De,Je,Ke,it,gt)){An=!1;break}}return gt.delete(ke),gt.delete(Re),An}function Te(ke){return function(Re,Ke,it){var $t=Ke(Re);return Le(Re)?$t:function(gt,Dt){for(var Qt=-1,Pt=Dt.length,en=gt.length;++Qt<Pt;)gt[en+Qt]=Dt[Qt];return gt}($t,it(Re))}(ke,ft,be)}function _e(ke,Re){var Ke,it,$t=ke.__data__;return((it=typeof(Ke=Re))=="string"||it=="number"||it=="symbol"||it=="boolean"?Ke!=="__proto__":Ke===null)?$t[typeof Re=="string"?"string":"hash"]:$t.map}function Pe(ke,Re){var Ke=function(it,$t){return it==null?void 0:it[$t]}(ke,Re);return Me(Ke)?Ke:void 0}le.prototype.clear=function(){this.__data__=ce?ce(null):{},this.size=0},le.prototype.delete=function(ke){var Re=this.has(ke)&&delete this.__data__[ke];return this.size-=Re?1:0,Re},le.prototype.get=function(ke){var Re=this.__data__;if(ce){var Ke=Re[ke];return Ke==="__lodash_hash_undefined__"?void 0:Ke}return C.call(Re,ke)?Re[ke]:void 0},le.prototype.has=function(ke){var Re=this.__data__;return ce?Re[ke]!==void 0:C.call(Re,ke)},le.prototype.set=function(ke,Re){var Ke=this.__data__;return this.size+=this.has(ke)?0:1,Ke[ke]=ce&&Re===void 0?"__lodash_hash_undefined__":Re,this},ae.prototype.clear=function(){this.__data__=[],this.size=0},ae.prototype.delete=function(ke){var Re=this.__data__,Ke=ie(Re,ke);return!(Ke<0)&&(Ke==Re.length-1?Re.pop():X.call(Re,Ke,1),--this.size,!0)},ae.prototype.get=function(ke){var Re=this.__data__,Ke=ie(Re,ke);return Ke<0?void 0:Re[Ke][1]},ae.prototype.has=function(ke){return ie(this.__data__,ke)>-1},ae.prototype.set=function(ke,Re){var Ke=this.__data__,it=ie(Ke,ke);return it<0?(++this.size,Ke.push([ke,Re])):Ke[it][1]=Re,this},ue.prototype.clear=function(){this.size=0,this.__data__={hash:new le,map:new(J||ae),string:new le}},ue.prototype.delete=function(ke){var Re=_e(this,ke).delete(ke);return this.size-=Re?1:0,Re},ue.prototype.get=function(ke){return _e(this,ke).get(ke)},ue.prototype.has=function(ke){return _e(this,ke).has(ke)},ue.prototype.set=function(ke,Re){var Ke=_e(this,ke),it=Ke.size;return Ke.set(ke,Re),this.size+=Ke.size==it?0:1,this},he.prototype.add=he.prototype.push=function(ke){return this.__data__.set(ke,"__lodash_hash_undefined__"),this},he.prototype.has=function(ke){return this.__data__.has(ke)},pe.prototype.clear=function(){this.__data__=new ae,this.size=0},pe.prototype.delete=function(ke){var Re=this.__data__,Ke=Re.delete(ke);return this.size=Re.size,Ke},pe.prototype.get=function(ke){return this.__data__.get(ke)},pe.prototype.has=function(ke){return this.__data__.has(ke)},pe.prototype.set=function(ke,Re){var Ke=this.__data__;if(Ke instanceof ae){var it=Ke.__data__;if(!J||it.length<199)return it.push([ke,Re]),this.size=++Ke.size,this;Ke=this.__data__=new ue(it)}return Ke.set(ke,Re),this.size=Ke.size,this};var be=q?function(ke){return ke==null?[]:(ke=Object(ke),function(Re,Ke){for(var it=-1,$t=Re==null?0:Re.length,gt=0,Dt=[];++it<$t;){var Qt=Re[it];Ke(Qt,it,Re)&&(Dt[gt++]=Qt)}return Dt}(q(ke),function(Re){return z.call(ke,Re)}))}:function(){return[]},Ee=de;function ge(ke,Re){return!!(Re=Re??9007199254740991)&&(typeof ke=="number"||f.test(ke))&&ke>-1&&ke%1==0&&ke<Re}function Se(ke){if(ke!=null){try{return w.call(ke)}catch{}try{return ke+""}catch{}}return""}function Ie(ke,Re){return ke===Re||ke!=ke&&Re!=Re}(G&&Ee(new G(new ArrayBuffer(1)))!="[object DataView]"||J&&Ee(new J)!=c||te&&Ee(te.resolve())!="[object Promise]"||K&&Ee(new K)!=d||ne&&Ee(new ne)!="[object WeakMap]")&&(Ee=function(ke){var Re=de(ke),Ke=Re==l?ke.constructor:void 0,it=Ke?Se(Ke):"";if(it)switch(it){case oe:return"[object DataView]";case ee:return c;case W:return"[object Promise]";case Y:return d;case Z:return"[object WeakMap]"}return Re});var ze=me(function(){return arguments}())?me:function(ke){return Ut(ke)&&C.call(ke,"callee")&&!z.call(ke,"callee")},Le=Array.isArray,$e=H||function(){return!1};function et(ke){if(!At(ke))return!1;var Re=de(ke);return Re=="[object Function]"||Re=="[object GeneratorFunction]"||Re=="[object AsyncFunction]"||Re=="[object Proxy]"}function jt(ke){return typeof ke=="number"&&ke>-1&&ke%1==0&&ke<=9007199254740991}function At(ke){var Re=typeof ke;return ke!=null&&(Re=="object"||Re=="function")}function Ut(ke){return ke!=null&&typeof ke=="object"}var ut=S?function(ke){return function(Re){return ke(Re)}}(S):function(ke){return Ut(ke)&&jt(ke.length)&&!!h[de(ke)]};function ft(ke){return(Re=ke)!=null&&jt(Re.length)&&!et(Re)?Ae(ke):Be(ke);var Re}s.exports=function(ke,Re){return ve(ke,Re)}}).call(this)}).call(this,typeof an<"u"?an:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,s,a){(function(i){(function(){var o=typeof i=="object"&&i&&i.Object===Object&&i,c=typeof self=="object"&&self&&self.Object===Object&&self,l=o||c||Function("return this")(),d=Object.prototype,u=d.hasOwnProperty,f=d.toString,h=l.Symbol,m=h?h.toStringTag:void 0;function A(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":m&&m in Object(g)?function(p){var b=u.call(p,m),x=p[m];try{p[m]=void 0;var v=!0}catch{}var y=f.call(p);return v&&(b?p[m]=x:delete p[m]),y}(g):function(p){return f.call(p)}(g)}s.exports=function(g){if(!function(b){var x=typeof b;return b!=null&&(x=="object"||x=="function")}(g))return!1;var p=A(g);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}}).call(this)}).call(this,typeof an<"u"?an:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,s,a){s.exports=function(i){return i==null}},{}],448:[function(e,s,a){s.exports=function(i){return i===void 0}},{}],449:[function(e,s,a){(function(i){(function(){var o=/^\[object .+?Constructor\]$/,c=typeof i=="object"&&i&&i.Object===Object&&i,l=typeof self=="object"&&self&&self.Object===Object&&self,d=c||l||Function("return this")();function u(U,V){return!!(U&&U.length)&&function(z,X,Q){if(X!=X)return function($,G,J,te){for(var K=$.length,ne=J+-1;++ne<K;)if(G($[ne],ne,$))return ne;return-1}(z,f,Q);for(var q=Q-1,H=z.length;++q<H;)if(z[q]===X)return q;return-1}(U,V,0)>-1}function f(U){return U!=U}function h(U,V){return U.has(V)}function m(U){var V=-1,z=Array(U.size);return U.forEach(function(X){z[++V]=X}),z}var A,g=Array.prototype,p=Function.prototype,b=Object.prototype,x=d["__core-js_shared__"],v=(A=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",y=p.toString,S=b.hasOwnProperty,M=b.toString,P=RegExp("^"+y.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B=g.splice,D=I(d,"Map"),L=I(d,"Set"),O=I(Object,"create");function F(U){var V=-1,z=U?U.length:0;for(this.clear();++V<z;){var X=U[V];this.set(X[0],X[1])}}function _(U){var V=-1,z=U?U.length:0;for(this.clear();++V<z;){var X=U[V];this.set(X[0],X[1])}}function E(U){var V=-1,z=U?U.length:0;for(this.clear();++V<z;){var X=U[V];this.set(X[0],X[1])}}function T(U){var V=-1,z=U?U.length:0;for(this.__data__=new E;++V<z;)this.add(U[V])}function w(U,V){for(var z,X,Q=U.length;Q--;)if((z=U[Q][0])===(X=V)||z!=z&&X!=X)return Q;return-1}function C(U){return!(!R(U)||(V=U,v&&v in V))&&(function(z){var X=R(z)?M.call(z):"";return X=="[object Function]"||X=="[object GeneratorFunction]"}(U)||function(z){var X=!1;if(z!=null&&typeof z.toString!="function")try{X=!!(z+"")}catch{}return X}(U)?P:o).test(function(z){if(z!=null){try{return y.call(z)}catch{}try{return z+""}catch{}}return""}(U));var V}F.prototype.clear=function(){this.__data__=O?O(null):{}},F.prototype.delete=function(U){return this.has(U)&&delete this.__data__[U]},F.prototype.get=function(U){var V=this.__data__;if(O){var z=V[U];return z==="__lodash_hash_undefined__"?void 0:z}return S.call(V,U)?V[U]:void 0},F.prototype.has=function(U){var V=this.__data__;return O?V[U]!==void 0:S.call(V,U)},F.prototype.set=function(U,V){return this.__data__[U]=O&&V===void 0?"__lodash_hash_undefined__":V,this},_.prototype.clear=function(){this.__data__=[]},_.prototype.delete=function(U){var V=this.__data__,z=w(V,U);return!(z<0)&&(z==V.length-1?V.pop():B.call(V,z,1),!0)},_.prototype.get=function(U){var V=this.__data__,z=w(V,U);return z<0?void 0:V[z][1]},_.prototype.has=function(U){return w(this.__data__,U)>-1},_.prototype.set=function(U,V){var z=this.__data__,X=w(z,U);return X<0?z.push([U,V]):z[X][1]=V,this},E.prototype.clear=function(){this.__data__={hash:new F,map:new(D||_),string:new F}},E.prototype.delete=function(U){return N(this,U).delete(U)},E.prototype.get=function(U){return N(this,U).get(U)},E.prototype.has=function(U){return N(this,U).has(U)},E.prototype.set=function(U,V){return N(this,U).set(U,V),this},T.prototype.add=T.prototype.push=function(U){return this.__data__.set(U,"__lodash_hash_undefined__"),this},T.prototype.has=function(U){return this.__data__.has(U)};var j=L&&1/m(new L([,-0]))[1]==1/0?function(U){return new L(U)}:function(){};function N(U,V){var z,X,Q=U.__data__;return((X=typeof(z=V))=="string"||X=="number"||X=="symbol"||X=="boolean"?z!=="__proto__":z===null)?Q[typeof V=="string"?"string":"hash"]:Q.map}function I(U,V){var z=function(X,Q){return X==null?void 0:X[Q]}(U,V);return C(z)?z:void 0}function R(U){var V=typeof U;return!!U&&(V=="object"||V=="function")}s.exports=function(U){return U&&U.length?function(V,z,X){var Q=-1,q=u,H=V.length,$=!0,G=[],J=G;if(H>=200){var te=j(V);if(te)return m(te);$=!1,q=h,J=new T}else J=G;e:for(;++Q<H;){var K=V[Q],ne=K;if(K=K!==0?K:0,$&&ne==ne){for(var ce=J.length;ce--;)if(J[ce]===ne)continue e;G.push(K)}else q(J,ne,X)||(J!==G&&J.push(ne),G.push(K))}return G}(U):[]}}).call(this)}).call(this,typeof an<"u"?an:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,s,a){var i=e("inherits"),o=e("hash-base"),c=e("safe-buffer").Buffer,l=new Array(16);function d(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(g,p){return g<<p|g>>>32-p}function f(g,p,b,x,v,y,S){return u(g+(p&b|~p&x)+v+y|0,S)+p|0}function h(g,p,b,x,v,y,S){return u(g+(p&x|b&~x)+v+y|0,S)+p|0}function m(g,p,b,x,v,y,S){return u(g+(p^b^x)+v+y|0,S)+p|0}function A(g,p,b,x,v,y,S){return u(g+(b^(p|~x))+v+y|0,S)+p|0}i(d,o),d.prototype._update=function(){for(var g=l,p=0;p<16;++p)g[p]=this._block.readInt32LE(4*p);var b=this._a,x=this._b,v=this._c,y=this._d;b=f(b,x,v,y,g[0],3614090360,7),y=f(y,b,x,v,g[1],3905402710,12),v=f(v,y,b,x,g[2],606105819,17),x=f(x,v,y,b,g[3],3250441966,22),b=f(b,x,v,y,g[4],4118548399,7),y=f(y,b,x,v,g[5],1200080426,12),v=f(v,y,b,x,g[6],2821735955,17),x=f(x,v,y,b,g[7],4249261313,22),b=f(b,x,v,y,g[8],1770035416,7),y=f(y,b,x,v,g[9],2336552879,12),v=f(v,y,b,x,g[10],4294925233,17),x=f(x,v,y,b,g[11],2304563134,22),b=f(b,x,v,y,g[12],1804603682,7),y=f(y,b,x,v,g[13],4254626195,12),v=f(v,y,b,x,g[14],2792965006,17),b=h(b,x=f(x,v,y,b,g[15],1236535329,22),v,y,g[1],4129170786,5),y=h(y,b,x,v,g[6],3225465664,9),v=h(v,y,b,x,g[11],643717713,14),x=h(x,v,y,b,g[0],3921069994,20),b=h(b,x,v,y,g[5],3593408605,5),y=h(y,b,x,v,g[10],38016083,9),v=h(v,y,b,x,g[15],3634488961,14),x=h(x,v,y,b,g[4],3889429448,20),b=h(b,x,v,y,g[9],568446438,5),y=h(y,b,x,v,g[14],3275163606,9),v=h(v,y,b,x,g[3],4107603335,14),x=h(x,v,y,b,g[8],1163531501,20),b=h(b,x,v,y,g[13],2850285829,5),y=h(y,b,x,v,g[2],4243563512,9),v=h(v,y,b,x,g[7],1735328473,14),b=m(b,x=h(x,v,y,b,g[12],2368359562,20),v,y,g[5],4294588738,4),y=m(y,b,x,v,g[8],2272392833,11),v=m(v,y,b,x,g[11],1839030562,16),x=m(x,v,y,b,g[14],4259657740,23),b=m(b,x,v,y,g[1],2763975236,4),y=m(y,b,x,v,g[4],1272893353,11),v=m(v,y,b,x,g[7],4139469664,16),x=m(x,v,y,b,g[10],3200236656,23),b=m(b,x,v,y,g[13],681279174,4),y=m(y,b,x,v,g[0],3936430074,11),v=m(v,y,b,x,g[3],3572445317,16),x=m(x,v,y,b,g[6],76029189,23),b=m(b,x,v,y,g[9],3654602809,4),y=m(y,b,x,v,g[12],3873151461,11),v=m(v,y,b,x,g[15],530742520,16),b=A(b,x=m(x,v,y,b,g[2],3299628645,23),v,y,g[0],4096336452,6),y=A(y,b,x,v,g[7],1126891415,10),v=A(v,y,b,x,g[14],2878612391,15),x=A(x,v,y,b,g[5],4237533241,21),b=A(b,x,v,y,g[12],1700485571,6),y=A(y,b,x,v,g[3],2399980690,10),v=A(v,y,b,x,g[10],4293915773,15),x=A(x,v,y,b,g[1],2240044497,21),b=A(b,x,v,y,g[8],1873313359,6),y=A(y,b,x,v,g[15],4264355552,10),v=A(v,y,b,x,g[6],2734768916,15),x=A(x,v,y,b,g[13],1309151649,21),b=A(b,x,v,y,g[4],4149444226,6),y=A(y,b,x,v,g[11],3174756917,10),v=A(v,y,b,x,g[2],718787259,15),x=A(x,v,y,b,g[9],3951481745,21),this._a=this._a+b|0,this._b=this._b+x|0,this._c=this._c+v|0,this._d=this._d+y|0},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var g=c.allocUnsafe(16);return g.writeInt32LE(this._a,0),g.writeInt32LE(this._b,4),g.writeInt32LE(this._c,8),g.writeInt32LE(this._d,12),g},s.exports=d},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,s,a){var i=e("bn.js"),o=e("brorand");function c(l){this.rand=l||new o.Rand}s.exports=c,c.create=function(l){return new c(l)},c.prototype._randbelow=function(l){var d=l.bitLength(),u=Math.ceil(d/8);do var f=new i(this.rand.generate(u));while(f.cmp(l)>=0);return f},c.prototype._randrange=function(l,d){var u=d.sub(l);return l.add(this._randbelow(u))},c.prototype.test=function(l,d,u){var f=l.bitLength(),h=i.mont(l),m=new i(1).toRed(h);d||(d=Math.max(1,f/48|0));for(var A=l.subn(1),g=0;!A.testn(g);g++);for(var p=l.shrn(g),b=A.toRed(h);d>0;d--){var x=this._randrange(new i(2),A);u&&u(x);var v=x.toRed(h).redPow(p);if(v.cmp(m)!==0&&v.cmp(b)!==0){for(var y=1;y<g;y++){if((v=v.redSqr()).cmp(m)===0)return!1;if(v.cmp(b)===0)break}if(y===g)return!1}}return!0},c.prototype.getDivisor=function(l,d){var u=l.bitLength(),f=i.mont(l),h=new i(1).toRed(f);d||(d=Math.max(1,u/48|0));for(var m=l.subn(1),A=0;!m.testn(A);A++);for(var g=l.shrn(A),p=m.toRed(f);d>0;d--){var b=this._randrange(new i(2),m),x=l.gcd(b);if(x.cmpn(1)!==0)return x;var v=b.toRed(f).redPow(g);if(v.cmp(h)!==0&&v.cmp(p)!==0){for(var y=1;y<A;y++){if((v=v.redSqr()).cmp(h)===0)return v.fromRed().subn(1).gcd(l);if(v.cmp(p)===0)break}if(y===A)return(v=v.redSqr()).fromRed().subn(1).gcd(l)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,s,a){arguments[4][184][0].apply(a,arguments)},{buffer:188,dup:184}],453:[function(e,s,a){function i(o,c){if(!o)throw new Error(c||"Assertion failed")}s.exports=i,i.equal=function(o,c,l){if(o!=c)throw new Error(l||"Assertion failed: "+o+" != "+c)}},{}],454:[function(e,s,a){var i=a;function o(l){return l.length===1?"0"+l:l}function c(l){for(var d="",u=0;u<l.length;u++)d+=o(l[u].toString(16));return d}i.toArray=function(l,d){if(Array.isArray(l))return l.slice();if(!l)return[];var u=[];if(typeof l!="string"){for(var f=0;f<l.length;f++)u[f]=0|l[f];return u}if(d==="hex")for((l=l.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(l="0"+l),f=0;f<l.length;f+=2)u.push(parseInt(l[f]+l[f+1],16));else for(f=0;f<l.length;f++){var h=l.charCodeAt(f),m=h>>8,A=255&h;m?u.push(m,A):u.push(A)}return u},i.zero2=o,i.toHex=c,i.encode=function(l,d){return d==="hex"?c(l):l}},{}],455:[function(e,s,a){s.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,s,a){var i=e("asn1.js");a.certificate=e("./certificate");var o=i.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});a.RSAPrivateKey=o;var c=i.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});a.RSAPublicKey=c;var l=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(d),this.key("subjectPublicKey").bitstr())});a.PublicKey=l;var d=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=i.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(d),this.key("subjectPrivateKey").octstr())});a.PrivateKey=u;var f=i.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});a.EncryptedPrivateKey=f;var h=i.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});a.DSAPrivateKey=h,a.DSAparam=i.define("DSAparam",function(){this.int()});var m=i.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(A),this.key("publicKey").optional().explicit(1).bitstr())});a.ECPrivateKey=m;var A=i.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});a.signature=i.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(e,s,a){var i=e("asn1.js"),o=i.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),c=i.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),l=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),d=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())}),u=i.define("RelativeDistinguishedName",function(){this.setof(c)}),f=i.define("RDNSequence",function(){this.seqof(u)}),h=i.define("Name",function(){this.choice({rdnSequence:this.use(f)})}),m=i.define("Validity",function(){this.seq().obj(this.key("notBefore").use(o),this.key("notAfter").use(o))}),A=i.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),g=i.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(l),this.key("issuer").use(h),this.key("validity").use(m),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(d),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(A).optional())}),p=i.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(g),this.key("signatureAlgorithm").use(l),this.key("signatureValue").bitstr())});s.exports=p},{"asn1.js":170}],458:[function(e,s,a){var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,c=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,l=e("evp_bytestokey"),d=e("browserify-aes"),u=e("safe-buffer").Buffer;s.exports=function(f,h){var m,A=f.toString(),g=A.match(i);if(g){var p="aes"+g[1],b=u.from(g[2],"hex"),x=u.from(g[3].replace(/[\r\n]/g,""),"base64"),v=l(h,b.slice(0,8),parseInt(g[1],10)).key,y=[],S=d.createDecipheriv(p,v,b);y.push(S.update(x)),y.push(S.final()),m=u.concat(y)}else{var M=A.match(c);m=u.from(M[2].replace(/[\r\n]/g,""),"base64")}return{tag:A.match(o)[1],data:m}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,s,a){var i=e("./asn1"),o=e("./aesid.json"),c=e("./fixProc"),l=e("browserify-aes"),d=e("pbkdf2"),u=e("safe-buffer").Buffer;function f(h){var m;typeof h!="object"||u.isBuffer(h)||(m=h.passphrase,h=h.key),typeof h=="string"&&(h=u.from(h));var A,g,p=c(h,m),b=p.tag,x=p.data;switch(b){case"CERTIFICATE":g=i.certificate.decode(x,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(g||(g=i.PublicKey.decode(x,"der")),A=g.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(g.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return g.subjectPrivateKey=g.subjectPublicKey,{type:"ec",data:g};case"1.2.840.10040.4.1":return g.algorithm.params.pub_key=i.DSAparam.decode(g.subjectPublicKey.data,"der"),{type:"dsa",data:g.algorithm.params};default:throw new Error("unknown key id "+A)}case"ENCRYPTED PRIVATE KEY":x=function(v,y){var S=v.algorithm.decrypt.kde.kdeparams.salt,M=parseInt(v.algorithm.decrypt.kde.kdeparams.iters.toString(),10),P=o[v.algorithm.decrypt.cipher.algo.join(".")],B=v.algorithm.decrypt.cipher.iv,D=v.subjectPrivateKey,L=parseInt(P.split("-")[1],10)/8,O=d.pbkdf2Sync(y,S,M,L,"sha1"),F=l.createDecipheriv(P,O,B),_=[];return _.push(F.update(D)),_.push(F.final()),u.concat(_)}(x=i.EncryptedPrivateKey.decode(x,"der"),m);case"PRIVATE KEY":switch(A=(g=i.PrivateKey.decode(x,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(g.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:g.algorithm.curve,privateKey:i.ECPrivateKey.decode(g.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return g.algorithm.params.priv_key=i.DSAparam.decode(g.subjectPrivateKey,"der"),{type:"dsa",params:g.algorithm.params};default:throw new Error("unknown key id "+A)}case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(x,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(x,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(x,"der")};case"EC PRIVATE KEY":return{curve:(x=i.ECPrivateKey.decode(x,"der")).parameters.value,privateKey:x.privateKey};default:throw new Error("unknown key type "+b)}}s.exports=f,f.signature=i.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,s,a){a.pbkdf2=e("./lib/async"),a.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,s,a){(function(i){(function(){var o,c,l=e("safe-buffer").Buffer,d=e("./precondition"),u=e("./default-encoding"),f=e("./sync"),h=e("./to-buffer"),m=i.crypto&&i.crypto.subtle,A={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},g=[];function p(){return c||(c=i.process&&i.process.nextTick?i.process.nextTick:i.queueMicrotask?i.queueMicrotask:i.setImmediate?i.setImmediate:i.setTimeout)}function b(x,v,y,S,M){return m.importKey("raw",x,{name:"PBKDF2"},!1,["deriveBits"]).then(function(P){return m.deriveBits({name:"PBKDF2",salt:v,iterations:y,hash:{name:M}},P,S<<3)}).then(function(P){return l.from(P)})}s.exports=function(x,v,y,S,M,P){typeof M=="function"&&(P=M,M=void 0);var B=A[(M=M||"sha1").toLowerCase()];if(B&&typeof i.Promise=="function"){if(d(y,S),x=h(x,u,"Password"),v=h(v,u,"Salt"),typeof P!="function")throw new Error("No callback provided to pbkdf2");(function(D,L){D.then(function(O){p()(function(){L(null,O)})},function(O){p()(function(){L(O)})})})(function(D){if(i.process&&!i.process.browser||!m||!m.importKey||!m.deriveBits)return Promise.resolve(!1);if(g[D]!==void 0)return g[D];var L=b(o=o||l.alloc(8),o,10,128,D).then(function(){return!0}).catch(function(){return!1});return g[D]=L,L}(B).then(function(D){return D?b(x,v,y,S,B):f(x,v,y,S,M)}),P)}else p()(function(){var D;try{D=f(x,v,y,S,M)}catch(L){return P(L)}P(null,D)})}}).call(this)}).call(this,typeof an<"u"?an:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,s,a){(function(i,o){(function(){var c;o.process&&o.process.browser?c="utf-8":o.process&&o.process.version?c=parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":c="utf-8",s.exports=c}).call(this)}).call(this,e("_process"),typeof an<"u"?an:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,s,a){var i=Math.pow(2,30)-1;s.exports=function(o,c){if(typeof o!="number")throw new TypeError("Iterations not a number");if(o<0)throw new TypeError("Bad iterations");if(typeof c!="number")throw new TypeError("Key length not a number");if(c<0||c>i||c!=c)throw new TypeError("Bad key length")}},{}],464:[function(e,s,a){var i=e("create-hash/md5"),o=e("ripemd160"),c=e("sha.js"),l=e("safe-buffer").Buffer,d=e("./precondition"),u=e("./default-encoding"),f=e("./to-buffer"),h=l.alloc(128),m={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function A(g,p,b){var x=function(B){function D(L){return c(B).update(L).digest()}return B==="rmd160"||B==="ripemd160"?function(L){return new o().update(L).digest()}:B==="md5"?i:D}(g),v=g==="sha512"||g==="sha384"?128:64;p.length>v?p=x(p):p.length<v&&(p=l.concat([p,h],v));for(var y=l.allocUnsafe(v+m[g]),S=l.allocUnsafe(v+m[g]),M=0;M<v;M++)y[M]=54^p[M],S[M]=92^p[M];var P=l.allocUnsafe(v+b+4);y.copy(P,0,0,v),this.ipad1=P,this.ipad2=y,this.opad=S,this.alg=g,this.blocksize=v,this.hash=x,this.size=m[g]}A.prototype.run=function(g,p){return g.copy(p,this.blocksize),this.hash(p).copy(this.opad,this.blocksize),this.hash(this.opad)},s.exports=function(g,p,b,x,v){d(b,x);var y=new A(v=v||"sha1",g=f(g,u,"Password"),(p=f(p,u,"Salt")).length),S=l.allocUnsafe(x),M=l.allocUnsafe(p.length+4);p.copy(M,0,0,p.length);for(var P=0,B=m[v],D=Math.ceil(x/B),L=1;L<=D;L++){M.writeUInt32BE(L,p.length);for(var O=y.run(M,y.ipad1),F=O,_=1;_<b;_++){F=y.run(F,y.ipad2);for(var E=0;E<B;E++)O[E]^=F[E]}O.copy(S,P),P+=B}return S}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,s,a){var i=e("safe-buffer").Buffer;s.exports=function(o,c,l){if(i.isBuffer(o))return o;if(typeof o=="string")return i.from(o,c);if(ArrayBuffer.isView(o))return i.from(o.buffer);throw new TypeError(l+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,s,a){(function(i){(function(){i===void 0||!i.version||i.version.indexOf("v0.")===0||i.version.indexOf("v1.")===0&&i.version.indexOf("v1.8.")!==0?s.exports={nextTick:function(o,c,l,d){if(typeof o!="function")throw new TypeError('"callback" argument must be a function');var u,f,h=arguments.length;switch(h){case 0:case 1:return i.nextTick(o);case 2:return i.nextTick(function(){o.call(null,c)});case 3:return i.nextTick(function(){o.call(null,c,l)});case 4:return i.nextTick(function(){o.call(null,c,l,d)});default:for(u=new Array(h-1),f=0;f<u.length;)u[f++]=arguments[f];return i.nextTick(function(){o.apply(null,u)})}}}:s.exports=i}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,s,a){var i,o,c=s.exports={};function l(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function u(v){if(i===setTimeout)return setTimeout(v,0);if((i===l||!i)&&setTimeout)return i=setTimeout,setTimeout(v,0);try{return i(v,0)}catch{try{return i.call(null,v,0)}catch{return i.call(this,v,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:l}catch{i=l}try{o=typeof clearTimeout=="function"?clearTimeout:d}catch{o=d}})();var f,h=[],m=!1,A=-1;function g(){m&&f&&(m=!1,f.length?h=f.concat(h):A=-1,h.length&&p())}function p(){if(!m){var v=u(g);m=!0;for(var y=h.length;y;){for(f=h,h=[];++A<y;)f&&f[A].run();A=-1,y=h.length}f=null,m=!1,function(S){if(o===clearTimeout)return clearTimeout(S);if((o===d||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(S);try{o(S)}catch{try{return o.call(null,S)}catch{return o.call(this,S)}}}(v)}}function b(v,y){this.fun=v,this.array=y}function x(){}c.nextTick=function(v){var y=new Array(arguments.length-1);if(arguments.length>1)for(var S=1;S<arguments.length;S++)y[S-1]=arguments[S];h.push(new b(v,y)),h.length!==1||m||u(p)},b.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=x,c.addListener=x,c.once=x,c.off=x,c.removeListener=x,c.removeAllListeners=x,c.emit=x,c.prependListener=x,c.prependOnceListener=x,c.listeners=function(v){return[]},c.binding=function(v){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(v){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],468:[function(e,s,a){a.publicEncrypt=e("./publicEncrypt"),a.privateDecrypt=e("./privateDecrypt"),a.privateEncrypt=function(i,o){return a.publicEncrypt(i,o,!0)},a.publicDecrypt=function(i,o){return a.privateDecrypt(i,o,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,s,a){var i=e("create-hash"),o=e("safe-buffer").Buffer;function c(l){var d=o.allocUnsafe(4);return d.writeUInt32BE(l,0),d}s.exports=function(l,d){for(var u,f=o.alloc(0),h=0;f.length<d;)u=c(h++),f=o.concat([f,i("sha1").update(l).update(u).digest()]);return f.slice(0,d)}},{"create-hash":386,"safe-buffer":494}],470:[function(e,s,a){arguments[4][184][0].apply(a,arguments)},{buffer:188,dup:184}],471:[function(e,s,a){var i=e("parse-asn1"),o=e("./mgf"),c=e("./xor"),l=e("bn.js"),d=e("browserify-rsa"),u=e("create-hash"),f=e("./withPublic"),h=e("safe-buffer").Buffer;s.exports=function(m,A,g){var p;p=m.padding?m.padding:g?1:4;var b,x=i(m),v=x.modulus.byteLength();if(A.length>v||new l(A).cmp(x.modulus)>=0)throw new Error("decryption error");b=g?f(new l(A),x):d(A,x);var y=h.alloc(v-b.length);if(b=h.concat([y,b],v),p===4)return function(S,M){var P=S.modulus.byteLength(),B=u("sha1").update(h.alloc(0)).digest(),D=B.length;if(M[0]!==0)throw new Error("decryption error");var L=M.slice(1,D+1),O=M.slice(D+1),F=c(L,o(O,D)),_=c(O,o(F,P-D-1));if(function(T,w){T=h.from(T),w=h.from(w);var C=0,j=T.length;T.length!==w.length&&(C++,j=Math.min(T.length,w.length));for(var N=-1;++N<j;)C+=T[N]^w[N];return C}(B,_.slice(0,D)))throw new Error("decryption error");for(var E=D;_[E]===0;)E++;if(_[E++]!==1)throw new Error("decryption error");return _.slice(E)}(x,b);if(p===1)return function(S,M,P){for(var B=M.slice(0,2),D=2,L=0;M[D++]!==0;)if(D>=M.length){L++;break}var O=M.slice(2,D-1);if((B.toString("hex")!=="0002"&&!P||B.toString("hex")!=="0001"&&P)&&L++,O.length<8&&L++,L)throw new Error("decryption error");return M.slice(D)}(0,b,g);if(p===3)return b;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,s,a){var i=e("parse-asn1"),o=e("randombytes"),c=e("create-hash"),l=e("./mgf"),d=e("./xor"),u=e("bn.js"),f=e("./withPublic"),h=e("browserify-rsa"),m=e("safe-buffer").Buffer;s.exports=function(A,g,p){var b;b=A.padding?A.padding:p?1:4;var x,v=i(A);if(b===4)x=function(y,S){var M=y.modulus.byteLength(),P=S.length,B=c("sha1").update(m.alloc(0)).digest(),D=B.length,L=2*D;if(P>M-L-2)throw new Error("message too long");var O=m.alloc(M-P-L-2),F=M-D-1,_=o(D),E=d(m.concat([B,O,m.alloc(1,1),S],F),l(_,F)),T=d(_,l(E,D));return new u(m.concat([m.alloc(1),T,E],M))}(v,g);else if(b===1)x=function(y,S,M){var P,B=S.length,D=y.modulus.byteLength();if(B>D-11)throw new Error("message too long");return P=M?m.alloc(D-B-3,255):function(L){for(var O,F=m.allocUnsafe(L),_=0,E=o(2*L),T=0;_<L;)T===E.length&&(E=o(2*L),T=0),(O=E[T++])&&(F[_++]=O);return F}(D-B-3),new u(m.concat([m.from([0,M?1:2]),P,m.alloc(1),S],D))}(v,g,p);else{if(b!==3)throw new Error("unknown padding");if((x=new u(g)).cmp(v.modulus)>=0)throw new Error("data too long for modulus")}return p?h(x,v):f(x,v)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,s,a){var i=e("bn.js"),o=e("safe-buffer").Buffer;s.exports=function(c,l){return o.from(c.toRed(i.mont(l.modulus)).redPow(new i(l.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(e,s,a){s.exports=function(i,o){for(var c=i.length,l=-1;++l<c;)i[l]^=o[l];return i}},{}],475:[function(e,s,a){(function(i,o){(function(){var c=e("safe-buffer").Buffer,l=o.crypto||o.msCrypto;l&&l.getRandomValues?s.exports=function(d,u){if(d>4294967295)throw new RangeError("requested too many random bytes");var f=c.allocUnsafe(d);if(d>0)if(d>65536)for(var h=0;h<d;h+=65536)l.getRandomValues(f.slice(h,h+65536));else l.getRandomValues(f);return typeof u=="function"?i.nextTick(function(){u(null,f)}):f}:s.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,e("_process"),typeof an<"u"?an:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,s,a){(function(i,o){(function(){function c(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var l=e("safe-buffer"),d=e("randombytes"),u=l.Buffer,f=l.kMaxLength,h=o.crypto||o.msCrypto,m=Math.pow(2,32)-1;function A(b,x){if(typeof b!="number"||b!=b)throw new TypeError("offset must be a number");if(b>m||b<0)throw new TypeError("offset must be a uint32");if(b>f||b>x)throw new RangeError("offset out of range")}function g(b,x,v){if(typeof b!="number"||b!=b)throw new TypeError("size must be a number");if(b>m||b<0)throw new TypeError("size must be a uint32");if(b+x>v||b>f)throw new RangeError("buffer too small")}function p(b,x,v,y){if(i.browser){var S=b.buffer,M=new Uint8Array(S,x,v);return h.getRandomValues(M),y?void i.nextTick(function(){y(null,b)}):b}if(!y)return d(v).copy(b,x),b;d(v,function(P,B){if(P)return y(P);B.copy(b,x),y(null,b)})}h&&h.getRandomValues||!i.browser?(a.randomFill=function(b,x,v,y){if(!(u.isBuffer(b)||b instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof x=="function")y=x,x=0,v=b.length;else if(typeof v=="function")y=v,v=b.length-x;else if(typeof y!="function")throw new TypeError('"cb" argument must be a function');return A(x,b.length),g(v,x,b.length),p(b,x,v,y)},a.randomFillSync=function(b,x,v){if(x===void 0&&(x=0),!(u.isBuffer(b)||b instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return A(x,b.length),v===void 0&&(v=b.length-x),g(v,x,b.length),p(b,x,v)}):(a.randomFill=c,a.randomFillSync=c)}).call(this)}).call(this,e("_process"),typeof an<"u"?an:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,s,a){var i={};function o(l,d,u){u||(u=Error);var f=function(h){var m,A;function g(p,b,x){return h.call(this,function(v,y,S){return typeof d=="string"?d:d(v,y,S)}(p,b,x))||this}return A=h,(m=g).prototype=Object.create(A.prototype),m.prototype.constructor=m,m.__proto__=A,g}(u);f.prototype.name=u.name,f.prototype.code=l,i[l]=f}function c(l,d){if(Array.isArray(l)){var u=l.length;return l=l.map(function(f){return String(f)}),u>2?"one of ".concat(d," ").concat(l.slice(0,u-1).join(", "),", or ")+l[u-1]:u===2?"one of ".concat(d," ").concat(l[0]," or ").concat(l[1]):"of ".concat(d," ").concat(l[0])}return"of ".concat(d," ").concat(String(l))}o("ERR_INVALID_OPT_VALUE",function(l,d){return'The value "'+d+'" is invalid for option "'+l+'"'},TypeError),o("ERR_INVALID_ARG_TYPE",function(l,d,u){var f,h,m;if(typeof d=="string"&&(h="not ",d.substr(0,h.length)===h)?(f="must not be",d=d.replace(/^not /,"")):f="must be",function(g,p,b){return(b===void 0||b>g.length)&&(b=g.length),g.substring(b-p.length,b)===p}(l," argument"))m="The ".concat(l," ").concat(f," ").concat(c(d,"type"));else{var A=function(g,p,b){return typeof b!="number"&&(b=0),!(b+p.length>g.length)&&g.indexOf(p,b)!==-1}(l,".")?"property":"argument";m='The "'.concat(l,'" ').concat(A," ").concat(f," ").concat(c(d,"type"))}return m+=". Received type ".concat(typeof u)},TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.codes=i},{}],478:[function(e,s,a){(function(i){(function(){var o=Object.keys||function(g){var p=[];for(var b in g)p.push(b);return p};s.exports=h;var c=e("./_stream_readable"),l=e("./_stream_writable");e("inherits")(h,c);for(var d=o(l.prototype),u=0;u<d.length;u++){var f=d[u];h.prototype[f]||(h.prototype[f]=l.prototype[f])}function h(g){if(!(this instanceof h))return new h(g);c.call(this,g),l.call(this,g),this.allowHalfOpen=!0,g&&(g.readable===!1&&(this.readable=!1),g.writable===!1&&(this.writable=!1),g.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",m)))}function m(){this._writableState.ended||i.nextTick(A,this)}function A(g){g.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,s,a){s.exports=o;var i=e("./_stream_transform");function o(c){if(!(this instanceof o))return new o(c);i.call(this,c)}e("inherits")(o,i),o.prototype._transform=function(c,l,d){d(null,c)}},{"./_stream_transform":481,inherits:440}],480:[function(e,s,a){(function(i,o){(function(){var c;s.exports=F,F.ReadableState=O,e("events").EventEmitter;var l=function(H,$){return H.listeners($).length},d=e("./internal/streams/stream"),u=e("buffer").Buffer,f=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,m=e("util");h=m&&m.debuglog?m.debuglog("stream"):function(){};var A,g,p,b=e("./internal/streams/buffer_list"),x=e("./internal/streams/destroy"),v=e("./internal/streams/state").getHighWaterMark,y=e("../errors").codes,S=y.ERR_INVALID_ARG_TYPE,M=y.ERR_STREAM_PUSH_AFTER_EOF,P=y.ERR_METHOD_NOT_IMPLEMENTED,B=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(F,d);var D=x.errorOrDestroy,L=["error","close","destroy","pause","resume"];function O(H,$,G){c=c||e("./_stream_duplex"),H=H||{},typeof G!="boolean"&&(G=$ instanceof c),this.objectMode=!!H.objectMode,G&&(this.objectMode=this.objectMode||!!H.readableObjectMode),this.highWaterMark=v(this,H,"readableHighWaterMark",G),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=H.emitClose!==!1,this.autoDestroy=!!H.autoDestroy,this.destroyed=!1,this.defaultEncoding=H.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,H.encoding&&(A||(A=e("string_decoder/").StringDecoder),this.decoder=new A(H.encoding),this.encoding=H.encoding)}function F(H){if(c=c||e("./_stream_duplex"),!(this instanceof F))return new F(H);var $=this instanceof c;this._readableState=new O(H,this,$),this.readable=!0,H&&(typeof H.read=="function"&&(this._read=H.read),typeof H.destroy=="function"&&(this._destroy=H.destroy)),d.call(this)}function _(H,$,G,J,te){h("readableAddChunk",$);var K,ne=H._readableState;if($===null)ne.reading=!1,function(ce,oe){if(h("onEofChunk"),!oe.ended){if(oe.decoder){var ee=oe.decoder.end();ee&&ee.length&&(oe.buffer.push(ee),oe.length+=oe.objectMode?1:ee.length)}oe.ended=!0,oe.sync?w(ce):(oe.needReadable=!1,oe.emittedReadable||(oe.emittedReadable=!0,C(ce)))}}(H,ne);else if(te||(K=function(ce,oe){var ee;W=oe,u.isBuffer(W)||W instanceof f||typeof oe=="string"||oe===void 0||ce.objectMode||(ee=new S("chunk",["string","Buffer","Uint8Array"],oe));var W;return ee}(ne,$)),K)D(H,K);else if(ne.objectMode||$&&$.length>0)if(typeof $=="string"||ne.objectMode||Object.getPrototypeOf($)===u.prototype||($=function(ce){return u.from(ce)}($)),J)ne.endEmitted?D(H,new B):E(H,ne,$,!0);else if(ne.ended)D(H,new M);else{if(ne.destroyed)return!1;ne.reading=!1,ne.decoder&&!G?($=ne.decoder.write($),ne.objectMode||$.length!==0?E(H,ne,$,!1):j(H,ne)):E(H,ne,$,!1)}else J||(ne.reading=!1,j(H,ne));return!ne.ended&&(ne.length<ne.highWaterMark||ne.length===0)}function E(H,$,G,J){$.flowing&&$.length===0&&!$.sync?($.awaitDrain=0,H.emit("data",G)):($.length+=$.objectMode?1:G.length,J?$.buffer.unshift(G):$.buffer.push(G),$.needReadable&&w(H)),j(H,$)}Object.defineProperty(F.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(H){this._readableState&&(this._readableState.destroyed=H)}}),F.prototype.destroy=x.destroy,F.prototype._undestroy=x.undestroy,F.prototype._destroy=function(H,$){$(H)},F.prototype.push=function(H,$){var G,J=this._readableState;return J.objectMode?G=!0:typeof H=="string"&&(($=$||J.defaultEncoding)!==J.encoding&&(H=u.from(H,$),$=""),G=!0),_(this,H,$,!1,G)},F.prototype.unshift=function(H){return _(this,H,null,!0,!1)},F.prototype.isPaused=function(){return this._readableState.flowing===!1},F.prototype.setEncoding=function(H){A||(A=e("string_decoder/").StringDecoder);var $=new A(H);this._readableState.decoder=$,this._readableState.encoding=this._readableState.decoder.encoding;for(var G=this._readableState.buffer.head,J="";G!==null;)J+=$.write(G.data),G=G.next;return this._readableState.buffer.clear(),J!==""&&this._readableState.buffer.push(J),this._readableState.length=J.length,this};function T(H,$){return H<=0||$.length===0&&$.ended?0:$.objectMode?1:H!=H?$.flowing&&$.length?$.buffer.head.data.length:$.length:(H>$.highWaterMark&&($.highWaterMark=function(G){return G>=1073741824?G=1073741824:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G}(H)),H<=$.length?H:$.ended?$.length:($.needReadable=!0,0))}function w(H){var $=H._readableState;h("emitReadable",$.needReadable,$.emittedReadable),$.needReadable=!1,$.emittedReadable||(h("emitReadable",$.flowing),$.emittedReadable=!0,i.nextTick(C,H))}function C(H){var $=H._readableState;h("emitReadable_",$.destroyed,$.length,$.ended),$.destroyed||!$.length&&!$.ended||(H.emit("readable"),$.emittedReadable=!1),$.needReadable=!$.flowing&&!$.ended&&$.length<=$.highWaterMark,V(H)}function j(H,$){$.readingMore||($.readingMore=!0,i.nextTick(N,H,$))}function N(H,$){for(;!$.reading&&!$.ended&&($.length<$.highWaterMark||$.flowing&&$.length===0);){var G=$.length;if(h("maybeReadMore read 0"),H.read(0),G===$.length)break}$.readingMore=!1}function I(H){var $=H._readableState;$.readableListening=H.listenerCount("readable")>0,$.resumeScheduled&&!$.paused?$.flowing=!0:H.listenerCount("data")>0&&H.resume()}function R(H){h("readable nexttick read 0"),H.read(0)}function U(H,$){h("resume",$.reading),$.reading||H.read(0),$.resumeScheduled=!1,H.emit("resume"),V(H),$.flowing&&!$.reading&&H.read(0)}function V(H){var $=H._readableState;for(h("flow",$.flowing);$.flowing&&H.read()!==null;);}function z(H,$){return $.length===0?null:($.objectMode?G=$.buffer.shift():!H||H>=$.length?(G=$.decoder?$.buffer.join(""):$.buffer.length===1?$.buffer.first():$.buffer.concat($.length),$.buffer.clear()):G=$.buffer.consume(H,$.decoder),G);var G}function X(H){var $=H._readableState;h("endReadable",$.endEmitted),$.endEmitted||($.ended=!0,i.nextTick(Q,$,H))}function Q(H,$){if(h("endReadableNT",H.endEmitted,H.length),!H.endEmitted&&H.length===0&&(H.endEmitted=!0,$.readable=!1,$.emit("end"),H.autoDestroy)){var G=$._writableState;(!G||G.autoDestroy&&G.finished)&&$.destroy()}}function q(H,$){for(var G=0,J=H.length;G<J;G++)if(H[G]===$)return G;return-1}F.prototype.read=function(H){h("read",H),H=parseInt(H,10);var $=this._readableState,G=H;if(H!==0&&($.emittedReadable=!1),H===0&&$.needReadable&&(($.highWaterMark!==0?$.length>=$.highWaterMark:$.length>0)||$.ended))return h("read: emitReadable",$.length,$.ended),$.length===0&&$.ended?X(this):w(this),null;if((H=T(H,$))===0&&$.ended)return $.length===0&&X(this),null;var J,te=$.needReadable;return h("need readable",te),($.length===0||$.length-H<$.highWaterMark)&&h("length less than watermark",te=!0),$.ended||$.reading?h("reading or ended",te=!1):te&&(h("do read"),$.reading=!0,$.sync=!0,$.length===0&&($.needReadable=!0),this._read($.highWaterMark),$.sync=!1,$.reading||(H=T(G,$))),(J=H>0?z(H,$):null)===null?($.needReadable=$.length<=$.highWaterMark,H=0):($.length-=H,$.awaitDrain=0),$.length===0&&($.ended||($.needReadable=!0),G!==H&&$.ended&&X(this)),J!==null&&this.emit("data",J),J},F.prototype._read=function(H){D(this,new P("_read()"))},F.prototype.pipe=function(H,$){var G=this,J=this._readableState;switch(J.pipesCount){case 0:J.pipes=H;break;case 1:J.pipes=[J.pipes,H];break;default:J.pipes.push(H)}J.pipesCount+=1,h("pipe count=%d opts=%j",J.pipesCount,$);var te=(!$||$.end!==!1)&&H!==i.stdout&&H!==i.stderr?ne:se;function K(re,le){h("onunpipe"),re===G&&le&&le.hasUnpiped===!1&&(le.hasUnpiped=!0,h("cleanup"),H.removeListener("close",Y),H.removeListener("finish",Z),H.removeListener("drain",ce),H.removeListener("error",W),H.removeListener("unpipe",K),G.removeListener("end",ne),G.removeListener("end",se),G.removeListener("data",ee),oe=!0,!J.awaitDrain||H._writableState&&!H._writableState.needDrain||ce())}function ne(){h("onend"),H.end()}J.endEmitted?i.nextTick(te):G.once("end",te),H.on("unpipe",K);var ce=function(re){return function(){var le=re._readableState;h("pipeOnDrain",le.awaitDrain),le.awaitDrain&&le.awaitDrain--,le.awaitDrain===0&&l(re,"data")&&(le.flowing=!0,V(re))}}(G);H.on("drain",ce);var oe=!1;function ee(re){h("ondata");var le=H.write(re);h("dest.write",le),le===!1&&((J.pipesCount===1&&J.pipes===H||J.pipesCount>1&&q(J.pipes,H)!==-1)&&!oe&&(h("false write response, pause",J.awaitDrain),J.awaitDrain++),G.pause())}function W(re){h("onerror",re),se(),H.removeListener("error",W),l(H,"error")===0&&D(H,re)}function Y(){H.removeListener("finish",Z),se()}function Z(){h("onfinish"),H.removeListener("close",Y),se()}function se(){h("unpipe"),G.unpipe(H)}return G.on("data",ee),function(re,le,ae){if(typeof re.prependListener=="function")return re.prependListener(le,ae);re._events&&re._events[le]?Array.isArray(re._events[le])?re._events[le].unshift(ae):re._events[le]=[ae,re._events[le]]:re.on(le,ae)}(H,"error",W),H.once("close",Y),H.once("finish",Z),H.emit("pipe",G),J.flowing||(h("pipe resume"),G.resume()),H},F.prototype.unpipe=function(H){var $=this._readableState,G={hasUnpiped:!1};if($.pipesCount===0)return this;if($.pipesCount===1)return H&&H!==$.pipes||(H||(H=$.pipes),$.pipes=null,$.pipesCount=0,$.flowing=!1,H&&H.emit("unpipe",this,G)),this;if(!H){var J=$.pipes,te=$.pipesCount;$.pipes=null,$.pipesCount=0,$.flowing=!1;for(var K=0;K<te;K++)J[K].emit("unpipe",this,{hasUnpiped:!1});return this}var ne=q($.pipes,H);return ne===-1||($.pipes.splice(ne,1),$.pipesCount-=1,$.pipesCount===1&&($.pipes=$.pipes[0]),H.emit("unpipe",this,G)),this},F.prototype.on=function(H,$){var G=d.prototype.on.call(this,H,$),J=this._readableState;return H==="data"?(J.readableListening=this.listenerCount("readable")>0,J.flowing!==!1&&this.resume()):H==="readable"&&(J.endEmitted||J.readableListening||(J.readableListening=J.needReadable=!0,J.flowing=!1,J.emittedReadable=!1,h("on readable",J.length,J.reading),J.length?w(this):J.reading||i.nextTick(R,this))),G},F.prototype.addListener=F.prototype.on,F.prototype.removeListener=function(H,$){var G=d.prototype.removeListener.call(this,H,$);return H==="readable"&&i.nextTick(I,this),G},F.prototype.removeAllListeners=function(H){var $=d.prototype.removeAllListeners.apply(this,arguments);return H!=="readable"&&H!==void 0||i.nextTick(I,this),$},F.prototype.resume=function(){var H=this._readableState;return H.flowing||(h("resume"),H.flowing=!H.readableListening,function($,G){G.resumeScheduled||(G.resumeScheduled=!0,i.nextTick(U,$,G))}(this,H)),H.paused=!1,this},F.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},F.prototype.wrap=function(H){var $=this,G=this._readableState,J=!1;for(var te in H.on("end",function(){if(h("wrapped end"),G.decoder&&!G.ended){var ne=G.decoder.end();ne&&ne.length&&$.push(ne)}$.push(null)}),H.on("data",function(ne){h("wrapped data"),G.decoder&&(ne=G.decoder.write(ne)),G.objectMode&&ne==null||(G.objectMode||ne&&ne.length)&&($.push(ne)||(J=!0,H.pause()))}),H)this[te]===void 0&&typeof H[te]=="function"&&(this[te]=function(ne){return function(){return H[ne].apply(H,arguments)}}(te));for(var K=0;K<L.length;K++)H.on(L[K],this.emit.bind(this,L[K]));return this._read=function(ne){h("wrapped _read",ne),J&&(J=!1,H.resume())},this},typeof Symbol=="function"&&(F.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=e("./internal/streams/async_iterator")),g(this)}),Object.defineProperty(F.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(F.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(F.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(H){this._readableState&&(this._readableState.flowing=H)}}),F._fromList=z,Object.defineProperty(F.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(F.from=function(H,$){return p===void 0&&(p=e("./internal/streams/from")),p(F,H,$)})}).call(this)}).call(this,e("_process"),typeof an<"u"?an:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,s,a){s.exports=h;var i=e("../errors").codes,o=i.ERR_METHOD_NOT_IMPLEMENTED,c=i.ERR_MULTIPLE_CALLBACK,l=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,d=i.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");function f(g,p){var b=this._transformState;b.transforming=!1;var x=b.writecb;if(x===null)return this.emit("error",new c);b.writechunk=null,b.writecb=null,p!=null&&this.push(p),x(g);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function h(g){if(!(this instanceof h))return new h(g);u.call(this,g),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,g&&(typeof g.transform=="function"&&(this._transform=g.transform),typeof g.flush=="function"&&(this._flush=g.flush)),this.on("prefinish",m)}function m(){var g=this;typeof this._flush!="function"||this._readableState.destroyed?A(this,null,null):this._flush(function(p,b){A(g,p,b)})}function A(g,p,b){if(p)return g.emit("error",p);if(b!=null&&g.push(b),g._writableState.length)throw new d;if(g._transformState.transforming)throw new l;return g.push(null)}e("inherits")(h,u),h.prototype.push=function(g,p){return this._transformState.needTransform=!1,u.prototype.push.call(this,g,p)},h.prototype._transform=function(g,p,b){b(new o("_transform()"))},h.prototype._write=function(g,p,b){var x=this._transformState;if(x.writecb=b,x.writechunk=g,x.writeencoding=p,!x.transforming){var v=this._readableState;(x.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},h.prototype._read=function(g){var p=this._transformState;p.writechunk===null||p.transforming?p.needTransform=!0:(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform))},h.prototype._destroy=function(g,p){u.prototype._destroy.call(this,g,function(b){p(b)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,s,a){(function(i,o){(function(){function c(N){var I=this;this.next=null,this.entry=null,this.finish=function(){(function(R,U,V){var z=R.entry;for(R.entry=null;z;){var X=z.callback;U.pendingcb--,X(V),z=z.next}U.corkedRequestsFree.next=R})(I,N)}}var l;s.exports=F,F.WritableState=O;var d={deprecate:e("util-deprecate")},u=e("./internal/streams/stream"),f=e("buffer").Buffer,h=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},m,A=e("./internal/streams/destroy"),g=e("./internal/streams/state").getHighWaterMark,p=e("../errors").codes,b=p.ERR_INVALID_ARG_TYPE,x=p.ERR_METHOD_NOT_IMPLEMENTED,v=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,S=p.ERR_STREAM_DESTROYED,M=p.ERR_STREAM_NULL_VALUES,P=p.ERR_STREAM_WRITE_AFTER_END,B=p.ERR_UNKNOWN_ENCODING,D=A.errorOrDestroy;function L(){}function O(N,I,R){l=l||e("./_stream_duplex"),N=N||{},typeof R!="boolean"&&(R=I instanceof l),this.objectMode=!!N.objectMode,R&&(this.objectMode=this.objectMode||!!N.writableObjectMode),this.highWaterMark=g(this,N,"writableHighWaterMark",R),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var U=N.decodeStrings===!1;this.decodeStrings=!U,this.defaultEncoding=N.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(V){(function(z,X){var Q=z._writableState,q=Q.sync,H=Q.writecb;if(typeof H!="function")throw new v;if(function(G){G.writing=!1,G.writecb=null,G.length-=G.writelen,G.writelen=0}(Q),X)(function(G,J,te,K,ne){--J.pendingcb,te?(i.nextTick(ne,K),i.nextTick(j,G,J),G._writableState.errorEmitted=!0,D(G,K)):(ne(K),G._writableState.errorEmitted=!0,D(G,K),j(G,J))})(z,Q,q,X,H);else{var $=w(Q)||z.destroyed;$||Q.corked||Q.bufferProcessing||!Q.bufferedRequest||T(z,Q),q?i.nextTick(E,z,Q,$,H):E(z,Q,$,H)}})(I,V)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=N.emitClose!==!1,this.autoDestroy=!!N.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new c(this)}function F(N){var I=this instanceof(l=l||e("./_stream_duplex"));if(!I&&!m.call(F,this))return new F(N);this._writableState=new O(N,this,I),this.writable=!0,N&&(typeof N.write=="function"&&(this._write=N.write),typeof N.writev=="function"&&(this._writev=N.writev),typeof N.destroy=="function"&&(this._destroy=N.destroy),typeof N.final=="function"&&(this._final=N.final)),u.call(this)}function _(N,I,R,U,V,z,X){I.writelen=U,I.writecb=X,I.writing=!0,I.sync=!0,I.destroyed?I.onwrite(new S("write")):R?N._writev(V,I.onwrite):N._write(V,z,I.onwrite),I.sync=!1}function E(N,I,R,U){R||function(V,z){z.length===0&&z.needDrain&&(z.needDrain=!1,V.emit("drain"))}(N,I),I.pendingcb--,U(),j(N,I)}function T(N,I){I.bufferProcessing=!0;var R=I.bufferedRequest;if(N._writev&&R&&R.next){var U=I.bufferedRequestCount,V=new Array(U),z=I.corkedRequestsFree;z.entry=R;for(var X=0,Q=!0;R;)V[X]=R,R.isBuf||(Q=!1),R=R.next,X+=1;V.allBuffers=Q,_(N,I,!0,I.length,V,"",z.finish),I.pendingcb++,I.lastBufferedRequest=null,z.next?(I.corkedRequestsFree=z.next,z.next=null):I.corkedRequestsFree=new c(I),I.bufferedRequestCount=0}else{for(;R;){var q=R.chunk,H=R.encoding,$=R.callback;if(_(N,I,!1,I.objectMode?1:q.length,q,H,$),R=R.next,I.bufferedRequestCount--,I.writing)break}R===null&&(I.lastBufferedRequest=null)}I.bufferedRequest=R,I.bufferProcessing=!1}function w(N){return N.ending&&N.length===0&&N.bufferedRequest===null&&!N.finished&&!N.writing}function C(N,I){N._final(function(R){I.pendingcb--,R&&D(N,R),I.prefinished=!0,N.emit("prefinish"),j(N,I)})}function j(N,I){var R=w(I);if(R&&(function(V,z){z.prefinished||z.finalCalled||(typeof V._final!="function"||z.destroyed?(z.prefinished=!0,V.emit("prefinish")):(z.pendingcb++,z.finalCalled=!0,i.nextTick(C,V,z)))}(N,I),I.pendingcb===0&&(I.finished=!0,N.emit("finish"),I.autoDestroy))){var U=N._readableState;(!U||U.autoDestroy&&U.endEmitted)&&N.destroy()}return R}e("inherits")(F,u),O.prototype.getBuffer=function(){for(var N=this.bufferedRequest,I=[];N;)I.push(N),N=N.next;return I},function(){try{Object.defineProperty(O.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(F,Symbol.hasInstance,{value:function(N){return!!m.call(this,N)||this===F&&N&&N._writableState instanceof O}})):m=function(N){return N instanceof this},F.prototype.pipe=function(){D(this,new y)},F.prototype.write=function(N,I,R){var U,V=this._writableState,z=!1,X=!V.objectMode&&(U=N,f.isBuffer(U)||U instanceof h);return X&&!f.isBuffer(N)&&(N=function(Q){return f.from(Q)}(N)),typeof I=="function"&&(R=I,I=null),X?I="buffer":I||(I=V.defaultEncoding),typeof R!="function"&&(R=L),V.ending?function(Q,q){var H=new P;D(Q,H),i.nextTick(q,H)}(this,R):(X||function(Q,q,H,$){var G;return H===null?G=new M:typeof H=="string"||q.objectMode||(G=new b("chunk",["string","Buffer"],H)),!G||(D(Q,G),i.nextTick($,G),!1)}(this,V,N,R))&&(V.pendingcb++,z=function(Q,q,H,$,G,J){if(!H){var te=function(oe,ee,W){return oe.objectMode||oe.decodeStrings===!1||typeof ee!="string"||(ee=f.from(ee,W)),ee}(q,$,G);$!==te&&(H=!0,G="buffer",$=te)}var K=q.objectMode?1:$.length;q.length+=K;var ne=q.length<q.highWaterMark;if(ne||(q.needDrain=!0),q.writing||q.corked){var ce=q.lastBufferedRequest;q.lastBufferedRequest={chunk:$,encoding:G,isBuf:H,callback:J,next:null},ce?ce.next=q.lastBufferedRequest:q.bufferedRequest=q.lastBufferedRequest,q.bufferedRequestCount+=1}else _(Q,q,!1,K,$,G,J);return ne}(this,V,X,N,I,R)),z},F.prototype.cork=function(){this._writableState.corked++},F.prototype.uncork=function(){var N=this._writableState;N.corked&&(N.corked--,N.writing||N.corked||N.bufferProcessing||!N.bufferedRequest||T(this,N))},F.prototype.setDefaultEncoding=function(N){if(typeof N=="string"&&(N=N.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((N+"").toLowerCase())>-1))throw new B(N);return this._writableState.defaultEncoding=N,this},Object.defineProperty(F.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(F.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),F.prototype._write=function(N,I,R){R(new x("_write()"))},F.prototype._writev=null,F.prototype.end=function(N,I,R){var U=this._writableState;return typeof N=="function"?(R=N,N=null,I=null):typeof I=="function"&&(R=I,I=null),N!=null&&this.write(N,I),U.corked&&(U.corked=1,this.uncork()),U.ending||function(V,z,X){z.ending=!0,j(V,z),X&&(z.finished?i.nextTick(X):V.once("finish",X)),z.ended=!0,V.writable=!1}(this,U,R),this},Object.defineProperty(F.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(F.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(N){this._writableState&&(this._writableState.destroyed=N)}}),F.prototype.destroy=A.destroy,F.prototype._undestroy=A.undestroy,F.prototype._destroy=function(N,I){I(N)}}).call(this)}).call(this,e("_process"),typeof an<"u"?an:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,s,a){(function(i){(function(){var o;function c(S,M,P){return(M=function(B){var D=function(L,O){if(typeof L!="object"||L===null)return L;var F=L[Symbol.toPrimitive];if(F!==void 0){var _=F.call(L,O);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(L)}(B,"string");return typeof D=="symbol"?D:String(D)}(M))in S?Object.defineProperty(S,M,{value:P,enumerable:!0,configurable:!0,writable:!0}):S[M]=P,S}var l=e("./end-of-stream"),d=Symbol("lastResolve"),u=Symbol("lastReject"),f=Symbol("error"),h=Symbol("ended"),m=Symbol("lastPromise"),A=Symbol("handlePromise"),g=Symbol("stream");function p(S,M){return{value:S,done:M}}function b(S){var M=S[d];if(M!==null){var P=S[g].read();P!==null&&(S[m]=null,S[d]=null,S[u]=null,M(p(P,!1)))}}function x(S){i.nextTick(b,S)}var v=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((c(o={get stream(){return this[g]},next:function(){var S=this,M=this[f];if(M!==null)return Promise.reject(M);if(this[h])return Promise.resolve(p(void 0,!0));if(this[g].destroyed)return new Promise(function(L,O){i.nextTick(function(){S[f]?O(S[f]):L(p(void 0,!0))})});var P,B=this[m];if(B)P=new Promise(function(L,O){return function(F,_){L.then(function(){O[h]?F(p(void 0,!0)):O[A](F,_)},_)}}(B,this));else{var D=this[g].read();if(D!==null)return Promise.resolve(p(D,!1));P=new Promise(this[A])}return this[m]=P,P}},Symbol.asyncIterator,function(){return this}),c(o,"return",function(){var S=this;return new Promise(function(M,P){S[g].destroy(null,function(B){B?P(B):M(p(void 0,!0))})})}),o),v);s.exports=function(S){var M,P=Object.create(y,(c(M={},g,{value:S,writable:!0}),c(M,d,{value:null,writable:!0}),c(M,u,{value:null,writable:!0}),c(M,f,{value:null,writable:!0}),c(M,h,{value:S._readableState.endEmitted,writable:!0}),c(M,A,{value:function(B,D){var L=P[g].read();L?(P[m]=null,P[d]=null,P[u]=null,B(p(L,!1))):(P[d]=B,P[u]=D)},writable:!0}),M));return P[m]=null,l(S,function(B){if(B&&B.code!=="ERR_STREAM_PREMATURE_CLOSE"){var D=P[u];return D!==null&&(P[m]=null,P[d]=null,P[u]=null,D(B)),void(P[f]=B)}var L=P[d];L!==null&&(P[m]=null,P[d]=null,P[u]=null,L(p(void 0,!0))),P[h]=!0}),S.on("readable",x.bind(null,P)),P}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,s,a){function i(m,A){var g=Object.keys(m);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(m);A&&(p=p.filter(function(b){return Object.getOwnPropertyDescriptor(m,b).enumerable})),g.push.apply(g,p)}return g}function o(m){for(var A=1;A<arguments.length;A++){var g=arguments[A]!=null?arguments[A]:{};A%2?i(Object(g),!0).forEach(function(p){c(m,p,g[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(g)):i(Object(g)).forEach(function(p){Object.defineProperty(m,p,Object.getOwnPropertyDescriptor(g,p))})}return m}function c(m,A,g){return(A=d(A))in m?Object.defineProperty(m,A,{value:g,enumerable:!0,configurable:!0,writable:!0}):m[A]=g,m}function l(m,A){for(var g=0;g<A.length;g++){var p=A[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,d(p.key),p)}}function d(m){var A=function(g,p){if(typeof g!="object"||g===null)return g;var b=g[Symbol.toPrimitive];if(b!==void 0){var x=b.call(g,p);if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(g)}(m,"string");return typeof A=="symbol"?A:String(A)}var u=e("buffer").Buffer,f=e("util").inspect,h=f&&f.custom||"inspect";s.exports=function(){function m(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,m),this.head=null,this.tail=null,this.length=0}var A,g;return A=m,(g=[{key:"push",value:function(p){var b={data:p,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length}},{key:"unshift",value:function(p){var b={data:p,next:this.head};this.length===0&&(this.tail=b),this.head=b,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var b=this.head,x=""+b.data;b=b.next;)x+=p+b.data;return x}},{key:"concat",value:function(p){if(this.length===0)return u.alloc(0);for(var b,x,v,y=u.allocUnsafe(p>>>0),S=this.head,M=0;S;)b=S.data,x=y,v=M,u.prototype.copy.call(b,x,v),M+=S.data.length,S=S.next;return y}},{key:"consume",value:function(p,b){var x;return p<this.head.data.length?(x=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):x=p===this.head.data.length?this.shift():b?this._getString(p):this._getBuffer(p),x}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var b=this.head,x=1,v=b.data;for(p-=v.length;b=b.next;){var y=b.data,S=p>y.length?y.length:p;if(S===y.length?v+=y:v+=y.slice(0,p),(p-=S)==0){S===y.length?(++x,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=y.slice(S));break}++x}return this.length-=x,v}},{key:"_getBuffer",value:function(p){var b=u.allocUnsafe(p),x=this.head,v=1;for(x.data.copy(b),p-=x.data.length;x=x.next;){var y=x.data,S=p>y.length?y.length:p;if(y.copy(b,b.length-p,0,S),(p-=S)==0){S===y.length?(++v,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=y.slice(S));break}++v}return this.length-=v,b}},{key:h,value:function(p,b){return f(this,o(o({},b),{},{depth:0,customInspect:!1}))}}])&&l(A.prototype,g),Object.defineProperty(A,"prototype",{writable:!1}),m}()},{buffer:220,util:188}],485:[function(e,s,a){(function(i){(function(){function o(d,u){l(d,u),c(d)}function c(d){d._writableState&&!d._writableState.emitClose||d._readableState&&!d._readableState.emitClose||d.emit("close")}function l(d,u){d.emit("error",u)}s.exports={destroy:function(d,u){var f=this,h=this._readableState&&this._readableState.destroyed,m=this._writableState&&this._writableState.destroyed;return h||m?(u?u(d):d&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(l,this,d)):i.nextTick(l,this,d)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(d||null,function(A){!u&&A?f._writableState?f._writableState.errorEmitted?i.nextTick(c,f):(f._writableState.errorEmitted=!0,i.nextTick(o,f,A)):i.nextTick(o,f,A):u?(i.nextTick(c,f),u(A)):i.nextTick(c,f)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(d,u){var f=d._readableState,h=d._writableState;f&&f.autoDestroy||h&&h.autoDestroy?d.destroy(u):d.emit("error",u)}}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,s,a){var i=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function o(){}s.exports=function c(l,d,u){if(typeof d=="function")return c(l,null,d);d||(d={}),u=function(S){var M=!1;return function(){if(!M){M=!0;for(var P=arguments.length,B=new Array(P),D=0;D<P;D++)B[D]=arguments[D];S.apply(this,B)}}}(u||o);var f=d.readable||d.readable!==!1&&l.readable,h=d.writable||d.writable!==!1&&l.writable,m=function(){l.writable||g()},A=l._writableState&&l._writableState.finished,g=function(){h=!1,A=!0,f||u.call(l)},p=l._readableState&&l._readableState.endEmitted,b=function(){f=!1,p=!0,h||u.call(l)},x=function(S){u.call(l,S)},v=function(){var S;return f&&!p?(l._readableState&&l._readableState.ended||(S=new i),u.call(l,S)):h&&!A?(l._writableState&&l._writableState.ended||(S=new i),u.call(l,S)):void 0},y=function(){l.req.on("finish",g)};return function(S){return S.setHeader&&typeof S.abort=="function"}(l)?(l.on("complete",g),l.on("abort",v),l.req?y():l.on("request",y)):h&&!l._writableState&&(l.on("end",m),l.on("close",m)),l.on("end",b),l.on("finish",g),d.error!==!1&&l.on("error",x),l.on("close",v),function(){l.removeListener("complete",g),l.removeListener("abort",v),l.removeListener("request",y),l.req&&l.req.removeListener("finish",g),l.removeListener("end",m),l.removeListener("close",m),l.removeListener("finish",g),l.removeListener("end",b),l.removeListener("error",x),l.removeListener("close",v)}}},{"../../../errors":477}],487:[function(e,s,a){s.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,s,a){var i,o=e("../../../errors").codes,c=o.ERR_MISSING_ARGS,l=o.ERR_STREAM_DESTROYED;function d(A){if(A)throw A}function u(A,g,p,b){b=function(y){var S=!1;return function(){S||(S=!0,y.apply(void 0,arguments))}}(b);var x=!1;A.on("close",function(){x=!0}),i===void 0&&(i=e("./end-of-stream")),i(A,{readable:g,writable:p},function(y){if(y)return b(y);x=!0,b()});var v=!1;return function(y){if(!x&&!v)return v=!0,function(S){return S.setHeader&&typeof S.abort=="function"}(A)?A.abort():typeof A.destroy=="function"?A.destroy():void b(y||new l("pipe"))}}function f(A){A()}function h(A,g){return A.pipe(g)}function m(A){return A.length?typeof A[A.length-1]!="function"?d:A.pop():d}s.exports=function(){for(var A=arguments.length,g=new Array(A),p=0;p<A;p++)g[p]=arguments[p];var b,x=m(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new c("streams");var v=g.map(function(y,S){var M=S<g.length-1;return u(y,M,S>0,function(P){b||(b=P),P&&v.forEach(f),M||(v.forEach(f),x(b))})});return g.reduce(h)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,s,a){var i=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;s.exports={getHighWaterMark:function(o,c,l,d){var u=function(f,h,m){return f.highWaterMark!=null?f.highWaterMark:h?f[m]:null}(c,d,l);if(u!=null){if(!isFinite(u)||Math.floor(u)!==u||u<0)throw new i(d?l:"highWaterMark",u);return Math.floor(u)}return o.objectMode?16:16384}}},{"../../../errors":477}],490:[function(e,s,a){s.exports=e("events").EventEmitter},{events:422}],491:[function(e,s,a){(a=s.exports=e("./lib/_stream_readable.js")).Stream=a,a.Readable=a,a.Writable=e("./lib/_stream_writable.js"),a.Duplex=e("./lib/_stream_duplex.js"),a.Transform=e("./lib/_stream_transform.js"),a.PassThrough=e("./lib/_stream_passthrough.js"),a.finished=e("./lib/internal/streams/end-of-stream.js"),a.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,s,a){var i=function(o){var c=Object.prototype,l=c.hasOwnProperty,d=Object.defineProperty||function(j,N,I){j[N]=I.value},u=typeof Symbol=="function"?Symbol:{},f=u.iterator||"@@iterator",h=u.asyncIterator||"@@asyncIterator",m=u.toStringTag||"@@toStringTag";function A(j,N,I){return Object.defineProperty(j,N,{value:I,enumerable:!0,configurable:!0,writable:!0}),j[N]}try{A({},"")}catch{A=function(N,I,R){return N[I]=R}}function g(j,N,I,R){var U=N&&N.prototype instanceof x?N:x,V=Object.create(U.prototype),z=new T(R||[]);return d(V,"_invoke",{value:O(j,I,z)}),V}function p(j,N,I){try{return{type:"normal",arg:j.call(N,I)}}catch(R){return{type:"throw",arg:R}}}o.wrap=g;var b={};function x(){}function v(){}function y(){}var S={};A(S,f,function(){return this});var M=Object.getPrototypeOf,P=M&&M(M(w([])));P&&P!==c&&l.call(P,f)&&(S=P);var B=y.prototype=x.prototype=Object.create(S);function D(j){["next","throw","return"].forEach(function(N){A(j,N,function(I){return this._invoke(N,I)})})}function L(j,N){var I;d(this,"_invoke",{value:function(R,U){function V(){return new N(function(z,X){(function Q(q,H,$,G){var J=p(j[q],j,H);if(J.type!=="throw"){var te=J.arg,K=te.value;return K&&typeof K=="object"&&l.call(K,"__await")?N.resolve(K.__await).then(function(ne){Q("next",ne,$,G)},function(ne){Q("throw",ne,$,G)}):N.resolve(K).then(function(ne){te.value=ne,$(te)},function(ne){return Q("throw",ne,$,G)})}G(J.arg)})(R,U,z,X)})}return I=I?I.then(V,V):V()}})}function O(j,N,I){var R="suspendedStart";return function(U,V){if(R==="executing")throw new Error("Generator is already running");if(R==="completed"){if(U==="throw")throw V;return C()}for(I.method=U,I.arg=V;;){var z=I.delegate;if(z){var X=F(z,I);if(X){if(X===b)continue;return X}}if(I.method==="next")I.sent=I._sent=I.arg;else if(I.method==="throw"){if(R==="suspendedStart")throw R="completed",I.arg;I.dispatchException(I.arg)}else I.method==="return"&&I.abrupt("return",I.arg);R="executing";var Q=p(j,N,I);if(Q.type==="normal"){if(R=I.done?"completed":"suspendedYield",Q.arg===b)continue;return{value:Q.arg,done:I.done}}Q.type==="throw"&&(R="completed",I.method="throw",I.arg=Q.arg)}}}function F(j,N){var I=N.method,R=j.iterator[I];if(R===void 0)return N.delegate=null,I==="throw"&&j.iterator.return&&(N.method="return",N.arg=void 0,F(j,N),N.method==="throw")||I!=="return"&&(N.method="throw",N.arg=new TypeError("The iterator does not provide a '"+I+"' method")),b;var U=p(R,j.iterator,N.arg);if(U.type==="throw")return N.method="throw",N.arg=U.arg,N.delegate=null,b;var V=U.arg;return V?V.done?(N[j.resultName]=V.value,N.next=j.nextLoc,N.method!=="return"&&(N.method="next",N.arg=void 0),N.delegate=null,b):V:(N.method="throw",N.arg=new TypeError("iterator result is not an object"),N.delegate=null,b)}function _(j){var N={tryLoc:j[0]};1 in j&&(N.catchLoc=j[1]),2 in j&&(N.finallyLoc=j[2],N.afterLoc=j[3]),this.tryEntries.push(N)}function E(j){var N=j.completion||{};N.type="normal",delete N.arg,j.completion=N}function T(j){this.tryEntries=[{tryLoc:"root"}],j.forEach(_,this),this.reset(!0)}function w(j){if(j){var N=j[f];if(N)return N.call(j);if(typeof j.next=="function")return j;if(!isNaN(j.length)){var I=-1,R=function U(){for(;++I<j.length;)if(l.call(j,I))return U.value=j[I],U.done=!1,U;return U.value=void 0,U.done=!0,U};return R.next=R}}return{next:C}}function C(){return{value:void 0,done:!0}}return v.prototype=y,d(B,"constructor",{value:y,configurable:!0}),d(y,"constructor",{value:v,configurable:!0}),v.displayName=A(y,m,"GeneratorFunction"),o.isGeneratorFunction=function(j){var N=typeof j=="function"&&j.constructor;return!!N&&(N===v||(N.displayName||N.name)==="GeneratorFunction")},o.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,y):(j.__proto__=y,A(j,m,"GeneratorFunction")),j.prototype=Object.create(B),j},o.awrap=function(j){return{__await:j}},D(L.prototype),A(L.prototype,h,function(){return this}),o.AsyncIterator=L,o.async=function(j,N,I,R,U){U===void 0&&(U=Promise);var V=new L(g(j,N,I,R),U);return o.isGeneratorFunction(N)?V:V.next().then(function(z){return z.done?z.value:V.next()})},D(B),A(B,m,"Generator"),A(B,f,function(){return this}),A(B,"toString",function(){return"[object Generator]"}),o.keys=function(j){var N=Object(j),I=[];for(var R in N)I.push(R);return I.reverse(),function U(){for(;I.length;){var V=I.pop();if(V in N)return U.value=V,U.done=!1,U}return U.done=!0,U}},o.values=w,T.prototype={constructor:T,reset:function(j){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!j)for(var N in this)N.charAt(0)==="t"&&l.call(this,N)&&!isNaN(+N.slice(1))&&(this[N]=void 0)},stop:function(){this.done=!0;var j=this.tryEntries[0].completion;if(j.type==="throw")throw j.arg;return this.rval},dispatchException:function(j){if(this.done)throw j;var N=this;function I(Q,q){return V.type="throw",V.arg=j,N.next=Q,q&&(N.method="next",N.arg=void 0),!!q}for(var R=this.tryEntries.length-1;R>=0;--R){var U=this.tryEntries[R],V=U.completion;if(U.tryLoc==="root")return I("end");if(U.tryLoc<=this.prev){var z=l.call(U,"catchLoc"),X=l.call(U,"finallyLoc");if(z&&X){if(this.prev<U.catchLoc)return I(U.catchLoc,!0);if(this.prev<U.finallyLoc)return I(U.finallyLoc)}else if(z){if(this.prev<U.catchLoc)return I(U.catchLoc,!0)}else{if(!X)throw new Error("try statement without catch or finally");if(this.prev<U.finallyLoc)return I(U.finallyLoc)}}}},abrupt:function(j,N){for(var I=this.tryEntries.length-1;I>=0;--I){var R=this.tryEntries[I];if(R.tryLoc<=this.prev&&l.call(R,"finallyLoc")&&this.prev<R.finallyLoc){var U=R;break}}U&&(j==="break"||j==="continue")&&U.tryLoc<=N&&N<=U.finallyLoc&&(U=null);var V=U?U.completion:{};return V.type=j,V.arg=N,U?(this.method="next",this.next=U.finallyLoc,b):this.complete(V)},complete:function(j,N){if(j.type==="throw")throw j.arg;return j.type==="break"||j.type==="continue"?this.next=j.arg:j.type==="return"?(this.rval=this.arg=j.arg,this.method="return",this.next="end"):j.type==="normal"&&N&&(this.next=N),b},finish:function(j){for(var N=this.tryEntries.length-1;N>=0;--N){var I=this.tryEntries[N];if(I.finallyLoc===j)return this.complete(I.completion,I.afterLoc),E(I),b}},catch:function(j){for(var N=this.tryEntries.length-1;N>=0;--N){var I=this.tryEntries[N];if(I.tryLoc===j){var R=I.completion;if(R.type==="throw"){var U=R.arg;E(I)}return U}}throw new Error("illegal catch attempt")},delegateYield:function(j,N,I){return this.delegate={iterator:w(j),resultName:N,nextLoc:I},this.method==="next"&&(this.arg=void 0),b}},o}(typeof s=="object"?s.exports:{});try{regeneratorRuntime=i}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},{}],493:[function(e,s,a){var i=e("buffer").Buffer,o=e("inherits"),c=e("hash-base"),l=new Array(16),d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],m=[0,1518500249,1859775393,2400959708,2840853838],A=[1352829926,1548603684,1836072691,2053994217,0];function g(){c.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(M,P){return M<<P|M>>>32-P}function b(M,P,B,D,L,O,F,_){return p(M+(P^B^D)+O+F|0,_)+L|0}function x(M,P,B,D,L,O,F,_){return p(M+(P&B|~P&D)+O+F|0,_)+L|0}function v(M,P,B,D,L,O,F,_){return p(M+((P|~B)^D)+O+F|0,_)+L|0}function y(M,P,B,D,L,O,F,_){return p(M+(P&D|B&~D)+O+F|0,_)+L|0}function S(M,P,B,D,L,O,F,_){return p(M+(P^(B|~D))+O+F|0,_)+L|0}o(g,c),g.prototype._update=function(){for(var M=l,P=0;P<16;++P)M[P]=this._block.readInt32LE(4*P);for(var B=0|this._a,D=0|this._b,L=0|this._c,O=0|this._d,F=0|this._e,_=0|this._a,E=0|this._b,T=0|this._c,w=0|this._d,C=0|this._e,j=0;j<80;j+=1){var N,I;j<16?(N=b(B,D,L,O,F,M[d[j]],m[0],f[j]),I=S(_,E,T,w,C,M[u[j]],A[0],h[j])):j<32?(N=x(B,D,L,O,F,M[d[j]],m[1],f[j]),I=y(_,E,T,w,C,M[u[j]],A[1],h[j])):j<48?(N=v(B,D,L,O,F,M[d[j]],m[2],f[j]),I=v(_,E,T,w,C,M[u[j]],A[2],h[j])):j<64?(N=y(B,D,L,O,F,M[d[j]],m[3],f[j]),I=x(_,E,T,w,C,M[u[j]],A[3],h[j])):(N=S(B,D,L,O,F,M[d[j]],m[4],f[j]),I=b(_,E,T,w,C,M[u[j]],A[4],h[j])),B=F,F=O,O=p(L,10),L=D,D=N,_=C,C=w,w=p(T,10),T=E,E=I}var R=this._b+L+w|0;this._b=this._c+O+C|0,this._c=this._d+F+_|0,this._d=this._e+B+E|0,this._e=this._a+D+T|0,this._a=R},g.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var M=i.alloc?i.alloc(20):new i(20);return M.writeInt32LE(this._a,0),M.writeInt32LE(this._b,4),M.writeInt32LE(this._c,8),M.writeInt32LE(this._d,12),M.writeInt32LE(this._e,16),M},s.exports=g},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,s,a){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var i=e("buffer"),o=i.Buffer;function c(d,u){for(var f in d)u[f]=d[f]}function l(d,u,f){return o(d,u,f)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?s.exports=i:(c(i,a),a.Buffer=l),l.prototype=Object.create(o.prototype),c(o,l),l.from=function(d,u,f){if(typeof d=="number")throw new TypeError("Argument must not be a number");return o(d,u,f)},l.alloc=function(d,u,f){if(typeof d!="number")throw new TypeError("Argument must be a number");var h=o(d);return u!==void 0?typeof f=="string"?h.fill(u,f):h.fill(u):h.fill(0),h},l.allocUnsafe=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return o(d)},l.allocUnsafeSlow=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(d)}},{buffer:220}],495:[function(e,s,a){(function(i){(function(){var o,c=e("buffer"),l=c.Buffer,d={};for(o in c)c.hasOwnProperty(o)&&o!=="SlowBuffer"&&o!=="Buffer"&&(d[o]=c[o]);var u=d.Buffer={};for(o in l)l.hasOwnProperty(o)&&o!=="allocUnsafe"&&o!=="allocUnsafeSlow"&&(u[o]=l[o]);if(d.Buffer.prototype=l.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(f,h,m){if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof f);if(f&&f.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);return l(f,h,m)}),u.alloc||(u.alloc=function(f,h,m){if(typeof f!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof f);if(f<0||f>=2*(1<<30))throw new RangeError('The value "'+f+'" is invalid for option "size"');var A=l(f);return h&&h.length!==0?typeof m=="string"?A.fill(h,m):A.fill(h):A.fill(0),A}),!d.kStringMaxLength)try{d.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch{}d.constants||(d.constants={MAX_LENGTH:d.kMaxLength},d.kStringMaxLength&&(d.constants.MAX_STRING_LENGTH=d.kStringMaxLength)),s.exports=d}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0});const i=e("xmlchars/xml/1.0/ed5"),o=e("xmlchars/xml/1.1/ed2"),c=e("xmlchars/xmlns/1.0/ed3");var l=i.isS,d=i.isChar,u=i.isNameStartChar,f=i.isNameChar,h=i.S_LIST,m=i.NAME_RE,A=o.isChar,g=c.isNCNameStartChar,p=c.isNCNameChar,b=c.NC_NAME_RE;const x="http://www.w3.org/XML/1998/namespace",v="http://www.w3.org/2000/xmlns/",y={__proto__:null,xml:x,xmlns:v},S={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},M=w=>w===34||w===39,P=[34,39],B=[...P,91,62],D=[...P,60,93],L=[61,63,...h],O=[...h,62,38,60];function F(w,C,j){switch(C){case"xml":j!==x&&w.fail(`xml prefix must be bound to ${x}.`);break;case"xmlns":j!==v&&w.fail(`xmlns prefix must be bound to ${v}.`)}switch(j){case v:w.fail(C===""?`the default namespace may not be set to ${j}.`:`may not assign a prefix (even "xmlns") to the URI ${v}.`);break;case x:switch(C){case"xml":break;case"":w.fail(`the default namespace may not be set to ${j}.`);break;default:w.fail("may not assign the xml namespace to another prefix.")}}}const _=w=>b.test(w),E=w=>m.test(w);a.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const T={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};a.SaxesParser=class{constructor(w){this.opt=w??{},this.fragmentOpt=!!this.opt.fragment;const C=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,C){this.nameStartCheck=g,this.nameCheck=p,this.isName=_,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},y);const j=this.opt.additionalNamespaces;j!=null&&(function(N,I){for(const R of Object.keys(I))F(N,R,I[R])}(this,j),Object.assign(this.ns,j))}else this.nameStartCheck=u,this.nameCheck=f,this.isName=E,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var w;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:C}=this;this.state=C?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=C,this.xmlDeclPossible=!C,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:j}=this.opt;if(j===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");j="1.0"}this.setXMLVersion(j),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(S),(w=this.readyHandler)===null||w===void 0||w.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(w,C){this[T[w]]=C}off(w){this[T[w]]=void 0}makeError(w){var C;let j=(C=this.fileName)!==null&&C!==void 0?C:"";return this.trackPosition&&(j.length>0&&(j+=":"),j+=`${this.line}:${this.column}`),j.length>0&&(j+=": "),new Error(j+w)}fail(w){const C=this.makeError(w),j=this.errorHandler;if(j===void 0)throw C;return j(C),this}write(w){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let C=!1;w===null?(C=!0,w=""):typeof w=="object"&&(w=w.toString()),this.carriedFromPrevious!==void 0&&(w=`${this.carriedFromPrevious}${w}`,this.carriedFromPrevious=void 0);let j=w.length;const N=w.charCodeAt(j-1);!C&&(N===13||N>=55296&&N<=56319)&&(this.carriedFromPrevious=w[j-1],j--,w=w.slice(0,j));const{stateTable:I}=this;for(this.chunk=w,this.i=0;this.i<j;)I[this.state].call(this);return this.chunkPosition+=j,C?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:w,i:C}=this;if(this.prevI=C,this.i=C+1,C>=w.length)return-1;const j=w.charCodeAt(C);if(this.column++,j<55296){if(j>=32||j===9)return j;switch(j){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return w.charCodeAt(C+1)===10&&(this.i=C+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),j}}if(j>56319)return j>=57344&&j<=65533||this.fail("disallowed character."),j;const N=65536+1024*(j-55296)+(w.charCodeAt(C+1)-56320);return this.i=C+2,N>1114111&&this.fail("disallowed character."),N}getCode11(){const{chunk:w,i:C}=this;if(this.prevI=C,this.i=C+1,C>=w.length)return-1;const j=w.charCodeAt(C);if(this.column++,j<55296){if(j>31&&j<127||j>159&&j!==8232||j===9)return j;switch(j){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const I=w.charCodeAt(C+1);I!==10&&I!==133||(this.i=C+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),j}}if(j>56319)return j>=57344&&j<=65533||this.fail("disallowed character."),j;const N=65536+1024*(j-55296)+(w.charCodeAt(C+1)-56320);return this.i=C+2,N>1114111&&this.fail("disallowed character."),N}getCodeNorm(){const w=this.getCode();return w===-2?10:w}unget(){this.i=this.prevI,this.column--}captureTo(w){let{i:C}=this;const{chunk:j}=this;for(;;){const N=this.getCode(),I=N===-2,R=I?10:N;if(R===-1||w.includes(R))return this.text+=j.slice(C,this.prevI),R;I&&(this.text+=j.slice(C,this.prevI)+`
`,C=this.i)}}captureToChar(w){let{i:C}=this;const{chunk:j}=this;for(;;){let N=this.getCode();switch(N){case-2:this.text+=j.slice(C,this.prevI)+`
`,C=this.i,N=10;break;case-1:return this.text+=j.slice(C),!1}if(N===w)return this.text+=j.slice(C,this.prevI),!0}}captureNameChars(){const{chunk:w,i:C}=this;for(;;){const j=this.getCode();if(j===-1)return this.name+=w.slice(C),-1;if(!f(j))return this.name+=w.slice(C,this.prevI),j===-2?10:j}}skipSpaces(){for(;;){const w=this.getCodeNorm();if(w===-1||!l(w))return w}}setXMLVersion(w){this.currentXMLVersion=w,w==="1.0"?(this.isChar=d,this.getCode=this.getCode10):(this.isChar=A,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const w=this.i,C=this.skipSpaces();switch(this.prevI!==w&&(this.xmlDeclPossible=!1),C){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var w;const C=this.captureTo(B);switch(C){case 62:(w=this.doctypeHandler)===null||w===void 0||w.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(C),C===91?this.state=4:M(C)&&(this.state=3,this.q=C)}}sDoctypeQuote(){const w=this.q;this.captureToChar(w)&&(this.text+=String.fromCodePoint(w),this.q=null,this.state=2)}sDTD(){const w=this.captureTo(D);w!==-1&&(this.text+=String.fromCodePoint(w),w===93?this.state=2:w===60?this.state=6:M(w)&&(this.state=5,this.q=w))}sDTDQuoted(){const w=this.q;this.captureToChar(w)&&(this.text+=String.fromCodePoint(w),this.state=4,this.q=null)}sDTDOpenWaka(){const w=this.getCodeNorm();switch(this.text+=String.fromCodePoint(w),w){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const w=String.fromCodePoint(this.getCodeNorm()),C=this.openWakaBang+=w;this.text+=w,C!=="-"&&(this.state=C==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),this.state=w===45?10:8}sDTDCommentEnded(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),w===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),w===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:w}=this;const{chunk:C}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=C.slice(w,this.prevI)+`
`,w=this.i;break;case 59:{const{entityReturnState:j}=this,N=this.entity+C.slice(w,this.prevI);let I;this.state=j,N===""?(this.fail("empty entity name."),I="&;"):(I=this.parseEntity(N),this.entity=""),j===13&&this.textHandler===void 0||(this.text+=I);break e}case-1:this.entity+=C.slice(w);break e}}sOpenWaka(){const w=this.getCode();if(u(w))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(w){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var w;const C=this.getCodeNorm();C===45?(this.state=19,(w=this.commentHandler)===null||w===void 0||w.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(C),this.state=17)}sCommentEnded(){const w=this.getCodeNorm();w!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(w),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const w=this.getCodeNorm();w===93?this.state=22:(this.text+="]"+String.fromCodePoint(w),this.state=20)}sCDataEnding2(){var w;const C=this.getCodeNorm();switch(C){case 62:(w=this.cdataHandler)===null||w===void 0||w.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(C),this.state=20}}sPIFirstChar(){const w=this.getCodeNorm();this.nameStartCheck(w)?(this.piTarget+=String.fromCodePoint(w),this.state=24):w===63||l(w)?(this.fail("processing instruction without a target."),this.state=w===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(w),this.state=24)}sPIRest(){const{chunk:w,i:C}=this;for(;;){const j=this.getCodeNorm();if(j===-1)return void(this.piTarget+=w.slice(C));if(!this.nameCheck(j)){this.piTarget+=w.slice(C,this.prevI);const N=j===63;N||l(j)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=N?33:27):this.state=N?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(j));break}}}sPIBody(){if(this.text.length===0){const w=this.getCodeNorm();w===63?this.state=26:l(w)||(this.text=String.fromCodePoint(w))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var w;const C=this.getCodeNorm();if(C===62){const{piTarget:j}=this;j.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(w=this.piHandler)===null||w===void 0||w.call(this,{target:j,body:this.text}),this.piTarget=this.text="",this.state=13}else C===63?this.text+="?":(this.text+="?"+String.fromCodePoint(C),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const w=this.skipSpaces();w!==63?w!==-1&&(this.state=28,this.name=String.fromCodePoint(w)):this.state=33}sXMLDeclName(){const w=this.captureTo(L);if(w===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(l(w)||w===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=w===61?30:29}}sXMLDeclEq(){const w=this.getCodeNorm();if(w===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(w)||(w!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const w=this.getCodeNorm();if(w===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(w)||(M(w)?this.q=w:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const w=this.captureTo([this.q,63]);if(w===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(w===-1)return;const C=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const j=C;this.xmlDecl.version=j,/^1\.[0-9]+$/.test(j)?this.opt.forceXMLVersion||this.setXMLVersion(j):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(C)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=C;break;case"standalone":C!=="yes"&&C!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=C}this.name="",this.state=32}sXMLDeclSeparator(){const w=this.getCodeNorm();w!==63?(l(w)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var w;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(w=this.xmldeclHandler)===null||w===void 0||w.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var w;const C=this.captureNameChars();if(C===-1)return;const j=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=j.ns=Object.create(null)),(w=this.openTagStartHandler)===null||w===void 0||w.call(this,j),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),C){case 62:this.openTag();break;case 47:this.state=35;break;default:l(C)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const w=this.skipSpaces();w!==-1&&(u(w)?(this.unget(),this.state=37):w===62?this.openTag():w===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const w=this.captureNameChars();w===61?this.state=39:l(w)?this.state=38:w===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):w!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const w=this.skipSpaces();switch(w){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",w===62?this.openTag():u(w)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const w=this.getCodeNorm();M(w)?(this.q=w,this.state=40):l(w)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:w,chunk:C}=this;let{i:j}=this;for(;;)switch(this.getCode()){case w:return this.pushAttrib(this.name,this.text+C.slice(j,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=C.slice(j,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=C.slice(j,this.prevI)+" ",j=this.i;break;case 60:return this.text+=C.slice(j,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=C.slice(j))}}sAttribValueClosed(){const w=this.getCodeNorm();l(w)?this.state=36:w===62?this.openTag():w===47?this.state=35:u(w)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const w=this.captureTo(O);switch(w){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",w===62?this.openTag():this.state=36}}sCloseTag(){const w=this.captureNameChars();w===62?this.closeTag():l(w)?this.state=44:w!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:w,forbiddenState:C}=this;const{chunk:j,textHandler:N}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,N!==void 0){const{text:I}=this,R=j.slice(w,this.prevI);I.length!==0?(N(I+R),this.text=""):R.length!==0&&N(R)}C=0;break e;case 38:this.state=14,this.entityReturnState=13,N!==void 0&&(this.text+=j.slice(w,this.prevI)),C=0;break e;case 93:switch(C){case 0:C=1;break;case 1:C=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:C===2&&this.fail('the string "]]>" is disallowed in char data.'),C=0;break;case-2:N!==void 0&&(this.text+=j.slice(w,this.prevI)+`
`),w=this.i,C=0;break;case-1:N!==void 0&&(this.text+=j.slice(w));break e;default:C=0}this.forbiddenState=C}handleTextOutsideRoot(){let{i:w}=this;const{chunk:C,textHandler:j}=this;let N=!1;e:for(;;){const I=this.getCode();switch(I){case 60:if(this.state=15,j!==void 0){const{text:R}=this,U=C.slice(w,this.prevI);R.length!==0?(j(R+U),this.text=""):U.length!==0&&j(U)}break e;case 38:this.state=14,this.entityReturnState=13,j!==void 0&&(this.text+=C.slice(w,this.prevI)),N=!0;break e;case-2:j!==void 0&&(this.text+=C.slice(w,this.prevI)+`
`),w=this.i;break;case-1:j!==void 0&&(this.text+=C.slice(w));break e;default:l(I)||(N=!0)}}N&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(w,C){var j;const{prefix:N,local:I}=this.qname(w),R={name:w,prefix:N,local:I,value:C};if(this.attribList.push(R),(j=this.attributeHandler)===null||j===void 0||j.call(this,R),N==="xmlns"){const U=C.trim();this.currentXMLVersion==="1.0"&&U===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[I]=U,F(this,I,U)}else if(w==="xmlns"){const U=C.trim();this.topNS[""]=U,F(this,"",U)}}pushAttribPlain(w,C){var j;const N={name:w,value:C};this.attribList.push(N),(j=this.attributeHandler)===null||j===void 0||j.call(this,N)}end(){var w,C;this.sawRoot||this.fail("document must contain a root element.");const{tags:j}=this;for(;j.length>0;){const I=j.pop();this.fail("unclosed tag: "+I.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:N}=this;return N.length!==0&&((w=this.textHandler)===null||w===void 0||w.call(this,N),this.text=""),this._closed=!0,(C=this.endHandler)===null||C===void 0||C.call(this),this._init(),this}resolve(w){var C,j;let N=this.topNS[w];if(N!==void 0)return N;const{tags:I}=this;for(let R=I.length-1;R>=0;R--)if(N=I[R].ns[w],N!==void 0)return N;return N=this.ns[w],N!==void 0?N:(j=(C=this.opt).resolvePrefix)===null||j===void 0?void 0:j.call(C,w)}qname(w){const C=w.indexOf(":");if(C===-1)return{prefix:"",local:w};const j=w.slice(C+1),N=w.slice(0,C);return(N===""||j===""||j.includes(":"))&&this.fail(`malformed name: ${w}.`),{prefix:N,local:j}}processAttribsNS(){var w;const{attribList:C}=this,j=this.tag;{const{prefix:R,local:U}=this.qname(j.name);j.prefix=R,j.local=U;const V=j.uri=(w=this.resolve(R))!==null&&w!==void 0?w:"";R!==""&&(R==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),V===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(R)}.`),j.uri=R))}if(C.length===0)return;const{attributes:N}=j,I=new Set;for(const R of C){const{name:U,prefix:V,local:z}=R;let X,Q;V===""?(X=U==="xmlns"?v:"",Q=U):(X=this.resolve(V),X===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(V)}.`),X=V),Q=`{${X}}${z}`),I.has(Q)&&this.fail(`duplicate attribute: ${Q}.`),I.add(Q),R.uri=X,N[U]=R}this.attribList=[]}processAttribsPlain(){const{attribList:w}=this,C=this.tag.attributes;for(const{name:j,value:N}of w)C[j]!==void 0&&this.fail(`duplicate attribute: ${j}.`),C[j]=N;this.attribList=[]}openTag(){var w;this.processAttribs();const{tags:C}=this,j=this.tag;j.isSelfClosing=!1,(w=this.openTagHandler)===null||w===void 0||w.call(this,j),C.push(j),this.state=13,this.name=""}openSelfClosingTag(){var w,C,j;this.processAttribs();const{tags:N}=this,I=this.tag;I.isSelfClosing=!0,(w=this.openTagHandler)===null||w===void 0||w.call(this,I),(C=this.closeTagHandler)===null||C===void 0||C.call(this,I),(this.tag=(j=N[N.length-1])!==null&&j!==void 0?j:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:w,name:C}=this;if(this.state=13,this.name="",C==="")return this.fail("weird empty close tag."),void(this.text+="</>");const j=this.closeTagHandler;let N=w.length;for(;N-- >0;){const I=this.tag=w.pop();if(this.topNS=I.ns,j==null||j(I),I.name===C)break;this.fail("unexpected close tag.")}N===0?this.closedRoot=!0:N<0&&(this.fail(`unmatched closing tag: ${C}.`),this.text+=`</${C}>`)}parseEntity(w){if(w[0]!=="#"){const j=this.ENTITIES[w];return j!==void 0?j:(this.fail(this.isName(w)?"undefined entity.":"disallowed character in entity name."),`&${w};`)}let C=NaN;return w[1]==="x"&&/^#x[0-9a-f]+$/i.test(w)?C=parseInt(w.slice(2),16):/^#[0-9]+$/.test(w)&&(C=parseInt(w.slice(1),10)),this.isChar(C)?String.fromCodePoint(C):(this.fail("malformed character entity."),`&${w};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,s,a){var i=e("safe-buffer").Buffer;function o(c,l){this._block=i.alloc(c),this._finalSize=l,this._blockSize=c,this._len=0}o.prototype.update=function(c,l){typeof c=="string"&&(l=l||"utf8",c=i.from(c,l));for(var d=this._block,u=this._blockSize,f=c.length,h=this._len,m=0;m<f;){for(var A=h%u,g=Math.min(f-m,u-A),p=0;p<g;p++)d[A+p]=c[m+p];m+=g,(h+=g)%u==0&&this._update(d)}return this._len+=f,this},o.prototype.digest=function(c){var l=this._len%this._blockSize;this._block[l]=128,this._block.fill(0,l+1),l>=this._finalSize&&(this._update(this._block),this._block.fill(0));var d=8*this._len;if(d<=4294967295)this._block.writeUInt32BE(d,this._blockSize-4);else{var u=(4294967295&d)>>>0,f=(d-u)/4294967296;this._block.writeUInt32BE(f,this._blockSize-8),this._block.writeUInt32BE(u,this._blockSize-4)}this._update(this._block);var h=this._hash();return c?h.toString(c):h},o.prototype._update=function(){throw new Error("_update must be implemented by subclass")},s.exports=o},{"safe-buffer":494}],498:[function(e,s,a){var i=s.exports=function(o){o=o.toLowerCase();var c=i[o];if(!c)throw new Error(o+" is not supported (we accept pull requests)");return new c};i.sha=e("./sha"),i.sha1=e("./sha1"),i.sha224=e("./sha224"),i.sha256=e("./sha256"),i.sha384=e("./sha384"),i.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,s,a){var i=e("inherits"),o=e("./hash"),c=e("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],d=new Array(80);function u(){this.init(),this._w=d,o.call(this,64,56)}function f(m){return m<<30|m>>>2}function h(m,A,g,p){return m===0?A&g|~A&p:m===2?A&g|A&p|g&p:A^g^p}i(u,o),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(m){for(var A,g=this._w,p=0|this._a,b=0|this._b,x=0|this._c,v=0|this._d,y=0|this._e,S=0;S<16;++S)g[S]=m.readInt32BE(4*S);for(;S<80;++S)g[S]=g[S-3]^g[S-8]^g[S-14]^g[S-16];for(var M=0;M<80;++M){var P=~~(M/20),B=0|((A=p)<<5|A>>>27)+h(P,b,x,v)+y+g[M]+l[P];y=v,v=x,x=f(b),b=p,p=B}this._a=p+this._a|0,this._b=b+this._b|0,this._c=x+this._c|0,this._d=v+this._d|0,this._e=y+this._e|0},u.prototype._hash=function(){var m=c.allocUnsafe(20);return m.writeInt32BE(0|this._a,0),m.writeInt32BE(0|this._b,4),m.writeInt32BE(0|this._c,8),m.writeInt32BE(0|this._d,12),m.writeInt32BE(0|this._e,16),m},s.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,s,a){var i=e("inherits"),o=e("./hash"),c=e("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],d=new Array(80);function u(){this.init(),this._w=d,o.call(this,64,56)}function f(A){return A<<5|A>>>27}function h(A){return A<<30|A>>>2}function m(A,g,p,b){return A===0?g&p|~g&b:A===2?g&p|g&b|p&b:g^p^b}i(u,o),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(A){for(var g,p=this._w,b=0|this._a,x=0|this._b,v=0|this._c,y=0|this._d,S=0|this._e,M=0;M<16;++M)p[M]=A.readInt32BE(4*M);for(;M<80;++M)p[M]=(g=p[M-3]^p[M-8]^p[M-14]^p[M-16])<<1|g>>>31;for(var P=0;P<80;++P){var B=~~(P/20),D=f(b)+m(B,x,v,y)+S+p[P]+l[B]|0;S=y,y=v,v=h(x),x=b,b=D}this._a=b+this._a|0,this._b=x+this._b|0,this._c=v+this._c|0,this._d=y+this._d|0,this._e=S+this._e|0},u.prototype._hash=function(){var A=c.allocUnsafe(20);return A.writeInt32BE(0|this._a,0),A.writeInt32BE(0|this._b,4),A.writeInt32BE(0|this._c,8),A.writeInt32BE(0|this._d,12),A.writeInt32BE(0|this._e,16),A},s.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,s,a){var i=e("inherits"),o=e("./sha256"),c=e("./hash"),l=e("safe-buffer").Buffer,d=new Array(64);function u(){this.init(),this._w=d,c.call(this,64,56)}i(u,o),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var f=l.allocUnsafe(28);return f.writeInt32BE(this._a,0),f.writeInt32BE(this._b,4),f.writeInt32BE(this._c,8),f.writeInt32BE(this._d,12),f.writeInt32BE(this._e,16),f.writeInt32BE(this._f,20),f.writeInt32BE(this._g,24),f},s.exports=u},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,s,a){var i=e("inherits"),o=e("./hash"),c=e("safe-buffer").Buffer,l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],d=new Array(64);function u(){this.init(),this._w=d,o.call(this,64,56)}function f(p,b,x){return x^p&(b^x)}function h(p,b,x){return p&b|x&(p|b)}function m(p){return(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10)}function A(p){return(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7)}function g(p){return(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3}i(u,o),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(p){for(var b,x=this._w,v=0|this._a,y=0|this._b,S=0|this._c,M=0|this._d,P=0|this._e,B=0|this._f,D=0|this._g,L=0|this._h,O=0;O<16;++O)x[O]=p.readInt32BE(4*O);for(;O<64;++O)x[O]=0|(((b=x[O-2])>>>17|b<<15)^(b>>>19|b<<13)^b>>>10)+x[O-7]+g(x[O-15])+x[O-16];for(var F=0;F<64;++F){var _=L+A(P)+f(P,B,D)+l[F]+x[F]|0,E=m(v)+h(v,y,S)|0;L=D,D=B,B=P,P=M+_|0,M=S,S=y,y=v,v=_+E|0}this._a=v+this._a|0,this._b=y+this._b|0,this._c=S+this._c|0,this._d=M+this._d|0,this._e=P+this._e|0,this._f=B+this._f|0,this._g=D+this._g|0,this._h=L+this._h|0},u.prototype._hash=function(){var p=c.allocUnsafe(32);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p.writeInt32BE(this._h,28),p},s.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,s,a){var i=e("inherits"),o=e("./sha512"),c=e("./hash"),l=e("safe-buffer").Buffer,d=new Array(160);function u(){this.init(),this._w=d,c.call(this,128,112)}i(u,o),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var f=l.allocUnsafe(48);function h(m,A,g){f.writeInt32BE(m,g),f.writeInt32BE(A,g+4)}return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),f},s.exports=u},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,s,a){var i=e("inherits"),o=e("./hash"),c=e("safe-buffer").Buffer,l=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],d=new Array(160);function u(){this.init(),this._w=d,o.call(this,128,112)}function f(y,S,M){return M^y&(S^M)}function h(y,S,M){return y&S|M&(y|S)}function m(y,S){return(y>>>28|S<<4)^(S>>>2|y<<30)^(S>>>7|y<<25)}function A(y,S){return(y>>>14|S<<18)^(y>>>18|S<<14)^(S>>>9|y<<23)}function g(y,S){return(y>>>1|S<<31)^(y>>>8|S<<24)^y>>>7}function p(y,S){return(y>>>1|S<<31)^(y>>>8|S<<24)^(y>>>7|S<<25)}function b(y,S){return(y>>>19|S<<13)^(S>>>29|y<<3)^y>>>6}function x(y,S){return(y>>>19|S<<13)^(S>>>29|y<<3)^(y>>>6|S<<26)}function v(y,S){return y>>>0<S>>>0?1:0}i(u,o),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(y){for(var S=this._w,M=0|this._ah,P=0|this._bh,B=0|this._ch,D=0|this._dh,L=0|this._eh,O=0|this._fh,F=0|this._gh,_=0|this._hh,E=0|this._al,T=0|this._bl,w=0|this._cl,C=0|this._dl,j=0|this._el,N=0|this._fl,I=0|this._gl,R=0|this._hl,U=0;U<32;U+=2)S[U]=y.readInt32BE(4*U),S[U+1]=y.readInt32BE(4*U+4);for(;U<160;U+=2){var V=S[U-30],z=S[U-30+1],X=g(V,z),Q=p(z,V),q=b(V=S[U-4],z=S[U-4+1]),H=x(z,V),$=S[U-14],G=S[U-14+1],J=S[U-32],te=S[U-32+1],K=Q+G|0,ne=X+$+v(K,Q)|0;ne=(ne=ne+q+v(K=K+H|0,H)|0)+J+v(K=K+te|0,te)|0,S[U]=ne,S[U+1]=K}for(var ce=0;ce<160;ce+=2){ne=S[ce],K=S[ce+1];var oe=h(M,P,B),ee=h(E,T,w),W=m(M,E),Y=m(E,M),Z=A(L,j),se=A(j,L),re=l[ce],le=l[ce+1],ae=f(L,O,F),ue=f(j,N,I),he=R+se|0,pe=_+Z+v(he,R)|0;pe=(pe=(pe=pe+ae+v(he=he+ue|0,ue)|0)+re+v(he=he+le|0,le)|0)+ne+v(he=he+K|0,K)|0;var Ae=Y+ee|0,ie=W+oe+v(Ae,Y)|0;_=F,R=I,F=O,I=N,O=L,N=j,L=D+pe+v(j=C+he|0,C)|0,D=B,C=w,B=P,w=T,P=M,T=E,M=pe+ie+v(E=he+Ae|0,he)|0}this._al=this._al+E|0,this._bl=this._bl+T|0,this._cl=this._cl+w|0,this._dl=this._dl+C|0,this._el=this._el+j|0,this._fl=this._fl+N|0,this._gl=this._gl+I|0,this._hl=this._hl+R|0,this._ah=this._ah+M+v(this._al,E)|0,this._bh=this._bh+P+v(this._bl,T)|0,this._ch=this._ch+B+v(this._cl,w)|0,this._dh=this._dh+D+v(this._dl,C)|0,this._eh=this._eh+L+v(this._el,j)|0,this._fh=this._fh+O+v(this._fl,N)|0,this._gh=this._gh+F+v(this._gl,I)|0,this._hh=this._hh+_+v(this._hl,R)|0},u.prototype._hash=function(){var y=c.allocUnsafe(64);function S(M,P,B){y.writeInt32BE(M,B),y.writeInt32BE(P,B+4)}return S(this._ah,this._al,0),S(this._bh,this._bl,8),S(this._ch,this._cl,16),S(this._dh,this._dl,24),S(this._eh,this._el,32),S(this._fh,this._fl,40),S(this._gh,this._gl,48),S(this._hh,this._hl,56),y},s.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,s,a){s.exports=o;var i=e("events").EventEmitter;function o(){i.call(this)}e("inherits")(o,i),o.Readable=e("readable-stream/readable.js"),o.Writable=e("readable-stream/writable.js"),o.Duplex=e("readable-stream/duplex.js"),o.Transform=e("readable-stream/transform.js"),o.PassThrough=e("readable-stream/passthrough.js"),o.Stream=o,o.prototype.pipe=function(c,l){var d=this;function u(b){c.writable&&c.write(b)===!1&&d.pause&&d.pause()}function f(){d.readable&&d.resume&&d.resume()}d.on("data",u),c.on("drain",f),c._isStdio||l&&l.end===!1||(d.on("end",m),d.on("close",A));var h=!1;function m(){h||(h=!0,c.end())}function A(){h||(h=!0,typeof c.destroy=="function"&&c.destroy())}function g(b){if(p(),i.listenerCount(this,"error")===0)throw b}function p(){d.removeListener("data",u),c.removeListener("drain",f),d.removeListener("end",m),d.removeListener("close",A),d.removeListener("error",g),c.removeListener("error",g),d.removeListener("end",p),d.removeListener("close",p),c.removeListener("close",p)}return d.on("error",g),c.on("error",g),d.on("end",p),d.on("close",p),c.on("close",p),c.emit("pipe",d),c}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,s,a){var i={}.toString;s.exports=Array.isArray||function(o){return i.call(o)=="[object Array]"}},{}],507:[function(e,s,a){s.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,s,a){var i=e("process-nextick-args"),o=Object.keys||function(p){var b=[];for(var x in p)b.push(x);return b};s.exports=m;var c=Object.create(e("core-util-is"));c.inherits=e("inherits");var l=e("./_stream_readable"),d=e("./_stream_writable");c.inherits(m,l);for(var u=o(d.prototype),f=0;f<u.length;f++){var h=u[f];m.prototype[h]||(m.prototype[h]=d.prototype[h])}function m(p){if(!(this instanceof m))return new m(p);l.call(this,p),d.call(this,p),p&&p.readable===!1&&(this.readable=!1),p&&p.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,p&&p.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",A)}function A(){this.allowHalfOpen||this._writableState.ended||i.nextTick(g,this)}function g(p){p.end()}Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(m.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),m.prototype._destroy=function(p,b){this.push(null),this.end(),i.nextTick(b,p)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,s,a){s.exports=c;var i=e("./_stream_transform"),o=Object.create(e("core-util-is"));function c(l){if(!(this instanceof c))return new c(l);i.call(this,l)}o.inherits=e("inherits"),o.inherits(c,i),c.prototype._transform=function(l,d,u){u(null,l)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,s,a){(function(i,o){(function(){var c=e("process-nextick-args");s.exports=M;var l,d=e("isarray");M.ReadableState=S,e("events").EventEmitter;var u=function(R,U){return R.listeners(U).length},f=e("./internal/streams/stream"),h=e("safe-buffer").Buffer,m=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},A=Object.create(e("core-util-is"));A.inherits=e("inherits");var g=e("util"),p=void 0;p=g&&g.debuglog?g.debuglog("stream"):function(){};var b,x=e("./internal/streams/BufferList"),v=e("./internal/streams/destroy");A.inherits(M,f);var y=["error","close","destroy","pause","resume"];function S(R,U){R=R||{};var V=U instanceof(l=l||e("./_stream_duplex"));this.objectMode=!!R.objectMode,V&&(this.objectMode=this.objectMode||!!R.readableObjectMode);var z=R.highWaterMark,X=R.readableHighWaterMark,Q=this.objectMode?16:16384;this.highWaterMark=z||z===0?z:V&&(X||X===0)?X:Q,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new x,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(b||(b=e("string_decoder/").StringDecoder),this.decoder=new b(R.encoding),this.encoding=R.encoding)}function M(R){if(l=l||e("./_stream_duplex"),!(this instanceof M))return new M(R);this._readableState=new S(R,this),this.readable=!0,R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy)),f.call(this)}function P(R,U,V,z,X){var Q,q=R._readableState;return U===null?(q.reading=!1,function(H,$){if(!$.ended){if($.decoder){var G=$.decoder.end();G&&G.length&&($.buffer.push(G),$.length+=$.objectMode?1:G.length)}$.ended=!0,L(H)}}(R,q)):(X||(Q=function(H,$){var G;J=$,h.isBuffer(J)||J instanceof m||typeof $=="string"||$===void 0||H.objectMode||(G=new TypeError("Invalid non-string/buffer chunk"));var J;return G}(q,U)),Q?R.emit("error",Q):q.objectMode||U&&U.length>0?(typeof U=="string"||q.objectMode||Object.getPrototypeOf(U)===h.prototype||(U=function(H){return h.from(H)}(U)),z?q.endEmitted?R.emit("error",new Error("stream.unshift() after end event")):B(R,q,U,!0):q.ended?R.emit("error",new Error("stream.push() after EOF")):(q.reading=!1,q.decoder&&!V?(U=q.decoder.write(U),q.objectMode||U.length!==0?B(R,q,U,!1):F(R,q)):B(R,q,U,!1))):z||(q.reading=!1)),function(H){return!H.ended&&(H.needReadable||H.length<H.highWaterMark||H.length===0)}(q)}function B(R,U,V,z){U.flowing&&U.length===0&&!U.sync?(R.emit("data",V),R.read(0)):(U.length+=U.objectMode?1:V.length,z?U.buffer.unshift(V):U.buffer.push(V),U.needReadable&&L(R)),F(R,U)}Object.defineProperty(M.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(R){this._readableState&&(this._readableState.destroyed=R)}}),M.prototype.destroy=v.destroy,M.prototype._undestroy=v.undestroy,M.prototype._destroy=function(R,U){this.push(null),U(R)},M.prototype.push=function(R,U){var V,z=this._readableState;return z.objectMode?V=!0:typeof R=="string"&&((U=U||z.defaultEncoding)!==z.encoding&&(R=h.from(R,U),U=""),V=!0),P(this,R,U,!1,V)},M.prototype.unshift=function(R){return P(this,R,null,!0,!1)},M.prototype.isPaused=function(){return this._readableState.flowing===!1},M.prototype.setEncoding=function(R){return b||(b=e("string_decoder/").StringDecoder),this._readableState.decoder=new b(R),this._readableState.encoding=R,this};function D(R,U){return R<=0||U.length===0&&U.ended?0:U.objectMode?1:R!=R?U.flowing&&U.length?U.buffer.head.data.length:U.length:(R>U.highWaterMark&&(U.highWaterMark=function(V){return V>=8388608?V=8388608:(V--,V|=V>>>1,V|=V>>>2,V|=V>>>4,V|=V>>>8,V|=V>>>16,V++),V}(R)),R<=U.length?R:U.ended?U.length:(U.needReadable=!0,0))}function L(R){var U=R._readableState;U.needReadable=!1,U.emittedReadable||(p("emitReadable",U.flowing),U.emittedReadable=!0,U.sync?c.nextTick(O,R):O(R))}function O(R){p("emit readable"),R.emit("readable"),w(R)}function F(R,U){U.readingMore||(U.readingMore=!0,c.nextTick(_,R,U))}function _(R,U){for(var V=U.length;!U.reading&&!U.flowing&&!U.ended&&U.length<U.highWaterMark&&(p("maybeReadMore read 0"),R.read(0),V!==U.length);)V=U.length;U.readingMore=!1}function E(R){p("readable nexttick read 0"),R.read(0)}function T(R,U){U.reading||(p("resume read 0"),R.read(0)),U.resumeScheduled=!1,U.awaitDrain=0,R.emit("resume"),w(R),U.flowing&&!U.reading&&R.read(0)}function w(R){var U=R._readableState;for(p("flow",U.flowing);U.flowing&&R.read()!==null;);}function C(R,U){return U.length===0?null:(U.objectMode?V=U.buffer.shift():!R||R>=U.length?(V=U.decoder?U.buffer.join(""):U.buffer.length===1?U.buffer.head.data:U.buffer.concat(U.length),U.buffer.clear()):V=function(z,X,Q){var q;return z<X.head.data.length?(q=X.head.data.slice(0,z),X.head.data=X.head.data.slice(z)):q=z===X.head.data.length?X.shift():Q?function(H,$){var G=$.head,J=1,te=G.data;for(H-=te.length;G=G.next;){var K=G.data,ne=H>K.length?K.length:H;if(ne===K.length?te+=K:te+=K.slice(0,H),(H-=ne)===0){ne===K.length?(++J,G.next?$.head=G.next:$.head=$.tail=null):($.head=G,G.data=K.slice(ne));break}++J}return $.length-=J,te}(z,X):function(H,$){var G=h.allocUnsafe(H),J=$.head,te=1;for(J.data.copy(G),H-=J.data.length;J=J.next;){var K=J.data,ne=H>K.length?K.length:H;if(K.copy(G,G.length-H,0,ne),(H-=ne)===0){ne===K.length?(++te,J.next?$.head=J.next:$.head=$.tail=null):($.head=J,J.data=K.slice(ne));break}++te}return $.length-=te,G}(z,X),q}(R,U.buffer,U.decoder),V);var V}function j(R){var U=R._readableState;if(U.length>0)throw new Error('"endReadable()" called on non-empty stream');U.endEmitted||(U.ended=!0,c.nextTick(N,U,R))}function N(R,U){R.endEmitted||R.length!==0||(R.endEmitted=!0,U.readable=!1,U.emit("end"))}function I(R,U){for(var V=0,z=R.length;V<z;V++)if(R[V]===U)return V;return-1}M.prototype.read=function(R){p("read",R),R=parseInt(R,10);var U=this._readableState,V=R;if(R!==0&&(U.emittedReadable=!1),R===0&&U.needReadable&&(U.length>=U.highWaterMark||U.ended))return p("read: emitReadable",U.length,U.ended),U.length===0&&U.ended?j(this):L(this),null;if((R=D(R,U))===0&&U.ended)return U.length===0&&j(this),null;var z,X=U.needReadable;return p("need readable",X),(U.length===0||U.length-R<U.highWaterMark)&&p("length less than watermark",X=!0),U.ended||U.reading?p("reading or ended",X=!1):X&&(p("do read"),U.reading=!0,U.sync=!0,U.length===0&&(U.needReadable=!0),this._read(U.highWaterMark),U.sync=!1,U.reading||(R=D(V,U))),(z=R>0?C(R,U):null)===null?(U.needReadable=!0,R=0):U.length-=R,U.length===0&&(U.ended||(U.needReadable=!0),V!==R&&U.ended&&j(this)),z!==null&&this.emit("data",z),z},M.prototype._read=function(R){this.emit("error",new Error("_read() is not implemented"))},M.prototype.pipe=function(R,U){var V=this,z=this._readableState;switch(z.pipesCount){case 0:z.pipes=R;break;case 1:z.pipes=[z.pipes,R];break;default:z.pipes.push(R)}z.pipesCount+=1,p("pipe count=%d opts=%j",z.pipesCount,U);var X=(!U||U.end!==!1)&&R!==i.stdout&&R!==i.stderr?q:ce;function Q(oe,ee){p("onunpipe"),oe===V&&ee&&ee.hasUnpiped===!1&&(ee.hasUnpiped=!0,p("cleanup"),R.removeListener("close",K),R.removeListener("finish",ne),R.removeListener("drain",H),R.removeListener("error",te),R.removeListener("unpipe",Q),V.removeListener("end",q),V.removeListener("end",ce),V.removeListener("data",J),$=!0,!z.awaitDrain||R._writableState&&!R._writableState.needDrain||H())}function q(){p("onend"),R.end()}z.endEmitted?c.nextTick(X):V.once("end",X),R.on("unpipe",Q);var H=function(oe){return function(){var ee=oe._readableState;p("pipeOnDrain",ee.awaitDrain),ee.awaitDrain&&ee.awaitDrain--,ee.awaitDrain===0&&u(oe,"data")&&(ee.flowing=!0,w(oe))}}(V);R.on("drain",H);var $=!1,G=!1;function J(oe){p("ondata"),G=!1,R.write(oe)!==!1||G||((z.pipesCount===1&&z.pipes===R||z.pipesCount>1&&I(z.pipes,R)!==-1)&&!$&&(p("false write response, pause",z.awaitDrain),z.awaitDrain++,G=!0),V.pause())}function te(oe){p("onerror",oe),ce(),R.removeListener("error",te),u(R,"error")===0&&R.emit("error",oe)}function K(){R.removeListener("finish",ne),ce()}function ne(){p("onfinish"),R.removeListener("close",K),ce()}function ce(){p("unpipe"),V.unpipe(R)}return V.on("data",J),function(oe,ee,W){if(typeof oe.prependListener=="function")return oe.prependListener(ee,W);oe._events&&oe._events[ee]?d(oe._events[ee])?oe._events[ee].unshift(W):oe._events[ee]=[W,oe._events[ee]]:oe.on(ee,W)}(R,"error",te),R.once("close",K),R.once("finish",ne),R.emit("pipe",V),z.flowing||(p("pipe resume"),V.resume()),R},M.prototype.unpipe=function(R){var U=this._readableState,V={hasUnpiped:!1};if(U.pipesCount===0)return this;if(U.pipesCount===1)return R&&R!==U.pipes||(R||(R=U.pipes),U.pipes=null,U.pipesCount=0,U.flowing=!1,R&&R.emit("unpipe",this,V)),this;if(!R){var z=U.pipes,X=U.pipesCount;U.pipes=null,U.pipesCount=0,U.flowing=!1;for(var Q=0;Q<X;Q++)z[Q].emit("unpipe",this,{hasUnpiped:!1});return this}var q=I(U.pipes,R);return q===-1||(U.pipes.splice(q,1),U.pipesCount-=1,U.pipesCount===1&&(U.pipes=U.pipes[0]),R.emit("unpipe",this,V)),this},M.prototype.on=function(R,U){var V=f.prototype.on.call(this,R,U);if(R==="data")this._readableState.flowing!==!1&&this.resume();else if(R==="readable"){var z=this._readableState;z.endEmitted||z.readableListening||(z.readableListening=z.needReadable=!0,z.emittedReadable=!1,z.reading?z.length&&L(this):c.nextTick(E,this))}return V},M.prototype.addListener=M.prototype.on,M.prototype.resume=function(){var R=this._readableState;return R.flowing||(p("resume"),R.flowing=!0,function(U,V){V.resumeScheduled||(V.resumeScheduled=!0,c.nextTick(T,U,V))}(this,R)),this},M.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},M.prototype.wrap=function(R){var U=this,V=this._readableState,z=!1;for(var X in R.on("end",function(){if(p("wrapped end"),V.decoder&&!V.ended){var q=V.decoder.end();q&&q.length&&U.push(q)}U.push(null)}),R.on("data",function(q){p("wrapped data"),V.decoder&&(q=V.decoder.write(q)),V.objectMode&&q==null||(V.objectMode||q&&q.length)&&(U.push(q)||(z=!0,R.pause()))}),R)this[X]===void 0&&typeof R[X]=="function"&&(this[X]=function(q){return function(){return R[q].apply(R,arguments)}}(X));for(var Q=0;Q<y.length;Q++)R.on(y[Q],this.emit.bind(this,y[Q]));return this._read=function(q){p("wrapped _read",q),z&&(z=!1,R.resume())},this},Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),M._fromList=C}).call(this)}).call(this,e("_process"),typeof an<"u"?an:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,s,a){s.exports=l;var i=e("./_stream_duplex"),o=Object.create(e("core-util-is"));function c(f,h){var m=this._transformState;m.transforming=!1;var A=m.writecb;if(!A)return this.emit("error",new Error("write callback called multiple times"));m.writechunk=null,m.writecb=null,h!=null&&this.push(h),A(f);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function l(f){if(!(this instanceof l))return new l(f);i.call(this,f),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",d)}function d(){var f=this;typeof this._flush=="function"?this._flush(function(h,m){u(f,h,m)}):u(this,null,null)}function u(f,h,m){if(h)return f.emit("error",h);if(m!=null&&f.push(m),f._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(f._transformState.transforming)throw new Error("Calling transform done when still transforming");return f.push(null)}o.inherits=e("inherits"),o.inherits(l,i),l.prototype.push=function(f,h){return this._transformState.needTransform=!1,i.prototype.push.call(this,f,h)},l.prototype._transform=function(f,h,m){throw new Error("_transform() is not implemented")},l.prototype._write=function(f,h,m){var A=this._transformState;if(A.writecb=m,A.writechunk=f,A.writeencoding=h,!A.transforming){var g=this._readableState;(A.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},l.prototype._read=function(f){var h=this._transformState;h.writechunk!==null&&h.writecb&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},l.prototype._destroy=function(f,h){var m=this;i.prototype._destroy.call(this,f,function(A){h(A),m.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,s,a){(function(i,o,c){(function(){var l=e("process-nextick-args");function d(F){var _=this;this.next=null,this.entry=null,this.finish=function(){(function(E,T,w){var C=E.entry;for(E.entry=null;C;){var j=C.callback;T.pendingcb--,j(w),C=C.next}T.corkedRequestsFree.next=E})(_,F)}}s.exports=S;var u,f=!i.browser&&["v0.10","v0.9."].indexOf(i.version.slice(0,5))>-1?c:l.nextTick;S.WritableState=y;var h=Object.create(e("core-util-is"));h.inherits=e("inherits");var m={deprecate:e("util-deprecate")},A=e("./internal/streams/stream"),g=e("safe-buffer").Buffer,p=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},b,x=e("./internal/streams/destroy");function v(){}function y(F,_){u=u||e("./_stream_duplex"),F=F||{};var E=_ instanceof u;this.objectMode=!!F.objectMode,E&&(this.objectMode=this.objectMode||!!F.writableObjectMode);var T=F.highWaterMark,w=F.writableHighWaterMark,C=this.objectMode?16:16384;this.highWaterMark=T||T===0?T:E&&(w||w===0)?w:C,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var j=F.decodeStrings===!1;this.decodeStrings=!j,this.defaultEncoding=F.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(N){(function(I,R){var U=I._writableState,V=U.sync,z=U.writecb;if(function(Q){Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0}(U),R)(function(Q,q,H,$,G){--q.pendingcb,H?(l.nextTick(G,$),l.nextTick(O,Q,q),Q._writableState.errorEmitted=!0,Q.emit("error",$)):(G($),Q._writableState.errorEmitted=!0,Q.emit("error",$),O(Q,q))})(I,U,V,R,z);else{var X=D(U);X||U.corked||U.bufferProcessing||!U.bufferedRequest||B(I,U),V?f(P,I,U,X,z):P(I,U,X,z)}})(_,N)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new d(this)}function S(F){if(u=u||e("./_stream_duplex"),!(b.call(S,this)||this instanceof u))return new S(F);this._writableState=new y(F,this),this.writable=!0,F&&(typeof F.write=="function"&&(this._write=F.write),typeof F.writev=="function"&&(this._writev=F.writev),typeof F.destroy=="function"&&(this._destroy=F.destroy),typeof F.final=="function"&&(this._final=F.final)),A.call(this)}function M(F,_,E,T,w,C,j){_.writelen=T,_.writecb=j,_.writing=!0,_.sync=!0,E?F._writev(w,_.onwrite):F._write(w,C,_.onwrite),_.sync=!1}function P(F,_,E,T){E||function(w,C){C.length===0&&C.needDrain&&(C.needDrain=!1,w.emit("drain"))}(F,_),_.pendingcb--,T(),O(F,_)}function B(F,_){_.bufferProcessing=!0;var E=_.bufferedRequest;if(F._writev&&E&&E.next){var T=_.bufferedRequestCount,w=new Array(T),C=_.corkedRequestsFree;C.entry=E;for(var j=0,N=!0;E;)w[j]=E,E.isBuf||(N=!1),E=E.next,j+=1;w.allBuffers=N,M(F,_,!0,_.length,w,"",C.finish),_.pendingcb++,_.lastBufferedRequest=null,C.next?(_.corkedRequestsFree=C.next,C.next=null):_.corkedRequestsFree=new d(_),_.bufferedRequestCount=0}else{for(;E;){var I=E.chunk,R=E.encoding,U=E.callback;if(M(F,_,!1,_.objectMode?1:I.length,I,R,U),E=E.next,_.bufferedRequestCount--,_.writing)break}E===null&&(_.lastBufferedRequest=null)}_.bufferedRequest=E,_.bufferProcessing=!1}function D(F){return F.ending&&F.length===0&&F.bufferedRequest===null&&!F.finished&&!F.writing}function L(F,_){F._final(function(E){_.pendingcb--,E&&F.emit("error",E),_.prefinished=!0,F.emit("prefinish"),O(F,_)})}function O(F,_){var E=D(_);return E&&(function(T,w){w.prefinished||w.finalCalled||(typeof T._final=="function"?(w.pendingcb++,w.finalCalled=!0,l.nextTick(L,T,w)):(w.prefinished=!0,T.emit("prefinish")))}(F,_),_.pendingcb===0&&(_.finished=!0,F.emit("finish"))),E}h.inherits(S,A),y.prototype.getBuffer=function(){for(var F=this.bufferedRequest,_=[];F;)_.push(F),F=F.next;return _},function(){try{Object.defineProperty(y.prototype,"buffer",{get:m.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(b=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(F){return!!b.call(this,F)||this===S&&F&&F._writableState instanceof y}})):b=function(F){return F instanceof this},S.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},S.prototype.write=function(F,_,E){var T,w=this._writableState,C=!1,j=!w.objectMode&&(T=F,g.isBuffer(T)||T instanceof p);return j&&!g.isBuffer(F)&&(F=function(N){return g.from(N)}(F)),typeof _=="function"&&(E=_,_=null),j?_="buffer":_||(_=w.defaultEncoding),typeof E!="function"&&(E=v),w.ended?function(N,I){var R=new Error("write after end");N.emit("error",R),l.nextTick(I,R)}(this,E):(j||function(N,I,R,U){var V=!0,z=!1;return R===null?z=new TypeError("May not write null values to stream"):typeof R=="string"||R===void 0||I.objectMode||(z=new TypeError("Invalid non-string/buffer chunk")),z&&(N.emit("error",z),l.nextTick(U,z),V=!1),V}(this,w,F,E))&&(w.pendingcb++,C=function(N,I,R,U,V,z){if(!R){var X=function($,G,J){return $.objectMode||$.decodeStrings===!1||typeof G!="string"||(G=g.from(G,J)),G}(I,U,V);U!==X&&(R=!0,V="buffer",U=X)}var Q=I.objectMode?1:U.length;I.length+=Q;var q=I.length<I.highWaterMark;if(q||(I.needDrain=!0),I.writing||I.corked){var H=I.lastBufferedRequest;I.lastBufferedRequest={chunk:U,encoding:V,isBuf:R,callback:z,next:null},H?H.next=I.lastBufferedRequest:I.bufferedRequest=I.lastBufferedRequest,I.bufferedRequestCount+=1}else M(N,I,!1,Q,U,V,z);return q}(this,w,j,F,_,E)),C},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var F=this._writableState;F.corked&&(F.corked--,F.writing||F.corked||F.bufferProcessing||!F.bufferedRequest||B(this,F))},S.prototype.setDefaultEncoding=function(F){if(typeof F=="string"&&(F=F.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((F+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+F);return this._writableState.defaultEncoding=F,this},Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(F,_,E){E(new Error("_write() is not implemented"))},S.prototype._writev=null,S.prototype.end=function(F,_,E){var T=this._writableState;typeof F=="function"?(E=F,F=null,_=null):typeof _=="function"&&(E=_,_=null),F!=null&&this.write(F,_),T.corked&&(T.corked=1,this.uncork()),T.ending||function(w,C,j){C.ending=!0,O(w,C),j&&(C.finished?l.nextTick(j):w.once("finish",j)),C.ended=!0,w.writable=!1}(this,T,E)},Object.defineProperty(S.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(F){this._writableState&&(this._writableState.destroyed=F)}}),S.prototype.destroy=x.destroy,S.prototype._undestroy=x.undestroy,S.prototype._destroy=function(F,_){this.end(),_(F)}}).call(this)}).call(this,e("_process"),typeof an<"u"?an:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,s,a){var i=e("safe-buffer").Buffer,o=e("util");s.exports=function(){function c(){(function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this.head=null,this.tail=null,this.length=0}return c.prototype.push=function(l){var d={data:l,next:null};this.length>0?this.tail.next=d:this.head=d,this.tail=d,++this.length},c.prototype.unshift=function(l){var d={data:l,next:this.head};this.length===0&&(this.tail=d),this.head=d,++this.length},c.prototype.shift=function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}},c.prototype.clear=function(){this.head=this.tail=null,this.length=0},c.prototype.join=function(l){if(this.length===0)return"";for(var d=this.head,u=""+d.data;d=d.next;)u+=l+d.data;return u},c.prototype.concat=function(l){if(this.length===0)return i.alloc(0);for(var d,u,f,h=i.allocUnsafe(l>>>0),m=this.head,A=0;m;)d=m.data,u=h,f=A,d.copy(u,f),A+=m.data.length,m=m.next;return h},c}(),o&&o.inspect&&o.inspect.custom&&(s.exports.prototype[o.inspect.custom]=function(){var c=o.inspect({length:this.length});return this.constructor.name+" "+c})},{"safe-buffer":520,util:188}],514:[function(e,s,a){var i=e("process-nextick-args");function o(c,l){c.emit("error",l)}s.exports={destroy:function(c,l){var d=this,u=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return u||f?(l?l(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(o,this,c)):i.nextTick(o,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(h){!l&&h?d._writableState?d._writableState.errorEmitted||(d._writableState.errorEmitted=!0,i.nextTick(o,d,h)):i.nextTick(o,d,h):l&&l(h)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(e,s,a){arguments[4][490][0].apply(a,arguments)},{dup:490,events:422}],516:[function(e,s,a){s.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,s,a){(a=s.exports=e("./lib/_stream_readable.js")).Stream=a,a.Readable=a,a.Writable=e("./lib/_stream_writable.js"),a.Duplex=e("./lib/_stream_duplex.js"),a.Transform=e("./lib/_stream_transform.js"),a.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,s,a){s.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,s,a){s.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,s,a){arguments[4][217][0].apply(a,arguments)},{buffer:220,dup:217}],521:[function(e,s,a){arguments[4][218][0].apply(a,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,s,a){arguments[4][218][0].apply(a,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,s,a){(function(i,o){(function(){var c=e("process/browser.js").nextTick,l=Function.prototype.apply,d=Array.prototype.slice,u={},f=0;function h(m,A){this._id=m,this._clearFn=A}a.setTimeout=function(){return new h(l.call(setTimeout,window,arguments),clearTimeout)},a.setInterval=function(){return new h(l.call(setInterval,window,arguments),clearInterval)},a.clearTimeout=a.clearInterval=function(m){m.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(window,this._id)},a.enroll=function(m,A){clearTimeout(m._idleTimeoutId),m._idleTimeout=A},a.unenroll=function(m){clearTimeout(m._idleTimeoutId),m._idleTimeout=-1},a._unrefActive=a.active=function(m){clearTimeout(m._idleTimeoutId);var A=m._idleTimeout;A>=0&&(m._idleTimeoutId=setTimeout(function(){m._onTimeout&&m._onTimeout()},A))},a.setImmediate=typeof i=="function"?i:function(m){var A=f++,g=!(arguments.length<2)&&d.call(arguments,1);return u[A]=!0,c(function(){u[A]&&(g?m.apply(null,g):m.call(null),a.clearImmediate(A))}),A},a.clearImmediate=typeof o=="function"?o:function(m){delete u[m]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,s,a){(function(i){(function(){function o(c){try{if(!i.localStorage)return!1}catch{return!1}var l=i.localStorage[c];return l!=null&&String(l).toLowerCase()==="true"}s.exports=function(c,l){if(o("noDeprecation"))return c;var d=!1;return function(){if(!d){if(o("throwDeprecation"))throw new Error(l);o("traceDeprecation")?console.trace(l):console.warn(l),d=!0}return c.apply(this,arguments)}}}).call(this)}).call(this,typeof an<"u"?an:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,s,a){typeof Object.create=="function"?s.exports=function(i,o){i.super_=o,i.prototype=Object.create(o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}})}:s.exports=function(i,o){i.super_=o;var c=function(){};c.prototype=o.prototype,i.prototype=new c,i.prototype.constructor=i}},{}],526:[function(e,s,a){s.exports=function(i){return i&&typeof i=="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"}},{}],527:[function(e,s,a){(function(i,o){(function(){var c=/%[sdj%]/g;a.format=function(w){if(!y(w)){for(var C=[],j=0;j<arguments.length;j++)C.push(u(arguments[j]));return C.join(" ")}j=1;for(var N=arguments,I=N.length,R=String(w).replace(c,function(V){if(V==="%%")return"%";if(j>=I)return V;switch(V){case"%s":return String(N[j++]);case"%d":return Number(N[j++]);case"%j":try{return JSON.stringify(N[j++])}catch{return"[Circular]"}default:return V}}),U=N[j];j<I;U=N[++j])x(U)||!P(U)?R+=" "+U:R+=" "+u(U);return R},a.deprecate=function(w,C){if(S(o.process))return function(){return a.deprecate(w,C).apply(this,arguments)};if(i.noDeprecation===!0)return w;var j=!1;return function(){if(!j){if(i.throwDeprecation)throw new Error(C);i.traceDeprecation?console.trace(C):console.error(C),j=!0}return w.apply(this,arguments)}};var l,d={};function u(w,C){var j={seen:[],stylize:h};return arguments.length>=3&&(j.depth=arguments[2]),arguments.length>=4&&(j.colors=arguments[3]),b(C)?j.showHidden=C:C&&a._extend(j,C),S(j.showHidden)&&(j.showHidden=!1),S(j.depth)&&(j.depth=2),S(j.colors)&&(j.colors=!1),S(j.customInspect)&&(j.customInspect=!0),j.colors&&(j.stylize=f),m(j,w,j.depth)}function f(w,C){var j=u.styles[C];return j?"\x1B["+u.colors[j][0]+"m"+w+"\x1B["+u.colors[j][1]+"m":w}function h(w,C){return w}function m(w,C,j){if(w.customInspect&&C&&L(C.inspect)&&C.inspect!==a.inspect&&(!C.constructor||C.constructor.prototype!==C)){var N=C.inspect(j,w);return y(N)||(N=m(w,N,j)),N}var I=function(H,$){if(S($))return H.stylize("undefined","undefined");if(y($)){var G="'"+JSON.stringify($).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return H.stylize(G,"string")}if(v($))return H.stylize(""+$,"number");if(b($))return H.stylize(""+$,"boolean");if(x($))return H.stylize("null","null")}(w,C);if(I)return I;var R=Object.keys(C),U=function(H){var $={};return H.forEach(function(G,J){$[G]=!0}),$}(R);if(w.showHidden&&(R=Object.getOwnPropertyNames(C)),D(C)&&(R.indexOf("message")>=0||R.indexOf("description")>=0))return A(C);if(R.length===0){if(L(C)){var V=C.name?": "+C.name:"";return w.stylize("[Function"+V+"]","special")}if(M(C))return w.stylize(RegExp.prototype.toString.call(C),"regexp");if(B(C))return w.stylize(Date.prototype.toString.call(C),"date");if(D(C))return A(C)}var z,X="",Q=!1,q=["{","}"];return p(C)&&(Q=!0,q=["[","]"]),L(C)&&(X=" [Function"+(C.name?": "+C.name:"")+"]"),M(C)&&(X=" "+RegExp.prototype.toString.call(C)),B(C)&&(X=" "+Date.prototype.toUTCString.call(C)),D(C)&&(X=" "+A(C)),R.length!==0||Q&&C.length!=0?j<0?M(C)?w.stylize(RegExp.prototype.toString.call(C),"regexp"):w.stylize("[Object]","special"):(w.seen.push(C),z=Q?function(H,$,G,J,te){for(var K=[],ne=0,ce=$.length;ne<ce;++ne)T($,String(ne))?K.push(g(H,$,G,J,String(ne),!0)):K.push("");return te.forEach(function(oe){oe.match(/^\d+$/)||K.push(g(H,$,G,J,oe,!0))}),K}(w,C,j,U,R):R.map(function(H){return g(w,C,j,U,H,Q)}),w.seen.pop(),function(H,$,G){return H.reduce(function(J,te){return te.indexOf(`
`)>=0,J+te.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?G[0]+($===""?"":$+`
 `)+" "+H.join(`,
  `)+" "+G[1]:G[0]+$+" "+H.join(", ")+" "+G[1]}(z,X,q)):q[0]+X+q[1]}function A(w){return"["+Error.prototype.toString.call(w)+"]"}function g(w,C,j,N,I,R){var U,V,z;if((z=Object.getOwnPropertyDescriptor(C,I)||{value:C[I]}).get?V=z.set?w.stylize("[Getter/Setter]","special"):w.stylize("[Getter]","special"):z.set&&(V=w.stylize("[Setter]","special")),T(N,I)||(U="["+I+"]"),V||(w.seen.indexOf(z.value)<0?(V=x(j)?m(w,z.value,null):m(w,z.value,j-1)).indexOf(`
`)>-1&&(V=R?V.split(`
`).map(function(X){return"  "+X}).join(`
`).substr(2):`
`+V.split(`
`).map(function(X){return"   "+X}).join(`
`)):V=w.stylize("[Circular]","special")),S(U)){if(R&&I.match(/^\d+$/))return V;(U=JSON.stringify(""+I)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(U=U.substr(1,U.length-2),U=w.stylize(U,"name")):(U=U.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),U=w.stylize(U,"string"))}return U+": "+V}function p(w){return Array.isArray(w)}function b(w){return typeof w=="boolean"}function x(w){return w===null}function v(w){return typeof w=="number"}function y(w){return typeof w=="string"}function S(w){return w===void 0}function M(w){return P(w)&&O(w)==="[object RegExp]"}function P(w){return typeof w=="object"&&w!==null}function B(w){return P(w)&&O(w)==="[object Date]"}function D(w){return P(w)&&(O(w)==="[object Error]"||w instanceof Error)}function L(w){return typeof w=="function"}function O(w){return Object.prototype.toString.call(w)}function F(w){return w<10?"0"+w.toString(10):w.toString(10)}a.debuglog=function(w){if(S(l)&&(l=i.env.NODE_DEBUG||""),w=w.toUpperCase(),!d[w])if(new RegExp("\\b"+w+"\\b","i").test(l)){var C=i.pid;d[w]=function(){var j=a.format.apply(a,arguments);console.error("%s %d: %s",w,C,j)}}else d[w]=function(){};return d[w]},a.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},a.isArray=p,a.isBoolean=b,a.isNull=x,a.isNullOrUndefined=function(w){return w==null},a.isNumber=v,a.isString=y,a.isSymbol=function(w){return typeof w=="symbol"},a.isUndefined=S,a.isRegExp=M,a.isObject=P,a.isDate=B,a.isError=D,a.isFunction=L,a.isPrimitive=function(w){return w===null||typeof w=="boolean"||typeof w=="number"||typeof w=="string"||typeof w=="symbol"||w===void 0},a.isBuffer=e("./support/isBuffer");var _=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(){var w=new Date,C=[F(w.getHours()),F(w.getMinutes()),F(w.getSeconds())].join(":");return[w.getDate(),_[w.getMonth()],C].join(" ")}function T(w,C){return Object.prototype.hasOwnProperty.call(w,C)}a.log=function(){console.log("%s - %s",E(),a.format.apply(a,arguments))},a.inherits=e("inherits"),a._extend=function(w,C){if(!C||!P(C))return w;for(var j=Object.keys(C),N=j.length;N--;)w[j[N]]=C[j[N]];return w}}).call(this)}).call(this,e("_process"),typeof an<"u"?an:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"v1",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(a,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(a,"v4",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(a,"v5",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(a,"NIL",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(a,"version",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(a,"validate",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(a,"stringify",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(a,"parse",{enumerable:!0,get:function(){return m.default}});var i=A(e("./v1.js")),o=A(e("./v3.js")),c=A(e("./v4.js")),l=A(e("./v5.js")),d=A(e("./nil.js")),u=A(e("./version.js")),f=A(e("./validate.js")),h=A(e("./stringify.js")),m=A(e("./parse.js"));function A(g){return g&&g.__esModule?g:{default:g}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,s,a){function i(m){return 14+(m+64>>>9<<4)+1}function o(m,A){const g=(65535&m)+(65535&A);return(m>>16)+(A>>16)+(g>>16)<<16|65535&g}function c(m,A,g,p,b,x){return o((v=o(o(A,m),o(p,x)))<<(y=b)|v>>>32-y,g);var v,y}function l(m,A,g,p,b,x,v){return c(A&g|~A&p,m,A,b,x,v)}function d(m,A,g,p,b,x,v){return c(A&p|g&~p,m,A,b,x,v)}function u(m,A,g,p,b,x,v){return c(A^g^p,m,A,b,x,v)}function f(m,A,g,p,b,x,v){return c(g^(A|~p),m,A,b,x,v)}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var h=function(m){if(typeof m=="string"){const A=unescape(encodeURIComponent(m));m=new Uint8Array(A.length);for(let g=0;g<A.length;++g)m[g]=A.charCodeAt(g)}return function(A){const g=[],p=32*A.length;for(let b=0;b<p;b+=8){const x=A[b>>5]>>>b%32&255,v=parseInt("0123456789abcdef".charAt(x>>>4&15)+"0123456789abcdef".charAt(15&x),16);g.push(v)}return g}(function(A,g){A[g>>5]|=128<<g%32,A[i(g)-1]=g;let p=1732584193,b=-271733879,x=-1732584194,v=271733878;for(let y=0;y<A.length;y+=16){const S=p,M=b,P=x,B=v;p=l(p,b,x,v,A[y],7,-680876936),v=l(v,p,b,x,A[y+1],12,-389564586),x=l(x,v,p,b,A[y+2],17,606105819),b=l(b,x,v,p,A[y+3],22,-1044525330),p=l(p,b,x,v,A[y+4],7,-176418897),v=l(v,p,b,x,A[y+5],12,1200080426),x=l(x,v,p,b,A[y+6],17,-1473231341),b=l(b,x,v,p,A[y+7],22,-45705983),p=l(p,b,x,v,A[y+8],7,1770035416),v=l(v,p,b,x,A[y+9],12,-1958414417),x=l(x,v,p,b,A[y+10],17,-42063),b=l(b,x,v,p,A[y+11],22,-1990404162),p=l(p,b,x,v,A[y+12],7,1804603682),v=l(v,p,b,x,A[y+13],12,-40341101),x=l(x,v,p,b,A[y+14],17,-1502002290),b=l(b,x,v,p,A[y+15],22,1236535329),p=d(p,b,x,v,A[y+1],5,-165796510),v=d(v,p,b,x,A[y+6],9,-1069501632),x=d(x,v,p,b,A[y+11],14,643717713),b=d(b,x,v,p,A[y],20,-373897302),p=d(p,b,x,v,A[y+5],5,-701558691),v=d(v,p,b,x,A[y+10],9,38016083),x=d(x,v,p,b,A[y+15],14,-660478335),b=d(b,x,v,p,A[y+4],20,-405537848),p=d(p,b,x,v,A[y+9],5,568446438),v=d(v,p,b,x,A[y+14],9,-1019803690),x=d(x,v,p,b,A[y+3],14,-187363961),b=d(b,x,v,p,A[y+8],20,1163531501),p=d(p,b,x,v,A[y+13],5,-1444681467),v=d(v,p,b,x,A[y+2],9,-51403784),x=d(x,v,p,b,A[y+7],14,1735328473),b=d(b,x,v,p,A[y+12],20,-1926607734),p=u(p,b,x,v,A[y+5],4,-378558),v=u(v,p,b,x,A[y+8],11,-2022574463),x=u(x,v,p,b,A[y+11],16,1839030562),b=u(b,x,v,p,A[y+14],23,-35309556),p=u(p,b,x,v,A[y+1],4,-1530992060),v=u(v,p,b,x,A[y+4],11,1272893353),x=u(x,v,p,b,A[y+7],16,-155497632),b=u(b,x,v,p,A[y+10],23,-1094730640),p=u(p,b,x,v,A[y+13],4,681279174),v=u(v,p,b,x,A[y],11,-358537222),x=u(x,v,p,b,A[y+3],16,-722521979),b=u(b,x,v,p,A[y+6],23,76029189),p=u(p,b,x,v,A[y+9],4,-640364487),v=u(v,p,b,x,A[y+12],11,-421815835),x=u(x,v,p,b,A[y+15],16,530742520),b=u(b,x,v,p,A[y+2],23,-995338651),p=f(p,b,x,v,A[y],6,-198630844),v=f(v,p,b,x,A[y+7],10,1126891415),x=f(x,v,p,b,A[y+14],15,-1416354905),b=f(b,x,v,p,A[y+5],21,-57434055),p=f(p,b,x,v,A[y+12],6,1700485571),v=f(v,p,b,x,A[y+3],10,-1894986606),x=f(x,v,p,b,A[y+10],15,-1051523),b=f(b,x,v,p,A[y+1],21,-2054922799),p=f(p,b,x,v,A[y+8],6,1873313359),v=f(v,p,b,x,A[y+15],10,-30611744),x=f(x,v,p,b,A[y+6],15,-1560198380),b=f(b,x,v,p,A[y+13],21,1309151649),p=f(p,b,x,v,A[y+4],6,-145523070),v=f(v,p,b,x,A[y+11],10,-1120210379),x=f(x,v,p,b,A[y+2],15,718787259),b=f(b,x,v,p,A[y+9],21,-343485551),p=o(p,S),b=o(b,M),x=o(x,P),v=o(v,B)}return[p,b,x,v]}(function(A){if(A.length===0)return[];const g=8*A.length,p=new Uint32Array(i(g));for(let b=0;b<g;b+=8)p[b>>5]|=(255&A[b/8])<<b%32;return p}(m),8*m.length))};a.default=h},{}],530:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,a.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i,o=(i=e("./validate.js"))&&i.__esModule?i:{default:i},c=function(l){if(!(0,o.default)(l))throw TypeError("Invalid UUID");let d;const u=new Uint8Array(16);return u[0]=(d=parseInt(l.slice(0,8),16))>>>24,u[1]=d>>>16&255,u[2]=d>>>8&255,u[3]=255&d,u[4]=(d=parseInt(l.slice(9,13),16))>>>8,u[5]=255&d,u[6]=(d=parseInt(l.slice(14,18),16))>>>8,u[7]=255&d,u[8]=(d=parseInt(l.slice(19,23),16))>>>8,u[9]=255&d,u[10]=(d=parseInt(l.slice(24,36),16))/1099511627776&255,u[11]=d/4294967296&255,u[12]=d>>>24&255,u[13]=d>>>16&255,u[14]=d>>>8&255,u[15]=255&d,u};a.default=c},{"./validate.js":541}],532:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,a.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(e,s,a){let i;Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){if(!i&&(i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(o)};const o=new Uint8Array(16)},{}],534:[function(e,s,a){function i(l,d,u,f){switch(l){case 0:return d&u^~d&f;case 1:return d^u^f;case 2:return d&u^d&f^u&f;case 3:return d^u^f}}function o(l,d){return l<<d|l>>>32-d}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=function(l){const d=[1518500249,1859775393,2400959708,3395469782],u=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof l=="string"){const A=unescape(encodeURIComponent(l));l=[];for(let g=0;g<A.length;++g)l.push(A.charCodeAt(g))}else Array.isArray(l)||(l=Array.prototype.slice.call(l));l.push(128);const f=l.length/4+2,h=Math.ceil(f/16),m=new Array(h);for(let A=0;A<h;++A){const g=new Uint32Array(16);for(let p=0;p<16;++p)g[p]=l[64*A+4*p]<<24|l[64*A+4*p+1]<<16|l[64*A+4*p+2]<<8|l[64*A+4*p+3];m[A]=g}m[h-1][14]=8*(l.length-1)/Math.pow(2,32),m[h-1][14]=Math.floor(m[h-1][14]),m[h-1][15]=8*(l.length-1)&4294967295;for(let A=0;A<h;++A){const g=new Uint32Array(80);for(let S=0;S<16;++S)g[S]=m[A][S];for(let S=16;S<80;++S)g[S]=o(g[S-3]^g[S-8]^g[S-14]^g[S-16],1);let p=u[0],b=u[1],x=u[2],v=u[3],y=u[4];for(let S=0;S<80;++S){const M=Math.floor(S/20),P=o(p,5)+i(M,b,x,v)+y+d[M]+g[S]>>>0;y=v,v=x,x=o(b,30)>>>0,b=p,p=P}u[0]=u[0]+p>>>0,u[1]=u[1]+b>>>0,u[2]=u[2]+x>>>0,u[3]=u[3]+v>>>0,u[4]=u[4]+y>>>0}return[u[0]>>24&255,u[0]>>16&255,u[0]>>8&255,255&u[0],u[1]>>24&255,u[1]>>16&255,u[1]>>8&255,255&u[1],u[2]>>24&255,u[2]>>16&255,u[2]>>8&255,255&u[2],u[3]>>24&255,u[3]>>16&255,u[3]>>8&255,255&u[3],u[4]>>24&255,u[4]>>16&255,u[4]>>8&255,255&u[4]]};a.default=c},{}],535:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i,o=(i=e("./validate.js"))&&i.__esModule?i:{default:i};const c=[];for(let d=0;d<256;++d)c.push((d+256).toString(16).substr(1));var l=function(d){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const f=(c[d[u+0]]+c[d[u+1]]+c[d[u+2]]+c[d[u+3]]+"-"+c[d[u+4]]+c[d[u+5]]+"-"+c[d[u+6]]+c[d[u+7]]+"-"+c[d[u+8]]+c[d[u+9]]+"-"+c[d[u+10]]+c[d[u+11]]+c[d[u+12]]+c[d[u+13]]+c[d[u+14]]+c[d[u+15]]).toLowerCase();if(!(0,o.default)(f))throw TypeError("Stringified UUID is invalid");return f};a.default=l},{"./validate.js":541}],536:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=c(e("./rng.js")),o=c(e("./stringify.js"));function c(m){return m&&m.__esModule?m:{default:m}}let l,d,u=0,f=0;var h=function(m,A,g){let p=A&&g||0;const b=A||new Array(16);let x=(m=m||{}).node||l,v=m.clockseq!==void 0?m.clockseq:d;if(x==null||v==null){const D=m.random||(m.rng||i.default)();x==null&&(x=l=[1|D[0],D[1],D[2],D[3],D[4],D[5]]),v==null&&(v=d=16383&(D[6]<<8|D[7]))}let y=m.msecs!==void 0?m.msecs:Date.now(),S=m.nsecs!==void 0?m.nsecs:f+1;const M=y-u+(S-f)/1e4;if(M<0&&m.clockseq===void 0&&(v=v+1&16383),(M<0||y>u)&&m.nsecs===void 0&&(S=0),S>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=y,f=S,d=v,y+=122192928e5;const P=(1e4*(268435455&y)+S)%4294967296;b[p++]=P>>>24&255,b[p++]=P>>>16&255,b[p++]=P>>>8&255,b[p++]=255&P;const B=y/4294967296*1e4&268435455;b[p++]=B>>>8&255,b[p++]=255&B,b[p++]=B>>>24&15|16,b[p++]=B>>>16&255,b[p++]=v>>>8|128,b[p++]=255&v;for(let D=0;D<6;++D)b[p+D]=x[D];return A||(0,o.default)(b)};a.default=h},{"./rng.js":533,"./stringify.js":535}],537:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=c(e("./v35.js")),o=c(e("./md5.js"));function c(d){return d&&d.__esModule?d:{default:d}}var l=(0,i.default)("v3",48,o.default);a.default=l},{"./md5.js":529,"./v35.js":538}],538:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(u,f,h){function m(A,g,p,b){if(typeof A=="string"&&(A=function(v){v=unescape(encodeURIComponent(v));const y=[];for(let S=0;S<v.length;++S)y.push(v.charCodeAt(S));return y}(A)),typeof g=="string"&&(g=(0,o.default)(g)),g.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let x=new Uint8Array(16+A.length);if(x.set(g),x.set(A,g.length),x=h(x),x[6]=15&x[6]|f,x[8]=63&x[8]|128,p){b=b||0;for(let v=0;v<16;++v)p[b+v]=x[v];return p}return(0,i.default)(x)}try{m.name=u}catch{}return m.DNS=l,m.URL=d,m},a.URL=a.DNS=void 0;var i=c(e("./stringify.js")),o=c(e("./parse.js"));function c(u){return u&&u.__esModule?u:{default:u}}const l="6ba7b810-9dad-11d1-80b4-00c04fd430c8";a.DNS=l;const d="6ba7b811-9dad-11d1-80b4-00c04fd430c8";a.URL=d},{"./parse.js":531,"./stringify.js":535}],539:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=c(e("./rng.js")),o=c(e("./stringify.js"));function c(d){return d&&d.__esModule?d:{default:d}}var l=function(d,u,f){const h=(d=d||{}).random||(d.rng||i.default)();if(h[6]=15&h[6]|64,h[8]=63&h[8]|128,u){f=f||0;for(let m=0;m<16;++m)u[f+m]=h[m];return u}return(0,o.default)(h)};a.default=l},{"./rng.js":533,"./stringify.js":535}],540:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=c(e("./v35.js")),o=c(e("./sha1.js"));function c(d){return d&&d.__esModule?d:{default:d}}var l=(0,i.default)("v5",80,o.default);a.default=l},{"./sha1.js":534,"./v35.js":538}],541:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i,o=(i=e("./regex.js"))&&i.__esModule?i:{default:i},c=function(l){return typeof l=="string"&&o.default.test(l)};a.default=c},{"./regex.js":532}],542:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i,o=(i=e("./validate.js"))&&i.__esModule?i:{default:i},c=function(l){if(!(0,o.default)(l))throw TypeError("Invalid UUID");return parseInt(l.substr(14,1),16)};a.default=c},{"./validate.js":541}],543:[function(e,s,a){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(a,"__esModule",{value:!0}),a.CHAR=`	
\r -퟿-�𐀀-􏿿`,a.S=` 	\r
`,a.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",a.NAME_CHAR="-"+a.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",a.CHAR_RE=new RegExp("^["+a.CHAR+"]$","u"),a.S_RE=new RegExp("^["+a.S+"]+$","u"),a.NAME_START_CHAR_RE=new RegExp("^["+a.NAME_START_CHAR+"]$","u"),a.NAME_CHAR_RE=new RegExp("^["+a.NAME_CHAR+"]$","u"),a.NAME_RE=new RegExp("^["+a.NAME_START_CHAR+"]["+a.NAME_CHAR+"]*$","u"),a.NMTOKEN_RE=new RegExp("^["+a.NAME_CHAR+"]+$","u");function i(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}a.S_LIST=[32,10,13,9],a.isChar=function(o){return o>=32&&o<=55295||o===10||o===13||o===9||o>=57344&&o<=65533||o>=65536&&o<=1114111},a.isS=function(o){return o===32||o===10||o===13||o===9},a.isNameStartChar=i,a.isNameChar=function(o){return i(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],544:[function(e,s,a){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(a,"__esModule",{value:!0}),a.CHAR="-퟿-�𐀀-􏿿",a.RESTRICTED_CHAR="-\b\v\f---",a.S=` 	\r
`,a.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",a.NAME_CHAR="-"+a.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",a.CHAR_RE=new RegExp("^["+a.CHAR+"]$","u"),a.RESTRICTED_CHAR_RE=new RegExp("^["+a.RESTRICTED_CHAR+"]$","u"),a.S_RE=new RegExp("^["+a.S+"]+$","u"),a.NAME_START_CHAR_RE=new RegExp("^["+a.NAME_START_CHAR+"]$","u"),a.NAME_CHAR_RE=new RegExp("^["+a.NAME_CHAR+"]$","u"),a.NAME_RE=new RegExp("^["+a.NAME_START_CHAR+"]["+a.NAME_CHAR+"]*$","u"),a.NMTOKEN_RE=new RegExp("^["+a.NAME_CHAR+"]+$","u");function i(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}a.S_LIST=[32,10,13,9],a.isChar=function(o){return o>=1&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},a.isRestrictedChar=function(o){return o>=1&&o<=8||o===11||o===12||o>=14&&o<=31||o>=127&&o<=132||o>=134&&o<=159},a.isCharAndNotRestricted=function(o){return o===9||o===10||o===13||o>31&&o<127||o===133||o>159&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},a.isS=function(o){return o===32||o===10||o===13||o===9},a.isNameStartChar=i,a.isNameChar=function(o){return i(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],545:[function(e,s,a){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function i(o){return o>=65&&o<=90||o===95||o>=97&&o<=122||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8204&&o<=8205||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}Object.defineProperty(a,"__esModule",{value:!0}),a.NC_NAME_START_CHAR="A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",a.NC_NAME_CHAR="-"+a.NC_NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",a.NC_NAME_START_CHAR_RE=new RegExp("^["+a.NC_NAME_START_CHAR+"]$","u"),a.NC_NAME_CHAR_RE=new RegExp("^["+a.NC_NAME_CHAR+"]$","u"),a.NC_NAME_RE=new RegExp("^["+a.NC_NAME_START_CHAR+"]["+a.NC_NAME_CHAR+"]*$","u"),a.isNCNameStartChar=i,a.isNCNameChar=function(o){return i(o)||o===45||o===46||o>=48&&o<=57||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}]},{},[15])(15)})})(QF);var CSe=QF.exports;const NSe=Td(CSe);/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var l2=function(n,t){return l2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,s){e.__proto__=s}||function(e,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])},l2(n,t)};function Ti(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l2(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var c2=function(){return c2=Object.assign||function(t){for(var e,s=1,a=arguments.length;s<a;s++){e=arguments[s];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},c2.apply(this,arguments)};function Ks(n,t,e,s){function a(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function c(u){try{d(s.next(u))}catch(f){o(f)}}function l(u){try{d(s.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(c,l)}d((s=s.apply(n,[])).next())})}function Ps(n,t){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,a,i,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(u){return l([d,u])}}function l(d){if(s)throw new TypeError("Generator is already executing.");for(;e;)try{if(s=1,a&&(i=d[0]&2?a.return:d[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,d[1])).done)return i;switch(a=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,a=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){e.label=d[1];break}if(d[0]===6&&e.label<i[1]){e.label=i[1],i=d;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(d);break}i[2]&&e.ops.pop(),e.trys.pop();continue}d=t.call(n,e)}catch(u){d=[6,u],a=0}finally{s=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function wA(n,t,e){if(arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return n.concat(i||t)}var rl=function(){function n(t,e,s,a){this.left=t,this.top=e,this.width=s,this.height=a}return n.prototype.add=function(t,e,s,a){return new n(this.left+t,this.top+e,this.width+s,this.height+a)},n.fromClientRect=function(t,e){return new n(e.left+t.windowBounds.left,e.top+t.windowBounds.top,e.width,e.height)},n.fromDOMRectList=function(t,e){var s=Array.from(e).find(function(a){return a.width!==0});return s?new n(s.left+t.windowBounds.left,s.top+t.windowBounds.top,s.width,s.height):n.EMPTY},n.EMPTY=new n(0,0,0,0),n}(),Ib=function(n,t){return rl.fromClientRect(n,t.getBoundingClientRect())},SSe=function(n){var t=n.body,e=n.documentElement;if(!t||!e)throw new Error("Unable to get document size");var s=Math.max(Math.max(t.scrollWidth,e.scrollWidth),Math.max(t.offsetWidth,e.offsetWidth),Math.max(t.clientWidth,e.clientWidth)),a=Math.max(Math.max(t.scrollHeight,e.scrollHeight),Math.max(t.offsetHeight,e.offsetHeight),Math.max(t.clientHeight,e.clientHeight));return new rl(0,0,s,a)},Ob=function(n){for(var t=[],e=0,s=n.length;e<s;){var a=n.charCodeAt(e++);if(a>=55296&&a<=56319&&e<s){var i=n.charCodeAt(e++);(i&64512)===56320?t.push(((a&1023)<<10)+(i&1023)+65536):(t.push(a),e--)}else t.push(a)}return t},Gr=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var e=n.length;if(!e)return"";for(var s=[],a=-1,i="";++a<e;){var o=n[a];o<=65535?s.push(o):(o-=65536,s.push((o>>10)+55296,o%1024+56320)),(a+1===e||s.length>16384)&&(i+=String.fromCharCode.apply(String,s),s.length=0)}return i},hk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",TSe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var jA=0;jA<hk.length;jA++)TSe[hk.charCodeAt(jA)]=jA;var fk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var CA=0;CA<fk.length;CA++)yf[fk.charCodeAt(CA)]=CA;var kSe=function(n){var t=n.length*.75,e=n.length,s,a=0,i,o,c,l;n[n.length-1]==="="&&(t--,n[n.length-2]==="="&&t--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(d)?d:new Uint8Array(d);for(s=0;s<e;s+=4)i=yf[n.charCodeAt(s)],o=yf[n.charCodeAt(s+1)],c=yf[n.charCodeAt(s+2)],l=yf[n.charCodeAt(s+3)],u[a++]=i<<2|o>>4,u[a++]=(o&15)<<4|c>>2,u[a++]=(c&3)<<6|l&63;return d},_Se=function(n){for(var t=n.length,e=[],s=0;s<t;s+=2)e.push(n[s+1]<<8|n[s]);return e},BSe=function(n){for(var t=n.length,e=[],s=0;s<t;s+=4)e.push(n[s+3]<<24|n[s+2]<<16|n[s+1]<<8|n[s]);return e},ed=5,fN=11,Ny=2,ESe=fN-ed,VF=65536>>ed,MSe=1<<ed,Sy=MSe-1,PSe=1024>>ed,DSe=VF+PSe,ISe=DSe,OSe=32,LSe=ISe+OSe,FSe=65536>>fN,RSe=1<<ESe,USe=RSe-1,mk=function(n,t,e){return n.slice?n.slice(t,e):new Uint16Array(Array.prototype.slice.call(n,t,e))},HSe=function(n,t,e){return n.slice?n.slice(t,e):new Uint32Array(Array.prototype.slice.call(n,t,e))},$Se=function(n,t){var e=kSe(n),s=Array.isArray(e)?BSe(e):new Uint32Array(e),a=Array.isArray(e)?_Se(e):new Uint16Array(e),i=24,o=mk(a,i/2,s[4]/2),c=s[5]===2?mk(a,(i+s[4])/2):HSe(s,Math.ceil((i+s[4])/4));return new QSe(s[0],s[1],s[2],s[3],o,c)},QSe=function(){function n(t,e,s,a,i,o){this.initialValue=t,this.errorValue=e,this.highStart=s,this.highValueIndex=a,this.index=i,this.data=o}return n.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=this.index[t>>ed],e=(e<<Ny)+(t&Sy),this.data[e];if(t<=65535)return e=this.index[VF+(t-55296>>ed)],e=(e<<Ny)+(t&Sy),this.data[e];if(t<this.highStart)return e=LSe-FSe+(t>>fN),e=this.index[e],e+=t>>ed&USe,e=this.index[e],e=(e<<Ny)+(t&Sy),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n}(),pk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",VSe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var NA=0;NA<pk.length;NA++)VSe[pk.charCodeAt(NA)]=NA;var zSe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Ak=50,KSe=1,zF=2,KF=3,GSe=4,qSe=5,gk=7,GF=8,xk=9,Hl=10,d2=11,bk=12,u2=13,WSe=14,wf=15,h2=16,SA=17,ef=18,XSe=19,vk=20,f2=21,tf=22,Ty=23,Yd=24,Sa=25,jf=26,Cf=27,Jd=28,YSe=29,Lc=30,JSe=31,TA=32,kA=33,m2=34,p2=35,A2=36,Mm=37,g2=38,yg=39,wg=40,ky=41,qF=42,ZSe=43,eTe=[9001,65288],WF="!",In="×",_A="÷",x2=$Se(zSe),jo=[Lc,A2],b2=[KSe,zF,KF,qSe],XF=[Hl,GF],yk=[Cf,jf],tTe=b2.concat(XF),wk=[g2,yg,wg,m2,p2],nTe=[wf,u2],rTe=function(n,t){t===void 0&&(t="strict");var e=[],s=[],a=[];return n.forEach(function(i,o){var c=x2.get(i);if(c>Ak?(a.push(!0),c-=Ak):a.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return s.push(o),e.push(h2);if(c===GSe||c===d2){if(o===0)return s.push(o),e.push(Lc);var l=e[o-1];return tTe.indexOf(l)===-1?(s.push(s[o-1]),e.push(l)):(s.push(o),e.push(Lc))}if(s.push(o),c===JSe)return e.push(t==="strict"?f2:Mm);if(c===qF||c===YSe)return e.push(Lc);if(c===ZSe)return i>=131072&&i<=196605||i>=196608&&i<=262141?e.push(Mm):e.push(Lc);e.push(c)}),[s,e,a]},_y=function(n,t,e,s){var a=s[e];if(Array.isArray(n)?n.indexOf(a)!==-1:n===a)for(var i=e;i<=s.length;){i++;var o=s[i];if(o===t)return!0;if(o!==Hl)break}if(a===Hl)for(var i=e;i>0;){i--;var c=s[i];if(Array.isArray(n)?n.indexOf(c)!==-1:n===c)for(var l=e;l<=s.length;){l++;var o=s[l];if(o===t)return!0;if(o!==Hl)break}if(c!==Hl)break}return!1},jk=function(n,t){for(var e=n;e>=0;){var s=t[e];if(s===Hl)e--;else return s}return 0},sTe=function(n,t,e,s,a){if(e[s]===0)return In;var i=s-1;if(Array.isArray(a)&&a[i]===!0)return In;var o=i-1,c=i+1,l=t[i],d=o>=0?t[o]:0,u=t[c];if(l===zF&&u===KF)return In;if(b2.indexOf(l)!==-1)return WF;if(b2.indexOf(u)!==-1||XF.indexOf(u)!==-1)return In;if(jk(i,t)===GF)return _A;if(x2.get(n[i])===d2||(l===TA||l===kA)&&x2.get(n[c])===d2||l===gk||u===gk||l===xk||[Hl,u2,wf].indexOf(l)===-1&&u===xk||[SA,ef,XSe,Yd,Jd].indexOf(u)!==-1||jk(i,t)===tf||_y(Ty,tf,i,t)||_y([SA,ef],f2,i,t)||_y(bk,bk,i,t))return In;if(l===Hl)return _A;if(l===Ty||u===Ty)return In;if(u===h2||l===h2)return _A;if([u2,wf,f2].indexOf(u)!==-1||l===WSe||d===A2&&nTe.indexOf(l)!==-1||l===Jd&&u===A2||u===vk||jo.indexOf(u)!==-1&&l===Sa||jo.indexOf(l)!==-1&&u===Sa||l===Cf&&[Mm,TA,kA].indexOf(u)!==-1||[Mm,TA,kA].indexOf(l)!==-1&&u===jf||jo.indexOf(l)!==-1&&yk.indexOf(u)!==-1||yk.indexOf(l)!==-1&&jo.indexOf(u)!==-1||[Cf,jf].indexOf(l)!==-1&&(u===Sa||[tf,wf].indexOf(u)!==-1&&t[c+1]===Sa)||[tf,wf].indexOf(l)!==-1&&u===Sa||l===Sa&&[Sa,Jd,Yd].indexOf(u)!==-1)return In;if([Sa,Jd,Yd,SA,ef].indexOf(u)!==-1)for(var f=i;f>=0;){var h=t[f];if(h===Sa)return In;if([Jd,Yd].indexOf(h)!==-1)f--;else break}if([Cf,jf].indexOf(u)!==-1)for(var f=[SA,ef].indexOf(l)!==-1?o:i;f>=0;){var h=t[f];if(h===Sa)return In;if([Jd,Yd].indexOf(h)!==-1)f--;else break}if(g2===l&&[g2,yg,m2,p2].indexOf(u)!==-1||[yg,m2].indexOf(l)!==-1&&[yg,wg].indexOf(u)!==-1||[wg,p2].indexOf(l)!==-1&&u===wg||wk.indexOf(l)!==-1&&[vk,jf].indexOf(u)!==-1||wk.indexOf(u)!==-1&&l===Cf||jo.indexOf(l)!==-1&&jo.indexOf(u)!==-1||l===Yd&&jo.indexOf(u)!==-1||jo.concat(Sa).indexOf(l)!==-1&&u===tf&&eTe.indexOf(n[c])===-1||jo.concat(Sa).indexOf(u)!==-1&&l===ef)return In;if(l===ky&&u===ky){for(var m=e[i],A=1;m>0&&(m--,t[m]===ky);)A++;if(A%2!==0)return In}return l===TA&&u===kA?In:_A},aTe=function(n,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var e=rTe(n,t.lineBreak),s=e[0],a=e[1],i=e[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(a=a.map(function(c){return[Sa,Lc,qF].indexOf(c)!==-1?Mm:c}));var o=t.wordBreak==="keep-all"?i.map(function(c,l){return c&&n[l]>=19968&&n[l]<=40959}):void 0;return[s,a,o]},iTe=function(){function n(t,e,s,a){this.codePoints=t,this.required=e===WF,this.start=s,this.end=a}return n.prototype.slice=function(){return Gr.apply(void 0,this.codePoints.slice(this.start,this.end))},n}(),oTe=function(n,t){var e=Ob(n),s=aTe(e,t),a=s[0],i=s[1],o=s[2],c=e.length,l=0,d=0;return{next:function(){if(d>=c)return{done:!0,value:null};for(var u=In;d<c&&(u=sTe(e,i,a,++d,o))===In;);if(u!==In||d===c){var f=new iTe(e,u,l,d);return l=d,{value:f,done:!1}}return{done:!0,value:null}}}},lTe=1,cTe=2,Cp=4,Ck=8,Q0=10,Nk=47,$f=92,dTe=9,uTe=32,BA=34,nf=61,hTe=35,fTe=36,mTe=37,EA=39,MA=40,rf=41,pTe=95,ha=45,ATe=33,gTe=60,xTe=62,bTe=64,vTe=91,yTe=93,wTe=61,jTe=123,PA=63,CTe=125,Sk=124,NTe=126,STe=128,Tk=65533,By=42,Hc=43,TTe=44,kTe=58,_Te=59,Pm=46,BTe=0,ETe=8,MTe=11,PTe=14,DTe=31,ITe=127,Mi=-1,YF=48,JF=97,ZF=101,OTe=102,LTe=117,FTe=122,e9=65,t9=69,n9=70,RTe=85,UTe=90,Os=function(n){return n>=YF&&n<=57},HTe=function(n){return n>=55296&&n<=57343},Zd=function(n){return Os(n)||n>=e9&&n<=n9||n>=JF&&n<=OTe},$Te=function(n){return n>=JF&&n<=FTe},QTe=function(n){return n>=e9&&n<=UTe},VTe=function(n){return $Te(n)||QTe(n)},zTe=function(n){return n>=STe},DA=function(n){return n===Q0||n===dTe||n===uTe},V0=function(n){return VTe(n)||zTe(n)||n===pTe},kk=function(n){return V0(n)||Os(n)||n===ha},KTe=function(n){return n>=BTe&&n<=ETe||n===MTe||n>=PTe&&n<=DTe||n===ITe},Cl=function(n,t){return n!==$f?!1:t!==Q0},IA=function(n,t,e){return n===ha?V0(t)||Cl(t,e):V0(n)?!0:!!(n===$f&&Cl(n,t))},Ey=function(n,t,e){return n===Hc||n===ha?Os(t)?!0:t===Pm&&Os(e):Os(n===Pm?t:n)},GTe=function(n){var t=0,e=1;(n[t]===Hc||n[t]===ha)&&(n[t]===ha&&(e=-1),t++);for(var s=[];Os(n[t]);)s.push(n[t++]);var a=s.length?parseInt(Gr.apply(void 0,s),10):0;n[t]===Pm&&t++;for(var i=[];Os(n[t]);)i.push(n[t++]);var o=i.length,c=o?parseInt(Gr.apply(void 0,i),10):0;(n[t]===t9||n[t]===ZF)&&t++;var l=1;(n[t]===Hc||n[t]===ha)&&(n[t]===ha&&(l=-1),t++);for(var d=[];Os(n[t]);)d.push(n[t++]);var u=d.length?parseInt(Gr.apply(void 0,d),10):0;return e*(a+c*Math.pow(10,-o))*Math.pow(10,l*u)},qTe={type:2},WTe={type:3},XTe={type:4},YTe={type:13},JTe={type:8},ZTe={type:21},e3e={type:9},t3e={type:10},n3e={type:11},r3e={type:12},s3e={type:14},OA={type:23},a3e={type:1},i3e={type:25},o3e={type:24},l3e={type:26},c3e={type:27},d3e={type:28},u3e={type:29},h3e={type:31},v2={type:32},r9=function(){function n(){this._value=[]}return n.prototype.write=function(t){this._value=this._value.concat(Ob(t))},n.prototype.read=function(){for(var t=[],e=this.consumeToken();e!==v2;)t.push(e),e=this.consumeToken();return t},n.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case BA:return this.consumeStringToken(BA);case hTe:var e=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(kk(e)||Cl(s,a)){var i=IA(e,s,a)?cTe:lTe,o=this.consumeName();return{type:5,value:o,flags:i}}break;case fTe:if(this.peekCodePoint(0)===nf)return this.consumeCodePoint(),YTe;break;case EA:return this.consumeStringToken(EA);case MA:return qTe;case rf:return WTe;case By:if(this.peekCodePoint(0)===nf)return this.consumeCodePoint(),s3e;break;case Hc:if(Ey(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case TTe:return XTe;case ha:var c=t,l=this.peekCodePoint(0),d=this.peekCodePoint(1);if(Ey(c,l,d))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(IA(c,l,d))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(l===ha&&d===xTe)return this.consumeCodePoint(),this.consumeCodePoint(),o3e;break;case Pm:if(Ey(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case Nk:if(this.peekCodePoint(0)===By)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===By&&(u=this.consumeCodePoint(),u===Nk))return this.consumeToken();if(u===Mi)return this.consumeToken()}break;case kTe:return l3e;case _Te:return c3e;case gTe:if(this.peekCodePoint(0)===ATe&&this.peekCodePoint(1)===ha&&this.peekCodePoint(2)===ha)return this.consumeCodePoint(),this.consumeCodePoint(),i3e;break;case bTe:var f=this.peekCodePoint(0),h=this.peekCodePoint(1),m=this.peekCodePoint(2);if(IA(f,h,m)){var o=this.consumeName();return{type:7,value:o}}break;case vTe:return d3e;case $f:if(Cl(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case yTe:return u3e;case wTe:if(this.peekCodePoint(0)===nf)return this.consumeCodePoint(),JTe;break;case jTe:return n3e;case CTe:return r3e;case LTe:case RTe:var A=this.peekCodePoint(0),g=this.peekCodePoint(1);return A===Hc&&(Zd(g)||g===PA)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case Sk:if(this.peekCodePoint(0)===nf)return this.consumeCodePoint(),e3e;if(this.peekCodePoint(0)===Sk)return this.consumeCodePoint(),ZTe;break;case NTe:if(this.peekCodePoint(0)===nf)return this.consumeCodePoint(),t3e;break;case Mi:return v2}return DA(t)?(this.consumeWhiteSpace(),h3e):Os(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):V0(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Gr(t)}},n.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},n.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},n.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},n.prototype.consumeUnicodeRangeToken=function(){for(var t=[],e=this.consumeCodePoint();Zd(e)&&t.length<6;)t.push(e),e=this.consumeCodePoint();for(var s=!1;e===PA&&t.length<6;)t.push(e),e=this.consumeCodePoint(),s=!0;if(s){var a=parseInt(Gr.apply(void 0,t.map(function(l){return l===PA?YF:l})),16),i=parseInt(Gr.apply(void 0,t.map(function(l){return l===PA?n9:l})),16);return{type:30,start:a,end:i}}var o=parseInt(Gr.apply(void 0,t),16);if(this.peekCodePoint(0)===ha&&Zd(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var c=[];Zd(e)&&c.length<6;)c.push(e),e=this.consumeCodePoint();var i=parseInt(Gr.apply(void 0,c),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},n.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===MA?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===MA?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},n.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Mi)return{type:22,value:""};var e=this.peekCodePoint(0);if(e===EA||e===BA){var s=this.consumeStringToken(this.consumeCodePoint());return s.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Mi||this.peekCodePoint(0)===rf)?(this.consumeCodePoint(),{type:22,value:s.value}):(this.consumeBadUrlRemnants(),OA)}for(;;){var a=this.consumeCodePoint();if(a===Mi||a===rf)return{type:22,value:Gr.apply(void 0,t)};if(DA(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Mi||this.peekCodePoint(0)===rf?(this.consumeCodePoint(),{type:22,value:Gr.apply(void 0,t)}):(this.consumeBadUrlRemnants(),OA);if(a===BA||a===EA||a===MA||KTe(a))return this.consumeBadUrlRemnants(),OA;if(a===$f)if(Cl(a,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),OA;else t.push(a)}},n.prototype.consumeWhiteSpace=function(){for(;DA(this.peekCodePoint(0));)this.consumeCodePoint()},n.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===rf||t===Mi)return;Cl(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},n.prototype.consumeStringSlice=function(t){for(var e=5e4,s="";t>0;){var a=Math.min(e,t);s+=Gr.apply(void 0,this._value.splice(0,a)),t-=a}return this._value.shift(),s},n.prototype.consumeStringToken=function(t){var e="",s=0;do{var a=this._value[s];if(a===Mi||a===void 0||a===t)return e+=this.consumeStringSlice(s),{type:0,value:e};if(a===Q0)return this._value.splice(0,s),a3e;if(a===$f){var i=this._value[s+1];i!==Mi&&i!==void 0&&(i===Q0?(e+=this.consumeStringSlice(s),s=-1,this._value.shift()):Cl(a,i)&&(e+=this.consumeStringSlice(s),e+=Gr(this.consumeEscapedCodePoint()),s=-1))}s++}while(!0)},n.prototype.consumeNumber=function(){var t=[],e=Cp,s=this.peekCodePoint(0);for((s===Hc||s===ha)&&t.push(this.consumeCodePoint());Os(this.peekCodePoint(0));)t.push(this.consumeCodePoint());s=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(s===Pm&&Os(a))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=Ck;Os(this.peekCodePoint(0));)t.push(this.consumeCodePoint());s=this.peekCodePoint(0),a=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((s===t9||s===ZF)&&((a===Hc||a===ha)&&Os(i)||Os(a)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=Ck;Os(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[GTe(t),e]},n.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),e=t[0],s=t[1],a=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(IA(a,i,o)){var c=this.consumeName();return{type:15,number:e,flags:s,unit:c}}return a===mTe?(this.consumeCodePoint(),{type:16,number:e,flags:s}):{type:17,number:e,flags:s}},n.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Zd(t)){for(var e=Gr(t);Zd(this.peekCodePoint(0))&&e.length<6;)e+=Gr(this.consumeCodePoint());DA(this.peekCodePoint(0))&&this.consumeCodePoint();var s=parseInt(e,16);return s===0||HTe(s)||s>1114111?Tk:s}return t===Mi?Tk:t},n.prototype.consumeName=function(){for(var t="";;){var e=this.consumeCodePoint();if(kk(e))t+=Gr(e);else if(Cl(e,this.peekCodePoint(0)))t+=Gr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(e),t}},n}(),s9=function(){function n(t){this._tokens=t}return n.create=function(t){var e=new r9;return e.write(t),new n(e.read())},n.parseValue=function(t){return n.create(t).parseComponentValue()},n.parseValues=function(t){return n.create(t).parseComponentValues()},n.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var e=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},n.prototype.parseComponentValues=function(){for(var t=[];;){var e=this.consumeComponentValue();if(e.type===32)return t;t.push(e),t.push()}},n.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},n.prototype.consumeSimpleBlock=function(t){for(var e={type:t,values:[]},s=this.consumeToken();;){if(s.type===32||m3e(s,t))return e;this.reconsumeToken(s),e.values.push(this.consumeComponentValue()),s=this.consumeToken()}},n.prototype.consumeFunction=function(t){for(var e={name:t.value,values:[],type:18};;){var s=this.consumeToken();if(s.type===32||s.type===3)return e;this.reconsumeToken(s),e.values.push(this.consumeComponentValue())}},n.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?v2:t},n.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},n}(),Np=function(n){return n.type===15},Th=function(n){return n.type===17},lr=function(n){return n.type===20},f3e=function(n){return n.type===0},y2=function(n,t){return lr(n)&&n.value===t},a9=function(n){return n.type!==31},Ju=function(n){return n.type!==31&&n.type!==4},fo=function(n){var t=[],e=[];return n.forEach(function(s){if(s.type===4){if(e.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(e),e=[];return}s.type!==31&&e.push(s)}),e.length&&t.push(e),t},m3e=function(n,t){return t===11&&n.type===12||t===28&&n.type===29?!0:t===2&&n.type===3},sc=function(n){return n.type===17||n.type===15},as=function(n){return n.type===16||sc(n)},i9=function(n){return n.length>1?[n[0],n[1]]:[n[0]]},Ss={type:17,number:0,flags:Cp},mN={type:16,number:50,flags:Cp},$l={type:16,number:100,flags:Cp},Nf=function(n,t,e){var s=n[0],a=n[1];return[mr(s,t),mr(typeof a<"u"?a:s,e)]},mr=function(n,t){if(n.type===16)return n.number/100*t;if(Np(n))switch(n.unit){case"rem":case"em":return 16*n.number;case"px":default:return n.number}return n.number},o9="deg",l9="grad",c9="rad",d9="turn",Lb={name:"angle",parse:function(n,t){if(t.type===15)switch(t.unit){case o9:return Math.PI*t.number/180;case l9:return Math.PI/200*t.number;case c9:return t.number;case d9:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},u9=function(n){return n.type===15&&(n.unit===o9||n.unit===l9||n.unit===c9||n.unit===d9)},h9=function(n){var t=n.filter(lr).map(function(e){return e.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ss,Ss];case"to top":case"bottom":return Wa(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ss,$l];case"to right":case"left":return Wa(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[$l,$l];case"to bottom":case"top":return Wa(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[$l,Ss];case"to left":case"right":return Wa(270)}return 0},Wa=function(n){return Math.PI*n/180},ql={name:"color",parse:function(n,t){if(t.type===18){var e=p3e[t.name];if(typeof e>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return e(n,t.values)}if(t.type===5){if(t.value.length===3){var s=t.value.substring(0,1),a=t.value.substring(1,2),i=t.value.substring(2,3);return Ql(parseInt(s+s,16),parseInt(a+a,16),parseInt(i+i,16),1)}if(t.value.length===4){var s=t.value.substring(0,1),a=t.value.substring(1,2),i=t.value.substring(2,3),o=t.value.substring(3,4);return Ql(parseInt(s+s,16),parseInt(a+a,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(t.value.length===6){var s=t.value.substring(0,2),a=t.value.substring(2,4),i=t.value.substring(4,6);return Ql(parseInt(s,16),parseInt(a,16),parseInt(i,16),1)}if(t.value.length===8){var s=t.value.substring(0,2),a=t.value.substring(2,4),i=t.value.substring(4,6),o=t.value.substring(6,8);return Ql(parseInt(s,16),parseInt(a,16),parseInt(i,16),parseInt(o,16)/255)}}if(t.type===20){var c=Ko[t.value.toUpperCase()];if(typeof c<"u")return c}return Ko.TRANSPARENT}},Wl=function(n){return(255&n)===0},As=function(n){var t=255&n,e=255&n>>8,s=255&n>>16,a=255&n>>24;return t<255?"rgba("+a+","+s+","+e+","+t/255+")":"rgb("+a+","+s+","+e+")"},Ql=function(n,t,e,s){return(n<<24|t<<16|e<<8|Math.round(s*255)<<0)>>>0},_k=function(n,t){if(n.type===17)return n.number;if(n.type===16){var e=t===3?1:255;return t===3?n.number/100*e:Math.round(n.number/100*e)}return 0},Bk=function(n,t){var e=t.filter(Ju);if(e.length===3){var s=e.map(_k),a=s[0],i=s[1],o=s[2];return Ql(a,i,o,1)}if(e.length===4){var c=e.map(_k),a=c[0],i=c[1],o=c[2],l=c[3];return Ql(a,i,o,l)}return 0};function My(n,t,e){return e<0&&(e+=1),e>=1&&(e-=1),e<1/6?(t-n)*e*6+n:e<1/2?t:e<2/3?(t-n)*6*(2/3-e)+n:n}var Ek=function(n,t){var e=t.filter(Ju),s=e[0],a=e[1],i=e[2],o=e[3],c=(s.type===17?Wa(s.number):Lb.parse(n,s))/(Math.PI*2),l=as(a)?a.number/100:0,d=as(i)?i.number/100:0,u=typeof o<"u"&&as(o)?mr(o,1):1;if(l===0)return Ql(d*255,d*255,d*255,1);var f=d<=.5?d*(l+1):d+l-d*l,h=d*2-f,m=My(h,f,c+1/3),A=My(h,f,c),g=My(h,f,c-1/3);return Ql(m*255,A*255,g*255,u)},p3e={hsl:Ek,hsla:Ek,rgb:Bk,rgba:Bk},Qf=function(n,t){return ql.parse(n,s9.create(t).parseComponentValue())},Ko={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},A3e={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(n,t){return t.map(function(e){if(lr(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},g3e={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Fb=function(n,t){var e=ql.parse(n,t[0]),s=t[1];return s&&as(s)?{color:e,stop:s}:{color:e,stop:null}},Mk=function(n,t){var e=n[0],s=n[n.length-1];e.stop===null&&(e.stop=Ss),s.stop===null&&(s.stop=$l);for(var a=[],i=0,o=0;o<n.length;o++){var c=n[o].stop;if(c!==null){var l=mr(c,t);l>i?a.push(l):a.push(i),i=l}else a.push(null)}for(var d=null,o=0;o<a.length;o++){var u=a[o];if(u===null)d===null&&(d=o);else if(d!==null){for(var f=o-d,h=a[d-1],m=(u-h)/(f+1),A=1;A<=f;A++)a[d+A-1]=m*A;d=null}}return n.map(function(g,p){var b=g.color;return{color:b,stop:Math.max(Math.min(1,a[p]/t),0)}})},x3e=function(n,t,e){var s=t/2,a=e/2,i=mr(n[0],t)-s,o=a-mr(n[1],e);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},b3e=function(n,t,e){var s=typeof n=="number"?n:x3e(n,t,e),a=Math.abs(t*Math.sin(s))+Math.abs(e*Math.cos(s)),i=t/2,o=e/2,c=a/2,l=Math.sin(s-Math.PI/2)*c,d=Math.cos(s-Math.PI/2)*c;return[a,i-d,i+d,o-l,o+l]},ii=function(n,t){return Math.sqrt(n*n+t*t)},Pk=function(n,t,e,s,a){var i=[[0,0],[0,t],[n,0],[n,t]];return i.reduce(function(o,c){var l=c[0],d=c[1],u=ii(e-l,s-d);return(a?u<o.optimumDistance:u>o.optimumDistance)?{optimumCorner:c,optimumDistance:u}:o},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},v3e=function(n,t,e,s,a){var i=0,o=0;switch(n.size){case 0:n.shape===0?i=o=Math.min(Math.abs(t),Math.abs(t-s),Math.abs(e),Math.abs(e-a)):n.shape===1&&(i=Math.min(Math.abs(t),Math.abs(t-s)),o=Math.min(Math.abs(e),Math.abs(e-a)));break;case 2:if(n.shape===0)i=o=Math.min(ii(t,e),ii(t,e-a),ii(t-s,e),ii(t-s,e-a));else if(n.shape===1){var c=Math.min(Math.abs(e),Math.abs(e-a))/Math.min(Math.abs(t),Math.abs(t-s)),l=Pk(s,a,t,e,!0),d=l[0],u=l[1];i=ii(d-t,(u-e)/c),o=c*i}break;case 1:n.shape===0?i=o=Math.max(Math.abs(t),Math.abs(t-s),Math.abs(e),Math.abs(e-a)):n.shape===1&&(i=Math.max(Math.abs(t),Math.abs(t-s)),o=Math.max(Math.abs(e),Math.abs(e-a)));break;case 3:if(n.shape===0)i=o=Math.max(ii(t,e),ii(t,e-a),ii(t-s,e),ii(t-s,e-a));else if(n.shape===1){var c=Math.max(Math.abs(e),Math.abs(e-a))/Math.max(Math.abs(t),Math.abs(t-s)),f=Pk(s,a,t,e,!1),d=f[0],u=f[1];i=ii(d-t,(u-e)/c),o=c*i}break}return Array.isArray(n.size)&&(i=mr(n.size[0],s),o=n.size.length===2?mr(n.size[1],a):i),[i,o]},y3e=function(n,t){var e=Wa(180),s=[];return fo(t).forEach(function(a,i){if(i===0){var o=a[0];if(o.type===20&&o.value==="to"){e=h9(a);return}else if(u9(o)){e=Lb.parse(n,o);return}}var c=Fb(n,a);s.push(c)}),{angle:e,stops:s,type:1}},LA=function(n,t){var e=Wa(180),s=[];return fo(t).forEach(function(a,i){if(i===0){var o=a[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){e=h9(a);return}else if(u9(o)){e=(Lb.parse(n,o)+Wa(270))%Wa(360);return}}var c=Fb(n,a);s.push(c)}),{angle:e,stops:s,type:1}},w3e=function(n,t){var e=Wa(180),s=[],a=1,i=0,o=3,c=[];return fo(t).forEach(function(l,d){var u=l[0];if(d===0){if(lr(u)&&u.value==="linear"){a=1;return}else if(lr(u)&&u.value==="radial"){a=2;return}}if(u.type===18){if(u.name==="from"){var f=ql.parse(n,u.values[0]);s.push({stop:Ss,color:f})}else if(u.name==="to"){var f=ql.parse(n,u.values[0]);s.push({stop:$l,color:f})}else if(u.name==="color-stop"){var h=u.values.filter(Ju);if(h.length===2){var f=ql.parse(n,h[1]),m=h[0];Th(m)&&s.push({stop:{type:16,number:m.number*100,flags:m.flags},color:f})}}}}),a===1?{angle:(e+Wa(180))%Wa(360),stops:s,type:a}:{size:o,shape:i,stops:s,position:c,type:a}},f9="closest-side",m9="farthest-side",p9="closest-corner",A9="farthest-corner",g9="circle",x9="ellipse",b9="cover",v9="contain",j3e=function(n,t){var e=0,s=3,a=[],i=[];return fo(t).forEach(function(o,c){var l=!0;if(c===0){var d=!1;l=o.reduce(function(f,h){if(d)if(lr(h))switch(h.value){case"center":return i.push(mN),f;case"top":case"left":return i.push(Ss),f;case"right":case"bottom":return i.push($l),f}else(as(h)||sc(h))&&i.push(h);else if(lr(h))switch(h.value){case g9:return e=0,!1;case x9:return e=1,!1;case"at":return d=!0,!1;case f9:return s=0,!1;case b9:case m9:return s=1,!1;case v9:case p9:return s=2,!1;case A9:return s=3,!1}else if(sc(h)||as(h))return Array.isArray(s)||(s=[]),s.push(h),!1;return f},l)}if(l){var u=Fb(n,o);a.push(u)}}),{size:s,shape:e,stops:a,position:i,type:2}},FA=function(n,t){var e=0,s=3,a=[],i=[];return fo(t).forEach(function(o,c){var l=!0;if(c===0?l=o.reduce(function(u,f){if(lr(f))switch(f.value){case"center":return i.push(mN),!1;case"top":case"left":return i.push(Ss),!1;case"right":case"bottom":return i.push($l),!1}else if(as(f)||sc(f))return i.push(f),!1;return u},l):c===1&&(l=o.reduce(function(u,f){if(lr(f))switch(f.value){case g9:return e=0,!1;case x9:return e=1,!1;case v9:case f9:return s=0,!1;case m9:return s=1,!1;case p9:return s=2,!1;case b9:case A9:return s=3,!1}else if(sc(f)||as(f))return Array.isArray(s)||(s=[]),s.push(f),!1;return u},l)),l){var d=Fb(n,o);a.push(d)}}),{size:s,shape:e,stops:a,position:i,type:2}},C3e=function(n){return n.type===1},N3e=function(n){return n.type===2},pN={name:"image",parse:function(n,t){if(t.type===22){var e={url:t.value,type:0};return n.cache.addImage(t.value),e}if(t.type===18){var s=y9[t.name];if(typeof s>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return s(n,t.values)}throw new Error("Unsupported image type "+t.type)}};function S3e(n){return!(n.type===20&&n.value==="none")&&(n.type!==18||!!y9[n.name])}var y9={"linear-gradient":y3e,"-moz-linear-gradient":LA,"-ms-linear-gradient":LA,"-o-linear-gradient":LA,"-webkit-linear-gradient":LA,"radial-gradient":j3e,"-moz-radial-gradient":FA,"-ms-radial-gradient":FA,"-o-radial-gradient":FA,"-webkit-radial-gradient":FA,"-webkit-gradient":w3e},T3e={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(n,t){if(t.length===0)return[];var e=t[0];return e.type===20&&e.value==="none"?[]:t.filter(function(s){return Ju(s)&&S3e(s)}).map(function(s){return pN.parse(n,s)})}},k3e={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(n,t){return t.map(function(e){if(lr(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},_3e={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(n,t){return fo(t).map(function(e){return e.filter(as)}).map(i9)}},B3e={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(n,t){return fo(t).map(function(e){return e.filter(lr).map(function(s){return s.value}).join(" ")}).map(E3e)}},E3e=function(n){switch(n){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},ju;(function(n){n.AUTO="auto",n.CONTAIN="contain",n.COVER="cover"})(ju||(ju={}));var M3e={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(n,t){return fo(t).map(function(e){return e.filter(P3e)})}},P3e=function(n){return lr(n)||as(n)},Rb=function(n){return{name:"border-"+n+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},D3e=Rb("top"),I3e=Rb("right"),O3e=Rb("bottom"),L3e=Rb("left"),Ub=function(n){return{name:"border-radius-"+n,initialValue:"0 0",prefix:!1,type:1,parse:function(t,e){return i9(e.filter(as))}}},F3e=Ub("top-left"),R3e=Ub("top-right"),U3e=Ub("bottom-right"),H3e=Ub("bottom-left"),Hb=function(n){return{name:"border-"+n+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,e){switch(e){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},$3e=Hb("top"),Q3e=Hb("right"),V3e=Hb("bottom"),z3e=Hb("left"),$b=function(n){return{name:"border-"+n+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Np(e)?e.number:0}}},K3e=$b("top"),G3e=$b("right"),q3e=$b("bottom"),W3e=$b("left"),X3e={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Y3e={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(n,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},J3e={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(n,t){return t.filter(lr).reduce(function(e,s){return e|Z3e(s.value)},0)}},Z3e=function(n){switch(n){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},e5e={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(n,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},t5e={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(n,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},z0;(function(n){n.NORMAL="normal",n.STRICT="strict"})(z0||(z0={}));var n5e={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,t){switch(t){case"strict":return z0.STRICT;case"normal":default:return z0.NORMAL}}},r5e={name:"line-height",initialValue:"normal",prefix:!1,type:4},Dk=function(n,t){return lr(n)&&n.value==="normal"?1.2*t:n.type===17?t*n.number:as(n)?mr(n,t):t},s5e={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(n,t){return t.type===20&&t.value==="none"?null:pN.parse(n,t)}},a5e={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(n,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},w2={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(n,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Qb=function(n){return{name:"margin-"+n,initialValue:"0",prefix:!1,type:4}},i5e=Qb("top"),o5e=Qb("right"),l5e=Qb("bottom"),c5e=Qb("left"),d5e={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(n,t){return t.filter(lr).map(function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},u5e={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(n,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},Vb=function(n){return{name:"padding-"+n,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},h5e=Vb("top"),f5e=Vb("right"),m5e=Vb("bottom"),p5e=Vb("left"),A5e={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(n,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},g5e={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(n,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},x5e={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,t){return t.length===1&&y2(t[0],"none")?[]:fo(t).map(function(e){for(var s={color:Ko.TRANSPARENT,offsetX:Ss,offsetY:Ss,blur:Ss},a=0,i=0;i<e.length;i++){var o=e[i];sc(o)?(a===0?s.offsetX=o:a===1?s.offsetY=o:s.blur=o,a++):s.color=ql.parse(n,o)}return s})}},b5e={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(n,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},v5e={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(n,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var e=j5e[t.name];if(typeof e>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return e(t.values)}return null}},y5e=function(n){var t=n.filter(function(e){return e.type===17}).map(function(e){return e.number});return t.length===6?t:null},w5e=function(n){var t=n.filter(function(l){return l.type===17}).map(function(l){return l.number}),e=t[0],s=t[1];t[2],t[3];var a=t[4],i=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],c=t[13];return t[14],t[15],t.length===16?[e,s,a,i,o,c]:null},j5e={matrix:y5e,matrix3d:w5e},Ik={type:16,number:50,flags:Cp},C5e=[Ik,Ik],N5e={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(n,t){var e=t.filter(as);return e.length!==2?C5e:[e[0],e[1]]}},S5e={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(n,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Vf;(function(n){n.NORMAL="normal",n.BREAK_ALL="break-all",n.KEEP_ALL="keep-all"})(Vf||(Vf={}));var T5e={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,t){switch(t){case"break-all":return Vf.BREAK_ALL;case"keep-all":return Vf.KEEP_ALL;case"normal":default:return Vf.NORMAL}}},k5e={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(n,t){if(t.type===20)return{auto:!0,order:0};if(Th(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},w9={name:"time",parse:function(n,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},_5e={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(n,t){return Th(t)?t.number:1}},B5e={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},E5e={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(n,t){return t.filter(lr).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return e!==0})}},M5e={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(n,t){var e=[],s=[];return t.forEach(function(a){switch(a.type){case 20:case 0:e.push(a.value);break;case 17:e.push(a.number.toString());break;case 4:s.push(e.join(" ")),e.length=0;break}}),e.length&&s.push(e.join(" ")),s.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},P5e={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},D5e={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(n,t){if(Th(t))return t.number;if(lr(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},I5e={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(n,t){return t.filter(lr).map(function(e){return e.value})}},O5e={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(n,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},cs=function(n,t){return(n&t)!==0},L5e={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(n,t){if(t.length===0)return[];var e=t[0];return e.type===20&&e.value==="none"?[]:t}},F5e={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(n,t){if(t.length===0)return null;var e=t[0];if(e.type===20&&e.value==="none")return null;for(var s=[],a=t.filter(a9),i=0;i<a.length;i++){var o=a[i],c=a[i+1];if(o.type===20){var l=c&&Th(c)?c.number:1;s.push({counter:o.value,increment:l})}}return s}},R5e={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(n,t){if(t.length===0)return[];for(var e=[],s=t.filter(a9),a=0;a<s.length;a++){var i=s[a],o=s[a+1];if(lr(i)&&i.value!=="none"){var c=o&&Th(o)?o.number:0;e.push({counter:i.value,reset:c})}}return e}},U5e={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(n,t){return t.filter(Np).map(function(e){return w9.parse(n,e)})}},H5e={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(n,t){if(t.length===0)return null;var e=t[0];if(e.type===20&&e.value==="none")return null;var s=[],a=t.filter(f3e);if(a.length%2!==0)return null;for(var i=0;i<a.length;i+=2){var o=a[i].value,c=a[i+1].value;s.push({open:o,close:c})}return s}},Ok=function(n,t,e){if(!n)return"";var s=n[Math.min(t,n.length-1)];return s?e?s.open:s.close:""},$5e={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,t){return t.length===1&&y2(t[0],"none")?[]:fo(t).map(function(e){for(var s={color:255,offsetX:Ss,offsetY:Ss,blur:Ss,spread:Ss,inset:!1},a=0,i=0;i<e.length;i++){var o=e[i];y2(o,"inset")?s.inset=!0:sc(o)?(a===0?s.offsetX=o:a===1?s.offsetY=o:a===2?s.blur=o:s.spread=o,a++):s.color=ql.parse(n,o)}return s})}},Q5e={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(n,t){var e=[0,1,2],s=[];return t.filter(lr).forEach(function(a){switch(a.value){case"stroke":s.push(1);break;case"fill":s.push(0);break;case"markers":s.push(2);break}}),e.forEach(function(a){s.indexOf(a)===-1&&s.push(a)}),s}},V5e={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},z5e={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(n,t){return Np(t)?t.number:0}},K5e=function(){function n(t,e){var s,a;this.animationDuration=Bt(t,U5e,e.animationDuration),this.backgroundClip=Bt(t,A3e,e.backgroundClip),this.backgroundColor=Bt(t,g3e,e.backgroundColor),this.backgroundImage=Bt(t,T3e,e.backgroundImage),this.backgroundOrigin=Bt(t,k3e,e.backgroundOrigin),this.backgroundPosition=Bt(t,_3e,e.backgroundPosition),this.backgroundRepeat=Bt(t,B3e,e.backgroundRepeat),this.backgroundSize=Bt(t,M3e,e.backgroundSize),this.borderTopColor=Bt(t,D3e,e.borderTopColor),this.borderRightColor=Bt(t,I3e,e.borderRightColor),this.borderBottomColor=Bt(t,O3e,e.borderBottomColor),this.borderLeftColor=Bt(t,L3e,e.borderLeftColor),this.borderTopLeftRadius=Bt(t,F3e,e.borderTopLeftRadius),this.borderTopRightRadius=Bt(t,R3e,e.borderTopRightRadius),this.borderBottomRightRadius=Bt(t,U3e,e.borderBottomRightRadius),this.borderBottomLeftRadius=Bt(t,H3e,e.borderBottomLeftRadius),this.borderTopStyle=Bt(t,$3e,e.borderTopStyle),this.borderRightStyle=Bt(t,Q3e,e.borderRightStyle),this.borderBottomStyle=Bt(t,V3e,e.borderBottomStyle),this.borderLeftStyle=Bt(t,z3e,e.borderLeftStyle),this.borderTopWidth=Bt(t,K3e,e.borderTopWidth),this.borderRightWidth=Bt(t,G3e,e.borderRightWidth),this.borderBottomWidth=Bt(t,q3e,e.borderBottomWidth),this.borderLeftWidth=Bt(t,W3e,e.borderLeftWidth),this.boxShadow=Bt(t,$5e,e.boxShadow),this.color=Bt(t,X3e,e.color),this.direction=Bt(t,Y3e,e.direction),this.display=Bt(t,J3e,e.display),this.float=Bt(t,e5e,e.cssFloat),this.fontFamily=Bt(t,M5e,e.fontFamily),this.fontSize=Bt(t,P5e,e.fontSize),this.fontStyle=Bt(t,O5e,e.fontStyle),this.fontVariant=Bt(t,I5e,e.fontVariant),this.fontWeight=Bt(t,D5e,e.fontWeight),this.letterSpacing=Bt(t,t5e,e.letterSpacing),this.lineBreak=Bt(t,n5e,e.lineBreak),this.lineHeight=Bt(t,r5e,e.lineHeight),this.listStyleImage=Bt(t,s5e,e.listStyleImage),this.listStylePosition=Bt(t,a5e,e.listStylePosition),this.listStyleType=Bt(t,w2,e.listStyleType),this.marginTop=Bt(t,i5e,e.marginTop),this.marginRight=Bt(t,o5e,e.marginRight),this.marginBottom=Bt(t,l5e,e.marginBottom),this.marginLeft=Bt(t,c5e,e.marginLeft),this.opacity=Bt(t,_5e,e.opacity);var i=Bt(t,d5e,e.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Bt(t,u5e,e.overflowWrap),this.paddingTop=Bt(t,h5e,e.paddingTop),this.paddingRight=Bt(t,f5e,e.paddingRight),this.paddingBottom=Bt(t,m5e,e.paddingBottom),this.paddingLeft=Bt(t,p5e,e.paddingLeft),this.paintOrder=Bt(t,Q5e,e.paintOrder),this.position=Bt(t,g5e,e.position),this.textAlign=Bt(t,A5e,e.textAlign),this.textDecorationColor=Bt(t,B5e,(s=e.textDecorationColor)!==null&&s!==void 0?s:e.color),this.textDecorationLine=Bt(t,E5e,(a=e.textDecorationLine)!==null&&a!==void 0?a:e.textDecoration),this.textShadow=Bt(t,x5e,e.textShadow),this.textTransform=Bt(t,b5e,e.textTransform),this.transform=Bt(t,v5e,e.transform),this.transformOrigin=Bt(t,N5e,e.transformOrigin),this.visibility=Bt(t,S5e,e.visibility),this.webkitTextStrokeColor=Bt(t,V5e,e.webkitTextStrokeColor),this.webkitTextStrokeWidth=Bt(t,z5e,e.webkitTextStrokeWidth),this.wordBreak=Bt(t,T5e,e.wordBreak),this.zIndex=Bt(t,k5e,e.zIndex)}return n.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},n.prototype.isTransparent=function(){return Wl(this.backgroundColor)},n.prototype.isTransformed=function(){return this.transform!==null},n.prototype.isPositioned=function(){return this.position!==0},n.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},n.prototype.isFloating=function(){return this.float!==0},n.prototype.isInlineLevel=function(){return cs(this.display,4)||cs(this.display,33554432)||cs(this.display,268435456)||cs(this.display,536870912)||cs(this.display,67108864)||cs(this.display,134217728)},n}(),G5e=function(){function n(t,e){this.content=Bt(t,L5e,e.content),this.quotes=Bt(t,H5e,e.quotes)}return n}(),Lk=function(){function n(t,e){this.counterIncrement=Bt(t,F5e,e.counterIncrement),this.counterReset=Bt(t,R5e,e.counterReset)}return n}(),Bt=function(n,t,e){var s=new r9,a=e!==null&&typeof e<"u"?e.toString():t.initialValue;s.write(a);var i=new s9(s.read());switch(t.type){case 2:var o=i.parseComponentValue();return t.parse(n,lr(o)?o.value:t.initialValue);case 0:return t.parse(n,i.parseComponentValue());case 1:return t.parse(n,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(t.format){case"angle":return Lb.parse(n,i.parseComponentValue());case"color":return ql.parse(n,i.parseComponentValue());case"image":return pN.parse(n,i.parseComponentValue());case"length":var c=i.parseComponentValue();return sc(c)?c:Ss;case"length-percentage":var l=i.parseComponentValue();return as(l)?l:Ss;case"time":return w9.parse(n,i.parseComponentValue())}break}},q5e="data-html2canvas-debug",W5e=function(n){var t=n.getAttribute(q5e);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},j2=function(n,t){var e=W5e(n);return e===1||t===e},mo=function(){function n(t,e){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,j2(e,3))debugger;this.styles=new K5e(t,window.getComputedStyle(e,null)),S2(e)&&(this.styles.animationDuration.some(function(s){return s>0})&&(e.style.animationDuration="0s"),this.styles.transform!==null&&(e.style.transform="none")),this.bounds=Ib(this.context,e),j2(e,4)&&(this.flags|=16)}return n}(),X5e="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Fk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Sf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var RA=0;RA<Fk.length;RA++)Sf[Fk.charCodeAt(RA)]=RA;var Y5e=function(n){var t=n.length*.75,e=n.length,s,a=0,i,o,c,l;n[n.length-1]==="="&&(t--,n[n.length-2]==="="&&t--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(d)?d:new Uint8Array(d);for(s=0;s<e;s+=4)i=Sf[n.charCodeAt(s)],o=Sf[n.charCodeAt(s+1)],c=Sf[n.charCodeAt(s+2)],l=Sf[n.charCodeAt(s+3)],u[a++]=i<<2|o>>4,u[a++]=(o&15)<<4|c>>2,u[a++]=(c&3)<<6|l&63;return d},J5e=function(n){for(var t=n.length,e=[],s=0;s<t;s+=2)e.push(n[s+1]<<8|n[s]);return e},Z5e=function(n){for(var t=n.length,e=[],s=0;s<t;s+=4)e.push(n[s+3]<<24|n[s+2]<<16|n[s+1]<<8|n[s]);return e},td=5,AN=11,Py=2,eke=AN-td,j9=65536>>td,tke=1<<td,Dy=tke-1,nke=1024>>td,rke=j9+nke,ske=rke,ake=32,ike=ske+ake,oke=65536>>AN,lke=1<<eke,cke=lke-1,Rk=function(n,t,e){return n.slice?n.slice(t,e):new Uint16Array(Array.prototype.slice.call(n,t,e))},dke=function(n,t,e){return n.slice?n.slice(t,e):new Uint32Array(Array.prototype.slice.call(n,t,e))},uke=function(n,t){var e=Y5e(n),s=Array.isArray(e)?Z5e(e):new Uint32Array(e),a=Array.isArray(e)?J5e(e):new Uint16Array(e),i=24,o=Rk(a,i/2,s[4]/2),c=s[5]===2?Rk(a,(i+s[4])/2):dke(s,Math.ceil((i+s[4])/4));return new hke(s[0],s[1],s[2],s[3],o,c)},hke=function(){function n(t,e,s,a,i,o){this.initialValue=t,this.errorValue=e,this.highStart=s,this.highValueIndex=a,this.index=i,this.data=o}return n.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=this.index[t>>td],e=(e<<Py)+(t&Dy),this.data[e];if(t<=65535)return e=this.index[j9+(t-55296>>td)],e=(e<<Py)+(t&Dy),this.data[e];if(t<this.highStart)return e=ike-oke+(t>>AN),e=this.index[e],e+=t>>td&cke,e=this.index[e],e=(e<<Py)+(t&Dy),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n}(),Uk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fke=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var UA=0;UA<Uk.length;UA++)fke[Uk.charCodeAt(UA)]=UA;var mke=1,Iy=2,Oy=3,Hk=4,$k=5,pke=7,Qk=8,Ly=9,Fy=10,Vk=11,zk=12,Kk=13,Gk=14,Ry=15,Ake=function(n){for(var t=[],e=0,s=n.length;e<s;){var a=n.charCodeAt(e++);if(a>=55296&&a<=56319&&e<s){var i=n.charCodeAt(e++);(i&64512)===56320?t.push(((a&1023)<<10)+(i&1023)+65536):(t.push(a),e--)}else t.push(a)}return t},gke=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var e=n.length;if(!e)return"";for(var s=[],a=-1,i="";++a<e;){var o=n[a];o<=65535?s.push(o):(o-=65536,s.push((o>>10)+55296,o%1024+56320)),(a+1===e||s.length>16384)&&(i+=String.fromCharCode.apply(String,s),s.length=0)}return i},xke=uke(X5e),Va="×",Uy="÷",bke=function(n){return xke.get(n)},vke=function(n,t,e){var s=e-2,a=t[s],i=t[e-1],o=t[e];if(i===Iy&&o===Oy)return Va;if(i===Iy||i===Oy||i===Hk||o===Iy||o===Oy||o===Hk)return Uy;if(i===Qk&&[Qk,Ly,Vk,zk].indexOf(o)!==-1||(i===Vk||i===Ly)&&(o===Ly||o===Fy)||(i===zk||i===Fy)&&o===Fy||o===Kk||o===$k||o===pke||i===mke)return Va;if(i===Kk&&o===Gk){for(;a===$k;)a=t[--s];if(a===Gk)return Va}if(i===Ry&&o===Ry){for(var c=0;a===Ry;)c++,a=t[--s];if(c%2===0)return Va}return Uy},yke=function(n){var t=Ake(n),e=t.length,s=0,a=0,i=t.map(bke);return{next:function(){if(s>=e)return{done:!0,value:null};for(var o=Va;s<e&&(o=vke(t,i,++s))===Va;);if(o!==Va||s===e){var c=gke.apply(null,t.slice(a,s));return a=s,{value:c,done:!1}}return{done:!0,value:null}}}},wke=function(n){for(var t=yke(n),e=[],s;!(s=t.next()).done;)s.value&&e.push(s.value.slice());return e},jke=function(n){var t=123;if(n.createRange){var e=n.createRange();if(e.getBoundingClientRect){var s=n.createElement("boundtest");s.style.height=t+"px",s.style.display="block",n.body.appendChild(s),e.selectNode(s);var a=e.getBoundingClientRect(),i=Math.round(a.height);if(n.body.removeChild(s),i===t)return!0}}return!1},Cke=function(n){var t=n.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",n.body.appendChild(t);var e=n.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var s=t.firstChild,a=Ob(s.data).map(function(l){return Gr(l)}),i=0,o={},c=a.every(function(l,d){e.setStart(s,i),e.setEnd(s,i+l.length);var u=e.getBoundingClientRect();i+=l.length;var f=u.x>o.x||u.y>o.y;return o=u,d===0?!0:f});return n.body.removeChild(t),c},Nke=function(){return typeof new Image().crossOrigin<"u"},Ske=function(){return typeof new XMLHttpRequest().responseType=="string"},Tke=function(n){var t=new Image,e=n.createElement("canvas"),s=e.getContext("2d");if(!s)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{s.drawImage(t,0,0),e.toDataURL()}catch{return!1}return!0},qk=function(n){return n[0]===0&&n[1]===255&&n[2]===0&&n[3]===255},kke=function(n){var t=n.createElement("canvas"),e=100;t.width=e,t.height=e;var s=t.getContext("2d");if(!s)return Promise.reject(!1);s.fillStyle="rgb(0, 255, 0)",s.fillRect(0,0,e,e);var a=new Image,i=t.toDataURL();a.src=i;var o=C2(e,e,0,0,a);return s.fillStyle="red",s.fillRect(0,0,e,e),Wk(o).then(function(c){s.drawImage(c,0,0);var l=s.getImageData(0,0,e,e).data;s.fillStyle="red",s.fillRect(0,0,e,e);var d=n.createElement("div");return d.style.backgroundImage="url("+i+")",d.style.height=e+"px",qk(l)?Wk(C2(e,e,0,0,d)):Promise.reject(!1)}).then(function(c){return s.drawImage(c,0,0),qk(s.getImageData(0,0,e,e).data)}).catch(function(){return!1})},C2=function(n,t,e,s,a){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),c=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",n.toString()),o.setAttributeNS(null,"height",t.toString()),c.setAttributeNS(null,"width","100%"),c.setAttributeNS(null,"height","100%"),c.setAttributeNS(null,"x",e.toString()),c.setAttributeNS(null,"y",s.toString()),c.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(c),c.appendChild(a),o},Wk=function(n){return new Promise(function(t,e){var s=new Image;s.onload=function(){return t(s)},s.onerror=e,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},js={get SUPPORT_RANGE_BOUNDS(){var n=jke(document);return Object.defineProperty(js,"SUPPORT_RANGE_BOUNDS",{value:n}),n},get SUPPORT_WORD_BREAKING(){var n=js.SUPPORT_RANGE_BOUNDS&&Cke(document);return Object.defineProperty(js,"SUPPORT_WORD_BREAKING",{value:n}),n},get SUPPORT_SVG_DRAWING(){var n=Tke(document);return Object.defineProperty(js,"SUPPORT_SVG_DRAWING",{value:n}),n},get SUPPORT_FOREIGNOBJECT_DRAWING(){var n=typeof Array.from=="function"&&typeof window.fetch=="function"?kke(document):Promise.resolve(!1);return Object.defineProperty(js,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:n}),n},get SUPPORT_CORS_IMAGES(){var n=Nke();return Object.defineProperty(js,"SUPPORT_CORS_IMAGES",{value:n}),n},get SUPPORT_RESPONSE_TYPE(){var n=Ske();return Object.defineProperty(js,"SUPPORT_RESPONSE_TYPE",{value:n}),n},get SUPPORT_CORS_XHR(){var n="withCredentials"in new XMLHttpRequest;return Object.defineProperty(js,"SUPPORT_CORS_XHR",{value:n}),n},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var n=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(js,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:n}),n}},zf=function(){function n(t,e){this.text=t,this.bounds=e}return n}(),_ke=function(n,t,e,s){var a=Mke(t,e),i=[],o=0;return a.forEach(function(c){if(e.textDecorationLine.length||c.trim().length>0)if(js.SUPPORT_RANGE_BOUNDS){var l=Xk(s,o,c.length).getClientRects();if(l.length>1){var d=gN(c),u=0;d.forEach(function(h){i.push(new zf(h,rl.fromDOMRectList(n,Xk(s,u+o,h.length).getClientRects()))),u+=h.length})}else i.push(new zf(c,rl.fromDOMRectList(n,l)))}else{var f=s.splitText(c.length);i.push(new zf(c,Bke(n,s))),s=f}else js.SUPPORT_RANGE_BOUNDS||(s=s.splitText(c.length));o+=c.length}),i},Bke=function(n,t){var e=t.ownerDocument;if(e){var s=e.createElement("html2canvaswrapper");s.appendChild(t.cloneNode(!0));var a=t.parentNode;if(a){a.replaceChild(s,t);var i=Ib(n,s);return s.firstChild&&a.replaceChild(s.firstChild,s),i}}return rl.EMPTY},Xk=function(n,t,e){var s=n.ownerDocument;if(!s)throw new Error("Node has no owner document");var a=s.createRange();return a.setStart(n,t),a.setEnd(n,t+e),a},gN=function(n){if(js.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(n)).map(function(e){return e.segment})}return wke(n)},Eke=function(n,t){if(js.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(e.segment(n)).map(function(s){return s.segment})}return Dke(n,t)},Mke=function(n,t){return t.letterSpacing!==0?gN(n):Eke(n,t)},Pke=[32,160,4961,65792,65793,4153,4241],Dke=function(n,t){for(var e=oTe(n,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),s=[],a,i=function(){if(a.value){var o=a.value.slice(),c=Ob(o),l="";c.forEach(function(d){Pke.indexOf(d)===-1?l+=Gr(d):(l.length&&s.push(l),s.push(Gr(d)),l="")}),l.length&&s.push(l)}};!(a=e.next()).done;)i();return s},Ike=function(){function n(t,e,s){this.text=Oke(e.data,s.textTransform),this.textBounds=_ke(t,this.text,s,e)}return n}(),Oke=function(n,t){switch(t){case 1:return n.toLowerCase();case 3:return n.replace(Lke,Fke);case 2:return n.toUpperCase();default:return n}},Lke=/(^|\s|:|-|\(|\))([a-z])/g,Fke=function(n,t,e){return n.length>0?t+e.toUpperCase():n},C9=function(n){Ti(t,n);function t(e,s){var a=n.call(this,e,s)||this;return a.src=s.currentSrc||s.src,a.intrinsicWidth=s.naturalWidth,a.intrinsicHeight=s.naturalHeight,a.context.cache.addImage(a.src),a}return t}(mo),N9=function(n){Ti(t,n);function t(e,s){var a=n.call(this,e,s)||this;return a.canvas=s,a.intrinsicWidth=s.width,a.intrinsicHeight=s.height,a}return t}(mo),S9=function(n){Ti(t,n);function t(e,s){var a=n.call(this,e,s)||this,i=new XMLSerializer,o=Ib(e,s);return s.setAttribute("width",o.width+"px"),s.setAttribute("height",o.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(s)),a.intrinsicWidth=s.width.baseVal.value,a.intrinsicHeight=s.height.baseVal.value,a.context.cache.addImage(a.svg),a}return t}(mo),T9=function(n){Ti(t,n);function t(e,s){var a=n.call(this,e,s)||this;return a.value=s.value,a}return t}(mo),N2=function(n){Ti(t,n);function t(e,s){var a=n.call(this,e,s)||this;return a.start=s.start,a.reversed=typeof s.reversed=="boolean"&&s.reversed===!0,a}return t}(mo),Rke=[{type:15,flags:0,unit:"px",number:3}],Uke=[{type:16,flags:0,number:50}],Hke=function(n){return n.width>n.height?new rl(n.left+(n.width-n.height)/2,n.top,n.height,n.height):n.width<n.height?new rl(n.left,n.top+(n.height-n.width)/2,n.width,n.width):n},$ke=function(n){var t=n.type===Qke?new Array(n.value.length+1).join("•"):n.value;return t.length===0?n.placeholder||"":t},K0="checkbox",G0="radio",Qke="password",Yk=707406591,xN=function(n){Ti(t,n);function t(e,s){var a=n.call(this,e,s)||this;switch(a.type=s.type.toLowerCase(),a.checked=s.checked,a.value=$ke(s),(a.type===K0||a.type===G0)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=Hke(a.bounds)),a.type){case K0:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=Rke;break;case G0:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=Uke;break}return a}return t}(mo),k9=function(n){Ti(t,n);function t(e,s){var a=n.call(this,e,s)||this,i=s.options[s.selectedIndex||0];return a.value=i&&i.text||"",a}return t}(mo),_9=function(n){Ti(t,n);function t(e,s){var a=n.call(this,e,s)||this;return a.value=s.value,a}return t}(mo),B9=function(n){Ti(t,n);function t(e,s){var a=n.call(this,e,s)||this;a.src=s.src,a.width=parseInt(s.width,10)||0,a.height=parseInt(s.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(s.contentWindow&&s.contentWindow.document&&s.contentWindow.document.documentElement){a.tree=M9(e,s.contentWindow.document.documentElement);var i=s.contentWindow.document.documentElement?Qf(e,getComputedStyle(s.contentWindow.document.documentElement).backgroundColor):Ko.TRANSPARENT,o=s.contentWindow.document.body?Qf(e,getComputedStyle(s.contentWindow.document.body).backgroundColor):Ko.TRANSPARENT;a.backgroundColor=Wl(i)?Wl(o)?a.styles.backgroundColor:o:i}}catch{}return a}return t}(mo),Vke=["OL","UL","MENU"],jg=function(n,t,e,s){for(var a=t.firstChild,i=void 0;a;a=i)if(i=a.nextSibling,P9(a)&&a.data.trim().length>0)e.textNodes.push(new Ike(n,a,e.styles));else if(uu(a))if(L9(a)&&a.assignedNodes)a.assignedNodes().forEach(function(c){return jg(n,c,e,s)});else{var o=E9(n,a);o.styles.isVisible()&&(zke(a,o,s)?o.flags|=4:Kke(o.styles)&&(o.flags|=2),Vke.indexOf(a.tagName)!==-1&&(o.flags|=8),e.elements.push(o),a.slot,a.shadowRoot?jg(n,a.shadowRoot,o,s):!q0(a)&&!D9(a)&&!W0(a)&&jg(n,a,o,s))}},E9=function(n,t){return T2(t)?new C9(n,t):I9(t)?new N9(n,t):D9(t)?new S9(n,t):Gke(t)?new T9(n,t):qke(t)?new N2(n,t):Wke(t)?new xN(n,t):W0(t)?new k9(n,t):q0(t)?new _9(n,t):O9(t)?new B9(n,t):new mo(n,t)},M9=function(n,t){var e=E9(n,t);return e.flags|=4,jg(n,t,e,e),e},zke=function(n,t,e){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||bN(n)&&e.styles.isTransparent()},Kke=function(n){return n.isPositioned()||n.isFloating()},P9=function(n){return n.nodeType===Node.TEXT_NODE},uu=function(n){return n.nodeType===Node.ELEMENT_NODE},S2=function(n){return uu(n)&&typeof n.style<"u"&&!Cg(n)},Cg=function(n){return typeof n.className=="object"},Gke=function(n){return n.tagName==="LI"},qke=function(n){return n.tagName==="OL"},Wke=function(n){return n.tagName==="INPUT"},Xke=function(n){return n.tagName==="HTML"},D9=function(n){return n.tagName==="svg"},bN=function(n){return n.tagName==="BODY"},I9=function(n){return n.tagName==="CANVAS"},Jk=function(n){return n.tagName==="VIDEO"},T2=function(n){return n.tagName==="IMG"},O9=function(n){return n.tagName==="IFRAME"},Zk=function(n){return n.tagName==="STYLE"},Yke=function(n){return n.tagName==="SCRIPT"},q0=function(n){return n.tagName==="TEXTAREA"},W0=function(n){return n.tagName==="SELECT"},L9=function(n){return n.tagName==="SLOT"},e_=function(n){return n.tagName.indexOf("-")>0},Jke=function(){function n(){this.counters={}}return n.prototype.getCounterValue=function(t){var e=this.counters[t];return e&&e.length?e[e.length-1]:1},n.prototype.getCounterValues=function(t){var e=this.counters[t];return e||[]},n.prototype.pop=function(t){var e=this;t.forEach(function(s){return e.counters[s].pop()})},n.prototype.parse=function(t){var e=this,s=t.counterIncrement,a=t.counterReset,i=!0;s!==null&&s.forEach(function(c){var l=e.counters[c.counter];l&&c.increment!==0&&(i=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=c.increment)});var o=[];return i&&a.forEach(function(c){var l=e.counters[c.counter];o.push(c.counter),l||(l=e.counters[c.counter]=[]),l.push(c.reset)}),o},n}(),t_={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},n_={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Zke={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},e_e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},eu=function(n,t,e,s,a,i){return n<t||n>e?Dm(n,a,i.length>0):s.integers.reduce(function(o,c,l){for(;n>=c;)n-=c,o+=s.values[l];return o},"")+i},F9=function(n,t,e,s){var a="";do e||n--,a=s(n)+a,n/=t;while(n*t>=t);return a},Kr=function(n,t,e,s,a){var i=e-t+1;return(n<0?"-":"")+(F9(Math.abs(n),i,s,function(o){return Gr(Math.floor(o%i)+t)})+a)},_c=function(n,t,e){e===void 0&&(e=". ");var s=t.length;return F9(Math.abs(n),s,!1,function(a){return t[Math.floor(a%s)]})+e},lu=1,yl=2,wl=4,Tf=8,Co=function(n,t,e,s,a,i){if(n<-9999||n>9999)return Dm(n,4,a.length>0);var o=Math.abs(n),c=a;if(o===0)return t[0]+c;for(var l=0;o>0&&l<=4;l++){var d=o%10;d===0&&cs(i,lu)&&c!==""?c=t[d]+c:d>1||d===1&&l===0||d===1&&l===1&&cs(i,yl)||d===1&&l===1&&cs(i,wl)&&n>100||d===1&&l>1&&cs(i,Tf)?c=t[d]+(l>0?e[l-1]:"")+c:d===1&&l>0&&(c=e[l-1]+c),o=Math.floor(o/10)}return(n<0?s:"")+c},r_="十百千萬",s_="拾佰仟萬",a_="マイナス",Hy="마이너스",Dm=function(n,t,e){var s=e?". ":"",a=e?"、":"",i=e?", ":"",o=e?" ":"";switch(t){case 0:return"•"+o;case 1:return"◦"+o;case 2:return"◾"+o;case 5:var c=Kr(n,48,57,!0,s);return c.length<4?"0"+c:c;case 4:return _c(n,"〇一二三四五六七八九",a);case 6:return eu(n,1,3999,t_,3,s).toLowerCase();case 7:return eu(n,1,3999,t_,3,s);case 8:return Kr(n,945,969,!1,s);case 9:return Kr(n,97,122,!1,s);case 10:return Kr(n,65,90,!1,s);case 11:return Kr(n,1632,1641,!0,s);case 12:case 49:return eu(n,1,9999,n_,3,s);case 35:return eu(n,1,9999,n_,3,s).toLowerCase();case 13:return Kr(n,2534,2543,!0,s);case 14:case 30:return Kr(n,6112,6121,!0,s);case 15:return _c(n,"子丑寅卯辰巳午未申酉戌亥",a);case 16:return _c(n,"甲乙丙丁戊己庚辛壬癸",a);case 17:case 48:return Co(n,"零一二三四五六七八九",r_,"負",a,yl|wl|Tf);case 47:return Co(n,"零壹貳參肆伍陸柒捌玖",s_,"負",a,lu|yl|wl|Tf);case 42:return Co(n,"零一二三四五六七八九",r_,"负",a,yl|wl|Tf);case 41:return Co(n,"零壹贰叁肆伍陆柒捌玖",s_,"负",a,lu|yl|wl|Tf);case 26:return Co(n,"〇一二三四五六七八九","十百千万",a_,a,0);case 25:return Co(n,"零壱弐参四伍六七八九","拾百千万",a_,a,lu|yl|wl);case 31:return Co(n,"영일이삼사오육칠팔구","십백천만",Hy,i,lu|yl|wl);case 33:return Co(n,"零一二三四五六七八九","十百千萬",Hy,i,0);case 32:return Co(n,"零壹貳參四五六七八九","拾百千",Hy,i,lu|yl|wl);case 18:return Kr(n,2406,2415,!0,s);case 20:return eu(n,1,19999,e_e,3,s);case 21:return Kr(n,2790,2799,!0,s);case 22:return Kr(n,2662,2671,!0,s);case 22:return eu(n,1,10999,Zke,3,s);case 23:return _c(n,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return _c(n,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Kr(n,3302,3311,!0,s);case 28:return _c(n,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",a);case 29:return _c(n,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",a);case 34:return Kr(n,3792,3801,!0,s);case 37:return Kr(n,6160,6169,!0,s);case 38:return Kr(n,4160,4169,!0,s);case 39:return Kr(n,2918,2927,!0,s);case 40:return Kr(n,1776,1785,!0,s);case 43:return Kr(n,3046,3055,!0,s);case 44:return Kr(n,3174,3183,!0,s);case 45:return Kr(n,3664,3673,!0,s);case 46:return Kr(n,3872,3881,!0,s);case 3:default:return Kr(n,48,57,!0,s)}},R9="data-html2canvas-ignore",i_=function(){function n(t,e,s){if(this.context=t,this.options=s,this.scrolledElements=[],this.referenceElement=e,this.counters=new Jke,this.quoteDepth=0,!e.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(e.ownerDocument.documentElement,!1)}return n.prototype.toIFrame=function(t,e){var s=this,a=t_e(t,e);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var i=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,c=a.contentWindow,l=c.document,d=s_e(a).then(function(){return Ks(s,void 0,void 0,function(){var u,f;return Ps(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(l_e),c&&(c.scrollTo(e.left,e.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(c.scrollY!==e.top||c.scrollX!==e.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(c.scrollX-e.left,c.scrollY-e.top,0,0))),u=this.options.onclone,f=this.clonedReferenceElement,typeof f>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,r_e(l)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(l,f)}).then(function(){return a})]:[2,a]}})})});return l.open(),l.write(i_e(document.doctype)+"<html></html>"),o_e(this.referenceElement.ownerDocument,i,o),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),d},n.prototype.createElementClone=function(t){if(j2(t,2))debugger;if(I9(t))return this.createCanvasClone(t);if(Jk(t))return this.createVideoClone(t);if(Zk(t))return this.createStyleClone(t);var e=t.cloneNode(!1);return T2(e)&&(T2(t)&&t.currentSrc&&t.currentSrc!==t.src&&(e.src=t.currentSrc,e.srcset=""),e.loading==="lazy"&&(e.loading="eager")),e_(e)?this.createCustomElementClone(e):e},n.prototype.createCustomElementClone=function(t){var e=document.createElement("html2canvascustomelement");return $y(t.style,e),e},n.prototype.createStyleClone=function(t){try{var e=t.sheet;if(e&&e.cssRules){var s=[].slice.call(e.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),a=t.cloneNode(!1);return a.textContent=s,a}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return t.cloneNode(!1)},n.prototype.createCanvasClone=function(t){var e;if(this.options.inlineImages&&t.ownerDocument){var s=t.ownerDocument.createElement("img");try{return s.src=t.toDataURL(),s}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var a=t.cloneNode(!1);try{a.width=t.width,a.height=t.height;var i=t.getContext("2d"),o=a.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,t.width,t.height),0,0);else{var c=(e=t.getContext("webgl2"))!==null&&e!==void 0?e:t.getContext("webgl");if(c){var l=c.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return a},n.prototype.createVideoClone=function(t){var e=t.ownerDocument.createElement("canvas");e.width=t.offsetWidth,e.height=t.offsetHeight;var s=e.getContext("2d");try{return s&&(s.drawImage(t,0,0,e.width,e.height),this.options.allowTaint||s.getImageData(0,0,e.width,e.height)),e}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var a=t.ownerDocument.createElement("canvas");return a.width=t.offsetWidth,a.height=t.offsetHeight,a},n.prototype.appendChildNode=function(t,e,s){(!uu(e)||!Yke(e)&&!e.hasAttribute(R9)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(e)))&&(!this.options.copyStyles||!uu(e)||!Zk(e))&&t.appendChild(this.cloneNode(e,s))},n.prototype.cloneChildNodes=function(t,e,s){for(var a=this,i=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;i;i=i.nextSibling)if(uu(i)&&L9(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(c){return a.appendChildNode(e,c,s)})}else this.appendChildNode(e,i,s)},n.prototype.cloneNode=function(t,e){if(P9(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var s=t.ownerDocument.defaultView;if(s&&uu(t)&&(S2(t)||Cg(t))){var a=this.createElementClone(t);a.style.transitionProperty="none";var i=s.getComputedStyle(t),o=s.getComputedStyle(t,":before"),c=s.getComputedStyle(t,":after");this.referenceElement===t&&S2(a)&&(this.clonedReferenceElement=a),bN(a)&&u_e(a);var l=this.counters.parse(new Lk(this.context,i)),d=this.resolvePseudoContent(t,a,o,Kf.BEFORE);e_(t)&&(e=!0),Jk(t)||this.cloneChildNodes(t,a,e),d&&a.insertBefore(d,a.firstChild);var u=this.resolvePseudoContent(t,a,c,Kf.AFTER);return u&&a.appendChild(u),this.counters.pop(l),(i&&(this.options.copyStyles||Cg(t))&&!O9(t)||e)&&$y(i,a),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([a,t.scrollLeft,t.scrollTop]),(q0(t)||W0(t))&&(q0(a)||W0(a))&&(a.value=t.value),a}return t.cloneNode(!1)},n.prototype.resolvePseudoContent=function(t,e,s,a){var i=this;if(s){var o=s.content,c=e.ownerDocument;if(!(!c||!o||o==="none"||o==="-moz-alt-content"||s.display==="none")){this.counters.parse(new Lk(this.context,s));var l=new G5e(this.context,s),d=c.createElement("html2canvaspseudoelement");$y(s,d),l.content.forEach(function(f){if(f.type===0)d.appendChild(c.createTextNode(f.value));else if(f.type===22){var h=c.createElement("img");h.src=f.value,h.style.opacity="1",d.appendChild(h)}else if(f.type===18){if(f.name==="attr"){var m=f.values.filter(lr);m.length&&d.appendChild(c.createTextNode(t.getAttribute(m[0].value)||""))}else if(f.name==="counter"){var A=f.values.filter(Ju),g=A[0],p=A[1];if(g&&lr(g)){var b=i.counters.getCounterValue(g.value),x=p&&lr(p)?w2.parse(i.context,p.value):3;d.appendChild(c.createTextNode(Dm(b,x,!1)))}}else if(f.name==="counters"){var v=f.values.filter(Ju),g=v[0],y=v[1],p=v[2];if(g&&lr(g)){var S=i.counters.getCounterValues(g.value),M=p&&lr(p)?w2.parse(i.context,p.value):3,P=y&&y.type===0?y.value:"",B=S.map(function(O){return Dm(O,M,!1)}).join(P);d.appendChild(c.createTextNode(B))}}}else if(f.type===20)switch(f.value){case"open-quote":d.appendChild(c.createTextNode(Ok(l.quotes,i.quoteDepth++,!0)));break;case"close-quote":d.appendChild(c.createTextNode(Ok(l.quotes,--i.quoteDepth,!1)));break;default:d.appendChild(c.createTextNode(f.value))}}),d.className=k2+" "+_2;var u=a===Kf.BEFORE?" "+k2:" "+_2;return Cg(e)?e.className.baseValue+=u:e.className+=u,d}}},n.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},n}(),Kf;(function(n){n[n.BEFORE=0]="BEFORE",n[n.AFTER=1]="AFTER"})(Kf||(Kf={}));var t_e=function(n,t){var e=n.createElement("iframe");return e.className="html2canvas-container",e.style.visibility="hidden",e.style.position="fixed",e.style.left="-10000px",e.style.top="0px",e.style.border="0",e.width=t.width.toString(),e.height=t.height.toString(),e.scrolling="no",e.setAttribute(R9,"true"),n.body.appendChild(e),e},n_e=function(n){return new Promise(function(t){if(n.complete){t();return}if(!n.src){t();return}n.onload=t,n.onerror=t})},r_e=function(n){return Promise.all([].slice.call(n.images,0).map(n_e))},s_e=function(n){return new Promise(function(t,e){var s=n.contentWindow;if(!s)return e("No window assigned for iframe");var a=s.document;s.onload=n.onload=function(){s.onload=n.onload=null;var i=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(i),t(n))},50)}})},a_e=["all","d","content"],$y=function(n,t){for(var e=n.length-1;e>=0;e--){var s=n.item(e);a_e.indexOf(s)===-1&&t.style.setProperty(s,n.getPropertyValue(s))}return t},i_e=function(n){var t="";return n&&(t+="<!DOCTYPE ",n.name&&(t+=n.name),n.internalSubset&&(t+=n.internalSubset),n.publicId&&(t+='"'+n.publicId+'"'),n.systemId&&(t+='"'+n.systemId+'"'),t+=">"),t},o_e=function(n,t,e){n&&n.defaultView&&(t!==n.defaultView.pageXOffset||e!==n.defaultView.pageYOffset)&&n.defaultView.scrollTo(t,e)},l_e=function(n){var t=n[0],e=n[1],s=n[2];t.scrollLeft=e,t.scrollTop=s},c_e=":before",d_e=":after",k2="___html2canvas___pseudoelement_before",_2="___html2canvas___pseudoelement_after",o_=`{
    content: "" !important;
    display: none !important;
}`,u_e=function(n){h_e(n,"."+k2+c_e+o_+`
         .`+_2+d_e+o_)},h_e=function(n,t){var e=n.ownerDocument;if(e){var s=e.createElement("style");s.textContent=t,n.appendChild(s)}},U9=function(){function n(){}return n.getOrigin=function(t){var e=n._link;return e?(e.href=t,e.href=e.href,e.protocol+e.hostname+e.port):"about:blank"},n.isSameOrigin=function(t){return n.getOrigin(t)===n._origin},n.setContext=function(t){n._link=t.document.createElement("a"),n._origin=n.getOrigin(t.location.href)},n._origin="about:blank",n}(),f_e=function(){function n(t,e){this.context=t,this._options=e,this._cache={}}return n.prototype.addImage=function(t){var e=Promise.resolve();return this.has(t)||(Vy(t)||g_e(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),e},n.prototype.match=function(t){return this._cache[t]},n.prototype.loadImage=function(t){return Ks(this,void 0,void 0,function(){var e,s,a,i,o=this;return Ps(this,function(c){switch(c.label){case 0:return e=U9.isSameOrigin(t),s=!Qy(t)&&this._options.useCORS===!0&&js.SUPPORT_CORS_IMAGES&&!e,a=!Qy(t)&&!e&&!Vy(t)&&typeof this._options.proxy=="string"&&js.SUPPORT_CORS_XHR&&!s,!e&&this._options.allowTaint===!1&&!Qy(t)&&!Vy(t)&&!a&&!s?[2]:(i=t,a?[4,this.proxy(i)]:[3,2]);case 1:i=c.sent(),c.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(l,d){var u=new Image;u.onload=function(){return l(u)},u.onerror=d,(x_e(i)||s)&&(u.crossOrigin="anonymous"),u.src=i,u.complete===!0&&setTimeout(function(){return l(u)},500),o._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,c.sent()]}})})},n.prototype.has=function(t){return typeof this._cache[t]<"u"},n.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},n.prototype.proxy=function(t){var e=this,s=this._options.proxy;if(!s)throw new Error("No proxy defined");var a=t.substring(0,256);return new Promise(function(i,o){var c=js.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(c==="text")i(l.response);else{var f=new FileReader;f.addEventListener("load",function(){return i(f.result)},!1),f.addEventListener("error",function(h){return o(h)},!1),f.readAsDataURL(l.response)}else o("Failed to proxy resource "+a+" with status code "+l.status)},l.onerror=o;var d=s.indexOf("?")>-1?"&":"?";if(l.open("GET",""+s+d+"url="+encodeURIComponent(t)+"&responseType="+c),c!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=c),e._options.imageTimeout){var u=e._options.imageTimeout;l.timeout=u,l.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+a)}}l.send()})},n}(),m_e=/^data:image\/svg\+xml/i,p_e=/^data:image\/.*;base64,/i,A_e=/^data:image\/.*/i,g_e=function(n){return js.SUPPORT_SVG_DRAWING||!b_e(n)},Qy=function(n){return A_e.test(n)},x_e=function(n){return p_e.test(n)},Vy=function(n){return n.substr(0,4)==="blob"},b_e=function(n){return n.substr(-3).toLowerCase()==="svg"||m_e.test(n)},Tt=function(){function n(t,e){this.type=0,this.x=t,this.y=e}return n.prototype.add=function(t,e){return new n(this.x+t,this.y+e)},n}(),tu=function(n,t,e){return new Tt(n.x+(t.x-n.x)*e,n.y+(t.y-n.y)*e)},HA=function(){function n(t,e,s,a){this.type=1,this.start=t,this.startControl=e,this.endControl=s,this.end=a}return n.prototype.subdivide=function(t,e){var s=tu(this.start,this.startControl,t),a=tu(this.startControl,this.endControl,t),i=tu(this.endControl,this.end,t),o=tu(s,a,t),c=tu(a,i,t),l=tu(o,c,t);return e?new n(this.start,s,o,l):new n(l,c,i,this.end)},n.prototype.add=function(t,e){return new n(this.start.add(t,e),this.startControl.add(t,e),this.endControl.add(t,e),this.end.add(t,e))},n.prototype.reverse=function(){return new n(this.end,this.endControl,this.startControl,this.start)},n}(),Ga=function(n){return n.type===1},v_e=function(){function n(t){var e=t.styles,s=t.bounds,a=Nf(e.borderTopLeftRadius,s.width,s.height),i=a[0],o=a[1],c=Nf(e.borderTopRightRadius,s.width,s.height),l=c[0],d=c[1],u=Nf(e.borderBottomRightRadius,s.width,s.height),f=u[0],h=u[1],m=Nf(e.borderBottomLeftRadius,s.width,s.height),A=m[0],g=m[1],p=[];p.push((i+l)/s.width),p.push((A+f)/s.width),p.push((o+g)/s.height),p.push((d+h)/s.height);var b=Math.max.apply(Math,p);b>1&&(i/=b,o/=b,l/=b,d/=b,f/=b,h/=b,A/=b,g/=b);var x=s.width-l,v=s.height-h,y=s.width-f,S=s.height-g,M=e.borderTopWidth,P=e.borderRightWidth,B=e.borderBottomWidth,D=e.borderLeftWidth,L=mr(e.paddingTop,t.bounds.width),O=mr(e.paddingRight,t.bounds.width),F=mr(e.paddingBottom,t.bounds.width),_=mr(e.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?Sr(s.left+D/3,s.top+M/3,i-D/3,o-M/3,tr.TOP_LEFT):new Tt(s.left+D/3,s.top+M/3),this.topRightBorderDoubleOuterBox=i>0||o>0?Sr(s.left+x,s.top+M/3,l-P/3,d-M/3,tr.TOP_RIGHT):new Tt(s.left+s.width-P/3,s.top+M/3),this.bottomRightBorderDoubleOuterBox=f>0||h>0?Sr(s.left+y,s.top+v,f-P/3,h-B/3,tr.BOTTOM_RIGHT):new Tt(s.left+s.width-P/3,s.top+s.height-B/3),this.bottomLeftBorderDoubleOuterBox=A>0||g>0?Sr(s.left+D/3,s.top+S,A-D/3,g-B/3,tr.BOTTOM_LEFT):new Tt(s.left+D/3,s.top+s.height-B/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?Sr(s.left+D*2/3,s.top+M*2/3,i-D*2/3,o-M*2/3,tr.TOP_LEFT):new Tt(s.left+D*2/3,s.top+M*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?Sr(s.left+x,s.top+M*2/3,l-P*2/3,d-M*2/3,tr.TOP_RIGHT):new Tt(s.left+s.width-P*2/3,s.top+M*2/3),this.bottomRightBorderDoubleInnerBox=f>0||h>0?Sr(s.left+y,s.top+v,f-P*2/3,h-B*2/3,tr.BOTTOM_RIGHT):new Tt(s.left+s.width-P*2/3,s.top+s.height-B*2/3),this.bottomLeftBorderDoubleInnerBox=A>0||g>0?Sr(s.left+D*2/3,s.top+S,A-D*2/3,g-B*2/3,tr.BOTTOM_LEFT):new Tt(s.left+D*2/3,s.top+s.height-B*2/3),this.topLeftBorderStroke=i>0||o>0?Sr(s.left+D/2,s.top+M/2,i-D/2,o-M/2,tr.TOP_LEFT):new Tt(s.left+D/2,s.top+M/2),this.topRightBorderStroke=i>0||o>0?Sr(s.left+x,s.top+M/2,l-P/2,d-M/2,tr.TOP_RIGHT):new Tt(s.left+s.width-P/2,s.top+M/2),this.bottomRightBorderStroke=f>0||h>0?Sr(s.left+y,s.top+v,f-P/2,h-B/2,tr.BOTTOM_RIGHT):new Tt(s.left+s.width-P/2,s.top+s.height-B/2),this.bottomLeftBorderStroke=A>0||g>0?Sr(s.left+D/2,s.top+S,A-D/2,g-B/2,tr.BOTTOM_LEFT):new Tt(s.left+D/2,s.top+s.height-B/2),this.topLeftBorderBox=i>0||o>0?Sr(s.left,s.top,i,o,tr.TOP_LEFT):new Tt(s.left,s.top),this.topRightBorderBox=l>0||d>0?Sr(s.left+x,s.top,l,d,tr.TOP_RIGHT):new Tt(s.left+s.width,s.top),this.bottomRightBorderBox=f>0||h>0?Sr(s.left+y,s.top+v,f,h,tr.BOTTOM_RIGHT):new Tt(s.left+s.width,s.top+s.height),this.bottomLeftBorderBox=A>0||g>0?Sr(s.left,s.top+S,A,g,tr.BOTTOM_LEFT):new Tt(s.left,s.top+s.height),this.topLeftPaddingBox=i>0||o>0?Sr(s.left+D,s.top+M,Math.max(0,i-D),Math.max(0,o-M),tr.TOP_LEFT):new Tt(s.left+D,s.top+M),this.topRightPaddingBox=l>0||d>0?Sr(s.left+Math.min(x,s.width-P),s.top+M,x>s.width+P?0:Math.max(0,l-P),Math.max(0,d-M),tr.TOP_RIGHT):new Tt(s.left+s.width-P,s.top+M),this.bottomRightPaddingBox=f>0||h>0?Sr(s.left+Math.min(y,s.width-D),s.top+Math.min(v,s.height-B),Math.max(0,f-P),Math.max(0,h-B),tr.BOTTOM_RIGHT):new Tt(s.left+s.width-P,s.top+s.height-B),this.bottomLeftPaddingBox=A>0||g>0?Sr(s.left+D,s.top+Math.min(S,s.height-B),Math.max(0,A-D),Math.max(0,g-B),tr.BOTTOM_LEFT):new Tt(s.left+D,s.top+s.height-B),this.topLeftContentBox=i>0||o>0?Sr(s.left+D+_,s.top+M+L,Math.max(0,i-(D+_)),Math.max(0,o-(M+L)),tr.TOP_LEFT):new Tt(s.left+D+_,s.top+M+L),this.topRightContentBox=l>0||d>0?Sr(s.left+Math.min(x,s.width+D+_),s.top+M+L,x>s.width+D+_?0:l-D+_,d-(M+L),tr.TOP_RIGHT):new Tt(s.left+s.width-(P+O),s.top+M+L),this.bottomRightContentBox=f>0||h>0?Sr(s.left+Math.min(y,s.width-(D+_)),s.top+Math.min(v,s.height+M+L),Math.max(0,f-(P+O)),h-(B+F),tr.BOTTOM_RIGHT):new Tt(s.left+s.width-(P+O),s.top+s.height-(B+F)),this.bottomLeftContentBox=A>0||g>0?Sr(s.left+D+_,s.top+S,Math.max(0,A-(D+_)),g-(B+F),tr.BOTTOM_LEFT):new Tt(s.left+D+_,s.top+s.height-(B+F))}return n}(),tr;(function(n){n[n.TOP_LEFT=0]="TOP_LEFT",n[n.TOP_RIGHT=1]="TOP_RIGHT",n[n.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",n[n.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(tr||(tr={}));var Sr=function(n,t,e,s,a){var i=4*((Math.sqrt(2)-1)/3),o=e*i,c=s*i,l=n+e,d=t+s;switch(a){case tr.TOP_LEFT:return new HA(new Tt(n,d),new Tt(n,d-c),new Tt(l-o,t),new Tt(l,t));case tr.TOP_RIGHT:return new HA(new Tt(n,t),new Tt(n+o,t),new Tt(l,d-c),new Tt(l,d));case tr.BOTTOM_RIGHT:return new HA(new Tt(l,t),new Tt(l,t+c),new Tt(n+o,d),new Tt(n,d));case tr.BOTTOM_LEFT:default:return new HA(new Tt(l,d),new Tt(l-o,d),new Tt(n,t+c),new Tt(n,t))}},X0=function(n){return[n.topLeftBorderBox,n.topRightBorderBox,n.bottomRightBorderBox,n.bottomLeftBorderBox]},y_e=function(n){return[n.topLeftContentBox,n.topRightContentBox,n.bottomRightContentBox,n.bottomLeftContentBox]},Y0=function(n){return[n.topLeftPaddingBox,n.topRightPaddingBox,n.bottomRightPaddingBox,n.bottomLeftPaddingBox]},w_e=function(){function n(t,e,s){this.offsetX=t,this.offsetY=e,this.matrix=s,this.type=0,this.target=6}return n}(),$A=function(){function n(t,e){this.path=t,this.target=e,this.type=1}return n}(),j_e=function(){function n(t){this.opacity=t,this.type=2,this.target=6}return n}(),C_e=function(n){return n.type===0},H9=function(n){return n.type===1},N_e=function(n){return n.type===2},l_=function(n,t){return n.length===t.length?n.some(function(e,s){return e===t[s]}):!1},S_e=function(n,t,e,s,a){return n.map(function(i,o){switch(o){case 0:return i.add(t,e);case 1:return i.add(t+s,e);case 2:return i.add(t+s,e+a);case 3:return i.add(t,e+a)}return i})},$9=function(){function n(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return n}(),Q9=function(){function n(t,e){if(this.container=t,this.parent=e,this.effects=[],this.curves=new v_e(this.container),this.container.styles.opacity<1&&this.effects.push(new j_e(this.container.styles.opacity)),this.container.styles.transform!==null){var s=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new w_e(s,a,i))}if(this.container.styles.overflowX!==0){var o=X0(this.curves),c=Y0(this.curves);l_(o,c)?this.effects.push(new $A(o,6)):(this.effects.push(new $A(o,2)),this.effects.push(new $A(c,4)))}}return n.prototype.getEffects=function(t){for(var e=[2,3].indexOf(this.container.styles.position)===-1,s=this.parent,a=this.effects.slice(0);s;){var i=s.effects.filter(function(l){return!H9(l)});if(e||s.container.styles.position!==0||!s.parent){if(a.unshift.apply(a,i),e=[2,3].indexOf(s.container.styles.position)===-1,s.container.styles.overflowX!==0){var o=X0(s.curves),c=Y0(s.curves);l_(o,c)||a.unshift(new $A(c,6))}}else a.unshift.apply(a,i);s=s.parent}return a.filter(function(l){return cs(l.target,t)})},n}(),B2=function(n,t,e,s){n.container.elements.forEach(function(a){var i=cs(a.flags,4),o=cs(a.flags,2),c=new Q9(a,n);cs(a.styles.display,2048)&&s.push(c);var l=cs(a.flags,8)?[]:s;if(i||o){var d=i||a.styles.isPositioned()?e:t,u=new $9(c);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var f=a.styles.zIndex.order;if(f<0){var h=0;d.negativeZIndex.some(function(A,g){return f>A.element.container.styles.zIndex.order?(h=g,!1):h>0}),d.negativeZIndex.splice(h,0,u)}else if(f>0){var m=0;d.positiveZIndex.some(function(A,g){return f>=A.element.container.styles.zIndex.order?(m=g+1,!1):m>0}),d.positiveZIndex.splice(m,0,u)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else a.styles.isFloating()?d.nonPositionedFloats.push(u):d.nonPositionedInlineLevel.push(u);B2(c,u,i?u:e,l)}else a.styles.isInlineLevel()?t.inlineLevel.push(c):t.nonInlineLevel.push(c),B2(c,t,e,l);cs(a.flags,8)&&V9(a,l)})},V9=function(n,t){for(var e=n instanceof N2?n.start:1,s=n instanceof N2?n.reversed:!1,a=0;a<t.length;a++){var i=t[a];i.container instanceof T9&&typeof i.container.value=="number"&&i.container.value!==0&&(e=i.container.value),i.listValue=Dm(e,i.container.styles.listStyleType,!0),e+=s?-1:1}},T_e=function(n){var t=new Q9(n,null),e=new $9(t),s=[];return B2(t,e,e,s),V9(t.container,s),e},c_=function(n,t){switch(t){case 0:return Xa(n.topLeftBorderBox,n.topLeftPaddingBox,n.topRightBorderBox,n.topRightPaddingBox);case 1:return Xa(n.topRightBorderBox,n.topRightPaddingBox,n.bottomRightBorderBox,n.bottomRightPaddingBox);case 2:return Xa(n.bottomRightBorderBox,n.bottomRightPaddingBox,n.bottomLeftBorderBox,n.bottomLeftPaddingBox);case 3:default:return Xa(n.bottomLeftBorderBox,n.bottomLeftPaddingBox,n.topLeftBorderBox,n.topLeftPaddingBox)}},k_e=function(n,t){switch(t){case 0:return Xa(n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox,n.topRightBorderBox,n.topRightBorderDoubleOuterBox);case 1:return Xa(n.topRightBorderBox,n.topRightBorderDoubleOuterBox,n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox);case 2:return Xa(n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox,n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox);case 3:default:return Xa(n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox,n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox)}},__e=function(n,t){switch(t){case 0:return Xa(n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox,n.topRightBorderDoubleInnerBox,n.topRightPaddingBox);case 1:return Xa(n.topRightBorderDoubleInnerBox,n.topRightPaddingBox,n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox);case 2:return Xa(n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox,n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox);case 3:default:return Xa(n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox,n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox)}},B_e=function(n,t){switch(t){case 0:return QA(n.topLeftBorderStroke,n.topRightBorderStroke);case 1:return QA(n.topRightBorderStroke,n.bottomRightBorderStroke);case 2:return QA(n.bottomRightBorderStroke,n.bottomLeftBorderStroke);case 3:default:return QA(n.bottomLeftBorderStroke,n.topLeftBorderStroke)}},QA=function(n,t){var e=[];return Ga(n)?e.push(n.subdivide(.5,!1)):e.push(n),Ga(t)?e.push(t.subdivide(.5,!0)):e.push(t),e},Xa=function(n,t,e,s){var a=[];return Ga(n)?a.push(n.subdivide(.5,!1)):a.push(n),Ga(e)?a.push(e.subdivide(.5,!0)):a.push(e),Ga(s)?a.push(s.subdivide(.5,!0).reverse()):a.push(s),Ga(t)?a.push(t.subdivide(.5,!1).reverse()):a.push(t),a},z9=function(n){var t=n.bounds,e=n.styles;return t.add(e.borderLeftWidth,e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth),-(e.borderTopWidth+e.borderBottomWidth))},J0=function(n){var t=n.styles,e=n.bounds,s=mr(t.paddingLeft,e.width),a=mr(t.paddingRight,e.width),i=mr(t.paddingTop,e.width),o=mr(t.paddingBottom,e.width);return e.add(s+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+s+a),-(t.borderTopWidth+t.borderBottomWidth+i+o))},E_e=function(n,t){return n===0?t.bounds:n===2?J0(t):z9(t)},M_e=function(n,t){return n===0?t.bounds:n===2?J0(t):z9(t)},zy=function(n,t,e){var s=E_e(cu(n.styles.backgroundOrigin,t),n),a=M_e(cu(n.styles.backgroundClip,t),n),i=P_e(cu(n.styles.backgroundSize,t),e,s),o=i[0],c=i[1],l=Nf(cu(n.styles.backgroundPosition,t),s.width-o,s.height-c),d=D_e(cu(n.styles.backgroundRepeat,t),l,i,s,a),u=Math.round(s.left+l[0]),f=Math.round(s.top+l[1]);return[d,u,f,o,c]},nu=function(n){return lr(n)&&n.value===ju.AUTO},VA=function(n){return typeof n=="number"},P_e=function(n,t,e){var s=t[0],a=t[1],i=t[2],o=n[0],c=n[1];if(!o)return[0,0];if(as(o)&&c&&as(c))return[mr(o,e.width),mr(c,e.height)];var l=VA(i);if(lr(o)&&(o.value===ju.CONTAIN||o.value===ju.COVER)){if(VA(i)){var d=e.width/e.height;return d<i!=(o.value===ju.COVER)?[e.width,e.width/i]:[e.height*i,e.height]}return[e.width,e.height]}var u=VA(s),f=VA(a),h=u||f;if(nu(o)&&(!c||nu(c))){if(u&&f)return[s,a];if(!l&&!h)return[e.width,e.height];if(h&&l){var m=u?s:a*i,A=f?a:s/i;return[m,A]}var g=u?s:e.width,p=f?a:e.height;return[g,p]}if(l){var b=0,x=0;return as(o)?b=mr(o,e.width):as(c)&&(x=mr(c,e.height)),nu(o)?b=x*i:(!c||nu(c))&&(x=b/i),[b,x]}var v=null,y=null;if(as(o)?v=mr(o,e.width):c&&as(c)&&(y=mr(c,e.height)),v!==null&&(!c||nu(c))&&(y=u&&f?v/s*a:e.height),y!==null&&nu(o)&&(v=u&&f?y/a*s:e.width),v!==null&&y!==null)return[v,y];throw new Error("Unable to calculate background-size for element")},cu=function(n,t){var e=n[t];return typeof e>"u"?n[0]:e},D_e=function(n,t,e,s,a){var i=t[0],o=t[1],c=e[0],l=e[1];switch(n){case 2:return[new Tt(Math.round(s.left),Math.round(s.top+o)),new Tt(Math.round(s.left+s.width),Math.round(s.top+o)),new Tt(Math.round(s.left+s.width),Math.round(l+s.top+o)),new Tt(Math.round(s.left),Math.round(l+s.top+o))];case 3:return[new Tt(Math.round(s.left+i),Math.round(s.top)),new Tt(Math.round(s.left+i+c),Math.round(s.top)),new Tt(Math.round(s.left+i+c),Math.round(s.height+s.top)),new Tt(Math.round(s.left+i),Math.round(s.height+s.top))];case 1:return[new Tt(Math.round(s.left+i),Math.round(s.top+o)),new Tt(Math.round(s.left+i+c),Math.round(s.top+o)),new Tt(Math.round(s.left+i+c),Math.round(s.top+o+l)),new Tt(Math.round(s.left+i),Math.round(s.top+o+l))];default:return[new Tt(Math.round(a.left),Math.round(a.top)),new Tt(Math.round(a.left+a.width),Math.round(a.top)),new Tt(Math.round(a.left+a.width),Math.round(a.height+a.top)),new Tt(Math.round(a.left),Math.round(a.height+a.top))]}},I_e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",d_="Hidden Text",O_e=function(){function n(t){this._data={},this._document=t}return n.prototype.parseMetrics=function(t,e){var s=this._document.createElement("div"),a=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;s.style.visibility="hidden",s.style.fontFamily=t,s.style.fontSize=e,s.style.margin="0",s.style.padding="0",s.style.whiteSpace="nowrap",o.appendChild(s),a.src=I_e,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",i.style.fontFamily=t,i.style.fontSize=e,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(d_)),s.appendChild(i),s.appendChild(a);var c=a.offsetTop-i.offsetTop+2;s.removeChild(i),s.appendChild(this._document.createTextNode(d_)),s.style.lineHeight="normal",a.style.verticalAlign="super";var l=a.offsetTop-s.offsetTop+2;return o.removeChild(s),{baseline:c,middle:l}},n.prototype.getMetrics=function(t,e){var s=t+" "+e;return typeof this._data[s]>"u"&&(this._data[s]=this.parseMetrics(t,e)),this._data[s]},n}(),K9=function(){function n(t,e){this.context=t,this.options=e}return n}(),L_e=1e4,F_e=function(n){Ti(t,n);function t(e,s){var a=n.call(this,e,s)||this;return a._activeEffects=[],a.canvas=s.canvas?s.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),s.canvas||(a.canvas.width=Math.floor(s.width*s.scale),a.canvas.height=Math.floor(s.height*s.scale),a.canvas.style.width=s.width+"px",a.canvas.style.height=s.height+"px"),a.fontMetrics=new O_e(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-s.x,-s.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+s.width+"x"+s.height+") with scale "+s.scale),a}return t.prototype.applyEffects=function(e){for(var s=this;this._activeEffects.length;)this.popEffect();e.forEach(function(a){return s.applyEffect(a)})},t.prototype.applyEffect=function(e){this.ctx.save(),N_e(e)&&(this.ctx.globalAlpha=e.opacity),C_e(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),H9(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(e){return Ks(this,void 0,void 0,function(){var s;return Ps(this,function(a){switch(a.label){case 0:return s=e.element.container.styles,s.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(e){return Ks(this,void 0,void 0,function(){return Ps(this,function(s){switch(s.label){case 0:if(cs(e.container.flags,16))debugger;return e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return s.sent(),[4,this.renderNodeContent(e)];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(e,s,a){var i=this;if(s===0)this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+a);else{var o=gN(e.text);o.reduce(function(c,l){return i.ctx.fillText(l,c,e.bounds.top+a),c+i.ctx.measureText(l).width},e.bounds.left)}},t.prototype.createFontStyle=function(e){var s=e.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),a=Q_e(e.fontFamily).join(", "),i=Np(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,s,e.fontWeight,i,a].join(" "),a,i]},t.prototype.renderTextNode=function(e,s){return Ks(this,void 0,void 0,function(){var a,i,o,c,l,d,u,f,h=this;return Ps(this,function(m){return a=this.createFontStyle(s),i=a[0],o=a[1],c=a[2],this.ctx.font=i,this.ctx.direction=s.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(o,c),d=l.baseline,u=l.middle,f=s.paintOrder,e.textBounds.forEach(function(A){f.forEach(function(g){switch(g){case 0:h.ctx.fillStyle=As(s.color),h.renderTextWithLetterSpacing(A,s.letterSpacing,d);var p=s.textShadow;p.length&&A.text.trim().length&&(p.slice(0).reverse().forEach(function(b){h.ctx.shadowColor=As(b.color),h.ctx.shadowOffsetX=b.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=b.offsetY.number*h.options.scale,h.ctx.shadowBlur=b.blur.number,h.renderTextWithLetterSpacing(A,s.letterSpacing,d)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),s.textDecorationLine.length&&(h.ctx.fillStyle=As(s.textDecorationColor||s.color),s.textDecorationLine.forEach(function(b){switch(b){case 1:h.ctx.fillRect(A.bounds.left,Math.round(A.bounds.top+d),A.bounds.width,1);break;case 2:h.ctx.fillRect(A.bounds.left,Math.round(A.bounds.top),A.bounds.width,1);break;case 3:h.ctx.fillRect(A.bounds.left,Math.ceil(A.bounds.top+u),A.bounds.width,1);break}}));break;case 1:s.webkitTextStrokeWidth&&A.text.trim().length&&(h.ctx.strokeStyle=As(s.webkitTextStrokeColor),h.ctx.lineWidth=s.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(A.text,A.bounds.left,A.bounds.top+d)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(e,s,a){if(a&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var i=J0(e),o=Y0(s);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,e.intrinsicWidth,e.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(e){return Ks(this,void 0,void 0,function(){var s,a,i,o,c,l,x,x,d,u,f,h,y,m,A,S,g,p,b,x,v,y,S;return Ps(this,function(M){switch(M.label){case 0:this.applyEffects(e.getEffects(4)),s=e.container,a=e.curves,i=s.styles,o=0,c=s.textNodes,M.label=1;case 1:return o<c.length?(l=c[o],[4,this.renderTextNode(l,i)]):[3,4];case 2:M.sent(),M.label=3;case 3:return o++,[3,1];case 4:if(!(s instanceof C9))return[3,8];M.label=5;case 5:return M.trys.push([5,7,,8]),[4,this.context.cache.match(s.src)];case 6:return x=M.sent(),this.renderReplacedElement(s,a,x),[3,8];case 7:return M.sent(),this.context.logger.error("Error loading image "+s.src),[3,8];case 8:if(s instanceof N9&&this.renderReplacedElement(s,a,s.canvas),!(s instanceof S9))return[3,12];M.label=9;case 9:return M.trys.push([9,11,,12]),[4,this.context.cache.match(s.svg)];case 10:return x=M.sent(),this.renderReplacedElement(s,a,x),[3,12];case 11:return M.sent(),this.context.logger.error("Error loading svg "+s.svg.substring(0,255)),[3,12];case 12:return s instanceof B9&&s.tree?(d=new t(this.context,{scale:this.options.scale,backgroundColor:s.backgroundColor,x:0,y:0,width:s.width,height:s.height}),[4,d.render(s.tree)]):[3,14];case 13:u=M.sent(),s.width&&s.height&&this.ctx.drawImage(u,0,0,s.width,s.height,s.bounds.left,s.bounds.top,s.bounds.width,s.bounds.height),M.label=14;case 14:if(s instanceof xN&&(f=Math.min(s.bounds.width,s.bounds.height),s.type===K0?s.checked&&(this.ctx.save(),this.path([new Tt(s.bounds.left+f*.39363,s.bounds.top+f*.79),new Tt(s.bounds.left+f*.16,s.bounds.top+f*.5549),new Tt(s.bounds.left+f*.27347,s.bounds.top+f*.44071),new Tt(s.bounds.left+f*.39694,s.bounds.top+f*.5649),new Tt(s.bounds.left+f*.72983,s.bounds.top+f*.23),new Tt(s.bounds.left+f*.84,s.bounds.top+f*.34085),new Tt(s.bounds.left+f*.39363,s.bounds.top+f*.79)]),this.ctx.fillStyle=As(Yk),this.ctx.fill(),this.ctx.restore()):s.type===G0&&s.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(s.bounds.left+f/2,s.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=As(Yk),this.ctx.fill(),this.ctx.restore())),R_e(s)&&s.value.length){switch(h=this.createFontStyle(i),y=h[0],m=h[1],A=this.fontMetrics.getMetrics(y,m).baseline,this.ctx.font=y,this.ctx.fillStyle=As(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=H_e(s.styles.textAlign),S=J0(s),g=0,s.styles.textAlign){case 1:g+=S.width/2;break;case 2:g+=S.width;break}p=S.add(g,0,0,-S.height/2+1),this.ctx.save(),this.path([new Tt(S.left,S.top),new Tt(S.left+S.width,S.top),new Tt(S.left+S.width,S.top+S.height),new Tt(S.left,S.top+S.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new zf(s.value,p),i.letterSpacing,A),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!cs(s.styles.display,2048))return[3,20];if(s.styles.listStyleImage===null)return[3,19];if(b=s.styles.listStyleImage,b.type!==0)return[3,18];x=void 0,v=b.url,M.label=15;case 15:return M.trys.push([15,17,,18]),[4,this.context.cache.match(v)];case 16:return x=M.sent(),this.ctx.drawImage(x,s.bounds.left-(x.width+10),s.bounds.top),[3,18];case 17:return M.sent(),this.context.logger.error("Error loading list-style-image "+v),[3,18];case 18:return[3,20];case 19:e.listValue&&s.styles.listStyleType!==-1&&(y=this.createFontStyle(i)[0],this.ctx.font=y,this.ctx.fillStyle=As(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",S=new rl(s.bounds.left,s.bounds.top+mr(s.styles.paddingTop,s.bounds.width),s.bounds.width,Dk(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new zf(e.listValue,S),i.letterSpacing,Dk(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),M.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(e){return Ks(this,void 0,void 0,function(){var s,a,b,i,o,b,c,l,b,d,u,b,f,h,b,m,A,b,g,p,b;return Ps(this,function(x){switch(x.label){case 0:if(cs(e.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:x.sent(),s=0,a=e.negativeZIndex,x.label=2;case 2:return s<a.length?(b=a[s],[4,this.renderStack(b)]):[3,5];case 3:x.sent(),x.label=4;case 4:return s++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:x.sent(),i=0,o=e.nonInlineLevel,x.label=7;case 7:return i<o.length?(b=o[i],[4,this.renderNode(b)]):[3,10];case 8:x.sent(),x.label=9;case 9:return i++,[3,7];case 10:c=0,l=e.nonPositionedFloats,x.label=11;case 11:return c<l.length?(b=l[c],[4,this.renderStack(b)]):[3,14];case 12:x.sent(),x.label=13;case 13:return c++,[3,11];case 14:d=0,u=e.nonPositionedInlineLevel,x.label=15;case 15:return d<u.length?(b=u[d],[4,this.renderStack(b)]):[3,18];case 16:x.sent(),x.label=17;case 17:return d++,[3,15];case 18:f=0,h=e.inlineLevel,x.label=19;case 19:return f<h.length?(b=h[f],[4,this.renderNode(b)]):[3,22];case 20:x.sent(),x.label=21;case 21:return f++,[3,19];case 22:m=0,A=e.zeroOrAutoZIndexOrTransformedOrOpacity,x.label=23;case 23:return m<A.length?(b=A[m],[4,this.renderStack(b)]):[3,26];case 24:x.sent(),x.label=25;case 25:return m++,[3,23];case 26:g=0,p=e.positiveZIndex,x.label=27;case 27:return g<p.length?(b=p[g],[4,this.renderStack(b)]):[3,30];case 28:x.sent(),x.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},t.prototype.formatPath=function(e){var s=this;e.forEach(function(a,i){var o=Ga(a)?a.start:a;i===0?s.ctx.moveTo(o.x,o.y):s.ctx.lineTo(o.x,o.y),Ga(a)&&s.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},t.prototype.renderRepeat=function(e,s,a,i){this.path(e),this.ctx.fillStyle=s,this.ctx.translate(a,i),this.ctx.fill(),this.ctx.translate(-a,-i)},t.prototype.resizeImage=function(e,s,a){var i;if(e.width===s&&e.height===a)return e;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,c=o.createElement("canvas");c.width=Math.max(1,s),c.height=Math.max(1,a);var l=c.getContext("2d");return l.drawImage(e,0,0,e.width,e.height,0,0,s,a),c},t.prototype.renderBackgroundImage=function(e){return Ks(this,void 0,void 0,function(){var s,a,i,o,c,l;return Ps(this,function(d){switch(d.label){case 0:s=e.styles.backgroundImage.length-1,a=function(u){var f,h,m,L,w,C,_,E,B,A,L,w,C,_,E,g,p,b,x,v,y,S,M,P,B,D,L,O,F,_,E,T,w,C,j,N,I,R,U,V,z,X;return Ps(this,function(Q){switch(Q.label){case 0:if(u.type!==0)return[3,5];f=void 0,h=u.url,Q.label=1;case 1:return Q.trys.push([1,3,,4]),[4,i.context.cache.match(h)];case 2:return f=Q.sent(),[3,4];case 3:return Q.sent(),i.context.logger.error("Error loading background-image "+h),[3,4];case 4:return f&&(m=zy(e,s,[f.width,f.height,f.width/f.height]),L=m[0],w=m[1],C=m[2],_=m[3],E=m[4],B=i.ctx.createPattern(i.resizeImage(f,_,E),"repeat"),i.renderRepeat(L,B,w,C)),[3,6];case 5:C3e(u)?(A=zy(e,s,[null,null,null]),L=A[0],w=A[1],C=A[2],_=A[3],E=A[4],g=b3e(u.angle,_,E),p=g[0],b=g[1],x=g[2],v=g[3],y=g[4],S=document.createElement("canvas"),S.width=_,S.height=E,M=S.getContext("2d"),P=M.createLinearGradient(b,v,x,y),Mk(u.stops,p).forEach(function(q){return P.addColorStop(q.stop,As(q.color))}),M.fillStyle=P,M.fillRect(0,0,_,E),_>0&&E>0&&(B=i.ctx.createPattern(S,"repeat"),i.renderRepeat(L,B,w,C))):N3e(u)&&(D=zy(e,s,[null,null,null]),L=D[0],O=D[1],F=D[2],_=D[3],E=D[4],T=u.position.length===0?[mN]:u.position,w=mr(T[0],_),C=mr(T[T.length-1],E),j=v3e(u,w,C,_,E),N=j[0],I=j[1],N>0&&I>0&&(R=i.ctx.createRadialGradient(O+w,F+C,0,O+w,F+C,N),Mk(u.stops,N*2).forEach(function(q){return R.addColorStop(q.stop,As(q.color))}),i.path(L),i.ctx.fillStyle=R,N!==I?(U=e.bounds.left+.5*e.bounds.width,V=e.bounds.top+.5*e.bounds.height,z=I/N,X=1/z,i.ctx.save(),i.ctx.translate(U,V),i.ctx.transform(1,0,0,z,0,0),i.ctx.translate(-U,-V),i.ctx.fillRect(O,X*(F-V)+V,_,E*X),i.ctx.restore()):i.ctx.fill())),Q.label=6;case 6:return s--,[2]}})},i=this,o=0,c=e.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return o<c.length?(l=c[o],[5,a(l)]):[3,4];case 2:d.sent(),d.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(e,s,a){return Ks(this,void 0,void 0,function(){return Ps(this,function(i){return this.path(c_(a,s)),this.ctx.fillStyle=As(e),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(e,s,a,i){return Ks(this,void 0,void 0,function(){var o,c;return Ps(this,function(l){switch(l.label){case 0:return s<3?[4,this.renderSolidBorder(e,a,i)]:[3,2];case 1:return l.sent(),[2];case 2:return o=k_e(i,a),this.path(o),this.ctx.fillStyle=As(e),this.ctx.fill(),c=__e(i,a),this.path(c),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(e){return Ks(this,void 0,void 0,function(){var s,a,i,o,c,l,d,u,f=this;return Ps(this,function(h){switch(h.label){case 0:return this.applyEffects(e.getEffects(2)),s=e.container.styles,a=!Wl(s.backgroundColor)||s.backgroundImage.length,i=[{style:s.borderTopStyle,color:s.borderTopColor,width:s.borderTopWidth},{style:s.borderRightStyle,color:s.borderRightColor,width:s.borderRightWidth},{style:s.borderBottomStyle,color:s.borderBottomColor,width:s.borderBottomWidth},{style:s.borderLeftStyle,color:s.borderLeftColor,width:s.borderLeftWidth}],o=U_e(cu(s.backgroundClip,0),e.curves),a||s.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Wl(s.backgroundColor)||(this.ctx.fillStyle=As(s.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),s.boxShadow.slice(0).reverse().forEach(function(m){f.ctx.save();var A=X0(e.curves),g=m.inset?0:L_e,p=S_e(A,-g+(m.inset?1:-1)*m.spread.number,(m.inset?1:-1)*m.spread.number,m.spread.number*(m.inset?-2:2),m.spread.number*(m.inset?-2:2));m.inset?(f.path(A),f.ctx.clip(),f.mask(p)):(f.mask(A),f.ctx.clip(),f.path(p)),f.ctx.shadowOffsetX=m.offsetX.number+g,f.ctx.shadowOffsetY=m.offsetY.number,f.ctx.shadowColor=As(m.color),f.ctx.shadowBlur=m.blur.number,f.ctx.fillStyle=m.inset?As(m.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),h.label=2;case 2:c=0,l=0,d=i,h.label=3;case 3:return l<d.length?(u=d[l],u.style!==0&&!Wl(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,c,e.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,c,e.curves,3)];case 6:return h.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,c,e.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,c,e.curves)];case 10:h.sent(),h.label=11;case 11:c++,h.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(e,s,a,i,o){return Ks(this,void 0,void 0,function(){var c,l,d,u,f,h,m,A,g,p,b,x,v,y,S,M,S,M;return Ps(this,function(P){return this.ctx.save(),c=B_e(i,a),l=c_(i,a),o===2&&(this.path(l),this.ctx.clip()),Ga(l[0])?(d=l[0].start.x,u=l[0].start.y):(d=l[0].x,u=l[0].y),Ga(l[1])?(f=l[1].end.x,h=l[1].end.y):(f=l[1].x,h=l[1].y),a===0||a===2?m=Math.abs(d-f):m=Math.abs(u-h),this.ctx.beginPath(),o===3?this.formatPath(c):this.formatPath(l.slice(0,2)),A=s<3?s*3:s*2,g=s<3?s*2:s,o===3&&(A=s,g=s),p=!0,m<=A*2?p=!1:m<=A*2+g?(b=m/(2*A+g),A*=b,g*=b):(x=Math.floor((m+g)/(A+g)),v=(m-x*A)/(x-1),y=(m-(x+1)*A)/x,g=y<=0||Math.abs(g-v)<Math.abs(g-y)?v:y),p&&(o===3?this.ctx.setLineDash([0,A+g]):this.ctx.setLineDash([A,g])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=s):this.ctx.lineWidth=s*2+1.1,this.ctx.strokeStyle=As(e),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Ga(l[0])&&(S=l[3],M=l[0],this.ctx.beginPath(),this.formatPath([new Tt(S.end.x,S.end.y),new Tt(M.start.x,M.start.y)]),this.ctx.stroke()),Ga(l[1])&&(S=l[1],M=l[2],this.ctx.beginPath(),this.formatPath([new Tt(S.end.x,S.end.y),new Tt(M.start.x,M.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(e){return Ks(this,void 0,void 0,function(){var s;return Ps(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=As(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),s=T_e(e),[4,this.renderStack(s)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(K9),R_e=function(n){return n instanceof _9||n instanceof k9?!0:n instanceof xN&&n.type!==G0&&n.type!==K0},U_e=function(n,t){switch(n){case 0:return X0(t);case 2:return y_e(t);case 1:default:return Y0(t)}},H_e=function(n){switch(n){case 1:return"center";case 2:return"right";case 0:default:return"left"}},$_e=["-apple-system","system-ui"],Q_e=function(n){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?n.filter(function(t){return $_e.indexOf(t)===-1}):n},V_e=function(n){Ti(t,n);function t(e,s){var a=n.call(this,e,s)||this;return a.canvas=s.canvas?s.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=s,a.canvas.width=Math.floor(s.width*s.scale),a.canvas.height=Math.floor(s.height*s.scale),a.canvas.style.width=s.width+"px",a.canvas.style.height=s.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-s.x,-s.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+s.width+"x"+s.height+" at "+s.x+","+s.y+") with scale "+s.scale),a}return t.prototype.render=function(e){return Ks(this,void 0,void 0,function(){var s,a;return Ps(this,function(i){switch(i.label){case 0:return s=C2(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,z_e(s)];case 1:return a=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=As(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(K9),z_e=function(n){return new Promise(function(t,e){var s=new Image;s.onload=function(){t(s)},s.onerror=e,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},K_e=function(){function n(t){var e=t.id,s=t.enabled;this.id=e,this.enabled=s,this.start=Date.now()}return n.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,wA([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},n.prototype.getTime=function(){return Date.now()-this.start},n.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,wA([this.id,this.getTime()+"ms"],t))},n.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,wA([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},n.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,wA([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},n.instances={},n}(),G_e=function(){function n(t,e){var s;this.windowBounds=e,this.instanceName="#"+n.instanceCount++,this.logger=new K_e({id:this.instanceName,enabled:t.logging}),this.cache=(s=t.cache)!==null&&s!==void 0?s:new f_e(this,t)}return n.instanceCount=1,n}(),q_e=function(n,t){return t===void 0&&(t={}),W_e(n,t)};typeof window<"u"&&U9.setContext(window);var W_e=function(n,t){return Ks(void 0,void 0,void 0,function(){var e,s,a,i,o,c,l,d,u,f,h,m,A,g,p,b,x,v,y,S,P,M,P,B,D,L,O,F,_,E,T,w,C,j,N,I,R,U,V,z;return Ps(this,function(X){switch(X.label){case 0:if(!n||typeof n!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(e=n.ownerDocument,!e)throw new Error("Element is not attached to a Document");if(s=e.defaultView,!s)throw new Error("Document is not attached to a Window");return a={allowTaint:(B=t.allowTaint)!==null&&B!==void 0?B:!1,imageTimeout:(D=t.imageTimeout)!==null&&D!==void 0?D:15e3,proxy:t.proxy,useCORS:(L=t.useCORS)!==null&&L!==void 0?L:!1},i=c2({logging:(O=t.logging)!==null&&O!==void 0?O:!0,cache:t.cache},a),o={windowWidth:(F=t.windowWidth)!==null&&F!==void 0?F:s.innerWidth,windowHeight:(_=t.windowHeight)!==null&&_!==void 0?_:s.innerHeight,scrollX:(E=t.scrollX)!==null&&E!==void 0?E:s.pageXOffset,scrollY:(T=t.scrollY)!==null&&T!==void 0?T:s.pageYOffset},c=new rl(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),l=new G_e(i,c),d=(w=t.foreignObjectRendering)!==null&&w!==void 0?w:!1,u={allowTaint:(C=t.allowTaint)!==null&&C!==void 0?C:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:d,copyStyles:d},l.logger.debug("Starting document clone with size "+c.width+"x"+c.height+" scrolled to "+-c.left+","+-c.top),f=new i_(l,n,u),h=f.clonedReferenceElement,h?[4,f.toIFrame(e,c)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return m=X.sent(),A=bN(h)||Xke(h)?SSe(h.ownerDocument):Ib(l,h),g=A.width,p=A.height,b=A.left,x=A.top,v=X_e(l,h,t.backgroundColor),y={canvas:t.canvas,backgroundColor:v,scale:(N=(j=t.scale)!==null&&j!==void 0?j:s.devicePixelRatio)!==null&&N!==void 0?N:1,x:((I=t.x)!==null&&I!==void 0?I:0)+b,y:((R=t.y)!==null&&R!==void 0?R:0)+x,width:(U=t.width)!==null&&U!==void 0?U:Math.ceil(g),height:(V=t.height)!==null&&V!==void 0?V:Math.ceil(p)},d?(l.logger.debug("Document cloned, using foreign object rendering"),P=new V_e(l,y),[4,P.render(h)]):[3,3];case 2:return S=X.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+b+","+x+" with size "+g+"x"+p+" using computed rendering"),l.logger.debug("Starting DOM parsing"),M=M9(l,h),v===M.styles.backgroundColor&&(M.styles.backgroundColor=Ko.TRANSPARENT),l.logger.debug("Starting renderer for element at "+y.x+","+y.y+" with size "+y.width+"x"+y.height),P=new F_e(l,y),[4,P.render(M)];case 4:S=X.sent(),X.label=5;case 5:return(!((z=t.removeContainer)!==null&&z!==void 0)||z)&&(i_.destroy(m)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,S]}})})},X_e=function(n,t,e){var s=t.ownerDocument,a=s.documentElement?Qf(n,getComputedStyle(s.documentElement).backgroundColor):Ko.TRANSPARENT,i=s.body?Qf(n,getComputedStyle(s.body).backgroundColor):Ko.TRANSPARENT,o=typeof e=="string"?Qf(n,e):e===null?Ko.TRANSPARENT:4294967295;return t===s.documentElement?Wl(a)?Wl(i)?o:i:a:o};const Y_e=({children:n,magnifierSize:t=300,zoomLevel:e=2,sourceSize:s=150})=>{var p,b;const[a,i]=k.useState(!1),[o,c]=k.useState({x:0,y:0}),[l,d]=k.useState("0px 0px"),u=k.useRef(null),f=k.useRef(null),h=k.useRef(null);k.useEffect(()=>{if(a&&u.current&&f.current){const x=document.createElement("canvas");h.current=x;const v=x.getContext("2d");if(!v)return;const y=u.current.getBoundingClientRect(),S=window.devicePixelRatio||1;x.width=y.width*S,x.height=y.height*S,x.style.width=`${y.width}px`,x.style.height=`${y.height}px`,v.scale(S,S),q_e(u.current,{canvas:x,width:y.width,height:y.height,scale:S,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",logging:!1}).then(M=>{if(f.current){const P=M.toDataURL("image/png",1);f.current.style.backgroundImage=`url(${P})`}}).catch(M=>{console.error("Error capturing content with html2canvas:",M)})}return()=>{h.current&&(h.current=null)}},[a]);const m=x=>{if(!u.current||!f.current)return;const v=u.current.getBoundingClientRect(),y=x.clientX-v.left,S=x.clientY-v.top;let M=y+20,P=S-t-20;const B=window.innerWidth,D=x.clientX+20,L=x.clientY-t-20;D+t>B&&(M=y-t-20),L<0&&(P=S+20),c({x:M,y:P});const O=-((y-s/2)*e),F=-((S-s/2)*e);d(`${O}px ${F}px`)},A=()=>{i(!0)},g=()=>{i(!1)};return r.jsxs("div",{ref:u,className:"magnifier-container",style:{position:"relative",display:"inline-block"},onMouseMove:m,onMouseEnter:A,onMouseLeave:g,children:[n,a&&r.jsx("div",{ref:f,className:"magnifier-glass",style:{position:"absolute",width:`${t}px`,height:`${t}px`,border:"3px solid #000",backgroundColor:"#fff",boxShadow:"0 0 10px rgba(0,0,0,0.5)",pointerEvents:"none",zIndex:1e3,left:`${o.x}px`,top:`${o.y}px`,backgroundSize:`${((p=u.current)==null?void 0:p.offsetWidth)*e}px ${((b=u.current)==null?void 0:b.offsetHeight)*e}px`,backgroundPosition:l,backgroundRepeat:"no-repeat"}})]})},G9=n=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},q9=n=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(n),J_e=(n,t,e)=>{if(!n||!t)return;const s=n.getContext("2d");if(!s)return;const a={B:{" ":0,"!":1,'"':2,"#":3,$:4,"%":5,"&":6,"'":7,"(":8,")":9,"*":10,"+":11,",":12,"-":13,".":14,"/":15,0:16,1:17,2:18,3:19,4:20,5:21,6:22,7:23,8:24,9:25,":":26,";":27,"<":28,"=":29,">":30,"?":31,"@":32,A:33,B:34,C:35,D:36,E:37,F:38,G:39,H:40,I:41,J:42,K:43,L:44,M:45,N:46,O:47,P:48,Q:49,R:50,S:51,T:52,U:53,V:54,W:55,X:56,Y:57,Z:58,"[":59,"\\":60,"]":61,"^":62,_:63,"`":64,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,"{":91,"|":92,"}":93,"~":94,FNC3:95,FNC2:96,SHIFT:97,CODEC:98,F_latitude:99,FNC1:100,STARTB:104,STOP:106},PATTERNS:["11011001100","11001101100","11001100110","10010011000","10010001100","10001001100","10011001000","10011000100","10001100100","11001001000","11001000100","11000100100","10110011100","10011011100","10011001110","10111001100","10011101100","10011100110","11001110010","11001011100","11001001110","11011100100","11001110100","11101101110","11101001100","11100101100","11100100110","11101100100","11100110100","11100110010","11011011000","11011000110","11000110110","10100011000","10001011000","10001001110","10110001000","10001101000","10001100110","11010001000","11000101000","11000100110","10110111000","10110001110","10001101110","10111011000","10111000110","10001110110","11101110110","11010001110","11000101110","11011101000","11011100110","11011100010","11011011100","11011001110","11011000110","11000110110","11100010110","11100010011","11101011000","11101000110","11100101110","11101101000","11101100110","11101100010","11100111100","11100110011","11101111000","11000010100","10000101100","10000100110","10110010000","10110000100","10011010000","10011000010","10000110100","10000110010","11000010010","10001001010","10111010000","10111000010","10001010100","10001010010","11110111010","11000001110","11110001010","10100111000","10100001100","10010111000","10010001110","10000101110","10000100111","10111100100","10111100010","10110011110","10011110110","10011110011","11110100100","11110100010","11110010100","11110010010","11011010110","11010110110","11010110011","11010010111","11010010011","11010000111"]},i=t.replace(/[^A-Za-z0-9_]/g,"").slice(0,20);i!==t&&console.warn(`Barcode text sanitized from "${t}" to "${i}" due to invalid characters.`);let o=104,c=o;const l=["STARTB"];for(let h=0;h<i.length;h++){const m=i[h],A=a.B[m]??0;l.push(m),o+=A*(h+1),c=o%103}l.push(Object.keys(a.B)[c%94]),l.push("STOP");let d="";for(const h of l){const m=a.B[h];d+=a.PATTERNS[m]}n.width=e.width,n.height=e.height,s.fillStyle="#ffffff",s.fillRect(0,0,n.width,n.height);const u=d.length,f=n.width/u;s.imageSmoothingEnabled=!1,s.fillStyle="#000000";for(let h=0;h<d.length;h++)d[h]==="1"&&s.fillRect(h*f,0,Math.ceil(f),n.height)},Z_e=n=>{const[t,e,s]=n.maSanPham.split("_"),a=G9(e),i=a?`RGB(${a.r},${a.g},${a.b})`:"N/A";return`
    <div class="preview-card-small" data-product-id="${n.maSanPham}" style="
      width: 105mm;
      height: 148mm;
      background: white;
      border: 1px solid #000;
      padding: 5mm;
      display: flex;
      flex-direction: column;
      align-items: center;
      font-family: Arial, sans-serif;
      font-size: 10px;
      color: #000;
      margin: 0 5mm;
    ">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2mm; border-bottom: 1px solid #000; padding-bottom: 2mm; width: 100%;">
        <div style="font-weight: bold; font-size: 12px; text-align: left; white-space: pre-line;">
          Cửa Hàng Thời Trang
FashionHub
        </div>
        <img src="../../../src/logoStatic.png" alt="FashionHub" style="height: 20mm; max-width: 60mm;" />
      </div>
      <div style="text-align: center; margin-bottom: 2mm; width: 100%; margin-top: 10mm">
        <div style="font-weight: bold; font-size: 25px;">${n.tenSanPham||"N/A"}</div>
      </div>
      <div style="text-align: center; margin-bottom: 2mm; width: 100%;">
        <canvas id="barcode-canvas-small-${n.maSanPham}" style="height: 8mm; width: 50mm; border: 1px solid #000; margin: 0 auto; display: block;"></canvas>
        <div style="font-size: 8px; margin-top: 1mm;">${n.maSanPham}</div>
      </div>
      <div style="text-align: center; margin-bottom: 2mm; width: 100%;">
        <div style="font-weight: bold; font-size: 9px;">SIZE</div>
        <div style="font-size: 10px;">${(s==null?void 0:s.trim())||"N/A"}</div>
      </div>
      <div style="text-align: center; margin-bottom: 2mm; width: 100%;">
        <div style="font-weight: bold; font-size: 9px;">MÀU</div>
        <div style="font-size: 8px;">${i}</div>
      </div>
      <div style="text-align: center; margin-bottom: 2mm; width: 100%;">
        <div style="font-weight: bold; font-size: 9px;">GIÁ</div>
        <div style="font-size: 10px; font-weight: bold;">${q9(n.gia||0)}</div>
      </div>
      <div style="text-align: center; margin-bottom: 2mm; width: 100%;">
        <div style="font-weight: bold; font-size: 9px;">CHẤT LIỆU</div>
        <div style="font-size: 10px;">${n.chatLieu||"N/A"}</div>
      </div>
      <div style="text-align: center; margin-bottom: 2mm; width: 100%;">
        <div style="font-weight: bold; font-size: 9px;">THƯƠNG HIỆU</div>
        <div style="font-size: 10px;">${n.thuongHieu||"N/A"}</div>
      </div>
      <div style="text-align: center; margin-bottom: 2mm; width: 100%;">
        <div style="font-weight: bold; font-size: 9px;">LOẠI SẢN PHẨM</div>
        <div style="font-size: 10px;">${n.loaiSanPham||"N/A"}</div>
      </div>
      <div style="text-align: center; margin-bottom: 2mm; padding: 1mm; width: 80%;">
        <img
          src="https://api.qrserver.com/v1/create-qr-code/?data=${encodeURIComponent(`https://fashionhub.name.vn/products/${n.maSanPham}`)}&size=120x120"
          alt="QR Code"
          style="width: 30mm; height: 30mm; border: 1px solid #000; margin: 0 auto; display: block;"
        />
      </div>
    </div>
  `},W9=async n=>{if(n.size===0){Ce.fire({title:"Thông báo",text:"Vui lòng chọn ít nhất một sản phẩm để in.",icon:"warning"});return}try{const t=[];for(const i of n){const o=await fetch(`https://bicacuatho.azurewebsites.net/api/SanPham/SanPhamByID?id=${i}`);if(!o.ok)throw new Error(`Không thể lấy dữ liệu cho sản phẩm ${i}`);const c=await o.json();t.push(...c)}if(t.length===0){Ce.fire({title:"Lỗi",text:"Không thể lấy dữ liệu sản phẩm từ API.",icon:"error"});return}const s=`
      <!DOCTYPE html>
      <html lang="vi">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>In danh sách sản phẩm</title>
        <style>
          body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
          }
          .container {
            width: 100%;
            margin: 0;
          }
          .no-print {
            text-align: center;
            margin-top: 20px;
          }
          @media print {
            .no-print { display: none; }
            body { margin: 0; }
            .card { page-break-inside: avoid; }
          }
        </style>
      </head>
      <body>
        <div class="container">
          ${t.map(i=>{const[o,c,l]=i.maSanPham.split("_"),d=G9(c),u=d?`RGB(${d.r},${d.g},${d.b})`:"N/A";return`
        <div class="card" style="
          width: 210mm;
          height: 297mm;
          background: white;
          border: 2px solid #000;
          padding: 8mm;
          display: flex;
          flex-direction: column;
          align-items: center;
          font-family: Arial, sans-serif;
          font-size: 14px;
          color: #000;
          page-break-inside: avoid;
        ">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5mm; border-bottom: 1px solid #000; padding-bottom: 5mm; width: 100%;">
            <div style="font-weight: bold; font-size: 16px; text-align: left; white-space: pre-line;">
              Cửa Hàng Thời Trang
FashionHub
            </div>
            <img src="../../../src/logoStatic.png" alt="FashionHub" style="height: 25mm; max-width: 80mm;" />
          </div>
          <div style="text-align: center; margin-bottom: 5mm; width: 100%; margin-top: 10mm;">
            <div style="font-weight: bold; font-size: 28px;">${i.tenSanPham||"N/A"}</div>
          </div>
          <div style="text-align: center; margin-bottom: 5mm; width: 100%;">
            <canvas id="barcode-canvas-${i.maSanPham}" style="height: 15mm; width: 100mm; border: 1px solid #000; margin: 0 auto; display: block;"></canvas>
            <div style="font-size: 12px; margin-top: 2mm; font-weight: bold;">${i.maSanPham}</div>
          </div>
          <div style="text-align: center; margin-bottom: 5mm; width: 100%;">
            <div style="font-weight: bold; font-size: 16px;">SIZE</div>
            <div style="font-size: 20px; font-weight: bold;">${(l==null?void 0:l.trim())||"N/A"}</div>
          </div>
          <div style="text-align: center; margin-bottom: 5mm; width: 100%;">
            <div style="font-weight: bold; font-size: 16px;">MÀU</div>
            <div style="font-size: 14px;">${u}</div>
          </div>
          <div style="text-align: center; margin-bottom: 5mm; width: 100%;">
            <div style="font-weight: bold; font-size: 16px;">GIÁ</div>
            <div style="font-size: 22px; font-weight: bold;">${q9(i.gia||0)}</div>
          </div>
          <div style="text-align: center; margin-bottom: 5mm; width: 100%;">
            <div style="font-weight: bold; font-size: 16px;">CHẤT LIỆU</div>
            <div style="font-size: 14px;">${i.chatLieu||"N/A"}</div>
          </div>
          <div style="text-align: center; margin-bottom: 5mm; width: 100%;">
            <div style="font-weight: bold; font-size: 16px;">THƯƠNG HIỆU</div>
            <div style="font-size: 14px;">${i.thuongHieu||"N/A"}</div>
          </div>
          <div style="text-align: center; margin-bottom: 5mm; width: 100%;">
            <div style="font-weight: bold; font-size: 16px;">LOẠI SẢN PHẨM</div>
            <div style="font-size: 14px;">${i.loaiSanPham||"N/A"}</div>
          </div>
          <div style="text-align: center; margin-bottom: 5mm; padding: 3mm; width: 70%;">
            <img
              src="https://api.qrserver.com/v1/create-qr-code/?data=${encodeURIComponent(`https://fashionhub.name.vn/products/${i.maSanPham}`)}&size=200x200"
              alt="QR Code"
              style="width: 60mm; height: 60mm; border: 1px solid #000; margin: 0 auto; display: block;"
            />
          </div>
          <div style="text-align: center; font-size: 12px; margin-top: auto; border-top: 1px solid #000; padding-top: 4mm; width: 100%;">
            Ngày in: ${new Date().toLocaleDateString("vi-VN")}
          </div>
        </div>
      `}).join("")}
          <div class="no-print">
            <button onclick="window.print()" style="background-color: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-size: 14px;">
              In trang
            </button>
            <button onclick="window.close()" style="background-color: #6c757d; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-size: 14px; margin-left: 10px;">
              Đóng
            </button>
          </div>
        </div>
        <script>
          // Function to generate CODE128 barcode
          function generateCode128Barcode(canvas, text, options) {
            const CODE128 = {
              B: {
                ' ': 0, '!': 1, '"': 2, '#': 3, '$': 4, '%': 5, '&': 6, "'": 7, '(': 8, ')': 9,
                '*': 10, '+': 11, ',': 12, '-': 13, '.': 14, '/': 15, '0': 16, '1': 17, '2': 18, '3': 19,
                '4': 20, '5': 21, '6': 22, '7': 23, '8': 24, '9': 25, ':': 26, ';': 27, '<': 28, '=': 29,
                '>': 30, '?': 31, '@': 32, 'A': 33, 'B': 34, 'C': 35, 'D': 36, 'E': 37, 'F': 38, 'G': 39,
                'H': 40, 'I': 41, 'J': 42, 'K': 43, 'L': 44, 'M': 45, 'N': 46, 'O': 47, 'P': 48, 'Q': 49,
                'R': 50, 'S': 51, 'T': 52, 'U': 53, 'V': 54, 'W': 55, 'X': 56, 'Y': 57, 'Z': 58, '[': 59,
                '\\\\': 60, ']': 61, '^': 62, '_': 63, '\`': 64, 'a': 65, 'b': 66, 'c': 67, 'd': 68, 'e': 69,
                'f': 70, 'g': 71, 'h': 72, 'i': 73, 'j': 74, 'k': 75, 'l': 76, 'm': 77, 'n': 78, 'o': 79,
                'p': 80, 'q': 81, 'r': 82, 's': 83, 't': 84, 'u': 85, 'v': 86, 'w': 87, 'x': 88, 'y': 89,
                'z': 90, '{': 91, '|': 92, '}': 93, '~': 94, 'FNC3': 95, 'FNC2': 96, 'SHIFT': 97, 'CODEC': 98,
                'FNC4': 99, 'FNC1': 100, 'STARTB': 104, 'STOP': 106,
              },
              PATTERNS: [
                '11011001100', '11001101100', '11001100110', '10010011000', '10010001100', '10001001100',
                '10011001000', '10011000100', '10001100100', '11001001000', '11001000100', '11000100100',
                '10110011100', '10011011100', '10011001110', '10111001100', '10011101100', '10011100110',
                '11001110010', '11001011100', '11001001110', '11011100100', '11001110100', '11101101110',
                '11101001100', '11100101100', '11100100110', '11101100100', '11100110100', '11100110010',
                '11011011000', '11011000110', '11000110110', '10100011000', '10001011000', '10001001110',
                '10110001000', '10001101000', '10001100110', '11010001000', '11000101000', '11000100110',
                '10110111000', '10110001110', '10001101110', '10111011000', '10111000110', '10001110110',
                '11101110110', '11010001110', '11000101110', '11011101000', '11011100110', '11011100010',
                '11011011100', '11011001110', '11011000110', '11000110110', '11100010110', '11100010011',
                '11101011000', '11101000110', '11100101110', '11101101000', '11101100110', '11101100010',
                '11100111100', '11100110011', '11101111000', '11000010100', '10000101100', '10000100110',
                '10110010000', '10110000100', '10011010000', '10011000010', '10000110100', '10000110010',
                '11000010010', '10001001010', '10111010000', '10111000010', '10001010100', '10001010010',
                '11110111010', '11000001110', '11110001010', '10100111000', '10100001100', '10010111000',
                '10010001110', '10000101110', '10000100111', '10111100100', '10111100010', '10110011110',
                '10011110110', '10011110011', '11110100100', '11110100010', '11110010100', '11110010010',
                '11011010110', '11010110110', '11010110011', '11010010111', '11010010011', '11010000111',
              ],
            };

            const sanitizedText = text.replace(/[^A-Za-z0-9_]/g, '').slice(0, 20);
            if (sanitizedText !== text) {
              console.warn("Barcode text sanitized from" +text +"to" +sanitizedText+  "due to invalid charascters.");
            }

            let sum = 104;
            let checksum = sum;
            const chars = ['STARTB'];

            for (let i = 0; i < sanitizedText.length; i++) {
              const char = sanitizedText[i];
              const value = CODE128.B[char] ?? 0;
              chars.push(char);
              sum += value * (i + 1);
              checksum = sum % 103;
            }

            chars.push(Object.keys(CODE128.B)[checksum % 94]);
            chars.push('STOP');

            let pattern = '';
            for (const char of chars) {
              const value = CODE128.B[char];
              pattern += CODE128.PATTERNS[value];
            }

            canvas.width = options.width;
            canvas.height = options.height;
            const ctx = canvas.getContext('2d');
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            const barCount = pattern.length;
            const barWidth = canvas.width / barCount;

            ctx.imageSmoothingEnabled = false;
            ctx.fillStyle = '#000000';
            for (let i = 0; i < pattern.length; i++) {
              if (pattern[i] === '1') {
                ctx.fillRect(i * barWidth, 0, Math.ceil(barWidth), canvas.height);
              }
            }
          }

          // Generate barcodes for all products
          ${t.map(i=>`
            const canvas_${i.maSanPham} = document.getElementById('barcode-canvas-${i.maSanPham}');
            if (canvas_${i.maSanPham}) {
              generateCode128Barcode(canvas_${i.maSanPham}, '${i.maSanPham}', { width: 250, height: 40 });
            }
          `).join(`
`)}
        <\/script>
      </body>
      </html>
    `,a=window.open("","_blank");a.document.write(s),a.document.close(),Ce.fire({title:"Thành công!",text:"Đã mở trang in sản phẩm thành công!",icon:"success",timer:3e3,timerProgressBar:!0,showConfirmButton:!1})}catch(t){Ce.fire({title:"Lỗi",text:`Không thể tạo trang in: ${t.message}`,icon:"error"})}},e6e=async n=>{if(n.size===0){Ce.fire({title:"Thông báo",text:"Vui lòng chọn ít nhất một sản phẩm để xem preview.",icon:"warning"});return}try{const t=[];for(const a of n)try{const i=await fetch(`https://bicacuatho.azurewebsites.net/api/SanPham/SanPhamByID?id=${a}`);if(!i.ok)throw new Error(`Không thể lấy dữ liệu cho sản phẩm ${a}`);const o=await i.json();t.push(...o)}catch(i){console.error(`Lỗi khi fetch sản phẩm ${a}:`,i)}if(t.length===0){Ce.fire({title:"Lỗi",text:"Không thể lấy dữ liệu sản phẩm từ API.",icon:"error"});return}const e=document.createElement("div");document.body.appendChild(e),await(async()=>{ro.render(r.jsx("div",{style:{maxWidth:"90vw",overflowX:"auto",padding:"0"},children:r.jsx("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start"},children:t.map(a=>r.jsx(Y_e,{magnifierSize:300,zoomLevel:2,sourceSize:150,children:r.jsx("div",{dangerouslySetInnerHTML:{__html:Z_e(a)}})},a.maSanPham))})}),e),t.forEach(a=>{const i=document.getElementById(`barcode-canvas-small-${a.maSanPham}`);i&&J_e(i,a.maSanPham,{width:150,height:25})})})(),Ce.fire({title:`Preview ${t.length} thẻ sản phẩm`,html:e,width:"90%",showCancelButton:!0,confirmButtonText:"In PDF",cancelButtonText:"Đóng",confirmButtonColor:"#000000",didClose:()=>{ro.unmountComponentAtNode(e),document.body.removeChild(e)}}).then(a=>{a.isConfirmed&&W9(n)})}catch(t){console.error("Lỗi khi preview:",t),Ce.fire({title:"Lỗi",text:`Không thể xem preview: ${t.message}`,icon:"error"})}},t6e=({isOpen:n,onClose:t,selectedProductIds:e})=>{const[s,a]=k.useState(""),[i,o]=k.useState(""),c=(d,u,f)=>{const h=d.map((v,y)=>{const[S,M,P]=v.id.split("_"),B=v.slNhap*v.giaNhap,D=v.slXuat*v.giaXuat,L=v.tonCuoi*v.giaTonCuoi;return`
        <tr>
          <td>${y+1}</td>
          <td>${S||"N/A"}</td>
          <td>${v.tenSanPham||"Không có tên"}</td>
          <td>${v.thuongHieu||"N/A"}</td>
          <td>${v.chatLieu||"N/A"}</td>
          <td>${v.loaiSanPham||"N/A"}</td>
          <td>${M||"N/A"}</td>
          <td>${P||"N/A"}</td>
          <td>${v.dvt||"N/A"}</td>
          <td style="text-align: right;">${v.slNhap.toLocaleString("vi-VN")}</td>
          <td style="text-align: right;">${B.toLocaleString("vi-VN")}</td>
          <td style="text-align: right;">${v.slXuat.toLocaleString("vi-VN")}</td>
          <td style="text-align: right;">${D.toLocaleString("vi-VN")}</td>
          <td style="text-align: right;">${v.tonCuoi.toLocaleString("vi-VN")}</td>
          <td style="text-align: right;">${L.toLocaleString("vi-VN")}</td>
        </tr>
      `}).join(""),m=d.reduce((v,y)=>v+y.slNhap,0),A=d.reduce((v,y)=>v+y.slNhap*y.giaNhap,0),g=d.reduce((v,y)=>v+y.slXuat,0),p=d.reduce((v,y)=>v+y.slXuat*y.giaXuat,0),b=d.reduce((v,y)=>v+y.tonCuoi,0),x=d.reduce((v,y)=>v+y.tonCuoi*y.giaTonCuoi,0);return`
      <!DOCTYPE html>
      <html lang="vi">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Báo cáo vật tư</title>
        <style>
          body {
            font-family: 'Times New Roman', serif;
            margin: 20px;
            font-size: 12px;
            line-height: 1.2;
          }
          .header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
          }
          .header-left {
            text-align: left;
          }
          .header-right {
            text-align: right;
          }
          .title {
            text-align: center;
            font-size: 16px;
            font-weight: bold;
            margin: 20px 0;
          }
          .subtitle {
            text-align: center;
            font-size: 12px;
            margin-bottom: 20px;
          }
          table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
          }
          th, td {
            border: 1px solid #000;
            padding: 4px;
            text-align: center;
          }
          th {
            background-color: #f0f0f0;
            font-weight: bold;
          }
          .total-row {
            font-weight: bold;
            background-color: #f5f5f5;
          }
          .signature {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
          }
          .signature-block {
            text-align: center;
            width: 30%;
          }
          @media print {
            body { margin: 0; }
            .no-print { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="header-left">
            <strong>Cửa Hàng Bán Quần Áo Thời Trang UltraStore</strong><br>
            Buôn Ma Thuật, Đắk Lắk<br>
            www.ultrastore......
          </div>
          <div class="header-right">
            <strong>Mẫu số S11-DN</strong><br>
            (Ban hành theo Thông tư số<br>
            200/2014/TT-BTC ngày 22/12/2014<br>
            của Bộ Tài Chính)
          </div>
        </div>
        <h1 class="title">BẢNG TỔNG HỢP SẢN PHẨM</h1>
        <div class="subtitle">
          Từ ngày ${u} đến ngày ${f}
        </div>
        <table>
          <thead>
            <tr>
              <th rowspan="2" style="width: 5%;">Stt</th>
              <th rowspan="2" style="width: 8%;">Mã vật tư</th>
              <th rowspan="2" style="width: 15%;">Tên vật tư</th>
              <th rowspan="2" style="width: 8%;">Thương hiệu</th>
              <th rowspan="2" style="width: 8%;">Chất liệu</th>
              <th rowspan="2" style="width: 8%;">Loại sản phẩm</th>
              <th rowspan="2" style="width: 8%;">Màu sắc</th>
              <th rowspan="2" style="width: 8%;">Kích thước</th>
              <th rowspan="2" style="width: 5%;">Đvt</th>
              <th colspan="2" style="width: 12%;">Nhập</th>
              <th colspan="2" style="width: 12%;">Xuất</th>
              <th colspan="2" style="width: 12%;">Tồn cuối</th>
            </tr>
            <tr>
              <th>Số lượng</th>
              <th>Giá trị</th>
              <th>Số lượng</th>
              <th>Giá trị</th>
              <th>Số lượng</th>
              <th>Giá trị</th>
            </tr>
          </thead>
          <tbody>
            ${h}
            <tr class="total-row">
              <td colspan="9" style="text-align: center; font-weight: bold;">Tổng cộng</td>
              <td style="text-align: right; font-weight: bold;">${m.toLocaleString("vi-VN")}</td>
              <td style="text-align: right; font-weight: bold;">${A.toLocaleString("vi-VN")}</td>
              <td style="text-align: right; font-weight: bold;">${g.toLocaleString("vi-VN")}</td>
              <td style="text-align: right; font-weight: bold;">${p.toLocaleString("vi-VN")}</td>
              <td style="text-align: right; font-weight: bold;">${b.toLocaleString("vi-VN")}</td>
              <td style="text-align: right; font-weight: bold;">${x.toLocaleString("vi-VN")}</td>
            </tr>
          </tbody>
        </table>
        <div style="text-align: right; margin-top: 20px;">
          Buôn Ma Thuật, Ngày.......tháng.......năm...............
        </div>
        <div class="signature">
          <div class="signature-block">
            <strong>NGƯỜI GHI SỔ</strong><br>
            <em>(Ký, họ tên)</em>
          </div>
          <div class="signature-block">
            <strong hidden>NGƯỜI KIỂM KÊ</strong><br>
            <em hidden>(Ký, họ tên)</em>
          </div>
          <div class="signature-block">
            <strong>CHỦ CỬA HÀNG</strong><br>
            <em>(Ký, họ tên, đóng dấu)</em>
          </div>
        </div>
        <div class="no-print" style="text-align: center; margin-top: 30px;">
          <button onclick="window.print()" style="background-color: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-size: 14px;">
            In báo cáo
          </button>
          <button onclick="window.close()" style="background-color: #6c757d; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-size: 14px; margin-left: 10px;">
            Đóng
          </button>
        </div>
      </body>
      </html>
    `},l=async()=>{if(!s||!i){Ce.fire({title:"Lỗi",text:"Vui lòng chọn cả ngày bắt đầu và ngày kết thúc",icon:"error"});return}if(e.size===0){Ce.fire({title:"Thông báo",text:"Vui lòng chọn ít nhất một sản phẩm để xuất báo cáo.",icon:"warning"});return}try{const d=await fetch("https://bicacuatho.azurewebsites.net/api/SanPham/ReportByDate",{method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")?`Bearer ${localStorage.getItem("token")}`:void 0},body:JSON.stringify({batDau:s,ketThuc:i,id:Array.from(e)})});if(d.ok){const u=await d.json(),f=c(u,s,i),h=window.open("","_blank");if(h)h.document.write(f),h.document.close();else throw new Error("Không thể mở tab mới. Vui lòng kiểm tra trình duyệt của bạn.");Ce.fire({title:"Thành công!",text:"Báo cáo vật tư đã được mở trong tab mới!",icon:"success",timer:3e3,timerProgressBar:!0,showConfirmButton:!1}),t()}else throw new Error("Lỗi khi tạo báo cáo từ server")}catch(d){Ce.fire({title:"Lỗi",text:`Không thể tạo báo cáo: ${d.message}`,icon:"error"})}};return r.jsx(Yt,{open:n,onOpenChange:t,children:r.jsxs(Kt,{children:[r.jsx(rn,{children:r.jsx(Zt,{children:"Chọn khoảng thời gian báo cáo"})}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"startDate",children:"Ngày bắt đầu"}),r.jsx(je,{id:"startDate",type:"date",value:s,onChange:d=>a(d.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"endDate",children:"Ngày kết thúc"}),r.jsx(je,{id:"endDate",type:"date",value:i,onChange:d=>o(d.target.value)})]})]}),r.jsxs(Ln,{children:[r.jsx(fe,{variant:"outline",onClick:t,children:"Hủy"}),r.jsx(fe,{onClick:l,children:"Tạo báo cáo"})]})]})})},u_=()=>{const[n,t]=k.useState([]),[e,s]=k.useState(!0),[a,i]=k.useState("grid"),[o,c]=k.useState(""),[l,d]=k.useState(!1),[u,f]=k.useState(!1),[h,m]=k.useState(!1),[A,g]=k.useState(!1),[p,b]=k.useState(null),[x,v]=k.useState(null),[y,S]=k.useState(null),[M,P]=k.useState(""),[B,D]=k.useState(1),[L,O]=k.useState(new Set),[F,_]=k.useState(!1),E=12,T=async()=>{try{const K=localStorage.getItem("token"),ne=await fetch("https://bicacuatho.azurewebsites.net/api/SanPham/ListSanPham",{method:"GET",headers:{"Content-Type":"application/json",Authorization:K?`Bearer ${K}`:void 0}});if(ne.ok){const ce=await ne.json();t(ce||[])}else console.error("Lỗi khi lấy danh sách sản phẩm:",ne.status),t([])}catch(K){console.error("Lỗi kết nối API danh sách sản phẩm:",K),t([])}finally{s(!1)}},w=async K=>{try{const ne=localStorage.getItem("token"),ce=await fetch(`https://bicacuatho.azurewebsites.net/api/SanPham/SanPhamByIDSorted?id=${K}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:ne?`Bearer ${ne}`:void 0}});if(ce.ok){const oe=await ce.json();console.log(oe),v(oe||null)}else console.error("Lỗi khi lấy chi tiết sản phẩm:",ce.status),v(null)}catch(ne){console.error("Lỗi kết nối API chi tiết sản phẩm:",ne),v(null)}};k.useEffect(()=>{T()},[]);const j=(()=>{let K=[...n].filter(ne=>{var ce,oe;return(((ce=ne.name)==null?void 0:ce.toLowerCase())||"").includes(o.toLowerCase())||(((oe=ne.loaiSanPham)==null?void 0:oe.toLowerCase())||"").includes(o.toLowerCase())});switch(M){case"price-asc":return K.sort((ne,ce)=>(ne.donGia||0)-(ce.donGia||0));case"price-desc":return K.sort((ne,ce)=>(ce.donGia||0)-(ne.donGia||0));case"name-asc":return K.sort((ne,ce)=>(ne.name||"").localeCompare(ce.name||""));case"name-desc":return K.sort((ne,ce)=>(ce.name||"").localeCompare(ne.name||""));default:return K}})(),N=B*E,I=N-E,R=j.slice(I,N),U=Math.ceil(j.length/E),V=K=>{D(K)},z=K=>{const ne=new Set(L);ne.has(K)?ne.delete(K):ne.add(K),O(ne)},X=()=>{if(L.size===R.length)O(new Set);else{const K=new Set(R.map(ne=>ne.id));O(K)}},Q=()=>{_(!F),O(new Set)},q=async()=>{if(L.size===0){Ce.fire({title:"Thông báo",text:"Vui lòng chọn ít nhất một sản phẩm để xuất Excel.",icon:"warning"});return}try{const K=[];for(const ae of L){const ue=localStorage.getItem("token"),he=await fetch(`https://bicacuatho.azurewebsites.net/api/SanPham/SanPhamByID?id=${ae}`,{headers:{"Content-Type":"application/json",Authorization:ue?`Bearer ${ue}`:void 0}});if(!he.ok)throw new Error(`Không thể lấy dữ liệu cho sản phẩm ${ae}`);const pe=await he.json();K.push(...pe)}const ne=new NSe.Workbook,ce=ne.addWorksheet("Danh sách sản phẩm");ce.columns=[{header:"STT",key:"stt",width:10},{header:"Mã sản phẩm",key:"maSanPham",width:15},{header:"Tên sản phẩm",key:"tenSanPham",width:30},{header:"Loại sản phẩm",key:"loaiSanPham",width:20},{header:"Thương hiệu",key:"thuongHieu",width:20},{header:"Chất liệu",key:"chatLieu",width:15},{header:"Màu sắc",key:"mauSac",width:15},{header:"Kích thước",key:"kichThuoc",width:15},{header:"Đơn giá nhập (VND)",key:"giaNhap",width:20},{header:"Đơn giá bán (VND)",key:"giaBan",width:20},{header:"Số lượng còn lại",key:"soLuongConLai",width:18},{header:"Số lượng đã bán",key:"soLuongDaBan",width:18},{header:"Trạng thái",key:"trangThai",width:15},{header:"Mô tả",key:"moTa",width:50}],K.forEach((ae,ue)=>{const[he,pe,Ae]=ae.maSanPham.split("_"),ie=ae.soLuongDaBan!=null?ae.soLuong-ae.soLuongDaBan:ae.soLuong;ce.addRow({stt:ue+1,maSanPham:he||"N/A",tenSanPham:ae.tenSanPham||"Không có tên",loaiSanPham:ae.thuongHieu,thuongHieu:ae.loaiSanPham,chatLieu:ae.chatLieu||"N/A",mauSac:pe||"N/A",kichThuoc:(Ae==null?void 0:Ae.trim())||"N/A",giaNhap:ae.giaNhap||0,giaBan:ae.gia||0,soLuongConLai:ie,soLuongDaBan:ae.soLuongDaBan||0,trangThai:ae.trangThai===0?"Tạm ngừng bán":"Đang bán",moTa:ae.moTa||"Không có mô tả"})}),ce.getRow(1).eachCell(ae=>{ae.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFE7E6FF"}},ae.font={bold:!0,color:{argb:"FF000000"}},ae.alignment={horizontal:"center",vertical:"middle"},ae.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),ce.eachRow((ae,ue)=>{ue>1&&ae.eachCell(he=>{he.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},he.alignment={horizontal:"left",vertical:"middle"}})});const ee=ce.getColumn("giaNhap"),W=ce.getColumn("giaBan");ee.numFmt="#,##0",W.numFmt="#,##0";const Y=`SanPham_${new Date().toISOString().split("T")[0]}.xlsx`,Z=await ne.xlsx.writeBuffer(),se=new Blob([Z],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),re=window.URL.createObjectURL(se),le=document.createElement("a");le.href=re,le.download=Y,document.body.appendChild(le),le.click(),document.body.removeChild(le),window.URL.revokeObjectURL(re),Ce.fire({title:"Thành công!",text:`Đã xuất ${L.size} sản phẩm ra file Excel thành công!`,icon:"success",timer:3e3,timerProgressBar:!0,showConfirmButton:!1})}catch(K){Ce.fire({title:"Lỗi",text:`Không thể xuất Excel: ${K.message}`,icon:"error"})}},H=K=>{b(K),f(!0),w(K.id)},$=K=>{S(K),m(!0)},G=async K=>{Ce.fire({title:"Bạn có chắc chắn?",text:`Sản phẩm ${K.name} mang mã ${K.id} sẽ chuyển sang trạng thái ngừng bán!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Ngừng Bán",cancelButtonText:"Hủy"}).then(async ne=>{if(ne.isConfirmed)try{const ce=localStorage.getItem("token");(await fetch(`https://bicacuatho.azurewebsites.net/api/SanPham/DeleteSanPham?id=${K.id}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:ce?`Bearer ${ce}`:void 0}})).ok?Ce.fire({title:"Thành công!",text:"Ngừng Bán sản phẩm thành công!",icon:"success",timer:3e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{T()}):Ce.fire({title:"Lỗi!",text:"Có lỗi xảy ra khi ngừng bán sản phẩm.",icon:"error"})}catch{Ce.fire({title:"Lỗi!",text:"Có lỗi hệ thống khi ngừng bán.",icon:"error"})}})},J=async K=>{Ce.fire({title:"Bạn có chắc chắn?",text:`Sản phẩm ${K.name} mang mã ${K.id} sẽ chuyển sang trạng thái đang bán!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Đang bán",cancelButtonText:"Hủy"}).then(async ne=>{if(ne.isConfirmed)try{const ce=localStorage.getItem("token");(await fetch(`https://bicacuatho.azurewebsites.net/api/SanPham/ActiveSanPham?id=${K.id}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:ce?`Bearer ${ce}`:void 0}})).ok?Ce.fire({title:"Thành công!",text:"Mở bán lại sản phẩm thành công!",icon:"success",timer:3e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{T()}):Ce.fire({title:"Lỗi!",text:"Có lỗi xảy ra khi mở bán lại sản phẩm.",icon:"error"})}catch{Ce.fire({title:"Lỗi!",text:"Có lỗi hệ thống khi mở bán lại.",icon:"error"})}})},te=()=>{T()};return e?r.jsx("div",{className:"flex justify-center items-center h-screen",children:"Đang tải sản phẩm..."}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 w-full",children:[r.jsx("div",{children:r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Sản phẩm"})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(fe,{variant:F?"secondary":"outline",onClick:Q,className:"flex items-center gap-2",children:[F?r.jsx(PN,{className:"h-4 w-4"}):r.jsx(A$,{className:"h-4 w-4"}),F?"Thoát chế độ chọn":"Chọn sản phẩm"]}),F&&r.jsx(r.Fragment,{children:r.jsxs(Ar,{children:[r.jsx(gr,{asChild:!0,children:r.jsxs(fe,{variant:"outline",className:"flex items-center gap-2 bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-300",disabled:L.size===0,children:[r.jsx(Wv,{className:"h-4 w-4"}),"Tùy Chọn (",L.size,")"]})}),r.jsxs(hr,{children:[r.jsxs(ct,{onClick:()=>g(!0),children:[r.jsx(Wv,{className:"mr-2 h-4 w-4"}),"Báo cáo vật tư"]}),r.jsxs(ct,{onClick:q,disabled:L.size===0,children:[r.jsx(hfe,{className:"mr-2 h-4 w-4"}),"Xuất Excel"]}),r.jsxs(ct,{onClick:()=>e6e(L),children:[r.jsx(Ra,{className:"mr-2 h-4 w-4"}),"Xem trước File PDF"]}),r.jsxs(ct,{onClick:()=>W9(L),children:[r.jsx(Wv,{className:"mr-2 h-4 w-4"}),"In Thành PDF"]})]})]})}),r.jsxs(fe,{className:"bg-purple-400 hover:bg-purple-500 text-white",onClick:()=>{console.log("Nút Thêm Sản Phẩm Mới được nhấn"),d(!0)},children:[r.jsx(cr,{className:"h-4 w-4 mr-2"}),"Thêm Sản Phẩm Mới"]})]})]}),r.jsxs(at,{children:[r.jsx(yt,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Ct,{children:"Tất cả sản phẩm"}),F&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fe,{variant:"outline",size:"sm",onClick:X,className:"flex items-center gap-2",children:L.size===R.length?r.jsxs(r.Fragment,{children:[r.jsx(w0,{className:"h-3 w-3"})," Bỏ chọn tất cả"]}):r.jsxs(r.Fragment,{children:[r.jsx(PN,{className:"h-3 w-3"})," Chọn tất cả"]})}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["Đã chọn: ",L.size," sản phẩm"]})]})]})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6 justify-between items-start sm:items-center",children:[r.jsxs("div",{className:"relative w-full sm:w-auto",children:[r.jsx(Rn,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{type:"search",placeholder:"Gõ tên sản phẩm cần tìm",className:"pl-8 w-full sm:w-[300px]",value:o,onChange:K=>c(K.target.value)})]}),r.jsxs("div",{className:"flex gap-2 self-end",children:[r.jsxs(Ar,{children:[r.jsx(gr,{asChild:!0,children:r.jsxs(fe,{variant:"outline",size:"sm",className:"h-9",children:[r.jsx(sd,{className:"h-4 w-4 mr-2"}),M===""?"Sắp xếp":M==="price-asc"?"Giá thấp - cao":M==="price-desc"?"Giá cao - thấp":M==="name-asc"?"A - Z":"Z - A"]})}),r.jsxs(hr,{children:[r.jsx(ct,{onClick:()=>P(""),children:"Mặc định"}),r.jsx(ct,{onClick:()=>P("price-asc"),children:"Giá: Thấp đến Cao"}),r.jsx(ct,{onClick:()=>P("price-desc"),children:"Giá: Cao đến Thấp"}),r.jsx(ct,{onClick:()=>P("name-asc"),children:"Tên: A - Z"}),r.jsx(ct,{onClick:()=>P("name-desc"),children:"Tên: Z - A"})]})]}),r.jsxs("div",{className:"flex border rounded-md",children:[r.jsx(fe,{variant:a==="grid"?"secondary":"ghost",size:"sm",className:"h-9 rounded-r-none",onClick:()=>i("grid"),children:r.jsx(U2,{className:"h-4 w-4"})}),r.jsx(fe,{variant:a==="list"?"secondary":"ghost",size:"sm",className:"h-9 rounded-l-none",onClick:()=>i("list"),children:r.jsx(Um,{className:"h-4 w-4"})})]})]})]}),a==="grid"?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",style:{gridAutoRows:"1fr"},children:R.map(K=>r.jsxs(at,{className:"hover-scale overflow-hidden group relative flex flex-col h-full",children:[F&&r.jsx("div",{className:"absolute top-2 left-2 z-10",children:r.jsx(Ns,{checked:L.has(K.id),onCheckedChange:()=>z(K.id),className:"bg-white border-2 border-gray-300 data-[state=checked]:bg-purple-500 data-[state=checked]:border-purple-500"})}),r.jsx("div",{className:"bg-purple-light flex items-center justify-center flex-1",children:r.jsx("img",{src:K.hinh&&K.hinh[0]?`data:image/jpeg;base64,${K.hinh[0]}`:"/placeholder-image.jpg",alt:K.name,className:"w-full h-full object-contain"})}),r.jsxs(dt,{className:"p-4 flex-shrink-0",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("div",{className:"flex-1 pr-2",children:r.jsx("h3",{className:"font-semibold text-2xl leading-tight line-clamp-2",children:K.name||"Không có tên"})}),!F&&r.jsxs(Ar,{children:[r.jsx(gr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",children:r.jsx(Fs,{className:"h-3 w-3"})})}),r.jsxs(hr,{align:"end",children:[r.jsxs(ct,{onClick:()=>H(K),children:[r.jsx(Da,{className:"mr-2 h-4 w-4 text-blue-500"})," Chỉnh sửa"]}),r.jsxs(ct,{onClick:()=>$(K.id),children:[r.jsx(Ra,{className:"mr-2 h-4 w-4 text-green-500"})," Chi tiết"]}),K.trangThai===0?r.jsxs(ct,{onClick:()=>J(K),className:"text-green-600",children:[r.jsx(XO,{className:"mr-2 h-4 w-4 text-green-500"})," Mở bán"]}):r.jsxs(ct,{onClick:()=>G(K),className:"text-red-600",children:[r.jsx(Ja,{className:"mr-2 h-4 w-4 text-red-500"})," Ngừng Bán"]})]})]})]}),r.jsx("div",{className:"mb-3",children:r.jsxs("p",{className:"text-xs text-muted-foreground line-clamp-1",children:["Thương hiệu: ",K.thuongHieu||"Không xác định"]})}),r.jsxs("div",{className:"mb-3",style:{height:"50px"},children:[r.jsxs("div",{className:"flex flex-wrap gap-1 mb-1",children:[r.jsxs(Vt,{className:"bg-blue-500 text-white hover:bg-blue-600 text-xs py-0 px-1",children:[r.jsx(Ir,{className:"h-2 w-2 mr-1"})," ",K.loaiSanPham||"N/A"]}),r.jsxs(Vt,{className:"bg-green-500 text-white hover:bg-green-600 text-xs py-0 px-1",children:[r.jsx(Ir,{className:"h-2 w-2 mr-1"})," ",K.chatLieu||"N/A"]}),r.jsx(Vt,{className:`${K.trangThai===0?"bg-red-500 text-white":"bg-teal-500 text-white"} text-xs py-0 px-1`,children:K.trangThai===0?"Tạm Ngừng":"Đang Bán"})]}),r.jsx("div",{className:"flex flex-wrap gap-1",children:(K.listHashTag||[]).slice(0,3).map(ne=>r.jsxs(Vt,{className:"bg-purple-500 text-white hover:bg-purple-600 text-xs py-0 px-1",children:[r.jsx(Ir,{className:"h-2 w-2 mr-1"})," #",ne.name]},ne.id))})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"text-2xl font-bold text-red-600",children:[(K.donGia/1e3).toFixed(3)||"0"," VND"]}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:["Số lượng còn: ",K.soLuong||0," sản phẩm"]})]})]})]},K.id))}):r.jsx("div",{className:"border rounded-md divide-y",children:R.map(K=>r.jsxs("div",{className:"p-4 flex items-center gap-4 hover:bg-muted/50",children:[F&&r.jsx(Ns,{checked:L.has(K.id),onCheckedChange:()=>z(K.id),className:"data-[state=checked]:bg-purple-500 data-[state=checked]:border-purple-500"}),r.jsx("div",{className:"h-20 w-20 bg-purple-light rounded-md flex items-center justify-center",children:r.jsx("img",{src:K.hinh&&K.hinh[0]?`data:image/jpeg;base64,${K.hinh[0]}`:"/placeholder-image.jpg",alt:K.name,className:"w-full h-full object-contain rounded-md"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold",children:K.name||"Không có tên"}),r.jsxs("p",{className:"text-2xl text-muted-foreground line-clamp-1",children:["Thương hiệu: ",K.thuongHieu||"Không xác định"]})]}),r.jsxs("div",{className:"flex flex-col gap-2",style:{height:"150px"},children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs(Vt,{className:"bg-blue-500 text-white hover:bg-blue-600",children:[r.jsx(Ir,{className:"h-3 w-3 mr-1"})," ",K.loaiSanPham||"N/A"]}),r.jsxs(Vt,{className:"bg-green-500 text-white hover:bg-green-600",children:[r.jsx(Ir,{className:"h-3 w-3 mr-1"})," ",K.chatLieu||"N/A"]})]}),r.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:(K.listHashTag||[]).slice(0,3).map(ne=>r.jsxs(Vt,{className:"bg-purple-500 text-white hover:bg-purple-600",children:[r.jsx(Ir,{className:"h-3 w-3 mr-1"})," #",ne.name]},ne.id))})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[(K.donGia/1e3).toFixed(3)||"0"," VND"]}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Số lượng: ",K.soLuong||0]})]}),!F&&r.jsxs(Ar,{children:[r.jsx(gr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsx(Fs,{className:"h-4 w-4"})})}),r.jsxs(hr,{align:"end",children:[r.jsx(ct,{onClick:()=>H(K),children:"Chỉnh Sửa"}),r.jsx(ct,{onClick:()=>$(K.id),children:"Chi Tiết"}),K.trangThai===0?r.jsx(ct,{onClick:()=>J(K),className:"text-green-600",children:"Mở Bán"}):r.jsx(ct,{onClick:()=>G(K),className:"text-red-600",children:"Ngừng Bán"})]})]})]},K.id))}),R.length===0&&r.jsx("div",{className:"text-center py-10",children:r.jsx("p",{className:"text-muted-foreground",children:"Không tìm thấy sản phẩm nào"})}),U>1&&r.jsxs("div",{className:"flex justify-center items-center gap-2 mt-6",children:[r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>V(B-1),disabled:B===1,children:"Trước"}),Array.from({length:U},(K,ne)=>ne+1).map(K=>r.jsx(fe,{variant:B===K?"default":"outline",size:"sm",onClick:()=>V(K),children:K},K)),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>V(B+1),disabled:B===U,children:"Sau"})]})]})]}),r.jsx(ySe,{isEditModalOpen:u,setIsEditModalOpen:f,selectedProduct:p,productData:x}),r.jsx(wSe,{isAddModalOpen:l,setIsAddModalOpen:d,onSuccess:te}),r.jsx(jSe,{productId:y,isOpen:h,onClose:()=>m(!1)}),r.jsx(t6e,{isOpen:A,onClose:()=>g(!1),selectedProductIds:L})]})},n6e=({isEditModalOpen:n,setIsEditModalOpen:t,comboId:e})=>{const[s,a]=k.useState(""),[i,o]=k.useState({ID:0,TenCombo:"",MoTa:"",SoLuong:0,Discount:0,HinhAnh:null,SanPham:[]}),[c,l]=k.useState([]),[d,u]=k.useState([]),[f,h]=k.useState(!1),[m,A]=k.useState({}),[g,p]=k.useState(!1),b=k.useRef(null);k.useEffect(()=>{n&&e&&(async()=>{h(!0);try{const _=localStorage.getItem("token"),E=await fetch(`https://bicacuatho.azurewebsites.net/api/Combo/ComboSanPhamViewAdmin?id=${e}`,{method:"GET",headers:{"Content-Type":"application/json"},Authorization:_?`Bearer ${_}`:void 0});if(!E.ok)throw new Error("Failed to fetch combo details");const T=await E.json();if(!T||!T.length||!T[0])throw new Error("No combo data returned from API");const w=T[0],C={ID:w.maCombo||0,TenCombo:w.name||"",MoTa:w.moTa||"",SoLuong:w.soLuong||0,Discount:w.Discount||0,HinhAnh:w.hinhAnh||null,SanPham:w.sanPhams&&Array.isArray(w.sanPhams)?w.sanPhams.map(j=>({MaSanPham:j.idSanPham||"",SoLuong:j.soLuong||1,TenSanPham:j.name||""})):[]};o(C)}catch(_){console.error("Error fetching combo details:",_),o({ID:0,TenCombo:"",MoTa:"",SoLuong:0,Discount:0,HinhAnh:null,SanPham:[]})}finally{h(!1)}})()},[n,e]),k.useEffect(()=>{n&&(async()=>{h(!0);try{const _=localStorage.getItem("token"),E=await fetch("https://bicacuatho.azurewebsites.net/api/SanPham/ListSanPham",{method:"GET",headers:{"Content-Type":"application/json"},Authorization:_?`Bearer ${_}`:void 0});if(!E.ok)throw new Error("Failed to fetch products");const T=await E.json();l(T||[]),u(T||[])}catch(_){console.error("Error fetching products:",_),l([]),u([])}finally{h(!1)}})()},[n]),k.useEffect(()=>{if(s){const F=c.filter(_=>{var E,T;return(((E=_.name)==null?void 0:E.toLowerCase())||"").includes(s.toLowerCase())||(((T=_.loaiSanPham)==null?void 0:T.toLowerCase())||"").includes(s.toLowerCase())});u(F)}else u(c)},[s,c]);const x=F=>{const _=F.target.files[0];_&&v(_)},v=F=>{const _=new FileReader;_.onloadend=()=>{o({...i,HinhAnh:_.result.replace(/^data:image\/[a-z]+;base64,/,"")}),A({...m,HinhAnh:""})},_.readAsDataURL(F)},y=F=>{F.preventDefault(),F.stopPropagation(),F.type==="dragenter"||F.type==="dragover"?p(!0):F.type==="dragleave"&&p(!1)},S=F=>{F.preventDefault(),F.stopPropagation(),p(!1),F.dataTransfer.files&&F.dataTransfer.files[0]&&v(F.dataTransfer.files[0])},M=()=>{b.current&&b.current.click()},P=F=>{const _=i.SanPham.find(E=>E.MaSanPham===F.id);o(_?{...i,SanPham:i.SanPham.map(E=>E.MaSanPham===F.id?{...E,SoLuong:E.SoLuong+1}:E)}:{...i,SanPham:[...i.SanPham,{MaSanPham:F.id,SoLuong:1,TenSanPham:F.name||"Không có tên"}]}),A({...m,SanPham:""})},B=(F,_)=>{o({...i,SanPham:i.SanPham.map(E=>E.MaSanPham===F?{...E,SoLuong:Math.max(1,E.SoLuong+_)}:E)})},D=F=>{const _=i.SanPham.filter(E=>E.MaSanPham!==F);o({...i,SanPham:_}),_.length===0&&A({...m,SanPham:"Combo phải có ít nhất 1 sản phẩm"})},L=()=>{const F={};return i.TenCombo.trim()||(F.TenCombo="Tên combo không được để trống"),i.MoTa.trim()||(F.MoTa="Mô tả không được để trống"),i.Discount<=1&&(F.Discount="Giảm giá phải lớn hơn 1"),i.HinhAnh||(F.HinhAnh="Vui lòng chọn ít nhất 1 hình ảnh"),i.SanPham.length===0&&(F.SanPham="Combo phải có ít nhất 1 sản phẩm"),i.SoLuong<0&&(F.SoLuong="Số lượng không thể nhỏ hơn 0"),A(F),Object.keys(F).length===0},O=async()=>{if(!L()){Ce.fire({title:"Lỗi!",text:"Vui lòng điền đầy đủ và đúng thông tin trước khi lưu",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1});return}try{const F={ID:i.ID,TenCombo:i.TenCombo,MoTa:i.MoTa,SoLuong:i.SoLuong,Discount:i.Discount,HinhAnh:i.HinhAnh,SanPham:i.SanPham.map(E=>({MaSanPham:E.MaSanPham,SoLuong:E.SoLuong}))};if(!(await fetch("https://bicacuatho.azurewebsites.net/api/Combo/EditComboSanPham",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)})).ok)throw new Error("Failed to update combo");Ce.fire({title:"Thành công!",text:"Cập nhật combo thành công!",icon:"success",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{t(!1),window.location.reload()})}catch(F){console.error("Error updating combo:",F),Ce.fire({title:"Lỗi!",text:"Có lỗi xảy ra khi cập nhật combo.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}};return r.jsx(Yt,{open:n,onOpenChange:t,children:r.jsxs(Kt,{className:"max-w-7xl p-6 overflow-y-auto max-h-[90vh]",children:[r.jsx(rn,{children:r.jsx(Zt,{className:"text-2xl font-bold",children:"Chỉnh sửa thông tin combo"})}),r.jsx("div",{className:"py-4",children:r.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[r.jsx("div",{className:"col-span-2",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Tên Combo"}),r.jsx(je,{value:i.TenCombo,onChange:F=>{o({...i,TenCombo:F.target.value}),A({...m,TenCombo:""})},className:"w-full",placeholder:`\r
\r
Nhập tên combo`}),m.TenCombo&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.TenCombo})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Giảm Giá (%)"}),r.jsx(je,{type:"number",min:"0",value:i.Discount,onChange:F=>{o({...i,Discount:parseInt(F.target.value)||0}),A({...m,Discount:""})},className:"w-full",placeholder:"Nhập giảm giá combo"}),m.Discount&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.Discount})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Hình Ảnh Combo"}),r.jsxs("div",{className:`relative w-full h-48 border-2 border-dashed rounded-lg transition-all duration-200 ${g?"border-blue-500 bg-blue-50":i.HinhAnh?"border-green-500 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:y,onDragLeave:y,onDragOver:y,onDrop:S,children:[r.jsx("input",{type:"file",accept:"image/*",ref:b,onChange:x,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),i.HinhAnh?r.jsxs("div",{className:"relative w-full h-full",children:[r.jsx("img",{src:`data:image/jpeg;base64,${i.HinhAnh}`,alt:"Combo Preview",className:"w-full h-full object-cover rounded-lg"}),r.jsx("div",{className:"absolute top-2 right-2 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-sm cursor-pointer hover:bg-opacity-70",onClick:M,children:"Nhấp để thay đổi"})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[r.jsx("svg",{className:"w-12 h-12 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),r.jsx("p",{className:"text-lg font-medium",children:"Kéo thả ảnh vào đây"}),r.jsx("p",{className:"text-sm",children:"hoặc nhấp để chọn file"}),r.jsx("p",{className:"text-xs mt-2 text-gray-400",children:"PNG, JPG, GIF (tối đa 5MB)"})]})]}),m.HinhAnh&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.HinhAnh})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Số Lượng"}),r.jsx(je,{type:"number",min:"0",step:"1",value:i.SoLuong,onChange:F=>{o({...i,SoLuong:parseInt(F.target.value)||0}),A({...m,SoLuong:""})},className:"w-full max-w-xs",placeholder:"Nhập số lượng"}),m.SoLuong&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.SoLuong})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Mô Tả"}),r.jsx("textarea",{className:"w-full h-32 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none",value:i.MoTa,onChange:F=>{o({...i,MoTa:F.target.value}),A({...m,MoTa:""})},placeholder:"Nhập mô tả chi tiết về combo..."}),m.MoTa&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.MoTa})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Sản phẩm trong Combo"}),r.jsxs("div",{className:"max-h-64 overflow-y-auto border border-gray-200 rounded-lg p-4 bg-gray-50",children:[f?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Đang tải sản phẩm..."})]}):i.SanPham.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("svg",{className:"w-12 h-12 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),r.jsx("p",{children:"Chưa có sản phẩm trong combo"}),r.jsx("p",{className:"text-sm",children:"Thêm sản phẩm từ danh sách bên phải"})]}):r.jsx("div",{className:"space-y-3",children:i.SanPham.map(F=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200 shadow-sm",children:[r.jsx("div",{className:"flex-1",children:r.jsx("span",{className:"font-medium text-gray-800",children:F.TenSanPham})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>B(F.MaSanPham,-1),className:"h-8 w-8 p-0",children:"-"}),r.jsx("span",{className:"w-8 text-center font-medium",children:F.SoLuong}),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>B(F.MaSanPham,1),className:"h-8 w-8 p-0",children:"+"})]}),r.jsx(fe,{variant:"destructive",size:"sm",onClick:()=>D(F.MaSanPham),children:"Xóa"})]})]},F.MaSanPham))}),m.SanPham&&r.jsx("p",{className:"text-red-500 text-sm mt-2",children:m.SanPham})]})]})]})}),r.jsx("div",{className:"col-span-1",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Tìm kiếm sản phẩm"}),r.jsx(je,{type:"text",placeholder:"Nhập tên sản phẩm...",value:s,onChange:F=>a(F.target.value),className:"w-full"})]}),r.jsx("div",{className:"h-96 overflow-y-auto border border-gray-200 rounded-lg p-4 bg-gray-50",children:f?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Đang tải sản phẩm..."})]}):d.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("svg",{className:"w-12 h-12 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("p",{children:"Không tìm thấy sản phẩm nào"})]}):r.jsx("div",{className:"space-y-2",children:d.map(F=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[r.jsx("img",{src:F.hinh&&F.hinh[0]?`data:image/jpeg;base64,${F.hinh[0]}`:"https://via.placeholder.com/40",alt:F.name,className:"w-10 h-10 object-cover rounded-lg flex-shrink-0"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"font-medium text-gray-800 text-sm truncate",children:F.name||"Không có tên"}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:F.loaiSanPham||"Chưa phân loại"})]})]}),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>P(F),className:"shrink-0 text-xs px-2 py-1",children:"Thêm"})]},F.id))})})]})})]})}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[r.jsx(fe,{variant:"outline",onClick:()=>t(!1),children:"Hủy"}),r.jsx(fe,{onClick:O,disabled:f,className:"px-6",children:"Lưu Thay Đổi"})]})]})})},r6e=({isCreateModalOpen:n,setIsCreateModalOpen:t})=>{const[e,s]=k.useState(""),[a,i]=k.useState({ID:0,TenCombo:"",MoTa:"",SoLuong:0,Discount:0,HinhAnh:null,SanPham:[]}),[o,c]=k.useState([]),[l,d]=k.useState([]),[u,f]=k.useState(!1),[h,m]=k.useState({}),[A,g]=k.useState(!1),p=k.useRef(null);k.useEffect(()=>{n&&(async()=>{f(!0);try{const F=localStorage.getItem("token"),_=await fetch("https://bicacuatho.azurewebsites.net/api/SanPham/ListSanPham",{method:"GET",headers:{"Content-Type":"application/json"},Authorization:F?`Bearer ${F}`:void 0});if(!_.ok)throw new Error("Failed to fetch products");const E=await _.json();console.log(E),c(E||[]),d(E||[])}catch(F){console.error("Error fetching products:",F),c([]),d([])}finally{f(!1)}})()},[n]),k.useEffect(()=>{if(e){const O=o.filter(F=>{var _,E;return(((_=F.name)==null?void 0:_.toLowerCase())||"").includes(e.toLowerCase())||(((E=F.loaiSanPham)==null?void 0:E.toLowerCase())||"").includes(e.toLowerCase())});d(O)}else d(o)},[e,o]);const b=O=>{const F=O.target.files[0];F&&x(F)},x=O=>{const F=new FileReader;F.onloadend=()=>{i({...a,HinhAnh:F.result.replace(/^data:image\/[a-z]+;base64,/,"")}),m({...h,HinhAnh:""})},F.readAsDataURL(O)},v=O=>{O.preventDefault(),O.stopPropagation(),O.type==="dragenter"||O.type==="dragover"?g(!0):O.type==="dragleave"&&g(!1)},y=O=>{O.preventDefault(),O.stopPropagation(),g(!1),O.dataTransfer.files&&O.dataTransfer.files[0]&&x(O.dataTransfer.files[0])},S=()=>{p.current&&p.current.click()},M=O=>{const F=a.SanPham.find(_=>_.MaSanPham===O.id);i(F?{...a,SanPham:a.SanPham.map(_=>_.MaSanPham===O.id?{..._,SoLuong:_.SoLuong+1}:_)}:{...a,SanPham:[...a.SanPham,{MaSanPham:O.id,SoLuong:1,TenSanPham:O.name||"Không có tên"}]}),m({...h,SanPham:""})},P=(O,F)=>{i({...a,SanPham:a.SanPham.map(_=>_.MaSanPham===O?{..._,SoLuong:Math.max(1,_.SoLuong+F)}:_)})},B=O=>{const F=a.SanPham.filter(_=>_.MaSanPham!==O);i({...a,SanPham:F}),F.length===0&&m({...h,SanPham:"Combo phải có ít nhất 1 sản phẩm"})},D=()=>{const O={};return a.TenCombo.trim()||(O.TenCombo="Tên combo không được để trống"),a.MoTa.trim()||(O.MoTa="Mô tả không được để trống"),a.Discount<=1&&(O.Discount="Giá phải lớn hơn 1"),a.HinhAnh||(O.HinhAnh="Vui lòng chọn ít nhất 1 hình ảnh"),a.SanPham.length===0&&(O.SanPham="Combo phải có ít nhất 1 sản phẩm"),a.SoLuong<0&&(O.SoLuong="Số lượng không thể nhỏ hơn 0"),m(O),Object.keys(O).length===0},L=async()=>{if(!D()){Ce.fire({title:"Lỗi!",text:"Vui lòng điền đầy đủ và đúng thông tin trước khi tạo combo",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1});return}try{const O={ID:a.ID,TenCombo:a.TenCombo,MoTa:a.MoTa,SoLuong:a.SoLuong,Discount:a.Discount,HinhAnh:a.HinhAnh,SanPham:a.SanPham.map(E=>({MaSanPham:E.MaSanPham,SoLuong:E.SoLuong}))},F=localStorage.getItem("token");if(!(await fetch("https://bicacuatho.azurewebsites.net/api/Combo/CreateComboSanPham",{method:"POST",headers:{"Content-Type":"application/json"},Authorization:F?`Bearer ${F}`:void 0,body:JSON.stringify(O)})).ok)throw new Error("Failed to create combo");Ce.fire({title:"Thành công!",text:"Tạo combo thành công!",icon:"success",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{t(!1),window.location.reload()})}catch(O){console.error("Error creating combo:",O),Ce.fire({title:"Lỗi!",text:"Có lỗi xảy ra khi tạo combo.",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}};return r.jsx(Yt,{open:n,onOpenChange:t,children:r.jsxs(Kt,{className:"max-w-7xl p-6 overflow-y-auto max-h-[90vh]",children:[r.jsx(rn,{children:r.jsx(Zt,{className:"text-2xl font-bold",children:"Tạo mới combo"})}),r.jsx("div",{className:"py-4",children:r.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[r.jsxs("div",{className:"col-span-2",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Tên Combo"}),r.jsx(je,{value:a.TenCombo,onChange:O=>{i({...a,TenCombo:O.target.value}),m({...h,TenCombo:""})},className:"w-full",placeholder:"Nhập tên combo"}),h.TenCombo&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.TenCombo})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Giảm Giá (%)"}),r.jsx(je,{type:"number",min:"0",value:a.Discount,onChange:O=>{i({...a,Discount:parseInt(O.target.value)||0}),m({...h,Discount:""})},className:"w-full",placeholder:"Nhập giá combo"}),h.Discount&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.Discount})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Hình Ảnh Combo"}),r.jsxs("div",{className:`relative w-full h-48 border-2 border-dashed rounded-lg transition-all duration-200 ${A?"border-blue-500 bg-blue-50":a.HinhAnh?"border-green-500 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:v,onDragLeave:v,onDragOver:v,onDrop:y,children:[r.jsx("input",{type:"file",accept:"image/*",ref:p,onChange:b,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),a.HinhAnh?r.jsxs("div",{className:"relative w-full h-full",children:[r.jsx("img",{src:`data:image/jpeg;base64,${a.HinhAnh}`,alt:"Combo Preview",className:"w-full h-full object-cover rounded-lg"}),r.jsx("div",{className:"absolute top-2 right-2 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-sm cursor-pointer hover:bg-opacity-70",onClick:S,children:"Nhấp để thay đổi"})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[r.jsx("svg",{className:"w-12 h-12 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),r.jsx("p",{className:"text-lg font-medium",children:"Kéo thả ảnh vào đây"}),r.jsx("p",{className:"text-sm",children:"hoặc nhấp để chọn file"}),r.jsx("p",{className:"text-xs mt-2 text-gray-400",children:"PNG, JPG, GIF (tối đa 5MB)"})]})]}),h.HinhAnh&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.HinhAnh})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Số Lượng"}),r.jsx(je,{type:"number",min:"0",step:"1",value:a.SoLuong,onChange:O=>{i({...a,SoLuong:parseInt(O.target.value)||0}),m({...h,SoLuong:""})},className:"w-full max-w-xs",placeholder:"Nhập số lượng"}),h.SoLuong&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.SoLuong})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Mô Tả"}),r.jsx("textarea",{className:"w-full h-32 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none",value:a.MoTa,onChange:O=>{i({...a,MoTa:O.target.value}),m({...h,MoTa:""})},placeholder:"Nhập mô tả chi tiết về combo..."}),h.MoTa&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.MoTa})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Sản phẩm trong Combo"}),r.jsxs("div",{className:"max-h-64 overflow-y-auto border border-gray-200 rounded-lg p-4 bg-gray-50",children:[a.SanPham.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("svg",{className:"w-12 h-12 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),r.jsx("p",{children:"Chưa có sản phẩm trong combo"}),r.jsx("p",{className:"text-sm",children:"Thêm sản phẩm từ danh sách bên phải"})]}):r.jsx("div",{className:"space-y-3",children:a.SanPham.map(O=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200 shadow-sm",children:[r.jsx("div",{className:"flex-1",children:r.jsx("span",{className:"font-medium text-gray-800",children:O.TenSanPham})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>P(O.MaSanPham,-1),className:"h-8 w-8 p-0",children:"-"}),r.jsx("span",{className:"w-8 text-center font-medium",children:O.SoLuong}),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>P(O.MaSanPham,1),className:"h-8 w-8 p-0",children:"+"})]}),r.jsx(fe,{variant:"destructive",size:"sm",onClick:()=>B(O.MaSanPham),children:"Xóa"})]})]},O.MaSanPham))}),h.SanPham&&r.jsx("p",{className:"text-red-500 text-sm mt-2",children:h.SanPham})]})]})]}),r.jsx("div",{className:"col-span-1",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium text-gray-700",children:"Tìm kiếm sản phẩm"}),r.jsx(je,{type:"text",placeholder:"Nhập tên sản phẩm...",value:e,onChange:O=>s(O.target.value),className:"w-full"})]}),r.jsx("div",{className:"h-96 overflow-y-auto border border-gray-200 rounded-lg p-4 bg-gray-50",children:u?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Đang tải sản phẩm..."})]}):l.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("svg",{className:"w-12 h-12 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("p",{children:"Không tìm thấy sản phẩm nào"})]}):r.jsx("div",{className:"space-y-2",children:l.map(O=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[r.jsx("img",{src:O.hinh&&O.hinh[0]?`data:image/jpeg;base64,${O.hinh[0]}`:"https://via.placeholder.com/40",alt:O.name,className:"w-10 h-10 object-cover rounded-lg flex-shrink-0"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"font-medium text-gray-800 text-sm truncate",children:O.name||"Không có tên"}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:O.loaiSanPham||"Chưa phân loại"})]})]}),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>M(O),className:"shrink-0 text-xs px-2 py-1",children:"Thêm"})]},O.id))})})]})})]})}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[r.jsx(fe,{variant:"outline",onClick:()=>t(!1),children:"Hủy"}),r.jsx(fe,{onClick:L,disabled:u,className:"px-6",children:"Tạo Combo"})]})]})})},s6e=({comboId:n,isOpen:t,onClose:e})=>{const[s,a]=k.useState(null),[i,o]=k.useState(!0),[c,l]=k.useState(null);return k.useEffect(()=>{(async()=>{if(!(!n||!t))try{o(!0);const u=localStorage.getItem("token"),f=await fetch(`https://bicacuatho.azurewebsites.net/api/Combo/ComboSanPhamViewAdmin?id=${n}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:u?`Bearer ${u}`:void 0}});if(!f.ok)throw new Error("Failed to fetch combo");const h=await f.json(),m=Array.isArray(h)?h[0]:h,A={maCombo:m.maCombo,name:m.name,description:m.moTa||"Không có mô tả",price:m.gia,quantity:m.soLuong,status:m.trangThai,createdDate:m.ngayTao,images:m.hinhAnh?`data:image/jpeg;base64,${m.hinhAnh}`:"/placeholder-image.jpg",products:m.sanPhams.map(g=>{var p;return{id:g.id,name:g.name,brand:g.thuongHieu,type:g.loaiSanPham,sizes:g.kichThuoc,quantity:g.soLuong,price:g.donGia,material:g.chatLieu,colors:g.mauSac.map(b=>`#${b}`),images:((p=g.hinh)==null?void 0:p.map(b=>`data:image/jpeg;base64,${b}`))||[]}})};a(A)}catch(u){l(u.message)}finally{o(!1)}})()},[n,t]),t?i?r.jsx(Yt,{open:t,onOpenChange:e,children:r.jsx(Kt,{children:r.jsx("p",{children:"Đang tải thông tin combo..."})})}):c||!s?r.jsx(Yt,{open:t,onOpenChange:e,children:r.jsxs(Kt,{children:[r.jsxs("p",{children:["Error: ",c||"Không tìm thấy combo"]}),r.jsx("button",{onClick:e,className:"mt-4 px-4 py-2 bg-red-500 text-white rounded",children:"Đóng"})]})}):r.jsx(Yt,{open:t,onOpenChange:e,children:r.jsxs(Kt,{className:"max-w-7xl max-h-[90vh] overflow-y-auto p-6",children:[r.jsx(rn,{children:r.jsx(Zt,{className:"text-2xl font-semibold",children:"Chi Tiết Combo"})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"rounded-xl overflow-hidden border border-gray-200",children:r.jsx("img",{src:s.images,alt:s.name,className:"w-full aspect-[4/5] object-cover"})})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-medium",children:s.name}),r.jsx("p",{className:"text-gray-600 mt-2",children:s.description})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:"Giá & Số lượng:"}),r.jsxs("ul",{className:"mt-2 space-y-2 text-gray-600",children:[r.jsxs("li",{children:["Giá: ",s.price," VND"]}),r.jsxs("li",{children:["Số lượng: ",s.quantity]}),r.jsxs("li",{children:["Trạng thái: ",s.status?"Đang bán":"Ngừng bán"]}),r.jsxs("li",{children:["Ngày tạo: ",new Date(s.createdDate).toLocaleDateString()]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Sản phẩm trong combo:"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm text-left text-gray-600 border-collapse",children:[r.jsx("thead",{className:"bg-gray-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 border-b font-medium",children:"Tên sản phẩm"}),r.jsx("th",{className:"px-4 py-2 border-b font-medium",children:"Thương hiệu"}),r.jsx("th",{className:"px-4 py-2 border-b font-medium",children:"Loại"}),r.jsx("th",{className:"px-4 py-2 border-b font-medium",children:"Chất liệu"}),r.jsx("th",{className:"px-4 py-2 border-b font-medium",children:"Kích thước"}),r.jsx("th",{className:"px-4 py-2 border-b font-medium",children:"Số lượng"}),r.jsx("th",{className:"px-4 py-2 border-b font-medium",children:"Giá (VND)"}),r.jsx("th",{className:"px-4 py-2 border-b font-medium",children:"Màu sắc"})]})}),r.jsx("tbody",{children:s.products.map((d,u)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-2 border-b",children:d.name}),r.jsx("td",{className:"px-4 py-2 border-b",children:d.brand}),r.jsx("td",{className:"px-4 py-2 border-b",children:d.type}),r.jsx("td",{className:"px-4 py-2 border-b",children:d.material}),r.jsx("td",{className:"px-4 py-2 border-b",children:d.sizes.join(", ")}),r.jsx("td",{className:"px-4 py-2 border-b",children:d.quantity}),r.jsx("td",{className:"px-4 py-2 border-b",children:d.price}),r.jsx("td",{className:"px-4 py-2 border-b",children:d.colors.map((f,h)=>r.jsx("span",{className:"inline-block w-4 h-4 rounded-full ml-1",style:{backgroundColor:f}},h))})]},u))})]})})]})]})]})]})}):null},h_=()=>{const[n,t]=k.useState([]),[e,s]=k.useState(!0),[a,i]=k.useState("grid"),[o,c]=k.useState(""),[l,d]=k.useState(!1),[u,f]=k.useState(!1),[h,m]=k.useState(!1),[A,g]=k.useState(null),[p,b]=k.useState(""),[x,v]=k.useState(1),y=12,S=async()=>{try{const j=localStorage.getItem("token"),N=await fetch("https://bicacuatho.azurewebsites.net/api/Combo/ComboSanPhamViewAdmin",{method:"GET",headers:{"Content-Type":"application/json",Authorization:j?`Bearer ${j}`:void 0}});if(N.ok){const R=(await N.json()||[]).map(U=>({...U,sanPham:U.sanPham||[]}));t(R),console.log(R)}else console.error("Lỗi khi lấy danh sách combo:",N.status),t([])}catch(j){console.error("Lỗi kết nối API danh sách combo:",j),t([])}finally{s(!1)}};k.useEffect(()=>{S()},[]);const P=(()=>{let j=[...n].filter(N=>{var I,R;return(((I=N.name)==null?void 0:I.toLowerCase())||"").includes(o.toLowerCase())||(((R=N.maCombo)==null?void 0:R.toString())||"").includes(o)});switch(p){case"price-asc":return j.sort((N,I)=>(N.gia||0)-(I.gia||0));case"price-desc":return j.sort((N,I)=>(I.gia||0)-(N.gia||0));case"name-asc":return j.sort((N,I)=>(N.name||"").localeCompare(I.name||""));case"name-desc":return j.sort((N,I)=>(I.name||"").localeCompare(N.name||""));default:return j}})(),B=x*y,D=B-y,L=P.slice(D,B),O=Math.ceil(P.length/y),F=j=>{v(j)},_=j=>{g(j.maCombo),f(!0)},E=j=>{g(j),m(!0)},T=async j=>{Ce.fire({title:"Bạn có chắc chắn?",text:`Combo ${j.name} mang mã ${j.maCombo} sẽ chuyển sang trạng thái ngừng bán!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Ngừng Bán",cancelButtonText:"Hủy"}).then(async N=>{if(N.isConfirmed)try{const I=localStorage.getItem("token");(await fetch(`https://bicacuatho.azurewebsites.net/api/Combo/DeleteCombo?id=${j.maCombo}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:I?`Bearer ${I}`:void 0}})).ok?Ce.fire({title:"Thành công!",text:"Ngừng bán combo thành công!",icon:"success",timer:3e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{S()}):Ce.fire({title:"Lỗi!",text:"Có lỗi xảy ra khi ngừng bán combo.",icon:"error",timer:3e3,timerProgressBar:!0,showConfirmButton:!1})}catch(I){console.error("Lỗi khi gửi dữ liệu:",I),Ce.fire({title:"Lỗi!",text:"Có lỗi xảy ra khi gửi dữ liệu tới API.",icon:"error",timer:3e3,timerProgressBar:!0,showConfirmButton:!1})}})},w=async j=>{Ce.fire({title:"Bạn có chắc chắn?",text:`Combo ${j.name} mang mã ${j.maCombo} sẽ chuyển sang trạng thái đang bán!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Đang Bán",cancelButtonText:"Hủy"}).then(async N=>{if(N.isConfirmed)try{const I=localStorage.getItem("token");(await fetch(`https://bicacuatho.azurewebsites.net/api/Combo/DeleteCombo?id=${j.maCombo}&status=true`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:I?`Bearer ${I}`:void 0}})).ok?Ce.fire({title:"Thành công!",text:"Mở bán lại combo thành công!",icon:"success",timer:3e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{S()}):Ce.fire({title:"Lỗi!",text:"Có lỗi xảy ra khi mở bán lại combo.",icon:"error",timer:3e3,timerProgressBar:!0,showConfirmButton:!1})}catch(I){console.error("Lỗi khi gửi dữ liệu:",I),Ce.fire({title:"Lỗi!",text:"Có lỗi xảy ra khi gửi dữ liệu tới API.",icon:"error",timer:3e3,timerProgressBar:!0,showConfirmButton:!1})}})},C=()=>{S(),d(!1)};return e?r.jsx("div",{className:"flex justify-center items-center h-screen",children:"Đang tải combo..."}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsx("div",{children:r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Combo"})}),r.jsxs(fe,{className:"bg-purple-400 hover:bg-purple-500 text-white",onClick:()=>d(!0),children:[r.jsx(cr,{className:"mr-2 h-4 w-4"})," Thêm Combo Mới"]})]}),r.jsxs(at,{children:[r.jsx(yt,{className:"pb-3",children:r.jsx(Ct,{children:"Tất cả combo"})}),r.jsxs(dt,{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6 justify-between items-start sm:items-center",children:[r.jsxs("div",{className:"relative w-full sm:w-auto",children:[r.jsx(Rn,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(je,{type:"search",placeholder:"Gõ tên combo hoặc mã combo cần tìm",className:"pl-8 w-full sm:w-[300px]",value:o,onChange:j=>c(j.target.value)})]}),r.jsxs("div",{className:"flex gap-2 self-end",children:[r.jsxs(Ar,{children:[r.jsx(gr,{asChild:!0,children:r.jsxs(fe,{variant:"outline",size:"sm",className:"h-9",children:[r.jsx(sd,{className:"h-4 w-4 mr-2"}),p===""?"Sắp xếp":p==="price-asc"?"Giá thấp - cao":p==="price-desc"?"Giá cao - thấp":p==="name-asc"?"A - Z":"Z - A"]})}),r.jsxs(hr,{children:[r.jsx(ct,{onClick:()=>b(""),children:"Mặc định"}),r.jsx(ct,{onClick:()=>b("price-asc"),children:"Giá: Thấp đến Cao"}),r.jsx(ct,{onClick:()=>b("price-desc"),children:"Giá: Cao đến Thấp"}),r.jsx(ct,{onClick:()=>b("name-asc"),children:"Tên: A - Z"}),r.jsx(ct,{onClick:()=>b("name-desc"),children:"Tên: Z - A"})]})]}),r.jsxs("div",{className:"flex border rounded-md",children:[r.jsx(fe,{variant:a==="grid"?"secondary":"ghost",size:"sm",className:"h-9 rounded-r-none",onClick:()=>i("grid"),children:r.jsx(U2,{className:"h-4 w-4"})}),r.jsx(fe,{variant:a==="list"?"secondary":"ghost",size:"sm",className:"h-9 rounded-l-none",onClick:()=>i("list"),children:r.jsx(Um,{className:"h-4 w-4"})})]})]})]}),a==="grid"?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:L.map(j=>r.jsxs(at,{className:"hover-scale overflow-hidden group",children:[r.jsx("div",{className:"h-40 bg-purple-light flex items-center justify-center",children:r.jsx("img",{src:j.hinhAnh?`data:image/jpeg;base64,${j.hinhAnh}`:"/placeholder-image.jpg",alt:j.name,className:"w-full h-full object-cover"})}),r.jsxs(dt,{className:"p-4",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:j.name||"Không có tên"}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:["Mã Combo: ",j.maCombo||"Không xác định"]})]}),r.jsxs(Ar,{children:[r.jsx(gr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(Fs,{className:"h-4 w-4"})})}),r.jsxs(hr,{align:"end",children:[r.jsxs(ct,{onClick:()=>E(j.maCombo),children:[r.jsx(Ra,{className:"mr-2 h-4 w-4 text-blue-600"})," Chi Tiết"]}),r.jsxs(ct,{onClick:()=>_(j),children:[r.jsx(Da,{className:"mr-2 h-4 w-4"})," Chỉnh sửa"]}),j.trangThai===!1?r.jsxs(ct,{onClick:()=>w(j),className:"text-green-600",children:[r.jsx(XO,{className:"mr-2 h-4 w-4"})," Mở Bán"]}):r.jsxs(ct,{onClick:()=>T(j),className:"text-red-600",children:[r.jsx(Ja,{className:"mr-2 h-4 w-4"})," Ngừng bán"]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[r.jsxs(Vt,{variant:"outline",className:"bg-secondary text-white border-0",children:[r.jsx(Ir,{className:"h-3 w-3 mr-1"})," ",(j.sanPhams||[]).length," sản phẩm"]}),r.jsx(Vt,{variant:j.trangThai===!0?"default":"destructive",className:"flex flex-col justify-center items-center text-center h-full px-2",children:j.trangThai===!0?"Đang Bán":"Ngừng Bán"})]}),r.jsxs("div",{className:"flex justify-between items-center mt-3",children:[r.jsxs("span",{className:"font-bold text-purple",children:[(j.gia/1e3).toFixed(3)||"0"," VND"]}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:["Còn lại: ",j.soLuong||0," combo"]})]})]})]},j.maCombo))}):r.jsx("div",{className:"border rounded-md divide-y",children:L.map(j=>r.jsxs("div",{className:"p-4 flex items-center gap-4 hover:bg-muted/50",children:[r.jsx("div",{className:"h-12 w-12 bg-purple-light rounded-md flex items-center justify-center",children:r.jsx("img",{src:j.hinhAnh?`data:image/jpeg;base64,${j.hinhAnh}`:"/placeholder-image.jpg",alt:j.name,className:"w-full h-full object-cover rounded-md"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold",children:j.name||"Không có tên"}),r.jsxs("p",{className:"text-sm text-muted-foreground line-clamp-1",children:["Mã Combo: ",j.maCombo||"Không xác định"]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs(Vt,{variant:"outline",className:"bg-secondary text-white border-0",children:[(j.sanPhams||[]).length," sản phẩm"]})}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-bold text-purple",children:[(j.gia/1e3).toFixed(3)," VND"]}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Số lượng ",j.soLuong||0]})]}),r.jsxs(Ar,{children:[r.jsx(gr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsx(Fs,{className:"h-4 w-4"})})}),r.jsxs(hr,{align:"end",children:[r.jsx(ct,{onClick:()=>_(j),children:"Chỉnh Sửa"}),r.jsx(ct,{onClick:()=>E(j.maCombo),children:"Chi Tiết"}),j.trangThai===!1?r.jsx(ct,{onClick:()=>w(j),className:"text-green-600",children:"Mở Bán"}):r.jsx(ct,{onClick:()=>T(j),className:"text-red-600",children:"Ngừng Bán"})]})]})]},j.maCombo))}),L.length===0&&r.jsx("div",{className:"text-center py-10",children:r.jsx("p",{className:"text-muted-foreground",children:"Không tìm thấy combo nào"})}),O>1&&r.jsxs("div",{className:"flex justify-center items-center gap-2 mt-6",children:[r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>F(x-1),disabled:x===1,children:"Trước"}),Array.from({length:O},(j,N)=>N+1).map(j=>r.jsx(fe,{variant:x===j?"default":"outline",size:"sm",onClick:()=>F(j),children:j},j)),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>F(x+1),disabled:x===O,children:"Sau"})]})]})]}),r.jsx(n6e,{isEditModalOpen:u,setIsEditModalOpen:f,comboId:A}),r.jsx(r6e,{isCreateModalOpen:l,setIsCreateModalOpen:d,onAddSuccess:C}),r.jsx(s6e,{comboId:A,isOpen:h,onClose:()=>m(!1)})]})},sf=10,Bc="https://bicacuatho.azurewebsites.net",f_=()=>{const[n,t]=k.useState([]),[e,s]=k.useState(""),[a,i]=k.useState("active"),[o,c]=k.useState(!0),[l,d]=k.useState(!1),[u,f]=k.useState(!1),[h,m]=k.useState(!1),[A,g]=k.useState(!1),[p,b]=k.useState(!1),[x,v]=k.useState(!1),[y,S]=k.useState(!1),[M,P]=k.useState(null),[B,D]=k.useState(null),[L,O]=k.useState(null),[F,_]=k.useState(null),[E,T]=k.useState(""),[w,C]=k.useState(""),[j,N]=k.useState(null),[I,R]=k.useState(1),[U,V]=k.useState(!1),[z,X]=k.useState({ten:"",hinhAnh:""}),[Q,q]=k.useState({ten:"",hinhAnh:""}),[H,$]=k.useState(""),G=ie=>ie?ie.startsWith("data:image")?ie:`data:image/png;base64,${ie}`:"",J=ie=>ie?ie.startsWith("data:")?ie.split(",")[1]:ie:"",te=k.useCallback(async()=>{var ie,de;try{c(!0);const me=a==="active"?1:0,ve=await St.get(`${Bc}/api/ThuongHieu?trangThai=${me}`);t(ve.data)}catch(me){Ce.fire({icon:"error",title:"Lỗi",text:"Lỗi khi tải danh sách thương hiệu: "+((de=(ie=me.response)==null?void 0:ie.data)==null?void 0:de.message)||me.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{c(!1)}},[a,Bc]),K=ie=>{s(ie.target.value.toLowerCase()),R(1)},ne=k.useMemo(()=>{const ie=a==="active"?1:0;return n.filter(me=>me.trangThai===ie&&(me.tenThuongHieu.toLowerCase().includes(e)||me.maThuongHieu.toString().includes(e))).sort((me,ve)=>ve.maThuongHieu-me.maThuongHieu)},[n,e,a]),ce=Math.ceil(ne.length/sf),oe=ne.slice((I-1)*sf,I*sf),ee=ie=>{R(ie)},W=ie=>{ie.preventDefault(),V(!0)},Y=()=>V(!1),Z=ie=>{ie.preventDefault(),V(!1);const de=ie.dataTransfer.files[0];if(de&&de.size<=2*1024*1024){const me=new FileReader;me.onloadend=()=>C(me.result),me.readAsDataURL(de)}else Ce.fire({icon:"error",title:"Lỗi",text:"Hình ảnh phải nhỏ hơn 2MB!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})},se=ie=>{var me;const de=(me=ie.target.files)==null?void 0:me[0];if(de&&de.size<=2*1024*1024){const ve=new FileReader;ve.onloadend=()=>C(ve.result),ve.readAsDataURL(de)}else Ce.fire({icon:"error",title:"Lỗi",text:"Hình ảnh phải nhỏ hơn 2MB!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})},re=()=>{let ie=!0;const de={ten:"",hinhAnh:""};return E.trim()||(de.ten="Tên thương hiệu không được để trống!",ie=!1),w||(de.hinhAnh="Hình ảnh không được để trống!",ie=!1),X(de),ie},le=()=>{var me;let ie=!0;const de={ten:"",hinhAnh:""};return(me=j==null?void 0:j.tenThuongHieu)!=null&&me.trim()||(de.ten="Tên thương hiệu không được để trống!",ie=!1),j!=null&&j.hinhAnh||(de.hinhAnh="Hình ảnh không được để trống!",ie=!1),q(de),ie},ae=async()=>{if(re())try{d(!0);const ie=J(w),de=await St.post(`${Bc}/api/ThuongHieu`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({TenThuongHieu:E,HinhAnh:ie,TrangThai:1})});T(""),C(""),X({ten:"",hinhAnh:""}),f(!1),await te(),Ce.fire({icon:"success",title:"Thành công",text:"Thêm thương hiệu thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(ie){Ce.fire({icon:"error",title:"Lỗi",text:"Lỗi khi thêm thương hiệu: "+ie.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{d(!1)}},ue=async()=>{if(!(!le()||!j))try{d(!0),$("");const ie=localStorage.getItem("token"),de=J(j.hinhAnh||""),me=await fetch(`${Bc}/api/ThuongHieu/${j.maThuongHieu}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:ie?`Bearer ${ie}`:void 0},body:JSON.stringify({MaThuongHieu:j.maThuongHieu,TenThuongHieu:j.tenThuongHieu,HinhAnh:de,TrangThai:j.trangThai})});if(!me.ok){const ve=await me.text();if(me.status===404)throw new Error("Thương hiệu không tồn tại");if(me.status===409){$("Tên thương hiệu đã tồn tại");return}else if(me.status===500)throw new Error("Lỗi máy chủ, vui lòng thử lại sau");throw new Error(ve||"Không thể sửa thương hiệu")}m(!1),N(null),$(""),await te(),Ce.fire({icon:"success",title:"Thành công",text:"Sửa thương hiệu thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(ie){Ce.fire({icon:"error",title:"Lỗi",text:"Lỗi khi sửa thương hiệu: "+ie.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{d(!1)}},he=async()=>{if(M)try{d(!0);const ie=localStorage.getItem("token"),de=await fetch(`${Bc}/api/ThuongHieu/${M.maThuongHieu}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:ie?`Bearer ${ie}`:void 0},body:JSON.stringify({MaThuongHieu:M.maThuongHieu,TenThuongHieu:M.tenThuongHieu,HinhAnh:M.hinhAnh,TrangThai:M.trangThai===1?0:1})});if(!de.ok){const me=await de.text();throw de.status===404?new Error("Thương hiệu không tồn tại"):de.status===409?new Error("Tên thương hiệu đã tồn tại"):de.status===500?new Error("Lỗi máy chủ, vui lòng thử lại sau"):new Error(me||"Không thể xóa thương hiệu")}g(!1),P(null),R(1),await te(),Ce.fire({icon:"success",title:"Thành công",text:"Xóa thương hiệu thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(ie){Ce.fire({icon:"error",title:"Lỗi",text:"Lỗi khi xóa thương hiệu: "+ie.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{d(!1)}},pe=async()=>{if(L)try{d(!0);const ie=localStorage.getItem("token"),de=await fetch(`${Bc}/api/ThuongHieu/${L.maThuongHieu}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:ie?`Bearer ${ie}`:void 0},body:JSON.stringify({MaThuongHieu:L.maThuongHieu,TenThuongHieu:L.tenThuongHieu,HinhAnh:L.hinhAnh,TrangThai:1})});if(!de.ok){const me=await de.text();throw de.status===404?new Error("Thương hiệu không tồn tại"):de.status===409?new Error("Tên thương hiệu đã tồn tại"):de.status===500?new Error("Lỗi máy chủ, vui lòng thử lại sau"):new Error(me||"Không thể khôi phục thương hiệu")}v(!1),O(null),R(1),await te(),Ce.fire({icon:"success",title:"Thành công",text:"Khôi phục thương hiệu thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(ie){Ce.fire({icon:"error",title:"Lỗi",text:"Lỗi khi khôi phục thương hiệu: "+ie.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{d(!1)}},Ae=async()=>{if(B)try{d(!0);const ie=localStorage.getItem("token"),de=await fetch(`${Bc}/api/ThuongHieu/${B.maThuongHieu}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:ie?`Bearer ${ie}`:void 0}});if(!de.ok){const me=await de.text();throw de.status===404?new Error("Thương hiệu không tồn tại"):de.status===409?new Error("Không thể xóa vì có dữ liệu liên quan"):de.status===500?new Error("Lỗi máy chủ, vui lòng thử lại sau"):new Error(me||"Không thể xóa thương hiệu")}b(!1),D(null),R(1),await te(),Ce.fire({icon:"success",title:"Thành công",text:"Xóa vĩnh viễn thương hiệu thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(ie){Ce.fire({icon:"error",title:"Lỗi",text:"Lỗi khi xóa thương hiệu: "+ie.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{d(!1)}};return k.useEffect(()=>{te()},[te]),r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-800",children:"Quản lý thương hiệu"}),a==="active"&&r.jsxs(fe,{className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3]",onClick:()=>f(!0),disabled:o||l,children:[r.jsx(Am,{className:"mr-2 h-4 w-4"})," Thêm Thương Hiệu"]})]}),r.jsxs(Na,{defaultValue:"active",className:"w-full",onValueChange:ie=>i(ie),children:[r.jsxs(sa,{className:"grid w-full md:w-auto grid-cols-2 gap-1",children:[r.jsxs(kn,{value:"active",className:"flex items-center gap-2",children:[r.jsx(so,{className:"h-4 w-4"})," Danh sách thương hiệu"]}),r.jsxs(kn,{value:"inactive",className:"flex items-center gap-2",children:[r.jsx(so,{className:"h-4 w-4"})," Khôi phục thương hiệu"]})]}),r.jsxs(Fn,{value:"active",children:[r.jsx("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(je,{type:"search",placeholder:"Tìm kiếm thương hiệu...",value:e,onChange:K,className:"w-full md:w-[820px] pl-10"}),r.jsx(Rn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})}),o?r.jsx("div",{className:"flex justify-center items-center",children:r.jsx(ns,{className:"h-8 w-8 animate-spin text-[#9b87f5]"})}):r.jsxs(r.Fragment,{children:[r.jsxs(at,{children:[r.jsx(yt,{children:r.jsx(Ct,{children:"Danh sách thương hiệu"})}),r.jsx(dt,{children:r.jsxs(Br,{children:[r.jsx(Er,{children:r.jsxs(Rt,{children:[r.jsx(Qe,{children:"STT"}),r.jsx(Qe,{children:"Hình Ảnh"}),r.jsx(Qe,{children:"Tên Thương Hiệu"}),r.jsx(Qe,{children:"Hành Động"})]})}),r.jsx(Mr,{children:oe.length>0?oe.map((ie,de)=>r.jsxs(Rt,{className:"hover:bg-muted/50",children:[r.jsx(He,{children:(I-1)*sf+de+1}),r.jsx(He,{children:ie.hinhAnh?r.jsx("img",{src:G(ie.hinhAnh),alt:ie.tenThuongHieu,className:"h-12 w-12 object-cover rounded",onError:me=>me.currentTarget.src="/placeholder-image.jpg"}):"Không có hình"}),r.jsx(He,{children:ie.tenThuongHieu}),r.jsx(He,{children:r.jsxs(Ar,{children:[r.jsx(gr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsx(Fs,{className:"h-4 w-4"})})}),r.jsxs(hr,{align:"end",children:[r.jsxs(ct,{onClick:()=>{_(ie),S(!0)},className:"text-green-700",children:[r.jsx(Ra,{className:"mr-2 h-4 w-4"})," Xem"]}),r.jsxs(ct,{onClick:()=>{N({...ie}),m(!0)},className:"text-blue-700",children:[r.jsx(Da,{className:"mr-2 h-4 w-4"})," Sửa"]}),r.jsxs(ct,{onClick:()=>{P(ie),g(!0)},className:"text-red-700",children:[r.jsx(Ja,{className:"mr-2 h-4 w-4"})," Xóa"]})]})]})})]},ie.maThuongHieu)):r.jsx(Rt,{children:r.jsx(He,{colSpan:5,className:"text-center py-6 text-muted-foreground",children:"Không tìm thấy thương hiệu nào."})})})]})})]}),ce>1&&r.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[r.jsxs(fe,{onClick:()=>ee(I-1),disabled:I===1,variant:"outline",className:"flex items-center",children:[r.jsx(zr,{className:"h-4 w-4 mr-2"}),"Trước"]}),Array.from({length:ce},(ie,de)=>de+1).map(ie=>r.jsx(fe,{onClick:()=>ee(ie),variant:I===ie?"default":"outline",className:I===ie?"bg-[#9b87f5] text-white hover:bg-[#8a76e3]":"",children:ie},ie)),r.jsxs(fe,{onClick:()=>ee(I+1),disabled:I===ce,variant:"outline",className:"flex items-center",children:["Sau",r.jsx(xr,{className:"h-4 w-4 ml-2"})]})]})]})]}),r.jsxs(Fn,{value:"inactive",children:[r.jsx("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(je,{type:"search",placeholder:"Tìm kiếm thương hiệu đã xóa...",value:e,onChange:K,className:"w-full md:w-[820px] pl-10"}),r.jsx(Rn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})}),o?r.jsx("div",{className:"flex justify-center items-center",children:r.jsx(ns,{className:"h-8 w-8 animate-spin text-[#9b87f5]"})}):r.jsxs(r.Fragment,{children:[r.jsxs(at,{children:[r.jsx(yt,{children:r.jsx(Ct,{children:"Danh Sách Thương Hiệu Đã Xóa"})}),r.jsx(dt,{children:r.jsxs(Br,{children:[r.jsx(Er,{children:r.jsxs(Rt,{children:[r.jsx(Qe,{children:"STT"}),r.jsx(Qe,{children:"Hình Ảnh"}),r.jsx(Qe,{children:"Tên Thương Hiệu"}),r.jsx(Qe,{children:"Hành Động"})]})}),r.jsx(Mr,{children:oe.length>0?oe.map((ie,de)=>r.jsxs(Rt,{className:"hover:bg-muted/50",children:[r.jsx(He,{children:(I-1)*sf+de+1}),r.jsx(He,{children:ie.hinhAnh?r.jsx("img",{src:G(ie.hinhAnh),alt:ie.tenThuongHieu,className:"h-12 w-12 object-cover rounded",onError:me=>me.currentTarget.src="/placeholder-image.jpg"}):"Không có hình"}),r.jsx(He,{children:ie.tenThuongHieu}),r.jsx(He,{children:r.jsxs(Ar,{children:[r.jsx(gr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsx(Fs,{className:"h-4 w-4"})})}),r.jsxs(hr,{align:"end",children:[r.jsxs(ct,{onClick:()=>{_(ie),S(!0)},className:"text-green-700",children:[r.jsx(Ra,{className:"mr-2 h-4 w-4"})," Chi tiết"]}),r.jsxs(ct,{onClick:()=>{O(ie),v(!0)},className:"text-blue-700",children:[r.jsx(Ku,{className:"mr-2 h-4 w-4"})," Khôi phục"]}),r.jsxs(ct,{onClick:()=>{D(ie),b(!0)},className:"text-red-700",children:[r.jsx(vd,{className:"mr-2 h-4 w-4"})," Xóa vĩnh viễn"]})]})]})})]},ie.maThuongHieu)):r.jsx(Rt,{children:r.jsx(He,{colSpan:5,className:"text-center py-6 text-muted-foreground",children:"Không tìm thấy thương hiệu nào."})})})]})})]}),ce>1&&r.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[r.jsxs(fe,{onClick:()=>ee(I-1),disabled:I===1,variant:"outline",className:"flex items-center",children:[r.jsx(zr,{className:"h-4 w-4 mr-2"}),"Trước"]}),Array.from({length:ce},(ie,de)=>de+1).map(ie=>r.jsx(fe,{onClick:()=>ee(ie),variant:I===ie?"default":"outline",className:I===ie?"bg-[#9b87f5] text-white hover:bg-[#8a76e3]":"",children:ie},ie)),r.jsxs(fe,{onClick:()=>ee(I+1),disabled:I===ce,variant:"outline",className:"flex items-center",children:["Sau",r.jsx(xr,{className:"h-4 w-4 ml-2"})]})]})]})]})]}),r.jsx(Yt,{open:u,onOpenChange:f,children:r.jsxs(Kt,{className:"max-w-4xl w-full",children:[r.jsxs(rn,{children:[r.jsx(Zt,{children:"Thêm Thương Hiệu"}),r.jsx(kr,{children:"Nhập thông tin thương hiệu mới."})]}),r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tên Thương Hiệu"}),r.jsx(je,{value:E,onChange:ie=>{T(ie.target.value),X(de=>({...de,ten:""}))},placeholder:"Tên thương hiệu",disabled:l}),z.ten&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:z.ten})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hình Ảnh"}),r.jsx("div",{className:`border-2 border-dashed rounded-lg p-4 text-center ${U?"border-blue-500 bg-blue-50":"border-gray-300"}`,onDragOver:W,onDragLeave:Y,onDrop:Z,children:w?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:w,alt:"Preview",className:"h-20 w-20 mx-auto object-cover rounded"}),r.jsx("button",{onClick:()=>C(""),className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center",disabled:l,children:"✕"})]}):r.jsxs("div",{children:[r.jsx(Lr,{className:"h-8 w-8 mx-auto text-gray-400"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Kéo và thả hình ảnh vào đây hoặc nhấp để chọn (Tối đa 2MB)"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"fileInputThem",onChange:se,disabled:l}),r.jsx("label",{htmlFor:"fileInputThem",className:"cursor-pointer text-blue-500 hover:underline",children:"Chọn tệp"})]})}),z.hinhAnh&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:z.hinhAnh})]})]}),r.jsxs(Ln,{className:"flex justify-end space-x-2 mt-4",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>f(!1),disabled:l,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:ae,disabled:l,className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3] flex items-center gap-2",children:[l?"Đang xử lý...":"Thêm",r.jsx(Am,{className:"h-4 w-4"})]})]})]})}),r.jsx(Yt,{open:h,onOpenChange:m,children:r.jsxs(Kt,{className:"max-w-4xl w-full",children:[r.jsxs(rn,{children:[r.jsx(Zt,{children:"Sửa Thương Hiệu"}),r.jsx(kr,{children:"Cập nhật thông tin thương hiệu."})]}),j&&r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tên Thương Hiệu"}),r.jsx(je,{value:j.tenThuongHieu,onChange:ie=>{N({...j,tenThuongHieu:ie.target.value}),q(de=>({...de,ten:""})),$("")},placeholder:"Tên thương hiệu",disabled:l}),Q.ten&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:Q.ten}),H&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:H})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hình Ảnh"}),r.jsx("div",{className:`border-2 border-dashed rounded-lg p-4 text-center ${U?"border-blue-500 bg-blue-50":"border-gray-300"}`,onDragOver:W,onDragLeave:Y,onDrop:Z,children:j.hinhAnh?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:G(j.hinhAnh),alt:"Preview",className:"h-20 w-20 mx-auto object-cover rounded"}),r.jsx("button",{onClick:()=>N({...j,hinhAnh:""}),className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center",disabled:l,children:"✕"})]}):r.jsxs("div",{children:[r.jsx(Lr,{className:"h-8 w-8 mx-auto text-gray-400"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Kéo và thả hình ảnh vào đây hoặc nhấp để chọn (Tối đa 2MB)"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"fileInputSua",onChange:ie=>{var me;const de=(me=ie.target.files)==null?void 0:me[0];if(de&&de.size<=2*1024*1024){const ve=new FileReader;ve.onloadend=()=>N({...j,hinhAnh:ve.result}),ve.readAsDataURL(de)}else Ce.fire({icon:"error",title:"Lỗi",text:"Hình ảnh phải nhỏ hơn 2MB!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})},disabled:l}),r.jsx("label",{htmlFor:"fileInputSua",className:"cursor-pointer text-blue-500 hover:underline",children:"Chọn tệp"})]})}),Q.hinhAnh&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:Q.hinhAnh})]})]}),r.jsxs(Ln,{className:"flex justify-end space-x-2 mt-4",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>m(!1),disabled:l,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:ue,disabled:l,className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3] flex items-center gap-2",children:[l?"Đang xử lý...":"Lưu",r.jsx(Da,{className:"h-4 w-4"})]})]})]})}),r.jsx(Yt,{open:y,onOpenChange:S,children:r.jsxs(Kt,{className:"max-w-4xl w-full",children:[r.jsxs(rn,{children:[r.jsx(Zt,{children:"Chi Tiết Thương Hiệu"}),r.jsx(kr,{children:"Thông tin chi tiết của thương hiệu."})]}),F&&r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tên Thương Hiệu"}),r.jsx(je,{value:F.tenThuongHieu,disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hình Ảnh"}),F.hinhAnh?r.jsx("img",{src:G(F.hinhAnh),alt:F.tenThuongHieu,className:"h-20 w-20 object-cover rounded"}):r.jsx("p",{children:"Không có hình ảnh"})]})]}),r.jsx(Ln,{className:"flex justify-end mt-4",children:r.jsxs(fe,{variant:"ghost",onClick:()=>S(!1),className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Đóng"]})})]})}),r.jsx(Yt,{open:A,onOpenChange:g,children:r.jsxs(Kt,{children:[r.jsxs(rn,{children:[r.jsx(Zt,{children:"Xác Nhận Xóa"}),r.jsxs(kr,{children:['Bạn có chắc chắn muốn xóa thương hiệu "',M==null?void 0:M.tenThuongHieu,'" không?']})]}),r.jsxs(Ln,{className:"flex justify-end space-x-2",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>g(!1),disabled:l,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:he,disabled:l,className:"bg-red-500 text-white hover:bg-red-600 flex items-center gap-2",children:[l?"Đang xử lý...":"Xóa",r.jsx(Ja,{className:"h-4 w-4"})]})]})]})}),r.jsx(Yt,{open:x,onOpenChange:v,children:r.jsxs(Kt,{children:[r.jsxs(rn,{children:[r.jsx(Zt,{children:"Xác Nhận Khôi Phục"}),r.jsxs(kr,{children:['Bạn có chắc chắn muốn khôi phục thương hiệu "',L==null?void 0:L.tenThuongHieu,'" không?']})]}),r.jsxs(Ln,{className:"flex justify-end space-x-2",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>v(!1),disabled:l,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:pe,disabled:l,className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3] flex items-center gap-2",children:[l?"Đang xử lý...":"Khôi phục",r.jsx(Ku,{className:"h-4 w-4"})]})]})]})}),r.jsx(Yt,{open:p,onOpenChange:b,children:r.jsxs(Kt,{children:[r.jsxs(rn,{children:[r.jsx(Zt,{children:"Xác Nhận Xóa Vĩnh Viễn"}),r.jsxs(kr,{children:['Bạn có chắc chắn muốn xóa vĩnh viễn thương hiệu "',B==null?void 0:B.tenThuongHieu,'" không? Hành động này không thể hoàn tác.']})]}),r.jsxs(Ln,{className:"flex justify-end space-x-2",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>b(!1),disabled:l,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:Ae,disabled:l,className:"bg-red-500 text-white hover:bg-red-600 flex items-center gap-2",children:[l?"Đang xử lý...":"Xóa",r.jsx(vd,{className:"h-4 w-4"})]})]})]})})]})},af=10,Ec="https://bicacuatho.azurewebsites.net",zA=n=>n?n.startsWith("data:image")?n:`data:image/png;base64,${n}`:"/placeholder-image.jpg",KA=n=>n?n.startsWith("data:")?n.split(",")[1]:n:null,m_=()=>{const[n,t]=k.useState([]),[e,s]=k.useState([]),[a,i]=k.useState([]),[o,c]=k.useState(""),[l,d]=k.useState("active"),[u,f]=k.useState(!0),[h,m]=k.useState(""),[A,g]=k.useState(!1),[p,b]=k.useState(!1),[x,v]=k.useState(!1),[y,S]=k.useState(!1),[M,P]=k.useState(!1),[B,D]=k.useState(!1),[L,O]=k.useState(null),[F,_]=k.useState(null),[E,T]=k.useState(null),[w,C]=k.useState(""),[j,N]=k.useState(""),[I,R]=k.useState([""]),[U,V]=k.useState(null),[z,X]=k.useState(null),[Q,q]=k.useState(null),[H,$]=k.useState(1),[G,J]=k.useState(!1),[te,K]=k.useState({ten:"",kiHieu:"",kichThuoc:"",hinhAnh:""}),[ne,ce]=k.useState({ten:"",kichThuoc:"",hinhAnh:""}),[oe,ee]=k.useState(!1),W=ge=>{const Se=new Map,Ie=l==="active"?1:0;return ge.forEach(ze=>{if(ze.trangThai!==Ie)return;const Le=`${ze.tenLoaiSanPham}_${ze.kiHieu}`;Se.has(Le)||Se.set(Le,{tenLoaiSanPham:ze.tenLoaiSanPham,kiHieu:ze.kiHieu,hinhAnh:ze.hinhAnh,entries:[]}),Se.get(Le).entries.push(ze)}),Array.from(Se.values()).sort((ze,Le)=>ze.tenLoaiSanPham.localeCompare(Le.tenLoaiSanPham))},Y=k.useCallback(async()=>{f(!0);try{const ge=await fetch(`${Ec}/api/LoaiSanPham?trangThai=${l==="active"?1:0}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!ge.ok){const ze=await ge.text();throw ge.status===401?new Error("Không có quyền truy cập, vui lòng đăng nhập lại."):ge.status===500?new Error("Lỗi máy chủ, vui lòng thử lại sau."):new Error(ze||"Không thể lấy danh sách loại sản phẩm.")}const Se=await ge.json();t(Se);const Ie=W(Se);s(Ie),i(Ie)}catch(ge){m(ge.message),Ce.fire({icon:"error",title:"Lỗi",text:"Lỗi khi tải danh sách loại sản phẩm: "+ge.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{f(!1)}},[l]),Z=k.useCallback(async()=>{if(!o.trim()){i(e);return}f(!0);try{const ge=new URLSearchParams({tenLoai:o,trangThai:l==="active"?"1":"0"}),Se=await fetch(`${Ec}/api/LoaiSanPham/Search?${ge}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!Se.ok){const Le=await Se.text();throw Se.status===401?new Error("Không có quyền truy cập, vui lòng đăng nhập lại."):Se.status===500?new Error("Lỗi máy chủ, vui lòng thử lại sau."):new Error(Le||"Không thể tìm kiếm loại sản phẩm.")}const Ie=await Se.json(),ze=W(Ie);i(ze),$(1)}catch(ge){m(ge.message),Ce.fire({icon:"error",title:"Lỗi",text:"Lỗi khi tìm kiếm loại sản phẩm: "+ge.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{f(!1)}},[o,e,l]);k.useEffect(()=>{const ge=setTimeout(()=>{Z()},300);return()=>clearTimeout(ge)},[o,l,Z]),k.useEffect(()=>{Y()},[Y]);const se=ge=>{if(ge.size>2*1024*1024){Ce.fire({icon:"error",title:"Lỗi",text:"Kích thước hình ảnh không được vượt quá 2MB!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}const Se=new FileReader;Se.onloadend=()=>{const Ie=Se.result;A?(V(Ie),K(ze=>({...ze,hinhAnh:""}))):p&&z&&(X({...z,hinhAnh:Ie}),ce(ze=>({...ze,hinhAnh:""})))},Se.onerror=()=>{Ce.fire({icon:"error",title:"Lỗi",text:"Không thể đọc tệp hình ảnh!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})},Se.readAsDataURL(ge)},re=ge=>{ge.preventDefault(),J(!0)},le=ge=>{ge.preventDefault(),J(!1)},ae=ge=>{ge.preventDefault(),J(!1);const Se=ge.dataTransfer.files[0];Se&&Se.type.startsWith("image/")?se(Se):Ce.fire({icon:"error",title:"Lỗi",text:"Vui lòng chọn một tệp hình ảnh!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})},ue=ge=>{var Ie;const Se=(Ie=ge.target.files)==null?void 0:Ie[0];Se&&Se.type.startsWith("image/")?se(Se):Ce.fire({icon:"error",title:"Lỗi",text:"Vui lòng chọn một tệp hình ảnh!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})},he=()=>{R([...I,""])},pe=ge=>{R(I.filter((Se,Ie)=>Ie!==ge))},Ae=(ge,Se)=>{const Ie=[...I];Ie[ge]=Se,R(Ie)},ie=()=>{let ge=!0;const Se={ten:"",kiHieu:"",kichThuoc:"",hinhAnh:""},Ie=j.trim().toUpperCase();w.trim()?w.length>100&&(Se.ten="Tên loại sản phẩm không được dài quá 100 ký tự!",ge=!1):(Se.ten="Tên loại sản phẩm không được để trống!",ge=!1),j.trim()?Ie.length!==1?(Se.kiHieu="Ký hiệu phải đúng 1 ký tự!",ge=!1):/^[A-Z]$/.test(Ie)?e.some(Le=>Le.kiHieu.toUpperCase()===Ie&&Le.entries.some($e=>$e.trangThai===1))&&(Se.kiHieu="Ký hiệu đã tồn tại! Vui lòng chọn ký hiệu khác.",ge=!1):(Se.kiHieu="Ký hiệu phải là chữ cái in hoa (A-Z)!",ge=!1):(Se.kiHieu="Ký hiệu không được để trống!",ge=!1);const ze=I.map(Le=>Le.trim().toUpperCase()).filter(Le=>Le);return ze.length===0?(Se.kichThuoc="Phải nhập ít nhất một kích thước!",ge=!1):(new Set(ze).size!==ze.length&&(Se.kichThuoc="Các kích thước không được trùng lặp!",ge=!1),ze.some($e=>!/^[A-Z0-9]{1,3}$/.test($e))&&(Se.kichThuoc="Kích thước phải là chữ cái in hoa hoặc số (1-3 ký tự, ví dụ: S, M, XL, 2XL)!",ge=!1)),U||(Se.hinhAnh="Hình ảnh không được để trống!",ge=!1),K(Se),ge},de=()=>{var ze;let ge=!0;const Se={ten:"",kichThuoc:"",hinhAnh:""};(ze=z==null?void 0:z.tenLoaiSanPham)!=null&&ze.trim()?z.tenLoaiSanPham.length>100&&(Se.ten="Tên loại sản phẩm không được dài quá 100 ký tự!",ge=!1):(Se.ten="Tên loại sản phẩm không được để trống!",ge=!1);const Ie=I.map(Le=>Le.trim().toUpperCase()).filter(Le=>Le);if(Ie.length>0){new Set(Ie).size!==Ie.length&&(Se.kichThuoc="Các kích thước mới không được trùng lặp!",ge=!1),Ie.some(et=>!/^[A-Z0-9]{1,3}$/.test(et))&&(Se.kichThuoc="Kích thước phải là chữ cái in hoa hoặc số (1-3 ký tự, ví dụ: S, M, XL, 2XL)!",ge=!1);const $e=(z==null?void 0:z.entries.filter(et=>et.trangThai===1).flatMap(et=>et.kichThuoc||[]).map(et=>et.toUpperCase()))||[];Ie.some(et=>$e.includes(et))&&(Se.kichThuoc="Kích thước mới không được trùng với kích thước hiện tại!",ge=!1)}return z!=null&&z.hinhAnh||(Se.hinhAnh="Hình ảnh không được để trống!",ge=!1),ce(Se),ge},me=async()=>{if(ie()){ee(!0);try{const ge=KA(U),Se=j.trim().toUpperCase(),Ie=I.map(Le=>Le.trim().toUpperCase()).filter(Le=>Le),ze=await fetch(`${Ec}/api/LoaiSanPham`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:JSON.stringify({tenLoaiSanPham:w.trim(),kiHieu:Se,kichThuoc:Ie.length>0?Ie:null,hinhAnh:ge,trangThai:1})});if(!ze.ok){const Le=await ze.json();throw ze.status===400?new Error(Le.error||"Dữ liệu không hợp lệ, vui lòng kiểm tra lại."):ze.status===401?new Error("Không có quyền truy cập, vui lòng đăng nhập lại."):ze.status===409?new Error(Le.error||`Ký hiệu ${Se} đã tồn tại trong cơ sở dữ liệu.`):ze.status===500?new Error("Lỗi máy chủ, vui lòng thử lại sau."):new Error("Không thể thêm loại sản phẩm.")}C(""),N(""),R([""]),V(null),K({ten:"",kiHieu:"",kichThuoc:"",hinhAnh:""}),g(!1),await Y(),Ce.fire({icon:"success",title:"Thành công",text:"Thêm loại sản phẩm thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(ge){m(ge.message),Ce.fire({icon:"error",title:"Lỗi",text:"Lỗi khi thêm loại sản phẩm: "+ge.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{ee(!1)}}},ve=async()=>{if(!(!z||!de())){ee(!0);try{const ge=KA(z.hinhAnh),Se=z.kiHieu.toUpperCase(),Ie=I.map($e=>$e.trim().toUpperCase()).filter($e=>$e),ze=z.entries.filter($e=>$e.trangThai===1).map($e=>{const et=[...$e.kichThuoc||[],...Ie].filter((jt,At,Ut)=>jt&&Ut.indexOf(jt)===At);return fetch(`${Ec}/api/LoaiSanPham/${$e.maLoaiSanPham}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:JSON.stringify({maLoaiSanPham:$e.maLoaiSanPham,tenLoaiSanPham:z.tenLoaiSanPham.trim(),kiHieu:Se,kichThuoc:et.length>0?et:null,hinhAnh:ge,trangThai:1})})}),Le=await Promise.all(ze);for(const $e of Le)if(!$e.ok){const et=await $e.json();throw $e.status===400?new Error(et.error||"Dữ liệu không hợp lệ, vui lòng kiểm tra lại."):$e.status===401?new Error("Không có quyền truy cập, vui lòng đăng nhập lại."):$e.status===404?new Error(et.error||"Loại sản phẩm không tồn tại."):$e.status===500?new Error("Lỗi máy chủ, vui lòng thử lại sau."):new Error("Không thể cập nhật loại sản phẩm.")}b(!1),X(null),R([""]),ce({ten:"",kichThuoc:"",hinhAnh:""}),await Y(),Ce.fire({icon:"success",title:"Thành công",text:"Cập nhật loại sản phẩm thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(ge){m(ge.message),Ce.fire({icon:"error",title:"Lỗi",text:"Lỗi khi cập nhật loại sản phẩm: "+ge.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{ee(!1)}}},Me=async()=>{if(L){ee(!0);try{const ge=L.entries.filter(Ie=>Ie.trangThai===1).map(Ie=>fetch(`${Ec}/api/LoaiSanPham/${Ie.maLoaiSanPham}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:JSON.stringify({maLoaiSanPham:Ie.maLoaiSanPham,tenLoaiSanPham:Ie.tenLoaiSanPham,kiHieu:Ie.kiHieu,kichThuoc:Ie.kichThuoc||null,hinhAnh:KA(Ie.hinhAnh),trangThai:0})})),Se=await Promise.all(ge);for(const Ie of Se)if(!Ie.ok){const ze=await Ie.json();throw Ie.status===400?new Error(ze.error||"Dữ liệu không hợp lệ, vui lòng kiểm tra lại."):Ie.status===401?new Error("Không có quyền truy cập, vui lòng đăng nhập lại."):Ie.status===404?new Error(ze.error||"Loại sản phẩm không tồn tại."):Ie.status===500?new Error("Lỗi máy chủ, vui lòng thử lại sau."):new Error("Không thể ẩn loại sản phẩm.")}v(!1),O(null),await Y(),Ce.fire({icon:"success",title:"Thành công",text:"Đã ẩn loại sản phẩm!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(ge){m(ge.message),Ce.fire({icon:"error",title:"Lỗi",text:"Lỗi khi ẩn loại sản phẩm: "+ge.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{ee(!1)}}},Be=async()=>{if(E){ee(!0);try{const ge=E.entries.filter(Ie=>Ie.trangThai===0).map(Ie=>fetch(`${Ec}/api/LoaiSanPham/${Ie.maLoaiSanPham}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:JSON.stringify({maLoaiSanPham:Ie.maLoaiSanPham,tenLoaiSanPham:Ie.tenLoaiSanPham,kiHieu:Ie.kiHieu,kichThuoc:Ie.kichThuoc||null,hinhAnh:KA(Ie.hinhAnh),trangThai:1})})),Se=await Promise.all(ge);for(const Ie of Se)if(!Ie.ok){const ze=await Ie.json();throw Ie.status===400?new Error(ze.error||"Dữ liệu không hợp lệ, vui lòng kiểm tra lại."):Ie.status===401?new Error("Không có quyền truy cập, vui lòng đăng nhập lại."):Ie.status===404?new Error(ze.error||"Loại sản phẩm không tồn tại."):Ie.status===500?new Error("Lỗi máy chủ, vui lòng thử lại sau."):new Error("Không thể khôi phục loại sản phẩm.")}P(!1),T(null),await Y(),Ce.fire({icon:"success",title:"Thành công",text:"Đã khôi phục loại sản phẩm!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(ge){m(ge.message),Ce.fire({icon:"error",title:"Lỗi",text:"Lỗi khi khôi phục loại sản phẩm: "+ge.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{ee(!1)}}},xe=async()=>{if(F){ee(!0);try{const ge=F.entries.map(Ie=>fetch(`${Ec}/api/LoaiSanPham/${Ie.maLoaiSanPham}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`}})),Se=await Promise.all(ge);for(const Ie of Se)if(!Ie.ok){const ze=await Ie.json();throw Ie.status===401?new Error("Không có quyền truy cập, vui lòng đăng nhập lại."):Ie.status===404?new Error(ze.error||"Loại sản phẩm không tồn tại."):Ie.status===409?new Error(ze.error||"Không thể xóa vì có dữ liệu liên quan."):Ie.status===500?new Error("Lỗi máy chủ, vui lòng thử lại sau."):new Error("Không thể xóa vĩnh viễn loại sản phẩm.")}S(!1),_(null),$(1),await Y(),Ce.fire({icon:"success",title:"Thành công",text:"Đã xóa vĩnh viễn loại sản phẩm!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(ge){m(ge.message),Ce.fire({icon:"error",title:"Lỗi",text:"Lỗi khi xóa vĩnh viễn loại sản phẩm: "+ge.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{ee(!1)}}},Te=ge=>{c(ge.target.value),$(1)},_e=k.useMemo(()=>[...a].sort((ge,Se)=>ge.tenLoaiSanPham.localeCompare(Se.tenLoaiSanPham)),[a]),Pe=Math.ceil(_e.length/af),be=_e.slice((H-1)*af,H*af),Ee=ge=>{$(ge)};return r.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-800",children:"Quản lý loại sản phẩm"}),r.jsxs(fe,{className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3]",onClick:()=>g(!0),disabled:u||oe,children:[r.jsx(Am,{className:"mr-2 h-4 w-4"})," Thêm loại sản phẩm"]})]}),r.jsxs(Na,{defaultValue:"active",className:"w-full",onValueChange:ge=>{d(ge),$(1)},children:[r.jsxs(sa,{className:"grid w-full md:w-auto grid-cols-2 gap-1",children:[r.jsxs(kn,{value:"active",className:"flex items-center gap-2",children:[r.jsx(so,{className:"h-4 w-4"})," Danh sách loại sản phẩm"]}),r.jsxs(kn,{value:"inactive",className:"flex items-center gap-2",children:[r.jsx(so,{className:"h-4 w-4"})," Khôi phục loại sản phẩm"]})]}),r.jsxs(Fn,{value:"active",children:[r.jsx("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:r.jsxs("div",{className:"relative w-full md:w-[820px]",children:[r.jsx(je,{type:"search",placeholder:"Tìm kiếm loại sản phẩm...",value:o,onChange:Te,className:"pl-10",disabled:u||oe}),r.jsx(Rn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})}),u?r.jsx("div",{className:"flex justify-center items-center",children:r.jsx(ns,{className:"h-8 w-8 animate-spin text-[#9b87f5]"})}):h?r.jsx("p",{className:"text-red-500",children:h}):r.jsxs(r.Fragment,{children:[r.jsxs(at,{children:[r.jsx(yt,{children:r.jsx(Ct,{children:"Danh sách loại sản phẩm"})}),r.jsx(dt,{children:r.jsxs(Br,{children:[r.jsx(Er,{children:r.jsxs(Rt,{children:[r.jsx(Qe,{children:"STT"}),r.jsx(Qe,{children:"Hình Ảnh"}),r.jsx(Qe,{children:"Tên Loại Sản Phẩm"}),r.jsx(Qe,{children:"Ký Hiệu"}),r.jsx(Qe,{children:"Kích Thước"}),r.jsx(Qe,{children:"Hành Động"})]})}),r.jsx(Mr,{children:be.length>0?be.map((ge,Se)=>r.jsxs(Rt,{className:"hover:bg-muted/50",children:[r.jsx(He,{children:(H-1)*af+Se+1}),r.jsx(He,{children:ge.hinhAnh?r.jsx("img",{src:zA(ge.hinhAnh),alt:ge.tenLoaiSanPham,className:"h-12 w-12 object-cover rounded",onError:Ie=>Ie.currentTarget.src="/placeholder-image.jpg"}):"Không có hình"}),r.jsx(He,{children:ge.tenLoaiSanPham}),r.jsx(He,{children:ge.kiHieu}),r.jsx(He,{children:ge.entries.map(Ie=>(Ie.kichThuoc||[]).join(", ")||"Không có").join("; ")}),r.jsx(He,{children:r.jsxs(Ar,{children:[r.jsx(gr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsx(Fs,{className:"h-4 w-4"})})}),r.jsxs(hr,{align:"end",children:[r.jsxs(ct,{onClick:()=>{q(ge),D(!0)},className:"text-green-700",children:[r.jsx(Ra,{className:"mr-2 h-4 w-4"})," Xem"]}),r.jsxs(ct,{onClick:()=>{X({...ge,hinhAnh:ge.hinhAnh||null}),R([""]),ce({ten:"",kichThuoc:"",hinhAnh:""}),b(!0)},className:"text-blue-700",children:[r.jsx(Da,{className:"mr-2 h-4 w-4"})," Sửa"]}),r.jsxs(ct,{onClick:()=>{O(ge),v(!0)},className:"text-red-700",children:[r.jsx(Ja,{className:"mr-2 h-4 w-4"})," Ẩn"]})]})]})})]},`${ge.kiHieu}_${ge.tenLoaiSanPham}`)):r.jsx(Rt,{children:r.jsx(He,{colSpan:6,className:"text-center py-6 text-muted-foreground",children:"Không tìm thấy loại sản phẩm nào."})})})]})})]}),Pe>1&&r.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[r.jsxs(fe,{onClick:()=>Ee(H-1),disabled:H===1||u||oe,variant:"outline",className:"flex items-center",children:[r.jsx(zr,{className:"h-4 w-4 mr-2"}),"Trước"]}),Array.from({length:Pe},(ge,Se)=>Se+1).map(ge=>r.jsx(fe,{onClick:()=>Ee(ge),variant:H===ge?"default":"outline",className:H===ge?"bg-[#9b87f5] text-white hover:bg-[#8a76e3]":"",disabled:u||oe,children:ge},ge)),r.jsxs(fe,{onClick:()=>Ee(H+1),disabled:H===Pe||u||oe,variant:"outline",className:"flex items-center",children:["Sau",r.jsx(xr,{className:"h-4 w-4 ml-2"})]})]})]})]}),r.jsxs(Fn,{value:"inactive",children:[r.jsx("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:r.jsxs("div",{className:"relative w-full md:w-[820px]",children:[r.jsx(je,{type:"search",placeholder:"Tìm kiếm loại sản phẩm...",value:o,onChange:Te,className:"pl-10",disabled:u||oe}),r.jsx(Rn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})}),u?r.jsx("div",{className:"flex justify-center items-center",children:r.jsx(ns,{className:"h-8 w-8 animate-spin text-[#9b87f5]"})}):h?r.jsx("p",{className:"text-red-500",children:h}):r.jsxs(r.Fragment,{children:[r.jsxs(at,{children:[r.jsx(yt,{children:r.jsx(Ct,{children:"Danh sách loại sản phẩm đã ẩn"})}),r.jsx(dt,{children:r.jsxs(Br,{children:[r.jsx(Er,{children:r.jsxs(Rt,{children:[r.jsx(Qe,{children:"STT"}),r.jsx(Qe,{children:"Hình Ảnh"}),r.jsx(Qe,{children:"Tên Loại Sản Phẩm"}),r.jsx(Qe,{children:"Ký Hiệu"}),r.jsx(Qe,{children:"Kích Thước"}),r.jsx(Qe,{children:"Hành Động"})]})}),r.jsx(Mr,{children:be.length>0?be.map((ge,Se)=>r.jsxs(Rt,{className:"hover:bg-muted/50",children:[r.jsx(He,{children:(H-1)*af+Se+1}),r.jsx(He,{children:ge.hinhAnh?r.jsx("img",{src:zA(ge.hinhAnh),alt:ge.tenLoaiSanPham,className:"h-12 w-12 object-cover rounded",onError:Ie=>Ie.currentTarget.src="/placeholder-image.jpg"}):"Không có hình"}),r.jsx(He,{children:ge.tenLoaiSanPham}),r.jsx(He,{children:ge.kiHieu}),r.jsx(He,{children:ge.entries.map(Ie=>(Ie.kichThuoc||[]).join(", ")||"Không có").join("; ")}),r.jsx(He,{children:r.jsxs(Ar,{children:[r.jsx(gr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsx(Fs,{className:"h-4 w-4"})})}),r.jsxs(hr,{align:"end",children:[r.jsxs(ct,{onClick:()=>{q(ge),D(!0)},className:"text-green-700",children:[r.jsx(Ra,{className:"mr-2 h-4 w-4"})," Chi tiết"]}),r.jsxs(ct,{onClick:()=>{T(ge),P(!0)},className:"text-blue-700",children:[r.jsx(Ku,{className:"mr-2 h-4 w-4"})," Khôi phục"]}),r.jsxs(ct,{onClick:()=>{_(ge),S(!0)},className:"text-red-700",children:[r.jsx(vd,{className:"mr-2 h-4 w-4"})," Xóa vĩnh viễn"]})]})]})})]},`${ge.kiHieu}_${ge.tenLoaiSanPham}`)):r.jsx(Rt,{children:r.jsx(He,{colSpan:6,className:"text-center py-6 text-muted-foreground",children:"Không có loại sản phẩm nào để khôi phục."})})})]})})]}),Pe>1&&r.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[r.jsxs(fe,{onClick:()=>Ee(H-1),disabled:H===1||u||oe,variant:"outline",className:"flex items-center",children:[r.jsx(zr,{className:"h-4 w-4 mr-2"}),"Trước"]}),Array.from({length:Pe},(ge,Se)=>Se+1).map(ge=>r.jsx(fe,{onClick:()=>Ee(ge),variant:H===ge?"default":"outline",className:H===ge?"bg-[#9b87f5] text-white hover:bg-[#8a76e3]":"",disabled:u||oe,children:ge},ge)),r.jsxs(fe,{onClick:()=>Ee(H+1),disabled:H===Pe||u||oe,variant:"outline",className:"flex items-center",children:["Sau",r.jsx(xr,{className:"h-4 w-4 ml-2"})]})]})]})]})]}),r.jsx(Yt,{open:A,onOpenChange:ge=>{g(ge),ge||(C(""),N(""),R([""]),V(null),K({ten:"",kiHieu:"",kichThuoc:"",hinhAnh:""}))},children:r.jsxs(Kt,{className:"max-w-4xl w-full",children:[r.jsxs(rn,{children:[r.jsx(Zt,{children:"Thêm Loại Sản Phẩm"}),r.jsx(kr,{children:"Nhập thông tin loại sản phẩm mới."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tên Loại Sản Phẩm"}),r.jsx(je,{value:w,onChange:ge=>{C(ge.target.value),K(Se=>({...Se,ten:""}))},placeholder:"Tên loại sản phẩm",maxLength:100,disabled:oe}),te.ten&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:te.ten})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ký Hiệu"}),r.jsx(je,{value:j,onChange:ge=>{N(ge.target.value.toUpperCase()),K(Se=>({...Se,kiHieu:""}))},placeholder:"Ký hiệu (1 chữ cái in hoa)",maxLength:1,disabled:oe}),te.kiHieu&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:te.kiHieu})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hình Ảnh"}),r.jsx("div",{className:`border-2 border-dashed rounded-lg p-4 text-center ${G?"border-blue-500 bg-blue-50":"border-gray-300"}`,onDragOver:re,onDragLeave:le,onDrop:ae,children:U?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:U,alt:"Preview",className:"h-32 w-64 mx-auto object-cover rounded"}),r.jsx("button",{onClick:()=>V(null),className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center",disabled:oe,children:"✕"})]}):r.jsxs("div",{children:[r.jsx(Lr,{className:"h-8 w-8 mx-auto text-gray-400"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Kéo và thả hình ảnh vào đây hoặc nhấp để chọn (Tối đa 2MB)"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"fileInputThem",onChange:ue,disabled:oe}),r.jsx("label",{htmlFor:"fileInputThem",className:"cursor-pointer text-blue-500 hover:underline",children:"Chọn tệp"})]})}),te.hinhAnh&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:te.hinhAnh})]})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kích Thước"}),r.jsxs("div",{className:"max-h-80 overflow-y-auto border border-gray-200 rounded-md p-2",children:[I.map((ge,Se)=>r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(je,{value:ge,onChange:Ie=>{Ae(Se,Ie.target.value.toUpperCase()),K(ze=>({...ze,kichThuoc:""}))},placeholder:"Kích thước (ví dụ: S, M, XL)",maxLength:3,disabled:oe}),I.length>1&&r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>pe(Se),disabled:oe,children:r.jsx(st,{className:"h-4 w-4"})})]},Se)),r.jsxs(fe,{variant:"outline",size:"sm",onClick:he,className:"mt-2 w-full",disabled:oe,children:[r.jsx(cr,{className:"h-4 w-4 mr-2"})," Thêm Kích Thước"]}),te.kichThuoc&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:te.kichThuoc})]})]})})]}),r.jsxs(Ln,{className:"flex justify-end space-x-2 mt-4",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>g(!1),disabled:oe,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:me,disabled:oe,className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3] flex items-center gap-2",children:[oe?r.jsx(ns,{className:"h-4 w-4 animate-spin"}):"Thêm",r.jsx(cr,{className:"h-4 w-4"})]})]})]})}),r.jsx(Yt,{open:p,onOpenChange:ge=>{b(ge),ge||(X(null),R([""]),ce({ten:"",kichThuoc:"",hinhAnh:""}))},children:r.jsxs(Kt,{className:"max-w-4xl w-full",children:[r.jsxs(rn,{children:[r.jsx(Zt,{children:"Sửa Loại Sản Phẩm"}),r.jsx(kr,{children:"Cập nhật thông tin loại sản phẩm."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tên Loại Sản Phẩm"}),r.jsx(je,{value:(z==null?void 0:z.tenLoaiSanPham)||"",onChange:ge=>{X({...z,tenLoaiSanPham:ge.target.value}),ce(Se=>({...Se,ten:""}))},placeholder:"Tên loại sản phẩm",maxLength:100,disabled:oe}),ne.ten&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:ne.ten})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ký Hiệu"}),r.jsx(je,{value:(z==null?void 0:z.kiHieu)||"",onChange:()=>{},placeholder:"Ký hiệu",maxLength:1,disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kích Thước Hiện Tại"}),r.jsxs("div",{className:"max-h-60 overflow-y-auto border border-gray-200 rounded-md p-2",children:[z==null?void 0:z.entries.filter(ge=>ge.trangThai===1).map((ge,Se)=>r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(je,{value:(ge.kichThuoc||[]).join(", ")||"Không có",disabled:!0}),r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>{O({...z,entries:[ge]}),v(!0)},disabled:oe,children:r.jsx(Wi,{className:"h-4 w-4"})})]},Se)),(z==null?void 0:z.entries.filter(ge=>ge.trangThai===1).length)===0&&r.jsx("p",{className:"text-gray-500 text-sm",children:"Không có kích thước hoạt động."})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hình Ảnh"}),r.jsx("div",{className:`border-2 border-dashed rounded-lg p-4 text-center ${G?"border-blue-500 bg-blue-50":"border-gray-300"}`,onDragOver:re,onDragLeave:le,onDrop:ae,children:z!=null&&z.hinhAnh?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:zA(z.hinhAnh),alt:"Preview",className:"h-32 w-64 mx-auto object-cover rounded"}),r.jsx("button",{onClick:()=>X({...z,hinhAnh:null}),className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center",disabled:oe,children:"✕"})]}):r.jsxs("div",{children:[r.jsx(Lr,{className:"h-8 w-8 mx-auto text-gray-400"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Kéo và thả hình ảnh vào đây hoặc nhấp để chọn (Tối đa 2MB)"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"fileInputSua",onChange:ue,disabled:oe}),r.jsx("label",{htmlFor:"fileInputSua",className:"cursor-pointer text-blue-500 hover:underline",children:"Chọn tệp"})]})}),ne.hinhAnh&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:ne.hinhAnh})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Thêm Kích Thước Mới"}),r.jsxs("div",{className:"max-h-60 overflow-y-auto border border-gray-200 rounded-md p-2",children:[I.map((ge,Se)=>r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(je,{value:ge,onChange:Ie=>{Ae(Se,Ie.target.value.toUpperCase()),ce(ze=>({...ze,kichThuoc:""}))},placeholder:"Kích thước (ví dụ: S, M, XL)",maxLength:3,disabled:oe}),I.length>1&&r.jsx(fe,{variant:"outline",size:"sm",onClick:()=>pe(Se),disabled:oe,children:r.jsx(st,{className:"h-4 w-4"})})]},Se)),r.jsxs(fe,{variant:"outline",size:"sm",onClick:he,className:"mt-2 w-full",disabled:oe,children:[r.jsx(cr,{className:"h-4 w-4 mr-2"})," Thêm Kích Thước"]}),ne.kichThuoc&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:ne.kichThuoc})]})]})]})]}),r.jsxs(Ln,{className:"flex justify-end space-x-2 mt-4",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>b(!1),disabled:oe,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:ve,disabled:oe,className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3] flex items-center gap-2",children:[oe?r.jsx(ns,{className:"h-4 w-4 animate-spin"}):"Lưu",r.jsx(Da,{className:"h-4 w-4"})]})]})]})}),r.jsx(Yt,{open:B,onOpenChange:D,children:r.jsxs(Kt,{className:"max-w-4xl w-full",children:[r.jsx(rn,{children:r.jsx(Zt,{children:"Chi Tiết Loại Sản Phẩm"})}),Q&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tên Loại Sản Phẩm"}),r.jsx(je,{value:Q.tenLoaiSanPham,disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ký Hiệu"}),r.jsx(je,{value:Q.kiHieu,disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hình Ảnh"}),Q.hinhAnh?r.jsx("img",{src:zA(Q.hinhAnh),alt:Q.tenLoaiSanPham,className:"h-32 w-64 object-cover rounded",onError:ge=>ge.currentTarget.src="/placeholder-image.jpg"}):r.jsx("p",{children:"Không có hình ảnh"})]})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Kích Thước"}),r.jsxs("div",{className:"max-h-80 overflow-y-auto border border-gray-200 rounded-md p-2",children:[Q.entries.map((ge,Se)=>r.jsx("div",{className:"flex items-center gap-2 mb-2",children:r.jsx(je,{value:(ge.kichThuoc||[]).join(", ")||"Không có",disabled:!0})},Se)),Q.entries.length===0&&r.jsx("p",{className:"text-gray-500 text-sm",children:"Không có kích thước."})]})]})})]}),r.jsx(Ln,{className:"flex justify-end space-x-2 mt-4",children:r.jsxs(fe,{variant:"ghost",onClick:()=>D(!1),disabled:oe,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Đóng"]})})]})}),r.jsx(Yt,{open:x,onOpenChange:v,children:r.jsxs(Kt,{children:[r.jsxs(rn,{children:[r.jsx(Zt,{children:"Xác nhận ẩn loại sản phẩm"}),r.jsx(kr,{children:"Bạn có chắc chắn muốn ẩn loại sản phẩm này không? Bạn có thể khôi phục lại sau."})]}),r.jsxs(Ln,{className:"flex justify-end space-x-2 mt-4",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>v(!1),disabled:oe,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:Me,disabled:oe,className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3] flex items-center gap-2",children:[oe?r.jsx(ns,{className:"h-4 w-4 animate-spin"}):"Ẩn",r.jsx(Ja,{className:"h-4 w-4"})]})]})]})}),r.jsx(Yt,{open:M,onOpenChange:P,children:r.jsxs(Kt,{children:[r.jsxs(rn,{children:[r.jsx(Zt,{children:"Xác nhận khôi phục loại sản phẩm"}),r.jsx(kr,{children:"Bạn có chắc chắn muốn khôi phục loại sản phẩm này không?"})]}),r.jsxs(Ln,{className:"flex justify-end space-x-2 mt-4",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>P(!1),disabled:oe,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:Be,disabled:oe,className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3] flex items-center gap-2",children:[oe?r.jsx(ns,{className:"h-4 w-4 animate-spin"}):"Khôi phục",r.jsx(Ku,{className:"h-4 w-4"})]})]})]})}),r.jsx(Yt,{open:y,onOpenChange:S,children:r.jsxs(Kt,{children:[r.jsxs(rn,{children:[r.jsx(Zt,{children:"Xác nhận xóa vĩnh viễn loại sản phẩm"}),r.jsx(kr,{children:"Bạn có chắc chắn muốn xóa vĩnh viễn loại sản phẩm này không? Hành động này không thể hoàn tác."})]}),r.jsxs(Ln,{className:"flex justify-end space-x-2 mt-4",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>S(!1),disabled:oe,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:xe,disabled:oe,className:"bg-red-500 text-white hover:bg-red-600 flex items-center gap-2",children:[oe?r.jsx(ns,{className:"h-4 w-4 animate-spin"}):"Xóa vĩnh viễn",r.jsx(vd,{className:"h-4 w-4"})]})]})]})})]})},of=10,ru="https://bicacuatho.azurewebsites.net",p_=()=>{const[n,t]=k.useState([]),[e,s]=k.useState(""),[a,i]=k.useState("active"),[o,c]=k.useState(!0),[l,d]=k.useState(!1),[u,f]=k.useState(!1),[h,m]=k.useState(!1),[A,g]=k.useState(!1),[p,b]=k.useState(!1),[x,v]=k.useState(!1),[y,S]=k.useState(!1),[M,P]=k.useState(null),[B,D]=k.useState(null),[L,O]=k.useState(null),[F,_]=k.useState(null),[E,T]=k.useState(""),[w,C]=k.useState(""),[j,N]=k.useState(null),[I,R]=k.useState(1),[U,V]=k.useState(!1),[z,X]=k.useState({ten:"",hinhAnh:""}),[Q,q]=k.useState({ten:"",hinhAnh:""}),[H,$]=k.useState(""),G=ie=>ie?ie.startsWith("data:image")?ie:`data:image/png;base64,${ie}`:"",J=ie=>ie?ie.startsWith("data:")?ie.split(",")[1]:ie:"",te=k.useCallback(async()=>{try{c(!0);const de=await fetch(`${ru}/api/HashTag?trangThai=${a==="active"?1:0}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!de.ok){const ve=await de.text();throw new Error(ve||"Không thể lấy danh sách hashtag")}const me=await de.json();t(me)}catch(ie){Ce.fire({icon:"error",title:"Lỗi",text:"Lỗi khi tải danh sách hashtag: "+ie.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{c(!1)}},[a]),K=ie=>{s(ie.target.value.toLowerCase()),R(1)},ne=k.useMemo(()=>{const ie=a==="active"?1:0;return n.filter(me=>me.trangThai===ie&&(me.tenHashTag.toLowerCase().includes(e)||me.maHashTag.toString().includes(e))).sort((me,ve)=>ve.maHashTag-me.maHashTag)},[n,e,a]),ce=Math.ceil(ne.length/of),oe=ne.slice((I-1)*of,I*of),ee=ie=>{R(ie)},W=ie=>{ie.preventDefault(),V(!0)},Y=()=>V(!1),Z=ie=>{ie.preventDefault(),V(!1);const de=ie.dataTransfer.files[0];if(de&&de.size<=2*1024*1024){const me=new FileReader;me.onloadend=()=>C(me.result),me.readAsDataURL(de)}else Ce.fire({icon:"error",title:"Lỗi",text:"Hình ảnh phải nhỏ hơn 2MB!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})},se=ie=>{var me;const de=(me=ie.target.files)==null?void 0:me[0];if(de&&de.size<=2*1024*1024){const ve=new FileReader;ve.onloadend=()=>C(ve.result),ve.readAsDataURL(de)}else Ce.fire({icon:"error",title:"Lỗi",text:"Hình ảnh phải nhỏ hơn 2MB!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})},re=()=>{let ie=!0;const de={ten:"",hinhAnh:""};return E.trim()||(de.ten="Tên hashtag không được để trống!",ie=!1),w||(de.hinhAnh="Hình ảnh không được để trống!",ie=!1),X(de),ie},le=()=>{var me;let ie=!0;const de={ten:"",hinhAnh:""};return(me=j==null?void 0:j.tenHashTag)!=null&&me.trim()||(de.ten="Tên hashtag không được để trống!",ie=!1),j!=null&&j.hinhAnh||(de.hinhAnh="Hình ảnh không được để trống!",ie=!1),q(de),ie},ae=async()=>{if(re())try{d(!0);const ie=J(w),de=await fetch(`${ru}/api/HashTag`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({TenHashTag:E,HinhAnh:ie,TrangThai:1})});if(!de.ok){const me=await de.text();throw new Error(me||"Không thể thêm hashtag")}T(""),C(""),X({ten:"",hinhAnh:""}),f(!1),await te(),Ce.fire({icon:"success",title:"Thành công",text:"Thêm hashtag thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(ie){Ce.fire({icon:"error",title:"Lỗi",text:"Lỗi khi thêm hashtag: "+ie.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{d(!1)}},ue=async()=>{if(!(!le()||!j))try{d(!0),$("");const ie=J(j.hinhAnh||""),de=await fetch(`${ru}/api/HashTag/${j.maHashTag}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({MaHashTag:j.maHashTag,TenHashTag:j.tenHashTag,HinhAnh:ie,TrangThai:j.trangThai})});if(!de.ok){const me=await de.text();if(de.status===404)throw new Error("Hashtag không tồn tại");if(de.status===409){$("Tên hashtag đã tồn tại");return}else if(de.status===500)throw new Error("Lỗi máy chủ, vui lòng thử lại sau");throw new Error(me||"Không thể sửa hashtag")}m(!1),N(null),$(""),await te(),Ce.fire({icon:"success",title:"Thành công",text:"Sửa hashtag thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(ie){Ce.fire({icon:"error",title:"Lỗi",text:"Lỗi khi sửa hashtag: "+ie.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{d(!1)}},he=async()=>{if(M)try{d(!0);const ie=await fetch(`${ru}/api/HashTag/${M.maHashTag}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({MaHashTag:M.maHashTag,TenHashTag:M.tenHashTag,HinhAnh:M.hinhAnh,TrangThai:M.trangThai===1?0:1})});if(!ie.ok){const de=await ie.text();throw ie.status===404?new Error("Hashtag không tồn tại"):ie.status===409?new Error("Tên hashtag đã tồn tại"):ie.status===500?new Error("Lỗi máy chủ, vui lòng thử lại sau"):new Error(de||"Không thể xóa hashtag")}g(!1),P(null),R(1),await te(),Ce.fire({icon:"success",title:"Thành công",text:"Xóa hashtag thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(ie){Ce.fire({icon:"error",title:"Lỗi",text:"Lỗi khi xóa hashtag: "+ie.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{d(!1)}},pe=async()=>{if(L)try{d(!0);const ie=await fetch(`${ru}/api/HashTag/${L.maHashTag}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({MaHashTag:L.maHashTag,TenHashTag:L.tenHashTag,HinhAnh:L.hinhAnh,TrangThai:1})});if(!ie.ok){const de=await ie.text();throw ie.status===404?new Error("Hashtag không tồn tại"):ie.status===409?new Error("Tên hashtag đã tồn tại"):ie.status===500?new Error("Lỗi máy chủ, vui lòng thử lại sau"):new Error(de||"Không thể khôi phục hashtag")}v(!1),O(null),R(1),await te(),Ce.fire({icon:"success",title:"Thành công",text:"Khôi phục hashtag thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(ie){Ce.fire({icon:"error",title:"Lỗi",text:"Lỗi khi khôi phục hashtag: "+ie.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{d(!1)}},Ae=async()=>{if(B)try{d(!0);const ie=await fetch(`${ru}/api/HashTag/${B.maHashTag}`,{method:"DELETE"});if(!ie.ok){const de=await ie.text();throw ie.status===404?new Error("Hashtag không tồn tại"):ie.status===409?new Error("Không thể xóa vì có dữ liệu liên quan"):ie.status===500?new Error("Lỗi máy chủ, vui lòng thử lại sau"):new Error(de||"Không thể xóa hashtag")}b(!1),D(null),R(1),await te(),Ce.fire({icon:"success",title:"Thành công",text:"Xóa vĩnh viễn hashtag thành công!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(ie){Ce.fire({icon:"error",title:"Lỗi",text:"Lỗi khi xóa hashtag: "+ie.message,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{d(!1)}};return k.useEffect(()=>{te()},[te]),r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-800",children:"Quản lý hashtag"}),a==="active"&&r.jsxs(fe,{className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3]",onClick:()=>f(!0),disabled:o||l,children:[r.jsx(Am,{className:"mr-2 h-4 w-4"})," Thêm Hashtag"]})]}),r.jsxs(Na,{defaultValue:"active",className:"w-full",onValueChange:ie=>i(ie),children:[r.jsxs(sa,{className:"grid w-full md:w-auto grid-cols-2 gap-1",children:[r.jsxs(kn,{value:"active",className:"flex items-center gap-2",children:[r.jsx(so,{className:"h-4 w-4"})," Danh sách hashtag"]}),r.jsxs(kn,{value:"inactive",className:"flex items-center gap-2",children:[r.jsx(so,{className:"h-4 w-4"})," Khôi phục hashtag"]})]}),r.jsxs(Fn,{value:"active",children:[r.jsx("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(je,{type:"search",placeholder:"Tìm kiếm hashtag...",value:e,onChange:K,className:"w-full md:w-[820px] pl-10"}),r.jsx(Rn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})}),o?r.jsx("div",{className:"flex justify-center items-center",children:r.jsx(ns,{className:"h-8 w-8 animate-spin text-[#9b87f5]"})}):r.jsxs(r.Fragment,{children:[r.jsxs(at,{children:[r.jsx(yt,{children:r.jsx(Ct,{children:"Danh sách hashtag"})}),r.jsx(dt,{children:r.jsxs(Br,{children:[r.jsx(Er,{children:r.jsxs(Rt,{children:[r.jsx(Qe,{children:"STT"}),r.jsx(Qe,{children:"Hình Ảnh"}),r.jsx(Qe,{children:"Tên Hashtag"}),r.jsx(Qe,{children:"Hành Động"})]})}),r.jsx(Mr,{children:oe.length>0?oe.map((ie,de)=>r.jsxs(Rt,{className:"hover:bg-muted/50",children:[r.jsx(He,{children:(I-1)*of+de+1}),r.jsx(He,{children:ie.hinhAnh?r.jsx("img",{src:G(ie.hinhAnh),alt:ie.tenHashTag,className:"h-12 w-12 object-cover rounded",onError:me=>me.currentTarget.src="/placeholder-image.jpg"}):"Không có hình"}),r.jsx(He,{children:ie.tenHashTag}),r.jsx(He,{children:r.jsxs(Ar,{children:[r.jsx(gr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsx(Fs,{className:"h-4 w-4"})})}),r.jsxs(hr,{align:"end",children:[r.jsxs(ct,{onClick:()=>{_(ie),S(!0)},className:"text-green-700",children:[r.jsx(Ra,{className:"mr-2 h-4 w-4"})," Xem"]}),r.jsxs(ct,{onClick:()=>{N({...ie}),m(!0)},className:"text-blue-700",children:[r.jsx(Da,{className:"mr-2 h-4 w-4"})," Sửa"]}),r.jsxs(ct,{onClick:()=>{P(ie),g(!0)},className:"text-red-700",children:[r.jsx(Ja,{className:"mr-2 h-4 w-4"})," Xóa"]})]})]})})]},ie.maHashTag)):r.jsx(Rt,{children:r.jsx(He,{colSpan:5,className:"text-center py-6 text-muted-foreground",children:"Không tìm thấy hashtag nào."})})})]})})]}),ce>1&&r.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[r.jsxs(fe,{onClick:()=>ee(I-1),disabled:I===1,variant:"outline",className:"flex items-center",children:[r.jsx(zr,{className:"h-4 w-4 mr-2"}),"Trước"]}),Array.from({length:ce},(ie,de)=>de+1).map(ie=>r.jsx(fe,{onClick:()=>ee(ie),variant:I===ie?"default":"outline",className:I===ie?"bg-[#9b87f5] text-white hover:bg-[#8a76e3]":"",children:ie},ie)),r.jsxs(fe,{onClick:()=>ee(I+1),disabled:I===ce,variant:"outline",className:"flex items-center",children:["Sau",r.jsx(xr,{className:"h-4 w-4 ml-2"})]})]})]})]}),r.jsxs(Fn,{value:"inactive",children:[r.jsx("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(je,{type:"search",placeholder:"Tìm kiếm hashtag đã xóa...",value:e,onChange:K,className:"w-full md:w-[820px] pl-10"}),r.jsx(Rn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})}),o?r.jsx("div",{className:"flex justify-center items-center",children:r.jsx(ns,{className:"h-8 w-8 animate-spin text-[#9b87f5]"})}):r.jsxs(r.Fragment,{children:[r.jsxs(at,{children:[r.jsx(yt,{children:r.jsx(Ct,{children:"Danh Sách Hashtag Đã Xóa"})}),r.jsx(dt,{children:r.jsxs(Br,{children:[r.jsx(Er,{children:r.jsxs(Rt,{children:[r.jsx(Qe,{children:"STT"}),r.jsx(Qe,{children:"Hình Ảnh"}),r.jsx(Qe,{children:"Tên Hashtag"}),r.jsx(Qe,{children:"Hành Động"})]})}),r.jsx(Mr,{children:oe.length>0?oe.map((ie,de)=>r.jsxs(Rt,{className:"hover:bg-muted/50",children:[r.jsx(He,{children:(I-1)*of+de+1}),r.jsx(He,{children:ie.hinhAnh?r.jsx("img",{src:G(ie.hinhAnh),alt:ie.tenHashTag,className:"h-12 w-12 object-cover rounded",onError:me=>me.currentTarget.src="/placeholder-image.jpg"}):"Không có hình"}),r.jsx(He,{children:ie.tenHashTag}),r.jsx(He,{children:r.jsxs(Ar,{children:[r.jsx(gr,{asChild:!0,children:r.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsx(Fs,{className:"h-4 w-4"})})}),r.jsxs(hr,{align:"end",children:[r.jsxs(ct,{onClick:()=>{_(ie),S(!0)},className:"text-green-700",children:[r.jsx(Ra,{className:"mr-2 h-4 w-4"})," Chi tiết"]}),r.jsxs(ct,{onClick:()=>{O(ie),v(!0)},className:"text-blue-700",children:[r.jsx(Ku,{className:"mr-2 h-4 w-4"})," Khôi phục"]}),r.jsxs(ct,{onClick:()=>{D(ie),b(!0)},className:"text-red-700",children:[r.jsx(vd,{className:"mr-2 h-4 w-4"})," Xóa vĩnh viễn"]})]})]})})]},ie.maHashTag)):r.jsx(Rt,{children:r.jsx(He,{colSpan:5,className:"text-center py-6 text-muted-foreground",children:"Không tìm thấy hashtag nào."})})})]})})]}),ce>1&&r.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[r.jsxs(fe,{onClick:()=>ee(I-1),disabled:I===1,variant:"outline",className:"flex items-center",children:[r.jsx(zr,{className:"h-4 w-4 mr-2"}),"Trước"]}),Array.from({length:ce},(ie,de)=>de+1).map(ie=>r.jsx(fe,{onClick:()=>ee(ie),variant:I===ie?"default":"outline",className:I===ie?"bg-[#9b87f5] text-white hover:bg-[#8a76e3]":"",children:ie},ie)),r.jsxs(fe,{onClick:()=>ee(I+1),disabled:I===ce,variant:"outline",className:"flex items-center",children:["Sau",r.jsx(xr,{className:"h-4 w-4 ml-2"})]})]})]})]})]}),r.jsx(Yt,{open:u,onOpenChange:f,children:r.jsxs(Kt,{className:"max-w-4xl w-full",children:[r.jsxs(rn,{children:[r.jsx(Zt,{children:"Thêm Hashtag"}),r.jsx(kr,{children:"Nhập thông tin hashtag mới."})]}),r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tên Hashtag"}),r.jsx(je,{value:E,onChange:ie=>{T(ie.target.value),X(de=>({...de,ten:""}))},placeholder:"Tên hashtag",disabled:l}),z.ten&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:z.ten})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hình Ảnh"}),r.jsx("div",{className:`border-2 border-dashed rounded-lg p-4 text-center ${U?"border-blue-500 bg-blue-50":"border-gray-300"}`,onDragOver:W,onDragLeave:Y,onDrop:Z,children:w?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:w,alt:"Preview",className:"h-20 w-20 mx-auto object-cover rounded"}),r.jsx("button",{onClick:()=>C(""),className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center",disabled:l,children:"✕"})]}):r.jsxs("div",{children:[r.jsx(Lr,{className:"h-8 w-8 mx-auto text-gray-400"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Kéo và thả hình ảnh vào đây hoặc nhấp để chọn (Tối đa 2MB)"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"fileInputThem",onChange:se,disabled:l}),r.jsx("label",{htmlFor:"fileInputThem",className:"cursor-pointer text-blue-500 hover:underline",children:"Chọn tệp"})]})}),z.hinhAnh&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:z.hinhAnh})]})]}),r.jsxs(Ln,{className:"flex justify-end space-x-2 mt-4",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>f(!1),disabled:l,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:ae,disabled:l,className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3] flex items-center gap-2",children:[l?"Đang xử lý...":"Thêm",r.jsx(Am,{className:"h-4 w-4"})]})]})]})}),r.jsx(Yt,{open:h,onOpenChange:m,children:r.jsxs(Kt,{className:"max-w-4xl w-full",children:[r.jsxs(rn,{children:[r.jsx(Zt,{children:"Sửa Hashtag"}),r.jsx(kr,{children:"Cập nhật thông tin hashtag."})]}),j&&r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tên Hashtag"}),r.jsx(je,{value:j.tenHashTag,onChange:ie=>{N({...j,tenHashTag:ie.target.value}),q(de=>({...de,ten:""})),$("")},placeholder:"Tên hashtag",disabled:l}),Q.ten&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:Q.ten}),H&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:H})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hình Ảnh"}),r.jsx("div",{className:`border-2 border-dashed rounded-lg p-4 text-center ${U?"border-blue-500 bg-blue-50":"border-gray-300"}`,onDragOver:W,onDragLeave:Y,onDrop:Z,children:j.hinhAnh?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:G(j.hinhAnh),alt:"Preview",className:"h-20 w-20 mx-auto object-cover rounded"}),r.jsx("button",{onClick:()=>N({...j,hinhAnh:""}),className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center",disabled:l,children:"✕"})]}):r.jsxs("div",{children:[r.jsx(Lr,{className:"h-8 w-8 mx-auto text-gray-400"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Kéo và thả hình ảnh vào đây hoặc nhấp để chọn (Tối đa 2MB)"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"fileInputSua",onChange:ie=>{var me;const de=(me=ie.target.files)==null?void 0:me[0];if(de&&de.size<=2*1024*1024){const ve=new FileReader;ve.onloadend=()=>N({...j,hinhAnh:ve.result}),ve.readAsDataURL(de)}else Ce.fire({icon:"error",title:"Lỗi",text:"Hình ảnh phải nhỏ hơn 2MB!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})},disabled:l}),r.jsx("label",{htmlFor:"fileInputSua",className:"cursor-pointer text-blue-500 hover:underline",children:"Chọn tệp"})]})}),Q.hinhAnh&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:Q.hinhAnh})]})]}),r.jsxs(Ln,{className:"flex justify-end space-x-2 mt-4",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>m(!1),disabled:l,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:ue,disabled:l,className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3] flex items-center gap-2",children:[l?"Đang xử lý...":"Lưu",r.jsx(Da,{className:"h-4 w-4"})]})]})]})}),r.jsx(Yt,{open:y,onOpenChange:S,children:r.jsxs(Kt,{className:"max-w-4xl w-full",children:[r.jsxs(rn,{children:[r.jsx(Zt,{children:"Chi Tiết Hashtag"}),r.jsx(kr,{children:"Thông tin chi tiết của hashtag."})]}),F&&r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tên Hashtag"}),r.jsx(je,{value:F.tenHashTag,disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hình Ảnh"}),F.hinhAnh?r.jsx("img",{src:G(F.hinhAnh),alt:F.tenHashTag,className:"h-20 w-20 object-cover rounded"}):r.jsx("p",{children:"Không có hình ảnh"})]})]}),r.jsx(Ln,{className:"flex justify-end mt-4",children:r.jsxs(fe,{variant:"ghost",onClick:()=>S(!1),className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Đóng"]})})]})}),r.jsx(Yt,{open:A,onOpenChange:g,children:r.jsxs(Kt,{children:[r.jsxs(rn,{children:[r.jsx(Zt,{children:"Xác Nhận Xóa"}),r.jsxs(kr,{children:['Bạn có chắc chắn muốn xóa hashtag "',M==null?void 0:M.tenHashTag,'" không?']})]}),r.jsxs(Ln,{className:"flex justify-end space-x-2",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>g(!1),disabled:l,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:he,disabled:l,className:"bg-red-500 text-white hover:bg-red-600 flex items-center gap-2",children:[l?"Đang xử lý...":"Xóa",r.jsx(Ja,{className:"h-4 w-4"})]})]})]})}),r.jsx(Yt,{open:x,onOpenChange:v,children:r.jsxs(Kt,{children:[r.jsxs(rn,{children:[r.jsx(Zt,{children:"Xác Nhận Khôi Phục"}),r.jsxs(kr,{children:['Bạn có chắc chắn muốn khôi phục hashtag "',L==null?void 0:L.tenHashTag,'" không?']})]}),r.jsxs(Ln,{className:"flex justify-end space-x-2",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>v(!1),disabled:l,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:pe,disabled:l,className:"bg-[#9b87f5] text-white hover:bg-[#8a76e3] flex items-center gap-2",children:[l?"Đang xử lý...":"Khôi phục",r.jsx(Ku,{className:"h-4 w-4"})]})]})]})}),r.jsx(Yt,{open:p,onOpenChange:b,children:r.jsxs(Kt,{children:[r.jsxs(rn,{children:[r.jsx(Zt,{children:"Xác Nhận Xóa Vĩnh Viễn"}),r.jsxs(kr,{children:['Bạn có chắc chắn muốn xóa vĩnh viễn hashtag "',B==null?void 0:B.tenHashTag,'" không? Hành động này không thể hoàn tác.']})]}),r.jsxs(Ln,{className:"flex justify-end space-x-2",children:[r.jsxs(fe,{variant:"ghost",onClick:()=>b(!1),disabled:l,className:"flex items-center gap-2 bg-[#e7e4f5]",children:[r.jsx(st,{className:"h-4 w-4"})," Hủy"]}),r.jsxs(fe,{onClick:Ae,disabled:l,className:"bg-red-500 text-white hover:bg-red-600 flex items-center gap-2",children:[l?"Đang xử lý...":"Xóa",r.jsx(vd,{className:"h-4 w-4"})]})]})]})})]})},a6e=()=>{const n=fs(),t=dr(),[e,s]=k.useState(null),[a,i]=k.useState(null),[o,c]=k.useState(null),[l,d]=k.useState(!1);k.useEffect(()=>{const h=new URLSearchParams(n.search),m=h.get("status"),A=h.get("orderId"),g=h.get("transactionId");if(console.log("PaymentSuccess URL Params:",{status:m,orderId:A,transactionId:g,rawQuery:n.search,statusCheck:(m==null?void 0:m.toLowerCase().trim())==="success"}),(m==null?void 0:m.toLowerCase().trim())==="success"&&A){s(!0),i(A),c(g),setTimeout(()=>d(!0),500),xt.success(`Thanh toán VNPay thành công! Mã đơn hàng: ${A}`,{duration:5e3,className:"bg-green-500 text-white border border-green-700 shadow-lg"}),localStorage.removeItem("checkoutForm"),localStorage.removeItem("showAddressModal"),localStorage.removeItem("scrollY");const p=setTimeout(()=>{console.log("Navigating to home with clearCart"),t("/",{state:{orderId:A,clearCart:!0}})},1e4);return()=>clearTimeout(p)}else{s(!1),xt.error("Không tìm thấy thông tin thanh toán VNPay",{duration:7e3,className:"bg-red-500 text-white border border-red-700 shadow-lg"});const p=setTimeout(()=>{console.log("Navigating to cart after error"),t("/user/cart")},7e3);return()=>clearTimeout(p)}},[n,t]);const u=({delay:h,left:m,color:A})=>r.jsx("div",{className:`absolute w-3 h-3 ${A} opacity-80 animate-bounce`,style:{left:m,top:"-10px",animationDelay:`${h}s`,animationDuration:"3s",animationIterationCount:"infinite"}}),f=({icon:h,delay:m,position:A})=>r.jsx("div",{className:`absolute ${A} text-yellow-400 opacity-60 animate-ping`,style:{animationDelay:`${m}s`,animationDuration:"2s",animationIterationCount:"infinite"},children:r.jsx(h,{size:24})});return e===null?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:r.jsxs("div",{className:"text-center relative",children:[r.jsxs("div",{className:"absolute inset-0 -z-10",children:[r.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-blue-200 rounded-full opacity-20 animate-pulse"}),r.jsx("div",{className:"absolute top-10 right-0 w-24 h-24 bg-purple-200 rounded-full opacity-20 animate-pulse",style:{animationDelay:"1s"}}),r.jsx("div",{className:"absolute bottom-0 left-1/2 w-20 h-20 bg-pink-200 rounded-full opacity-20 animate-pulse",style:{animationDelay:"2s"}})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-t-4 border-blue-300 border-t-blue-600"}),r.jsx("div",{className:"absolute inset-0 animate-ping rounded-full h-12 w-12 border-2 border-blue-400 opacity-30"})]}),r.jsxs("div",{className:"mt-6 animate-pulse",children:[r.jsx("p",{className:"text-xl text-gray-700 font-medium",children:"Đang xử lý kết quả thanh toán..."}),r.jsxs("div",{className:"flex justify-center mt-3 space-x-1",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0s"}}),r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})]})}):e?r.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 via-emerald-50 to-teal-100 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx(f,{icon:Xs,delay:0,position:"top-20 left-20"}),r.jsx(f,{icon:Ts,delay:1,position:"top-32 right-32"}),r.jsx(f,{icon:Ea,delay:2,position:"bottom-40 left-40"}),r.jsx(f,{icon:Xs,delay:1.5,position:"bottom-32 right-20"}),l&&r.jsx(r.Fragment,{children:Array.from({length:20}).map((h,m)=>r.jsx(u,{delay:m*.1,left:`${Math.random()*100}%`,color:["bg-yellow-400","bg-pink-400","bg-blue-400","bg-green-400","bg-purple-400"][Math.floor(Math.random()*5)]},m))}),r.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-gradient-to-r from-green-300 to-blue-300 rounded-full opacity-10 animate-pulse"}),r.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-48 h-48 bg-gradient-to-r from-yellow-300 to-pink-300 rounded-full opacity-10 animate-pulse",style:{animationDelay:"1s"}})]}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-10 rounded-3xl shadow-2xl max-w-lg w-full text-center relative transform animate-scale-in border border-white/20",children:[r.jsxs("div",{className:"relative mb-6",children:[r.jsx("div",{className:"absolute inset-0 animate-ping",children:r.jsx("div",{className:"w-20 h-20 rounded-full border-4 border-green-400 mx-auto opacity-30"})}),r.jsx("div",{className:"relative z-10 mx-auto w-20 h-20",children:r.jsxs("svg",{className:"w-20 h-20 mx-auto",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("circle",{cx:"50",cy:"50",r:"45",stroke:"#10b981",strokeWidth:"6",fill:"none",strokeLinecap:"round",className:"animate-draw-circle"}),r.jsx("path",{d:"M25 50 L40 65 L75 30",stroke:"#10b981",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-draw-check"})]})}),r.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[r.jsx("div",{className:"w-24 h-24 border-2 border-green-300 rounded-full animate-scale-pulse opacity-20",style:{animationDelay:"1.5s"}}),r.jsx("div",{className:"absolute w-32 h-32 border border-green-200 rounded-full animate-scale-pulse opacity-10",style:{animationDelay:"2s"}})]})]}),r.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent mb-4 animate-slide-up",children:"Thanh toán VNPay thành công! 🎉"}),r.jsxs("div",{className:"space-y-3 mb-8 animate-slide-up",style:{animationDelay:"0.2s"},children:[r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 transform hover:scale-105 transition-transform",children:r.jsxs("p",{className:"text-gray-700",children:["Mã đơn hàng: ",r.jsx("span",{className:"font-bold text-green-700",children:a})]})}),o&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 transform hover:scale-105 transition-transform",children:r.jsxs("p",{className:"text-gray-700",children:["Mã giao dịch: ",r.jsx("span",{className:"font-bold text-blue-700",children:o})]})})]}),r.jsx("p",{className:"text-gray-600 mb-8 text-lg animate-fade-in",style:{animationDelay:"0.4s"},children:"Cảm ơn bạn đã mua sắm tại cửa hàng của chúng tôi! ❤️"}),r.jsxs(fe,{onClick:()=>{console.log("Navigating to order details with orderId:",a),t("/user/orders",{state:{orderId:a}})},className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white px-8 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 animate-slide-up",style:{animationDelay:"0.6s"},children:[r.jsx(Ea,{className:"w-5 h-5 mr-2"}),"Xem chi tiết đơn hàng"]}),r.jsxs("div",{className:"mt-6 animate-fade-in",style:{animationDelay:"0.8s"},children:[r.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Tự động chuyển về trang chủ sau 10 giây..."}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1 overflow-hidden",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-1 rounded-full animate-progress"})})]})]})]}):r.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 via-pink-50 to-rose-100 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-1/4 left-1/4 w-48 h-48 bg-gradient-to-r from-red-200 to-pink-200 rounded-full opacity-10 animate-pulse"}),r.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-32 h-32 bg-gradient-to-r from-orange-200 to-red-200 rounded-full opacity-10 animate-pulse",style:{animationDelay:"1s"}})]}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-10 rounded-3xl shadow-2xl max-w-lg w-full text-center relative transform animate-shake border border-white/20",children:[r.jsxs("div",{className:"relative mb-6",children:[r.jsx("div",{className:"absolute inset-0 animate-ping",children:r.jsx(Go,{className:"w-20 h-20 text-red-400 mx-auto opacity-30"})}),r.jsx(Go,{className:"w-20 h-20 text-red-500 mx-auto relative z-10 animate-pulse"})]}),r.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-red-600 to-pink-600 bg-clip-text text-transparent mb-4 animate-slide-up",children:"Lỗi thanh toán VNPay"}),r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-8 animate-slide-up",style:{animationDelay:"0.2s"},children:r.jsx("p",{className:"text-gray-700 text-lg",children:"Không tìm thấy thông tin thanh toán. Vui lòng thử lại. 😔"})}),r.jsx(fe,{onClick:()=>{console.log("Navigating back to cart"),t("/user/cart")},className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white px-8 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 animate-slide-up",style:{animationDelay:"0.4s"},children:"Quay lại giỏ hàng"}),r.jsxs("div",{className:"mt-6 animate-fade-in",style:{animationDelay:"0.6s"},children:[r.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Tự động chuyển về giỏ hàng sau 7 giây..."}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1 overflow-hidden",children:r.jsx("div",{className:"bg-gradient-to-r from-red-500 to-pink-500 h-1 rounded-full animate-progress-error"})})]})]})]})},i6e=()=>{const n=fs();return k.useEffect(()=>{const t=new URLSearchParams(n.search),e=t.get("status"),s=t.get("message")||"Thanh toán không thành công. Vui lòng thử lại.";e==="failed"&&xt.error("Thanh toán thất bại",{description:s,duration:5e3})},[n]),r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:r.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md w-full text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Thanh toán thất bại"}),r.jsx("p",{className:"text-gray-600 mb-6",children:new URLSearchParams(n.search).get("message")||"Đã xảy ra lỗi trong quá trình thanh toán. Vui lòng thử lại."}),r.jsxs("div",{className:"flex justify-center gap-4",children:[r.jsx(lt,{to:"/",children:r.jsx(fe,{variant:"outline",children:"Quay về trang chủ"})}),r.jsx(lt,{to:"/user/cart",children:r.jsx(fe,{children:"Quay về giỏ hàng"})})]})]})})},o6e=()=>{const[n,t]=k.useState(null),[e,s]=k.useState(null),[a,i]=k.useState(null),[o,c]=k.useState(null),[l,d]=k.useState(null),[u,f]=k.useState(!1),[h,m]=k.useState(1),[A,g]=k.useState(1),[p,b]=k.useState(1),[x,v]=k.useState(!1),y="https://bicacuatho.azurewebsites.net",S=(E,T,w)=>{if(E.preventDefault(),E.stopPropagation(),E.dataTransfer.files&&E.dataTransfer.files[0]){const C=E.dataTransfer.files[0];if(C.type.startsWith("image/")){T(C);const j=URL.createObjectURL(C);w(j)}}},M=(E,T)=>{const w=document.createElement("input");w.type="file",w.accept="image/*",w.onchange=C=>{const j=C.target;if(j.files&&j.files[0]){const N=j.files[0];E(N);const I=URL.createObjectURL(N);T(I)}},w.click()},P=E=>{E.preventDefault(),E.stopPropagation()},B=E=>{E(T=>Math.min(T+.1,3))},D=E=>{E(T=>Math.max(T-.1,.5))};k.useEffect(()=>()=>{a&&URL.revokeObjectURL(a),o&&URL.revokeObjectURL(o)},[a,o]);const L=E=>new Promise((T,w)=>{const C=new FileReader;C.onload=()=>{if(typeof C.result=="string"){const j=C.result.split(",")[1];T(j)}else w(new Error("Kết quả không phải là chuỗi"))},C.onerror=w,C.readAsDataURL(E)}),O=async()=>{if(!n||!e){Ce.fire({icon:"error",title:"Lỗi",text:"Vui lòng chọn cả hai tệp hình ảnh!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0});return}f(!0);try{const E=await L(n),T=await L(e),w={textPrompt:"Mặc cái áo trong ảnh thứ hai lên người trong ảnh thứ nhất giúp tôi",imageBase64:[E,T]},C=await fetch(`${y}/api/GoogleApis/generate-image`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)}),j=await C.json();C.ok&&j.generatedImageBase64?(d(`data:image/jpeg;base64,${j.generatedImageBase64}`),b(1)):Ce.fire({icon:"error",title:"Lỗi",text:j.message||"Có lỗi xảy ra khi xử lý yêu cầu",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}catch(E){console.error("Lỗi:",E),Ce.fire({icon:"error",title:"Lỗi",text:"Có lỗi xảy ra khi gửi yêu cầu đến API",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,showCloseButton:!0})}finally{f(!1)}},F=()=>{t(null),s(null),i(null),c(null),d(null),m(1),g(1),b(1)},_=()=>{v(!1)};return r.jsxs("div",{style:Sn.containerWrapper,children:[r.jsx("div",{style:Sn.headerContainer,children:r.jsxs("button",{onClick:()=>v(!x),style:Sn.toggleButton,children:["Mặc đồ thử bằng AI",x?r.jsx(th,{size:18}):r.jsx(lo,{size:18})]})}),x&&r.jsxs("div",{style:Sn.container,children:[r.jsxs("div",{style:Sn.inputRow,children:[r.jsxs("div",{style:Sn.inputColumn,children:[r.jsx("label",{style:Sn.label,children:"Chọn tệp 1 (Người):"}),r.jsx("div",{style:Sn.dropZone,onDrop:E=>S(E,t,i),onDragOver:P,onClick:()=>M(t,i),children:a?r.jsxs("div",{style:Sn.imageContainer,children:[r.jsx("img",{src:a,alt:"Preview 1",style:{...Sn.image,transform:`scale(${h})`,maxWidth:"200px",height:"250px"}}),r.jsx("button",{style:Sn.removeButton,onClick:E=>{E.stopPropagation(),t(null),i(null),m(1)},children:"X"}),r.jsxs("div",{style:Sn.zoomControls,children:[r.jsx("button",{style:Sn.zoomButton,onClick:E=>{E.stopPropagation(),B(m)},children:"+"}),r.jsx("button",{style:Sn.zoomButton,onClick:E=>{E.stopPropagation(),D(m)},children:"-"})]})]}):r.jsx("div",{style:{...Sn.imagePlaceholder,width:"200px",height:"250px"},children:"Kéo thả và chọn tệp"})})]}),r.jsxs("div",{style:Sn.inputColumn,children:[r.jsx("label",{style:Sn.label,children:"Chọn tệp 2 (Áo):"}),r.jsx("div",{style:Sn.dropZone,onDrop:E=>S(E,s,c),onDragOver:P,onClick:()=>M(s,c),children:o?r.jsxs("div",{style:Sn.imageContainer,children:[r.jsx("img",{src:o,alt:"Preview 2",style:{...Sn.image,transform:`scale(${A})`,maxWidth:"200px",height:"250px"}}),r.jsx("button",{style:Sn.removeButton,onClick:E=>{E.stopPropagation(),s(null),c(null),g(1)},children:"X"}),r.jsxs("div",{style:Sn.zoomControls,children:[r.jsx("button",{style:Sn.zoomButton,onClick:E=>{E.stopPropagation(),B(g)},children:"+"}),r.jsx("button",{style:Sn.zoomButton,onClick:E=>{E.stopPropagation(),D(g)},children:"-"})]})]}):r.jsx("div",{style:{...Sn.imagePlaceholder,width:"200px",height:"250px"},children:"Kéo thả và chọn tệp"})})]}),r.jsxs("div",{style:Sn.inputColumn,children:[r.jsx("label",{style:Sn.label,children:"Kết quả:"}),r.jsx("div",{style:Sn.dropZone,children:u?r.jsx("div",{style:{...Sn.imagePlaceholder,width:"200px",height:"250px"},children:"Đang xử..."}):l?r.jsxs("div",{style:Sn.imageContainer,children:[r.jsx("img",{src:l,alt:"Processed Output",style:{...Sn.image,transform:`scale(${p})`,maxWidth:"200px",height:"250px"}}),r.jsxs("div",{style:Sn.zoomControls,children:[r.jsx("button",{style:Sn.zoomButton,onClick:E=>{E.stopPropagation(),B(b)},children:"+"}),r.jsx("button",{style:Sn.zoomButton,onClick:E=>{E.stopPropagation(),D(b)},children:"-"})]})]}):r.jsx("div",{style:{...Sn.imagePlaceholder,width:"200px",height:"250px"},children:"Chưa có kết quả"})})]})]}),r.jsxs("div",{style:Sn.buttonRow,children:[r.jsxs("button",{onClick:O,disabled:u,style:{...Sn.button,background:"#9b87f5"},children:[r.jsx(Lr,{size:16,style:{marginRight:"5px"}}),u?"Đang xử lý...":"Mặc đồ thử"]}),r.jsxs("button",{onClick:F,style:{...Sn.button,background:"#ff4d4f"},children:[r.jsx(st,{size:16,style:{marginRight:"5px"}}),"Xóa toàn bộ ảnh"]}),r.jsxs("button",{onClick:_,style:{...Sn.button,background:"#6c757d"},children:[r.jsx(Wi,{size:16,style:{marginRight:"5px"}}),"Ẩn"]})]})]})]})},Sn={containerWrapper:{maxWidth:"1200px",margin:"30px auto",position:"relative"},headerContainer:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginBottom:"10px"},toggleButton:{padding:"8px 12px",borderRadius:"4px",border:"1px solid #ccc",backgroundColor:"#f5f5ff",fontSize:"16px",fontWeight:"bold",cursor:"pointer",outline:"none",transition:"border-color 0.3s",display:"flex",alignItems:"center",gap:"6px"},container:{padding:"15px",border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#ffffff",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},inputRow:{display:"flex",justifyContent:"space-between",marginBottom:"15px"},inputColumn:{flex:1,margin:"0 8px"},label:{display:"block",textAlign:"center",fontWeight:"bold",marginBottom:"4px",fontSize:"12px"},dropZone:{width:"100%",height:"300px",border:"2px dashed #ccc",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#fafafa",cursor:"pointer",overflow:"hidden"},imageContainer:{position:"relative",display:"inline-block"},image:{width:"100%",maxWidth:"200px",height:"250px",objectFit:"contain",border:"1px solid #ddd",borderRadius:"4px",backgroundColor:"#fff",transition:"transform 0.2s ease-in-out"},imagePlaceholder:{width:"200px",height:"250px",display:"flex",alignItems:"center",justifyContent:"center",border:"1px dashed #ddd",borderRadius:"4px",backgroundColor:"#f0f0f0",color:"#666",fontSize:"18px",textAlign:"center"},removeButton:{position:"absolute",top:"8px",right:"8px",backgroundColor:"red",color:"white",border:"none",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},zoomControls:{position:"absolute",bottom:"8px",right:"8px",display:"flex",gap:"4px"},zoomButton:{backgroundColor:"#333",color:"white",border:"none",borderRadius:"4px",width:"25px",height:"25px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"16px"},buttonRow:{display:"flex",justifyContent:"center",marginTop:"15px",gap:"5px"},button:{width:"33.33%",padding:"8px",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",transition:"background 0.3s",display:"flex",alignItems:"center",justifyContent:"center"}};function l6e(n){return n&&typeof n=="object"&&"default"in n?n.default:n}var X9=k,c6e=l6e(X9);function A_(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function d6e(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t}var u6e=!!(typeof window<"u"&&window.document&&window.document.createElement);function h6e(n,t,e){if(typeof n!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof e<"u"&&typeof e!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function s(a){return a.displayName||a.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],c;function l(){c=n(o.map(function(u){return u.props})),d.canUseDOM?t(c):e&&(c=e(c))}var d=function(u){d6e(f,u);function f(){return u.apply(this,arguments)||this}f.peek=function(){return c},f.rewind=function(){if(f.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var A=c;return c=void 0,o=[],A};var h=f.prototype;return h.UNSAFE_componentWillMount=function(){o.push(this),l()},h.componentDidUpdate=function(){l()},h.componentWillUnmount=function(){var A=o.indexOf(this);o.splice(A,1),l()},h.render=function(){return c6e.createElement(i,this.props)},f}(X9.PureComponent);return A_(d,"displayName","SideEffect("+s(i)+")"),A_(d,"canUseDOM",u6e),d}}var f6e=h6e;const m6e=Td(f6e);var p6e=typeof Element<"u",A6e=typeof Map=="function",g6e=typeof Set=="function",x6e=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Ng(n,t){if(n===t)return!0;if(n&&t&&typeof n=="object"&&typeof t=="object"){if(n.constructor!==t.constructor)return!1;var e,s,a;if(Array.isArray(n)){if(e=n.length,e!=t.length)return!1;for(s=e;s--!==0;)if(!Ng(n[s],t[s]))return!1;return!0}var i;if(A6e&&n instanceof Map&&t instanceof Map){if(n.size!==t.size)return!1;for(i=n.entries();!(s=i.next()).done;)if(!t.has(s.value[0]))return!1;for(i=n.entries();!(s=i.next()).done;)if(!Ng(s.value[1],t.get(s.value[0])))return!1;return!0}if(g6e&&n instanceof Set&&t instanceof Set){if(n.size!==t.size)return!1;for(i=n.entries();!(s=i.next()).done;)if(!t.has(s.value[0]))return!1;return!0}if(x6e&&ArrayBuffer.isView(n)&&ArrayBuffer.isView(t)){if(e=n.length,e!=t.length)return!1;for(s=e;s--!==0;)if(n[s]!==t[s])return!1;return!0}if(n.constructor===RegExp)return n.source===t.source&&n.flags===t.flags;if(n.valueOf!==Object.prototype.valueOf&&typeof n.valueOf=="function"&&typeof t.valueOf=="function")return n.valueOf()===t.valueOf();if(n.toString!==Object.prototype.toString&&typeof n.toString=="function"&&typeof t.toString=="function")return n.toString()===t.toString();if(a=Object.keys(n),e=a.length,e!==Object.keys(t).length)return!1;for(s=e;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[s]))return!1;if(p6e&&n instanceof Element)return!1;for(s=e;s--!==0;)if(!((a[s]==="_owner"||a[s]==="__v"||a[s]==="__o")&&n.$$typeof)&&!Ng(n[a[s]],t[a[s]]))return!1;return!0}return n!==n&&t!==t}var b6e=function(t,e){try{return Ng(t,e)}catch(s){if((s.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw s}};const v6e=Td(b6e);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var g_=Object.getOwnPropertySymbols,y6e=Object.prototype.hasOwnProperty,w6e=Object.prototype.propertyIsEnumerable;function j6e(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function C6e(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var t={},e=0;e<10;e++)t["_"+String.fromCharCode(e)]=e;var s=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(s.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(i){a[i]=i}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var N6e=C6e()?Object.assign:function(n,t){for(var e,s=j6e(n),a,i=1;i<arguments.length;i++){e=Object(arguments[i]);for(var o in e)y6e.call(e,o)&&(s[o]=e[o]);if(g_){a=g_(e);for(var c=0;c<a.length;c++)w6e.call(e,a[c])&&(s[a[c]]=e[a[c]])}}return s};const S6e=Td(N6e);var nd={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},wn={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(wn).map(function(n){return wn[n]});var Tr={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Z0={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Im={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},T6e=Object.keys(Z0).reduce(function(n,t){return n[Z0[t]]=t,n},{}),k6e=[wn.NOSCRIPT,wn.SCRIPT,wn.STYLE],Ai="data-react-helmet",_6e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},B6e=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")},E6e=function(){function n(t,e){for(var s=0;s<e.length;s++){var a=e[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,e,s){return e&&n(t.prototype,e),s&&n(t,s),t}}(),ca=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},M6e=function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)},x_=function(n,t){var e={};for(var s in n)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},P6e=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n},E2=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},D6e=function(t){var e=Cu(t,wn.TITLE),s=Cu(t,Im.TITLE_TEMPLATE);if(s&&e)return s.replace(/%s/g,function(){return Array.isArray(e)?e.join(""):e});var a=Cu(t,Im.DEFAULT_TITLE);return e||a||void 0},I6e=function(t){return Cu(t,Im.ON_CHANGE_CLIENT_STATE)||function(){}},Ky=function(t,e){return e.filter(function(s){return typeof s[t]<"u"}).map(function(s){return s[t]}).reduce(function(s,a){return ca({},s,a)},{})},O6e=function(t,e){return e.filter(function(s){return typeof s[wn.BASE]<"u"}).map(function(s){return s[wn.BASE]}).reverse().reduce(function(s,a){if(!s.length)for(var i=Object.keys(a),o=0;o<i.length;o++){var c=i[o],l=c.toLowerCase();if(t.indexOf(l)!==-1&&a[l])return s.concat(a)}return s},[])},lf=function(t,e,s){var a={};return s.filter(function(i){return Array.isArray(i[t])?!0:(typeof i[t]<"u"&&U6e("Helmet: "+t+' should be of type "Array". Instead found type "'+_6e(i[t])+'"'),!1)}).map(function(i){return i[t]}).reverse().reduce(function(i,o){var c={};o.filter(function(h){for(var m=void 0,A=Object.keys(h),g=0;g<A.length;g++){var p=A[g],b=p.toLowerCase();e.indexOf(b)!==-1&&!(m===Tr.REL&&h[m].toLowerCase()==="canonical")&&!(b===Tr.REL&&h[b].toLowerCase()==="stylesheet")&&(m=b),e.indexOf(p)!==-1&&(p===Tr.INNER_HTML||p===Tr.CSS_TEXT||p===Tr.ITEM_PROP)&&(m=p)}if(!m||!h[m])return!1;var x=h[m].toLowerCase();return a[m]||(a[m]={}),c[m]||(c[m]={}),a[m][x]?!1:(c[m][x]=!0,!0)}).reverse().forEach(function(h){return i.push(h)});for(var l=Object.keys(c),d=0;d<l.length;d++){var u=l[d],f=S6e({},a[u],c[u]);a[u]=f}return i},[]).reverse()},Cu=function(t,e){for(var s=t.length-1;s>=0;s--){var a=t[s];if(a.hasOwnProperty(e))return a[e]}return null},L6e=function(t){return{baseTag:O6e([Tr.HREF,Tr.TARGET],t),bodyAttributes:Ky(nd.BODY,t),defer:Cu(t,Im.DEFER),encode:Cu(t,Im.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Ky(nd.HTML,t),linkTags:lf(wn.LINK,[Tr.REL,Tr.HREF],t),metaTags:lf(wn.META,[Tr.NAME,Tr.CHARSET,Tr.HTTPEQUIV,Tr.PROPERTY,Tr.ITEM_PROP],t),noscriptTags:lf(wn.NOSCRIPT,[Tr.INNER_HTML],t),onChangeClientState:I6e(t),scriptTags:lf(wn.SCRIPT,[Tr.SRC,Tr.INNER_HTML],t),styleTags:lf(wn.STYLE,[Tr.CSS_TEXT],t),title:D6e(t),titleAttributes:Ky(nd.TITLE,t)}},M2=function(){var n=Date.now();return function(t){var e=Date.now();e-n>16?(n=e,t(e)):setTimeout(function(){M2(t)},0)}}(),b_=function(t){return clearTimeout(t)},F6e=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||M2:global.requestAnimationFrame||M2,R6e=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||b_:global.cancelAnimationFrame||b_,U6e=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},cf=null,H6e=function(t){cf&&R6e(cf),t.defer?cf=F6e(function(){v_(t,function(){cf=null})}):(v_(t),cf=null)},v_=function(t,e){var s=t.baseTag,a=t.bodyAttributes,i=t.htmlAttributes,o=t.linkTags,c=t.metaTags,l=t.noscriptTags,d=t.onChangeClientState,u=t.scriptTags,f=t.styleTags,h=t.title,m=t.titleAttributes;P2(wn.BODY,a),P2(wn.HTML,i),$6e(h,m);var A={baseTag:su(wn.BASE,s),linkTags:su(wn.LINK,o),metaTags:su(wn.META,c),noscriptTags:su(wn.NOSCRIPT,l),scriptTags:su(wn.SCRIPT,u),styleTags:su(wn.STYLE,f)},g={},p={};Object.keys(A).forEach(function(b){var x=A[b],v=x.newTags,y=x.oldTags;v.length&&(g[b]=v),y.length&&(p[b]=A[b].oldTags)}),e&&e(),d(t,g,p)},Y9=function(t){return Array.isArray(t)?t.join(""):t},$6e=function(t,e){typeof t<"u"&&document.title!==t&&(document.title=Y9(t)),P2(wn.TITLE,e)},P2=function(t,e){var s=document.getElementsByTagName(t)[0];if(s){for(var a=s.getAttribute(Ai),i=a?a.split(","):[],o=[].concat(i),c=Object.keys(e),l=0;l<c.length;l++){var d=c[l],u=e[d]||"";s.getAttribute(d)!==u&&s.setAttribute(d,u),i.indexOf(d)===-1&&i.push(d);var f=o.indexOf(d);f!==-1&&o.splice(f,1)}for(var h=o.length-1;h>=0;h--)s.removeAttribute(o[h]);i.length===o.length?s.removeAttribute(Ai):s.getAttribute(Ai)!==c.join(",")&&s.setAttribute(Ai,c.join(","))}},su=function(t,e){var s=document.head||document.querySelector(wn.HEAD),a=s.querySelectorAll(t+"["+Ai+"]"),i=Array.prototype.slice.call(a),o=[],c=void 0;return e&&e.length&&e.forEach(function(l){var d=document.createElement(t);for(var u in l)if(l.hasOwnProperty(u))if(u===Tr.INNER_HTML)d.innerHTML=l.innerHTML;else if(u===Tr.CSS_TEXT)d.styleSheet?d.styleSheet.cssText=l.cssText:d.appendChild(document.createTextNode(l.cssText));else{var f=typeof l[u]>"u"?"":l[u];d.setAttribute(u,f)}d.setAttribute(Ai,"true"),i.some(function(h,m){return c=m,d.isEqualNode(h)})?i.splice(c,1):o.push(d)}),i.forEach(function(l){return l.parentNode.removeChild(l)}),o.forEach(function(l){return s.appendChild(l)}),{oldTags:i,newTags:o}},J9=function(t){return Object.keys(t).reduce(function(e,s){var a=typeof t[s]<"u"?s+'="'+t[s]+'"':""+s;return e?e+" "+a:a},"")},Q6e=function(t,e,s,a){var i=J9(s),o=Y9(e);return i?"<"+t+" "+Ai+'="true" '+i+">"+E2(o,a)+"</"+t+">":"<"+t+" "+Ai+'="true">'+E2(o,a)+"</"+t+">"},V6e=function(t,e,s){return e.reduce(function(a,i){var o=Object.keys(i).filter(function(d){return!(d===Tr.INNER_HTML||d===Tr.CSS_TEXT)}).reduce(function(d,u){var f=typeof i[u]>"u"?u:u+'="'+E2(i[u],s)+'"';return d?d+" "+f:f},""),c=i.innerHTML||i.cssText||"",l=k6e.indexOf(t)===-1;return a+"<"+t+" "+Ai+'="true" '+o+(l?"/>":">"+c+"</"+t+">")},"")},Z9=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(s,a){return s[Z0[a]||a]=t[a],s},e)},z6e=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(s,a){return s[T6e[a]||a]=t[a],s},e)},K6e=function(t,e,s){var a,i=(a={key:e},a[Ai]=!0,a),o=Z9(s,i);return[Ne.createElement(wn.TITLE,o,e)]},G6e=function(t,e){return e.map(function(s,a){var i,o=(i={key:a},i[Ai]=!0,i);return Object.keys(s).forEach(function(c){var l=Z0[c]||c;if(l===Tr.INNER_HTML||l===Tr.CSS_TEXT){var d=s.innerHTML||s.cssText;o.dangerouslySetInnerHTML={__html:d}}else o[l]=s[c]}),Ne.createElement(t,o)})},No=function(t,e,s){switch(t){case wn.TITLE:return{toComponent:function(){return K6e(t,e.title,e.titleAttributes)},toString:function(){return Q6e(t,e.title,e.titleAttributes,s)}};case nd.BODY:case nd.HTML:return{toComponent:function(){return Z9(e)},toString:function(){return J9(e)}};default:return{toComponent:function(){return G6e(t,e)},toString:function(){return V6e(t,e,s)}}}},eR=function(t){var e=t.baseTag,s=t.bodyAttributes,a=t.encode,i=t.htmlAttributes,o=t.linkTags,c=t.metaTags,l=t.noscriptTags,d=t.scriptTags,u=t.styleTags,f=t.title,h=f===void 0?"":f,m=t.titleAttributes;return{base:No(wn.BASE,e,a),bodyAttributes:No(nd.BODY,s,a),htmlAttributes:No(nd.HTML,i,a),link:No(wn.LINK,o,a),meta:No(wn.META,c,a),noscript:No(wn.NOSCRIPT,l,a),script:No(wn.SCRIPT,d,a),style:No(wn.STYLE,u,a),title:No(wn.TITLE,{title:h,titleAttributes:m},a)}},q6e=function(t){var e,s;return s=e=function(a){M6e(i,a);function i(){return B6e(this,i),P6e(this,a.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(c){return!v6e(this.props,c)},i.prototype.mapNestedChildrenToProps=function(c,l){if(!l)return null;switch(c.type){case wn.SCRIPT:case wn.NOSCRIPT:return{innerHTML:l};case wn.STYLE:return{cssText:l}}throw new Error("<"+c.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(c){var l,d=c.child,u=c.arrayTypeChildren,f=c.newChildProps,h=c.nestedChildren;return ca({},u,(l={},l[d.type]=[].concat(u[d.type]||[],[ca({},f,this.mapNestedChildrenToProps(d,h))]),l))},i.prototype.mapObjectTypeChildren=function(c){var l,d,u=c.child,f=c.newProps,h=c.newChildProps,m=c.nestedChildren;switch(u.type){case wn.TITLE:return ca({},f,(l={},l[u.type]=m,l.titleAttributes=ca({},h),l));case wn.BODY:return ca({},f,{bodyAttributes:ca({},h)});case wn.HTML:return ca({},f,{htmlAttributes:ca({},h)})}return ca({},f,(d={},d[u.type]=ca({},h),d))},i.prototype.mapArrayTypeChildrenToProps=function(c,l){var d=ca({},l);return Object.keys(c).forEach(function(u){var f;d=ca({},d,(f={},f[u]=c[u],f))}),d},i.prototype.warnOnInvalidChildren=function(c,l){return!0},i.prototype.mapChildrenToProps=function(c,l){var d=this,u={};return Ne.Children.forEach(c,function(f){if(!(!f||!f.props)){var h=f.props,m=h.children,A=x_(h,["children"]),g=z6e(A);switch(d.warnOnInvalidChildren(f,m),f.type){case wn.LINK:case wn.META:case wn.NOSCRIPT:case wn.SCRIPT:case wn.STYLE:u=d.flattenArrayTypeChildren({child:f,arrayTypeChildren:u,newChildProps:g,nestedChildren:m});break;default:l=d.mapObjectTypeChildren({child:f,newProps:l,newChildProps:g,nestedChildren:m});break}}}),l=this.mapArrayTypeChildrenToProps(u,l),l},i.prototype.render=function(){var c=this.props,l=c.children,d=x_(c,["children"]),u=ca({},d);return l&&(u=this.mapChildrenToProps(l,u)),Ne.createElement(t,u)},E6e(i,null,[{key:"canUseDOM",set:function(c){t.canUseDOM=c}}]),i}(Ne.Component),e.propTypes={base:_n.object,bodyAttributes:_n.object,children:_n.oneOfType([_n.arrayOf(_n.node),_n.node]),defaultTitle:_n.string,defer:_n.bool,encodeSpecialCharacters:_n.bool,htmlAttributes:_n.object,link:_n.arrayOf(_n.object),meta:_n.arrayOf(_n.object),noscript:_n.arrayOf(_n.object),onChangeClientState:_n.func,script:_n.arrayOf(_n.object),style:_n.arrayOf(_n.object),title:_n.string,titleAttributes:_n.object,titleTemplate:_n.string},e.defaultProps={defer:!0,encodeSpecialCharacters:!0},e.peek=t.peek,e.rewind=function(){var a=t.rewind();return a||(a=eR({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),a},s},W6e=function(){return null},X6e=m6e(L6e,H6e,eR)(W6e),D2=q6e(X6e);D2.renderStatic=D2.rewind;const kf="https://via.placeholder.com/150",Y6e=n=>{const e=new DOMParser().parseFromString(pd.sanitize(n,{ADD_TAGS:["img"],ADD_ATTR:["src"]}),"text/html"),s=[],a=c=>{var l;if(c.nodeType===3){const d=(l=c.textContent)==null?void 0:l.trim();d&&s.push(d)}else c.nodeType===1&&c.nodeName!=="IMG"&&c.childNodes.forEach(a)};a(e.body);const i=s.join(" ").trim(),o=Array.from(e.querySelectorAll("img")).map(c=>c.src);return{textContent:i,images:o}},J6e=k.memo(({entityId:n,type:t})=>{var _;const[e,s]=k.useState([]),[a,i]=k.useState(""),[o,c]=k.useState(new Set),[l,d]=k.useState(!1),[u,f]=k.useState(null),[h,m]=k.useState(!1),[A,g]=k.useState(!1),[p,b]=k.useState("newest"),[x,v]=k.useState(!1),y=(_=JSON.parse(localStorage.getItem("user")||"{}"))==null?void 0:_.maNguoiDung,S={toolbar:[[{header:[1,2,!1]}],["bold","italic","underline"],["image"],["clean"]]},M=k.useCallback(E=>{const T=document.createElement("input");T.setAttribute("type","file"),T.setAttribute("accept","image/*"),T.click(),T.onchange=()=>{var C;const w=(C=T.files)==null?void 0:C[0];if(w){const j=new FileReader;j.onload=()=>{const N=E.getSelection()||E.getSelection(!0);E.insertEmbed(N.index,"image",j.result)},j.readAsDataURL(w)}}},[]);k.useEffect(()=>{var T;const E=(T=document.querySelector(".quill"))==null?void 0:T.quill;E&&E.getModule("toolbar").addHandler("image",()=>M(E))},[M]);const P=k.useCallback(async()=>{if(!n){Wt.error("Mã blog không hợp lệ!"),m(!1);return}m(!0);try{const E=await fetch(`https://bicacuatho.azurewebsites.net/api/Comment/list?${t}Id=${n}&status=1`);if(!E.ok)throw new Error(E.status===404?"Không tìm thấy bình luận cho bài viết này.":"Lỗi khi tải bình luận");let T=await E.json(),w=[];if(y){const j=await fetch(`https://bicacuatho.azurewebsites.net/api/Comment/list?${t}Id=${n}&status=0&maNguoiDung=${y}`);j.ok&&(w=await j.json())}const C=[...T,...w].filter((j,N,I)=>N===I.findIndex(R=>R.maBinhLuan===j.maBinhLuan)).filter(j=>j.maBlog===n).map(j=>({...j,soTimBinhLuan:j.soTimBinhLuan||0})).sort((j,N)=>p==="newest"?new Date(N.ngayBinhLuan).getTime()-new Date(j.ngayBinhLuan).getTime():N.soTimBinhLuan-j.soTimBinhLuan);if(y){const j=`likedComments_${y}_${t}_${n}`,N=JSON.parse(localStorage.getItem(j)||"[]");c(new Set(N))}s(C)}catch(E){console.error("Lỗi khi tải bình luận:",E),Wt.error(E.message||"Có lỗi xảy ra khi tải bình luận!")}finally{m(!1)}},[n,t,p,y]);k.useEffect(()=>{P()},[P]);const B=k.useCallback(async()=>{if(!a.trim()){Wt.error("Vui lòng nhập nội dung bình luận!");return}if(!y){Wt.error("Vui lòng đăng nhập trước khi thêm bình luận!");return}const E=JSON.parse(localStorage.getItem("user")||"{}"),T={maBlog:n,maNguoiDung:y,noiDungBinhLuan:pd.sanitize(a,{ADD_TAGS:["img"],ADD_ATTR:["src"]}),ngayBinhLuan:new Date().toISOString(),trangThai:0,soTimBinhLuan:0},w={...T,maBinhLuan:Date.now(),hinhAnh:(E==null?void 0:E.hinhAnh)||kf,hoTen:E==null?void 0:E.hoTen};s(C=>[w,...C.filter(j=>j.maBinhLuan!==w.maBinhLuan)]),i(""),g(!0);try{const C=await fetch("https://bicacuatho.azurewebsites.net/api/Comment/add",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(T)});if(!C.ok){const j=await C.json();throw new Error(j.message||"Không thể thêm bình luận")}Wt.success("Bình luận đã được gửi và chờ duyệt!"),await P()}catch(C){console.error("Lỗi khi thêm bình luận:",C),s(j=>j.filter(N=>N.maBinhLuan!==w.maBinhLuan)),Wt.error(C.message||"Có lỗi xảy ra khi thêm bình luận!")}finally{g(!1)}},[y,n,a,P]),D=k.useCallback(async E=>{if(!y){Wt.error("Vui lòng đăng nhập để xóa bình luận!");return}f(E),d(!0)},[y]),L=k.useCallback(async()=>{if(u){g(!0);try{if(!(await fetch(`https://bicacuatho.azurewebsites.net/api/Comment/delete/${u}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Không thể xóa bình luận");Wt.success("Xóa bình luận thành công!"),await P()}catch(E){console.error("Lỗi khi xóa bình luận:",E),Wt.error(E.message||"Có lỗi xảy ra khi xóa bình luận!")}finally{d(!1),f(null),g(!1)}}},[u,P]),O=k.useCallback(async E=>{if(!y){Wt.error("Vui lòng đăng nhập để thích bình luận!");return}const T=o.has(E),w=T?`https://bicacuatho.azurewebsites.net/api/Comment/Unlike/${E}`:`https://bicacuatho.azurewebsites.net/api/Comment/Like/${E}`;g(!0);try{if(!(await fetch(w,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Không thể cập nhật trạng thái thích");s(j=>j.map(N=>N.maBinhLuan===E?{...N,soTimBinhLuan:T?Math.max(0,N.soTimBinhLuan-1):N.soTimBinhLuan+1}:N).sort((N,I)=>p==="newest"?new Date(I.ngayBinhLuan).getTime()-new Date(N.ngayBinhLuan).getTime():I.soTimBinhLuan-N.soTimBinhLuan)),c(j=>{const N=new Set(j);T?N.delete(E):N.add(E);const I=`likedComments_${y}_${t}_${n}`;return localStorage.setItem(I,JSON.stringify([...N])),N}),Wt.success(T?"Đã bỏ thích bình luận!":"Đã thích bình luận!")}catch(C){console.error("Lỗi khi cập nhật trạng thái thích:",C),Wt.error(C.message||"Có lỗi xảy ra khi cập nhật trạng thái thích!")}finally{g(!1)}},[y,o,p,t,n]),F=x?e.filter(E=>E.trangThai===1):e.filter(E=>E.trangThai===1).slice(0,3);return r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx(Ah,{position:"top-right"}),r.jsx(Z6e,{isOpen:l,onClose:()=>d(!1),onConfirm:L}),r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(Ho,{className:"w-5 h-5 text-purple-600"}),"Bình Luận (",e.filter(E=>E.trangThai===1).length,")"]}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:p,onChange:E=>b(E.target.value),className:"appearance-none pl-4 pr-8 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200","aria-label":"Sắp xếp bình luận",children:[r.jsx("option",{value:"newest",children:"Mới nhất"}),r.jsx("option",{value:"mostLiked",children:"Nhiều thích nhất"})]}),r.jsx(lo,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 pointer-events-none"})]})]}),e.some(E=>E.trangThai===0&&E.maNguoiDung===y)&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:r.jsx("p",{className:"text-sm text-yellow-700",children:"⏳ Bình luận của bạn đang chờ duyệt."})}),r.jsx("div",{className:"space-y-4 mb-6 max-h-[600px] overflow-y-auto",children:h?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ns,{className:"h-8 w-8 animate-spin mx-auto text-purple-500"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Đang tải bình luận..."})]}):F.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(Ho,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),r.jsx("p",{children:"Chưa có bình luận nào."}),r.jsx("p",{className:"text-sm",children:"Hãy là người đầu tiên bình luận!"})]}):F.map(E=>{const{textContent:T,images:w}=Y6e(E.noiDungBinhLuan||"Chưa cập nhật");return r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-100 hover:shadow-sm transition-shadow duration-200",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("img",{src:E.hinhAnh||kf,alt:`Ảnh đại diện của ${E.hoTen||E.maNguoiDung}`,className:"w-10 h-10 rounded-full object-cover border-2 border-white shadow-sm",onError:C=>C.currentTarget.src=kf})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-800 text-sm",children:E.hoTen||E.maNguoiDung}),r.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[r.jsx($r,{className:"w-3 h-3"}),new Date(E.ngayBinhLuan).toLocaleDateString("vi-VN")]})]}),E.maNguoiDung===y&&r.jsx("button",{onClick:()=>D(E.maBinhLuan),className:"text-red-400 hover:text-red-600 transition-colors disabled:opacity-50 p-1 rounded-md hover:bg-red-50","aria-label":"Xóa bình luận",disabled:A,children:r.jsx(Ma,{className:"w-4 h-4"})})]}),r.jsx("div",{className:"text-gray-700 text-sm leading-relaxed mb-3",style:{whiteSpace:"pre-line"},children:T||"Chưa cập nhật"}),w.length>0&&r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:w.map((C,j)=>r.jsx("img",{src:C,alt:`Hình ảnh bình luận ${j+1}`,className:"w-48 h-auto object-contain rounded",style:{maxWidth:"225px"},onError:N=>{console.warn(`Không thể tải hình ảnh bình luận ${j+1}`),N.currentTarget.src=kf}},j))}),r.jsx("div",{className:"flex items-center",children:r.jsxs("button",{onClick:()=>O(E.maBinhLuan),className:"flex items-center gap-2 text-gray-500 hover:text-purple-600 disabled:opacity-50 transition-colors duration-200","aria-label":o.has(E.maBinhLuan)?"Bỏ thích bình luận":"Thích bình luận",disabled:A,children:[r.jsx(Ts,{className:Ue("w-4 h-4 transition-colors duration-200",o.has(E.maBinhLuan)?"fill-red-500 text-red-500":"text-gray-400 hover:text-red-400")}),r.jsx("span",{className:"text-sm font-medium",children:E.soTimBinhLuan})]})})]})]})},E.maBinhLuan)})}),e.filter(E=>E.trangThai===1).length>3&&!x&&r.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:from-purple-600 hover:to-purple-700 transition-all duration-200 shadow-sm hover:shadow-md","aria-label":"Xem thêm bình luận",children:[r.jsx(pr,{className:"w-4 h-4"}),"Xem thêm bình luận"]}),r.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:r.jsxs("div",{className:"space-y-3",children:[r.jsx(ym,{value:a,onChange:i,modules:S,placeholder:"Chia sẻ suy nghĩ của bạn về bài viết này...",className:"bg-white rounded-lg border border-gray-200 focus-within:ring-2 focus-within:ring-purple-500",readOnly:A}),r.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:from-purple-600 hover:to-purple-700 disabled:from-gray-300 disabled:to-gray-400 transition-all duration-200 shadow-sm hover:shadow-md font-medium",disabled:A||!a.trim(),"aria-label":"Gửi bình luận",children:[A?r.jsx(ns,{className:"w-4 h-4 animate-spin"}):r.jsx(Ho,{className:"w-4 h-4"}),A?"Đang gửi...":"Gửi Bình Luận"]})]})})]})}),Z6e=({isOpen:n,onClose:t,onConfirm:e})=>(k.useEffect(()=>{const s=a=>{a.key==="Escape"&&t()};if(n)return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[n,t]),n?r.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50 backdrop-blur-sm",role:"dialog","aria-labelledby":"confirm-modal-title",children:r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-2xl w-96 transform transition-all duration-200",children:[r.jsx("h3",{id:"confirm-modal-title",className:"text-lg font-semibold mb-4 text-gray-800",children:"Xác nhận xóa"}),r.jsx("p",{className:"mb-6 text-gray-600",children:"Bạn có chắc muốn xóa bình luận này không? Hành động này không thể hoàn tác."}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:t,"aria-label":"Hủy xóa bình luận",className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors duration-200",children:"Hủy"}),r.jsx("button",{onClick:e,"aria-label":"Xác nhận xóa bình luận",className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors duration-200",children:"Xóa"})]})]})}):null),eBe=()=>{var L;const{slug:n}=oh(),[t,e]=k.useState(null),[s,a]=k.useState(null),[i,o]=k.useState([]),[c,l]=k.useState({}),[d,u]=k.useState(!0),[f,h]=k.useState(!1),[m,A]=k.useState(0),[g,p]=k.useState(!1);lh();const b=(L=JSON.parse(localStorage.getItem("user")||"{}"))==null?void 0:L.maNguoiDung,x=k.useCallback(async()=>{if(!n){Wt.error("Slug không hợp lệ!"),u(!1);return}try{u(!0);const F=(await St.get(`https://bicacuatho.azurewebsites.net/api/Blog/slug/${n}`)).data;e(F),A(F.likes||0),h(b&&F.userLikes?F.userLikes.includes(b):!1);let _=null;F.maNguoiDung&&(_=await St.get(`https://bicacuatho.azurewebsites.net/api/NguoiDung/${F.maNguoiDung}`).catch(()=>null)),a((_==null?void 0:_.data)||null);const T=(await St.get("https://bicacuatho.azurewebsites.net/api/Blog")).data.filter(I=>I.isPublished&&I.maBlog!==F.maBlog&&I.chuDe===F.chuDe);o(T.slice(0,5));const w=[...new Set(T.map(I=>I.maNguoiDung))],C=w.map(I=>St.get(`https://bicacuatho.azurewebsites.net/api/NguoiDung/${I}`).catch(()=>null)),j=await Promise.all(C),N=w.reduce((I,R,U)=>{var V;return I[R]=((V=j[U])==null?void 0:V.data)||null,I},{});l(N)}catch(O){console.error("Lỗi khi tải dữ liệu:",O),Wt.error("Không thể tải bài viết hoặc bài viết liên quan. Vui lòng thử lại sau.")}finally{u(!1)}},[n,b]),v=k.useCallback(async()=>{if(!b){Wt.error("Vui lòng đăng nhập để thích bài viết!");return}p(!0);try{const O=f?`https://bicacuatho.azurewebsites.net/api/Blog/${t==null?void 0:t.maBlog}/unlike`:`https://bicacuatho.azurewebsites.net/api/Blog/${t==null?void 0:t.maBlog}/like`,F=await fetch(O,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(b)});if(!F.ok)throw new Error("Không thể cập nhật trạng thái thích");const _=await F.json();A(_.likes),h(!f),Wt.success(f?"Đã bỏ thích bài viết!":"Đã thích bài viết!")}catch(O){console.error("Lỗi khi cập nhật trạng thái thích:",O),Wt.error(O.message||"Có lỗi xảy ra khi cập nhật trạng thái thích!")}finally{p(!1)}},[b,f,t]);if(k.useEffect(()=>{x()},[x]),d)return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ns,{className:"h-12 w-12 animate-spin mx-auto text-purple-500 mb-4"}),r.jsx("p",{className:"text-gray-600 text-lg",children:"Đang tải bài viết..."})]})});if(!t)return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"text-center bg-white rounded-xl shadow-lg p-8 max-w-md",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Ho,{className:"w-8 h-8 text-gray-400"})}),r.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Không tìm thấy bài viết"}),r.jsx("p",{className:"text-gray-600",children:"Bài viết không tồn tại hoặc đã bị xóa."})]})});const y=new Date(t.ngayTao).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"}),S={1:{text:"Admin",background:"bg-emerald-100",textColor:"text-emerald-700"},2:{text:"Nhân Viên",background:"bg-blue-100",textColor:"text-blue-700"},0:{text:"Khách",background:"bg-gray-100",textColor:"text-gray-700"}},{text:M,background:P,textColor:B}=S[(s==null?void 0:s.vaiTro)||0],D={"san-pham":"Giới Thiệu Sản Phẩm","phoi-do":"Gợi Ý Phối Đồ"};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50",children:[r.jsxs(D2,{children:[r.jsx("meta",{name:"description",content:t.metaDescription||"Bài viết chi tiết"}),r.jsx("meta",{property:"og:title",content:t.metaTitle||t.tieuDe}),r.jsx("meta",{property:"og:description",content:t.metaDescription||""}),t.hinhAnh&&r.jsx("meta",{property:"og:image",content:`data:image/jpeg;base64,${t.hinhAnh}`})]}),r.jsx(Ah,{position:"top-right"}),r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsxs("article",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden mb-8",children:[r.jsx("div",{className:"p-6 sm:p-8 border-b border-gray-100",children:r.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-800 leading-tight",children:t.tieuDe})}),t.hinhAnh&&r.jsx("div",{className:"relative",children:r.jsx("img",{src:`data:image/jpeg;base64,${t.hinhAnh}`,alt:t.moTaHinhAnh||t.tieuDe,className:"w-full h-auto max-h-96 object-contain",onError:O=>O.currentTarget.src=kf})}),r.jsx("div",{className:"p-6 sm:p-8",children:r.jsx("div",{className:"prose prose-sm sm:prose lg:prose-lg max-w-none blog-content w-full",dangerouslySetInnerHTML:{__html:t.noiDung?pd.sanitize(t.noiDung,{ADD_TAGS:["img"],ADD_ATTR:["style","src"]}):"Chưa cập nhật"},"aria-label":"Nội dung bài viết"})}),r.jsxs("div",{className:"p-6 sm:p-8 border-t border-gray-100",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full flex items-center justify-center",children:r.jsx(Un,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-800",children:(s==null?void 0:s.hoTen)||t.maNguoiDung}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($r,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-500",children:y})]})]})]}),(s==null?void 0:s.vaiTro)!==void 0&&r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${P} ${B}`,children:M})]}),r.jsxs("button",{onClick:v,className:Ue("flex items-center gap-2 px-6 py-3 rounded-lg font-medium transition-all duration-200 shadow-sm hover:shadow-md",f?"bg-gradient-to-r from-red-500 to-pink-500 text-white hover:from-red-600 hover:to-pink-600":"bg-gradient-to-r from-purple-500 to-purple-600 text-white hover:from-purple-600 hover:to-purple-700"),"aria-label":f?"Bỏ thích bài viết":"Thích bài viết",disabled:g,children:[g?r.jsx(ns,{className:"w-5 h-5 animate-spin"}):r.jsx(Ts,{className:Ue("w-5 h-5",f?"fill-current":"")}),r.jsx("span",{children:f?"Đã thích":"Thích"}),r.jsx("span",{className:"bg-white bg-opacity-20 px-2 py-1 rounded-full text-sm",children:m})]})]}),t.tags&&t.tags.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((O,F)=>r.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium",children:D[O]||O},F))})]})]}),r.jsx(J6e,{entityId:t.maBlog,type:"blog"})]}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 sticky top-4",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Bài viết liên quan"}),i.length===0?r.jsx("p",{className:"text-gray-500 text-sm",children:"Không có bài viết liên quan."}):r.jsx("div",{className:"space-y-4 max-h-[calc(100vh-8rem)] overflow-y-auto",children:i.map(O=>r.jsx(RI,{post:O,nguoiDung:c[O.maNguoiDung]||null},O.maBlog))})]})})]})}),r.jsx("style",{children:`
        .blog-content {
          color: #374151;
          line-height: 1.7;
        }
        .blog-content h1, .blog-content h2, .blog-content h3, .blog-content h4, .blog-content h5, .blog-content h6 {
          color: #1f2937;
          margin-top: 2rem;
          margin-bottom: 1rem;
          font-weight: 600;
        }
        .blog-content p {
          margin-bottom: 1.5rem;
        }
        .blog-content img {
          max-width: 100%;
          height: auto;
          display: block;
          margin: 2rem auto;
          border-radius: 0.5rem;
          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        .blog-content blockquote {
          border-left: 4px solid #8b5cf6;
          padding-left: 1rem;
          margin: 1.5rem 0;
          background: #f8fafc;
          padding: 1rem;
          border-radius: 0.5rem;
          font-style: italic;
        }
        .blog-content ul, .blog-content ol {
          margin: 1.5rem 0;
          padding-left: 1.5rem;
        }
        .blog-content li {
          margin-bottom: 0.5rem;
        }
        .blog-content a {
          color: #8b5cf6;
          text-decoration: underline;
          transition: color 0.2s;
        }
        .blog-content a:hover {
          color: #7c3aed;
        }
        .blog-content code {
          background: #f1f5f9;
          padding: 0.25rem 0.5rem;
          border-radius: 0.25rem;
          font-size: 0.875em;
          color: #e11d48;
        }
        .blog-content pre {
          background: #1e293b;
          color: #e2e8f0;
          padding: 1rem;
          border-radius: 0.5rem;
          overflow-x: auto;
          margin: 1.5rem 0;
        }
        .blog-content pre code {
          background: transparent;
          padding: 0;
          color: inherit;
        }
        .blog-content table {
          width: 100%;
          border-collapse: collapse;
          margin: 1.5rem 0;
        }
        .blog-content th, .blog-content td {
          border: 1px solid #e5e7eb;
          padding: 0.75rem;
          text-align: left;
        }
        .blog-content th {
          background: #f9fafb;
          font-weight: 600;
        }
        .ql-size-small {
          font-size: 0.75rem !important;
        }
        .ql-size-normal {
          font-size: 1rem !important;
        }
        .ql-size-large {
          font-size: 1.5rem !important;
        }
        .ql-size-huge {
          font-size: 2.5rem !important;
        }
        .line-clamp-3 {
          display: -webkit-box;
          -webkit-line-clamp: 3;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }
        .quill {
          background: white;
          border-radius: 0.5rem;
        }
        .ql-toolbar.ql-snow {
          border: 1px solid #e5e7eb;
          border-top-left-radius: 0.5rem;
          border-top-right-radius: 0.5rem;
          background: #f9fafb;
        }
        .ql-container.ql-snow {
          border: 1px solid #e5e7eb;
          border-bottom-left-radius: 0.5rem;
          border-bottom-right-radius: 0.5rem;
        }
        .ql-editor {
          min-height: auto;
          max-height: none;
          overflow-y: visible;
          color: #374151;
        }
        .ql-editor::before {
          color: #9ca3af;
        }
      `})]})},y_=()=>{const{toast:n}=ac(),[t,e]=k.useState(!1),[s,a]=k.useState(null),[i,o]=k.useState({fullName:"",email:"",Phone:"",Address:"",Cccd:"",Born:"",image:null,imagePreview:null}),[c,l]=k.useState(""),[d,u]=k.useState(""),[f,h]=k.useState(""),m=k.useRef(null),A=localStorage.getItem("token");k.useEffect(()=>{A&&(async()=>{console.log("Token:",A);try{const B=(await St.get("https://bicacuatho.azurewebsites.net/api/UpdateProfile/profile",{headers:{Authorization:`Bearer ${A}`}})).data;a(B.maNguoiDung),o({fullName:B.hoTen||"",email:B.email||"",Phone:B.sdt||"",Address:B.diaChi||"",Cccd:B.cccd||"",Born:B.ngaySinh||"",image:null,imagePreview:B.hinhAnh?`data:image/jpg;base64,${B.hinhAnh}`:null})}catch{n({variant:"destructive",title:"Lỗi",description:"Không thể lấy thông tin người dùng."})}})()},[A,n]);const g=M=>{const{name:P,value:B}=M.target;o(D=>({...D,[P]:B}))},p=M=>{var B;const P=(B=M.target.files)==null?void 0:B[0];if(P){if(P.size>5*1024*1024){n({variant:"destructive",title:"Lỗi",description:"Kích thước ảnh không được vượt quá 5MB."});return}if(!["image/jpeg","image/jpg","image/png"].includes(P.type)){n({variant:"destructive",title:"Lỗi",description:"Chỉ chấp nhận file ảnh .jpg, .jpeg, .png."});return}const L=URL.createObjectURL(P);o(O=>({...O,image:P,imagePreview:L}))}},b=M=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(M),x=M=>/^[0-9]{10}$/.test(M),v=M=>/^[0-9]{12}$/.test(M),y=async M=>{var B,D;if(M.preventDefault(),e(!0),!i.fullName.trim()){n({variant:"destructive",title:"Lỗi",description:"Họ và tên không được để trống."}),e(!1);return}if(i.email&&!b(i.email)){n({variant:"destructive",title:"Lỗi",description:"Email không hợp lệ."}),e(!1);return}if(i.Phone&&!x(i.Phone)){n({variant:"destructive",title:"Lỗi",description:"Số điện thoại phải là 10 chữ số."}),e(!1);return}if(i.Cccd&&!v(i.Cccd)){n({variant:"destructive",title:"Lỗi",description:"CCCD phải là 12 chữ số."}),e(!1);return}if(i.Born&&new Date(i.Born)>new Date){n({variant:"destructive",title:"Lỗi",description:"Ngày sinh không được lớn hơn ngày hiện tại."}),e(!1);return}const P=new FormData;P.append("HoTen",i.fullName),P.append("Email",i.email),P.append("Sdt",i.Phone),P.append("DiaChi",i.Address),P.append("CCCD",i.Cccd),P.append("NgaySinh",i.Born),i.image&&P.append("HinhAnh",i.image);try{await St.put(`https://bicacuatho.azurewebsites.net/api/UpdateProfile/update-profile/${s}`,P,{headers:{Authorization:`Bearer ${A}`,"Content-Type":"multipart/form-data"}});const O=(await St.get("https://bicacuatho.azurewebsites.net/api/UpdateProfile/profile",{headers:{Authorization:`Bearer ${A}`}})).data;o(F=>({...F,imagePreview:O.hinhAnh?`data:image/jpg;base64,${O.hinhAnh}`:null})),n({title:"Cập nhật thành công",description:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ja,{className:"h-5 w-5 text-green-500"}),r.jsx("span",{children:"Thông tin cá nhân của bạn đã được cập nhật thành công!"})]}),className:"bg-green-100 border-green-500 text-green-800",duration:3e3})}catch(L){n({variant:"destructive",title:"Lỗi",description:((D=(B=L.response)==null?void 0:B.data)==null?void 0:D.message)||"Không thể cập nhật thông tin."})}finally{e(!1)}},S=async M=>{var B,D;if(M.preventDefault(),e(!0),!c){n({variant:"destructive",title:"Lỗi",description:"Mật khẩu hiện tại không được để trống."}),e(!1);return}if(!d){n({variant:"destructive",title:"Lỗi",description:"Mật khẩu mới không được để trống."}),e(!1);return}if(d.length<6){n({variant:"destructive",title:"Lỗi",description:"Mật khẩu mới phải có ít nhất 6 ký tự."}),e(!1);return}if(d!==f){n({variant:"destructive",title:"Lỗi",description:"Mật khẩu mới và xác nhận mật khẩu không khớp."}),e(!1);return}const P=new FormData;P.append("MatKhauCu",c),P.append("MatKhauMoi",d);try{await St.put(`https://bicacuatho.azurewebsites.net/api/UpdateProfile/update-password/${s}`,P,{headers:{Authorization:`Bearer ${A}`,"Content-Type":"multipart/form-data"}}),n({title:"Cập nhật thành công",description:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ja,{className:"h-5 w-5 text-green-500"}),r.jsx("span",{children:"Mật khẩu của bạn đã được thay đổi thành công!"})]}),className:"bg-green-100 border-green-500 text-green-800",duration:3e3}),l(""),u(""),h("")}catch(L){n({variant:"destructive",title:"Lỗi",description:((D=(B=L.response)==null?void 0:B.data)==null?void 0:D.message)||"Không thể đổi mật khẩu."})}finally{e(!1)}};return r.jsx("div",{className:"min-h-screen flex flex-col",children:r.jsx("main",{className:"flex-1 py-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-b from-background to-secondary/20",children:r.jsx("div",{className:"max-w-4xl mx-auto my-[50px]",children:r.jsx("div",{className:"colorful-card p-8 rounded-lg shadow-lg",children:r.jsxs(Na,{defaultValue:"personal-info",className:"w-full",children:[r.jsxs(sa,{className:"grid w-full grid-cols-2 mb-8",children:[r.jsxs(kn,{value:"personal-info",children:[r.jsx(Un,{className:"mr-2 h-4 w-4"})," Thông tin cá nhân"]}),r.jsxs(kn,{value:"change-password",children:[r.jsx(ma,{className:"mr-2 h-4 w-4"})," Đổi mật khẩu"]})]}),r.jsx(Fn,{value:"personal-info",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-8",children:[r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"relative w-32 h-32 rounded-full overflow-hidden bg-secondary",children:i.imagePreview?r.jsx("img",{src:i.imagePreview,alt:"Preview",className:"w-full h-full object-cover"}):r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx(Zy,{size:64})})}),r.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>{var M;return(M=m.current)==null?void 0:M.click()},children:[r.jsx(Zy,{className:"mr-2 h-4 w-4"})," Thay đổi ảnh"]}),r.jsx("input",{type:"file",accept:"image/*",ref:m,hidden:!0,onChange:p})]}),r.jsx("div",{className:"flex-1",children:r.jsxs("form",{onSubmit:y,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"fullName",children:"Họ và tên"}),r.jsx(je,{id:"fullName",name:"fullName",value:i.fullName,onChange:g})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"email",children:"Email"}),r.jsx(je,{id:"email",name:"email",type:"email",value:i.email,onChange:g})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"Phone",children:"Số điện thoại"}),r.jsx(je,{id:"Phone",name:"Phone",type:"tel",value:i.Phone,onChange:g})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"Address",children:"Địa chỉ"}),r.jsx(je,{id:"Address",name:"Address",value:i.Address,onChange:g})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"Cccd",children:"Căn cước công dân"}),r.jsx(je,{id:"Cccd",name:"Cccd",value:i.Cccd,onChange:g})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"Born",children:"Ngày sinh"}),r.jsx(je,{id:"Born",name:"Born",type:"date",value:i.Born,onChange:g})]})]}),r.jsx(fe,{type:"submit",className:"w-full sm:w-auto gradient-bg",disabled:t,children:t?"Đang cập nhật...":r.jsxs(r.Fragment,{children:[r.jsx(Hm,{className:"mr-2 h-4 w-4"})," Lưu thay đổi"]})})]})})]})}),r.jsx(Fn,{value:"change-password",children:r.jsxs("form",{onSubmit:S,className:"space-y-6 max-w-md mx-auto",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"current-password",children:"Mật khẩu hiện tại"}),r.jsx(je,{id:"current-password",type:"password",value:c,onChange:M=>l(M.target.value),required:!0})]}),r.jsx(Ys,{}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"new-password",children:"Mật khẩu mới"}),r.jsx(je,{id:"new-password",type:"password",value:d,onChange:M=>u(M.target.value),required:!0})]}),r.jsxs("div",{children:[r.jsx(Oe,{htmlFor:"confirm-password",children:"Xác nhận mật khẩu mới"}),r.jsx(je,{id:"confirm-password",type:"password",value:f,onChange:M=>h(M.target.value),required:!0})]})]}),r.jsx(fe,{type:"submit",className:"w-full sm:w-auto gradient-bg",disabled:t,children:t?"Đang xử lý...":r.jsxs(r.Fragment,{children:[r.jsx(ma,{className:"mr-2 h-4 w-4"})," Đổi mật khẩu"]})})]})})]})})})})})},Gy={"Hà Nội":{fee:4e4,time:"3 - 5 ngày"},"TP. Hồ Chí Minh":{fee:2e4,time:"2 - 3 ngày"},"Hải Phòng":{fee:45e3,time:"3 - 5 ngày"},"Đà Nẵng":{fee:3e4,time:"2 - 3 ngày"},"Cần Thơ":{fee:3e4,time:"2 - 4 ngày"},"An Giang":{fee:35e3,time:"3 - 4 ngày"},"Bà Rịa - Vũng Tàu":{fee:25e3,time:"2 - 3 ngày"},"Bắc Giang":{fee:45e3,time:"3 - 5 ngày"},"Bắc Kạn":{fee:5e4,time:"4 - 6 ngày"},"Bạc Liêu":{fee:35e3,time:"3 - 4 ngày"},"Bắc Ninh":{fee:4e4,time:"3 - 5 ngày"},"Bến Tre":{fee:3e4,time:"2 - 4 ngày"},"Bình Định":{fee:25e3,time:"2 - 3 ngày"},"Bình Dương":{fee:2e4,time:"2 - 3 ngày"},"Bình Phước":{fee:2e4,time:"2 - 3 ngày"},"Bình Thuận":{fee:25e3,time:"2 - 3 ngày"},"Cà Mau":{fee:35e3,time:"3 - 5 ngày"},"Cao Bằng":{fee:5e4,time:"4 - 6 ngày"},"Đắk Lắk":{fee:0,time:"Nội tỉnh"},"Đắk Nông":{fee:15e3,time:"1 - 2 ngày"},"Điện Biên":{fee:5e4,time:"4 - 6 ngày"},"Đồng Nai":{fee:2e4,time:"2 - 3 ngày"},"Đồng Tháp":{fee:3e4,time:"3 - 4 ngày"},"Gia Lai":{fee:15e3,time:"1 - 2 ngày"},"Hà Giang":{fee:5e4,time:"4 - 6 ngày"},"Hà Nam":{fee:45e3,time:"3 - 5 ngày"},"Hà Tĩnh":{fee:35e3,time:"3 - 4 ngày"},"Hải Dương":{fee:45e3,time:"3 - 5 ngày"},"Hậu Giang":{fee:35e3,time:"3 - 4 ngày"},"Hòa Bình":{fee:45e3,time:"3 - 5 ngày"},"Hưng Yên":{fee:4e4,time:"3 - 5 ngày"},"Khánh Hòa":{fee:25e3,time:"2 - 3 ngày"},"Kiên Giang":{fee:35e3,time:"3 - 4 ngày"},"Kon Tum":{fee:15e3,time:"1 - 2 ngày"},"Lai Châu":{fee:5e4,time:"4 - 6 ngày"},"Lâm Đồng":{fee:2e4,time:"1 - 2 ngày"},"Lạng Sơn":{fee:5e4,time:"4 - 6 ngày"},"Lào Cai":{fee:5e4,time:"4 - 6 ngày"},"Long An":{fee:3e4,time:"2 - 4 ngày"},"Nam Định":{fee:45e3,time:"3 - 5 ngày"},"Nghệ An":{fee:35e3,time:"3 - 4 ngày"},"Ninh Bình":{fee:45e3,time:"3 - 5 ngày"},"Ninh Thuận":{fee:25e3,time:"2 - 3 ngày"},"Phú Thọ":{fee:45e3,time:"3 - 5 ngày"},"Phú Yên":{fee:25e3,time:"2 - 3 ngày"},"Quảng Bình":{fee:35e3,time:"3 - 4 ngày"},"Quảng Nam":{fee:25e3,time:"2 - 3 ngày"},"Quảng Ngãi":{fee:25e3,time:"2 - 3 ngày"},"Quảng Ninh":{fee:5e4,time:"4 - 6 ngày"},"Quảng Trị":{fee:3e4,time:"3 - 4 ngày"},"Sóc Trăng":{fee:35e3,time:"3 - 4 ngày"},"Sơn La":{fee:5e4,time:"4 - 6 ngày"},"Tây Ninh":{fee:25e3,time:"2 - 3 ngày"},"Thái Bình":{fee:45e3,time:"3 - 5 ngày"},"Thái Nguyên":{fee:45e3,time:"3 - 5 ngày"},"Thanh Hóa":{fee:4e4,time:"3 - 4 ngày"},"Thừa Thiên Huế":{fee:3e4,time:"2 - 3 ngày"},"Tiền Giang":{fee:3e4,time:"2 - 3 ngày"},"Trà Vinh":{fee:3e4,time:"2 - 3 ngày"},"Tuyên Quang":{fee:5e4,time:"4 - 6 ngày"},"Vĩnh Long":{fee:3e4,time:"2 - 3 ngày"},"Vĩnh Phúc":{fee:45e3,time:"3 - 5 ngày"},"Yên Bái":{fee:5e4,time:"4 - 6 ngày"}},tBe={"ha noi":"Hà Nội","thanh pho ha noi":"Hà Nội","tp ho chi minh":"TP. Hồ Chí Minh","thanh pho ho chi minh":"TP. Hồ Chí Minh","hai phong":"Hải Phòng","thanh pho hai phong":"Hải Phòng","da nang":"Đà Nẵng","thanh pho da nang":"Đà Nẵng","can tho":"Cần Thơ","thanh pho can tho":"Cần Thơ","an giang":"An Giang","tinh an giang":"An Giang","ba ria vung tau":"Bà Rịa - Vũng Tàu","tinh ba ria vung tau":"Bà Rịa - Vũng Tàu","bac giang":"Bắc Giang","tinh bac giang":"Bắc Giang","bac kan":"Bắc Kạn","tinh bac kan":"Bắc Kạn","bac lieu":"Bạc Liêu","tinh bac lieu":"Bạc Liêu","bac ninh":"Bắc Ninh","tinh bac ninh":"Bắc Ninh","ben tre":"Bến Tre","tinh ben tre":"Bến Tre","binh dinh":"Bình Định","tinh binh dinh":"Bình Định","binh duong":"Bình Dương","tinh binh duong":"Bình Dương","binh phuoc":"Bình Phước","tinh binh phuoc":"Bình Phước","binh thuan":"Bình Thuận","tinh binh thuan":"Bình Thuận","ca mau":"Cà Mau","tinh ca mau":"Cà Mau","cao bang":"Cao Bằng","tinh cao bang":"Cao Bằng","dak lak":"Đắk Lắk","tinh dak lak":"Đắk Lắk","dak nong":"Đắk Nông","tinh dak nong":"Đắk Nông","dien bien":"Điện Biên","tinh dien bien":"Điện Biên","dong nai":"Đồng Nai","tinh dong nai":"Đồng Nai","dong thap":"Đồng Tháp","tinh dong thap":"Đồng Tháp","gia lai":"Gia Lai","tinh gia lai":"Gia Lai","ha giang":"Hà Giang","tinh ha giang":"Hà Giang","ha nam":"Hà Nam","tinh ha nam":"Hà Nam","ha tinh":"Hà Tĩnh","tinh ha tinh":"Hà Tĩnh","hai duong":"Hải Dương","tinh hai duong":"Hải Dương","hau giang":"Hậu Giang","tinh hau giang":"Hậu Giang","hoa binh":"Hòa Bình","tinh hoa binh":"Hòa Bình","hung yen":"Hưng Yên","tinh hung yen":"Hưng Yên","khanh hoa":"Khánh Hòa","tinh khanh hoa":"Khánh Hòa","kien giang":"Kiên Giang","tinh kien giang":"Kiên Giang","kon tum":"Kon Tum","tinh kon tum":"Kon Tum","lai chau":"Lai Châu","tinh lai chau":"Lai Châu","lam dong":"Lâm Đồng","tinh lam dong":"Lâm Đồng","lang son":"Lạng Sơn","tinh lang son":"Lạng Sơn","lao cai":"Lào Cai","tinh lao cai":"Lào Cai","long an":"Long An","tinh long an":"Long An","nam dinh":"Nam Định","tinh nam dinh":"Nam Định","nghe an":"Nghệ An","tinh nghe an":"Nghệ An","ninh binh":"Ninh Bình","tinh ninh binh":"Ninh Bình","ninh thuan":"Ninh Thuận","tinh ninh thuan":"Ninh Thuận","phu tho":"Phú Thọ","tinh phu tho":"Phú Thọ","phu yen":"Phú Yên","tinh phu yen":"Phú Yên","quang binh":"Quảng Bình","tinh quang binh":"Quảng Bình","quang nam":"Quảng Nam","tinh quang nam":"Quảng Nam","quang ngai":"Quảng Ngãi","tinh quang ngai":"Quảng Ngãi","quang ninh":"Quảng Ninh","tinh quang ninh":"Quảng Ninh","quang tri":"Quảng Trị","tinh quang tri":"Quảng Trị","soc trang":"Sóc Trăng","tinh soc trang":"Sóc Trăng","son la":"Sơn La","tinh son la":"Sơn La","tay ninh":"Tây Ninh","tinh tay ninh":"Tây Ninh","thai binh":"Thái Bình","tinh thai binh":"Thái Bình","thai nguyen":"Thái Nguyên","tinh thai nguyen":"Thái Nguyên","thanh hoa":"Thanh Hóa","tinh thanh hoa":"Thanh Hóa","thua thien hue":"Thừa Thiên Huế","tinh thua thien hue":"Thừa Thiên Huế","tien giang":"Tiền Giang","tinh tien giang":"Tiền Giang","tra vinh":"Trà Vinh","tinh tra vinh":"Trà Vinh","tuyen quang":"Tuyên Quang","tinh tuyen quang":"Tuyên Quang","vinh long":"Vĩnh Long","tinh vinh long":"Vĩnh Long","vinh phuc":"Vĩnh Phúc","tinh vinh phuc":"Vĩnh Phúc","yen bai":"Yên Bái","tinh yen bai":"Yên Bái"},nBe=()=>{const[n,t]=k.useState(!0),[e,s]=k.useState(!1),a=dr(),[i,o]=k.useState([]),[c,l]=k.useState(""),[d,u]=k.useState(!1),[f,h]=k.useState(0),[m,A]=k.useState(0),[g,p]=k.useState([]),[b,x]=k.useState([]),[v,y]=k.useState([]),[S,M]=k.useState([]),[P,B]=k.useState(!1),[D,L]=k.useState(0),[O,F]=k.useState("cod"),[_,E]=k.useState([]),[T,w]=k.useState(()=>{const H=localStorage.getItem("checkoutForm");return H?JSON.parse(H):{tenNguoiNhan:"",sdt:"",province:"",district:"",ward:"",specificAddress:""}}),C=H=>Math.round(H).toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),j=H=>H?H.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/^(thanh pho|tinh|quan|huyen|phuong|xa)\s+/i,"").replace(/\s+/g," ").trim():"",N=H=>{if(!H)return"";const $=H.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/^(thanh pho|tinh)\s+/i,"").replace(/\s+/g," ").trim();return tBe[$]||H.trim()};k.useEffect(()=>{localStorage.setItem("checkoutForm",JSON.stringify(T))},[T]),k.useEffect(()=>{(async()=>{var G;t(!0);const $=localStorage.getItem("userId");if(!$){Ce.fire({title:"Vui lòng đăng nhập!",text:"Bạn cần đăng nhập để thanh toán.",icon:"warning",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{a("/login")});return}try{const J=JSON.parse(localStorage.getItem("InstantBuy")||"[]");if(J.length===0){t(!1);return}const K=await(await fetch(`https://bicacuatho.azurewebsites.net/api/SanPham/ListSanPham?id=${(G=J[0])==null?void 0:G.IDSanPham}`)).json();E(K);const ne=J.map(Z=>{var se,re,le;return{idSanPham:Z.IDSanPham,tenSanPham:Z.TenSanPham,mauSac:Z.MauSac,kickThuoc:Z.KichThuoc.trim(),soLuong:((se=K.find(ae=>ae.id===Z.IDSanPham))==null?void 0:se.soLuong)||0,soLuongMua:Z.SoLuong,tienSanPham:Z.Gia,hinhAnh:((le=(re=K.find(ae=>ae.id===Z.IDSanPham))==null?void 0:re.hinhAnhs)==null?void 0:le[0])||""}});o(ne);const ce=ne.reduce((Z,se)=>Z+se.tienSanPham*se.soLuongMua,0),ee=await(await fetch("https://provinces.open-api.vn/api/p/")).json();p(ee);const Y=await(await fetch(`https://bicacuatho.azurewebsites.net/api/DanhSachDiaChi/maNguoiDung/${$}`)).json();M(Y.sort((Z,se)=>se.trangThai-Z.trangThai)),console.log(Y),A(ce+D)}catch(J){console.error("Error fetching data:",J),xt.error("Không thể tải dữ liệu")}finally{t(!1)}})()},[a,D]);const I=async H=>{w(J=>({...J,province:H,district:"",ward:""})),x([]),y([]);const $=g.find(J=>J.code.toString()===H);if($){const J=Gy[$.name.trim()]||{fee:0};L(J.fee)}const G=V();if(A(G-f+D),H)try{const te=await(await fetch(`https://provinces.open-api.vn/api/p/${H}?depth=2`)).json();x(te.districts||[])}catch(J){xt.error("Không thể tải danh sách quận/huyện"),console.error("Error fetching districts:",J)}},R=async H=>{if(w($=>({...$,district:H,ward:""})),y([]),H)try{const G=await(await fetch(`https://provinces.open-api.vn/api/d/${H}?depth=2`)).json();y(G.wards||[])}catch($){xt.error("Không thể tải danh sách phường/xã"),console.error("Error fetching wards:",$)}},U=async H=>{try{const $=H.tinh,G=j($),J=g.find(ae=>j(ae.name)===G);if(!J)return;const K=await(await fetch(`https://provinces.open-api.vn/api/p/${J.code}?depth=2`)).json(),ne=j(H.quanHuyen),ce=K.districts.find(ae=>j(ae.name)===ne);if(!ce){xt.error("Không thể tìm thấy quận/huyện tương ứng");return}const ee=await(await fetch(`https://provinces.open-api.vn/api/d/${ce.code}?depth=2`)).json(),W=j(H.phuongXa),Y=ee.wards.find(ae=>j(ae.name)===W);if(!Y){xt.error("Địa chỉ không hoạt động, vui lòng đổi trạng thái cho nó");return}const Z=N($),se=Gy[Z]||{fee:0,time:"Không xác định"};L(se.fee),x(K.districts||[]),y(ee.wards||[]);const re=`${H.diaChi}, ${Y.name}, ${ce.name}, ${J.name}`;w({tenNguoiNhan:H.hoTen,sdt:H.sdt,province:J.code.toString(),district:ce.code.toString(),ward:Y.code.toString(),specificAddress:H.diaChi});const le=V();A(le-f+se.fee),B(!1)}catch{xt.error("Không thể chọn địa chỉ, vui lòng thử lại")}},V=()=>i.reduce((H,$)=>H+$.tienSanPham*$.soLuongMua,0),z=()=>V()-f+D,X=H=>{const{name:$,value:G}=H.target;w(J=>({...J,[$]:G}))},Q=async()=>{if(!c){xt.error("Vui lòng nhập mã giảm giá");return}try{const H=await fetch(`https://bicacuatho.azurewebsites.net/api/Voucher/ValidateInstant?code=${encodeURIComponent(c)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!H.ok)throw new Error(`HTTP error! Status: ${H.status}`);const $=await H.json();$.success?(u(!0),h($.discountAmount),A(V()-$.discountAmount+D),xt.success("Mã giảm giá đã được áp dụng!")):(u(!1),h(0),A(V()+D),xt.error($.message))}catch(H){xt.error("Mã giảm giá không hợp lệ hoặc đã hết hạn"),console.error("Error applying promo:",H)}},q=async H=>{var te,K,ne;H.preventDefault(),s(!0);const $=localStorage.getItem("userId");if(!$){Ce.fire({title:"Vui lòng đăng nhập!",text:"Bạn cần đăng nhập để thanh toán.",icon:"warning",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{a("/login"),s(!1)});return}if(["tenNguoiNhan","sdt","province","district","ward","specificAddress"].filter(ce=>!T[ce]).length>0){xt.error("Vui lòng điền đầy đủ thông tin giao hàng"),s(!1);return}try{const ce=g.find(he=>he.code.toString()===T.province);if(!ce){xt.error("Vui lòng chọn tỉnh/thành phố hợp lệ"),s(!1);return}const oe=N(ce.name),ee=((te=Gy[oe])==null?void 0:te.fee)||0;D!==ee&&L(ee);const Y=V()-f+ee,Z=((K=b.find(he=>he.code.toString()===T.district))==null?void 0:K.name)||"",se=((ne=v.find(he=>he.code.toString()===T.ward))==null?void 0:ne.name)||"",re=`${T.specificAddress}, ${se}, ${Z}, ${ce.name}`,le={userId:$,items:i,couponCode:c||null,paymentMethod:O,tenNguoiNhan:T.tenNguoiNhan,sdt:T.sdt,diaChi:re,discountAmount:f,shippingFee:ee,finalAmount:Y};console.log(le);const ue=await(await fetch("https://bicacuatho.azurewebsites.net/api/CheckOut/InstantCheckOut",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(le)})).json();if(ue.success){if(O==="cod")xt.success(ue.message,{description:`Mã đơn hàng: ${ue.orderId}`,duration:3e3,action:{label:"Xem chi tiết",onClick:()=>a("/user/orders",{state:{orderId:ue.orderId}})}}),o([]),l(""),u(!1),h(0),A(0),localStorage.removeItem("InstantBuy"),localStorage.removeItem("checkoutForm"),a("/",{state:{orderId:ue.orderId}});else if(O==="vnpay"){if(ue.finalAmount!==Y){xt.error(`Tổng tiền VNPay (${C(ue.finalAmount)} VND) không khớp với kỳ vọng (${C(Y)} VND). Vui lòng thử lại.`),s(!1);return}window.location.href=ue.message}}else xt.error(ue.message),s(!1)}catch(ce){xt.error("Đã xảy ra lỗi trong quá trình thanh toán"),console.error("Error during checkout:",ce),s(!1)}};return r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx("main",{className:"flex-1 py-12 px-6",children:r.jsx("div",{className:"container mx-auto max-w-6xl my-[50px]",children:n?r.jsxs("div",{className:"text-center py-16",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-purple-600 mx-auto mb-4"}),r.jsx("p",{className:"text-lg",children:"Đang tải dữ liệu..."})]}):i.length>0?r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("form",{onSubmit:q,className:"bg-white p-6 rounded-lg shadow-sm border border-border",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Thông tin giao hàng"}),r.jsx("div",{className:"relative -top-[7px]",children:r.jsx(QC,{})}),r.jsx("div",{className:"space-x-2",children:r.jsx(fe,{type:"button",onClick:()=>B(!0),className:"bg-purple-600 hover:bg-purple-700 text-white",children:"Chọn địa chỉ có sẵn"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"tenNguoiNhan",children:"Tên người nhận"}),r.jsx(je,{id:"tenNguoiNhan",name:"tenNguoiNhan",value:T.tenNguoiNhan,onChange:X,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"sdt",children:"Số điện thoại"}),r.jsx(je,{id:"sdt",name:"sdt",type:"tel",value:T.sdt,onChange:X,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"province",children:"Tỉnh/Thành phố"}),r.jsxs("select",{id:"province",name:"province",value:T.province,onChange:H=>I(H.target.value),className:"w-full p-2 border rounded-md",required:!0,disabled:!0,children:[r.jsx("option",{value:"",children:"Chọn tỉnh/thành phố"}),g.map(H=>r.jsx("option",{value:H.code,children:H.name},H.code))]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"district",children:"Quận/Huyện"}),r.jsxs("select",{id:"district",name:"district",value:T.district,onChange:H=>R(H.target.value),className:"w-full p-2 border rounded-md",required:!0,disabled:!0,children:[r.jsx("option",{value:"",children:"Chọn quận/huyện"}),b.map(H=>r.jsx("option",{value:H.code,children:H.name},H.code))]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Oe,{htmlFor:"ward",children:"Phường/Xã"}),r.jsxs("select",{id:"ward",name:"ward",value:T.ward,onChange:X,className:"w-full p-2 border rounded-md",required:!0,disabled:!0,children:[r.jsx("option",{value:"",children:"Chọn phường/xã"}),v.map(H=>r.jsx("option",{value:H.code,children:H.name},H.code))]})]}),r.jsxs("div",{className:"space-y-2 md:col-span-2",children:[r.jsx(Oe,{htmlFor:"specificAddress",children:"Địa chỉ cụ thể (số nhà, tên đường)"}),r.jsx(je,{id:"specificAddress",name:"specificAddress",value:T.specificAddress,onChange:X,required:!0,readOnly:!0})]})]}),r.jsxs("div",{className:"space-y-2 mb-6",children:[r.jsx(Oe,{children:"Phương thức thanh toán"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"paymentMethod",value:"cod",checked:O==="cod",onChange:()=>F("cod"),className:"mr-2"}),"Thanh toán khi nhận hàng (COD)"]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"paymentMethod",value:"vnpay",checked:O==="vnpay",onChange:()=>F("vnpay"),className:"mr-2"}),"Thanh toán qua VNPay"]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-6",children:[r.jsx(fe,{type:"submit",className:'flex-1 sm:order-2 isSubmitting ? "opacity-50 cursor-not-allowed" : "hover:bg-blue-600"}',disabled:e,children:O==="cod"?"Xác nhận thanh toán COD":"Thanh toán qua VNPay"}),r.jsx(fe,{type:"button",variant:"outline",className:"flex-1 sm:order-1",onClick:()=>a("/"),children:"Quay lại trang Sản Phẩm"})]})]})}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-border sticky top-4",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Tóm tắt đơn hàng"}),r.jsxs("div",{className:"space-y-3 mb-6",children:[i.map(H=>{const $=_.find(G=>G.id===H.idSanPham);return r.jsx("div",{className:"flex flex-col space-y-2",children:r.jsx("div",{className:"flex items-start gap-4",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("img",{src:`data:image/png;base64,${$.hinh}`,alt:H.tenSanPham,className:"w-16 h-16 object-cover rounded-md"}),r.jsxs("span",{className:"text-muted-foreground font-medium",children:[H.tenSanPham," ",r.jsxs("span",{className:"text-xs",children:["x",H.soLuongMua]})]}),r.jsxs("span",{children:[C(H.tienSanPham*H.soLuongMua)," VND"]})]}),$&&r.jsxs("div",{className:"text-sm text-muted-foreground mt-2",children:[r.jsxs("p",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("strong",{children:"Màu Sắc:"}),r.jsx("span",{className:'w-5 h-5 rounded-full border ? "border-crocus-500 ring-2 ring-crocus-500" : "border-gray-200 hover:border-gray-300"}',style:{backgroundColor:`#${H.mauSac}`},title:H.mauSac}),r.jsxs("span",{children:[" ",H.mauSac]})]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Kích thước:"})," ",H.kickThuoc]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Chất liệu:"})," ",$.chatLieu]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Loại sản phẩm:"})," ",$.loaiSanPham]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Thương hiệu:"})," ",$.thuongHieu]})]})]})})},H.idSanPham)}),r.jsx("div",{className:"border-t my-3"}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Tổng tiền gốc"}),r.jsxs("span",{children:[C(V())," VND"]})]}),d&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Giảm giá"}),r.jsxs("span",{children:["-",C(f)," VND"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Phí giao hàng"}),r.jsxs("span",{children:[C(D)," VND"]})]}),r.jsxs("div",{className:"border-t pt-3 flex justify-between font-medium",children:[r.jsx("span",{children:"Tổng tiền"}),r.jsxs("span",{className:"text-lg",children:[C(z())," VND"]})]})]}),r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(je,{placeholder:"Mã giảm giá (nếu có)",value:c,onChange:H=>l(H.target.value),className:"mr-2"}),r.jsx(fe,{size:"sm",onClick:Q,children:"Áp Dụng"})]})]})})]}):r.jsxs("div",{className:"text-center py-16",children:[r.jsx(vs,{className:"mx-auto h-16 w-16 text-muted-foreground/60 mb-4"}),r.jsx("h2",{className:"text-2xl font-medium mb-2",children:"Không có sản phẩm để thanh toán"}),r.jsx("p",{className:"text-muted-foreground mb-8",children:"Có vẻ như bạn chưa chọn sản phẩm nào để mua ngay."}),r.jsx(lt,{to:"/",children:r.jsx(fe,{children:"Tiếp tục mua sắm"})})]})})}),r.jsx(ld,{open:P,onOpenChange:H=>B(H),children:r.jsxs(cd,{children:[r.jsx(Yo,{className:"fixed inset-0 bg-black/50"}),r.jsxs(Jo,{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white p-6 rounded-lg shadow-lg max-w-2xl w-full overflow-y-auto max-h-[600px]",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Chọn địa chỉ giao hàng"}),S.length===0?r.jsx("p",{children:"Chưa có địa chỉ nào. Vui lòng thêm địa chỉ mới."}):r.jsx("div",{className:"space-y-4",children:S.map(H=>r.jsxs("div",{className:"border p-4 rounded-lg bg-white shadow-sm flex justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Họ tên:"})," ",H.hoTen]}),r.jsxs("p",{children:[r.jsx("strong",{children:"SĐT:"})," ",H.sdt]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Địa chỉ:"})," ",H.diaChi,","," ",H.phuongXa,", ",H.quanHuyen,", ",H.tinh]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Trạng thái:"})," ",H.trangThai===1?"Hoạt động":"Không hoạt động"]})]}),r.jsx(fe,{onClick:()=>U(H),className:"bg-purple-600 hover:bg-purple-700 text-white",children:"Chọn"})]},H.maDiaChi))}),r.jsx(fe,{variant:"outline",className:"mt-4",onClick:()=>B(!1),children:"Đóng"})]})]})})]})},rBe=()=>r.jsxs("section",{className:"py-16 px-6 max-w-6xl mx-auto text-gray-900 text-lg leading-relaxed",children:[r.jsx("h2",{className:"text-4xl font-bold text-crocus-600 mb-8 text-center",children:"Chính sách Bảo mật Thông tin Cá nhân"}),r.jsxs("p",{className:"mb-5",children:["Nhằm đảm bảo an toàn cho website và bảo mật thông tin cho người tiêu dùng, chúng tôi đưa ra một số chính sách bảo mật thông tin cho khách hàng cá nhân và tổ chức khi mua hàng tại website: ",r.jsx("strong",{children:"FashionHub"})]}),r.jsx("p",{className:"mb-5",children:"Chính sách bảo mật sẽ giải thích cách chúng tôi tiếp nhận, sử dụng và (trong trường hợp nào đó) tiết lộ thông tin cá nhân của bạn. Chính sách cũng sẽ giải thích các bước chúng tôi thực hiện để bảo mật thông tin cá nhân của khách hàng. Cuối cùng, chính sách bảo mật sẽ giải thích quyền lựa chọn của bạn về việc thu thập, sử dụng và tiết lộ thông tin cá nhân của mình."}),r.jsx("p",{className:"mb-8",children:"Bảo vệ dữ liệu cá nhân và gây dựng được niềm tin cho bạn là vấn đề rất quan trọng với công ty. Chúng tôi chỉ thu thập những thông tin cần thiết liên quan đến giao dịch mua bán."}),r.jsx("h3",{className:"text-3xl font-semibold text-crocus-600 mt-10 mb-4",children:"1. Mục đích thu nhập thông tin"}),r.jsxs("ul",{className:"list-disc list-inside mb-6",children:[r.jsx("li",{children:"Nắm bắt được các yêu cầu, mong muốn của khách hàng nhằm nâng cao chất lượng sản phẩm."}),r.jsx("li",{children:"Giúp khách hàng cập nhật các thông tin chương trình khuyến mại, giảm giá do chúng tôi tổ chức sớm nhất."}),r.jsx("li",{children:"Hỗ trợ khách hàng khi có khiếu nại, ý kiến một cách nhanh nhất."})]}),r.jsx("h3",{className:"text-3xl font-semibold text-crocus-600 mt-10 mb-4",children:"2. Phạm vi thu nhập thông tin"}),r.jsxs("ul",{className:"list-disc list-inside mb-6",children:[r.jsx("li",{children:"Họ và Tên"}),r.jsx("li",{children:"Địa Chỉ Email"}),r.jsx("li",{children:"Điện thoại"}),r.jsx("li",{children:"Nội dung cần liên hệ"})]}),r.jsx("h3",{className:"text-3xl font-semibold text-crocus-600 mt-10 mb-4",children:"3. Phạm vi sử dụng thông tin"}),r.jsxs("ul",{className:"list-disc list-inside mb-6",children:[r.jsx("li",{children:"Giao hàng cho quý khách đã mua hàng tại FashionHub"}),r.jsx("li",{children:"Thông báo về việc giao hàng và hỗ trợ cho khách hàng"}),r.jsx("li",{children:"Xử lý các đơn đặt hàng và cung cấp sản phẩm thông qua website: FashionHub"}),r.jsx("li",{children:"Lưu trữ thông tin giao dịch để giải quyết các vấn đề có thể phát sinh"})]}),r.jsx("p",{className:"mb-5",children:"Chúng tôi sẽ không chia sẻ thông tin khách hàng trừ các trường hợp:"}),r.jsxs("ul",{className:"list-disc list-inside mb-6",children:[r.jsx("li",{children:"Để bảo vệ FashionHub và các bên thứ ba khác nếu phù hợp với pháp luật"}),r.jsx("li",{children:"Theo yêu cầu pháp lý từ cơ quan chính phủ khi cần thiết"})]}),r.jsx("h3",{className:"text-3xl font-semibold text-crocus-600 mt-10 mb-4",children:"4. Cam kết bảo mật thông tin cá nhân khách hàng"}),r.jsx("p",{className:"mb-6",children:"Chúng tôi sẽ lưu trữ các thông tin cá nhân do khách hàng cung cấp trên hệ thống nội bộ trong quá trình cung cấp sản phẩm, cho đến khi hoàn thành mục đích thu thập hoặc khách yêu cầu hủy thông tin đã cung cấp."}),r.jsx("h3",{className:"text-3xl font-semibold text-crocus-600 mt-10 mb-4",children:"5. Những người hoặc tổ chức có thể được tiếp cận với thông tin"}),r.jsxs("ul",{className:"list-disc list-inside mb-6",children:[r.jsx("li",{children:"Chỉ sử dụng với sự đồng ý của khách hàng"}),r.jsx("li",{children:"Không cung cấp cho bên thứ 3 nếu không được sự đồng ý"}),r.jsx("li",{children:"Chỉ cung cấp trong trường hợp có lợi và được phép"}),r.jsx("li",{children:"Hoặc theo yêu cầu từ cơ quan chính phủ"})]}),r.jsx("h3",{className:"text-3xl font-semibold text-crocus-600 mt-10 mb-4",children:"6. Địa chỉ của đơn vị thu thập và quản lý thông tin cá nhân"}),r.jsxs("ul",{className:"list-disc list-inside mb-6",children:[r.jsx("li",{children:"Tên đơn vị: Hộ kinh doanh FashionHub - Buôn Mê Thuột"}),r.jsx("li",{children:"GPKD: Số 55555555 do Ủy ban nhân dân TP. Buôn Mê Thuột"}),r.jsx("li",{children:"Cấp ngày: 5 tháng 5 năm 2025"}),r.jsx("li",{children:"Địa chỉ: 123 Hà Huy Tập, TP. Buôn Mê Thuột, Đắk Lắk"}),r.jsx("li",{children:"Điện thoại: 0383.777.823"})]}),r.jsx("h3",{className:"text-3xl font-semibold text-crocus-600 mt-10 mb-4",children:"7. Phương tiện và công cụ để người dùng tiếp cận và chỉnh sửa dữ liệu cá nhân của mình"}),r.jsxs("p",{children:["Khách hàng có thể thực hiện các quyền trên bằng cách liên hệ với chúng tôi qua số điện thoại hoặc địa chỉ liên lạc được công bố trên website: ",r.jsx("strong",{children:"FashionHub"}),"."]})]}),sBe=()=>r.jsxs("section",{className:"py-16 px-6 max-w-6xl mx-auto text-gray-900 text-lg leading-relaxed",children:[r.jsx("h2",{className:"text-4xl font-bold text-crocus-600 mb-8 text-center",children:"Chính sách Đổi hàng & Bảo hành"}),r.jsxs("p",{className:"mb-6",children:["Nhằm mang lại các dịch vụ hậu mãi tốt hơn cho khách hàng mua sắm tại hệ thống ",r.jsx("strong",{children:"FashionHub"}),", từ ngày ",r.jsx("strong",{children:"01/09/2024"}),", FashionHub có chính sách đổi trả & bảo hành áp dụng như sau:"]}),r.jsx("h3",{className:"text-3xl font-semibold text-crocus-600 mt-10 mb-4",children:"Điều 1: Chính sách đổi hàng"}),r.jsxs("ul",{className:"list-disc list-inside mb-6",children:[r.jsx("li",{children:"Sản phẩm đổi trả trong thời hạn 15 ngày kể từ ngày mua trên hóa đơn (với khách mua tại store), 15 ngày kể từ ngày nhận hàng (với khách mua online)."}),r.jsx("li",{children:"Sản phẩm đổi còn nguyên tem, tags, hóa đơn mua hàng, không bị dính bẩn, hư hỏng bởi tác nhân bên ngoài cửa hàng sau khi mua."})]}),r.jsx("p",{className:"font-semibold mb-2",children:"Có thể đổi sang đơn hàng bất kỳ"}),r.jsxs("ul",{className:"list-disc list-inside mb-6",children:[r.jsx("li",{children:"Đơn hàng đổi có giá trị thấp hơn: FashionHub không hoàn phần chênh lệch."}),r.jsx("li",{children:"Đơn hàng đổi có giá trị cao hơn: khách hàng thanh toán phần chênh lệch."}),r.jsx("li",{children:"Đơn hàng trong CTKM: vui lòng đổi trong thời gian CTKM để được giá ưu đãi. Nếu đổi sau sẽ tính theo giá hiện tại."}),r.jsx("li",{children:"Không áp dụng đổi với các sản phẩm sale trên 30%, vớ, boxer."})]}),r.jsx("h3",{className:"text-3xl font-semibold text-crocus-600 mt-10 mb-4",children:"Điều 2: Chính sách đổi do lỗi kỹ thuật và hoàn tiền"}),r.jsx("p",{className:"font-semibold mb-2",children:"Điều kiện áp dụng:"}),r.jsxs("ul",{className:"list-disc list-inside mb-6",children:[r.jsx("li",{children:"Lỗi kỹ thuật: ố màu, phai màu, chất liệu, kiểu dáng, bung keo,..."}),r.jsx("li",{children:"Không giống mô tả hoặc không giống hình."})]}),r.jsxs("p",{className:"mb-4",children:[r.jsx("strong",{children:"Lưu ý:"})," Sản phẩm sẽ được đổi mới hoàn toàn miễn phí trong vòng 15 ngày kể từ ngày mua. (Sản phẩm chưa qua sử dụng)."]}),r.jsx("p",{className:"mb-6 font-semibold",children:"Trường hợp không được giải quyết:"}),r.jsx("ul",{className:"list-disc list-inside mb-6",children:r.jsx("li",{children:"Sản phẩm đã qua sử dụng."})}),r.jsx("h3",{className:"text-3xl font-semibold text-crocus-600 mt-10 mb-4",children:"Điều 3: Chính sách bảo hành"}),r.jsx("p",{className:"mb-4",children:"Các trường hợp và thời gian bảo hành:"}),r.jsxs("table",{className:"w-full text-left border mb-6 text-base",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-200 text-crocus-600 font-semibold",children:[r.jsx("th",{className:"border px-4 py-2",children:"Tên Sản Phẩm"}),r.jsx("th",{className:"border px-4 py-2",children:"Điều Kiện Bảo Hành"}),r.jsx("th",{className:"border px-4 py-2",children:"Thời Gian"})]})}),r.jsxs("tbody",{children:[r.jsxs("tr",{children:[r.jsx("td",{className:"border px-4 py-2",children:"Quần, Áo, Nón"}),r.jsx("td",{className:"border px-4 py-2",children:"Đường chỉ, dây kéo, khuy..."}),r.jsx("td",{className:"border px-4 py-2",children:"30 ngày"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"border px-4 py-2",children:"Mắt kính"}),r.jsx("td",{className:"border px-4 py-2",children:"Gãy lò xo, ve mũi, lỗi ốc vít, rơi mối hàn & nước xi"}),r.jsx("td",{className:"border px-4 py-2",children:"30 ngày"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"border px-4 py-2",children:"Thắt lưng"}),r.jsx("td",{className:"border px-4 py-2",children:"Dây lưng bong tróc, nổ da tự nhiên"}),r.jsx("td",{className:"border px-4 py-2",children:"30 ngày"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"border px-4 py-2",children:"Balo, Túi xách, Ví"}),r.jsx("td",{className:"border px-4 py-2",children:"Keo, Khóa, Dây kéo, Đường chỉ"}),r.jsx("td",{className:"border px-4 py-2",children:"30 ngày"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"border px-4 py-2",children:"Giày, Dép"}),r.jsx("td",{className:"border px-4 py-2",children:"Keo"}),r.jsx("td",{className:"border px-4 py-2",children:"Trọn đời"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"border px-4 py-2",children:"TechUrban Jeans (Smart, ICON105, ProCool)"}),r.jsx("td",{className:"border px-4 py-2",children:"Nút, khoá kéo"}),r.jsx("td",{className:"border px-4 py-2",children:"Trọn đời"})]})]})]}),r.jsx("p",{className:"mb-4 font-semibold",children:"Chính sách bảo hành giày - dép:"}),r.jsxs("ul",{className:"list-disc list-inside mb-6",children:[r.jsx("li",{children:"Trong 15 ngày kể từ lúc nhận hàng: nếu lỗi sẽ được đổi mới sản phẩm."}),r.jsx("li",{children:"Hỗ trợ bảo hành keo trọn đời."})]}),r.jsx("p",{className:"mb-4 font-semibold text-yellow-600",children:"Trường hợp không được bảo hành:"}),r.jsxs("ul",{className:"list-disc list-inside mb-6",children:[r.jsx("li",{children:"Giặt không đúng cách."}),r.jsx("li",{children:"Ảnh hưởng bởi hóa chất làm thay đổi màu, form, hình dáng."}),r.jsx("li",{children:"Rách, cháy, trầy xước, biến dạng do nhiệt độ, ẩm mốc, côn trùng,..."}),r.jsx("li",{children:"Sản phẩm vớ, boxer, khuyên tai, móc khóa, vòng tay, áo mưa, đồ lót,..."}),r.jsx("li",{children:"Lỗi do tai nạn, thiên tai,..."})]}),r.jsx("h3",{className:"text-3xl font-semibold text-crocus-600 mt-10 mb-4",children:"Điều 4: Chi phí đổi hàng"}),r.jsxs("ul",{className:"list-disc list-inside mb-6",children:[r.jsx("li",{children:"Miễn phí đổi hàng với lỗi do nhà sản xuất hoặc lỗi do vận chuyển."}),r.jsx("li",{children:"Nếu đổi vì lý do cá nhân (sai size, không hợp màu...), phí ship 1 chiều 20.000đ/đơn."}),r.jsx("li",{children:"FashionHub chỉ gửi sản phẩm mới sau khi nhận lại sản phẩm cũ."})]}),r.jsx("p",{className:"italic text-center mt-6 text-sm",children:"***Trong mọi trường hợp, quyết định của FashionHub là quyết định cuối cùng. Xin cảm ơn và hân hạnh được phục vụ quý khách."})]}),w_=()=>{const n=fs(),{recipientId:t,recipientName:e}=n.state||{};return localStorage.setItem("userId","AD00012"),r.jsx("div",{className:"w-full h-[calc(100vh-64px)] flex flex-col",children:r.jsx(LL,{recipientId:t,recipientName:e})})},aBe=({endDate:n,promotionId:t})=>{const e=k.useRef(null),[s,a]=k.useState(!1);return k.useEffect(()=>{const i=new Date(n);i.setHours(23,59,59,999);const o=Math.floor(i.getTime()/1e3),c=Math.floor(Date.now()/1e3);if(o<=c){a(!0);return}if(!document.getElementById("flipdown-css")){const d=document.createElement("link");d.id="flipdown-css",d.rel="stylesheet",d.href="https://pbutcher.uk/flipdown/css/flipdown/flipdown.css",document.head.appendChild(d)}if(window.FlipDown)l();else{const d=document.createElement("script");d.src="https://pbutcher.uk/flipdown/js/flipdown/flipdown.js",d.onload=()=>{l()},document.body.appendChild(d)}function l(){if(e.current&&window.FlipDown)try{e.current.innerHTML="";const d=`flipdown-${t}`;e.current.id=d;const u=new window.FlipDown(o,d).start().ifEnded(()=>{a(!0),e.current&&(e.current.innerHTML='<h2 style="color: #fca5a5; font-weight: bold; text-align: center; padding: 20px;">Timer is ended</h2>')})}catch(d){console.error("FlipDown initialization error:",d),a(!0)}}return()=>{e.current&&(e.current.innerHTML="")}},[n,t]),s?r.jsx("div",{className:"bg-red-500/20 border border-red-300/50 rounded-xl p-4 text-center",children:r.jsx("p",{className:"text-red-300 font-bold text-lg",children:"⏰ Khuyến mại đã hết hạn"})}):r.jsxs("div",{className:"count-down",style:{width:"550px",maxHeight:"300px",marginLeft:"-105px",padding:"20px",overflow:"hidden",scale:"0.6"},children:[r.jsx("div",{ref:e,className:"flipdown",style:{margin:"auto",width:"600px",marginTop:"-30px",maxHeight:"200px",overflow:"hidden"}}),r.jsx("style",{jsx:!0,children:`
        * {
          box-sizing: border-box;
        }
        .count-down {
          width: 550px;
          max-height: 300px;
          margin: auto;
          padding: 20px;
          overflow: hidden;
        }
        .count-down .flipdown {
          margin: auto;
          width: 600px;
          margin-top: 30px;
          max-height: 200px;
          overflow: hidden;
        }
        .count-down h1 {
          text-align: center;
          font-weight: 400;
          font-size: 2em;
          margin-top: 0;
          margin-bottom: 10px;
        }
        @media (max-width: 550px) {
          .count-down {
            width: 100%;
            height: 362px;
          }
          .count-down h1 {
            font-size: 1.5em;
          }
        }
      `})]})},iBe=()=>{const[n,t]=k.useState([]),[e,s]=k.useState([]),[a,i]=k.useState(!0),[o,c]=k.useState(1),[l,d]=k.useState(!1),[u,f]=k.useState({discountType:"all",discountRange:"all",timeRemaining:"all"}),h=5;k.useEffect(()=>{m()},[]),k.useEffect(()=>{b()},[n,u]);const m=async()=>{try{i(!0);const B=await(await fetch("https://bicacuatho.azurewebsites.net/api/KhuyenMai/ListKhuyenMaiUser")).json();t(B)}catch(P){console.error("Error fetching promotions:",P),t([])}finally{i(!1)}},A=P=>P.percentChung!==null&&P.percentChung!==void 0?P.percentChung:P.danhSachKhuyenMai&&P.danhSachKhuyenMai.length>0?Math.max(...P.danhSachKhuyenMai.map(B=>B.percent||0)):0,g=P=>{const B=new Date,L=new Date(P)-B,O=Math.ceil(L/(1e3*60*60*24));return O<0?{text:"Đã hết hạn",status:"expired"}:O===0?{text:"Hết hạn hôm nay",status:"urgent"}:O===1?{text:"Còn 1 ngày",status:"urgent"}:O<=3?{text:`Còn ${O} ngày`,status:"warning"}:{text:`Còn ${O} ngày`,status:"normal"}},p=P=>{const B=new Date,L=new Date(P)-B,O=Math.ceil(L/(1e3*60*60*24));return O<=1?"urgent":O<=7?"ending-soon":O<=30?"active":"long-term"},b=()=>{let P=[...n];u.discountType!=="all"&&(P=P.filter(B=>{const D=B.percentChung!==null&&B.percentChung!==void 0;return u.discountType==="general"?D:!D})),u.discountRange!=="all"&&(P=P.filter(B=>{const D=A(B);switch(u.discountRange){case"0-20":return D>=0&&D<=20;case"21-40":return D>=21&&D<=40;case"41-60":return D>=41&&D<=60;case"60+":return D>60;default:return!0}})),u.timeRemaining!=="all"&&(P=P.filter(B=>p(B.ngayKetThuc)===u.timeRemaining)),s(P),c(1)},x=(P,B)=>{f(D=>({...D,[P]:B}))},v=Math.ceil(e.length/h),y=(o-1)*h,S=e.slice(y,y+h),M=P=>new Date(P).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"});return a?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-purple-200 border-t-purple-500 mx-auto"}),r.jsx(Xs,{className:"w-8 h-8 text-purple-300 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 animate-pulse"})]}),r.jsx("p",{className:"mt-6 text-purple-200 text-lg font-medium",children:"Đang tải khuyến mại..."})]})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),r.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse animation-delay-2000"}),r.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-indigo-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse animation-delay-4000"})]}),r.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-12",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 p-4 rounded-full shadow-2xl",children:r.jsx(Ea,{className:"w-12 h-12 text-white"})})}),r.jsx("h1",{className:"text-6xl font-extrabold bg-gradient-to-r from-yellow-300 via-pink-300 to-purple-300 bg-clip-text text-transparent mb-4 margin-bottom-2",children:"KHUYẾN MẠI HOT"}),r.jsx("p",{className:"text-xl text-purple-200 font-light max-w-2xl mx-auto",children:"🔥 Khám phá những deal siêu hót đang chờ bạn khám phá! Nhanh tay kẻo lỡ! 🔥"}),r.jsxs("div",{className:"flex items-center justify-center mt-6 space-x-2",children:[r.jsx(or,{className:"w-5 h-5 text-yellow-400 fill-current animate-pulse"}),r.jsx(or,{className:"w-5 h-5 text-yellow-400 fill-current animate-pulse animation-delay-200"}),r.jsx(or,{className:"w-5 h-5 text-yellow-400 fill-current animate-pulse animation-delay-400"}),r.jsx(or,{className:"w-5 h-5 text-yellow-400 fill-current animate-pulse animation-delay-600"}),r.jsx(or,{className:"w-5 h-5 text-yellow-400 fill-current animate-pulse animation-delay-800"})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("button",{onClick:()=>d(!l),className:"bg-white/10 backdrop-blur-md border border-white/20 text-white px-6 py-3 rounded-2xl font-semibold hover:bg-white/20 transition-all duration-300 flex items-center mx-auto shadow-xl",children:[r.jsx(sd,{className:"w-5 h-5 mr-2"}),"Bộ lọc thông minh",r.jsx(xr,{className:`w-4 h-4 ml-2 transform transition-transform ${l?"rotate-90":""}`})]}),l&&r.jsx("div",{className:"mt-6 bg-white/10 backdrop-blur-md rounded-3xl p-8 border border-white/20 shadow-2xl",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"block text-white font-semibold text-lg flex items-center",children:[r.jsx(Ir,{className:"w-5 h-5 mr-2 text-purple-300"}),"Loại giảm giá"]}),r.jsxs("select",{value:u.discountType,onChange:P=>x("discountType",P.target.value),className:"w-full p-4 bg-white/20 backdrop-blur-md border border-white/30 rounded-2xl text-white placeholder-white/70 focus:ring-4 focus:ring-purple-500/50 focus:border-transparent transition-all duration-300",children:[r.jsx("option",{value:"all",className:"text-gray-800",children:"🌟 Tất cả"}),r.jsx("option",{value:"general",className:"text-gray-800",children:"🔥 Giảm giá chung"}),r.jsx("option",{value:"specific",className:"text-gray-800",children:"🎯 Giảm giá riêng"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"block text-white font-semibold text-lg flex items-center",children:[r.jsx(sx,{className:"w-5 h-5 mr-2 text-green-300"}),"Mức giảm giá"]}),r.jsxs("select",{value:u.discountRange,onChange:P=>x("discountRange",P.target.value),className:"w-full p-4 bg-white/20 backdrop-blur-md border border-white/30 rounded-2xl text-white placeholder-white/70 focus:ring-4 focus:ring-purple-500/50 focus:border-transparent transition-all duration-300",children:[r.jsx("option",{value:"all",className:"text-gray-800",children:"💎 Tất cả"}),r.jsx("option",{value:"0-20",className:"text-gray-800",children:"🥉 0% - 20%"}),r.jsx("option",{value:"21-40",className:"text-gray-800",children:"🥈 21% - 40%"}),r.jsx("option",{value:"41-60",className:"text-gray-800",children:"🥇 41% - 60%"}),r.jsx("option",{value:"60+",className:"text-gray-800",children:"💥 Trên 60%"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"block text-white font-semibold text-lg flex items-center",children:[r.jsx(S$,{className:"w-5 h-5 mr-2 text-red-300"}),"Thời gian"]}),r.jsxs("select",{value:u.timeRemaining,onChange:P=>x("timeRemaining",P.target.value),className:"w-full p-4 bg-white/20 backdrop-blur-md border border-white/30 rounded-2xl text-white placeholder-white/70 focus:ring-4 focus:ring-purple-500/50 focus:border-transparent transition-all duration-300",children:[r.jsx("option",{value:"all",className:"text-gray-800",children:"⏰ Tất cả"}),r.jsx("option",{value:"urgent",className:"text-gray-800",children:"🚨 Cực gấp (≤1 ngày)"}),r.jsx("option",{value:"ending-soon",className:"text-gray-800",children:"⚠️ Sắp hết (2-7 ngày)"}),r.jsx("option",{value:"active",className:"text-gray-800",children:"✨ Còn thời gian (8-30 ngày)"}),r.jsx("option",{value:"long-term",className:"text-gray-800",children:"🔮 Dài hạn (>30 ngày)"})]})]})]})})]}),r.jsx("div",{className:"mb-8 text-center",children:r.jsx("div",{className:"inline-block bg-white/10 backdrop-blur-md rounded-full px-6 py-3 border border-white/20",children:r.jsxs("p",{className:"text-white font-medium",children:["✨ Tìm thấy ",r.jsx("span",{className:"text-yellow-300 font-bold",children:S.length})," trong tổng số ",r.jsx("span",{className:"text-yellow-300 font-bold",children:e.length})," khuyến mại hot ✨"]})})}),S.length>0?r.jsx("div",{className:"grid gap-8 mb-12",children:S.map((P,B)=>{var _,E,T,w,C,j;const D=A(P),L=g(P.ngayKetThuc),O=P.percentChung!==null&&P.percentChung!==void 0,F=(T=(E=(_=P.moTa)==null?void 0:_.Picture)==null?void 0:E[0])==null?void 0:T.url;return r.jsxs("div",{className:`group relative bg-white/10 backdrop-blur-md rounded-3xl overflow-hidden border border-white/20 hover:bg-white/20 transition-all duration-500 hover:scale-[1.02] hover:shadow-2xl hover:shadow-purple-500/25 h-[700px] ${B%2===0?"animate-slide-in-left":"animate-slide-in-right"}`,style:{animationDelay:`${B*.1}s`},children:[r.jsx("div",{className:"absolute -top-2 -right-2 w-20 h-20 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full opacity-20 group-hover:opacity-30 transition-opacity duration-300"}),r.jsx("div",{className:"absolute -bottom-2 -left-2 w-16 h-16 bg-gradient-to-br from-purple-400 to-pink-500 rounded-full opacity-20 group-hover:opacity-30 transition-opacity duration-300"}),r.jsxs("div",{className:"md:flex relative z-10 h-full",children:[r.jsxs("div",{className:"md:w-2/5 relative overflow-hidden",children:[F?r.jsx("img",{src:F.startsWith("data:")?F:`data:image/jpeg;base64,${F}`,alt:P.tenKhuyenMai,className:"w-full h-80 md:h-full object-cover group-hover:scale-110 transition-transform duration-700"}):r.jsxs("div",{className:"w-full h-80 md:h-full bg-gradient-to-br from-purple-500 via-pink-500 to-red-500 flex items-center justify-center relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-black/20"}),r.jsxs("div",{className:"relative z-10 text-center",children:[r.jsxs("span",{className:"text-white text-8xl font-black drop-shadow-2xl",children:[D,"%"]}),r.jsx("div",{className:"text-white text-xl font-bold mt-2",children:"GIẢM GIÁ"})]}),r.jsx(Xs,{className:"absolute top-4 left-4 w-8 h-8 text-yellow-300 animate-pulse"}),r.jsx(Xs,{className:"absolute bottom-4 right-4 w-6 h-6 text-pink-300 animate-pulse animation-delay-1000"})]}),r.jsxs("div",{className:"absolute top-4 left-4 bg-gradient-to-r from-red-500 to-pink-600 text-white px-4 py-2 rounded-full font-black text-xl shadow-2xl animate-bounce",children:["-",D,"%"]}),r.jsx("div",{className:`absolute top-4 right-4 px-3 py-1 rounded-full text-sm font-bold shadow-lg ${O?"bg-gradient-to-r from-blue-500 to-cyan-500 text-white":"bg-gradient-to-r from-green-500 to-emerald-500 text-white"}`,children:O?"🔥 CHUNG":"🎯 RIÊNG"}),r.jsxs("div",{className:`absolute bottom-4 left-4 px-3 py-2 rounded-full text-sm font-bold shadow-lg ${L.status==="urgent"?"bg-gradient-to-r from-red-500 to-orange-500 text-white animate-pulse":L.status==="warning"?"bg-gradient-to-r from-orange-500 to-yellow-500 text-white":"bg-gradient-to-r from-green-500 to-blue-500 text-white"}`,children:[r.jsx(Uo,{className:"w-4 h-4 inline mr-1"}),L.text]})]}),r.jsxs("div",{className:"md:w-3/5 p-8 flex flex-col justify-between h-full",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[r.jsxs("div",{className:"bg-blue-500/80 backdrop-blur-sm text-white px-4 py-2 rounded-xl flex items-center shadow-lg",children:[r.jsx($r,{className:"w-4 h-4 mr-2"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-semibold",children:"Thời gian"}),r.jsxs("div",{children:[M(P.ngayBatDau)," - ",M(P.ngayKetThuc)]})]})]}),r.jsxs("div",{className:"bg-green-500/80 backdrop-blur-sm text-white px-4 py-2 rounded-xl flex items-center shadow-lg",children:[r.jsx(Ea,{className:"w-4 h-4 mr-2"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-semibold",children:"Sản phẩm và Combo"}),r.jsxs("div",{children:["Áp dụng cho: ",O?"Tất cả đối tượng":`${((w=P.danhSachKhuyenMai)==null?void 0:w.length)||0} đối tượng`]})]})]}),r.jsxs("div",{className:`backdrop-blur-sm text-white px-4 py-2 rounded-xl flex items-center shadow-lg ${L.status==="urgent"?"bg-red-500/80":L.status==="warning"?"bg-orange-500/80":"bg-purple-500/80"}`,children:[r.jsx(Uo,{className:"w-4 h-4 mr-2"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-semibold",children:"Còn lại"}),r.jsx("div",{children:L.text})]})]})]}),r.jsx("div",{className:"flex justify-between items-start mb-6",children:r.jsx("h2",{className:"text-3xl font-black text-white group-hover:text-yellow-300 transition-colors duration-300 flex-1 pr-4 leading-tight font-family: 'Poppins', sans-serif",children:P.tenKhuyenMai})}),O&&r.jsxs("div",{className:"mb-6 p-4 bg-purple-500/20 rounded-2xl border border-purple-300/30 backdrop-blur-sm",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx(Ir,{className:"w-5 h-5 text-purple-300 mr-2"}),r.jsx("span",{className:"text-purple-200 font-bold",children:"Áp dụng cho toàn bộ sản phẩm và combo"})]}),r.jsxs("p",{className:"text-purple-100 text-sm",children:["Tất cả sản phẩm và combo trong cửa hàng được giảm giá ",D,"%"]})]}),((j=(C=P.moTa)==null?void 0:C.header)==null?void 0:j.title)&&r.jsx("div",{className:"mb-6 p-4 bg-white/5 rounded-2xl border border-white/10",children:r.jsx("p",{className:"text-purple-100 text-lg leading-relaxed",children:P.moTa.header.title})}),!O&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"font-semibold text-white mb-3 text-sm opacity-80",children:"Sản phẩm và Combo khuyến mại:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:P.danhSachKhuyenMai&&P.danhSachKhuyenMai.length>0?r.jsxs(r.Fragment,{children:[P.danhSachKhuyenMai.slice(0,4).map((N,I)=>r.jsx("span",{className:"bg-white/10 backdrop-blur-sm text-white px-3 py-1 rounded-full text-sm border border-white/20",children:N.tenSanPhamCombo},I)),P.danhSachKhuyenMai.length>4&&r.jsxs("span",{className:"bg-purple-500/30 text-purple-200 px-3 py-1 rounded-full text-sm border border-purple-300/30",children:["+",P.danhSachKhuyenMai.length-4," khác"]})]}):r.jsx("span",{className:"text-purple-200 text-sm italic",children:"Không có sản phẩm cụ thể"})})]}),P.danhSachKhuyenMai&&P.danhSachKhuyenMai.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"font-bold text-white mb-3 text-lg",children:"📋 Danh sách sản phẩm và combo:"}),r.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:P.danhSachKhuyenMai.map((N,I)=>r.jsxs("div",{className:"flex justify-between items-center bg-white/5 rounded-lg p-3 border border-white/10",children:[r.jsx("div",{className:"flex-1",children:r.jsx("span",{className:"text-white font-medium",children:N.tenSanPhamCombo})}),r.jsxs("div",{className:"flex items-center space-x-3",children:[N.giaGoc&&N.giaMoi&&r.jsx("div",{className:"text-gray-300 line-through text-sm",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(N.giaGoc)}),r.jsxs("span",{className:"bg-red-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:["-",N.percent,"%"]})]})]},I))})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center mt-auto bg-white/5 rounded-2xl p-4 border border-white/10",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"w-full max-w-xs",children:r.jsx(aBe,{endDate:P.ngayKetThuc,promotionId:P.id})})}),r.jsx("div",{className:"flex justify-center items-center",children:r.jsx("button",{className:"bg-white text-purple-600 px-6 py-4 rounded-2xl font-black text-lg hover:bg-gradient-to-r hover:from-pink-400 hover:via-pink-500 hover:to-purple-500 hover:text-white transition-all duration-300 transform hover:scale-105 hover:shadow-2xl shadow-xl group-hover:animate-pulse w-full max-w-xs",children:r.jsx(lt,{to:`/khuyenmais/${P.id}`,className:"flex items-center justify-center",children:r.jsxs("span",{className:"flex items-center justify-center",children:[r.jsx(Xs,{className:"w-5 h-5 mr-2"}),"XEM CHI TIẾT",r.jsx(Xs,{className:"w-5 h-5 ml-2"})]})})})})]})]})]})]},P.id)})}):r.jsx("div",{className:"text-center py-16",children:r.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-12 border border-white/20 max-w-lg mx-auto",children:[r.jsx("div",{className:"text-purple-300 mb-6",children:r.jsx(sd,{className:"w-20 h-20 mx-auto opacity-50"})}),r.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Không tìm thấy khuyến mại phù hợp"}),r.jsx("p",{className:"text-purple-200 text-lg",children:"Thử thay đổi bộ lọc để khám phá thêm deal hot khác nhé! 🔍"})]})}),v>1&&r.jsxs("div",{className:"flex justify-center items-center space-x-6",children:[r.jsxs("button",{onClick:()=>c(P=>Math.max(P-1,1)),disabled:o===1,className:"flex items-center px-6 py-3 bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl text-white hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 font-semibold shadow-xl",children:[r.jsx(zr,{className:"w-5 h-5 mr-2"}),"Trước"]}),r.jsx("div",{className:"flex space-x-3",children:Array.from({length:v},(P,B)=>B+1).map(P=>r.jsx("button",{onClick:()=>c(P),className:`w-12 h-12 rounded-2xl font-bold transition-all duration-300 shadow-xl ${o===P?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white scale-110":"bg-white/10 backdrop-blur-md border border-white/20 text-white hover:bg-white/20 hover:scale-105"}`,children:P},P))}),r.jsxs("button",{onClick:()=>c(P=>Math.min(P+1,v)),disabled:o===v,className:"flex items-center px-6 py-3 bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl text-white hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 font-semibold shadow-xl",children:["Sau",r.jsx(xr,{className:"w-5 h-5 ml-2"})]})]})]}),r.jsx("style",{jsx:!0,children:`
        @keyframes slide-in-left {
          from {
            opacity: 0;
            transform: translateX(-50px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
        
        @keyframes slide-in-right {
          from {
            opacity: 0;
            transform: translateX(50px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
        
        .animate-slide-in-left {
          animation: slide-in-left 0.8s ease-out forwards;
        }
        
        .animate-slide-in-right {
          animation: slide-in-right 0.8s ease-out forwards;
        }
        
        .animation-delay-200 {
          animation-delay: 200ms;
        }
        
        .animation-delay-400 {
          animation-delay: 400ms;
        }
        
        .animation-delay-600 {
          animation-delay: 600ms;
        }
        
        .animation-delay-800 {
          animation-delay: 800ms;
        }
        
        .animation-delay-1000 {
          animation-delay: 1000ms;
        }
        
        .animation-delay-2000 {
          animation-delay: 2000ms;
        }
        
        .animation-delay-4000 {
          animation-delay: 4000ms;
        }
      `})]})},oBe=({onCancel:n})=>{const[t,e]=k.useState({IdMoTa:"",MoTa:{Header:{Title:""},Pictures:[],Title:[{Name:"",Subtitle:[{Name:"",Description:{Content:""},Picture:{Url:null}}],Picture:{Url:null}}]}}),[s,a]=k.useState(0),[i,o]=k.useState(0),[c,l]=k.useState(!1),[d,u]=k.useState(null),f=k.useRef(null),h=k.useRef(new Set);k.useEffect(()=>()=>{h.current.forEach(_=>URL.revokeObjectURL(_)),h.current.clear()},[]);const m=(_,E)=>{const T=_.split(".");e(w=>{const C=R=>{if(R===null||typeof R!="object"||R instanceof File)return R;if(R instanceof Array)return R.map(C);const U={};for(let V in R)R.hasOwnProperty(V)&&(U[V]=C(R[V]));return U},j=C(w);let N=j;for(let R=0;R<T.length-1;R++){const U=T[R];if(U.includes("[")&&U.includes("]")){const[V,z]=U.split("["),X=parseInt(z.replace("]",""));N=N[V][X]}else N=N[U]}const I=T[T.length-1];if(I.includes("[")&&I.includes("]")){const[R,U]=I.split("["),V=parseInt(U.replace("]",""));N[R][V]=E}else N[I]=E;return j})},A=_=>{_.preventDefault(),_.currentTarget.classList.add("border-blue-400","bg-blue-50")},g=_=>{_.preventDefault(),_.currentTarget.classList.remove("border-blue-400","bg-blue-50")},p=(_,E,T=!1)=>{_.preventDefault(),_.currentTarget.classList.remove("border-blue-400","bg-blue-50");const w=Array.from(_.dataTransfer.files).filter(C=>C.type.startsWith("image/")?C.size>10*1024*1024?(alert(`File ${C.name} vượt quá giới hạn 10MB.`),!1):!0:(alert(`File ${C.name} không phải là hình ảnh.`),!1));if(T){const C=w.map(j=>{const N=URL.createObjectURL(j);return h.current.add(N),{file:j,preview:N}});e(j=>({...j,MoTa:{...j.MoTa,Pictures:[...j.MoTa.Pictures,...C]}}))}else if(w.length>0){const C=w[0],j=URL.createObjectURL(C);h.current.add(j),m(E,{file:C,preview:j})}},b=(_,E,T=!1)=>{const w=Array.from(_.target.files).filter(C=>C.type.startsWith("image/")?C.size>10485760?(alert(`File ${C.name} vượt quá giới hạn 10MB.`),!1):!0:(alert(`File ${C.name} không phải là hình ảnh.`),!1));if(T){const C=w.map(j=>{const N=URL.createObjectURL(j);return h.current.add(N),{file:j,preview:N}});e(j=>({...j,MoTa:{...j.MoTa,Pictures:[...j.MoTa.Pictures,...C]}}))}else if(w.length>0){const C=w[0],j=URL.createObjectURL(C);h.current.add(j),m(E,{file:C,preview:j})}},x=_=>{const E=t.MoTa.Pictures[_];E.preview&&(URL.revokeObjectURL(E.preview),h.current.delete(E.preview));const T=t.MoTa.Pictures.filter((w,C)=>C!==_);e(w=>({...w,MoTa:{...w.MoTa,Pictures:T}}))},v=_=>{const E=t.MoTa.Title[_].Picture.Url;E!=null&&E.preview&&(URL.revokeObjectURL(E.preview),h.current.delete(E.preview)),m(`MoTa.Title[${_}].Picture.Url`,null)},y=(_,E)=>{const T=t.MoTa.Title[_].Subtitle[E].Picture.Url;T!=null&&T.preview&&(URL.revokeObjectURL(T.preview),h.current.delete(T.preview)),m(`MoTa.Title[${_}].Subtitle[${E}].Picture.Url`,null)},S=()=>{e(_=>{const E=[..._.MoTa.Title,{Name:"",Subtitle:[{Name:"",Description:{Content:""},Picture:{Url:null}}],Picture:{Url:null}}];return{..._,MoTa:{..._.MoTa,Title:E}}}),a(t.MoTa.Title.length),o(0)},M=_=>{var w;if(t.MoTa.Title.length<=1)return;const E=t.MoTa.Title[_];(w=E.Picture.Url)!=null&&w.preview&&(URL.revokeObjectURL(E.Picture.Url.preview),h.current.delete(E.Picture.Url.preview)),E.Subtitle.forEach(C=>{var j;(j=C.Picture.Url)!=null&&j.preview&&(URL.revokeObjectURL(C.Picture.Url.preview),h.current.delete(C.Picture.Url.preview))});const T=t.MoTa.Title.filter((C,j)=>j!==_);e(C=>({...C,MoTa:{...C.MoTa,Title:T}})),a(Math.max(0,_-1)),o(0)},P=_=>{e(E=>{const T=[...E.MoTa.Title];return T[_]={...T[_],Subtitle:[...T[_].Subtitle,{Name:"",Description:{Content:""},Picture:{Url:null}}]},{...E,MoTa:{...E.MoTa,Title:T}}}),o(t.MoTa.Title[_].Subtitle.length)},B=(_,E)=>{var w;if(t.MoTa.Title[_].Subtitle.length<=1)return;const T=t.MoTa.Title[_].Subtitle[E];(w=T.Picture.Url)!=null&&w.preview&&(URL.revokeObjectURL(T.Picture.Url.preview),h.current.delete(T.Picture.Url.preview)),e(C=>{const j=[...C.MoTa.Title];return j[_]={...j[_],Subtitle:j[_].Subtitle.filter((N,I)=>I!==E)},{...C,MoTa:{...C.MoTa,Title:j}}}),o(Math.max(0,E-1))},D=_=>{const E=f.current;if(!E)return;const T=E.selectionStart,w=E.selectionEnd,C=E.value.substring(T,w);let j;switch(_){case"bold":j=`<strong>${C}</strong>`;break;case"italic":j=`<em>${C}</em>`;break;case"underline":j=`<u>${C}</u>`;break;case"p":j=`<p>${C}</p>`;break;case"h3":j=`<h3>${C}</h3>`;break;case"center":j=`<div style="text-align: center;">${C}</div>`;break;case"right":j=`<div style="text-align: right;">${C}</div>`;break;default:j=C}const N=E.value.substring(0,T)+j+E.value.substring(w),I=`MoTa.Title[${s}].Subtitle[${i}].Description.Content`;m(I,N),setTimeout(()=>{E.focus(),E.setSelectionRange(T,T+j.length)},0)},L=_=>{const E=f.current;if(!E)return;const T=E.selectionStart,w=E.selectionEnd,C=E.value.substring(T,w),j=`<span style="color: ${_};">${C}</span>`,N=E.value.substring(0,T)+j+E.value.substring(w),I=`MoTa.Title[${s}].Subtitle[${i}].Description.Content`;m(I,N)},O=_=>new Promise((E,T)=>{const w=new FileReader;w.readAsDataURL(_),w.onload=()=>{const C=w.result.split(",")[1];E(C)},w.onerror=C=>T(C)}),F=async()=>{var _,E;l(!0),u(null);try{if(!t.MoTa.Header.Title.trim())throw new Error("Tiêu đề Header là bắt buộc");const T=[];for(const I of t.MoTa.Pictures)if(I.file instanceof File){const R=await O(I.file);T.push({Url:R})}const w=[];for(const I of t.MoTa.Title){let R="";((_=I.Picture.Url)==null?void 0:_.file)instanceof File&&(R=await O(I.Picture.Url.file));const U=[];for(const V of I.Subtitle){let z="";((E=V.Picture.Url)==null?void 0:E.file)instanceof File&&(z=await O(V.Picture.Url.file)),U.push({Name:V.Name,Description:{Content:V.Description.Content},Picture:{Url:z}})}w.push({Name:I.Name,Subtitle:U,Picture:{Url:R}})}const C={Header:{Title:t.MoTa.Header.Title},Picture:T,Title:w};console.log("Sending data to API:",{...C,Picture:C.Picture?C.Picture.map((I,R)=>({...I,Url:I.Url?`[Binary Data - ${I.Url.length} characters]`:""})):[]});const j=await fetch("https://bicacuatho.azurewebsites.net/api/KhuyenMai/MoTaKhuyenMaiCreate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(!j.ok){const I=await j.text();throw console.error("API Error Response:",I),new Error(`Failed to save MoTaKhuyenMai: ${j.status} - ${I}`)}const N=await j.json();console.log("MoTaKhuyenMai saved successfully:",N),h.current.forEach(I=>URL.revokeObjectURL(I)),h.current.clear(),e({IdMoTa:"",MoTa:{Header:{Title:""},Pictures:[],Title:[{Name:"",Subtitle:[{Name:"",Description:{Content:""},Picture:{Url:null}}],Picture:{Url:null}}]}}),a(0),o(0),alert("Mô tả khuyến mãi đã được lưu thành công!"),n()}catch(T){console.error("Error saving MoTaKhuyenMai:",T),u(T.message),alert(`Lỗi khi lưu mô tả khuyến mãi: ${T.message}`)}finally{l(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:r.jsxs("div",{className:"container mx-auto p-6",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8 border border-gray-100",children:[r.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-6",children:"✨ Form Mô Tả Khuyến Mãi"}),d&&r.jsxs("div",{className:"mb-4 p-4 bg-red-100 text-red-700 rounded-lg",children:["Lỗi: ",d]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"🎯 Tiêu đề Header"}),r.jsx("input",{type:"text",value:t.MoTa.Header.Title,onChange:_=>m("MoTa.Header.Title",_.target.value),className:"w-full p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 text-lg",placeholder:"Nhập tiêu đề chính của khuyến mãi..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-4",children:"🖼️ Hình ảnh chính (Kéo thả nhiều ảnh)"}),r.jsxs("div",{onDragOver:A,onDragLeave:g,onDrop:_=>p(_,"",!0),className:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-blue-400 hover:bg-blue-50 transition-all duration-200 cursor-pointer",children:[r.jsx(Lr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-600 mb-2",children:"Kéo thả ảnh vào đây hoặc"}),r.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:_=>b(_,"",!0),className:"hidden",id:"main-pictures"}),r.jsx("label",{htmlFor:"main-pictures",className:"bg-blue-500 text-white px-6 py-2 rounded-lg cursor-pointer hover:bg-blue-600 transition-colors",children:"Chọn ảnh"})]}),t.MoTa.Pictures.length>0&&r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:t.MoTa.Pictures.map((_,E)=>_.file instanceof File?r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:_.preview,alt:`Preview ${E+1}`,className:"w-full h-24 object-cover rounded-lg border-2 border-gray-200 group-hover:border-blue-400 transition-colors"}),r.jsx("button",{type:"button",onClick:()=>x(E),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:r.jsx(st,{size:14})})]},E):null)})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 border border-gray-100",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:"📝 Tiêu đề"}),r.jsxs("button",{type:"button",onClick:S,className:"flex items-center gap-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white px-4 py-2 rounded-xl hover:from-green-600 hover:to-emerald-600 transition-all duration-200 shadow-lg",children:[r.jsx(cr,{size:16}),"Thêm Title"]})]}),r.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:t.MoTa.Title.map((_,E)=>{var T;return r.jsxs("div",{className:`p-4 rounded-xl border-2 cursor-pointer transition-all duration-200 ${s===E?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,onClick:()=>{a(E),o(0)},children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("h3",{className:"font-semibold text-gray-800",children:["Tiêu đề ",E+1]}),t.MoTa.Title.length>1&&r.jsx("button",{type:"button",onClick:w=>{w.stopPropagation(),M(E)},className:"text-red-500 hover:bg-red-100 p-1 rounded-full transition-colors",children:r.jsx(st,{size:16})})]}),r.jsx("input",{type:"text",value:_.Name,onChange:w=>{w.stopPropagation(),m(`MoTa.Title[${E}].Name`,w.target.value)},className:"w-full p-2 border border-gray-300 rounded-lg mb-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Tên tiêu đề...",onClick:w=>w.stopPropagation()}),r.jsx("div",{onDragOver:A,onDragLeave:g,onDrop:w=>{w.stopPropagation(),p(w,`MoTa.Title[${E}].Picture.Url`)},className:"border border-dashed border-gray-300 rounded-lg p-3 text-center hover:border-blue-400 hover:bg-blue-50 transition-all duration-200",onClick:w=>w.stopPropagation(),children:((T=_.Picture.Url)==null?void 0:T.file)instanceof File?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:_.Picture.Url.preview,alt:"Title preview",className:"w-full h-20 object-cover rounded-lg"}),r.jsx("button",{type:"button",onClick:w=>{w.stopPropagation(),v(E)},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:r.jsx(st,{size:12})})]}):r.jsxs(r.Fragment,{children:[r.jsx(Du,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Kéo thả ảnh của tiêu đề này"}),r.jsx("input",{type:"file",accept:"image/*",onChange:w=>{w.stopPropagation(),b(w,`MoTa.Title[${E}].Picture.Url`)},className:"hidden",id:`title-pic-${E}`}),r.jsx("label",{htmlFor:`title-pic-${E}`,className:"text-blue-500 cursor-pointer hover:underline text-sm",children:"hoặc chọn file"})]})}),r.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:[_.Subtitle.length," Mục đề"]})]},E)})})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 border border-gray-100",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:["📄 Các mục đề trong tiêu đề ",s+1]}),r.jsxs("button",{type:"button",onClick:()=>P(s),className:"flex items-center gap-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-2 rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all duration-200 shadow-lg",children:[r.jsx(cr,{size:16}),"Thêm Mục Đề"]})]}),t.MoTa.Title[s]&&r.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:t.MoTa.Title[s].Subtitle.map((_,E)=>{var T;return r.jsxs("div",{className:`p-4 rounded-xl border-2 transition-all duration-200 ${i===E?"border-purple-500 bg-purple-50 shadow-md":"border-gray-200 hover:border-gray-300"}`,children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsxs("h4",{className:"font-semibold text-gray-800",children:["Mục đề ",E+1]}),t.MoTa.Title[s].Subtitle.length>1&&r.jsx("button",{type:"button",onClick:()=>B(s,E),className:"text-red-500 hover:bg-red-100 p-1 rounded-full transition-colors",children:r.jsx(st,{size:16})})]}),r.jsx("input",{type:"text",value:_.Name,onChange:w=>{m(`MoTa.Title[${s}].Subtitle[${E}].Name`,w.target.value),o(E)},className:"w-full p-2 border border-gray-300 rounded-lg mb-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Tên Mục đề..."}),r.jsx("div",{onDragOver:A,onDragLeave:g,onDrop:w=>p(w,`MoTa.Title[${s}].Subtitle[${E}].Picture.Url`),className:"border border-dashed border-gray-300 rounded-lg p-3 text-center hover:border-purple-400 hover:bg-purple-50 transition-all duration-200 mb-3",children:((T=_.Picture.Url)==null?void 0:T.file)instanceof File?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:_.Picture.Url.preview,alt:"Subtitle preview",className:"w-full h-16 object-cover rounded-lg"}),r.jsx("button",{type:"button",onClick:()=>y(s,E),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:r.jsx(st,{size:10})})]}):r.jsxs(r.Fragment,{children:[r.jsx(Du,{className:"mx-auto h-6 w-6 text-gray-400 mb-1"}),r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Kéo thả ảnh của mục đề này"}),r.jsx("input",{type:"file",accept:"image/*",onChange:w=>b(w,`MoTa.Title[${s}].Subtitle[${E}].Picture.Url`),className:"hidden",id:`subtitle-pic-${s}-${E}`}),r.jsx("label",{htmlFor:`subtitle-pic-${s}-${E}`,className:"text-purple-500 cursor-pointer hover:underline text-xs",children:"chọn file"})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-2 mb-3",children:r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("button",{type:"button",onClick:()=>{o(E),setTimeout(()=>D("bold"),0)},className:"p-1 bg-white rounded hover:bg-blue-100 transition-colors",title:"Bold",children:r.jsx(u6,{size:16})}),r.jsx("button",{type:"button",onClick:()=>{o(E),setTimeout(()=>D("italic"),0)},className:"p-1 bg-white rounded hover:bg-blue-100 transition-colors",title:"Italic",children:r.jsx(g6,{size:16})}),r.jsx("button",{type:"button",onClick:()=>{o(E),setTimeout(()=>D("underline"),0)},className:"p-1 bg-white rounded hover:bg-blue-100 transition-colors",title:"Underline",children:r.jsx(S6,{size:16})}),r.jsx("button",{type:"button",onClick:()=>{o(E),setTimeout(()=>D("h3"),0)},className:"p-1 bg-white rounded hover:bg-blue-100 transition-colors text-xs font-bold",title:"Heading",children:"H3"}),r.jsx("button",{type:"button",onClick:()=>{o(E),setTimeout(()=>D("center"),0)},className:"p-1 bg-white rounded hover:bg-blue-100 transition-colors",title:"Center",children:r.jsx(l6,{size:16})}),r.jsx("div",{className:"flex gap-1",children:["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff"].map(w=>r.jsx("button",{type:"button",onClick:()=>{o(E),setTimeout(()=>L(w),0)},className:"w-4 h-4 rounded border border-gray-300",style:{backgroundColor:w},title:`Color ${w}`},w))})]})}),r.jsx("textarea",{ref:i===E?f:null,value:_.Description.Content,onChange:w=>{m(`MoTa.Title[${s}].Subtitle[${E}].Description.Content`,w.target.value),o(E)},onFocus:()=>o(E),rows:4,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none",placeholder:"Nhập mô tả chi tiết (có thể sử dụng HTML tags)..."})]},E)})})]})]}),r.jsxs("div",{className:"text-center mt-8 flex justify-center gap-4",children:[r.jsx("button",{type:"button",onClick:n,className:"bg-gray-300 text-gray-800 px-12 py-4 rounded-2xl hover:bg-gray-400 transition-all duration-200 font-bold text-lg",children:"Hủy"}),r.jsx("button",{type:"button",onClick:F,disabled:c,className:`bg-gradient-to-r from-blue-600 to-purple-600 text-white px-12 py-4 rounded-2xl transition-all duration-200 font-bold text-lg shadow-xl transform hover:scale-105 ${c?"opacity-50 cursor-not-allowed":"hover:from-blue-700 hover:to-purple-700"}`,children:c?"Đang lưu...":"Lưu mô tả"})]})]})})},lBe=()=>{const[n,t]=k.useState({promotionName:"",startDate:"",endDate:"",promotionImages:[],applyToAll:!1,discountPercentage:""}),[e,s]=k.useState(null),[a,i]=k.useState(!1),[o,c]=k.useState([]),[l,d]=k.useState([]),[u,f]=k.useState([]),[h,m]=k.useState([]),[A,g]=k.useState({}),[p,b]=k.useState({}),[x,v]=k.useState({}),[y,S]=k.useState({}),[M,P]=k.useState(""),[B,D]=k.useState(""),[L,O]=k.useState(!1),[F,_]=k.useState(!1),[E,T]=k.useState(!1),[w,C]=k.useState(!0),[j,N]=k.useState(!0),[I,R]=k.useState(null),[U,V]=k.useState(null);k.useEffect(()=>{(async()=>{try{C(!0);const ue=await fetch("https://bicacuatho.azurewebsites.net/api/SanPham/ListSanPham");if(!ue.ok)throw new Error("Failed to fetch products");const pe=(await ue.json()).map(Ae=>({id:Ae.id,name:Ae.name,price:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Ae.donGia),originalPrice:Ae.donGia,image:Ae.hinh&&Ae.hinh.length>0?Ae.hinh[0]:"/api/placeholder/60/60"}));c(pe)}catch(ue){R(ue.message)}finally{C(!1)}})()},[]),k.useEffect(()=>{(async()=>{try{N(!0);const ue=await fetch("https://bicacuatho.azurewebsites.net/api/Combo/ComboSanPhamView");if(!ue.ok)throw new Error("Failed to fetch combos");const pe=(await ue.json()).map(Ae=>({id:Ae.maCombo,name:Ae.name,price:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Ae.gia),originalPrice:Ae.gia,items:Ae.sanPhams.length,image:Ae.hinhAnh||"/api/placeholder/60/60"}));d(pe)}catch(ue){V(ue.message)}finally{N(!1)}})()},[]);const z=(ae,ue)=>{t(he=>({...he,[ae]:ue}))},X=ae=>{ae.preventDefault(),ae.stopPropagation(),ae.type==="dragenter"||ae.type==="dragover"?T(!0):ae.type==="dragleave"&&T(!1)},Q=ae=>{if(ae.preventDefault(),ae.stopPropagation(),T(!1),ae.dataTransfer.files&&ae.dataTransfer.files.length>0){const ue=Array.from(ae.dataTransfer.files).filter(he=>he.type.startsWith("image/"));t(he=>({...he,promotionImages:[...he.promotionImages,...ue]}))}},q=ae=>{const ue=ae.target.files;if(ue&&ue.length>0){const he=Array.from(ue).filter(pe=>pe.type.startsWith("image/"));t(pe=>({...pe,promotionImages:[...pe.promotionImages,...he]}))}},H=ae=>{t(ue=>({...ue,promotionImages:ue.promotionImages.filter((he,pe)=>pe!==ae)}))},$=ae=>{u.find(ue=>ue.id===ae.id)||(f(ue=>[...ue,ae]),g(ue=>({...ue,[ae.id]:""}))),P(""),O(!1)},G=ae=>{f(ue=>ue.filter(he=>he.id!==ae)),g(ue=>{const he={...ue};return delete he[ae],he}),v(ue=>{const he={...ue};return delete he[ae],he})},J=(ae,ue)=>{g(he=>({...he,[ae]:ue}))},te=(ae,ue)=>{const he=parseFloat(ue);isNaN(he)||he<0||he>100?v(pe=>({...pe,[ae]:"Phần trăm giảm giá phải từ 0 đến 100"})):v(pe=>{const Ae={...pe};return delete Ae[ae],Ae})},K=ae=>{h.find(ue=>ue.id===ae.id)||(m(ue=>[...ue,ae]),b(ue=>({...ue,[ae.id]:""}))),D(""),_(!1)},ne=ae=>{m(ue=>ue.filter(he=>he.id!==ae)),b(ue=>{const he={...ue};return delete he[ae],he}),S(ue=>{const he={...ue};return delete he[ae],he})},ce=(ae,ue)=>{b(he=>({...he,[ae]:ue}))},oe=(ae,ue)=>{const he=parseFloat(ue);isNaN(he)||he<0||he>100?S(pe=>({...pe,[ae]:"Phần trăm giảm giá phải từ 0 đến 100"})):S(pe=>{const Ae={...pe};return delete Ae[ae],Ae})},ee=(ae,ue)=>{const he=parseFloat(ue);if(isNaN(he)||he<0||he>100)return null;const pe=ae*(1-he/100);return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(pe)},W=o.filter(ae=>ae.name.toLowerCase().includes(M.toLowerCase())),Y=l.filter(ae=>ae.name.toLowerCase().includes(B.toLowerCase())),Z=()=>{i(!0)},se=()=>{i(!1),s(null)},re=ae=>new Promise((ue,he)=>{const pe=new FileReader;pe.onload=()=>{const Ae=pe.result.split(",")[1];ue(Ae)},pe.onerror=Ae=>he(Ae),pe.readAsDataURL(ae)}),le=async()=>{try{if(!n.promotionName)throw new Error("Tên khuyến mãi là bắt buộc");if(!n.startDate)throw new Error("Thời gian bắt đầu là bắt buộc");if(!n.endDate)throw new Error("Thời gian kết thúc là bắt buộc");if(n.applyToAll&&!n.discountPercentage)throw new Error("Phần trăm giảm giá là bắt buộc khi áp dụng cho tất cả sản phẩm");const ae=await Promise.all(n.promotionImages.map(async Ae=>await re(Ae))),ue={TenKhuyenMai:n.promotionName,BatDau:n.startDate?new Date(n.startDate).toISOString().split("T")[0]:null,KetThuc:n.endDate?new Date(n.endDate).toISOString().split("T")[0]:null,PercentChung:n.applyToAll&&parseInt(n.discountPercentage)||null,Pictures:ae.length>0?ae:null,All:n.applyToAll,ChiTiet:n.applyToAll?null:[...u.map(Ae=>({IdSanPham:Ae.id,IdCombo:null,TenSanPhamCombo:null,GiaMoi:A[Ae.id]?Ae.originalPrice*(1-parseFloat(A[Ae.id])/100):null,Percent:parseInt(A[Ae.id])||null,GiaGoc:Ae.originalPrice})),...h.map(Ae=>({IdSanPham:null,IdCombo:Ae.id,TenSanPhamCombo:Ae.name,GiaMoi:p[Ae.id]?Ae.originalPrice*(1-parseFloat(p[Ae.id])/100):null,Percent:parseInt(p[Ae.id])||null,GiaGoc:Ae.originalPrice}))]},he=await fetch("https://bicacuatho.azurewebsites.net/api/KhuyenMai/KhuyenMaiCreate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ue)});if(he.ok)localStorage.removeItem("promotionDescription");else{const Ae=await he.json();Ce.fire({title:"Thất bại!",text:"Tạo khuyến mại mới thất bại!",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}const pe=await he.json();t({promotionName:"",startDate:"",endDate:"",promotionImages:[],applyToAll:!1,discountPercentage:""}),f([]),m([]),g({}),b({}),s(null),Ce.fire({title:"Thành công!",text:"Tạo Khuyến mại mới thành công!",icon:"success",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}).then(()=>{window.location.reload()})}catch(ae){console.error("Error saving promotion:",ae),Ce.fire({title:"Thất bại!",text:"Đã xảy ra lỗi khi tạo khuyến mại mới!",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}),alert("Lỗi khi lưu khuyến mãi: "+ae.message)}};return r.jsxs("div",{className:"max-w-7xl mx-auto p-6 bg-white",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Tạo Khuyến Mãi Mới"}),r.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Thông Tin Khuyến Mãi"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên Khuyến Mãi *"}),r.jsx("input",{type:"text",value:n.promotionName,onChange:ae=>z("promotionName",ae.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nhập tên khuyến mãi"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thời Gian Bắt Đầu *"}),r.jsx("input",{type:"datetime-local",value:n.startDate,onChange:ae=>z("startDate",ae.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thời Gian Kết Thúc *"}),r.jsx("input",{type:"datetime-local",value:n.endDate,onChange:ae=>z("endDate",ae.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{className:"mb-4",hidden:!0,children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hình Ảnh Khuyến Mãi"}),r.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-6 text-center transition-colors ${E?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:X,onDragLeave:X,onDragOver:X,onDrop:Q,children:[r.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:q,className:"hidden",id:"image-upload"}),n.promotionImages.length>0?r.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:n.promotionImages.map((ae,ue)=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:URL.createObjectURL(ae),alt:`promotion-image-${ue}`,className:"w-24 h-24 object-cover rounded-md"}),r.jsx("button",{onClick:()=>H(ue),className:"absolute top-0 right-0 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:r.jsx(st,{className:"w-4 h-4"})})]},ue))}):r.jsxs("div",{className:"space-y-2",children:[r.jsx(Lr,{className:"w-8 h-8 mx-auto text-gray-400"}),r.jsxs("div",{className:"text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Kéo thả hình ảnh vào đây"})," hoặc"," ",r.jsx("label",{htmlFor:"image-upload",className:"text-blue-500 cursor-pointer hover:text-blue-600",children:"chọn file"})]}),r.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG, GIF tối đa 10MB (Có thể chọn nhiều hình)"})]}),n.promotionImages.length>0&&r.jsxs("label",{htmlFor:"image-upload",className:"block mt-4 inline-flex items-center px-4 py-2 bg-blue-500 text-white rounded-md cursor-pointer hover:bg-blue-600",children:[r.jsx(cr,{className:"w-4 h-4 mr-2"})," Thêm hình ảnh"]})]})]}),r.jsx("div",{className:"mb-4",children:r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:n.applyToAll,onChange:ae=>z("applyToAll",ae.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Khuyến mãi cho tất cả sản phẩm"})]})}),n.applyToAll&&r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"% Khuyến Mãi Cho Tất Cả *"}),r.jsxs("div",{className:"relative w-48",children:[r.jsx("input",{type:"number",min:"0",max:"100",value:n.discountPercentage,onChange:ae=>z("discountPercentage",ae.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"}),r.jsx("span",{className:"absolute right-3 top-2 text-gray-500",children:"%"})]})]})]}),!n.applyToAll&&r.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Sản Phẩm"}),r.jsxs("div",{className:"relative mb-4",children:[r.jsx(Rn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Tìm kiếm sản phẩm...",value:M,onChange:ae=>{P(ae.target.value),O(ae.target.value.length>0)},onBlur:()=>setTimeout(()=>O(!1),200),onFocus:()=>O(M.length>0),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),w?r.jsx("p",{className:"text-gray-500 text-center py-4",children:"Đang tải sản phẩm..."}):I?r.jsxs("p",{className:"text-red-500 text-center py-4",children:["Lỗi: ",I]}):L&&W.length>0?r.jsx("div",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-40 overflow-y-auto shadow-lg",children:W.map(ae=>r.jsxs("div",{onClick:()=>$(ae),className:"px-4 py-2 hover:bg-gray-100 cursor-pointer flex items-center space-x-2",children:[r.jsx("img",{src:`data:image/jpeg;base64,${ae.image}`,alt:ae.name,className:"w-6 h-6 rounded-md object-cover"}),r.jsx("span",{className:"text-sm",children:ae.name})]},ae.id))}):L&&r.jsx("p",{className:"text-gray-500 text-center py-4",children:"Không tìm thấy sản phẩm"})]}),r.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:u.length===0?r.jsx("p",{className:"text-gray-500 text-center py-8 text-sm",children:"Chưa có sản phẩm nào được chọn"}):u.map(ae=>r.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[r.jsx("img",{src:`data:image/jpeg;base64,${ae.image}`,alt:ae.name,className:"w-10 h-10 rounded-md object-cover mr-3 flex-shrink-0"}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h4",{className:"font-medium text-gray-900 truncate text-sm",children:ae.name}),r.jsxs("p",{className:"text-xs text-gray-600",children:["Giá gốc: ",r.jsx("span",{className:A[ae.id]&&!x[ae.id]?"line-through":"",children:ae.price}),A[ae.id]&&!x[ae.id]&&r.jsx("span",{className:"ml-2 text-blue-600",children:ee(ae.originalPrice,A[ae.id])})]})]})]}),r.jsx("button",{onClick:()=>G(ae.id),className:"p-1 text-red-500 hover:bg-red-50 rounded flex-shrink-0",children:r.jsx(st,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Giảm giá:"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",min:"0",max:"100",value:A[ae.id]||"",onChange:ue=>J(ae.id,ue.target.value),onBlur:()=>te(ae.id,A[ae.id]),onKeyPress:ue=>{ue.key==="Enter"&&te(ae.id,A[ae.id])},className:`w-16 px-2 py-1 pr-6 border ${x[ae.id]?"border-red-500":"border-gray-300"} rounded focus:outline-none focus:ring-1 focus:ring-blue-500 text-sm`,placeholder:"0"}),r.jsx("span",{className:"absolute right-2 top-1 text-gray-500 text-xs",children:"%"})]})]}),x[ae.id]&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:x[ae.id]})]},ae.id))})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Combo"}),r.jsxs("div",{className:"relative mb-4",children:[r.jsx(Rn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Tìm kiếm combo...",value:B,onChange:ae=>{D(ae.target.value),_(ae.target.value.length>0)},onBlur:()=>setTimeout(()=>_(!1),200),onFocus:()=>_(B.length>0),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),j?r.jsx("p",{className:"text-gray-500 text-center py-4",children:"Đang tải combo..."}):U?r.jsxs("p",{className:"text-red-500 text-center py-4",children:["Lỗi: ",U]}):F&&Y.length>0?r.jsx("div",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-40 overflow-y-auto shadow-lg",children:Y.map(ae=>r.jsxs("div",{onClick:()=>K(ae),className:"px-4 py-2 hover:bg-gray-100 cursor-pointer flex items-center space-x-2",children:[r.jsx("img",{src:`data:image/jpeg;base64,${ae.image}`,alt:ae.name,className:"w-6 h-6 rounded-md object-cover"}),r.jsx("span",{className:"text-sm",children:ae.name})]},ae.id))}):F&&r.jsx("p",{className:"text-gray-500 text-center py-4",children:"Không tìm thấy combo"})]}),r.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:h.length===0?r.jsx("p",{className:"text-gray-500 text-center py-8 text-sm",children:"Chưa có combo nào được chọn"}):h.map(ae=>r.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[r.jsx("img",{src:`data:image/jpeg;base64,${ae.image}`,alt:ae.name,className:"w-10 h-10 rounded-md object-cover mr-3 flex-shrink-0"}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h4",{className:"font-medium text-gray-900 truncate text-sm",children:ae.name}),r.jsxs("p",{className:"text-xs text-gray-600",children:["Giá gốc: ",r.jsx("span",{className:p[ae.id]&&!y[ae.id]?"line-through":"",children:ae.price}),p[ae.id]&&!y[ae.id]&&r.jsx("span",{className:"ml-2 text-blue-600",children:ee(ae.originalPrice,p[ae.id])})]})]})]}),r.jsx("button",{onClick:()=>ne(ae.id),className:"p-1 text-red-500 hover:bg-red-50 rounded flex-shrink-0",children:r.jsx(st,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Giảm giá:"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",min:"0",max:"100",value:p[ae.id]||"",onChange:ue=>ce(ae.id,ue.target.value),onBlur:()=>oe(ae.id,p[ae.id]),onKeyPress:ue=>{ue.key==="Enter"&&oe(ae.id,p[ae.id])},className:`w-16 px-2 py-1 pr-6 border ${y[ae.id]?"border-red-500":"border-gray-300"} rounded focus:outline-none focus:ring-1 focus:ring-blue-500 text-sm`,placeholder:"0"}),r.jsx("span",{className:"absolute right-2 top-1 text-gray-500 text-xs",children:"%"})]})]}),y[ae.id]&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:y[ae.id]})]},ae.id))})]})]}),a&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-7xl max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Thêm Mô Tả"}),r.jsx("button",{onClick:se,className:"p-1 text-gray-500 hover:text-gray-700",children:r.jsx(st,{className:"w-6 h-6"})})]}),r.jsx(oBe,{onSave:ae=>{s(ae),i(!1)},onCancel:se})]})}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("button",{onClick:Z,className:"flex items-center px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors",children:[r.jsx(R2,{className:"w-4 h-4 mr-2"}),"Thêm Mô Tả"]}),r.jsxs("div",{className:"space-x-3",children:[r.jsx("button",{className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",onClick:()=>{t({promotionName:"",startDate:"",endDate:"",promotionImages:[],applyToAll:!1,discountPercentage:""}),f([]),m([]),g({}),b({}),s(null),localStorage.removeItem("promotionDescription")},children:"Hủy"}),r.jsx("button",{className:"px-6 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",onClick:le,children:"Lưu Khuyến Mãi"})]})]})]})},cBe=({promotionId:n,initialData:t,onSave:e,onCancel:s})=>{var C,j,N,I,R,U,V;const a={Header:{Title:""},Picture:[],Title:[{Name:"",Subtitle:[{Name:"",Description:{Content:""},Picture:{Url:null}}],Picture:{Url:null}}]},[i,o]=k.useState(t||{IdMoTa:n||"",MoTa:a}),[c,l]=k.useState(0),[d,u]=k.useState(0),[f,h]=k.useState(!1),[m,A]=k.useState(null),g=k.useRef(null),p=k.useRef(new Set);k.useEffect(()=>()=>{p.current.forEach(z=>URL.revokeObjectURL(z)),p.current.clear()},[]);const b=(z,X)=>{const Q=z.split(".");o(q=>{const H=te=>{if(te===null||typeof te!="object"||te instanceof File)return te;if(te instanceof Array)return te.map(H);const K={};for(let ne in te)te.hasOwnProperty(ne)&&(K[ne]=H(te[ne]));return K},$=H(q);let G=$;for(let te=0;te<Q.length-1;te++){const K=Q[te];if(K.includes("[")&&K.includes("]")){const[ne,ce]=K.split("["),oe=parseInt(ce.replace("]",""));G[ne]||(G[ne]=[]),G[ne][oe]||(G[ne][oe]={}),G=G[ne][oe]}else G[K]||(G[K]={}),G=G[K]}const J=Q[Q.length-1];if(J.includes("[")&&J.includes("]")){const[te,K]=J.split("["),ne=parseInt(K.replace("]",""));G[te]||(G[te]=[]),G[te][ne]=X}else G[J]=X;return $})},x=z=>{z.preventDefault(),z.currentTarget.classList.add("border-blue-400","bg-blue-50")},v=z=>{z.preventDefault(),z.currentTarget.classList.remove("border-blue-400","bg-blue-50")},y=(z,X,Q=!1)=>{z.preventDefault(),z.currentTarget.classList.remove("border-blue-400","bg-blue-50");const q=Array.from(z.dataTransfer.files).filter(H=>H.type.startsWith("image/")?H.size>10*1024*1024?(alert(`File ${H.name} vượt quá giới hạn 10MB.`),!1):!0:(alert(`File ${H.name} không phải là hình ảnh.`),!1));if(Q){const H=q.map($=>{const G=URL.createObjectURL($);return p.current.add(G),{file:$,preview:G}});o($=>({...$,MoTa:{...$.MoTa,Picture:[...$.MoTa.Picture||[],...H]}}))}else if(q.length>0){const H=q[0],$=URL.createObjectURL(H);p.current.add($),b(X,{file:H,preview:$})}},S=(z,X,Q=!1)=>{const q=Array.from(z.target.files).filter(H=>H.type.startsWith("image/")?H.size>10485760?(alert(`File ${H.name} vượt quá giới hạn 10MB.`),!1):!0:(alert(`File ${H.name} không phải là hình ảnh.`),!1));if(Q){const H=q.map($=>{const G=URL.createObjectURL($);return p.current.add(G),{file:$,preview:G}});o($=>({...$,MoTa:{...$.MoTa,Picture:[...$.MoTa.Picture||[],...H]}}))}else if(q.length>0){const H=q[0],$=URL.createObjectURL(H);p.current.add($),b(X,{file:H,preview:$})}},M=z=>{var q,H;const X=(q=i.MoTa)==null?void 0:q.Picture[z];X!=null&&X.preview&&(URL.revokeObjectURL(X.preview),p.current.delete(X.preview));const Q=(((H=i.MoTa)==null?void 0:H.Picture)||[]).filter(($,G)=>G!==z);o($=>({...$,MoTa:{...$.MoTa,Picture:Q}}))},P=z=>{var Q,q,H;const X=(H=(q=(Q=i.MoTa)==null?void 0:Q.Title[z])==null?void 0:q.Picture)==null?void 0:H.Url;X!=null&&X.preview&&(URL.revokeObjectURL(X.preview),p.current.delete(X.preview)),b(`MoTa.Title[${z}].Picture.Url`,null)},B=(z,X)=>{var q,H,$,G;const Q=(G=($=(H=(q=i.MoTa)==null?void 0:q.Title[z])==null?void 0:H.Subtitle[X])==null?void 0:$.Picture)==null?void 0:G.Url;Q!=null&&Q.preview&&(URL.revokeObjectURL(Q.preview),p.current.delete(Q.preview)),b(`MoTa.Title[${z}].Subtitle[${X}].Picture.Url`,null)},D=()=>{var z,X;o(Q=>({...Q,MoTa:{...Q.MoTa,Title:[...Q.MoTa.Title||[],{Name:"",Subtitle:[{Name:"",Description:{Content:""},Picture:{Url:null}}],Picture:{Url:null}}]}})),l(((X=(z=i.MoTa)==null?void 0:z.Title)==null?void 0:X.length)||0),u(0)},L=z=>{var q,H,$,G,J,te,K;if(((H=(q=i.MoTa)==null?void 0:q.Title)==null?void 0:H.length)<=1)return;const X=($=i.MoTa)==null?void 0:$.Title[z];(J=(G=X==null?void 0:X.Picture)==null?void 0:G.Url)!=null&&J.preview&&(URL.revokeObjectURL(X.Picture.Url.preview),p.current.delete(X.Picture.Url.preview)),(te=X==null?void 0:X.Subtitle)==null||te.forEach(ne=>{var ce,oe;(oe=(ce=ne==null?void 0:ne.Picture)==null?void 0:ce.Url)!=null&&oe.preview&&(URL.revokeObjectURL(ne.Picture.Url.preview),p.current.delete(ne.Picture.Url.preview))});const Q=(((K=i.MoTa)==null?void 0:K.Title)||[]).filter((ne,ce)=>ce!==z);o(ne=>({...ne,MoTa:{...ne.MoTa,Title:Q}})),l(Math.max(0,z-1)),u(0)},O=z=>{var X,Q,q;o(H=>{var G,J;const $=[...((G=H.MoTa)==null?void 0:G.Title)||[]];return $[z]={...$[z],Subtitle:[...((J=$[z])==null?void 0:J.Subtitle)||[],{Name:"",Description:{Content:""},Picture:{Url:null}}]},{...H,MoTa:{...H.MoTa,Title:$}}}),u(((q=(Q=(X=i.MoTa)==null?void 0:X.Title[z])==null?void 0:Q.Subtitle)==null?void 0:q.length)||0)},F=(z,X)=>{var q,H,$,G,J,te,K;if((($=(H=(q=i.MoTa)==null?void 0:q.Title[z])==null?void 0:H.Subtitle)==null?void 0:$.length)<=1)return;const Q=(J=(G=i.MoTa)==null?void 0:G.Title[z])==null?void 0:J.Subtitle[X];(K=(te=Q==null?void 0:Q.Picture)==null?void 0:te.Url)!=null&&K.preview&&(URL.revokeObjectURL(Q.Picture.Url.preview),p.current.delete(Q.Picture.Url.preview)),o(ne=>{var oe,ee;const ce=[...((oe=ne.MoTa)==null?void 0:oe.Title)||[]];return ce[z]={...ce[z],Subtitle:(((ee=ce[z])==null?void 0:ee.Subtitle)||[]).filter((W,Y)=>Y!==X)},{...ne,MoTa:{...ne.MoTa,Title:ce}}}),u(Math.max(0,X-1))},_=z=>{const X=g.current;if(!X)return;const Q=X.selectionStart,q=X.selectionEnd,H=X.value.substring(Q,q);let $;switch(z){case"bold":$=`<strong>${H}</strong>`;break;case"italic":$=`<em>${H}</em>`;break;case"underline":$=`<u>${H}</u>`;break;case"p":$=`<p>${H}</p>`;break;case"h3":$=`<h3>${H}</h3>`;break;case"center":$=`<div style="text-align: center;">${H}</div>`;break;case"right":$=`<div style="text-align: right;">${H}</div>`;break;default:$=H}const G=X.value.substring(0,Q)+$+X.value.substring(q),J=`MoTa.Title[${c}].Subtitle[${d}].Description.Content`;b(J,G),setTimeout(()=>{X.focus(),X.setSelectionRange(Q,Q+$.length)},0)},E=z=>{const X=g.current;if(!X)return;const Q=X.selectionStart,q=X.selectionEnd,H=X.value.substring(Q,q),$=`<span style="color: ${z};">${H}</span>`,G=X.value.substring(0,Q)+$+X.value.substring(q),J=`MoTa.Title[${c}].Subtitle[${d}].Description.Content`;b(J,G)},T=z=>new Promise((X,Q)=>{const q=new FileReader;q.readAsDataURL(z),q.onload=()=>{const H=q.result.split(",")[1];X(H)},q.onerror=H=>Q(H)}),w=async()=>{var z,X,Q,q,H,$,G,J,te,K,ne,ce,oe,ee;h(!0),A(null);try{if(!((Q=(X=(z=i.MoTa)==null?void 0:z.Header)==null?void 0:X.Title)!=null&&Q.trim()))throw new Error("Tiêu đề Header là bắt buộc");const W=[];for(const le of((q=i.MoTa)==null?void 0:q.Picture)||[])if(le.file instanceof File){const ae=await T(le.file);W.push({Url:ae})}else le.Url&&W.push({Url:le.Url});const Y=[];for(const le of((H=i.MoTa)==null?void 0:H.Title)||[]){let ae=($=le.Picture)==null?void 0:$.Url;((J=(G=le.Picture)==null?void 0:G.Url)==null?void 0:J.file)instanceof File&&(ae=await T(le.Picture.Url.file));const ue=[];for(const he of le.Subtitle||[]){let pe=(te=he.Picture)==null?void 0:te.Url;((ne=(K=he.Picture)==null?void 0:K.Url)==null?void 0:ne.file)instanceof File&&(pe=await T(he.Picture.Url.file)),ue.push({Name:he.Name||"",Description:{Content:((ce=he.Description)==null?void 0:ce.Content)||""},Picture:{Url:pe}})}Y.push({Name:le.Name||"",Subtitle:ue,Picture:{Url:ae}})}const Z={Header:{Title:((ee=(oe=i.MoTa)==null?void 0:oe.Header)==null?void 0:ee.Title)||""},Picture:W,Title:Y};console.log("Sending data to API:",{...Z,Picture:Z.Picture.map((le,ae)=>({...le,Url:le.Url?`[Binary Data - ${le.Url.length} characters]`:""}))});const se=await fetch("https://bicacuatho.azurewebsites.net/api/KhuyenMai/MoTaKhuyenMaiUpdate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Z)});if(!se.ok){const le=await se.text();throw console.error("API Error Response:",le),new Error(`Failed to update MoTaKhuyenMai: ${se.status} - ${le}`)}const re=await se.json();console.log("MoTaKhuyenMai updated successfully:",re),p.current.forEach(le=>URL.revokeObjectURL(le)),p.current.clear(),e(Z),Ce.fire({title:"Thành công!",text:"Mô tả  đã được lưu vào bộ nhớ tạm, hãy nhập cập nhật khuyến mại!",icon:"Success",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}catch(W){console.error("Error updating MoTaKhuyenMai:",W),A(W.message),alert(`Lỗi khi cập nhật mô tả khuyến mãi: ${W.message}`)}finally{h(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:r.jsxs("div",{className:"container mx-auto p-6",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8 border border-gray-100",children:[r.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-6",children:"✨ Chỉnh Sửa Mô Tả Khuyến Mãi"}),m&&r.jsxs("div",{className:"mb-4 p-4 bg-red-100 text-red-700 rounded-lg",children:["Lỗi: ",m]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"🎯 Tiêu đề Header"}),r.jsx("input",{type:"text",value:((j=(C=i.MoTa)==null?void 0:C.Header)==null?void 0:j.Title)||"",onChange:z=>b("MoTa.Header.Title",z.target.value),className:"w-full p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 text-lg",placeholder:"Nhập tiêu đề chính của khuyến mãi..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-4",children:"🖼️ Hình ảnh chính (Kéo thả nhiều ảnh)"}),r.jsxs("div",{onDragOver:x,onDragLeave:v,onDrop:z=>y(z,"",!0),className:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-blue-400 hover:bg-blue-50 transition-all duration-200 cursor-pointer",children:[r.jsx(Lr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-600 mb-2",children:"Kéo thả ảnh vào đây hoặc"}),r.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:z=>S(z,"",!0),className:"hidden",id:"main-pictures"}),r.jsx("label",{htmlFor:"main-pictures",className:"bg-blue-500 text-white px-6 py-2 rounded-lg cursor-pointer hover:bg-blue-600 transition-colors",children:"Chọn ảnh"})]}),((I=(N=i.MoTa)==null?void 0:N.Picture)==null?void 0:I.length)>0&&r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:i.MoTa.Picture.map((z,X)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:z.url?`data:image/jpeg;base64,${z.url}`:z.preview,alt:`Preview ${X+1}`,className:"w-full h-24 object-cover rounded-lg border-2 border-gray-200 group-hover:border-blue-400 transition-colors"}),r.jsx("button",{type:"button",onClick:()=>M(X),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:r.jsx(st,{size:14})})]},X))})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 border border-gray-100",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:"📝 Tiêu đề"}),r.jsxs("button",{type:"button",onClick:D,className:"flex items-center gap-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white px-4 py-2 rounded-xl hover:from-green-600 hover:to-emerald-600 transition-all duration-200 shadow-lg",children:[r.jsx(cr,{size:16}),"Thêm Title"]})]}),r.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:(((R=i.MoTa)==null?void 0:R.Title)||[]).map((z,X)=>{var Q,q,H,$;return r.jsxs("div",{className:`p-4 rounded-xl border-2 cursor-pointer transition-all duration-200 ${c===X?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,onClick:()=>{l(X),u(0)},children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("h3",{className:"font-semibold text-gray-800",children:["Tiêu đề ",X+1]}),((q=(Q=i.MoTa)==null?void 0:Q.Title)==null?void 0:q.length)>1&&r.jsx("button",{type:"button",onClick:G=>{G.stopPropagation(),L(X)},className:"text-red-500 hover:bg-red-100 p-1 rounded-full transition-colors",children:r.jsx(st,{size:16})})]}),r.jsx("input",{type:"text",value:z.Name||"",onChange:G=>{G.stopPropagation(),b(`MoTa.Title[${X}].Name`,G.target.value)},className:"w-full p-2 border border-gray-300 rounded-lg mb-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Tên tiêu đề...",onClick:G=>G.stopPropagation()}),r.jsx("div",{onDragOver:x,onDragLeave:v,onDrop:G=>{G.stopPropagation(),y(G,`MoTa.Title[${X}].Picture.Url`)},className:"border border-dashed border-gray-300 rounded-lg p-3 text-center hover:border-blue-400 hover:bg-blue-50 transition-all duration-200",onClick:G=>G.stopPropagation(),children:(H=z.Picture)!=null&&H.Url?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:z.Picture.Url.preview?z.Picture.Url.preview:`data:image/jpeg;base64,${z.Picture.Url}`,alt:"Title preview",className:"w-full h-20 object-cover rounded-lg"}),r.jsx("button",{type:"button",onClick:G=>{G.stopPropagation(),P(X)},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:r.jsx(st,{size:12})})]}):r.jsxs(r.Fragment,{children:[r.jsx(Du,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Kéo thả ảnh của tiêu đề này"}),r.jsx("input",{type:"file",accept:"image/*",onChange:G=>{G.stopPropagation(),S(G,`MoTa.Title[${X}].Picture.Url`)},className:"hidden",id:`title-pic-${X}`}),r.jsx("label",{htmlFor:`title-pic-${X}`,className:"text-blue-500 cursor-pointer hover:underline text-sm",children:"hoặc chọn file"})]})}),r.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:[(($=z.Subtitle)==null?void 0:$.length)||0," Mục đề"]})]},X)})})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 border border-gray-100",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:["📄 Các mục đề trong tiêu đề ",c+1]}),r.jsxs("button",{type:"button",onClick:()=>O(c),className:"flex items-center gap-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-2 rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all duration-200 shadow-lg",children:[r.jsx(cr,{size:16}),"Thêm Mục Đề"]})]}),(((V=(U=i.MoTa)==null?void 0:U.Title[c])==null?void 0:V.Subtitle)||[]).map((z,X)=>{var Q,q,H,$,G;return r.jsxs("div",{className:`p-4 rounded-xl border-2 transition-all duration-200 ${d===X?"border-purple-500 bg-purple-50 shadow-md":"border-gray-200 hover:border-gray-300"}`,children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsxs("h4",{className:"font-semibold text-gray-800",children:["Mục đề ",X+1]}),((H=(q=(Q=i.MoTa)==null?void 0:Q.Title[c])==null?void 0:q.Subtitle)==null?void 0:H.length)>1&&r.jsx("button",{type:"button",onClick:()=>F(c,X),className:"text-red-500 hover:bg-red-100 p-1 rounded-full transition-colors",children:r.jsx(st,{size:16})})]}),r.jsx("input",{type:"text",value:z.Name||"",onChange:J=>{b(`MoTa.Title[${c}].Subtitle[${X}].Name`,J.target.value),u(X)},className:"w-full p-2 border border-gray-300 rounded-lg mb-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Tên Mục đề..."}),r.jsx("div",{onDragOver:x,onDragLeave:v,onDrop:J=>y(J,`MoTa.Title[${c}].Subtitle[${X}].Picture.Url`),className:"border border-dashed border-gray-300 rounded-lg p-3 text-center hover:border-purple-400 hover:bg-purple-50 transition-all duration-200 mb-3",children:($=z.Picture)!=null&&$.Url?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:z.Picture.Url.preview?z.Picture.Url.preview:`data:image/jpeg;base64,${z.Picture.Url}`,alt:"Subtitle preview",className:"w-full h-16 object-cover rounded-lg"}),r.jsx("button",{type:"button",onClick:()=>B(c,X),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:r.jsx(st,{size:10})})]}):r.jsxs(r.Fragment,{children:[r.jsx(Du,{className:"mx-auto h-6 w-6 text-gray-400 mb-1"}),r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Kéo thả ảnh của mục đề này"}),r.jsx("input",{type:"file",accept:"image/*",onChange:J=>S(J,`MoTa.Title[${c}].Subtitle[${X}].Picture.Url`),className:"hidden",id:`subtitle-pic-${c}-${X}`}),r.jsx("label",{htmlFor:`subtitle-pic-${c}-${X}`,className:"text-purple-500 cursor-pointer hover:underline text-xs",children:"chọn file"})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-2 mb-3",children:r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("button",{type:"button",onClick:()=>{u(X),setTimeout(()=>_("bold"),0)},className:"p-1 bg-white rounded hover:bg-blue-100 transition-colors",title:"Bold",children:r.jsx(u6,{size:16})}),r.jsx("button",{type:"button",onClick:()=>{u(X),setTimeout(()=>_("italic"),0)},className:"p-1 bg-white rounded hover:bg-blue-100 transition-colors",title:"Italic",children:r.jsx(g6,{size:16})}),r.jsx("button",{type:"button",onClick:()=>{u(X),setTimeout(()=>_("underline"),0)},className:"p-1 bg-white rounded hover:bg-blue-100 transition-colors",title:"Underline",children:r.jsx(S6,{size:16})}),r.jsx("button",{type:"button",onClick:()=>{u(X),setTimeout(()=>_("h3"),0)},className:"p-1 bg-white rounded hover:bg-blue-100 transition-colors text-xs font-bold",title:"Heading",children:"H3"}),r.jsx("button",{type:"button",onClick:()=>{u(X),setTimeout(()=>_("center"),0)},className:"p-1 bg-white rounded hover:bg-blue-100 transition-colors",title:"Center",children:r.jsx(l6,{size:16})}),r.jsx("div",{className:"flex gap-1",children:["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff"].map(J=>r.jsx("button",{type:"button",onClick:()=>{u(X),setTimeout(()=>E(J),0)},className:"w-4 h-4 rounded border border-gray-300",style:{backgroundColor:J},title:`Color ${J}`},J))})]})}),r.jsx("textarea",{ref:d===X?g:null,value:((G=z.Description)==null?void 0:G.Content)||"",onChange:J=>{b(`MoTa.Title[${c}].Subtitle[${X}].Description.Content`,J.target.value),u(X)},onFocus:()=>u(X),rows:4,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none",placeholder:"Nhập mô tả chi tiết (có thể sử dụng HTML tags)..."})]},X)})]})]}),r.jsxs("div",{className:"text-center mt-8 flex justify-center gap-4",children:[r.jsx("button",{type:"button",onClick:s,className:"bg-gray-300 text-gray-800 px-12 py-4 rounded-2xl hover:bg-gray-400 transition-all duration-200 font-bold text-lg",children:"Hủy"}),r.jsx("button",{type:"button",onClick:w,disabled:f,className:`bg-gradient-to-r from-blue-600 to-purple-600 text-white px-12 py-4 rounded-2xl transition-all duration-200 font-bold text-lg shadow-xl transform hover:scale-105 ${f?"opacity-50 cursor-not-allowed":"hover:from-blue-700 hover:to-purple-700"}`,children:f?"Đang cập nhật...":"Cập nhật mô tả"})]})]})})},dBe=({promotionId:n,onClose:t})=>{const[e,s]=k.useState({promotionName:"",startDate:"",endDate:"",promotionImages:[],applyToAll:!1,discountPercentage:""}),[a,i]=k.useState(null),[o,c]=k.useState(!1),[l,d]=k.useState([]),[u,f]=k.useState([]),[h,m]=k.useState([]),[A,g]=k.useState([]),[p,b]=k.useState({}),[x,v]=k.useState({}),[y,S]=k.useState({}),[M,P]=k.useState({}),[B,D]=k.useState(""),[L,O]=k.useState(""),[F,_]=k.useState(!1),[E,T]=k.useState(!1),[w,C]=k.useState(!1),[j,N]=k.useState(!0),[I,R]=k.useState(!0),[U,V]=k.useState(null),[z,X]=k.useState(null),[Q,q]=k.useState(!0),[H,$]=k.useState(null);k.useEffect(()=>{(async()=>{var me,ve;try{q(!0);const Me=await fetch("https://bicacuatho.azurewebsites.net/api/KhuyenMai/ListKhuyenMaiAdmin");if(!Me.ok)throw new Error("Failed to fetch promotion");const xe=(await Me.json()).find(Se=>Se.id===n);if(!xe)throw new Error("Promotion not found");const Te=xe.ngayBatDau?new Date(xe.ngayBatDau).toISOString().slice(0,16):"",_e=xe.ngayKetThuc?new Date(xe.ngayKetThuc).toISOString().slice(0,16):"";s({promotionName:xe.tenKhuyenMai||"",startDate:Te,endDate:_e,promotionImages:xe.hinhAnh||[],applyToAll:xe.percentChung!==null&&xe.percentChung!==void 0,discountPercentage:xe.percentChung?String(xe.percentChung):""});const Pe=xe.danhSachKhuyenMai.filter(Se=>Se.idSanPham).map(Se=>({id:Se.idSanPham,name:Se.tenSanPhamCombo,price:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Se.giaGoc),originalPrice:Se.giaGoc,image:Se.hinhAnh&&Se.hinhAnh.length>0?Se.hinhAnh[0]:"/api/placeholder/60/60"})),be=xe.danhSachKhuyenMai.filter(Se=>Se.idCombo).map(Se=>({id:Se.idCombo,name:Se.tenSanPhamCombo,price:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Se.giaGoc),originalPrice:Se.giaGoc,items:Se.sanPhams?Se.sanPhams.length:0,image:Se.hinhAnh&&Se.hinhAnh.length>0?Se.hinhAnh[0]:"/api/placeholder/60/60"}));m(Pe),g(be);const Ee={},ge={};xe.danhSachKhuyenMai.forEach(Se=>{Se.idSanPham?Ee[Se.idSanPham]=String(Se.percent||""):Se.idCombo&&(ge[Se.idCombo]=String(Se.percent||""))}),b(Ee),v(ge),i({IdMoTa:xe.id||"",MoTa:xe.moTa?{Header:{Title:((me=xe.moTa.header)==null?void 0:me.title)||""},Picture:xe.moTa.Picture||[],Title:((ve=xe.moTa.title)==null?void 0:ve.map(Se=>{var Ie,ze;return{Name:Se.name||"",Picture:{Url:((Ie=Se.picture)==null?void 0:Ie.url)||null},Subtitle:((ze=Se.subtitle)==null?void 0:ze.map(Le=>{var $e,et;return{Name:Le.name||"",Description:{Content:(($e=Le.description)==null?void 0:$e.content)||""},Picture:{Url:((et=Le.picture)==null?void 0:et.url)||null}}}))||[{Name:"",Description:{Content:""},Picture:{Url:null}}]}}))||[{Name:"",Picture:{Url:null},Subtitle:[{Name:"",Description:{Content:""},Picture:{Url:null}}]}]}:{Header:{Title:""},Picture:[],Title:[{Name:"",Picture:{Url:null},Subtitle:[{Name:"",Description:{Content:""},Picture:{Url:null}}]}]}})}catch(Me){$(Me.message)}finally{q(!1)}})()},[n]),k.useEffect(()=>{(async()=>{try{N(!0);const me=await fetch("https://bicacuatho.azurewebsites.net/api/SanPham/ListSanPham");if(!me.ok)throw new Error("Failed to fetch products");const Me=(await me.json()).map(Be=>({id:Be.id,name:Be.name,price:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Be.donGia),originalPrice:Be.donGia,image:Be.hinh&&Be.hinh.length>0?Be.hinh[0]:"/api/placeholder/60/60"}));d(Me)}catch(me){V(me.message)}finally{N(!1)}})()},[]),k.useEffect(()=>{(async()=>{try{R(!0);const me=await fetch("https://bicacuatho.azurewebsites.net/api/Combo/ComboSanPhamView");if(!me.ok)throw new Error("Failed to fetch combos");const Me=(await me.json()).map(Be=>({id:Be.maCombo,name:Be.name,price:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Be.gia),originalPrice:Be.gia,items:Be.sanPhams.length,image:Be.hinhAnh||"/api/placeholder/60/60"}));f(Me)}catch(me){X(me.message)}finally{R(!1)}})()},[]);const G=(de,me)=>{s(ve=>({...ve,[de]:me}))},J=de=>{de.preventDefault(),de.stopPropagation(),de.type==="dragenter"||de.type==="dragover"?C(!0):de.type==="dragleave"&&C(!1)},te=de=>{if(de.preventDefault(),de.stopPropagation(),C(!1),de.dataTransfer.files&&de.dataTransfer.files.length>0){const me=Array.from(de.dataTransfer.files).filter(ve=>ve.type.startsWith("image/"));s(ve=>({...ve,promotionImages:[...ve.promotionImages,...me]}))}},K=de=>{const me=de.target.files;if(me&&me.length>0){const ve=Array.from(me).filter(Me=>Me.type.startsWith("image/"));s(Me=>({...Me,promotionImages:[...Me.promotionImages,...ve]}))}},ne=de=>{s(me=>({...me,promotionImages:me.promotionImages.filter((ve,Me)=>Me!==de)}))},ce=de=>{h.find(me=>me.id===de.id)||(m(me=>[...me,de]),b(me=>({...me,[de.id]:""}))),D(""),_(!1)},oe=de=>{m(me=>me.filter(ve=>ve.id!==de)),b(me=>{const ve={...me};return delete ve[de],ve}),S(me=>{const ve={...me};return delete ve[de],ve})},ee=(de,me)=>{b(ve=>({...ve,[de]:me}))},W=(de,me)=>{const ve=parseFloat(me);isNaN(ve)||ve<0||ve>100?S(Me=>({...Me,[de]:"Phần trăm giảm giá phải từ 0 đến 100"})):S(Me=>{const Be={...Me};return delete Be[de],Be})},Y=de=>{A.find(me=>me.id===de.id)||(g(me=>[...me,de]),v(me=>({...me,[de.id]:""}))),O(""),T(!1)},Z=de=>{g(me=>me.filter(ve=>ve.id!==de)),v(me=>{const ve={...me};return delete ve[de],ve}),P(me=>{const ve={...me};return delete ve[de],ve})},se=(de,me)=>{v(ve=>({...ve,[de]:me}))},re=(de,me)=>{const ve=parseFloat(me);isNaN(ve)||ve<0||ve>100?P(Me=>({...Me,[de]:"Phần trăm giảm giá phải từ 0 đến 100"})):P(Me=>{const Be={...Me};return delete Be[de],Be})},le=(de,me)=>{const ve=parseFloat(me);if(isNaN(ve)||ve<0||ve>100)return null;const Me=de*(1-ve/100);return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Me)},ae=l.filter(de=>de.name.toLowerCase().includes(B.toLowerCase())),ue=u.filter(de=>de.name.toLowerCase().includes(L.toLowerCase())),he=()=>{c(!0)},pe=()=>{c(!1),i(null)},Ae=de=>new Promise((me,ve)=>{const Me=new FileReader;Me.onload=()=>{const Be=Me.result.split(",")[1];me(Be)},Me.onerror=Be=>ve(Be),Me.readAsDataURL(de)}),ie=async()=>{try{if(!e.promotionName)throw new Error("Tên khuyến mãi là bắt buộc");if(!e.startDate)throw new Error("Thời gian bắt đầu là bắt buộc");if(!e.endDate)throw new Error("Thời gian kết thúc là bắt buộc");if(e.applyToAll&&!e.discountPercentage)throw new Error("Phần trăm giảm giá là bắt buộc khi áp dụng cho tất cả sản phẩm");const de=await Promise.all(e.promotionImages.filter(Be=>Be instanceof File).map(async Be=>await Ae(Be))),me={Id:n,TenKhuyenMai:e.promotionName,BatDau:e.startDate?new Date(e.startDate).toISOString().split("T")[0]:null,KetThuc:e.endDate?new Date(e.endDate).toISOString().split("T")[0]:null,PercentChung:e.applyToAll&&parseInt(e.discountPercentage)||null,Pictures:de.length>0?de:e.promotionImages,All:e.applyToAll,MoTa:a,ChiTiet:e.applyToAll?null:[...h.map(Be=>({IdSanPham:Be.id,IdCombo:null,TenSanPhamCombo:Be.name,GiaMoi:p[Be.id]?Be.originalPrice*(1-parseFloat(p[Be.id])/100):null,Percent:parseInt(p[Be.id])||null,GiaGoc:Be.originalPrice})),...A.map(Be=>({IdSanPham:null,IdCombo:Be.id,TenSanPhamCombo:Be.name,GiaMoi:x[Be.id]?Be.originalPrice*(1-parseFloat(x[Be.id])/100):null,Percent:parseInt(x[Be.id])||null,GiaGoc:Be.originalPrice}))]},ve=await fetch("https://bicacuatho.azurewebsites.net/api/KhuyenMai/KhuyenMaiUpdate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(me)});if(!ve.ok){const Be=await ve.json();Ce.fire({title:"Thất bại!",text:"Cập nhật thông tin khuyến mãi thất bại!",icon:"error",timer:2e3,timerProgressBar:!0,showConfirmButton:!1})}const Me=await ve.json();localStorage.removeItem("promotionDescription"),Ce.fire({title:"Thành công!",text:"Cập nhật thông tin khuyến mãi thành công!",icon:"success",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}),t()}catch(de){console.error("Error updating promotion:",de),Ce.fire({title:"Thất bại!",text:"Đã xảy ra lỗi"+de.message,icon:"success",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}),alert("Lỗi khi cập nhật khuyến mãi: "+de.message)}};return Q?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):H?r.jsx("div",{className:"text-red-500 text-center",children:H}):r.jsxs("div",{className:"max-w-7xl mx-auto p-6 bg-white",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Chỉnh Sửa Khuyến Mãi"}),r.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Thông Tin Khuyến Mãi"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên Khuyến Mãi *"}),r.jsx("input",{type:"text",value:e.promotionName,onChange:de=>G("promotionName",de.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nhập tên khuyến mãi"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thời Gian Bắt Đầu *"}),r.jsx("input",{type:"datetime-local",value:e.startDate,onChange:de=>G("startDate",de.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thời Gian Kết Thúc *"}),r.jsx("input",{type:"datetime-local",value:e.endDate,onChange:de=>G("endDate",de.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{className:"mb-4",hidden:!0,children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hình Ảnh Khuyến Mãi"}),r.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-6 text-center transition-colors ${w?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:J,onDragLeave:J,onDragOver:J,onDrop:te,children:[r.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:K,className:"hidden",id:"image-upload"}),e.promotionImages.length>0?r.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:e.promotionImages.map((de,me)=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:de instanceof File?URL.createObjectURL(de):`data:image/jpeg;base64,${de}`,alt:`promotion-image-${me}`,className:"w-24 h-24 object-cover rounded-md"}),r.jsx("button",{onClick:()=>ne(me),className:"absolute top-0 right-0 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:r.jsx(st,{className:"w-4 h-4"})})]},me))}):r.jsxs("div",{className:"space-y-2",children:[r.jsx(Lr,{className:"w-8 h-8 mx-auto text-gray-400"}),r.jsxs("div",{className:"text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Kéo thả hình ảnh vào đây"})," hoặc"," ",r.jsx("label",{htmlFor:"image-upload",className:"text-blue-500 cursor-pointer hover:text-blue-600",children:"chọn file"})]}),r.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG, GIF tối đa 10MB (Có thể chọn nhiều hình)"})]}),e.promotionImages.length>0&&r.jsxs("label",{htmlFor:"image-upload",className:"block mt-4 inline-flex items-center px-4 py-2 bg-blue-500 text-white rounded-md cursor-pointer hover:bg-blue-600",children:[r.jsx(cr,{className:"w-4 h-4 mr-2"})," Thêm hình ảnh"]})]})]}),r.jsx("div",{className:"mb-4",children:r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:e.applyToAll,onChange:de=>G("applyToAll",de.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Khuyến mãi cho tất cả sản phẩm"})]})}),e.applyToAll&&r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"% Khuyến Mãi Cho Tất Cả *"}),r.jsxs("div",{className:"relative w-48",children:[r.jsx("input",{type:"number",min:"0",max:"100",value:e.discountPercentage,onChange:de=>G("discountPercentage",de.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"}),r.jsx("span",{className:"absolute right-3 top-2 text-gray-500",children:"%"})]})]})]}),!e.applyToAll&&r.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Sản Phẩm"}),r.jsxs("div",{className:"relative mb-4",children:[r.jsx(Rn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Tìm kiếm sản phẩm...",value:B,onChange:de=>{D(de.target.value),_(de.target.value.length>0)},onBlur:()=>setTimeout(()=>_(!1),200),onFocus:()=>_(B.length>0),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),j?r.jsx("p",{className:"text-gray-500 text-center py-4",children:"Đang tải sản phẩm..."}):U?r.jsxs("p",{className:"text-red-500 text-center py-4",children:["Lỗi: ",U]}):F&&ae.length>0?r.jsx("div",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-40 overflow-y-auto shadow-lg",children:ae.map(de=>r.jsxs("div",{onClick:()=>ce(de),className:"px-4 py-2 hover:bg-gray-100 cursor-pointer flex items-center space-x-2",children:[r.jsx("img",{src:`data:image/jpeg;base64,${de.image}`,alt:de.name,className:"w-6 h-6 rounded-md object-cover"}),r.jsx("span",{className:"text-sm",children:de.name})]},de.id))}):F&&r.jsx("p",{className:"text-gray-500 text-center py-4",children:"Không tìm thấy sản phẩm"})]}),r.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:h.length===0?r.jsx("p",{className:"text-gray-500 text-center py-8 text-sm",children:"Chưa có sản phẩm nào được chọn"}):h.map(de=>r.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[r.jsx("img",{src:`data:image/jpeg;base64,${de.image}`,alt:de.name,className:"w-10 h-10 rounded-md object-cover mr-3 flex-shrink-0"}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h4",{className:"font-medium text-gray-900 truncate text-sm",children:de.name}),r.jsxs("p",{className:"text-xs text-gray-600",children:["Giá gốc: ",r.jsx("span",{className:p[de.id]&&!y[de.id]?"line-through":"",children:de.price}),p[de.id]&&!y[de.id]&&r.jsx("span",{className:"ml-2 text-blue-600",children:le(de.originalPrice,p[de.id])})]})]})]}),r.jsx("button",{onClick:()=>oe(de.id),className:"p-1 text-red-500 hover:bg-red-50 rounded flex-shrink-0",children:r.jsx(st,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Giảm giá:"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",min:"0",max:"100",value:p[de.id]||"",onChange:me=>ee(de.id,me.target.value),onBlur:()=>W(de.id,p[de.id]),onKeyPress:me=>{me.key==="Enter"&&W(de.id,p[de.id])},className:`w-16 px-2 py-1 pr-6 border ${y[de.id]?"border-red-500":"border-gray-300"} rounded focus:outline-none focus:ring-1 focus:ring-blue-500 text-sm`,placeholder:"0"}),r.jsx("span",{className:"absolute right-2 top-1 text-gray-500 text-xs",children:"%"})]})]}),y[de.id]&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:y[de.id]})]},de.id))})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Combo"}),r.jsxs("div",{className:"relative mb-4",children:[r.jsx(Rn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Tìm kiếm combo...",value:L,onChange:de=>{O(de.target.value),T(de.target.value.length>0)},onBlur:()=>setTimeout(()=>T(!1),200),onFocus:()=>T(L.length>0),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),I?r.jsx("p",{className:"text-gray-500 text-center py-4",children:"Đang tải combo..."}):z?r.jsxs("p",{className:"text-red-500 text-center py-4",children:["Lỗi: ",z]}):E&&ue.length>0?r.jsx("div",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-40 overflow-y-auto shadow-lg",children:ue.map(de=>r.jsxs("div",{onClick:()=>Y(de),className:"px-4 py-2 hover:bg-gray-100 cursor-pointer flex items-center space-x-2",children:[r.jsx("img",{src:`data:image/jpeg;base64,${de.image}`,alt:de.name,className:"w-6 h-6 rounded-md object-cover"}),r.jsx("span",{className:"text-sm",children:de.name})]},de.id))}):E&&r.jsx("p",{className:"text-gray-500 text-center py-4",children:"Không tìm thấy combo"})]}),r.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:A.length===0?r.jsx("p",{className:"text-gray-500 text-center py-8 text-sm",children:"Chưa có combo nào được chọn"}):A.map(de=>r.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[r.jsx("img",{src:`data:image/jpeg;base64,${de.image}`,alt:de.name,className:"w-10 h-10 rounded-md object-cover mr-3 flex-shrink-0"}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h4",{className:"font-medium text-gray-900 truncate text-sm",children:de.name}),r.jsxs("p",{className:"text-xs text-gray-600",children:["Giá gốc: ",r.jsx("span",{className:x[de.id]&&!M[de.id]?"line-through":"",children:de.price}),x[de.id]&&!M[de.id]&&r.jsx("span",{className:"ml-2 text-blue-600",children:le(de.originalPrice,x[de.id])})]})]})]}),r.jsx("button",{onClick:()=>Z(de.id),className:"p-1 text-red-500 hover:bg-red-50 rounded flex-shrink-0",children:r.jsx(st,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Giảm giá:"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",min:"0",max:"100",value:x[de.id]||"",onChange:me=>se(de.id,me.target.value),onBlur:()=>re(de.id,x[de.id]),onKeyPress:me=>{me.key==="Enter"&&re(de.id,x[de.id])},className:`w-16 px-2 py-1 pr-6 border ${M[de.id]?"border-red-500":"border-gray-300"} rounded focus:outline-none focus:ring-1 focus:ring-blue-500 text-sm`,placeholder:"0"}),r.jsx("span",{className:"absolute right-2 top-1 text-gray-500 text-xs",children:"%"})]})]}),M[de.id]&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:M[de.id]})]},de.id))})]})]}),o&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-7xl max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Chỉnh Sửa Mô Tả"}),r.jsx("button",{onClick:pe,className:"p-1 text-gray-500 hover:text-gray-700",children:r.jsx(st,{className:"w-6 h-6"})})]}),r.jsx(cBe,{promotionId:n,initialData:a,onSave:de=>{i(de),c(!1)},onCancel:pe})]})}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("button",{onClick:he,className:"flex items-center px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors",children:[r.jsx(R2,{className:"w-4 h-4 mr-2"}),"Chỉnh Sửa Mô Tả"]}),r.jsxs("div",{className:"space-x-3",children:[r.jsx("button",{className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",onClick:t,children:"Hủy"}),r.jsx("button",{className:"px-6 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",onClick:ie,children:"Cập Nhật Khuyến Mãi"})]})]})]})},uBe=({promotion:n,onClose:t})=>{var B,D,L,O,F,_;const[e,s]=k.useState(0),[a,i]=k.useState(!1),[o,c]=k.useState(0),[l,d]=k.useState(!1),[u,f]=k.useState("overview"),h=E=>new Date(E).toLocaleDateString("vi-VN",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),m=(E,T)=>{const w=new Date,C=new Date(E),j=new Date(T);return w<C?{status:"upcoming",label:"Sắp diễn ra",color:"bg-blue-100 text-blue-800 border-blue-200",icon:Uo,bgGradient:"from-blue-500 to-blue-600"}:w>j?{status:"expired",label:"Đã kết thúc",color:"bg-gray-100 text-gray-800 border-gray-200",icon:Go,bgGradient:"from-gray-500 to-gray-600"}:{status:"active",label:"Đang diễn ra",color:"bg-green-100 text-green-800 border-green-200",icon:ja,bgGradient:"from-green-500 to-green-600"}},A=E=>{const T=new Date,C=new Date(E)-T;return Math.ceil(C/(1e3*60*60*24))},g=E=>E.percentChung!==null&&E.percentChung!==void 0?E.percentChung:!E.danhSachKhuyenMai||E.danhSachKhuyenMai.length===0?0:Math.max(...E.danhSachKhuyenMai.map(T=>T.percent)),p=E=>E.percentChung!==null&&E.percentChung!==void 0,b=E=>{if(!(n!=null&&n.hinhAnh))return;const T=n.hinhAnh.length-1;let w=e+E;w<0&&(w=T),w>T&&(w=0),s(w)},x=()=>{t&&t()};if(!n)return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50 flex items-center justify-center",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full mx-4 text-center",children:[r.jsx(ir,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Không tìm thấy khuyến mãi"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Khuyến mãi có thể đã bị xóa hoặc không tồn tại"}),r.jsx("button",{onClick:x,className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:"Quay lại danh sách"})]})});const v=m(n.ngayBatDau,n.ngayKetThuc),y=A(n.ngayKetThuc),S=g(n),M=v.icon,P=[{key:"overview",label:"Tổng quan",icon:H2},{key:"products",label:"Sản phẩm",icon:ir},{key:"details",label:"Chi tiết",icon:pr}];return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50",children:[r.jsx("div",{className:"bg-white shadow-lg sticky top-0 z-40",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"flex items-center justify-between h-16",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{onClick:x,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:r.jsx(eh,{className:"h-5 w-5 text-gray-600"})}),r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Chi tiết khuyến mãi"}),r.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${v.color}`,children:[r.jsx(M,{className:"h-4 w-4 inline mr-1"}),v.label]})]})})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden mb-8",children:[r.jsxs("div",{className:"relative",children:[n.hinhAnh&&n.hinhAnh.length>0&&r.jsxs("div",{className:"relative h-96 overflow-hidden",children:[r.jsx("img",{src:`data:image/jpeg;base64,${n.hinhAnh[e]}`,alt:n.tenKhuyenMai,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),n.hinhAnh.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>b(-1),className:"absolute left-4 top-1/2 transform -translate-y-1/2 p-3 bg-black/30 text-white rounded-full hover:bg-black/50 transition-colors backdrop-blur-sm",children:r.jsx(zr,{className:"h-6 w-6"})}),r.jsx("button",{onClick:()=>b(1),className:"absolute right-4 top-1/2 transform -translate-y-1/2 p-3 bg-black/30 text-white rounded-full hover:bg-black/50 transition-colors backdrop-blur-sm",children:r.jsx(xr,{className:"h-6 w-6"})}),r.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",children:n.hinhAnh.map((E,T)=>r.jsx("button",{onClick:()=>s(T),className:`w-3 h-3 rounded-full transition-colors ${T===e?"bg-white":"bg-white/50"}`},T))})]}),S>0&&r.jsx("div",{className:"absolute top-6 right-6 bg-gradient-to-r from-red-500 to-pink-500 text-white px-6 py-4 rounded-2xl shadow-lg transform rotate-3",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-3xl font-bold",children:["-",S,"%"]}),r.jsx("div",{className:"text-sm font-medium",children:p(n)?"Toàn bộ":"Tối đa"})]})}),r.jsx("div",{className:"absolute top-6 left-6",children:r.jsx("div",{className:`px-4 py-2 rounded-xl backdrop-blur-md border ${v.color} bg-white/20`,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(M,{className:"h-5 w-5"}),r.jsx("span",{className:"font-semibold",children:v.label})]})})})]}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8",children:r.jsxs("div",{className:"text-white",children:[r.jsx("h1",{className:"text-4xl font-bold mb-4 drop-shadow-lg",children:n.tenKhuyenMai}),((D=(B=n.moTa)==null?void 0:B.header)==null?void 0:D.title)&&r.jsx("p",{className:"text-xl text-white/90 drop-shadow mb-6",children:n.moTa.header.title}),r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsxs("div",{className:"flex items-center space-x-2 bg-black/30 px-4 py-2 rounded-lg backdrop-blur-sm",children:[r.jsx($r,{className:"h-5 w-5"}),r.jsxs("span",{className:"font-medium",children:[h(n.ngayBatDau)," - ",h(n.ngayKetThuc)]})]}),r.jsxs("div",{className:"flex items-center space-x-2 bg-black/30 px-4 py-2 rounded-lg backdrop-blur-sm",children:[r.jsx(Uo,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium",children:v.status==="expired"?`Đã kết thúc ${Math.abs(y)} ngày trước`:`${Math.abs(y)} ngày ${v.status==="active"?"còn lại":"nữa bắt đầu"}`})]})]})]})})]}),r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"flex space-x-8 px-8",children:P.map(E=>{const T=E.icon,w=u===E.key;return r.jsxs("button",{onClick:()=>f(E.key),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${w?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(T,{className:"h-4 w-4"}),r.jsx("span",{children:E.label})]},E.key)})})})]}),u==="overview"&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Thông tin tổng quan"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl",children:[r.jsx(sx,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),r.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[S,"%"]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Giảm giá tối đa"})]}),r.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl",children:[r.jsx(ir,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:p(n)?"Tất cả":((L=n.danhSachKhuyenMai)==null?void 0:L.length)||0}),r.jsx("div",{className:"text-sm text-gray-600",children:"Sản phẩm"})]}),r.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-xl",children:[r.jsx(Uo,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold text-green-600",children:Math.abs(y)}),r.jsx("div",{className:"text-sm text-gray-600",children:v.status==="expired"?"Ngày đã qua":"Ngày còn lại"})]}),r.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl",children:[r.jsx(Ir,{className:"h-8 w-8 text-orange-600 mx-auto mb-2"}),r.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:["#",n.id]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Mã khuyến mãi"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Loại khuyến mãi"}),r.jsx("div",{className:`p-6 rounded-xl border-2 ${p(n)?"bg-orange-50 border-orange-200":"bg-teal-50 border-teal-200"}`,children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:`p-3 rounded-xl ${p(n)?"bg-orange-100":"bg-teal-100"}`,children:r.jsx(Ea,{className:`h-8 w-8 ${p(n)?"text-orange-600":"text-teal-600"}`})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:`text-xl font-bold ${p(n)?"text-orange-800":"text-teal-800"}`,children:p(n)?"Giảm giá toàn bộ sản phẩm":"Giảm giá theo sản phẩm"}),r.jsx("p",{className:`${p(n)?"text-orange-700":"text-teal-700"} mt-2`,children:p(n)?`Tất cả sản phẩm và combo trong cửa hàng được giảm giá ${n.percentChung}%`:`Chỉ áp dụng cho ${((O=n.danhSachKhuyenMai)==null?void 0:O.length)||0} sản phẩm và combo được chọn`})]})]})})]})]}),r.jsx("div",{className:"space-y-8",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Thời gian khuyến mãi"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(zH,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-900",children:"Bắt đầu"}),r.jsx("div",{className:"text-gray-600",children:h(n.ngayBatDau)})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:r.jsx(RH,{className:"h-5 w-5 text-red-600"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-900",children:"Kết thúc"}),r.jsx("div",{className:"text-gray-600",children:h(n.ngayKetThuc)})]})]})]})]})})]}),u==="products"&&r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Sản phẩm khuyến mãi"}),p(n)?r.jsx("div",{className:"text-center py-12",children:r.jsxs("div",{className:"p-6 bg-orange-50 rounded-2xl border-2 border-orange-200 max-w-md mx-auto",children:[r.jsx(Ea,{className:"h-16 w-16 text-orange-600 mx-auto mb-4"}),r.jsx("h4",{className:"text-2xl font-bold text-orange-800 mb-2",children:"Áp dụng toàn bộ"}),r.jsxs("p",{className:"text-orange-700",children:["Tất cả sản phẩm và combo trong cửa hàng được giảm giá ",n.percentChung,"%"]})]})}):r.jsx(r.Fragment,{children:n.danhSachKhuyenMai&&n.danhSachKhuyenMai.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.danhSachKhuyenMai.map((E,T)=>{var w,C,j;return r.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 hover:shadow-lg transition-shadow",children:[(w=E.hinhAnh)!=null&&w[0]?r.jsx("img",{src:`data:image/jpeg;base64,${E.hinhAnh[0]}`,alt:E.tenSanPhamCombo,className:"w-full h-48 object-cover rounded-xl mb-4"}):r.jsx("div",{className:"w-full h-48 bg-gray-200 rounded-xl mb-4 flex items-center justify-center",children:r.jsx(Du,{className:"h-12 w-12 text-gray-400"})}),r.jsx("h4",{className:"font-bold text-gray-900 mb-2 line-clamp-2",children:E.tenSanPhamCombo}),r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${E.idCombo?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:E.idCombo?"Combo":"Sản phẩm"}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-sm text-gray-500 line-through",children:[(C=E.giaGoc)==null?void 0:C.toLocaleString(),"đ"]}),r.jsxs("div",{className:"font-bold text-green-600",children:[(j=E.giaMoi)==null?void 0:j.toLocaleString(),"đ"]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"bg-red-100 text-red-800 px-3 py-1 rounded-full",children:[r.jsx(B$,{className:"h-4 w-4 inline mr-1"}),"-",E.percent,"%"]}),r.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",E.idSanPham||E.idCombo]})]})]},T)})}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ir,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),r.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Chưa có sản phẩm"}),r.jsx("p",{className:"text-gray-600",children:"Khuyến mãi này chưa có sản phẩm nào được áp dụng"})]})})]}),u==="details"&&r.jsxs("div",{className:"space-y-8",children:[n.moTa&&r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Thông tin chi tiết"}),((F=n.moTa.header)==null?void 0:F.title)&&r.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border border-purple-200",children:[r.jsx("h4",{className:"text-lg font-semibold text-purple-800 mb-3",children:"Mô tả chính"}),r.jsx("p",{className:"text-purple-700 text-lg",children:n.moTa.header.title})]}),n.moTa.Picture&&n.moTa.Picture.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Hình ảnh bổ sung"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.moTa.Picture.map((E,T)=>r.jsxs("div",{className:"relative group rounded-xl overflow-hidden",children:[r.jsx("img",{src:`data:image/jpeg;base64,${E.url}`,alt:`Hình ảnh ${T+1}`,className:"w-full h-64 object-cover transition-transform group-hover:scale-105"}),r.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:r.jsx(y6,{className:"h-6 w-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},T))})]}),n.moTa.title&&n.moTa.title.length>0&&r.jsxs("div",{className:"space-y-8",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Nội dung chi tiết"}),n.moTa.title.map((E,T)=>{var w;return r.jsxs("div",{className:"border-l-4 border-purple-500 pl-6 py-4 bg-gray-50 rounded-r-xl",children:[r.jsx("h5",{className:"text-xl font-bold text-gray-900 mb-4",children:E.name}),((w=E.picture)==null?void 0:w.url)&&r.jsx("div",{className:"mb-6",children:r.jsx("img",{src:`data:image/jpeg;base64,${E.picture.url}`,alt:E.name,className:"w-full max-w-md h-48 object-cover rounded-xl shadow-md"})}),E.subtitle&&E.subtitle.length>0&&r.jsx("div",{className:"space-y-6",children:E.subtitle.map((C,j)=>{var N,I;return r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[r.jsx("h6",{className:"text-lg font-semibold text-gray-800 mb-3",children:C.name}),((N=C.picture)==null?void 0:N.url)&&r.jsx("div",{className:"mb-4",children:r.jsx("img",{src:`data:image/jpeg;base64,${C.picture.url}`,alt:C.name,className:"w-full max-w-sm h-40 object-cover rounded-lg"})}),((I=C.description)==null?void 0:I.content)&&r.jsx("div",{className:"prose prose-gray max-w-none",children:r.jsx("p",{className:"text-gray-700 leading-relaxed",children:C.description.content})})]},j)})})]},T)})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Thông tin kỹ thuật"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"ID Khuyến mãi"}),r.jsxs("span",{className:"font-mono text-purple-600",children:["#",n.id]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Loại khuyến mãi"}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${p(n)?"bg-orange-100 text-orange-800":"bg-teal-100 text-teal-800"}`,children:p(n)?"Toàn bộ":"Đơn lẻ"})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Trạng thái"}),r.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${v.color}`,children:[r.jsx(M,{className:"h-4 w-4 inline mr-1"}),v.label]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Số sản phẩm"}),r.jsx("span",{className:"font-semibold text-blue-600",children:p(n)?"Tất cả":((_=n.danhSachKhuyenMai)==null?void 0:_.length)||0})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Giảm giá tối đa"}),r.jsxs("span",{className:"font-semibold text-red-600",children:[S,"%"]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Thời gian diễn ra"}),r.jsxs("span",{className:"font-semibold text-green-600",children:[Math.ceil((new Date(n.ngayKetThuc)-new Date(n.ngayBatDau))/(1e3*60*60*24))," ngày"]})]})]})]})]})]}),r.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-8 right-8 p-3 bg-purple-600 text-white rounded-full shadow-lg hover:bg-purple-700 transition-colors z-30",children:r.jsx($o,{className:"h-5 w-5"})})]})]})},j_=()=>{var ce,oe;const[n,t]=k.useState([]),[e,s]=k.useState(!0),[a,i]=k.useState(null),[o,c]=k.useState(""),[l,d]=k.useState("active"),[u,f]=k.useState(1),[h,m]=k.useState("all"),[A,g]=k.useState(!1),[p,b]=k.useState({}),[x,v]=k.useState(!1),[y,S]=k.useState(!1),[M,P]=k.useState(!1),[B,D]=k.useState(null),[L,O]=k.useState(null),F=6,_=async()=>{try{i(null);const ee=await fetch("https://bicacuatho.azurewebsites.net/api/KhuyenMai/ListKhuyenMaiAdmin");if(!ee.ok)throw new Error(`HTTP error! status: ${ee.status}`);const W=await ee.json();t(W);const Y={};W.forEach(Z=>{Y[Z.id]=0}),b(Y)}catch(ee){i(ee.message),console.error("Error fetching data:",ee)}finally{s(!1),g(!1)}};k.useEffect(()=>{_()},[]),k.useEffect(()=>{f(1)},[l,h,o]);const E=()=>{g(!0),_()},T=ee=>new Date(ee).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),w=ee=>{if(!ee.trangThai)return{status:"disabled",label:"Đã bị vô hiệu",color:"bg-red-100 text-red-800"};const W=new Date,Y=new Date(ee.ngayBatDau),Z=new Date(ee.ngayKetThuc);return W<Y?{status:"upcoming",label:"Sắp diễn ra",color:"bg-blue-100 text-blue-800"}:W>Z?{status:"expired",label:"Đã kết thúc",color:"bg-gray-100 text-gray-800"}:{status:"active",label:"Đang diễn ra",color:"bg-green-100 text-green-800"}},C=ee=>{const W=new Date,Z=new Date(ee)-W;return Math.ceil(Z/(1e3*60*60*24))},j=ee=>ee.percentChung!==null&&ee.percentChung!==void 0?ee.percentChung:!ee.danhSachKhuyenMai||ee.danhSachKhuyenMai.length===0?0:Math.max(...ee.danhSachKhuyenMai.map(W=>W.percent)),N=ee=>ee.percentChung!==null&&ee.percentChung!==void 0?"Giảm giá toàn bộ sản phẩm":"Giảm giá theo sản phẩm",I=ee=>ee.percentChung!==null&&ee.percentChung!==void 0,R=(ee,W)=>{b(Y=>{var le;const Z=((le=n.find(ae=>ae.id===ee))==null?void 0:le.danhSachKhuyenMai)||[],se=Math.ceil(Z.length/3);let re=Y[ee]+W;return re<0&&(re=0),re>=se&&(re=se-1),{...Y,[ee]:re}})},U=ee=>n.filter(W=>!(w(W).status!==ee||!W.tenKhuyenMai.toLowerCase().includes(o.toLowerCase())||h==="general"&&!I(W)||h==="specific"&&I(W))).sort((W,Y)=>{const Z=j(W);return j(Y)-Z}),V=ee=>{const W=(u-1)*F,Y=W+F;return ee.slice(W,Y)},z=ee=>Math.ceil(ee/F),X=ee=>{f(ee),window.scrollTo({top:0,behavior:"smooth"})},Q=[{key:"active",label:"Đang diễn ra",icon:ja,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-500",activeTabBg:"bg-green-500",count:U("active").length},{key:"upcoming",label:"Sắp diễn ra",icon:Uo,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-500",activeTabBg:"bg-blue-500",count:U("upcoming").length},{key:"expired",label:"Đã kết thúc",icon:Go,color:"text-gray-600",bgColor:"bg-gray-50",borderColor:"border-gray-500",activeTabBg:"bg-gray-500",count:U("expired").length},{key:"disabled",label:"Đã bị vô hiệu",icon:Ma,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-500",activeTabBg:"bg-red-500",count:U("disabled").length}],q=U(l),H=V(q),$=z(q.length),G=()=>{v(!x)},J=ee=>{D(ee),S(!y)},te=ee=>{O(ee),P(!M)},K=async(ee,W)=>{const Y=W;if((await Ce.fire({title:"Bạn có chắc chắn?",text:Y?"Bạn muốn vô hiệu hóa khuyến mãi này?":"Bạn muốn kích hoạt lại khuyến mãi này?",icon:"warning",showCancelButton:!0,confirmButtonColor:Y?"#d33":"#3085d6",cancelButtonColor:"#6b7280",confirmButtonText:Y?"Vâng, vô hiệu hóa!":"Vâng, kích hoạt lại!",cancelButtonText:"Hủy"})).isConfirmed)try{const se=await fetch(`https://bicacuatho.azurewebsites.net/api/KhuyenMai/DisableKhuyenMai?id=${ee}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!se.ok)throw new Error(`HTTP error! status: ${se.status}`);await _(),Ce.fire("Thành công!",Y?"Khuyến mãi đã được vô hiệu hóa.":"Khuyến mãi đã được kích hoạt lại.","success")}catch(se){i(se.message),console.error(`Error ${Y?"disabling":"enabling"} promotion:`,se),Ce.fire("Lỗi!",`Có lỗi xảy ra khi ${Y?"vô hiệu hóa":"kích hoạt lại"} khuyến mãi.`,"error")}},ne=({currentPage:ee,totalPages:W,onPageChange:Y})=>{if(W<=1)return null;const Z=()=>{const re=[],le=[];for(let ae=Math.max(2,ee-2);ae<=Math.min(W-1,ee+2);ae++)re.push(ae);return ee-2>2?le.push(1,"..."):le.push(1),le.push(...re),ee+2<W-1?le.push("...",W):le.push(W),le};return r.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-8",children:[r.jsx("button",{onClick:()=>Y(ee-1),disabled:ee===1,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(zr,{className:"h-4 w-4"})}),Z().map((se,re)=>r.jsx("button",{onClick:()=>typeof se=="number"&&Y(se),disabled:se==="...",className:`px-3 py-2 rounded-lg ${se===ee?"bg-purple-600 text-white":se==="..."?"cursor-default text-gray-400":"border border-gray-300 hover:bg-gray-50"}`,children:se},re)),r.jsx("button",{onClick:()=>Y(ee+1),disabled:ee===W,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(xr,{className:"h-4 w-4"})})]})};return e?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 flex items-center justify-center",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"}),r.jsx("p",{className:"text-gray-600",children:"Đang tải danh sách khuyến mãi..."})]})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50",children:[r.jsx("div",{className:"bg-white shadow-lg",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Quản lý khuyến mãi"}),r.jsx("button",{onClick:E,disabled:A,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors disabled:opacity-50",children:r.jsx(Io,{className:`h-5 w-5 text-gray-600 ${A?"animate-spin":""}`})})]}),r.jsxs("button",{onClick:G,className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2",children:[r.jsx(cr,{className:"h-4 w-4"}),r.jsx("span",{children:"Tạo khuyến mãi mới"})]})]})})}),x&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-7xl w-full max-h-[90vh] overflow-y-auto relative",children:[r.jsx("button",{onClick:G,className:"absolute top-4 right-4 p-2 text-gray-600 hover:bg-gray-100 rounded-full",children:r.jsx(st,{className:"h-6 w-6"})}),r.jsx(lBe,{})]})}),y&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-7xl w-full max-h-[90vh] overflow-y-auto relative",children:[r.jsx("button",{onClick:()=>J(null),className:"absolute top-4 right-4 p-2 text-gray-600 hover:bg-gray-100 rounded-full",children:r.jsx(st,{className:"h-6 w-6"})}),r.jsx(dBe,{promotionId:B,onClose:()=>J(null)})]})}),M&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-7xl w-full max-h-[90vh] overflow-y-auto relative",children:[r.jsx("button",{onClick:()=>te(null),className:"absolute top-4 right-4 p-2 text-gray-600 hover:bg-gray-100 rounded-full",children:r.jsx(st,{className:"h-6 w-6"})}),r.jsx(uBe,{promotion:L,onClose:()=>te(null)})]})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:n.length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Tổng số khuyến mãi"})]}),Q.map(ee=>{const W=ee.icon;return r.jsxs("div",{className:`text-center p-4 ${ee.bgColor} rounded-lg`,children:[r.jsx("div",{className:`text-2xl font-bold ${ee.color}`,children:ee.count}),r.jsxs("div",{className:"text-sm text-gray-600 flex items-center justify-center space-x-1",children:[r.jsx(W,{className:"h-4 w-4"}),r.jsx("span",{children:ee.label})]})]},ee.key)})]})}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Rn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Tìm kiếm khuyến mãi...",value:o,onChange:ee=>c(ee.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(sd,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Loại giảm giá:"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>m("all"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${h==="all"?"bg-purple-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Tất cả"}),r.jsx("button",{onClick:()=>m("general"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${h==="general"?"bg-orange-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Toàn bộ"}),r.jsx("button",{onClick:()=>m("specific"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${h==="specific"?"bg-teal-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Đơn lẻ"})]})]})]}),(o||h!=="all")&&r.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Đang lọc:"}),o&&r.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:['Tìm kiếm: "',o,'"']}),h!=="all"&&r.jsxs("span",{className:`px-2 py-1 rounded-full text-sm ${h==="general"?"bg-orange-100 text-orange-800":"bg-teal-100 text-teal-800"}`,children:["Loại: ",h==="general"?"Toàn bộ":"Đơn lẻ"]}),r.jsx("button",{onClick:()=>{c(""),m("all")},className:"text-sm text-gray-500 hover:text-gray-700 underline",children:"Xóa bộ lọc"})]})})]}),a&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-8",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-red-800",children:[r.jsx(_U,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium",children:"Lỗi tải dữ liệu:"})]}),r.jsx("p",{className:"text-red-700 mt-1",children:a}),r.jsx("button",{onClick:E,className:"mt-3 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Thử lại"})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg mb-8",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"flex space-x-8 px-6",children:Q.map(ee=>{const W=ee.icon,Y=l===ee.key;return r.jsxs("button",{onClick:()=>d(ee.key),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${Y?`${ee.borderColor} ${ee.color}`:"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(W,{className:"h-4 w-4"}),r.jsx("span",{children:ee.label}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y?`${ee.activeTabBg} text-white`:"bg-gray-100 text-gray-600"}`,children:ee.count})]},ee.key)})})}),r.jsxs("div",{className:"p-6",children:[q.length>0&&r.jsx("div",{className:"flex items-center justify-between mb-6",children:$>1&&r.jsxs("div",{className:"text-sm text-gray-600",children:["Trang ",u," / ",$]})}),H.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ir,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:o||h!=="all"?"Không tìm thấy khuyến mãi":`Chưa có khuyến mãi ${(ce=Q.find(ee=>ee.key===l))==null?void 0:ce.label.toLowerCase()}`}),r.jsx("p",{className:"text-gray-600 mb-6",children:o||h!=="all"?"Thử thay đổi từ khóa tìm kiếm hoặc bộ lọc":`Chưa có chương trình khuyến mãi nào ${(oe=Q.find(ee=>ee.key===l))==null?void 0:oe.label.toLowerCase()}`}),!o&&h==="all"&&l==="active"&&r.jsxs("button",{onClick:G,className:"bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2 mx-auto",children:[r.jsx(cr,{className:"h-4 w-4"}),r.jsx("span",{children:"Tạo khuyến mãi mới"})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:H.map(ee=>{var ue,he,pe,Ae;const W=w(ee),Y=C(ee.ngayKetThuc),Z=j(ee),se=N(ee),re=ee.percentChung?"Tất cả":((ue=ee.danhSachKhuyenMai)==null?void 0:ue.length)||0,le=p[ee.id]||0,ae=((he=ee.danhSachKhuyenMai)==null?void 0:he.slice(le*3,(le+1)*3))||[];return r.jsx("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-shadow overflow-hidden border-l-4 border-purple-500 flex flex-col",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",ee.id]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>te(ee),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:r.jsx(pr,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>J(ee.id),className:"p-2 text-yellow-600 hover:bg-yellow-50 rounded-lg transition-colors",children:r.jsx(Xf,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>K(ee.id,ee.trangThai),className:`p-2 ${ee.trangThai?"text-red-600 hover:bg-red-50":"text-green-600 hover:bg-green-50"} rounded-lg transition-colors`,children:ee.trangThai?r.jsx(Ma,{className:"h-4 w-4"}):r.jsx(Io,{className:"h-4 w-4"})})]})]}),ee.hinhAnh&&r.jsxs("div",{className:"relative h-64 overflow-hidden",children:[r.jsx("img",{src:`data:image/jpeg;base64,${ee.hinhAnh[0]}`,alt:ee.tenKhuyenMai,className:"w-full max-h-80 object-cover",onError:ie=>{ie.target.style.display="none"}}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent max-h-80"}),Z>0&&r.jsxs("div",{className:"absolute top-4 right-4 bg-red-500 text-white px-4 py-2 rounded-lg text-center shadow-lg",children:[r.jsxs("div",{className:"text-xl font-bold",children:["-",Z,"%"]}),r.jsx("div",{className:"text-xs",children:ee.percentChung!==null?"Toàn bộ":"Tối đa"})]}),r.jsx("div",{className:"absolute top-4 left-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium backdrop-blur-sm ${W.color} bg-opacity-90`,children:W.label})})]}),r.jsxs("div",{className:"flex items-start justify-between mt-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:ee.tenKhuyenMai}),!ee.hinhAnh&&r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${W.color}`,children:W.label})]}),((Ae=(pe=ee.moTa)==null?void 0:pe.header)==null?void 0:Ae.title)&&r.jsx("p",{className:"text-gray-600 mb-3",children:ee.moTa.header.title}),r.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[r.jsx(sx,{className:"h-4 w-4 text-purple-600"}),r.jsx("span",{className:"text-sm font-medium text-purple-600",children:se}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${I(ee)?"bg-orange-100 text-orange-800":"bg-teal-100 text-teal-800"}`,children:I(ee)?"Toàn bộ":"Đơn lẻ"})]})]}),!ee.hinhAnh&&Z>0&&r.jsxs("div",{className:"bg-red-500 text-white px-3 py-2 rounded-lg text-center",children:[r.jsxs("div",{className:"text-lg font-bold",children:["-",Z,"%"]}),r.jsx("div",{className:"text-xs",children:ee.percentChung!==null?"Toàn bộ":"Tối đa"})]})]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-blue-50 rounded-lg",children:[r.jsx($r,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Thời gian"}),r.jsxs("p",{className:"font-medium text-gray-900 text-sm",children:[T(ee.ngayBatDau)," - ",T(ee.ngayKetThuc)]})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[r.jsx(ir,{className:"h-5 w-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Sản phẩm và Combo"}),r.jsxs("p",{className:"font-medium text-gray-900",children:["Áp dụng cho: ",re," đối tượng"]})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-purple-50 rounded-lg",children:[r.jsx(Ir,{className:"h-5 w-5 text-purple-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:W.status==="active"?"Còn lại":W.status==="upcoming"?"Bắt đầu sau":W.status==="disabled"?"Trạng thái":"Đã kết thúc"}),r.jsx("p",{className:"font-medium text-gray-900",children:W.status==="disabled"?"Vô hiệu":W.status==="expired"?`${Math.abs(Y)} ngày trước`:`${Math.abs(Y)} ngày`})]})]})]}),re>0&&!ee.percentChung&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Sản phẩm và Combo khuyến mãi:"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[Array.from(new Set(ee.danhSachKhuyenMai.map(ie=>ie.tenSanPhamCombo))).slice(0,3).map((ie,de)=>r.jsx("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm",children:ie},de)),Array.from(new Set(ee.danhSachKhuyenMai.map(ie=>ie.tenSanPhamCombo))).length>3&&r.jsxs("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm",children:["+",Array.from(new Set(ee.danhSachKhuyenMai.map(ie=>ie.tenSanPhamCombo))).length-3," khác"]})]})]}),ee.percentChung&&r.jsxs("div",{className:"mb-6 p-4 bg-purple-50 rounded-lg border border-purple-200",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Ir,{className:"h-5 w-5 text-purple-600"}),r.jsx("h4",{className:"font-medium text-purple-800",children:"Áp dụng cho toàn bộ sản phẩm và combo"})]}),r.jsxs("p",{className:"text-sm text-purple-700",children:["Tất cả sản phẩm và combo trong cửa hàng được giảm giá ",ee.percentChung,"%"]})]}),re!=="Tất cả"&&ee.danhSachKhuyenMai&&ee.danhSachKhuyenMai.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Danh sách sản phẩm và combo:"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:ae.map((ie,de)=>{var me;return r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[(me=ie.hinhAnh)!=null&&me[0]?r.jsx("img",{src:`data:image/jpeg;base64,${ie.hinhAnh[0]}`,alt:ie.tenSanPhamCombo,className:"w-full h-32 object-cover rounded-md mb-3",onError:ve=>{ve.target.style.display="none"}}):r.jsx("div",{className:"w-full h-32 bg-gray-200 rounded-md mb-3 flex items-center justify-center",children:r.jsx("span",{className:"text-gray-500",children:"Không có hình ảnh"})}),r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:ie.tenSanPhamCombo}),r.jsxs("p",{className:"text-xs text-gray-600",children:[ie.idCombo?"Combo":"Sản phẩm"," ",ie.idSanPham||ie.idCombo]})]},de)})}),ee.danhSachKhuyenMai.length>3&&r.jsxs("div",{className:"flex justify-between mt-4",children:[r.jsx("button",{onClick:()=>R(ee.id,-1),disabled:le===0,className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200 disabled:opacity-50",children:r.jsx(zr,{className:"h-5 w-5 text-gray-600"})}),r.jsx("button",{onClick:()=>R(ee.id,1),disabled:le>=Math.ceil(ee.danhSachKhuyenMai.length/3)-1,className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200 disabled:opacity-50",children:r.jsx(xr,{className:"h-5 w-5 text-gray-600"})})]})]})]})]})},ee.id)})}),r.jsx(ne,{currentPage:u,totalPages:$,onPageChange:X})]})]})]})]})]})},hBe=()=>{var v,y,S,M,P,B;const{id:n}=oh(),t=dr(),[e,s]=k.useState(null),[a,i]=k.useState([]),[o,c]=k.useState(!0),[l,d]=k.useState("products");k.useEffect(()=>{n&&u(n)},[n]);const u=async D=>{try{c(!0);const L=await fetch(`https://bicacuatho.azurewebsites.net/api/KhuyenMai/ListKhuyenMaiUser?id=${D}`);if(!L.ok)throw new Error("Failed to fetch promotion data");const O=await L.json();s(O[0]);const F=O[0].danhSachKhuyenMai.map(async E=>{const T={...E};if(E.idSanPham)try{const w=E.idSanPham.split("_")[0],C=await fetch(`https://bicacuatho.azurewebsites.net/api/SanPham/SanPhamByIDSorted?id=${w}`);C.ok&&(T.productDetails=await C.json(),console.log(T.productDetails))}catch(w){console.error(`Error fetching product details for ${E.idSanPham}:`,w)}if(E.idCombo)try{const w=await fetch(`https://bicacuatho.azurewebsites.net/api/Combo/ComboSanPhamView?id=${E.idCombo}`);w.ok&&(T.comboDetails=await w.json())}catch(w){console.error(`Error fetching combo details for ${E.idCombo}:`,w)}return T}),_=await Promise.all(F);i(_)}catch(L){console.error("Error fetching promotion data:",L)}finally{c(!1)}},f=D=>new Date(D).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),h=D=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(D),m=(D,L)=>D*(100-L)/100,A=D=>({ff0000:"Đỏ",ff00ff:"Hồng","000000":"Đen","0C06F5":"Xanh dương",ffffff:"Trắng","00ff00":"Xanh lá",ffff00:"Vàng",ffa500:"Cam"})[D.toLowerCase()]||"Không xác định",g=D=>{const L=[],O=[];return D.forEach(F=>{F.idSanPham?L.push(F):F.idCombo&&O.push(F)}),{products:L,combos:O}};if(o)return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 flex items-center justify-center",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"}),r.jsx("p",{className:"text-gray-600",children:"Đang tải thông tin khuyến mãi..."})]})});if(!e)return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Không tìm thấy thông tin khuyến mãi"}),r.jsx("p",{className:"text-gray-600",children:"Vui lòng thử lại sau"}),r.jsx("button",{onClick:()=>t(-1),className:"mt-4 bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:"Quay lại"})]})});const{products:p,combos:b}=g(a),x=Math.max(...a.map(D=>D.percent));return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50",children:[r.jsx("div",{className:"bg-white shadow-lg sticky top-0 z-50",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:r.jsx(eh,{className:"h-5 w-5 text-gray-600"})}),r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Chi tiết khuyến mãi"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:r.jsx(Ts,{className:"h-5 w-5 text-gray-600"})}),r.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:r.jsx(n$,{className:"h-5 w-5 text-gray-600"})})]})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden mb-8",children:[r.jsxs("div",{className:"relative h-64 bg-gradient-to-r from-purple-600 via-pink-600 to-orange-500",children:[e.hinhAnh&&e.hinhAnh.length>0&&r.jsx("img",{src:e.hinhAnh[0].startsWith("data:")?e.hinhAnh[0]:`data:image/jpeg;base64,${e.hinhAnh[0]}`,alt:e.tenKhuyenMai,className:"absolute inset-0 w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40"}),r.jsx("div",{className:"relative h-full flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-white",children:[r.jsx("h1",{className:"text-4xl font-bold mb-2",children:e.tenKhuyenMai}),((y=(v=e.moTa)==null?void 0:v.header)==null?void 0:y.title)&&r.jsx("p",{className:"text-xl opacity-90",children:e.moTa.header.title})]})})]}),r.jsx("div",{className:"p-8",children:r.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-green-50 rounded-xl",children:[r.jsx($r,{className:"h-8 w-8 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Thời gian"}),r.jsxs("p",{className:"font-semibold text-gray-900",children:[f(e.ngayBatDau)," - ",f(e.ngayKetThuc)]})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-50 rounded-xl",children:[r.jsx(Ir,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Số đối tượng"}),r.jsxs("p",{className:"font-semibold text-gray-900",children:[p.length," sản phẩm, ",b.length," combo"]})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-purple-50 rounded-xl",children:[r.jsx(sx,{className:"h-8 w-8 text-purple-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Giảm giá"}),r.jsx("p",{className:"font-semibold text-gray-900",children:e.percentChung?`${e.percentChung}%`:`Lên đến ${x}%`})]})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg mb-8",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsxs("nav",{className:"flex space-x-8 px-8",children:[r.jsxs("button",{onClick:()=>d("products"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${l==="products"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(ir,{className:"inline h-4 w-4 mr-2"}),"Sản phẩm & Combo khuyến mãi (",p.length+b.length,")"]}),r.jsx("button",{onClick:()=>d("details"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${l==="details"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Mô tả chi tiết"})]})}),r.jsxs("div",{className:"p-8",children:[l==="products"&&r.jsxs("div",{className:"space-y-8",children:[p.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[r.jsx(ir,{className:"h-6 w-6 mr-2 text-blue-600"}),"Sản phẩm khuyến mãi (",p.length,")"]}),r.jsx("div",{className:"space-y-6",children:p.map((D,L)=>r.jsx("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"w-full max-w-md",children:r.jsx("img",{src:D.hinhAnh&&D.hinhAnh.length>0?D.hinhAnh[0].startsWith("data:")?D.hinhAnh[0]:`data:image/jpeg;base64,${D.hinhAnh[0]}`:"/placeholder-image.png",alt:D.tenSanPhamCombo,className:"w-full h-80 object-cover rounded-lg shadow-md",onError:O=>{const F=O.target;F.src="/placeholder-image.png"}})})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:D.tenSanPhamCombo}),r.jsxs("span",{className:"bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm font-medium",children:["-",D.percent,"%"]})]})}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:h(m(D.giaGoc,D.percent))}),r.jsx("p",{className:"text-lg text-gray-500 line-through",children:h(D.giaGoc)}),r.jsxs("p",{className:"text-sm text-green-600 font-medium",children:["Tiết kiệm: ",h(D.giaGoc-m(D.giaGoc,D.percent))]})]}),D.productDetails&&D.productDetails.length>0&&r.jsx("div",{className:"space-y-4",children:D.productDetails.map((O,F)=>r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("div",{className:"grid md:grid-cols-1 gap-4 mb-4",children:r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[r.jsx("span",{className:"font-medium",children:"Thương hiệu:"})," ",O.maThuongHieu]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[r.jsx("span",{className:"font-medium",children:"Chất liệu:"})," ",O.chatLieu]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[r.jsx("span",{className:"font-medium",children:"Màu sắc:"})," ",A(O.mauSac)]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Loại:"})," ",O.loaiSanPham]})]})}),r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Kích thước có sẵn:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:O.details.map((_,E)=>r.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg px-3 py-2",children:[r.jsx("span",{className:"font-medium",children:_.kichThuoc.trim()}),r.jsxs("span",{className:"text-gray-500 text-sm ml-2",children:["(",_.soLuong," còn lại)"]})]},E))})]}),O.listHashTag&&O.listHashTag.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Tags:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:O.listHashTag.map((_,E)=>r.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs",children:["#",_.name]},E))})]}),r.jsx("div",{className:"flex justify-between items-center",children:r.jsxs("span",{className:"text-xs text-gray-500",children:["ID: ",D.idSanPham]})})]},F))}),r.jsx("div",{className:"mt-4",children:r.jsxs(lt,{to:`/products/${D.idSanPham}`,className:"inline-flex items-center justify-center w-full max-w-xs bg-gradient-to-r from-pink-400 via-pink-500 to-purple-500 text-white px-6 py-4 rounded-2xl text-lg font-semibold transition-all duration-300 transform hover:scale-105 hover:shadow-2xl shadow-xl hover:from-transparent hover:via-transparent hover:to-transparent hover:bg-white hover:text-purple-600 border-2 border-transparent hover:border-purple-500",children:[r.jsx(pr,{className:"w-4 h-4 mr-2"}),"Đi đến trang chi tiết"]})})]})]})},L))})]}),b.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[r.jsx(Ir,{className:"h-6 w-6 mr-2 text-green-600"}),"Combo khuyến mãi (",b.length,")"]}),r.jsx("div",{className:"space-y-6",children:b.map((D,L)=>r.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:D.tenSanPhamCombo}),r.jsxs("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:["-",D.percent,"% combo"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-2xl font-bold text-green-600",children:h(m(D.giaGoc,D.percent))}),r.jsx("p",{className:"text-lg text-gray-500 line-through",children:h(D.giaGoc)})]})]}),D.comboDetails&&D.comboDetails.length>0&&r.jsx("div",{className:"space-y-4",children:D.comboDetails.map((O,F)=>r.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h5",{className:"text-lg font-semibold text-gray-800",children:O.name}),O.hinhAnh&&r.jsx("img",{src:O.hinhAnh.startsWith("data:")?O.hinhAnh:`data:image/jpeg;base64,${O.hinhAnh}`,alt:O.name,className:"w-16 h-16 object-cover rounded-lg"})]}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:O.sanPhams.map((_,E)=>r.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("h6",{className:"font-medium text-gray-900",children:_.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:[_.thuongHieu," • ",_.loaiSanPham]})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Chất liệu:"}),r.jsx("span",{className:"font-medium",children:_.chatLieu})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Số lượng:"}),r.jsx("span",{className:"font-medium",children:_.soLuong})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Đơn giá:"}),r.jsx("span",{className:"font-medium text-blue-600",children:h(_.donGia)})]})]}),r.jsxs("div",{className:"mt-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Kích thước:"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:_.kichThuoc.map((T,w)=>r.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs",children:T},w))})]}),r.jsxs("div",{className:"mt-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Màu sắc:"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:_.mauSac.map((T,w)=>r.jsx("div",{className:"flex items-center space-x-1",children:r.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:`#${T}`}})},w))})]})]},E))}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsxs("span",{className:"text-xs text-gray-500",children:["Combo ID: ",D.idCombo]}),r.jsxs(lt,{to:`/combos/${D.idCombo}`,className:"inline-flex items-center justify-center bg-gradient-to-r from-pink-400 via-pink-500 to-purple-500 text-white px-6 py-4 rounded-2xl text-lg font-semibold transition-all duration-300 transform hover:scale-105 hover:shadow-2xl shadow-xl hover:from-transparent hover:via-transparent hover:to-transparent hover:bg-white hover:text-purple-600 border-2 border-transparent hover:border-purple-500 w-full max-w-xs",children:[r.jsx(pr,{className:"w-4 h-4 mr-2"}),"Đi đến trang chi tiết"]})]})]},F))})]},L))})]})]}),l==="details"&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Mô tả chi tiết"}),r.jsxs("div",{className:"prose max-w-none",children:[(M=(S=e.moTa)==null?void 0:S.title)==null?void 0:M.map((D,L)=>{var O,F;return r.jsxs("div",{className:"mb-8",children:[r.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-4",children:D.name}),((O=D.picture)==null?void 0:O.url)&&r.jsx("div",{className:"mb-6",children:r.jsx("img",{src:D.picture.url.startsWith("data:")?D.picture.url:`data:image/jpeg;base64,${D.picture.url}`,alt:D.name,className:"w-full max-w-2xl mx-auto rounded-lg shadow-lg"})}),(F=D.subtitle)==null?void 0:F.map((_,E)=>{var T;return r.jsxs("div",{className:"mb-6",children:[r.jsx("h5",{className:"text-lg font-medium text-gray-800 mb-3",children:_.name}),((T=_.picture)==null?void 0:T.url)&&r.jsx("div",{className:"mb-4",children:r.jsx("img",{src:_.picture.url.startsWith("data:")?_.picture.url:`data:image/jpeg;base64,${_.picture.url}`,alt:_.name,className:"w-full max-w-lg mx-auto rounded-lg shadow-md"})}),r.jsx("div",{className:"prose prose-lg text-gray-700 leading-relaxed",dangerouslySetInnerHTML:{__html:_.description.content}})]},E)})]},L)}),(B=(P=e.moTa)==null?void 0:P.Picture)==null?void 0:B.map((D,L)=>r.jsx("div",{className:"mb-6",children:r.jsx("img",{src:D.url.startsWith("data:")?D.url:`data:image/jpeg;base64,${D.url}`,alt:`Promotion image ${L+1}`,className:"w-full max-w-2xl mx-auto rounded-lg shadow-lg"})},L))]})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl shadow-xl p-8 text-center text-white",children:[r.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Đừng bỏ lỡ cơ hội này!"}),r.jsxs("p",{className:"text-lg mb-6 opacity-90",children:["Chương trình khuyến mãi này sẽ kết thúc vào ngày ",f(e.ngayKetThuc)]}),r.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:r.jsxs("button",{onClick:()=>t("/products"),className:"bg-white text-purple-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors flex items-center justify-center",children:[r.jsx(pr,{className:"w-5 h-5 mr-2"}),"Xem tất cả sản phẩm"]})})]})]})]})},fBe=()=>{const{setAuth:n}=Px(),t=fs(),e=dr(),{toast:s}=ac(),a=k.useRef(!1);return k.useEffect(()=>{const i=new URLSearchParams(t.search),o=i.get("token"),c=i.get("userId");if(!o||!c||a.current)return;a.current=!0;const l=i.get("email")||"",d=i.get("name")||"",u=parseInt(i.get("role")||"0",10),f=u===1?"admin":u===2?"staff":"Người Dùng";(async()=>{try{const m={maNguoiDung:c,email:l,fullName:d,vaiTro:u,role:f};localStorage.setItem("token",o),localStorage.setItem("user",JSON.stringify(m)),n(o,m);const A=u===1?"/admin":u===2?"/staff":"/";window.history.replaceState({},"",A),window.dispatchEvent(new Event("storage")),setTimeout(()=>{s({title:"Đăng nhập Google thành công 🎉",description:"Chào mừng bạn quay trở lại!",duration:3e3,className:"bg-green-500 text-white border border-green-700 shadow-lg"}),e(A)},200)}catch(m){console.error("Lỗi Google callback:",m),s({title:"Đăng nhập Google thất bại!",description:m.message||"Có lỗi xảy ra khi đăng nhập với Google.",variant:"destructive",duration:3e3}),a.current=!1}})()},[t.search,n,e,s]),null},mBe=new mK,pBe=()=>r.jsx(lJ,{children:r.jsx(gG,{children:r.jsx(AK,{client:mBe,children:r.jsx(gB,{children:r.jsxs(eW,{children:[r.jsx(fBe,{}),r.jsxs(cG,{children:[r.jsxs(ht,{path:"/",element:r.jsx(xZ,{}),children:[r.jsx(ht,{index:!0,element:r.jsx(mse,{})}),r.jsx(ht,{path:"products",element:r.jsx(tae,{})}),r.jsx(ht,{path:"products/:id",element:r.jsx(doe,{})}),r.jsx(ht,{path:"combos",element:r.jsx(_oe,{})}),r.jsx(ht,{path:"combos/:id",element:r.jsx(Doe,{})}),r.jsx(ht,{path:"blogs",element:r.jsx(Loe,{})}),r.jsx(ht,{path:"blogs/:slug",element:r.jsx(eBe,{})}),r.jsx(ht,{path:"voucher/*",element:r.jsx(aD,{})}),r.jsx(ht,{path:"gapthu/*",element:r.jsx(sD,{})}),r.jsx(ht,{path:"favorites",element:r.jsx(Foe,{})}),r.jsx(ht,{path:"personalpromotions",element:r.jsx(rD,{})}),r.jsx(ht,{path:"contact",element:r.jsx(Ale,{})}),r.jsx(ht,{path:"about",element:r.jsx(gle,{})}),r.jsx(ht,{path:"auth/login",element:r.jsx(ble,{})}),r.jsx(ht,{path:"auth/register",element:r.jsx(yle,{})}),r.jsx(ht,{path:"auth/forgot-password",element:r.jsx(rde,{})}),r.jsx(ht,{path:"user/profile",element:r.jsx(HAe,{})}),r.jsx(ht,{path:"user/cart",element:r.jsx(qAe,{})}),r.jsx(ht,{path:"user/checkout",element:r.jsx(ige,{})}),r.jsx(ht,{path:"user/orders",element:r.jsx(Wwe,{})}),r.jsx(ht,{path:"user/messages",element:r.jsx(_1e,{})}),r.jsx(ht,{path:"user/profile/:userId",element:r.jsx(w1e,{})}),r.jsx(ht,{path:"/PaymentSuccess",element:r.jsx(a6e,{})}),r.jsx(ht,{path:"/PaymentFail",element:r.jsx(i6e,{})}),r.jsx(ht,{path:"user/diachi",element:r.jsx(P7,{})}),r.jsx(ht,{path:"user/diachicart",element:r.jsx(QC,{})}),r.jsx(ht,{path:"hero",element:r.jsx(DM,{})}),r.jsx(ht,{path:"newsletter",element:r.jsx(_P,{})}),r.jsx(ht,{path:"features",element:r.jsx(BP,{})}),r.jsx(ht,{path:"testing",element:r.jsx(o6e,{})}),r.jsx(ht,{path:"/user/hoadon/:orderId",element:r.jsx(a1e,{})}),r.jsx(ht,{path:"/user/hoadon",element:r.jsx(M1e,{})}),r.jsx(ht,{path:"/user/CheckOutInstant",element:r.jsx(nBe,{})}),r.jsx(ht,{path:"security",element:r.jsx(rBe,{})}),r.jsx(ht,{path:"guarantee",element:r.jsx(sBe,{})}),r.jsx(ht,{path:"search",element:r.jsx(H8,{})}),r.jsx(ht,{path:"diachitime",element:r.jsx(I7,{})}),r.jsx(ht,{path:"KhuyenMais",element:r.jsx(iBe,{})}),r.jsx(ht,{path:"KhuyenMais/:id",element:r.jsx(hBe,{})})]}),r.jsxs(ht,{path:"/staff",element:r.jsx(F4,{role:"staff"}),children:[r.jsx(ht,{index:!0,element:r.jsx(aA,{})}),r.jsx(ht,{path:"events",element:r.jsx(j_,{})}),r.jsx(ht,{path:"orders",element:r.jsx(aA,{})}),r.jsx(ht,{path:"inventory",element:r.jsx(E3,{})}),r.jsx(ht,{path:"hashtag",element:r.jsx(p_,{})}),r.jsx(ht,{path:"inventory/form",element:r.jsx(F1e,{})}),r.jsx(ht,{path:"purchase-orders/form",element:r.jsx(M3,{})}),r.jsx(ht,{path:"products/form",element:r.jsx(P3,{})}),r.jsx(ht,{path:"shipping/form",element:r.jsx(D3,{})}),r.jsx(ht,{path:"orders/form",element:r.jsx(I3,{})}),r.jsx(ht,{path:"invoices",element:r.jsx(ik,{})}),r.jsx(ht,{path:"blog",element:r.jsx(uk,{})}),r.jsx(ht,{path:"contact",element:r.jsx(ok,{})}),r.jsx(ht,{path:"messages",element:r.jsx(w_,{})}),r.jsx(ht,{path:"loaisanpham",element:r.jsx(m_,{})}),r.jsx(ht,{path:"products",element:r.jsx(u_,{})}),r.jsx(ht,{path:"profile",element:r.jsx(y_,{})}),r.jsx(ht,{path:"buy",element:r.jsx(_3,{})}),r.jsx(ht,{path:"combos",element:r.jsx(h_,{})}),r.jsx(ht,{path:"thuonghieu",element:r.jsx(f_,{})})]}),r.jsxs(ht,{path:"/admin",element:r.jsx(F4,{role:"admin"}),children:[r.jsx(ht,{index:!0,element:r.jsx(Z4e,{})}),r.jsx(ht,{path:"buy",element:r.jsx(_3,{})}),r.jsx(ht,{path:"users",element:r.jsx(aSe,{})}),r.jsx(ht,{path:"staff",element:r.jsx(iSe,{})}),r.jsx(ht,{path:"settings",element:r.jsx(gSe,{})}),r.jsx(ht,{path:"orders",element:r.jsx(aA,{})}),r.jsx(ht,{path:"events",element:r.jsx(j_,{})}),r.jsx(ht,{path:"orders",element:r.jsx(aA,{})}),r.jsx(ht,{path:"invoices",element:r.jsx(ik,{})}),r.jsx(ht,{path:"statistics",element:r.jsx(xSe,{})}),r.jsx(ht,{path:"products",element:r.jsx(u_,{})}),r.jsx(ht,{path:"blog",element:r.jsx(uk,{})}),r.jsx(ht,{path:"inventory",element:r.jsx(E3,{})}),r.jsx(ht,{path:"combos",element:r.jsx(h_,{})}),r.jsx(ht,{path:"thuonghieu",element:r.jsx(f_,{})}),r.jsx(ht,{path:"loaisanpham",element:r.jsx(m_,{})}),r.jsx(ht,{path:"hashtag",element:r.jsx(p_,{})}),r.jsx(ht,{path:"profile",element:r.jsx(y_,{})}),r.jsx(ht,{path:"purchase-orders/form",element:r.jsx(M3,{})}),r.jsx(ht,{path:"products/form",element:r.jsx(P3,{})}),r.jsx(ht,{path:"shipping/form",element:r.jsx(D3,{})}),r.jsx(ht,{path:"orders/form",element:r.jsx(I3,{})}),r.jsx(ht,{path:"invoice/form",element:r.jsx(G1e,{})}),r.jsx(ht,{path:"contact",element:r.jsx(ok,{})}),r.jsx(ht,{path:"messages",element:r.jsx(w_,{})})]}),r.jsx(ht,{path:"*",element:r.jsx(pse,{})})]}),r.jsx(R6,{}),r.jsx(oV,{})]})})})})});St.create({baseURL:"http://localhost:8080"});St.interceptors.request.use(n=>{const t=localStorage.getItem("token");return console.log("Token in interceptor:",t),t?(n.headers.Authorization=`Bearer ${t}`,console.log("Authorization header set:",n.headers.Authorization)):console.warn("No token found in localStorage"),n},n=>(console.error("Interceptor request error:",n),Promise.reject(n)));St.interceptors.response.use(n=>n,n=>{var t,e,s;return console.error("API error:",(t=n.response)==null?void 0:t.config.url,(e=n.response)==null?void 0:e.status),((s=n.response)==null?void 0:s.status)===401&&window.location.pathname!=="/auth/login"&&(Tn({title:"Phiên đăng nhập hết hạn!",description:"Vui lòng đăng nhập lại.",variant:"destructive",duration:3e3}),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/auth/login"),Promise.reject(n)});qy.createRoot(document.getElementById("root")).render(r.jsx(Ne.StrictMode,{children:r.jsxs(_Q,{defaultTheme:"light",attribute:"class",children:[r.jsx(pBe,{}),r.jsx(R6,{})]})}));
